define(["./shared"],(function(e){"use strict";function t(e,i){if(Array.isArray(e)){if(!Array.isArray(i)||e.length!==i.length)return!1;for(let o=0;o<e.length;o++)if(!t(e[o],i[o]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==i){if("object"!=typeof i)return!1;if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const o in e)if(!t(e[o],i[o]))return!1;return!0}return e===i}var i=o;function o(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,i=new Blob([""],{type:"text/javascript"}),o=URL.createObjectURL(i);try{t=new Worker(o),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(o),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var i=t.getImageData(0,0,1,1);return i&&i.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,i=function(e){var t=document.createElement("canvas"),i=Object.create(o.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=e,t.getContext("webgl",i)||t.getContext("experimental-webgl",i)}(e);if(!i)return!1;try{t=i.createShader(i.VERTEX_SHADER)}catch(e){return!1}return!(!t||i.isContextLost())&&(i.shaderSource(t,"void main() {}"),i.compileShader(t),!0===i.getShaderParameter(t,i.COMPILE_STATUS))}(t)),r[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var r={};function n(t,i,o){const r=e.window.document.createElement(t);return void 0!==i&&(r.className=i),o&&o.appendChild(r),r}function s(t,i,o){const r=e.window.document.createElementNS("http://www.w3.org/2000/svg",t);for(const e of Object.keys(i))r.setAttributeNS(null,e,i[e]);return o&&o.appendChild(r),r}o.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const a=e.window.document&&e.window.document.documentElement.style,l=a&&void 0!==a.userSelect?"userSelect":"WebkitUserSelect";let c;function h(){a&&l&&(c=a[l],a[l]="none")}function u(){a&&l&&(a[l]=c)}function d(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",d,!0)}function _(){e.window.addEventListener("click",d,!0),e.window.setTimeout((()=>{e.window.removeEventListener("click",d,!0)}),0)}function p(e,t){const i=e.getBoundingClientRect();return g(e,i,t)}function m(e,t){const i=e.getBoundingClientRect(),o=[];for(let r=0;r<t.length;r++)o.push(g(e,i,t[r]));return o}function f(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button}function g(t,i,o){const r=t.offsetWidth===i.width?1:t.offsetWidth/i.width;return new e.pointGeometry((o.clientX-i.left)*r,(o.clientY-i.top)*r)}function v(e,t){var i=t[0],o=t[1],r=t[2],n=t[3],s=i*n-r*o;return s?(e[0]=n*(s=1/s),e[1]=-o*s,e[2]=-r*s,e[3]=i*s,e):null}function x(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class y extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}hasImage(e){return!!this.getImage(e)}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(t,i){let o=!0;return this._validateStretch(i.stretchX,i.data&&i.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),o=!1),this._validateStretch(i.stretchY,i.data&&i.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),o=!1),this._validateContent(i.content,i)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),o=!1),o}_validateStretch(e,t){if(!e)return!0;let i=0;for(const o of e){if(o[0]<i||o[1]<o[0]||t<o[1])return!1;i=o[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let i=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(i=!1);this.isLoaded()||i?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,i){const o={};for(const i of t){this.images[i]||this.fire(new e.Event("styleimagemissing",{id:i}));const t=this.images[i];t?o[i]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${i}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}i(null,o)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const i=this.patterns[t],o=this.getImage(t);if(!o)return null;if(i&&i.position.version===o.version)return i.position;if(i)i.position.version=o.version;else{const i={w:o.data.width+2,h:o.data.height+2,x:0,y:0},r=new e.ImagePosition(i,o);this.patterns[t]={bin:i,position:r}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const i=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,i.RGBA),this.atlasTexture&&this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:i,h:o}=e.potpack(t),r=this.atlasImage;r.resize({width:i||1,height:o||1});for(const t in this.patterns){const{bin:i}=this.patterns[t],o=i.x+1,n=i.y+1,s=this.images[t].data,a=s.width,l=s.height;e.RGBAImage.copy(s,r,{x:0,y:0},{x:o,y:n},{width:a,height:l}),e.RGBAImage.copy(s,r,{x:0,y:l-1},{x:o,y:n-1},{width:a,height:1}),e.RGBAImage.copy(s,r,{x:0,y:0},{x:o,y:n+l},{width:a,height:1}),e.RGBAImage.copy(s,r,{x:a-1,y:0},{x:o-1,y:n},{width:1,height:l}),e.RGBAImage.copy(s,r,{x:0,y:0},{x:o+a,y:n},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];x(e)&&this.updateImage(t,e)}}}const b=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,i){return function([t,i,o]){const r=e.degToRad(i+90),n=e.degToRad(o);return{x:t*Math.cos(r)*Math.sin(n),y:t*Math.sin(r)*Math.sin(n),z:t*Math.cos(n),azimuthal:i,polar:o}}(t.expression.evaluate(i))}interpolate(t,i,o){return{x:e.number(t.x,i.x,o),y:e.number(t.y,i.y,o),z:e.number(t.z,i.z,o),azimuthal:e.number(t.azimuthal,i.azimuthal,o),polar:e.number(t.polar,i.polar,o)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),w="-transition";class T extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(b),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,i={}){if(!this._validate(e.validateLight,t,i))for(const i in t){const o=t[i];e.endsWith(i,w)?this._transitionable.setTransition(i.slice(0,-w.length),o):this._transitionable.setValue(i,o)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,i,o){return(!o||!1!==o.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}const E=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),C="-transition";class M extends e.Evented{constructor(t,i){super(),this._transitionable=new e.Transitionable(E),this.set(t),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=i}get(){return this._transitionable.serialize()}set(t){for(const i in t){const o=t[i];e.endsWith(i,C)?this._transitionable.setTransition(i.slice(0,-C.length),o):this._transitionable.setValue(i,o)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}}function I(t,i,o,r){const n=e.smoothstep(45,65,o),[s,a]=S(t,r),l=e.length(i);let c=1-Math.min(1,Math.exp((l-s)/(a-s)*-6));return c*=c*c,c=Math.min(1,1.00747*c),c*n*t.alpha}function S(e,t){const i=.5/Math.tan(.5*t);return[e.range[0]+i,e.range[1]+i]}const D=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"high-color":new e.DataConstantProperty(e.spec.fog["high-color"]),"space-color":new e.DataConstantProperty(e.spec.fog["space-color"]),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"]),"star-intensity":new e.DataConstantProperty(e.spec.fog["star-intensity"])}),L="-transition";class z extends e.Evented{constructor(t,i){super(),this._transitionable=new e.Transitionable(D),this.set(t),this._transitioning=this._transitionable.untransitioned(),this._transform=i}get state(){const t=this._transform,i="globe"===t.projection.name,o=e.globeToMercatorTransition(t.zoom),r=this.properties.get("range"),n=[.5,3];return{range:i?[e.number(n[0],r[0],o),e.number(n[1],r[1],o)]:r,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(t,i={}){if(!this._validate(e.validateFog,t,i)){for(const i of Object.keys(e.spec.fog))t&&void 0===t[i]&&(t[i]=e.spec.fog[i].default);for(const i in t){const o=t[i];e.endsWith(i,L)?this._transitionable.setTransition(i.slice(0,-L.length),o):this._transitionable.setValue(i,o)}}}getOpacity(t){if(!this._transform.projection.supportsFog)return 0;const i=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:e.smoothstep(45,65,t))*i.a}getOpacityAtLatLng(t,i){return this._transform.projection.supportsFog?function(t,i,o){const r=e.MercatorCoordinate.fromLngLat(i),n=o.elevation?o.elevation.getAtPointOrZero(r):0,s=[r.x,r.y,n];return e.transformMat4(s,s,o.mercatorFogMatrix),I(t,s,o.pitch,o._fov)}(this.state,t,i):0}getFovAdjustedRange(e){return this._transform.projection.supportsFog?S(this.state,e):[0,1]}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,i,o){return(!o||!1!==o.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class A{constructor(t,i){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const o=this.workerPool.acquire(this.id);for(let e=0;e<o.length;e++){const t=new A.Actor(o[e],i,this.id);t.name=`Worker ${e}`,this.actors.push(t)}this.ready=!1,this.broadcast("checkIfReady",null,(()=>{this.ready=!0}))}broadcast(t,i,o){e.asyncAll(this.actors,((e,o)=>{e.send(t,i,o)}),o=o||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((e=>{e.remove()})),this.actors=[],this.workerPool.release(this.id)}}function P(t,i,o){return i*(e.EXTENT/(t.tileSize*Math.pow(2,o-t.tileID.overscaledZ)))}A.Actor=e.Actor;class R{constructor(e,t,i,o){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=i,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,o)}static createFromScreenPoints(t,i){let o,r;if(t instanceof e.pointGeometry||"number"==typeof t[0]){const n=e.pointGeometry.convert(t);o=[n],r=i.isPointAboveHorizon(n)}else{const n=e.pointGeometry.convert(t[0]),s=e.pointGeometry.convert(t[1]);o=[n,s],r=e.polygonizeBounds(n,s).every((e=>i.isPointAboveHorizon(e)))}return new R(o,i.getCameraPoint(),r,i)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const i=this.screenBounds[0],o=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(i,o,0,!1);return this.cameraPoint.y>o.y&&(this.cameraPoint.x>i.x&&this.cameraPoint.x<o.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=o.x?r[2]=this.cameraPoint:this.cameraPoint.x<=i.x&&(r[3]=this.cameraPoint)),e.bufferConvexPolygon(r,t)}bufferedCameraGeometryGlobe(t){const i=this.screenBounds[0],o=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(i,o,t),n=this.cameraPoint.clone();switch(3*((n.y>i.y)+(n.y>o.y))+((n.x>i.x)+(n.x>o.x))){case 0:r[0]=n,r[4]=n.clone();break;case 1:r.splice(1,0,n);break;case 2:r[1]=n;break;case 3:r.splice(4,0,n);break;case 5:r.splice(2,0,n);break;case 6:r[3]=n;break;case 7:r.splice(3,0,n);break;case 8:r[2]=n}return r}containsTile(t,i,o,r=0){const n=t.queryPadding/i._pixelsPerMercatorPixel+1,s=o?this._bufferedCameraMercator(n,i):this._bufferedScreenMercator(n,i);let a=t.tileID.wrap+(s.unwrapped?r:0);const l=s.polygon.map((i=>e.getTilePoint(t.tileTransform,i,a)));if(!e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT))return;a=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?r:0);const c=this.screenGeometryMercator.polygon.map((i=>e.getTileVec3(t.tileTransform,i,a))),h=c.map((t=>new e.pointGeometry(t[0],t[1]))),u=i.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),d=e.getTileVec3(t.tileTransform,u,a),_=c.map((t=>{const i=e.sub(t,t,d);return e.normalize(i,i),new e.Ray(d,i)})),p=P(t,1,i.zoom)*i._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:h,tilespaceRays:_,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(m=e.getBounds(l),m.min.x=e.clamp(m.min.x,0,e.EXTENT),m.min.y=e.clamp(m.min.y,0,e.EXTENT),m.max.x=e.clamp(m.max.x,0,e.EXTENT),m.max.y=e.clamp(m.max.y,0,e.EXTENT),m),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:p};var m}_bufferedScreenMercator(e,t){const i=B(e);if(this._screenRaycastCache[i])return this._screenRaycastCache[i];{let o;return o="globe"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._screenRaycastCache[i]=o,o}}_bufferedCameraMercator(e,t){const i=B(e);if(this._cameraRaycastCache[i])return this._cameraRaycastCache[i];{let o;return o="globe"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._cameraRaycastCache[i]=o,o}}_projectAndResample(t,i){const o=function(t,i){const o=e.multiply([],i.pixelMatrix,i.globeMatrix),r=[0,-e.GLOBE_RADIUS,0,1],n=[0,e.GLOBE_RADIUS,0,1],s=[0,0,0,1];e.transformMat4$1(r,r,o),e.transformMat4$1(n,n,o),e.transformMat4$1(s,s,o);const a=new e.pointGeometry(r[0]/r[3],r[1]/r[3]),l=new e.pointGeometry(n[0]/n[3],n[1]/n[3]),c=e.polygonContainsPoint(t,a)&&r[3]<s[3],h=e.polygonContainsPoint(t,l)&&n[3]<s[3];if(!c&&!h)return null;const u=function(e,t,i){for(let o=1;o<e.length;o++){const r=k(t.pointCoordinate3D(e[o-1]).x),n=k(t.pointCoordinate3D(e[o]).x);if(i<0){if(r<n)return{idx:o,t:-r/(n-1-r)}}else if(n<r)return{idx:o,t:(1-r)/(n+1-r)}}return null}(t,i,c?-1:1);if(!u)return null;const{idx:d,t:_}=u;let p=d>1?O(t.slice(0,d),i):[],m=d<t.length?O(t.slice(d),i):[];p=p.map((t=>new e.pointGeometry(k(t.x),t.y))),m=m.map((t=>new e.pointGeometry(k(t.x),t.y)));const f=[...p];0===f.length&&f.push(m[m.length-1]);const g=e.number(f[f.length-1].y,(0===m.length?p[0]:m[0]).y,_);let v;return v=c?[new e.pointGeometry(0,g),new e.pointGeometry(0,0),new e.pointGeometry(1,0),new e.pointGeometry(1,g)]:[new e.pointGeometry(1,g),new e.pointGeometry(1,1),new e.pointGeometry(0,1),new e.pointGeometry(0,g)],f.push(...v),0===m.length?f.push(p[0]):f.push(...m),{polygon:f.map((t=>new e.MercatorCoordinate(t.x,t.y))),unwrapped:!1}}(t,i);if(o)return o;const r=function(t,i){let o=!1,r=-1/0,n=0;for(let e=0;e<t.length-1;e++)t[e].x>r&&(r=t[e].x,n=e);for(let e=0;e<t.length-1;e++){const i=(n+e)%(t.length-1),r=t[i],s=t[i+1];Math.abs(r.x-s.x)>.5&&(r.x<s.x?(r.x+=1,0===i&&(t[t.length-1].x+=1)):(s.x+=1,i+1===t.length-1&&(t[0].x+=1)),o=!0)}const s=e.mercatorXfromLng(i.center.lng);return o&&s<Math.abs(s-1)&&t.forEach((e=>{e.x-=1})),{polygon:t,unwrapped:o}}(O(t,i).map((t=>new e.pointGeometry(k(t.x),t.y))),i);return{polygon:r.polygon.map((t=>new e.MercatorCoordinate(t.x,t.y))),unwrapped:r.unwrapped}}}function O(t,i){return e.resample(t,(e=>{const t=i.pointCoordinate3D(e);e.x=t.x,e.y=t.y}),1/256)}function k(e){return e<0?1+e%1:e%1}function B(e){return 100*e|0}function F(t,i,o,r,n){const s=function(o,r){if(o)return n(o);if(r){t.url&&r.tiles&&t.tiles&&delete t.tiles;const o=e.pick(e.extend(r,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);r.vector_layers&&(o.vectorLayers=r.vector_layers,o.vectorLayerIds=o.vectorLayers.map((e=>e.id))),o.tiles=i.canonicalizeTileset(o,t.url),n(null,o)}};return t.url?e.getJSON(i.transformRequest(i.normalizeSourceURL(t.url,null,o,r),e.ResourceType.Source),s):e.exported.frame((()=>s(null,t)))}class U{constructor(t,i,o){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=i||0,this.maxzoom=o||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const i=Math.pow(2,t.z),o=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*i),r=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*i),n=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*i),s=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*i);return t.x>=o&&t.x<n&&t.y>=r&&t.y<s}}class N{constructor(e,t,i){this.context=e;const o=e.gl;this.buffer=o.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),o.bufferData(o.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const G={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class j{constructor(e,t,i,o){this.length=t.length,this.attributes=i,this.itemSize=t.bytesPerElement,this.dynamicDraw=o,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let i=0;i<this.attributes.length;i++){const o=t.attributes[this.attributes[i].name];void 0!==o&&e.enableVertexAttribArray(o)}}setVertexAttribPointers(e,t,i){for(let o=0;o<this.attributes.length;o++){const r=this.attributes[o],n=t.attributes[r.name];void 0!==n&&e.vertexAttribPointer(n,r.components,e[G[r.type]],!1,this.itemSize,r.offset+this.itemSize*(i||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Z{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class V extends Z{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class W extends Z{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class X extends Z{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class q extends Z{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class $ extends Z{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class H extends Z{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Y extends Z{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class J extends Z{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class K extends Z{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class Q extends Z{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class ee extends Z{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class te extends Z{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class ie extends Z{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class oe extends Z{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class re extends Z{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class ne extends Z{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class se extends Z{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class ae extends Z{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class le extends Z{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class ce extends Z{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class he extends Z{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class ue extends Z{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class de extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class _e extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class pe extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class me extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class fe extends Z{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ge extends Z{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class ve extends Z{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class xe extends Z{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class ye extends Z{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class be extends Z{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class we extends be{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class Te extends be{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Ee extends Te{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Ce{constructor(e,t,i,o){this.context=e,this.width=t,this.height=i;const r=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,r),o&&(this.depthAttachment=new Te(e,r))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class Me{constructor(e,t=!1){if(this.gl=e,this.isWebGL2=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),t){const t=e;this.extVertexArrayObject={createVertexArrayOES:t.createVertexArray.bind(e),deleteVertexArrayOES:t.deleteVertexArray.bind(e),bindVertexArrayOES:t.bindVertexArray.bind(e)}}this.clearColor=new V(this),this.clearDepth=new W(this),this.clearStencil=new X(this),this.colorMask=new q(this),this.depthMask=new $(this),this.stencilMask=new H(this),this.stencilFunc=new Y(this),this.stencilOp=new J(this),this.stencilTest=new K(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ie(this),this.blendFunc=new oe(this),this.blendColor=new re(this),this.blendEquation=new ne(this),this.cullFace=new se(this),this.cullFaceSide=new ae(this),this.frontFace=new le(this),this.program=new ce(this),this.activeTexture=new he(this),this.viewport=new ue(this),this.bindFramebuffer=new de(this),this.bindRenderbuffer=new _e(this),this.bindTexture=new pe(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new fe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ge(this),this.pixelStoreUnpack=new ve(this),this.pixelStoreUnpackPremultiplyAlpha=new xe(this),this.pixelStoreUnpackFlipY=new ye(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=e.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),t||(this.extTextureHalfFloat=e.getExtension("OES_texture_half_float")),(t||this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=t||e.getExtension("OES_standard_derivatives"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new N(this,e,t)}createVertexBuffer(e,t,i){return new j(this,e,t,i)}createRenderbuffer(e,t,i){const o=this.gl,r=o.createRenderbuffer();return this.bindRenderbuffer.set(r),o.renderbufferStorage(o.RENDERBUFFER,e,t,i),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,i){return new Ce(this,e,t,i)}clear({color:e,depth:t,stencil:i}){const o=this.gl;let r=0;e&&(r|=o.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(r|=o.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==i&&(r|=o.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),o.clear(r)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(i){t(i.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Ie extends e.Evented{constructor(t,i,o,r){if(super(),this.id=t,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(i,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r),this._tileWorkers={},this._deduped=new e.DedupedRequest}load(t){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"}));const i=Array.isArray(this.map._language)?this.map._language.join():this.map._language,o=this.map._worldview;this._tileJSONRequest=F(this._options,this.map._requestManager,i,o,((r,n)=>{this._tileJSONRequest=null,this._loaded=!0,r?(i&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${i}`),o&&2!==o.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${o}`),this.fire(new e.ErrorEvent(r))):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new U(n.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(n.tiles,this.map._requestManager._customAccessToken),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(r)}))}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}reload(){this.cancelTileJSONRequest(),this.load((()=>this.map.style._clearSource(this.id)))}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return e.extend({},this._options)}loadTile(t,i){const o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(o,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=i:t.request=t.actor.send("reloadTile",r,n.bind(this));else if(t.actor=this._tileWorkers[o]=this._tileWorkers[o]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",r,n.bind(this),void 0,!0);else{const i=e.loadVectorTile.call({deduped:this._deduped},r,((e,i)=>{e||!i?n.call(this,e):(r.data={cacheControl:i.cacheControl,expires:i.expires,rawData:i.rawData.slice(0)},t.actor&&t.actor.send("loadTile",r,n.bind(this),void 0,!0))}),!0);t.request={cancel:i}}function n(o,r){return delete t.request,t.aborted?i(null):o&&404!==o.status?i(o):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),i(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Se extends e.Evented{constructor(t,i,o,r){super(),this.id=t,this.dispatcher=o,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},i),e.extend(this,e.pick(i,["url","scheme","tileSize"]))}load(t){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=F(this._options,this.map._requestManager,null,null,((i,o)=>{this._tileJSONRequest=null,this._loaded=!0,i?this.fire(new e.ErrorEvent(i)):o&&(e.extend(this,o),o.bounds&&(this.tileBounds=new U(o.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(o.tiles),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(i)}))}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}reload(){this.cancelTileJSONRequest(),this.load((()=>this.map.style._clearSource(this.id)))}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,i){const o=e.exported.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),o,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),((o,r,n,s)=>(delete t.request,t.aborted?(t.state="unloaded",i(null)):o?(t.state="errored",i(o)):r?(this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:n,expires:s}),t.setTexture(r,this.map.painter),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),void i(null)):i(null))))}static loadTileData(e,t,i){e.setTexture(t,i)}static unloadTileData(e,t){e.texture&&t.saveTileTexture(e.texture)}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}let De;function Le(t,i,o,r,n,s,a,l){const c=[t,o,n,i,r,s,1,1,1],h=[a,l,1],u=e.adjoint([],c),[d,_,p]=e.transformMat3(h,h,e.transpose(u,u));return e.multiply$1(c,[d,0,0,0,_,0,0,0,p],c)}class ze extends e.Evented{constructor(e,t,i,o){super(),this.id=e,this.dispatcher=i,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(o),this.options=t,this._dirty=!1}load(t,i){this._loaded=i||!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),((i,o)=>{if(this._imageRequest=null,this._loaded=!0,i)this.fire(new e.ErrorEvent(i));else if(o){const{HTMLImageElement:i}=e.window;this.image=o instanceof i?e.exported.getImageData(o):o,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,t&&(this.coordinates=t),this._finishLoading()}}))}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(t){this.coordinates=t,this._boundsArray=void 0;const i=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){let i=1/0,o=1/0,r=-1/0,n=-1/0;for(const e of t)i=Math.min(i,e.x),o=Math.min(o,e.y),r=Math.max(r,e.x),n=Math.max(n,e.y);const s=Math.max(r-i,n-o),a=Math.max(0,Math.floor(-Math.log(s)/Math.LN2)),l=Math.pow(2,a);return new e.CanonicalTileID(a,Math.floor((i+r)/2*l),Math.floor((o+n)/2*l))}(i),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(t){for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}if(this._boundsArray)return;const i=e.tileTransform(this.tileID,this.map.transform.projection),[o,r,n,s]=this.coordinates.map((t=>{const o=i.projection.project(t[0],t[1]);return e.getTilePoint(i,o)._round()}));this.perspectiveTransform=function(t,i,o,r,n,s,a,l,c,h){const u=Le(0,0,t,0,0,i,t,i),d=Le(o,r,n,s,a,l,c,h);return e.multiply$1(d,e.adjoint(u,u),d),[d[6]/d[8]*t/e.EXTENT,d[7]/d[8]*i/e.EXTENT]}(this.width,this.height,o.x,o.y,r.x,r.y,s.x,s.y,n.x,n.y);const a=this._boundsArray=new e.StructArrayLayout4i8;a.emplaceBack(o.x,o.y,0,0),a.emplaceBack(r.x,r.y,e.EXTENT,0),a.emplaceBack(s.x,s.y,0,e.EXTENT),a.emplaceBack(n.x,n.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(a,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,i=t.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(t)}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ae={vector:Ie,raster:Se,"raster-dem":class extends Se{constructor(t,i,o,r){super(t,i,o,r),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox"}loadTile(t,i){const o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(e,o){e&&(t.state="errored",i(e)),o&&(t.dem=o,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",i(null))}t.request=e.getImage(this.map._requestManager.transformRequest(o,e.ResourceType.Tile),function(o,n,s,a){if(delete t.request,t.aborted)t.state="unloaded",i(null);else if(o)t.state="errored",i(o);else if(n){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:s,expires:a});const i=e.window.ImageBitmap&&n instanceof e.window.ImageBitmap&&(null==De&&(De=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),De),o=1-(n.width-e.prevPowerOfTwo(n.width))/2;o<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const l=i?n:e.exported.getImageData(n,o),c={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:l,encoding:this.encoding,padding:o};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",c,r.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(t){const i=t.canonical,o=Math.pow(2,i.z),r=(i.x-1+o)%o,n=0===i.x?t.wrap-1:t.wrap,s=(i.x+1+o)%o,a=i.x+1===o?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,n,i.z,r,i.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,a,i.z,s,i.y).key]={backfilled:!1},i.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,n,i.z,r,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,a,i.z,s,i.y-1).key]={backfilled:!1}),i.y+1<o&&(l[new e.OverscaledTileID(t.overscaledZ,n,i.z,r,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,a,i.z,s,i.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}},geojson:class extends e.Evented{constructor(t,i,o,r){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=o.getActor(),this.setEventedParent(r),this._data=i.data,this._options=e.extend({},i),this._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;const n=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*n,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*n,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?i.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==i.clusterRadius?i.clusterRadius:50)*n,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions)}onAdd(e){this.map=e,this.setData(this._data)}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,i,o){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:i},o),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;const t=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(t.request=this.map._requestManager.transformRequest(e.exported.resolveURL(i),e.ResourceType.Source),t.request.collectResourceTiming=this._collectResourceTiming):t.data=JSON.stringify(i),this._pendingLoad=this.actor.send(`${this.type}.loadData`,t,((t,i)=>{if(this._loaded=!0,this._pendingLoad=null,t)this.fire(new e.ErrorEvent(t));else{const t={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&i&&i.resourceTiming&&i.resourceTiming[this.id]&&(t.resourceTiming=i.resourceTiming[this.id]),this.fire(new e.Event("data",t)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)}))}loaded(){return this._loaded}loadTile(t,i){const o=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(o,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},((e,r)=>(delete t.request,t.unloadVectorData(),t.aborted?i(null):e?i(e):(t.loadVectorData(r,this.map.painter,"reloadTile"===o),i(null)))),void 0,"loadTile"===o)}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends ze{constructor(e,t,i,o){super(e,t,i,o),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const i of t.urls)this.urls.push(this.map._requestManager.transformRequest(i,e.ResourceType.Source).url);e.getVideo(this.urls,((t,i)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):i&&(this.video=i,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const i=this.video.seekable;t<i.start(0)||t>i.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,i=t.gl;this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:ze,canvas:class extends ze{constructor(t,i,o,r){super(t,i,o,r),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>"number"!=typeof e))))||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "canvas"'))),this.options=i,this.animate=void 0===i.animate||i.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const i=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(i,this.canvas,i.gl.RGBA,{premultiply:!0}),this._prepareData(i)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}},custom:class extends e.Evented{constructor(t,i,o,r){super(),this.id=t,this.type="custom",this._dataType="raster",this._dispatcher=o,this._implementation=i,this.setEventedParent(r),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new e.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new e.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new U(this._implementation.bounds,this.minzoom,this.maxzoom)),i.update=this._update.bind(this),i.clearTiles=this._clearTiles.bind(this),i.coveringTiles=this._coveringTiles.bind(this),e.extend(this,e.pick(i,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(t){this._map=t,this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load()}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e)}hasTile(e){if(this._implementation.hasTile){const{x:t,y:i,z:o}=e.canonical;return this._implementation.hasTile({x:t,y:i,z:o})}return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,i){const{x:o,y:r,z:n}=t.tileID.canonical,s=new e.window.AbortController;t.request=Promise.resolve(this._implementation.loadTile({x:o,y:r,z:n},{signal:s.signal})).then(function(o){return delete t.request,t.aborted?(t.state="unloaded",i(null)):void 0===o?(t.state="errored",i(null)):null===o?(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",i(null)):function(t){return t instanceof e.window.ImageData||t instanceof e.window.HTMLCanvasElement||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLImageElement}(o)?(this.loadTileData(t,o),t.state="loaded",void i(null)):(t.state="errored",i(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch((e=>{20!==e.code&&(t.state="errored",i(e))})),t.request.cancel=()=>s.abort()}loadTileData(e,t){Se.loadTileData(e,t,this._map.painter)}unloadTileData(e){Se.unloadTileData(e,this._map.painter)}unloadTile(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){const{x:t,y:i,z:o}=e.tileID.canonical;this._implementation.unloadTile({x:t,y:i,z:o})}t()}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z})))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Pe=function(t,i,o,r){const n=new Ae[i.type](t,i,o,r);if(n.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${n.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],n),n};function Re(t,i){const o=e.identity([]);return e.scale(o,o,[.5*t.width,.5*-t.height,1]),e.translate(o,o,[1,-1,0]),e.multiply(o,o,t.calculateProjMatrix(i.toUnwrapped())),Float32Array.from(o)}function Oe(e,t,i,o,r,n,s,a=!1){const l=e.tilesIn(o,s,a);l.sort(Be);const c=[];for(const o of l)c.push({wrappedTileID:o.tile.tileID.wrapped().key,queryResults:o.tile.queryRenderedFeatures(t,i,e._state,o,r,n,Re(e.transform,o.tile.tileID),a)});const h=function(e){const t={},i={};for(const o of e){const e=o.queryResults,r=o.wrappedTileID,n=i[r]=i[r]||{};for(const i in e){const o=e[i],r=n[i]=n[i]||{},s=t[i]=t[i]||[];for(const e of o)r[e.featureIndex]||(r[e.featureIndex]=!0,s.push(e))}}return t}(c);for(const t in h)h[t].forEach((t=>{const i=t.feature,o=i.layer;o&&"background"!==o.type&&"sky"!==o.type&&(i.source=o.source,o["source-layer"]&&(i.sourceLayer=o["source-layer"]),i.state=void 0!==i.id?e.getFeatureState(o["source-layer"],i.id):{})}));return h}function ke(e,t){const i=e.getRenderableIds().map((t=>e.getTileByID(t))),o=[],r={};for(let e=0;e<i.length;e++){const n=i[e],s=n.tileID.canonical.key;r[s]||(r[s]=!0,n.querySourceFeatures(o,t))}return o}function Be(e,t){const i=e.tileID,o=t.tileID;return i.overscaledZ-o.overscaledZ||i.canonical.y-o.canonical.y||i.wrap-o.wrap||i.canonical.x-o.canonical.x}function Fe(){return null!=gn.workerClass?new gn.workerClass:new e.window.Worker(gn.workerUrl)}const Ue="mapboxgl_preloaded_worker_pool";class Ne{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Ne.workerCount;)this.workers.push(new Fe);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Ue]}numActive(){return Object.keys(this.active).length}}let Ge;function je(){return Ge||(Ge=new Ne),Ge}function Ze(t,i){const o={};for(const e in t)"ref"!==e&&(o[e]=t[e]);return e.refProperties.forEach((e=>{e in i&&(o[e]=i[e])})),o}function Ve(e){e=e.slice();const t=Object.create(null);for(let i=0;i<e.length;i++)t[e[i].id]=e[i];for(let i=0;i<e.length;i++)"ref"in e[i]&&(e[i]=Ze(e[i],t[e[i].ref]));return e}Ne.workerCount=2;const We={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Xe(e,t,i){i.push({command:We.addSource,args:[e,t[e]]})}function qe(e,t,i){t.push({command:We.removeSource,args:[e]}),i[e]=!0}function $e(e,t,i,o){qe(e,i,o),Xe(e,t,i)}function He(e,i,o){let r;for(r in e[o])if(e[o].hasOwnProperty(r)&&"data"!==r&&!t(e[o][r],i[o][r]))return!1;for(r in i[o])if(i[o].hasOwnProperty(r)&&"data"!==r&&!t(e[o][r],i[o][r]))return!1;return!0}function Ye(e,i,o,r,n,s){let a;for(a in i=i||{},e=e||{})e.hasOwnProperty(a)&&(t(e[a],i[a])||o.push({command:s,args:[r,a,i[a],n]}));for(a in i)i.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(t(e[a],i[a])||o.push({command:s,args:[r,a,i[a],n]}))}function Je(e){return e.id}function Ke(e,t){return e[t.id]=t,e}class Qe{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let i=1,o=this._distances[i];const r=t*this.paddedLength+this.padding;for(;o<r&&i<this._distances.length;)o=this._distances[++i];const n=i-1,s=this._distances[n],a=o-s,l=a>0?(r-s)/a:0;return this.points[n].mult(1-l).add(this.points[i].mult(l))}}class et{constructor(e,t,i){const o=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/i),this.yCellCount=Math.ceil(t/i);for(let e=0;e<this.xCellCount*this.yCellCount;e++)o.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,i,o,r){this._forEachCell(t,i,o,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(o),this.bboxes.push(r)}insertCircle(e,t,i,o){this._forEachCell(t-o,i-o,t+o,i+o,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(i),this.circles.push(o)}_insertBoxCell(e,t,i,o,r,n){this.boxCells[r].push(n)}_insertCircleCell(e,t,i,o,r,n){this.circleCells[r].push(n)}_query(e,t,i,o,r,n){if(i<0||e>this.width||o<0||t>this.height)return!r&&[];const s=[];if(e<=0&&t<=0&&this.width<=i&&this.height<=o){if(r)return!0;for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],i=this.circles[3*e+1],o=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:t-o,y1:i-o,x2:t+o,y2:i+o})}return n?s.filter(n):s}return this._forEachCell(e,t,i,o,this._queryCell,s,{hitTest:r,seenUids:{box:{},circle:{}}},n),r?s.length>0:s}_queryCircle(e,t,i,o,r){const n=e-i,s=e+i,a=t-i,l=t+i;if(s<0||n>this.width||l<0||a>this.height)return!o&&[];const c=[];return this._forEachCell(n,a,s,l,this._queryCellCircle,c,{hitTest:o,circle:{x:e,y:t,radius:i},seenUids:{box:{},circle:{}}},r),o?c.length>0:c}query(e,t,i,o,r){return this._query(e,t,i,o,!1,r)}hitTest(e,t,i,o,r){return this._query(e,t,i,o,!0,r)}hitTestCircle(e,t,i,o){return this._queryCircle(e,t,i,!0,o)}_queryCell(e,t,i,o,r,n,s,a){const l=s.seenUids,c=this.boxCells[r];if(null!==c){const r=this.bboxes;for(const h of c)if(!l.box[h]){l.box[h]=!0;const c=4*h;if(e<=r[c+2]&&t<=r[c+3]&&i>=r[c+0]&&o>=r[c+1]&&(!a||a(this.boxKeys[h]))){if(s.hitTest)return n.push(!0),!0;n.push({key:this.boxKeys[h],x1:r[c],y1:r[c+1],x2:r[c+2],y2:r[c+3]})}}}const h=this.circleCells[r];if(null!==h){const r=this.circles;for(const c of h)if(!l.circle[c]){l.circle[c]=!0;const h=3*c;if(this._circleAndRectCollide(r[h],r[h+1],r[h+2],e,t,i,o)&&(!a||a(this.circleKeys[c]))){if(s.hitTest)return n.push(!0),!0;{const e=r[h],t=r[h+1],i=r[h+2];n.push({key:this.circleKeys[c],x1:e-i,y1:t-i,x2:e+i,y2:t+i})}}}}}_queryCellCircle(e,t,i,o,r,n,s,a){const l=s.circle,c=s.seenUids,h=this.boxCells[r];if(null!==h){const e=this.bboxes;for(const t of h)if(!c.box[t]){c.box[t]=!0;const i=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[i+0],e[i+1],e[i+2],e[i+3])&&(!a||a(this.boxKeys[t])))return n.push(!0),!0}}const u=this.circleCells[r];if(null!==u){const e=this.circles;for(const t of u)if(!c.circle[t]){c.circle[t]=!0;const i=3*t;if(this._circlesCollide(e[i],e[i+1],e[i+2],l.x,l.y,l.radius)&&(!a||a(this.circleKeys[t])))return n.push(!0),!0}}}_forEachCell(e,t,i,o,r,n,s,a){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),h=this._convertToXCellCoord(i),u=this._convertToYCellCoord(o);for(let d=l;d<=h;d++)for(let l=c;l<=u;l++)if(r.call(this,e,t,i,o,this.xCellCount*l+d,n,s,a))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,i,o,r,n){const s=o-e,a=r-t,l=i+n;return l*l>s*s+a*a}_circleAndRectCollide(e,t,i,o,r,n,s){const a=(n-o)/2,l=Math.abs(e-(o+a));if(l>a+i)return!1;const c=(s-r)/2,h=Math.abs(t-(r+c));if(h>c+i)return!1;if(l<=a||h<=c)return!0;const u=l-a,d=h-c;return u*u+d*d<=i*i}}const tt=Math.tan(85*Math.PI/180);function it(t,i,o,r,n,s,a){const l=e.create();if(o)if("globe"===s.name){const t=e.calculateGlobeLabelMatrix(n,i);e.multiply(l,l,t)}else{const t=v([],a);l[0]=t[0],l[1]=t[1],l[4]=t[2],l[5]=t[3],r||e.rotateZ(l,l,n.angle)}else e.multiply(l,n.labelPlaneMatrix,t);return l}function ot(e,t,i,o,r,n,s){const a=it(e,t,i,o,r,n,s);return"globe"===n.name&&i||(a[2]=a[6]=a[10]=a[14]=0),a}function rt(t,i,o,r,n,s,a){if(o){if("globe"===s.name){const l=it(t,i,o,r,n,s,a);return e.invert(l,l),e.multiply(l,t,l),l}{const i=e.clone(t),o=e.identity([]);return o[0]=a[0],o[1]=a[1],o[4]=a[2],o[5]=a[3],e.multiply(i,i,o),r||e.rotateZ(i,i,-n.angle),i}}return n.glCoordMatrix}function nt(t,i,o,r){const n=[t,i,o,1];o?e.transformMat4$1(n,n,r):ft(n,n,r);const s=n[3];return n[0]/=s,n[1]/=s,n[2]/=s,n}function st(e,t){return Math.min(.5+e/t*.5,1.5)}function at(e,t){const i=e[0]/e[3],o=e[1]/e[3];return i>=-t[0]&&i<=t[0]&&o>=-t[1]&&o<=t[1]}function lt(t,i,o,r,n,s,a,l,c,h){const u=o.transform,d=r?t.textSizeData:t.iconSizeData,_=e.evaluateSizeForZoom(d,o.transform.zoom),p="globe"===u.projection.name,m=[256/o.width*2+1,256/o.height*2+1],f=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;f.clear();let g=null;p&&(g=r?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);const v=t.lineVertexArray,x=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,y=o.transform.width/o.transform.height;let b,w=!1;for(let r=0;r<x.length;r++){const p=x.get(r),{numGlyphs:T,writingMode:E}=p;if(E!==e.WritingMode.vertical||w||b===e.WritingMode.horizontal||(w=!0),b=E,(p.hidden||E===e.WritingMode.vertical)&&!w){mt(T,f);continue}w=!1;const C=new e.pointGeometry(p.tileAnchorX,p.tileAnchorY);let{x:M,y:I,z:S}=u.projection.projectTilePoint(C.x,C.y,h.canonical);if(c){const[e,t,i]=c(C);M+=e,I+=t,S+=i}const D=[M,I,S,1];if(e.transformMat4$1(D,D,i),!at(D,m)){mt(T,f);continue}const L=st(o.transform.cameraToCenterDistance,D[3]),z=e.evaluateSizeForFeature(d,_,p),A=a?z/L:z*L,P=nt(M,I,S,n);if(P[3]<=0){mt(T,f);continue}let R={};const O=a?null:c,k=ut(p,A,!1,l,i,n,s,t.glyphOffsetArray,v,f,g,P,C,R,y,O,u.projection,h,a);w=k.useVertical,O&&k.needsFlipping&&(R={}),(k.notEnoughRoom||w||k.needsFlipping&&ut(p,A,!0,l,i,n,s,t.glyphOffsetArray,v,f,g,P,C,R,y,O,u.projection,h,a).notEnoughRoom)&&mt(T,f)}r?(t.text.dynamicLayoutVertexBuffer.updateData(f),g&&t.text.globeExtVertexBuffer.updateData(g)):(t.icon.dynamicLayoutVertexBuffer.updateData(f),g&&t.icon.globeExtVertexBuffer.updateData(g))}function ct(e,t,i,o,r,n,s,a,l,c,h,u,d,_,p,m){const{lineStartIndex:f,glyphStartIndex:g,segment:v}=a,x=g+a.numGlyphs,y=f+a.lineLength,b=t.getoffsetX(g),w=t.getoffsetX(x-1),T=pt(e*b,i,o,r,n,s,v,f,y,l,c,h,u,d,!0,_,p,m);if(!T)return null;const E=pt(e*w,i,o,r,n,s,v,f,y,l,c,h,u,d,!0,_,p,m);return E?{first:T,last:E}:null}function ht(t,i,o,r){return t===e.WritingMode.horizontal&&Math.abs(r)>Math.abs(o)?{useVertical:!0}:t===e.WritingMode.vertical?r>0?{needsFlipping:!0}:null:0!==i&&function(e,t){return 0===e||Math.abs(t/e)>tt}(o,r)?1===i?{needsFlipping:!0}:null:o<0?{needsFlipping:!0}:null}function ut(t,i,o,r,n,s,a,l,c,h,u,d,_,p,m,f,g,v,x){const y=i/24,b=t.lineOffsetX*y,w=t.lineOffsetY*y,{lineStartIndex:T,glyphStartIndex:E,numGlyphs:C,segment:M,writingMode:I,flipState:S}=t,D=T+t.lineLength,L=t=>{if(u){const[i,o,r]=t.up,n=h.length;e.updateGlobeVertexNormal(u,n+0,i,o,r),e.updateGlobeVertexNormal(u,n+1,i,o,r),e.updateGlobeVertexNormal(u,n+2,i,o,r),e.updateGlobeVertexNormal(u,n+3,i,o,r)}const[i,o,r]=t.point;e.addDynamicAttributes(h,i,o,r,t.angle)};if(C>1){const e=ct(y,l,b,w,o,d,_,t,c,s,p,f,!1,g,v,x);if(!e)return{notEnoughRoom:!0};if(r&&!o){let[i,o,r]=e.first.point,[n,s,l]=e.last.point;[i,o]=nt(i,o,r,a),[n,s]=nt(n,s,l,a);const c=ht(I,S,(n-i)*m,s-o);if(t.flipState=c&&c.needsFlipping?1:2,c)return c}L(e.first);for(let e=E+1;e<E+C-1;e++){const t=pt(y*l.getoffsetX(e),b,w,o,d,_,M,T,D,c,s,p,f,!1,!1,g,v,x);if(!t)return h.length-=4*(e-E),{notEnoughRoom:!0};L(t)}L(e.last)}else{if(r&&!o){const i=nt(_.x,_.y,0,n),o=T+M+1,r=new e.pointGeometry(c.getx(o),c.gety(o)),s=nt(r.x,r.y,0,n),a=s[3]>0?s:_t(_,r,i,1,n,void 0,g,v.canonical),l=ht(I,S,(a[0]-i[0])*m,a[1]-i[1]);if(t.flipState=l&&l.needsFlipping?1:2,l)return l}const i=pt(y*l.getoffsetX(E),b,w,o,d,_,M,T,D,c,s,p,f,!1,!1,g,v,x);if(!i)return{notEnoughRoom:!0};L(i)}return{}}function dt(e,t,i,o,r){const{x:n,y:s,z:a}=o.projectTilePoint(e.x,e.y,t);if(!r)return nt(n,s,a,i);const[l,c,h]=r(e);return nt(n+l,s+c,a+h,i)}function _t(t,i,o,r,n,s,a,l){const c=dt(t.sub(i)._unit()._add(t),l,n,a,s);return e.sub(c,o,c),e.normalize(c,c),e.scaleAndAdd(c,o,c,r)}function pt(t,i,o,r,n,s,a,l,c,h,u,d,_,p,m,f,g,v){const x=r?t-i:t+i;let y=x>0?1:-1,b=0;r&&(y*=-1,b=Math.PI),y<0&&(b+=Math.PI);let w=l+a+(y>0?0:1)|0,T=n,E=n,C=0,M=0;const I=Math.abs(x),S=[],D=[];let L=s,z=L;const A=()=>_t(z,L,E,I-C+1,u,_,f,g.canonical);for(;C+M<=I;){if(w+=y,w<l||w>=c)return null;if(E=T,z=L,S.push(E),p&&D.push(z),L=new e.pointGeometry(h.getx(w),h.gety(w)),T=d[w],!T){const e=dt(L,g.canonical,u,f,_);T=e[3]>0?d[w]=e:A()}C+=M,M=e.distance(E,T)}m&&_&&(d[w]&&(T=A(),M=e.distance(E,T)),d[w]=T);const P=(I-C)/M,R=L.sub(z)._mult(P)._add(z),O=e.sub([],T,E),k=e.scaleAndAdd([],E,O,P);let B=[0,0,1],F=O[0],U=O[1];if(v&&(B=f.upVector(g.canonical,R.x,R.y),0!==B[0]||0!==B[1]||1!==B[2])){const t=[B[2],0,-B[0]],i=e.cross([],B,t);e.normalize(t,t),e.normalize(i,i),F=e.dot(O,t),U=e.dot(O,i)}if(o){const t=e.cross([],B,O);e.normalize(t,t),e.scaleAndAdd(k,k,t,o*y)}const N=b+Math.atan2(U,F);return S.push(k),p&&D.push(R),{point:k,angle:N,path:S,tilePath:D,up:B}}function mt(e,t){const i=t.length,o=i+4*e;t.resize(o),t.float32.fill(-1/0,4*i,4*o)}function ft(e,t,i){const o=t[0],r=t[1];return e[0]=i[0]*o+i[4]*r+i[12],e[1]=i[1]*o+i[5]*r+i[13],e[3]=i[3]*o+i[7]*r+i[15],e}const gt=100;class vt{constructor(e,t,i=new et(e.width+200,e.height+200,25),o=new et(e.width+200,e.height+200,25)){this.transform=e,this.grid=i,this.ignoredGrid=o,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+gt,this.screenBottomBoundary=e.height+gt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t}placeCollisionBox(e,t,i,o,r,n,s,a){let l=i.projectedAnchorX,c=i.projectedAnchorY,h=i.projectedAnchorZ;const u=i.elevation,d=i.tileID,_=e.getProjection();if(u&&d){const[e,t,o]=_.upVector(d.canonical,i.tileAnchorX,i.tileAnchorY),r=_.upVectorScale(d.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=e*u*r,c+=t*u*r,h+=o*u*r}const p=this.projectAndGetPerspectiveRatio(s,l,c,h,i.tileID,"globe"===_.name||!!u||this.transform.pitch>0,_),m=n*p.perspectiveRatio,f=(i.x1*t+o.x-i.padding)*m+p.point.x,g=(i.y1*t+o.y-i.padding)*m+p.point.y,v=(i.x2*t+o.x+i.padding)*m+p.point.x,x=(i.y2*t+o.y+i.padding)*m+p.point.y,y=p.perspectiveRatio<=.55||p.occluded;return!this.isInsideGrid(f,g,v,x)||!r&&this.grid.hitTest(f,g,v,x,a)||y?{box:[],offscreen:!1,occluded:p.occluded}:{box:[f,g,v,x],offscreen:this.isOffscreen(f,g,v,x),occluded:!1}}placeCollisionCircles(t,i,o,r,n,s,a,l,c,h,u,d,_,p,m){const f=[],g=this.transform.elevation,v=t.getProjection(),x=g?g.getAtTileOffsetFunc(m,this.transform.center.lat,this.transform.worldSize,v):null,y=new e.pointGeometry(o.tileAnchorX,o.tileAnchorY);let{x:b,y:w,z:T}=v.projectTilePoint(y.x,y.y,m.canonical);if(x){const[e,t,i]=x(y);b+=e,w+=t,T+=i}const E="globe"===v.name,C=this.projectAndGetPerspectiveRatio(a,b,w,T,m,E||!!g||this.transform.pitch>0,v),{perspectiveRatio:M}=C,I=(u?s/M:s*M)/e.ONE_EM,S=nt(b,w,T,l),D=C.signedDistanceFromCamera>0?ct(I,n,o.lineOffsetX*I,o.lineOffsetY*I,!1,S,y,o,r,l,{},g&&!u?x:null,u&&!!g,v,m,u):null;let L=!1,z=!1,A=!0;if(D&&!C.occluded){const t=.5*_*M+p,o=new e.pointGeometry(-100,-100),r=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),n=new Qe,{first:s,last:a}=D,l=s.path.length;let u=[];for(let e=l-1;e>=1;e--)u.push(s.path[e]);for(let e=1;e<a.path.length;e++)u.push(a.path[e]);const m=2.5*t;c&&(u=u.map((([e,t,i],o)=>(x&&!E&&(i=x(o<l-1?s.tilePath[l-1-o]:a.tilePath[o-l+2])[2]),nt(e,t,i,c)))),u.some((e=>e[3]<=0))&&(u=[]));let g=[];if(u.length>0){let t=1/0,i=-1/0,n=1/0,s=-1/0;for(const e of u)t=Math.min(t,e[0]),n=Math.min(n,e[1]),i=Math.max(i,e[0]),s=Math.max(s,e[1]);i>=o.x&&t<=r.x&&s>=o.y&&n<=r.y&&(g=[u.map((t=>new e.pointGeometry(t[0],t[1])))],(t<o.x||i>r.x||n<o.y||s>r.y)&&(g=e.clipLine(g,o.x,o.y,r.x,r.y)))}for(const e of g){n.reset(e,.25*t);let o=0;o=n.length<=.5*t?1:Math.ceil(n.paddedLength/m)+1;for(let e=0;e<o;e++){const r=e/Math.max(o-1,1),s=n.lerp(r),a=s.x+gt,l=s.y+gt;f.push(a,l,t,0);const c=a-t,u=l-t,_=a+t,p=l+t;if(A=A&&this.isOffscreen(c,u,_,p),z=z||this.isInsideGrid(c,u,_,p),!i&&this.grid.hitTestCircle(a,l,t,d)&&(L=!0,!h))return{circles:[],offscreen:!1,collisionDetected:L,occluded:!1}}}}return{circles:!h&&L||!z?[]:f,offscreen:A,collisionDetected:L,occluded:C.occluded}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const i=[];let o=1/0,r=1/0,n=-1/0,s=-1/0;for(const a of t){const t=new e.pointGeometry(a.x+gt,a.y+gt);o=Math.min(o,t.x),r=Math.min(r,t.y),n=Math.max(n,t.x),s=Math.max(s,t.y),i.push(t)}const a=this.grid.query(o,r,n,s).concat(this.ignoredGrid.query(o,r,n,s)),l={},c={};for(const t of a){const o=t.key;if(void 0===l[o.bucketInstanceId]&&(l[o.bucketInstanceId]={}),l[o.bucketInstanceId][o.featureIndex])continue;const r=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(i,r)&&(l[o.bucketInstanceId][o.featureIndex]=!0,void 0===c[o.bucketInstanceId]&&(c[o.bucketInstanceId]=[]),c[o.bucketInstanceId].push(o.featureIndex))}return c}insertCollisionBox(e,t,i,o,r){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:o,collisionGroupID:r},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,i,o,r){const n=t?this.ignoredGrid:this.grid,s={bucketInstanceId:i,featureIndex:o,collisionGroupID:r};for(let t=0;t<e.length;t+=4)n.insertCircle(s,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(t,i,o,r,n,s,a){const l=[i,o,r,1];let c=!1;if(r||this.transform.pitch>0){e.transformMat4$1(l,l,t);const s="globe"===a.name;if(this.fogState&&n&&!s){const t=function(t,i,o,r,n,s){const a=s.calculateFogTileMatrix(n),l=[i,o,r];return e.transformMat4(l,l,a),I(t,l,s.pitch,s._fov)}(this.fogState,i,o,r,n.toUnwrapped(),this.transform);c=t>.9}}else ft(l,l,t);const h=l[3];return{point:new e.pointGeometry((l[0]/h+1)/2*this.transform.width+gt,(-l[1]/h+1)/2*this.transform.height+gt),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(a)/h*.5,1.5),signedDistanceFromCamera:h,occluded:s&&l[2]>h||c}}isOffscreen(e,t,i,o){return i<gt||e>=this.screenRightBoundary||o<gt||t>this.screenBottomBoundary}isInsideGrid(e,t,i,o){return i>=0&&e<this.gridRightBoundary&&o>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function xt(t,i,o){const r=i.createTileMatrix(t,t.worldSize,o.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,r)}function yt(e,t,i){if(t.projection.name===i.projection.name)return e.projMatrix;const o=i.clone();return o.setProjection(t.projection),xt(o,t.getProjection(),e)}function bt(e,t,i){return t.name===i.projection.name?e.projMatrix:xt(i,t,e)}class wt{constructor(e,t,i,o){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):o&&i?1:0,this.placed=i}isHidden(){return 0===this.opacity&&!this.placed}}class Tt{constructor(e,t,i,o,r,n=!1){this.text=new wt(e?e.text:null,t,i,r),this.icon=new wt(e?e.icon:null,t,o,r),this.clipped=n}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Et{constructor(e,t,i,o=!1){this.text=e,this.icon=t,this.skipFade=i,this.clipped=o}}class Ct{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class Mt{constructor(e,t,i,o,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=i,this.bucketIndex=o,this.tileID=r}}class It{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function St(t,i,o,r,n){const{horizontalAlign:s,verticalAlign:a}=e.getAnchorAlignment(t),l=-(s-.5)*i,c=-(a-.5)*o,h=e.evaluateVariableOffset(t,r);return new e.pointGeometry(l+h[0]*n,c+h[1]*n)}function Dt(t,i,o,r,n){const s=new e.pointGeometry(t,i);return o&&s._rotate(r?n:-n),s}class Lt{constructor(e,t,i,o,r){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new vt(this.transform,r),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new It(i),this.collisionCircleArrays={},this.prevPlacement=o,o&&(o.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,i,o,r){const n=o.getBucket(i),s=o.latestFeatureIndex;if(!n||!s||i.id!==n.layerIds[0])return;const a=n.layers[0].layout,l=o.collisionBoxArray,c=Math.pow(2,this.transform.zoom-o.tileID.overscaledZ),h=o.tileSize/e.EXTENT,u=o.tileID.toUnwrapped();this.transform.setProjection(n.projection);const d=(_=o.tileID,p=n.getProjection(),m=this.transform,p.name===this.projection?m.calculateProjMatrix(_.toUnwrapped()):xt(m,p,_));var _,p,m;const f="map"===a.get("text-pitch-alignment"),g="map"===a.get("text-rotation-alignment");i.compileFilter();const v=i.dynamicFilter(),x=i.dynamicFilterNeedsFeature(),y=this.transform.calculatePixelsToTileUnitsMatrix(o),b=ot(d,o.tileID.canonical,f,g,this.transform,n.getProjection(),y);let w=null;if(f){const t=rt(d,o.tileID.canonical,f,g,this.transform,n.getProjection(),y);w=e.multiply([],this.transform.labelPlaneMatrix,t)}let T=null;v&&o.latestFeatureIndex&&(T={unwrappedTileID:u,dynamicFilter:v,dynamicFilterNeedsFeature:x,featureIndex:o.latestFeatureIndex}),this.retainedQueryData[n.bucketInstanceId]=new Mt(n.bucketInstanceId,s,n.sourceLayerIndex,n.index,o.tileID);const E={bucket:n,layout:a,posMatrix:d,textLabelPlaneMatrix:b,labelToScreenMatrix:w,clippingData:T,scale:c,textPixelRatio:h,holdingForFade:o.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(n.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(n.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(n.sourceID)};if(r)for(const e of n.sortKeyRanges){const{sortKey:i,symbolInstanceStart:o,symbolInstanceEnd:r}=e;t.push({sortKey:i,symbolInstanceStart:o,symbolInstanceEnd:r,parameters:E})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:n.symbolInstances.length,parameters:E})}attemptAnchorPlacement(e,t,i,o,r,n,s,a,l,c,h,u,d,_,p,m,f,g){const{textOffset0:v,textOffset1:x,crossTileID:y}=u,b=[v,x],w=St(e,i,o,b,r),T=this.collisionIndex.placeCollisionBox(_,r,t,Dt(w.x,w.y,n,s,this.transform.angle),h,a,l,c.predicate);if(m){const e=_.getSymbolInstanceIconSize(g,this.transform.zoom,u.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(_,e,m,Dt(w.x,w.y,n,s,this.transform.angle),h,a,l,c.predicate).box.length)return}if(T.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[y]&&this.prevPlacement.placements[y]&&this.prevPlacement.placements[y].text&&(t=this.prevPlacement.variableOffsets[y].anchor),this.variableOffsets[y]={textOffset:b,width:i,height:o,anchor:e,textScale:r,prevAnchor:t},this.markUsedJustification(_,e,u,p),_.allowVerticalPlacement&&(this.markUsedOrientation(_,p,u),this.placedOrientations[y]=p),{shift:w,placedGlyphBoxes:T}}}placeLayerBucketPart(t,i,o,r){const{bucket:n,layout:s,posMatrix:a,textLabelPlaneMatrix:l,labelToScreenMatrix:c,clippingData:h,textPixelRatio:u,holdingForFade:d,collisionBoxArray:_,partiallyEvaluatedTextSize:p,partiallyEvaluatedIconSize:m,collisionGroup:f}=t.parameters,g=s.get("text-optional"),v=s.get("icon-optional"),x=s.get("text-allow-overlap"),y=s.get("icon-allow-overlap"),b="map"===s.get("text-rotation-alignment"),w="map"===s.get("text-pitch-alignment"),T="none"!==s.get("icon-text-fit"),E="viewport-y"===s.get("symbol-z-order");this.transform.setProjection(n.projection);let C=x&&(y||!n.hasIconData()||v),M=y&&(x||!n.hasTextData()||g);!n.collisionArrays&&_&&n.deserializeCollisionBoxes(_),o&&r&&n.updateCollisionDebugBuffers(this.transform.zoom,_);const I=(t,r,_)=>{const{crossTileID:E,numVerticalGlyphVertices:I}=t;if(h){const o={zoom:this.transform.zoom,pitch:this.transform.pitch};let r=null;if(h.dynamicFilterNeedsFeature){const e=this.retainedQueryData[n.bucketInstanceId];r=h.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:e.bucketIndex,sourceLayerIndex:e.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,h.dynamicFilter)(o,r,this.retainedQueryData[n.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),this.transform.calculateDistanceTileData(h.unwrappedTileID)))return this.placements[E]=new Et(!1,!1,!1,!0),void(i[E]=!0)}if(i[E])return;if(d)return void(this.placements[E]=new Et(!1,!1,!1));let S=!1,D=!1,L=!0,z=!1,A=!1,P=null,R={box:null,offscreen:null,occluded:null},O={box:null,offscreen:null,occluded:null},k=null,B=null,F=null,U=0,N=0,G=0;_.textFeatureIndex?U=_.textFeatureIndex:t.useRuntimeCollisionCircles&&(U=t.featureIndex),_.verticalTextFeatureIndex&&(N=_.verticalTextFeatureIndex);const j=e=>{e.tileID=this.retainedQueryData[n.bucketInstanceId].tileID;const t=this.transform.elevation;(t||e.elevation)&&(e.elevation=t?t.getAtTileOffset(e.tileID,e.tileAnchorX,e.tileAnchorY):0)},Z=_.textBox;if(Z){j(Z);const i=i=>{let o=e.WritingMode.horizontal;if(n.allowVerticalPlacement&&!i&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[E];e&&(this.placedOrientations[E]=e,o=e,this.markUsedOrientation(n,o,t))}return o},o=(t,i)=>{if(n.allowVerticalPlacement&&I>0&&_.verticalTextBox){for(const o of n.writingModes)if(o===e.WritingMode.vertical?(R=i(),O=R):R=t(),R&&R.box&&R.box.length)break}else R=t()};if(s.get("text-variable-anchor")){let l=s.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[E]){const e=this.prevPlacement.variableOffsets[E];l.indexOf(e.anchor)>0&&(l=l.filter((t=>t!==e.anchor)),l.unshift(e.anchor))}const c=(e,i,o)=>{const s=n.getSymbolInstanceTextSize(p,t,this.transform.zoom,r),c=(e.x2-e.x1)*s+2*e.padding,h=(e.y2-e.y1)*s+2*e.padding,d=T&&!y?i:null;d&&j(d);let _={box:[],offscreen:!1,occluded:!1};const g=x?2*l.length:l.length;for(let i=0;i<g;++i){const g=this.attemptAnchorPlacement(l[i%l.length],e,c,h,s,b,w,u,a,f,i>=l.length,t,r,n,o,d,p,m);if(g&&(_=g.placedGlyphBoxes,_&&_.box&&_.box.length)){S=!0,P=g.shift;break}}return _};o((()=>c(Z,_.iconBox,e.WritingMode.horizontal)),(()=>{const t=_.verticalTextBox;return t&&j(t),n.allowVerticalPlacement&&!(R&&R.box&&R.box.length)&&I>0&&t?c(t,_.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),R&&(S=R.box,L=R.offscreen,z=R.occluded);const h=i(R&&R.box);if(!S&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[E];e&&(this.variableOffsets[E]=e,this.markUsedJustification(n,e.anchor,t,h))}}else{const s=(i,o)=>{const s=n.getSymbolInstanceTextSize(p,t,this.transform.zoom,r),l=this.collisionIndex.placeCollisionBox(n,s,i,new e.pointGeometry(0,0),x,u,a,f.predicate);return l&&l.box&&l.box.length&&(this.markUsedOrientation(n,o,t),this.placedOrientations[E]=o),l};o((()=>s(Z,e.WritingMode.horizontal)),(()=>{const t=_.verticalTextBox;return n.allowVerticalPlacement&&I>0&&t?(j(t),s(t,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),i(R&&R.box&&R.box.length)}}if(k=R,S=k&&k.box&&k.box.length>0,L=k&&k.offscreen,z=k&&k.occluded,t.useRuntimeCollisionCircles){const i=n.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),r=e.evaluateSizeForFeature(n.textSizeData,p,i),h=s.get("text-padding");B=this.collisionIndex.placeCollisionCircles(n,x,i,n.lineVertexArray,n.glyphOffsetArray,r,a,l,c,o,w,f.predicate,t.collisionCircleDiameter*r/e.ONE_EM,h,this.retainedQueryData[n.bucketInstanceId].tileID),S=x||B.circles.length>0&&!B.collisionDetected,L=L&&B.offscreen,z=B.occluded}if(_.iconFeatureIndex&&(G=_.iconFeatureIndex),_.iconBox){const i=i=>{j(i);const o=T&&P?Dt(P.x,P.y,b,w,this.transform.angle):new e.pointGeometry(0,0),r=n.getSymbolInstanceIconSize(m,this.transform.zoom,t.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(n,r,i,o,y,u,a,f.predicate)};O&&O.box&&O.box.length&&_.verticalIconBox?(F=i(_.verticalIconBox),D=F.box.length>0):(F=i(_.iconBox),D=F.box.length>0),L=L&&F.offscreen,A=F.occluded}const V=g||0===t.numHorizontalGlyphVertices&&0===I,W=v||0===t.numIconVertices;if(V||W?W?V||(D=D&&S):S=D&&S:D=S=D&&S,S&&k&&k.box&&this.collisionIndex.insertCollisionBox(k.box,s.get("text-ignore-placement"),n.bucketInstanceId,O&&O.box&&N?N:U,f.ID),D&&F&&this.collisionIndex.insertCollisionBox(F.box,s.get("icon-ignore-placement"),n.bucketInstanceId,G,f.ID),B&&(S&&this.collisionIndex.insertCollisionCircles(B.circles,s.get("text-ignore-placement"),n.bucketInstanceId,U,f.ID),o)){const e=n.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new Ct);for(let e=0;e<B.circles.length;e+=4)t.circles.push(B.circles[e+0]),t.circles.push(B.circles[e+1]),t.circles.push(B.circles[e+2]),t.circles.push(B.collisionDetected?1:0)}const X="globe"!==n.projection.name;C=C&&(X||!z),M=M&&(X||!A),this.placements[E]=new Et(S||C,D||M,L||n.justReloaded),i[E]=!0};if(E){const e=n.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const i=e[t];I(n.symbolInstances.get(i),i,n.collisionArrays[i])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)I(n.symbolInstances.get(e),e,n.collisionArrays[e]);if(o&&n.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[n.bucketInstanceId];e.invert(t.invProjMatrix,a),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}n.justReloaded=!1}markUsedJustification(t,i,o,r){const{leftJustifiedTextSymbolIndex:n,centerJustifiedTextSymbolIndex:s,rightJustifiedTextSymbolIndex:a,verticalPlacedTextSymbolIndex:l,crossTileID:c}=o,h=e.getAnchorJustification(i),u=r===e.WritingMode.vertical?l:"left"===h?n:"center"===h?s:"right"===h?a:-1;n>=0&&(t.text.placedSymbolArray.get(n).crossTileID=u>=0&&n!==u?0:c),s>=0&&(t.text.placedSymbolArray.get(s).crossTileID=u>=0&&s!==u?0:c),a>=0&&(t.text.placedSymbolArray.get(a).crossTileID=u>=0&&a!==u?0:c),l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=u>=0&&l!==u?0:c)}markUsedOrientation(t,i,o){const r=i===e.WritingMode.horizontal||i===e.WritingMode.horizontalOnly?i:0,n=i===e.WritingMode.vertical?i:0,{leftJustifiedTextSymbolIndex:s,centerJustifiedTextSymbolIndex:a,rightJustifiedTextSymbolIndex:l,verticalPlacedTextSymbolIndex:c}=o,h=t.text.placedSymbolArray;s>=0&&(h.get(s).placedOrientation=r),a>=0&&(h.get(a).placedOrientation=r),l>=0&&(h.get(l).placedOrientation=r),c>=0&&(h.get(c).placedOrientation=n)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let i=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const o=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},n=t?t.variableOffsets:{},s=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],n=r[e];n?(this.opacities[e]=new Tt(n,o,t.text,t.icon,null,t.clipped),i=i||t.text!==n.text.placed||t.icon!==n.icon.placed):(this.opacities[e]=new Tt(null,o,t.text,t.icon,t.skipFade,t.clipped),i=i||t.text||t.icon)}for(const e in r){const t=r[e];if(!this.opacities[e]){const r=new Tt(t,o,!1,!1);r.isHidden()||(this.opacities[e]=r,i=i||t.text.placed||t.icon.placed)}}for(const e in n)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=n[e]);for(const e in s)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=s[e]);i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const i={};for(const o of t){const t=o.getBucket(e);t&&o.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,i,o.collisionBoxArray)}}updateBucketOpacities(t,i,o){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const r=t.layers[0].layout,n=!!t.layers[0].dynamicFilter(),s=new Tt(null,0,!1,!1,!0),a=r.get("text-allow-overlap"),l=r.get("icon-allow-overlap"),c=r.get("text-variable-anchor"),h="map"===r.get("text-rotation-alignment"),u="map"===r.get("text-pitch-alignment"),d="none"!==r.get("icon-text-fit"),_=new Tt(null,0,a&&(l||!t.hasIconData()||r.get("icon-optional")),l&&(a||!t.hasTextData()||r.get("text-optional")),!0);!t.collisionArrays&&o&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(o);const p=(e,t,i)=>{for(let o=0;o<t/4;o++)e.opacityVertexArray.emplaceBack(i)};let m=0;for(let o=0;o<t.symbolInstances.length;o++){const r=t.symbolInstances.get(o),{numHorizontalGlyphVertices:a,numVerticalGlyphVertices:l,crossTileID:f,numIconVertices:g}=r;let v=this.opacities[f];i[f]?v=s:v||(v=_,this.opacities[f]=v),i[f]=!0;const x=a>0||l>0,y=g>0,b=this.placedOrientations[f],w=b===e.WritingMode.vertical,T=b===e.WritingMode.horizontal||b===e.WritingMode.horizontalOnly;if(!x&&!y||v.isHidden()||m++,x){const e=Ut(v.text);p(t.text,a,w?Nt:e),p(t.text,l,T?Nt:e);const i=v.text.isHidden(),{leftJustifiedTextSymbolIndex:o,centerJustifiedTextSymbolIndex:n,rightJustifiedTextSymbolIndex:s,verticalPlacedTextSymbolIndex:c}=r,h=t.text.placedSymbolArray,u=i||w?1:0;o>=0&&(h.get(o).hidden=u),n>=0&&(h.get(n).hidden=u),s>=0&&(h.get(s).hidden=u),c>=0&&(h.get(c).hidden=i||T?1:0);const d=this.variableOffsets[f];d&&this.markUsedJustification(t,d.anchor,r,b);const _=this.placedOrientations[f];_&&(this.markUsedJustification(t,"left",r,_),this.markUsedOrientation(t,_,r))}if(y){const e=Ut(v.icon),{placedIconSymbolIndex:i,verticalPlacedIconSymbolIndex:o}=r,n=t.icon.placedSymbolArray,s=v.icon.isHidden()?1:0;i>=0&&(p(t.icon,g,w?Nt:e),n.get(i).hidden=s),o>=0&&(p(t.icon,r.numVerticalIconVertices,T?Nt:e),n.get(o).hidden=s)}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const i=t.collisionArrays[o];if(i){let o=new e.pointGeometry(0,0),r=!0;if(i.textBox||i.verticalTextBox){if(c){const e=this.variableOffsets[f];e?(o=St(e.anchor,e.width,e.height,e.textOffset,e.textScale),h&&o._rotate(u?this.transform.angle:-this.transform.angle)):r=!1}n&&(r=!v.clipped),i.textBox&&zt(t.textCollisionBox.collisionVertexArray,v.text.placed,!r||w,o.x,o.y),i.verticalTextBox&&zt(t.textCollisionBox.collisionVertexArray,v.text.placed,!r||T,o.x,o.y)}const s=r&&Boolean(!T&&i.verticalIconBox);i.iconBox&&zt(t.iconCollisionBox.collisionVertexArray,v.icon.placed,s,d?o.x:0,d?o.y:0),i.verticalIconBox&&zt(t.iconCollisionBox.collisionVertexArray,v.icon.placed,!s,d?o.x:0,d?o.y:0)}}}if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const i=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*i>e}setStale(){this.stale=!0}}function zt(e,t,i,o,r){e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0)}const At=Math.pow(2,25),Pt=Math.pow(2,24),Rt=Math.pow(2,17),Ot=Math.pow(2,16),kt=Math.pow(2,9),Bt=Math.pow(2,8),Ft=Math.pow(2,1);function Ut(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,i=Math.floor(127*e.opacity);return i*At+t*Pt+i*Rt+t*Ot+i*kt+t*Bt+i*Ft+t}const Nt=0;class Gt{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,i,o,r){const n=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(n,o,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,n.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<n.length;){const e=n[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,i,0===e.symbolInstanceStart),this._currentPartIndex++,r())return!0}return!1}}class jt{constructor(e,t,i,o,r,n,s,a){this.placement=new Lt(e,r,n,s,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=o,this._done=!1}isDone(){return this._done}continuePlacement(t,i,o){const r=e.exported.now(),n=()=>{const t=e.exported.now()-r;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=i[t[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=r)&&(!e.maxzoom||e.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new Gt(e)),this._inProgressLayer.continuePlacement(o[e.source],this.placement,this._showCollisionBoxes,e,n))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Zt=512/e.EXTENT/2;class Vt{constructor(e,t,i){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(let i=0;i<t.length;i++){const o=t.get(i),r=o.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,e)})}}getScaledCoordinates(t,i){const o=Zt/Math.pow(2,i.canonical.z-this.tileID.canonical.z);return{x:Math.floor((i.canonical.x*e.EXTENT+t.tileAnchorX)*o),y:Math.floor((i.canonical.y*e.EXTENT+t.tileAnchorY)*o)}}findMatches(e,t,i){const o=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let r=0;r<e.length;r++){const n=e.get(r);if(n.crossTileID)continue;const s=this.indexedSymbolInstances[n.key];if(!s)continue;const a=this.getScaledCoordinates(n,t);for(const e of s)if(Math.abs(e.coord.x-a.x)<=o&&Math.abs(e.coord.y-a.y)<=o&&!i[e.crossTileID]){i[e.crossTileID]=!0,n.crossTileID=e.crossTileID;break}}}}class Wt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Xt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const i=this.indexes[e],o={};for(const e in i){const r=i[e];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),o[r.tileID.key]=r}this.indexes[e]=o}this.lng=e}addBucket(e,t,i){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const o=this.usedCrossTileIDs[e.overscaledZ];for(const i in this.indexes){const r=this.indexes[i];if(Number(i)>e.overscaledZ)for(const i in r){const n=r[i];n.tileID.isChildOf(e)&&n.findMatches(t.symbolInstances,e,o)}else{const n=r[e.scaledTo(Number(i)).key];n&&n.findMatches(t.symbolInstances,e,o)}}for(let e=0;e<t.symbolInstances.length;e++){const r=t.symbolInstances.get(e);r.crossTileID||(r.crossTileID=i.generate(),o[r.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Vt(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const i in t.indexedSymbolInstances)for(const o of t.indexedSymbolInstances[i])delete this.usedCrossTileIDs[e][o.crossTileID]}removeStaleBuckets(e){let t=!1;for(const i in this.indexes){const o=this.indexes[i];for(const r in o)e[o[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,o[r]),delete o[r],t=!0)}return t}}class qt{constructor(){this.layerIndexes={},this.crossTileIDs=new Wt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,i,o){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Xt);let n=!1;const s={};"globe"!==o.name&&r.handleWrapJump(i);for(const i of t){const t=i.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(i.tileID,t,this.crossTileIDs)&&(n=!0),s[t.bucketInstanceId]=!0)}return r.removeStaleBuckets(s)&&(n=!0),n}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}const $t=(t,i)=>e.emitValidationErrors(t,i&&i.filter((e=>"source.canvas"!==e.identifier))),Ht=e.pick(We,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Yt=e.pick(We,["setCenter","setZoom","setBearing","setPitch"]),Jt={version:8,layers:[],sources:{}},Kt={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Qt extends e.Evented{constructor(t,i={}){super(),this.map=t,this.dispatcher=new A(je(),this),this.imageManager=new y,this.imageManager.setEventedParent(this),this.glyphManager=new e.GlyphManager(t._requestManager,i.localFontFamily?e.LocalGlyphMode.all:i.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,i.localFontFamily||i.localIdeographFontFamily),this.crossTileSymbolIndex=new qt,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const o=this;this._rtlTextPluginCallback=Qt.registerForPluginStateChange((t=>{o.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},((t,i)=>{if(e.triggerPluginCompletionEvent(t),i&&i.every((e=>e)))for(const e in o._sourceCaches){const t=o._sourceCaches[e],i=t.getSource().type;"vector"!==i&&"geojson"!==i||t.reload()}}))})),this.on("data",(e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const i=this._layers[e];i.source===t.id&&this._validateLayer(i)}}))}loadURL(t,i={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const o="boolean"==typeof i.validate?i.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,i.accessToken);const r=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(r,((t,i)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):i&&this._load(i,o)}))}loadJSON(t,i={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((()=>{this._request=null,this._load(t,!1!==i.validate)}))}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Jt,!1)}_updateLayerCount(e,t){const i=t?1:-1;e.is3D()&&(this._num3DLayers+=i),"circle"===e.type&&(this._numCircleLayers+=i),"symbol"===e.type&&(this._numSymbolLayers+=i)}_load(t,i){if(i&&$t(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection();for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);const o=Ve(this.stylesheet.layers);this._order=o.map((e=>e.id)),this._layers={},this._serializedLayers={};for(const t of o){const i=e.createStyleLayer(t);i.setEventedParent(this,{layer:{id:i.id}}),this._layers[i.id]=i,this._serializedLayers[i.id]=i.serialize(),this._updateLayerCount(i,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(t){this._spriteRequest=function(t,i,o){let r,n,s;const a=e.exported.devicePixelRatio>1?"@2x":"";let l=e.getJSON(i.transformRequest(i.normalizeSpriteURL(t,a,".json"),e.ResourceType.SpriteJSON),((e,t)=>{l=null,s||(s=e,r=t,h())})),c=e.getImage(i.transformRequest(i.normalizeSpriteURL(t,a,".png"),e.ResourceType.SpriteImage),((e,t)=>{c=null,s||(s=e,n=t,h())}));function h(){if(s)o(s);else if(r&&n){const t=e.exported.getImageData(n),i={};for(const o in r){const{width:n,height:s,x:a,y:l,sdf:c,pixelRatio:h,stretchX:u,stretchY:d,content:_}=r[o],p=new e.RGBAImage({width:n,height:s});e.RGBAImage.copy(t,p,{x:a,y:l},{x:0,y:0},{width:n,height:s}),i[o]={data:p,pixelRatio:h,sdf:c,stretchX:u,stretchY:d,content:_}}o(null,i)}}return{cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,((t,i)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(i)for(const e in i)this.imageManager.addImage(e,i[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new e.Event("data",{dataType:"style"}))}))}_validateLayer(t){const i=this.getSource(t.source);if(!i)return;const o=t.sourceLayer;o&&("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(o))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${o}" does not exist on source "${i.id}" as specified by style layer "${t.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const i of e){const e=this._layers[i];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(e){return!!this.terrain&&("function"==typeof e.isLayerDraped?e.isLayerDraped():Kt[e.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(t){if(!this._loaded)return;const i=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(e.length||i.length)&&this._updateWorkerLayers(e,i);for(const e in this._updatedSources){const t=this._updatedSources[e];"reload"===t?this._reloadSource(e):"clear"===t&&this._clearSource(e)}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}const o={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];o[e]=t.used,t.used=!1}for(const e of this._order){const i=this._layers[e];if(i.recalculate(t,this._availableImages),!i.isHidden(t.zoom)){const e=this._getLayerSourceCache(i);e&&(e.used=!0)}const o=this.map.painter;if(o){const e=i.getProgramIds();if(!e)continue;const r=i.getProgramConfiguration(t.zoom);for(const t of e)o.useProgram(t,r)}}for(const t in o){const i=this._sourceCaches[t];o[t]!==i.used&&i.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:i.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),i&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(i){if(this._checkLoaded(),$t(this,e.validateStyle(i)))return!1;(i=e.clone$1(i)).layers=Ve(i.layers);const o=function(e,i){if(!e)return[{command:We.setStyle,args:[i]}];let o=[];try{if(!t(e.version,i.version))return[{command:We.setStyle,args:[i]}];t(e.center,i.center)||o.push({command:We.setCenter,args:[i.center]}),t(e.zoom,i.zoom)||o.push({command:We.setZoom,args:[i.zoom]}),t(e.bearing,i.bearing)||o.push({command:We.setBearing,args:[i.bearing]}),t(e.pitch,i.pitch)||o.push({command:We.setPitch,args:[i.pitch]}),t(e.sprite,i.sprite)||o.push({command:We.setSprite,args:[i.sprite]}),t(e.glyphs,i.glyphs)||o.push({command:We.setGlyphs,args:[i.glyphs]}),t(e.transition,i.transition)||o.push({command:We.setTransition,args:[i.transition]}),t(e.light,i.light)||o.push({command:We.setLight,args:[i.light]}),t(e.fog,i.fog)||o.push({command:We.setFog,args:[i.fog]}),t(e.projection,i.projection)||o.push({command:We.setProjection,args:[i.projection]});const r={},n=[];!function(e,i,o,r){let n;for(n in i=i||{},e=e||{})e.hasOwnProperty(n)&&(i.hasOwnProperty(n)||qe(n,o,r));for(n in i){if(!i.hasOwnProperty(n))continue;const s=i[n];e.hasOwnProperty(n)?t(e[n],s)||("geojson"===e[n].type&&"geojson"===s.type&&He(e,i,n)?o.push({command:We.setGeoJSONSourceData,args:[n,s.data]}):$e(n,i,o,r)):Xe(n,i,o)}}(e.sources,i.sources,n,r);const s=[];e.layers&&e.layers.forEach((e=>{e.source&&r[e.source]?o.push({command:We.removeLayer,args:[e.id]}):s.push(e)}));let a=e.terrain;a&&r[a.source]&&(o.push({command:We.setTerrain,args:[void 0]}),a=void 0),o=o.concat(n),t(a,i.terrain)||o.push({command:We.setTerrain,args:[i.terrain]}),function(e,i,o){i=i||[];const r=(e=e||[]).map(Je),n=i.map(Je),s=e.reduce(Ke,{}),a=i.reduce(Ke,{}),l=r.slice(),c=Object.create(null);let h,u,d,_,p,m,f;for(h=0,u=0;h<r.length;h++)d=r[h],a.hasOwnProperty(d)?u++:(o.push({command:We.removeLayer,args:[d]}),l.splice(l.indexOf(d,u),1));for(h=0,u=0;h<n.length;h++)d=n[n.length-1-h],l[l.length-1-h]!==d&&(s.hasOwnProperty(d)?(o.push({command:We.removeLayer,args:[d]}),l.splice(l.lastIndexOf(d,l.length-u),1)):u++,m=l[l.length-h],o.push({command:We.addLayer,args:[a[d],m]}),l.splice(l.length-h,0,d),c[d]=!0);for(h=0;h<n.length;h++)if(d=n[h],_=s[d],p=a[d],!c[d]&&!t(_,p))if(t(_.source,p.source)&&t(_["source-layer"],p["source-layer"])&&t(_.type,p.type)){for(f in Ye(_.layout,p.layout,o,d,null,We.setLayoutProperty),Ye(_.paint,p.paint,o,d,null,We.setPaintProperty),t(_.filter,p.filter)||o.push({command:We.setFilter,args:[d,p.filter]}),t(_.minzoom,p.minzoom)&&t(_.maxzoom,p.maxzoom)||o.push({command:We.setLayerZoomRange,args:[d,p.minzoom,p.maxzoom]}),_)_.hasOwnProperty(f)&&"layout"!==f&&"paint"!==f&&"filter"!==f&&"metadata"!==f&&"minzoom"!==f&&"maxzoom"!==f&&(0===f.indexOf("paint.")?Ye(_[f],p[f],o,d,f.slice(6),We.setPaintProperty):t(_[f],p[f])||o.push({command:We.setLayerProperty,args:[d,f,p[f]]}));for(f in p)p.hasOwnProperty(f)&&!_.hasOwnProperty(f)&&"layout"!==f&&"paint"!==f&&"filter"!==f&&"metadata"!==f&&"minzoom"!==f&&"maxzoom"!==f&&(0===f.indexOf("paint.")?Ye(_[f],p[f],o,d,f.slice(6),We.setPaintProperty):t(_[f],p[f])||o.push({command:We.setLayerProperty,args:[d,f,p[f]]}))}else o.push({command:We.removeLayer,args:[d]}),m=l[l.lastIndexOf(d)+1],o.push({command:We.addLayer,args:[p,m]})}(s,i.layers,o)}catch(e){console.warn("Unable to compute style diff:",e),o=[{command:We.setStyle,args:[i]}]}return o}(this.serialize(),i).filter((e=>!(e.command in Yt)));if(0===o.length)return!1;const r=o.filter((e=>!(e.command in Ht)));if(r.length>0)throw new Error(`Unimplemented: ${r.map((e=>e.command)).join(", ")}.`);return o.forEach((e=>{"setTransition"!==e.command&&"setProjection"!==e.command&&this[e.command].apply(this,e.args)})),this.stylesheet=i,this._updateMapProjection(),!0}addImage(t,i){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(t,i),this._afterImageUpdated(t),this)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(t,i,o={}){if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!i.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(e.validateSource,`sources.${t}`,i,null,o))return;this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);const r=Pe(t,i,this.dispatcher,this);r.setEventedParent(this,(()=>({isSourceLoaded:this._isSourceCacheLoaded(t),source:r.serialize(),sourceId:t})));const n=i=>{const o=(i?"symbol:":"other:")+t,n=this._sourceCaches[o]=new e.SourceCache(o,r,i);(i?this._symbolSourceCaches:this._otherSourceCaches)[t]=n,n.style=this,n.onAdd(this.map)};n(!1),"vector"!==i.type&&"geojson"!==i.type||n(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0}removeSource(t){this._checkLoaded();const i=this.getSource(t);if(!i)throw new Error("There is no source with this ID");for(const i in this._layers)if(this._layers[i].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${i}" is using it.`)));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while terrain is using it.`)));const o=this._getSourceCaches(t);for(const t of o)delete this._sourceCaches[t.id],delete this._updatedSources[t.id],t.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t.getSource().id})),t.setEventedParent(null),t.clearTiles();return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],i.setEventedParent(null),i.onRemove&&i.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}_getSources(){const e=[];for(const t in this._otherSourceCaches){const i=this._getSourceCache(t);i&&e.push(i.getSource())}return e}addLayer(t,i,o={}){this._checkLoaded();const r=t.id;if(this.getLayer(r))return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${r}" already exists on this map`)));let n;if("custom"===t.type){if($t(this,e.validateCustomStyleLayer(t)))return;n=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(r,t.source),t=e.clone$1(t),t=e.extend(t,{source:r})),this._validate(e.validateLayer,`layers.${r}`,t,{arrayIndex:-1},o))return;n=e.createStyleLayer(t),this._validateLayer(n),n.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[n.id]=n.serialize(),this._updateLayerCount(n,!0)}const s=i?this._order.indexOf(i):this._order.length;if(i&&-1===s)return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${i}" does not exist on this map.`)));this._order.splice(s,0,r),this._layerOrderChanged=!0,this._layers[r]=n;const a=this._getLayerSourceCache(n);if(this._removedLayers[r]&&n.source&&a&&"custom"!==n.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==n.type?this._updatedSources[n.source]="clear":(this._updatedSources[n.source]="reload",a.pause())}this._updateLayer(n),n.onAdd&&n.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(t,i){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===i)return;const o=this._order.indexOf(t);this._order.splice(o,1);const r=i?this._order.indexOf(i):this._order.length;i&&-1===r?this.fire(new e.ErrorEvent(new Error(`Layer with id "${i}" does not exist on this map.`))):(this._order.splice(r,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(t){this._checkLoaded();const i=this._layers[t];if(!i)return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be removed.`)));i.setEventedParent(null),this._updateLayerCount(i,!1);const o=this._order.indexOf(t);this._order.splice(o,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=i,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],i.onRemove&&i.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return!0;return!1}setLayerZoomRange(t,i,o){this._checkLoaded();const r=this.getLayer(t);r?r.minzoom===i&&r.maxzoom===o||(null!=i&&(r.minzoom=i),null!=o&&(r.maxzoom=o),this._updateLayer(r)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(i,o,r={}){this._checkLoaded();const n=this.getLayer(i);if(n){if(!t(n.filter,o))return null==o?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(e.validateFilter,`layers.${n.id}.filter`,o,{layerType:n.type},r)||(n.filter=e.clone$1(o),this._updateLayer(n)))}else this.fire(new e.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be filtered.`)))}getFilter(t){const i=this.getLayer(t);return i&&e.clone$1(i.filter)}setLayoutProperty(i,o,r,n={}){this._checkLoaded();const s=this.getLayer(i);s?t(s.getLayoutProperty(o),r)||(s.setLayoutProperty(o,r,n),this._updateLayer(s)):this.fire(new e.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(t,i){const o=this.getLayer(t);if(o)return o.getLayoutProperty(i);this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style.`)))}setPaintProperty(i,o,r,n={}){this._checkLoaded();const s=this.getLayer(i);s?t(s.getPaintProperty(o),r)||(s.setPaintProperty(o,r,n)&&this._updateLayer(s),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new e.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(e,t){const i=this.getLayer(e);return i&&i.getPaintProperty(t)}setFeatureState(t,i){this._checkLoaded();const o=t.source,r=t.sourceLayer,n=this.getSource(o);if(!n)return void this.fire(new e.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)));const s=n.type;if("geojson"===s&&r)return void this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===s&&!r)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));const a=this._getSourceCaches(o);for(const e of a)e.setFeatureState(r,t.id,i)}removeFeatureState(t,i){this._checkLoaded();const o=t.source,r=this.getSource(o);if(!r)return void this.fire(new e.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)));const n=r.type,s="vector"===n?t.sourceLayer:void 0;if("vector"===n&&!s)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(i&&"string"!=typeof t.id&&"number"!=typeof t.id)return void this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const a=this._getSourceCaches(o);for(const e of a)e.removeFeatureState(s,t.id,i)}getFeatureState(t){this._checkLoaded();const i=t.source,o=t.sourceLayer,r=this.getSource(i);if(r){if("vector"!==r.type||o)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(i)[0].getFeatureState(o,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const e in this._sourceCaches){const i=this._sourceCaches[e].getSource();t[i.id]||(t[i.id]=i.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,i={},o=[];for(let r=this._order.length-1;r>=0;r--){const n=this._order[r];if(t(n)){i[n]=r;for(const t of e){const e=t[n];if(e)for(const t of e)o.push(t)}}}o.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const r=[];for(let n=this._order.length-1;n>=0;n--){const s=this._order[n];if(t(s))for(let e=o.length-1;e>=0;e--){const t=o[e].feature;if(i[t.layer.id]<n)break;r.push(t),o.pop()}else for(const t of e){const e=t[s];if(e)for(const t of e)r.push(t.feature)}}return r}queryRenderedFeatures(t,i,o){i&&i.filter&&this._validate(e.validateFilter,"queryRenderedFeatures.filter",i.filter,null,i);const r={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of i.layers){const i=this._layers[t];if(!i)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];r[i.source]=!0}}const n=[];i.availableImages=this._availableImages;const s=i&&i.layers?i.layers.some((e=>{const t=this.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),a=R.createFromScreenPoints(t,o);for(const e in this._sourceCaches){const t=this._sourceCaches[e].getSource().id;i.layers&&!r[t]||n.push(Oe(this._sourceCaches[e],this._layers,this._serializedLayers,a,i,o,s,!!this.map._showQueryGeometry))}return this.placement&&n.push(function(e,t,i,o,r,n,s){const a={},l=n.queryRenderedSymbols(o),c=[];for(const e of Object.keys(l).map(Number))c.push(s[e]);c.sort(Be);for(const i of c){const o=i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId],t,i.bucketIndex,i.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in o){const t=a[e]=a[e]||[],r=o[e];r.sort(((e,t)=>{const o=i.featureSortOrder;if(o){const i=o.indexOf(e.featureIndex);return o.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(const e of r)t.push(e)}}for(const t in a)a[t].forEach((o=>{const r=o.feature,n=i(e[t]);if(!n)return;const s=n.getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=s}));return a}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),a.screenGeometry,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(n)}querySourceFeatures(t,i){i&&i.filter&&this._validate(e.validateFilter,"querySourceFeatures.filter",i.filter,null,i);const o=this._getSourceCaches(t);let r=[];for(const e of o)r=r.concat(ke(e,i));return r}addSourceType(e,t,i){return Qt.getSourceType(e)?i(new Error(`A source type called "${e}" already exists.`)):(Qt.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},i):i(null,null))}getLight(){return this.light.getLight()}setLight(e,i={}){this._checkLoaded();const o=this.light.getLight();let r=!1;for(const i in e)if(!t(e[i],o[i])){r=!0;break}if(!r)return;const n=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,i),this.light.updateTransitions(n)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(i,o=1){if(this._checkLoaded(),!i)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let r=i;if(1===o){if("object"==typeof r.source){const t="terrain-dem-src";this.addSource(t,r.source),r=e.clone$1(r),r=e.extend(r,{source:t})}if(this._validate(e.validateTerrain,"terrain",r))return}if(!this.terrain||this.terrain&&o!==this.terrain.drapeRenderMode){if(!r)return;this._createTerrain(r,o)}else{const i=this.terrain,o=i.get();for(const t of Object.keys(e.spec.terrain))!r.hasOwnProperty(t)&&e.spec.terrain[t].default&&(r[t]=e.spec.terrain[t].default);for(const e in r)if(!t(r[e],o[e])){i.set(r),this.stylesheet.terrain=r;const e=this._setTransitionParameters({duration:0});i.updateTransitions(e);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(e){const t=this.fog=new z(e,this.map.transform);this.stylesheet.fog=e;const i=this._setTransitionParameters({duration:0});t.updateTransitions(i)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask((()=>{for(const e of this.map._markers)e._evaluateOpacity()}))}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const i=this.fog,o=i.get();0===Object.keys(e).length&&i.set(e);for(const r in e)if(!t(e[r],o[r])){i.set(e),this.stylesheet.fog=e;const t=this._setTransitionParameters({duration:0});i.updateTransitions(t);break}}else this._createFog(e);this._markersNeedUpdate=!0}_setTransitionParameters(t){return{now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const e=this._order.filter((e=>this.isLayerDraped(this._layers[e]))),t=this._order.filter((e=>!this.isLayerDraped(this._layers[e])));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t)}_createTerrain(e,t){const i=this.terrain=new M(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const o=this._setTransitionParameters({duration:0});i.updateTransitions(o)}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"symbol"===t.type&&this._updateLayer(t)}}_validate(t,i,o,r,n={}){return(!n||!1!==n.validate)&&$t(this,t.call(e.validateStyle,e.extend({key:i,style:this.serialize(),value:o,styleSpec:e.spec},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){const t=this._getSourceCaches(e);for(const e of t)e.clearTiles()}_reloadSource(e){const t=this._getSourceCaches(e);for(const e of t)e.resume(),e.reload()}_reloadSources(){for(const e of this._getSources())e.reload&&e.reload()}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload()}}_updatePlacement(t,i,o,r,n=!1){let s=!1,a=!1;const l={};for(const e of this._order){const i=this._layers[e];if("symbol"!==i.type)continue;if(!l[i.source]){const e=this._getLayerSourceCache(i);if(!e)continue;l[i.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)))}const o=this.crossTileSymbolIndex.addLayer(i,l[i.source],t.center.lng,t.projection);s=s||o}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),n=n||this._layerOrderChanged||0===o,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(n||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new jt(t,this._order,n,i,o,r,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),a=!0),s&&this.pauseablePlacement.placement.setStale()),a||s)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,i){this.imageManager.getImages(t.icons,i),this._updateTilesForChangedImages();const o=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons)};o(this._otherSourceCaches[t.source]),o(this._symbolSourceCaches[t.source])}getGlyphs(e,t,i){this.glyphManager.getGlyphs(t.stacks,i)}getResource(t,i,o){return e.makeRequest(i,o)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(t){const i=this._getSourceCaches(t);return 0===i.length?(this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`))),!1):i.every((e=>e.loaded()))}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Qt.getSourceType=function(e){return Ae[e]},Qt.setSourceType=function(e,t){Ae[e]=t},Qt.registerForPluginStateChange=e.registerForPluginStateChange;var ei="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",ti="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",ii="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\nconst float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)\n{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nreturn currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",oi="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",ri="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let ni={},si={};const ai=[];di(ei,ai),di(ii,ai),di(oi,ai),di(ri,ai),ni=_i("",ii),si=_i(ri,oi);const li=_i("\n#if __VERSION__ >=300\n#define varying in\n#define gl_FragColor glFragColor\n#define texture2D texture\n#define textureCube texture\nout vec4 glFragColor;\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\n#if __VERSION__ >=300\n#define attribute in\n#define varying out\n#define texture2D texture\n#endif\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),ci=ei,hi="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var ui={background:_i("uniform vec4 u_color;uniform float u_opacity;\n#ifdef LIGHTING_3D_MODE\nvarying vec4 v_color;\n#endif\nvoid main() {vec4 out_color;\n#ifdef LIGHTING_3D_MODE\nout_color=v_color;\n#else\nout_color=u_color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#ifdef LIGHTING_3D_MODE\nuniform vec4 u_color;varying vec4 v_color;\n#endif\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(u_color);\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:_i("uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:_i("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:_i("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:_i("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:_i("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:_i("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:_i("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:_i("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:_i("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:_i("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:_i("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:_i("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:_i("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat NdotL=0.0;float colorvalue=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(color,NdotL);\n#else\nv_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef LIGHTING_3D_MODE\nv_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));\n#else\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:_i("uniform vec2 u_texsize;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color,v_NdotL)*u_opacity;\n#else\nout_color=out_color*v_lighting;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_NdotL=NdotL;\n#else\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#endif \n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:_i("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:_i("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef LIGHTING_3D_MODE\ngl_FragColor=apply_lighting(gl_FragColor);\n#endif\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:_i("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\nhighp vec4 out_color;\n#ifdef RENDER_LINE_GRADIENT\nout_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nout_color=color;\n#endif\nfloat trimmed=1.0;\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}\n#endif\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:_i("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\ncolor=apply_lighting(color);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:_i("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:_i("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:_i("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:_i("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:_i("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#else\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=wireframeOffset;\n#endif\nv_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\nv_fog_pos=fog_position(decodedPos);\n#else\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:_i("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:_i("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ti),skyboxGradient:_i("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ti),skyboxCapture:_i("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:_i("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;\n#ifdef GLOBE_POLES\nvec3 up_vector=globe_derived_up_vector;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifndef GLOBE_POLES\nglobe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;\n#endif\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:_i("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function di(e,t){const i=e.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let e of i)if(e=e.trim(),"#"===e[0]&&e.includes("if")&&!e.includes("endif")){e=e.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const i=e.split(" ");for(const e of i)t.includes(e)||t.push(e)}}function _i(e,t){const i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,o=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),r={},n=[...ai];return di(e,n),di(t,n),{fragmentSource:e=e.replace(i,((e,t,i,o,n)=>(r[n]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${n}\nvarying ${i} ${o} ${n};\n#else\nuniform ${i} ${o} u_${n};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${n}\n    ${i} ${o} ${n} = u_${n};\n#endif\n`))),vertexSource:t=t.replace(i,((e,t,i,o,n)=>{const s="float"===o?"vec2":"vec4",a=n.match(/color/)?"color":s;return r[n]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${n}\nuniform lowp float u_${n}_t;\nattribute ${i} ${s} a_${n};\nvarying ${i} ${o} ${n};\n#else\nuniform ${i} ${o} u_${n};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${n}\n    ${n} = a_${n};\n#else\n    ${i} ${o} ${n} = u_${n};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${n}\n    ${n} = unpack_mix_${a}(a_${n}, u_${n}_t);\n#else\n    ${i} ${o} ${n} = u_${n};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${n}\nuniform lowp float u_${n}_t;\nattribute ${i} ${s} a_${n};\n#else\nuniform ${i} ${o} u_${n};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${n}\n    ${i} ${o} ${n} = a_${n};\n#else\n    ${i} ${o} ${n} = u_${n};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${n}\n    ${i} ${o} ${n} = unpack_mix_${a}(a_${n}, u_${n}_t);\n#else\n    ${i} ${o} ${n} = u_${n};\n#endif\n`})),staticAttributes:o,usedDefines:n}}class pi{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(e,t,i,o,r,n,s){this.context=e;let a=this.boundPaintVertexBuffers.length!==o.length;for(let e=0;!a&&e<o.length;e++)this.boundPaintVertexBuffers[e]!==o[e]&&(a=!0);let l=this.boundDynamicVertexBuffers.length!==s.length;for(let e=0;!l&&e<s.length;e++)this.boundDynamicVertexBuffers[e]!==s[e]&&(l=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==i||a||l||this.boundIndexBuffer!==r||this.boundVertexOffset!==n)this.freshBind(t,i,o,r,n,s);else{e.bindVertexArrayOES.set(this.vao);for(const e of s)e&&e.bind();r&&r.dynamicDraw&&r.bind()}}freshBind(e,t,i,o,r,n){let s;const a=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=o,this.boundVertexOffset=r,this.boundDynamicVertexBuffers=n;else{s=l.currentNumAttributes||0;for(let e=a;e<s;e++)c.disableVertexAttribArray(e)}t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of i)t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of n)t&&(t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r));o&&o.bind(),l.currentNumAttributes=a}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function mi(t,i){const o=Math.pow(2,i.canonical.z),r=i.canonical.y;return[new e.MercatorCoordinate(0,r/o).toLngLat().lat,new e.MercatorCoordinate(0,(r+1)/o).toLngLat().lat]}function fi(t,i,o,r,n,s,a){const l=t.context,c=l.gl,h=o.fbo;if(!h)return;t.prepareDrawTile();const u=t.useProgram("hillshade");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,h.colorAttachment.get());const d=((e,t,i,o)=>{const r=i.paint.get("hillshade-shadow-color"),n=i.paint.get("hillshade-highlight-color"),s=i.paint.get("hillshade-accent-color");let a=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(a-=e.transform.angle);const l=!e.options.moving;return{u_matrix:o||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:mi(0,t.tileID),u_light:[i.paint.get("hillshade-exaggeration"),a],u_shadow:r,u_highlight:n,u_accent:s}})(t,o,r,t.terrain?i.projMatrix:null);t.prepareDrawProgram(l,u,i.toUnwrapped());const{tileBoundsBuffer:_,tileBoundsIndexBuffer:p,tileBoundsSegments:m}=t.getTileBoundsBuffers(o);u.draw(l,c.TRIANGLES,n,s,a,e.CullFaceMode.disabled,d,r.id,_,p,m)}function gi(t,i,o){if(!i.needsDEMTextureUpload)return;const r=t.context,n=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||t.getTileTexture(o.stride);const s=o.getPixels();i.demTexture?i.demTexture.update(s,{premultiply:!1}):i.demTexture=new e.Texture(r,s,n.RGBA,{premultiply:!1}),i.needsDEMTextureUpload=!1}function vi(t,i,o,r,n,s){const a=t.context,l=a.gl;if(!i.dem)return;const c=i.dem;if(a.activeTexture.set(l.TEXTURE1),gi(t,i,c),!i.demTexture)return;i.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const h=c.dim;a.activeTexture.set(l.TEXTURE0);let u=i.fbo;if(!u){const t=new e.Texture(a,{width:h,height:h,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),u=i.fbo=a.createFramebuffer(h,h,!0),u.colorAttachment.set(t.texture)}a.bindFramebuffer.set(u.framebuffer),a.viewport.set([0,0,h,h]);const{tileBoundsBuffer:d,tileBoundsIndexBuffer:_,tileBoundsSegments:p}=t.getMercatorTileBoundsBuffers();t.useProgram("hillshadePrepare").draw(a,l.TRIANGLES,r,n,s,e.CullFaceMode.disabled,((t,i)=>{const o=i.stride,r=e.create();return e.ortho(r,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(r,r,[0,-e.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[o,o],u_zoom:t.overscaledZ,u_unpack:i.unpackVector}})(i.tileID,c),o.id,d,_,p),i.needsHillshadePrepare=!1}const xi=t=>({u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}),yi=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),bi=(e,t,i,o,r,n,s,a,l,c,h,u,d,_,p)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(o),u_merc_matrix:i,u_zoom_transition:r,u_merc_center:n,u_image0:0,u_frustum_tl:s,u_frustum_tr:a,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:h,u_globe_radius:u,u_viewport:d,u_grid_matrix:p?Float32Array.from(p):new Float32Array(9),u_skirt_height:_});function wi(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const Ti=new class{constructor(){this.operations={}}newMorphing(e,t,i,o,r){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==i.tileID.key&&(t.queued=i)}else this.operations[e]={startTime:o,phase:0,duration:r,from:t,to:i,queued:null}}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const i=this.operations[t];for(i.phase=(e-i.startTime)/i.duration;i.phase>=1||!this._validOp(i);)if(!this._nextOp(i,e)){delete this.operations[t];break}}}_nextOp(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},Ei={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Ci(e){return 6*Math.pow(1.5,22-e)}function Mi(e,t){const i=1<<e.z;return!t&&(0===e.x||e.x===i-1)||0===e.y||e.y===i-1}const Ii=e=>({u_matrix:e});function Si(t,i,o,r,n){if(n>0){const s=e.exported.now(),a=(s-t.timeAdded)/n,l=i?(s-i.timeAdded)/n:-1,c=o.getSource(),h=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),u=!i||Math.abs(i.tileID.overscaledZ-h)>Math.abs(t.tileID.overscaledZ-h),d=u&&t.refreshedUponExpiration?1:e.clamp(u?a:1-l,0,1);return t.refreshedUponExpiration&&a>=1&&(t.refreshedUponExpiration=!1),i?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}class Di extends e.SourceCache{constructor(e){const t={type:"raster-dem",maxzoom:e.transform.maxZoom},i=new A(je(),null),o=Pe("mock-dem",t,i,e.style);super("mock-dem",o,!1),o.setEventedParent(this),this._sourceLoaded=!0}_loadTile(e,t){e.state="loaded",t(null)}}class Li extends e.SourceCache{constructor(e){const t=Pe("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new A(je(),null),e.style);super("proxy",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(t,i,o){if(t.freezeTileCoverage)return;this.transform=t;const r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((i,o)=>{if(i[o.key]="",!this._tiles[o.key]){const i=new e.Tile(o,this._source.tileSize*o.overscaleFactor(),t.tileZoom);i.state="loaded",this._tiles[o.key]=i}return i}),{});for(const e in this._tiles)e in r||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e])}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const i=Object.values(t);this.renderCachePool.push(...i),delete this.proxyCachedFBO[e]}}deallocRenderCache(){this.renderCache.forEach((e=>e.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class zi extends e.OverscaledTileID{constructor(e,t,i){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=i}}class Ai extends e.Elevation{constructor(t,i){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[o,r,n]=function(t){const i=new e.StructArrayLayout2i4,o=new e.StructArrayLayout3ui6,r=131;i.reserve(17161),o.reserve(33800);const n=e.EXTENT/128,s=e.EXTENT+n/2,a=s+n;for(let t=-n;t<a;t+=n)for(let o=-n;o<a;o+=n){const r=o<0||o>s||t<0||t>s?24575:0,n=e.clamp(Math.round(o),0,e.EXTENT),a=e.clamp(Math.round(t),0,e.EXTENT);i.emplaceBack(n+r,a)}const l=(e,t)=>{const i=t*r+e;o.emplaceBack(i+1,i,i+r),o.emplaceBack(i+r,i+r+1,i+1)};for(let e=1;e<129;e++)for(let t=1;t<129;t++)l(t,e);return[0,129].forEach((e=>{for(let t=0;t<130;t++)l(t,e),l(e,t)})),[i,o,32768]}(),s=t.context;this.gridBuffer=s.createVertexBuffer(o,e.posAttributes.members),this.gridIndexBuffer=s.createIndexBuffer(r),this.gridSegments=e.SegmentVector.simpleSegment(0,0,o.length,r.length),this.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,o.length,n),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Li(i.map),this.orthoMatrix=e.create(),e.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,e.EXTENT,0,e.EXTENT,0,1);const a=s.gl;this._overlapStencilMode=new e.StencilMode({func:a.GEQUAL,mask:255},0,255,a.KEEP,a.KEEP,a.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=i,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Di(i.map)}set style(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",(()=>{this._clearLineLayersFromRenderCache()}))}update(t,i,o){if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;const r=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(r.get("source")),this._exaggeration=r.get("exaggeration");const n=()=>{this.sourceCache.used&&e.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const t=this.getScaledDemTileSize();this.sourceCache.update(i,t,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,n(),this._initializing=!0),n(),i.updateElevation(!0,o),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(i),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(e){this._findCoveringTileCache[e]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce(`Terrain render cache efficiency is not optimal (${t.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${t.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((e=>e.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}set useVertexMorphing(e){this._useVertexMorphing=e}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const i=this.proxySourceCache,o=this.painter.transform;this._initializing&&(this._initializing=0===o._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(o.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=i.getIds().map((e=>{const t=i.getTileByID(e).tileID;return t.projMatrix=o.calculateProjMatrix(t.toUnwrapped()),t}));!function(t,i){const o=i.transform.pointCoordinate(i.transform.getCameraPoint()),r=new e.pointGeometry(o.x,o.y);t.sort(((t,i)=>{if(i.overscaledZ-t.overscaledZ)return i.overscaledZ-t.overscaledZ;const o=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),n=new e.pointGeometry(i.canonical.x+(1<<i.canonical.z)*i.wrap,i.canonical.y),s=r.mult(1<<t.canonical.z);return s.x-=.5,s.y-=.5,s.distSqr(o)-s.distSqr(n)}))}(r,this.painter),this._previousZoom=o.zoom;const n=this.proxyToSource||{};this.proxyToSource={},r.forEach((e=>{this.proxyToSource[e.key]={}})),this.terrainTileForTile={};const s=this._style._sourceCaches;for(const e in s){const i=s[e];if(!i.used)continue;if(i!==this.sourceCache&&this.resetTileLookupCache(i.id),this._setupProxiedCoordsForOrtho(i,t[e],n),i.usedForTerrain)continue;const o=t[e];i.getSource().reparseOverscaled&&this._assignTerrainTiles(o)}this.proxiedCoords[i.id]=r.map((e=>new zi(e,e.key,this.orthoMatrix))),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(n),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();const a={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const i=t.tileID.key;i in a||(this._visibleDemTiles.push(t),a[i]=i)}}_assignTerrainTiles(e){this._initializing||e.forEach((e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t)}))}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const i in this.terrainTileForTile){const o=this.terrainTileForTile[i],r=o.dem;!r||o.demTexture&&!o.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),gi(this.painter,o,r))}}_prepareDemTileUniforms(e,t,i,o){if(!t||null==t.demTexture)return!1;const r=e.tileID.canonical,n=Math.pow(2,t.tileID.canonical.z-r.z),s=o||"";return i[`u_dem_tl${s}`]=[r.x*n%1,r.y*n%1],i[`u_dem_scale${s}`]=n,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const t=this.painter.context,i=t.gl;if(!this._emptyDepthBufferTexture){const o=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,o,i.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce(((t,i)=>{if(!i.dem)return t;const o=i.dem.tree.minimums[0];return o>0&&e++,t+o}),0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,i=t.gl;t.activeTexture.set(i.TEXTURE2);const o=this._getLoadedAreaMinimum(),r=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(o,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let n=this._emptyDEMTexture;return n?n.update(r,{premultiply:!1}):n=this._emptyDEMTexture=new e.Texture(t,r,i.RGBA,{premultiply:!1}),n}setupElevationDraw(t,i,o){const r=this.painter.context,n=r.gl,s=(a=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(a),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var a;s.u_dem_size=this.sourceCache.getSource().tileSize,s.u_exaggeration=this.exaggeration();let l=null,c=null,h=1;if(o&&o.morphing&&this._useVertexMorphing){const e=o.morphing.srcDemTile,i=o.morphing.dstDemTile;h=o.morphing.phase,e&&i&&(this._prepareDemTileUniforms(t,e,s,"_prev")&&(c=e),this._prepareDemTileUniforms(t,i,s)&&(l=i))}if(c&&l?(r.activeTexture.set(n.TEXTURE2),l.demTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE,n.NEAREST),r.activeTexture.set(n.TEXTURE4),c.demTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE,n.NEAREST),s.u_dem_lerp=h):(l=this.terrainTileForTile[t.tileID.key],r.activeTexture.set(n.TEXTURE2),(this._prepareDemTileUniforms(t,l,s)?l.demTexture:this.emptyDEMTexture).bind(n.NEAREST,n.CLAMP_TO_EDGE)),r.activeTexture.set(n.TEXTURE3),o&&o.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE),this._depthFBO&&(s.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE),s.u_depth_size_inv=[1,1]),o&&o.useMeterToDem&&l){const t=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;s.u_meter_to_dem=t}if(o&&o.labelPlaneMatrixInv&&(s.u_label_plane_matrix_inv=o.labelPlaneMatrixInv),i.setTerrainUniformValues(r,s),"globe"===this.painter.transform.projection.name){const e=this.globeUniformValues(this.painter.transform,t.tileID.canonical,o&&o.useDenormalizedUpVectorScale);i.setGlobeUniformValues(r,e)}}globeUniformValues(t,i,o){const r=t.projection;return{u_tile_tl_up:r.upVector(i,0,0),u_tile_tr_up:r.upVector(i,e.EXTENT,0),u_tile_br_up:r.upVector(i,e.EXTENT,e.EXTENT),u_tile_bl_up:r.upVector(i,0,e.EXTENT),u_tile_up_scale:o?e.globeMetersToEcef(1):r.upVectorScale(i,t.center.lat,t.worldSize).metersToTile}}renderToBackBuffer(t){const i=this.painter,o=this.painter.context;0!==t.length&&(o.bindFramebuffer.set(null),o.viewport.set([0,0,i.width,i.height]),i.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,i,o,r,n){if("globe"===t.transform.projection.name)!function(t,i,o,r,n){const s=t.context,a=s.gl;let l,c;const h=t.options.showTerrainWireframe?2:0,u=t.transform,d=e.globeUseCustomAntiAliasing(t,s,u),_=(e,i)=>{if(c===e)return;const o=[Ei[e],"PROJECTION_GLOBE_VIEW"];d&&o.push("CUSTOM_ANTIALIASING"),i&&o.push(Ei[h]),l=t.useProgram("globeRaster",null,o),c=e},p=t.colorModeForRenderPass(),m=new e.DepthMode(a.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Ti.update(n);const f=e.calculateGlobeMercatorMatrix(u),g=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],v=h?[!1,!0]:[!1],x=t.globeSharedBuffers,y=[u.width*e.exported.devicePixelRatio,u.height*e.exported.devicePixelRatio],b=Float32Array.from(u.globeMatrix),w={useDenormalizedUpVectorScale:!0};if(v.forEach((h=>{const u=t.transform,d=Ci(u.zoom)*i.exaggeration();c=-1;const v=h?a.LINES:a.TRIANGLES;for(const c of r){const r=o.getTile(c),T=e.StencilMode.disabled,E=i.prevTerrainTileForTile[c.key],C=i.terrainTileForTile[c.key];wi(E,C)&&Ti.newMorphing(c.key,E,C,n,250),s.activeTexture.set(a.TEXTURE0),r.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE);const M=Ti.getMorphValuesForProxy(c.key),I=M?1:0;M&&e.extend$1(w,{morphing:{srcDemTile:M.from,dstDemTile:M.to,phase:e.easeCubicInOut(M.phase)}});const S=e.tileCornersToBounds(c.canonical),D=e.getLatitudinalLod(S.getCenter().lat),L=e.getGridMatrix(c.canonical,S,D,u.worldSize/u._pixelsPerMercatorPixel),z=e.globeNormalizeECEF(e.globeTileBounds(c.canonical)),A=bi(u.projMatrix,b,f,z,e.globeToMercatorTransition(u.zoom),g,u.frustumCorners.TL,u.frustumCorners.TR,u.frustumCorners.BR,u.frustumCorners.BL,u.globeCenterInViewSpace,u.globeRadius,y,d,L);if(_(I,h),i.setupElevationDraw(r,l,w),t.prepareDrawProgram(s,l,c.toUnwrapped()),x){const[i,o,r]=h?x.getWirefameBuffers(t.context,D):x.getGridBuffers(D,0!==d);l.draw(s,v,m,T,p,e.CullFaceMode.backCCW,A,"globe_raster",i,o,r)}}})),x){const n=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];d&&n.push("CUSTOM_ANTIALIASING"),l=t.useProgram("globeRaster",null,n);for(const n of r){const{x:r,y:c,z:h}=n.canonical,d=0===c,_=c===(1<<h)-1,[f,v,b,T]=x.getPoleBuffers(h);if(T&&(d||_)){const c=o.getTile(n);s.activeTexture.set(a.TEXTURE0),c.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE);let x=e.globePoleMatrixForTile(h,r,u);const E=e.globeNormalizeECEF(e.globeTileBounds(n.canonical)),C=(t,i)=>t.draw(s,a.TRIANGLES,m,e.StencilMode.disabled,p,e.CullFaceMode.disabled,bi(u.projMatrix,x,x,E,0,g,u.frustumCorners.TL,u.frustumCorners.TR,u.frustumCorners.BR,u.frustumCorners.BL,u.globeCenterInViewSpace,u.globeRadius,y,0),"globe_pole_raster",i,b,T);i.setupElevationDraw(c,l,w),t.prepareDrawProgram(s,l,n.toUnwrapped()),d&&C(l,f),_&&(x=e.scale(e.create(),x,[1,-1,1]),C(l,v))}}}}(t,i,o,r,n);else{const s=t.context,a=s.gl;let l,c;const h=t.options.showTerrainWireframe?2:0,u=(e,i)=>{if(c===e)return;const o=[Ei[e]];i&&o.push(Ei[h]),l=t.useProgram("terrainRaster",null,o),c=e},d=t.colorModeForRenderPass(),_=new e.DepthMode(a.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Ti.update(n);const p=t.transform,m=Ci(p.zoom)*i.exaggeration();(h?[!1,!0]:[!1]).forEach((h=>{c=-1;const f=h?a.LINES:a.TRIANGLES,[g,v]=h?i.getWirefameBuffer():[i.gridIndexBuffer,i.gridSegments];for(const c of r){const r=o.getTile(c),x=e.StencilMode.disabled,y=i.prevTerrainTileForTile[c.key],b=i.terrainTileForTile[c.key];wi(y,b)&&Ti.newMorphing(c.key,y,b,n,250),s.activeTexture.set(a.TEXTURE0),r.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);const w=Ti.getMorphValuesForProxy(c.key),T=w?1:0;let E;w&&(E={morphing:{srcDemTile:w.from,dstDemTile:w.to,phase:e.easeCubicInOut(w.phase)}});const C=yi(c.projMatrix,Mi(c.canonical,p.renderWorldCopies)?m/10:m);u(T,h),i.setupElevationDraw(r,l,E),t.prepareDrawProgram(s,l,c.toUnwrapped()),l.draw(s,f,_,x,d,e.CullFaceMode.backCCW,C,"terrain_raster",i.gridBuffer,g,v)}}))}}(i,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,i.gpuTimingDeferredRenderEnd(),t.splice(0,t.length))}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const i=this.painter,o=this.painter.context,r=this.proxySourceCache,n=this.proxiedCoords[r.id],s=this._drapedRenderBatches.shift(),a=[],l=i.style.order;let c=0;for(const h of n){const n=r.getTileByID(h.proxyTileKey),u=r.proxyCachedFBO[h.key]?r.proxyCachedFBO[h.key][t]:void 0,d=void 0!==u?r.renderCache[u]:this.pool[c++],_=void 0!==u;if(n.texture=d.tex,_&&!d.dirty){a.push(n.tileID);continue}let p;o.bindFramebuffer.set(d.fb.framebuffer),this.renderedToTile=!1,d.dirty&&(o.clear({color:e.Color.transparent,stencil:0}),d.dirty=!1);for(let e=s.start;e<=s.end;++e){const t=i.style._layers[l[e]];if(t.isHidden(i.transform.zoom))continue;const r=i.style._getLayerSourceCache(t),n=r?this.proxyToSource[h.key][r.id]:[h];if(!n)continue;const s=n;o.viewport.set([0,0,d.fb.width,d.fb.height]),p!==(r?r.id:null)&&(this._setupStencil(d,n,t,r),p=r?r.id:null),i.renderLayer(i,r,t,s)}this.renderedToTile?(d.dirty=!0,a.push(n.tileID)):_||--c,5===c&&(c=0,this.renderToBackBuffer(a))}return this.renderToBackBuffer(a),this.renderingToTexture=!1,o.bindFramebuffer.set(null),o.viewport.set([0,0,i.width,i.height]),s.end+1}postRender(){}renderCacheEfficiency(e){const t=e.order.length;if(0===t)return{efficiency:100};let i,o=0,r=0,n=!1;for(let s=0;s<t;++s){const t=e._layers[e.order[s]];this._style.isLayerDraped(t)?(n&&++o,++r):n||(n=!0,i=t.id)}return 0===r?{efficiency:100}:{efficiency:100*(1-o/r),firstUndrapedLayer:i}}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter((e=>e.dem)).forEach((t=>{e=Math.min(e,t.dem.tree.minimums[0])})),0===e?e:(e-30)*this._exaggeration}raycast(e,t,i){if(!this._visibleDemTiles)return null;const o=this._visibleDemTiles.filter((e=>e.dem)).map((o=>{const r=o.tileID,n=1<<r.overscaledZ,{x:s,y:a}=r.canonical,l=s/n,c=(s+1)/n,h=a/n,u=(a+1)/n;return{minx:l,miny:h,maxx:c,maxy:u,t:o.dem.tree.raycastRoot(l,h,c,u,e,t,i),tile:o}}));o.sort(((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)));for(const r of o){if(null==r.t)return null;const o=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,e,t,i);if(null!=o)return o}return null}_createFBO(){const t=this.painter.context,i=t.gl,o=this.drapeBufferSize;t.activeTexture.set(i.TEXTURE0);const r=new e.Texture(t,{width:o[0],height:o[1],data:null},i.RGBA);r.bind(i.LINEAR,i.CLAMP_TO_EDGE);const n=t.createFramebuffer(o[0],o[1],!1);return n.colorAttachment.set(r.texture),n.depthAttachment=new Ee(t,n.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,o[0],o[1]),this._stencilRef=0,n.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):n.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&i.texParameterf(i.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:n,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e].hasTransition())return!0;return this._style.order.some((e=>{const t=this._style._layers[e],i=t.isHidden(this.painter.transform.zoom);return"custom"===t.type?!i&&t.shouldRedrape():!i&&t.hasTransition()}))}_clearLineLayersFromRenderCache(){let t=!1;for(const e of this._style._getSources())if(e instanceof Ie){t=!0;break}if(!t)return;const i={};for(let t=0;t<this._style.order.length;++t){const o=this._style._layers[this._style.order[t]],r=this._style._getLayerSourceCache(o);if(r&&!i[r.id]&&!o.isHidden(this.painter.transform.zoom)&&"line"===o.type&&o.widthExpression()instanceof e.ZoomDependentExpression){i[r.id]=!0;for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][r.id];if(t)for(const e of t)this._clearRenderCacheForTile(r.id,e)}}}}_clearRasterLayersFromRenderCache(){let e=!1;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Se){e=!0;break}if(!e)return;const t={};for(let e=0;e<this._style.order.length;++e){const i=this._style._layers[this._style.order[e]],o=this._style._getLayerSourceCache(i);if(!o||t[o.id])continue;if(i.isHidden(this.painter.transform.zoom)||"raster"!==i.type)continue;const r=i.paint.get("raster-fade-duration");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][o.id];if(t)for(const e of t){const t=Si(o.getTile(e),o.findLoadedParent(e,0),o,this.painter.transform,r);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(o.id,e)}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const i=[];let o,r=0,n=this._style._layers[e[r]];for(;!this._style.isLayerDraped(n)&&n.isHidden(this.painter.transform.zoom)&&++r<t;)n=this._style._layers[e[r]];for(;r<t;++r){const t=this._style._layers[e[r]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===o&&(o=r):void 0!==o&&(i.push({start:o,end:r-1}),o=void 0))}void 0!==o&&i.push({start:o,end:r-1}),this._drapedRenderBatches=i}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let i=0;i<e.length;++i){const o=Object.values(e[i]);t.renderCachePool.push(...o)}}return}this._clearRasterLayersFromRenderCache();const i=this.proxyCoords,o=this._tilesDirty;for(let r=i.length-1;r>=0;r--){const n=i[r];if(t.getTileByID(n.key),void 0!==t.proxyCachedFBO[n.key]){const i=e[n.key],r=this.proxyToSource[n.key];let s=0;for(const e in r){const t=r[e],n=i[e];if(!n||n.length!==t.length||t.some(((t,i)=>t!==n[i]||o[e]&&o[e].hasOwnProperty(t.key)))){s=-1;break}++s}for(const e in t.proxyCachedFBO[n.key])t.renderCache[t.proxyCachedFBO[n.key][e]].dirty=s<0||s!==Object.values(i).length}}const r=[...this._drapedRenderBatches];r.sort(((e,t)=>t.end-t.start-(e.end-e.start)));for(const e of r)for(const o of i){if(t.proxyCachedFBO[o.key])continue;let i=t.renderCachePool.pop();void 0===i&&t.renderCache.length<50&&(i=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==i&&(t.proxyCachedFBO[o.key]={},t.proxyCachedFBO[o.key][e.start]=i,t.renderCache[i].dirty=!0)}this._tilesDirty={}}_setupStencil(e,t,i,o){if(!o||!this._sourceTilesOverlap[o.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,n=r.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let s;if(i.isTileClipped())s=t.length,this._overlapStencilMode.test={func:n.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);s=1,this._overlapStencilMode.test={func:n.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+s>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=s,this._overlapStencilMode.ref=this._stencilRef,i.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}_renderTileClippingMasks(t,i){const o=this.painter,r=this.painter.context,n=r.gl;o._tileClippingMaskIDs={},r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const s=o.useProgram("clippingMask");for(const a of t){const t=o._tileClippingMaskIDs[a.key]=--i;s.draw(r,n.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:n.ALWAYS,mask:0},t,255,n.KEEP,n.KEEP,n.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Ii(a.projMatrix),"$clipping",o.tileExtentBuffer,o.quadTriangleIndexBuffer,o.tileExtentSegments)}}pointCoordinate(t){const i=this.painter.transform;if(t.x<0||t.x>i.width||t.y<0||t.y>i.height)return null;const o=[t.x,t.y,1,1];e.transformMat4$1(o,o,i.pixelMatrixInverse),e.scale$1(o,o,1/o[3]),o[0]/=i.worldSize,o[1]/=i.worldSize;const r=i._camera.position,n=e.mercatorZfromAltitude(1,i.center.lat),s=[r[0],r[1],r[2]/n,0],a=e.subtract([],o.slice(0,3),s);e.normalize(a,a);const l=this.raycast(s,a,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(s,s,a,l),s[3]=s[2],s[2]*=n,s):null}drawDepth(){const t=this.painter,i=t.context,o=this.proxySourceCache,r=Math.ceil(t.width),n=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===n||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const t=i.gl,o=i.createFramebuffer(r,n,!0);i.activeTexture.set(t.TEXTURE0);const s=new e.Texture(i,{width:r,height:n,data:null},t.RGBA);s.bind(t.NEAREST,t.CLAMP_TO_EDGE),o.colorAttachment.set(s.texture);const a=i.createRenderbuffer(i.gl.DEPTH_COMPONENT16,r,n);o.depthAttachment.set(a),this._depthFBO=o,this._depthTexture=s}i.bindFramebuffer.set(this._depthFBO.framebuffer),i.viewport.set([0,0,r,n]),function(t,i,o,r){if("globe"===t.transform.projection.name)return;const n=t.context,s=n.gl;n.clear({depth:1});const a=t.useProgram("terrainDepth"),l=new e.DepthMode(s.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D);for(const t of r){const r=o.getTile(t),c=yi(t.projMatrix,0);i.setupElevationDraw(r,a),a.draw(n,s.TRIANGLES,l,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,c,"terrain_depth",i.gridBuffer,i.gridIndexBuffer,i.gridNoSkirtSegments)}}(t,this,o,this.proxyCoords)}_setupProxiedCoordsForOrtho(e,t,i){if(e.getSource()instanceof ze)return this._setupProxiedCoordsForImageSource(e,t,i);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const o=this.proxiedCoords[e.id]=[],r=this.proxyCoords;for(let t=0;t<r.length;t++){const n=r[t],s=this._findTileCoveringTileID(n,e);if(s){const t=this._createProxiedId(n,s,i[n.key]&&i[n.key][e.id]);o.push(t),this.proxyToSource[n.key][e.id]=[t]}}let n=!1;for(let r=0;r<t.length;r++){const s=e.getTile(t[r]);if(!s||!s.hasData())continue;const a=this._findTileCoveringTileID(s.tileID,this.proxySourceCache);if(a&&a.tileID.canonical.z!==s.tileID.canonical.z){const t=this.proxyToSource[a.tileID.key][e.id],r=this._createProxiedId(a.tileID,s,i[a.tileID.key]&&i[a.tileID.key][e.id]);t?t.splice(t.length-1,0,r):this.proxyToSource[a.tileID.key][e.id]=[r],o.push(r),n=!0}}this._sourceTilesOverlap[e.id]=n}_setupProxiedCoordsForImageSource(t,i,o){if(!t.getSource().loaded())return;const r=this.proxiedCoords[t.id]=[],n=this.proxyCoords,s=t.getSource(),a=new e.pointGeometry(s.tileID.x,s.tileID.y)._div(1<<s.tileID.z),l=s.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce(((e,t)=>(e.min.x=Math.min(e.min.x,t.x-a.x),e.min.y=Math.min(e.min.y,t.y-a.y),e.max.x=Math.max(e.max.x,t.x-a.x),e.max.y=Math.max(e.max.y,t.y-a.y),e)),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(t,i)=>{const o=t.wrap+t.canonical.x/(1<<t.canonical.z),r=t.canonical.y/(1<<t.canonical.z),n=e.EXTENT/(1<<t.canonical.z),s=i.wrap+i.canonical.x/(1<<i.canonical.z),a=i.canonical.y/(1<<i.canonical.z);return o+n<s+l.min.x||o>s+l.max.x||r+n<a+l.min.y||r>a+l.max.y};for(let e=0;e<n.length;e++){const s=n[e];for(let e=0;e<i.length;e++){const n=t.getTile(i[e]);if(!n||!n.hasData())continue;if(c(s,n.tileID))continue;const a=this._createProxiedId(s,n,o[s.key]&&o[s.key][t.id]),l=this.proxyToSource[s.key][t.id];l?l.push(a):this.proxyToSource[s.key][t.id]=[a],r.push(a)}}}_createProxiedId(t,i,o){let r=this.orthoMatrix;if(o){const e=o.find((e=>e.key===i.tileID.key));if(e)return e}if(i.tileID.key!==t.key){const o=t.canonical.z-i.tileID.canonical.z;let n,s,a;r=e.create();const l=i.tileID.wrap-t.wrap<<t.overscaledZ;o>0?(n=e.EXTENT>>o,s=n*((i.tileID.canonical.x<<o)-t.canonical.x+l),a=n*((i.tileID.canonical.y<<o)-t.canonical.y)):(n=e.EXTENT<<-o,s=e.EXTENT*(i.tileID.canonical.x-(t.canonical.x+l<<-o)),a=e.EXTENT*(i.tileID.canonical.y-(t.canonical.y<<-o))),e.ortho(r,0,n,0,n,0,1),e.translate(r,r,[s,a,0])}return new zi(i.tileID,t.key,r)}_findTileCoveringTileID(t,i){let o=i.getTile(t);if(o&&o.hasData())return o;const r=this._findCoveringTileCache[i.id],n=r[t.key];if(o=n?i.getTileByID(n):null,o&&o.hasData()||null===n)return o;let s=o?o.tileID:t,a=s.overscaledZ;const l=i.getSource().minzoom,c=[];if(!n){const r=i.getSource().maxzoom;if(t.canonical.z>=r){const o=t.canonical.z-r;i.getSource().reparseOverscaled?(a=Math.max(t.canonical.z+2,i.transform.tileZoom),s=new e.OverscaledTileID(a,t.wrap,r,t.canonical.x>>o,t.canonical.y>>o)):0!==o&&(a=r,s=new e.OverscaledTileID(a,t.wrap,r,t.canonical.x>>o,t.canonical.y>>o))}s.key!==t.key&&(c.push(s.key),o=i.getTile(s))}const h=e=>{c.forEach((t=>{r[t]=e})),c.length=0};for(a-=1;a>=l&&(!o||!o.hasData());a--){o&&h(o.tileID.key);const e=s.calculateScaledKey(a);if(o=i.getTileByID(e),o&&o.hasData())break;const t=r[e];if(null===t)break;void 0===t?c.push(e):o=i.getTileByID(t)}return h(o?o.tileID.key:null),o&&o.hasData()?o:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(e,t){let i=this._tilesDirty[e];i||(i=this._tilesDirty[e]={}),i[t.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const t=function(t){let i=0;const o=new e.StructArrayLayout2ui4,r=131;for(let e=1;e<129;e++){for(let t=1;t<129;t++)i=e*r+t,o.emplaceBack(i,i+1),o.emplaceBack(i,i+r),o.emplaceBack(i+1,i+r),128===e&&o.emplaceBack(i+r,i+r+1);o.emplaceBack(i+1,i+1+r)}return o}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Pi{static cacheKey(e,t,i,o){let r=`${t}${o?o.cacheKey:""}`;for(const t of i)e.usedDefines.includes(t)&&(r+=`/${t}`);return r}constructor(t,i,o,r,n,s){const a=t.gl;this.program=a.createProgram();const l=function(e){const t=[];for(let i=0;i<e.length;i++){if(null===e[i])continue;const o=e[i].split(" ");t.push(o.pop())}return t}(o.staticAttributes),c=r?r.getBinderAttributes():[],h=l.concat(c);let u=r?r.defines():[];u=u.concat(s.map((e=>`#define ${e}`)));const d=t.isWebGL2?"#version 300 es\n":"",_=d+u.concat(t.extStandardDerivatives&&0===d.length?"#extension GL_OES_standard_derivatives : enable\n".concat(hi):hi,hi,ci,li.fragmentSource,si.fragmentSource,o.fragmentSource).join("\n"),p=d+u.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",ci,li.vertexSource,si.vertexSource,ni.vertexSource,o.vertexSource).join("\n"),m=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);a.shaderSource(m,_),a.compileShader(m),a.attachShader(this.program,m);const f=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(f,p),a.compileShader(f),a.attachShader(this.program,f),this.attributes={},this.numAttributes=h.length;for(let e=0;e<this.numAttributes;e++)h[e]&&(a.bindAttribLocation(this.program,e,h[e]),this.attributes[h[e]]=e);a.linkProgram(this.program),a.deleteShader(f),a.deleteShader(m),this.fixedUniforms=n(t),this.binderUniforms=r?r.getUniforms(t):[],s.includes("TERRAIN")&&(this.terrainUniforms=(t=>({u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t)}))(t)),s.includes("GLOBE")&&(this.globeUniforms=(t=>({u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}))(t)),s.includes("FOG")&&(this.fogUniforms=(t=>({u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}))(t))}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const i=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e]&&i[e].set(this.program,e,t[e])}}setGlobeUniformValues(e,t){if(!this.globeUniforms)return;const i=this.globeUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e]&&i[e].set(this.program,e,t[e])}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const i=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e])}}draw(e,t,i,o,r,n,s,a,l,c,h,u,d,_,p){const m=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(i),e.setStencilMode(o),e.setColorMode(r),e.setCullFace(n);for(const e of Object.keys(this.fixedUniforms))this.fixedUniforms[e].set(this.program,e,s[e]);_&&_.setUniforms(this.program,e,this.binderUniforms,u,{zoom:d});const f={[m.LINES]:2,[m.TRIANGLES]:3,[m.LINE_STRIP]:1}[t];for(const i of h.get()){const o=i.vaos||(i.vaos={});(o[a]||(o[a]=new pi)).bind(e,this,l,_?_.getPaintVertexBuffers():[],c,i.vertexOffset,p||[]),m.drawElements(t,i.primitiveLength*f,m.UNSIGNED_SHORT,i.primitiveOffset*f*2)}}}function Ri(e,t){const i=Math.pow(2,t.tileID.overscaledZ),o=t.tileSize*Math.pow(2,e.transform.tileZoom)/i,r=o*(t.tileID.canonical.x+t.tileID.wrap*i),n=o*t.tileID.canonical.y;return{u_image:0,u_texsize:t.imageAtlasTexture.size,u_tile_units_to_pixels:1/P(t,1,e.transform.tileZoom),u_pixel_coord_upper:[r>>16,n>>16],u_pixel_coord_lower:[65535&r,65535&n]}}const Oi=e.create(),ki=(t,i,o,r,n,s,a,l,c,h,u)=>{const d=i.style.light,_=d.properties.get("position"),p=[_.x,_.y,_.z],m=e.create$1();"viewport"===d.properties.get("anchor")&&(e.fromRotation(m,-i.transform.angle),e.transformMat3(p,p,m));const f=d.properties.get("color"),g=i.transform,v={u_matrix:t,u_lightpos:p,u_lightintensity:d.properties.get("intensity"),u_lightcolor:[f.r,f.g,f.b],u_vertical_gradient:+o,u_opacity:r,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Oi,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:n,u_edge_radius:s};return"globe"===g.projection.name&&(v.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],v.u_zoom_transition=c,v.u_inv_rot_matrix=u,v.u_merc_center=h,v.u_up_dir=g.projection.upVector(new e.CanonicalTileID(0,0,0),h[0]*e.EXTENT,h[1]*e.EXTENT),v.u_height_lift=l),v},Bi=(t,i,o,r,n,s,a,l,c,h,u,d)=>{const _=ki(t,i,o,r,n,s,a,c,h,u,d),p={u_height_factor:-Math.pow(2,a.overscaledZ)/l.tileSize/8};return e.extend(_,Ri(i,l),p)},Fi=e=>({u_matrix:e}),Ui=(t,i,o)=>e.extend(Fi(t),Ri(i,o)),Ni=(e,t)=>({u_matrix:e,u_world:t}),Gi=(t,i,o,r)=>e.extend(Ui(t,i,o),{u_world:r}),ji=e.create(),Zi=(t,i,o,r,n,s)=>{const a=t.transform,l="globe"===a.projection.name;let c;if("map"===s.paint.get("circle-pitch-alignment"))if(l){const t=e.globePixelsToTileUnits(a.zoom,i.canonical)*a._pixelsPerMercatorPixel;c=Float32Array.from([t,0,0,t])}else c=a.calculatePixelsToTileUnitsMatrix(o);else c=new Float32Array([a.pixelsToGLUnits[0],0,0,a.pixelsToGLUnits[1]]);const h={u_camera_to_center_distance:a.cameraToCenterDistance,u_matrix:t.translatePosMatrix(i.projMatrix,o,s.paint.get("circle-translate"),s.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:c,u_inv_rot_matrix:ji,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(l){h.u_inv_rot_matrix=r,h.u_merc_center=n,h.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],h.u_zoom_transition=e.globeToMercatorTransition(a.zoom);const t=n[0]*e.EXTENT,o=n[1]*e.EXTENT;h.u_up_dir=a.projection.upVector(new e.CanonicalTileID(0,0,0),t,o)}return h},Vi=e=>{const t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},Wi=(t,i,o,r)=>{const n=e.EXTENT/o.tileSize;return{u_matrix:t,u_camera_to_center_distance:i.getCameraToCenterDistance(r),u_extrude_scale:[i.pixelsToGLUnits[0]/n,i.pixelsToGLUnits[1]/n]}},Xi=(e,t,i=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:i}),qi=e.create(),$i=(t,i,o,r,n,s,a)=>{const l=t.transform,c="globe"===l.projection.name,h=c?e.globePixelsToTileUnits(l.zoom,i.canonical)*l._pixelsPerMercatorPixel:P(o,1,s),u={u_matrix:i.projMatrix,u_extrude_scale:h,u_intensity:a,u_inv_rot_matrix:qi,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){u.u_inv_rot_matrix=r,u.u_merc_center=n,u.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],u.u_zoom_transition=e.globeToMercatorTransition(l.zoom);const t=n[0]*e.EXTENT,o=n[1]*e.EXTENT;u.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),t,o)}return u},Hi=(e,t,i,o,r,n,s)=>{const a=e.transform,l=a.calculatePixelsToTileUnitsMatrix(t);return{u_matrix:Ki(e,t,i,o),u_pixels_to_tile_units:l,u_device_pixel_ratio:n,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:r,u_texsize:Qi(i)?t.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Ji(t,e.transform),u_alpha_discard_threshold:0,u_trim_offset:s}},Yi=(e,t,i,o,r)=>{const n=e.transform;return{u_matrix:Ki(e,t,i,o),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:n.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:r,u_image:0,u_tile_units_to_pixels:Ji(t,n),u_units_to_pixels:[1/n.pixelsToGLUnits[0],1/n.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Ji(e,t){return 1/P(e,1,t.tileZoom)}function Ki(e,t,i,o){return e.translatePosMatrix(o||t.tileID.projMatrix,t,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}function Qi(e){const t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}const eo=(e,t,i,o,r,n)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:i,u_fade_t:o.mix,u_opacity:o.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(a=r.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(s=r.paint.get("raster-contrast"),s>0?1/(1-s):1+s),u_spin_weights:to(r.paint.get("raster-hue-rotate")),u_perspective_transform:n};var s,a};function to(e){e*=Math.PI/180;const t=Math.sin(e),i=Math.cos(e);return[(2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3]}const io=e.create(),oo=(t,i,o,r,n,s,a,l,c,h,u,d,_,p,m,f)=>{const g=n.transform,v={u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:g.cameraToCenterDistance,u_rotate_symbol:+o,u_aspect_ratio:g.width/g.height,u_fade_change:n.options.fadeDuration?n.symbolFadeChange:1,u_matrix:s,u_label_plane_matrix:a,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+r,u_texsize:h,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:io,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:io,u_up_vector:[0,-1,0]};return"globe"===f.name&&(v.u_tile_id=[u.canonical.x,u.canonical.y,1<<u.canonical.z],v.u_zoom_transition=d,v.u_inv_rot_matrix=p,v.u_merc_center=_,v.u_camera_forward=g._camera.forward(),v.u_ecef_origin=e.globeECEFOrigin(g.globeMatrix,u.toUnwrapped()),v.u_tile_matrix=Float32Array.from(g.globeMatrix),v.u_up_vector=m),v},ro=(t,i,o,r,n,s,a,l,c,h,u,d,_,p,m,f,g)=>e.extend(oo(t,i,o,r,n,s,a,l,c,h,d,_,p,m,f,g),{u_gamma_scale:r?n.transform.cameraToCenterDistance*Math.cos(n.terrain?0:n.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+u}),no=(t,i,o,r,n,s,a,l,c,h,u,d,_,p,m,f)=>e.extend(ro(t,i,o,r,n,s,a,l,!0,c,!0,u,d,_,p,m,f),{u_texsize_icon:h,u_texture_icon:1}),so=(e,t,i)=>({u_matrix:e,u_opacity:t,u_color:i}),ao=(t,i,o,r,n)=>e.extend(function(e,t,i){const o=t.imageManager.getPattern(e.toString()),{width:r,height:n}=t.imageManager.getPixelSize(),s=Math.pow(2,i.tileID.overscaledZ),a=i.tileSize*Math.pow(2,t.transform.tileZoom)/s,l=a*(i.tileID.canonical.x+i.tileID.wrap*s),c=a*i.tileID.canonical.y;return{u_image:0,u_pattern_tl:o.tl,u_pattern_br:o.br,u_texsize:[r,n],u_pattern_size:o.displaySize,u_tile_units_to_pixels:1/P(i,1,t.transform.tileZoom),u_pixel_coord_upper:[l>>16,c>>16],u_pixel_coord_lower:[65535&l,65535&c]}}(r,o,n),{u_matrix:t,u_opacity:i}),lo={fillExtrusion:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}),fillExtrusionPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}),fill:t=>({u_matrix:new e.UniformMatrix4f(t)}),fillPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),fillOutline:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}),fillOutlinePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),circle:t=>({u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),collisionBox:t=>({u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}),collisionCircle:t=>({u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}),debug:t=>({u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}),clippingMask:t=>({u_matrix:new e.UniformMatrix4f(t)}),heatmap:t=>({u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),heatmapTexture:t=>({u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}),hillshade:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}),hillshadePrepare:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}),line:t=>({u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}),linePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}),raster:t=>({u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}),symbolIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}),symbolSDF:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}),symbolTextAndIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}),background:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}),backgroundPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl:new e.Uniform2f(t),u_pattern_br:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_pattern_size:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),terrainRaster:xi,terrainDepth:xi,skybox:t=>({u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxGradient:t=>({u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxCapture:t=>({u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}),globeRaster:t=>({u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_skirt_height:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}),globeAtmosphere:t=>({u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)})};let co;function ho(t,i,o,r,n,s,a){const l=t.context,c=l.gl,h=t.transform,u=t.useProgram("collisionBox"),d=[];let _=0,p=0;for(let m=0;m<r.length;m++){const f=r[m],g=i.getTile(f),v=g.getBucket(o);if(!v)continue;const x=yt(f,v,h);let y=x;0===n[0]&&0===n[1]||(y=t.translatePosMatrix(x,g,n,s));const b=a?v.textCollisionBox:v.iconCollisionBox,w=v.collisionCircleArray;if(w.length>0){const t=e.create(),i=y;e.mul(t,v.placementInvProjMatrix,h.glCoordMatrix),e.mul(t,t,v.placementViewportMatrix),d.push({circleArray:w,circleOffset:p,transform:i,invTransform:t,projection:v.getProjection()}),_+=w.length/4,p=_}b&&(t.terrain&&t.terrain.setupElevationDraw(g,u),u.draw(l,c.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,Wi(y,h,g,v.getProjection()),o.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,h.zoom,null,[b.collisionVertexBuffer,b.collisionVertexBufferExt]))}if(!a||!d.length)return;const m=t.useProgram("collisionCircle"),f=new e.StructArrayLayout2f1f2i16;f.resize(4*_),f._trim();let g=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){const i=4*t,o=e.circleArray[i+0],r=e.circleArray[i+1],n=e.circleArray[i+2],s=e.circleArray[i+3];f.emplace(g++,o,r,n,s,0),f.emplace(g++,o,r,n,s,1),f.emplace(g++,o,r,n,s,2),f.emplace(g++,o,r,n,s,3)}(!co||co.length<2*_)&&(co=function(t){const i=2*t,o=new e.StructArrayLayout3ui6;o.resize(i),o._trim();for(let e=0;e<i;e++){const t=6*e;o.uint16[t+0]=4*e+0,o.uint16[t+1]=4*e+1,o.uint16[t+2]=4*e+2,o.uint16[t+3]=4*e+2,o.uint16[t+4]=4*e+3,o.uint16[t+5]=4*e+0}return o}(_));const v=l.createIndexBuffer(co,!0),x=l.createVertexBuffer(f,e.collisionCircleLayout.members,!0);for(const i of d){const r={u_matrix:i.transform,u_inv_matrix:i.invTransform,u_camera_to_center_distance:(y=h).getCameraToCenterDistance(i.projection),u_viewport_size:[y.width,y.height]};m.draw(l,c.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,r,o.id,x,v,e.SegmentVector.simpleSegment(0,2*i.circleOffset,i.circleArray.length,i.circleArray.length/2),null,h.zoom)}var y;x.destroy(),v.destroy()}const uo=e.create();function _o({width:t,height:i,anchor:o,textOffset:r,textScale:n},s){const{horizontalAlign:a,verticalAlign:l}=e.getAnchorAlignment(o),c=-(a-.5)*t,h=-(l-.5)*i,u=e.evaluateVariableOffset(o,r);return new e.pointGeometry((c/n+u[0])*s,(h/n+u[1])*s)}function po(t,i,o,r,n,s,a,l,c,h,u){const d=t.text.placedSymbolArray,_=t.text.dynamicLayoutVertexArray,p=t.icon.dynamicLayoutVertexArray,m={},f=t.getProjection(),g=bt(l,f,s),v=s.elevation,x=f.upVectorScale(l.canonical,s.center.lat,s.worldSize).metersToTile;_.clear();for(let p=0;p<d.length;p++){const y=d.get(p),{tileAnchorX:b,tileAnchorY:w,numGlyphs:T}=y,E=t.allowVerticalPlacement&&!y.placedOrientation,C=y.hidden||!y.crossTileID||E?null:r[y.crossTileID];if(C){let r=0,d=0,p=0;if(v){const e=v?v.getAtTileOffset(l,b,w):0,[t,i,o]=f.upVector(l.canonical,b,w);r=e*t*x,d=e*i*x,p=e*o*x}let[E,M,I,S]=nt(y.projectedAnchorX+r,y.projectedAnchorY+d,y.projectedAnchorZ+p,o?g:a);const D=st(s.getCameraToCenterDistance(f),S);let L=n.evaluateSizeForFeature(t.textSizeData,h,y)*D/e.ONE_EM;o&&(L*=t.tilePixelRatio/c);const z=_o(C,L);o?(({x:E,y:M,z:I}=f.projectTilePoint(b+z.x,w+z.y,l.canonical)),[E,M,I]=nt(E+r,M+d,I+p,a)):(i&&z._rotate(-s.angle),E+=z.x,M+=z.y,I=0);const A=t.allowVerticalPlacement&&y.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<T;t++)e.addDynamicAttributes(_,E,M,I,A);u&&y.associatedIconIndex>=0&&(m[y.associatedIconIndex]={x:E,y:M,z:I,angle:A})}else mt(T,_)}if(u){p.clear();const i=t.icon.placedSymbolArray;for(let t=0;t<i.length;t++){const o=i.get(t),{numGlyphs:r}=o,n=m[t];if(o.hidden||!n)mt(r,p);else{const{x:t,y:i,z:o,angle:s}=n;for(let n=0;n<r;n++)e.addDynamicAttributes(p,t,i,o,s)}}t.icon.dynamicLayoutVertexBuffer.updateData(p)}t.text.dynamicLayoutVertexBuffer.updateData(_)}function mo(e,t,i){return i.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function fo(t,i,o,r,n,s,a,l,c,h,u,d){const _=t.context,p=_.gl,m=t.transform,f="map"===l,g="map"===c,v=f&&"point"!==o.layout.get("symbol-placement"),x=f&&!g&&!v,y=void 0!==o.layout.get("symbol-sort-key").constantOr(1);let b=!1;const w=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),T=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],E=o.layout.get("text-variable-anchor"),C="globe"===m.projection.name,M=[],I=[0,-1,0];let S=I;!C&&!m.mercatorFromTransition||f||(S=function(t){const i=t._camera.getWorldToCamera(t.worldSize,1),o=e.multiply([],i,t.globeMatrix);e.invert(o,o);const r=[0,0,0],n=[0,1,0,0];return e.transformMat4$1(n,n,o),r[0]=n[0],r[1]=n[1],r[2]=n[2],e.normalize(r,r),r}(m));for(const l of r){const r=i.getTile(l),c=r.getBucket(o);if(!c)continue;if("mercator"===c.projection.name&&C)continue;const u=n?c.text:c.icon;if(!u||c.fullyClipped||!u.segments.get().length)continue;const d=u.programConfigurations.get(o.id),_=n||c.sdfIcons,w=n?c.textSizeData:c.iconSizeData,D=g||0!==m.pitch,L=e.evaluateSizeForZoom(w,m.zoom);let z,A,P,R,O=[0,0],k=null;if(n){if(A=r.glyphAtlasTexture,P=p.LINEAR,z=r.glyphAtlasTexture.size,c.iconsInText){O=r.imageAtlasTexture.size,k=r.imageAtlasTexture;const e="composite"===w.kind||"camera"===w.kind;R=D||t.options.rotating||t.options.zooming||e?p.LINEAR:p.NEAREST}}else{const e=1!==o.layout.get("icon-size").constantOr(0)||c.iconsNeedLinear;A=r.imageAtlasTexture,P=_||t.options.rotating||t.options.zooming||e||D?p.LINEAR:p.NEAREST,z=r.imageAtlasTexture.size}const B="globe"===c.projection.name,F=B?S:I,U=B?e.globeToMercatorTransition(m.zoom):0,N=bt(l,c.getProjection(),m),G=m.calculatePixelsToTileUnitsMatrix(r),j=it(N,r.tileID.canonical,g,f,m,c.getProjection(),G),Z=t.terrain&&g&&v?e.invert(e.create(),j):uo,V=rt(N,r.tileID.canonical,g,f,m,c.getProjection(),G),W=E&&c.hasTextData(),X="none"!==o.layout.get("icon-text-fit")&&W&&c.hasIconData();if(v){const e=m.elevation,i=e?e.getAtTileOffsetFunc(l,m.center.lat,m.worldSize,c.getProjection()):null,o=ot(N,r.tileID.canonical,g,f,m,c.getProjection(),G);lt(c,N,t,n,o,V,g,h,i,l)}const q=v||n&&E||X,$=t.translatePosMatrix(N,r,s,a),H=q?uo:j,Y=t.translatePosMatrix(V,r,s,a,!0),J=c.getProjection().createInversionMatrix(m,l.canonical),K=[];t.terrainRenderModeElevated()&&g&&K.push("PITCH_WITH_MAP_TERRAIN"),B&&K.push("PROJECTION_GLOBE_VIEW"),q&&K.push("PROJECTED_POS_ON_VIEWPORT");const Q=_&&0!==o.paint.get(n?"text-halo-width":"icon-halo-width").constantOr(1);let ee;ee=_?c.iconsInText?no(w.kind,L,x,g,t,$,H,Y,z,O,l,U,T,J,F,c.getProjection()):ro(w.kind,L,x,g,t,$,H,Y,n,z,!0,l,U,T,J,F,c.getProjection()):oo(w.kind,L,x,g,t,$,H,Y,n,z,l,U,T,J,F,c.getProjection());const te={program:t.useProgram(mo(_,n,c),d,K),buffers:u,uniformValues:ee,atlasTexture:A,atlasTextureIcon:k,atlasInterpolation:P,atlasInterpolationIcon:R,isSDF:_,hasHalo:Q,tile:r,labelPlaneMatrixInv:Z};if(y&&c.canOverlap){b=!0;const t=u.segments.get();for(const i of t)M.push({segments:new e.SegmentVector([i]),sortKey:i.sortKey,state:te})}else M.push({segments:u.segments,sortKey:0,state:te})}b&&M.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of M){const i=e.state;if(t.terrain&&t.terrain.setupElevationDraw(i.tile,i.program,{useDepthForOcclusion:!C,labelPlaneMatrixInv:i.labelPlaneMatrixInv}),_.activeTexture.set(p.TEXTURE0),i.atlasTexture.bind(i.atlasInterpolation,p.CLAMP_TO_EDGE),i.atlasTextureIcon&&(_.activeTexture.set(p.TEXTURE1),i.atlasTextureIcon&&i.atlasTextureIcon.bind(i.atlasInterpolationIcon,p.CLAMP_TO_EDGE)),i.isSDF){const r=i.uniformValues;i.hasHalo&&(r.u_is_halo=1,go(i.buffers,e.segments,o,t,i.program,w,u,d,r)),r.u_is_halo=0}go(i.buffers,e.segments,o,t,i.program,w,u,d,i.uniformValues)}}function go(t,i,o,r,n,s,a,l,c){const h=r.context,u=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];n.draw(h,h.gl.TRIANGLES,s,a,l,e.CullFaceMode.disabled,c,o.id,t.layoutVertexBuffer,t.indexBuffer,i,o.paint,r.transform.zoom,t.programConfigurations.get(o.id),u)}function vo(t,i,o,r,n,s,a){const l=t.context.gl,c=o.paint.get("fill-pattern"),h=c&&c.constantOr(1);let u,d,_,p,m;a?(d=h&&!o.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",u=l.LINES):(d=h?"fillPattern":"fill",u=l.TRIANGLES);for(const f of r){const r=i.getTile(f);if(h&&!r.patternsLoaded())continue;const g=r.getBucket(o);if(!g)continue;t.prepareDrawTile();const v=g.programConfigurations.get(o.id),x=t.useProgram(d,v);h&&(t.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),v.updatePaintBuffers());const y=c.constantOr(null);if(y&&r.imageAtlas){const e=r.imageAtlas.patternPositions[y.toString()];e&&v.setConstantPatternPositions(e)}const b=t.translatePosMatrix(f.projMatrix,r,o.paint.get("fill-translate"),o.paint.get("fill-translate-anchor"));if(a){p=g.indexBuffer2,m=g.segments2;const e=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];_="fillOutlinePattern"===d&&h?Gi(b,t,r,e):Ni(b,e)}else p=g.indexBuffer,m=g.segments,_=h?Ui(b,t,r):Fi(b);t.prepareDrawProgram(t.context,x,f.toUnwrapped()),x.draw(t.context,u,n,t.stencilModeForClipping(f),s,e.CullFaceMode.disabled,_,o.id,g.layoutVertexBuffer,p,m,o.paint,t.transform.zoom,v)}}function xo(t,i,o,r,n,s,a){const l=t.context,c=l.gl,h=t.transform,u=o.paint.get("fill-extrusion-pattern"),d=u.constantOr(1),_=o.paint.get("fill-extrusion-opacity"),p=[o.paint.get("fill-extrusion-ambient-occlusion-intensity"),o.paint.get("fill-extrusion-ambient-occlusion-radius")],m=o.layout.get("fill-extrusion-edge-radius"),f="globe"===h.projection.name?e.fillExtrusionHeightLift():0,g="globe"===h.projection.name,v=g?e.globeToMercatorTransition(h.zoom):0,x=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],y=[];g&&y.push("PROJECTION_GLOBE_VIEW"),p[0]>0&&y.push("FAUX_AO");for(const b of r){const r=i.getTile(b),w=r.getBucket(o);if(!w||w.projection.name!==h.projection.name)continue;const T=w.programConfigurations.get(o.id),E=t.useProgram(d?"fillExtrusionPattern":"fillExtrusion",T,y);if(t.terrain){const e=t.terrain;if(t.style.terrainSetForDrapingOnly())e.setupElevationDraw(r,E,{useMeterToDem:!0});else{if(!w.enableTerrain)continue;if(e.setupElevationDraw(r,E,{useMeterToDem:!0}),yo(l,i,b,w,o,e),!w.centroidVertexBuffer){const e=E.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0)}}}d&&(t.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),T.updatePaintBuffers());const C=u.constantOr(null);if(C&&r.imageAtlas){const e=r.imageAtlas.patternPositions[C.toString()];e&&T.setConstantPatternPositions(e)}const M=t.translatePosMatrix(b.projMatrix,r,o.paint.get("fill-extrusion-translate"),o.paint.get("fill-extrusion-translate-anchor")),I=h.projection.createInversionMatrix(h,b.canonical),S=o.paint.get("fill-extrusion-vertical-gradient"),D=d?Bi(M,t,S,_,p,m,b,r,f,v,x,I):ki(M,t,S,_,p,m,b,f,v,x,I);t.prepareDrawProgram(l,E,b.toUnwrapped());const L=[];t.terrain&&L.push(w.centroidVertexBuffer),g&&L.push(w.layoutVertexExtBuffer),E.draw(l,l.gl.TRIANGLES,n,s,a,e.CullFaceMode.backCCW,D,o.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,o.paint,t.transform.zoom,T,L)}}function yo(t,i,o,r,n,s){const a=[t=>{let i=t.canonical.x-1,o=t.wrap;return i<0&&(i=(1<<t.canonical.z)-1,o--),new e.OverscaledTileID(t.overscaledZ,o,t.canonical.z,i,t.canonical.y)},t=>{let i=t.canonical.x+1,o=t.wrap;return i===1<<t.canonical.z&&(i=0,o++),new e.OverscaledTileID(t.overscaledZ,o,t.canonical.z,i,t.canonical.y)},t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)],l=e=>{const t=i.getSource().minzoom,o=e=>{const t=i.getTileByID(e);if(t&&t.hasData())return t.getBucket(n)},r=[0,-1,1];for(const i of r){if(e.overscaledZ+i<t)continue;const r=o(e.calculateScaledKey(e.overscaledZ+i));if(r)return r}},c=[0,0,0],h=(t,i)=>(c[0]=Math.min(t.min.y,i.min.y),c[1]=Math.max(t.max.y,i.max.y),c[2]=e.EXTENT-i.min.x>t.max.x?i.min.x-e.EXTENT:t.max.x,c),u=(t,i)=>(c[0]=Math.min(t.min.x,i.min.x),c[1]=Math.max(t.max.x,i.max.x),c[2]=e.EXTENT-i.min.y>t.max.y?i.min.y-e.EXTENT:t.max.y,c),d=[(e,t)=>h(e,t),(e,t)=>h(t,e),(e,t)=>u(e,t),(e,t)=>u(t,e)],_=new e.pointGeometry(0,0);let p,m,f;const g=(t,i,r,n,a)=>{const l=[[n?r:t,n?t:r,0],[n?r:i,n?i:r,0]],c=a<0?e.EXTENT+a:a,h=[n?c:(t+i)/2,n?(t+i)/2:c,0];return 0===r&&a<0||0!==r&&a>0?s.getForTilePoints(f,[h],!0,m):l.push(h),s.getForTilePoints(o,l,!0,p),Math.max(l[0][2],l[1][2],h[2])/s.exaggeration()};for(let t=0;t<4;t++){const i=(t<2?1:5)-t,n=r.borders[t];if(0===n.length)continue;const c=f=a[t](o),h=l(c);if(!(h&&h instanceof e.FillExtrusionBucket&&h.enableTerrain))continue;if(r.borderDoneWithNeighborZ[t]===h.canonical.z&&h.borderDoneWithNeighborZ[i]===r.canonical.z)continue;if(m=s.findDEMTileFor(c),!m||!m.dem)continue;if(!p){const e=s.findDEMTileFor(o);if(!e||!e.dem)return;p=e}const u=h.borders[i];let v=0;const x=h.borderDoneWithNeighborZ[i]!==r.canonical.z;if(r.canonical.z===h.canonical.z){for(let o=0;o<n.length;o++){const s=r.featuresOnBorder[n[o]],a=s.borders[t];let l;for(;v<u.length&&(l=h.featuresOnBorder[u[v]],!(l.borders[i][1]>a[0]+3));)x&&h.encodeCentroid(void 0,l,!1),v++;if(l&&v<u.length){const o=v;let n=0;for(;!(l.borders[i][0]>a[1]-3)&&(n++,++v!==u.length);)l=h.featuresOnBorder[u[v]];if(l=h.featuresOnBorder[u[o]],s.intersectsCount()>1||l.intersectsCount()>1||1!==n){1!==n&&(v=o),r.encodeCentroid(void 0,s,!1),x&&h.encodeCentroid(void 0,l,!1);continue}const c=d[t](s,l),p=t%2?e.EXTENT-1:0;_.x=g(c[0],Math.min(e.EXTENT-1,c[1]),p,t<2,c[2]),_.y=0,r.encodeCentroid(_,s,!1),x&&h.encodeCentroid(_,l,!1)}else r.encodeCentroid(void 0,s,!1)}r.borderDoneWithNeighborZ[t]=h.canonical.z,r.needsCentroidUpdate=!0,x&&(h.borderDoneWithNeighborZ[i]=r.canonical.z,h.needsCentroidUpdate=!0)}else{for(const e of n)r.encodeCentroid(void 0,r.featuresOnBorder[e],!1);if(x){for(const e of u)h.encodeCentroid(void 0,h.featuresOnBorder[e],!1);h.borderDoneWithNeighborZ[i]=r.canonical.z,h.needsCentroidUpdate=!0}r.borderDoneWithNeighborZ[t]=h.canonical.z,r.needsCentroidUpdate=!0}}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(t)}const bo=new e.Color(1,0,0,1),wo=new e.Color(0,1,0,1),To=new e.Color(0,0,1,1),Eo=new e.Color(1,0,1,1),Co=new e.Color(0,1,1,1);function Mo(t,i,o){const r=t.context,n=t.transform,s=r.gl,a="globe"===n.projection.name,l=a?["PROJECTION_GLOBE_VIEW"]:null;let c=o.projMatrix;if(a&&e.globeToMercatorTransition(n.zoom)>0){const t=e.transitionTileAABBinECEF(o.canonical,n),i=e.globeDenormalizeECEF(t);c=e.multiply(new Float32Array(16),n.globeMatrix,i),e.multiply(c,n.projMatrix,c)}const h=t.useProgram("debug",null,l),u=i.getTileByID(o.key);t.terrain&&t.terrain.setupElevationDraw(u,h);const d=e.DepthMode.disabled,_=e.StencilMode.disabled,p=t.colorModeForRenderPass(),m="$debug";r.activeTexture.set(s.TEXTURE0),t.emptyTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),a?u._makeGlobeTileDebugBuffers(t.context,n):u._makeDebugTileBoundsBuffers(t.context,n.projection);const f=u._tileDebugBuffer||t.debugBuffer,g=u._tileDebugIndexBuffer||t.debugIndexBuffer,v=u._tileDebugSegments||t.debugSegments;h.draw(r,s.LINE_STRIP,d,_,p,e.CullFaceMode.disabled,Xi(c,e.Color.red),m,f,g,v,null,null,null,[u._globeTileDebugBorderBuffer]);const x=u.latestRawTileData,y=Math.floor((x&&x.byteLength||0)/1024),b=i.getTile(o).tileSize,w=512/Math.min(b,512)*(o.overscaledZ/n.zoom)*.5;let T=o.canonical.toString();o.overscaledZ!==o.canonical.z&&(T+=` => ${o.overscaledZ}`),T+=` ${y}kb`,function(e,t){e.initDebugOverlayCanvas();const i=e.debugOverlayCanvas,o=e.context.gl,r=e.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,i.width,i.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(i),e.debugOverlayTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE)}(t,T);const E=u._tileDebugTextBuffer||t.debugBuffer,C=u._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,M=u._tileDebugTextSegments||t.debugSegments;h.draw(r,s.TRIANGLES,d,_,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,Xi(c,e.Color.transparent,w),m,E,C,M,null,null,null,[u._globeTileDebugTextBuffer])}function Io(e,t,i,o){Do(e,0,t+i/2,e.transform.width,i,o)}function So(e,t,i,o){Do(e,t-i/2,0,i,e.transform.height,o)}function Do(t,i,o,r,n,s){const a=t.context,l=a.gl;l.enable(l.SCISSOR_TEST),l.scissor(i*e.exported.devicePixelRatio,o*e.exported.devicePixelRatio,r*e.exported.devicePixelRatio,n*e.exported.devicePixelRatio),a.clear({color:s}),l.disable(l.SCISSOR_TEST)}const Lo=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:zo}=Lo;function Ao(e,t,i,o){e.emplaceBack(t,i,o)}class Po{constructor(t){this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,Ao(this.vertexArray,-1,-1,1),Ao(this.vertexArray,1,-1,1),Ao(this.vertexArray,-1,1,1),Ao(this.vertexArray,1,1,1),Ao(this.vertexArray,-1,-1,-1),Ao(this.vertexArray,1,-1,-1),Ao(this.vertexArray,-1,1,-1),Ao(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,zo),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}}function Ro(t,i,o,r,n,s){const a=t.gl,l=i.paint.get("sky-atmosphere-color"),c=i.paint.get("sky-atmosphere-halo-color"),h=i.paint.get("sky-atmosphere-sun-intensity"),u=((e,t,i,o,r)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:i,u_color_tint_r:[o.r,o.g,o.b,o.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(e.fromMat4(e.create$1(),r),n,h,l,c);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+s,i.skyboxTexture,0),o.draw(t,a.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,u,"skyboxCapture",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}const Oo=e.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class ko{constructor(t){const i=new e.StructArrayLayout5f20;i.emplaceBack(-1,1,1,0,0),i.emplaceBack(1,1,1,1,0),i.emplaceBack(1,-1,1,1,1),i.emplaceBack(-1,-1,1,0,1);const o=new e.StructArrayLayout3ui6;o.emplaceBack(0,1,2),o.emplaceBack(2,3,0),this.vertexBuffer=t.createVertexBuffer(i,Oo.members),this.indexBuffer=t.createIndexBuffer(o),this.segments=e.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Bo={symbol:function(t,i,o,r,n){if("translucent"!==t.renderPass)return;const s=e.StencilMode.disabled,a=t.colorModeForRenderPass();o.layout.get("text-variable-anchor")&&function(t,i,o,r,n,s,a){const l=i.transform,c="map"===n,h="map"===s;for(const i of t){const t=r.getTile(i),n=t.getBucket(o);if(!n||!n.text||!n.text.segments.get().length)continue;const s=e.evaluateSizeForZoom(n.textSizeData,l.zoom),u=bt(i,n.getProjection(),l),d=l.calculatePixelsToTileUnitsMatrix(t),_=it(u,t.tileID.canonical,h,c,l,n.getProjection(),d),p="none"!==o.layout.get("icon-text-fit")&&n.hasIconData();if(s){const o=Math.pow(2,l.zoom-t.tileID.overscaledZ);po(n,c,h,a,e.symbolSize,l,_,i,o,s,p)}}}(r,t,o,i,o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),n),0!==o.paint.get("icon-opacity").constantOr(1)&&fo(t,i,o,r,!1,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),o.layout.get("icon-rotation-alignment"),o.layout.get("icon-pitch-alignment"),o.layout.get("icon-keep-upright"),s,a),0!==o.paint.get("text-opacity").constantOr(1)&&fo(t,i,o,r,!0,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),o.layout.get("text-keep-upright"),s,a),i.map.showCollisionBoxes&&(ho(t,i,o,r,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),!0),ho(t,i,o,r,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),!1))},circle:function(t,i,o,r){if("translucent"!==t.renderPass)return;const n=o.paint.get("circle-opacity"),s=o.paint.get("circle-stroke-width"),a=o.paint.get("circle-stroke-opacity"),l=void 0!==o.layout.get("circle-sort-key").constantOr(1);if(0===n.constantOr(1)&&(0===s.constantOr(1)||0===a.constantOr(1)))return;const c=t.context,h=c.gl,u=t.transform,d=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),_=e.StencilMode.disabled,p=t.colorModeForRenderPass(),m="globe"===u.projection.name,f=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],g=[];for(let n=0;n<r.length;n++){const s=r[n],a=i.getTile(s),c=a.getBucket(o);if(!c||c.projection.name!==u.projection.name)continue;const h=c.programConfigurations.get(o.id),d=Vi(o);m&&d.push("PROJECTION_GLOBE_VIEW");const _=t.useProgram("circle",h,d),p=c.layoutVertexBuffer,v=c.globeExtVertexBuffer,x=c.indexBuffer,y=u.projection.createInversionMatrix(u,s.canonical),b={programConfiguration:h,program:_,layoutVertexBuffer:p,globeExtVertexBuffer:v,indexBuffer:x,uniformValues:Zi(t,s,a,y,f,o),tile:a};if(l){const t=c.segments.get();for(const i of t)g.push({segments:new e.SegmentVector([i]),sortKey:i.sortKey,state:b})}else g.push({segments:c.segments,sortKey:0,state:b})}l&&g.sort(((e,t)=>e.sortKey-t.sortKey));const v={useDepthForOcclusion:!m};for(const i of g){const{programConfiguration:r,program:n,layoutVertexBuffer:s,globeExtVertexBuffer:a,indexBuffer:l,uniformValues:m,tile:f}=i.state,g=i.segments;t.terrain&&t.terrain.setupElevationDraw(f,n,v),t.prepareDrawProgram(c,n,f.tileID.toUnwrapped()),n.draw(c,h.TRIANGLES,d,_,p,e.CullFaceMode.disabled,m,o.id,s,l,g,o.paint,u.zoom,r,[a])}},heatmap:function(t,i,o,r){if(0!==o.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const n=t.context,s=n.gl,a=e.StencilMode.disabled,l=new e.ColorMode([s.ONE,s.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,i,o){const r=e.gl,n=t.width*o,s=t.height*o;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,n,s]);let a=i.heatmapFbo;if(!a||a&&(a.width!==n||a.height!==s)){a&&a.destroy();const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),a=i.heatmapFbo=e.createFramebuffer(n,s,!1),function(e,t,i,o,r,n){const s=e.gl;s.texImage2D(s.TEXTURE_2D,0,e.isWebGL2&&e.extRenderToTextureHalfFloat?s.RGBA16F:s.RGBA,r,n,0,s.RGBA,e.extRenderToTextureHalfFloat?e.isWebGL2?s.HALF_FLOAT:e.extTextureHalfFloat.HALF_FLOAT_OES:s.UNSIGNED_BYTE,null),o.colorAttachment.set(i)}(e,0,t,a,n,s)}else r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),e.bindFramebuffer.set(a.framebuffer)}(n,t,o,"globe"===t.transform.projection.name?.5:.25),n.clear({color:e.Color.transparent});const c=t.transform,h="globe"===c.projection.name,u=h?["PROJECTION_GLOBE_VIEW"]:null,d=h?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,_=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)];for(let p=0;p<r.length;p++){const m=r[p];if(i.hasRenderableParent(m))continue;const f=i.getTile(m),g=f.getBucket(o);if(!g||g.projection.name!==c.projection.name)continue;const v=g.programConfigurations.get(o.id),x=t.useProgram("heatmap",v,u),{zoom:y}=t.transform;t.terrain&&t.terrain.setupElevationDraw(f,x),t.prepareDrawProgram(n,x,m.toUnwrapped());const b=c.projection.createInversionMatrix(c,m.canonical);x.draw(n,s.TRIANGLES,e.DepthMode.disabled,a,l,d,$i(t,m,f,b,_,y,o.paint.get("heatmap-intensity")),o.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,o.paint,t.transform.zoom,v,h?[g.globeExtVertexBuffer]:null)}n.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,i){const o=t.context,r=o.gl,n=i.heatmapFbo;if(!n)return;o.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.colorAttachment.get()),o.activeTexture.set(r.TEXTURE1);let s=i.colorRampTexture;s||(s=i.colorRampTexture=new e.Texture(o,i.colorRamp,r.RGBA)),s.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(o,r.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,((e,t,i,o)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}))(0,i),i.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,i.paint,t.transform.zoom)}(t,o))},line:function(t,i,o,r){if("translucent"!==t.renderPass)return;const n=o.paint.get("line-opacity"),s=o.paint.get("line-width");if(0===n.constantOr(1)||0===s.constantOr(1))return;const a=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,h=o.paint.get("line-dasharray"),u=h.constantOr(1),d=o.layout.get("line-cap"),_=o.paint.get("line-pattern"),p=_.constantOr(1),m=o.paint.get("line-gradient"),f=p?"linePattern":"line",g=t.context,v=g.gl,x=(e=>{const t=[];Qi(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT");const i=e.paint.get("line-trim-offset");0===i[0]&&0===i[1]||t.push("RENDER_LINE_TRIM_OFFSET");const o=e.paint.get("line-pattern").constantOr(1),r=1!==e.paint.get("line-opacity").constantOr(1);return!o&&r&&t.push("RENDER_LINE_ALPHA_DISCARD"),t})(o);let y=x.includes("RENDER_LINE_ALPHA_DISCARD");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(y=!1);for(const n of r){const r=i.getTile(n);if(p&&!r.patternsLoaded())continue;const s=r.getBucket(o);if(!s)continue;t.prepareDrawTile();const b=s.programConfigurations.get(o.id),w=t.useProgram(f,b,x),T=_.constantOr(null);if(T&&r.imageAtlas){const e=r.imageAtlas.patternPositions[T.toString()];e&&b.setConstantPatternPositions(e)}const E=h.constantOr(null),C=d.constantOr(null);if(!p&&E&&C&&r.lineAtlas){const e=r.lineAtlas.getDash(E,C);e&&b.setConstantPatternPositions(e)}let[M,I]=o.paint.get("line-trim-offset");if("round"===C||"square"===C){const e=1;M!==I&&(0===M&&(M-=e),1===I&&(I+=e))}const S=t.terrain?n.projMatrix:null,D=p?Yi(t,r,o,S,c):Hi(t,r,o,S,s.lineClipsArray.length,c,[M,I]);if(m){const r=s.gradients[o.id];let a=r.texture;if(o.gradientVersion!==r.version){let l=256;if(o.stepInterpolant){const o=i.getSource().maxzoom,r=n.canonical.z===o?Math.ceil(1<<t.transform.maxZoom-n.canonical.z):1;l=e.clamp(e.nextPowerOfTwo(s.maxLineLength/e.EXTENT*1024*r),256,g.maxTextureSize)}r.gradient=e.renderColorRamp({expression:o.gradientExpression(),evaluationKey:"lineProgress",resolution:l,image:r.gradient||void 0,clips:s.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new e.Texture(g,r.gradient,v.RGBA),r.version=o.gradientVersion,a=r.texture}g.activeTexture.set(v.TEXTURE1),a.bind(o.stepInterpolant?v.NEAREST:v.LINEAR,v.CLAMP_TO_EDGE)}u&&(g.activeTexture.set(v.TEXTURE0),r.lineAtlasTexture.bind(v.LINEAR,v.REPEAT),b.updatePaintBuffers()),p&&(g.activeTexture.set(v.TEXTURE0),r.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),b.updatePaintBuffers()),t.prepareDrawProgram(g,w,n.toUnwrapped());const L=i=>{w.draw(g,v.TRIANGLES,a,i,l,e.CullFaceMode.disabled,D,o.id,s.layoutVertexBuffer,s.indexBuffer,s.segments,o.paint,t.transform.zoom,b,[s.layoutVertexBuffer2])};if(y){const i=t.stencilModeForClipping(n).ref;0===i&&t.terrain&&g.clear({stencil:0});const o={func:v.EQUAL,mask:255};D.u_alpha_discard_threshold=.8,L(new e.StencilMode(o,i,255,v.KEEP,v.KEEP,v.INVERT)),D.u_alpha_discard_threshold=0,L(new e.StencilMode(o,i,255,v.KEEP,v.KEEP,v.KEEP))}else L(t.stencilModeForClipping(n))}y&&(t.resetStencilClippingMasks(),t.terrain&&g.clear({stencil:0}))},fill:function(t,i,o,r){const n=o.paint.get("fill-color"),s=o.paint.get("fill-opacity");if(0===s.constantOr(1))return;const a=t.colorModeForRenderPass(),l=o.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===n.constantOr(e.Color.transparent).a&&1===s.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const n=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);vo(t,i,o,r,n,a,!1)}if("translucent"===t.renderPass&&o.paint.get("fill-antialias")){const n=t.depthModeForSublayer(o.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);vo(t,i,o,r,n,a,!0)}},"fill-extrusion":function(t,i,o,r){const n=o.paint.get("fill-extrusion-opacity");if(0!==n&&"translucent"===t.renderPass){const s=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==n||o.paint.get("fill-extrusion-pattern").constantOr(1))xo(t,i,o,r,s,e.StencilMode.disabled,e.ColorMode.disabled),xo(t,i,o,r,s,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else{const n=t.colorModeForRenderPass();xo(t,i,o,r,s,e.StencilMode.disabled,n)}}},hillshade:function(t,i,o,r){if("offscreen"!==t.renderPass&&"translucent"!==t.renderPass)return;const n=t.context,s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),a=t.colorModeForRenderPass(),l=t.terrain&&t.terrain.renderingToTexture,[c,h]="translucent"!==t.renderPass||l?[{},r]:t.stencilConfigForOverlap(r);for(const r of h){const n=i.getTile(r);if(n.needsHillshadePrepare&&"offscreen"===t.renderPass)vi(t,n,o,s,e.StencilMode.disabled,a);else if("translucent"===t.renderPass){const e=l&&t.terrain?t.terrain.stencilModeForRTTOverlap(r):c[r.overscaledZ];fi(t,r,n,o,s,e,a)}}n.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks()},raster:function(t,i,o,r,n,s){if("translucent"!==t.renderPass)return;if(0===o.paint.get("raster-opacity"))return;if(!r.length)return;const a=t.context,l=a.gl,c=i.getSource(),h=t.useProgram("raster"),u=t.colorModeForRenderPass(),d=t.terrain&&t.terrain.renderingToTexture,[_,p]=c instanceof ze||d?[{},r]:t.stencilConfigForOverlap(r),m=p[p.length-1].overscaledZ,f=!t.options.moving;for(const r of p){const n=d?e.DepthMode.disabled:t.depthModeForSublayer(r.overscaledZ-m,1===o.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,l.LESS),p=r.toUnwrapped(),g=i.getTile(r);if(d&&(!g||!g.hasData()))continue;const v=d?r.projMatrix:t.transform.calculateProjMatrix(p,f),x=t.terrain&&d?t.terrain.stencilModeForRTTOverlap(r):_[r.overscaledZ],y=s?0:o.paint.get("raster-fade-duration");g.registerFadeDuration(y);const b=i.findLoadedParent(r,0),w=Si(g,b,i,t.transform,y);let T,E;t.terrain&&t.terrain.prepareDrawTile();const C="nearest"===o.paint.get("raster-resampling")?l.NEAREST:l.LINEAR;a.activeTexture.set(l.TEXTURE0),g.texture.bind(C,l.CLAMP_TO_EDGE),a.activeTexture.set(l.TEXTURE1),b?(b.texture.bind(C,l.CLAMP_TO_EDGE),T=Math.pow(2,b.tileID.overscaledZ-g.tileID.overscaledZ),E=[g.tileID.canonical.x*T%1,g.tileID.canonical.y*T%1]):g.texture.bind(C,l.CLAMP_TO_EDGE),g.texture.useMipmap&&a.extTextureFilterAnisotropic&&t.transform.pitch>20&&l.texParameterf(l.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax);const M=eo(v,E||[0,0],T||1,w,o,c instanceof ze?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(a,h,p),c instanceof ze)c.boundsBuffer&&c.boundsSegments&&h.draw(a,l.TRIANGLES,n,e.StencilMode.disabled,u,e.CullFaceMode.disabled,M,o.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else{const{tileBoundsBuffer:i,tileBoundsIndexBuffer:r,tileBoundsSegments:s}=t.getTileBoundsBuffers(g);h.draw(a,l.TRIANGLES,n,x,u,e.CullFaceMode.disabled,M,o.id,i,r,s)}}t.resetStencilClippingMasks()},background:function(t,i,o,r){const n=o.paint.get("background-color"),s=o.paint.get("background-opacity");if(0===s)return;const a=t.context,l=a.gl,c=t.transform,h=c.tileSize,u=o.paint.get("background-pattern");if(t.isPatternMissing(u))return;const d=!u&&1===n.a&&1===s&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass!==d)return;const _=e.StencilMode.disabled,p=t.depthModeForSublayer(0,"opaque"===d?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),m=t.colorModeForRenderPass(),f=t.useProgram(u?"backgroundPattern":"background");let g,v=r;v||(g=t.getBackgroundTiles(),v=Object.values(g).map((e=>e.tileID))),u&&(a.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));for(const d of v){const v=d.toUnwrapped(),x=r?d.projMatrix:t.transform.calculateProjMatrix(v);t.prepareDrawTile();const y=i?i.getTile(d):g?g[d.key]:new e.Tile(d,h,c.zoom,t),b=u?ao(x,s,t,u,{tileID:d,tileSize:h}):so(x,s,n);t.prepareDrawProgram(a,f,v);const{tileBoundsBuffer:w,tileBoundsIndexBuffer:T,tileBoundsSegments:E}=t.getTileBoundsBuffers(y);f.draw(a,l.TRIANGLES,p,_,m,e.CullFaceMode.disabled,b,o.id,w,T,E)}},sky:function(t,i,o){const r=t.transform,n="mercator"===r.projection.name||"globe"===r.projection.name?1:e.smoothstep(7,8,r.zoom),s=o.paint.get("sky-opacity")*n;if(0===s)return;const a=t.context,l=o.paint.get("sky-type"),c=new e.DepthMode(a.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),h=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?o.needsSkyboxCapture(t)&&(function(t,i,o,r){const n=t.context,s=n.gl;let a=i.skyboxFbo;if(!a){a=i.skyboxFbo=n.createFramebuffer(32,32,!1),i.skyboxGeometry=new Po(n),i.skyboxTexture=n.gl.createTexture(),s.bindTexture(s.TEXTURE_CUBE_MAP,i.skyboxTexture),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MIN_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MAG_FILTER,s.LINEAR);for(let e=0;e<6;++e)s.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,s.RGBA,32,32,0,s.RGBA,s.UNSIGNED_BYTE,null)}n.bindFramebuffer.set(a.framebuffer),n.viewport.set([0,0,32,32]);const l=i.getCenter(t,!0),c=t.useProgram("skyboxCapture"),h=new Float64Array(16);e.identity(h),e.rotateY(h,h,.5*-Math.PI),Ro(n,i,c,h,l,0),e.identity(h),e.rotateY(h,h,.5*Math.PI),Ro(n,i,c,h,l,1),e.identity(h),e.rotateX(h,h,.5*-Math.PI),Ro(n,i,c,h,l,2),e.identity(h),e.rotateX(h,h,.5*Math.PI),Ro(n,i,c,h,l,3),e.identity(h),Ro(n,i,c,h,l,4),e.identity(h),e.rotateY(h,h,Math.PI),Ro(n,i,c,h,l,5),n.viewport.set([0,0,t.width,t.height])}(t,o),o.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,i,o,r,n){const s=t.context,a=s.gl,l=t.transform,c=t.useProgram("skybox");s.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_CUBE_MAP,i.skyboxTexture);const h=((e,t,i,o,r)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:o,u_temporal_offset:r}))(l.skyboxMatrix,i.getCenter(t,!1),0,r,n);t.prepareDrawProgram(s,c),c.draw(s,a.TRIANGLES,o,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,h,"skybox",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}(t,o,c,s,h):"gradient"===l&&"sky"===t.renderPass&&function(t,i,o,r,n){const s=t.context,a=s.gl,l=t.transform,c=t.useProgram("skyboxGradient");i.skyboxGeometry||(i.skyboxGeometry=new Po(s)),s.activeTexture.set(a.TEXTURE0);let h=i.colorRampTexture;h||(h=i.colorRampTexture=new e.Texture(s,i.colorRamp,a.RGBA)),h.bind(a.LINEAR,a.CLAMP_TO_EDGE);const u=((t,i,o,r,n)=>({u_matrix:t,u_color_ramp:0,u_center_direction:i,u_radius:e.degToRad(o),u_opacity:r,u_temporal_offset:n}))(l.skyboxMatrix,i.getCenter(t,!1),i.paint.get("sky-gradient-radius"),r,n);t.prepareDrawProgram(s,c),c.draw(s,a.TRIANGLES,o,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,u,"skyboxGradient",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}(t,o,c,s,h)},debug:function(e,t,i){for(let o=0;o<i.length;o++)Mo(e,t,i[o])},custom:function(t,i,o,r){const n=t.context,s=o.implementation;if(!t.transform.projection.unsupportedLayers||!t.transform.projection.unsupportedLayers.includes("custom")||t.terrain&&(t.terrain.renderingToTexture||"offscreen"===t.renderPass)&&o.isLayerDraped()){if("offscreen"===t.renderPass){const i=s.prerender;if(i){if(t.setCustomLayerDefaults(),n.setColorMode(t.colorModeForRenderPass()),"globe"===t.transform.projection.name){const o=t.transform.pointMerc;i.call(s,n.gl,t.transform.customLayerMatrix(),t.transform.getProjection(),t.transform.globeToMercatorMatrix(),e.globeToMercatorTransition(t.transform.zoom),[o.x,o.y],t.transform.pixelsPerMeterRatio)}else i.call(s,n.gl,t.transform.customLayerMatrix());n.setDirty(),t.setBaseState()}}else if("translucent"===t.renderPass){if(t.terrain&&t.terrain.renderingToTexture){const i=s.renderToTile;if(i){const o=r[0].canonical,a=new e.MercatorCoordinate(o.x+r[0].wrap*(1<<o.z),o.y,o.z);n.setDepthMode(e.DepthMode.disabled),n.setStencilMode(e.StencilMode.disabled),n.setColorMode(t.colorModeForRenderPass()),t.setCustomLayerDefaults(),i.call(s,n.gl,a),n.setDirty(),t.setBaseState()}return}t.setCustomLayerDefaults(),n.setColorMode(t.colorModeForRenderPass()),n.setStencilMode(e.StencilMode.disabled);const i="3d"===s.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);if(n.setDepthMode(i),"globe"===t.transform.projection.name){const i=t.transform.pointMerc;s.render(n.gl,t.transform.customLayerMatrix(),t.transform.getProjection(),t.transform.globeToMercatorMatrix(),e.globeToMercatorTransition(t.transform.zoom),[i.x,i.y],t.transform.pixelsPerMeterRatio)}else s.render(n.gl,t.transform.customLayerMatrix());n.setDirty(),t.setBaseState(),n.bindFramebuffer.set(null)}}else e.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class Fo{constructor(t,i,o=!1){this.context=new Me(t,o),this.transform=i,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new qt,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(e,t){const i=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(i||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Ai(this,e));const o=this._terrain;this.transform.elevation=i?o:null,o.update(e,this.transform,t)}_updateFog(e){const t=e.fog;if(!t||"globe"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[i,o]=t.getFovAdjustedRange(this.transform._fov);if(i>o)return void(this.transform.fogCullDistSq=null);const r=i+.78*(o-i);this.transform.fogCullDistSq=r*r}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,i){if(this.width=t*e.exported.devicePixelRatio,this.height=i*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._layers[e].resize()}setup(){const t=this.context,i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(e.EXTENT,0),i.emplaceBack(0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(e.EXTENT,0),o.emplaceBack(0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(o,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const r=new e.StructArrayLayout2i4;r.emplaceBack(-1,-1),r.emplaceBack(1,-1),r.emplaceBack(-1,1),r.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const n=new e.StructArrayLayout4i8;n.emplaceBack(0,0,0,0),n.emplaceBack(e.EXTENT,0,e.EXTENT,0),n.emplaceBack(0,e.EXTENT,0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(n,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s);const a=new e.StructArrayLayout1ui2;for(const e of[0,1,3,2,0])a.emplaceBack(e);this.debugIndexBuffer=t.createIndexBuffer(a),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();const l=this.context.gl;this.stencilClearMode=new e.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new ko(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const t=this.context,i=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(t,i.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Ii(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(t,i,o){if(!i||this.currentStencilSource===i.id||!t.isTileClipped()||!o||0===o.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of o)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=i.id;const r=this.context,n=r.gl;this.nextStencilID+o.length>256&&this.clearStencil(),r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const s=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const t of o){const o=i.getTile(t),a=this._tileClippingMaskIDs[t.key]=this.nextStencilID++,{tileBoundsBuffer:l,tileBoundsIndexBuffer:c,tileBoundsSegments:h}=this.getTileBoundsBuffers(o);s.draw(r,n.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:n.ALWAYS,mask:0},a,255,n.KEEP,n.KEEP,n.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Ii(t.projMatrix),"$clipping",l,c,h)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,i=this.context.gl;return new e.StencilMode({func:i.NOTEQUAL,mask:255},t,255,i.KEEP,i.KEEP,i.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const i=this.context.gl;return new e.StencilMode({func:i.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,i.KEEP,i.KEEP,i.REPLACE)}stencilConfigForOverlap(t){const i=this.context.gl,o=t.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),r=o[o.length-1].overscaledZ,n=o[0].overscaledZ-r+1;if(n>1){this.currentStencilSource=void 0,this.nextStencilID+n>256&&this.clearStencil();const t={};for(let o=0;o<n;o++)t[o+r]=new e.StencilMode({func:i.GEQUAL,mask:255},o+this.nextStencilID,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID+=n,[t,o]}return[{[r]:e.StencilMode.disabled},o]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const i=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(i,i,i,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}depthModeForSublayer(t,i,o){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(o||this.context.gl.LEQUAL,i,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,i){this.style=t,this.options=i,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const o=this.style.order,r=this.style._sourceCaches;for(const e in r){const t=r[e];t.used&&t.prepare(this.context)}const n={},s={},a={};for(const e in r){const t=r[e];n[e]=t.getVisibleCoordinates(),s[e]=n[e].slice().reverse(),a[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<o.length;e++)if(this.style._layers[o[e]].is3D()){this.opaquePassCutoff=e;break}if(this.terrain&&(this.terrain.updateTileBinding(a),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),!e.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const e of o){const i=this.style._layers[e],o=t._getLayerSourceCache(i);if(!i.hasOffscreenPass()||i.isHidden(this.transform.zoom))continue;const r=o?s[o.id]:void 0;("custom"===i.type||i.isSky()||r&&r.length)&&this.renderLayer(this,o,i,r)}this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon];const l=this.terrain;if(l&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&l.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:i.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=o.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[o[this.currentLayer]],i=t._getLayerSourceCache(e);if(e.isSky())continue;const r=i?s[i.id]:void 0;this._renderTileClippingMasks(e,i,r),this.renderLayer(this,i,e,r)}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,i){const o=t.context,r=o.gl,n=t.transform,s=new e.DepthMode(r.LEQUAL,e.DepthMode.ReadOnly,[0,1]),a=t.useProgram("globeAtmosphere",null,"globe"===n.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),l=e.globeToMercatorTransition(n.zoom),c=i.properties.get("color").toArray01(),h=i.properties.get("high-color").toArray01(),u=i.properties.get("space-color").toArray01PremultipliedAlpha(),d=e.identity$1([]);e.rotateY$1(d,d,-e.degToRad(n._center.lng)),e.rotateX$1(d,d,e.degToRad(n._center.lat)),e.rotateZ$1(d,d,n.angle),e.rotateX$1(d,d,-n._pitch);const _=e.fromQuat(new Float32Array(16),d),p=e.mapValue(i.properties.get("star-intensity"),0,1,0,.25),m=5e-4,f=e.mapValue(i.properties.get("horizon-blend"),0,1,m,.25),g=e.globeUseCustomAntiAliasing(t,o,n)&&f===m?n.worldSize/(2*Math.PI*1.025)-1:n.globeRadius,v=t.frameCounter/1e3%1,x=e.length(n.globeCenterInViewSpace),y=Math.sqrt(Math.pow(x,2)-Math.pow(g,2)),b=Math.acos(y/x),w=((t,i,o,r,n,s,a,l,c,h,u,d,_,p)=>({u_frustum_tl:t,u_frustum_tr:i,u_frustum_br:o,u_frustum_bl:r,u_horizon:n,u_transition:s,u_fadeout_range:a,u_color:l,u_high_color:c,u_space_color:h,u_star_intensity:u,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:d,u_horizon_angle:_,u_rotation_matrix:p}))(n.frustumCorners.TL,n.frustumCorners.TR,n.frustumCorners.BR,n.frustumCorners.BL,n.frustumCorners.horizon,l,f,c,h,u,p,v,b,_);t.prepareDrawProgram(o,a);const T=t.atmosphereBuffer;T&&a.draw(o,r.TRIANGLES,s,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,"skybox",T.vertexBuffer,T.indexBuffer,T.segments)}(this,this.style.fog),this.renderPass="sky",(e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<o.length;this.currentLayer++){const e=this.style._layers[o[this.currentLayer]],i=t._getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,i,e,i?s[i.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<o.length;){const e=this.style._layers[o[this.currentLayer]],i=t._getLayerSourceCache(e);if(e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(e)){if(e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const r=i?("symbol"===e.type?a:s)[i.id]:void 0;this._renderTileClippingMasks(e,i,i?n[i.id]:void 0),this.renderLayer(this,i,e,r),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let i=null;e.values(this.style._layers).forEach((e=>{const o=t._getLayerSourceCache(e);o&&!e.isHidden(this.transform.zoom)&&(!i||i.getSource().maxzoom<o.getSource().maxzoom)&&(i=o)})),i&&this.options.showTileBoundaries&&Bo.debug(this,i,i.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Io(e,e.transform.height-(t.top||0),3,bo),Io(e,t.bottom||0,3,wo),So(e,t.left||0,3,To),So(e,e.transform.width-(t.right||0),3,Eo);const i=e.transform.centerPoint;!function(e,t,i,o){Do(e,t-1,i-10,2,20,o),Do(e,t-10,i-1,20,2,o)}(e,i.x,e.transform.height-i.y,Co)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}renderLayer(e,t,i,o){i.isHidden(this.transform.zoom)||("background"===i.type||"sky"===i.type||"custom"===i.type||o&&o.length)&&(this.id=i.id,this.gpuTimingStart(i),(!e.transform.projection.unsupportedLayers||!e.transform.projection.unsupportedLayers.includes(i.type)||e.terrain&&"custom"===i.type)&&Bo[i.type](e,t,i,o,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let i=this.gpuTimers[e.id];i||(i=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),i.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,i.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const i in e){const o=e[i],r=this.context.extTimerQuery,n=r.getQueryObjectEXT(o.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(o.query),t[i]=n}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery;let i=0;for(const o of e)i+=t.getQueryObjectEXT(o,t.QUERY_RESULT_EXT)/1e6,t.deleteQueryEXT(o);return i}translatePosMatrix(t,i,o,r,n){if(!o[0]&&!o[1])return t;const s=n?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(s){const e=Math.sin(s),t=Math.cos(s);o=[o[0]*t-o[1]*e,o[0]*e+o[1]*t]}const a=[n?o[0]:P(i,o[0],this.transform.zoom),n?o[1]:P(i,o[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,a),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){return null===e||void 0!==e&&!this.imageManager.getPattern(e.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=this.terrain&&0===this.terrain.exaggeration(),i=this.style&&this.style.fog,o=[];return this.terrainRenderModeElevated()&&o.push("TERRAIN"),"globe"===this.transform.projection.name&&o.push("GLOBE"),t&&o.push("ZERO_EXAGGERATION"),i&&!e&&0!==i.getOpacity(this.transform.pitch)&&o.push("FOG"),e&&o.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&o.push("OVERDRAW_INSPECTOR"),o}useProgram(e,t,i){this.cache=this.cache||{};const o=i||[],r=this.currentGlobalDefines().concat(o),n=Pi.cacheKey(ui[e],e,r,t);return this.cache[n]||(this.cache[n]=new Pi(this.context,e,ui[e],t,lo[e],r)),this.cache[n]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(t,i,o){if(this.terrain&&this.terrain.renderingToTexture)return;const r=this.style.fog;if(r){const n=r.getOpacity(this.transform.pitch),s=((t,i,o,r,n,s,a,l,c,h,u)=>{const d=t.transform,_=i.properties.get("color").toArray01();_[3]=r;const p=t.frameCounter/1e3%1;return{u_fog_matrix:o?d.calculateFogTileMatrix(o):t.identityMat,u_fog_range:i.getFovAdjustedRange(d._fov),u_fog_color:_,u_fog_horizon_blend:i.properties.get("horizon-blend"),u_fog_temporal_offset:p,u_frustum_tl:n,u_frustum_tr:s,u_frustum_br:a,u_frustum_bl:l,u_globe_pos:c,u_globe_radius:h,u_viewport:u,u_globe_transition:e.globeToMercatorTransition(d.zoom),u_is_globe:+("globe"===d.projection.name)}})(this,r,o,n,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);i.setFogUniformValues(t,s)}}setTileLoadedFlag(e){this.tileLoaded=e}saveCanvasCopy(){const e=this.canvasCopy();e&&(this.frameCopies.push(e),this.tileLoaded=!1)}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const t=this._backgroundTiles,i=this._backgroundTiles={},o=this.transform.coveringTiles({tileSize:512});for(const r of o)i[r.key]=t[r.key]||new e.Tile(r,512,this.transform.tileZoom,this);return i}clearBackgroundTiles(){this._backgroundTiles={}}}class Uo{constructor(e=0,t=0,i=0,o=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(i)||i<0||isNaN(o)||o<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=i,this.right=o}interpolate(t,i,o){return null!=i.top&&null!=t.top&&(this.top=e.number(t.top,i.top,o)),null!=i.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,i.bottom,o)),null!=i.left&&null!=t.left&&(this.left=e.number(t.left,i.left,o)),null!=i.right&&null!=t.right&&(this.right=e.number(t.right,i.right,o)),this}getCenter(t,i){const o=e.clamp((this.left+t-this.right)/2,0,t),r=e.clamp((this.top+i-this.bottom)/2,0,i);return new e.pointGeometry(o,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Uo(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function No(t,i){const o=e.getColumn(t,3);e.fromQuat(t,i),e.setColumn(t,3,o)}function Go(t,i){const o=e.identity$1([]);return e.rotateZ$1(o,o,-i),e.rotateX$1(o,o,-t),o}function jo(t,i){const o=[t[0],t[1],0],r=[i[0],i[1],0];if(e.length(o)>=1e-15){const t=e.normalize([],o);e.scale$2(r,t,e.dot(r,t)),i[0]=r[0],i[1]=r[1]}const n=e.cross([],i,t);if(e.len(n)<1e-15)return null;const s=Math.atan2(-n[1],n[0]);return Go(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),s)}class Zo{constructor(e,t){this.position=e,this.orientation=t}get position(){return this._position}set position(t){if(t){const i=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(i.x=e.wrap(i.x,0,1)),this._position=i}else this._position=null}lookAtPoint(t,i){if(this.orientation=null,!this.position)return;const o=this.position,r=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,n=e.MercatorCoordinate.fromLngLat(t,r),s=[n.x-o.x,n.y-o.y,n.z-o.z];i||(i=[0,0,1]),i[2]=Math.abs(i[2]),this.orientation=jo(s,i)}setPitchBearing(t,i){this.orientation=Go(e.degToRad(t),e.degToRad(-i))}}class Vo{constructor(t,i){this._transform=e.identity([]),this.orientation=i,this.position=t}get mercatorPosition(){const t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}get position(){const t=e.getColumn(this._transform,3);return[t[0],t[1],t[2]]}set position(t){var i;t&&e.setColumn(this._transform,3,[(i=t)[0],i[1],i[2],1])}get orientation(){return this._orientation}set orientation(t){this._orientation=t||e.identity$1([]),t&&No(this._transform,this._orientation)}getPitchBearing(){const e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Go(e,t),No(this._transform,this._orientation)}forward(){const t=e.getColumn(this._transform,2);return[-t[0],-t[1],-t[2]]}up(){const t=e.getColumn(this._transform,1);return[-t[0],-t[1],-t[2]]}right(){const t=e.getColumn(this._transform,0);return[t[0],t[1],t[2]]}getCameraToWorld(t,i){const o=new Float64Array(16);return e.invert(o,this.getWorldToCamera(t,i)),o}getWorldToCameraPosition(t,i,o){const r=this.position;e.scale$2(r,r,-t);const n=new Float64Array(16);return e.fromScaling(n,[o,o,o]),e.translate(n,n,r),n[10]*=i,n}getWorldToCamera(t,i){const o=new Float64Array(16),r=new Float64Array(4),n=this.position;return e.conjugate(r,this._orientation),e.scale$2(n,n,-t),e.fromQuat(o,r),e.translate(o,o,n),o[1]*=-1,o[5]*=-1,o[9]*=-1,o[13]*=-1,o[8]*=i,o[9]*=i,o[10]*=i,o[11]*=i,o}getCameraToClipPerspective(t,i,o,r){const n=new Float64Array(16);return e.perspective(n,t,i,o,r),n}getDistanceToElevation(t,i=!1){const o=0===t?0:e.mercatorZfromAltitude(t,i?e.latFromMercatorY(this.position[1]):this.position[1]),r=this.forward();return(o-this.position[2])/r[2]}clone(){return new Vo([...this.position],[...this.orientation])}}function Wo(t,i){const o=qo(t.projection,t.zoom,t.width,t.height),r=function(t,i,o,r,n){const s=new e.LngLat(o.lng-180*$o,o.lat),a=new e.LngLat(o.lng+180*$o,o.lat),l=t.project(s.lng,s.lat),c=t.project(a.lng,a.lat),h=-Math.atan2(c.y-l.y,c.x-l.x),u=e.MercatorCoordinate.fromLngLat(o);u.y=e.clamp(u.y,-.999975,.999975);const d=u.toLngLat(),_=t.project(d.lng,d.lat),p=e.MercatorCoordinate.fromLngLat(d);p.x+=$o;const m=p.toLngLat(),f=t.project(m.lng,m.lat),g=Yo(f.x-_.x,f.y-_.y,h),v=e.MercatorCoordinate.fromLngLat(d);v.y+=$o;const x=v.toLngLat(),y=t.project(x.lng,x.lat),b=Yo(y.x-_.x,y.y-_.y,h),w=Math.abs(g.x)/Math.abs(b.y),T=e.identity([]);e.rotateZ(T,T,-h*(1-(n?0:r)));const E=e.identity([]);return e.scale(E,E,[1,1-(1-w)*r,1]),E[4]=-b.x/b.y*r,e.rotateZ(E,E,h),e.multiply(E,T,E),E}(t.projection,0,t.center,o,i),n=Xo(t);return e.scale(r,r,[n,n,1]),r}function Xo(t){const i=t.projection,o=qo(t.projection,t.zoom,t.width,t.height),r=Ho(i,t.center),n=Ho(i,e.LngLat.convert(i.center));return Math.pow(2,r*o+(1-o)*n)}function qo(t,i,o,r,n=1/0){const s=t.range;if(!s)return 0;const a=Math.min(n,Math.max(o,r)),l=Math.log(a/1024)/Math.LN2;return e.smoothstep(s[0]+l,s[1]+l,i)}const $o=1/4e4;function Ho(t,i){const o=e.clamp(i.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),r=new e.LngLat(i.lng-180*$o,o),n=new e.LngLat(i.lng+180*$o,o),s=t.project(r.lng,o),a=t.project(n.lng,o),l=e.MercatorCoordinate.fromLngLat(r),c=e.MercatorCoordinate.fromLngLat(n),h=a.x-s.x,u=a.y-s.y,d=c.x-l.x,_=c.y-l.y,p=Math.sqrt((d*d+_*_)/(h*h+u*u));return Math.log(p)/Math.LN2}function Yo(e,t,i){const o=Math.cos(i),r=Math.sin(i);return{x:e*o-t*r,y:e*r+t*o}}class Jo{constructor(t,i,o,r,n,s,a){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=i||22,this._minPitch=null==o?0:o,this._maxPitch=null==r?60:r,this.setProjection(s),this.setMaxBounds(a),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Uo,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Vo,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const e=new Jo(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(e,t=!1){const i=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||i)&&this._updateCameraOnTerrain(),(e||i)&&this._constrainCamera(t),this._calcMatrices()}getProjection(){return e.pick(this.projection,["name","center","parallels"])}setProjection(i){this.projectionOptions=i||{name:"mercator"};const o=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);const r=!t(o,this.getProjection());return r&&this._calcMatrices(),this.mercatorFromTransition=!1,r}setMercatorFromTransition(){const t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=e.getProjection({name:"mercator"});const i=t!==this.projection.name;return i&&this._calcMatrices(),i}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return e.wrap(this.rotation,-180,180)}set bearing(e){this.rotation=e}get rotation(){return-this.angle/Math.PI*180}set rotation(t){const i=-t*Math.PI/180;var o;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=(o=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(o[1]=0,o[2]=0),o[0]=1,o[3]=1,o),function(e,t,i){var o=t[0],r=t[1],n=t[2],s=t[3],a=Math.sin(i),l=Math.cos(i);e[0]=o*l+n*a,e[1]=r*l+s*a,e[2]=o*-a+n*l,e[3]=r*-a+s*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const i=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=e.degToRad(t),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,i=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],o=this.horizonLineFromTop();let r=0,n=0;for(let s=0;s<i.length;s++){const a=new e.pointGeometry(i[s][0]*this.width,o+i[s][1]*(this.height-o)),l=t.pointCoordinate(a);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);r+=l[3]*c,n+=c}return 0===n?NaN:r/n}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),i=this.pixelsPerMeter/this.worldSize*t,o=this._mercatorZfromZoom(e),r=this._mercatorZfromZoom(this._maxZoom),n=Math.max(o-i,r);this._setZoom(this._zoomFromMercatorZ(n))}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}computeZoomRelativeTo(t){const i=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let o;o=t.z<this._camera.position[2]?[i.x,i.y,i.z]:[t.x,t.y,t.z];const r=e.length(e.sub([],this._camera.position,o));return e.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let i=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(i=this._setCameraOrientation(t.orientation)),t.position){const o=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(o,this._camera.position)||(this._setCameraPosition(o),i=!0)}i&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,i=new Zo;return i.position=new e.MercatorCoordinate(t[0],t[1],t[2]),i.orientation=this._camera.orientation,i._elevation=this.elevation,i._renderWorldCopies=this.renderWorldCopies,i}_setCameraOrientation(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);const i=e.transformQuat([],[0,0,-1],t),o=e.transformQuat([],[0,-1,0],t);if(o[2]<0)return!1;const r=jo(i,o);return!!r&&(this._camera.orientation=r,!0)}_setCameraPosition(t){const i=this.zoomScale(this.minZoom)*this.tileSize,o=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;t[2]=e.clamp(t[2],r/o,r/i),this._camera.position=t}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,i){this._unmodified=!1,this._edgeInsets.interpolate(e,t,i),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const i=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies){const o=this.pointCoordinate(new e.pointGeometry(0,0)),r=this.pointCoordinate(new e.pointGeometry(this.width,0)),n=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),s=this.pointCoordinate(new e.pointGeometry(0,this.height)),a=Math.floor(Math.min(o.x,r.x,n.x,s.x)),l=Math.floor(Math.max(o.x,r.x,n.x,s.x)),c=1;for(let o=a-c;o<=l+c;o++)0!==o&&i.push(new e.UnwrappedTileID(o,t))}return i}coveringTiles(t){let i=this.coveringZoomLevel(t);const o=i,r=this.elevation&&!t.isTerrainDEM,n="mercator"===this.projection.name;if(void 0!==t.minzoom&&i<t.minzoom)return[];void 0!==t.maxzoom&&i>t.maxzoom&&(i=t.maxzoom);const s=this.locationCoordinate(this.center),a=this.center.lat,l=1<<i,c=[l*s.x,l*s.y,0],h="globe"===this.projection.name,u=!h,d=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,i,u),_=h?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),p=l*e.mercatorZfromAltitude(1,this.center.lat),m=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),f=[l*_.x,l*_.y,m*(u?1:p)],g=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),v=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?i:0,x=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,y=t.isTerrainDEM?-x:this._elevation?this._elevation.getMinElevationBelowMSL():0,b=this.projection.isReprojectedInTileSpace?Xo(this):1,w=t=>{const i=1/4e4,o=new e.MercatorCoordinate(t.x+i,t.y,t.z),r=new e.MercatorCoordinate(t.x,t.y+i,t.z),n=t.toLngLat(),s=o.toLngLat(),a=r.toLngLat(),l=this.locationCoordinate(n),c=this.locationCoordinate(s),h=this.locationCoordinate(a),u=Math.hypot(c.x-l.x,c.y-l.y),d=Math.hypot(h.x-l.x,h.y-l.y);return Math.sqrt(u*d)*b/i},T=t=>{const i=x,o=y;return{aabb:e.tileAABB(this,l,0,0,0,t,o,i,this.projection),zoom:0,x:0,y:0,minZ:o,maxZ:i,wrap:t,fullyVisible:!1}},E=[];let C=[];const M=i,I=t.reparseOverscaled?o:i,S=e=>e*e,D=S((m-this._centerAltitude)*p),L=e=>{if(!this._elevation||!e.tileID||!n)return;const t=this._elevation.getMinMaxForTile(e.tileID),i=e.aabb;t?(i.min[2]=t.min,i.max[2]=t.max,i.center[2]=(i.min[2]+i.max[2])/2):(e.shouldSplit=z(e),e.shouldSplit||(i.min[2]=i.max[2]=i.center[2]=this._centerAltitude))},z=t=>{if(t.zoom<v)return!0;if(t.zoom===M)return!1;if(null!=t.shouldSplit)return t.shouldSplit;const i=t.aabb.distanceX(f),n=t.aabb.distanceY(f);let s=D,l=1;if(h){s=S(t.aabb.distanceZ(f));const i=Math.pow(2,t.zoom),o=e.latFromMercatorY((t.y+1)/i),r=e.latFromMercatorY(t.y/i),n=Math.min(Math.max(a,o),r),c=e.circumferenceAtLatitude(n)/e.circumferenceAtLatitude(a);if(l=n===a?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,c/this._mercatorScaleRatio),this.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===M-1&&c>=.9)return!0}else if(r&&(s=S(t.aabb.distanceZ(f)*p)),this.projection.isReprojectedInTileSpace&&o<=5){const i=Math.pow(2,t.zoom),o=w(new e.MercatorCoordinate((t.x+.5)/i,(t.y+.5)/i));l=o>.85?1:o}const c=i*i+n*n+s,u=S((1<<M-t.zoom)*g*l*((e,t)=>{if(t*S(.707)<e)return 1;const i=Math.sqrt(t/e);return i/(1.4144271570014144+(Math.pow(1.1,i-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(s,D),c));return c<u};if(this.renderWorldCopies)for(let e=1;e<=3;e++)E.push(T(-e)),E.push(T(e));for(E.push(T(0));E.length>0;){const o=E.pop(),s=o.x,a=o.y;let u=o.fullyVisible;if(!u){const e=o.aabb.intersects(d);if(0===e)continue;u=2===e}if(o.zoom!==M&&z(o))for(let t=0;t<4;t++){const i=(s<<1)+t%2,c=(a<<1)+(t>>1),d={aabb:n?o.aabb.quadrant(t):e.tileAABB(this,l,o.zoom+1,i,c,o.wrap,o.minZ,o.maxZ,this.projection),zoom:o.zoom+1,x:i,y:c,wrap:o.wrap,fullyVisible:u,tileID:void 0,shouldSplit:void 0,minZ:o.minZ,maxZ:o.maxZ};r&&!h&&(d.tileID=new e.OverscaledTileID(o.zoom+1===M?I:o.zoom+1,o.wrap,o.zoom+1,i,c),L(d)),E.push(d)}else{const r=o.zoom===M?I:o.zoom;if(t.minzoom&&t.minzoom>r)continue;const n=c[0]-(.5+s+(o.wrap<<o.zoom))*(1<<i-o.zoom),l=c[1]-.5-a,h=o.tileID?o.tileID:new e.OverscaledTileID(r,o.wrap,o.zoom,s,a);C.push({tileID:h,distanceSq:n*n+l*l})}}if(this.fogCullDistSq){const i=this.fogCullDistSq,o=this.horizonLineFromTop();C=C.filter((r=>{const n=[0,0,0,1],s=[e.EXTENT,e.EXTENT,0,1],a=this.calculateFogTileMatrix(r.tileID.toUnwrapped());e.transformMat4$1(n,n,a),e.transformMat4$1(s,s,a);const l=e.getAABBPointSquareDist(n,s);if(0===l)return!0;let c=!1;const h=this._elevation;if(h&&l>i&&0!==o){const i=this.calculateProjMatrix(r.tileID.toUnwrapped());let n;t.isTerrainDEM||(n=h.getMinMaxForTile(r.tileID)),n||(n={min:y,max:x});const s=e.furthestTileCorner(this.rotation),a=[s[0]*e.EXTENT,s[1]*e.EXTENT,n.max];e.transformMat4(a,a,i),c=(1-a[1])*this.height*.5<o}return l<i||c}))}return C.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const i=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),o=this.projection.project(t.lng,i);return new e.pointGeometry(o.x*this.worldSize,o.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/e.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(t,i){let o,r;const n=this.centerPoint;if("globe"===this.projection.name){const e=this.worldSize;o=(i.x-n.x)/e,r=(i.y-n.y)/e}else{const e=this.pointCoordinate(i),t=this.pointCoordinate(n);o=e.x-t.x,r=e.y-t.y}const s=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(s.x-o,s.y-r))}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t,i){const o=i?e.mercatorZfromAltitude(i,t.lat):void 0,r=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(r.x,r.y,o)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(t,i){const o=null!=i?i:this._centerAltitude,r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4$1(r,r,this.pixelMatrixInverse),e.transformMat4$1(n,n,this.pixelMatrixInverse);const s=n[3];e.scale$1(r,r,1/r[3]),e.scale$1(n,n,1/s);const a=r[2],l=n[2];return{p0:r,p1:n,t:a===l?0:(o-a)/(l-a)}}screenPointToMercatorRay(t){const i=[t.x,t.y,0,1],o=[t.x,t.y,1,1];return e.transformMat4$1(i,i,this.pixelMatrixInverse),e.transformMat4$1(o,o,this.pixelMatrixInverse),e.scale$1(i,i,1/i[3]),e.scale$1(o,o,1/o[3]),i[2]=e.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,o[2]=e.mercatorZfromAltitude(o[2],this._center.lat)*this.worldSize,e.scale$1(i,i,1/this.worldSize),e.scale$1(o,o,1/this.worldSize),new e.Ray([i[0],i[1],i[2]],e.normalize([],e.sub([],o,i)))}rayIntersectionCoordinate(t){const{p0:i,p1:o,t:r}=t,n=e.mercatorZfromAltitude(i[2],this._center.lat),s=e.mercatorZfromAltitude(o[2],this._center.lat);return new e.MercatorCoordinate(e.number(i[0],o[0],r)/this.worldSize,e.number(i[1],o[1],r)/this.worldSize,e.number(n,s,r))}pointCoordinate(e,t=this._centerAltitude){return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);let i=this.projection.pointCoordinate3D(this,t.x,t.y);if(i)return new e.MercatorCoordinate(i[0],i[1],i[2]);let o=0,r=this.horizonLineFromTop();if(t.y>r)return this.pointCoordinate(t);const n=.02*r,s=t.clone();for(let t=0;t<10&&r-o>n;t++){s.y=e.number(o,r,.66);const t=this.projection.pointCoordinate3D(this,s.x,s.y);t?(r=s.y,i=t):o=s.y}return i?new e.MercatorCoordinate(i[0],i[1],i[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}_coordinatePoint(t,i){const o=i&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,r=[t.x*this.worldSize,t.y*this.worldSize,o+t.toAltitude(),1];return e.transformMat4$1(r,r,this.pixelMatrix),r[3]>0?new e.pointGeometry(r[0]/r[3],r[1]/r[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:t,left:i}=this._edgeInsets,o=this.height-this._edgeInsets.bottom,r=this.width-this._edgeInsets.right,n=this.pointLocation3D(new e.pointGeometry(i,t)),s=this.pointLocation3D(new e.pointGeometry(r,t)),a=this.pointLocation3D(new e.pointGeometry(r,o)),l=this.pointLocation3D(new e.pointGeometry(i,o));let c=Math.min(n.lng,s.lng,a.lng,l.lng),h=Math.max(n.lng,s.lng,a.lng,l.lng),u=Math.min(n.lat,s.lat,a.lat,l.lat),d=Math.max(n.lat,s.lat,a.lat,l.lat);const _=Math.pow(2,-this.zoom)/16*270,p="globe"===this.projection.name?1:4,m=(t,i,o,r,n)=>{const s=(t+o)/2,a=(i+r)/2,l=new e.pointGeometry(s,a),{lng:f,lat:g}=this.pointLocation3D(l),v=Math.max(0,c-f,u-g,f-h,g-d);c=Math.min(c,f),h=Math.max(h,f),u=Math.min(u,g),d=Math.max(d,g),(n<p||v>_)&&(m(t,i,s,a,n+1),m(s,a,o,r,n+1))};if(m(i,t,r,t,1),m(r,t,r,o,1),m(r,o,i,o,1),m(i,o,i,t,1),"globe"===this.projection.name){const[t,i]=e.polesInViewport(this);t?(d=90,h=180,c=-180):i&&(u=-90,h=180,c=-180)}return new e.LngLatBounds(new e.LngLat(c,u),new e.LngLat(h,d))}_getBoundsRectangular(t,i){const{top:o,left:r}=this._edgeInsets,n=this.height-this._edgeInsets.bottom,s=this.width-this._edgeInsets.right,a=new e.pointGeometry(r,o),l=new e.pointGeometry(s,o),c=new e.pointGeometry(s,n),h=new e.pointGeometry(r,n);let u=this.pointCoordinate(a,t),d=this.pointCoordinate(l,t);const _=this.pointCoordinate(c,i),p=this.pointCoordinate(h,i),m=(e,t)=>(t.y-e.y)/(t.x-e.x);return u.y>1&&d.y>=0?u=new e.MercatorCoordinate((1-p.y)/m(p,u)+p.x,1):u.y<0&&d.y<=1&&(u=new e.MercatorCoordinate(-p.y/m(p,u)+p.x,0)),d.y>1&&u.y>=0?d=new e.MercatorCoordinate((1-_.y)/m(_,d)+_.x,1):d.y<0&&u.y<=1&&(d=new e.MercatorCoordinate(-_.y/m(_,d)+_.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(u)).extend(this.coordinateLocation(d)).extend(this.coordinateLocation(p)).extend(this.coordinateLocation(_))}_getBoundsRectangularTerrain(){const e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBoundsRectangular(0,0);const t=e.visibleDemTiles.reduce(((e,t)=>{if(t.dem){const i=t.dem.tree;e.min=Math.min(e.min,i.minimums[0]),e.max=Math.max(e.max,i.maximums[0])}return e}),{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return"mercator"===this.projection.name||"equirectangular"===this.projection.name?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,i=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,i):i}getMaxBounds(){return this.maxBounds}setMaxBounds(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(t){const i=t.key,o=this._distanceTileDataCache;if(o[i])return o[i];const r=t.canonical,n=1/this.height,s=this.cameraWorldSize,a=s/this.zoomScale(r.z),l=(r.x+Math.pow(2,r.z)*t.wrap)*a,c=r.y*a,h=this.point;h.x*=s/this.worldSize,h.y*=s/this.worldSize;const u=this.angle,d=Math.sin(-u),_=-Math.cos(-u);return o[i]={bearing:[d,_],center:[(h.x-l)*n,(h.y-c)*n],scale:a/e.EXTENT*n},o[i]}calculateFogTileMatrix(t){const i=t.key,o=this._fogTileMatrixCache;if(o[i])return o[i];const r=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,t);return e.multiply(r,this.worldToFogMatrix,r),o[i]=new Float32Array(r),o[i]}calculateProjMatrix(t,i=!1){const o=t.key,r=i?this._alignedProjMatrixCache:this._projMatrixCache;if(r[o])return r[o];const n=this.calculatePosMatrix(t,this.worldSize);return e.multiply(n,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:i?this.alignedProjMatrix:this.projMatrix,n),r[o]=new Float32Array(n),r[o]}calculatePixelsToTileUnitsMatrix(t){const i=t.tileID.key,o=this._pixelsToTileUnitsCache;if(o[i])return o[i];const r=function(t,i){const{scale:o}=t.tileTransform,r=o*e.EXTENT/(t.tileSize*Math.pow(2,i.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return n=new Float32Array(4),l=(s=i.inverseAdjustmentMatrix)[1],c=s[2],h=s[3],d=(a=[r,r])[1],n[0]=s[0]*(u=a[0]),n[1]=l*u,n[2]=c*d,n[3]=h*d,n;var n,s,a,l,c,h,u,d}(t,this);return o[i]=r,o[i]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if("globe"===this.projection.name){const t=1/this.worldSize,i=e.fromScaling([],[t,t,t]);return e.multiply(i,i,this.globeMatrix),i}}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const t=this._elevation;this._updateCameraState();const i=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,o=this._computeCameraPosition(i),r=this._camera.forward(),n=e.mercatorZfromAltitude(1,this._center.lat);o[2]/=n,r[2]/=n,e.normalize(r,r);const s=t.raycast(o,r,t.exaggeration());if(s){const t=e.scaleAndAdd([],o,r,s),i=new e.MercatorCoordinate(t[0],t[1],e.mercatorZfromAltitude(t[2],e.latFromMercatorY(t[1]))),a=(i.z+e.length([i.x-o[0],i.y-o[1],i.z-o[2]*n]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(a),this._centerAltitude=i.toAltitude(),this._center=this.coordinateLocation(i),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(t=!1){if(!this._elevation)return;const i=this._elevation,o=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(o),n=i.getAtPointOrZero(new e.MercatorCoordinate(...r)),s=this.pixelsPerMeter/this.worldSize*n,a=this._minimumHeightOverTerrain(),l=r[2]-s;if(l<=a)if(l<0||t){const t=this.locationCoordinate(this._center,this._centerAltitude),i=[r[0],r[1],t.z-r[2]],o=e.length(i);i[2]-=(a-l)/this._pixelsPerMercatorPixel;const n=e.length(i);if(0===n)return;e.scale$2(i,i,o/n*this._pixelsPerMercatorPixel),this._camera.position=[r[0],r[1],t.z*this._pixelsPerMercatorPixel-i[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const t="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){const i=this.center;return i.lat=e.clamp(i.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(i.lng=e.clamp(i.lng,this.minLng,this.maxLng)),this.center=i,void(this._constraining=!1)}const i=this._unmodified,{x:o,y:r}=this.point;let n=0,s=o,a=r;const l=this.width/2,c=this.height/2,h=this.worldMinY*this.scale,u=this.worldMaxY*this.scale;if(r-c<h&&(a=h+c),r+c>u&&(a=u-c),u-h<this.height&&(n=Math.max(n,this.height/(u-h)),a=(u+h)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,i=this.worldSize/2-(e+t)/2;s=(o+i+this.worldSize)%this.worldSize-i,s-l<e&&(s=e+l),s+l>t&&(s=t-l),t-e<this.width&&(n=Math.max(n,this.width/(t-e)),s=(t+e)/2)}s===o&&a===r||(this.center=this.unproject(new e.pointGeometry(s,a))),n&&(this.zoom+=this.scaleZoom(n)),this._constrainCamera(),this._unmodified=i,this._constraining=!1}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,i=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));const o=qo(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,o),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const r="meters"===this.projection.zAxisUnit?i:1,n=this._camera.getWorldToCamera(this.worldSize,r),s=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);s[8]=2*-t.x/this.width,s[9]=2*t.y/this.height;let a=e.mul([],s,n);if(this.projection.isReprojectedInTileSpace){const t=this.locationCoordinate(this.center),i=e.identity([]);e.translate(i,i,[t.x*this.worldSize,t.y*this.worldSize,0]),e.multiply(i,i,Wo(this)),e.translate(i,i,[-t.x*this.worldSize,-t.y*this.worldSize,0]),e.multiply(a,a,i),this.inverseAdjustmentMatrix=function(e){const t=Wo(e,!0);return v([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],a,[this.worldSize,this.worldSize,this.worldSize/r,1]),this.projMatrix=a,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);const l=e.invert([],s);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(l,this.horizonLineFromTop(),this.height);const c=new Float32Array(16);e.identity(c),e.scale(c,c,[1,-1,1]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle);const h=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),u=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;h[8]=2*-t.x/this.width,h[9]=2*(t.y+u)/this.height,this.skyboxMatrix=e.multiply(c,h,c);const d=this.point,_=d.x,p=d.y,m=this.width%2/2,f=this.height%2/2,g=Math.cos(this.angle),x=Math.sin(this.angle),y=_-Math.round(_)+g*m+x*f,b=p-Math.round(p)+g*f+x*m,w=new Float64Array(a);if(e.translate(w,w,[y>.5?y-1:y,b>.5?b-1:b,0]),this.alignedProjMatrix=w,a=e.create(),e.scale(a,a,[this.width/2,-this.height/2,1]),e.translate(a,a,[1,-1,0]),this.labelPlaneMatrix=a,a=e.create(),e.scale(a,a,[1,-1,1]),e.translate(a,a,[-1,-1,0]),e.scale(a,a,[2/this.width,2/this.height,1]),this.glCoordMatrix=a,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},a=e.invert(new Float64Array(16),this.pixelMatrix),!a)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=a,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);const t=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(t,t,n),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=a;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSizeForFog,i=this.cameraPixelsPerMeter,o=this._camera.position,r=1/this.height/this._pixelsPerMercatorPixel,n=[t,t,i];e.scale$2(n,n,r),e.scale$2(o,o,-1),e.multiply$2(o,o,n);const s=e.create();e.translate(s,s,o),e.scale(s,s,n),this.mercatorFogMatrix=s,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,i,r)}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,i=this._camera.forward(),o=this.point,r=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return[o.x/this.worldSize-i[0]*r,o.y/this.worldSize-i[1]*r,e/this.worldSize*this._centerAltitude-i[2]*r]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(t){const i=this._maxCameraBoundsDistance()*Math.cos(this._pitch),o=this._camera.position[2],r=t[2];let n=1;this.projection.wrap&&(this.center=this.center.wrap()),r>0&&(n=Math.min((i-o)/r,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,n),this._updateStateFromCamera()}_updateStateFromCamera(){const t=this._camera.position,i=this._camera.forward(),{pitch:o,bearing:r}=this._camera.getPitchBearing(),n=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,s=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),a=Math.max((t[2]-n)/Math.cos(o),s),l=this._zoomFromMercatorZ(a);e.scaleAndAdd(t,t,i,a),this._pitch=e.clamp(o,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(r,-Math.PI,Math.PI),this._setZoom(e.clamp(l,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}zoomFromMercatorZAdjusted(t){let i=0,o=e.GLOBE_ZOOM_THRESHOLD_MAX,r=0,n=1/0;for(;o-i>1e-6&&o>i;){const e=i+.5*(o-i),s=this.tileSize*Math.pow(2,e),a=this.getCameraToCenterDistance(this.projection,e,s),l=this.scaleZoom(a/(t*this.tileSize)),c=Math.abs(e-l);c<n&&(n=c,r=e),e<l?i=e:o=e}return r}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(t,i){const o=Math.min(t.x,i.x),r=Math.max(t.x,i.x),n=Math.min(t.y,i.y),s=Math.max(t.y,i.y);if(n<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const a=[new e.pointGeometry(o,n),new e.pointGeometry(r,s),new e.pointGeometry(o,s),new e.pointGeometry(r,n)],l=this.renderWorldCopies?-3:0,c=this.renderWorldCopies?4:1;for(const e of a){const t=this.pointRayIntersection(e);if(t.t<0)return!0;const i=this.rayIntersectionCoordinate(t);if(i.x<l||i.y<0||i.x>c||i.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}zoomDeltaToMovement(t,i){const o=e.length(e.sub([],this._camera.position,t)),r=this._zoomFromMercatorZ(o)+i;return o-this._mercatorZfromZoom(r)}getCameraPoint(){if("globe"===this.projection.name){const t=function([t,i,o],r){const n=[t,i,o,1];e.transformMat4$1(n,n,r);const s=n[3]=Math.max(n[3],1e-6);return n[0]/=s,n[1]/=s,n[2]/=s,n}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.pointGeometry(t[0],t[1])}{const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}}getCameraToCenterDistance(e,t=this.zoom,i=this.worldSize){const o=qo(e,t,this.width,this.height,1024),r=e.pixelSpaceConversion(this.center.lat,i,o);return.5/Math.tan(.5*this._fov)*this.height*r}getWorldToCameraMatrix(){const t=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&e.multiply(t,t,this.globeMatrix),t}}function Ko(e,t){let i=!1,o=null;const r=()=>{o=null,i&&(e(),o=setTimeout(r,t),i=!1)};return()=>(i=!0,o||r(),o)}class Qo{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ko(this._updateHashUnthrottled.bind(this),300)}addTo(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),t.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const t=this._map;if(!t)return"";const i=er(t);if(this._hashName){const t=this._hashName;let o=!1;const r=e.window.location.hash.slice(1).split("&").map((e=>{const r=e.split("=")[0];return r===t?(o=!0,`${r}=${i}`):e})).filter((e=>e));return o||r.push(`${t}=${i}`),`#${r.join("&")}`}return`#${i}`}_getCurrentHash(){const t=e.window.location.hash.replace("#","");if(this._hashName){let e;return t.split("&").map((e=>e.split("="))).forEach((t=>{t[0]===this._hashName&&(e=t)})),(e&&e[1]||"").split("/")}return t.split("/")}_onHashChange(){const e=this._map;if(!e)return!1;const t=this._getCurrentHash();if(t.length>=3&&!t.some((e=>isNaN(e)))){const i=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:i,pitch:+(t[4]||0)}),!0}return!1}_updateHashUnthrottled(){const t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}function er(e,t){const i=e.getCenter(),o=Math.round(100*e.getZoom())/100,r=Math.ceil((o*Math.LN2+Math.log(512/360/.5))/Math.LN10),n=Math.pow(10,r),s=Math.round(i.lng*n)/n,a=Math.round(i.lat*n)/n,l=e.getBearing(),c=e.getPitch();let h=t?`/${s}/${a}/${o}`:`${o}/${a}/${s}`;return(l||c)&&(h+="/"+Math.round(10*l)/10),c&&(h+=`/${Math.round(c)}`),h}const tr={linearity:.3,easing:e.bezier(0,0,.3,1)},ir=e.extend({deceleration:2500,maxSpeed:1400},tr),or=e.extend({deceleration:20,maxSpeed:1400},tr),rr=e.extend({deceleration:1e3,maxSpeed:360},tr),nr=e.extend({deceleration:1e3,maxSpeed:90},tr);class sr{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,i=e.exported.now();for(;t.length>0&&i-t[0].time>160;)t.shift()}_onMoveEnd(t){if(e.exported.prefersReducedMotion)return;if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)i.zoom+=e.zoomDelta||0,i.bearing+=e.bearingDelta||0,i.pitch+=e.pitchDelta||0,e.panDelta&&i.pan._add(e.panDelta),e.around&&(i.around=e.around),e.pinchAround&&(i.pinchAround=e.pinchAround);const o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(i.pan.mag()){const n=lr(i.pan.mag(),o,e.extend({},ir,t||{}));r.offset=i.pan.mult(n.amount/i.pan.mag()),r.center=this._map.transform.center,ar(r,n)}if(i.zoom){const e=lr(i.zoom,o,or);r.zoom=this._map.transform.zoom+e.amount,ar(r,e)}if(i.bearing){const t=lr(i.bearing,o,rr);r.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),ar(r,t)}if(i.pitch){const e=lr(i.pitch,o,nr);r.pitch=this._map.transform.pitch+e.amount,ar(r,e)}if(r.zoom||r.bearing){const e=void 0===i.pinchAround?i.around:i.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),r.noMoveStart=!0,r}}function ar(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function lr(t,i,o){const{maxSpeed:r,linearity:n,deceleration:s}=o,a=e.clamp(t*n/(i/1e3),-r,r),l=Math.abs(a)/(s*n);return{easing:o.easing,duration:1e3*l,amount:a*(l/2)}}class cr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,o,r={}){const n=p(i.getCanvasContainer(),o),s=i.unproject(n);super(t,e.extend({point:n,lngLat:s,originalEvent:o},r)),this._defaultPrevented=!1,this.target=i}}class hr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,o){const r="touchend"===t?o.changedTouches:o.touches,n=m(i.getCanvasContainer(),r),s=n.map((e=>i.unproject(e))),a=n.reduce(((e,t,i,o)=>e.add(t.div(o.length))),new e.pointGeometry(0,0));super(t,{points:n,point:a,lngLats:s,lngLat:i.unproject(a),originalEvent:o}),this._defaultPrevented=!1}}class ur extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i){super(e,{originalEvent:i}),this._defaultPrevented=!1}}class dr{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){this._mousedownPos=void 0}wheel(e){return this._firePreventable(new ur(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new cr(e.type,this._map,e))}mouseup(e){this._map.fire(new cr(e.type,this._map,e))}preclick(t){const i=e.extend({},t);i.type="preclick",this._map.fire(new cr(i.type,this._map,i))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new cr(e.type,this._map,e)))}dblclick(e){return this._firePreventable(new cr(e.type,this._map,e))}mouseover(e){this._map.fire(new cr(e.type,this._map,e))}mouseout(e){this._map.fire(new cr(e.type,this._map,e))}touchstart(e){return this._firePreventable(new hr(e.type,this._map,e))}touchmove(e){this._map.fire(new hr(e.type,this._map,e))}touchend(e){this._map.fire(new hr(e.type,this._map,e))}touchcancel(e){this._map.fire(new hr(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class _r{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(e){this._map.fire(new cr(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new cr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new cr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class pr{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(h(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const i=t,o=this._startPos,r=this._lastPos;if(!o||!r||r.equals(i)||!this._box&&i.dist(o)<this._clickTolerance)return;this._lastPos=i,this._box||(this._box=n("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const s=Math.min(o.x,i.x),a=Math.max(o.x,i.x),l=Math.min(o.y,i.y),c=Math.max(o.y,i.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform=`translate(${s}px,${l}px)`,this._box.style.width=a-s+"px",this._box.style.height=c-l+"px")}))}mouseupWindow(t,i){if(!this._active)return;const o=this._startPos,r=i;if(o&&0===t.button){if(this.reset(),_(),o.x!==r.x||o.y!==r.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(o,r,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",t)}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),u(),delete this._startPos,delete this._lastPos}_fireEvent(t,i){return this._map.fire(new e.Event(t,{originalEvent:i}))}}function mr(e,t){const i={};for(let o=0;o<e.length;o++)i[e[o].identifier]=t[o];return i}class fr{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(t,i,o){(this.centroid||o.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),o.length===this.numTouches&&(this.centroid=function(t){const i=new e.pointGeometry(0,0);for(const e of t)i._add(e);return i.div(t.length)}(i),this.touches=mr(o,i)))}touchmove(e,t,i){if(this.aborted||!this.centroid)return;const o=mr(i,t);for(const e in this.touches){const t=this.touches[e],i=o[e];(!i||i.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,i){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class gr{constructor(e){this.singleTap=new fr(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(e,t,i){this.singleTap.touchstart(e,t,i)}touchmove(e,t,i){this.singleTap.touchmove(e,t,i)}touchend(e,t,i){const o=this.singleTap.touchend(e,t,i);if(o){const t=e.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(o)<30;if(t&&i||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=o,this.count===this.numTaps)return this.reset(),o}}}class vr{constructor(){this._zoomIn=new gr({numTouches:1,numTaps:2}),this._zoomOut=new gr({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,i){this._zoomIn.touchstart(e,t,i),this._zoomOut.touchstart(e,t,i)}touchmove(e,t,i){this._zoomIn.touchmove(e,t,i),this._zoomOut.touchmove(e,t,i)}touchend(e,t,i){const o=this._zoomIn.touchend(e,t,i),r=this._zoomOut.touchend(e,t,i);return o?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(o)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const xr={0:1,2:2};class yr{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const i=f(e);this._correctButton(e,i)&&(this._lastPoint=t,this._eventButton=i)}mousemoveWindow(e,t){const i=this._lastPoint;if(i)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const i=xr[t];return void 0===e.buttons||(e.buttons&i)!==i}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(i)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(i,t)}mouseupWindow(e){this._lastPoint&&f(e)===this._eventButton&&(this._moved&&_(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class br extends yr{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class wr extends yr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=.8*(t.x-e.x);if(i)return this._active=!0,{bearingDelta:i}}contextmenu(e){e.preventDefault()}}class Tr extends yr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=-.5*(t.y-e.y);if(i)return this._active=!0,{pitchDelta:i}}contextmenu(e){e.preventDefault()}}class Er{constructor(t,i){this._map=t,this._el=t.getCanvasContainer(),this._minTouches=1,this._clickTolerance=i.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}touchstart(e,t,i){return this._calculateTransform(e,t,i)}touchmove(t,i,o){if(this._active&&!(o.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===o.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,i,o)}}touchend(e,t,i){this._calculateTransform(e,t,i),this._active&&i.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,i,o){o.length>0&&(this._active=!0);const r=mr(o,i),n=new e.pointGeometry(0,0),s=new e.pointGeometry(0,0);let a=0;for(const e in r){const t=r[e],i=this._touches[e];i&&(n._add(t),s._add(t.sub(i)),a++,r[e]=t)}if(this._touches=r,a<this._minTouches||!s.mag())return;const l=s.div(a);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:n.div(a),panDelta:l}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=n("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")}),500)}}class Cr{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(e){}_move(e,t,i){return{}}touchstart(e,t,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,i){const o=this._firstTwoTouches;if(!o)return;e.preventDefault();const[r,n]=o,s=Mr(i,t,r),a=Mr(i,t,n);if(!s||!a)return;const l=this._aroundCenter?null:s.add(a).div(2);return this._move([s,a],l,e)}touchend(e,t,i){if(!this._firstTwoTouches)return;const[o,r]=this._firstTwoTouches,n=Mr(i,t,o),s=Mr(i,t,r);n&&s||(this._active&&_(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Mr(e,t,i){for(let o=0;o<e.length;o++)if(e[o].identifier===i)return t[o]}function Ir(e,t){return Math.log(e/t)/Math.LN2}class Sr extends Cr{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const i=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Ir(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ir(this._distance,i),pinchAround:t}}}function Dr(e,t){return 180*e.angleWith(t)/Math.PI}class Lr extends Cr{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const i=this._vector;if(this._vector=e[0].sub(e[1]),i&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Dr(this._vector,i),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,i=this._startVector;if(!i)return!1;const o=Dr(e,i);return Math.abs(o)<t}}function zr(e){return Math.abs(e.y)>Math.abs(e.x)}class Ar extends Cr{constructor(e){super(),this._map=e}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(e){this._lastPoints=e,zr(e[0].sub(e[1]))&&(this._valid=!1)}_move(t,i,o){const r=this._lastPoints;if(!r)return;const n=t[0].sub(r[0]),s=t[1].sub(r[1]);return this._map._cooperativeGestures&&!e.isFullscreen()&&o.touches.length<3||(this._valid=this.gestureBeginsVertically(n,s,o.timeStamp),!this._valid)?void 0:(this._lastPoints=t,this._active=!0,{pitchDelta:(n.y+s.y)/2*-.5})}gestureBeginsVertically(e,t,i){if(void 0!==this._valid)return this._valid;const o=e.mag()>=2,r=t.mag()>=2;if(!o&&!r)return;if(!o||!r)return null==this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;const n=e.y>0==t.y>0;return zr(e)&&zr(t)&&n}}const Pr={panStep:100,bearingStep:15,pitchStep:10};class Rr{constructor(){const e=Pr;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,i=0,o=0,r=0,n=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?i=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?i=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?o=1:(e.preventDefault(),n=-1);break;case 40:e.shiftKey?o=-1:(e.preventDefault(),n=1);break;default:return}return this._rotationDisabled&&(i=0,o=0),{cameraAnimation:s=>{const a=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:Or,zoom:t?Math.round(a)+t*(e.shiftKey?2:1):a,bearing:s.getBearing()+i*this._bearingStep,pitch:s.getPitch()+o*this._pitchStep,offset:[-r*this._panStep,-n*this._panStep],center:s.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Or(e){return e*(2-e)}const kr=4.000244140625;class Br{constructor(t,i){this._map=t,this._el=t.getCanvasContainer(),this._handler=i,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let i=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const o=e.exported.now(),r=o-(this._lastWheelEventTime||0);this._lastWheelEventTime=o,0!==i&&i%kr==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),t.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=t,this._delta-=i,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=p(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;"wheel"===this._type&&t.projection.wrap&&(t._center.lng>=180||t._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const i=()=>t._terrainEnabled()&&this._aroundCoord?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>kr?this._wheelZoomRate:this._defaultZoomRate;let o=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==o&&(o=1/o);const r=i(),n=Math.pow(2,r),s="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):n;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(s*o))),"wheel"===this._type&&(this._startZoom=r,this._easing=this._smoothOutEasing(200)),this._delta=0}const o="number"==typeof this._targetZoom?this._targetZoom:i(),r=this._startZoom,n=this._easing;let s,a=!1;if("wheel"===this._type&&r&&n){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),i=n(t);s=e.number(r,o,i),t<1?this._frameId||(this._frameId=!0):a=!0}else s=o,a=!0;return this._active=!0,a&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!a,zoomDelta:s-i(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let i=e.ease;if(this._prevEase){const t=this._prevEase,o=(e.exported.now()-t.start)/t.duration,r=t.easing(o+.01)-t.easing(o),n=.27/Math.sqrt(r*r+1e-4)*.01,s=Math.sqrt(.0729-n*n);i=e.bezier(n,s,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:i},i}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=n("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")}),200)}}class Fr{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ur{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(e,t){return e.preventDefault(),{cameraAnimation:i=>{i.easeTo({duration:300,zoom:i.getZoom()+(e.shiftKey?-1:1),around:i.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Nr{constructor(){this._tap=new gr({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(e,t,i){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?i.length>0&&(this._swipePoint=t[0],this._swipeTouch=i[0].identifier):this._tap.touchstart(e,t,i))}touchmove(e,t,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;const o=t[0],r=o.y-this._swipePoint.y;return this._swipePoint=o,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,i)}touchend(e,t,i){this._tapTime?this._swipePoint&&0===i.length&&this.reset():this._tap.touchend(e,t,i)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Gr{constructor(e,t,i){this._el=e,this._mousePan=t,this._touchPan=i}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class jr{constructor(e,t,i){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=i}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Zr{constructor(e,t,i,o){this._el=e,this._touchZoom=t,this._touchRotate=i,this._tapDragZoom=o,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Vr=e=>e.zoom||e.drag||e.pitch||e.rotate;class Wr extends e.Event{}class Xr{constructor(){this.constants=[1,1,.01],this.radius=0}setup(t,i){const o=e.sub([],i,t);this.radius=e.length(o[2]<0?e.div([],o,this.constants):[o[0],o[1],0])}projectRay(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);const i=e.scale$2([],t,this.radius);if(i[2]>0){const t=e.scale$2([],[0,0,1],e.dot(i,[0,0,1])),o=e.scale$2([],e.normalize([],[i[0],i[1],0]),this.radius),r=e.add([],i,e.scale$2([],e.sub([],e.add([],o,t),i),2));i[0]=r[0],i[1]=r[1]}return i}}function qr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class $r{constructor(t,i){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new sr(t),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Xr,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(i),e.bindAll(["handleEvent","handleWindowEvent"],this);const o=this._el;this._listeners=[[o,"touchstart",{passive:!0}],[o,"touchmove",{passive:!1}],[o,"touchend",void 0],[o,"touchcancel",void 0],[o,"mousedown",void 0],[o,"mousemove",void 0],[o,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[o,"mouseover",void 0],[o,"mouseout",void 0],[o,"dblclick",void 0],[o,"click",void 0],[o,"keydown",{capture:!1}],[o,"keyup",void 0],[o,"wheel",{passive:!1}],[o,"contextmenu",void 0],[e.window,"blur",void 0]];for(const[t,i,o]of this._listeners)t.addEventListener(i,t===e.window.document?this.handleWindowEvent:this.handleEvent,o)}destroy(){for(const[t,i,o]of this._listeners)t.removeEventListener(i,t===e.window.document?this.handleWindowEvent:this.handleEvent,o)}_addDefaultHandlers(e){const t=this._map,i=t.getCanvasContainer();this._add("mapEvent",new dr(t,e));const o=t.boxZoom=new pr(t,e);this._add("boxZoom",o);const r=new vr,n=new Ur;t.doubleClickZoom=new Fr(n,r),this._add("tapZoom",r),this._add("clickZoom",n);const s=new Nr;this._add("tapDragZoom",s);const a=t.touchPitch=new Ar(t);this._add("touchPitch",a);const l=new wr(e),c=new Tr(e);t.dragRotate=new jr(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const h=new br(e),u=new Er(t,e);t.dragPan=new Gr(i,h,u),this._add("mousePan",h),this._add("touchPan",u,["touchZoom","touchRotate"]);const d=new Lr,_=new Sr;t.touchZoomRotate=new Zr(i,_,d,s),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",_,["touchPan","touchRotate"]),this._add("blockableMapEvent",new _r(t));const p=t.scrollZoom=new Br(t,this);this._add("scrollZoom",p,["mousePan"]);const m=t.keyboard=new Rr;this._add("keyboard",m);for(const i of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[i]&&t[i].enable(e[i])}_add(e,t,i){this._handlers.push({handlerName:e,handler:t,allowed:i}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Vr(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(e,t,i){for(const o in e)if(o!==i&&(!t||t.indexOf(o)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,`${e.type}Window`)}_getMapTouches(e){const t=[];for(const i of e)this._el.contains(i.target)&&t.push(i);return t}handleEvent(e,t){this._updatingCamera=!0;const i="renderFrame"===e.type,o=i?void 0:e,r={needsRenderFrame:!1},n={},s={},a=e.touches?this._getMapTouches(e.touches):void 0,l=a?m(this._el,a):i?void 0:p(this._el,e);for(const{handlerName:i,handler:c,allowed:h}of this._handlers){if(!c.isEnabled())continue;let u;this._blockedByActive(s,h,i)?c.reset():c[t||e.type]&&(u=c[t||e.type](e,l,a),this.mergeHandlerResult(r,n,u,i,o),u&&u.needsRenderFrame&&this._triggerRenderFrame()),(u||c.isActive())&&(s[i]=c)}const c={};for(const e in this._previousActiveHandlers)s[e]||(c[e]=o);this._previousActiveHandlers=s,(Object.keys(c).length||qr(r))&&(this._changes.push([r,n,c]),this._triggerRenderFrame()),(Object.keys(s).length||qr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=r;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map))}mergeHandlerResult(t,i,o,r,n){if(!o)return;e.extend(t,o);const s={handlerName:r,originalEvent:o.originalEvent||n};void 0!==o.zoomDelta&&(i.zoom=s),void 0!==o.panDelta&&(i.drag=s),void 0!==o.pitchDelta&&(i.pitch=s),void 0!==o.bearingDelta&&(i.rotate=s)}_applyChanges(){const t={},i={},o={};for(const[r,n,s]of this._changes)r.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(r.panDelta)),r.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(t.around=r.around),void 0!==r.aroundCoord&&(t.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(t.pinchAround=r.pinchAround),r.noInertia&&(t.noInertia=r.noInertia),e.extend(i,n),e.extend(o,s);this._updateMapTransform(t,i,o),this._changes=[]}_updateMapTransform(t,i,o){const r=this._map,n=r.transform,s=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!qr(t)){const e=n.zoom;n.cameraElevationReference="sea",n.recenterOnTerrain(),n.cameraElevationReference="ground",e!==n.zoom&&this._map._update(!0)}if(n._isCameraConstrained&&r._stop(!0),!qr(t))return void this._fireEvents(i,o,!0);let{panDelta:a,zoomDelta:l,bearingDelta:c,pitchDelta:h,around:u,aroundCoord:d,pinchAround:_}=t;n._isCameraConstrained&&(l>0&&(l=0),n._isCameraConstrained=!1),void 0!==_&&(u=_),(l||(e=>i.drag&&!this._eventsInProgress.drag)())&&u&&(this._dragOrigin=s(n.pointCoordinate3D(u)),this._trackingEllipsoid.setup(n._camera.position,this._dragOrigin)),n.cameraElevationReference="sea",r._stop(!0),u=u||r.transform.centerPoint,c&&(n.bearing+=c),h&&(n.pitch+=h),n._updateCameraState();const p=[0,0,0];if(a)if("mercator"===n.projection.name){const e=this._trackingEllipsoid.projectRay(n.screenPointToMercatorRay(u).dir),t=this._trackingEllipsoid.projectRay(n.screenPointToMercatorRay(u.sub(a)).dir);p[0]=t[0]-e[0],p[1]=t[1]-e[1]}else{const t=n.pointCoordinate(u);if("globe"===n.projection.name){a=a.rotate(-n.angle);const i=n._pixelsPerMercatorPixel/n.worldSize;p[0]=-a.x*e.mercatorScale(e.latFromMercatorY(t.y))*i,p[1]=-a.y*e.mercatorScale(n.center.lat)*i}else{const e=n.pointCoordinate(u.sub(a));t&&e&&(p[0]=e.x-t.x,p[1]=e.y-t.y)}}const m=n.zoom,f=[0,0,0];if(l){const t=s(d||n.pointCoordinate3D(u)),i={dir:e.normalize([],e.sub([],t,n._camera.position))};if(i.dir[2]<0){const o=n.zoomDeltaToMovement(t,l);e.scale$2(f,i.dir,o)}}const g=e.add(p,p,f);n._translateCameraConstrained(g),l&&Math.abs(n.zoom-m)>1e-4&&n.recenterOnTerrain(),n.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(i,o,!0)}_fireEvents(t,i,o){const r=Vr(this._eventsInProgress),n=Vr(t),s={};for(const e in t){const{originalEvent:i}=t[e];this._eventsInProgress[e]||(s[`${e}start`]=i),this._eventsInProgress[e]=t[e]}!r&&n&&this._fireEvent("movestart",n.originalEvent);for(const e in s)this._fireEvent(e,s[e]);n&&this._fireEvent("move",n.originalEvent);for(const e in t){const{originalEvent:i}=t[e];this._fireEvent(e,i)}const a={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:o}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=i[t]||o,a[`${e}end`]=l)}for(const e in a)this._fireEvent(e,a[e]);const c=Vr(this._eventsInProgress);if(o&&(r||n)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),i=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(i(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),i(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,i){this._map.fire(new e.Event(t,i?{originalEvent:i}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{this._frameId=void 0,this.handleEvent(new Wr("renderFrame",{timeStamp:e})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Hr="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Yr extends e.Evented{constructor(t,i){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=i.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,i,o){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},i),o)}panTo(t,i,o){return this.easeTo(e.extend({center:t},i),o)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,i,o){return this.easeTo(e.extend({zoom:t},i),o)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,i,o){return this.easeTo(e.extend({bearing:t},i),o)}resetNorth(t,i){return this.rotateTo(0,e.extend({duration:1e3},t),i),this}resetNorthPitch(t,i){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),i),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,i){t=e.LngLatBounds.convert(t);const o=i&&i.bearing||0,r=i&&i.pitch||0,n=t.getNorthWest(),s=t.getSouthEast();return this._cameraForBounds(this.transform,n,s,o,r,i)}_extendCameraOptions(t){const i={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e}}return t.padding=e.extend(i,t.padding),t}_minimumAABBFrustumDistance(e,t){const i=t.max[0]-t.min[0],o=t.max[1]-t.min[1];return i/o>e.aspect?i/(2*Math.tan(.5*e.fovX)*e.aspect):o/(2*Math.tan(.5*e.fovY)*e.aspect)}_cameraForBoundsOnGlobe(t,i,o,r,n,s){const a=t.clone(),l=this._extendCameraOptions(s);a.bearing=r,a.pitch=n;const c=e.LngLat.convert(i),h=e.LngLat.convert(o),u=.5*(c.lat+h.lat),d=.5*(c.lng+h.lng),_=e.latLngToECEF(u,d),p=e.normalize([],_),m=e.normalize([],e.cross([],p,[0,1,0])),f=e.cross([],m,p),g=[m[0],m[1],m[2],0,f[0],f[1],f[2],0,p[0],p[1],p[2],0,0,0,0,1],v=[_,e.latLngToECEF(c.lat,c.lng),e.latLngToECEF(h.lat,c.lng),e.latLngToECEF(h.lat,h.lng),e.latLngToECEF(c.lat,h.lng),e.latLngToECEF(u,c.lng),e.latLngToECEF(u,h.lng),e.latLngToECEF(c.lat,d),e.latLngToECEF(h.lat,d)];let x=e.Aabb.fromPoints(v.map((t=>[e.dot(m,t),e.dot(f,t),e.dot(p,t)])));const y=e.transformMat4([],x.center,g);0===e.squaredLength(y)&&e.set(y,0,0,1),e.normalize(y,y),e.scale$2(y,y,e.GLOBE_RADIUS),a.center=e.ecefToLatLng(y);const b=a.getWorldToCameraMatrix(),w=e.invert(new Float64Array(16),b);x=e.Aabb.applyTransform(x,e.multiply([],b,g)),e.transformMat4(y,y,b);const T=.5*(x.max[2]-x.min[2]),E=this._minimumAABBFrustumDistance(a,x),C=e.scale$2([],[0,0,1],T),M=e.add(C,y,C),I=E+(0===a.pitch?0:e.distance(y,M)),S=a.globeCenterInViewSpace,D=e.sub([],y,[S[0],S[1],S[2]]);e.normalize(D,D),e.scale$2(D,D,I);const L=e.add([],y,D);e.transformMat4(L,L,w);const z=e.earthRadius/e.GLOBE_RADIUS,A=e.length(L),P=e.mercatorZfromAltitude(Math.max(A*z-e.earthRadius,Number.EPSILON),0),R=Math.min(a.zoomFromMercatorZAdjusted(P),l.maxZoom);return R>.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(a.setProjection({name:"mercator"}),a.zoom=R,this._cameraForBounds(a,i,o,r,n,s)):{center:a.center,zoom:R,bearing:r,pitch:n}}queryTerrainElevation(t,i){const o=this.transform.elevation;return o?(i=e.extend({},{exaggerated:!0},i),o.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,i.exaggerated)):null}_cameraForBounds(t,i,o,r,n,s){if("globe"===t.projection.name)return this._cameraForBoundsOnGlobe(t,i,o,r,n,s);const a=t.clone(),l=this._extendCameraOptions(s),c=a.padding;a.bearing=r,a.pitch=n;const h=e.LngLat.convert(i),u=e.LngLat.convert(o),d=new e.LngLat(h.lng,u.lat),_=new e.LngLat(u.lng,h.lat),p=a.project(h),m=a.project(u),f=this.queryTerrainElevation(h),g=this.queryTerrainElevation(u),v=this.queryTerrainElevation(d),x=this.queryTerrainElevation(_),y=[[p.x,p.y,Math.min(f||0,g||0,v||0,x||0)],[m.x,m.y,Math.max(f||0,g||0,v||0,x||0)]];let b=e.Aabb.fromPoints(y);const w=a.getWorldToCameraMatrix(),T=e.invert(new Float64Array(16),w);b=e.Aabb.applyTransform(b,w);const E=e.sub([],b.max,b.min),C=c.left||0,M=c.right||0,I=c.bottom||0,S=c.top||0,{left:D,right:L,top:z,bottom:A}=l.padding,P=.5*(C+M),R=.5*(S+I),O=Math.min(a.scaleZoom(a.scale*Math.min((a.width-(C+M+D+L))/E[0],(a.height-(I+S+A+z))/E[1])),l.maxZoom),k=a.scale/a.zoomScale(O);b=new e.Aabb([b.min[0]-(D+P)*k,b.min[1]-(A+R)*k,b.min[2]],[b.max[0]+(L+P)*k,b.max[1]+(z+R)*k,b.max[2]]);const B=.5*E[2],F=this._minimumAABBFrustumDistance(a,b),U=[0,0,1,0];e.transformMat4$1(U,U,w),e.normalize$2(U,U);const N=e.scale$2([],U,F+B),G=e.add([],b.center,N),j=("number"==typeof l.offset.x&&"number"==typeof l.offset.y?new e.pointGeometry(l.offset.x,l.offset.y):e.pointGeometry.convert(l.offset)).rotate(-e.degToRad(r));b.center[0]-=j.x*k,b.center[1]+=j.y*k,e.transformMat4(b.center,b.center,T),e.transformMat4(G,G,T);const Z=[b.center[0],b.center[1],G[2]*a.pixelsPerMeter];e.scale$2(Z,Z,1/a.worldSize);const V=e.lngFromMercatorX(Z[0]),W=e.latFromMercatorY(Z[1]),X=Math.min(a._zoomFromMercatorZ(Z[2]),l.maxZoom),q=new e.LngLat(V,W);return a.mercatorFromTransition&&X<.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(a.setProjection({name:"globe"}),a.zoom=X,this._cameraForBounds(a,i,o,r,n,s)):{center:q,zoom:X,bearing:r,pitch:n}}fitBounds(e,t,i){const o=this.cameraForBounds(e,t);return this._fitInternal(o,t,i)}fitScreenCoordinates(t,i,o,r,n){const s=e.pointGeometry.convert(t),a=e.pointGeometry.convert(i),l=new e.pointGeometry(Math.min(s.x,a.x),Math.min(s.y,a.y)),c=new e.pointGeometry(Math.max(s.x,a.x),Math.max(s.y,a.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(s,a))return this;const h=this.transform.pointLocation3D(l),u=this.transform.pointLocation3D(c),d=this.transform.pointLocation3D(new e.pointGeometry(l.x,c.y)),_=this.transform.pointLocation3D(new e.pointGeometry(c.x,l.y)),p=[Math.min(h.lng,u.lng,d.lng,_.lng),Math.min(h.lat,u.lat,d.lat,_.lat)],m=[Math.max(h.lng,u.lng,d.lng,_.lng),Math.max(h.lat,u.lat,d.lat,_.lat)],f=r&&r.pitch?r.pitch:this.getPitch(),g=this._cameraForBounds(this.transform,p,m,o,f,r);return this._fitInternal(g,r,n)}_fitInternal(t,i,o){return t?(delete(i=e.extend(t,i)).padding,i.linear?this.easeTo(i,o):this.flyTo(i,o)):this}jumpTo(t,i){this.stop();const o=t.preloadOnly?this.transform.clone():this.transform;let r=!1,n=!1,s=!1;return"zoom"in t&&o.zoom!==+t.zoom&&(r=!0,o.zoom=+t.zoom),void 0!==t.center&&(o.center=e.LngLat.convert(t.center)),"bearing"in t&&o.bearing!==+t.bearing&&(n=!0,o.bearing=+t.bearing),"pitch"in t&&o.pitch!==+t.pitch&&(s=!0,o.pitch=+t.pitch),null==t.padding||o.isPaddingEqual(t.padding)||(o.padding=t.padding),t.preloadOnly?(this._preloadTiles(o),this):(this.fire(new e.Event("movestart",i)).fire(new e.Event("move",i)),r&&this.fire(new e.Event("zoomstart",i)).fire(new e.Event("zoom",i)).fire(new e.Event("zoomend",i)),n&&this.fire(new e.Event("rotatestart",i)).fire(new e.Event("rotate",i)).fire(new e.Event("rotateend",i)),s&&this.fire(new e.Event("pitchstart",i)).fire(new e.Event("pitch",i)).fire(new e.Event("pitchend",i)),this.fire(new e.Event("moveend",i)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||e.warnOnce(Hr),this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,i){const o=this.transform;if(!o.projection.supportsFreeCamera)return e.warnOnce(Hr),this;this.stop();const r=o.zoom,n=o.pitch,s=o.bearing;o.setFreeCameraOptions(t);const a=r!==o.zoom,l=n!==o.pitch,c=s!==o.bearing;return this.fire(new e.Event("movestart",i)).fire(new e.Event("move",i)),a&&this.fire(new e.Event("zoomstart",i)).fire(new e.Event("zoom",i)).fire(new e.Event("zoomend",i)),c&&this.fire(new e.Event("rotatestart",i)).fire(new e.Event("rotate",i)).fire(new e.Event("rotateend",i)),l&&this.fire(new e.Event("pitchstart",i)).fire(new e.Event("pitch",i)).fire(new e.Event("pitchend",i)),this.fire(new e.Event("moveend",i)),this}easeTo(t,i){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const o=this.transform,r=this.getZoom(),n=this.getBearing(),s=this.getPitch(),a=this.getPadding(),l="zoom"in t?+t.zoom:r,c="bearing"in t?this._normalizeBearing(t.bearing,n):n,h="pitch"in t?+t.pitch:s,u="padding"in t?t.padding:o.padding,d=e.pointGeometry.convert(t.offset);let _,p,m;if("globe"===o.projection.name){const i=e.MercatorCoordinate.fromLngLat(o.center),r=d.rotate(-o.angle);i.x+=r.x/o.worldSize,i.y+=r.y/o.worldSize;const n=i.toLngLat(),s=e.LngLat.convert(t.center||n);this._normalizeCenter(s),_=o.centerPoint.add(r),p=new e.pointGeometry(i.x,i.y).mult(o.worldSize),m=new e.pointGeometry(e.mercatorXfromLng(s.lng),e.mercatorYfromLat(s.lat)).mult(o.worldSize).sub(p)}else{_=o.centerPoint.add(d);const i=o.pointLocation(_),r=e.LngLat.convert(t.center||i);this._normalizeCenter(r),p=o.project(i),m=o.project(r).sub(p)}const f=o.zoomScale(l-r);let g,v;t.around&&(g=e.LngLat.convert(t.around),v=o.locationPoint(g));const x=this._zooming||l!==r,y=this._rotating||n!==c,b=this._pitching||h!==s,w=!o.isPaddingEqual(u),T=o=>T=>{if(x&&(o.zoom=e.number(r,l,T)),y&&(o.bearing=e.number(n,c,T)),b&&(o.pitch=e.number(s,h,T)),w&&(o.interpolatePadding(a,u,T),_=o.centerPoint.add(d)),g)o.setLocationAtPoint(g,v);else{const e=o.zoomScale(o.zoom-r),t=l>r?Math.min(2,f):Math.max(.5,f),i=Math.pow(t,1-T),n=o.unproject(p.add(m.mult(T*i)).mult(e));o.setLocationAtPoint(o.renderWorldCopies?n.wrap():n,_)}return t.preloadOnly||this._fireMoveEvents(i),o};if(t.preloadOnly){const e=this._emulate(T,t.duration,o);return this._preloadTiles(e),this}const E={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=x,this._rotating=y,this._pitching=b,this._padding=w,this._easeId=t.easeId,this._prepareEase(i,t.noMoveStart,E),this._ease(T(o),(e=>{o.recenterOnTerrain(),this._afterEase(i,e)}),t),this}_prepareEase(t,i,o={}){this._moving=!0,this.transform.cameraElevationReference="sea",i||o.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!o.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!o.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!o.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,i){if(this._easeId&&i&&this._easeId===i)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const o=this._zooming,r=this._rotating,n=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,o&&this.fire(new e.Event("zoomend",t)),r&&this.fire(new e.Event("rotateend",t)),n&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,i){if(!t.essential&&e.exported.prefersReducedMotion){const o=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(o,i)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const o=this.transform,r=this.getZoom(),n=this.getBearing(),s=this.getPitch(),a=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):r,c="bearing"in t?this._normalizeBearing(t.bearing,n):n,h="pitch"in t?+t.pitch:s,u="padding"in t?t.padding:o.padding,d=o.zoomScale(l-r),_=e.pointGeometry.convert(t.offset);let p=o.centerPoint.add(_);const m=o.pointLocation(p),f=e.LngLat.convert(t.center||m);this._normalizeCenter(f);const g=o.project(m),v=o.project(f).sub(g);let x=t.curve;const y=Math.max(o.width,o.height),b=y/d,w=v.mag();if("minZoom"in t){const i=e.clamp(Math.min(t.minZoom,r,l),o.minZoom,o.maxZoom),n=y/o.zoomScale(i-r);x=Math.sqrt(n/w*2)}const T=x*x;function E(e){const t=(b*b-y*y+(e?-1:1)*T*T*w*w)/(2*(e?b:y)*T*w);return Math.log(Math.sqrt(t*t+1)-t)}function C(e){return(Math.exp(e)-Math.exp(-e))/2}function M(e){return(Math.exp(e)+Math.exp(-e))/2}const I=E(0);let S=function(e){return M(I)/M(I+x*e)},D=function(e){return y*((M(I)*(C(t=I+x*e)/M(t))-C(I))/T)/w;var t},L=(E(1)-I)/x;if(Math.abs(w)<1e-6||!isFinite(L)){if(Math.abs(y-b)<1e-6)return this.easeTo(t,i);const e=b<y?-1:1;L=Math.abs(Math.log(b/y))/x,D=function(){return 0},S=function(t){return Math.exp(e*x*t)}}t.duration="duration"in t?+t.duration:1e3*L/("screenSpeed"in t?+t.screenSpeed/x:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);const z=n!==c,A=h!==s,P=!o.isPaddingEqual(u),R=o=>d=>{const m=d*L,x=1/S(m);o.zoom=1===d?l:r+o.scaleZoom(x),z&&(o.bearing=e.number(n,c,d)),A&&(o.pitch=e.number(s,h,d)),P&&(o.interpolatePadding(a,u,d),p=o.centerPoint.add(_));const y=1===d?f:o.unproject(g.add(v.mult(D(m))).mult(x));return o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,p),o._updateCameraOnTerrain(),t.preloadOnly||this._fireMoveEvents(i),o};if(t.preloadOnly){const e=this._emulate(R,t.duration,o);return this._preloadTiles(e),this}return this._zooming=!0,this._rotating=z,this._pitching=A,this._padding=P,this._prepareEase(i,!1),this._ease(R(o),(()=>this._afterEase(i)),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,i,o){!1===o.animate||0===o.duration?(t(1),i()):(this._easeStart=e.exported.now(),this._easeOptions=o,this._onEaseFrame=t,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),i=this._onEaseFrame;i&&i(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,i){t=e.wrap(t,-180,180);const o=Math.abs(t-i);return Math.abs(t-360-i)<o&&(t-=360),Math.abs(t+360-i)<o&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.maxBounds)return;const i=e.lng-t.center.lng;e.lng+=i>180?-360:i<-180?360:0}_emulate(e,t,i){const o=Math.ceil(15*t/1e3),r=[],n=e(i.clone());for(let e=0;e<=o;e++){const t=n(e/o);r.push(t.clone())}return r}}class Jr{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=n("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n("button","mapboxgl-ctrl-attrib-button",this._container),n("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const i=this._map._getUIString(`AttributionControl.${t}`);e.setAttribute("aria-label",i),e.removeAttribute("title"),e.firstElementChild&&e.firstElementChild.setAttribute("title",i)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));const i=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){const o=i.reduce(((e,t,o)=>(t.value&&(e+=`${t.key}=${t.value}${o<i.length-1?"&":""}`),e)),"?");t.href=`${e.config.FEEDBACK_URL}/${o}#${er(this._map,!0)}`,t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style._sourceCaches;for(const i in t){const o=t[i];if(o.used){const t=o.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,i)=>{for(let o=i+1;o<e.length;o++)if(e[o].indexOf(t)>=0)return!1;return!0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const i=e.join(" | ");i!==this._attribHTML&&(this._attribHTML=i,e.length?(this._innerContainer.innerHTML=i,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Kr{constructor(){e.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(e){this._map=e,this._container=n("div","mapboxgl-ctrl");const t=n("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(const t in e){const i=e[t].getSource();if(i.hasOwnProperty("mapbox_logo")&&!i.mapbox_logo)return!1}return!0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}class Qr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,i=t?this._queue.concat(t):this._queue;for(const t of i)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const i of t)if(!i.cancelled&&(i.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function en(t,i,o){if(t=new e.LngLat(t.lng,t.lat),i){const r=new e.LngLat(t.lng-360,t.lat),n=new e.LngLat(t.lng+360,t.lat),s=360*Math.ceil(Math.abs(t.lng-o.center.lng)/360),a=o.locationPoint(t).distSqr(i),l=i.x<0||i.y<0||i.x>o.width||i.y>o.height;o.locationPoint(r).distSqr(i)<a&&(l||Math.abs(r.lng-o.center.lng)<s)?t=r:o.locationPoint(n).distSqr(i)<a&&(l||Math.abs(n.lng-o.center.lng)<s)&&(t=n)}for(;Math.abs(t.lng-o.center.lng)>180;){const e=o.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=o.width&&e.y<=o.height)break;t.lng>o.center.lng?t.lng-=360:t.lng+=360}return t}const tn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class on extends e.Evented{constructor(t,i){if(super(),(t instanceof e.window.HTMLElement||i)&&(t=e.extend({element:t},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=t&&t.occludedOpacity||.2,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=n("div");const i=41,o=27,r=s("svg",{display:"block",height:i*this._scale+"px",width:o*this._scale+"px",viewBox:`0 0 ${o} ${i}`},this._element),a=s("radialGradient",{id:"shadowGradient"},s("defs",{},r));s("stop",{offset:"10%","stop-opacity":.4},a),s("stop",{offset:"100%","stop-opacity":.05},a),s("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},r),s("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},r),s("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},r),s("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},r),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(e=>{e.preventDefault()})),this._element.addEventListener("mousedown",(e=>{e.preventDefault()}));const o=this._element.classList;for(const e in tn)o.remove(`mapboxgl-marker-anchor-${e}`);o.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._updateMoving),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on("click",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off("click",this._onMapClick),e.off("move",this._updateMoving),e.off("moveend",this._update),e.off("mousedown",this._addDragHandler),e.off("touchstart",this._addDragHandler),e.off("mouseup",this._onUp),e.off("touchend",this._onUp),e.off("mousemove",this._onMove),e.off("touchmove",this._onMove),e.off("remove",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,i=13.5,o=Math.sqrt(Math.pow(i,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[o,-1*(t-i+o)],"bottom-right":[-o,-1*(t-i+o)],left:[i,-1*(t-i)],right:[-i,-1*(t-i)]}:this._offset}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(e){const t=e.code,i=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==i&&13!==i||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,i=this._element;this._popup&&(t===i||i.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const e=this._map,t=this._pos;if(!e||!t)return!1;const i=e.unproject(t),o=e.getFreeCameraOptions();if(!o.position)return!1;const r=o.position.toLngLat();return r.distanceTo(i)<.9*r.distanceTo(this._lngLat)}_evaluateOpacity(){const t=this._map;if(!t)return;const i=this._pos;if(!i||i.x<0||i.x>t.transform.width||i.y<0||i.y>t.transform.height)return void this._clearFadeTimer();const o=t.unproject(i);let r;t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?r=0:(r=1-t._queryFogOpacity(o),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(r*=this._occludedOpacity)),this._element.style.opacity=`${r}`,this._element.style.pointerEvents=r>0?"auto":"none",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${e.x}px,${e.y}px)\n            ${tn[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${t.x}px,${t.y}px)\n        `}_calculateXYTransform(){const t=this._pos,i=this._map,o=this.getPitchAlignment();if(!i||!t||"map"!==o)return"";if(!i._showingGlobe()){const e=i.getPitch();return e?`rotateX(${e}deg)`:""}const r=e.radToDeg(e.globeTiltAtLngLat(i.transform,this._lngLat)),n=t.sub(e.globeCenterToScreenPoint(i.transform)),s=Math.abs(n.x)+Math.abs(n.y);if(0===s)return"";const a=r/s;return`rotateX(${-n.y*a}deg) rotateY(${n.x*a}deg)`}_calculateZTransform(){const t=this._pos,i=this._map;if(!i||!t)return"";let o=0;const r=this.getRotationAlignment();if("map"===r)if(i._showingGlobe()){const t=i.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),r=i.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(t);o=e.radToDeg(Math.atan2(r.y,r.x))-90}else o=-i.getBearing();else if("horizon"===r){const r=e.smoothstep(4,6,i.getZoom()),n=e.globeCenterToScreenPoint(i.transform);n.y+=r*i.transform.height;const s=t.sub(n),a=e.radToDeg(Math.atan2(s.y,s.x));o=(a>90?a-270:a+90)*(1-r)}return o+=this._rotation,o?`rotateZ(${o}deg)`:""}_update(t){e.window.cancelAnimationFrame(this._updateFrameId);const i=this._map;i&&(i.transform.renderWorldCopies&&(this._lngLat=en(this._lngLat,this._pos,i.transform)),this._pos=i.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())})):this._pos=this._pos.round(),i._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(i._showingGlobe()||i.getTerrain()||i.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})))}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){const i=this._map;if(!i)return;const o=this._pointerdownPos,r=this._positionDelta;if(o&&r){if(!this._isDragging){const e=this._clickTolerance||i._clickTolerance;if(t.point.dist(o)<e)return;this._isDragging=!0}this._pos=t.point.sub(r),this._lngLat=i.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const t=this._map;t&&(t.off("mousemove",this._onMove),t.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){const t=this._map,i=this._pos;t&&i&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(i),this._pointerdownPos=e.point,this._state="pending",t.on("mousemove",this._onMove),t.on("touchmove",this._onMove),t.once("mouseup",this._onUp),t.once("touchend",this._onUp))}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on("mousedown",this._addDragHandler),t.on("touchstart",this._addDragHandler)):(t.off("mousedown",this._addDragHandler),t.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(e){return this._occludedOpacity=e||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const rn={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},nn=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function sn(t=new e.pointGeometry(0,0),i="bottom"){if("number"==typeof t){const o=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(i){case"top":return new e.pointGeometry(0,t);case"top-left":return new e.pointGeometry(o,o);case"top-right":return new e.pointGeometry(-o,o);case"bottom":return new e.pointGeometry(0,-t);case"bottom-left":return new e.pointGeometry(o,-o);case"bottom-right":return new e.pointGeometry(-o,-o);case"left":return new e.pointGeometry(t,0);case"right":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[i]||[0,0])}class an{constructor(e){this.jumpTo(e)}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const i=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-i)+this._end*i}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}easeTo(e,t,i){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+i}}const ln={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},cn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};class hn extends Yr{constructor(t){if(e.LivePerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},cn,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Jo(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._interactive=t.interactive,this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._useWebGL2=t.useWebGL2,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._collectResourceTiming=t.collectResourceTiming,this._optimizeForTerrain=t.optimizeForTerrain,this._language=this._parseLanguage(t.language),this._worldview=t.worldview,this._renderTaskQueue=new Qr,this._domRenderTaskQueue=new Qr,this._controls=[],this._markers=[],this._popups=[],this._mapId=e.uniqueId(),this._locale=e.extend({},ln,t.locale),this._clickTolerance=t.clickTolerance,this._cooperativeGestures=t.cooperativeGestures,this._performanceMetricsCollection=t.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new an(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),this._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(this._container.childNodes.length>0&&e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new $r(this,t),this._localFontFamily=t.localFontFamily,this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),t.projection&&this.setProjection(t.projection),this._hash=t.hash&&new Qo("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),t.attributionControl&&this.addControl(new Jr({customAttribution:t.customAttribution})),this._logoControl=new Kr,this.addControl(this._logoControl,t.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(t=>{this._update("style"===t.dataType),this.fire(new e.Event(`${t.dataType}data`,t))})),this.on("dataloading",(t=>{this.fire(new e.Event(`${t.dataType}dataloading`,t))}))}_getMapId(){return this._mapId}addControl(t,i){if(void 0===i&&(i=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const o=t.onAdd(this);this._controls.push(t);const r=this._controlPositions[i];return-1!==i.indexOf("bottom")?r.insertBefore(o,r.firstChild):r.appendChild(o),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(t);return i>-1&&this._controls.splice(i,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const i=!this._moving;return i&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),i&&this.fire(new e.Event("moveend",t)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(t){return"auto"===t?e.window.navigator.language:Array.isArray(t)?0===t.length?void 0:t.map((t=>"auto"===t?e.window.navigator.language:t)):t}setLanguage(e){const t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style._reloadSources();for(const e of this._controls)e._setLanguage&&e._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?"string"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const t=this.transform,i=t.projection.name;let o;"globe"===i&&t.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(t.setMercatorFromTransition(),o=!0):"mercator"===i&&t.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(t.setProjection({name:"globe"}),o=!0),o&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:"mercator"})}_updateProjection(t){let i;if(i="globe"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),i){this.painter.clearBackgroundTiles();for(const e in this.style._sourceCaches)this.style._sourceCaches[e].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(e,t,i){if("mouseenter"===e||"mouseover"===e){let o=!1;const r=r=>{const n=t.filter((e=>this.getLayer(e))),s=n.length?this.queryRenderedFeatures(r.point,{layers:n}):[];s.length?o||(o=!0,i.call(this,new cr(e,this,r.originalEvent,{features:s}))):o=!1},n=()=>{o=!1};return{layers:new Set(t),listener:i,delegates:{mousemove:r,mouseout:n}}}if("mouseleave"===e||"mouseout"===e){let o=!1;const r=r=>{const n=t.filter((e=>this.getLayer(e)));(n.length?this.queryRenderedFeatures(r.point,{layers:n}):[]).length?o=!0:o&&(o=!1,i.call(this,new cr(e,this,r.originalEvent)))},n=t=>{o&&(o=!1,i.call(this,new cr(e,this,t.originalEvent)))};return{layers:new Set(t),listener:i,delegates:{mousemove:r,mouseout:n}}}{const o=e=>{const o=t.filter((e=>this.getLayer(e))),r=o.length?this.queryRenderedFeatures(e.point,{layers:o}):[];r.length&&(e.features=r,i.call(this,e),delete e.features)};return{layers:new Set(t),listener:i,delegates:{[e]:o}}}}on(e,t,i){if(void 0===i)return super.on(e,t);Array.isArray(t)||(t=[t]);const o=this._createDelegatedListener(e,t,i);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(o);for(const e in o.delegates)this.on(e,o.delegates[e]);return this}once(e,t,i){if(void 0===i)return super.once(e,t);Array.isArray(t)||(t=[t]);const o=this._createDelegatedListener(e,t,i);for(const e in o.delegates)this.once(e,o.delegates[e]);return this}off(e,t,i){if(void 0===i)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);const o=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0},r=this._delegatedListeners?this._delegatedListeners[e]:void 0;return r&&(e=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.listener===i&&o(n.layers,t)){for(const e in n.delegates)this.off(e,n.delegates[e]);return e.splice(r,1),this}}})(r),this}queryRenderedFeatures(t,i){return this.style?(void 0!==i||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(i=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],i=i||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,i){return!1!==(i=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&i.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._localFontFamily=i.localFontFamily,this._updateStyle(t,i))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new Qt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Qt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,i){if("string"==typeof t){const o=this._requestManager.normalizeStyleURL(t),r=this._requestManager.transformRequest(o,e.ResourceType.Style);e.getJSON(r,((t,o)=>{t?this.fire(new e.ErrorEvent(t)):o&&this._updateDiff(o,i)}))}else"object"==typeof t&&this._updateDiff(t,i)}_updateDiff(t,i){try{this.style.setState(t)&&this._update(!0)}catch(o){e.warnOnce(`Unable to perform style diff: ${o.message||o.error||o}.  Rebuilding the style from scratch.`),this._updateStyle(t,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(e.warnOnce("There is no style added to the map."),!1)}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){return!!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const i=e[t]._tiles;for(const e in i){const t=i[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,i){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,i)}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,i,{pixelRatio:o=1,sdf:r=!1,stretchX:n,stretchY:s,content:a}={}){if(this._lazyInitEmptyStyle(),i instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&i instanceof e.window.ImageBitmap){const{width:l,height:c,data:h}=e.exported.getImageData(i);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},h),pixelRatio:o,stretchX:n,stretchY:s,content:a,sdf:r,version:0})}else if(void 0===i.width||void 0===i.height)this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:l,height:c}=i,h=i;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(h.data)),pixelRatio:o,stretchX:n,stretchY:s,content:a,sdf:r,version:0,userImage:h}),h.onAdd&&h.onAdd(this,t)}}updateImage(t,i){const o=this.style.getImage(t);if(!o)return void this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=i instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&i instanceof e.window.ImageBitmap?e.exported.getImageData(i):i,{width:n,height:s}=r;void 0!==n&&void 0!==s?n===o.data.width&&s===o.data.height?(o.data.replace(r.data,!(i instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&i instanceof e.window.ImageBitmap)),this.style.updateImage(t,o)):this.fire(new e.ErrorEvent(new Error(`The width and height of the updated image (${n}, ${s})\n                must be that same as the previous version of the image\n                (${o.data.width}, ${o.data.height})`))):this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,i){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),((t,o)=>{i(t,o instanceof e.window.HTMLImageElement?e.exported.getImageData(o):o)}))}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,i){return this.style.setLayerZoomRange(e,t,i),this._update(!0)}setFilter(e,t,i={}){return this.style.setFilter(e,t,i),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,i,o={}){return this.style.setPaintProperty(e,t,i,o),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,i,o={}){return this.style.setLayoutProperty(e,t,i,o),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}_updateContainerDimensions(){if(!this._container)return;const t=this._container.getBoundingClientRect().width||400,i=this._container.getBoundingClientRect().height||300;let o,r,n,s=this._container;for(;s&&(!r||!n);){const t=e.window.getComputedStyle(s).transform;t&&"none"!==t&&(o=t.match(/matrix.*\((.+)\)/)[1].split(", "),o[0]&&"0"!==o[0]&&"1"!==o[0]&&(r=o[0]),o[3]&&"0"!==o[3]&&"1"!==o[3]&&(n=o[3])),s=s.parentElement}this._containerWidth=r?Math.abs(t/r):t,this._containerHeight=n?Math.abs(i/n):i}_detectMissingCSS(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=n("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();const t=this._canvasContainer=n("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=n("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const i=this._controlContainer=n("div","mapboxgl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((e=>{o[e]=n("div",`mapboxgl-ctrl-${e}`,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(t,i){const o=e.exported.devicePixelRatio||1;this._canvas.width=o*Math.ceil(t),this._canvas.height=o*Math.ceil(i),this._canvas.style.width=`${t}px`,this._canvas.style.height=`${i}px`}_addMarker(e){this._markers.push(e)}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}_addPopup(e){this._popups.push(e)}_removePopup(e){const t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1)}_setupPainter(){const t=e.extend({},i.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),o=this._useWebGL2&&this._canvas.getContext("webgl2",t),r=o||this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);r?(this._useWebGL2&&!o&&e.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),e.storeAuthState(r,!0),this.painter=new Fo(r,this.transform,!!o),this.on("data",(e=>{"source"===e.dataType&&this.painter.setTileLoadedFlag(!0)})),e.exported$1.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}_render(t){let i;const o=this.painter.context.extTimerQuery,r=e.exported.now();if(this.listens("gpu-timing-frame")&&(i=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,i)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],e.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],e.window.performance.now())),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),this._removed)return;this._updateProjectionTransition();const n=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,i=this.transform.pitch,o=e.exported.now(),r=new e.EvaluationParameters(t,{now:o,fadeDuration:n,pitch:i,transition:this.style.getTransition()});this.style.update(r)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let s=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),s=this._updateAverageElevation(r),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):s=this._updateAverageElevation(r),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,n,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:n,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),i){const t=e.exported.now()-r;o.endQueryEXT(o.TIME_ELAPSED_EXT,i),setTimeout((()=>{const n=o.getQueryObjectEXT(i,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(i),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:n})),e.window.performance.mark("frame-gpu",{startTime:r,detail:{gpuTime:n}})}),50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout((()=>{const i=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:i}))}),50)}if(this.listens("gpu-timing-deferred-render")){const t=this.painter.collectDeferredRenderGpuQueries();setTimeout((()=>{const i=this.painter.queryGpuTimeDeferredRender(t);this.fire(new e.Event("gpu-timing-deferred-render",{gpuTime:i}))}),50)}const a=this._sourcesDirty||this._styleDirty||this._placementDirty||s;if(a||this._repaint)this.triggerRepaint();else{const t=!this.isMoving()&&this.loaded();if(t&&(s=this._updateAverageElevation(r,!0)),s)this.triggerRepaint();else if(this._triggerFrame(!1),t&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:t})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||a||(this._fullyLoaded=!0,e.LivePerformanceUtils.mark(e.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&e.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(e){for(const t of this._markers)e&&!this.getRenderWorldCopies()&&(t._lngLat=t._lngLat.wrap()),t._update();for(const t of this._popups)!e||this.getRenderWorldCopies()||t._trackPointer||(t._lngLat=t._lngLat.wrap()),t._update()}_updateAverageElevation(e,t=!1){const i=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&i(0);if((t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let o=this.transform.sampleAverageElevation(),r=!1;this.transform.elevation&&(r=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(o)?o=0:this._averageElevationLastSampledAt=e;const n=Math.abs(t-o);if(n>1){if(this._isInitialLoad||r)return this._averageElevation.jumpTo(o),i(o);this._averageElevation.easeTo(o,e,300)}else if(n>1e-4)return this._averageElevation.jumpTo(o),i(o)}return!!this._averageElevation.isEasing(e)&&i(this._averageElevation.getValue(e))}_authenticate(){e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(t=>{if(t&&(t.message===e.AUTH_ERR_MSG||401===t.status)){const t=this.painter.context.gl;e.storeAuthState(t,!1),this._logoControl instanceof Kr&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}))}_updateTerrain(){const e=this._isDragging();this.painter.updateTerrain(this.style,e)}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const i=this.painter.context.gl,o=i.createFramebuffer();function r(e){i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0);const t=new Uint8Array(i.drawingBufferWidth*i.drawingBufferHeight*4);return i.readPixels(0,0,i.drawingBufferWidth,i.drawingBufferHeight,i.RGBA,i.UNSIGNED_BYTE,t),t}return i.bindFramebuffer(i.FRAMEBUFFER,o),this._canvasPixelComparison(r(e),t.canvasCopies.map(r),t.timeStamps)}_canvasPixelComparison(e,t,i){let o=i[1]-i[0];const r=e.length/4;for(let n=0;n<t.length;n++){const s=t[n];let a=0;for(let t=0;t<s.length;t+=4)s[t]===e[t]&&s[t+1]===e[t+1]&&s[t+2]===e[t+2]&&s[t+3]===e[t+3]&&(a+=1);o+=(i[n+2]-i[n+1])*(1-a/r)}return o}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1),e.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame((e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e)})))}_preloadTiles(t){const i=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(i,((e,i)=>e._preloadTiles(t,i)),(()=>{this.triggerRepaint()})),this}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}_onVisibilityChange(){"hidden"===e.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update())}_setCacheLimits(t,i){e.setCacheLimits(t,i)}get version(){return e.version}}const un={showCompass:!0,showZoom:!0,visualizePitch:!1};class dn{constructor(t,i,o=!1){this._clickTolerance=10,this.element=i,this.mouseRotate=new wr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,o&&(this.mousePitch=new Tr({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),i.addEventListener("mousedown",this.mousedown),i.addEventListener("touchstart",this.touchstart,{passive:!1}),i.addEventListener("touchmove",this.touchmove),i.addEventListener("touchend",this.touchend),i.addEventListener("touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),h()}move(e,t){const i=this.map,o=this.mouseRotate.mousemoveWindow(e,t),r=o&&o.bearingDelta;if(r&&i.setBearing(i.getBearing()+r),this.mousePitch){const o=this.mousePitch.mousemoveWindow(e,t),r=o&&o.pitchDelta;r&&i.setPitch(i.getPitch()+r)}}off(){const e=this.element;e.removeEventListener("mousedown",this.mousedown),e.removeEventListener("touchstart",this.touchstart,{passive:!1}),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){u(),e.window.removeEventListener("mousemove",this.mousemove),e.window.removeEventListener("mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),p(this.element,t)),e.window.addEventListener("mousemove",this.mousemove),e.window.addEventListener("mouseup",this.mouseup)}mousemove(e){this.move(e,p(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=m(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=m(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const _n={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},pn={maxWidth:100,unit:"metric"};function mn(e,t,i){const o=fn(t),r=o/t,n={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[i];this._map._requestDomTask((()=>{this._container.style.width=e*r+"px",this._container.innerHTML=`${o}&nbsp;${n}`}))}function fn(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let i=e/t;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(i),t*i}const gn={version:e.version,supported:i,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:hn,NavigationControl:class{constructor(t){this.options=e.extend({},un,t),this._container=n("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(e=>{this._map&&this._map.zoomIn({},{originalEvent:e})})),n("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(e=>{this._map&&this._map.zoomOut({},{originalEvent:e})})),n("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}))})),this._compassIcon=n("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),i=t===e.getMaxZoom(),o=t===e.getMinZoom();this._zoomInButton.disabled=i,this._zoomOutButton.disabled=o,this._zoomInButton.setAttribute("aria-disabled",i.toString()),this._zoomOutButton.setAttribute("aria-disabled",o.toString())}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${e.transform.pitch}deg) rotateZ(${e.transform.angle*(180/Math.PI)}deg)`:`rotate(${e.transform.angle*(180/Math.PI)}deg)`;e._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=t)}))}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&e.on("pitch",this._rotateCompassArrow),e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new dn(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off("pitch",this._rotateCompassArrow),e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(e,t){const i=n("button",e,this._container);return i.type="button",i.addEventListener("click",t),i}_setButtonTitle(e,t){if(!this._map)return;const i=this._map._getUIString(`NavigationControl.${t}`);e.setAttribute("aria-label",i),e.firstElementChild&&e.firstElementChild.setAttribute("title",i)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({geolocation:e.window.navigator.geolocation},_n,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Ko(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(e){return this._map=e,this._container=n("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(t){const i=(e=!!this.options.geolocation)=>{this._supportsGeolocation=e,t(e)};void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((e=>i("denied"!==e.state))).catch((()=>i())):i()}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),i=e.coords;return!!t&&(i.longitude<t.getWest()||i.longitude>t.getEast()||i.latitude<t.getSouth()||i.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const i=new e.LngLat(t.coords.longitude,t.coords.latitude),o=t.coords.accuracy,r=this._map.getBearing(),n=e.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(o),n,{geolocateSource:!0})}_updateMarker(t){if(t){const i=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const t=this._map.transform,i=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,o=Math.ceil(2*this._accuracy*i);this._circleElement.style.width=`${o}px`,this._circleElement.style.height=`${o}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(void 0!==this._map){if(this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this._geolocateButton=n("button","mapboxgl-ctrl-geolocate",this._container),n("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n("div","mapboxgl-user-location"),this._dotElement.appendChild(n("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(n("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new on({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=n("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new on({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))}))}}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const t=()=>{e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((e=>{"granted"===e&&t()})).catch(console.error):t()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Jr,ScaleControl:class{constructor(t){this.options=e.extend({},pn,t),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch(e){return!1}}()||(this._setScale=mn.bind(this)),e.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const e=this.options.maxWidth||100,t=this._map,i=t._containerHeight/2,o=t._containerWidth/2-e/2,r=t.unproject([o,i]),n=t.unproject([o+e,i]),s=r.distanceTo(n);if("imperial"===this.options.unit){const t=3.2808*s;t>5280?this._setScale(e,t/5280,"mile"):this._setScale(e,t,"foot")}else"nautical"===this.options.unit?this._setScale(e,s/1852,"nautical-mile"):s>=1e3?this._setScale(e,s/1e3,"kilometer"):this._setScale(e,s,"meter")}_setScale(e,t,i){const o=fn(t),r=o/t;this._map._requestDomTask((()=>{this._container.style.width=e*r+"px",this._container.innerHTML="nautical-mile"!==i?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:i}).format(o):`${o}&nbsp;nm`}))}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=n("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(e){this._language=e,this._update()}setUnit(e){this.options.unit=e,this._update()}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=n("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}_setupUI(){const t=this._fullscreenButton=n("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(rn),t),e.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[])}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on("preclick",this._onClose),this.options.closeOnMove&&t.on("move",this._onClose),t.on("remove",this.remove),this._update(),t._addPopup(this),this._focusFirstElement(),this._trackPointer?(t.on("mousemove",this._onMouseEvent),t.on("mouseup",this._onMouseEvent),t._canvasContainer.classList.add("mapboxgl-track-pointer")):t.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const t=this._map;return t&&(t.off("move",this._update),t.off("move",this._onClose),t.off("preclick",this._onClose),t.off("click",this._onClose),t.off("remove",this.remove),t.off("mousemove",this._onMouseEvent),t.off("mouseup",this._onMouseEvent),t.off("drag",this._onMouseEvent),t._canvasContainer&&t._canvasContainer.classList.remove("mapboxgl-track-pointer"),t._removePopup(this),this._map=void 0),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();const i=this._map;return i&&(i.on("move",this._update),i.off("mousemove",this._onMouseEvent),i._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off("move",this._update),e.on("mousemove",this._onMouseEvent),e.on("drag",this._onMouseEvent),e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(t){return this.setDOMContent(e.window.document.createTextNode(t))}setHTML(t){const i=e.window.document.createDocumentFragment(),o=e.window.document.createElement("body");let r;for(o.innerHTML=t;r=o.firstChild,r;)i.appendChild(r);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=n("div","mapboxgl-popup-content",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=n("button","mapboxgl-popup-close-button",t);e.type="button",e.setAttribute("aria-label","Close popup"),e.setAttribute("aria-hidden","true"),e.innerHTML="&#215;",e.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point)}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,i=this._container,o=this._pos;if(!t||!i||!o)return"bottom";const r=i.offsetWidth,n=i.offsetHeight,s=o.x<r/2,a=o.x>t.transform.width-r/2;if(o.y+e<n)return s?"top-left":a?"top-right":"top";if(o.y>t.transform.height-n){if(s)return"bottom-left";if(a)return"bottom-right"}return s?"left":a?"right":"bottom"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push("mapboxgl-popup"),this._anchor&&t.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),e.className=t.join(" ")}_update(t){const i=this._map,o=this._content;if(!i||!this._lngLat&&!this._trackPointer||!o)return;let r=this._container;if(r||(r=this._container=n("div","mapboxgl-popup",i.getContainer()),this._tip=n("div","mapboxgl-popup-tip",r),r.appendChild(o)),this.options.maxWidth&&r.style.maxWidth!==this.options.maxWidth&&(r.style.maxWidth=this.options.maxWidth),i.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=en(this._lngLat,this._pos,i.transform)),!this._trackPointer||t){const e=this._pos=this._trackPointer&&t?t:i.project(this._lngLat),o=sn(this.options.offset),r=this._anchor=this._getAnchor(o.y),n=sn(this.options.offset,r),s=e.add(n).round();i._requestDomTask((()=>{this._container&&r&&(this._container.style.transform=`${tn[r]} translate(${s.x}px,${s.y}px)`)}))}if(!this._marker&&i._showingGlobe()){const t=e.isLngLatBehindGlobe(i.transform,this._lngLat)?0:1;this._setOpacity(t)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(nn);e&&e.focus()}_onClose(){this.remove()}_setOpacity(e){this._container&&(this._container.style.opacity=`${e}`),this._content&&(this._content.style.pointerEvents=e?"auto":"none")}},Marker:on,Style:Qt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:Zo,Evented:e.Evented,config:e.config,prewarm:function(){je().acquire(Ue)},clearPrewarmedResources:function(){const e=Ge;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Ue),Ge=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Ne.workerCount},set workerCount(e){Ne.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow},vn=function(e){const t=new RegExp("[?&]access_token=([^&#]*)","i").exec(window.location.href);return t&&t[1]}()||localStorage.getItem("accessToken")||"pk.eyJ1IjoibWFwYm94LWdsLWpzIiwiYSI6ImNram9ybGI1ajExYjQyeGxlemppb2pwYjIifQ.LGy5UGNIsXUZdYMvfYRiAQ";localStorage.setItem("accessToken",vn);class xn{constructor(){this._measureAsync=this._measureAsync.bind(this)}setup(){}bench(){}teardown(){}run(){return Promise.resolve(this.setup()).then((()=>this._begin())).catch((e=>{console.error(e)}))}_done(){return this._elapsed>=500&&this._measurements.length>210}_begin(){this._measurements=[],this._elapsed=0,this._iterationsPerMeasurement=1,this._start=performance.now();const e=this.bench();return e instanceof Promise?e.then(this._measureAsync):this._measureSync()}_measureSync(){for(;;){const e=performance.now()-this._start;if(this._elapsed+=e,e<5?this._iterationsPerMeasurement++:this._measurements.push({time:e,iterations:this._iterationsPerMeasurement}),this._done())break;this._start=performance.now();for(let e=this._iterationsPerMeasurement;e>0;--e)this.bench()}return this._end()}_measureAsync(){const e=performance.now()-this._start;return this._elapsed+=e,e<5?this._iterationsPerMeasurement++:this._measurements.push({time:e,iterations:this._iterationsPerMeasurement}),this._done()?this._end():(this._start=performance.now(),this._runAsync(this._iterationsPerMeasurement).then(this._measureAsync))}_runAsync(e){const t=this.bench();return 1===e?t:t.then((()=>this._runAsync(e-1)))}_end(){return Promise.resolve(this.teardown()).then((()=>this._measurements))}}const yn=new e.RequestManager;function bn(e){return"string"==typeof e?fetch(yn.normalizeStyleURL(e)).then((e=>e.json())):Promise.resolve(e)}const wn=new class extends e.Evented{constructor(){super(),this._requestManager=new e.RequestManager}};function Tn(e,t){return fetch(e.normalizeSourceURL(t)).then((e=>e.json()))}class En{constructor(t,i){this.styleJSON=t,this.sourceID=i,this.layerIndex=new e.StyleLayerIndex(Ve(this.styleJSON.layers)),this.glyphs={},this.icons={}}loadImages(e,t){const i=JSON.stringify(e);this.icons[i]?t(null,this.icons[i]):this.style.getImages("",e,((e,o)=>{this.icons[i]=o,t(e,o)}))}loadGlyphs(e,t){const i=JSON.stringify(e);this.glyphs[i]?t(null,this.glyphs[i]):this.style.getGlyphs("",e,((e,o)=>{this.glyphs[i]=o,t(e,o)}))}setup(){const e=this;return this.actor={send(t,i,o){setTimeout((()=>{"getImages"===t?e.loadImages(i,o):"getGlyphs"===t&&e.loadGlyphs(i,o)}),0)}},Promise.all([(t=this.styleJSON,new Promise(((e,i)=>{const o=new Qt(wn);o.loadJSON(t),o.on("style.load",(()=>e(o))).on("error",i)}))),Tn(wn._requestManager,this.styleJSON.sources[this.sourceID].url)]).then((([e,t])=>{this.style=e,this.tileJSON=t}));var t}fetchTile(e){return fetch(this.style.map._requestManager.normalizeTileURL(e.canonical.url(this.tileJSON.tiles))).then((e=>e.arrayBuffer())).then((t=>({tileID:e,buffer:t})))}parseTile(t,i){const o=new e.WorkerTile({tileID:t.tileID,tileZoom:t.tileID.overscaledZ,zoom:t.tileID.overscaledZ,tileSize:512,overscaling:1,showCollisionBoxes:!1,source:this.sourceID,uid:0,maxZoom:22,pixelRatio:1,request:{url:""},angle:0,pitch:0,cameraToCenterDistance:0,cameraToTileDistance:0,returnDependencies:i,promoteId:void 0,isSymbolTile:!1,projection:e.getProjection({name:"mercator"})}),r=new e.VectorTile(new e.pbf(t.buffer));return new Promise(((e,t)=>{o.parse(r,this.layerIndex,[],this.actor,((i,o)=>{i?t(i):e(o)}))}))}}class Cn extends xn{constructor(t,i){super(),this.style=t,this.tileIDs=i||[new e.OverscaledTileID(12,0,12,655,1583),new e.OverscaledTileID(8,0,8,40,98),new e.OverscaledTileID(4,0,4,3,6),new e.OverscaledTileID(0,0,0,0,0)]}setup(){return bn(this.style).then((e=>(this.parser=new En(e,"composite"),this.parser.setup()))).then((()=>Promise.all(this.tileIDs.map((e=>this.parser.fetchTile(e)))))).then((e=>(this.tiles=e,Promise.all(e.map((e=>this.parser.parseTile(e))))))).then((()=>{}))}bench(){let e=Promise.resolve();for(const t of this.tiles)e=e.then((()=>this.parser.parseTile(t).then((()=>{}))));return e}}function Mn(e){return new Promise(((t,i)=>{e&&(e.stubRender=null==e.stubRender||e.stubRender,e.showMap=null!=e.showMap&&e.showMap);const o=document.createElement("div");o.style.width=`${e.width||512}px`,o.style.height=`${e.height||512}px`,o.style.margin="0 auto",o.style.display="block",e.showMap||(o.style.visibility="hidden"),document.body.appendChild(o);const r=new hn(Object.assign({container:o,style:"mapbox://styles/mapbox/streets-v10"},e));r.on(e.idle?"idle":"load",(()=>{e.stubRender&&(r.triggerRepaint=()=>{},r._frame&&(r._frame.cancel(),r._frame=null)),t(r)})).on("error",(e=>i(e.error))).on("remove",(()=>o.remove()))}))}class In extends xn{constructor(e,t){super(),this.style=e,this.locations=t}setup(){return Promise.all(this.locations.map((e=>Mn({zoom:e.zoom,width:1024,height:768,center:e.center,style:this.style})))).then((e=>{this.maps=e})).catch((e=>{console.error(e)}))}bench(){for(const e of this.maps)e._styleDirty=!0,e._sourcesDirty=!0,e._render(Date.now())}teardown(){for(const e of this.maps)e.remove()}}const Sn=[];for(let e=0;e<4;e++)for(let t=0;t<4;t++)Sn.push([e/4*1024,t/4*768]);const Dn=[{type:"Feature",geometry:{type:"Point",coordinates:[-95.392,29.799]},properties:{place_name:"Roads, Houston, z12",zoom:12,tags:["road"]}},{type:"Feature",geometry:{type:"Point",coordinates:[-95.381,29.749]},properties:{place_name:"Roads, Houston, z13",zoom:13,tags:["road","poi_label","landuse"]}},{type:"Feature",geometry:{type:"Point",coordinates:[-73.985,40.758]},properties:{place_name:"High zoom labels, buildings, roads, New York City, z16",zoom:16,tags:["poi_label","building","road"]}},{type:"Feature",geometry:{type:"Point",coordinates:[-73.985,40.758]},properties:{place_name:"High zoom labels, buildings, roads, New York City, z17, overzoomed",zoom:17,tags:["poi_label","road","building"]}},{type:"Feature",geometry:{type:"Point",coordinates:[139.76,35.695]},properties:{place_name:"High zoom cjk labels, when using local lang, buildings, roads, Tokyo, z16",zoom:16,tags:["poi_label","building","road"]}},{type:"Feature",geometry:{type:"Point",coordinates:[139.76,35.695]},properties:{place_name:"High zoom cjk labels, when using local lang, buildings, roads, Tokyo, z17, overzoomed",zoom:17,tags:["poi_label","road","building"]}},{type:"Feature",geometry:{type:"Point",coordinates:[27.602,61.521]},properties:{place_name:"Water, Finland, z10",zoom:10,tags:["water"]}},{type:"Feature",geometry:{type:"Point",coordinates:[2.21,48.745]},properties:{place_name:"Landuse and roads, Paris, z11",zoom:11,tags:["place_label:settlement","road","landuse","poi_label","hillshade"]}},{type:"Feature",geometry:{type:"Point",coordinates:[-118.314,33.996]},properties:{place_name:"Buildings, LA, z16",zoom:16,tags:["building","road"]}},{type:"Feature",geometry:{type:"Point",coordinates:[2.316,48.867]},properties:{place_name:"High zoom roads, paths, landuse, labels, Paris, 15",zoom:15,tags:["road","road:pedestrian","poi_label","landuse","transit_stop_label"]}},{type:"Feature",geometry:{type:"Point",coordinates:[2.316,48.867]},properties:{place_name:"High zoom pedestrian polygon fills, roads, paths, landuse, labels, Paris, z16",zoom:16,tags:["landuse","road","road:pedestrian","poi_label","road:path"]}},{type:"Feature",geometry:{type:"Point",coordinates:[8.835,46.317]},properties:{place_name:"Hillshading, Switzerland, z9",zoom:9,tags:["hillshade","place_label"]}},{type:"Feature",geometry:{type:"Point",coordinates:[8.835,46.317]},properties:{place_name:"Hillshading and contours, Switzerland, z12",zoom:12,tags:["hillshade"]}},{type:"Feature",geometry:{type:"Point",coordinates:[8.416,51.056]},properties:{place_name:"Landcover, Germany z6",zoom:6,tags:["landcover","place_label:settlement","road","admin"]}},{type:"Feature",geometry:{type:"Point",coordinates:[7.762,50.322]},properties:{place_name:"Landcover, Germany z8",zoom:8,tags:["place_label:settlement","road","hillshade"]}}].map((t=>{const{coordinates:i}=t.geometry,{zoom:o}=t.properties,{x:r,y:n}=e.MercatorCoordinate.fromLngLat({lng:i[0],lat:i[1]}),s=Math.pow(2,o),a=Math.floor(r*s),l=Math.floor(n*s);return{description:t.properties.place_name,tileID:[new e.OverscaledTileID(o,0,o,a,l)],zoom:o,center:i}}));gn.accessToken=vn;const Ln=window.benchmarks=[];function zn(e,t,i,o){const r=[];for(const e of["mapbox://styles/mapbox/streets-v10"])r.push({name:e.name||e.replace("mapbox://styles/",""),bench:new t(e,i)});Ln.push({name:e,versions:r,location:o})}return zn("StyleLayerCreate",class extends xn{constructor(e){super(),this.style=e}setup(){return bn(this.style).then((e=>{this.layers=Ve(e.layers)}))}bench(){for(const t of this.layers)e.createStyleLayer(t)}}),zn("Validate",class extends xn{constructor(e){super(),this.style=e}setup(){return bn(this.style).then((e=>{this.json=e}))}bench(){e.validateStyle(this.json)}}),Dn.forEach((e=>zn("Layout",Cn,e.tileID,e))),Dn.forEach((e=>zn("Paint",In,[e],e))),zn("QueryPoint",class extends xn{constructor(e,t){super(),this.style=e,this.locations=t}setup(){return Promise.all(this.locations.map((e=>Mn({zoom:e.zoom,width:1024,height:768,center:e.center,style:this.style})))).then((e=>{this.maps=e})).catch((e=>{console.error(e)}))}bench(){for(const e of this.maps)for(const t of Sn)e.queryRenderedFeatures(t,{})}teardown(){for(const e of this.maps)e.remove()}},Dn),zn("QueryBox",class extends xn{constructor(e,t){super(),this.style=e,this.locations=t}setup(){return Promise.all(this.locations.map((e=>Mn({zoom:e.zoom,width:1024,height:768,center:e.center,style:this.style})))).then((e=>{this.maps=e})).catch((e=>{console.error(e)}))}bench(){const e=[0,0];for(const t of this.maps)t.queryRenderedFeatures(e)}teardown(){for(const e of this.maps)e.remove()}},Dn),Promise.resolve().then((()=>{je().acquire(-1)})),gn}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmVuY2htYXJrcy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3N0eWxlLXNwZWMvdXRpbC9kZWVwX2VxdWFsLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLXN1cHBvcnRlZC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91dGlsL2RvbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDIuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUvc3R5bGVfaW1hZ2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL2ltYWdlX21hbmFnZXIuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUvbGlnaHQuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUvdGVycmFpbi5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zdHlsZS9mb2dfaGVscGVycy5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zdHlsZS9mb2cuanMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbC9kaXNwYXRjaGVyLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cy5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zdHlsZS9xdWVyeV9nZW9tZXRyeS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zb3VyY2UvbG9hZF90aWxlanNvbi5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zb3VyY2UvdGlsZV9ib3VuZHMuanMiLCIuLi8uLi8uLi8uLi9zcmMvZ2wvaW5kZXhfYnVmZmVyLmpzIiwiLi4vLi4vLi4vLi4vc3JjL2dsL3ZlcnRleF9idWZmZXIuanMiLCIuLi8uLi8uLi8uLi9zcmMvZ2wvdmFsdWUuanMiLCIuLi8uLi8uLi8uLi9zcmMvZ2wvZnJhbWVidWZmZXIuanMiLCIuLi8uLi8uLi8uLi9zcmMvZ2wvY29udGV4dC5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zb3VyY2UvdmVjdG9yX3RpbGVfc291cmNlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3NvdXJjZS9yYXN0ZXJfdGlsZV9zb3VyY2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbC9vZmZzY3JlZW5fY2FudmFzX3N1cHBvcnRlZC5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zb3VyY2UvaW1hZ2Vfc291cmNlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3NvdXJjZS9zb3VyY2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvc291cmNlL3Jhc3Rlcl9kZW1fdGlsZV9zb3VyY2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvc291cmNlL2dlb2pzb25fc291cmNlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3NvdXJjZS92aWRlb19zb3VyY2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvc291cmNlL2NhbnZhc19zb3VyY2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvc291cmNlL2N1c3RvbV9zb3VyY2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvc291cmNlL3F1ZXJ5X2ZlYXR1cmVzLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWwvYnJvd3Nlci93ZWJfd29ya2VyLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWwvd29ya2VyX3Bvb2wuanMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbC9nbG9iYWxfd29ya2VyX3Bvb2wuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUtc3BlYy9kZXJlZi5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zdHlsZS1zcGVjL2RpZmYuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3ltYm9sL3BhdGhfaW50ZXJwb2xhdG9yLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3N5bWJvbC9ncmlkX2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vc3JjL3N5bWJvbC9wcm9qZWN0aW9uLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3N5bWJvbC9jb2xsaXNpb25faW5kZXguanMiLCIuLi8uLi8uLi8uLi9zcmMvZ2VvL3Byb2plY3Rpb24vcHJvamVjdGlvbl91dGlsLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3N5bWJvbC9wbGFjZW1lbnQuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUvcGF1c2VhYmxlX3BsYWNlbWVudC5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zeW1ib2wvY3Jvc3NfdGlsZV9zeW1ib2xfaW5kZXguanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUvc3R5bGUuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUtc3BlYy9lbXB0eS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zdHlsZS9sb2FkX3Nwcml0ZS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zaGFkZXJzL3NoYWRlcnMuanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3ZlcnRleF9hcnJheV9vYmplY3QuanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vaGlsbHNoYWRlX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL2RyYXdfaGlsbHNoYWRlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3RlcnJhaW4vdGVycmFpbl9yYXN0ZXJfcHJvZ3JhbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy90ZXJyYWluL2dsb2JlX3Jhc3Rlcl9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3RlcnJhaW4vZHJhd190ZXJyYWluX3Jhc3Rlci5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9jbGlwcGluZ19tYXNrX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Jhc3Rlcl9mYWRlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3RlcnJhaW4vdGVycmFpbi5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvZm9nLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL3BhdHRlcm4uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vZmlsbF9leHRydXNpb25fcHJvZ3JhbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9maWxsX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vY2lyY2xlX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vY29sbGlzaW9uX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vZGVidWdfcHJvZ3JhbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9oZWF0bWFwX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vbGluZV9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL3Jhc3Rlcl9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL3N5bWJvbF9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL2JhY2tncm91bmRfcHJvZ3JhbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9wcm9ncmFtX3VuaWZvcm1zLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL3NreWJveF9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL3NreWJveF9jYXB0dXJlX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL2RyYXdfY29sbGlzaW9uX2RlYnVnLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X3N5bWJvbC5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19maWxsLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X2ZpbGxfZXh0cnVzaW9uLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X2RlYnVnLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9za3lib3hfYXR0cmlidXRlcy5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvc2t5Ym94X2dlb21ldHJ5LmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X3NreS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvYXRtb3NwaGVyZV9hdHRyaWJ1dGVzLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9hdG1vc3BoZXJlX2J1ZmZlci5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvcGFpbnRlci5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19jaXJjbGUuanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL2RyYXdfaGVhdG1hcC5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19saW5lLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X3Jhc3Rlci5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19iYWNrZ3JvdW5kLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X2N1c3RvbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19hdG1vc3BoZXJlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL2dlby9lZGdlX2luc2V0cy5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9mcmVlX2NhbWVyYS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9nZW8vcHJvamVjdGlvbi9hZGp1c3RtZW50cy5qcyIsIi4uLy4uLy4uLy4uL3NyYy9nZW8vdHJhbnNmb3JtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWwvdGhyb3R0bGUuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFzaC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9oYW5kbGVyX2luZXJ0aWEuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvZXZlbnRzLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvbWFwX2V2ZW50LmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvYm94X3pvb20uanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci9oYW5kbGVyX3V0aWwuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci90YXBfcmVjb2duaXplci5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9oYW5kbGVyL3RhcF96b29tLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvbW91c2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci90b3VjaF9wYW4uanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci90b3VjaF96b29tX3JvdGF0ZS5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9oYW5kbGVyL2tleWJvYXJkLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvc2Nyb2xsX3pvb20uanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci9zaGltL2RibGNsaWNrX3pvb20uanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci9jbGlja196b29tLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvdGFwX2RyYWdfem9vbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9oYW5kbGVyL3NoaW0vZHJhZ19wYW4uanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci9zaGltL2RyYWdfcm90YXRlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvc2hpbS90b3VjaF96b29tX3JvdGF0ZS5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9oYW5kbGVyX21hbmFnZXIuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvY2FtZXJhLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2NvbnRyb2wvYXR0cmlidXRpb25fY29udHJvbC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9jb250cm9sL2xvZ29fY29udHJvbC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91dGlsL3Rhc2tfcXVldWUuanMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbC9zbWFydF93cmFwLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2FuY2hvci5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9tYXJrZXIuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvcG9wdXAuanMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbC9lYXNlZF92YXJpYWJsZS5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9kZWZhdWx0X2xvY2FsZS5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9tYXAuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvY29udHJvbC9uYXZpZ2F0aW9uX2NvbnRyb2wuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvY29udHJvbC9nZW9sb2NhdGVfY29udHJvbC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9jb250cm9sL3NjYWxlX2NvbnRyb2wuanMiLCIuLi8uLi8uLi8uLi9zcmMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvY29udHJvbC9mdWxsc2NyZWVuX2NvbnRyb2wuanMiLCIuLi8uLi8uLi8uLi9iZW5jaC9saWIvYWNjZXNzX3Rva2VuLmpzIiwiLi4vLi4vLi4vLi4vYmVuY2gvbGliL2JlbmNobWFyay5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2xpYi9mZXRjaF9zdHlsZS5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2xpYi90aWxlX3BhcnNlci5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2JlbmNobWFya3MvbGF5b3V0LmpzIiwiLi4vLi4vLi4vLi4vYmVuY2gvbGliL2NyZWF0ZV9tYXAuanMiLCIuLi8uLi8uLi8uLi9iZW5jaC9iZW5jaG1hcmtzL3BhaW50LmpzIiwiLi4vLi4vLi4vLi4vYmVuY2gvYmVuY2htYXJrcy9xdWVyeV9wb2ludC5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL3N0eWxlcy9iZW5jaG1hcmtzLmpzIiwiLi4vLi4vLi4vLi4vYmVuY2gvbGliL2xvY2F0aW9uc193aXRoX3RpbGVfaWQuanMiLCIuLi8uLi8uLi8uLi9iZW5jaC9iZW5jaG1hcmtzL3N0eWxlX2xheWVyX2NyZWF0ZS5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2JlbmNobWFya3Mvc3R5bGVfdmFsaWRhdGUuanMiLCIuLi8uLi8uLi8uLi9iZW5jaC9iZW5jaG1hcmtzL3F1ZXJ5X2JveC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuXG4vKipcbiAqIERlZXBseSBjb21wYXJlcyB0d28gb2JqZWN0IGxpdGVyYWxzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRlZXBFcXVhbChhOiA/bWl4ZWQsIGI6ID9taXhlZCk6IGJvb2xlYW4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShiKSB8fCBhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWRlZXBFcXVhbChhW2ldLCBiW2ldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnICYmIGEgIT09IG51bGwgJiYgYiAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoISh0eXBlb2YgYiA9PT0gJ29iamVjdCcpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYSkge1xuICAgICAgICAgICAgaWYgKCFkZWVwRXF1YWwoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBhID09PSBiO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkZWVwRXF1YWw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuc3VwcG9ydGVkID0gaXNTdXBwb3J0ZWQ7XG5leHBvcnRzLm5vdFN1cHBvcnRlZFJlYXNvbiA9IG5vdFN1cHBvcnRlZFJlYXNvbjtcblxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBNYXBib3ggR0wgSlNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ZmFsc2VdIFJldHVybiBgZmFsc2VgXG4gKiAgIGlmIHRoZSBwZXJmb3JtYW5jZSBvZiBNYXBib3ggR0wgSlMgd291bGQgYmUgZHJhbWF0aWNhbGx5IHdvcnNlIHRoYW5cbiAqICAgZXhwZWN0ZWQgKGkuZS4gYSBzb2Z0d2FyZSByZW5kZXJlciBpcyB3b3VsZCBiZSB1c2VkKVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNTdXBwb3J0ZWQob3B0aW9ucykge1xuICAgIHJldHVybiAhbm90U3VwcG9ydGVkUmVhc29uKG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBub3RTdXBwb3J0ZWRSZWFzb24ob3B0aW9ucykge1xuICAgIGlmICghaXNCcm93c2VyKCkpIHJldHVybiAnbm90IGEgYnJvd3Nlcic7XG4gICAgaWYgKCFpc0FycmF5U3VwcG9ydGVkKCkpIHJldHVybiAnaW5zdWZmaWNlbnQgQXJyYXkgc3VwcG9ydCc7XG4gICAgaWYgKCFpc0Z1bmN0aW9uU3VwcG9ydGVkKCkpIHJldHVybiAnaW5zdWZmaWNpZW50IEZ1bmN0aW9uIHN1cHBvcnQnO1xuICAgIGlmICghaXNPYmplY3RTdXBwb3J0ZWQoKSkgcmV0dXJuICdpbnN1ZmZpY2llbnQgT2JqZWN0IHN1cHBvcnQnO1xuICAgIGlmICghaXNKU09OU3VwcG9ydGVkKCkpIHJldHVybiAnaW5zdWZmaWNpZW50IEpTT04gc3VwcG9ydCc7XG4gICAgaWYgKCFpc1dvcmtlclN1cHBvcnRlZCgpKSByZXR1cm4gJ2luc3VmZmljaWVudCB3b3JrZXIgc3VwcG9ydCc7XG4gICAgaWYgKCFpc1VpbnQ4Q2xhbXBlZEFycmF5U3VwcG9ydGVkKCkpIHJldHVybiAnaW5zdWZmaWNpZW50IFVpbnQ4Q2xhbXBlZEFycmF5IHN1cHBvcnQnO1xuICAgIGlmICghaXNBcnJheUJ1ZmZlclN1cHBvcnRlZCgpKSByZXR1cm4gJ2luc3VmZmljaWVudCBBcnJheUJ1ZmZlciBzdXBwb3J0JztcbiAgICBpZiAoIWlzQ2FudmFzR2V0SW1hZ2VEYXRhU3VwcG9ydGVkKCkpIHJldHVybiAnaW5zdWZmaWNpZW50IENhbnZhcy9nZXRJbWFnZURhdGEgc3VwcG9ydCc7XG4gICAgaWYgKCFpc1dlYkdMU3VwcG9ydGVkQ2FjaGVkKG9wdGlvbnMgJiYgb3B0aW9ucy5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0KSkgcmV0dXJuICdpbnN1ZmZpY2llbnQgV2ViR0wgc3VwcG9ydCc7XG4gICAgaWYgKCFpc05vdElFKCkpIHJldHVybiAnaW5zdWZmaWNpZW50IEVDTUFTY3JpcHQgNiBzdXBwb3J0Jztcbn1cblxuZnVuY3Rpb24gaXNCcm93c2VyKCkge1xuICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIEFycmF5LnByb3RvdHlwZSAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZXZlcnkgJiZcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLmZpbHRlciAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YgJiZcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLm1hcCAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuc29tZSAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAmJlxuICAgICAgICBBcnJheS5pc0FycmF5XG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvblN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdFN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBPYmplY3Qua2V5cyAmJlxuICAgICAgICBPYmplY3QuY3JlYXRlICYmXG4gICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJlxuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyAmJlxuICAgICAgICBPYmplY3QuaXNTZWFsZWQgJiZcbiAgICAgICAgT2JqZWN0LmlzRnJvemVuICYmXG4gICAgICAgIE9iamVjdC5pc0V4dGVuc2libGUgJiZcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJlxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiZcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgJiZcbiAgICAgICAgT2JqZWN0LnNlYWwgJiZcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSAmJlxuICAgICAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnNcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc0pTT05TdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICdKU09OJyBpbiB3aW5kb3cgJiYgJ3BhcnNlJyBpbiBKU09OICYmICdzdHJpbmdpZnknIGluIEpTT047XG59XG5cbmZ1bmN0aW9uIGlzV29ya2VyU3VwcG9ydGVkKCkge1xuICAgIGlmICghKCdXb3JrZXInIGluIHdpbmRvdyAmJiAnQmxvYicgaW4gd2luZG93ICYmICdVUkwnIGluIHdpbmRvdykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBibG9iID0gbmV3IEJsb2IoWycnXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KTtcbiAgICB2YXIgd29ya2VyVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICB2YXIgc3VwcG9ydGVkO1xuICAgIHZhciB3b3JrZXI7XG5cbiAgICB0cnkge1xuICAgICAgICB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlclVSTCk7XG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAod29ya2VyKSB7XG4gICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICB9XG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCh3b3JrZXJVUkwpO1xuXG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuLy8gSUUxMSBvbmx5IHN1cHBvcnRzIGBVaW50OENsYW1wZWRBcnJheWAgYXMgb2YgdmVyc2lvblxuLy8gW0tCMjkyOTQzN10oaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20vZW4tdXMva2IvMjkyOTQzNylcbmZ1bmN0aW9uIGlzVWludDhDbGFtcGVkQXJyYXlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICdVaW50OENsYW1wZWRBcnJheScgaW4gd2luZG93O1xufVxuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1zdXBwb3J0ZWQvaXNzdWVzLzE5XG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXc7XG59XG5cbi8vIFNvbWUgYnJvd3NlcnMgb3IgYnJvd3NlciBleHRlbnNpb25zIGJsb2NrIGFjY2VzcyB0byBjYW52YXMgZGF0YSB0byBwcmV2ZW50IGZpbmdlcnByaW50aW5nLlxuLy8gTWFwYm94IEdMIHVzZXMgdGhpcyBBUEkgdG8gbG9hZCBzcHJpdGVzIGFuZCBpbWFnZXMgaW4gZ2VuZXJhbC5cbmZ1bmN0aW9uIGlzQ2FudmFzR2V0SW1hZ2VEYXRhU3VwcG9ydGVkKCkge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gMTtcbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKTtcbiAgICByZXR1cm4gaW1hZ2VEYXRhICYmIGltYWdlRGF0YS53aWR0aCA9PT0gY2FudmFzLndpZHRoO1xufVxuXG52YXIgaXNXZWJHTFN1cHBvcnRlZENhY2hlID0ge307XG5mdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkQ2FjaGVkKGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQpIHtcblxuICAgIGlmIChpc1dlYkdMU3VwcG9ydGVkQ2FjaGVbZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpc1dlYkdMU3VwcG9ydGVkQ2FjaGVbZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdF0gPSBpc1dlYkdMU3VwcG9ydGVkKGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQpO1xuICAgIH1cblxuICAgIHJldHVybiBpc1dlYkdMU3VwcG9ydGVkQ2FjaGVbZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdF07XG59XG5cbmlzU3VwcG9ydGVkLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMgPSB7XG4gICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICBhbHBoYTogdHJ1ZSxcbiAgICBzdGVuY2lsOiB0cnVlLFxuICAgIGRlcHRoOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBnZXRXZWJHTENvbnRleHQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCkge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIHZhciBhdHRyaWJ1dGVzID0gT2JqZWN0LmNyZWF0ZShpc1N1cHBvcnRlZC53ZWJHTENvbnRleHRBdHRyaWJ1dGVzKTtcbiAgICBhdHRyaWJ1dGVzLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQgPSBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgYXR0cmlidXRlcykgfHxcbiAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGF0dHJpYnV0ZXMpXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZChmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0KSB7XG4gICAgdmFyIGdsID0gZ2V0V2ViR0xDb250ZXh0KGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQpO1xuICAgIGlmICghZ2wpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFRyeSBjb21waWxpbmcgYSBzaGFkZXIgYW5kIGdldCBpdHMgY29tcGlsZSBzdGF0dXMuIFNvbWUgYnJvd3NlcnMgbGlrZSBCcmF2ZSBibG9jayB0aGlzIEFQSVxuICAgIC8vIHRvIHByZXZlbnQgZmluZ2VycHJpbnRpbmcuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBtZWFucyB0aGF0IE1hcGJveCBHTCB3b24ndCB3b3JrLlxuICAgIHZhciBzaGFkZXI7XG4gICAgdHJ5IHtcbiAgICAgICAgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gc29tZSBvbGRlciBicm93c2VycyB0aHJvdyBhbiBleGNlcHRpb24gdGhhdCBgY3JlYXRlU2hhZGVyYCBpcyBub3QgZGVmaW5lZFxuICAgICAgICAvLyBzbyBoYW5kbGUgdGhpcyBzZXBhcmF0ZWx5IGZyb20gdGhlIGNhc2Ugd2hlcmUgYnJvd3NlcnMgYmxvY2sgYGNyZWF0ZVNoYWRlcmBcbiAgICAgICAgLy8gZm9yIHNlY3VyaXR5IHJlYXNvbnNcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghc2hhZGVyIHx8IGdsLmlzQ29udGV4dExvc3QoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsICd2b2lkIG1haW4oKSB7fScpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICByZXR1cm4gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpID09PSB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc05vdElFKCkge1xuICAgIHJldHVybiAhZG9jdW1lbnQuZG9jdW1lbnRNb2RlO1xufVxuIiwiLy8gQGZsb3cgc3RyaWN0XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuL3dpbmRvdy5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbi8vIHJlZmluZSB0aGUgcmV0dXJuIHR5cGUgYmFzZWQgb24gdGFnTmFtZSwgZS5nLiAnYnV0dG9uJyAtPiBIVE1MQnV0dG9uRWxlbWVudFxuLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZTxUOiBzdHJpbmc+KHRhZ05hbWU6IFQsIGNsYXNzTmFtZTogP3N0cmluZywgY29udGFpbmVyPzogSFRNTEVsZW1lbnQpOiAkQ2FsbDx0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCwgVD4ge1xuICAgIGNvbnN0IGVsID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkKSBlbC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgaWYgKGNvbnRhaW5lcikgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICByZXR1cm4gZWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTVkcodGFnTmFtZTogc3RyaW5nLCBhdHRyaWJ1dGVzOiB7W3N0cmluZ106IHN0cmluZyB8IG51bWJlcn0sIGNvbnRhaW5lcj86IEVsZW1lbnQpOiBFbGVtZW50IHtcbiAgICBjb25zdCBlbCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgdGFnTmFtZSk7XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIG5hbWUsIGF0dHJpYnV0ZXNbbmFtZV0pO1xuICAgIH1cbiAgICBpZiAoY29udGFpbmVyKSBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIHJldHVybiBlbDtcbn1cblxuY29uc3QgZG9jU3R5bGUgPSB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtcbmNvbnN0IHNlbGVjdFByb3AgPSBkb2NTdHlsZSAmJiBkb2NTdHlsZS51c2VyU2VsZWN0ICE9PSB1bmRlZmluZWQgPyAndXNlclNlbGVjdCcgOiAnV2Via2l0VXNlclNlbGVjdCc7XG5sZXQgdXNlclNlbGVjdDtcblxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVEcmFnKCkge1xuICAgIGlmIChkb2NTdHlsZSAmJiBzZWxlY3RQcm9wKSB7XG4gICAgICAgIHVzZXJTZWxlY3QgPSBkb2NTdHlsZVtzZWxlY3RQcm9wXTtcbiAgICAgICAgZG9jU3R5bGVbc2VsZWN0UHJvcF0gPSAnbm9uZSc7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlRHJhZygpIHtcbiAgICBpZiAoZG9jU3R5bGUgJiYgc2VsZWN0UHJvcCkge1xuICAgICAgICBkb2NTdHlsZVtzZWxlY3RQcm9wXSA9IHVzZXJTZWxlY3Q7XG4gICAgfVxufVxuXG4vLyBTdXBwcmVzcyB0aGUgbmV4dCBjbGljaywgYnV0IG9ubHkgaWYgaXQncyBpbW1lZGlhdGUuXG5mdW5jdGlvbiBzdXBwcmVzc0NsaWNrTGlzdGVuZXIoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN1cHByZXNzQ2xpY2tMaXN0ZW5lciwgdHJ1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdXBwcmVzc0NsaWNrKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN1cHByZXNzQ2xpY2tMaXN0ZW5lciwgdHJ1ZSk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdXBwcmVzc0NsaWNrTGlzdGVuZXIsIHRydWUpO1xuICAgIH0sIDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91c2VQb3MoZWw6IEhUTUxFbGVtZW50LCBlOiBNb3VzZUV2ZW50IHwgV2hlZWxFdmVudCk6IFBvaW50IHtcbiAgICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIGdldFNjYWxlZFBvaW50KGVsLCByZWN0LCBlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvdWNoUG9zKGVsOiBIVE1MRWxlbWVudCwgdG91Y2hlczogVG91Y2hMaXN0KTogQXJyYXk8UG9pbnQ+IHtcbiAgICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIHBvaW50cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBvaW50cy5wdXNoKGdldFNjYWxlZFBvaW50KGVsLCByZWN0LCB0b3VjaGVzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VzZUJ1dHRvbihlOiBNb3VzZUV2ZW50KTogbnVtYmVyIHtcbiAgICBhc3NlcnQoZS50eXBlID09PSAnbW91c2Vkb3duJyB8fCBlLnR5cGUgPT09ICdtb3VzZXVwJyk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuSW5zdGFsbFRyaWdnZXIgIT09ICd1bmRlZmluZWQnICYmIGUuYnV0dG9uID09PSAyICYmIGUuY3RybEtleSAmJlxuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtLnRvVXBwZXJDYXNlKCkuaW5kZXhPZignTUFDJykgPj0gMCkge1xuICAgICAgICAvLyBGaXggZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8zMTMxOlxuICAgICAgICAvLyBGaXJlZm94IChkZXRlY3RlZCBieSBJbnN0YWxsVHJpZ2dlcikgb24gTWFjIGRldGVybWluZXMgZS5idXR0b24gPSAyIHdoZW5cbiAgICAgICAgLy8gdXNpbmcgQ29udHJvbCArIGxlZnQgY2xpY2tcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBlLmJ1dHRvbjtcbn1cblxuZnVuY3Rpb24gZ2V0U2NhbGVkUG9pbnQoZWw6IEhUTUxFbGVtZW50LCByZWN0OiBDbGllbnRSZWN0LCBlOiBNb3VzZUV2ZW50IHwgV2hlZWxFdmVudCB8IFRvdWNoKSB7XG4gICAgLy8gVW50aWwgd2UgZ2V0IHN1cHBvcnQgZm9yIHBvaW50ZXIgZXZlbnRzIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50KVxuICAgIC8vIHdlIHVzZSB0aGlzIGRpcnR5IHRyaWNrIHdoaWNoIHdvdWxkIG5vdCB3b3JrIGZvciB0aGUgY2FzZSBvZiByb3RhdGVkIHRyYW5zZm9ybXMsIGJ1dCB3b3JrcyB3ZWxsIGZvclxuICAgIC8vIHRoZSBjYXNlIG9mIHNpbXBsZSBzY2FsaW5nLlxuICAgIC8vIE5vdGU6IGBlbC5vZmZzZXRXaWR0aCA9PT0gcmVjdC53aWR0aGAgZWxpbWluYXRlcyB0aGUgYDAvMGAgY2FzZS5cbiAgICBjb25zdCBzY2FsaW5nID0gZWwub2Zmc2V0V2lkdGggPT09IHJlY3Qud2lkdGggPyAxIDogZWwub2Zmc2V0V2lkdGggLyByZWN0LndpZHRoO1xuICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgIChlLmNsaWVudFggLSByZWN0LmxlZnQpICogc2NhbGluZyxcbiAgICAgICAgKGUuY2xpZW50WSAtIHJlY3QudG9wKSAqIHNjYWxpbmdcbiAgICApO1xufVxuIiwiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG4vKipcbiAqIDJ4MiBNYXRyaXhcbiAqIEBtb2R1bGUgbWF0MlxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQyXG4gKlxuICogQHJldHVybnMge21hdDJ9IGEgbmV3IDJ4MiBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICB9XG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzNdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQyIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgbWF0cml4XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgbWF0cml4IHRvIGNsb25lXG4gKiBAcmV0dXJucyB7bWF0Mn0gYSBuZXcgMngyIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDIgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQyIHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdDIgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHJldHVybnMge21hdDJ9IG91dCBBIG5ldyAyeDIgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0xMCwgbTExKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0xMDtcbiAgb3V0WzNdID0gbTExO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQyIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTEwLCBtMTEpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0xMDtcbiAgb3V0WzNdID0gbTExO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc3Bvc2UgdGhlIHZhbHVlcyBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlXG4gIC8vIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTEgPSBhWzFdO1xuICAgIG91dFsxXSA9IGFbMl07XG4gICAgb3V0WzJdID0gYTE7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzJdO1xuICAgIG91dFsyXSA9IGFbMV07XG4gICAgb3V0WzNdID0gYVszXTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEludmVydHMgYSBtYXQyXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHZhciBkZXQgPSBhMCAqIGEzIC0gYTIgKiBhMTtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSBhMyAqIGRldDtcbiAgb3V0WzFdID0gLWExICogZGV0O1xuICBvdXRbMl0gPSAtYTIgKiBkZXQ7XG4gIG91dFszXSA9IGEwICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcbiAgLy8gQ2FjaGluZyB0aGlzIHZhbHVlIGlzIG5lc3NlY2FyeSBpZiBvdXQgPT0gYVxuICB2YXIgYTAgPSBhWzBdO1xuICBvdXRbMF0gPSBhWzNdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIG91dFszXSA9IGEwO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge051bWJlcn0gZGV0ZXJtaW5hbnQgb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHJldHVybiBhWzBdICogYVszXSAtIGFbMl0gKiBhWzFdO1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQyJ3NcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgb3V0WzBdID0gYTAgKiBiMCArIGEyICogYjE7XG4gIG91dFsxXSA9IGExICogYjAgKyBhMyAqIGIxO1xuICBvdXRbMl0gPSBhMCAqIGIyICsgYTIgKiBiMztcbiAgb3V0WzNdID0gYTEgKiBiMiArIGEzICogYjM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXQyIGJ5IHRoZSBnaXZlbiBhbmdsZVxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBhMCAqIGMgKyBhMiAqIHM7XG4gIG91dFsxXSA9IGExICogYyArIGEzICogcztcbiAgb3V0WzJdID0gYTAgKiAtcyArIGEyICogYztcbiAgb3V0WzNdID0gYTEgKiAtcyArIGEzICogYztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQyIGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMyXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiB0aGUgdmVjMiB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIHYwID0gdlswXSxcbiAgICAgIHYxID0gdlsxXTtcbiAgb3V0WzBdID0gYTAgKiB2MDtcbiAgb3V0WzFdID0gYTEgKiB2MDtcbiAgb3V0WzJdID0gYTIgKiB2MTtcbiAgb3V0WzNdID0gYTMgKiB2MTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gYW5nbGVcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQyLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDIucm90YXRlKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgbWF0MiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAtcztcbiAgb3V0WzNdID0gYztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQyLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDIuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCBtYXQyIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gdlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJtYXQyKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0MlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguaHlwb3QoYVswXSwgYVsxXSwgYVsyXSwgYVszXSk7XG59XG4vKipcbiAqIFJldHVybnMgTCwgRCBhbmQgVSBtYXRyaWNlcyAoTG93ZXIgdHJpYW5ndWxhciwgRGlhZ29uYWwgYW5kIFVwcGVyIHRyaWFuZ3VsYXIpIGJ5IGZhY3Rvcml6aW5nIHRoZSBpbnB1dCBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBMIHRoZSBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IEQgdGhlIGRpYWdvbmFsIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IFUgdGhlIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgaW5wdXQgbWF0cml4IHRvIGZhY3Rvcml6ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBMRFUoTCwgRCwgVSwgYSkge1xuICBMWzJdID0gYVsyXSAvIGFbMF07XG4gIFVbMF0gPSBhWzBdO1xuICBVWzFdID0gYVsxXTtcbiAgVVszXSA9IGFbM10gLSBMWzJdICogVVsxXTtcbiAgcmV0dXJuIFtMLCBELCBVXTtcbn1cbi8qKlxuICogQWRkcyB0d28gbWF0MidzXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICBvdXRbM10gPSBhWzNdICsgYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM107XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSk7XG59XG4vKipcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gbWF0MidzIGFmdGVyIG11bHRpcGx5aW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWUuXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIncyBlbGVtZW50cyBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQyLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQyLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCIvLyBAZmxvd1xuXG5pbXBvcnQge1JHQkFJbWFnZX0gZnJvbSAnLi4vdXRpbC9pbWFnZS5qcyc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAuanMnO1xuXG5leHBvcnQgdHlwZSBTdHlsZUltYWdlRGF0YSA9IHtcbiAgICBkYXRhOiBSR0JBSW1hZ2UsXG4gICAgdmVyc2lvbjogbnVtYmVyLFxuICAgIGhhc1JlbmRlckNhbGxiYWNrPzogYm9vbGVhbixcbiAgICB1c2VySW1hZ2U/OiBTdHlsZUltYWdlSW50ZXJmYWNlXG59O1xuXG5leHBvcnQgdHlwZSBTdHlsZUltYWdlTWV0YWRhdGEgPSB7XG4gICAgcGl4ZWxSYXRpbzogbnVtYmVyLFxuICAgIHNkZjogYm9vbGVhbixcbiAgICBzdHJldGNoWD86IEFycmF5PFtudW1iZXIsIG51bWJlcl0+LFxuICAgIHN0cmV0Y2hZPzogQXJyYXk8W251bWJlciwgbnVtYmVyXT4sXG4gICAgY29udGVudD86IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdXG59O1xuXG5leHBvcnQgdHlwZSBTdHlsZUltYWdlID0gU3R5bGVJbWFnZURhdGEgJiBTdHlsZUltYWdlTWV0YWRhdGE7XG5cbmV4cG9ydCB0eXBlIFN0eWxlSW1hZ2VJbnRlcmZhY2UgPSB7XG4gICAgd2lkdGg6IG51bWJlcixcbiAgICBoZWlnaHQ6IG51bWJlcixcbiAgICBkYXRhOiBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXksXG4gICAgcmVuZGVyPzogKCkgPT4gYm9vbGVhbixcbiAgICBvbkFkZD86IChtYXA6IE1hcCwgaWQ6IHN0cmluZykgPT4gdm9pZCxcbiAgICBvblJlbW92ZT86ICgpID0+IHZvaWRcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJTdHlsZUltYWdlKGltYWdlOiBTdHlsZUltYWdlKTogYm9vbGVhbiB7XG4gICAgY29uc3Qge3VzZXJJbWFnZX0gPSBpbWFnZTtcbiAgICBpZiAodXNlckltYWdlICYmIHVzZXJJbWFnZS5yZW5kZXIpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IHVzZXJJbWFnZS5yZW5kZXIoKTtcbiAgICAgICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgICAgICAgIGltYWdlLmRhdGEucmVwbGFjZShuZXcgVWludDhBcnJheSh1c2VySW1hZ2UuZGF0YS5idWZmZXIpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBzdHlsZSBpbWFnZXMuIFRoaXMgaXMgYSBzcGVjaWZpY2F0aW9uIGZvclxuICogaW1wbGVtZW50ZXJzIHRvIG1vZGVsOiBpdCBpcyBub3QgYW4gZXhwb3J0ZWQgbWV0aG9kIG9yIGNsYXNzLlxuICpcbiAqIEltYWdlcyBpbXBsZW1lbnRpbmcgdGhpcyBpbnRlcmZhY2UgY2FuIGJlIHJlZHJhd24gZm9yIGV2ZXJ5IGZyYW1lLiBUaGV5IGNhbiBiZSB1c2VkIHRvIGFuaW1hdGVcbiAqIGljb25zIGFuZCBwYXR0ZXJucyBvciBtYWtlIHRoZW0gcmVzcG9uZCB0byB1c2VyIGlucHV0LiBTdHlsZSBpbWFnZXMgY2FuIGltcGxlbWVudCBhXG4gKiB7QGxpbmsgU3R5bGVJbWFnZUludGVyZmFjZSNyZW5kZXJ9IG1ldGhvZC4gVGhlIG1ldGhvZCBpcyBjYWxsZWQgZXZlcnkgZnJhbWUgYW5kXG4gKiBjYW4gYmUgdXNlZCB0byB1cGRhdGUgdGhlIGltYWdlLlxuICpcbiAqIEBpbnRlcmZhY2UgU3R5bGVJbWFnZUludGVyZmFjZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIFdpZHRoIGluIHBpeGVscy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IGluIHBpeGVscy5cbiAqIEBwcm9wZXJ0eSB7VWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSBkYXRhIEJ5dGUgYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBpbWFnZS4gVG8gZW5zdXJlIHNwYWNlIGZvciBhbGwgZm91ciBjaGFubmVscyBpbiBhbiBSR0JBIGNvbG9yLCBzaXplIG11c3QgYmUgd2lkdGggw5cgaGVpZ2h0IMOXIDQuXG4gKlxuICogQHNlZSBbRXhhbXBsZTogQWRkIGFuIGFuaW1hdGVkIGljb24gdG8gdGhlIG1hcC5dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2FkZC1pbWFnZS1hbmltYXRlZC8pXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGZsYXNoaW5nU3F1YXJlID0ge1xuICogICAgIHdpZHRoOiA2NCxcbiAqICAgICBoZWlnaHQ6IDY0LFxuICogICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KDY0ICogNjQgKiA0KSxcbiAqXG4gKiAgICAgb25BZGQobWFwKSB7XG4gKiAgICAgICAgIHRoaXMubWFwID0gbWFwO1xuICogICAgIH0sXG4gKlxuICogICAgIHJlbmRlcigpIHtcbiAqICAgICAgICAgLy8ga2VlcCByZXBhaW50aW5nIHdoaWxlIHRoZSBpY29uIGlzIG9uIHRoZSBtYXBcbiAqICAgICAgICAgdGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKTtcbiAqXG4gKiAgICAgICAgIC8vIGFsdGVybmF0ZSBiZXR3ZWVuIGJsYWNrIGFuZCB3aGl0ZSBiYXNlZCBvbiB0aGUgdGltZVxuICogICAgICAgICBjb25zdCB2YWx1ZSA9IE1hdGgucm91bmQoRGF0ZS5ub3coKSAvIDEwMDApICUgMiA9PT0gMCAgPyAyNTUgOiAwO1xuICpcbiAqICAgICAgICAgLy8gY2hlY2sgaWYgaW1hZ2UgbmVlZHMgdG8gYmUgY2hhbmdlZFxuICogICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMucHJldmlvdXNWYWx1ZSkge1xuICogICAgICAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gdmFsdWU7XG4gKlxuICogICAgICAgICAgICAgY29uc3QgYnl0ZXNQZXJQaXhlbCA9IDQ7XG4gKiAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICogICAgICAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5oZWlnaHQ7IHkrKykge1xuICogICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAoeSAqIHRoaXMud2lkdGggKyB4KSAqIGJ5dGVzUGVyUGl4ZWw7XG4gKiAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtvZmZzZXQgKyAwXSA9IHZhbHVlO1xuICogICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFbb2Zmc2V0ICsgMV0gPSB2YWx1ZTtcbiAqICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhW29mZnNldCArIDJdID0gdmFsdWU7XG4gKiAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtvZmZzZXQgKyAzXSA9IDI1NTtcbiAqICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICB9XG4gKlxuICogICAgICAgICAgICAgLy8gcmV0dXJuIHRydWUgdG8gaW5kaWNhdGUgdGhhdCB0aGUgaW1hZ2UgY2hhbmdlZFxuICogICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gKiAgICAgICAgIH1cbiAqICAgICB9XG4gKiB9O1xuICpcbiAqIG1hcC5hZGRJbWFnZSgnZmxhc2hpbmdfc3F1YXJlJywgZmxhc2hpbmdTcXVhcmUpO1xuICovXG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIG9uY2UgYmVmb3JlIGV2ZXJ5IGZyYW1lIHdoZXJlIHRoZSBpY29uIHdpbGwgYmUgdXNlZC5cbiAqIFRoZSBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdXBkYXRlIHRoZSBpbWFnZSdzIGBkYXRhYCBtZW1iZXIgd2l0aCBhIG5ldyBpbWFnZS5cbiAqXG4gKiBJZiB0aGUgbWV0aG9kIHVwZGF0ZXMgdGhlIGltYWdlIGl0IG11c3QgcmV0dXJuIGB0cnVlYCB0byBjb21taXQgdGhlIGNoYW5nZS5cbiAqIElmIHRoZSBtZXRob2QgcmV0dXJucyBgZmFsc2VgIG9yIG5vdGhpbmcgdGhlIGltYWdlIGlzIGFzc3VtZWQgdG8gbm90IGhhdmUgY2hhbmdlZC5cbiAqXG4gKiBJZiB1cGRhdGVzIGFyZSBpbmZyZXF1ZW50IGl0IG1heWJlIGVhc2llciB0byB1c2Uge0BsaW5rIE1hcCN1cGRhdGVJbWFnZX0gdG8gdXBkYXRlXG4gKiB0aGUgaW1hZ2UgaW5zdGVhZCBvZiBpbXBsZW1lbnRpbmcgdGhpcyBtZXRob2QuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgU3R5bGVJbWFnZUludGVyZmFjZVxuICogQGluc3RhbmNlXG4gKiBAbmFtZSByZW5kZXJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGlzIG1ldGhvZCB1cGRhdGVkIHRoZSBpbWFnZS4gYGZhbHNlYCBpZiB0aGUgaW1hZ2Ugd2FzIG5vdCBjaGFuZ2VkLlxuICovXG5cbi8qKlxuICogT3B0aW9uYWwgbWV0aG9kIGNhbGxlZCB3aGVuIHRoZSBsYXllciBoYXMgYmVlbiBhZGRlZCB0byB0aGUgTWFwIHdpdGgge0BsaW5rIE1hcCNhZGRJbWFnZX0uXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgU3R5bGVJbWFnZUludGVyZmFjZVxuICogQGluc3RhbmNlXG4gKiBAbmFtZSBvbkFkZFxuICogQHBhcmFtIHtNYXB9IG1hcCBUaGUgTWFwIHRoaXMgY3VzdG9tIGxheWVyIHdhcyBqdXN0IGFkZGVkIHRvLlxuICovXG5cbi8qKlxuICogT3B0aW9uYWwgbWV0aG9kIGNhbGxlZCB3aGVuIHRoZSBpY29uIGlzIHJlbW92ZWQgZnJvbSB0aGUgbWFwIHdpdGgge0BsaW5rIE1hcCNyZW1vdmVJbWFnZX0uXG4gKiBUaGlzIGdpdmVzIHRoZSBpbWFnZSBhIGNoYW5jZSB0byBjbGVhbiB1cCByZXNvdXJjZXMgYW5kIGV2ZW50IGxpc3RlbmVycy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBTdHlsZUltYWdlSW50ZXJmYWNlXG4gKiBAaW5zdGFuY2VcbiAqIEBuYW1lIG9uUmVtb3ZlXG4gKi9cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBwb3RwYWNrIGZyb20gJ3BvdHBhY2snO1xuXG5pbXBvcnQge0V2ZW50LCBFcnJvckV2ZW50LCBFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IHtSR0JBSW1hZ2V9IGZyb20gJy4uL3V0aWwvaW1hZ2UuanMnO1xuaW1wb3J0IHtJbWFnZVBvc2l0aW9ufSBmcm9tICcuL2ltYWdlX2F0bGFzLmpzJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZS5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQge3JlbmRlclN0eWxlSW1hZ2V9IGZyb20gJy4uL3N0eWxlL3N0eWxlX2ltYWdlLmpzJztcbmltcG9ydCB7d2Fybk9uY2V9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZUltYWdlfSBmcm9tICcuLi9zdHlsZS9zdHlsZV9pbWFnZS5qcyc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQuanMnO1xuaW1wb3J0IHR5cGUge0Jpbn0gZnJvbSAncG90cGFjayc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrLmpzJztcbmltcG9ydCB0eXBlIHtTaXplfSBmcm9tICcuLi91dGlsL2ltYWdlLmpzJztcblxudHlwZSBQYXR0ZXJuID0ge1xuICAgIGJpbjogQmluLFxuICAgIHBvc2l0aW9uOiBJbWFnZVBvc2l0aW9uXG59O1xuXG4vLyBXaGVuIGNvcGllZCBpbnRvIHRoZSBhdGxhcyB0ZXh0dXJlLCBpbWFnZSBkYXRhIGlzIHBhZGRlZCBieSBvbmUgcGl4ZWwgb24gZWFjaCBzaWRlLiBJY29uXG4vLyBpbWFnZXMgYXJlIHBhZGRlZCB3aXRoIGZ1bGx5IHRyYW5zcGFyZW50IHBpeGVscywgd2hpbGUgcGF0dGVybiBpbWFnZXMgYXJlIHBhZGRlZCB3aXRoIGFcbi8vIGNvcHkgb2YgdGhlIGltYWdlIGRhdGEgd3JhcHBlZCBmcm9tIHRoZSBvcHBvc2l0ZSBzaWRlLiBJbiBib3RoIGNhc2VzLCB0aGlzIGVuc3VyZXMgdGhlXG4vLyBjb3JyZWN0IGJlaGF2aW9yIG9mIEdMX0xJTkVBUiB0ZXh0dXJlIHNhbXBsaW5nIG1vZGUuXG5jb25zdCBwYWRkaW5nID0gMTtcblxuLypcbiAgICBJbWFnZU1hbmFnZXIgZG9lcyB0aHJlZSB0aGluZ3M6XG5cbiAgICAgICAgMS4gVHJhY2tzIHJlcXVlc3RzIGZvciBpY29uIGltYWdlcyBmcm9tIHRpbGUgd29ya2VycyBhbmQgc2VuZHMgcmVzcG9uc2VzIHdoZW4gdGhlIHJlcXVlc3RzIGFyZSBmdWxmaWxsZWQuXG4gICAgICAgIDIuIEJ1aWxkcyBhIHRleHR1cmUgYXRsYXMgZm9yIHBhdHRlcm4gaW1hZ2VzLlxuICAgICAgICAzLiBSZXJlbmRlcnMgcmVuZGVyYWJsZSBpbWFnZXMgb25jZSBwZXIgZnJhbWVcblxuICAgIFRoZXNlIGFyZSBkaXNwYXJhdGUgcmVzcG9uc2liaWxpdGllcyBhbmQgc2hvdWxkIGV2ZW50dWFsbHkgYmUgaGFuZGxlZCBieSBkaWZmZXJlbnQgY2xhc3Nlcy4gV2hlbiB3ZSBpbXBsZW1lbnRcbiAgICBkYXRhLWRyaXZlbiBzdXBwb3J0IGZvciBgKi1wYXR0ZXJuYCwgd2UnbGwgbGlrZWx5IHVzZSBwZXItYnVja2V0IHBhdHRlcm4gYXRsYXNlcywgYW5kIHRoYXQgd291bGQgYmUgYSBnb29kIHRpbWVcbiAgICB0byByZWZhY3RvciB0aGlzLlxuKi9cbmNsYXNzIEltYWdlTWFuYWdlciBleHRlbmRzIEV2ZW50ZWQge1xuICAgIGltYWdlczoge1tfOiBzdHJpbmddOiBTdHlsZUltYWdlfTtcbiAgICB1cGRhdGVkSW1hZ2VzOiB7W186IHN0cmluZ106IGJvb2xlYW59O1xuICAgIGNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZToge1tfOiBzdHJpbmddOiBib29sZWFufTtcbiAgICBsb2FkZWQ6IGJvb2xlYW47XG4gICAgcmVxdWVzdG9yczogQXJyYXk8e2lkczogQXJyYXk8c3RyaW5nPiwgY2FsbGJhY2s6IENhbGxiYWNrPHtbXzogc3RyaW5nXTogU3R5bGVJbWFnZX0+fT47XG5cbiAgICBwYXR0ZXJuczoge1tfOiBzdHJpbmddOiBQYXR0ZXJufTtcbiAgICBhdGxhc0ltYWdlOiBSR0JBSW1hZ2U7XG4gICAgYXRsYXNUZXh0dXJlOiA/VGV4dHVyZTtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmltYWdlcyA9IHt9O1xuICAgICAgICB0aGlzLnVwZGF0ZWRJbWFnZXMgPSB7fTtcbiAgICAgICAgdGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWUgPSB7fTtcbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0b3JzID0gW107XG5cbiAgICAgICAgdGhpcy5wYXR0ZXJucyA9IHt9O1xuICAgICAgICB0aGlzLmF0bGFzSW1hZ2UgPSBuZXcgUkdCQUltYWdlKHt3aWR0aDogMSwgaGVpZ2h0OiAxfSk7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIGlzTG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkZWQ7XG4gICAgfVxuXG4gICAgc2V0TG9hZGVkKGxvYWRlZDogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5sb2FkZWQgPT09IGxvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2FkZWQgPSBsb2FkZWQ7XG5cbiAgICAgICAgaWYgKGxvYWRlZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB7aWRzLCBjYWxsYmFja30gb2YgdGhpcy5yZXF1ZXN0b3JzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbm90aWZ5KGlkcywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0b3JzID0gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYXNJbWFnZShpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuZ2V0SW1hZ2UoaWQpO1xuICAgIH1cblxuICAgIGdldEltYWdlKGlkOiBzdHJpbmcpOiA/U3R5bGVJbWFnZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlc1tpZF07XG4gICAgfVxuXG4gICAgYWRkSW1hZ2UoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLmltYWdlc1tpZF0pO1xuICAgICAgICBpZiAodGhpcy5fdmFsaWRhdGUoaWQsIGltYWdlKSkge1xuICAgICAgICAgICAgdGhpcy5pbWFnZXNbaWRdID0gaW1hZ2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdmFsaWRhdGUoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLl92YWxpZGF0ZVN0cmV0Y2goaW1hZ2Uuc3RyZXRjaFgsIGltYWdlLmRhdGEgJiYgaW1hZ2UuZGF0YS53aWR0aCkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYEltYWdlIFwiJHtpZH1cIiBoYXMgaW52YWxpZCBcInN0cmV0Y2hYXCIgdmFsdWVgKSkpO1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3ZhbGlkYXRlU3RyZXRjaChpbWFnZS5zdHJldGNoWSwgaW1hZ2UuZGF0YSAmJiBpbWFnZS5kYXRhLmhlaWdodCkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYEltYWdlIFwiJHtpZH1cIiBoYXMgaW52YWxpZCBcInN0cmV0Y2hZXCIgdmFsdWVgKSkpO1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3ZhbGlkYXRlQ29udGVudChpbWFnZS5jb250ZW50LCBpbWFnZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYEltYWdlIFwiJHtpZH1cIiBoYXMgaW52YWxpZCBcImNvbnRlbnRcIiB2YWx1ZWApKSk7XG4gICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZDtcbiAgICB9XG5cbiAgICBfdmFsaWRhdGVTdHJldGNoKHN0cmV0Y2g6ID9BcnJheTxbbnVtYmVyLCBudW1iZXJdPiB8IHZvaWQsIHNpemU6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIXN0cmV0Y2gpIHJldHVybiB0cnVlO1xuICAgICAgICBsZXQgbGFzdCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBzdHJldGNoKSB7XG4gICAgICAgICAgICBpZiAocGFydFswXSA8IGxhc3QgfHwgcGFydFsxXSA8IHBhcnRbMF0gfHwgc2l6ZSA8IHBhcnRbMV0pIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGxhc3QgPSBwYXJ0WzFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIF92YWxpZGF0ZUNvbnRlbnQoY29udGVudDogP1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdIHwgdm9pZCwgaW1hZ2U6IFN0eWxlSW1hZ2UpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFjb250ZW50KSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoICE9PSA0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjb250ZW50WzBdIDwgMCB8fCBpbWFnZS5kYXRhLndpZHRoIDwgY29udGVudFswXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY29udGVudFsxXSA8IDAgfHwgaW1hZ2UuZGF0YS5oZWlnaHQgPCBjb250ZW50WzFdKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjb250ZW50WzJdIDwgMCB8fCBpbWFnZS5kYXRhLndpZHRoIDwgY29udGVudFsyXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY29udGVudFszXSA8IDAgfHwgaW1hZ2UuZGF0YS5oZWlnaHQgPCBjb250ZW50WzNdKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjb250ZW50WzJdIDwgY29udGVudFswXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY29udGVudFszXSA8IGNvbnRlbnRbMV0pIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdXBkYXRlSW1hZ2UoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpIHtcbiAgICAgICAgY29uc3Qgb2xkSW1hZ2UgPSB0aGlzLmltYWdlc1tpZF07XG4gICAgICAgIGFzc2VydChvbGRJbWFnZSk7XG4gICAgICAgIGFzc2VydChvbGRJbWFnZS5kYXRhLndpZHRoID09PSBpbWFnZS5kYXRhLndpZHRoKTtcbiAgICAgICAgYXNzZXJ0KG9sZEltYWdlLmRhdGEuaGVpZ2h0ID09PSBpbWFnZS5kYXRhLmhlaWdodCk7XG4gICAgICAgIGltYWdlLnZlcnNpb24gPSBvbGRJbWFnZS52ZXJzaW9uICsgMTtcbiAgICAgICAgdGhpcy5pbWFnZXNbaWRdID0gaW1hZ2U7XG4gICAgICAgIHRoaXMudXBkYXRlZEltYWdlc1tpZF0gPSB0cnVlO1xuICAgIH1cblxuICAgIHJlbW92ZUltYWdlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuaW1hZ2VzW2lkXSk7XG4gICAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5pbWFnZXNbaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5pbWFnZXNbaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5wYXR0ZXJuc1tpZF07XG5cbiAgICAgICAgaWYgKGltYWdlLnVzZXJJbWFnZSAmJiBpbWFnZS51c2VySW1hZ2Uub25SZW1vdmUpIHtcbiAgICAgICAgICAgIGltYWdlLnVzZXJJbWFnZS5vblJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGlzdEltYWdlcygpOiBBcnJheTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaW1hZ2VzKTtcbiAgICB9XG5cbiAgICBnZXRJbWFnZXMoaWRzOiBBcnJheTxzdHJpbmc+LCBjYWxsYmFjazogQ2FsbGJhY2s8e1tfOiBzdHJpbmddOiBTdHlsZUltYWdlfT4pIHtcbiAgICAgICAgLy8gSWYgdGhlIHNwcml0ZSBoYXMgYmVlbiBsb2FkZWQsIG9yIGlmIGFsbCB0aGUgaWNvbiBkZXBlbmRlbmNpZXMgYXJlIGFscmVhZHkgcHJlc2VudFxuICAgICAgICAvLyAoaS5lLiBpZiB0aGV5J3ZlIGJlZW4gYWRkZWQgdmlhIHJ1bnRpbWUgc3R5bGluZyksIHRoZW4gbm90aWZ5IHRoZSByZXF1ZXN0b3IgaW1tZWRpYXRlbHkuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgZGVsYXkgbm90aWZpY2F0aW9uIHVudGlsIHRoZSBzcHJpdGUgaXMgbG9hZGVkLiBBdCB0aGF0IHBvaW50LCBpZiBhbnkgb2YgdGhlXG4gICAgICAgIC8vIGRlcGVuZGVuY2llcyBhcmUgc3RpbGwgdW5hdmFpbGFibGUsIHdlJ2xsIGp1c3QgYXNzdW1lIHRoZXkgYXJlIHBlcm1hbmVudGx5IG1pc3NpbmcuXG4gICAgICAgIGxldCBoYXNBbGxEZXBlbmRlbmNpZXMgPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuaXNMb2FkZWQoKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBpZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW1hZ2VzW2lkXSkge1xuICAgICAgICAgICAgICAgICAgICBoYXNBbGxEZXBlbmRlbmNpZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNMb2FkZWQoKSB8fCBoYXNBbGxEZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX25vdGlmeShpZHMsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdG9ycy5wdXNoKHtpZHMsIGNhbGxiYWNrfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbm90aWZ5KGlkczogQXJyYXk8c3RyaW5nPiwgY2FsbGJhY2s6IENhbGxiYWNrPHtbXzogc3RyaW5nXTogU3R5bGVJbWFnZX0+KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBpZHMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pbWFnZXNbaWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnc3R5bGVpbWFnZW1pc3NpbmcnLCB7aWR9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuaW1hZ2VzW2lkXTtcbiAgICAgICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgICAgIC8vIENsb25lIHRoZSBpbWFnZSBzbyB0aGF0IG91ciBvd24gY29weSBvZiBpdHMgQXJyYXlCdWZmZXIgZG9lc24ndCBnZXQgdHJhbnNmZXJyZWQuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbaWRdID0ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBpbWFnZS5kYXRhLmNsb25lKCksXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW86IGltYWdlLnBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgICAgIHNkZjogaW1hZ2Uuc2RmLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBpbWFnZS52ZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICBzdHJldGNoWDogaW1hZ2Uuc3RyZXRjaFgsXG4gICAgICAgICAgICAgICAgICAgIHN0cmV0Y2hZOiBpbWFnZS5zdHJldGNoWSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogaW1hZ2UuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgaGFzUmVuZGVyQ2FsbGJhY2s6IEJvb2xlYW4oaW1hZ2UudXNlckltYWdlICYmIGltYWdlLnVzZXJJbWFnZS5yZW5kZXIpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2Fybk9uY2UoYEltYWdlIFwiJHtpZH1cIiBjb3VsZCBub3QgYmUgbG9hZGVkLiBQbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGFkZGVkIHRoZSBpbWFnZSB3aXRoIG1hcC5hZGRJbWFnZSgpIG9yIGEgXCJzcHJpdGVcIiBwcm9wZXJ0eSBpbiB5b3VyIHN0eWxlLiBZb3UgY2FuIHByb3ZpZGUgbWlzc2luZyBpbWFnZXMgYnkgbGlzdGVuaW5nIGZvciB0aGUgXCJzdHlsZWltYWdlbWlzc2luZ1wiIG1hcCBldmVudC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvLyBQYXR0ZXJuIHN0dWZmXG5cbiAgICBnZXRQaXhlbFNpemUoKTogU2l6ZSB7XG4gICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IHRoaXMuYXRsYXNJbWFnZTtcbiAgICAgICAgcmV0dXJuIHt3aWR0aCwgaGVpZ2h0fTtcbiAgICB9XG5cbiAgICBnZXRQYXR0ZXJuKGlkOiBzdHJpbmcpOiA/SW1hZ2VQb3NpdGlvbiB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLnBhdHRlcm5zW2lkXTtcblxuICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0SW1hZ2UoaWQpO1xuICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXR0ZXJuICYmIHBhdHRlcm4ucG9zaXRpb24udmVyc2lvbiA9PT0gaW1hZ2UudmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4ucG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXBhdHRlcm4pIHtcbiAgICAgICAgICAgIGNvbnN0IHcgPSBpbWFnZS5kYXRhLndpZHRoICsgcGFkZGluZyAqIDI7XG4gICAgICAgICAgICBjb25zdCBoID0gaW1hZ2UuZGF0YS5oZWlnaHQgKyBwYWRkaW5nICogMjtcbiAgICAgICAgICAgIGNvbnN0IGJpbiA9IHt3LCBoLCB4OiAwLCB5OiAwfTtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gbmV3IEltYWdlUG9zaXRpb24oYmluLCBpbWFnZSk7XG4gICAgICAgICAgICB0aGlzLnBhdHRlcm5zW2lkXSA9IHtiaW4sIHBvc2l0aW9ufTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhdHRlcm4ucG9zaXRpb24udmVyc2lvbiA9IGltYWdlLnZlcnNpb247XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVQYXR0ZXJuQXRsYXMoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5wYXR0ZXJuc1tpZF0ucG9zaXRpb247XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgaWYgKCF0aGlzLmF0bGFzVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5hdGxhc1RleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmF0bGFzSW1hZ2UsIGdsLlJHQkEpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuYXRsYXNUZXh0dXJlLnVwZGF0ZSh0aGlzLmF0bGFzSW1hZ2UpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmF0bGFzVGV4dHVyZSkgcmV0dXJuOyAvLyBGbG93IGNhbid0IGluZmVyIHRoYXQgYXRsYXNUZXh0dXJlIGlzIGRlZmluZWQgaGVyZVxuICAgICAgICB0aGlzLmF0bGFzVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVBhdHRlcm5BdGxhcygpIHtcbiAgICAgICAgY29uc3QgYmlucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMucGF0dGVybnMpIHtcbiAgICAgICAgICAgIGJpbnMucHVzaCh0aGlzLnBhdHRlcm5zW2lkXS5iaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge3csIGh9ID0gcG90cGFjayhiaW5zKTtcblxuICAgICAgICBjb25zdCBkc3QgPSB0aGlzLmF0bGFzSW1hZ2U7XG4gICAgICAgIGRzdC5yZXNpemUoe3dpZHRoOiB3IHx8IDEsIGhlaWdodDogaCB8fCAxfSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnBhdHRlcm5zKSB7XG4gICAgICAgICAgICBjb25zdCB7YmlufSA9IHRoaXMucGF0dGVybnNbaWRdO1xuICAgICAgICAgICAgY29uc3QgeCA9IGJpbi54ICsgcGFkZGluZztcbiAgICAgICAgICAgIGNvbnN0IHkgPSBiaW4ueSArIHBhZGRpbmc7XG4gICAgICAgICAgICBjb25zdCBzcmMgPSB0aGlzLmltYWdlc1tpZF0uZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IHcgPSBzcmMud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoID0gc3JjLmhlaWdodDtcblxuICAgICAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHt4OiAwLCB5OiAwfSwge3gsIHl9LCB7d2lkdGg6IHcsIGhlaWdodDogaH0pO1xuXG4gICAgICAgICAgICAvLyBBZGQgMSBwaXhlbCB3cmFwcGVkIHBhZGRpbmcgb24gZWFjaCBzaWRlIG9mIHRoZSBpbWFnZS5cbiAgICAgICAgICAgIFJHQkFJbWFnZS5jb3B5KHNyYywgZHN0LCB7eDogMCwgeTogaCAtIDF9LCB7eCwgeTogeSAtIDF9LCB7d2lkdGg6IHcsIGhlaWdodDogMX0pOyAvLyBUXG4gICAgICAgICAgICBSR0JBSW1hZ2UuY29weShzcmMsIGRzdCwge3g6IDAsIHk6ICAgICAwfSwge3gsIHk6IHkgKyBofSwge3dpZHRoOiB3LCBoZWlnaHQ6IDF9KTsgLy8gQlxuICAgICAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHt4OiB3IC0gMSwgeTogMH0sIHt4OiB4IC0gMSwgeX0sIHt3aWR0aDogMSwgaGVpZ2h0OiBofSk7IC8vIExcbiAgICAgICAgICAgIFJHQkFJbWFnZS5jb3B5KHNyYywgZHN0LCB7eDogMCwgICAgIHk6IDB9LCB7eDogeCArIHcsIHl9LCB7d2lkdGg6IDEsIGhlaWdodDogaH0pOyAvLyBSXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBiZWdpbkZyYW1lKCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZSA9IHt9O1xuICAgIH1cblxuICAgIGRpc3BhdGNoUmVuZGVyQ2FsbGJhY2tzKGlkczogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuXG4gICAgICAgICAgICAvLyB0aGUgY2FsbGJhY2sgZm9yIHRoZSBpbWFnZSB3YXMgYWxyZWFkeSBkaXNwYXRjaGVkIGZvciBhIGRpZmZlcmVudCBmcmFtZVxuICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW2lkXSkgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZVtpZF0gPSB0cnVlO1xuXG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuaW1hZ2VzW2lkXTtcbiAgICAgICAgICAgIGFzc2VydChpbWFnZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSByZW5kZXJTdHlsZUltYWdlKGltYWdlKTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbWFnZShpZCwgaW1hZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbWFnZU1hbmFnZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgc3R5bGVTcGVjIGZyb20gJy4uL3N0eWxlLXNwZWMvcmVmZXJlbmNlL2xhdGVzdC5qcyc7XG5cbmltcG9ydCB7ZW5kc1dpdGgsIGV4dGVuZCwgZGVnVG9SYWR9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQge0V2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQge1xuICAgIHZhbGlkYXRlU3R5bGUsXG4gICAgdmFsaWRhdGVMaWdodCxcbiAgICBlbWl0VmFsaWRhdGlvbkVycm9yc1xufSBmcm9tICcuL3ZhbGlkYXRlX3N0eWxlLmpzJztcbmltcG9ydCBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3IuanMnO1xuaW1wb3J0IHtudW1iZXIgYXMgaW50ZXJwb2xhdGV9IGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9pbnRlcnBvbGF0ZS5qcyc7XG5pbXBvcnQge1Byb3BlcnRpZXMsIFRyYW5zaXRpb25hYmxlLCBUcmFuc2l0aW9uaW5nLCBQb3NzaWJseUV2YWx1YXRlZCwgRGF0YUNvbnN0YW50UHJvcGVydHl9IGZyb20gJy4vcHJvcGVydGllcy5qcyc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZVByb3BlcnR5U3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy9zdHlsZS1zcGVjLmpzJztcbmltcG9ydCB0eXBlIEV2YWx1YXRpb25QYXJhbWV0ZXJzIGZyb20gJy4vZXZhbHVhdGlvbl9wYXJhbWV0ZXJzLmpzJztcbmltcG9ydCB0eXBlIHtTdHlsZVNldHRlck9wdGlvbnN9IGZyb20gJy4uL3N0eWxlL3N0eWxlLmpzJztcbmltcG9ydCB0eXBlIHtcbiAgICBQcm9wZXJ0eSxcbiAgICBQcm9wZXJ0eVZhbHVlLFxuICAgIFRyYW5zaXRpb25QYXJhbWV0ZXJzXG59IGZyb20gJy4vcHJvcGVydGllcy5qcyc7XG5cbmltcG9ydCB0eXBlIHtMaWdodFNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuXG5leHBvcnQgdHlwZSBMaWdodFBvc2l0aW9uID0ge1xuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgejogbnVtYmVyLFxuICAgIGF6aW11dGhhbDogbnVtYmVyLFxuICAgIHBvbGFyOiBudW1iZXIsXG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHNwaGVyaWNhbCBjb29yZGluYXRlcyB0byBjYXJ0ZXNpYW4gTGlnaHRQb3NpdGlvbiBjb29yZGluYXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHNwaGVyaWNhbCBTcGhlcmljYWwgY29vcmRpbmF0ZXMsIGluIFtyYWRpYWwsIGF6aW11dGhhbCwgcG9sYXJdXG4gKiBAcmV0dXJuIExpZ2h0UG9zaXRpb24gY2FydGVzaWFuIGNvb3JkaW5hdGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGhlcmljYWxUb0NhcnRlc2lhbihbciwgYXppbXV0aGFsLCBwb2xhcl06IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSk6IExpZ2h0UG9zaXRpb24ge1xuICAgIC8vIFdlIGFic3RyYWN0IFwibm9ydGhcIi9cInVwXCIgKGNvbXBhc3Mtd2lzZSkgdG8gYmUgMMKwIHdoZW4gcmVhbGx5IHRoaXMgaXMgOTDCsCAoz4AvMik6XG4gICAgLy8gY29ycmVjdCBmb3IgdGhhdCBoZXJlXG4gICAgY29uc3QgYSA9IGRlZ1RvUmFkKGF6aW11dGhhbCArIDkwKSwgcCA9IGRlZ1RvUmFkKHBvbGFyKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHIgKiBNYXRoLmNvcyhhKSAqIE1hdGguc2luKHApLFxuICAgICAgICB5OiByICogTWF0aC5zaW4oYSkgKiBNYXRoLnNpbihwKSxcbiAgICAgICAgejogciAqIE1hdGguY29zKHApLFxuICAgICAgICBhemltdXRoYWwsIHBvbGFyXG4gICAgfTtcbn1cblxuY2xhc3MgTGlnaHRQb3NpdGlvblByb3BlcnR5IGltcGxlbWVudHMgUHJvcGVydHk8W251bWJlciwgbnVtYmVyLCBudW1iZXJdLCBMaWdodFBvc2l0aW9uPiB7XG4gICAgc3BlY2lmaWNhdGlvbjogU3R5bGVQcm9wZXJ0eVNwZWNpZmljYXRpb247XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2F0aW9uID0gc3R5bGVTcGVjLmxpZ2h0LnBvc2l0aW9uO1xuICAgIH1cblxuICAgIHBvc3NpYmx5RXZhbHVhdGUodmFsdWU6IFByb3BlcnR5VmFsdWU8W251bWJlciwgbnVtYmVyLCBudW1iZXJdLCBMaWdodFBvc2l0aW9uPiwgcGFyYW1ldGVyczogRXZhbHVhdGlvblBhcmFtZXRlcnMpOiBMaWdodFBvc2l0aW9uIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICByZXR1cm4gc3BoZXJpY2FsVG9DYXJ0ZXNpYW4odmFsdWUuZXhwcmVzc2lvbi5ldmFsdWF0ZShwYXJhbWV0ZXJzKSk7XG4gICAgfVxuXG4gICAgaW50ZXJwb2xhdGUoYTogTGlnaHRQb3NpdGlvbiwgYjogTGlnaHRQb3NpdGlvbiwgdDogbnVtYmVyKTogTGlnaHRQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBpbnRlcnBvbGF0ZShhLngsIGIueCwgdCksXG4gICAgICAgICAgICB5OiBpbnRlcnBvbGF0ZShhLnksIGIueSwgdCksXG4gICAgICAgICAgICB6OiBpbnRlcnBvbGF0ZShhLnosIGIueiwgdCksXG4gICAgICAgICAgICBhemltdXRoYWw6IGludGVycG9sYXRlKGEuYXppbXV0aGFsLCBiLmF6aW11dGhhbCwgdCksXG4gICAgICAgICAgICBwb2xhcjogaW50ZXJwb2xhdGUoYS5wb2xhciwgYi5wb2xhciwgdCksXG4gICAgICAgIH07XG4gICAgfVxufVxuXG50eXBlIFByb3BzID0ge3xcbiAgICBcImFuY2hvclwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxcIm1hcFwiIHwgXCJ2aWV3cG9ydFwiPixcbiAgICBcInBvc2l0aW9uXCI6IExpZ2h0UG9zaXRpb25Qcm9wZXJ0eSxcbiAgICBcImNvbG9yXCI6IERhdGFDb25zdGFudFByb3BlcnR5PENvbG9yPixcbiAgICBcImludGVuc2l0eVwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxudW1iZXI+LFxufH07XG5cbmNvbnN0IHByb3BlcnRpZXM6IFByb3BlcnRpZXM8UHJvcHM+ID0gbmV3IFByb3BlcnRpZXMoe1xuICAgIFwiYW5jaG9yXCI6IG5ldyBEYXRhQ29uc3RhbnRQcm9wZXJ0eShzdHlsZVNwZWMubGlnaHQuYW5jaG9yKSxcbiAgICBcInBvc2l0aW9uXCI6IG5ldyBMaWdodFBvc2l0aW9uUHJvcGVydHkoKSxcbiAgICBcImNvbG9yXCI6IG5ldyBEYXRhQ29uc3RhbnRQcm9wZXJ0eShzdHlsZVNwZWMubGlnaHQuY29sb3IpLFxuICAgIFwiaW50ZW5zaXR5XCI6IG5ldyBEYXRhQ29uc3RhbnRQcm9wZXJ0eShzdHlsZVNwZWMubGlnaHQuaW50ZW5zaXR5KSxcbn0pO1xuXG5jb25zdCBUUkFOU0lUSU9OX1NVRkZJWCA9ICctdHJhbnNpdGlvbic7XG5cbi8qXG4gKiBSZXByZXNlbnRzIHRoZSBsaWdodCB1c2VkIHRvIGxpZ2h0IGV4dHJ1ZGVkIGZlYXR1cmVzLlxuICovXG5jbGFzcyBMaWdodCBleHRlbmRzIEV2ZW50ZWQge1xuICAgIF90cmFuc2l0aW9uYWJsZTogVHJhbnNpdGlvbmFibGU8UHJvcHM+O1xuICAgIF90cmFuc2l0aW9uaW5nOiBUcmFuc2l0aW9uaW5nPFByb3BzPjtcbiAgICBwcm9wZXJ0aWVzOiBQb3NzaWJseUV2YWx1YXRlZDxQcm9wcz47XG5cbiAgICBjb25zdHJ1Y3RvcihsaWdodE9wdGlvbnM/OiBMaWdodFNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmFibGUgPSBuZXcgVHJhbnNpdGlvbmFibGUocHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMuc2V0TGlnaHQobGlnaHRPcHRpb25zKTtcbiAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmluZyA9IHRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCk7XG4gICAgfVxuXG4gICAgZ2V0TGlnaHQoKTogTGlnaHRTcGVjaWZpY2F0aW9uIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKTogYW55KTtcbiAgICB9XG5cbiAgICBzZXRMaWdodChsaWdodD86IExpZ2h0U3BlY2lmaWNhdGlvbiwgb3B0aW9uczogU3R5bGVTZXR0ZXJPcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlTGlnaHQsIGxpZ2h0LCBvcHRpb25zKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGxpZ2h0KSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGxpZ2h0W25hbWVdO1xuICAgICAgICAgICAgaWYgKGVuZHNXaXRoKG5hbWUsIFRSQU5TSVRJT05fU1VGRklYKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24obmFtZS5zbGljZSgwLCAtVFJBTlNJVElPTl9TVUZGSVgubGVuZ3RoKSwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRWYWx1ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzOiBUcmFuc2l0aW9uUGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uaW5nID0gdGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKHBhcmFtZXRlcnMsIHRoaXMuX3RyYW5zaXRpb25pbmcpO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKTtcbiAgICB9XG5cbiAgICByZWNhbGN1bGF0ZShwYXJhbWV0ZXJzOiBFdmFsdWF0aW9uUGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUocGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgX3ZhbGlkYXRlKHZhbGlkYXRlOiBGdW5jdGlvbiwgdmFsdWU6IG1peGVkLCBvcHRpb25zPzoge3ZhbGlkYXRlPzogYm9vbGVhbn0pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy52YWxpZGF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZS5jYWxsKHZhbGlkYXRlU3R5bGUsIGV4dGVuZCh7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8yNDA3XG4gICAgICAgICAgICBzdHlsZToge2dseXBoczogdHJ1ZSwgc3ByaXRlOiB0cnVlfSxcbiAgICAgICAgICAgIHN0eWxlU3BlY1xuICAgICAgICB9KSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlnaHQ7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgc3R5bGVTcGVjIGZyb20gJy4uL3N0eWxlLXNwZWMvcmVmZXJlbmNlL2xhdGVzdC5qcyc7XG5pbXBvcnQge2VuZHNXaXRofSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IHtFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IHtQcm9wZXJ0aWVzLCBUcmFuc2l0aW9uYWJsZSwgVHJhbnNpdGlvbmluZywgUG9zc2libHlFdmFsdWF0ZWQsIERhdGFDb25zdGFudFByb3BlcnR5fSBmcm9tICcuL3Byb3BlcnRpZXMuanMnO1xuXG5pbXBvcnQgdHlwZSBFdmFsdWF0aW9uUGFyYW1ldGVycyBmcm9tICcuL2V2YWx1YXRpb25fcGFyYW1ldGVycy5qcyc7XG5pbXBvcnQgdHlwZSB7VHJhbnNpdGlvblBhcmFtZXRlcnN9IGZyb20gJy4vcHJvcGVydGllcy5qcyc7XG5pbXBvcnQgdHlwZSB7VGVycmFpblNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuXG50eXBlIFByb3BzID0ge3xcbiAgICBcInNvdXJjZVwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxzdHJpbmc+LFxuICAgIFwiZXhhZ2dlcmF0aW9uXCI6IERhdGFDb25zdGFudFByb3BlcnR5PG51bWJlcj4sXG58fTtcblxuZXhwb3J0IGNvbnN0IERyYXBlUmVuZGVyTW9kZSA9IHtcbiAgICBkZWZlcnJlZDogMCxcbiAgICBlbGV2YXRlZDogMVxufTtcblxuY29uc3QgcHJvcGVydGllczogUHJvcGVydGllczxQcm9wcz4gPSBuZXcgUHJvcGVydGllcyh7XG4gICAgXCJzb3VyY2VcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy50ZXJyYWluLnNvdXJjZSksXG4gICAgXCJleGFnZ2VyYXRpb25cIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy50ZXJyYWluLmV4YWdnZXJhdGlvbiksXG59KTtcblxuY29uc3QgVFJBTlNJVElPTl9TVUZGSVggPSAnLXRyYW5zaXRpb24nO1xuXG5jbGFzcyBUZXJyYWluIGV4dGVuZHMgRXZlbnRlZCB7XG4gICAgX3RyYW5zaXRpb25hYmxlOiBUcmFuc2l0aW9uYWJsZTxQcm9wcz47XG4gICAgX3RyYW5zaXRpb25pbmc6IFRyYW5zaXRpb25pbmc8UHJvcHM+O1xuICAgIHByb3BlcnRpZXM6IFBvc3NpYmx5RXZhbHVhdGVkPFByb3BzPjtcbiAgICBkcmFwZVJlbmRlck1vZGU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHRlcnJhaW5PcHRpb25zOiBUZXJyYWluU3BlY2lmaWNhdGlvbiwgZHJhcGVSZW5kZXJNb2RlOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmFibGUgPSBuZXcgVHJhbnNpdGlvbmFibGUocHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMuc2V0KHRlcnJhaW5PcHRpb25zKTtcbiAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmluZyA9IHRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCk7XG4gICAgICAgIHRoaXMuZHJhcGVSZW5kZXJNb2RlID0gZHJhcGVSZW5kZXJNb2RlO1xuICAgIH1cblxuICAgIGdldCgpOiBUZXJyYWluU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiAodGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCk6IGFueSk7XG4gICAgfVxuXG4gICAgc2V0KHRlcnJhaW46IFRlcnJhaW5TcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0ZXJyYWluKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRlcnJhaW5bbmFtZV07XG4gICAgICAgICAgICBpZiAoZW5kc1dpdGgobmFtZSwgVFJBTlNJVElPTl9TVUZGSVgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihuYW1lLnNsaWNlKDAsIC1UUkFOU0lUSU9OX1NVRkZJWC5sZW5ndGgpLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFZhbHVlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVRyYW5zaXRpb25zKHBhcmFtZXRlcnM6IFRyYW5zaXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25pbmcgPSB0aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQocGFyYW1ldGVycywgdGhpcy5fdHJhbnNpdGlvbmluZyk7XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpO1xuICAgIH1cblxuICAgIHJlY2FsY3VsYXRlKHBhcmFtZXRlcnM6IEV2YWx1YXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShwYXJhbWV0ZXJzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRlcnJhaW47XG4iLCIvLyBAZmxvd1xuaW1wb3J0IHt2ZWMzfSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSBmcm9tICcuLi9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQge3Ntb290aHN0ZXB9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgdHlwZSBMbmdMYXQgZnJvbSAnLi4vZ2VvL2xuZ19sYXQuanMnO1xuaW1wb3J0IHR5cGUge1Vud3JhcHBlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0uanMnO1xuXG5leHBvcnQgY29uc3QgRk9HX1BJVENIX1NUQVJUID0gNDU7XG5leHBvcnQgY29uc3QgRk9HX1BJVENIX0VORCA9IDY1O1xuZXhwb3J0IGNvbnN0IEZPR19TWU1CT0xfQ0xJUFBJTkdfVEhSRVNIT0xEID0gMC45O1xuXG5leHBvcnQgdHlwZSBGb2dTdGF0ZSA9IHtcbiAgICByYW5nZTogW251bWJlciwgbnVtYmVyXSxcbiAgICBob3Jpem9uQmxlbmQ6IG51bWJlcixcbiAgICBhbHBoYTogbnVtYmVyXG59O1xuXG4vLyBBcyBkZWZpbmVkIGluIF9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsI2ZvZ19vcGFjaXR5XG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9nT3BhY2l0eShzdGF0ZTogRm9nU3RhdGUsIHBvczogQXJyYXk8bnVtYmVyPiwgcGl0Y2g6IG51bWJlciwgZm92OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IGZvZ1BpdGNoT3BhY2l0eSA9IHNtb290aHN0ZXAoRk9HX1BJVENIX1NUQVJULCBGT0dfUElUQ0hfRU5ELCBwaXRjaCk7XG4gICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gZ2V0Rm92QWRqdXN0ZWRGb2dSYW5nZShzdGF0ZSwgZm92KTtcblxuICAgIC8vIFRoZSBvdXRwdXQgb2YgdGhpcyBmdW5jdGlvbiBtdXN0IG1hdGNoIF9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXG4gICAgLy8gRm9yIGZ1cnRoZXIgZGV0YWlscywgcmVmZXIgdG8gdGhlIGltcGxlbWVudGF0aW9uIGluIHRoZSBzaGFkZXIgY29kZVxuICAgIGNvbnN0IGRlY2F5ID0gNjtcbiAgICBjb25zdCBkZXB0aCA9IHZlYzMubGVuZ3RoKHBvcyk7XG4gICAgY29uc3QgZm9nUmFuZ2UgPSAoZGVwdGggLSBzdGFydCkgLyAoZW5kIC0gc3RhcnQpO1xuICAgIGxldCBmYWxsb2ZmID0gMS4wIC0gTWF0aC5taW4oMSwgTWF0aC5leHAoLWRlY2F5ICogZm9nUmFuZ2UpKTtcblxuICAgIGZhbGxvZmYgKj0gZmFsbG9mZiAqIGZhbGxvZmY7XG4gICAgZmFsbG9mZiA9IE1hdGgubWluKDEuMCwgMS4wMDc0NyAqIGZhbGxvZmYpO1xuXG4gICAgcmV0dXJuIGZhbGxvZmYgKiBmb2dQaXRjaE9wYWNpdHkgKiBzdGF0ZS5hbHBoYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZvdkFkanVzdGVkRm9nUmFuZ2Uoc3RhdGU6IEZvZ1N0YXRlLCBmb3Y6IG51bWJlcik6IFtudW1iZXIsIG51bWJlcl0ge1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gY29tcHV0ZXMgYSBzaGlmdGVkIGZvZyByYW5nZSBzbyB0aGF0IHRoZSBhcHBlYXJhbmNlIGlzIHVuY2hhbmdlZFxuICAgIC8vIHdoZW4gdGhlIGZvdiBjaGFuZ2VzLiBXZSBkZWZpbmUgcmFuZ2U9MCBzdGFydGluZyBhdCB0aGUgY2FtZXJhIHBvc2l0aW9uIGdpdmVuXG4gICAgLy8gdGhlIGRlZmF1bHQgZm92LiBXZSBhdm9pZCBzdGFydGluZyB0aGUgZm9nIHJhbmdlIGF0IHRoZSBjYW1lcmEgY2VudGVyIHNvIHRoYXRcbiAgICAvLyByYW5nZXMgYXJlbid0IGdlbmVyYWxseSBuZWdhdGl2ZSB1bmxlc3MgdGhlIEZPViBpcyBtb2RpZmllZC5cbiAgICBjb25zdCBzaGlmdCA9IDAuNSAvIE1hdGgudGFuKGZvdiAqIDAuNSk7XG4gICAgcmV0dXJuIFtzdGF0ZS5yYW5nZVswXSArIHNoaWZ0LCBzdGF0ZS5yYW5nZVsxXSArIHNoaWZ0XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZvZ09wYWNpdHlBdFRpbGVDb29yZChzdGF0ZTogRm9nU3RhdGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIsIHRpbGVJZDogVW53cmFwcGVkVGlsZUlELCB0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IG51bWJlciB7XG4gICAgY29uc3QgbWF0ID0gdHJhbnNmb3JtLmNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgodGlsZUlkKTtcbiAgICBjb25zdCBwb3MgPSBbeCwgeSwgel07XG4gICAgdmVjMy50cmFuc2Zvcm1NYXQ0KHBvcywgcG9zLCBtYXQpO1xuXG4gICAgcmV0dXJuIGdldEZvZ09wYWNpdHkoc3RhdGUsIHBvcywgdHJhbnNmb3JtLnBpdGNoLCB0cmFuc2Zvcm0uX2Zvdik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb2dPcGFjaXR5QXRMbmdMYXQoc3RhdGU6IEZvZ1N0YXRlLCBsbmdMYXQ6IExuZ0xhdCwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBudW1iZXIge1xuICAgIGNvbnN0IG1ldGVycyA9IE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KGxuZ0xhdCk7XG4gICAgY29uc3QgZWxldmF0aW9uID0gdHJhbnNmb3JtLmVsZXZhdGlvbiA/IHRyYW5zZm9ybS5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhtZXRlcnMpIDogMDtcbiAgICBjb25zdCBwb3MgPSBbbWV0ZXJzLngsIG1ldGVycy55LCBlbGV2YXRpb25dO1xuICAgIHZlYzMudHJhbnNmb3JtTWF0NChwb3MsIHBvcywgdHJhbnNmb3JtLm1lcmNhdG9yRm9nTWF0cml4KTtcblxuICAgIHJldHVybiBnZXRGb2dPcGFjaXR5KHN0YXRlLCBwb3MsIHRyYW5zZm9ybS5waXRjaCwgdHJhbnNmb3JtLl9mb3YpO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHN0eWxlU3BlYyBmcm9tICcuLi9zdHlsZS1zcGVjL3JlZmVyZW5jZS9sYXRlc3QuanMnO1xuaW1wb3J0IHtlbmRzV2l0aCwgZXh0ZW5kLCBzbW9vdGhzdGVwfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IHtFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IHt2YWxpZGF0ZVN0eWxlLCB2YWxpZGF0ZUZvZywgZW1pdFZhbGlkYXRpb25FcnJvcnN9IGZyb20gJy4vdmFsaWRhdGVfc3R5bGUuanMnO1xuaW1wb3J0IHtQcm9wZXJ0aWVzLCBUcmFuc2l0aW9uYWJsZSwgVHJhbnNpdGlvbmluZywgUG9zc2libHlFdmFsdWF0ZWQsIERhdGFDb25zdGFudFByb3BlcnR5fSBmcm9tICcuL3Byb3BlcnRpZXMuanMnO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvci5qcyc7XG5pbXBvcnQge0ZPR19QSVRDSF9TVEFSVCwgRk9HX1BJVENIX0VORCwgZ2V0Rm9nT3BhY2l0eUF0TG5nTGF0LCBnZXRGb3ZBZGp1c3RlZEZvZ1JhbmdlfSBmcm9tICcuL2ZvZ19oZWxwZXJzLmpzJztcbmltcG9ydCB0eXBlIHtGb2dTcGVjaWZpY2F0aW9ufSBmcm9tICcuLi9zdHlsZS1zcGVjL3R5cGVzLmpzJztcbmltcG9ydCB0eXBlIEV2YWx1YXRpb25QYXJhbWV0ZXJzIGZyb20gJy4vZXZhbHVhdGlvbl9wYXJhbWV0ZXJzLmpzJztcbmltcG9ydCB0eXBlIHtUcmFuc2l0aW9uUGFyYW1ldGVyc30gZnJvbSAnLi9wcm9wZXJ0aWVzLmpzJztcbmltcG9ydCB0eXBlIExuZ0xhdCBmcm9tICcuLi9nZW8vbG5nX2xhdC5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSB7U3R5bGVTZXR0ZXJPcHRpb25zfSBmcm9tICcuLi9zdHlsZS9zdHlsZS5qcyc7XG5pbXBvcnQgdHlwZSB7Rm9nU3RhdGV9IGZyb20gJy4vZm9nX2hlbHBlcnMuanMnO1xuaW1wb3J0IHtudW1iZXIgYXMgaW50ZXJwb2xhdGV9IGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9pbnRlcnBvbGF0ZS5qcyc7XG5pbXBvcnQge2dsb2JlVG9NZXJjYXRvclRyYW5zaXRpb259IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL2dsb2JlX3V0aWwuanMnO1xuXG50eXBlIFByb3BzID0ge3xcbiAgICBcInJhbmdlXCI6IERhdGFDb25zdGFudFByb3BlcnR5PFtudW1iZXIsIG51bWJlcl0+LFxuICAgIFwiY29sb3JcIjogRGF0YUNvbnN0YW50UHJvcGVydHk8Q29sb3I+LFxuICAgIFwiaGlnaC1jb2xvclwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxDb2xvcj4sXG4gICAgXCJzcGFjZS1jb2xvclwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxDb2xvcj4sXG4gICAgXCJob3Jpem9uLWJsZW5kXCI6IERhdGFDb25zdGFudFByb3BlcnR5PG51bWJlcj4sXG4gICAgXCJzdGFyLWludGVuc2l0eVwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxudW1iZXI+LFxufH07XG5cbmNvbnN0IGZvZ1Byb3BlcnRpZXM6IFByb3BlcnRpZXM8UHJvcHM+ID0gbmV3IFByb3BlcnRpZXMoe1xuICAgIFwicmFuZ2VcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5mb2cucmFuZ2UpLFxuICAgIFwiY29sb3JcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5mb2cuY29sb3IpLFxuICAgIFwiaGlnaC1jb2xvclwiOiBuZXcgRGF0YUNvbnN0YW50UHJvcGVydHkoc3R5bGVTcGVjLmZvZ1tcImhpZ2gtY29sb3JcIl0pLFxuICAgIFwic3BhY2UtY29sb3JcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5mb2dbXCJzcGFjZS1jb2xvclwiXSksXG4gICAgXCJob3Jpem9uLWJsZW5kXCI6IG5ldyBEYXRhQ29uc3RhbnRQcm9wZXJ0eShzdHlsZVNwZWMuZm9nW1wiaG9yaXpvbi1ibGVuZFwiXSksXG4gICAgXCJzdGFyLWludGVuc2l0eVwiOiBuZXcgRGF0YUNvbnN0YW50UHJvcGVydHkoc3R5bGVTcGVjLmZvZ1tcInN0YXItaW50ZW5zaXR5XCJdKSxcbn0pO1xuXG5jb25zdCBUUkFOU0lUSU9OX1NVRkZJWCA9ICctdHJhbnNpdGlvbic7XG5cbmNsYXNzIEZvZyBleHRlbmRzIEV2ZW50ZWQge1xuICAgIF90cmFuc2l0aW9uYWJsZTogVHJhbnNpdGlvbmFibGU8UHJvcHM+O1xuICAgIF90cmFuc2l0aW9uaW5nOiBUcmFuc2l0aW9uaW5nPFByb3BzPjtcbiAgICBwcm9wZXJ0aWVzOiBQb3NzaWJseUV2YWx1YXRlZDxQcm9wcz47XG5cbiAgICAvLyBBbHRlcm5hdGUgcHJvamVjdGlvbnMgZG8gbm90IHlldCBzdXBwb3J0IGZvZy5cbiAgICAvLyBIb2xkIG9uIHRvIHRyYW5zZm9ybSBzbyB0aGF0IHdlIGtub3cgd2hldGhlciBhIHByb2plY3Rpb24gaXMgc2V0LlxuICAgIF90cmFuc2Zvcm06IFRyYW5zZm9ybTtcblxuICAgIGNvbnN0cnVjdG9yKGZvZ09wdGlvbnM/OiBGb2dTcGVjaWZpY2F0aW9uLCB0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uYWJsZSA9IG5ldyBUcmFuc2l0aW9uYWJsZShmb2dQcm9wZXJ0aWVzKTtcbiAgICAgICAgdGhpcy5zZXQoZm9nT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25pbmcgPSB0aGlzLl90cmFuc2l0aW9uYWJsZS51bnRyYW5zaXRpb25lZCgpO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgfVxuXG4gICAgZ2V0IHN0YXRlKCk6IEZvZ1N0YXRlIHtcbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLl90cmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGlzR2xvYmUgPSB0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZSc7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25UID0gZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0ci56b29tKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnByb3BlcnRpZXMuZ2V0KCdyYW5nZScpO1xuICAgICAgICBjb25zdCBnbG9iZUZpeGVkRm9nUmFuZ2UgPSBbMC41LCAzXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJhbmdlOiBpc0dsb2JlID8gW1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRlKGdsb2JlRml4ZWRGb2dSYW5nZVswXSwgcmFuZ2VbMF0sIHRyYW5zaXRpb25UKSxcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZShnbG9iZUZpeGVkRm9nUmFuZ2VbMV0sIHJhbmdlWzFdLCB0cmFuc2l0aW9uVClcbiAgICAgICAgICAgIF0gOiByYW5nZSxcbiAgICAgICAgICAgIGhvcml6b25CbGVuZDogdGhpcy5wcm9wZXJ0aWVzLmdldCgnaG9yaXpvbi1ibGVuZCcpLFxuICAgICAgICAgICAgYWxwaGE6IHRoaXMucHJvcGVydGllcy5nZXQoJ2NvbG9yJykuYVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldCgpOiBGb2dTcGVjaWZpY2F0aW9uIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKTogYW55KTtcbiAgICB9XG5cbiAgICBzZXQoZm9nPzogRm9nU3BlY2lmaWNhdGlvbiwgb3B0aW9uczogU3R5bGVTZXR0ZXJPcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlRm9nLCBmb2csIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmtleXMoc3R5bGVTcGVjLmZvZykpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHVzZSBkZWZhdWx0IHN0eWxlIHNwZWNpZmljYXRpb24gd2hlbiB0aGUgcHJvcGVydGllcyB3YXNuJ3Qgc2V0XG4gICAgICAgICAgICBpZiAoZm9nICYmIGZvZ1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZm9nW25hbWVdID0gc3R5bGVTcGVjLmZvZ1tuYW1lXS5kZWZhdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGZvZykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBmb2dbbmFtZV07XG4gICAgICAgICAgICBpZiAoZW5kc1dpdGgobmFtZSwgVFJBTlNJVElPTl9TVUZGSVgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihuYW1lLnNsaWNlKDAsIC1UUkFOU0lUSU9OX1NVRkZJWC5sZW5ndGgpLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFZhbHVlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldE9wYWNpdHkocGl0Y2g6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmICghdGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2cpIHJldHVybiAwO1xuXG4gICAgICAgIGNvbnN0IGZvZ0NvbG9yID0gKHRoaXMucHJvcGVydGllcyAmJiB0aGlzLnByb3BlcnRpZXMuZ2V0KCdjb2xvcicpKSB8fCAxLjA7XG4gICAgICAgIGNvbnN0IGlzR2xvYmUgPSB0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuICAgICAgICBjb25zdCBwaXRjaEZhY3RvciA9IGlzR2xvYmUgPyAxLjAgOiBzbW9vdGhzdGVwKEZPR19QSVRDSF9TVEFSVCwgRk9HX1BJVENIX0VORCwgcGl0Y2gpO1xuICAgICAgICByZXR1cm4gcGl0Y2hGYWN0b3IgKiBmb2dDb2xvci5hO1xuICAgIH1cblxuICAgIGdldE9wYWNpdHlBdExhdExuZyhsbmdMYXQ6IExuZ0xhdCwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBudW1iZXIge1xuICAgICAgICBpZiAoIXRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nKSByZXR1cm4gMDtcblxuICAgICAgICByZXR1cm4gZ2V0Rm9nT3BhY2l0eUF0TG5nTGF0KHRoaXMuc3RhdGUsIGxuZ0xhdCwgdHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICBnZXRGb3ZBZGp1c3RlZFJhbmdlKGZvdjogbnVtYmVyKTogW251bWJlciwgbnVtYmVyXSB7XG4gICAgICAgIC8vIFdlIGNhbiByZXR1cm4gYW55IGFyYml0cmFyeSByYW5nZSBiZWNhdXNlIHdlIGV4cGVjdCBvcGFjaXR5PTAgdG8gY2xlYW4gaXQgdXBcbiAgICAgICAgaWYgKCF0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZykgcmV0dXJuIFswLCAxXTtcblxuICAgICAgICByZXR1cm4gZ2V0Rm92QWRqdXN0ZWRGb2dSYW5nZSh0aGlzLnN0YXRlLCBmb3YpO1xuICAgIH1cblxuICAgIHVwZGF0ZVRyYW5zaXRpb25zKHBhcmFtZXRlcnM6IFRyYW5zaXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25pbmcgPSB0aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQocGFyYW1ldGVycywgdGhpcy5fdHJhbnNpdGlvbmluZyk7XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpO1xuICAgIH1cblxuICAgIHJlY2FsY3VsYXRlKHBhcmFtZXRlcnM6IEV2YWx1YXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBfdmFsaWRhdGUodmFsaWRhdGU6IEZ1bmN0aW9uLCB2YWx1ZTogbWl4ZWQsIG9wdGlvbnM/OiB7dmFsaWRhdGU/OiBib29sZWFufSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnZhbGlkYXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsIHZhbGlkYXRlLmNhbGwodmFsaWRhdGVTdHlsZSwgZXh0ZW5kKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgc3R5bGU6IHtnbHlwaHM6IHRydWUsIHNwcml0ZTogdHJ1ZX0sXG4gICAgICAgICAgICBzdHlsZVNwZWNcbiAgICAgICAgfSkpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvZztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7dW5pcXVlSWQsIGFzeW5jQWxsfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IEFjdG9yIGZyb20gJy4vYWN0b3IuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSBXb3JrZXJQb29sIGZyb20gJy4vd29ya2VyX3Bvb2wuanMnO1xuXG4vKipcbiAqIFJlc3BvbnNpYmxlIGZvciBzZW5kaW5nIG1lc3NhZ2VzIGZyb20gYSB7QGxpbmsgU291cmNlfSB0byBhbiBhc3NvY2lhdGVkXG4gKiB7QGxpbmsgV29ya2VyU291cmNlfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBEaXNwYXRjaGVyIHtcbiAgICB3b3JrZXJQb29sOiBXb3JrZXJQb29sO1xuICAgIGFjdG9yczogQXJyYXk8QWN0b3I+O1xuICAgIGN1cnJlbnRBY3RvcjogbnVtYmVyO1xuICAgIGlkOiBudW1iZXI7XG4gICAgcmVhZHk6IGJvb2xlYW47XG5cbiAgICAvLyBleHBvc2VkIHRvIGFsbG93IHN0dWJiaW5nIGluIHVuaXQgdGVzdHNcbiAgICBzdGF0aWMgQWN0b3I6IENsYXNzPEFjdG9yPjtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmtlclBvb2w6IFdvcmtlclBvb2wsIHBhcmVudDogYW55KSB7XG4gICAgICAgIHRoaXMud29ya2VyUG9vbCA9IHdvcmtlclBvb2w7XG4gICAgICAgIHRoaXMuYWN0b3JzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudEFjdG9yID0gMDtcbiAgICAgICAgdGhpcy5pZCA9IHVuaXF1ZUlkKCk7XG4gICAgICAgIGNvbnN0IHdvcmtlcnMgPSB0aGlzLndvcmtlclBvb2wuYWNxdWlyZSh0aGlzLmlkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB3b3JrZXIgPSB3b3JrZXJzW2ldO1xuICAgICAgICAgICAgY29uc3QgYWN0b3IgPSBuZXcgRGlzcGF0Y2hlci5BY3Rvcih3b3JrZXIsIHBhcmVudCwgdGhpcy5pZCk7XG4gICAgICAgICAgICBhY3Rvci5uYW1lID0gYFdvcmtlciAke2l9YDtcbiAgICAgICAgICAgIHRoaXMuYWN0b3JzLnB1c2goYWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydCh0aGlzLmFjdG9ycy5sZW5ndGgpO1xuXG4gICAgICAgIC8vIHRyYWNrIHdoZXRoZXIgYWxsIHdvcmtlcnMgYXJlIGluc3RhbnRpYXRlZCBhbmQgcmVhZHkgdG8gcmVjZWl2ZSBtZXNzYWdlcztcbiAgICAgICAgLy8gdXNlZCBmb3Igb3B0aW1pemF0aW9ucyBvbiBpbml0aWFsIG1hcCBsb2FkXG4gICAgICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5icm9hZGNhc3QoJ2NoZWNrSWZSZWFkeScsIG51bGwsICgpID0+IHsgdGhpcy5yZWFkeSA9IHRydWU7IH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJyb2FkY2FzdCBhIG1lc3NhZ2UgdG8gYWxsIFdvcmtlcnMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBicm9hZGNhc3QodHlwZTogc3RyaW5nLCBkYXRhOiBtaXhlZCwgY2I/OiBGdW5jdGlvbikge1xuICAgICAgICBhc3NlcnQodGhpcy5hY3RvcnMubGVuZ3RoKTtcbiAgICAgICAgY2IgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgYXN5bmNBbGwodGhpcy5hY3RvcnMsIChhY3RvciwgZG9uZSkgPT4ge1xuICAgICAgICAgICAgYWN0b3Iuc2VuZCh0eXBlLCBkYXRhLCBkb25lKTtcbiAgICAgICAgfSwgY2IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjcXVpcmVzIGFuIGFjdG9yIHRvIGRpc3BhdGNoIG1lc3NhZ2VzIHRvLiBUaGUgYWN0b3JzIGFyZSBkaXN0cmlidXRlZCBpbiByb3VuZC1yb2JpbiBmYXNoaW9uLlxuICAgICAqIEByZXR1cm5zIHtBY3Rvcn0gQW4gYWN0b3Igb2JqZWN0IGJhY2tlZCBieSBhIHdlYiB3b3JrZXIgZm9yIHByb2Nlc3NpbmcgbWVzc2FnZXMuXG4gICAgICovXG4gICAgZ2V0QWN0b3IoKTogQWN0b3Ige1xuICAgICAgICBhc3NlcnQodGhpcy5hY3RvcnMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50QWN0b3IgPSAodGhpcy5jdXJyZW50QWN0b3IgKyAxKSAlIHRoaXMuYWN0b3JzLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0b3JzW3RoaXMuY3VycmVudEFjdG9yXTtcbiAgICB9XG5cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuYWN0b3JzLmZvckVhY2goKGFjdG9yKSA9PiB7IGFjdG9yLnJlbW92ZSgpOyB9KTtcbiAgICAgICAgdGhpcy5hY3RvcnMgPSBbXTtcbiAgICAgICAgdGhpcy53b3JrZXJQb29sLnJlbGVhc2UodGhpcy5pZCk7XG4gICAgfVxufVxuXG5EaXNwYXRjaGVyLkFjdG9yID0gQWN0b3I7XG5cbmV4cG9ydCBkZWZhdWx0IERpc3BhdGNoZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge21hdDJ9IGZyb20gJ2dsLW1hdHJpeCc7XG5cbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQuanMnO1xuXG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkLmpzJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB0eXBlIHtUaWxlVHJhbnNmb3JtfSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi90aWxlX3RyYW5zZm9ybS5qcyc7XG5cbi8qKlxuICogQ29udmVydHMgYSBwaXhlbCB2YWx1ZSBhdCBhIHRoZSBnaXZlbiB6b29tIGxldmVsIHRvIHRpbGUgdW5pdHMuXG4gKlxuICogVGhlIHNoYWRlcnMgbW9zdGx5IGNhbGN1bGF0ZSBldmVyeXRoaW5nIGluIHRpbGUgdW5pdHMgc28gc3R5bGVcbiAqIHByb3BlcnRpZXMgbmVlZCB0byBiZSBjb252ZXJ0ZWQgZnJvbSBwaXhlbHMgdG8gdGlsZSB1bml0cyB1c2luZyB0aGlzLlxuICpcbiAqIEZvciBleGFtcGxlLCBhIHRyYW5zbGF0aW9uIGJ5IDMwIHBpeGVscyBhdCB6b29tIDYuNSB3aWxsIGJlIGFcbiAqIHRyYW5zbGF0aW9uIGJ5IHBpeGVsc1RvVGlsZVVuaXRzKDMwLCA2LjUpIHRpbGUgdW5pdHMuXG4gKlxuICogQHJldHVybnMgdmFsdWUgaW4gdGlsZSB1bml0c1xuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odGlsZTogaW50ZXJmYWNlIHt0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHRpbGVTaXplOiBudW1iZXJ9LCBwaXhlbFZhbHVlOiBudW1iZXIsIHo6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHBpeGVsVmFsdWUgKiAoRVhURU5UIC8gKHRpbGUudGlsZVNpemUgKiBNYXRoLnBvdygyLCB6IC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0aWxlOiBpbnRlcmZhY2Uge3RpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgdGlsZVNpemU6IG51bWJlciwgK3RpbGVUcmFuc2Zvcm06IFRpbGVUcmFuc2Zvcm19LCB0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IEZsb2F0MzJBcnJheSB7XG4gICAgY29uc3Qge3NjYWxlfSA9IHRpbGUudGlsZVRyYW5zZm9ybTtcbiAgICBjb25zdCBzID0gc2NhbGUgKiBFWFRFTlQgLyAodGlsZS50aWxlU2l6ZSAqIE1hdGgucG93KDIsIHRyYW5zZm9ybS56b29tIC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFogKyB0aWxlLnRpbGVJRC5jYW5vbmljYWwueikpO1xuICAgIHJldHVybiBtYXQyLnNjYWxlKG5ldyBGbG9hdDMyQXJyYXkoNCksIHRyYW5zZm9ybS5pbnZlcnNlQWRqdXN0bWVudE1hdHJpeCwgW3MsIHNdKTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7Z2V0Qm91bmRzLCBjbGFtcCwgcG9seWdvbml6ZUJvdW5kcywgYnVmZmVyQ29udmV4UG9seWdvbn0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7cG9seWdvbkludGVyc2VjdHNCb3gsIHBvbHlnb25Db250YWluc1BvaW50fSBmcm9tICcuLi91dGlsL2ludGVyc2VjdGlvbl90ZXN0cy5qcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50LmpzJztcbmltcG9ydCB0eXBlIHtQb2ludExpa2V9IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZS5qcyc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzLmpzJztcbmltcG9ydCB7dmVjMywgdmVjNCwgbWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7UmF5fSBmcm9tICcuLi91dGlsL3ByaW1pdGl2ZXMuanMnO1xuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSwge21lcmNhdG9yWGZyb21Mbmd9IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQge2dldFRpbGVQb2ludCwgZ2V0VGlsZVZlYzN9IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3RpbGVfdHJhbnNmb3JtLmpzJztcbmltcG9ydCByZXNhbXBsZSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9yZXNhbXBsZS5qcyc7XG5pbXBvcnQge0dMT0JFX1JBRElVU30gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5pbXBvcnQge251bWJlciBhcyBpbnRlcnBvbGF0ZX0gZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2ludGVycG9sYXRlLmpzJztcblxudHlwZSBDYWNoZWRQb2x5Z29uID0ge1xuICAgIC8vIFF1ZXJ5IHJlY3RhbmdsZSBwcm9qZWN0ZWQgb24gdGhlIG1hcCBwbGFuZVxuICAgIHBvbHlnb246IE1lcmNhdG9yQ29vcmRpbmF0ZVtdO1xuXG4gICAgLy8gQSBmbGFnIHRlbGxpbmd3aGV0aGVyIHRoZSBxdWVyeSBwb2x5Z29uIG1pZ2h0IHNwYW4gYWNyb3NzIG1lcmNhdG9yIGJvdW5kYXJpZXMgWzAsIDFdXG4gICAgdW53cmFwcGVkOiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBBIGRhdGEtY2xhc3MgdGhhdCByZXByZXNlbnRzIGEgc2NyZWVuc3BhY2UgcXVlcnkgZnJvbSBgTWFwI3F1ZXJ5UmVuZGVyZWRGZWF0dXJlc2AuXG4gKiBBbGwgdGhlIGludGVybmFsIGdlb21ldHJpZXMgYW5kIGRhdGEgYXJlIGludGVudGVkIHRvIGJlIGltbXV0YWJsZSBhbmQgcmVhZC1vbmx5LlxuICogSXRzIGxpZmV0aW1lIGlzIG9ubHkgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgcXVlcnkgYW5kIGZpeGVkIHN0YXRlIG9mIHRoZSBtYXAgd2hpbGUgdGhlIHF1ZXJ5IGlzIGJlaW5nIHByb2Nlc3NlZC5cbiAqXG4gKiBAY2xhc3MgUXVlcnlHZW9tZXRyeVxuICovXG5leHBvcnQgY2xhc3MgUXVlcnlHZW9tZXRyeSB7XG4gICAgc2NyZWVuQm91bmRzOiBQb2ludFtdO1xuICAgIGNhbWVyYVBvaW50OiBQb2ludDtcbiAgICBzY3JlZW5HZW9tZXRyeTogUG9pbnRbXTtcbiAgICBzY3JlZW5HZW9tZXRyeU1lcmNhdG9yOiBDYWNoZWRQb2x5Z29uO1xuXG4gICAgX3NjcmVlblJheWNhc3RDYWNoZTogeyBbXzogbnVtYmVyXTogQ2FjaGVkUG9seWdvbn07XG4gICAgX2NhbWVyYVJheWNhc3RDYWNoZTogeyBbXzogbnVtYmVyXTogQ2FjaGVkUG9seWdvbn07XG5cbiAgICBpc0Fib3ZlSG9yaXpvbjogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHNjcmVlbkJvdW5kczogUG9pbnRbXSwgY2FtZXJhUG9pbnQ6IFBvaW50LCBhYm92ZUhvcml6b246IGJvb2xlYW4sIHRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XG4gICAgICAgIHRoaXMuc2NyZWVuQm91bmRzID0gc2NyZWVuQm91bmRzO1xuICAgICAgICB0aGlzLmNhbWVyYVBvaW50ID0gY2FtZXJhUG9pbnQ7XG4gICAgICAgIHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5pc0Fib3ZlSG9yaXpvbiA9IGFib3ZlSG9yaXpvbjtcblxuICAgICAgICB0aGlzLnNjcmVlbkdlb21ldHJ5ID0gdGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KDApO1xuICAgICAgICB0aGlzLnNjcmVlbkdlb21ldHJ5TWVyY2F0b3IgPSB0aGlzLl9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKDAsIHRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmFjdG9yeSBtZXRob2QgdG8gaGVscCBjb250cnVjdCBhbiBpbnN0YW5jZSAgd2hpbGUgYWNjb3VudGluZyBmb3IgY3VycmVudCBtYXAgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsoUG9pbnRMaWtlIHwgW1BvaW50TGlrZSwgUG9pbnRMaWtlXSl9IGdlb21ldHJ5IFRoZSBxdWVyeSBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge1RyYW5zZm9ybX0gdHJhbnNmb3JtIFRoZSBjdXJyZW50IG1hcCB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMge1F1ZXJ5R2VvbWV0cnl9IEFuIGluc3RhbmNlIG9mIHRoZSBRdWVyeUdlb21ldHJ5IGNsYXNzLlxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVGcm9tU2NyZWVuUG9pbnRzKGdlb21ldHJ5OiBQb2ludExpa2UgfCBbUG9pbnRMaWtlLCBQb2ludExpa2VdLCB0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IFF1ZXJ5R2VvbWV0cnkge1xuICAgICAgICBsZXQgc2NyZWVuR2VvbWV0cnk7XG4gICAgICAgIGxldCBhYm92ZUhvcml6b247XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZTogRmxvdyBjYW4ndCByZWZpbmUgdGhhdCB0aGlzIHdpbGwgYmUgUG9pbnRMaWtlIGJ1dCB3ZSBjYW5cbiAgICAgICAgaWYgKGdlb21ldHJ5IGluc3RhbmNlb2YgUG9pbnQgfHwgdHlwZW9mIGdlb21ldHJ5WzBdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgY29uc3QgcHQgPSBQb2ludC5jb252ZXJ0KGdlb21ldHJ5KTtcbiAgICAgICAgICAgIHNjcmVlbkdlb21ldHJ5ID0gW3B0XTtcbiAgICAgICAgICAgIGFib3ZlSG9yaXpvbiA9IHRyYW5zZm9ybS5pc1BvaW50QWJvdmVIb3Jpem9uKHB0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgIGNvbnN0IHRsID0gUG9pbnQuY29udmVydChnZW9tZXRyeVswXSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICBjb25zdCBiciA9IFBvaW50LmNvbnZlcnQoZ2VvbWV0cnlbMV0pO1xuICAgICAgICAgICAgc2NyZWVuR2VvbWV0cnkgPSBbdGwsIGJyXTtcbiAgICAgICAgICAgIGFib3ZlSG9yaXpvbiA9IHBvbHlnb25pemVCb3VuZHModGwsIGJyKS5ldmVyeSgocCkgPT4gdHJhbnNmb3JtLmlzUG9pbnRBYm92ZUhvcml6b24ocCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeUdlb21ldHJ5KHNjcmVlbkdlb21ldHJ5LCB0cmFuc2Zvcm0uZ2V0Q2FtZXJhUG9pbnQoKSwgYWJvdmVIb3Jpem9uLCB0cmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgaW5pdGlhbCBxdWVyeSBieSB0aGUgdXNlciB3YXMgYSBzaW5nbGUgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGluaXRpYWwgcXVlcnkgZ2VvbWV0cnkgd2FzIGEgc2luZ2xlIHBvaW50LlxuICAgICAqL1xuICAgIGlzUG9pbnRRdWVyeSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aCA9PT0gMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEdWUgdG8gZGF0YS1kcml2ZW4gc3R5bGluZyBmZWF0dXJlcyBkbyBub3QgdW5pZm9ybSBzaXplKGVnIGBjaXJjbGUtcmFkaXVzYCkgYW5kIGNhbiBiZSBvZmZzZXQgZGlmZmVybnRseVxuICAgICAqIGZyb20gdGhlaXIgb3JpZ2luYWwgbG9jYXRpb24oZm9yIGV4YW1wbGUgd2l0aCBgKi10cmFuc2xhdGVgKS4gVGhpcyBtZWFucyB3ZSBoYXZlIHRvIGV4cGFuZCBvdXIgcXVlcnkgcmVnaW9uIGZvclxuICAgICAqIGVhY2ggdGlsZSB0byBhY2NvdW50IGZvciB2YXJpYXRpb24gaW4gdGhlc2UgcHJvcGVydGllcy5cbiAgICAgKiBFYWNoIHRpbGUgY2FsY3VsYXRlcyBhIHRpbGUgbGV2ZWwgbWF4IHBhZGRpbmcgdmFsdWUgKGluIHNjcmVlbnNwYWNlIHBpeGVscykgd2hlbiBpdHMgcGFyc2VkLCB0aGlzIGZ1bmN0aW9uXG4gICAgICogbGV0cyB1cyBjYWxjdWxhdGUgYSBidWZmZXJlZCB2ZXJzaW9uIG9mIHRoZSBzY3JlZW5zcGFjZSBxdWVyeSBnZW9tZXRyeSBmb3IgZWFjaCB0aWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJ1ZmZlciBUaGUgdGlsZSBwYWRkaW5nIGluIHNjcmVlbnNwYWNlIHBpeGVscy5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnRbXX0gVGhlIGJ1ZmZlcmVkIHF1ZXJ5IGdlb21ldHJ5LlxuICAgICAqL1xuICAgIGJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkoYnVmZmVyOiBudW1iZXIpOiBQb2ludFtdIHtcbiAgICAgICAgcmV0dXJuIHBvbHlnb25pemVCb3VuZHMoXG4gICAgICAgICAgICB0aGlzLnNjcmVlbkJvdW5kc1swXSxcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aCA9PT0gMSA/IHRoaXMuc2NyZWVuQm91bmRzWzBdIDogdGhpcy5zY3JlZW5Cb3VuZHNbMV0sXG4gICAgICAgICAgICBidWZmZXJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBtYXAgaXMgcGl0Y2hlZCwgc29tZSBvZiB0aGUgM0QgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgYSBxdWVyeSB3aWxsIG5vdCBpbnRlcnNlY3RcbiAgICAgKiB0aGUgcXVlcnkgYXQgdGhlIHN1cmZhY2Ugb2YgdGhlIGVhcnRoLiBJbnN0ZWFkIHRoZSBmZWF0dXJlIG1heSBiZSBjbG9zZXIgYW5kIG9ubHkgaW50ZXJzZWN0XG4gICAgICogdGhlIHF1ZXJ5IGJlY2F1c2UgaXQgZXh0cnVkZXMgaW50byB0aGUgYWlyLlxuICAgICAqXG4gICAgICogVGhpcyByZXR1cm5zIGEgZ2VvbWV0cnkgdGhhdCBpcyBhIGNvbnZleCBwb2x5Z29uIHRoYXQgZW5jb21wYXNzZXMgdGhlIHF1ZXJ5IGZydXN0dW0gYW5kIHRoZSBwb2ludCB1bmRlcm5lYXRoIHRoZSBjYW1lcmEuXG4gICAgICogU2ltaWxhciB0byBgYnVmZmVyZWRTY3JlZW5HZW9tZXRyeWAsIGJ1ZmZlcmluZyBpcyBhZGRlZCB0byBhY2NvdW50IGZvciB2YXJpYXRpb24gaW4gcGFpbnQgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIENhc2UgMTogcG9pbnQgdW5kZXJuZWF0aCBjYW1lcmEgaXMgZXhhY3RseSBiZWhpbmQgcXVlcnkgdm9sdW1lXG4gICAgICogICAgICAgICAgICAgICstLS0tLS0tLS0tK1xuICAgICAqICAgICAgICAgICAgICB8ICAgICAgICAgIHxcbiAgICAgKiAgICAgICAgICAgICAgfCAgICAgICAgICB8XG4gICAgICogICAgICAgICAgICAgIHwgICAgICAgICAgfFxuICAgICAqICAgICAgICAgICAgICArICAgICAgICAgICtcbiAgICAgKiAgICAgICAgICAgICAgIFggICAgICAgIFhcbiAgICAgKiAgICAgICAgICAgICAgICBYICAgICAgWFxuICAgICAqICAgICAgICAgICAgICAgICBYICAgIFhcbiAgICAgKiAgICAgICAgICAgICAgICAgIFggIFhcbiAgICAgKiAgICAgICAgICAgICAgICAgICBYWC5cbiAgICAgKlxuICAgICAqIENhc2UgMjogcG9pbnQgaXMgYmVoaW5kIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgKiAgICAgICAgICAgICAgKy0tLS0tLS0tLS0rXG4gICAgICogICAgICAgICAgICAgIHwgICAgICAgICAgWFxuICAgICAqICAgICAgICAgICAgICB8ICAgICAgICAgICBYXG4gICAgICogICAgICAgICAgICAgIHwgICAgICAgICAgIFhYXG4gICAgICogICAgICAgICAgICAgICsgICAgICAgICAgICBYXG4gICAgICogICAgICAgICAgICAgIFhYWCAgICAgICAgICBYWFxuICAgICAqICAgICAgICAgICAgICAgICBYWFhYICAgICAgIFhcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgWFhYICAgICBYWFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgWFggICBYXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBYWFguXG4gICAgICpcbiAgICAgKiBDYXNlIDM6IHBvaW50IGlzIGJlaGluZCBhbmQgdG8gdGhlIGxlZnRcbiAgICAgKiAgICAgICAgICAgICAgKy0tLS0tLS0tLS0rXG4gICAgICogICAgICAgICAgICAgWCAgICAgICAgICAgfFxuICAgICAqICAgICAgICAgICAgIFggICAgICAgICAgIHxcbiAgICAgKiAgICAgICAgICAgIFhYICAgICAgICAgICB8XG4gICAgICogICAgICAgICAgICBYICAgICAgICAgICAgK1xuICAgICAqICAgICAgICAgICBYICAgICAgICAgIFhYWFhcbiAgICAgKiAgICAgICAgICBYWCAgICAgICBYWFhcbiAgICAgKiAgICAgICAgICBYICAgIFhYWFhcbiAgICAgKiAgICAgICAgIFggWFhYWFxuICAgICAqICAgICAgICAgWFhYLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJ1ZmZlciBUaGUgdGlsZSBwYWRkaW5nIGluIHNjcmVlbnNwYWNlIHBpeGVscy5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnRbXX0gVGhlIGJ1ZmZlcmVkIHF1ZXJ5IGdlb21ldHJ5LlxuICAgICAqL1xuICAgIGJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnkoYnVmZmVyOiBudW1iZXIpOiBQb2ludFtdIHtcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5zY3JlZW5Cb3VuZHNbMF07XG4gICAgICAgIGNvbnN0IG1heCA9IHRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aCA9PT0gMSA/IHRoaXMuc2NyZWVuQm91bmRzWzBdLmFkZChuZXcgUG9pbnQoMSwgMSkpIDogdGhpcy5zY3JlZW5Cb3VuZHNbMV07XG4gICAgICAgIGNvbnN0IGNhbWVyYVBvbHlnb24gPSBwb2x5Z29uaXplQm91bmRzKG1pbiwgbWF4LCAwLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gT25seSBuZWVkIHRvIGFjY291bnQgZm9yIHBvaW50IHVuZGVybmVhdGggY2FtZXJhIGlmIGl0cyBiZWhpbmQgcXVlcnkgdm9sdW1lXG4gICAgICAgIGlmICh0aGlzLmNhbWVyYVBvaW50LnkgPiBtYXgueSkge1xuICAgICAgICAgICAgLy9jYXNlIDE6IGluc2VydCBwb2ludCBpbiB0aGUgbWlkZGxlXG4gICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFQb2ludC54ID4gbWluLnggJiYgdGhpcy5jYW1lcmFQb2ludC54IDwgbWF4LngpIHtcbiAgICAgICAgICAgICAgICBjYW1lcmFQb2x5Z29uLnNwbGljZSgzLCAwLCB0aGlzLmNhbWVyYVBvaW50KTtcbiAgICAgICAgICAgIC8vY2FzZSAyOiByZXBsYWNlIGJ0bSByaWdodCBwb2ludFxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbWVyYVBvaW50LnggPj0gbWF4LngpIHtcbiAgICAgICAgICAgICAgICBjYW1lcmFQb2x5Z29uWzJdID0gdGhpcy5jYW1lcmFQb2ludDtcbiAgICAgICAgICAgIC8vY2FzZSAzOiByZXBsYWNlIGJ0bSBsZWZ0IHBvaW50XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FtZXJhUG9pbnQueCA8PSBtaW4ueCkge1xuICAgICAgICAgICAgICAgIGNhbWVyYVBvbHlnb25bM10gPSB0aGlzLmNhbWVyYVBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlckNvbnZleFBvbHlnb24oY2FtZXJhUG9seWdvbiwgYnVmZmVyKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGVzIGEgY29udmV4IHBvbHlnb24gaW4gc2NyZWVuIGNvb3JkaW5hdGVzIHRoYXQgZW5jb21wYXNzZXMgdGhlIHF1ZXJ5IGZydXN0dW0gYW5kXG4gICAgLy8gdGhlIGNhbWVyYSBsb2NhdGlvbiBhdCBnbG9iZSdzIHN1cmZhY2UuIENhbWVyYSBwb2ludCBjYW4gYmUgYXQgYW55IHNpZGUgb2YgdGhlIHF1ZXJ5IHBvbHlnb24gYXNcbiAgICAvLyBvcHBvc2VkIHRvIGBidWZmZXJlZENhbWVyYUdlb21ldHJ5YCB3aGljaCByZXN0cmljdHMgdGhlIGxvY2F0aW9uIHRvIHVuZGVybmVhdGggdGhlIHBvbHlnb24uXG4gICAgYnVmZmVyZWRDYW1lcmFHZW9tZXRyeUdsb2JlKGJ1ZmZlcjogbnVtYmVyKTogUG9pbnRbXSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IHRoaXMuc2NyZWVuQm91bmRzWzBdO1xuICAgICAgICBjb25zdCBtYXggPSB0aGlzLnNjcmVlbkJvdW5kcy5sZW5ndGggPT09IDEgPyB0aGlzLnNjcmVlbkJvdW5kc1swXS5hZGQobmV3IFBvaW50KDEsIDEpKSA6IHRoaXMuc2NyZWVuQm91bmRzWzFdO1xuXG4gICAgICAgIC8vIFBhZGRpbmcgaXMgYWRkZWQgdG8gdGhlIHF1ZXJ5IHBvbHlnb24gYmVmb3JlIGluY2x1c2lvbiBvZiB0aGUgY2FtZXJhIGxvY2F0aW9uLlxuICAgICAgICAvLyBPdGhlcndpc2UgdGhlIGJ1ZmZlcmVkIChuYXJyb3cpIHBvbHlnb24gY291bGQgcGVuZXRyYXRlIHRoZSBnbG9iZSBjcmVhdGluZyBhIGxvdCBvZiBmYWxzZSBwb3NpdGl2ZXNcbiAgICAgICAgY29uc3QgY2FtZXJhUG9seWdvbiA9IHBvbHlnb25pemVCb3VuZHMobWluLCBtYXgsIGJ1ZmZlcik7XG5cbiAgICAgICAgY29uc3QgY2FtUG9zID0gdGhpcy5jYW1lcmFQb2ludC5jbG9uZSgpO1xuICAgICAgICBjb25zdCBjb2x1bW4gPSAoY2FtUG9zLnggPiBtaW4ueCkgKyAoY2FtUG9zLnggPiBtYXgueCk7XG4gICAgICAgIGNvbnN0IHJvdyA9IChjYW1Qb3MueSA+IG1pbi55KSArIChjYW1Qb3MueSA+IG1heC55KTtcbiAgICAgICAgY29uc3Qgc2VjdG9yID0gcm93ICogMyArIGNvbHVtbjtcblxuICAgICAgICBzd2l0Y2ggKHNlY3Rvcikge1xuICAgICAgICBjYXNlIDA6ICAgICAvLyByZXBsYWNlIHRvcC1sZWZ0IHBvaW50IChjbG9zZWQgcG9seWdvbilcbiAgICAgICAgICAgIGNhbWVyYVBvbHlnb25bMF0gPSBjYW1Qb3M7XG4gICAgICAgICAgICBjYW1lcmFQb2x5Z29uWzRdID0gY2FtUG9zLmNsb25lKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOiAgICAgLy8gaW5zZXJ0IHBvaW50IGluIHRoZSBtaWRkbGUgb2YgdG9wLWxlZnQgYW5kIHRvcC1yaWdodFxuICAgICAgICAgICAgY2FtZXJhUG9seWdvbi5zcGxpY2UoMSwgMCwgY2FtUG9zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6ICAgICAvLyByZXBsYWNlIHRvcC1yaWdodCBwb2ludFxuICAgICAgICAgICAgY2FtZXJhUG9seWdvblsxXSA9IGNhbVBvcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6ICAgICAvLyBpbnNlcnQgcG9pbnQgaW4gdGhlIG1pZGRsZSBvZiB0b3AtbGVmdCBhbmQgYm90dG9tLWxlZnRcbiAgICAgICAgICAgIGNhbWVyYVBvbHlnb24uc3BsaWNlKDQsIDAsIGNhbVBvcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OiAgICAgLy8gaW5zZXJ0IHBvaW50IGluIHRoZSBtaWRkbGUgb2YgdG9wLXJpZ2h0IGFuZCBib3R0b20tcmlnaHRcbiAgICAgICAgICAgIGNhbWVyYVBvbHlnb24uc3BsaWNlKDIsIDAsIGNhbVBvcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OiAgICAgLy8gcmVwbGFjZSBib3R0b20tbGVmdCBwb2ludFxuICAgICAgICAgICAgY2FtZXJhUG9seWdvblszXSA9IGNhbVBvcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDc6ICAgICAvLyBpbnNlcnQgcG9pbnQgaW4gdGhlIG1pZGRsZSBvZiBib3R0b20tbGVmdCBhbmQgYm90dG9tLXJpZ2h0XG4gICAgICAgICAgICBjYW1lcmFQb2x5Z29uLnNwbGljZSgzLCAwLCBjYW1Qb3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgODogICAgIC8vIHJlcGxhY2UgYm90dG9tLXJpZ2h0IHBvaW50XG4gICAgICAgICAgICBjYW1lcmFQb2x5Z29uWzJdID0gY2FtUG9zO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FtZXJhUG9seWdvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSB0aWxlIGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBxdWVyeSBnZW9tZXRyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGlsZX0gdGlsZSBUaGUgdGlsZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge1RyYW5zZm9ybX0gdHJhbnNmb3JtIFRoZSBjdXJyZW50IG1hcCB0cmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHtib29sZWFufSB1c2UzRCBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRvIHF1ZXJ5IDNEIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjYW1lcmFXcmFwIEEgd3JhcCB2YWx1ZSBmb3Igb2Zmc2V0dGluZyB0aGUgY2FtZXJhIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHs/VGlsZXNwYWNlUXVlcnlHZW9tZXRyeX0gUmV0dXJucyBgdW5kZWZpbmVkYCBpZiB0aGUgdGlsZSBkb2VzIG5vdCBpbnRlcnNlY3QuXG4gICAgICovXG4gICAgY29udGFpbnNUaWxlKHRpbGU6IFRpbGUsIHRyYW5zZm9ybTogVHJhbnNmb3JtLCB1c2UzRDogYm9vbGVhbiwgY2FtZXJhV3JhcDogbnVtYmVyID0gMCk6ID9UaWxlc3BhY2VRdWVyeUdlb21ldHJ5IHtcbiAgICAgICAgLy8gVGhlIGJ1ZmZlciBhcm91bmQgdGhlIHF1ZXJ5IGdlb21ldHJ5IGlzIGFwcGxpZWQgaW4gc2NyZWVuLXNwYWNlLlxuICAgICAgICAvLyB0cmFuc2Zvcm0uX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwgaXMgdXNlZCB0byBjb21wZW5zYXRlIGFueSBleHRyYSBzY2FsaW5nIGFwcGxpZWQgZnJvbSB0aGUgY3VycmVudGx5IGFjdGl2ZSBwcm9qZWN0aW9uLlxuICAgICAgICAvLyBGbG9hdGluZyBwb2ludCBlcnJvcnMgd2hlbiBwcm9qZWN0aW5nIGludG8gdGlsZXNwYWNlIGNvdWxkIGxlYXZlIGEgZmVhdHVyZVxuICAgICAgICAvLyBvdXRzaWRlIHRoZSBxdWVyeSB2b2x1bWUgZXZlbiBpZiBpdCBsb29rcyBsaWtlIGl0IG92ZXJsYXBzIHZpc3VhbGx5LCBhIDFweCBiaWFzIHZhbHVlIG92ZXJjb21lcyB0aGF0LlxuICAgICAgICBjb25zdCBiaWFzID0gMTtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRpbGUucXVlcnlQYWRkaW5nIC8gdHJhbnNmb3JtLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsICsgYmlhcztcblxuICAgICAgICBjb25zdCBjYWNoZWRRdWVyeSA9IHVzZTNEID9cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcmVkQ2FtZXJhTWVyY2F0b3IocGFkZGluZywgdHJhbnNmb3JtKSA6XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKHBhZGRpbmcsIHRyYW5zZm9ybSk7XG5cbiAgICAgICAgbGV0IHdyYXAgPSB0aWxlLnRpbGVJRC53cmFwICsgKGNhY2hlZFF1ZXJ5LnVud3JhcHBlZCA/IGNhbWVyYVdyYXAgOiAwKTtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnlGb3JUaWxlQ2hlY2sgPSBjYWNoZWRRdWVyeS5wb2x5Z29uLm1hcCgocCkgPT4gZ2V0VGlsZVBvaW50KHRpbGUudGlsZVRyYW5zZm9ybSwgcCwgd3JhcCkpO1xuXG4gICAgICAgIGlmICghcG9seWdvbkludGVyc2VjdHNCb3goZ2VvbWV0cnlGb3JUaWxlQ2hlY2ssIDAsIDAsIEVYVEVOVCwgRVhURU5UKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdyYXAgPSB0aWxlLnRpbGVJRC53cmFwICsgKHRoaXMuc2NyZWVuR2VvbWV0cnlNZXJjYXRvci51bndyYXBwZWQgPyBjYW1lcmFXcmFwIDogMCk7XG4gICAgICAgIGNvbnN0IHRpbGVzcGFjZVZlYzNzID0gdGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yLnBvbHlnb24ubWFwKChwKSA9PiBnZXRUaWxlVmVjMyh0aWxlLnRpbGVUcmFuc2Zvcm0sIHAsIHdyYXApKTtcbiAgICAgICAgY29uc3QgdGlsZXNwYWNlR2VvbWV0cnkgPSB0aWxlc3BhY2VWZWMzcy5tYXAoKHYpID0+IG5ldyBQb2ludCh2WzBdLCB2WzFdKSk7XG5cbiAgICAgICAgY29uc3QgY2FtZXJhTWVyY2F0b3IgPSB0cmFuc2Zvcm0uZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKS5wb3NpdGlvbiB8fCBuZXcgTWVyY2F0b3JDb29yZGluYXRlKDAsIDAsIDApO1xuICAgICAgICBjb25zdCB0aWxlc3BhY2VDYW1lcmFQb3NpdGlvbiA9IGdldFRpbGVWZWMzKHRpbGUudGlsZVRyYW5zZm9ybSwgY2FtZXJhTWVyY2F0b3IsIHdyYXApO1xuICAgICAgICBjb25zdCB0aWxlc3BhY2VSYXlzID0gdGlsZXNwYWNlVmVjM3MubWFwKCh0aWxlVmVjKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkaXIgPSB2ZWMzLnN1Yih0aWxlVmVjLCB0aWxlVmVjLCB0aWxlc3BhY2VDYW1lcmFQb3NpdGlvbik7XG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShkaXIsIGRpcik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJheSh0aWxlc3BhY2VDYW1lcmFQb3NpdGlvbiwgZGlyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHBpeGVsVG9UaWxlVW5pdHNGYWN0b3IgPSBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCB0cmFuc2Zvcm0uem9vbSkgKiB0cmFuc2Zvcm0uX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnk6IHRoaXMsXG4gICAgICAgICAgICB0aWxlc3BhY2VHZW9tZXRyeSxcbiAgICAgICAgICAgIHRpbGVzcGFjZVJheXMsXG4gICAgICAgICAgICBidWZmZXJlZFRpbGVzcGFjZUdlb21ldHJ5OiBnZW9tZXRyeUZvclRpbGVDaGVjayxcbiAgICAgICAgICAgIGJ1ZmZlcmVkVGlsZXNwYWNlQm91bmRzOiBjbGFtcEJvdW5kc1RvVGlsZUV4dGVudHMoZ2V0Qm91bmRzKGdlb21ldHJ5Rm9yVGlsZUNoZWNrKSksXG4gICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgdGlsZUlEOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgIHBpeGVsVG9UaWxlVW5pdHNGYWN0b3JcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGVzZSBtZXRob2RzIGFkZCBjYWNoaW5nIG9uIHRvcCBvZiB0aGUgdGVycmFpbiByYXljYXN0aW5nIHByb3ZpZGVkIGJ5IGBUcmFuc2Zvcm0jcG9pbnRDb29yZGluYXRlM2RgLlxuICAgICAqIFRpbGVzIGNvbWUgd2l0aCBkaWZmZXJlbnQgdmFsdWVzIG9mIHBhZGRpbmcsIGhvd2V2ZXIgaXRzIHZlcnkgbGlrZWx5IHRoYXQgbXVsdGlwbGUgdGlsZXMgc2hhcmUgdGhlIHNhbWUgdmFsdWUgb2YgcGFkZGluZ1xuICAgICAqIGJhc2VkIG9uIHRoZSBzdHlsZS4gSW4gdGhhdCBjYXNlIHdlIHdhbnQgdG8gcmV1c2UgdGhlIHJlc3VsdCBmcm9tIGEgcHJldmlvdXNseSBjb21wdXRlZCB0ZXJyYWluIHJheWNhc3QuXG4gICAgICovXG5cbiAgICBfYnVmZmVyZWRTY3JlZW5NZXJjYXRvcihwYWRkaW5nOiBudW1iZXIsIHRyYW5zZm9ybTogVHJhbnNmb3JtKTogQ2FjaGVkUG9seWdvbiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGNhY2hlS2V5KHBhZGRpbmcpO1xuICAgICAgICBpZiAodGhpcy5fc2NyZWVuUmF5Y2FzdENhY2hlW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBwb2x5OiBDYWNoZWRQb2x5Z29uO1xuXG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICAgICAgICAgIHBvbHkgPSB0aGlzLl9wcm9qZWN0QW5kUmVzYW1wbGUodGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KHBhZGRpbmcpLCB0cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb2x5ID0ge1xuICAgICAgICAgICAgICAgICAgICBwb2x5Z29uOiB0aGlzLmJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkocGFkZGluZykubWFwKChwKSA9PiB0cmFuc2Zvcm0ucG9pbnRDb29yZGluYXRlM0QocCkpLFxuICAgICAgICAgICAgICAgICAgICB1bndyYXBwZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVba2V5XSA9IHBvbHk7XG4gICAgICAgICAgICByZXR1cm4gcG9seTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9idWZmZXJlZENhbWVyYU1lcmNhdG9yKHBhZGRpbmc6IG51bWJlciwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBDYWNoZWRQb2x5Z29uIHtcbiAgICAgICAgY29uc3Qga2V5ID0gY2FjaGVLZXkocGFkZGluZyk7XG4gICAgICAgIGlmICh0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGVba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtrZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHBvbHk6IENhY2hlZFBvbHlnb247XG5cbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICAgICAgcG9seSA9IHRoaXMuX3Byb2plY3RBbmRSZXNhbXBsZSh0aGlzLmJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnlHbG9iZShwYWRkaW5nKSwgdHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9seSA9IHtcbiAgICAgICAgICAgICAgICAgICAgcG9seWdvbjogdGhpcy5idWZmZXJlZENhbWVyYUdlb21ldHJ5KHBhZGRpbmcpLm1hcCgocCkgPT4gdHJhbnNmb3JtLnBvaW50Q29vcmRpbmF0ZTNEKHApKSxcbiAgICAgICAgICAgICAgICAgICAgdW53cmFwcGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlW2tleV0gPSBwb2x5O1xuICAgICAgICAgICAgcmV0dXJuIHBvbHk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHJvamVjdEFuZFJlc2FtcGxlKHBvbHlnb246IFBvaW50W10sIHRyYW5zZm9ybTogVHJhbnNmb3JtKTogQ2FjaGVkUG9seWdvbiB7XG4gICAgICAgIC8vIEhhbmRsZSBhIHNwZWNpYWwgY2FzZSB3aGVyZSBlaXRoZXIgbm9ydGggb3Igc291dGggcG9sZSBpcyBpbnNpZGUgdGhlIHF1ZXJ5IHBvbHlnb25cbiAgICAgICAgY29uc3QgcG9sZVBvbHlnb246ID9DYWNoZWRQb2x5Z29uID0gcHJvamVjdFBvbHlnb25Db3ZlcmluZ1BvbGVzKHBvbHlnb24sIHRyYW5zZm9ybSk7XG5cbiAgICAgICAgaWYgKHBvbGVQb2x5Z29uKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9sZVBvbHlnb247XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXNhbXBsZSB0aGUgcG9seWdvbiBieSBhZGRpbmcgaW50ZXJtZWRpYXRlIHBvaW50cyBzbyB0aGF0IHN0cmFpZ2h0IGxpbmVzIG9mIHRoZSBzaGFwZVxuICAgICAgICAvLyBhcmUgY29ycmVjdGx5IHByb2plY3RlZCBvbiB0aGUgc3VyZmFjZSBvZiB0aGUgZ2xvYmUuXG4gICAgICAgIGNvbnN0IHJlc2FtcGxlZCA9IHVud3JhcFF1ZXJ5UG9seWdvbihyZXNhbXBsZVBvbHlnb24ocG9seWdvbiwgdHJhbnNmb3JtKS5tYXAocCA9PiBuZXcgUG9pbnQod3JhcChwLngpLCBwLnkpKSwgdHJhbnNmb3JtKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9seWdvbjogcmVzYW1wbGVkLnBvbHlnb24ubWFwKHAgPT4gbmV3IE1lcmNhdG9yQ29vcmRpbmF0ZShwLngsIHAueSkpLFxuICAgICAgICAgICAgdW53cmFwcGVkOiByZXNhbXBsZWQudW53cmFwcGVkXG4gICAgICAgIH07XG4gICAgfVxufVxuXG4vLyBDaGVja3Mgd2hldGhlciB0aGUgcHJvdmlkZWQgcG9seWdvbiBpcyBjcm9zc2luZyB0aGUgYW50aW1lcmlkaWFuIGxpbmUgYW5kIHVud3JhcHMgaXQgaWYgbmVjZXNzYXJ5LlxuLy8gVGhlIHJlc3VsdGluZyBwb2x5Z29uIGlzIGNvbnRpbnVvdXNcbmV4cG9ydCBmdW5jdGlvbiB1bndyYXBRdWVyeVBvbHlnb24ocG9seWdvbjogUG9pbnRbXSwgdHI6IFRyYW5zZm9ybSk6IHtwb2x5Z29uOiBQb2ludFtdLCB1bndyYXBwZWQ6IGJvb2xlYW59IHtcbiAgICBsZXQgdW53cmFwcGVkID0gZmFsc2U7XG5cbiAgICAvLyBUcmF2ZXJzZSBlZGdlcyBvZiB0aGUgcG9seWdvbiBhbmQgdW53cmFwIHZlcnRpY2VzIHRoYXQgYXJlIGNyb3NzaW5nIHRoZSBhbnRpbWVyaWRpYW4uXG4gICAgbGV0IG1heFggPSAtSW5maW5pdHk7XG4gICAgbGV0IHN0YXJ0RWRnZSA9IDA7XG5cbiAgICBmb3IgKGxldCBlID0gMDsgZSA8IHBvbHlnb24ubGVuZ3RoIC0gMTsgZSsrKSB7XG4gICAgICAgIGlmIChwb2x5Z29uW2VdLnggPiBtYXhYKSB7XG4gICAgICAgICAgICBtYXhYID0gcG9seWdvbltlXS54O1xuICAgICAgICAgICAgc3RhcnRFZGdlID0gZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9seWdvbi5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWRnZSA9IChzdGFydEVkZ2UgKyBpKSAlIChwb2x5Z29uLmxlbmd0aCAtIDEpO1xuICAgICAgICBjb25zdCBhID0gcG9seWdvbltlZGdlXTtcbiAgICAgICAgY29uc3QgYiA9IHBvbHlnb25bZWRnZSArIDFdO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhhLnggLSBiLngpID4gMC41KSB7XG4gICAgICAgICAgICAvLyBBIHN0cmFpZ2h0IGxpbmUgZHJhd24gb24gdGhlIGdsb2JlIGNhbid0IGhhdmUgbG9uZ2VyIGxlbmd0aCB0aGFuIDAuNSBvbiB0aGUgeC1heGlzXG4gICAgICAgICAgICAvLyB3aXRob3V0IGNyb3NzaW5nIHRoZSBhbnRpbWVyaWRpYW5cbiAgICAgICAgICAgIGlmIChhLnggPCBiLngpIHtcbiAgICAgICAgICAgICAgICBhLnggKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmIChlZGdlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGFuZCBsYXN0IHBvaW50cyBhcmUgZHVwbGljYXRlIGZvciBjbG9zZWQgcG9seWdvbnNcbiAgICAgICAgICAgICAgICAgICAgcG9seWdvbltwb2x5Z29uLmxlbmd0aCAtIDFdLnggKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGIueCArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVkZ2UgKyAxID09PSBwb2x5Z29uLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9seWdvblswXS54ICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1bndyYXBwZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2FtZXJhWCA9IG1lcmNhdG9yWGZyb21MbmcodHIuY2VudGVyLmxuZyk7XG4gICAgaWYgKHVud3JhcHBlZCAmJiBjYW1lcmFYIDwgTWF0aC5hYnMoY2FtZXJhWCAtIDEpKSB7XG4gICAgICAgIHBvbHlnb24uZm9yRWFjaChwID0+IHsgcC54IC09IDE7IH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHBvbHlnb24sXG4gICAgICAgIHVud3JhcHBlZFxuICAgIH07XG59XG5cbi8vIFNwZWNpYWwgZnVuY3Rpb24gZm9yIGhhbmRsaW5nIHNjZW5hcmlvcyB3aGVyZSBvbmUgb2YgdGhlIHBvbGVzIGlzIGluc2lkZSB0aGUgcXVlcnkgcG9seWdvbi5cbi8vIEZpbmRpbmcgcHJvamVjdGlvbiBvZiB0aGVzZSBraW5kIG9mIHBvbHlnb25zIGlzIG1vcmUgaW52b2x2aW5nIGFzIHByb2plY3RpbmcganVzdCB0aGUgY29ybmVycyB3aWxsXG4vLyBwcm9kdWNlIGEgZGVnZW5lcmF0ZSAoc2VsZi1pbnRlcnNlY3RpbmcsIG5vbi1jb250aW51b3VzLCBldGMuKSBwb2x5Z29uIGluIG1lcmNhdG9yIGNvb3JkaW5hdGVzXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdFBvbHlnb25Db3ZlcmluZ1BvbGVzKHBvbHlnb246IFBvaW50W10sIHRyOiBUcmFuc2Zvcm0pOiA/Q2FjaGVkUG9seWdvbiB7XG4gICAgY29uc3QgbWF0cml4ID0gbWF0NC5tdWx0aXBseShbXSwgdHIucGl4ZWxNYXRyaXgsIHRyLmdsb2JlTWF0cml4KTtcblxuICAgIC8vIFRyYW5zZm9ybSBub3J0aCBhbmQgc291dGggcG9sZSBjb29yZGluYXRlcyB0byB0aGUgc2NyZWVuIHRvIHNlZSBpZiB0aGV5J3JlXG4gICAgLy8gaW5zaWRlIHRoZSBxdWVyeSBwb2x5Z29uXG4gICAgY29uc3Qgbm9ydGhQb2xlID0gWzAsIC1HTE9CRV9SQURJVVMsIDAsIDFdO1xuICAgIGNvbnN0IHNvdXRoUG9sZSA9IFswLCBHTE9CRV9SQURJVVMsIDAsIDFdO1xuICAgIGNvbnN0IGNlbnRlciA9IFswLCAwLCAwLCAxXTtcblxuICAgIHZlYzQudHJhbnNmb3JtTWF0NChub3J0aFBvbGUsIG5vcnRoUG9sZSwgbWF0cml4KTtcbiAgICB2ZWM0LnRyYW5zZm9ybU1hdDQoc291dGhQb2xlLCBzb3V0aFBvbGUsIG1hdHJpeCk7XG4gICAgdmVjNC50cmFuc2Zvcm1NYXQ0KGNlbnRlciwgY2VudGVyLCBtYXRyaXgpO1xuXG4gICAgY29uc3Qgc2NyZWVuTnAgPSBuZXcgUG9pbnQobm9ydGhQb2xlWzBdIC8gbm9ydGhQb2xlWzNdLCBub3J0aFBvbGVbMV0gLyBub3J0aFBvbGVbM10pO1xuICAgIGNvbnN0IHNjcmVlblNwID0gbmV3IFBvaW50KHNvdXRoUG9sZVswXSAvIHNvdXRoUG9sZVszXSwgc291dGhQb2xlWzFdIC8gc291dGhQb2xlWzNdKTtcbiAgICBjb25zdCBjb250YWluc05wID0gcG9seWdvbkNvbnRhaW5zUG9pbnQocG9seWdvbiwgc2NyZWVuTnApICYmIG5vcnRoUG9sZVszXSA8IGNlbnRlclszXTtcbiAgICBjb25zdCBjb250YWluc1NwID0gcG9seWdvbkNvbnRhaW5zUG9pbnQocG9seWdvbiwgc2NyZWVuU3ApICYmIHNvdXRoUG9sZVszXSA8IGNlbnRlclszXTtcblxuICAgIGlmICghY29udGFpbnNOcCAmJiAhY29udGFpbnNTcCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBQcm9qZWN0IGNvcm5lciBwb2ludHMgb2YgdGhlIHBvbHlnb24gYW5kIHRyYXZlcnNlIHRoZSByaW5nIHRvIGZpbmQgdGhlIGVkZ2UgdGhhdCdzXG4gICAgLy8gY3Jvc3NpbmcgdGhlIHplcm8gbG9uZ2l0dWRlIGJvcmRlci5cbiAgICBjb25zdCByZXN1bHQgPSBmaW5kRWRnZUNyb3NzaW5nQW50aW1lcmlkaWFuKHBvbHlnb24sIHRyLCBjb250YWluc05wID8gLTEgOiAxKTtcblxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFN0YXJ0IGNvbnN0cnVjdGluZyB0aGUgbmV3IHBvbHlnb24gYnkgcmVzYW1wbGluZyBlZGdlcyB1bnRpbCB0aGUgY3Jvc3NpbmcgZWRnZVxuICAgIGNvbnN0IHtpZHgsIHR9ID0gcmVzdWx0O1xuICAgIGxldCBwYXJ0QSA9IGlkeCA+IDEgPyByZXNhbXBsZVBvbHlnb24ocG9seWdvbi5zbGljZSgwLCBpZHgpLCB0cikgOiBbXTtcbiAgICBsZXQgcGFydEIgPSBpZHggPCBwb2x5Z29uLmxlbmd0aCA/IHJlc2FtcGxlUG9seWdvbihwb2x5Z29uLnNsaWNlKGlkeCksIHRyKSA6IFtdO1xuXG4gICAgcGFydEEgPSBwYXJ0QS5tYXAocCA9PiBuZXcgUG9pbnQod3JhcChwLngpLCBwLnkpKTtcbiAgICBwYXJ0QiA9IHBhcnRCLm1hcChwID0+IG5ldyBQb2ludCh3cmFwKHAueCksIHAueSkpO1xuXG4gICAgLy8gUmVzYW1wbGUgZmlyc3Qgc2VjdGlvbiBvZiB0aGUgcmluZyAodXAgdG8gdGhlIGVkZ2UgdGhhdCBjcm9zc2VzIHRoZSAwLWxpbmUpXG4gICAgY29uc3QgcmVzYW1wbGVkID0gWy4uLnBhcnRBXTtcblxuICAgIGlmIChyZXNhbXBsZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlc2FtcGxlZC5wdXNoKHBhcnRCW3BhcnRCLmxlbmd0aCAtIDFdKTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIGxvY2F0aW9uIG9mIHRoZSBjcm9zc2luZyBieSBpbnRlcnBvbGF0aW5nIG1lcmNhdG9yIGNvb3JkaW5hdGVzLlxuICAgIC8vIFRoaXMgd2lsbCBwcm9kdWNlIHNsaWdodGx5IG9mZiByZXN1bHQgYXMgdGhlIGNyb3NzaW5nIGVkZ2UgaXMgbm90IGFjdHVhbGx5XG4gICAgLy8gbGluZWFyIG9uIHRoZSBnbG9iZS5cbiAgICBjb25zdCBhID0gcmVzYW1wbGVkW3Jlc2FtcGxlZC5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBiID0gcGFydEIubGVuZ3RoID09PSAwID8gcGFydEFbMF0gOiBwYXJ0QlswXTtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25ZID0gaW50ZXJwb2xhdGUoYS55LCBiLnksIHQpO1xuXG4gICAgbGV0IG1pZDtcblxuICAgIGlmIChjb250YWluc05wKSB7XG4gICAgICAgIG1pZCA9IFtcbiAgICAgICAgICAgIG5ldyBQb2ludCgwLCBpbnRlcnNlY3Rpb25ZKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCgwLCAwKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCgxLCAwKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCgxLCBpbnRlcnNlY3Rpb25ZKVxuICAgICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1pZCA9IFtcbiAgICAgICAgICAgIG5ldyBQb2ludCgxLCBpbnRlcnNlY3Rpb25ZKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCgxLCAxKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCgwLCAxKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCgwLCBpbnRlcnNlY3Rpb25ZKVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIHJlc2FtcGxlZC5wdXNoKC4uLm1pZCk7XG5cbiAgICAvLyBSZXNhbXBsZSB0byB0aGUgc2Vjb25kIHNlY3Rpb24gb2YgdGhlIHJpbmdcbiAgICBpZiAocGFydEIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlc2FtcGxlZC5wdXNoKHBhcnRBWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXNhbXBsZWQucHVzaCguLi5wYXJ0Qik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9seWdvbjogcmVzYW1wbGVkLm1hcChwID0+IG5ldyBNZXJjYXRvckNvb3JkaW5hdGUocC54LCBwLnkpKSxcbiAgICAgICAgdW53cmFwcGVkOiBmYWxzZVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHJlc2FtcGxlUG9seWdvbihwb2x5Z29uOiBQb2ludFtdLCB0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IFBvaW50W10ge1xuICAgIC8vIENob29zZSBhIHRvbGVyYW5jZSB2YWx1ZSBmb3IgdGhlIHJlc2FtcGxpbmcgbG9naWMgdGhhdCBwcm9kdWNlcyBzdWZmaWNpZW50bHlcbiAgICAvLyBhY2N1cmF0ZSBwb2x5Z29ucyB3aXRob3V0IGNyZWF0aW5nIHRvbyBtYW55IHBvaW50cy4gVGhlIHZhbHVlIDEgLyAyNTYgd2FzIGNob3NlblxuICAgIC8vIGJhc2VkIG9uIGVtcGlyaWNhbCB0ZXN0aW5nXG4gICAgY29uc3QgdG9sZXJhbmNlID0gMS4wIC8gMjU2LjA7XG4gICAgcmV0dXJuIHJlc2FtcGxlKFxuICAgICAgICBwb2x5Z29uLFxuICAgICAgICBwID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1jID0gdHJhbnNmb3JtLnBvaW50Q29vcmRpbmF0ZTNEKHApO1xuICAgICAgICAgICAgcC54ID0gbWMueDtcbiAgICAgICAgICAgIHAueSA9IG1jLnk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvbGVyYW5jZSk7XG59XG5cbmZ1bmN0aW9uIHdyYXAobWVyY2F0b3JYOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBtZXJjYXRvclggPCAwID8gMSArIChtZXJjYXRvclggJSAxKSA6IG1lcmNhdG9yWCAlIDE7XG59XG5cbmZ1bmN0aW9uIGZpbmRFZGdlQ3Jvc3NpbmdBbnRpbWVyaWRpYW4ocG9seWdvbjogUG9pbnRbXSwgdHI6IFRyYW5zZm9ybSwgZGlyZWN0aW9uOiBudW1iZXIpOiA/e2lkeDogbnVtYmVyLCB0OiBudW1iZXJ9IHtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvbHlnb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYSA9IHdyYXAodHIucG9pbnRDb29yZGluYXRlM0QocG9seWdvbltpIC0gMV0pLngpO1xuICAgICAgICBjb25zdCBiID0gd3JhcCh0ci5wb2ludENvb3JkaW5hdGUzRChwb2x5Z29uW2ldKS54KTtcblxuICAgICAgICAvLyBkaXJlY3Rpb24gPCAwOiBtZXJjYXRvciBjb29yZGluYXRlIDAgd2lsbCBiZSBjcm9zc2VkIGZyb20gbGVmdFxuICAgICAgICAvLyBkaXJlY3Rpb24gPiAwOiBtZXJjYXRvciBjb29yZGluYXRlIDEgd2lsbCBiZSBjcm9zc2VkIGZyb20gcmlnaHRcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA8IDApIHtcbiAgICAgICAgICAgIGlmIChhIDwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7aWR4OiBpLCB0OiAtYSAvIChiIC0gMSAtIGEpfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChiIDwgYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7aWR4OiBpLCB0OiAoMSAtIGEpIC8gKGIgKyAxIC0gYSl9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8vUGFkZGluZyBpcyBpbiBzY3JlZW4gcGl4ZWxzIGFuZCBpcyBvbmx5IHVzZWQgYXMgYSBjb2Fyc2UgY2hlY2ssIHNvIDIgZGVjaW1hbCBwbGFjZXMgb2YgcHJlY2lzaW9uIHNob3VsZCBiZSBnb29kIGVub3VnaCBmb3IgYSBjYWNoZS5cbmZ1bmN0aW9uIGNhY2hlS2V5KHBhZGRpbmc6IG51bWJlcik6IG51bWJlciAge1xuICAgIHJldHVybiAocGFkZGluZyAqIDEwMCkgfCAwO1xufVxuXG5leHBvcnQgdHlwZSBUaWxlc3BhY2VRdWVyeUdlb21ldHJ5ID0ge1xuICAgIHF1ZXJ5R2VvbWV0cnk6IFF1ZXJ5R2VvbWV0cnksXG4gICAgdGlsZXNwYWNlR2VvbWV0cnk6IFBvaW50W10sXG4gICAgdGlsZXNwYWNlUmF5czogUmF5W10sXG4gICAgYnVmZmVyZWRUaWxlc3BhY2VHZW9tZXRyeTogUG9pbnRbXSxcbiAgICBidWZmZXJlZFRpbGVzcGFjZUJvdW5kczogeyBtaW46IFBvaW50LCBtYXg6IFBvaW50fSxcbiAgICB0aWxlOiBUaWxlLFxuICAgIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCxcbiAgICBwaXhlbFRvVGlsZVVuaXRzRmFjdG9yOiBudW1iZXJcbn07XG5cbmZ1bmN0aW9uIGNsYW1wQm91bmRzVG9UaWxlRXh0ZW50cyhib3VuZHM6IHttaW46IFBvaW50LCBtYXg6IFBvaW50fSk6IHttaW46IFBvaW50LCBtYXg6IFBvaW50fSB7XG4gICAgYm91bmRzLm1pbi54ID0gY2xhbXAoYm91bmRzLm1pbi54LCAwLCBFWFRFTlQpO1xuICAgIGJvdW5kcy5taW4ueSA9IGNsYW1wKGJvdW5kcy5taW4ueSwgMCwgRVhURU5UKTtcblxuICAgIGJvdW5kcy5tYXgueCA9IGNsYW1wKGJvdW5kcy5tYXgueCwgMCwgRVhURU5UKTtcbiAgICBib3VuZHMubWF4LnkgPSBjbGFtcChib3VuZHMubWF4LnksIDAsIEVYVEVOVCk7XG4gICAgcmV0dXJuIGJvdW5kcztcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7cGljaywgZXh0ZW5kfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuXG5pbXBvcnQge2dldEpTT04sIFJlc291cmNlVHlwZX0gZnJvbSAnLi4vdXRpbC9hamF4LmpzJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5cbmltcG9ydCB0eXBlIHtSZXF1ZXN0TWFuYWdlcn0gZnJvbSAnLi4vdXRpbC9tYXBib3guanMnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjay5qcyc7XG5pbXBvcnQgdHlwZSB7VGlsZUpTT059IGZyb20gJy4uL3R5cGVzL3RpbGVqc29uLmpzJztcbmltcG9ydCB0eXBlIHtDYW5jZWxhYmxlfSBmcm9tICcuLi90eXBlcy9jYW5jZWxhYmxlLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob3B0aW9uczogYW55LCByZXF1ZXN0TWFuYWdlcjogUmVxdWVzdE1hbmFnZXIsIGxhbmd1YWdlOiA/c3RyaW5nLCB3b3JsZHZpZXc6ID9zdHJpbmcsIGNhbGxiYWNrOiBDYWxsYmFjazxUaWxlSlNPTj4pOiBDYW5jZWxhYmxlIHtcbiAgICBjb25zdCBsb2FkZWQgPSBmdW5jdGlvbihlcnI6ID9FcnJvciwgdGlsZUpTT046ID9PYmplY3QpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH0gZWxzZSBpZiAodGlsZUpTT04pIHtcbiAgICAgICAgICAgIC8vIFByZWZlciBUaWxlSlNPTiB0aWxlcywgaWYgYm90aCBVUkwgYW5kIHRpbGVzIG9wdGlvbnMgYXJlIHNldFxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXJsICYmIHRpbGVKU09OLnRpbGVzICYmIG9wdGlvbnMudGlsZXMpIGRlbGV0ZSBvcHRpb25zLnRpbGVzO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IHBpY2soXG4gICAgICAgICAgICAgICAgLy8gZXhwbGljaXQgc291cmNlIG9wdGlvbnMgdGFrZSBwcmVjZWRlbmNlIG92ZXIgVGlsZUpTT05cbiAgICAgICAgICAgICAgICBleHRlbmQodGlsZUpTT04sIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIFsndGlsZXMnLCAnbWluem9vbScsICdtYXh6b29tJywgJ2F0dHJpYnV0aW9uJywgJ21hcGJveF9sb2dvJywgJ2JvdW5kcycsICdzY2hlbWUnLCAndGlsZVNpemUnLCAnZW5jb2RpbmcnXVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKHRpbGVKU09OLnZlY3Rvcl9sYXllcnMpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQudmVjdG9yTGF5ZXJzID0gdGlsZUpTT04udmVjdG9yX2xheWVycztcbiAgICAgICAgICAgICAgICByZXN1bHQudmVjdG9yTGF5ZXJJZHMgPSByZXN1bHQudmVjdG9yTGF5ZXJzLm1hcCgobGF5ZXIpID0+IHsgcmV0dXJuIGxheWVyLmlkOyB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0LnRpbGVzID0gcmVxdWVzdE1hbmFnZXIuY2Fub25pY2FsaXplVGlsZXNldChyZXN1bHQsIG9wdGlvbnMudXJsKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMudXJsKSB7XG4gICAgICAgIHJldHVybiBnZXRKU09OKHJlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QocmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU291cmNlVVJMKG9wdGlvbnMudXJsLCBudWxsLCBsYW5ndWFnZSwgd29ybGR2aWV3KSwgUmVzb3VyY2VUeXBlLlNvdXJjZSksIGxvYWRlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJyb3dzZXIuZnJhbWUoKCkgPT4gbG9hZGVkKG51bGwsIG9wdGlvbnMpKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTG5nTGF0Qm91bmRzIGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcy5qcyc7XG5pbXBvcnQge21lcmNhdG9yWGZyb21MbmcsIG1lcmNhdG9yWWZyb21MYXR9IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcblxuaW1wb3J0IHR5cGUge0Nhbm9uaWNhbFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkLmpzJztcblxuY2xhc3MgVGlsZUJvdW5kcyB7XG4gICAgYm91bmRzOiBMbmdMYXRCb3VuZHM7XG4gICAgbWluem9vbTogbnVtYmVyO1xuICAgIG1heHpvb206IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGJvdW5kczogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sIG1pbnpvb206ID9udW1iZXIsIG1heHpvb206ID9udW1iZXIpIHtcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBMbmdMYXRCb3VuZHMuY29udmVydCh0aGlzLnZhbGlkYXRlQm91bmRzKGJvdW5kcykpO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSBtaW56b29tIHx8IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IG1heHpvb20gfHwgMjQ7XG4gICAgfVxuXG4gICAgdmFsaWRhdGVCb3VuZHMoYm91bmRzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSk6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBib3VuZHMgcHJvcGVydHkgY29udGFpbnMgdmFsaWQgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZXNcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGJvdW5kcykgfHwgYm91bmRzLmxlbmd0aCAhPT0gNCkgcmV0dXJuIFstMTgwLCAtOTAsIDE4MCwgOTBdO1xuICAgICAgICByZXR1cm4gW01hdGgubWF4KC0xODAsIGJvdW5kc1swXSksIE1hdGgubWF4KC05MCwgYm91bmRzWzFdKSwgTWF0aC5taW4oMTgwLCBib3VuZHNbMl0pLCBNYXRoLm1pbig5MCwgYm91bmRzWzNdKV07XG4gICAgfVxuXG4gICAgY29udGFpbnModGlsZUlEOiBDYW5vbmljYWxUaWxlSUQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgd29ybGRTaXplID0gTWF0aC5wb3coMiwgdGlsZUlELnopO1xuICAgICAgICBjb25zdCBsZXZlbCA9IHtcbiAgICAgICAgICAgIG1pblg6IE1hdGguZmxvb3IobWVyY2F0b3JYZnJvbUxuZyh0aGlzLmJvdW5kcy5nZXRXZXN0KCkpICogd29ybGRTaXplKSxcbiAgICAgICAgICAgIG1pblk6IE1hdGguZmxvb3IobWVyY2F0b3JZZnJvbUxhdCh0aGlzLmJvdW5kcy5nZXROb3J0aCgpKSAqIHdvcmxkU2l6ZSksXG4gICAgICAgICAgICBtYXhYOiBNYXRoLmNlaWwobWVyY2F0b3JYZnJvbUxuZyh0aGlzLmJvdW5kcy5nZXRFYXN0KCkpICogd29ybGRTaXplKSxcbiAgICAgICAgICAgIG1heFk6IE1hdGguY2VpbChtZXJjYXRvcllmcm9tTGF0KHRoaXMuYm91bmRzLmdldFNvdXRoKCkpICogd29ybGRTaXplKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoaXQgPSB0aWxlSUQueCA+PSBsZXZlbC5taW5YICYmIHRpbGVJRC54IDwgbGV2ZWwubWF4WCAmJiB0aWxlSUQueSA+PSBsZXZlbC5taW5ZICYmIHRpbGVJRC55IDwgbGV2ZWwubWF4WTtcbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVCb3VuZHM7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSB7U3RydWN0QXJyYXl9IGZyb20gJy4uL3V0aWwvc3RydWN0X2FycmF5LmpzJztcbmltcG9ydCB0eXBlIHtUcmlhbmdsZUluZGV4QXJyYXksIExpbmVJbmRleEFycmF5LCBMaW5lU3RyaXBJbmRleEFycmF5fSBmcm9tICcuLi9kYXRhL2luZGV4X2FycmF5X3R5cGUuanMnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0LmpzJztcblxuY2xhc3MgSW5kZXhCdWZmZXIge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgYnVmZmVyOiA/V2ViR0xCdWZmZXI7XG4gICAgZHluYW1pY0RyYXc6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBhcnJheTogVHJpYW5nbGVJbmRleEFycmF5IHwgTGluZUluZGV4QXJyYXkgfCBMaW5lU3RyaXBJbmRleEFycmF5LCBkeW5hbWljRHJhdz86IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEcmF3ID0gQm9vbGVhbihkeW5hbWljRHJhdyk7XG5cbiAgICAgICAgLy8gVGhlIGJvdW5kIGluZGV4IGJ1ZmZlciBpcyBwYXJ0IG9mIHZlcnRleCBhcnJheSBvYmplY3Qgc3RhdGUuIFdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gbW9kaWZ5IHdoYXRldmVyIFZBTyBoYXBwZW5zIHRvIGJlIGN1cnJlbnRseSBib3VuZCwgc28gbWFrZSBzdXJlIHRoZSBkZWZhdWx0XG4gICAgICAgIC8vIHZlcnRleCBhcnJheSBwcm92aWRlZCBieSB0aGUgY29udGV4dCBpcyBib3VuZCBpbnN0ZWFkLlxuICAgICAgICB0aGlzLmNvbnRleHQudW5iaW5kVkFPKCk7XG5cbiAgICAgICAgY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBhcnJheS5hcnJheUJ1ZmZlciwgdGhpcy5keW5hbWljRHJhdyA/IGdsLkRZTkFNSUNfRFJBVyA6IGdsLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICBpZiAoIXRoaXMuZHluYW1pY0RyYXcpIHtcbiAgICAgICAgICAgIGFycmF5LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJpbmQoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO1xuICAgIH1cblxuICAgIHVwZGF0ZURhdGEoYXJyYXk6IFN0cnVjdEFycmF5KSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBhc3NlcnQodGhpcy5keW5hbWljRHJhdyk7XG4gICAgICAgIC8vIFRoZSByaWdodCBWQU8gd2lsbCBnZXQgdGhpcyBidWZmZXIgcmUtYm91bmQgbGF0ZXIgaW4gVmVydGV4QXJyYXlPYmplY3QjYmluZFxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzU2MjBcbiAgICAgICAgdGhpcy5jb250ZXh0LnVuYmluZFZBTygpO1xuICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgMCwgYXJyYXkuYXJyYXlCdWZmZXIpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBpZiAodGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5idWZmZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4QnVmZmVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSB7XG4gICAgU3RydWN0QXJyYXksXG4gICAgU3RydWN0QXJyYXlNZW1iZXJcbn0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXkuanMnO1xuXG5pbXBvcnQgdHlwZSBQcm9ncmFtIGZyb20gJy4uL3JlbmRlci9wcm9ncmFtLmpzJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dC5qcyc7XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ30gQXR0cmlidXRlVHlwZVxuICogQHByaXZhdGVcbiAqIEByZWFkb25seVxuICovXG5jb25zdCBBdHRyaWJ1dGVUeXBlID0ge1xuICAgIEludDg6ICAgJ0JZVEUnLFxuICAgIFVpbnQ4OiAgJ1VOU0lHTkVEX0JZVEUnLFxuICAgIEludDE2OiAgJ1NIT1JUJyxcbiAgICBVaW50MTY6ICdVTlNJR05FRF9TSE9SVCcsXG4gICAgSW50MzI6ICAnSU5UJyxcbiAgICBVaW50MzI6ICdVTlNJR05FRF9JTlQnLFxuICAgIEZsb2F0MzI6ICdGTE9BVCdcbn07XG5cbi8qKlxuICogVGhlIGBWZXJ0ZXhCdWZmZXJgIGNsYXNzIHR1cm5zIGEgYFN0cnVjdEFycmF5YCBpbnRvIGEgV2ViR0wgYnVmZmVyLiBFYWNoIG1lbWJlciBvZiB0aGUgU3RydWN0QXJyYXknc1xuICogU3RydWN0IHR5cGUgaXMgY29udmVydGVkIHRvIGEgV2ViR0wgYXRyaWJ1dGUuXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBWZXJ0ZXhCdWZmZXIge1xuICAgIGxlbmd0aDogbnVtYmVyO1xuICAgIGF0dHJpYnV0ZXM6ICRSZWFkT25seUFycmF5PFN0cnVjdEFycmF5TWVtYmVyPjtcbiAgICBpdGVtU2l6ZTogbnVtYmVyO1xuICAgIGR5bmFtaWNEcmF3OiA/Ym9vbGVhbjtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGJ1ZmZlcjogP1dlYkdMQnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGR5bmFtaWNEcmF3IFdoZXRoZXIgdGhpcyBidWZmZXIgd2lsbCBiZSByZXBlYXRlZGx5IHVwZGF0ZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBhcnJheTogU3RydWN0QXJyYXksIGF0dHJpYnV0ZXM6ICRSZWFkT25seUFycmF5PFN0cnVjdEFycmF5TWVtYmVyPiwgZHluYW1pY0RyYXc/OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgICAgICB0aGlzLml0ZW1TaXplID0gYXJyYXkuYnl0ZXNQZXJFbGVtZW50O1xuICAgICAgICB0aGlzLmR5bmFtaWNEcmF3ID0gZHluYW1pY0RyYXc7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBjb250ZXh0LmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKTtcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGFycmF5LmFycmF5QnVmZmVyLCB0aGlzLmR5bmFtaWNEcmF3ID8gZ2wuRFlOQU1JQ19EUkFXIDogZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIGlmICghdGhpcy5keW5hbWljRHJhdykge1xuICAgICAgICAgICAgYXJyYXkuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmluZCgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVEYXRhKGFycmF5OiBTdHJ1Y3RBcnJheSkge1xuICAgICAgICBhc3NlcnQoYXJyYXkubGVuZ3RoID09PSB0aGlzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YShnbC5BUlJBWV9CVUZGRVIsIDAsIGFycmF5LmFycmF5QnVmZmVyKTtcbiAgICB9XG5cbiAgICBlbmFibGVBdHRyaWJ1dGVzKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHByb2dyYW06IFByb2dyYW08Kj4pIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWJlciA9IHRoaXMuYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYkluZGV4OiBudW1iZXIgfCB2b2lkID0gcHJvZ3JhbS5hdHRyaWJ1dGVzW21lbWJlci5uYW1lXTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0cmliSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBhdHRyaWJ1dGUgcG9pbnRlcnMgaW4gYSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSBnbCBUaGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0gcHJvZ3JhbSBUaGUgYWN0aXZlIFdlYkdMIHByb2dyYW0uXG4gICAgICogQHBhcmFtIHZlcnRleE9mZnNldCBJbmRleCBvZiB0aGUgc3RhcnRpbmcgdmVydGV4IG9mIHRoZSBzZWdtZW50LlxuICAgICAqL1xuICAgIHNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHByb2dyYW06IFByb2dyYW08Kj4sIHZlcnRleE9mZnNldDogP251bWJlcikge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgbWVtYmVyID0gdGhpcy5hdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgY29uc3QgYXR0cmliSW5kZXg6IG51bWJlciB8IHZvaWQgPSBwcm9ncmFtLmF0dHJpYnV0ZXNbbWVtYmVyLm5hbWVdO1xuXG4gICAgICAgICAgICBpZiAoYXR0cmliSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYkluZGV4LFxuICAgICAgICAgICAgICAgICAgICBtZW1iZXIuY29tcG9uZW50cyxcbiAgICAgICAgICAgICAgICAgICAgKGdsOiBhbnkpW0F0dHJpYnV0ZVR5cGVbbWVtYmVyLnR5cGVdXSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbVNpemUsXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlci5vZmZzZXQgKyAodGhpcy5pdGVtU2l6ZSAqICh2ZXJ0ZXhPZmZzZXQgfHwgMCkpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIEdMIGJ1ZmZlciBib3VuZCB0byB0aGUgZ2l2ZW4gV2ViR0wgY29udGV4dC5cbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyKSB7XG4gICAgICAgICAgICBnbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVmZmVyO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZXJ0ZXhCdWZmZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yLmpzJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHR5cGUge1xuICAgIEJsZW5kRnVuY1R5cGUsXG4gICAgQmxlbmRFcXVhdGlvblR5cGUsXG4gICAgQ29sb3JNYXNrVHlwZSxcbiAgICBEZXB0aFJhbmdlVHlwZSxcbiAgICBEZXB0aE1hc2tUeXBlLFxuICAgIFN0ZW5jaWxGdW5jVHlwZSxcbiAgICBTdGVuY2lsT3BUeXBlLFxuICAgIERlcHRoRnVuY1R5cGUsXG4gICAgVGV4dHVyZVVuaXRUeXBlLFxuICAgIFZpZXdwb3J0VHlwZSxcbiAgICBDdWxsRmFjZU1vZGVUeXBlLFxuICAgIEZyb250RmFjZVR5cGUsXG59IGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlPFQ+IHtcbiAgICBjdXJyZW50OiBUO1xuICAgIGRlZmF1bHQ6IFQ7XG4gICAgZGlydHk6IGJvb2xlYW47XG4gICAgZ2V0KCk6IFQ7XG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkO1xuICAgIHNldCh2YWx1ZTogVCk6IHZvaWQ7XG59XG5cbmNsYXNzIEJhc2VWYWx1ZTxUPiBpbXBsZW1lbnRzIFZhbHVlPFQ+IHtcbiAgICBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xuICAgIGN1cnJlbnQ6IFQ7XG4gICAgZGVmYXVsdDogVDtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5nbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRoaXMuZ2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQoKTogVCB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQ7XG4gICAgfVxuICAgIHNldCh2YWx1ZTogVCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIC8vIG92ZXJyaWRkZW4gaW4gY2hpbGQgY2xhc3NlcztcbiAgICB9XG5cbiAgICBnZXREZWZhdWx0KCk6IFQge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0OyAvLyBvdmVycmlkZW4gaW4gY2hpbGQgY2xhc3Nlc1xuICAgIH1cbiAgICBzZXREZWZhdWx0KCkge1xuICAgICAgICB0aGlzLnNldCh0aGlzLmRlZmF1bHQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsZWFyQ29sb3IgZXh0ZW5kcyBCYXNlVmFsdWU8Q29sb3I+IHtcbiAgICBnZXREZWZhdWx0KCk6IENvbG9yIHtcbiAgICAgICAgcmV0dXJuIENvbG9yLnRyYW5zcGFyZW50O1xuICAgIH1cbiAgICBzZXQodjogQ29sb3IpIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHYuciA9PT0gYy5yICYmIHYuZyA9PT0gYy5nICYmIHYuYiA9PT0gYy5iICYmIHYuYSA9PT0gYy5hICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2wuY2xlYXJDb2xvcih2LnIsIHYuZywgdi5iLCB2LmEpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2xlYXJEZXB0aCBleHRlbmRzIEJhc2VWYWx1ZTxudW1iZXI+IHtcbiAgICBnZXREZWZhdWx0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBzZXQodjogbnVtYmVyKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5jbGVhckRlcHRoKHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2xlYXJTdGVuY2lsIGV4dGVuZHMgQmFzZVZhbHVlPG51bWJlcj4ge1xuICAgIGdldERlZmF1bHQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHNldCh2OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLmNsZWFyU3RlbmNpbCh2KTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbG9yTWFzayBleHRlbmRzIEJhc2VWYWx1ZTxDb2xvck1hc2tUeXBlPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBDb2xvck1hc2tUeXBlIHtcbiAgICAgICAgcmV0dXJuIFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXTtcbiAgICB9XG4gICAgc2V0KHY6IENvbG9yTWFza1R5cGUpIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHZbMF0gPT09IGNbMF0gJiYgdlsxXSA9PT0gY1sxXSAmJiB2WzJdID09PSBjWzJdICYmIHZbM10gPT09IGNbM10gJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5jb2xvck1hc2sodlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXB0aE1hc2sgZXh0ZW5kcyBCYXNlVmFsdWU8RGVwdGhNYXNrVHlwZT4ge1xuICAgIGdldERlZmF1bHQoKTogRGVwdGhNYXNrVHlwZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzZXQodjogRGVwdGhNYXNrVHlwZSk6IHZvaWQge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2wuZGVwdGhNYXNrKHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RlbmNpbE1hc2sgZXh0ZW5kcyBCYXNlVmFsdWU8bnVtYmVyPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gMHhGRjtcbiAgICB9XG4gICAgc2V0KHY6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2wuc3RlbmNpbE1hc2sodik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGVuY2lsRnVuYyBleHRlbmRzIEJhc2VWYWx1ZTxTdGVuY2lsRnVuY1R5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IFN0ZW5jaWxGdW5jVHlwZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmdW5jOiB0aGlzLmdsLkFMV0FZUyxcbiAgICAgICAgICAgIHJlZjogMCxcbiAgICAgICAgICAgIG1hc2s6IDB4RkZcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc2V0KHY6IFN0ZW5jaWxGdW5jVHlwZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodi5mdW5jID09PSBjLmZ1bmMgJiYgdi5yZWYgPT09IGMucmVmICYmIHYubWFzayA9PT0gYy5tYXNrICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIC8vIEFzc3VtZSBVTlNJR05FRF9JTlRfMjRfOCBzdG9yYWdlLCB3aXRoIDggYml0cyBkZWRpY2F0ZWQgdG8gc3RlbmNpbC5cbiAgICAgICAgLy8gUGxlYXNlIHJldmlzZSB5b3VyIHN0ZW5jaWwgdmFsdWVzIGlmIHRoaXMgdGhyZXNob2xkIGlzIHRyaWdnZXJlZC5cbiAgICAgICAgYXNzZXJ0KHYucmVmID49IDAgJiYgdi5yZWYgPD0gMjU1KTtcbiAgICAgICAgdGhpcy5nbC5zdGVuY2lsRnVuYyh2LmZ1bmMsIHYucmVmLCB2Lm1hc2spO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RlbmNpbE9wIGV4dGVuZHMgQmFzZVZhbHVlPFN0ZW5jaWxPcFR5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IFN0ZW5jaWxPcFR5cGUge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHJldHVybiBbZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUF07XG4gICAgfVxuICAgIHNldCh2OiBTdGVuY2lsT3BUeXBlKSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdID09PSBjWzBdICYmIHZbMV0gPT09IGNbMV0gJiYgdlsyXSA9PT0gY1syXSAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLnN0ZW5jaWxPcCh2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0ZW5jaWxUZXN0IGV4dGVuZHMgQmFzZVZhbHVlPGJvb2xlYW4+IHtcbiAgICBnZXREZWZhdWx0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNldCh2OiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlcHRoUmFuZ2UgZXh0ZW5kcyBCYXNlVmFsdWU8RGVwdGhSYW5nZVR5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IERlcHRoUmFuZ2VUeXBlIHtcbiAgICAgICAgcmV0dXJuIFswLCAxXTtcbiAgICB9XG4gICAgc2V0KHY6IERlcHRoUmFuZ2VUeXBlKSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdID09PSBjWzBdICYmIHZbMV0gPT09IGNbMV0gJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5kZXB0aFJhbmdlKHZbMF0sIHZbMV0pO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhUZXN0IGV4dGVuZHMgQmFzZVZhbHVlPGJvb2xlYW4+IHtcbiAgICBnZXREZWZhdWx0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNldCh2OiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhGdW5jIGV4dGVuZHMgQmFzZVZhbHVlPERlcHRoRnVuY1R5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IERlcHRoRnVuY1R5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5nbC5MRVNTO1xuICAgIH1cbiAgICBzZXQodjogRGVwdGhGdW5jVHlwZSkge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2wuZGVwdGhGdW5jKHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmxlbmQgZXh0ZW5kcyBCYXNlVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGdldERlZmF1bHQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc2V0KHY6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5CTEVORCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsZW5kRnVuYyBleHRlbmRzIEJhc2VWYWx1ZTxCbGVuZEZ1bmNUeXBlPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBCbGVuZEZ1bmNUeXBlIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICByZXR1cm4gW2dsLk9ORSwgZ2wuWkVST107XG4gICAgfVxuICAgIHNldCh2OiBCbGVuZEZ1bmNUeXBlKSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdID09PSBjWzBdICYmIHZbMV0gPT09IGNbMV0gJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5ibGVuZEZ1bmModlswXSwgdlsxXSk7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbGVuZENvbG9yIGV4dGVuZHMgQmFzZVZhbHVlPENvbG9yPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBDb2xvciB7XG4gICAgICAgIHJldHVybiBDb2xvci50cmFuc3BhcmVudDtcbiAgICB9XG4gICAgc2V0KHY6IENvbG9yKSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2LnIgPT09IGMuciAmJiB2LmcgPT09IGMuZyAmJiB2LmIgPT09IGMuYiAmJiB2LmEgPT09IGMuYSAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLmJsZW5kQ29sb3Iodi5yLCB2LmcsIHYuYiwgdi5hKTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsZW5kRXF1YXRpb24gZXh0ZW5kcyBCYXNlVmFsdWU8QmxlbmRFcXVhdGlvblR5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IEJsZW5kRXF1YXRpb25UeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2wuRlVOQ19BREQ7XG4gICAgfVxuICAgIHNldCh2OiBCbGVuZEVxdWF0aW9uVHlwZSkge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2wuYmxlbmRFcXVhdGlvbih2KTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEN1bGxGYWNlIGV4dGVuZHMgQmFzZVZhbHVlPGJvb2xlYW4+IHtcbiAgICBnZXREZWZhdWx0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNldCh2OiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkNVTExfRkFDRSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLkNVTExfRkFDRSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEN1bGxGYWNlU2lkZSBleHRlbmRzIEJhc2VWYWx1ZTxDdWxsRmFjZU1vZGVUeXBlPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBDdWxsRmFjZU1vZGVUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2wuQkFDSztcbiAgICB9XG4gICAgc2V0KHY6IEN1bGxGYWNlTW9kZVR5cGUpIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLmN1bGxGYWNlKHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRnJvbnRGYWNlIGV4dGVuZHMgQmFzZVZhbHVlPEZyb250RmFjZVR5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IEZyb250RmFjZVR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5nbC5DQ1c7XG4gICAgfVxuICAgIHNldCh2OiBGcm9udEZhY2VUeXBlKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5mcm9udEZhY2Uodik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9ncmFtIGV4dGVuZHMgQmFzZVZhbHVlPD9XZWJHTFByb2dyYW0+IHtcbiAgICBnZXREZWZhdWx0KCk6IFdlYkdMUHJvZ3JhbSB8IG51bGwge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2V0KHY6ID9XZWJHTFByb2dyYW0pIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0odik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBY3RpdmVUZXh0dXJlVW5pdCBleHRlbmRzIEJhc2VWYWx1ZTxUZXh0dXJlVW5pdFR5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IFRleHR1cmVVbml0VHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdsLlRFWFRVUkUwO1xuICAgIH1cbiAgICBzZXQodjogVGV4dHVyZVVuaXRUeXBlKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5hY3RpdmVUZXh0dXJlKHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmlld3BvcnQgZXh0ZW5kcyBCYXNlVmFsdWU8Vmlld3BvcnRUeXBlPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBWaWV3cG9ydFR5cGUge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHJldHVybiBbMCwgMCwgZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLCBnbC5kcmF3aW5nQnVmZmVySGVpZ2h0XTtcbiAgICB9XG4gICAgc2V0KHY6IFZpZXdwb3J0VHlwZSkge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodlswXSA9PT0gY1swXSAmJiB2WzFdID09PSBjWzFdICYmIHZbMl0gPT09IGNbMl0gJiYgdlszXSA9PT0gY1szXSAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZEZyYW1lYnVmZmVyIGV4dGVuZHMgQmFzZVZhbHVlPD9XZWJHTEZyYW1lYnVmZmVyPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBXZWJHTEZyYW1lYnVmZmVyIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXQodjogP1dlYkdMRnJhbWVidWZmZXIpIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kUmVuZGVyYnVmZmVyIGV4dGVuZHMgQmFzZVZhbHVlPD9XZWJHTFJlbmRlcmJ1ZmZlcj4ge1xuICAgIGdldERlZmF1bHQoKTogV2ViR0xSZW5kZXJidWZmZXIgfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHNldCh2OiA/V2ViR0xSZW5kZXJidWZmZXIpIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB2KTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJpbmRUZXh0dXJlIGV4dGVuZHMgQmFzZVZhbHVlPD9XZWJHTFRleHR1cmU+IHtcbiAgICBnZXREZWZhdWx0KCk6IFdlYkdMVGV4dHVyZSB8IG51bGwge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2V0KHY6ID9XZWJHTFRleHR1cmUpIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZFZlcnRleEJ1ZmZlciBleHRlbmRzIEJhc2VWYWx1ZTw/V2ViR0xCdWZmZXI+IHtcbiAgICBnZXREZWZhdWx0KCk6IFdlYkdMQnVmZmVyIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXQodjogP1dlYkdMQnVmZmVyKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kRWxlbWVudEJ1ZmZlciBleHRlbmRzIEJhc2VWYWx1ZTw/V2ViR0xCdWZmZXI+IHtcbiAgICBnZXREZWZhdWx0KCk6IFdlYkdMQnVmZmVyIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXQodjogP1dlYkdMQnVmZmVyKSB7XG4gICAgICAgIC8vIEFsd2F5cyByZWJpbmRcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB2KTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJpbmRWZXJ0ZXhBcnJheU9FUyBleHRlbmRzIEJhc2VWYWx1ZTxhbnk+IHtcbiAgICB2YW86IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XG4gICAgICAgIHRoaXMudmFvID0gY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdDtcbiAgICB9XG4gICAgZ2V0RGVmYXVsdCgpOiBhbnkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2V0KHY6IGFueSkge1xuICAgICAgICBpZiAoIXRoaXMudmFvIHx8ICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpKSByZXR1cm47XG4gICAgICAgIHRoaXMudmFvLmJpbmRWZXJ0ZXhBcnJheU9FUyh2KTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBpeGVsU3RvcmVVbnBhY2sgZXh0ZW5kcyBCYXNlVmFsdWU8bnVtYmVyPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gNDtcbiAgICB9XG4gICAgc2V0KHY6IG51bWJlcikge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0FMSUdOTUVOVCwgdik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYSBleHRlbmRzIEJhc2VWYWx1ZTxib29sZWFuPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzZXQodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCAodjogYW55KSk7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQaXhlbFN0b3JlVW5wYWNrRmxpcFkgZXh0ZW5kcyBCYXNlVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGdldERlZmF1bHQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc2V0KHY6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsICh2OiBhbnkpKTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuY2xhc3MgRnJhbWVidWZmZXJBdHRhY2htZW50PFQ+IGV4dGVuZHMgQmFzZVZhbHVlPD9UPiB7XG4gICAgcGFyZW50OiBXZWJHTEZyYW1lYnVmZmVyO1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBwYXJlbnQ6IFdlYkdMRnJhbWVidWZmZXIpIHtcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIH1cbiAgICBnZXREZWZhdWx0KCk6IG51bGwge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb2xvckF0dGFjaG1lbnQgZXh0ZW5kcyBGcmFtZWJ1ZmZlckF0dGFjaG1lbnQ8V2ViR0xUZXh0dXJlPiB7XG4gICAgc2V0RGlydHkoKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICBzZXQodjogP1dlYkdMVGV4dHVyZSk6IHZvaWQge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtcbiAgICAgICAgLy8gbm90ZTogaXQncyBwb3NzaWJsZSB0byBhdHRhY2ggYSByZW5kZXJidWZmZXIgdG8gdGhlIGNvbG9yXG4gICAgICAgIC8vIGF0dGFjaG1lbnQgcG9pbnQsIGJ1dCB0aHVzIGZhciBNQkdMIG9ubHkgdXNlcyB0ZXh0dXJlcyBmb3IgY29sb3JcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHYsIDApO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhBdHRhY2htZW50IGV4dGVuZHMgRnJhbWVidWZmZXJBdHRhY2htZW50PFdlYkdMUmVuZGVyYnVmZmVyPiB7XG4gICAgYXR0YWNobWVudCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5nbC5ERVBUSF9BVFRBQ0hNRU5UOyB9XG4gICAgc2V0KHY6ID9XZWJHTFJlbmRlcmJ1ZmZlcik6IHZvaWQge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtcbiAgICAgICAgLy8gbm90ZTogaXQncyBwb3NzaWJsZSB0byBhdHRhY2ggYSB0ZXh0dXJlIHRvIHRoZSBkZXB0aCBhdHRhY2htZW50XG4gICAgICAgIC8vIHBvaW50LCBidXQgdGh1cyBmYXIgTUJHTCBvbmx5IHVzZXMgcmVuZGVyYnVmZmVycyBmb3IgZGVwdGhcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5hdHRhY2htZW50KCksIGdsLlJFTkRFUkJVRkZFUiwgdik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXB0aFN0ZW5jaWxBdHRhY2htZW50IGV4dGVuZHMgRGVwdGhBdHRhY2htZW50IHtcbiAgICBhdHRhY2htZW50KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVDsgfVxufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7Q29sb3JBdHRhY2htZW50LCBEZXB0aEF0dGFjaG1lbnR9IGZyb20gJy4vdmFsdWUuanMnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4vY29udGV4dC5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmNsYXNzIEZyYW1lYnVmZmVyIHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgZnJhbWVidWZmZXI6IFdlYkdMRnJhbWVidWZmZXI7XG4gICAgY29sb3JBdHRhY2htZW50OiBDb2xvckF0dGFjaG1lbnQ7XG4gICAgZGVwdGhBdHRhY2htZW50OiBEZXB0aEF0dGFjaG1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgaGFzRGVwdGg6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICBjb25zdCBmYm8gPSB0aGlzLmZyYW1lYnVmZmVyID0gKChnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpOiBhbnkpOiBXZWJHTEZyYW1lYnVmZmVyKTtcblxuICAgICAgICB0aGlzLmNvbG9yQXR0YWNobWVudCA9IG5ldyBDb2xvckF0dGFjaG1lbnQoY29udGV4dCwgZmJvKTtcbiAgICAgICAgaWYgKGhhc0RlcHRoKSB7XG4gICAgICAgICAgICB0aGlzLmRlcHRoQXR0YWNobWVudCA9IG5ldyBEZXB0aEF0dGFjaG1lbnQoY29udGV4dCwgZmJvKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQoZ2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhnbC5GUkFNRUJVRkZFUikgPT09IGdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcblxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5jb2xvckF0dGFjaG1lbnQuZ2V0KCk7XG4gICAgICAgIGlmICh0ZXh0dXJlKSBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUpO1xuXG4gICAgICAgIGlmICh0aGlzLmRlcHRoQXR0YWNobWVudCkge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyYnVmZmVyID0gdGhpcy5kZXB0aEF0dGFjaG1lbnQuZ2V0KCk7XG4gICAgICAgICAgICBpZiAocmVuZGVyYnVmZmVyKSBnbC5kZWxldGVSZW5kZXJidWZmZXIocmVuZGVyYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZnJhbWVidWZmZXIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRnJhbWVidWZmZXI7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IEluZGV4QnVmZmVyIGZyb20gJy4vaW5kZXhfYnVmZmVyLmpzJztcblxuaW1wb3J0IFZlcnRleEJ1ZmZlciBmcm9tICcuL3ZlcnRleF9idWZmZXIuanMnO1xuaW1wb3J0IEZyYW1lYnVmZmVyIGZyb20gJy4vZnJhbWVidWZmZXIuanMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4vc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi9jb2xvcl9tb2RlLmpzJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQge2RlZXBFcXVhbH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7Q2xlYXJDb2xvciwgQ2xlYXJEZXB0aCwgQ2xlYXJTdGVuY2lsLCBDb2xvck1hc2ssIERlcHRoTWFzaywgU3RlbmNpbE1hc2ssIFN0ZW5jaWxGdW5jLCBTdGVuY2lsT3AsIFN0ZW5jaWxUZXN0LCBEZXB0aFJhbmdlLCBEZXB0aFRlc3QsIERlcHRoRnVuYywgQmxlbmQsIEJsZW5kRnVuYywgQmxlbmRDb2xvciwgQmxlbmRFcXVhdGlvbiwgQ3VsbEZhY2UsIEN1bGxGYWNlU2lkZSwgRnJvbnRGYWNlLCBQcm9ncmFtLCBBY3RpdmVUZXh0dXJlVW5pdCwgVmlld3BvcnQsIEJpbmRGcmFtZWJ1ZmZlciwgQmluZFJlbmRlcmJ1ZmZlciwgQmluZFRleHR1cmUsIEJpbmRWZXJ0ZXhCdWZmZXIsIEJpbmRFbGVtZW50QnVmZmVyLCBCaW5kVmVydGV4QXJyYXlPRVMsIFBpeGVsU3RvcmVVbnBhY2ssIFBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLCBQaXhlbFN0b3JlVW5wYWNrRmxpcFl9IGZyb20gJy4vdmFsdWUuanMnO1xuXG5pbXBvcnQgdHlwZSB7VHJpYW5nbGVJbmRleEFycmF5LCBMaW5lSW5kZXhBcnJheSwgTGluZVN0cmlwSW5kZXhBcnJheX0gZnJvbSAnLi4vZGF0YS9pbmRleF9hcnJheV90eXBlLmpzJztcbmltcG9ydCB0eXBlIHtcbiAgICBTdHJ1Y3RBcnJheSxcbiAgICBTdHJ1Y3RBcnJheU1lbWJlclxufSBmcm9tICcuLi91dGlsL3N0cnVjdF9hcnJheS5qcyc7XG5pbXBvcnQgdHlwZSBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3IuanMnO1xuXG50eXBlIENsZWFyQXJncyA9IHtcbiAgICBjb2xvcj86IENvbG9yLFxuICAgIGRlcHRoPzogbnVtYmVyLFxuICAgIHN0ZW5jaWw/OiBudW1iZXJcbn07XG5cbmNsYXNzIENvbnRleHQge1xuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG4gICAgaXNXZWJHTDI6IGJvb2xlYW47XG4gICAgZXh0VmVydGV4QXJyYXlPYmplY3Q6IGFueTtcbiAgICBjdXJyZW50TnVtQXR0cmlidXRlczogP251bWJlcjtcbiAgICBtYXhUZXh0dXJlU2l6ZTogbnVtYmVyO1xuXG4gICAgY2xlYXJDb2xvcjogQ2xlYXJDb2xvcjtcbiAgICBjbGVhckRlcHRoOiBDbGVhckRlcHRoO1xuICAgIGNsZWFyU3RlbmNpbDogQ2xlYXJTdGVuY2lsO1xuICAgIGNvbG9yTWFzazogQ29sb3JNYXNrO1xuICAgIGRlcHRoTWFzazogRGVwdGhNYXNrO1xuICAgIHN0ZW5jaWxNYXNrOiBTdGVuY2lsTWFzaztcbiAgICBzdGVuY2lsRnVuYzogU3RlbmNpbEZ1bmM7XG4gICAgc3RlbmNpbE9wOiBTdGVuY2lsT3A7XG4gICAgc3RlbmNpbFRlc3Q6IFN0ZW5jaWxUZXN0O1xuICAgIGRlcHRoUmFuZ2U6IERlcHRoUmFuZ2U7XG4gICAgZGVwdGhUZXN0OiBEZXB0aFRlc3Q7XG4gICAgZGVwdGhGdW5jOiBEZXB0aEZ1bmM7XG4gICAgYmxlbmQ6IEJsZW5kO1xuICAgIGJsZW5kRnVuYzogQmxlbmRGdW5jO1xuICAgIGJsZW5kQ29sb3I6IEJsZW5kQ29sb3I7XG4gICAgYmxlbmRFcXVhdGlvbjogQmxlbmRFcXVhdGlvbjtcbiAgICBjdWxsRmFjZTogQ3VsbEZhY2U7XG4gICAgY3VsbEZhY2VTaWRlOiBDdWxsRmFjZVNpZGU7XG4gICAgZnJvbnRGYWNlOiBGcm9udEZhY2U7XG4gICAgcHJvZ3JhbTogUHJvZ3JhbTtcbiAgICBhY3RpdmVUZXh0dXJlOiBBY3RpdmVUZXh0dXJlVW5pdDtcbiAgICB2aWV3cG9ydDogVmlld3BvcnQ7XG4gICAgYmluZEZyYW1lYnVmZmVyOiBCaW5kRnJhbWVidWZmZXI7XG4gICAgYmluZFJlbmRlcmJ1ZmZlcjogQmluZFJlbmRlcmJ1ZmZlcjtcbiAgICBiaW5kVGV4dHVyZTogQmluZFRleHR1cmU7XG4gICAgYmluZFZlcnRleEJ1ZmZlcjogQmluZFZlcnRleEJ1ZmZlcjtcbiAgICBiaW5kRWxlbWVudEJ1ZmZlcjogQmluZEVsZW1lbnRCdWZmZXI7XG4gICAgYmluZFZlcnRleEFycmF5T0VTOiBCaW5kVmVydGV4QXJyYXlPRVM7XG4gICAgcGl4ZWxTdG9yZVVucGFjazogUGl4ZWxTdG9yZVVucGFjaztcbiAgICBwaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYTogUGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGE7XG4gICAgcGl4ZWxTdG9yZVVucGFja0ZsaXBZOiBQaXhlbFN0b3JlVW5wYWNrRmxpcFk7XG4gICAgcmVuZGVyZXI6ID9zdHJpbmc7XG4gICAgdmVuZG9yOiA/c3RyaW5nO1xuXG4gICAgZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljOiBhbnk7XG4gICAgZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4OiBhbnk7XG4gICAgZXh0VGV4dHVyZUhhbGZGbG9hdDogYW55O1xuICAgIGV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdDogYW55O1xuICAgIGV4dFN0YW5kYXJkRGVyaXZhdGl2ZXM6IGFueTtcbiAgICBleHREZWJ1Z1JlbmRlcmVySW5mbzogYW55O1xuICAgIGV4dFRpbWVyUXVlcnk6IGFueTtcblxuICAgIGV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY0ZvcmNlT2ZmOiBib29sZWFuO1xuICAgIGV4dFN0YW5kYXJkRGVyaXZhdGl2ZXNGb3JjZU9mZjogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGlzV2ViR0wyOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmlzV2ViR0wyID0gaXNXZWJHTDI7XG4gICAgICAgIHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QgPSB0aGlzLmdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKTtcblxuICAgICAgICBpZiAoaXNXZWJHTDIpIHtcbiAgICAgICAgICAgIC8qICRGbG93Rml4TWVbY2Fubm90LXJlc29sdmUtbmFtZV0gKi8gLy8gTm90IGFkZGluZyBkZXBlbmRlbmN5IHRvIHdlYmdsMiB5ZXQuXG4gICAgICAgICAgICBjb25zdCBnbDIgPSAoZ2w6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQpO1xuICAgICAgICAgICAgdGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICBjcmVhdGVWZXJ0ZXhBcnJheU9FUzogZ2wyLmNyZWF0ZVZlcnRleEFycmF5LmJpbmQoZ2wpLFxuICAgICAgICAgICAgICAgIGRlbGV0ZVZlcnRleEFycmF5T0VTOiBnbDIuZGVsZXRlVmVydGV4QXJyYXkuYmluZChnbCksXG4gICAgICAgICAgICAgICAgYmluZFZlcnRleEFycmF5T0VTOiBnbDIuYmluZFZlcnRleEFycmF5LmJpbmQoZ2wpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGVhckNvbG9yID0gbmV3IENsZWFyQ29sb3IodGhpcyk7XG4gICAgICAgIHRoaXMuY2xlYXJEZXB0aCA9IG5ldyBDbGVhckRlcHRoKHRoaXMpO1xuICAgICAgICB0aGlzLmNsZWFyU3RlbmNpbCA9IG5ldyBDbGVhclN0ZW5jaWwodGhpcyk7XG4gICAgICAgIHRoaXMuY29sb3JNYXNrID0gbmV3IENvbG9yTWFzayh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXB0aE1hc2sgPSBuZXcgRGVwdGhNYXNrKHRoaXMpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrID0gbmV3IFN0ZW5jaWxNYXNrKHRoaXMpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxGdW5jID0gbmV3IFN0ZW5jaWxGdW5jKHRoaXMpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxPcCA9IG5ldyBTdGVuY2lsT3AodGhpcyk7XG4gICAgICAgIHRoaXMuc3RlbmNpbFRlc3QgPSBuZXcgU3RlbmNpbFRlc3QodGhpcyk7XG4gICAgICAgIHRoaXMuZGVwdGhSYW5nZSA9IG5ldyBEZXB0aFJhbmdlKHRoaXMpO1xuICAgICAgICB0aGlzLmRlcHRoVGVzdCA9IG5ldyBEZXB0aFRlc3QodGhpcyk7XG4gICAgICAgIHRoaXMuZGVwdGhGdW5jID0gbmV3IERlcHRoRnVuYyh0aGlzKTtcbiAgICAgICAgdGhpcy5ibGVuZCA9IG5ldyBCbGVuZCh0aGlzKTtcbiAgICAgICAgdGhpcy5ibGVuZEZ1bmMgPSBuZXcgQmxlbmRGdW5jKHRoaXMpO1xuICAgICAgICB0aGlzLmJsZW5kQ29sb3IgPSBuZXcgQmxlbmRDb2xvcih0aGlzKTtcbiAgICAgICAgdGhpcy5ibGVuZEVxdWF0aW9uID0gbmV3IEJsZW5kRXF1YXRpb24odGhpcyk7XG4gICAgICAgIHRoaXMuY3VsbEZhY2UgPSBuZXcgQ3VsbEZhY2UodGhpcyk7XG4gICAgICAgIHRoaXMuY3VsbEZhY2VTaWRlID0gbmV3IEN1bGxGYWNlU2lkZSh0aGlzKTtcbiAgICAgICAgdGhpcy5mcm9udEZhY2UgPSBuZXcgRnJvbnRGYWNlKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBuZXcgUHJvZ3JhbSh0aGlzKTtcbiAgICAgICAgdGhpcy5hY3RpdmVUZXh0dXJlID0gbmV3IEFjdGl2ZVRleHR1cmVVbml0KHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRGcmFtZWJ1ZmZlciA9IG5ldyBCaW5kRnJhbWVidWZmZXIodGhpcyk7XG4gICAgICAgIHRoaXMuYmluZFJlbmRlcmJ1ZmZlciA9IG5ldyBCaW5kUmVuZGVyYnVmZmVyKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRUZXh0dXJlID0gbmV3IEJpbmRUZXh0dXJlKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRWZXJ0ZXhCdWZmZXIgPSBuZXcgQmluZFZlcnRleEJ1ZmZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5iaW5kRWxlbWVudEJ1ZmZlciA9IG5ldyBCaW5kRWxlbWVudEJ1ZmZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMgPSB0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0ICYmIG5ldyBCaW5kVmVydGV4QXJyYXlPRVModGhpcyk7XG4gICAgICAgIHRoaXMucGl4ZWxTdG9yZVVucGFjayA9IG5ldyBQaXhlbFN0b3JlVW5wYWNrKHRoaXMpO1xuICAgICAgICB0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhID0gbmV3IFBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhKHRoaXMpO1xuICAgICAgICB0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWSA9IG5ldyBQaXhlbFN0b3JlVW5wYWNrRmxpcFkodGhpcyk7XG5cbiAgICAgICAgdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMgPSAoXG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpIHx8XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ01PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKSB8fFxuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJylcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljKSB7XG4gICAgICAgICAgICB0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCA9IGdsLmdldFBhcmFtZXRlcih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljRm9yY2VPZmYgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5leHRTdGFuZGFyZERlcml2YXRpdmVzRm9yY2VPZmYgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvJyk7XG4gICAgICAgIGlmICh0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyID0gZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm8uVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpO1xuICAgICAgICAgICAgdGhpcy52ZW5kb3IgPSBnbC5nZXRQYXJhbWV0ZXIodGhpcy5leHREZWJ1Z1JlbmRlcmVySW5mby5VTk1BU0tFRF9WRU5ET1JfV0VCR0wpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1dlYkdMMikgdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0Jyk7XG4gICAgICAgIGlmIChpc1dlYkdMMiB8fCAodGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0ICYmIGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKSkpIHtcbiAgICAgICAgICAgIHRoaXMuZXh0UmVuZGVyVG9UZXh0dXJlSGFsZkZsb2F0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXMgPSBpc1dlYkdMMiB8fCBnbC5nZXRFeHRlbnNpb24oJ09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcycpO1xuXG4gICAgICAgIHRoaXMuZXh0VGltZXJRdWVyeSA9IGdsLmdldEV4dGVuc2lvbignRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5Jyk7XG4gICAgICAgIHRoaXMubWF4VGV4dHVyZVNpemUgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfU0laRSk7XG4gICAgfVxuXG4gICAgc2V0RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy51bmJpbmRWQU8oKTtcblxuICAgICAgICB0aGlzLmNsZWFyQ29sb3Iuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsZWFyRGVwdGguc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsZWFyU3RlbmNpbC5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29sb3JNYXNrLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5kZXB0aE1hc2suc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsRnVuYy5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc3RlbmNpbE9wLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsVGVzdC5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuZGVwdGhSYW5nZS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuZGVwdGhUZXN0LnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5kZXB0aEZ1bmMuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmJsZW5kLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5ibGVuZEZ1bmMuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmJsZW5kQ29sb3Iuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmJsZW5kRXF1YXRpb24uc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmN1bGxGYWNlLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jdWxsRmFjZVNpZGUuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmZyb250RmFjZS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMucHJvZ3JhbS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuYWN0aXZlVGV4dHVyZS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuYmluZEZyYW1lYnVmZmVyLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZLnNldERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBzZXREaXJ0eSgpIHtcbiAgICAgICAgdGhpcy5jbGVhckNvbG9yLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbGVhckRlcHRoLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbGVhclN0ZW5jaWwuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbG9yTWFzay5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVwdGhNYXNrLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdGVuY2lsTWFzay5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RlbmNpbEZ1bmMuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0ZW5jaWxPcC5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RlbmNpbFRlc3QuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlcHRoUmFuZ2UuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlcHRoVGVzdC5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVwdGhGdW5jLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZC5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuYmxlbmRGdW5jLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZENvbG9yLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZEVxdWF0aW9uLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jdWxsRmFjZS5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VsbEZhY2VTaWRlLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mcm9udEZhY2UuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLnByb2dyYW0uZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmFjdGl2ZVRleHR1cmUuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpZXdwb3J0LmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iaW5kRnJhbWVidWZmZXIuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmJpbmRSZW5kZXJidWZmZXIuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmJpbmRUZXh0dXJlLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iaW5kVmVydGV4QnVmZmVyLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iaW5kRWxlbWVudEJ1ZmZlci5kaXJ0eSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjcmVhdGVJbmRleEJ1ZmZlcihhcnJheTogVHJpYW5nbGVJbmRleEFycmF5IHwgTGluZUluZGV4QXJyYXkgfCBMaW5lU3RyaXBJbmRleEFycmF5LCBkeW5hbWljRHJhdz86IGJvb2xlYW4pOiBJbmRleEJ1ZmZlciB7XG4gICAgICAgIHJldHVybiBuZXcgSW5kZXhCdWZmZXIodGhpcywgYXJyYXksIGR5bmFtaWNEcmF3KTtcbiAgICB9XG5cbiAgICBjcmVhdGVWZXJ0ZXhCdWZmZXIoYXJyYXk6IFN0cnVjdEFycmF5LCBhdHRyaWJ1dGVzOiAkUmVhZE9ubHlBcnJheTxTdHJ1Y3RBcnJheU1lbWJlcj4sIGR5bmFtaWNEcmF3PzogYm9vbGVhbik6IFZlcnRleEJ1ZmZlciB7XG4gICAgICAgIHJldHVybiBuZXcgVmVydGV4QnVmZmVyKHRoaXMsIGFycmF5LCBhdHRyaWJ1dGVzLCBkeW5hbWljRHJhdyk7XG4gICAgfVxuXG4gICAgY3JlYXRlUmVuZGVyYnVmZmVyKHN0b3JhZ2VGb3JtYXQ6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiA/V2ViR0xSZW5kZXJidWZmZXIge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgY29uc3QgcmJvID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgIHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5zZXQocmJvKTtcbiAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIHN0b3JhZ2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KG51bGwpO1xuXG4gICAgICAgIHJldHVybiByYm87XG4gICAgfVxuXG4gICAgY3JlYXRlRnJhbWVidWZmZXIod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGhhc0RlcHRoOiBib29sZWFuKTogRnJhbWVidWZmZXIge1xuICAgICAgICByZXR1cm4gbmV3IEZyYW1lYnVmZmVyKHRoaXMsIHdpZHRoLCBoZWlnaHQsIGhhc0RlcHRoKTtcbiAgICB9XG5cbiAgICBjbGVhcih7Y29sb3IsIGRlcHRoLCBzdGVuY2lsfTogQ2xlYXJBcmdzKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgbGV0IG1hc2sgPSAwO1xuXG4gICAgICAgIGlmIChjb2xvcikge1xuICAgICAgICAgICAgbWFzayB8PSBnbC5DT0xPUl9CVUZGRVJfQklUO1xuICAgICAgICAgICAgdGhpcy5jbGVhckNvbG9yLnNldChjb2xvcik7XG4gICAgICAgICAgICB0aGlzLmNvbG9yTWFzay5zZXQoW3RydWUsIHRydWUsIHRydWUsIHRydWVdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgZGVwdGggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBtYXNrIHw9IGdsLkRFUFRIX0JVRkZFUl9CSVQ7XG5cbiAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIHBsYXRmb3JtcyB3aGVyZSBjbGVhckRlcHRoIGRvZXNuJ3Qgc2VlbSB0byB3b3JrXG4gICAgICAgICAgICAvLyB3aXRob3V0IHJlc2V0aW5nIHRoZSBkZXB0aFJhbmdlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzM0MzdcbiAgICAgICAgICAgIHRoaXMuZGVwdGhSYW5nZS5zZXQoWzAsIDFdKTtcblxuICAgICAgICAgICAgdGhpcy5jbGVhckRlcHRoLnNldChkZXB0aCk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoTWFzay5zZXQodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHN0ZW5jaWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBtYXNrIHw9IGdsLlNURU5DSUxfQlVGRkVSX0JJVDtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTdGVuY2lsLnNldChzdGVuY2lsKTtcbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbE1hc2suc2V0KDB4RkYpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wuY2xlYXIobWFzayk7XG4gICAgfVxuXG4gICAgc2V0Q3VsbEZhY2UoY3VsbEZhY2VNb2RlOiAkUmVhZE9ubHk8Q3VsbEZhY2VNb2RlPikge1xuICAgICAgICBpZiAoY3VsbEZhY2VNb2RlLmVuYWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuY3VsbEZhY2Uuc2V0KGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VsbEZhY2Uuc2V0KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5jdWxsRmFjZVNpZGUuc2V0KGN1bGxGYWNlTW9kZS5tb2RlKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRGYWNlLnNldChjdWxsRmFjZU1vZGUuZnJvbnRGYWNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldERlcHRoTW9kZShkZXB0aE1vZGU6ICRSZWFkT25seTxEZXB0aE1vZGU+KSB7XG4gICAgICAgIGlmIChkZXB0aE1vZGUuZnVuYyA9PT0gdGhpcy5nbC5BTFdBWVMgJiYgIWRlcHRoTW9kZS5tYXNrKSB7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGVzdC5zZXQoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRlc3Quc2V0KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5kZXB0aEZ1bmMuc2V0KGRlcHRoTW9kZS5mdW5jKTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhNYXNrLnNldChkZXB0aE1vZGUubWFzayk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoUmFuZ2Uuc2V0KGRlcHRoTW9kZS5yYW5nZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTdGVuY2lsTW9kZShzdGVuY2lsTW9kZTogJFJlYWRPbmx5PFN0ZW5jaWxNb2RlPikge1xuICAgICAgICBpZiAoc3RlbmNpbE1vZGUudGVzdC5mdW5jID09PSB0aGlzLmdsLkFMV0FZUyAmJiAhc3RlbmNpbE1vZGUubWFzaykge1xuICAgICAgICAgICAgdGhpcy5zdGVuY2lsVGVzdC5zZXQoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGVuY2lsVGVzdC5zZXQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrLnNldChzdGVuY2lsTW9kZS5tYXNrKTtcbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbE9wLnNldChbc3RlbmNpbE1vZGUuZmFpbCwgc3RlbmNpbE1vZGUuZGVwdGhGYWlsLCBzdGVuY2lsTW9kZS5wYXNzXSk7XG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxGdW5jLnNldCh7XG4gICAgICAgICAgICAgICAgZnVuYzogc3RlbmNpbE1vZGUudGVzdC5mdW5jLFxuICAgICAgICAgICAgICAgIHJlZjogc3RlbmNpbE1vZGUucmVmLFxuICAgICAgICAgICAgICAgIG1hc2s6IHN0ZW5jaWxNb2RlLnRlc3QubWFza1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDb2xvck1vZGUoY29sb3JNb2RlOiAkUmVhZE9ubHk8Q29sb3JNb2RlPikge1xuICAgICAgICBpZiAoZGVlcEVxdWFsKGNvbG9yTW9kZS5ibGVuZEZ1bmN0aW9uLCBDb2xvck1vZGUuUmVwbGFjZSkpIHtcbiAgICAgICAgICAgIHRoaXMuYmxlbmQuc2V0KGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmxlbmQuc2V0KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5ibGVuZEZ1bmMuc2V0KGNvbG9yTW9kZS5ibGVuZEZ1bmN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuYmxlbmRDb2xvci5zZXQoY29sb3JNb2RlLmJsZW5kQ29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb2xvck1hc2suc2V0KGNvbG9yTW9kZS5tYXNrKTtcbiAgICB9XG5cbiAgICB1bmJpbmRWQU8oKSB7XG4gICAgICAgIC8vIFVuYmluZGluZyB0aGUgVkFPIHByZXZlbnRzIG90aGVyIHRoaW5ncyAoY3VzdG9tIGxheWVycywgbmV3IGJ1ZmZlciBjcmVhdGlvbikgZnJvbVxuICAgICAgICAvLyB1bmludGVudGlvbmFsbHkgY2hhbmdpbmcgdGhlIHN0YXRlIG9mIHRoZSBsYXN0IFZBTyB1c2VkLlxuICAgICAgICBpZiAodGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KG51bGwpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250ZXh0O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkLmpzJztcblxuaW1wb3J0IHtleHRlbmQsIHBpY2t9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgbG9hZFRpbGVKU09OIGZyb20gJy4vbG9hZF90aWxlanNvbi5qcyc7XG5pbXBvcnQge3Bvc3RUdXJuc3RpbGVFdmVudH0gZnJvbSAnLi4vdXRpbC9tYXBib3guanMnO1xuaW1wb3J0IFRpbGVCb3VuZHMgZnJvbSAnLi90aWxlX2JvdW5kcy5qcyc7XG5pbXBvcnQge1Jlc291cmNlVHlwZX0gZnJvbSAnLi4vdXRpbC9hamF4LmpzJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQge2NhY2hlRW50cnlQb3NzaWJseUFkZGVkfSBmcm9tICcuLi91dGlsL3RpbGVfcmVxdWVzdF9jYWNoZS5qcyc7XG5pbXBvcnQge0RlZHVwZWRSZXF1ZXN0LCBsb2FkVmVjdG9yVGlsZX0gZnJvbSAnLi92ZWN0b3JfdGlsZV93b3JrZXJfc291cmNlLmpzJztcblxuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi9zb3VyY2UuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4vdGlsZV9pZC5qcyc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwLmpzJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlLmpzJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2suanMnO1xuaW1wb3J0IHR5cGUge0NhbmNlbGFibGV9IGZyb20gJy4uL3R5cGVzL2NhbmNlbGFibGUuanMnO1xuaW1wb3J0IHR5cGUge1ZlY3RvclNvdXJjZVNwZWNpZmljYXRpb24sIFByb21vdGVJZFNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuaW1wb3J0IHR5cGUgQWN0b3IgZnJvbSAnLi4vdXRpbC9hY3Rvci5qcyc7XG5pbXBvcnQgdHlwZSB7TG9hZFZlY3RvclRpbGVSZXN1bHR9IGZyb20gJy4vdmVjdG9yX3RpbGVfd29ya2VyX3NvdXJjZS5qcyc7XG5cbi8qKlxuICogQSBzb3VyY2UgY29udGFpbmluZyB2ZWN0b3IgdGlsZXMgaW4gW01hcGJveCBWZWN0b3IgVGlsZSBmb3JtYXRdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL3ZlY3Rvci10aWxlcy9yZWZlcmVuY2UvKS5cbiAqIFNlZSB0aGUgW1N0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvI3ZlY3RvcikgZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24gb2Ygb3B0aW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAndmVjdG9yJyxcbiAqICAgICB1cmw6ICdtYXBib3g6Ly9tYXBib3gubWFwYm94LXN0cmVldHMtdjgnXG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAndmVjdG9yJyxcbiAqICAgICB0aWxlczogWydodHRwczovL2QyNXVhcmh4eXd6bDFqLmNsb3VkZnJvbnQubmV0L3YwLjEve3p9L3t4fS97eX0ubXZ0J10sXG4gKiAgICAgbWluem9vbTogNixcbiAqICAgICBtYXh6b29tOiAxNFxuICogfSk7XG4gKlxuICogQGV4YW1wbGVcbiAqIG1hcC5nZXRTb3VyY2UoJ3NvbWUgaWQnKS5zZXRVcmwoXCJtYXBib3g6Ly9tYXBib3gubWFwYm94LXN0cmVldHMtdjhcIik7XG4gKlxuICogQGV4YW1wbGVcbiAqIG1hcC5nZXRTb3VyY2UoJ3NvbWUgaWQnKS5zZXRUaWxlcyhbJ2h0dHBzOi8vZDI1dWFyaHh5d3psMWouY2xvdWRmcm9udC5uZXQvdjAuMS97en0ve3h9L3t5fS5tdnQnXSk7XG4gKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSB2ZWN0b3IgdGlsZSBzb3VyY2VdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3ZlY3Rvci1zb3VyY2UvKVxuICogQHNlZSBbRXhhbXBsZTogQWRkIGEgdGhpcmQgcGFydHkgdmVjdG9yIHRpbGUgc291cmNlXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90aGlyZC1wYXJ0eS8pXG4gKi9cbmNsYXNzIFZlY3RvclRpbGVTb3VyY2UgZXh0ZW5kcyBFdmVudGVkIGltcGxlbWVudHMgU291cmNlIHtcbiAgICB0eXBlOiAndmVjdG9yJztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgc2NoZW1lOiBzdHJpbmc7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcbiAgICBwcm9tb3RlSWQ6ID9Qcm9tb3RlSWRTcGVjaWZpY2F0aW9uO1xuXG4gICAgX29wdGlvbnM6IFZlY3RvclNvdXJjZVNwZWNpZmljYXRpb247XG4gICAgX2NvbGxlY3RSZXNvdXJjZVRpbWluZzogYm9vbGVhbjtcbiAgICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICAgIG1hcDogTWFwO1xuICAgIGJvdW5kczogP1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICAgIHRpbGVzOiBBcnJheTxzdHJpbmc+O1xuICAgIHRpbGVCb3VuZHM6IFRpbGVCb3VuZHM7XG4gICAgcmVwYXJzZU92ZXJzY2FsZWQ6IGJvb2xlYW4gfCB2b2lkO1xuICAgIGlzVGlsZUNsaXBwZWQ6IGJvb2xlYW4gfCB2b2lkO1xuICAgIF90aWxlSlNPTlJlcXVlc3Q6ID9DYW5jZWxhYmxlO1xuICAgIF9sb2FkZWQ6IGJvb2xlYW47XG4gICAgX3RpbGVXb3JrZXJzOiB7W3N0cmluZ106IEFjdG9yfTtcbiAgICBfZGVkdXBlZDogRGVkdXBlZFJlcXVlc3Q7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBWZWN0b3JTb3VyY2VTcGVjaWZpY2F0aW9uICYge2NvbGxlY3RSZXNvdXJjZVRpbWluZzogYm9vbGVhbn0sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICd2ZWN0b3InO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5zY2hlbWUgPSAneHl6JztcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IDUxMjtcbiAgICAgICAgdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNUaWxlQ2xpcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCBwaWNrKG9wdGlvbnMsIFsndXJsJywgJ3NjaGVtZScsICd0aWxlU2l6ZScsICdwcm9tb3RlSWQnXSkpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gZXh0ZW5kKHt0eXBlOiAndmVjdG9yJ30sIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyA9IG9wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nO1xuXG4gICAgICAgIGlmICh0aGlzLnRpbGVTaXplICE9PSA1MTIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndmVjdG9yIHRpbGUgc291cmNlcyBtdXN0IGhhdmUgYSB0aWxlU2l6ZSBvZiA1MTInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0RXZlbnRlZFBhcmVudChldmVudGVkUGFyZW50KTtcblxuICAgICAgICB0aGlzLl90aWxlV29ya2VycyA9IHt9O1xuICAgICAgICB0aGlzLl9kZWR1cGVkID0gbmV3IERlZHVwZWRSZXF1ZXN0KCk7XG4gICAgfVxuXG4gICAgbG9hZChjYWxsYmFjaz86IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gQXJyYXkuaXNBcnJheSh0aGlzLm1hcC5fbGFuZ3VhZ2UpID8gdGhpcy5tYXAuX2xhbmd1YWdlLmpvaW4oKSA6IHRoaXMubWFwLl9sYW5ndWFnZTtcbiAgICAgICAgY29uc3Qgd29ybGR2aWV3ID0gdGhpcy5tYXAuX3dvcmxkdmlldztcbiAgICAgICAgdGhpcy5fdGlsZUpTT05SZXF1ZXN0ID0gbG9hZFRpbGVKU09OKHRoaXMuX29wdGlvbnMsIHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwgbGFuZ3VhZ2UsIHdvcmxkdmlldywgKGVyciwgdGlsZUpTT04pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVKU09OUmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZSkgY29uc29sZS53YXJuKGBFbnN1cmUgdGhhdCB5b3VyIHJlcXVlc3RlZCBsYW5ndWFnZSBzdHJpbmcgaXMgYSB2YWxpZCBCQ1AtNDcgY29kZSBvciBsaXN0IG9mIGNvZGVzLiBGb3VuZDogJHtsYW5ndWFnZX1gKTtcbiAgICAgICAgICAgICAgICBpZiAod29ybGR2aWV3ICYmIHdvcmxkdmlldy5sZW5ndGggIT09IDIpIGNvbnNvbGUud2FybihgUmVxdWVzdGVkIHdvcmxkdmlldyBzdHJpbmdzIG11c3QgYmUgYSB2YWxpZCBJU08gYWxwaGEtMiBjb2RlLiBGb3VuZDogJHt3b3JsZHZpZXd9YCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRpbGVKU09OKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsIHRpbGVKU09OKTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZUpTT04uYm91bmRzKSB0aGlzLnRpbGVCb3VuZHMgPSBuZXcgVGlsZUJvdW5kcyh0aWxlSlNPTi5ib3VuZHMsIHRoaXMubWluem9vbSwgdGhpcy5tYXh6b29tKTtcbiAgICAgICAgICAgICAgICBwb3N0VHVybnN0aWxlRXZlbnQodGlsZUpTT04udGlsZXMsIHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4pO1xuXG4gICAgICAgICAgICAgICAgLy8gYGNvbnRlbnRgIGlzIGluY2x1ZGVkIGhlcmUgdG8gcHJldmVudCBhIHJhY2UgY29uZGl0aW9uIHdoZXJlIGBTdHlsZSNfdXBkYXRlU291cmNlc2AgaXMgY2FsbGVkXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIHRoZSBUaWxlSlNPTiBhcnJpdmVzLiB0aGlzIG1ha2VzIHN1cmUgdGhlIHRpbGVzIG5lZWRlZCBhcmUgbG9hZGVkIG9uY2UgVGlsZUpTT04gYXJyaXZlc1xuICAgICAgICAgICAgICAgIC8vIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvcHVsbC80MzQ3I2Rpc2N1c3Npb25fcjEwNDQxODA4OFxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50J30pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkZWQ7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIGhhc1RpbGUodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy50aWxlQm91bmRzIHx8IHRoaXMudGlsZUJvdW5kcy5jb250YWlucyh0aWxlSUQuY2Fub25pY2FsKTtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbG9hZHMgdGhlIHNvdXJjZSBkYXRhIGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5nZXRTb3VyY2UoJ3NvdXJjZS1pZCcpLnJlbG9hZCgpO1xuICAgICAqL1xuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICByZWxvYWQoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCk7XG4gICAgICAgIHRoaXMubG9hZCgoKSA9PiB0aGlzLm1hcC5zdHlsZS5fY2xlYXJTb3VyY2UodGhpcy5pZCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNvdXJjZSBgdGlsZXNgIHByb3BlcnR5IGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB0aWxlcyBBbiBhcnJheSBvZiBvbmUgb3IgbW9yZSB0aWxlIHNvdXJjZSBVUkxzLCBhcyBpbiB0aGUgVGlsZUpTT04gc3BlYy5cbiAgICAgKiBAcmV0dXJucyB7VmVjdG9yVGlsZVNvdXJjZX0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5hZGRTb3VyY2UoJ3NvdXJjZS1pZCcsIHtcbiAgICAgKiAgICAgdHlwZTogJ3ZlY3RvcicsXG4gICAgICogICAgIHRpbGVzOiBbJ2h0dHBzOi8vc29tZV9lbmRfcG9pbnQubmV0L3t6fS97eH0ve3l9Lm12dCddLFxuICAgICAqICAgICBtaW56b29tOiA2LFxuICAgICAqICAgICBtYXh6b29tOiAxNFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy8gU2V0IHRoZSBlbmRwb2ludCBhc3NvY2lhdGVkIHdpdGggYSB2ZWN0b3IgdGlsZSBzb3VyY2UuXG4gICAgICogbWFwLmdldFNvdXJjZSgnc291cmNlLWlkJykuc2V0VGlsZXMoWydodHRwczovL2Fub3RoZXJfZW5kX3BvaW50Lm5ldC97en0ve3h9L3t5fS5tdnQnXSk7XG4gICAgICovXG4gICAgc2V0VGlsZXModGlsZXM6IEFycmF5PHN0cmluZz4pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fb3B0aW9ucy50aWxlcyA9IHRpbGVzO1xuICAgICAgICB0aGlzLnJlbG9hZCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNvdXJjZSBgdXJsYCBwcm9wZXJ0eSBhbmQgcmUtcmVuZGVycyB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBBIFVSTCB0byBhIFRpbGVKU09OIHJlc291cmNlLiBTdXBwb3J0ZWQgcHJvdG9jb2xzIGFyZSBgaHR0cDpgLCBgaHR0cHM6YCwgYW5kIGBtYXBib3g6Ly88VGlsZXNldCBJRD5gLlxuICAgICAqIEByZXR1cm5zIHtWZWN0b3JUaWxlU291cmNlfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmFkZFNvdXJjZSgnc291cmNlLWlkJywge1xuICAgICAqICAgICB0eXBlOiAndmVjdG9yJyxcbiAgICAgKiAgICAgdXJsOiAnbWFwYm94Oi8vbWFwYm94Lm1hcGJveC1zdHJlZXRzLXY3J1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy8gVXBkYXRlIHZlY3RvciB0aWxlIHNvdXJjZSB0byBhIG5ldyBVUkwgZW5kcG9pbnRcbiAgICAgKiBtYXAuZ2V0U291cmNlKCdzb3VyY2UtaWQnKS5zZXRVcmwoXCJtYXBib3g6Ly9tYXBib3gubWFwYm94LXN0cmVldHMtdjhcIik7XG4gICAgICovXG4gICAgc2V0VXJsKHVybDogc3RyaW5nKTogdGhpcyB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLl9vcHRpb25zLnVybCA9IHVybDtcbiAgICAgICAgdGhpcy5yZWxvYWQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IFZlY3RvclNvdXJjZVNwZWNpZmljYXRpb24ge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zKTtcbiAgICB9XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVRpbGVVUkwodGlsZS50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLCB0aGlzLnNjaGVtZSkpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuVGlsZSk7XG5cbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVpZDogdGlsZS51aWQsXG4gICAgICAgICAgICB0aWxlSUQ6IHRpbGUudGlsZUlELFxuICAgICAgICAgICAgdGlsZVpvb206IHRpbGUudGlsZVpvb20sXG4gICAgICAgICAgICB6b29tOiB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLnRpbGVTaXplICogdGlsZS50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICAgICAgICBwaXhlbFJhdGlvOiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICBzaG93Q29sbGlzaW9uQm94ZXM6IHRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlcyxcbiAgICAgICAgICAgIHByb21vdGVJZDogdGhpcy5wcm9tb3RlSWQsXG4gICAgICAgICAgICBpc1N5bWJvbFRpbGU6IHRpbGUuaXNTeW1ib2xUaWxlXG4gICAgICAgIH07XG4gICAgICAgIHBhcmFtcy5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZyA9IHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZztcblxuICAgICAgICBpZiAoIXRpbGUuYWN0b3IgfHwgdGlsZS5zdGF0ZSA9PT0gJ2V4cGlyZWQnKSB7XG4gICAgICAgICAgICB0aWxlLmFjdG9yID0gdGhpcy5fdGlsZVdvcmtlcnNbdXJsXSA9IHRoaXMuX3RpbGVXb3JrZXJzW3VybF0gfHwgdGhpcy5kaXNwYXRjaGVyLmdldEFjdG9yKCk7XG5cbiAgICAgICAgICAgIC8vIGlmIHdvcmtlcnMgYXJlIG5vdCByZWFkeSB0byByZWNlaXZlIG1lc3NhZ2VzIHlldCwgdXNlIHRoZSBpZGxlIHRpbWUgdG8gcHJlZW1wdGl2ZWx5XG4gICAgICAgICAgICAvLyBsb2FkIHRpbGVzIG9uIHRoZSBtYWluIHRocmVhZCBhbmQgcGFzcyB0aGUgcmVzdWx0IGluc3RlYWQgb2YgcmVxdWVzdGluZyBhIHdvcmtlciB0byBkbyBzb1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRpc3BhdGNoZXIucmVhZHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5jZWwgPSBsb2FkVmVjdG9yVGlsZS5jYWxsKHtkZWR1cGVkOiB0aGlzLl9kZWR1cGVkfSwgcGFyYW1zLCAoZXJyOiA/RXJyb3IsIGRhdGE6ID9Mb2FkVmVjdG9yVGlsZVJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIHx8ICFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lLmNhbGwodGhpcywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSB3b3JrZXIgd2lsbCBza2lwIHRoZSBuZXR3b3JrIHJlcXVlc3QgaWYgdGhlIGRhdGEgaXMgYWxyZWFkeSB0aGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiBkYXRhLmNhY2hlQ29udHJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiBkYXRhLmV4cGlyZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3RGF0YTogZGF0YS5yYXdEYXRhLnNsaWNlKDApXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbGUuYWN0b3IpIHRpbGUuYWN0b3Iuc2VuZCgnbG9hZFRpbGUnLCBwYXJhbXMsIGRvbmUuYmluZCh0aGlzKSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgICAgIHRpbGUucmVxdWVzdCA9IHtjYW5jZWx9O1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRpbGUucmVxdWVzdCA9IHRpbGUuYWN0b3Iuc2VuZCgnbG9hZFRpbGUnLCBwYXJhbXMsIGRvbmUuYmluZCh0aGlzKSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHRpbGUuc3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgICAgICAgICAgLy8gc2NoZWR1bGUgdGlsZSByZWxvYWRpbmcgYWZ0ZXIgaXQgaGFzIGJlZW4gbG9hZGVkXG4gICAgICAgICAgICB0aWxlLnJlbG9hZENhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbGUucmVxdWVzdCA9IHRpbGUuYWN0b3Iuc2VuZCgncmVsb2FkVGlsZScsIHBhcmFtcywgZG9uZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRvbmUoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5yZXF1ZXN0O1xuXG4gICAgICAgICAgICBpZiAodGlsZS5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcblxuICAgICAgICAgICAgaWYgKGVyciAmJiBlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXNvdXJjZVRpbWluZylcbiAgICAgICAgICAgICAgICB0aWxlLnJlc291cmNlVGltaW5nID0gZGF0YS5yZXNvdXJjZVRpbWluZztcblxuICAgICAgICAgICAgaWYgKHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzICYmIGRhdGEpIHRpbGUuc2V0RXhwaXJ5RGF0YShkYXRhKTtcbiAgICAgICAgICAgIHRpbGUubG9hZFZlY3RvckRhdGEoZGF0YSwgdGhpcy5tYXAucGFpbnRlcik7XG5cbiAgICAgICAgICAgIGNhY2hlRW50cnlQb3NzaWJseUFkZGVkKHRoaXMuZGlzcGF0Y2hlcik7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuXG4gICAgICAgICAgICBpZiAodGlsZS5yZWxvYWRDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZFRpbGUodGlsZSwgdGlsZS5yZWxvYWRDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgdGlsZS5yZWxvYWRDYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgYWJvcnRUaWxlKHRpbGU6IFRpbGUpIHtcbiAgICAgICAgaWYgKHRpbGUucmVxdWVzdCkge1xuICAgICAgICAgICAgdGlsZS5yZXF1ZXN0LmNhbmNlbCgpO1xuICAgICAgICAgICAgZGVsZXRlIHRpbGUucmVxdWVzdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGlsZS5hY3Rvcikge1xuICAgICAgICAgICAgdGlsZS5hY3Rvci5zZW5kKCdhYm9ydFRpbGUnLCB7dWlkOiB0aWxlLnVpZCwgdHlwZTogdGhpcy50eXBlLCBzb3VyY2U6IHRoaXMuaWR9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICB1bmxvYWRUaWxlKHRpbGU6IFRpbGUpIHtcbiAgICAgICAgdGlsZS51bmxvYWRWZWN0b3JEYXRhKCk7XG4gICAgICAgIGlmICh0aWxlLmFjdG9yKSB7XG4gICAgICAgICAgICB0aWxlLmFjdG9yLnNlbmQoJ3JlbW92ZVRpbGUnLCB7dWlkOiB0aWxlLnVpZCwgdHlwZTogdGhpcy50eXBlLCBzb3VyY2U6IHRoaXMuaWR9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgYWZ0ZXJVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX3RpbGVXb3JrZXJzID0ge307XG4gICAgfVxuXG4gICAgY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX3RpbGVKU09OUmVxdWVzdCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMuX3RpbGVKU09OUmVxdWVzdCA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JUaWxlU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtleHRlbmQsIHBpY2t9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5cbmltcG9ydCB7Z2V0SW1hZ2UsIFJlc291cmNlVHlwZX0gZnJvbSAnLi4vdXRpbC9hamF4LmpzJztcbmltcG9ydCB7RXZlbnQsIEVycm9yRXZlbnQsIEV2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQgbG9hZFRpbGVKU09OIGZyb20gJy4vbG9hZF90aWxlanNvbi5qcyc7XG5pbXBvcnQge3Bvc3RUdXJuc3RpbGVFdmVudH0gZnJvbSAnLi4vdXRpbC9tYXBib3guanMnO1xuaW1wb3J0IFRpbGVCb3VuZHMgZnJvbSAnLi90aWxlX2JvdW5kcy5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuXG5pbXBvcnQge2NhY2hlRW50cnlQb3NzaWJseUFkZGVkfSBmcm9tICcuLi91dGlsL3RpbGVfcmVxdWVzdF9jYWNoZS5qcyc7XG5cbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3JlbmRlci9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlLmpzJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2suanMnO1xuaW1wb3J0IHR5cGUge0NhbmNlbGFibGV9IGZyb20gJy4uL3R5cGVzL2NhbmNlbGFibGUuanMnO1xuaW1wb3J0IHR5cGUge1RleHR1cmVJbWFnZX0gZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUuanMnO1xuaW1wb3J0IHR5cGUge1xuICAgIFJhc3RlclNvdXJjZVNwZWNpZmljYXRpb24sXG4gICAgUmFzdGVyREVNU291cmNlU3BlY2lmaWNhdGlvblxufSBmcm9tICcuLi9zdHlsZS1zcGVjL3R5cGVzLmpzJztcblxuLyoqXG4gKiBBIHNvdXJjZSBjb250YWluaW5nIHJhc3RlciB0aWxlcy5cbiAqIFNlZSB0aGUgW1N0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvI3Jhc3RlcikgZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24gb2Ygb3B0aW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAncmFzdGVyJyxcbiAqICAgICB1cmw6ICdtYXBib3g6Ly9tYXBib3guc2F0ZWxsaXRlJyxcbiAqICAgICB0aWxlU2l6ZTogMjU2XG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAncmFzdGVyJyxcbiAqICAgICB0aWxlczogWydodHRwczovL2ltZy5uai5nb3YvaW1hZ2VyeXdtcy9OYXR1cmFsMjAxNT9iYm94PXtiYm94LWVwc2ctMzg1N30mZm9ybWF0PWltYWdlL3BuZyZzZXJ2aWNlPVdNUyZ2ZXJzaW9uPTEuMS4xJnJlcXVlc3Q9R2V0TWFwJnNycz1FUFNHOjM4NTcmdHJhbnNwYXJlbnQ9dHJ1ZSZ3aWR0aD0yNTYmaGVpZ2h0PTI1NiZsYXllcnM9TmF0dXJhbDIwMTUnXSxcbiAqICAgICB0aWxlU2l6ZTogMjU2XG4gKiB9KTtcbiAqXG4gKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSByYXN0ZXIgdGlsZSBzb3VyY2VdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL21hcC10aWxlcy8pXG4gKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSBXTVMgc291cmNlXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS93bXMvKVxuICovXG5jbGFzcyBSYXN0ZXJUaWxlU291cmNlIGV4dGVuZHMgRXZlbnRlZCBpbXBsZW1lbnRzIFNvdXJjZSB7XG4gICAgdHlwZTogJ3Jhc3RlcicgfCAncmFzdGVyLWRlbSc7XG4gICAgaWQ6IHN0cmluZztcbiAgICBtaW56b29tOiBudW1iZXI7XG4gICAgbWF4em9vbTogbnVtYmVyO1xuICAgIHVybDogc3RyaW5nO1xuICAgIHNjaGVtZTogc3RyaW5nO1xuICAgIHRpbGVTaXplOiBudW1iZXI7XG5cbiAgICBib3VuZHM6ID9bbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbiAgICB0aWxlQm91bmRzOiBUaWxlQm91bmRzO1xuICAgIHJvdW5kWm9vbTogYm9vbGVhbiB8IHZvaWQ7XG4gICAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgICBtYXA6IE1hcDtcbiAgICB0aWxlczogQXJyYXk8c3RyaW5nPjtcblxuICAgIF9sb2FkZWQ6IGJvb2xlYW47XG4gICAgX29wdGlvbnM6IFJhc3RlclNvdXJjZVNwZWNpZmljYXRpb24gfCBSYXN0ZXJERU1Tb3VyY2VTcGVjaWZpY2F0aW9uO1xuICAgIF90aWxlSlNPTlJlcXVlc3Q6ID9DYW5jZWxhYmxlO1xuXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgb3B0aW9uczogUmFzdGVyU291cmNlU3BlY2lmaWNhdGlvbiB8IFJhc3RlckRFTVNvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuICAgICAgICB0aGlzLnNldEV2ZW50ZWRQYXJlbnQoZXZlbnRlZFBhcmVudCk7XG5cbiAgICAgICAgdGhpcy50eXBlID0gJ3Jhc3Rlcic7XG4gICAgICAgIHRoaXMubWluem9vbSA9IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IDIyO1xuICAgICAgICB0aGlzLnJvdW5kWm9vbSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2NoZW1lID0gJ3h5eic7XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSA1MTI7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBleHRlbmQoe3R5cGU6ICdyYXN0ZXInfSwgb3B0aW9ucyk7XG4gICAgICAgIGV4dGVuZCh0aGlzLCBwaWNrKG9wdGlvbnMsIFsndXJsJywgJ3NjaGVtZScsICd0aWxlU2l6ZSddKSk7XG4gICAgfVxuXG4gICAgbG9hZChjYWxsYmFjaz86IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIHRoaXMuX3RpbGVKU09OUmVxdWVzdCA9IGxvYWRUaWxlSlNPTih0aGlzLl9vcHRpb25zLCB0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsIG51bGwsIG51bGwsIChlcnIsIHRpbGVKU09OKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl90aWxlSlNPTlJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRpbGVKU09OKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsIHRpbGVKU09OKTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZUpTT04uYm91bmRzKSB0aGlzLnRpbGVCb3VuZHMgPSBuZXcgVGlsZUJvdW5kcyh0aWxlSlNPTi5ib3VuZHMsIHRoaXMubWluem9vbSwgdGhpcy5tYXh6b29tKTtcblxuICAgICAgICAgICAgICAgIHBvc3RUdXJuc3RpbGVFdmVudCh0aWxlSlNPTi50aWxlcyk7XG5cbiAgICAgICAgICAgICAgICAvLyBgY29udGVudGAgaXMgaW5jbHVkZWQgaGVyZSB0byBwcmV2ZW50IGEgcmFjZSBjb25kaXRpb24gd2hlcmUgYFN0eWxlI191cGRhdGVTb3VyY2VzYCBpcyBjYWxsZWRcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmUgdGhlIFRpbGVKU09OIGFycml2ZXMuIHRoaXMgbWFrZXMgc3VyZSB0aGUgdGlsZXMgbmVlZGVkIGFyZSBsb2FkZWQgb25jZSBUaWxlSlNPTiBhcnJpdmVzXG4gICAgICAgICAgICAgICAgLy8gcmVmOiBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9wdWxsLzQzNDcjZGlzY3Vzc2lvbl9yMTA0NDE4MDg4XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnbWV0YWRhdGEnfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ2NvbnRlbnQnfSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlZDtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbG9hZHMgdGhlIHNvdXJjZSBkYXRhIGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5nZXRTb3VyY2UoJ3NvdXJjZS1pZCcpLnJlbG9hZCgpO1xuICAgICAqL1xuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICByZWxvYWQoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCk7XG4gICAgICAgIHRoaXMubG9hZCgoKSA9PiB0aGlzLm1hcC5zdHlsZS5fY2xlYXJTb3VyY2UodGhpcy5pZCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNvdXJjZSBgdGlsZXNgIHByb3BlcnR5IGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB0aWxlcyBBbiBhcnJheSBvZiBvbmUgb3IgbW9yZSB0aWxlIHNvdXJjZSBVUkxzLCBhcyBpbiB0aGUgVGlsZUpTT04gc3BlYy5cbiAgICAgKiBAcmV0dXJucyB7UmFzdGVyVGlsZVNvdXJjZX0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5hZGRTb3VyY2UoJ3NvdXJjZS1pZCcsIHtcbiAgICAgKiAgICAgdHlwZTogJ3Jhc3RlcicsXG4gICAgICogICAgIHRpbGVzOiBbJ2h0dHBzOi8vc29tZV9lbmRfcG9pbnQubmV0L3t6fS97eH0ve3l9LnBuZyddLFxuICAgICAqICAgICB0aWxlU2l6ZTogMjU2XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiAvLyBTZXQgdGhlIGVuZHBvaW50IGFzc29jaWF0ZWQgd2l0aCBhIHJhc3RlciB0aWxlIHNvdXJjZS5cbiAgICAgKiBtYXAuZ2V0U291cmNlKCdzb3VyY2UtaWQnKS5zZXRUaWxlcyhbJ2h0dHBzOi8vYW5vdGhlcl9lbmRfcG9pbnQubmV0L3t6fS97eH0ve3l9LnBuZyddKTtcbiAgICAgKi9cbiAgICBzZXRUaWxlcyh0aWxlczogQXJyYXk8c3RyaW5nPik6IHRoaXMge1xuICAgICAgICB0aGlzLl9vcHRpb25zLnRpbGVzID0gdGlsZXM7XG4gICAgICAgIHRoaXMucmVsb2FkKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc291cmNlIGB1cmxgIHByb3BlcnR5IGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEEgVVJMIHRvIGEgVGlsZUpTT04gcmVzb3VyY2UuIFN1cHBvcnRlZCBwcm90b2NvbHMgYXJlIGBodHRwOmAsIGBodHRwczpgLCBhbmQgYG1hcGJveDovLzxUaWxlc2V0IElEPmAuXG4gICAgICogQHJldHVybnMge1Jhc3RlclRpbGVTb3VyY2V9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuYWRkU291cmNlKCdzb3VyY2UtaWQnLCB7XG4gICAgICogICAgIHR5cGU6ICdyYXN0ZXInLFxuICAgICAqICAgICB1cmw6ICdtYXBib3g6Ly9tYXBib3guc2F0ZWxsaXRlJ1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy8gVXBkYXRlIHJhc3RlciB0aWxlIHNvdXJjZSB0byBhIG5ldyBVUkwgZW5kcG9pbnRcbiAgICAgKiBtYXAuZ2V0U291cmNlKCdzb3VyY2UtaWQnKS5zZXRVcmwoJ21hcGJveDovL21hcGJveC5zYXRlbGxpdGUnKTtcbiAgICAgKi9cbiAgICBzZXRVcmwodXJsOiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuX29wdGlvbnMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLnJlbG9hZCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxUaWxlSlNPTlJlcXVlc3QoKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKTogUmFzdGVyU291cmNlU3BlY2lmaWNhdGlvbiB8IFJhc3RlckRFTVNvdXJjZVNwZWNpZmljYXRpb24ge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgaGFzVGlsZSh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLnRpbGVCb3VuZHMgfHwgdGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKHRpbGVJRC5jYW5vbmljYWwpO1xuICAgIH1cblxuICAgIGxvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICBjb25zdCB1c2UyeCA9IGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyA+PSAyO1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0aWxlLnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsIHRoaXMuc2NoZW1lKSwgdXNlMngsIHRoaXMudGlsZVNpemUpO1xuICAgICAgICB0aWxlLnJlcXVlc3QgPSBnZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh1cmwsIFJlc291cmNlVHlwZS5UaWxlKSwgKGVycm9yLCBkYXRhLCBjYWNoZUNvbnRyb2wsIGV4cGlyZXMpID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG5cbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnZXJyb3JlZCc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkYXRhKSByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcykgdGlsZS5zZXRFeHBpcnlEYXRhKHtjYWNoZUNvbnRyb2wsIGV4cGlyZXN9KTtcbiAgICAgICAgICAgIHRpbGUuc2V0VGV4dHVyZShkYXRhLCB0aGlzLm1hcC5wYWludGVyKTtcbiAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcblxuICAgICAgICAgICAgY2FjaGVFbnRyeVBvc3NpYmx5QWRkZWQodGhpcy5kaXNwYXRjaGVyKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbG9hZFRpbGVEYXRhKHRpbGU6IFRpbGUsIGRhdGE6IFRleHR1cmVJbWFnZSwgcGFpbnRlcjogUGFpbnRlcikge1xuICAgICAgICB0aWxlLnNldFRleHR1cmUoZGF0YSwgcGFpbnRlcik7XG4gICAgfVxuXG4gICAgc3RhdGljIHVubG9hZFRpbGVEYXRhKHRpbGU6IFRpbGUsIHBhaW50ZXI6IFBhaW50ZXIpIHtcbiAgICAgICAgaWYgKHRpbGUudGV4dHVyZSkge1xuICAgICAgICAgICAgcGFpbnRlci5zYXZlVGlsZVRleHR1cmUodGlsZS50ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBhYm9ydFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIGlmICh0aWxlLnJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRpbGUucmVxdWVzdC5jYW5jZWwoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgaWYgKHRpbGUudGV4dHVyZSkgdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUodGlsZS50ZXh0dXJlKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX3RpbGVKU09OUmVxdWVzdCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMuX3RpbGVKU09OUmVxdWVzdCA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSYXN0ZXJUaWxlU291cmNlO1xuIiwiLy8gQGZsb3dcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi93aW5kb3cuanMnO1xuXG5sZXQgc3VwcG9ydHNPZmZzY3JlZW5DYW52YXM6ID9ib29sZWFuO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvZmZzY3JlZW5DYW52YXNTdXBwb3J0ZWQoKTogYm9vbGVhbiB7XG4gICAgaWYgKHN1cHBvcnRzT2Zmc2NyZWVuQ2FudmFzID09IG51bGwpIHtcbiAgICAgICAgc3VwcG9ydHNPZmZzY3JlZW5DYW52YXMgPSB3aW5kb3cuT2Zmc2NyZWVuQ2FudmFzICYmXG4gICAgICAgICAgICBuZXcgd2luZG93Lk9mZnNjcmVlbkNhbnZhcygxLCAxKS5nZXRDb250ZXh0KCcyZCcpICYmXG4gICAgICAgICAgICB0eXBlb2Ygd2luZG93LmNyZWF0ZUltYWdlQml0bWFwID09PSAnZnVuY3Rpb24nO1xuICAgIH1cblxuICAgIHJldHVybiBzdXBwb3J0c09mZnNjcmVlbkNhbnZhcztcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7Q2Fub25pY2FsVGlsZUlEfSBmcm9tICcuL3RpbGVfaWQuanMnO1xuaW1wb3J0IHtFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkLmpzJztcbmltcG9ydCB7Z2V0SW1hZ2UsIFJlc291cmNlVHlwZX0gZnJvbSAnLi4vdXRpbC9hamF4LmpzJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQuanMnO1xuaW1wb3J0IHtSYXN0ZXJCb3VuZHNBcnJheX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5pbXBvcnQgYm91bmRzQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL2JvdW5kc19hdHRyaWJ1dGVzLmpzJztcbmltcG9ydCBTZWdtZW50VmVjdG9yIGZyb20gJy4uL2RhdGEvc2VnbWVudC5qcyc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9yZW5kZXIvdGV4dHVyZS5qcyc7XG5pbXBvcnQgTWVyY2F0b3JDb29yZGluYXRlIGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQgdGlsZVRyYW5zZm9ybSwge2dldFRpbGVQb2ludH0gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vdGlsZV90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHttYXQzLCB2ZWMzfSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdy5qcyc7XG5cbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlLmpzJztcbmltcG9ydCB0eXBlIHtDYW52YXNTb3VyY2VTcGVjaWZpY2F0aW9ufSBmcm9tICcuL2NhbnZhc19zb3VyY2UuanMnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlci5qcyc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4vdGlsZS5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrLmpzJztcbmltcG9ydCB0eXBlIHtDYW5jZWxhYmxlfSBmcm9tICcuLi90eXBlcy9jYW5jZWxhYmxlLmpzJztcbmltcG9ydCB0eXBlIFZlcnRleEJ1ZmZlciBmcm9tICcuLi9nbC92ZXJ0ZXhfYnVmZmVyLmpzJztcbmltcG9ydCB0eXBlIHtcbiAgICBJbWFnZVNvdXJjZVNwZWNpZmljYXRpb24sXG4gICAgVmlkZW9Tb3VyY2VTcGVjaWZpY2F0aW9uXG59IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0LmpzJztcblxudHlwZSBDb29yZGluYXRlcyA9IFtbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdXTtcblxuLy8gcGVyc3BlY3RpdmUgY29ycmVjdGlvbiBmb3IgdGV4dHVyZSBtYXBwaW5nLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzkxNThcbi8vIGFkYXB0ZWQgZnJvbSBodHRwczovL21hdGguc3RhY2tleGNoYW5nZS5jb20vYS8zMzkwMzMvNDg2NTNcblxuZnVuY3Rpb24gYmFzaXNUb1BvaW50cyh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcbiAgICBjb25zdCBtID0gW3gxLCB4MiwgeDMsIHkxLCB5MiwgeTMsIDEsIDEsIDFdO1xuICAgIGNvbnN0IHMgPSBbeDQsIHk0LCAxXTtcbiAgICBjb25zdCBtYSA9IG1hdDMuYWRqb2ludChbXSwgbSk7XG4gICAgY29uc3QgW3N4LCBzeSwgc3pdID0gdmVjMy50cmFuc2Zvcm1NYXQzKHMsIHMsIG1hdDMudHJhbnNwb3NlKG1hLCBtYSkpO1xuICAgIHJldHVybiBtYXQzLm11bHRpcGx5KG0sIFtzeCwgMCwgMCwgMCwgc3ksIDAsIDAsIDAsIHN6XSwgbSk7XG59XG5cbmZ1bmN0aW9uIGdldFBlcnNwZWN0aXZlVHJhbnNmb3JtKHcsIGgsIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCkge1xuICAgIGNvbnN0IHMgPSBiYXNpc1RvUG9pbnRzKDAsIDAsIHcsIDAsIDAsIGgsIHcsIGgpO1xuICAgIGNvbnN0IG0gPSBiYXNpc1RvUG9pbnRzKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCk7XG4gICAgbWF0My5tdWx0aXBseShtLCBtYXQzLmFkam9pbnQocywgcyksIG0pO1xuICAgIHJldHVybiBbXG4gICAgICAgIG1bNl0gLyBtWzhdICogdyAvIEVYVEVOVCxcbiAgICAgICAgbVs3XSAvIG1bOF0gKiBoIC8gRVhURU5UXG4gICAgXTtcbn1cblxuLyoqXG4gKiBBIGRhdGEgc291cmNlIGNvbnRhaW5pbmcgYW4gaW1hZ2UuXG4gKiBTZWUgdGhlIFtTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzLWltYWdlKSBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbiBvZiBvcHRpb25zLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBhZGQgdG8gbWFwXG4gKiBtYXAuYWRkU291cmNlKCdzb21lIGlkJywge1xuICogICAgIHR5cGU6ICdpbWFnZScsXG4gKiAgICAgdXJsOiAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9pbWFnZXMvZm9vLnBuZycsXG4gKiAgICAgY29vcmRpbmF0ZXM6IFtcbiAqICAgICAgICAgWy03Ni41NCwgMzkuMThdLFxuICogICAgICAgICBbLTc2LjUyLCAzOS4xOF0sXG4gKiAgICAgICAgIFstNzYuNTIsIDM5LjE3XSxcbiAqICAgICAgICAgWy03Ni41NCwgMzkuMTddXG4gKiAgICAgXVxuICogfSk7XG4gKlxuICogLy8gdXBkYXRlIGNvb3JkaW5hdGVzXG4gKiBjb25zdCBteVNvdXJjZSA9IG1hcC5nZXRTb3VyY2UoJ3NvbWUgaWQnKTtcbiAqIG15U291cmNlLnNldENvb3JkaW5hdGVzKFtcbiAqICAgICBbLTc2LjU0MzM1NzM3MjI4Mzk0LCAzOS4xODU3OTkwNzIyOTc0OF0sXG4gKiAgICAgWy03Ni41MjgwMzY1OTQzOTA4NywgMzkuMTgzODM2NDg0NzU4N10sXG4gKiAgICAgWy03Ni41Mjk1Mzg2MzE0MzkyLCAzOS4xNzY4MzM5MjUwNzYwNl0sXG4gKiAgICAgWy03Ni41NDUyMDI3MzIwODYxOCwgMzkuMTc4NzYzNDQxMDY2NDJdXG4gKiBdKTtcbiAqXG4gKiAvLyB1cGRhdGUgdXJsIGFuZCBjb29yZGluYXRlcyBzaW11bHRhbmVvdXNseVxuICogbXlTb3VyY2UudXBkYXRlSW1hZ2Uoe1xuICogICAgIHVybDogJ2h0dHBzOi8vd3d3Lm1hcGJveC5jb20vaW1hZ2VzL2Jhci5wbmcnLFxuICogICAgIGNvb3JkaW5hdGVzOiBbXG4gKiAgICAgICAgIFstNzYuNTQzMzU3MzcyMjgzOTQsIDM5LjE4NTc5OTA3MjI5NzQ4XSxcbiAqICAgICAgICAgWy03Ni41MjgwMzY1OTQzOTA4NywgMzkuMTgzODM2NDg0NzU4N10sXG4gKiAgICAgICAgIFstNzYuNTI5NTM4NjMxNDM5MiwgMzkuMTc2ODMzOTI1MDc2MDZdLFxuICogICAgICAgICBbLTc2LjU0NTIwMjczMjA4NjE4LCAzOS4xNzg3NjM0NDEwNjY0Ml1cbiAqICAgICBdXG4gKiB9KTtcbiAqXG4gKiBtYXAucmVtb3ZlU291cmNlKCdzb21lIGlkJyk7ICAvLyByZW1vdmVcbiAqIEBzZWUgW0V4YW1wbGU6IEFkZCBhbiBpbWFnZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9pbWFnZS1vbi1hLW1hcC8pXG4gKiBAc2VlIFtFeGFtcGxlOiBBbmltYXRlIGEgc2VyaWVzIG9mIGltYWdlc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hbmltYXRlLWltYWdlcy8pXG4gKi9cbmNsYXNzIEltYWdlU291cmNlIGV4dGVuZHMgRXZlbnRlZCBpbXBsZW1lbnRzIFNvdXJjZSB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWluem9vbTogbnVtYmVyO1xuICAgIG1heHpvb206IG51bWJlcjtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIHVybDogc3RyaW5nO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG5cbiAgICBjb29yZGluYXRlczogQ29vcmRpbmF0ZXM7XG4gICAgdGlsZXM6IHtbXzogc3RyaW5nXTogVGlsZX07XG4gICAgb3B0aW9uczogYW55O1xuICAgIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gICAgbWFwOiBNYXA7XG4gICAgdGV4dHVyZTogVGV4dHVyZSB8IG51bGw7XG4gICAgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgfCBJbWFnZUJpdG1hcCB8IEltYWdlRGF0YTtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgdGlsZUlEOiBDYW5vbmljYWxUaWxlSUQ7XG4gICAgX2JvdW5kc0FycmF5OiA/UmFzdGVyQm91bmRzQXJyYXk7XG4gICAgYm91bmRzQnVmZmVyOiA/VmVydGV4QnVmZmVyO1xuICAgIGJvdW5kc1NlZ21lbnRzOiA/U2VnbWVudFZlY3RvcjtcbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9kaXJ0eTogYm9vbGVhbjtcbiAgICBfaW1hZ2VSZXF1ZXN0OiA/Q2FuY2VsYWJsZTtcbiAgICBwZXJzcGVjdGl2ZVRyYW5zZm9ybTogW251bWJlciwgbnVtYmVyXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgb3B0aW9uczogSW1hZ2VTb3VyY2VTcGVjaWZpY2F0aW9uIHwgVmlkZW9Tb3VyY2VTcGVjaWZpY2F0aW9uIHwgQ2FudmFzU291cmNlU3BlY2lmaWNhdGlvbiwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IGRpc3BhdGNoZXI7XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBvcHRpb25zLmNvb3JkaW5hdGVzO1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICdpbWFnZSc7XG4gICAgICAgIHRoaXMubWluem9vbSA9IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IDIyO1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyO1xuICAgICAgICB0aGlzLnRpbGVzID0ge307XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuc2V0RXZlbnRlZFBhcmVudChldmVudGVkUGFyZW50KTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl9kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGxvYWQobmV3Q29vcmRpbmF0ZXM/OiBDb29yZGluYXRlcywgbG9hZGVkPzogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBsb2FkZWQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGFsb2FkaW5nJywge2RhdGFUeXBlOiAnc291cmNlJ30pKTtcblxuICAgICAgICB0aGlzLnVybCA9IHRoaXMub3B0aW9ucy51cmw7XG5cbiAgICAgICAgdGhpcy5faW1hZ2VSZXF1ZXN0ID0gZ2V0SW1hZ2UodGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodGhpcy51cmwsIFJlc291cmNlVHlwZS5JbWFnZSksIChlcnIsIGltYWdlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZVJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGltYWdlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qge0hUTUxJbWFnZUVsZW1lbnR9ID0gd2luZG93O1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZSA9IGJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGltYWdlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGlmIChuZXdDb29yZGluYXRlcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gbmV3Q29vcmRpbmF0ZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmlzaExvYWRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGltYWdlIFVSTCBhbmQsIG9wdGlvbmFsbHksIHRoZSBjb29yZGluYXRlcy4gVG8gYXZvaWQgaGF2aW5nIHRoZSBpbWFnZSBmbGFzaCBhZnRlciBjaGFuZ2luZyxcbiAgICAgKiBzZXQgdGhlIGByYXN0ZXItZmFkZS1kdXJhdGlvbmAgcGFpbnQgcHJvcGVydHkgb24gdGhlIHJhc3RlciBsYXllciB0byAwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVybF0gUmVxdWlyZWQgaW1hZ2UgVVJMLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IFtvcHRpb25zLmNvb3JkaW5hdGVzXSBGb3VyIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyxcbiAgICAgKiAgIHJlcHJlc2VudGVkIGFzIGFycmF5cyBvZiBsb25naXR1ZGUgYW5kIGxhdGl0dWRlIG51bWJlcnMsIHdoaWNoIGRlZmluZSB0aGUgY29ybmVycyBvZiB0aGUgaW1hZ2UuXG4gICAgICogICBUaGUgY29vcmRpbmF0ZXMgc3RhcnQgYXQgdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgaW1hZ2UgYW5kIHByb2NlZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqICAgVGhleSBkbyBub3QgaGF2ZSB0byByZXByZXNlbnQgYSByZWN0YW5nbGUuXG4gICAgICogQHJldHVybnMge0ltYWdlU291cmNlfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQWRkIHRvIGFuIGltYWdlIHNvdXJjZSB0byB0aGUgbWFwIHdpdGggc29tZSBpbml0aWFsIFVSTCBhbmQgY29vcmRpbmF0ZXNcbiAgICAgKiBtYXAuYWRkU291cmNlKCdpbWFnZV9zb3VyY2VfaWQnLCB7XG4gICAgICogICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICogICAgIHVybDogJ2h0dHBzOi8vd3d3Lm1hcGJveC5jb20vaW1hZ2VzL2Zvby5wbmcnLFxuICAgICAqICAgICBjb29yZGluYXRlczogW1xuICAgICAqICAgICAgICAgWy03Ni41NCwgMzkuMThdLFxuICAgICAqICAgICAgICAgWy03Ni41MiwgMzkuMThdLFxuICAgICAqICAgICAgICAgWy03Ni41MiwgMzkuMTddLFxuICAgICAqICAgICAgICAgWy03Ni41NCwgMzkuMTddXG4gICAgICogICAgIF1cbiAgICAgKiB9KTtcbiAgICAgKiAvLyBUaGVuIHVwZGF0ZSB0aGUgaW1hZ2UgVVJMIGFuZCBjb29yZGluYXRlc1xuICAgICAqIGltYWdlU291cmNlLnVwZGF0ZUltYWdlKHtcbiAgICAgKiAgICAgdXJsOiAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9pbWFnZXMvYmFyLnBuZycsXG4gICAgICogICAgIGNvb3JkaW5hdGVzOiBbXG4gICAgICogICAgICAgICBbLTc2LjU0MzMsIDM5LjE4NTddLFxuICAgICAqICAgICAgICAgWy03Ni41MjgwLCAzOS4xODM4XSxcbiAgICAgKiAgICAgICAgIFstNzYuNTI5NSwgMzkuMTc2OF0sXG4gICAgICogICAgICAgICBbLTc2LjU0NTIsIDM5LjE3ODddXG4gICAgICogICAgIF1cbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB1cGRhdGVJbWFnZShvcHRpb25zOiB7dXJsOiBzdHJpbmcsIGNvb3JkaW5hdGVzPzogQ29vcmRpbmF0ZXN9KTogdGhpcyB7XG4gICAgICAgIGlmICghdGhpcy5pbWFnZSB8fCAhb3B0aW9ucy51cmwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pbWFnZVJlcXVlc3QgJiYgb3B0aW9ucy51cmwgIT09IHRoaXMub3B0aW9ucy51cmwpIHtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlUmVxdWVzdC5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlUmVxdWVzdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRpb25zLnVybCA9IG9wdGlvbnMudXJsO1xuICAgICAgICB0aGlzLmxvYWQob3B0aW9ucy5jb29yZGluYXRlcywgdGhpcy5fbG9hZGVkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2ZpbmlzaExvYWRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcCkge1xuICAgICAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5faW1hZ2VSZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZVJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZVJlcXVlc3QgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHR1cmUpIHRoaXMudGV4dHVyZS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaW1hZ2UncyBjb29yZGluYXRlcyBhbmQgcmUtcmVuZGVycyB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgRm91ciBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMsXG4gICAgICogICByZXByZXNlbnRlZCBhcyBhcnJheXMgb2YgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSBudW1iZXJzLCB3aGljaCBkZWZpbmUgdGhlIGNvcm5lcnMgb2YgdGhlIGltYWdlLlxuICAgICAqICAgVGhlIGNvb3JkaW5hdGVzIHN0YXJ0IGF0IHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIGltYWdlIGFuZCBwcm9jZWVkIGluIGNsb2Nrd2lzZSBvcmRlci5cbiAgICAgKiAgIFRoZXkgZG8gbm90IGhhdmUgdG8gcmVwcmVzZW50IGEgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm5zIHtJbWFnZVNvdXJjZX0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEFkZCBhbiBpbWFnZSBzb3VyY2UgdG8gdGhlIG1hcCB3aXRoIHNvbWUgaW5pdGlhbCBjb29yZGluYXRlc1xuICAgICAqIG1hcC5hZGRTb3VyY2UoJ2ltYWdlX3NvdXJjZV9pZCcsIHtcbiAgICAgKiAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgKiAgICAgdXJsOiAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9pbWFnZXMvZm9vLnBuZycsXG4gICAgICogICAgIGNvb3JkaW5hdGVzOiBbXG4gICAgICogICAgICAgICBbLTc2LjU0LCAzOS4xOF0sXG4gICAgICogICAgICAgICBbLTc2LjUyLCAzOS4xOF0sXG4gICAgICogICAgICAgICBbLTc2LjUyLCAzOS4xN10sXG4gICAgICogICAgICAgICBbLTc2LjU0LCAzOS4xN11cbiAgICAgKiAgICAgXVxuICAgICAqIH0pO1xuICAgICAqIC8vIFRoZW4gdXBkYXRlIHRoZSBpbWFnZSBjb29yZGluYXRlc1xuICAgICAqIGltYWdlU291cmNlLnNldENvb3JkaW5hdGVzKFtcbiAgICAgKiAgICAgWy03Ni41NDMzLCAzOS4xODU3XSxcbiAgICAgKiAgICAgWy03Ni41MjgwLCAzOS4xODM4XSxcbiAgICAgKiAgICAgWy03Ni41Mjk1LCAzOS4xNzY4XSxcbiAgICAgKiAgICAgWy03Ni41NDUyLCAzOS4xNzg3XVxuICAgICAqIF0pO1xuICAgICAqL1xuICAgIHNldENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzOiBDb29yZGluYXRlcyk6IHRoaXMge1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XG4gICAgICAgIHRoaXMuX2JvdW5kc0FycmF5ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB3aGljaCBtZXJjYXRvciB0aWxlIGlzIHN1aXRhYmxlIGZvciByZW5kZXJpbmcgdGhlIHZpZGVvIGluXG4gICAgICAgIC8vIGFuZCBjcmVhdGUgYSBidWZmZXIgd2l0aCB0aGUgY29ybmVyIGNvb3JkaW5hdGVzLiBUaGVzZSBjb29yZGluYXRlc1xuICAgICAgICAvLyBtYXkgYmUgb3V0c2lkZSB0aGUgdGlsZSwgYmVjYXVzZSByYXN0ZXIgdGlsZXMgYXJlbid0IGNsaXBwZWQgd2hlbiByZW5kZXJpbmcuXG5cbiAgICAgICAgLy8gdHJhbnNmb3JtIHRoZSBnZW8gY29vcmRpbmF0ZXMgaW50byAoem9vbSAwKSB0aWxlIHNwYWNlIGNvb3JkaW5hdGVzXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgY29uc3QgY29ybmVyQ29vcmRzID0gY29vcmRpbmF0ZXMubWFwKE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KTtcblxuICAgICAgICAvLyBDb21wdXRlIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgdGlsZSB3ZSdsbCB1c2UgdG8gaG9sZCB0aGlzIGltYWdlJ3NcbiAgICAgICAgLy8gcmVuZGVyIGRhdGFcbiAgICAgICAgdGhpcy50aWxlSUQgPSBnZXRDb29yZGluYXRlc0NlbnRlclRpbGVJRChjb3JuZXJDb29yZHMpO1xuXG4gICAgICAgIC8vIENvbnN0cmFpbiBtaW4vbWF4IHpvb20gdG8gb3VyIHRpbGUncyB6b29tIGxldmVsIGluIG9yZGVyIHRvIGZvcmNlXG4gICAgICAgIC8vIFNvdXJjZUNhY2hlIHRvIHJlcXVlc3QgdGhpcyB0aWxlIChubyBtYXR0ZXIgd2hhdCB0aGUgbWFwJ3Mgem9vbVxuICAgICAgICAvLyBsZXZlbClcbiAgICAgICAgdGhpcy5taW56b29tID0gdGhpcy5tYXh6b29tID0gdGhpcy50aWxlSUQuejtcblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOidzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ2NvbnRlbnQnfSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgX2NsZWFyKCkge1xuICAgICAgICB0aGlzLl9ib3VuZHNBcnJheSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBfcHJlcGFyZURhdGEoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICBmb3IgKGNvbnN0IHcgaW4gdGhpcy50aWxlcykge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMudGlsZXNbd107XG4gICAgICAgICAgICBpZiAodGlsZS5zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvdW5kc0FycmF5KSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgdGlsZVRyID0gdGlsZVRyYW5zZm9ybSh0aGlzLnRpbGVJRCwgdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb24pO1xuXG4gICAgICAgIC8vIFRyYW5zZm9ybSB0aGUgY29ybmVyIGNvb3JkaW5hdGVzIGludG8gdGhlIGNvb3JkaW5hdGUgc3BhY2Ugb2Ygb3VyIHRpbGUuXG4gICAgICAgIGNvbnN0IFt0bCwgdHIsIGJyLCBibF0gPSB0aGlzLmNvb3JkaW5hdGVzLm1hcCgoY29vcmQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZENvb3JkID0gdGlsZVRyLnByb2plY3Rpb24ucHJvamVjdChjb29yZFswXSwgY29vcmRbMV0pO1xuICAgICAgICAgICAgcmV0dXJuIGdldFRpbGVQb2ludCh0aWxlVHIsIHByb2plY3RlZENvb3JkKS5fcm91bmQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZXJzcGVjdGl2ZVRyYW5zZm9ybSA9IGdldFBlcnNwZWN0aXZlVHJhbnNmb3JtKFxuICAgICAgICAgICAgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRsLngsIHRsLnksIHRyLngsIHRyLnksIGJsLngsIGJsLnksIGJyLngsIGJyLnkpO1xuXG4gICAgICAgIGNvbnN0IGJvdW5kc0FycmF5ID0gdGhpcy5fYm91bmRzQXJyYXkgPSBuZXcgUmFzdGVyQm91bmRzQXJyYXkoKTtcbiAgICAgICAgYm91bmRzQXJyYXkuZW1wbGFjZUJhY2sodGwueCwgdGwueSwgMCwgMCk7XG4gICAgICAgIGJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKHRyLngsIHRyLnksIEVYVEVOVCwgMCk7XG4gICAgICAgIGJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKGJsLngsIGJsLnksIDAsIEVYVEVOVCk7XG4gICAgICAgIGJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKGJyLngsIGJyLnksIEVYVEVOVCwgRVhURU5UKTtcblxuICAgICAgICBpZiAodGhpcy5ib3VuZHNCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvdW5kc0J1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKGJvdW5kc0FycmF5LCBib3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLmJvdW5kc1NlZ21lbnRzID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIDQsIDIpO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RoID09PSAwIHx8ICF0aGlzLmltYWdlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMubWFwLnBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGlmICh0aGlzLl9kaXJ0eSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmltYWdlLCBnbC5SR0JBKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmUudXBkYXRlKHRoaXMuaW1hZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ByZXBhcmVEYXRhKGNvbnRleHQpO1xuICAgIH1cblxuICAgIGxvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICAvLyBXZSBoYXZlIGEgc2luZ2xlIHRpbGUgLS0gd2hvb3NlIGNvb3JkaW5hdGVzIGFyZSB0aGlzLnRpbGVJRCAtLSB0aGF0XG4gICAgICAgIC8vIGNvdmVycyB0aGUgaW1hZ2Ugd2Ugd2FudCB0byByZW5kZXIuICBJZiB0aGF0J3MgdGhlIG9uZSBiZWluZ1xuICAgICAgICAvLyByZXF1ZXN0ZWQsIHNldCBpdCB1cCB3aXRoIHRoZSBpbWFnZTsgb3RoZXJ3aXNlLCBtYXJrIHRoZSB0aWxlIGFzXG4gICAgICAgIC8vIGBlcnJvcmVkYCB0byBpbmRpY2F0ZSB0aGF0IHdlIGhhdmUgbm8gZGF0YSBmb3IgaXQuXG4gICAgICAgIC8vIElmIHRoZSB3b3JsZCB3cmFwcywgd2UgbWF5IGhhdmUgbXVsdGlwbGUgXCJ3cmFwcGVkXCIgY29waWVzIG9mIHRoZVxuICAgICAgICAvLyBzaW5nbGUgdGlsZS5cbiAgICAgICAgaWYgKHRoaXMudGlsZUlEICYmIHRoaXMudGlsZUlELmVxdWFscyh0aWxlLnRpbGVJRC5jYW5vbmljYWwpKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVzW1N0cmluZyh0aWxlLnRpbGVJRC53cmFwKV0gPSB0aWxlO1xuICAgICAgICAgICAgdGlsZS5idWNrZXRzID0ge307XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnZXJyb3JlZCc7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpOiBPYmplY3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgICAgIHVybDogdGhpcy5vcHRpb25zLnVybCxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB0aGlzLmNvb3JkaW5hdGVzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBHaXZlbiBhIGxpc3Qgb2YgY29vcmRpbmF0ZXMsIGdldCB0aGVpciBjZW50ZXIgYXMgYSBjb29yZGluYXRlLlxuICpcbiAqIEByZXR1cm5zIGNlbnRlcnBvaW50XG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29vcmRpbmF0ZXNDZW50ZXJUaWxlSUQoY29vcmRzOiBBcnJheTxNZXJjYXRvckNvb3JkaW5hdGU+KTogQ2Fub25pY2FsVGlsZUlEIHtcbiAgICBsZXQgbWluWCA9IEluZmluaXR5O1xuICAgIGxldCBtaW5ZID0gSW5maW5pdHk7XG4gICAgbGV0IG1heFggPSAtSW5maW5pdHk7XG4gICAgbGV0IG1heFkgPSAtSW5maW5pdHk7XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgY29vcmQueCk7XG4gICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBjb29yZC55KTtcbiAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIGNvb3JkLngpO1xuICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgY29vcmQueSk7XG4gICAgfVxuXG4gICAgY29uc3QgZHggPSBtYXhYIC0gbWluWDtcbiAgICBjb25zdCBkeSA9IG1heFkgLSBtaW5ZO1xuICAgIGNvbnN0IGRNYXggPSBNYXRoLm1heChkeCwgZHkpO1xuICAgIGNvbnN0IHpvb20gPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKC1NYXRoLmxvZyhkTWF4KSAvIE1hdGguTE4yKSk7XG4gICAgY29uc3QgdGlsZXNBdFpvb20gPSBNYXRoLnBvdygyLCB6b29tKTtcblxuICAgIHJldHVybiBuZXcgQ2Fub25pY2FsVGlsZUlEKFxuICAgICAgICAgICAgem9vbSxcbiAgICAgICAgICAgIE1hdGguZmxvb3IoKG1pblggKyBtYXhYKSAvIDIgKiB0aWxlc0F0Wm9vbSksXG4gICAgICAgICAgICBNYXRoLmZsb29yKChtaW5ZICsgbWF4WSkgLyAyICogdGlsZXNBdFpvb20pKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VTb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge2JpbmRBbGx9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5cbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB0eXBlIHtFdmVudCwgRXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkLmpzJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAuanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4vdGlsZV9pZC5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrLmpzJztcbmltcG9ydCB0eXBlIHtNYXBFdmVudH0gZnJvbSAnLi4vdWkvZXZlbnRzLmpzJztcbmltcG9ydCB7Q2Fub25pY2FsVGlsZUlEfSBmcm9tICcuL3RpbGVfaWQuanMnO1xuXG4vKipcbiAqIFRoZSBgU291cmNlYCBpbnRlcmZhY2UgbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIHNvdXJjZSB0eXBlLCBpbmNsdWRpbmcgXCJjb3JlXCIgdHlwZXMgbGlrZSBgdmVjdG9yYCwgYHJhc3RlcmAsXG4gKiBvciBgdmlkZW9gKSBhbmQgYWxsIGN1c3RvbSwgdGhpcmQtcGFydHkgdHlwZXMuXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGlkIGZvciB0aGUgc291cmNlLiBNdXN0IG5vdCBiZSB1c2VkIGJ5IGFueSBleGlzdGluZyBzb3VyY2UuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBTb3VyY2Ugb3B0aW9ucywgc3BlY2lmaWMgdG8gdGhlIHNvdXJjZSB0eXBlIChleGNlcHQgZm9yIGBvcHRpb25zLnR5cGVgLCB3aGljaCBpcyBhbHdheXNcbiAqIHJlcXVpcmVkKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnR5cGUgVGhlIHNvdXJjZSB0eXBlLCBtYXRjaGluZyB0aGUgdmFsdWUgb2YgYG5hbWVgIHVzZWQgaW4ge0BsaW5rIFN0eWxlI2FkZFNvdXJjZVR5cGV9LlxuICogQHBhcmFtIHtEaXNwYXRjaGVyfSBkaXNwYXRjaGVyIEEge0BsaW5rIERpc3BhdGNoZXJ9IGluc3RhbmNlLCB3aGljaCBjYW4gYmUgdXNlZCB0byBzZW5kIG1lc3NhZ2VzIHRvIHRoZSB3b3JrZXJzLlxuICpcbiAqIEBmaXJlcyBNYXAuZXZlbnQ6ZGF0YSBGaXJlcyBgZGF0YWAgd2l0aCBge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdtZXRhZGF0YSd9YFxuICogdG8gaW5kaWNhdGUgdGhhdCBhbnkgbmVjZXNzYXJ5IG1ldGFkYXRhIGhhcyBiZWVuIGxvYWRlZCBzbyB0aGF0IGl0J3Mgb2theSB0byBjYWxsIGBsb2FkVGlsZWA7XG4gKiBmaXJlcyBgZGF0YWAgd2l0aCBge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50J31gXG4gKiB0byBpbmRpY2F0ZSB0aGF0IHRoZSBzb3VyY2UgZGF0YSBoYXMgY2hhbmdlZCwgc28gdGhhdCBhbnkgY3VycmVudCBjYWNoZXMgc2hvdWxkIGJlIGZsdXNoZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWQgVGhlIGlkIGZvciB0aGUgc291cmNlLiAgTXVzdCBtYXRjaCB0aGUgaWQgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW56b29tXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4em9vbVxuICogQHByb3BlcnR5IHtib29sZWFufSBpc1RpbGVDbGlwcGVkIGBmYWxzZWAgaWYgdGlsZXMgY2FuIGJlIGRyYXduIG91dHNpZGUgdGhlaXIgYm91bmRhcmllcywgYHRydWVgIGlmIHRoZXkgY2Fubm90LlxuICogQHByb3BlcnR5IHtib29sZWFufSByZXBhcnNlT3ZlcnNjYWxlZCBgdHJ1ZWAgaWYgdGlsZXMgc2hvdWxkIGJlIHNlbnQgYmFjayB0byB0aGUgd29ya2VyIGZvciBlYWNoIG92ZXJ6b29tZWQgem9vbVxuICogbGV2ZWwsIGBmYWxzZWAgaWYgbm90LlxuICogQHByb3BlcnR5IHtib29sZWFufSByb3VuZFpvb20gYHRydWVgIGlmIHpvb20gbGV2ZWxzIGFyZSByb3VuZGVkIHRvIHRoZSBuZWFyZXN0IGludGVnZXIgaW4gdGhlIHNvdXJjZSBkYXRhLCBgZmFsc2VgXG4gKiBpZiB0aGV5IGFyZSBmbG9vci1lZCB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNvdXJjZSB7XG4gICAgK3R5cGU6IHN0cmluZztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcixcbiAgICBtYXh6b29tOiBudW1iZXIsXG4gICAgdGlsZVNpemU6IG51bWJlcixcbiAgICBhdHRyaWJ1dGlvbj86IHN0cmluZyxcblxuICAgIHJvdW5kWm9vbT86IGJvb2xlYW4sXG4gICAgaXNUaWxlQ2xpcHBlZD86IGJvb2xlYW4sXG4gICAgbWFwYm94X2xvZ28/OiBib29sZWFuLFxuICAgIHRpbGVJRD86IENhbm9uaWNhbFRpbGVJRDtcbiAgICByZXBhcnNlT3ZlcnNjYWxlZD86IGJvb2xlYW4sXG4gICAgdmVjdG9yTGF5ZXJJZHM/OiBBcnJheTxzdHJpbmc+LFxuICAgIG1pblRpbGVDYWNoZVNpemU/OiA/bnVtYmVyO1xuICAgIG1heFRpbGVDYWNoZVNpemU/OiA/bnVtYmVyO1xuICAgIGxhbmd1YWdlPzogP3N0cmluZztcbiAgICB3b3JsZHZpZXc/OiA/c3RyaW5nO1xuXG4gICAgaGFzVHJhbnNpdGlvbigpOiBib29sZWFuO1xuICAgIGxvYWRlZCgpOiBib29sZWFuO1xuXG4gICAgZmlyZShldmVudDogRXZlbnQpOiBtaXhlZDtcbiAgICBvbih0eXBlOiBNYXBFdmVudCwgbGlzdGVuZXI6IChPYmplY3QpID0+IGFueSk6IEV2ZW50ZWQ7XG4gICAgc2V0RXZlbnRlZFBhcmVudChwYXJlbnQ6ID9FdmVudGVkLCBkYXRhPzogT2JqZWN0IHwgKCkgPT4gT2JqZWN0KTogRXZlbnRlZDtcblxuICAgICtvbkFkZD86IChtYXA6IE1hcCkgPT4gdm9pZDtcbiAgICArb25SZW1vdmU/OiAobWFwOiBNYXApID0+IHZvaWQ7XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4sIHRpbGVXb3JrZXJzPzoge1tzdHJpbmddOiBBY3Rvcn0pOiB2b2lkO1xuICAgICtoYXNUaWxlPzogKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCkgPT4gYm9vbGVhbjtcbiAgICArYWJvcnRUaWxlPzogKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikgPT4gdm9pZDtcbiAgICArdW5sb2FkVGlsZT86ICh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pID0+IHZvaWQ7XG4gICAgK3JlbG9hZD86ICgpID0+IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBBIHBsYWluIChzdHJpbmdpZmlhYmxlKSBKUyBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQ3JlYXRpbmcgYSBzb3VyY2UgdXNpbmcgdGhlIHJldHVybmVkIG9iamVjdCBhcyB0aGUgYG9wdGlvbnNgIHNob3VsZCByZXN1bHQgaW4gYSBTb3VyY2UgdGhhdCBpc1xuICAgICAqIGVxdWl2YWxlbnQgdG8gdGhpcyBvbmUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKTogT2JqZWN0O1xuXG4gICAgK3ByZXBhcmU/OiAoKSA9PiB2b2lkO1xuXG4gICAgK2FmdGVyVXBkYXRlPzogKCkgPT4gdm9pZDtcbiAgICArX2NsZWFyPzogKCkgPT4gdm9pZDtcbn1cblxudHlwZSBTb3VyY2VTdGF0aWNzID0ge1xuICAgIC8qXG4gICAgICogQW4gb3B0aW9uYWwgVVJMIHRvIGEgc2NyaXB0IHdoaWNoLCB3aGVuIHJ1biBieSBhIFdvcmtlciwgcmVnaXN0ZXJzIGEge0BsaW5rIFdvcmtlclNvdXJjZX1cbiAgICAgKiBpbXBsZW1lbnRhdGlvbiBmb3IgdGhpcyBTb3VyY2UgdHlwZSBieSBjYWxsaW5nIGBzZWxmLnJlZ2lzdGVyV29ya2VyU291cmNlKHdvcmtlclNvdXJjZTogV29ya2VyU291cmNlKWAuXG4gICAgICovXG4gICAgd29ya2VyU291cmNlVVJMPzogVVJMO1xufTtcblxuZXhwb3J0IHR5cGUgU291cmNlQ2xhc3MgPSBDbGFzczxTb3VyY2U+ICYgU291cmNlU3RhdGljcztcblxuaW1wb3J0IHZlY3RvciBmcm9tICcuLi9zb3VyY2UvdmVjdG9yX3RpbGVfc291cmNlLmpzJztcbmltcG9ydCByYXN0ZXIgZnJvbSAnLi4vc291cmNlL3Jhc3Rlcl90aWxlX3NvdXJjZS5qcyc7XG5pbXBvcnQgcmFzdGVyRGVtIGZyb20gJy4uL3NvdXJjZS9yYXN0ZXJfZGVtX3RpbGVfc291cmNlLmpzJztcbmltcG9ydCBnZW9qc29uIGZyb20gJy4uL3NvdXJjZS9nZW9qc29uX3NvdXJjZS5qcyc7XG5pbXBvcnQgdmlkZW8gZnJvbSAnLi4vc291cmNlL3ZpZGVvX3NvdXJjZS5qcyc7XG5pbXBvcnQgaW1hZ2UgZnJvbSAnLi4vc291cmNlL2ltYWdlX3NvdXJjZS5qcyc7XG5pbXBvcnQgY2FudmFzIGZyb20gJy4uL3NvdXJjZS9jYW52YXNfc291cmNlLmpzJztcbmltcG9ydCBjdXN0b20gZnJvbSAnLi4vc291cmNlL2N1c3RvbV9zb3VyY2UuanMnO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5cbmNvbnN0IHNvdXJjZVR5cGVzID0ge1xuICAgIHZlY3RvcixcbiAgICByYXN0ZXIsXG4gICAgJ3Jhc3Rlci1kZW0nOiByYXN0ZXJEZW0sXG4gICAgZ2VvanNvbixcbiAgICB2aWRlbyxcbiAgICBpbWFnZSxcbiAgICBjYW52YXMsXG4gICAgY3VzdG9tXG59O1xuXG4vKlxuICogQ3JlYXRlcyBhIHRpbGVkIGRhdGEgc291cmNlIGluc3RhbmNlIGdpdmVuIGFuIG9wdGlvbnMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSBpZFxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBBIHNvdXJjZSBkZWZpbml0aW9uIG9iamVjdCBjb21wbGlhbnQgd2l0aFxuICogW2BtYXBib3gtZ2wtc3R5bGUtc3BlY2BdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI3NvdXJjZXMpIG9yLCBmb3IgYSB0aGlyZC1wYXJ0eSBzb3VyY2UgdHlwZSxcbiAgKiB3aXRoIHRoYXQgdHlwZSdzIHJlcXVpcmVtZW50cy5cbiAqIEBwYXJhbSB7RGlzcGF0Y2hlcn0gZGlzcGF0Y2hlclxuICogQHJldHVybnMge1NvdXJjZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9IGZ1bmN0aW9uKGlkOiBzdHJpbmcsIHNwZWNpZmljYXRpb246IFNvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpOiBTb3VyY2Uge1xuICAgIGNvbnN0IHNvdXJjZSA9IG5ldyBzb3VyY2VUeXBlc1tzcGVjaWZpY2F0aW9uLnR5cGVdKGlkLCAoc3BlY2lmaWNhdGlvbjogYW55KSwgZGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudCk7XG5cbiAgICBpZiAoc291cmNlLmlkICE9PSBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIFNvdXJjZSBpZCB0byBiZSAke2lkfSBpbnN0ZWFkIG9mICR7c291cmNlLmlkfWApO1xuICAgIH1cblxuICAgIGJpbmRBbGwoWydsb2FkJywgJ2Fib3J0JywgJ3VubG9hZCcsICdzZXJpYWxpemUnLCAncHJlcGFyZSddLCBzb3VyY2UpO1xuICAgIHJldHVybiBzb3VyY2U7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VHlwZSA9IGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcpOiBDbGFzczxTb3VyY2U+IHtcbiAgICByZXR1cm4gc291cmNlVHlwZXNbbmFtZV07XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0VHlwZSA9IGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcsIHR5cGU6IENsYXNzPFNvdXJjZT4pIHtcbiAgICBzb3VyY2VUeXBlc1tuYW1lXSA9IHR5cGU7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEFjdG9yIHtcbiAgICBzZW5kKHR5cGU6IHN0cmluZywgZGF0YTogT2JqZWN0LCBjYWxsYmFjazogQ2FsbGJhY2s8YW55Pik6IHZvaWQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge2dldEltYWdlLCBSZXNvdXJjZVR5cGV9IGZyb20gJy4uL3V0aWwvYWpheC5qcyc7XG5pbXBvcnQge2V4dGVuZCwgcHJldlBvd2VyT2ZUd299IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQge0V2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdy5qcyc7XG5pbXBvcnQgb2Zmc2NyZWVuQ2FudmFzU3VwcG9ydGVkIGZyb20gJy4uL3V0aWwvb2Zmc2NyZWVuX2NhbnZhc19zdXBwb3J0ZWQuanMnO1xuaW1wb3J0IHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuL3RpbGVfaWQuanMnO1xuaW1wb3J0IFJhc3RlclRpbGVTb3VyY2UgZnJvbSAnLi9yYXN0ZXJfdGlsZV9zb3VyY2UuanMnO1xuLy8gZW5zdXJlIERFTURhdGEgaXMgcmVnaXN0ZXJlZCBmb3Igd29ya2VyIHRyYW5zZmVyIG9uIG1haW4gdGhyZWFkOlxuaW1wb3J0ICcuLi9kYXRhL2RlbV9kYXRhLmpzJztcblxuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi9zb3VyY2UuanMnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXIuanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUuanMnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjay5qcyc7XG5pbXBvcnQgdHlwZSB7UmFzdGVyREVNU291cmNlU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5cbi8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbmNsYXNzIFJhc3RlckRFTVRpbGVTb3VyY2UgZXh0ZW5kcyBSYXN0ZXJUaWxlU291cmNlIGltcGxlbWVudHMgU291cmNlIHtcbiAgICBlbmNvZGluZzogXCJtYXBib3hcIiB8IFwidGVycmFyaXVtXCI7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBSYXN0ZXJERU1Tb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKGlkLCBvcHRpb25zLCBkaXNwYXRjaGVyLCBldmVudGVkUGFyZW50KTtcbiAgICAgICAgdGhpcy50eXBlID0gJ3Jhc3Rlci1kZW0nO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGV4dGVuZCh7dHlwZTogJ3Jhc3Rlci1kZW0nfSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nIHx8IFwibWFwYm94XCI7XG4gICAgfVxuXG4gICAgbG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKHRpbGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcywgdGhpcy5zY2hlbWUpLCBmYWxzZSwgdGhpcy50aWxlU2l6ZSk7XG4gICAgICAgIHRpbGUucmVxdWVzdCA9IGdldEltYWdlKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlRpbGUpLCBpbWFnZUxvYWRlZC5iaW5kKHRoaXMpKTtcblxuICAgICAgICBmdW5jdGlvbiBpbWFnZUxvYWRlZChlcnIsIGltZywgY2FjaGVDb250cm9sLCBleHBpcmVzKSB7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5yZXF1ZXN0O1xuICAgICAgICAgICAgaWYgKHRpbGUuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2Vycm9yZWQnO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGltZykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcykgdGlsZS5zZXRFeHBpcnlEYXRhKHtjYWNoZUNvbnRyb2wsIGV4cGlyZXN9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2ZlciA9IHdpbmRvdy5JbWFnZUJpdG1hcCAmJiBpbWcgaW5zdGFuY2VvZiB3aW5kb3cuSW1hZ2VCaXRtYXAgJiYgb2Zmc2NyZWVuQ2FudmFzU3VwcG9ydGVkKCk7XG4gICAgICAgICAgICAgICAgLy8gREVNRGF0YSB1c2VzIDFweCBwYWRkaW5nLiBIYW5kbGUgY2FzZXMgd2l0aCBpbWFnZSBidWZmZXIgb2YgMSBhbmQgMiBweHMsIHRoZSByZXN0IGFzc3VtZSBkZWZhdWx0IGJ1ZmZlciAwXG4gICAgICAgICAgICAgICAgLy8gaW4gb3JkZXIgdG8ga2VlcCB0aGUgcHJldmlvdXMgaW1wbGVtZW50YXRpb24gd29ya2luZyAobm8gdmFsaWRhdGlvbiBhZ2FpbnN0IHRpbGVTaXplKS5cbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSAoaW1nLndpZHRoIC0gcHJldlBvd2VyT2ZUd28oaW1nLndpZHRoKSkgLyAyO1xuICAgICAgICAgICAgICAgIC8vIHBhZGRpbmcgaXMgdXNlZCBpbiBnZXRJbWFnZURhdGEuIEFzIERFTURhdGEgaGFzIDFweCBwYWRkaW5nLCBpZiBERU0gdGlsZSBidWZmZXIgaXMgMnB4LCBkaXNjYXJkIG91dGVybW9zdCBwaXhlbHMuXG4gICAgICAgICAgICAgICAgY29uc3QgcGFkZGluZyA9IDEgLSBidWZmZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9yZGVyUmVhZHkgPSBwYWRkaW5nIDwgMTtcbiAgICAgICAgICAgICAgICBpZiAoIWJvcmRlclJlYWR5ICYmICF0aWxlLm5laWdoYm9yaW5nVGlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS5uZWlnaGJvcmluZ1RpbGVzID0gdGhpcy5fZ2V0TmVpZ2hib3JpbmdUaWxlcyh0aWxlLnRpbGVJRCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJhd0ltYWdlRGF0YSA9IHRyYW5zZmVyID8gaW1nIDogYnJvd3Nlci5nZXRJbWFnZURhdGEoaW1nLCBwYWRkaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHVpZDogdGlsZS51aWQsXG4gICAgICAgICAgICAgICAgICAgIGNvb3JkOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgICAgICByYXdJbWFnZURhdGEsXG4gICAgICAgICAgICAgICAgICAgIGVuY29kaW5nOiB0aGlzLmVuY29kaW5nLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmICghdGlsZS5hY3RvciB8fCB0aWxlLnN0YXRlID09PSAnZXhwaXJlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS5hY3RvciA9IHRoaXMuZGlzcGF0Y2hlci5nZXRBY3RvcigpO1xuICAgICAgICAgICAgICAgICAgICB0aWxlLmFjdG9yLnNlbmQoJ2xvYWRERU1UaWxlJywgcGFyYW1zLCBkb25lLmJpbmQodGhpcyksIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZG9uZShlcnIsIGRlbSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnZXJyb3JlZCc7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRlbSkge1xuICAgICAgICAgICAgICAgIHRpbGUuZGVtID0gZGVtO1xuICAgICAgICAgICAgICAgIHRpbGUuZGVtLm9uRGVzZXJpYWxpemUoKTtcbiAgICAgICAgICAgICAgICB0aWxlLm5lZWRzSGlsbHNoYWRlUHJlcGFyZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGlsZS5uZWVkc0RFTVRleHR1cmVVcGxvYWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXROZWlnaGJvcmluZ1RpbGVzKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6IHtbbnVtYmVyXToge2JhY2tmaWxsZWQ6IGJvb2xlYW59fSB7XG4gICAgICAgIGNvbnN0IGNhbm9uaWNhbCA9IHRpbGVJRC5jYW5vbmljYWw7XG4gICAgICAgIGNvbnN0IGRpbSA9IE1hdGgucG93KDIsIGNhbm9uaWNhbC56KTtcblxuICAgICAgICBjb25zdCBweCA9IChjYW5vbmljYWwueCAtIDEgKyBkaW0pICUgZGltO1xuICAgICAgICBjb25zdCBweHcgPSBjYW5vbmljYWwueCA9PT0gMCA/IHRpbGVJRC53cmFwIC0gMSA6IHRpbGVJRC53cmFwO1xuICAgICAgICBjb25zdCBueCA9IChjYW5vbmljYWwueCArIDEgKyBkaW0pICUgZGltO1xuICAgICAgICBjb25zdCBueHcgPSBjYW5vbmljYWwueCArIDEgPT09IGRpbSA/IHRpbGVJRC53cmFwICsgMSA6IHRpbGVJRC53cmFwO1xuXG4gICAgICAgIGNvbnN0IG5laWdoYm9yaW5nVGlsZXMgPSB7fTtcbiAgICAgICAgLy8gYWRkIGFkamFjZW50IHRpbGVzXG4gICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBweHcsIGNhbm9uaWNhbC56LCBweCwgY2Fub25pY2FsLnkpLmtleV0gPSB7YmFja2ZpbGxlZDogZmFsc2V9O1xuICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgbnh3LCBjYW5vbmljYWwueiwgbngsIGNhbm9uaWNhbC55KS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcblxuICAgICAgICAvLyBBZGQgdXBwZXIgbmVpZ2hib3JpbmdUaWxlc1xuICAgICAgICBpZiAoY2Fub25pY2FsLnkgPiAwKSB7XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgcHh3LCBjYW5vbmljYWwueiwgcHgsIGNhbm9uaWNhbC55IC0gMSkua2V5XSA9IHtiYWNrZmlsbGVkOiBmYWxzZX07XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgdGlsZUlELndyYXAsIGNhbm9uaWNhbC56LCBjYW5vbmljYWwueCwgY2Fub25pY2FsLnkgLSAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBueHcsIGNhbm9uaWNhbC56LCBueCwgY2Fub25pY2FsLnkgLSAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgbG93ZXIgbmVpZ2hib3JpbmdUaWxlc1xuICAgICAgICBpZiAoY2Fub25pY2FsLnkgKyAxIDwgZGltKSB7XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgcHh3LCBjYW5vbmljYWwueiwgcHgsIGNhbm9uaWNhbC55ICsgMSkua2V5XSA9IHtiYWNrZmlsbGVkOiBmYWxzZX07XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgdGlsZUlELndyYXAsIGNhbm9uaWNhbC56LCBjYW5vbmljYWwueCwgY2Fub25pY2FsLnkgKyAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBueHcsIGNhbm9uaWNhbC56LCBueCwgY2Fub25pY2FsLnkgKyAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZWlnaGJvcmluZ1RpbGVzO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICB1bmxvYWRUaWxlKHRpbGU6IFRpbGUpIHtcbiAgICAgICAgaWYgKHRpbGUuZGVtVGV4dHVyZSkgdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUodGlsZS5kZW1UZXh0dXJlKTtcbiAgICAgICAgaWYgKHRpbGUuZmJvKSB7XG4gICAgICAgICAgICB0aWxlLmZiby5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5mYm87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbGUuZGVtKSBkZWxldGUgdGlsZS5kZW07XG4gICAgICAgIGRlbGV0ZSB0aWxlLm5laWdoYm9yaW5nVGlsZXM7XG5cbiAgICAgICAgdGlsZS5zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhc3RlckRFTVRpbGVTb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge0V2ZW50LCBFcnJvckV2ZW50LCBFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuXG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQuanMnO1xuaW1wb3J0IHtSZXNvdXJjZVR5cGV9IGZyb20gJy4uL3V0aWwvYWpheC5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuL3NvdXJjZS5qcyc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwLmpzJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlLmpzJztcbmltcG9ydCB0eXBlIEFjdG9yIGZyb20gJy4uL3V0aWwvYWN0b3IuanMnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjay5qcyc7XG5pbXBvcnQgdHlwZSB7R2VvSlNPTldvcmtlck9wdGlvbnN9IGZyb20gJy4vZ2VvanNvbl93b3JrZXJfc291cmNlLmpzJztcbmltcG9ydCB0eXBlIHtHZW9KU09OLCBHZW9KU09ORmVhdHVyZX0gZnJvbSAnQG1hcGJveC9nZW9qc29uLXR5cGVzJztcbmltcG9ydCB0eXBlIHtHZW9KU09OU291cmNlU3BlY2lmaWNhdGlvbiwgUHJvbW90ZUlkU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FuY2VsYWJsZX0gZnJvbSAnLi4vdHlwZXMvY2FuY2VsYWJsZS5qcyc7XG5cbi8qKlxuICogQSBzb3VyY2UgY29udGFpbmluZyBHZW9KU09OLlxuICogU2VlIHRoZSBbU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jc291cmNlcy1nZW9qc29uKSBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbiBvZiBvcHRpb25zLlxuICpcbiAqIEBleGFtcGxlXG4gKiBtYXAuYWRkU291cmNlKCdzb21lIGlkJywge1xuICogICAgIHR5cGU6ICdnZW9qc29uJyxcbiAqICAgICBkYXRhOiAnaHR0cHM6Ly9kMmFkNmI0dXI3eXZwcS5jbG91ZGZyb250Lm5ldC9uYXR1cmFsZWFydGgtMy4zLjAvbmVfMTBtX3BvcnRzLmdlb2pzb24nXG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAnZ2VvanNvbicsXG4gKiAgICAgZGF0YToge1xuICogICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICogICAgICAgICBcImZlYXR1cmVzXCI6IFt7XG4gKiAgICAgICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlXCIsXG4gKiAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge30sXG4gKiAgICAgICAgICAgICBcImdlb21ldHJ5XCI6IHtcbiAqICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICogICAgICAgICAgICAgICAgIFwiY29vcmRpbmF0ZXNcIjogW1xuICogICAgICAgICAgICAgICAgICAgICAtNzYuNTMwNjMyOTcyNzE3MjksXG4gKiAgICAgICAgICAgICAgICAgICAgIDM5LjE4MTc0MDc3OTk0MTA4XG4gKiAgICAgICAgICAgICAgICAgXVxuICogICAgICAgICAgICAgfVxuICogICAgICAgICB9XVxuICogICAgIH1cbiAqIH0pO1xuICpcbiAqIEBleGFtcGxlXG4gKiBtYXAuZ2V0U291cmNlKCdzb21lIGlkJykuc2V0RGF0YSh7XG4gKiAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAqICAgICBcImZlYXR1cmVzXCI6IFt7XG4gKiAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAqICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcIm5hbWVcIjogXCJOdWxsIElzbGFuZFwifSxcbiAqICAgICAgICAgXCJnZW9tZXRyeVwiOiB7XG4gKiAgICAgICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICogICAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOiBbIDAsIDAgXVxuICogICAgICAgICB9XG4gKiAgICAgfV1cbiAqIH0pO1xuICogQHNlZSBbRXhhbXBsZTogRHJhdyBHZW9KU09OIHBvaW50c10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nZW9qc29uLW1hcmtlcnMvKVxuICogQHNlZSBbRXhhbXBsZTogQWRkIGEgR2VvSlNPTiBsaW5lXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dlb2pzb24tbGluZS8pXG4gKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYSBoZWF0bWFwIGZyb20gcG9pbnRzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2hlYXRtYXAvKVxuICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGFuZCBzdHlsZSBjbHVzdGVyc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jbHVzdGVyLylcbiAqL1xuY2xhc3MgR2VvSlNPTlNvdXJjZSBleHRlbmRzIEV2ZW50ZWQgaW1wbGVtZW50cyBTb3VyY2Uge1xuICAgIHR5cGU6ICdnZW9qc29uJztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcbiAgICBhdHRyaWJ1dGlvbjogc3RyaW5nIHwgdm9pZDtcbiAgICBwcm9tb3RlSWQ6ID9Qcm9tb3RlSWRTcGVjaWZpY2F0aW9uO1xuXG4gICAgaXNUaWxlQ2xpcHBlZDogYm9vbGVhbiB8IHZvaWQ7XG4gICAgcmVwYXJzZU92ZXJzY2FsZWQ6IGJvb2xlYW4gfCB2b2lkO1xuICAgIF9kYXRhOiBHZW9KU09OIHwgc3RyaW5nO1xuICAgIF9vcHRpb25zOiBHZW9KU09OU291cmNlU3BlY2lmaWNhdGlvbjtcbiAgICB3b3JrZXJPcHRpb25zOiBHZW9KU09OV29ya2VyT3B0aW9ucztcbiAgICBtYXA6IE1hcDtcbiAgICBhY3RvcjogQWN0b3I7XG4gICAgX2xvYWRlZDogYm9vbGVhbjtcbiAgICBfY29hbGVzY2U6ID9ib29sZWFuO1xuICAgIF9tZXRhZGF0YUZpcmVkOiA/Ym9vbGVhbjtcbiAgICBfY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFuO1xuICAgIF9wZW5kaW5nTG9hZDogP0NhbmNlbGFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IEdlb0pTT05Tb3VyY2VTcGVjaWZpY2F0aW9uICYge3dvcmtlck9wdGlvbnM/OiBHZW9KU09OV29ya2VyT3B0aW9ucywgY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFufSwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcblxuICAgICAgICAvLyBgdHlwZWAgaXMgYSBwcm9wZXJ0eSByYXRoZXIgdGhhbiBhIGNvbnN0YW50IHRvIG1ha2UgaXQgZWFzeSBmb3IgM3JkXG4gICAgICAgIC8vIHBhcnRpZXMgdG8gdXNlIEdlb0pTT05Tb3VyY2UgdG8gYnVpbGQgdGhlaXIgb3duIHNvdXJjZSB0eXBlcy5cbiAgICAgICAgdGhpcy50eXBlID0gJ2dlb2pzb24nO1xuXG4gICAgICAgIHRoaXMubWluem9vbSA9IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IDE4O1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyO1xuICAgICAgICB0aGlzLmlzVGlsZUNsaXBwZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlcGFyc2VPdmVyc2NhbGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fbG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5hY3RvciA9IGRpc3BhdGNoZXIuZ2V0QWN0b3IoKTtcbiAgICAgICAgdGhpcy5zZXRFdmVudGVkUGFyZW50KGV2ZW50ZWRQYXJlbnQpO1xuXG4gICAgICAgIHRoaXMuX2RhdGEgPSAob3B0aW9ucy5kYXRhOiBhbnkpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcgPSBvcHRpb25zLmNvbGxlY3RSZXNvdXJjZVRpbWluZztcblxuICAgICAgICBpZiAob3B0aW9ucy5tYXh6b29tICE9PSB1bmRlZmluZWQpIHRoaXMubWF4em9vbSA9IG9wdGlvbnMubWF4em9vbTtcbiAgICAgICAgaWYgKG9wdGlvbnMudHlwZSkgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlO1xuICAgICAgICBpZiAob3B0aW9ucy5hdHRyaWJ1dGlvbikgdGhpcy5hdHRyaWJ1dGlvbiA9IG9wdGlvbnMuYXR0cmlidXRpb247XG4gICAgICAgIHRoaXMucHJvbW90ZUlkID0gb3B0aW9ucy5wcm9tb3RlSWQ7XG5cbiAgICAgICAgY29uc3Qgc2NhbGUgPSBFWFRFTlQgLyB0aGlzLnRpbGVTaXplO1xuXG4gICAgICAgIC8vIHNlbnQgdG8gdGhlIHdvcmtlciwgYWxvbmcgd2l0aCBgdXJsOiAuLi5gIG9yIGBkYXRhOiBsaXRlcmFsIGdlb2pzb25gLFxuICAgICAgICAvLyBzbyB0aGF0IGl0IGNhbiBsb2FkL3BhcnNlL2luZGV4IHRoZSBnZW9qc29uIGRhdGFcbiAgICAgICAgLy8gZXh0ZW5kaW5nIHdpdGggYG9wdGlvbnMud29ya2VyT3B0aW9uc2AgaGVscHMgdG8gbWFrZSBpdCBlYXN5IGZvclxuICAgICAgICAvLyB0aGlyZC1wYXJ0eSBzb3VyY2VzIHRvIGhhY2svcmV1c2UgR2VvSlNPTlNvdXJjZS5cbiAgICAgICAgdGhpcy53b3JrZXJPcHRpb25zID0gZXh0ZW5kKHtcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgIGNsdXN0ZXI6IG9wdGlvbnMuY2x1c3RlciB8fCBmYWxzZSxcbiAgICAgICAgICAgIGdlb2pzb25WdE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBidWZmZXI6IChvcHRpb25zLmJ1ZmZlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5idWZmZXIgOiAxMjgpICogc2NhbGUsXG4gICAgICAgICAgICAgICAgdG9sZXJhbmNlOiAob3B0aW9ucy50b2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudG9sZXJhbmNlIDogMC4zNzUpICogc2NhbGUsXG4gICAgICAgICAgICAgICAgZXh0ZW50OiBFWFRFTlQsXG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogdGhpcy5tYXh6b29tLFxuICAgICAgICAgICAgICAgIGxpbmVNZXRyaWNzOiBvcHRpb25zLmxpbmVNZXRyaWNzIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgIGdlbmVyYXRlSWQ6IG9wdGlvbnMuZ2VuZXJhdGVJZCB8fCBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cGVyY2x1c3Rlck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBtYXhab29tOiBvcHRpb25zLmNsdXN0ZXJNYXhab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsdXN0ZXJNYXhab29tIDogdGhpcy5tYXh6b29tIC0gMSxcbiAgICAgICAgICAgICAgICBtaW5Qb2ludHM6IE1hdGgubWF4KDIsIG9wdGlvbnMuY2x1c3Rlck1pblBvaW50cyB8fCAyKSxcbiAgICAgICAgICAgICAgICBleHRlbnQ6IEVYVEVOVCxcbiAgICAgICAgICAgICAgICByYWRpdXM6IChvcHRpb25zLmNsdXN0ZXJSYWRpdXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2x1c3RlclJhZGl1cyA6IDUwKSAqIHNjYWxlLFxuICAgICAgICAgICAgICAgIGxvZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVJZDogb3B0aW9ucy5nZW5lcmF0ZUlkIHx8IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2x1c3RlclByb3BlcnRpZXM6IG9wdGlvbnMuY2x1c3RlclByb3BlcnRpZXMsXG4gICAgICAgICAgICBmaWx0ZXI6IG9wdGlvbnMuZmlsdGVyXG4gICAgICAgIH0sIG9wdGlvbnMud29ya2VyT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLnNldERhdGEodGhpcy5fZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgR2VvSlNPTiBkYXRhIGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IHN0cmluZ30gZGF0YSBBIEdlb0pTT04gZGF0YSBvYmplY3Qgb3IgYSBVUkwgdG8gb25lLiBUaGUgbGF0dGVyIGlzIHByZWZlcmFibGUgaW4gdGhlIGNhc2Ugb2YgbGFyZ2UgR2VvSlNPTiBmaWxlcy5cbiAgICAgKiBAcmV0dXJucyB7R2VvSlNPTlNvdXJjZX0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5hZGRTb3VyY2UoJ3NvdXJjZV9pZCcsIHtcbiAgICAgKiAgICAgdHlwZTogJ2dlb2pzb24nLFxuICAgICAqICAgICBkYXRhOiB7XG4gICAgICogICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAgICAqICAgICAgICAgZmVhdHVyZXM6IFtdXG4gICAgICogICAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBjb25zdCBnZW9qc29uU291cmNlID0gbWFwLmdldFNvdXJjZSgnc291cmNlX2lkJyk7XG4gICAgICogLy8gVXBkYXRlIHRoZSBkYXRhIGFmdGVyIHRoZSBHZW9KU09OIHNvdXJjZSB3YXMgY3JlYXRlZFxuICAgICAqIGdlb2pzb25Tb3VyY2Uuc2V0RGF0YSh7XG4gICAgICogICAgIFwidHlwZVwiOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgICogICAgIFwiZmVhdHVyZXNcIjogW3tcbiAgICAgKiAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAgICAgKiAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XCJuYW1lXCI6IFwiTnVsbCBJc2xhbmRcIn0sXG4gICAgICogICAgICAgICBcImdlb21ldHJ5XCI6IHtcbiAgICAgKiAgICAgICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICAgICAqICAgICAgICAgICAgIFwiY29vcmRpbmF0ZXNcIjogWyAwLCAwIF1cbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgfV1cbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBzZXREYXRhKGRhdGE6IEdlb0pTT04gfCBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yIGNsdXN0ZXJlZCBzb3VyY2VzLCBmZXRjaGVzIHRoZSB6b29tIGF0IHdoaWNoIHRoZSBnaXZlbiBjbHVzdGVyIGV4cGFuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2x1c3RlcklkIFRoZSB2YWx1ZSBvZiB0aGUgY2x1c3RlcidzIGBjbHVzdGVyX2lkYCBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSB6b29tIHZhbHVlIGlzIHJldHJpZXZlZCAoYChlcnJvciwgem9vbSkgPT4geyAuLi4gfWApLlxuICAgICAqIEByZXR1cm5zIHtHZW9KU09OU291cmNlfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQXNzdW1pbmcgdGhlIG1hcCBoYXMgYSBsYXllciBuYW1lZCAnY2x1c3RlcnMnIGFuZCBhIHNvdXJjZSAnZWFydGhxdWFrZXMnXG4gICAgICogLy8gVGhlIGZvbGxvd2luZyBjcmVhdGVzIGEgY2FtZXJhIGFuaW1hdGlvbiBvbiBjbHVzdGVyIGZlYXR1cmUgY2xpY2tcbiAgICAgKiBtYXAub24oJ2NsaWNrJywgJ2NsdXN0ZXJzJywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc3QgZmVhdHVyZXMgPSBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQsIHtcbiAgICAgKiAgICAgICAgIGxheWVyczogWydjbHVzdGVycyddXG4gICAgICogICAgIH0pO1xuICAgICAqXG4gICAgICogICAgIGNvbnN0IGNsdXN0ZXJJZCA9IGZlYXR1cmVzWzBdLnByb3BlcnRpZXMuY2x1c3Rlcl9pZDtcbiAgICAgKlxuICAgICAqICAgICAvLyBFYXNlIHRoZSBjYW1lcmEgdG8gdGhlIG5leHQgY2x1c3RlciBleHBhbnNpb25cbiAgICAgKiAgICAgbWFwLmdldFNvdXJjZSgnZWFydGhxdWFrZXMnKS5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShcbiAgICAgKiAgICAgICAgIGNsdXN0ZXJJZCxcbiAgICAgKiAgICAgICAgIChlcnIsIHpvb20pID0+IHtcbiAgICAgKiAgICAgICAgICAgICBpZiAoIWVycikge1xuICAgICAqICAgICAgICAgICAgICAgICBtYXAuZWFzZVRvKHtcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogZmVhdHVyZXNbMF0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMsXG4gICAgICogICAgICAgICAgICAgICAgICAgICB6b29tXG4gICAgICogICAgICAgICAgICAgICAgIH0pO1xuICAgICAqICAgICAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBnZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShjbHVzdGVySWQ6IG51bWJlciwgY2FsbGJhY2s6IENhbGxiYWNrPG51bWJlcj4pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5hY3Rvci5zZW5kKCdnZW9qc29uLmdldENsdXN0ZXJFeHBhbnNpb25ab29tJywge2NsdXN0ZXJJZCwgc291cmNlOiB0aGlzLmlkfSwgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3IgY2x1c3RlcmVkIHNvdXJjZXMsIGZldGNoZXMgdGhlIGNoaWxkcmVuIG9mIHRoZSBnaXZlbiBjbHVzdGVyIG9uIHRoZSBuZXh0IHpvb20gbGV2ZWwgKGFzIGFuIGFycmF5IG9mIEdlb0pTT04gZmVhdHVyZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNsdXN0ZXJJZCBUaGUgdmFsdWUgb2YgdGhlIGNsdXN0ZXIncyBgY2x1c3Rlcl9pZGAgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZmVhdHVyZXMgYXJlIHJldHJpZXZlZCAoYChlcnJvciwgZmVhdHVyZXMpID0+IHsgLi4uIH1gKS5cbiAgICAgKiBAcmV0dXJucyB7R2VvSlNPTlNvdXJjZX0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFJldHJpZXZlIGNsdXN0ZXIgY2hpbGRyZW4gb24gY2xpY2tcbiAgICAgKiBtYXAub24oJ2NsaWNrJywgJ2NsdXN0ZXJzJywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc3QgZmVhdHVyZXMgPSBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQsIHtcbiAgICAgKiAgICAgICAgIGxheWVyczogWydjbHVzdGVycyddXG4gICAgICogICAgIH0pO1xuICAgICAqXG4gICAgICogICAgIGNvbnN0IGNsdXN0ZXJJZCA9IGZlYXR1cmVzWzBdLnByb3BlcnRpZXMuY2x1c3Rlcl9pZDtcbiAgICAgKlxuICAgICAqICAgICBjbHVzdGVyU291cmNlLmdldENsdXN0ZXJDaGlsZHJlbihjbHVzdGVySWQsIChlcnJvciwgZmVhdHVyZXMpID0+IHtcbiAgICAgKiAgICAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgKiAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2x1c3RlciBjaGlsZHJlbjonLCBmZWF0dXJlcyk7XG4gICAgICogICAgICAgICB9XG4gICAgICogICAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICovXG4gICAgZ2V0Q2x1c3RlckNoaWxkcmVuKGNsdXN0ZXJJZDogbnVtYmVyLCBjYWxsYmFjazogQ2FsbGJhY2s8QXJyYXk8R2VvSlNPTkZlYXR1cmU+Pik6IHRoaXMge1xuICAgICAgICB0aGlzLmFjdG9yLnNlbmQoJ2dlb2pzb24uZ2V0Q2x1c3RlckNoaWxkcmVuJywge2NsdXN0ZXJJZCwgc291cmNlOiB0aGlzLmlkfSwgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3IgY2x1c3RlcmVkIHNvdXJjZXMsIGZldGNoZXMgdGhlIG9yaWdpbmFsIHBvaW50cyB0aGF0IGJlbG9uZyB0byB0aGUgY2x1c3RlciAoYXMgYW4gYXJyYXkgb2YgR2VvSlNPTiBmZWF0dXJlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2x1c3RlcklkIFRoZSB2YWx1ZSBvZiB0aGUgY2x1c3RlcidzIGBjbHVzdGVyX2lkYCBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGltaXQgVGhlIG1heGltdW0gbnVtYmVyIG9mIGZlYXR1cmVzIHRvIHJldHVybi4gRGVmYXVsdHMgdG8gYDEwYCBpZiBhIGZhbHN5IHZhbHVlIGlzIGdpdmVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgVGhlIG51bWJlciBvZiBmZWF0dXJlcyB0byBza2lwIChmb3IgZXhhbXBsZSwgZm9yIHBhZ2luYXRpb24pLiBEZWZhdWx0cyB0byBgMGAgaWYgYSBmYWxzeSB2YWx1ZSBpcyBnaXZlbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBmZWF0dXJlcyBhcmUgcmV0cmlldmVkIChgKGVycm9yLCBmZWF0dXJlcykgPT4geyAuLi4gfWApLlxuICAgICAqIEByZXR1cm5zIHtHZW9KU09OU291cmNlfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gUmV0cmlldmUgY2x1c3RlciBsZWF2ZXMgb24gY2xpY2tcbiAgICAgKiBtYXAub24oJ2NsaWNrJywgJ2NsdXN0ZXJzJywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc3QgZmVhdHVyZXMgPSBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQsIHtcbiAgICAgKiAgICAgICAgIGxheWVyczogWydjbHVzdGVycyddXG4gICAgICogICAgIH0pO1xuICAgICAqXG4gICAgICogICAgIGNvbnN0IGNsdXN0ZXJJZCA9IGZlYXR1cmVzWzBdLnByb3BlcnRpZXMuY2x1c3Rlcl9pZDtcbiAgICAgKiAgICAgY29uc3QgcG9pbnRDb3VudCA9IGZlYXR1cmVzWzBdLnByb3BlcnRpZXMucG9pbnRfY291bnQ7XG4gICAgICogICAgIGNvbnN0IGNsdXN0ZXJTb3VyY2UgPSBtYXAuZ2V0U291cmNlKCdjbHVzdGVycycpO1xuICAgICAqXG4gICAgICogICAgIGNsdXN0ZXJTb3VyY2UuZ2V0Q2x1c3RlckxlYXZlcyhjbHVzdGVySWQsIHBvaW50Q291bnQsIDAsIChlcnJvciwgZmVhdHVyZXMpID0+IHtcbiAgICAgKiAgICAgLy8gUHJpbnQgY2x1c3RlciBsZWF2ZXMgaW4gdGhlIGNvbnNvbGVcbiAgICAgKiAgICAgICAgIGNvbnNvbGUubG9nKCdDbHVzdGVyIGxlYXZlczonLCBlcnJvciwgZmVhdHVyZXMpO1xuICAgICAqICAgICB9KTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBnZXRDbHVzdGVyTGVhdmVzKGNsdXN0ZXJJZDogbnVtYmVyLCBsaW1pdDogbnVtYmVyLCBvZmZzZXQ6IG51bWJlciwgY2FsbGJhY2s6IENhbGxiYWNrPEFycmF5PEdlb0pTT05GZWF0dXJlPj4pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5hY3Rvci5zZW5kKCdnZW9qc29uLmdldENsdXN0ZXJMZWF2ZXMnLCB7XG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICAgICAgICBjbHVzdGVySWQsXG4gICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgIG9mZnNldFxuICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogUmVzcG9uc2libGUgZm9yIGludm9raW5nIFdvcmtlclNvdXJjZSdzIGdlb2pzb24ubG9hZERhdGEgdGFyZ2V0LCB3aGljaFxuICAgICAqIGhhbmRsZXMgbG9hZGluZyB0aGUgZ2VvanNvbiBkYXRhIGFuZCBwcmVwYXJpbmcgdG8gc2VydmUgaXQgdXAgYXMgdGlsZXMsXG4gICAgICogdXNpbmcgZ2VvanNvbi12dCBvciBzdXBlcmNsdXN0ZXIgYXMgYXBwcm9wcmlhdGUuXG4gICAgICovXG4gICAgX3VwZGF0ZVdvcmtlckRhdGEoKSB7XG4gICAgICAgIC8vIGlmIHRoZXJlJ3MgYW4gZWFybGllciBsb2FkRGF0YSB0byBmaW5pc2gsIHdhaXQgdW50aWwgaXQgZmluaXNoZXMgYW5kIHRoZW4gZG8gYW5vdGhlciB1cGRhdGVcbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdMb2FkKSB7XG4gICAgICAgICAgICB0aGlzLl9jb2FsZXNjZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG5cbiAgICAgICAgdGhpcy5fbG9hZGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBleHRlbmQoe30sIHRoaXMud29ya2VyT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9kYXRhO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRpb25zLnJlcXVlc3QgPSB0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChicm93c2VyLnJlc29sdmVVUkwoZGF0YSksIFJlc291cmNlVHlwZS5Tb3VyY2UpO1xuICAgICAgICAgICAgb3B0aW9ucy5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZyA9IHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGFyZ2V0IHt0aGlzLnR5cGV9LmxvYWREYXRhIHJhdGhlciB0aGFuIGxpdGVyYWxseSBnZW9qc29uLmxvYWREYXRhLFxuICAgICAgICAvLyBzbyB0aGF0IG90aGVyIGdlb2pzb24tbGlrZSBzb3VyY2UgdHlwZXMgY2FuIGVhc2lseSByZXVzZSB0aGlzXG4gICAgICAgIC8vIGltcGxlbWVudGF0aW9uXG4gICAgICAgIHRoaXMuX3BlbmRpbmdMb2FkID0gdGhpcy5hY3Rvci5zZW5kKGAke3RoaXMudHlwZX0ubG9hZERhdGFgLCBvcHRpb25zLCAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nTG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYWx0aG91Z2ggR2VvSlNPTiBzb3VyY2VzIGNvbnRhaW4gbm8gbWV0YWRhdGEsIHdlIGZpcmUgdGhpcyBldmVudCBhdCBmaXJzdFxuICAgICAgICAgICAgICAgIC8vIHRvIGxldCB0aGUgU291cmNlQ2FjaGUga25vdyBpdHMgb2sgdG8gc3RhcnQgcmVxdWVzdGluZyB0aWxlcy5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhOiBPYmplY3QgPSB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogdGhpcy5fbWV0YWRhdGFGaXJlZCA/ICdjb250ZW50JyA6ICdtZXRhZGF0YSd9O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcgJiYgcmVzdWx0ICYmIHJlc3VsdC5yZXNvdXJjZVRpbWluZyAmJiByZXN1bHQucmVzb3VyY2VUaW1pbmdbdGhpcy5pZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5yZXNvdXJjZVRpbWluZyA9IHJlc3VsdC5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIGRhdGEpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXRhZGF0YUZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2NvYWxlc2NlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlV29ya2VyRGF0YSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvYWxlc2NlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlZDtcbiAgICB9XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9ICF0aWxlLmFjdG9yID8gJ2xvYWRUaWxlJyA6ICdyZWxvYWRUaWxlJztcbiAgICAgICAgdGlsZS5hY3RvciA9IHRoaXMuYWN0b3I7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHVpZDogdGlsZS51aWQsXG4gICAgICAgICAgICB0aWxlSUQ6IHRpbGUudGlsZUlELFxuICAgICAgICAgICAgdGlsZVpvb206IHRpbGUudGlsZVpvb20sXG4gICAgICAgICAgICB6b29tOiB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgICAgIG1heFpvb206IHRoaXMubWF4em9vbSxcbiAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgc291cmNlOiB0aGlzLmlkLFxuICAgICAgICAgICAgcGl4ZWxSYXRpbzogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLFxuICAgICAgICAgICAgc2hvd0NvbGxpc2lvbkJveGVzOiB0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMsXG4gICAgICAgICAgICBwcm9tb3RlSWQ6IHRoaXMucHJvbW90ZUlkXG4gICAgICAgIH07XG5cbiAgICAgICAgdGlsZS5yZXF1ZXN0ID0gdGhpcy5hY3Rvci5zZW5kKG1lc3NhZ2UsIHBhcmFtcywgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgZGVsZXRlIHRpbGUucmVxdWVzdDtcbiAgICAgICAgICAgIHRpbGUudW5sb2FkVmVjdG9yRGF0YSgpO1xuXG4gICAgICAgICAgICBpZiAodGlsZS5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRpbGUubG9hZFZlY3RvckRhdGEoZGF0YSwgdGhpcy5tYXAucGFpbnRlciwgbWVzc2FnZSA9PT0gJ3JlbG9hZFRpbGUnKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9LCB1bmRlZmluZWQsIG1lc3NhZ2UgPT09ICdsb2FkVGlsZScpO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBhYm9ydFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICBpZiAodGlsZS5yZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aWxlLnJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5yZXF1ZXN0O1xuICAgICAgICB9XG4gICAgICAgIHRpbGUuYWJvcnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIHVubG9hZFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICB0aWxlLnVubG9hZFZlY3RvckRhdGEoKTtcbiAgICAgICAgdGhpcy5hY3Rvci5zZW5kKCdyZW1vdmVUaWxlJywge3VpZDogdGlsZS51aWQsIHR5cGU6IHRoaXMudHlwZSwgc291cmNlOiB0aGlzLmlkfSk7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0xvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdMb2FkLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IEdlb0pTT05Tb3VyY2VTcGVjaWZpY2F0aW9uIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucywge1xuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgZGF0YTogdGhpcy5fZGF0YVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHZW9KU09OU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtnZXRWaWRlbywgUmVzb3VyY2VUeXBlfSBmcm9tICcuLi91dGlsL2FqYXguanMnO1xuXG5pbXBvcnQgSW1hZ2VTb3VyY2UgZnJvbSAnLi9pbWFnZV9zb3VyY2UuanMnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUuanMnO1xuaW1wb3J0IHtFcnJvckV2ZW50fSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IFZhbGlkYXRpb25FcnJvciBmcm9tICcuLi9zdHlsZS1zcGVjL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3IuanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwLmpzJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB0eXBlIHtFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IHR5cGUge1ZpZGVvU291cmNlU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5cbi8qKlxuICogQSBkYXRhIHNvdXJjZSBjb250YWluaW5nIHZpZGVvLlxuICogU2VlIHRoZSBbU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jc291cmNlcy12aWRlbykgZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24gb2Ygb3B0aW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gYWRkIHRvIG1hcFxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAndmlkZW8nLFxuICogICAgIHVybDogW1xuICogICAgICAgICAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9ibG9nL2Fzc2V0cy9iYWx0aW1vcmUtc21va2UubXA0JyxcbiAqICAgICAgICAgJ2h0dHBzOi8vd3d3Lm1hcGJveC5jb20vYmxvZy9hc3NldHMvYmFsdGltb3JlLXNtb2tlLndlYm0nXG4gKiAgICAgXSxcbiAqICAgICBjb29yZGluYXRlczogW1xuICogICAgICAgICBbLTc2LjU0LCAzOS4xOF0sXG4gKiAgICAgICAgIFstNzYuNTIsIDM5LjE4XSxcbiAqICAgICAgICAgWy03Ni41MiwgMzkuMTddLFxuICogICAgICAgICBbLTc2LjU0LCAzOS4xN11cbiAqICAgICBdXG4gKiB9KTtcbiAqXG4gKiAvLyB1cGRhdGVcbiAqIGNvbnN0IG15U291cmNlID0gbWFwLmdldFNvdXJjZSgnc29tZSBpZCcpO1xuICogbXlTb3VyY2Uuc2V0Q29vcmRpbmF0ZXMoW1xuICogICAgIFstNzYuNTQzMzU3MzcyMjgzOTQsIDM5LjE4NTc5OTA3MjI5NzQ4XSxcbiAqICAgICBbLTc2LjUyODAzNjU5NDM5MDg3LCAzOS4xODM4MzY0ODQ3NTg3XSxcbiAqICAgICBbLTc2LjUyOTUzODYzMTQzOTIsIDM5LjE3NjgzMzkyNTA3NjA2XSxcbiAqICAgICBbLTc2LjU0NTIwMjczMjA4NjE4LCAzOS4xNzg3NjM0NDEwNjY0Ml1cbiAqIF0pO1xuICpcbiAqIG1hcC5yZW1vdmVTb3VyY2UoJ3NvbWUgaWQnKTsgIC8vIHJlbW92ZVxuICogQHNlZSBbRXhhbXBsZTogQWRkIGEgdmlkZW9dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdmlkZW8tb24tYS1tYXAvKVxuICovXG5jbGFzcyBWaWRlb1NvdXJjZSBleHRlbmRzIEltYWdlU291cmNlIHtcbiAgICBvcHRpb25zOiBWaWRlb1NvdXJjZVNwZWNpZmljYXRpb247XG4gICAgdXJsczogQXJyYXk8c3RyaW5nPjtcbiAgICB2aWRlbzogSFRNTFZpZGVvRWxlbWVudDtcbiAgICByb3VuZFpvb206IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IFZpZGVvU291cmNlU3BlY2lmaWNhdGlvbiwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcihpZCwgb3B0aW9ucywgZGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudCk7XG4gICAgICAgIHRoaXMucm91bmRab29tID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50eXBlID0gJ3ZpZGVvJztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB0aGlzLnVybHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB1cmwgb2Ygb3B0aW9ucy51cmxzKSB7XG4gICAgICAgICAgICB0aGlzLnVybHMucHVzaCh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh1cmwsIFJlc291cmNlVHlwZS5Tb3VyY2UpLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRWaWRlbyh0aGlzLnVybHMsIChlcnIsIHZpZGVvKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmlkZW8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvID0gdmlkZW87XG4gICAgICAgICAgICAgICAgdGhpcy52aWRlby5sb29wID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgdGhlIHZpZGVvIGZyb20gdGFraW5nIG92ZXIgdGhlIHNjcmVlbiBpbiBpT1NcbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBTdGFydCByZXBhaW50aW5nIHdoZW4gdmlkZW8gc3RhcnRzIHBsYXlpbmcuIGhhc1RyYW5zaXRpb24oKSB3aWxsIHRoZW4gcmV0dXJuXG4gICAgICAgICAgICAgICAgLy8gdHJ1ZSB0byB0cmlnZ2VyIGFkZGl0aW9uYWwgZnJhbWVzIGFzIGxvbmcgYXMgdGhlIHZpZGVvcyBjb250aW51ZXMgcGxheWluZy5cbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLnRyaWdnZXJSZXBhaW50KCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fZmluaXNoTG9hZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXVzZXMgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBBc3N1bWluZyBhIHZpZGVvIHNvdXJjZSBpZGVudGlmaWVkIGJ5IHZpZGVvX3NvdXJjZV9pZCB3YXMgYWRkZWQgdG8gdGhlIG1hcFxuICAgICAqIGNvbnN0IHZpZGVvU291cmNlID0gbWFwLmdldFNvdXJjZSgndmlkZW9fc291cmNlX2lkJyk7XG4gICAgICpcbiAgICAgKiAvLyBQYXVzZXMgdGhlIHZpZGVvXG4gICAgICogdmlkZW9Tb3VyY2UucGF1c2UoKTtcbiAgICAgKi9cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlkZW8pIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW8ucGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBsYXlzIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQXNzdW1pbmcgYSB2aWRlbyBzb3VyY2UgaWRlbnRpZmllZCBieSB2aWRlb19zb3VyY2VfaWQgd2FzIGFkZGVkIHRvIHRoZSBtYXBcbiAgICAgKiBjb25zdCB2aWRlb1NvdXJjZSA9IG1hcC5nZXRTb3VyY2UoJ3ZpZGVvX3NvdXJjZV9pZCcpO1xuICAgICAqXG4gICAgICogLy8gU3RhcnRzIHRoZSB2aWRlb1xuICAgICAqIHZpZGVvU291cmNlLnBsYXkoKTtcbiAgICAgKi9cbiAgICBwbGF5KCkge1xuICAgICAgICBpZiAodGhpcy52aWRlbykge1xuICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHBsYXliYWNrIHRvIGEgdGltZXN0YW1wLCBpbiBzZWNvbmRzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc2VlayhzZWNvbmRzOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMudmlkZW8pIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZWthYmxlUmFuZ2UgPSB0aGlzLnZpZGVvLnNlZWthYmxlO1xuICAgICAgICAgICAgaWYgKHNlY29uZHMgPCBzZWVrYWJsZVJhbmdlLnN0YXJ0KDApIHx8IHNlY29uZHMgPiBzZWVrYWJsZVJhbmdlLmVuZCgwKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgVmFsaWRhdGlvbkVycm9yKGBzb3VyY2VzLiR7dGhpcy5pZH1gLCBudWxsLCBgUGxheWJhY2sgZm9yIHRoaXMgdmlkZW8gY2FuIGJlIHNldCBvbmx5IGJldHdlZW4gdGhlICR7c2Vla2FibGVSYW5nZS5zdGFydCgwKX0gYW5kICR7c2Vla2FibGVSYW5nZS5lbmQoMCl9LXNlY29uZCBtYXJrLmApKSk7XG4gICAgICAgICAgICB9IGVsc2UgdGhpcy52aWRlby5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBIVE1MIGB2aWRlb2AgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MVmlkZW9FbGVtZW50fSBUaGUgSFRNTCBgdmlkZW9gIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBBc3N1bWluZyBhIHZpZGVvIHNvdXJjZSBpZGVudGlmaWVkIGJ5IHZpZGVvX3NvdXJjZV9pZCB3YXMgYWRkZWQgdG8gdGhlIG1hcFxuICAgICAqIGNvbnN0IHZpZGVvU291cmNlID0gbWFwLmdldFNvdXJjZSgndmlkZW9fc291cmNlX2lkJyk7XG4gICAgICpcbiAgICAgKiB2aWRlb1NvdXJjZS5nZXRWaWRlbygpOyAvLyA8dmlkZW8gY3Jvc3NvcmlnaW49XCJBbm9ueW1vdXNcIiBsb29wPVwiXCI+Li4uPC92aWRlbz5cbiAgICAgKi9cbiAgICBnZXRWaWRlbygpOiBIVE1MVmlkZW9FbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW87XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgaWYgKHRoaXMubWFwKSByZXR1cm47XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgaWYgKHRoaXMudmlkZW8pIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZpZGVvJ3MgY29vcmRpbmF0ZXMgYW5kIHJlLXJlbmRlcnMgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBtZXRob2Qgc2V0Q29vcmRpbmF0ZXNcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVmlkZW9Tb3VyY2VcbiAgICAgKiBAcmV0dXJucyB7VmlkZW9Tb3VyY2V9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBBZGQgYSB2aWRlbyBzb3VyY2UgdG8gdGhlIG1hcCB0byBtYXBcbiAgICAgKiBtYXAuYWRkU291cmNlKCd2aWRlb19zb3VyY2VfaWQnLCB7XG4gICAgICogICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICogICAgIHVybDogW1xuICAgICAqICAgICAgICAgJ2h0dHBzOi8vd3d3Lm1hcGJveC5jb20vYmxvZy9hc3NldHMvYmFsdGltb3JlLXNtb2tlLm1wNCcsXG4gICAgICogICAgICAgICAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9ibG9nL2Fzc2V0cy9iYWx0aW1vcmUtc21va2Uud2VibSdcbiAgICAgKiAgICAgXSxcbiAgICAgKiAgICAgY29vcmRpbmF0ZXM6IFtcbiAgICAgKiAgICAgICAgIFstNzYuNTQsIDM5LjE4XSxcbiAgICAgKiAgICAgICAgIFstNzYuNTIsIDM5LjE4XSxcbiAgICAgKiAgICAgICAgIFstNzYuNTIsIDM5LjE3XSxcbiAgICAgKiAgICAgICAgIFstNzYuNTQsIDM5LjE3XVxuICAgICAqICAgICBdXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiAvLyBUaGVuIHVwZGF0ZSB0aGUgdmlkZW8gc291cmNlIGNvb3JkaW5hdGVzIGJ5IG5ldyBjb29yZGluYXRlc1xuICAgICAqIGNvbnN0IHZpZGVvU291cmNlID0gbWFwLmdldFNvdXJjZSgndmlkZW9fc291cmNlX2lkJyk7XG4gICAgICogdmlkZW9Tb3VyY2Uuc2V0Q29vcmRpbmF0ZXMoW1xuICAgICAqICAgICBbLTc2LjU0MzMsIDM5LjE4NTddLFxuICAgICAqICAgICBbLTc2LjUyODAsIDM5LjE4MzhdLFxuICAgICAqICAgICBbLTc2LjUyOTUsIDM5LjE3NjhdLFxuICAgICAqICAgICBbLTc2LjU0NTIsIDM5LjE3ODddXG4gICAgICogXSk7XG4gICAgICovXG4gICAgLy8gc2V0Q29vcmRpbmF0ZXMgaW5oZXJpdGVkIGZyb20gSW1hZ2VTb3VyY2VcblxuICAgIHByZXBhcmUoKSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGggPT09IDAgfHwgdGhpcy52aWRlby5yZWFkeVN0YXRlIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBub3QgZW5vdWdoIGRhdGEgZm9yIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLm1hcC5wYWludGVyLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgdGhpcy52aWRlbywgZ2wuUkdCQSk7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMudmlkZW8udmlkZW9XaWR0aDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy52aWRlby52aWRlb0hlaWdodDtcblxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnZpZGVvLnBhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdGhpcy52aWRlbyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcmVwYXJlRGF0YShjb250ZXh0KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKTogVmlkZW9Tb3VyY2VTcGVjaWZpY2F0aW9uIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICAgICAgICB1cmxzOiB0aGlzLnVybHMsXG4gICAgICAgICAgICBjb29yZGluYXRlczogdGhpcy5jb29yZGluYXRlc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvICYmICF0aGlzLnZpZGVvLnBhdXNlZDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZGVvU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IEltYWdlU291cmNlIGZyb20gJy4vaW1hZ2Vfc291cmNlLmpzJztcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdy5qcyc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9yZW5kZXIvdGV4dHVyZS5qcyc7XG5pbXBvcnQge0Vycm9yRXZlbnR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQgVmFsaWRhdGlvbkVycm9yIGZyb20gJy4uL3N0eWxlLXNwZWMvZXJyb3IvdmFsaWRhdGlvbl9lcnJvci5qcyc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAuanMnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXIuanMnO1xuaW1wb3J0IHR5cGUge0V2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZC5qcyc7XG5cbmV4cG9ydCB0eXBlIENhbnZhc1NvdXJjZVNwZWNpZmljYXRpb24gPSB7fFxuICAgIFwidHlwZVwiOiBcImNhbnZhc1wiLFxuICAgIFwiY29vcmRpbmF0ZXNcIjogW1tudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl1dLFxuICAgIFwiYW5pbWF0ZVwiPzogYm9vbGVhbixcbiAgICBcImNhbnZhc1wiOiBzdHJpbmcgfCBIVE1MQ2FudmFzRWxlbWVudFxufH07XG5cbi8qKlxuICogT3B0aW9ucyB0byBhZGQgYSBjYW52YXMgc291cmNlIHR5cGUgdG8gdGhlIG1hcC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDYW52YXNTb3VyY2VPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBTb3VyY2UgdHlwZS4gTXVzdCBiZSBgXCJjYW52YXNcImAuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIENhbnZhcyBzb3VyY2UgZnJvbSB3aGljaCB0byByZWFkIHBpeGVscy4gQ2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgSUQgb2YgdGhlIGNhbnZhcyBlbGVtZW50LCBvciB0aGUgYEhUTUxDYW52YXNFbGVtZW50YCBpdHNlbGYuXG4gKiBAcHJvcGVydHkge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlcyBGb3VyIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyBkZW5vdGluZyB3aGVyZSB0byBwbGFjZSB0aGUgY29ybmVycyBvZiB0aGUgY2FudmFzLCBzcGVjaWZpZWQgaW4gYFtsb25naXR1ZGUsIGxhdGl0dWRlXWAgcGFpcnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbmltYXRlPXRydWVdIFdoZXRoZXIgdGhlIGNhbnZhcyBzb3VyY2UgaXMgYW5pbWF0ZWQuIElmIHRoZSBjYW52YXMgaXMgc3RhdGljIChwaXhlbHMgZG8gbm90IG5lZWQgdG8gYmUgcmUtcmVhZCBvbiBldmVyeSBmcmFtZSksIGBhbmltYXRlYCBzaG91bGQgYmUgc2V0IHRvIGBmYWxzZWAgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZS5cbiAqL1xuXG4vKipcbiAqIEEgZGF0YSBzb3VyY2UgY29udGFpbmluZyB0aGUgY29udGVudHMgb2YgYW4gSFRNTCBjYW52YXMuIFNlZSB7QGxpbmsgQ2FudmFzU291cmNlT3B0aW9uc30gZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24gb2Ygb3B0aW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gYWRkIHRvIG1hcFxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAnY2FudmFzJyxcbiAqICAgICBjYW52YXM6ICdpZE9mTXlIVE1MQ2FudmFzJyxcbiAqICAgICBhbmltYXRlOiB0cnVlLFxuICogICAgIGNvb3JkaW5hdGVzOiBbXG4gKiAgICAgICAgIFstNzYuNTQsIDM5LjE4XSxcbiAqICAgICAgICAgWy03Ni41MiwgMzkuMThdLFxuICogICAgICAgICBbLTc2LjUyLCAzOS4xN10sXG4gKiAgICAgICAgIFstNzYuNTQsIDM5LjE3XVxuICogICAgIF1cbiAqIH0pO1xuICpcbiAqIC8vIHVwZGF0ZVxuICogY29uc3QgbXlTb3VyY2UgPSBtYXAuZ2V0U291cmNlKCdzb21lIGlkJyk7XG4gKiBteVNvdXJjZS5zZXRDb29yZGluYXRlcyhbXG4gKiAgICAgWy03Ni41NDMzNTczNzIyODM5NCwgMzkuMTg1Nzk5MDcyMjk3NDhdLFxuICogICAgIFstNzYuNTI4MDM2NTk0MzkwODcsIDM5LjE4MzgzNjQ4NDc1ODddLFxuICogICAgIFstNzYuNTI5NTM4NjMxNDM5MiwgMzkuMTc2ODMzOTI1MDc2MDZdLFxuICogICAgIFstNzYuNTQ1MjAyNzMyMDg2MTgsIDM5LjE3ODc2MzQ0MTA2NjQyXVxuICogXSk7XG4gKlxuICogbWFwLnJlbW92ZVNvdXJjZSgnc29tZSBpZCcpOyAgLy8gcmVtb3ZlXG4gKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSBjYW52YXMgc291cmNlXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jYW52YXMtc291cmNlLylcbiAqL1xuY2xhc3MgQ2FudmFzU291cmNlIGV4dGVuZHMgSW1hZ2VTb3VyY2Uge1xuICAgIG9wdGlvbnM6IENhbnZhc1NvdXJjZVNwZWNpZmljYXRpb247XG4gICAgYW5pbWF0ZTogYm9vbGVhbjtcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHBsYXk6ICgpID0+IHZvaWQ7XG4gICAgcGF1c2U6ICgpID0+IHZvaWQ7XG4gICAgX3BsYXlpbmc6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IENhbnZhc1NvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoaWQsIG9wdGlvbnMsIGRpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQpO1xuXG4gICAgICAgIC8vIFdlIGJ1aWxkIGluIHNvbWUgdmFsaWRhdGlvbiBoZXJlLCBzaW5jZSBjYW52YXMgc291cmNlcyBhcmVuJ3QgaW5jbHVkZWQgaW4gdGhlIHN0eWxlIHNwZWM6XG4gICAgICAgIGlmICghb3B0aW9ucy5jb29yZGluYXRlcykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBWYWxpZGF0aW9uRXJyb3IoYHNvdXJjZXMuJHtpZH1gLCBudWxsLCAnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImNvb3JkaW5hdGVzXCInKSkpO1xuICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KG9wdGlvbnMuY29vcmRpbmF0ZXMpIHx8IG9wdGlvbnMuY29vcmRpbmF0ZXMubGVuZ3RoICE9PSA0IHx8XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jb29yZGluYXRlcy5zb21lKGMgPT4gIUFycmF5LmlzQXJyYXkoYykgfHwgYy5sZW5ndGggIT09IDIgfHwgYy5zb21lKGwgPT4gdHlwZW9mIGwgIT09ICdudW1iZXInKSkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgVmFsaWRhdGlvbkVycm9yKGBzb3VyY2VzLiR7aWR9YCwgbnVsbCwgJ1wiY29vcmRpbmF0ZXNcIiBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5IG9mIDQgbG9uZ2l0dWRlL2xhdGl0dWRlIGFycmF5IHBhaXJzJykpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGUgJiYgdHlwZW9mIG9wdGlvbnMuYW5pbWF0ZSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IFZhbGlkYXRpb25FcnJvcihgc291cmNlcy4ke2lkfWAsIG51bGwsICdvcHRpb25hbCBcImFuaW1hdGVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZScpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMuY2FudmFzKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IFZhbGlkYXRpb25FcnJvcihgc291cmNlcy4ke2lkfWAsIG51bGwsICdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiY2FudmFzXCInKSkpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmNhbnZhcyAhPT0gJ3N0cmluZycgJiYgIShvcHRpb25zLmNhbnZhcyBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgVmFsaWRhdGlvbkVycm9yKGBzb3VyY2VzLiR7aWR9YCwgbnVsbCwgJ1wiY2FudmFzXCIgbXVzdCBiZSBlaXRoZXIgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBJRCBvZiB0aGUgY2FudmFzIGVsZW1lbnQgZnJvbSB3aGljaCB0byByZWFkLCBvciBhbiBIVE1MQ2FudmFzRWxlbWVudCBpbnN0YW5jZScpKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmFuaW1hdGUgPSBvcHRpb25zLmFuaW1hdGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5pbWF0ZSA6IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBhbmltYXRpb24uIFRoZSBpbWFnZSB3aWxsIGJlIGNvcGllZCBmcm9tIHRoZSBjYW52YXMgdG8gdGhlIG1hcCBvbiBlYWNoIGZyYW1lLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBwbGF5XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENhbnZhc1NvdXJjZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYW5pbWF0aW9uLiBUaGUgbWFwIHdpbGwgZGlzcGxheSBhIHN0YXRpYyBjb3B5IG9mIHRoZSBjYW52YXMgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHBhdXNlXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENhbnZhc1NvdXJjZVxuICAgICAqL1xuXG4gICAgbG9hZCgpIHtcbiAgICAgICAgdGhpcy5fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSAodGhpcy5vcHRpb25zLmNhbnZhcyBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudCkgP1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jYW52YXMgOlxuICAgICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdGlvbnMuY2FudmFzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdDYW52YXMgZGltZW5zaW9ucyBjYW5ub3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHplcm8uJykpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fcGxheWluZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1hcC50cmlnZ2VyUmVwYWludCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wbGF5aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmVwYXJlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGxheWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2ZpbmlzaExvYWRpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBIVE1MIGBjYW52YXNgIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSBIVE1MIGBjYW52YXNgIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBBc3N1bWluZyB0aGUgZm9sbG93aW5nIGNhbnZhcyBpcyBhZGRlZCB0byB5b3VyIHBhZ2VcbiAgICAgKiAvLyA8Y2FudmFzIGlkPVwiY2FudmFzSURcIiB3aWR0aD1cIjQwMFwiIGhlaWdodD1cIjQwMFwiPjwvY2FudmFzPlxuICAgICAqIG1hcC5hZGRTb3VyY2UoJ2NhbnZhcy1zb3VyY2UnLCB7XG4gICAgICogICAgIHR5cGU6ICdjYW52YXMnLFxuICAgICAqICAgICBjYW52YXM6ICdjYW52YXNJRCcsXG4gICAgICogICAgIGNvb3JkaW5hdGVzOiBbXG4gICAgICogICAgICAgICBbOTEuNDQ2MSwgMjEuNTAwNl0sXG4gICAgICogICAgICAgICBbMTAwLjM1NDEsIDIxLjUwMDZdLFxuICAgICAqICAgICAgICAgWzEwMC4zNTQxLCAxMy45NzA2XSxcbiAgICAgKiAgICAgICAgIFs5MS40NDYxLCAxMy45NzA2XVxuICAgICAqICAgICBdXG4gICAgICogfSk7XG4gICAgICogbWFwLmdldFNvdXJjZSgnY2FudmFzLXNvdXJjZScpLmdldENhbnZhcygpOyAvLyA8Y2FudmFzIGlkPVwiY2FudmFzSURcIiB3aWR0aD1cIjQwMFwiIGhlaWdodD1cIjQwMFwiPjwvY2FudmFzPlxuICAgICAqL1xuICAgIGdldENhbnZhcygpOiBIVE1MQ2FudmFzRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcztcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGUpIHRoaXMucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY2FudmFzJ3MgY29vcmRpbmF0ZXMgYW5kIHJlLXJlbmRlcnMgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBtZXRob2Qgc2V0Q29vcmRpbmF0ZXNcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQ2FudmFzU291cmNlXG4gICAgICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgRm91ciBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMsXG4gICAgICogICByZXByZXNlbnRlZCBhcyBhcnJheXMgb2YgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSBudW1iZXJzLCB3aGljaCBkZWZpbmUgdGhlIGNvcm5lcnMgb2YgdGhlIGNhbnZhcy5cbiAgICAgKiAgIFRoZSBjb29yZGluYXRlcyBzdGFydCBhdCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBjYW52YXMgYW5kIHByb2NlZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqICAgVGhleSBkbyBub3QgaGF2ZSB0byByZXByZXNlbnQgYSByZWN0YW5nbGUuXG4gICAgICogQHJldHVybnMge0NhbnZhc1NvdXJjZX0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKi9cblxuICAgIC8vIHNldENvb3JkaW5hdGVzIGluaGVyaXRlZCBmcm9tIEltYWdlU291cmNlXG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgbGV0IHJlc2l6ZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jYW52YXMud2lkdGggIT09IHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgICAgICAgIHJlc2l6ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FudmFzLmhlaWdodCAhPT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgICAgICAgICAgcmVzaXplID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpKSByZXR1cm47XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aCA9PT0gMCkgcmV0dXJuOyAvLyBub3QgZW5vdWdoIGRhdGEgZm9yIGN1cnJlbnQgcG9zaXRpb25cblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5tYXAucGFpbnRlci5jb250ZXh0O1xuXG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmNhbnZhcywgY29udGV4dC5nbC5SR0JBLCB7cHJlbXVsdGlwbHk6IHRydWV9KTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNpemUgfHwgdGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLnVwZGF0ZSh0aGlzLmNhbnZhcywge3ByZW11bHRpcGx5OiB0cnVlfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcmVwYXJlRGF0YShjb250ZXh0KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKTogT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdjYW52YXMnLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHRoaXMuY29vcmRpbmF0ZXNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxheWluZztcbiAgICB9XG5cbiAgICBfaGFzSW52YWxpZERpbWVuc2lvbnMoKTogYm9vbGVhbiB7XG4gICAgICAgIGZvciAoY29uc3QgeCBvZiBbdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodF0pIHtcbiAgICAgICAgICAgIGlmIChpc05hTih4KSB8fCB4IDw9IDApIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1NvdXJjZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBUaWxlIGZyb20gJy4vdGlsZS5qcyc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93LmpzJztcbmltcG9ydCBUaWxlQm91bmRzIGZyb20gJy4vdGlsZV9ib3VuZHMuanMnO1xuaW1wb3J0IFJhc3RlclRpbGVTb3VyY2UgZnJvbSAnLi9yYXN0ZXJfdGlsZV9zb3VyY2UuanMnO1xuaW1wb3J0IHtleHRlbmQsIHBpY2t9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQge0V2ZW50LCBFcnJvckV2ZW50LCBFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwLmpzJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlLmpzJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2suanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4vdGlsZV9pZC5qcyc7XG5cbnR5cGUgRGF0YVR5cGUgPSAncmFzdGVyJztcblxuZnVuY3Rpb24gaXNSYXN0ZXIoZGF0YTogYW55KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGRhdGEgaW5zdGFuY2VvZiB3aW5kb3cuSW1hZ2VEYXRhIHx8XG4gICAgICAgIGRhdGEgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQgfHxcbiAgICAgICAgZGF0YSBpbnN0YW5jZW9mIHdpbmRvdy5JbWFnZUJpdG1hcCB8fFxuICAgICAgICBkYXRhIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJbWFnZUVsZW1lbnQ7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBjdXN0b20gc291cmNlcy4gVGhpcyBpcyBhIHNwZWNpZmljYXRpb24gZm9yXG4gKiBpbXBsZW1lbnRlcnMgdG8gbW9kZWw6IGl0IGlzIG5vdCBhbiBleHBvcnRlZCBtZXRob2Qgb3IgY2xhc3MuXG4gKlxuICogQ3VzdG9tIHNvdXJjZXMgYWxsb3cgYSB1c2VyIHRvIGxvYWQgYW5kIG1vZGlmeSB0aGVpciBvd24gdGlsZXMuXG4gKiBUaGVzZSBzb3VyY2VzIGNhbiBiZSBhZGRlZCBiZXR3ZWVuIGFueSByZWd1bGFyIHNvdXJjZXMgdXNpbmcge0BsaW5rIE1hcCNhZGRTb3VyY2V9LlxuICpcbiAqIEN1c3RvbSBzb3VyY2VzIG11c3QgaGF2ZSBhIHVuaXF1ZSBgaWRgIGFuZCBtdXN0IGhhdmUgdGhlIGB0eXBlYCBvZiBgXCJjdXN0b21cImAuXG4gKiBUaGV5IG11c3QgaW1wbGVtZW50IGBsb2FkVGlsZWAgYW5kIG1heSBpbXBsZW1lbnQgYHVubG9hZFRpbGVgLCBgb25BZGRgIGFuZCBgb25SZW1vdmVgLlxuICogVGhleSBjYW4gdHJpZ2dlciByZW5kZXJpbmcgdXNpbmcge0BsaW5rIE1hcCN0cmlnZ2VyUmVwYWludH0uXG4gKlxuICogQGludGVyZmFjZSBDdXN0b21Tb3VyY2VJbnRlcmZhY2VcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZCBBIHVuaXF1ZSBzb3VyY2UgaWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgc291cmNlJ3MgdHlwZS4gTXVzdCBiZSBgXCJjdXN0b21cImAuXG4gKiBAZXhhbXBsZVxuICogLy8gQ3VzdG9tIHNvdXJjZSBpbXBsZW1lbnRlZCBhcyBFUzYgY2xhc3NcbiAqIGNsYXNzIEN1c3RvbVNvdXJjZSB7XG4gKiAgICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgICAgIHRoaXMuaWQgPSAnY3VzdG9tLXNvdXJjZSc7XG4gKiAgICAgICAgIHRoaXMudHlwZSA9ICdjdXN0b20nO1xuICogICAgICAgICB0aGlzLnRpbGVTaXplID0gMjU2O1xuICogICAgICAgICB0aGlzLnRpbGVzVXJsID0gJ2h0dHBzOi8vc3RhbWVuLXRpbGVzLmEuc3NsLmZhc3RseS5uZXQvd2F0ZXJjb2xvci97en0ve3h9L3t5fS5qcGcnO1xuICogICAgICAgICB0aGlzLmF0dHJpYnV0aW9uID0gJ01hcCB0aWxlcyBieSBTdGFtZW4gRGVzaWduLCB1bmRlciBDQyBCWSAzLjAnO1xuICogICAgIH1cbiAqXG4gKiAgICAgYXN5bmMgbG9hZFRpbGUodGlsZSwge3NpZ25hbH0pIHtcbiAqICAgICAgICAgY29uc3QgdXJsID0gdGhpcy50aWxlc1VybFxuICogICAgICAgICAgICAgLnJlcGxhY2UoJ3t6fScsIFN0cmluZyh0aWxlLnopKVxuICogICAgICAgICAgICAgLnJlcGxhY2UoJ3t4fScsIFN0cmluZyh0aWxlLngpKVxuICogICAgICAgICAgICAgLnJlcGxhY2UoJ3t5fScsIFN0cmluZyh0aWxlLnkpKTtcbiAqXG4gKiAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7c2lnbmFsfSk7XG4gKiAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICpcbiAqICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyB3aW5kb3cuQmxvYihbbmV3IFVpbnQ4QXJyYXkoZGF0YSldLCB7dHlwZTogJ2ltYWdlL3BuZyd9KTtcbiAqICAgICAgICAgY29uc3QgaW1hZ2VCaXRtYXAgPSBhd2FpdCB3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXAoYmxvYik7XG4gKlxuICogICAgICAgICByZXR1cm4gaW1hZ2VCaXRtYXA7XG4gKiAgICAgfVxuICogfVxuICpcbiAqIG1hcC5vbignbG9hZCcsICgpID0+IHtcbiAqICAgICBtYXAuYWRkU291cmNlKCdjdXN0b20tc291cmNlJywgbmV3IEN1c3RvbVNvdXJjZSgpKTtcbiAqICAgICBtYXAuYWRkTGF5ZXIoe1xuICogICAgICAgICBpZDogJ2xheWVyJyxcbiAqICAgICAgICAgdHlwZTogJ3Jhc3RlcicsXG4gKiAgICAgICAgIHNvdXJjZTogJ2N1c3RvbS1zb3VyY2UnXG4gKiAgICAgfSk7XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIE9wdGlvbmFsIG1ldGhvZCBjYWxsZWQgd2hlbiB0aGUgc291cmNlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBNYXAgd2l0aCB7QGxpbmsgTWFwI2FkZFNvdXJjZX0uXG4gKiBUaGlzIGdpdmVzIHRoZSBzb3VyY2UgYSBjaGFuY2UgdG8gaW5pdGlhbGl6ZSByZXNvdXJjZXMgYW5kIHJlZ2lzdGVyIGV2ZW50IGxpc3RlbmVycy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBDdXN0b21Tb3VyY2VJbnRlcmZhY2VcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgb25BZGRcbiAqIEBwYXJhbSB7TWFwfSBtYXAgVGhlIE1hcCB0aGlzIGN1c3RvbSBzb3VyY2Ugd2FzIGp1c3QgYWRkZWQgdG8uXG4gKi9cblxuLyoqXG4gKiBPcHRpb25hbCBtZXRob2QgY2FsbGVkIHdoZW4gdGhlIHNvdXJjZSBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIE1hcCB3aXRoIHtAbGluayBNYXAjcmVtb3ZlU291cmNlfS5cbiAqIFRoaXMgZ2l2ZXMgdGhlIHNvdXJjZSBhIGNoYW5jZSB0byBjbGVhbiB1cCByZXNvdXJjZXMgYW5kIGV2ZW50IGxpc3RlbmVycy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBDdXN0b21Tb3VyY2VJbnRlcmZhY2VcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgb25SZW1vdmVcbiAqIEBwYXJhbSB7TWFwfSBtYXAgVGhlIE1hcCB0aGlzIGN1c3RvbSBzb3VyY2Ugd2FzIGFkZGVkIHRvLlxuICovXG5cbi8qKlxuICogT3B0aW9uYWwgbWV0aG9kIGNhbGxlZCBhZnRlciB0aGUgdGlsZSBpcyB1bmxvYWRlZCBmcm9tIHRoZSBtYXAgdmlld3BvcnQuIFRoaXNcbiAqIGdpdmVzIHRoZSBzb3VyY2UgYSBjaGFuY2UgdG8gY2xlYW4gdXAgcmVzb3VyY2VzIGFuZCBldmVudCBsaXN0ZW5lcnMuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgQ3VzdG9tU291cmNlSW50ZXJmYWNlXG4gKiBAaW5zdGFuY2VcbiAqIEBuYW1lIHVubG9hZFRpbGVcbiAqIEBwYXJhbSB7eyB6OiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyIH19IHRpbGUgVGlsZSBuYW1lIHRvIHVubG9hZCBpbiB0aGUgWFlaIHNjaGVtZSBmb3JtYXQuXG4gKi9cblxuLyoqXG4gKiBPcHRpb25hbCBtZXRob2QgY2FsbGVkIGR1cmluZyBhIHJlbmRlciBmcmFtZSB0byBjaGVjayBpZiB0aGVyZSBpcyBhIHRpbGUgdG8gcmVuZGVyLlxuICpcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIEN1c3RvbVNvdXJjZUludGVyZmFjZVxuICogQGluc3RhbmNlXG4gKiBAbmFtZSBoYXNUaWxlXG4gKiBAcGFyYW0ge3sgejogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciB9fSB0aWxlIFRpbGUgbmFtZSB0byBwcmVwYXJlIGluIHRoZSBYWVogc2NoZW1lIGZvcm1hdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRpbGUgZXhpc3RzLCBvdGhlcndpc2UgZmFsc2UuXG4gKi9cblxuLyoqXG4gKiBDYWxsZWQgd2hlbiB0aGUgbWFwIHN0YXJ0cyBsb2FkaW5nIHRpbGUgZm9yIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBDdXN0b21Tb3VyY2VJbnRlcmZhY2VcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgbG9hZFRpbGVcbiAqIEBwYXJhbSB7eyB6OiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyIH19IHRpbGUgVGlsZSBuYW1lIHRvIGxvYWQgaW4gdGhlIFhZWiBzY2hlbWUgZm9ybWF0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucy5cbiAqIEBwYXJhbSB7QWJvcnRTaWduYWx9IG9wdGlvbnMuc2lnbmFsIEEgc2lnbmFsIG9iamVjdCB0aGF0IGNvbW11bmljYXRlcyB3aGVuIHRoZSBtYXAgY2FuY2VscyB0aGUgdGlsZSBsb2FkaW5nIHJlcXVlc3QuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxUZXh0dXJlSW1hZ2UgfCB1bmRlZmluZWQgfCBudWxsPn0gVGhlIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdGlsZSBpbWFnZSBkYXRhIGFzIGFuIGBIVE1MQ2FudmFzRWxlbWVudGAsIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWAuXG4gKiAgSWYgYGxvYWRUaWxlYCByZXNvbHZlcyB0byBgdW5kZWZpbmVkYCwgYSBtYXAgd2lsbCByZW5kZXIgYW4gb3ZlcnNjYWxlZCBwYXJlbnQgdGlsZSBpbiB0aGUgdGlsZeKAmXMgc3BhY2UuIElmIGBsb2FkVGlsZWAgcmVzb2x2ZXMgdG8gYG51bGxgLCBhIG1hcCB3aWxsIHJlbmRlciBub3RoaW5nIGluIHRoZSB0aWxl4oCZcyBzcGFjZS5cbiAqL1xuZXhwb3J0IHR5cGUgQ3VzdG9tU291cmNlSW50ZXJmYWNlPFQ+ID0ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgdHlwZTogJ2N1c3RvbScsXG4gICAgZGF0YVR5cGU6ID9EYXRhVHlwZSxcbiAgICBtaW56b29tOiA/bnVtYmVyLFxuICAgIG1heHpvb206ID9udW1iZXIsXG4gICAgc2NoZW1lOiA/c3RyaW5nO1xuICAgIHRpbGVTaXplOiA/bnVtYmVyLFxuICAgIGF0dHJpYnV0aW9uOiA/c3RyaW5nLFxuICAgIGJvdW5kczogP1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICAgIGhhc1RpbGU6ID8odGlsZUlEOiB7IHo6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIgfSkgPT4gYm9vbGVhbixcbiAgICBsb2FkVGlsZTogKHRpbGVJRDogeyB6OiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyIH0sIG9wdGlvbnM6IHsgc2lnbmFsOiBBYm9ydFNpZ25hbCB9KSA9PiBQcm9taXNlPD9UPixcbiAgICB1bmxvYWRUaWxlOiA/KHRpbGVJRDogeyB6OiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyIH0pID0+IHZvaWQsXG4gICAgb25BZGQ6ID8obWFwOiBNYXApID0+IHZvaWQsXG4gICAgb25SZW1vdmU6ID8obWFwOiBNYXApID0+IHZvaWQsXG59XG5cbmNsYXNzIEN1c3RvbVNvdXJjZTxUPiBleHRlbmRzIEV2ZW50ZWQgaW1wbGVtZW50cyBTb3VyY2Uge1xuXG4gICAgaWQ6IHN0cmluZztcbiAgICB0eXBlOiAnY3VzdG9tJztcbiAgICBzY2hlbWU6IHN0cmluZztcbiAgICBtaW56b29tOiBudW1iZXI7XG4gICAgbWF4em9vbTogbnVtYmVyO1xuICAgIHRpbGVTaXplOiBudW1iZXI7XG4gICAgYXR0cmlidXRpb246IHN0cmluZyB8IHZvaWQ7XG5cbiAgICByb3VuZFpvb206IGJvb2xlYW4gfCB2b2lkO1xuICAgIHRpbGVCb3VuZHM6ID9UaWxlQm91bmRzO1xuICAgIG1pblRpbGVDYWNoZVNpemU6ID9udW1iZXI7XG4gICAgbWF4VGlsZUNhY2hlU2l6ZTogP251bWJlcjtcblxuICAgIF9tYXA6IE1hcDtcbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9kaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICAgIF9kYXRhVHlwZTogP0RhdGFUeXBlO1xuICAgIF9pbXBsZW1lbnRhdGlvbjogQ3VzdG9tU291cmNlSW50ZXJmYWNlPFQ+O1xuXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgaW1wbGVtZW50YXRpb246IEN1c3RvbVNvdXJjZUludGVyZmFjZTxUPiwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMudHlwZSA9ICdjdXN0b20nO1xuICAgICAgICB0aGlzLl9kYXRhVHlwZSA9ICdyYXN0ZXInO1xuICAgICAgICB0aGlzLl9kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICAgICAgdGhpcy5faW1wbGVtZW50YXRpb24gPSBpbXBsZW1lbnRhdGlvbjtcbiAgICAgICAgdGhpcy5zZXRFdmVudGVkUGFyZW50KGV2ZW50ZWRQYXJlbnQpO1xuXG4gICAgICAgIHRoaXMuc2NoZW1lID0gJ3h5eic7XG4gICAgICAgIHRoaXMubWluem9vbSA9IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IDIyO1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyO1xuXG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJvdW5kWm9vbSA9IHRydWU7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pbXBsZW1lbnRhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgTWlzc2luZyBpbXBsZW1lbnRhdGlvbiBmb3IgJHt0aGlzLmlkfSBjdXN0b20gc291cmNlYCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5faW1wbGVtZW50YXRpb24ubG9hZFRpbGUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYE1pc3NpbmcgbG9hZFRpbGUgaW1wbGVtZW50YXRpb24gZm9yICR7dGhpcy5pZH0gY3VzdG9tIHNvdXJjZWApKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faW1wbGVtZW50YXRpb24uYm91bmRzKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVCb3VuZHMgPSBuZXcgVGlsZUJvdW5kcyh0aGlzLl9pbXBsZW1lbnRhdGlvbi5ib3VuZHMsIHRoaXMubWluem9vbSwgdGhpcy5tYXh6b29tKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIGltcGxlbWVudGF0aW9uLnVwZGF0ZSA9IHRoaXMuX3VwZGF0ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIGltcGxlbWVudGF0aW9uLmNsZWFyVGlsZXMgPSB0aGlzLl9jbGVhclRpbGVzLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgaW1wbGVtZW50YXRpb24uY292ZXJpbmdUaWxlcyA9IHRoaXMuX2NvdmVyaW5nVGlsZXMuYmluZCh0aGlzKTtcblxuICAgICAgICBleHRlbmQodGhpcywgcGljayhpbXBsZW1lbnRhdGlvbiwgWydkYXRhVHlwZScsICdzY2hlbWUnLCAnbWluem9vbScsICdtYXh6b29tJywgJ3RpbGVTaXplJywgJ2F0dHJpYnV0aW9uJywgJ21pblRpbGVDYWNoZVNpemUnLCAnbWF4VGlsZUNhY2hlU2l6ZSddKSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IFNvdXJjZSB7XG4gICAgICAgIHJldHVybiBwaWNrKHRoaXMsIFsndHlwZScsICdzY2hlbWUnLCAnbWluem9vbScsICdtYXh6b29tJywgJ3RpbGVTaXplJywgJ2F0dHJpYnV0aW9uJ10pO1xuICAgIH1cblxuICAgIGxvYWQoKSB7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnY29udGVudCd9KSk7XG4gICAgfVxuXG4gICAgbG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVkO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBvbkFkZChtYXA6IE1hcCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIGlmICh0aGlzLl9pbXBsZW1lbnRhdGlvbi5vbkFkZCkgdGhpcy5faW1wbGVtZW50YXRpb24ub25BZGQobWFwKTtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIG9uUmVtb3ZlKG1hcDogTWFwKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLl9pbXBsZW1lbnRhdGlvbi5vblJlbW92ZSkge1xuICAgICAgICAgICAgdGhpcy5faW1wbGVtZW50YXRpb24ub25SZW1vdmUobWFwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBoYXNUaWxlKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5faW1wbGVtZW50YXRpb24uaGFzVGlsZSkge1xuICAgICAgICAgICAgY29uc3Qge3gsIHksIHp9ID0gdGlsZUlELmNhbm9uaWNhbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbXBsZW1lbnRhdGlvbi5oYXNUaWxlKHt4LCB5LCB6fSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gIXRoaXMudGlsZUJvdW5kcyB8fCB0aGlzLnRpbGVCb3VuZHMuY29udGFpbnModGlsZUlELmNhbm9uaWNhbCk7XG4gICAgfVxuXG4gICAgbG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHt4LCB5LCB6fSA9IHRpbGUudGlsZUlELmNhbm9uaWNhbDtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyB3aW5kb3cuQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IGNvbnRyb2xsZXIuc2lnbmFsO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgICB0aWxlLnJlcXVlc3QgPSBQcm9taXNlXG4gICAgICAgICAgICAucmVzb2x2ZSh0aGlzLl9pbXBsZW1lbnRhdGlvbi5sb2FkVGlsZSh7eCwgeSwgen0sIHtzaWduYWx9KSlcbiAgICAgICAgICAgIC50aGVuKHRpbGVMb2FkZWQuYmluZCh0aGlzKSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgLy8gc2lsZW5jZSBBYm9ydEVycm9yXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IDIwKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICAgICAgdGlsZS5yZXF1ZXN0LmNhbmNlbCA9ICgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKTtcblxuICAgICAgICBmdW5jdGlvbiB0aWxlTG9hZGVkKGRhdGEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG5cbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBpbXBsZW1lbnRhdGlvbiByZXR1cm5lZCBgdW5kZWZpbmVkYCBhcyB0aWxlIGRhdGEsXG4gICAgICAgICAgICAvLyBtYXJrIHRoZSB0aWxlIGFzIGBlcnJvcmVkYCB0byBpbmRpY2F0ZSB0aGF0IHdlIGhhdmUgbm8gZGF0YSBmb3IgaXQuXG4gICAgICAgICAgICAvLyBBIG1hcCB3aWxsIHJlbmRlciBhbiBvdmVyc2NhbGVkIHBhcmVudCB0aWxlIGluIHRoZSB0aWxl4oCZcyBzcGFjZS5cbiAgICAgICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2Vycm9yZWQnO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhlIGltcGxlbWVudGF0aW9uIHJldHVybmVkIGBudWxsYCBhcyB0aWxlIGRhdGEsXG4gICAgICAgICAgICAvLyBtYXJrIHRoZSB0aWxlIGFzIGBsb2FkZWRgIGFuZCB1c2UgYW4gYW4gZW1wdHkgaW1hZ2UgYXMgdGlsZSBkYXRhLlxuICAgICAgICAgICAgLy8gQSBtYXAgd2lsbCByZW5kZXIgbm90aGluZyBpbiB0aGUgdGlsZeKAmXMgc3BhY2UuXG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVtcHR5SW1hZ2UgPSB7d2lkdGg6IHRoaXMudGlsZVNpemUsIGhlaWdodDogdGhpcy50aWxlU2l6ZSwgZGF0YTogbnVsbH07XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkVGlsZURhdGEodGlsZSwgKGVtcHR5SW1hZ2U6IGFueSkpO1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaXNSYXN0ZXIoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2Vycm9yZWQnO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoYENhbid0IGluZmVyIGRhdGEgdHlwZSBmb3IgJHt0aGlzLmlkfSwgb25seSByYXN0ZXIgZGF0YSBzdXBwb3J0ZWQgYXQgdGhlIG1vbWVudGApKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sb2FkVGlsZURhdGEodGlsZSwgZGF0YSk7XG4gICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRUaWxlRGF0YSh0aWxlOiBUaWxlLCBkYXRhOiBUKTogdm9pZCB7XG4gICAgICAgIC8vIE9ubHkgcmFzdGVyIGRhdGEgc3VwcG9ydGVkIGF0IHRoZSBtb21lbnRcbiAgICAgICAgUmFzdGVyVGlsZVNvdXJjZS5sb2FkVGlsZURhdGEodGlsZSwgKGRhdGE6IGFueSksIHRoaXMuX21hcC5wYWludGVyKTtcbiAgICB9XG5cbiAgICB1bmxvYWRUaWxlRGF0YSh0aWxlOiBUaWxlKTogdm9pZCB7XG4gICAgICAgIC8vIE9ubHkgcmFzdGVyIGRhdGEgc3VwcG9ydGVkIGF0IHRoZSBtb21lbnRcbiAgICAgICAgUmFzdGVyVGlsZVNvdXJjZS51bmxvYWRUaWxlRGF0YSh0aWxlLCB0aGlzLl9tYXAucGFpbnRlcik7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIHVubG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KTogdm9pZCB7XG4gICAgICAgIHRoaXMudW5sb2FkVGlsZURhdGEodGlsZSk7XG4gICAgICAgIGlmICh0aGlzLl9pbXBsZW1lbnRhdGlvbi51bmxvYWRUaWxlKSB7XG4gICAgICAgICAgICBjb25zdCB7eCwgeSwgen0gPSB0aWxlLnRpbGVJRC5jYW5vbmljYWw7XG4gICAgICAgICAgICB0aGlzLl9pbXBsZW1lbnRhdGlvbi51bmxvYWRUaWxlKHt4LCB5LCB6fSk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBhYm9ydFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KTogdm9pZCB7XG4gICAgICAgIGlmICh0aWxlLnJlcXVlc3QgJiYgdGlsZS5yZXF1ZXN0LmNhbmNlbCkge1xuICAgICAgICAgICAgdGlsZS5yZXF1ZXN0LmNhbmNlbCgpO1xuICAgICAgICAgICAgZGVsZXRlIHRpbGUucmVxdWVzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9jb3ZlcmluZ1RpbGVzKCk6IHsgejogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciB9W10ge1xuICAgICAgICBjb25zdCB0aWxlSURzID0gdGhpcy5fbWFwLnRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHtcbiAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgbWluem9vbTogdGhpcy5taW56b29tLFxuICAgICAgICAgICAgbWF4em9vbTogdGhpcy5tYXh6b29tLFxuICAgICAgICAgICAgcm91bmRab29tOiB0aGlzLnJvdW5kWm9vbVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGlsZUlEcy5tYXAodGlsZUlEID0+ICh7eDogdGlsZUlELmNhbm9uaWNhbC54LCB5OiB0aWxlSUQuY2Fub25pY2FsLnksIHo6IHRpbGVJRC5jYW5vbmljYWwuen0pKTtcbiAgICB9XG5cbiAgICBfY2xlYXJUaWxlcygpIHtcbiAgICAgICAgdGhpcy5fbWFwLnN0eWxlLl9jbGVhclNvdXJjZSh0aGlzLmlkKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50J30pKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEN1c3RvbVNvdXJjZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4vc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgQ29sbGlzaW9uSW5kZXggZnJvbSAnLi4vc3ltYm9sL2NvbGxpc2lvbl9pbmRleC5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSB7UmV0YWluZWRRdWVyeURhdGF9IGZyb20gJy4uL3N5bWJvbC9wbGFjZW1lbnQuanMnO1xuaW1wb3J0IHR5cGUge0ZpbHRlclNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuaW1wb3J0IHR5cGUge1F1ZXJ5R2VvbWV0cnl9IGZyb20gJy4uL3N0eWxlL3F1ZXJ5X2dlb21ldHJ5LmpzJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7bWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcblxuaW1wb3J0IHR5cGUgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSB7UXVlcnlSZXN1bHR9IGZyb20gJy4uL2RhdGEvZmVhdHVyZV9pbmRleC5qcyc7XG5pbXBvcnQgdHlwZSB7UXVlcnlGZWF0dXJlfSBmcm9tICcuLi91dGlsL3ZlY3RvcnRpbGVfdG9fZ2VvanNvbi5qcyc7XG5cbmV4cG9ydCB0eXBlIFJlbmRlcmVkRmVhdHVyZUxheWVycyA9IEFycmF5PHtcbiAgICB3cmFwcGVkVGlsZUlEOiBudW1iZXI7XG4gICAgcXVlcnlSZXN1bHRzOiBRdWVyeVJlc3VsdFxufT47XG5cbi8qXG4gKiBSZXR1cm5zIGEgbWF0cml4IHRoYXQgY2FuIGJlIHVzZWQgdG8gY29udmVydCBmcm9tIHRpbGUgY29vcmRpbmF0ZXMgdG8gdmlld3BvcnQgcGl4ZWwgY29vcmRpbmF0ZXMuXG4gKi9cbmZ1bmN0aW9uIGdldFBpeGVsUG9zTWF0cml4KHRyYW5zZm9ybSwgdGlsZUlEKSB7XG4gICAgY29uc3QgdCA9IG1hdDQuaWRlbnRpdHkoW10pO1xuICAgIG1hdDQuc2NhbGUodCwgdCwgW3RyYW5zZm9ybS53aWR0aCAqIDAuNSwgLXRyYW5zZm9ybS5oZWlnaHQgKiAwLjUsIDFdKTtcbiAgICBtYXQ0LnRyYW5zbGF0ZSh0LCB0LCBbMSwgLTEsIDBdKTtcbiAgICBtYXQ0Lm11bHRpcGx5KHQsIHQsIHRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KHRpbGVJRC50b1Vud3JhcHBlZCgpKSk7XG4gICAgcmV0dXJuIEZsb2F0MzJBcnJheS5mcm9tKHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlSZW5kZXJlZEZlYXR1cmVzKHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZUxheWVyczoge1tfOiBzdHJpbmddOiBTdHlsZUxheWVyfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVkTGF5ZXJzOiB7W186IHN0cmluZ106IE9iamVjdH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlHZW9tZXRyeTogUXVlcnlHZW9tZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgZmlsdGVyOiBGaWx0ZXJTcGVjaWZpY2F0aW9uLCBsYXllcnM6IEFycmF5PHN0cmluZz4sIGF2YWlsYWJsZUltYWdlczogQXJyYXk8c3RyaW5nPiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTNEUXVlcnk6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzdWFsaXplUXVlcnlHZW9tZXRyeTogYm9vbGVhbiA9IGZhbHNlKTogUXVlcnlSZXN1bHQge1xuICAgIGNvbnN0IHRpbGVSZXN1bHRzID0gc291cmNlQ2FjaGUudGlsZXNJbihxdWVyeUdlb21ldHJ5LCB1c2UzRFF1ZXJ5LCB2aXN1YWxpemVRdWVyeUdlb21ldHJ5KTtcbiAgICB0aWxlUmVzdWx0cy5zb3J0KHNvcnRUaWxlc0luKTtcbiAgICBjb25zdCByZW5kZXJlZEZlYXR1cmVMYXllcnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHRpbGVSZXN1bHQgb2YgdGlsZVJlc3VsdHMpIHtcbiAgICAgICAgcmVuZGVyZWRGZWF0dXJlTGF5ZXJzLnB1c2goe1xuICAgICAgICAgICAgd3JhcHBlZFRpbGVJRDogdGlsZVJlc3VsdC50aWxlLnRpbGVJRC53cmFwcGVkKCkua2V5LFxuICAgICAgICAgICAgcXVlcnlSZXN1bHRzOiB0aWxlUmVzdWx0LnRpbGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKFxuICAgICAgICAgICAgICAgIHN0eWxlTGF5ZXJzLFxuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWRMYXllcnMsXG4gICAgICAgICAgICAgICAgc291cmNlQ2FjaGUuX3N0YXRlLFxuICAgICAgICAgICAgICAgIHRpbGVSZXN1bHQsXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICBnZXRQaXhlbFBvc01hdHJpeChzb3VyY2VDYWNoZS50cmFuc2Zvcm0sIHRpbGVSZXN1bHQudGlsZS50aWxlSUQpLFxuICAgICAgICAgICAgICAgIHZpc3VhbGl6ZVF1ZXJ5R2VvbWV0cnkpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IG1lcmdlUmVuZGVyZWRGZWF0dXJlTGF5ZXJzKHJlbmRlcmVkRmVhdHVyZUxheWVycyk7XG5cbiAgICAvLyBNZXJnZSBzdGF0ZSBmcm9tIFNvdXJjZUNhY2hlIGludG8gdGhlIHJlc3VsdHNcbiAgICBmb3IgKGNvbnN0IGxheWVySUQgaW4gcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdFtsYXllcklEXS5mb3JFYWNoKChmZWF0dXJlV3JhcHBlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZSA9IGZlYXR1cmVXcmFwcGVyLmZlYXR1cmU7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IGZlYXR1cmUubGF5ZXI7XG5cbiAgICAgICAgICAgIGlmICghbGF5ZXIgfHwgbGF5ZXIudHlwZSA9PT0gJ2JhY2tncm91bmQnIHx8IGxheWVyLnR5cGUgPT09ICdza3knKSByZXR1cm47XG5cbiAgICAgICAgICAgIGZlYXR1cmUuc291cmNlID0gbGF5ZXIuc291cmNlO1xuICAgICAgICAgICAgaWYgKGxheWVyWydzb3VyY2UtbGF5ZXInXSkge1xuICAgICAgICAgICAgICAgIGZlYXR1cmUuc291cmNlTGF5ZXIgPSBsYXllclsnc291cmNlLWxheWVyJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmZWF0dXJlLnN0YXRlID0gZmVhdHVyZS5pZCAhPT0gdW5kZWZpbmVkID8gc291cmNlQ2FjaGUuZ2V0RmVhdHVyZVN0YXRlKGxheWVyWydzb3VyY2UtbGF5ZXInXSwgZmVhdHVyZS5pZCkgOiB7fTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeVJlbmRlcmVkU3ltYm9scyhzdHlsZUxheWVyczoge1tfOiBzdHJpbmddOiBTdHlsZUxheWVyfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVkTGF5ZXJzOiB7W186IHN0cmluZ106IFN0eWxlTGF5ZXJ9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldExheWVyU291cmNlQ2FjaGU6IChsYXllcjogU3R5bGVMYXllcikgPT4gU291cmNlQ2FjaGUgfCB2b2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnk6IEFycmF5PFBvaW50PixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgZmlsdGVyOiBGaWx0ZXJTcGVjaWZpY2F0aW9uLCBsYXllcnM6IEFycmF5PHN0cmluZz4sIGF2YWlsYWJsZUltYWdlczogQXJyYXk8c3RyaW5nPiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkluZGV4OiBDb2xsaXNpb25JbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRhaW5lZFF1ZXJ5RGF0YToge1tfOiBudW1iZXJdOiBSZXRhaW5lZFF1ZXJ5RGF0YX0pOiBRdWVyeVJlc3VsdCB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgY29uc3QgcmVuZGVyZWRTeW1ib2xzID0gY29sbGlzaW9uSW5kZXgucXVlcnlSZW5kZXJlZFN5bWJvbHMocXVlcnlHZW9tZXRyeSk7XG4gICAgY29uc3QgYnVja2V0UXVlcnlEYXRhID0gW107XG4gICAgZm9yIChjb25zdCBidWNrZXRJbnN0YW5jZUlkIG9mIE9iamVjdC5rZXlzKHJlbmRlcmVkU3ltYm9scykubWFwKE51bWJlcikpIHtcbiAgICAgICAgYnVja2V0UXVlcnlEYXRhLnB1c2gocmV0YWluZWRRdWVyeURhdGFbYnVja2V0SW5zdGFuY2VJZF0pO1xuICAgIH1cbiAgICBidWNrZXRRdWVyeURhdGEuc29ydChzb3J0VGlsZXNJbik7XG5cbiAgICBmb3IgKGNvbnN0IHF1ZXJ5RGF0YSBvZiBidWNrZXRRdWVyeURhdGEpIHtcbiAgICAgICAgY29uc3QgYnVja2V0U3ltYm9scyA9IHF1ZXJ5RGF0YS5mZWF0dXJlSW5kZXgubG9va3VwU3ltYm9sRmVhdHVyZXMoXG4gICAgICAgICAgICAgICAgcmVuZGVyZWRTeW1ib2xzW3F1ZXJ5RGF0YS5idWNrZXRJbnN0YW5jZUlkXSxcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVkTGF5ZXJzLFxuICAgICAgICAgICAgICAgIHF1ZXJ5RGF0YS5idWNrZXRJbmRleCxcbiAgICAgICAgICAgICAgICBxdWVyeURhdGEuc291cmNlTGF5ZXJJbmRleCxcbiAgICAgICAgICAgICAgICBwYXJhbXMuZmlsdGVyLFxuICAgICAgICAgICAgICAgIHBhcmFtcy5sYXllcnMsXG4gICAgICAgICAgICAgICAgcGFyYW1zLmF2YWlsYWJsZUltYWdlcyxcbiAgICAgICAgICAgICAgICBzdHlsZUxheWVycyk7XG5cbiAgICAgICAgZm9yIChjb25zdCBsYXllcklEIGluIGJ1Y2tldFN5bWJvbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdEZlYXR1cmVzID0gcmVzdWx0W2xheWVySURdID0gcmVzdWx0W2xheWVySURdIHx8IFtdO1xuICAgICAgICAgICAgY29uc3QgbGF5ZXJTeW1ib2xzID0gYnVja2V0U3ltYm9sc1tsYXllcklEXTtcbiAgICAgICAgICAgIGxheWVyU3ltYm9scy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTWF0Y2ggdG9wRG93bkZlYXR1cmVDb21wYXJhdG9yIGZyb20gRmVhdHVyZUluZGV4LCBidXQgdXNpbmdcbiAgICAgICAgICAgICAgICAvLyBtb3N0IHJlY2VudCBzb3J0aW5nIG9mIGZlYXR1cmVzIGZyb20gYnVja2V0LnNvcnRGZWF0dXJlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVTb3J0T3JkZXIgPSBxdWVyeURhdGEuZmVhdHVyZVNvcnRPcmRlcjtcbiAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZVNvcnRPcmRlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBxdWVyeVJlbmRlcmVkU3ltYm9scyBkb2N1bWVudGF0aW9uIHNheXMgd2UnbGwgcmV0dXJuIGZlYXR1cmVzIGluXG4gICAgICAgICAgICAgICAgICAgIC8vIFwidG9wLXRvLWJvdHRvbVwiIHJlbmRlcmluZyBvcmRlciAoYWthIGxhc3QtdG8tZmlyc3QpLlxuICAgICAgICAgICAgICAgICAgICAvLyBBY3R1YWxseSB0aGVyZSBjYW4gYmUgbXVsdGlwbGUgc3ltYm9sIGluc3RhbmNlcyBwZXIgZmVhdHVyZSwgc29cbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugc29ydCBlYWNoIGZlYXR1cmUgYmFzZWQgb24gdGhlIGZpcnN0IG1hdGNoaW5nIHN5bWJvbCBpbnN0YW5jZS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkQSA9IGZlYXR1cmVTb3J0T3JkZXIuaW5kZXhPZihhLmZlYXR1cmVJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRlZEIgPSBmZWF0dXJlU29ydE9yZGVyLmluZGV4T2YoYi5mZWF0dXJlSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoc29ydGVkQSA+PSAwKTtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KHNvcnRlZEIgPj0gMCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3J0ZWRCIC0gc29ydGVkQTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBCdWNrZXQgaGFzbid0IGJlZW4gcmUtc29ydGVkIGJhc2VkIG9uIGFuZ2xlLCBzbyB1c2UgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldmVyc2Ugb2YgdGhlIG9yZGVyIHRoZSBmZWF0dXJlcyBhcHBlYXJlZCBpbiB0aGUgZGF0YS5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIuZmVhdHVyZUluZGV4IC0gYS5mZWF0dXJlSW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN5bWJvbEZlYXR1cmUgb2YgbGF5ZXJTeW1ib2xzKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0RmVhdHVyZXMucHVzaChzeW1ib2xGZWF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1lcmdlIHN0YXRlIGZyb20gU291cmNlQ2FjaGUgaW50byB0aGUgcmVzdWx0c1xuICAgIGZvciAoY29uc3QgbGF5ZXJOYW1lIGluIHJlc3VsdCkge1xuICAgICAgICByZXN1bHRbbGF5ZXJOYW1lXS5mb3JFYWNoKChmZWF0dXJlV3JhcHBlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZSA9IGZlYXR1cmVXcmFwcGVyLmZlYXR1cmU7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHN0eWxlTGF5ZXJzW2xheWVyTmFtZV07XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IGdldExheWVyU291cmNlQ2FjaGUobGF5ZXIpO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2VDYWNoZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHNvdXJjZUNhY2hlLmdldEZlYXR1cmVTdGF0ZShmZWF0dXJlLmxheWVyWydzb3VyY2UtbGF5ZXInXSwgZmVhdHVyZS5pZCk7XG4gICAgICAgICAgICBmZWF0dXJlLnNvdXJjZSA9IGZlYXR1cmUubGF5ZXIuc291cmNlO1xuICAgICAgICAgICAgaWYgKGZlYXR1cmUubGF5ZXJbJ3NvdXJjZS1sYXllciddKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZS5zb3VyY2VMYXllciA9IGZlYXR1cmUubGF5ZXJbJ3NvdXJjZS1sYXllciddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmVhdHVyZS5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBwYXJhbXM6IGFueSk6IEFycmF5PFF1ZXJ5RmVhdHVyZT4ge1xuICAgIGNvbnN0IHRpbGVzID0gc291cmNlQ2FjaGUuZ2V0UmVuZGVyYWJsZUlkcygpLm1hcCgoaWQpID0+IHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZUNhY2hlLmdldFRpbGVCeUlEKGlkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgY29uc3QgZGF0YVRpbGVzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0aWxlID0gdGlsZXNbaV07XG4gICAgICAgIGNvbnN0IGRhdGFJRCA9IHRpbGUudGlsZUlELmNhbm9uaWNhbC5rZXk7XG4gICAgICAgIGlmICghZGF0YVRpbGVzW2RhdGFJRF0pIHtcbiAgICAgICAgICAgIGRhdGFUaWxlc1tkYXRhSURdID0gdHJ1ZTtcbiAgICAgICAgICAgIHRpbGUucXVlcnlTb3VyY2VGZWF0dXJlcyhyZXN1bHQsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBzb3J0VGlsZXNJbihhLCBiKSB7XG4gICAgY29uc3QgaWRBID0gYS50aWxlSUQ7XG4gICAgY29uc3QgaWRCID0gYi50aWxlSUQ7XG4gICAgcmV0dXJuIChpZEEub3ZlcnNjYWxlZFogLSBpZEIub3ZlcnNjYWxlZFopIHx8IChpZEEuY2Fub25pY2FsLnkgLSBpZEIuY2Fub25pY2FsLnkpIHx8IChpZEEud3JhcCAtIGlkQi53cmFwKSB8fCAoaWRBLmNhbm9uaWNhbC54IC0gaWRCLmNhbm9uaWNhbC54KTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VSZW5kZXJlZEZlYXR1cmVMYXllcnModGlsZXM6IFJlbmRlcmVkRmVhdHVyZUxheWVycyk6IFF1ZXJ5UmVzdWx0IHtcbiAgICAvLyBNZXJnZSByZXN1bHRzIGZyb20gYWxsIHRpbGVzLCBidXQgaWYgdHdvIHRpbGVzIHNoYXJlIHRoZSBzYW1lXG4gICAgLy8gd3JhcHBlZCBJRCwgZG9uJ3QgZHVwbGljYXRlIGZlYXR1cmVzIGJldHdlZW4gdGhlIHR3byB0aWxlc1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGNvbnN0IHdyYXBwZWRJRExheWVyTWFwID0ge307XG4gICAgZm9yIChjb25zdCB0aWxlIG9mIHRpbGVzKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UmVzdWx0cyA9IHRpbGUucXVlcnlSZXN1bHRzO1xuICAgICAgICBjb25zdCB3cmFwcGVkSUQgPSB0aWxlLndyYXBwZWRUaWxlSUQ7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRJRExheWVycyA9IHdyYXBwZWRJRExheWVyTWFwW3dyYXBwZWRJRF0gPSB3cmFwcGVkSURMYXllck1hcFt3cmFwcGVkSURdIHx8IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGxheWVySUQgaW4gcXVlcnlSZXN1bHRzKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlRmVhdHVyZXMgPSBxdWVyeVJlc3VsdHNbbGF5ZXJJRF07XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkSURGZWF0dXJlcyA9IHdyYXBwZWRJRExheWVyc1tsYXllcklEXSA9IHdyYXBwZWRJRExheWVyc1tsYXllcklEXSB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdEZlYXR1cmVzID0gcmVzdWx0W2xheWVySURdID0gcmVzdWx0W2xheWVySURdIHx8IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0aWxlRmVhdHVyZSBvZiB0aWxlRmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXdyYXBwZWRJREZlYXR1cmVzW3RpbGVGZWF0dXJlLmZlYXR1cmVJbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZElERmVhdHVyZXNbdGlsZUZlYXR1cmUuZmVhdHVyZUluZGV4XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdEZlYXR1cmVzLnB1c2godGlsZUZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi93aW5kb3cuanMnO1xuaW1wb3J0IG1hcGJveGdsIGZyb20gJy4uLy4uL2luZGV4LmpzJztcblxuaW1wb3J0IHR5cGUge1dvcmtlckludGVyZmFjZX0gZnJvbSAnLi4vd2ViX3dvcmtlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpOiBXb3JrZXJJbnRlcmZhY2Uge1xuICAgIHJldHVybiAobWFwYm94Z2wud29ya2VyQ2xhc3MgIT0gbnVsbCkgPyBuZXcgbWFwYm94Z2wud29ya2VyQ2xhc3MoKSA6IChuZXcgd2luZG93LldvcmtlcihtYXBib3hnbC53b3JrZXJVcmwpOiBhbnkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBXZWJXb3JrZXIgZnJvbSAnLi93ZWJfd29ya2VyLmpzJztcbmltcG9ydCB0eXBlIHtXb3JrZXJJbnRlcmZhY2V9IGZyb20gJy4vd2ViX3dvcmtlci5qcyc7XG5cbmV4cG9ydCBjb25zdCBQUkVMT0FEX1BPT0xfSUQgPSAnbWFwYm94Z2xfcHJlbG9hZGVkX3dvcmtlcl9wb29sJztcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgd29ya2VyIHBvb2wuXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JrZXJQb29sIHtcbiAgICBzdGF0aWMgd29ya2VyQ291bnQ6IG51bWJlcjtcblxuICAgIGFjdGl2ZToge1tfOiBudW1iZXIgfCBzdHJpbmddOiBib29sZWFufTtcbiAgICB3b3JrZXJzOiBBcnJheTxXb3JrZXJJbnRlcmZhY2U+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0ge307XG4gICAgfVxuXG4gICAgYWNxdWlyZShtYXBJZDogbnVtYmVyIHwgc3RyaW5nKTogQXJyYXk8V29ya2VySW50ZXJmYWNlPiB7XG4gICAgICAgIGlmICghdGhpcy53b3JrZXJzKSB7XG4gICAgICAgICAgICAvLyBMYXppbHkgbG9vayB1cCB0aGUgdmFsdWUgb2YgbWFwYm94Z2wud29ya2VyQ291bnQgc28gdGhhdFxuICAgICAgICAgICAgLy8gY2xpZW50IGNvZGUgaGFzIGhhZCBhIGNoYW5jZSB0byBzZXQgaXQuXG4gICAgICAgICAgICB0aGlzLndvcmtlcnMgPSBbXTtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLndvcmtlcnMubGVuZ3RoIDwgV29ya2VyUG9vbC53b3JrZXJDb3VudCkge1xuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW52YWxpZC1jb25zdHJ1Y3Rvcl1cbiAgICAgICAgICAgICAgICB0aGlzLndvcmtlcnMucHVzaChuZXcgV2ViV29ya2VyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmVbbWFwSWRdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMud29ya2Vycy5zbGljZSgpO1xuICAgIH1cblxuICAgIHJlbGVhc2UobWFwSWQ6IG51bWJlciB8IHN0cmluZykge1xuICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVbbWFwSWRdO1xuICAgICAgICBpZiAodGhpcy5udW1BY3RpdmUoKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy53b3JrZXJzLmZvckVhY2goKHcpID0+IHtcbiAgICAgICAgICAgICAgICB3LnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLndvcmtlcnMgPSAobnVsbDogYW55KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzUHJlbG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLmFjdGl2ZVtQUkVMT0FEX1BPT0xfSURdO1xuICAgIH1cblxuICAgIG51bUFjdGl2ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5hY3RpdmUpLmxlbmd0aDtcbiAgICB9XG59XG5cbi8vIGV4dGVuc2l2ZSBiZW5jaG1hcmtpbmcgc2hvd2VkIDIgdG8gYmUgdGhlIGJlc3QgZGVmYXVsdCBmb3IgYm90aCBkZXNrdG9wIGFuZCBtb2JpbGUgZGV2aWNlcztcbi8vIHdlIGNhbid0IHJlbHkgb24gaGFyZHdhcmVDb25jdXJyZW5jeSBiZWNhdXNlIG9mIHdpbGQgaW5jb25zaXN0ZW5jeSBvZiByZXBvcnRlZCBudW1iZXJzIGJldHdlZW4gYnJvd3NlcnNcbldvcmtlclBvb2wud29ya2VyQ291bnQgPSAyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFdvcmtlclBvb2wsIHtQUkVMT0FEX1BPT0xfSUR9IGZyb20gJy4vd29ya2VyX3Bvb2wuanMnO1xuXG5sZXQgZ2xvYmFsV29ya2VyUG9vbDogP1dvcmtlclBvb2w7XG5cbi8qKlxuICogQ3JlYXRlcyAoaWYgbmVjZXNzYXJ5KSBhbmQgcmV0dXJucyB0aGUgc2luZ2xlLCBnbG9iYWwgV29ya2VyUG9vbCBpbnN0YW5jZVxuICogdG8gYmUgc2hhcmVkIGFjcm9zcyBlYWNoIE1hcFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0R2xvYmFsV29ya2VyUG9vbCAoKTogV29ya2VyUG9vbCB7XG4gICAgaWYgKCFnbG9iYWxXb3JrZXJQb29sKSB7XG4gICAgICAgIGdsb2JhbFdvcmtlclBvb2wgPSBuZXcgV29ya2VyUG9vbCgpO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsV29ya2VyUG9vbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXdhcm0oKSB7XG4gICAgY29uc3Qgd29ya2VyUG9vbCA9IGdldEdsb2JhbFdvcmtlclBvb2woKTtcbiAgICB3b3JrZXJQb29sLmFjcXVpcmUoUFJFTE9BRF9QT09MX0lEKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUHJld2FybWVkUmVzb3VyY2VzKCkge1xuICAgIGNvbnN0IHBvb2wgPSBnbG9iYWxXb3JrZXJQb29sO1xuICAgIGlmIChwb29sKSB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgcG9vbCBvbmx5IGlmIGFsbCBtYXBzIHRoYXQgcmVmZXJlbmNlZCB0aGUgcHJlbG9hZGVkIGdsb2JhbCB3b3JrZXIgcG9vbCBoYXZlIGJlZW4gcmVtb3ZlZC5cbiAgICAgICAgaWYgKHBvb2wuaXNQcmVsb2FkZWQoKSAmJiBwb29sLm51bUFjdGl2ZSgpID09PSAxKSB7XG4gICAgICAgICAgICBwb29sLnJlbGVhc2UoUFJFTE9BRF9QT09MX0lEKTtcbiAgICAgICAgICAgIGdsb2JhbFdvcmtlclBvb2wgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb3VsZCBub3QgY2xlYXIgV2ViV29ya2VycyBzaW5jZSB0aGVyZSBhcmUgYWN0aXZlIE1hcCBpbnN0YW5jZXMgdGhhdCBzdGlsbCByZWZlcmVuY2UgaXQuIFRoZSBwcmUtd2FybWVkIFdlYldvcmtlciBwb29sIGNhbiBvbmx5IGJlIGNsZWFyZWQgd2hlbiBhbGwgbWFwIGluc3RhbmNlcyBoYXZlIGJlZW4gcmVtb3ZlZCB3aXRoIG1hcC5yZW1vdmUoKScpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHJlZlByb3BlcnRpZXMgZnJvbSAnLi91dGlsL3JlZl9wcm9wZXJ0aWVzLmpzJztcblxuaW1wb3J0IHR5cGUge0xheWVyU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi90eXBlcy5qcyc7XG5cbmZ1bmN0aW9uIGRlcmVmKGxheWVyOiBMYXllclNwZWNpZmljYXRpb24sIHBhcmVudDogTGF5ZXJTcGVjaWZpY2F0aW9uKTogTGF5ZXJTcGVjaWZpY2F0aW9uIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgIGZvciAoY29uc3QgayBpbiBsYXllcikge1xuICAgICAgICBpZiAoayAhPT0gJ3JlZicpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrXSA9IGxheWVyW2tdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmUHJvcGVydGllcy5mb3JFYWNoKChrKSA9PiB7XG4gICAgICAgIGlmIChrIGluIHBhcmVudCkge1xuICAgICAgICAgICAgcmVzdWx0W2tdID0gKHBhcmVudDogYW55KVtrXTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuICgocmVzdWx0OiBhbnkpOiBMYXllclNwZWNpZmljYXRpb24pO1xufVxuXG4vKipcbiAqIEdpdmVuIGFuIGFycmF5IG9mIGxheWVycywgc29tZSBvZiB3aGljaCBtYXkgY29udGFpbiBgcmVmYCBwcm9wZXJ0aWVzXG4gKiB3aG9zZSB2YWx1ZSBpcyB0aGUgYGlkYCBvZiBhbm90aGVyIHByb3BlcnR5LCByZXR1cm4gYSBuZXcgYXJyYXkgd2hlcmVcbiAqIHN1Y2ggbGF5ZXJzIGhhdmUgYmVlbiBhdWdtZW50ZWQgd2l0aCB0aGUgJ3R5cGUnLCAnc291cmNlJywgZXRjLiBwcm9wZXJ0aWVzXG4gKiBmcm9tIHRoZSBwYXJlbnQgbGF5ZXIsIGFuZCB0aGUgYHJlZmAgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZC5cbiAqXG4gKiBUaGUgaW5wdXQgaXMgbm90IG1vZGlmaWVkLiBUaGUgb3V0cHV0IG1heSBjb250YWluIHJlZmVyZW5jZXMgdG8gcG9ydGlvbnNcbiAqIG9mIHRoZSBpbnB1dC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxMYXllcj59IGxheWVyc1xuICogQHJldHVybnMge0FycmF5PExheWVyPn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVyZWZMYXllcnMobGF5ZXJzOiBBcnJheTxMYXllclNwZWNpZmljYXRpb24+KTogQXJyYXk8TGF5ZXJTcGVjaWZpY2F0aW9uPiB7XG4gICAgbGF5ZXJzID0gbGF5ZXJzLnNsaWNlKCk7XG5cbiAgICBjb25zdCBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hcFtsYXllcnNbaV0uaWRdID0gbGF5ZXJzW2ldO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICgncmVmJyBpbiBsYXllcnNbaV0pIHtcbiAgICAgICAgICAgIGxheWVyc1tpXSA9IGRlcmVmKGxheWVyc1tpXSwgbWFwWyhsYXllcnNbaV06IGFueSkucmVmXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGF5ZXJzO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGlzRXF1YWwgZnJvbSAnLi91dGlsL2RlZXBfZXF1YWwuanMnO1xuXG5pbXBvcnQgdHlwZSB7U3R5bGVTcGVjaWZpY2F0aW9ufSBmcm9tICcuL3R5cGVzLmpzJztcblxudHlwZSBDb21tYW5kID0ge1xuICAgIGNvbW1hbmQ6IHN0cmluZztcbiAgICBhcmdzOiBBcnJheTxhbnk+O1xufTtcblxuZXhwb3J0IGNvbnN0IG9wZXJhdGlvbnM6IHtbXzogc3RyaW5nXTogc3RyaW5nfSA9IHtcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0U3R5bGUnLCBhcmdzOiBbc3R5bGVzaGVldF0gfVxuICAgICAqL1xuICAgIHNldFN0eWxlOiAnc2V0U3R5bGUnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdhZGRMYXllcicsIGFyZ3M6IFtsYXllciwgJ2JlZm9yZUxheWVySWQnXSB9XG4gICAgICovXG4gICAgYWRkTGF5ZXI6ICdhZGRMYXllcicsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3JlbW92ZUxheWVyJywgYXJnczogWydsYXllcklkJ10gfVxuICAgICAqL1xuICAgIHJlbW92ZUxheWVyOiAncmVtb3ZlTGF5ZXInLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRQYWludFByb3BlcnR5JywgYXJnczogWydsYXllcklkJywgJ3Byb3AnLCB2YWx1ZV0gfVxuICAgICAqL1xuICAgIHNldFBhaW50UHJvcGVydHk6ICdzZXRQYWludFByb3BlcnR5JyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0TGF5b3V0UHJvcGVydHknLCBhcmdzOiBbJ2xheWVySWQnLCAncHJvcCcsIHZhbHVlXSB9XG4gICAgICovXG4gICAgc2V0TGF5b3V0UHJvcGVydHk6ICdzZXRMYXlvdXRQcm9wZXJ0eScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEZpbHRlcicsIGFyZ3M6IFsnbGF5ZXJJZCcsIGZpbHRlcl0gfVxuICAgICAqL1xuICAgIHNldEZpbHRlcjogJ3NldEZpbHRlcicsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ2FkZFNvdXJjZScsIGFyZ3M6IFsnc291cmNlSWQnLCBzb3VyY2VdIH1cbiAgICAgKi9cbiAgICBhZGRTb3VyY2U6ICdhZGRTb3VyY2UnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdyZW1vdmVTb3VyY2UnLCBhcmdzOiBbJ3NvdXJjZUlkJ10gfVxuICAgICAqL1xuICAgIHJlbW92ZVNvdXJjZTogJ3JlbW92ZVNvdXJjZScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEdlb0pTT05Tb3VyY2VEYXRhJywgYXJnczogWydzb3VyY2VJZCcsIGRhdGFdIH1cbiAgICAgKi9cbiAgICBzZXRHZW9KU09OU291cmNlRGF0YTogJ3NldEdlb0pTT05Tb3VyY2VEYXRhJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0TGF5ZXJab29tUmFuZ2UnLCBhcmdzOiBbJ2xheWVySWQnLCAwLCAyMl0gfVxuICAgICAqL1xuICAgIHNldExheWVyWm9vbVJhbmdlOiAnc2V0TGF5ZXJab29tUmFuZ2UnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRMYXllclByb3BlcnR5JywgYXJnczogWydsYXllcklkJywgJ3Byb3AnLCB2YWx1ZV0gfVxuICAgICAqL1xuICAgIHNldExheWVyUHJvcGVydHk6ICdzZXRMYXllclByb3BlcnR5JyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0Q2VudGVyJywgYXJnczogW1tsb24sIGxhdF1dIH1cbiAgICAgKi9cbiAgICBzZXRDZW50ZXI6ICdzZXRDZW50ZXInLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRab29tJywgYXJnczogW3pvb21dIH1cbiAgICAgKi9cbiAgICBzZXRab29tOiAnc2V0Wm9vbScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEJlYXJpbmcnLCBhcmdzOiBbYmVhcmluZ10gfVxuICAgICAqL1xuICAgIHNldEJlYXJpbmc6ICdzZXRCZWFyaW5nJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0UGl0Y2gnLCBhcmdzOiBbcGl0Y2hdIH1cbiAgICAgKi9cbiAgICBzZXRQaXRjaDogJ3NldFBpdGNoJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0U3ByaXRlJywgYXJnczogWydzcHJpdGVVcmwnXSB9XG4gICAgICovXG4gICAgc2V0U3ByaXRlOiAnc2V0U3ByaXRlJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0R2x5cGhzJywgYXJnczogWydnbHlwaHNVcmwnXSB9XG4gICAgICovXG4gICAgc2V0R2x5cGhzOiAnc2V0R2x5cGhzJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0VHJhbnNpdGlvbicsIGFyZ3M6IFt0cmFuc2l0aW9uXSB9XG4gICAgICovXG4gICAgc2V0VHJhbnNpdGlvbjogJ3NldFRyYW5zaXRpb24nLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRMaWdodGluZycsIGFyZ3M6IFtsaWdodFByb3BlcnRpZXNdIH1cbiAgICAgKi9cbiAgICBzZXRMaWdodDogJ3NldExpZ2h0JyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0VGVycmFpbicsIGFyZ3M6IFt0ZXJyYWluUHJvcGVydGllc10gfVxuICAgICAqL1xuICAgIHNldFRlcnJhaW46ICdzZXRUZXJyYWluJyxcblxuICAgIC8qXG4gICAgICogIHsgY29tbWFuZDogJ3NldEZvZycsIGFyZ3M6IFtmb2dQcm9wZXJ0aWVzXSB9XG4gICAgICovXG4gICAgc2V0Rm9nOiAnc2V0Rm9nJyxcblxuICAgIC8qXG4gICAgICogIHsgY29tbWFuZDogJ3NldFByb2plY3Rpb24nLCBhcmdzOiBbcHJvamVjdGlvblByb3BlcnRpZXNdIH1cbiAgICAgKi9cbiAgICBzZXRQcm9qZWN0aW9uOiAnc2V0UHJvamVjdGlvbidcbn07XG5cbmZ1bmN0aW9uIGFkZFNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzKSB7XG4gICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5hZGRTb3VyY2UsIGFyZ3M6IFtzb3VyY2VJZCwgYWZ0ZXJbc291cmNlSWRdXX0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTb3VyY2Uoc291cmNlSWQsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCkge1xuICAgIGNvbW1hbmRzLnB1c2goe2NvbW1hbmQ6IG9wZXJhdGlvbnMucmVtb3ZlU291cmNlLCBhcmdzOiBbc291cmNlSWRdfSk7XG4gICAgc291cmNlc1JlbW92ZWRbc291cmNlSWRdID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU291cmNlKHNvdXJjZUlkLCBhZnRlciwgY29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKSB7XG4gICAgcmVtb3ZlU291cmNlKHNvdXJjZUlkLCBjb21tYW5kcywgc291cmNlc1JlbW92ZWQpO1xuICAgIGFkZFNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzKTtcbn1cblxuZnVuY3Rpb24gY2FuVXBkYXRlR2VvSlNPTihiZWZvcmUsIGFmdGVyLCBzb3VyY2VJZCkge1xuICAgIGxldCBwcm9wO1xuICAgIGZvciAocHJvcCBpbiBiZWZvcmVbc291cmNlSWRdKSB7XG4gICAgICAgIGlmICghYmVmb3JlW3NvdXJjZUlkXS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgIGlmIChwcm9wICE9PSAnZGF0YScgJiYgIWlzRXF1YWwoYmVmb3JlW3NvdXJjZUlkXVtwcm9wXSwgYWZ0ZXJbc291cmNlSWRdW3Byb3BdKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAocHJvcCBpbiBhZnRlcltzb3VyY2VJZF0pIHtcbiAgICAgICAgaWYgKCFhZnRlcltzb3VyY2VJZF0uaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAocHJvcCAhPT0gJ2RhdGEnICYmICFpc0VxdWFsKGJlZm9yZVtzb3VyY2VJZF1bcHJvcF0sIGFmdGVyW3NvdXJjZUlkXVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZGlmZlNvdXJjZXMoYmVmb3JlLCBhZnRlciwgY29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKSB7XG4gICAgYmVmb3JlID0gYmVmb3JlIHx8IHt9O1xuICAgIGFmdGVyID0gYWZ0ZXIgfHwge307XG5cbiAgICBsZXQgc291cmNlSWQ7XG5cbiAgICAvLyBsb29rIGZvciBzb3VyY2VzIHRvIHJlbW92ZVxuICAgIGZvciAoc291cmNlSWQgaW4gYmVmb3JlKSB7XG4gICAgICAgIGlmICghYmVmb3JlLmhhc093blByb3BlcnR5KHNvdXJjZUlkKSkgY29udGludWU7XG4gICAgICAgIGlmICghYWZ0ZXIuaGFzT3duUHJvcGVydHkoc291cmNlSWQpKSB7XG4gICAgICAgICAgICByZW1vdmVTb3VyY2Uoc291cmNlSWQsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciBzb3VyY2VzIHRvIGFkZC91cGRhdGVcbiAgICBmb3IgKHNvdXJjZUlkIGluIGFmdGVyKSB7XG4gICAgICAgIGlmICghYWZ0ZXIuaGFzT3duUHJvcGVydHkoc291cmNlSWQpKSBjb250aW51ZTtcbiAgICAgICAgY29uc3Qgc291cmNlID0gYWZ0ZXJbc291cmNlSWRdO1xuICAgICAgICBpZiAoIWJlZm9yZS5oYXNPd25Qcm9wZXJ0eShzb3VyY2VJZCkpIHtcbiAgICAgICAgICAgIGFkZFNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzKTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNFcXVhbChiZWZvcmVbc291cmNlSWRdLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICBpZiAoYmVmb3JlW3NvdXJjZUlkXS50eXBlID09PSAnZ2VvanNvbicgJiYgc291cmNlLnR5cGUgPT09ICdnZW9qc29uJyAmJiBjYW5VcGRhdGVHZW9KU09OKGJlZm9yZSwgYWZ0ZXIsIHNvdXJjZUlkKSkge1xuICAgICAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goe2NvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0R2VvSlNPTlNvdXJjZURhdGEsIGFyZ3M6IFtzb3VyY2VJZCwgc291cmNlLmRhdGFdfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vIHVwZGF0ZSBjb21tYW5kLCBtdXN0IHJlbW92ZSB0aGVuIGFkZFxuICAgICAgICAgICAgICAgIHVwZGF0ZVNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpZmZMYXllclByb3BlcnR5Q2hhbmdlcyhiZWZvcmUsIGFmdGVyLCBjb21tYW5kcywgbGF5ZXJJZCwga2xhc3MsIGNvbW1hbmQpIHtcbiAgICBiZWZvcmUgPSBiZWZvcmUgfHwge307XG4gICAgYWZ0ZXIgPSBhZnRlciB8fCB7fTtcblxuICAgIGxldCBwcm9wO1xuXG4gICAgZm9yIChwcm9wIGluIGJlZm9yZSkge1xuICAgICAgICBpZiAoIWJlZm9yZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmVbcHJvcF0sIGFmdGVyW3Byb3BdKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZCwgYXJnczogW2xheWVySWQsIHByb3AsIGFmdGVyW3Byb3BdLCBrbGFzc119KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHByb3AgaW4gYWZ0ZXIpIHtcbiAgICAgICAgaWYgKCFhZnRlci5oYXNPd25Qcm9wZXJ0eShwcm9wKSB8fCBiZWZvcmUuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlW3Byb3BdLCBhZnRlcltwcm9wXSkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goe2NvbW1hbmQsIGFyZ3M6IFtsYXllcklkLCBwcm9wLCBhZnRlcltwcm9wXSwga2xhc3NdfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBsdWNrSWQobGF5ZXIpIHtcbiAgICByZXR1cm4gbGF5ZXIuaWQ7XG59XG5mdW5jdGlvbiBpbmRleEJ5SWQoZ3JvdXAsIGxheWVyKSB7XG4gICAgZ3JvdXBbbGF5ZXIuaWRdID0gbGF5ZXI7XG4gICAgcmV0dXJuIGdyb3VwO1xufVxuXG5mdW5jdGlvbiBkaWZmTGF5ZXJzKGJlZm9yZSwgYWZ0ZXIsIGNvbW1hbmRzKSB7XG4gICAgYmVmb3JlID0gYmVmb3JlIHx8IFtdO1xuICAgIGFmdGVyID0gYWZ0ZXIgfHwgW107XG5cbiAgICAvLyBvcmRlciBvZiBsYXllcnMgYnkgaWRcbiAgICBjb25zdCBiZWZvcmVPcmRlciA9IGJlZm9yZS5tYXAocGx1Y2tJZCk7XG4gICAgY29uc3QgYWZ0ZXJPcmRlciA9IGFmdGVyLm1hcChwbHVja0lkKTtcblxuICAgIC8vIGluZGV4IG9mIGxheWVyIGJ5IGlkXG4gICAgY29uc3QgYmVmb3JlSW5kZXggPSBiZWZvcmUucmVkdWNlKGluZGV4QnlJZCwge30pO1xuICAgIGNvbnN0IGFmdGVySW5kZXggPSBhZnRlci5yZWR1Y2UoaW5kZXhCeUlkLCB7fSk7XG5cbiAgICAvLyB0cmFjayBvcmRlciBvZiBsYXllcnMgYXMgaWYgdGhleSBoYXZlIGJlZW4gbXV0YXRlZFxuICAgIGNvbnN0IHRyYWNrZXIgPSBiZWZvcmVPcmRlci5zbGljZSgpO1xuXG4gICAgLy8gbGF5ZXJzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIGRvIG5vdCBuZWVkIHRvIGJlIGRpZmZlZFxuICAgIGNvbnN0IGNsZWFuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIGxldCBpLCBkLCBsYXllcklkLCBiZWZvcmVMYXllciwgYWZ0ZXJMYXllciwgaW5zZXJ0QmVmb3JlTGF5ZXJJZCwgcHJvcDtcblxuICAgIC8vIHJlbW92ZSBsYXllcnNcbiAgICBmb3IgKGkgPSAwLCBkID0gMDsgaSA8IGJlZm9yZU9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxheWVySWQgPSBiZWZvcmVPcmRlcltpXTtcbiAgICAgICAgaWYgKCFhZnRlckluZGV4Lmhhc093blByb3BlcnR5KGxheWVySWQpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHtjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZUxheWVyLCBhcmdzOiBbbGF5ZXJJZF19KTtcbiAgICAgICAgICAgIHRyYWNrZXIuc3BsaWNlKHRyYWNrZXIuaW5kZXhPZihsYXllcklkLCBkKSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsaW1pdCB3aGVyZSBpbiB0cmFja2VyIHdlIG5lZWQgdG8gbG9vayBmb3IgYSBtYXRjaFxuICAgICAgICAgICAgZCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkL3Jlb3JkZXIgbGF5ZXJzXG4gICAgZm9yIChpID0gMCwgZCA9IDA7IGkgPCBhZnRlck9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIHdvcmsgYmFja3dhcmRzIGFzIGluc2VydCBpcyBiZWZvcmUgYW4gZXhpc3RpbmcgbGF5ZXJcbiAgICAgICAgbGF5ZXJJZCA9IGFmdGVyT3JkZXJbYWZ0ZXJPcmRlci5sZW5ndGggLSAxIC0gaV07XG5cbiAgICAgICAgaWYgKHRyYWNrZXJbdHJhY2tlci5sZW5ndGggLSAxIC0gaV0gPT09IGxheWVySWQpIGNvbnRpbnVlO1xuXG4gICAgICAgIGlmIChiZWZvcmVJbmRleC5oYXNPd25Qcm9wZXJ0eShsYXllcklkKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBsYXllciBiZWZvcmUgd2UgaW5zZXJ0IGF0IHRoZSBjb3JyZWN0IHBvc2l0aW9uXG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHtjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZUxheWVyLCBhcmdzOiBbbGF5ZXJJZF19KTtcbiAgICAgICAgICAgIHRyYWNrZXIuc3BsaWNlKHRyYWNrZXIubGFzdEluZGV4T2YobGF5ZXJJZCwgdHJhY2tlci5sZW5ndGggLSBkKSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsaW1pdCB3aGVyZSBpbiB0cmFja2VyIHdlIG5lZWQgdG8gbG9vayBmb3IgYSBtYXRjaFxuICAgICAgICAgICAgZCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGxheWVyIGF0IGNvcnJlY3QgcG9zaXRpb25cbiAgICAgICAgaW5zZXJ0QmVmb3JlTGF5ZXJJZCA9IHRyYWNrZXJbdHJhY2tlci5sZW5ndGggLSBpXTtcbiAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5hZGRMYXllciwgYXJnczogW2FmdGVySW5kZXhbbGF5ZXJJZF0sIGluc2VydEJlZm9yZUxheWVySWRdfSk7XG4gICAgICAgIHRyYWNrZXIuc3BsaWNlKHRyYWNrZXIubGVuZ3RoIC0gaSwgMCwgbGF5ZXJJZCk7XG4gICAgICAgIGNsZWFuW2xheWVySWRdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgbGF5ZXJzXG4gICAgZm9yIChpID0gMDsgaSA8IGFmdGVyT3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGF5ZXJJZCA9IGFmdGVyT3JkZXJbaV07XG4gICAgICAgIGJlZm9yZUxheWVyID0gYmVmb3JlSW5kZXhbbGF5ZXJJZF07XG4gICAgICAgIGFmdGVyTGF5ZXIgPSBhZnRlckluZGV4W2xheWVySWRdO1xuXG4gICAgICAgIC8vIG5vIG5lZWQgdG8gdXBkYXRlIGlmIHByZXZpb3VzbHkgYWRkZWQgKG5ldyBvciBtb3ZlZClcbiAgICAgICAgaWYgKGNsZWFuW2xheWVySWRdIHx8IGlzRXF1YWwoYmVmb3JlTGF5ZXIsIGFmdGVyTGF5ZXIpKSBjb250aW51ZTtcblxuICAgICAgICAvLyBJZiBzb3VyY2UsIHNvdXJjZS1sYXllciwgb3IgdHlwZSBoYXZlIGNoYW5nZXMsIHRoZW4gcmVtb3ZlIHRoZSBsYXllclxuICAgICAgICAvLyBhbmQgYWRkIGl0IGJhY2sgJ2Zyb20gc2NyYXRjaCcuXG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmVMYXllci5zb3VyY2UsIGFmdGVyTGF5ZXIuc291cmNlKSB8fCAhaXNFcXVhbChiZWZvcmVMYXllclsnc291cmNlLWxheWVyJ10sIGFmdGVyTGF5ZXJbJ3NvdXJjZS1sYXllciddKSB8fCAhaXNFcXVhbChiZWZvcmVMYXllci50eXBlLCBhZnRlckxheWVyLnR5cGUpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHtjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZUxheWVyLCBhcmdzOiBbbGF5ZXJJZF19KTtcbiAgICAgICAgICAgIC8vIHdlIGFkZCB0aGUgbGF5ZXIgYmFjayBhdCB0aGUgc2FtZSBwb3NpdGlvbiBpdCB3YXMgYWxyZWFkeSBpbiwgc29cbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byB1cGRhdGUgdGhlIGB0cmFja2VyYFxuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlTGF5ZXJJZCA9IHRyYWNrZXJbdHJhY2tlci5sYXN0SW5kZXhPZihsYXllcklkKSArIDFdO1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5hZGRMYXllciwgYXJnczogW2FmdGVyTGF5ZXIsIGluc2VydEJlZm9yZUxheWVySWRdfSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxheW91dCwgcGFpbnQsIGZpbHRlciwgbWluem9vbSwgbWF4em9vbVxuICAgICAgICBkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMoYmVmb3JlTGF5ZXIubGF5b3V0LCBhZnRlckxheWVyLmxheW91dCwgY29tbWFuZHMsIGxheWVySWQsIG51bGwsIG9wZXJhdGlvbnMuc2V0TGF5b3V0UHJvcGVydHkpO1xuICAgICAgICBkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMoYmVmb3JlTGF5ZXIucGFpbnQsIGFmdGVyTGF5ZXIucGFpbnQsIGNvbW1hbmRzLCBsYXllcklkLCBudWxsLCBvcGVyYXRpb25zLnNldFBhaW50UHJvcGVydHkpO1xuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlTGF5ZXIuZmlsdGVyLCBhZnRlckxheWVyLmZpbHRlcikpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goe2NvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0RmlsdGVyLCBhcmdzOiBbbGF5ZXJJZCwgYWZ0ZXJMYXllci5maWx0ZXJdfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZUxheWVyLm1pbnpvb20sIGFmdGVyTGF5ZXIubWluem9vbSkgfHwgIWlzRXF1YWwoYmVmb3JlTGF5ZXIubWF4em9vbSwgYWZ0ZXJMYXllci5tYXh6b29tKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRMYXllclpvb21SYW5nZSwgYXJnczogW2xheWVySWQsIGFmdGVyTGF5ZXIubWluem9vbSwgYWZ0ZXJMYXllci5tYXh6b29tXX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIGFsbCBvdGhlciBsYXllciBwcm9wcywgaW5jbHVkaW5nIHBhaW50LipcbiAgICAgICAgZm9yIChwcm9wIGluIGJlZm9yZUxheWVyKSB7XG4gICAgICAgICAgICBpZiAoIWJlZm9yZUxheWVyLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnbGF5b3V0JyB8fCBwcm9wID09PSAncGFpbnQnIHx8IHByb3AgPT09ICdmaWx0ZXInIHx8XG4gICAgICAgICAgICAgICAgcHJvcCA9PT0gJ21ldGFkYXRhJyB8fCBwcm9wID09PSAnbWluem9vbScgfHwgcHJvcCA9PT0gJ21heHpvb20nKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwcm9wLmluZGV4T2YoJ3BhaW50LicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzKGJlZm9yZUxheWVyW3Byb3BdLCBhZnRlckxheWVyW3Byb3BdLCBjb21tYW5kcywgbGF5ZXJJZCwgcHJvcC5zbGljZSg2KSwgb3BlcmF0aW9ucy5zZXRQYWludFByb3BlcnR5KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzRXF1YWwoYmVmb3JlTGF5ZXJbcHJvcF0sIGFmdGVyTGF5ZXJbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRMYXllclByb3BlcnR5LCBhcmdzOiBbbGF5ZXJJZCwgcHJvcCwgYWZ0ZXJMYXllcltwcm9wXV19KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHByb3AgaW4gYWZ0ZXJMYXllcikge1xuICAgICAgICAgICAgaWYgKCFhZnRlckxheWVyLmhhc093blByb3BlcnR5KHByb3ApIHx8IGJlZm9yZUxheWVyLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnbGF5b3V0JyB8fCBwcm9wID09PSAncGFpbnQnIHx8IHByb3AgPT09ICdmaWx0ZXInIHx8XG4gICAgICAgICAgICAgICAgcHJvcCA9PT0gJ21ldGFkYXRhJyB8fCBwcm9wID09PSAnbWluem9vbScgfHwgcHJvcCA9PT0gJ21heHpvb20nKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwcm9wLmluZGV4T2YoJ3BhaW50LicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzKGJlZm9yZUxheWVyW3Byb3BdLCBhZnRlckxheWVyW3Byb3BdLCBjb21tYW5kcywgbGF5ZXJJZCwgcHJvcC5zbGljZSg2KSwgb3BlcmF0aW9ucy5zZXRQYWludFByb3BlcnR5KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzRXF1YWwoYmVmb3JlTGF5ZXJbcHJvcF0sIGFmdGVyTGF5ZXJbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRMYXllclByb3BlcnR5LCBhcmdzOiBbbGF5ZXJJZCwgcHJvcCwgYWZ0ZXJMYXllcltwcm9wXV19KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBEaWZmIHR3byBzdHlsZXNoZWV0XG4gKlxuICogQ3JlYXRlcyBzZW1hbnRpY2x5IGF3YXJlIGRpZmZzIHRoYXQgY2FuIGVhc2lseSBiZSBhcHBsaWVkIGF0IHJ1bnRpbWUuXG4gKiBPcGVyYXRpb25zIHByb2R1Y2VkIGJ5IHRoZSBkaWZmIGNsb3NlbHkgcmVzZW1ibGUgdGhlIG1hcGJveC1nbC1qcyBBUEkuIEFueVxuICogZXJyb3IgY3JlYXRpbmcgdGhlIGRpZmYgd2lsbCBmYWxsIGJhY2sgdG8gdGhlICdzZXRTdHlsZScgb3BlcmF0aW9uLlxuICpcbiAqIEV4YW1wbGUgZGlmZjpcbiAqIFtcbiAqICAgICB7IGNvbW1hbmQ6ICdzZXRDb25zdGFudCcsIGFyZ3M6IFsnQHdhdGVyJywgJyMwMDAwRkYnXSB9LFxuICogICAgIHsgY29tbWFuZDogJ3NldFBhaW50UHJvcGVydHknLCBhcmdzOiBbJ2JhY2tncm91bmQnLCAnYmFja2dyb3VuZC1jb2xvcicsICdibGFjayddIH1cbiAqIF1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBbYmVmb3JlXSBzdHlsZXNoZWV0IHRvIGNvbXBhcmUgZnJvbVxuICogQHBhcmFtIHsqfSBhZnRlciBzdHlsZXNoZWV0IHRvIGNvbXBhcmUgdG9cbiAqIEByZXR1cm5zIEFycmF5IGxpc3Qgb2YgY2hhbmdlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkaWZmU3R5bGVzKGJlZm9yZTogU3R5bGVTcGVjaWZpY2F0aW9uLCBhZnRlcjogU3R5bGVTcGVjaWZpY2F0aW9uKTogQXJyYXk8Q29tbWFuZD4ge1xuICAgIGlmICghYmVmb3JlKSByZXR1cm4gW3tjb21tYW5kOiBvcGVyYXRpb25zLnNldFN0eWxlLCBhcmdzOiBbYWZ0ZXJdfV07XG5cbiAgICBsZXQgY29tbWFuZHMgPSBbXTtcblxuICAgIHRyeSB7XG4gICAgICAgIC8vIEhhbmRsZSBjaGFuZ2VzIHRvIHRvcC1sZXZlbCBwcm9wZXJ0aWVzXG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUudmVyc2lvbiwgYWZ0ZXIudmVyc2lvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBbe2NvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0U3R5bGUsIGFyZ3M6IFthZnRlcl19XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmNlbnRlciwgYWZ0ZXIuY2VudGVyKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRDZW50ZXIsIGFyZ3M6IFthZnRlci5jZW50ZXJdfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS56b29tLCBhZnRlci56b29tKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRab29tLCBhcmdzOiBbYWZ0ZXIuem9vbV19KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmJlYXJpbmcsIGFmdGVyLmJlYXJpbmcpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHtjb21tYW5kOiBvcGVyYXRpb25zLnNldEJlYXJpbmcsIGFyZ3M6IFthZnRlci5iZWFyaW5nXX0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUucGl0Y2gsIGFmdGVyLnBpdGNoKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRQaXRjaCwgYXJnczogW2FmdGVyLnBpdGNoXX0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUuc3ByaXRlLCBhZnRlci5zcHJpdGUpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHtjb21tYW5kOiBvcGVyYXRpb25zLnNldFNwcml0ZSwgYXJnczogW2FmdGVyLnNwcml0ZV19KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmdseXBocywgYWZ0ZXIuZ2x5cGhzKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRHbHlwaHMsIGFyZ3M6IFthZnRlci5nbHlwaHNdfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS50cmFuc2l0aW9uLCBhZnRlci50cmFuc2l0aW9uKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRUcmFuc2l0aW9uLCBhcmdzOiBbYWZ0ZXIudHJhbnNpdGlvbl19KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmxpZ2h0LCBhZnRlci5saWdodCkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goe2NvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0TGlnaHQsIGFyZ3M6IFthZnRlci5saWdodF19KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmZvZywgYWZ0ZXIuZm9nKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRGb2csIGFyZ3M6IFthZnRlci5mb2ddfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS5wcm9qZWN0aW9uLCBhZnRlci5wcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRQcm9qZWN0aW9uLCBhcmdzOiBbYWZ0ZXIucHJvamVjdGlvbl19KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBjaGFuZ2VzIHRvIGBzb3VyY2VzYFxuICAgICAgICAvLyBJZiBhIHNvdXJjZSBpcyB0byBiZSByZW1vdmVkLCB3ZSBhbHNvLS1iZWZvcmUgdGhlIHJlbW92ZVNvdXJjZVxuICAgICAgICAvLyBjb21tYW5kLS1uZWVkIHRvIHJlbW92ZSBhbGwgdGhlIHN0eWxlIGxheWVycyB0aGF0IGRlcGVuZCBvbiBpdC5cbiAgICAgICAgY29uc3Qgc291cmNlc1JlbW92ZWQgPSB7fTtcblxuICAgICAgICAvLyBGaXJzdCBjb2xsZWN0IHRoZSB7YWRkLHJlbW92ZX1Tb3VyY2UgY29tbWFuZHNcbiAgICAgICAgY29uc3QgcmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcyA9IFtdO1xuICAgICAgICBkaWZmU291cmNlcyhiZWZvcmUuc291cmNlcywgYWZ0ZXIuc291cmNlcywgcmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcywgc291cmNlc1JlbW92ZWQpO1xuXG4gICAgICAgIC8vIFB1c2ggYSByZW1vdmVMYXllciBjb21tYW5kIGZvciBlYWNoIHN0eWxlIGxheWVyIHRoYXQgZGVwZW5kcyBvbiBhXG4gICAgICAgIC8vIHNvdXJjZSB0aGF0J3MgYmVpbmcgcmVtb3ZlZC5cbiAgICAgICAgLy8gQWxzbywgZXhjbHVkZSBhbnkgc3VjaCBsYXllcnMgdGhlbSBmcm9tIHRoZSBpbnB1dCB0byBgZGlmZkxheWVyc2BcbiAgICAgICAgLy8gYmVsb3csIHNvIHRoYXQgZGlmZkxheWVycyBwcm9kdWNlcyB0aGUgYXBwcm9wcmlhdGUgYGFkZExheWVyc2BcbiAgICAgICAgLy8gY29tbWFuZFxuICAgICAgICBjb25zdCBiZWZvcmVMYXllcnMgPSBbXTtcbiAgICAgICAgaWYgKGJlZm9yZS5sYXllcnMpIHtcbiAgICAgICAgICAgIGJlZm9yZS5sYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuc291cmNlICYmIHNvdXJjZXNSZW1vdmVkW2xheWVyLnNvdXJjZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5yZW1vdmVMYXllciwgYXJnczogW2xheWVyLmlkXX0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZUxheWVycy5wdXNoKGxheWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgdGVycmFpbiBpZiB0aGUgc291cmNlIGZvciB0aGF0IHRlcnJhaW4gaXMgYmVpbmcgcmVtb3ZlZFxuICAgICAgICBsZXQgYmVmb3JlVGVycmFpbiA9IGJlZm9yZS50ZXJyYWluO1xuICAgICAgICBpZiAoYmVmb3JlVGVycmFpbikge1xuICAgICAgICAgICAgaWYgKHNvdXJjZXNSZW1vdmVkW2JlZm9yZVRlcnJhaW4uc291cmNlXSkge1xuICAgICAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goe2NvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0VGVycmFpbiwgYXJnczogW3VuZGVmaW5lZF19KTtcbiAgICAgICAgICAgICAgICBiZWZvcmVUZXJyYWluID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29tbWFuZHMgPSBjb21tYW5kcy5jb25jYXQocmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcyk7XG5cbiAgICAgICAgLy8gRXZlbiB0aG91Z2ggdGVycmFpbiBpcyBhIHRvcC1sZXZlbCBwcm9wZXJ0eVxuICAgICAgICAvLyBJdHMgbGlrZSBhIGxheWVyIGluIHRoZSBzZW5zZSB0aGF0IGl0IGRlcGVuZHMgb24gYSBzb3VyY2UgYmVpbmcgcHJlc2VudC5cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZVRlcnJhaW4sIGFmdGVyLnRlcnJhaW4pKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHtjb21tYW5kOiBvcGVyYXRpb25zLnNldFRlcnJhaW4sIGFyZ3M6IFthZnRlci50ZXJyYWluXX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIGNoYW5nZXMgdG8gYGxheWVyc2BcbiAgICAgICAgZGlmZkxheWVycyhiZWZvcmVMYXllcnMsIGFmdGVyLmxheWVycywgY29tbWFuZHMpO1xuXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBmYWxsIGJhY2sgdG8gc2V0U3R5bGVcbiAgICAgICAgY29uc29sZS53YXJuKCdVbmFibGUgdG8gY29tcHV0ZSBzdHlsZSBkaWZmOicsIGUpO1xuICAgICAgICBjb21tYW5kcyA9IFt7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRTdHlsZSwgYXJnczogW2FmdGVyXX1dO1xuICAgIH1cblxuICAgIHJldHVybiBjb21tYW5kcztcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7Y2xhbXB9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmNsYXNzIFBhdGhJbnRlcnBvbGF0b3Ige1xuICAgIHBvaW50czogQXJyYXk8UG9pbnQ+O1xuICAgIGxlbmd0aDogbnVtYmVyO1xuICAgIHBhZGRlZExlbmd0aDogbnVtYmVyO1xuICAgIHBhZGRpbmc6IG51bWJlcjtcbiAgICBfZGlzdGFuY2VzOiBBcnJheTxudW1iZXI+O1xuXG4gICAgY29uc3RydWN0b3IocG9pbnRzXzogP0FycmF5PFBvaW50PiwgcGFkZGluZ186ID9udW1iZXIpIHtcbiAgICAgICAgdGhpcy5yZXNldChwb2ludHNfLCBwYWRkaW5nXyk7XG4gICAgfVxuXG4gICAgcmVzZXQocG9pbnRzXzogP0FycmF5PFBvaW50PiwgcGFkZGluZ186ID9udW1iZXIpIHtcbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHNfIHx8IFtdO1xuXG4gICAgICAgIC8vIENvbXB1dGUgY3VtdWxhdGl2ZSBkaXN0YW5jZSBmcm9tIGZpcnN0IHBvaW50IHRvIGV2ZXJ5IG90aGVyIHBvaW50IGluIHRoZSBzZWdtZW50LlxuICAgICAgICAvLyBMYXN0IGVudHJ5IGluIHRoZSBhcnJheSBpcyB0b3RhbCBsZW5ndGggb2YgdGhlIHBhdGhcbiAgICAgICAgdGhpcy5fZGlzdGFuY2VzID0gWzAuMF07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fZGlzdGFuY2VzW2ldID0gdGhpcy5fZGlzdGFuY2VzW2kgLSAxXSArIHRoaXMucG9pbnRzW2ldLmRpc3QodGhpcy5wb2ludHNbaSAtIDFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5fZGlzdGFuY2VzW3RoaXMuX2Rpc3RhbmNlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5taW4ocGFkZGluZ18gfHwgMCwgdGhpcy5sZW5ndGggKiAwLjUpO1xuICAgICAgICB0aGlzLnBhZGRlZExlbmd0aCA9IHRoaXMubGVuZ3RoIC0gdGhpcy5wYWRkaW5nICogMi4wO1xuICAgIH1cblxuICAgIGxlcnAodDogbnVtYmVyKTogUG9pbnQge1xuICAgICAgICBhc3NlcnQodGhpcy5wb2ludHMubGVuZ3RoID4gMCk7XG4gICAgICAgIGlmICh0aGlzLnBvaW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvaW50c1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHQgPSBjbGFtcCh0LCAwLCAxKTtcblxuICAgICAgICAvLyBGaW5kIHRoZSBjb3JyZWN0IHNlZ21lbnQgW3AwLCBwMV0gd2hlcmUgcDAgPD0geCA8IHAxXG4gICAgICAgIGxldCBjdXJyZW50SW5kZXggPSAxO1xuICAgICAgICBsZXQgZGlzdE9mQ3VycmVudElkeCA9IHRoaXMuX2Rpc3RhbmNlc1tjdXJyZW50SW5kZXhdO1xuICAgICAgICBjb25zdCBkaXN0VG9UYXJnZXQgPSB0ICogdGhpcy5wYWRkZWRMZW5ndGggKyB0aGlzLnBhZGRpbmc7XG5cbiAgICAgICAgd2hpbGUgKGRpc3RPZkN1cnJlbnRJZHggPCBkaXN0VG9UYXJnZXQgJiYgY3VycmVudEluZGV4IDwgdGhpcy5fZGlzdGFuY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgZGlzdE9mQ3VycmVudElkeCA9IHRoaXMuX2Rpc3RhbmNlc1srK2N1cnJlbnRJbmRleF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnRlcnBvbGF0ZSBiZXR3ZWVuIHRoZSB0d28gcG9pbnRzIG9mIHRoZSBzZWdtZW50XG4gICAgICAgIGNvbnN0IGlkeE9mUHJldlBvaW50ID0gY3VycmVudEluZGV4IC0gMTtcbiAgICAgICAgY29uc3QgZGlzdE9mUHJldklkeCA9IHRoaXMuX2Rpc3RhbmNlc1tpZHhPZlByZXZQb2ludF07XG4gICAgICAgIGNvbnN0IHNlZ21lbnRMZW5ndGggPSBkaXN0T2ZDdXJyZW50SWR4IC0gZGlzdE9mUHJldklkeDtcbiAgICAgICAgY29uc3Qgc2VnbWVudFQgPSBzZWdtZW50TGVuZ3RoID4gMCA/IChkaXN0VG9UYXJnZXQgLSBkaXN0T2ZQcmV2SWR4KSAvIHNlZ21lbnRMZW5ndGggOiAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50c1tpZHhPZlByZXZQb2ludF0ubXVsdCgxLjAgLSBzZWdtZW50VCkuYWRkKHRoaXMucG9pbnRzW2N1cnJlbnRJbmRleF0ubXVsdChzZWdtZW50VCkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGF0aEludGVycG9sYXRvcjtcbiIsIi8vIEBmbG93XG5cbnR5cGUgR3JpZEl0ZW0gPSB7XG4gICAga2V5OiBhbnksXG4gICAgeDE6IG51bWJlcixcbiAgICB5MTogbnVtYmVyLFxuICAgIHgyOiBudW1iZXIsXG4gICAgeTI6IG51bWJlclxufTtcblxuLyoqXG4gKiBHcmlkSW5kZXggaXMgYSBkYXRhIHN0cnVjdHVyZSBmb3IgdGVzdGluZyB0aGUgaW50ZXJzZWN0aW9uIG9mXG4gKiBjaXJjbGVzIGFuZCByZWN0YW5nbGVzIGluIGEgMmQgcGxhbmUuXG4gKiBJdCBpcyBvcHRpbWl6ZWQgZm9yIHJhcGlkIGluc2VydGlvbiBhbmQgcXVlcnlpbmcuXG4gKiBHcmlkSW5kZXggc3BsaXRzIHRoZSBwbGFuZSBpbnRvIGEgc2V0IG9mIFwiY2VsbHNcIiBhbmQga2VlcHMgdHJhY2tcbiAqIG9mIHdoaWNoIGdlb21ldHJpZXMgaW50ZXJzZWN0IHdpdGggZWFjaCBjZWxsLiBBdCBxdWVyeSB0aW1lLFxuICogZnVsbCBnZW9tZXRyeSBjb21wYXJpc29ucyBhcmUgb25seSBkb25lIGZvciBpdGVtcyB0aGF0IHNoYXJlXG4gKiBhdCBsZWFzdCBvbmUgY2VsbC4gQXMgbG9uZyBhcyB0aGUgZ2VvbWV0cmllcyBhcmUgcmVsYXRpdmVseVxuICogdW5pZm9ybWx5IGRpc3RyaWJ1dGVkIGFjcm9zcyB0aGUgcGxhbmUsIHRoaXMgZ3JlYXRseSByZWR1Y2VzXG4gKiB0aGUgbnVtYmVyIG9mIGNvbXBhcmlzb25zIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBHcmlkSW5kZXgge1xuICAgIGNpcmNsZUtleXM6IEFycmF5PGFueT47XG4gICAgYm94S2V5czogQXJyYXk8YW55PjtcbiAgICBib3hDZWxsczogQXJyYXk8QXJyYXk8bnVtYmVyPj47XG4gICAgY2lyY2xlQ2VsbHM6IEFycmF5PEFycmF5PG51bWJlcj4+O1xuICAgIGJib3hlczogQXJyYXk8bnVtYmVyPjtcbiAgICBjaXJjbGVzOiBBcnJheTxudW1iZXI+O1xuICAgIHhDZWxsQ291bnQ6IG51bWJlcjtcbiAgICB5Q2VsbENvdW50OiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICB4U2NhbGU6IG51bWJlcjtcbiAgICB5U2NhbGU6IG51bWJlcjtcbiAgICBib3hVaWQ6IG51bWJlcjtcbiAgICBjaXJjbGVVaWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY2VsbFNpemU6IG51bWJlcikge1xuICAgICAgICBjb25zdCBib3hDZWxscyA9IHRoaXMuYm94Q2VsbHMgPSBbXTtcbiAgICAgICAgY29uc3QgY2lyY2xlQ2VsbHMgPSB0aGlzLmNpcmNsZUNlbGxzID0gW107XG5cbiAgICAgICAgLy8gTW9yZSBjZWxscyAtPiBmZXdlciBnZW9tZXRyaWVzIHRvIGNoZWNrIHBlciBjZWxsLCBidXQgaXRlbXMgdGVuZFxuICAgICAgICAvLyB0byBiZSBzcGxpdCBhY3Jvc3MgbW9yZSBjZWxscy5cbiAgICAgICAgLy8gU3dlZXQgc3BvdCBhbGxvd3MgbW9zdCBzbWFsbCBpdGVtcyB0byBmaXQgaW4gb25lIGNlbGxcbiAgICAgICAgdGhpcy54Q2VsbENvdW50ID0gTWF0aC5jZWlsKHdpZHRoIC8gY2VsbFNpemUpO1xuICAgICAgICB0aGlzLnlDZWxsQ291bnQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gY2VsbFNpemUpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy54Q2VsbENvdW50ICogdGhpcy55Q2VsbENvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGJveENlbGxzLnB1c2goW10pO1xuICAgICAgICAgICAgY2lyY2xlQ2VsbHMucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaXJjbGVLZXlzID0gW107XG4gICAgICAgIHRoaXMuYm94S2V5cyA9IFtdO1xuICAgICAgICB0aGlzLmJib3hlcyA9IFtdO1xuICAgICAgICB0aGlzLmNpcmNsZXMgPSBbXTtcblxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnhTY2FsZSA9IHRoaXMueENlbGxDb3VudCAvIHdpZHRoO1xuICAgICAgICB0aGlzLnlTY2FsZSA9IHRoaXMueUNlbGxDb3VudCAvIGhlaWdodDtcbiAgICAgICAgdGhpcy5ib3hVaWQgPSAwO1xuICAgICAgICB0aGlzLmNpcmNsZVVpZCA9IDA7XG4gICAgfVxuXG4gICAga2V5c0xlbmd0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3hLZXlzLmxlbmd0aCArIHRoaXMuY2lyY2xlS2V5cy5sZW5ndGg7XG4gICAgfVxuXG4gICAgaW5zZXJ0KGtleTogYW55LCB4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKSB7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fZm9yRWFjaENlbGwoeDEsIHkxLCB4MiwgeTIsIHRoaXMuX2luc2VydEJveENlbGwsIHRoaXMuYm94VWlkKyspO1xuICAgICAgICB0aGlzLmJveEtleXMucHVzaChrZXkpO1xuICAgICAgICB0aGlzLmJib3hlcy5wdXNoKHgxKTtcbiAgICAgICAgdGhpcy5iYm94ZXMucHVzaCh5MSk7XG4gICAgICAgIHRoaXMuYmJveGVzLnB1c2goeDIpO1xuICAgICAgICB0aGlzLmJib3hlcy5wdXNoKHkyKTtcbiAgICB9XG5cbiAgICBpbnNlcnRDaXJjbGUoa2V5OiBhbnksIHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlcikge1xuICAgICAgICAvLyBJbnNlcnQgY2lyY2xlIGludG8gZ3JpZCBmb3IgYWxsIGNlbGxzIGluIHRoZSBjaXJjdW1zY3JpYmluZyBzcXVhcmVcbiAgICAgICAgLy8gSXQncyBtb3JlIHRoYW4gbmVjZXNzYXJ5IChieSBhIGZhY3RvciBvZiA0L1BJKSwgYnV0IGZhc3QgdG8gaW5zZXJ0XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fZm9yRWFjaENlbGwoeCAtIHJhZGl1cywgeSAtIHJhZGl1cywgeCArIHJhZGl1cywgeSArIHJhZGl1cywgdGhpcy5faW5zZXJ0Q2lyY2xlQ2VsbCwgdGhpcy5jaXJjbGVVaWQrKyk7XG4gICAgICAgIHRoaXMuY2lyY2xlS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIHRoaXMuY2lyY2xlcy5wdXNoKHgpO1xuICAgICAgICB0aGlzLmNpcmNsZXMucHVzaCh5KTtcbiAgICAgICAgdGhpcy5jaXJjbGVzLnB1c2gocmFkaXVzKTtcbiAgICB9XG5cbiAgICBfaW5zZXJ0Qm94Q2VsbCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBjZWxsSW5kZXg6IG51bWJlciwgdWlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ib3hDZWxsc1tjZWxsSW5kZXhdLnB1c2godWlkKTtcbiAgICB9XG5cbiAgICBfaW5zZXJ0Q2lyY2xlQ2VsbCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBjZWxsSW5kZXg6IG51bWJlciwgdWlkOiBudW1iZXIpICB7XG4gICAgICAgIHRoaXMuY2lyY2xlQ2VsbHNbY2VsbEluZGV4XS5wdXNoKHVpZCk7XG4gICAgfVxuXG4gICAgX3F1ZXJ5KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGhpdFRlc3Q6IGJvb2xlYW4sIHByZWRpY2F0ZT86IGFueSk6IGJvb2xlYW4gfCBBcnJheTxHcmlkSXRlbT4ge1xuICAgICAgICBpZiAoeDIgPCAwIHx8IHgxID4gdGhpcy53aWR0aCB8fCB5MiA8IDAgfHwgeTEgPiB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyBmYWxzZSA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAoeDEgPD0gMCAmJiB5MSA8PSAwICYmIHRoaXMud2lkdGggPD0geDIgJiYgdGhpcy5oZWlnaHQgPD0geTIpIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBib3hVaWQgPSAwOyBib3hVaWQgPCB0aGlzLmJveEtleXMubGVuZ3RoOyBib3hVaWQrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiB0aGlzLmJveEtleXNbYm94VWlkXSxcbiAgICAgICAgICAgICAgICAgICAgeDE6IHRoaXMuYmJveGVzW2JveFVpZCAqIDRdLFxuICAgICAgICAgICAgICAgICAgICB5MTogdGhpcy5iYm94ZXNbYm94VWlkICogNCArIDFdLFxuICAgICAgICAgICAgICAgICAgICB4MjogdGhpcy5iYm94ZXNbYm94VWlkICogNCArIDJdLFxuICAgICAgICAgICAgICAgICAgICB5MjogdGhpcy5iYm94ZXNbYm94VWlkICogNCArIDNdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBjaXJjbGVVaWQgPSAwOyBjaXJjbGVVaWQgPCB0aGlzLmNpcmNsZUtleXMubGVuZ3RoOyBjaXJjbGVVaWQrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLmNpcmNsZXNbY2lyY2xlVWlkICogM107XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMuY2lyY2xlc1tjaXJjbGVVaWQgKiAzICsgMV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gdGhpcy5jaXJjbGVzW2NpcmNsZVVpZCAqIDMgKyAyXTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGtleTogdGhpcy5jaXJjbGVLZXlzW2NpcmNsZVVpZF0sXG4gICAgICAgICAgICAgICAgICAgIHgxOiB4IC0gcmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICB5MTogeSAtIHJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgeDI6IHggKyByYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgIHkyOiB5ICsgcmFkaXVzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJlZGljYXRlID8gcmVzdWx0LmZpbHRlcihwcmVkaWNhdGUpIDogcmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlBcmdzID0ge1xuICAgICAgICAgICAgICAgIGhpdFRlc3QsXG4gICAgICAgICAgICAgICAgc2VlblVpZHM6IHtib3g6IHt9LCBjaXJjbGU6IHt9fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHRoaXMuX2ZvckVhY2hDZWxsKHgxLCB5MSwgeDIsIHkyLCB0aGlzLl9xdWVyeUNlbGwsIHJlc3VsdCwgcXVlcnlBcmdzLCBwcmVkaWNhdGUpO1xuICAgICAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyByZXN1bHQubGVuZ3RoID4gMCA6IHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9xdWVyeUNpcmNsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIGhpdFRlc3Q6IGJvb2xlYW4sIHByZWRpY2F0ZT86IGFueSk6IGJvb2xlYW4gfCBBcnJheTxHcmlkSXRlbT4ge1xuICAgICAgICAvLyBJbnNlcnQgY2lyY2xlIGludG8gZ3JpZCBmb3IgYWxsIGNlbGxzIGluIHRoZSBjaXJjdW1zY3JpYmluZyBzcXVhcmVcbiAgICAgICAgLy8gSXQncyBtb3JlIHRoYW4gbmVjZXNzYXJ5IChieSBhIGZhY3RvciBvZiA0L1BJKSwgYnV0IGZhc3QgdG8gaW5zZXJ0XG4gICAgICAgIGNvbnN0IHgxID0geCAtIHJhZGl1cztcbiAgICAgICAgY29uc3QgeDIgPSB4ICsgcmFkaXVzO1xuICAgICAgICBjb25zdCB5MSA9IHkgLSByYWRpdXM7XG4gICAgICAgIGNvbnN0IHkyID0geSArIHJhZGl1cztcbiAgICAgICAgaWYgKHgyIDwgMCB8fCB4MSA+IHRoaXMud2lkdGggfHwgeTIgPCAwIHx8IHkxID4gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBoaXRUZXN0ID8gZmFsc2UgOiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJveCBxdWVyeSBlYXJseSBleGl0cyBpZiB0aGUgYm91bmRpbmcgYm94IGlzIGxhcmdlciB0aGFuIHRoZSBncmlkLCBidXQgd2UgZG9uJ3QgZG9cbiAgICAgICAgLy8gdGhlIGVxdWl2YWxlbnQgY2FsY3VsYXRpb24gZm9yIGNpcmNsZSBxdWVyaWVzIGJlY2F1c2UgZWFybHkgZXhpdCBpcyBsZXNzIGxpa2VseVxuICAgICAgICAvLyBhbmQgdGhlIGNhbGN1bGF0aW9uIGlzIG1vcmUgZXhwZW5zaXZlXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBjb25zdCBxdWVyeUFyZ3MgPSB7XG4gICAgICAgICAgICBoaXRUZXN0LFxuICAgICAgICAgICAgY2lyY2xlOiB7eCwgeSwgcmFkaXVzfSxcbiAgICAgICAgICAgIHNlZW5VaWRzOiB7Ym94OiB7fSwgY2lyY2xlOiB7fX1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9mb3JFYWNoQ2VsbCh4MSwgeTEsIHgyLCB5MiwgdGhpcy5fcXVlcnlDZWxsQ2lyY2xlLCByZXN1bHQsIHF1ZXJ5QXJncywgcHJlZGljYXRlKTtcbiAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyByZXN1bHQubGVuZ3RoID4gMCA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICBxdWVyeSh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBwcmVkaWNhdGU/OiBhbnkpOiBBcnJheTxHcmlkSXRlbT4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3F1ZXJ5KHgxLCB5MSwgeDIsIHkyLCBmYWxzZSwgcHJlZGljYXRlKTogYW55KTtcbiAgICB9XG5cbiAgICBoaXRUZXN0KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIHByZWRpY2F0ZT86IGFueSk6IGJvb2xlYW4gIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9xdWVyeSh4MSwgeTEsIHgyLCB5MiwgdHJ1ZSwgcHJlZGljYXRlKTogYW55KTtcbiAgICB9XG5cbiAgICBoaXRUZXN0Q2lyY2xlKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgcHJlZGljYXRlPzogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodGhpcy5fcXVlcnlDaXJjbGUoeCwgeSwgcmFkaXVzLCB0cnVlLCBwcmVkaWNhdGUpOiBhbnkpO1xuICAgIH1cblxuICAgIF9xdWVyeUNlbGwoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgY2VsbEluZGV4OiBudW1iZXIsIHJlc3VsdDogYW55LCBxdWVyeUFyZ3M6IGFueSwgcHJlZGljYXRlPzogYW55KTogdm9pZCB8IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBzZWVuVWlkcyA9IHF1ZXJ5QXJncy5zZWVuVWlkcztcbiAgICAgICAgY29uc3QgYm94Q2VsbCA9IHRoaXMuYm94Q2VsbHNbY2VsbEluZGV4XTtcbiAgICAgICAgaWYgKGJveENlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGJib3hlcyA9IHRoaXMuYmJveGVzO1xuICAgICAgICAgICAgZm9yIChjb25zdCBib3hVaWQgb2YgYm94Q2VsbCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VlblVpZHMuYm94W2JveFVpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VlblVpZHMuYm94W2JveFVpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBib3hVaWQgKiA0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHgxIDw9IGJib3hlc1tvZmZzZXQgKyAyXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh5MSA8PSBiYm94ZXNbb2Zmc2V0ICsgM10pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoeDIgPj0gYmJveGVzW29mZnNldCArIDBdKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHkyID49IGJib3hlc1tvZmZzZXQgKyAxXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZSh0aGlzLmJveEtleXNbYm94VWlkXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlcnlBcmdzLmhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuYm94S2V5c1tib3hVaWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MTogYmJveGVzW29mZnNldF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkxOiBiYm94ZXNbb2Zmc2V0ICsgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgyOiBiYm94ZXNbb2Zmc2V0ICsgMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkyOiBiYm94ZXNbb2Zmc2V0ICsgM11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaXJjbGVDZWxsID0gdGhpcy5jaXJjbGVDZWxsc1tjZWxsSW5kZXhdO1xuICAgICAgICBpZiAoY2lyY2xlQ2VsbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY2lyY2xlcyA9IHRoaXMuY2lyY2xlcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2lyY2xlVWlkIG9mIGNpcmNsZUNlbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlZW5VaWRzLmNpcmNsZVtjaXJjbGVVaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZW5VaWRzLmNpcmNsZVtjaXJjbGVVaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gY2lyY2xlVWlkICogMztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXQgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0ICsgMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB4MSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB5MikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZSh0aGlzLmNpcmNsZUtleXNbY2lyY2xlVWlkXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlcnlBcmdzLmhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IGNpcmNsZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gY2lyY2xlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYWRpdXMgPSBjaXJjbGVzW29mZnNldCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB0aGlzLmNpcmNsZUtleXNbY2lyY2xlVWlkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDE6IHggLSByYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkxOiB5IC0gcmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MjogeCArIHJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTI6IHkgKyByYWRpdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9xdWVyeUNlbGxDaXJjbGUoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgY2VsbEluZGV4OiBudW1iZXIsIHJlc3VsdDogYW55LCBxdWVyeUFyZ3M6IGFueSwgcHJlZGljYXRlPzogYW55KTogdm9pZCB8IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBxdWVyeUFyZ3MuY2lyY2xlO1xuICAgICAgICBjb25zdCBzZWVuVWlkcyA9IHF1ZXJ5QXJncy5zZWVuVWlkcztcbiAgICAgICAgY29uc3QgYm94Q2VsbCA9IHRoaXMuYm94Q2VsbHNbY2VsbEluZGV4XTtcbiAgICAgICAgaWYgKGJveENlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGJib3hlcyA9IHRoaXMuYmJveGVzO1xuICAgICAgICAgICAgZm9yIChjb25zdCBib3hVaWQgb2YgYm94Q2VsbCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VlblVpZHMuYm94W2JveFVpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VlblVpZHMuYm94W2JveFVpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBib3hVaWQgKiA0O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS55LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLnJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hlc1tvZmZzZXQgKyAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hlc1tvZmZzZXQgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hlc1tvZmZzZXQgKyAyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hlc1tvZmZzZXQgKyAzXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZSh0aGlzLmJveEtleXNbYm94VWlkXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2lyY2xlQ2VsbCA9IHRoaXMuY2lyY2xlQ2VsbHNbY2VsbEluZGV4XTtcbiAgICAgICAgaWYgKGNpcmNsZUNlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZXMgPSB0aGlzLmNpcmNsZXM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNpcmNsZVVpZCBvZiBjaXJjbGVDZWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWVuVWlkcy5jaXJjbGVbY2lyY2xlVWlkXSkge1xuICAgICAgICAgICAgICAgICAgICBzZWVuVWlkcy5jaXJjbGVbY2lyY2xlVWlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGNpcmNsZVVpZCAqIDM7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaXJjbGVzQ29sbGlkZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0ICsgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVzW29mZnNldCArIDJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLngsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS5yYWRpdXMpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUodGhpcy5jaXJjbGVLZXlzW2NpcmNsZVVpZF0pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9mb3JFYWNoQ2VsbCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBmbjogYW55LCBhcmcxOiBhbnksIGFyZzI/OiBhbnksIHByZWRpY2F0ZT86IGFueSkge1xuICAgICAgICBjb25zdCBjeDEgPSB0aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKHgxKTtcbiAgICAgICAgY29uc3QgY3kxID0gdGhpcy5fY29udmVydFRvWUNlbGxDb29yZCh5MSk7XG4gICAgICAgIGNvbnN0IGN4MiA9IHRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQoeDIpO1xuICAgICAgICBjb25zdCBjeTIgPSB0aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKHkyKTtcblxuICAgICAgICBmb3IgKGxldCB4ID0gY3gxOyB4IDw9IGN4MjsgeCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gY3kxOyB5IDw9IGN5MjsgeSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbEluZGV4ID0gdGhpcy54Q2VsbENvdW50ICogeSArIHg7XG4gICAgICAgICAgICAgICAgaWYgKGZuLmNhbGwodGhpcywgeDEsIHkxLCB4MiwgeTIsIGNlbGxJbmRleCwgYXJnMSwgYXJnMiwgcHJlZGljYXRlKSkgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NvbnZlcnRUb1hDZWxsQ29vcmQoeDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMueENlbGxDb3VudCAtIDEsIE1hdGguZmxvb3IoeCAqIHRoaXMueFNjYWxlKSkpO1xuICAgIH1cblxuICAgIF9jb252ZXJ0VG9ZQ2VsbENvb3JkKHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLnlDZWxsQ291bnQgLSAxLCBNYXRoLmZsb29yKHkgKiB0aGlzLnlTY2FsZSkpKTtcbiAgICB9XG5cbiAgICBfY2lyY2xlc0NvbGxpZGUoeDE6IG51bWJlciwgeTE6IG51bWJlciwgcjE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgcjI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBkeCA9IHgyIC0geDE7XG4gICAgICAgIGNvbnN0IGR5ID0geTIgLSB5MTtcbiAgICAgICAgY29uc3QgYm90aFJhZGlpID0gcjEgKyByMjtcbiAgICAgICAgcmV0dXJuIChib3RoUmFkaWkgKiBib3RoUmFkaWkpID4gKGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9XG5cbiAgICBfY2lyY2xlQW5kUmVjdENvbGxpZGUoY2lyY2xlWDogbnVtYmVyLCBjaXJjbGVZOiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCB4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGhhbGZSZWN0V2lkdGggPSAoeDIgLSB4MSkgLyAyO1xuICAgICAgICBjb25zdCBkaXN0WCA9IE1hdGguYWJzKGNpcmNsZVggLSAoeDEgKyBoYWxmUmVjdFdpZHRoKSk7XG4gICAgICAgIGlmIChkaXN0WCA+IChoYWxmUmVjdFdpZHRoICsgcmFkaXVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGFsZlJlY3RIZWlnaHQgPSAoeTIgLSB5MSkgLyAyO1xuICAgICAgICBjb25zdCBkaXN0WSA9IE1hdGguYWJzKGNpcmNsZVkgLSAoeTEgKyBoYWxmUmVjdEhlaWdodCkpO1xuICAgICAgICBpZiAoZGlzdFkgPiAoaGFsZlJlY3RIZWlnaHQgKyByYWRpdXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzdFggPD0gaGFsZlJlY3RXaWR0aCB8fCBkaXN0WSA8PSBoYWxmUmVjdEhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkeCA9IGRpc3RYIC0gaGFsZlJlY3RXaWR0aDtcbiAgICAgICAgY29uc3QgZHkgPSBkaXN0WSAtIGhhbGZSZWN0SGVpZ2h0O1xuICAgICAgICByZXR1cm4gKGR4ICogZHggKyBkeSAqIGR5IDw9IChyYWRpdXMgKiByYWRpdXMpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRJbmRleDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxuaW1wb3J0IHttYXQyLCBtYXQ0LCB2ZWMzLCB2ZWM0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0ICogYXMgc3ltYm9sU2l6ZSBmcm9tICcuL3N5bWJvbF9zaXplLmpzJztcbmltcG9ydCB7YWRkRHluYW1pY0F0dHJpYnV0ZXMsIHVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsfSBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0LmpzJztcbmltcG9ydCB0eXBlIFByb2plY3Rpb24gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vcHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3JlbmRlci9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0LmpzJztcbmltcG9ydCB0eXBlIHtcbiAgICBHbHlwaE9mZnNldEFycmF5LFxuICAgIFN5bWJvbExpbmVWZXJ0ZXhBcnJheSxcbiAgICBTeW1ib2xEeW5hbWljTGF5b3V0QXJyYXksXG4gICAgU3ltYm9sR2xvYmVFeHRBcnJheSxcbiAgICBQbGFjZWRTeW1ib2xcbn0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSB7TWF0NCwgVmVjMywgVmVjNH0gZnJvbSAnZ2wtbWF0cml4JztcblxuaW1wb3J0IHtXcml0aW5nTW9kZX0gZnJvbSAnLi4vc3ltYm9sL3NoYXBpbmcuanMnO1xuaW1wb3J0IHtDYW5vbmljYWxUaWxlSUQsIE92ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB7Y2FsY3VsYXRlR2xvYmVMYWJlbE1hdHJpeH0gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5leHBvcnQge3VwZGF0ZUxpbmVMYWJlbHMsIGhpZGVHbHlwaHMsIGdldExhYmVsUGxhbmVNYXRyaXhGb3JSZW5kZXJpbmcsIGdldExhYmVsUGxhbmVNYXRyaXhGb3JQbGFjZW1lbnQsIGdldEdsQ29vcmRNYXRyaXgsIHByb2plY3QsIHByb2plY3RDbGFtcGVkLCBnZXRQZXJzcGVjdGl2ZVJhdGlvLCBwbGFjZUZpcnN0QW5kTGFzdEdseXBoLCBwbGFjZUdseXBoQWxvbmdMaW5lLCB4eVRyYW5zZm9ybU1hdDR9O1xuXG50eXBlIFBsYWNlZEdseXBoID0ge3xcbiAgICBhbmdsZTogbnVtYmVyLFxuICAgIHBhdGg6IEFycmF5PFZlYzM+LFxuICAgIHBvaW50OiBWZWMzLFxuICAgIHRpbGVQYXRoOiBBcnJheTxQb2ludD4sXG4gICAgdXA6IFZlYzNcbnx9O1xudHlwZSBQcm9qZWN0aW9uQ2FjaGUgPSB7W186IG51bWJlcl06IFZlYzN9O1xuXG50eXBlIFBsYWNlbWVudFN0YXR1cyA9IHtcbiAgICBuZWVkc0ZsaXBwaW5nPzogYm9vbGVhbixcbiAgICBub3RFbm91Z2hSb29tPzogYm9vbGVhbixcbiAgICB1c2VWZXJ0aWNhbD86IGJvb2xlYW5cbn07XG5cbmNvbnN0IEZsaXBTdGF0ZSA9IHtcbiAgICB1bmtub3duOiAwLFxuICAgIGZsaXBSZXF1aXJlZDogMSxcbiAgICBmbGlwTm90UmVxdWlyZWQ6IDJcbn07XG5cbmNvbnN0IG1heFRhbmdlbnQgPSBNYXRoLnRhbig4NSAqIE1hdGguUEkgLyAxODApO1xuXG4vKlxuICogIyBPdmVydmlldyBvZiBjb29yZGluYXRlIHNwYWNlc1xuICpcbiAqICMjIFRpbGUgY29vcmRpbmF0ZSBzcGFjZXNcbiAqIEVhY2ggbGFiZWwgaGFzIGFuIGFuY2hvci4gU29tZSBsYWJlbHMgaGF2ZSBjb3JyZXNwb25kaW5nIGxpbmUgZ2VvbWV0cmllcy5cbiAqIFRoZSBwb2ludHMgZm9yIGJvdGggYW5jaG9ycyBhbmQgbGluZXMgYXJlIHN0b3JlZCBpbiB0aWxlIHVuaXRzLiBFYWNoIHRpbGUgaGFzIGl0J3Mgb3duXG4gKiBjb29yZGluYXRlIHNwYWNlIGdvaW5nIGZyb20gKDAsIDApIGF0IHRoZSB0b3AgbGVmdCB0byAoRVhURU5ULCBFWFRFTlQpIGF0IHRoZSBib3R0b20gcmlnaHQuXG4gKlxuICogIyMgR0wgY29vcmRpbmF0ZSBzcGFjZVxuICogQXQgdGhlIGVuZCBvZiBldmVyeXRoaW5nLCB0aGUgdmVydGV4IHNoYWRlciBuZWVkcyB0byBwcm9kdWNlIGEgcG9zaXRpb24gaW4gR0wgY29vcmRpbmF0ZSBzcGFjZSxcbiAqIHdoaWNoIGlzICgtMSwgMSkgYXQgdGhlIHRvcCBsZWZ0IGFuZCAoMSwgLTEpIGluIHRoZSBib3R0b20gcmlnaHQuXG4gKlxuICogIyMgTWFwIHBpeGVsIGNvb3JkaW5hdGUgc3BhY2VzXG4gKiBFYWNoIHRpbGUgaGFzIGEgcGl4ZWwgY29vcmRpbmF0ZSBzcGFjZS4gSXQncyBqdXN0IHRoZSB0aWxlIHVuaXRzIHNjYWxlZCBzbyB0aGF0IG9uZSB1bml0IGlzXG4gKiB3aGF0ZXZlciBjb3VudHMgYXMgMSBwaXhlbCBhdCB0aGUgY3VycmVudCB6b29tLlxuICogVGhpcyBzcGFjZSBpcyB1c2VkIGZvciBwaXRjaC1hbGlnbm1lbnQ9bWFwLCByb3RhdGlvbi1hbGlnbm1lbnQ9bWFwXG4gKlxuICogIyMgUm90YXRlZCBtYXAgcGl4ZWwgY29vcmRpbmF0ZSBzcGFjZXNcbiAqIExpa2UgdGhlIGFib3ZlLCBidXQgcm90YXRlZCBzbyBheGlzIG9mIHRoZSBzcGFjZSBhcmUgYWxpZ25lZCB3aXRoIHRoZSB2aWV3cG9ydCBpbnN0ZWFkIG9mIHRoZSB0aWxlLlxuICogVGhpcyBzcGFjZSBpcyB1c2VkIGZvciBwaXRjaC1hbGlnbm1lbnQ9bWFwLCByb3RhdGlvbi1hbGlnbm1lbnQ9dmlld3BvcnRcbiAqXG4gKiAjIyBWaWV3cG9ydCBwaXhlbCBjb29yZGluYXRlIHNwYWNlXG4gKiAoMCwgMCkgaXMgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBjYW52YXMgYW5kIChwaXhlbFdpZHRoLCBwaXhlbEhlaWdodCkgaXMgYXQgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAqIG9mIHRoZSBjYW52YXMuIFRoaXMgc3BhY2UgaXMgdXNlZCBmb3IgcGl0Y2gtYWxpZ25tZW50PXZpZXdwb3J0XG4gKlxuICpcbiAqICMgVmVydGV4IHByb2plY3Rpb25cbiAqIEl0IGdvZXMgcm91Z2hseSBsaWtlIHRoaXM6XG4gKiAxLiBwcm9qZWN0IHRoZSBhbmNob3IgYW5kIGxpbmUgZnJvbSB0aWxlIHVuaXRzIGludG8gdGhlIGNvcnJlY3QgbGFiZWwgY29vcmRpbmF0ZSBzcGFjZVxuICogICAgICAtIG1hcCBwaXhlbCBzcGFjZSAgICAgICAgICAgcGl0Y2gtYWxpZ25tZW50PW1hcCAgICAgICAgIHJvdGF0aW9uLWFsaWdubWVudD1tYXBcbiAqICAgICAgLSByb3RhdGVkIG1hcCBwaXhlbCBzcGFjZSAgIHBpdGNoLWFsaWdubWVudD1tYXAgICAgICAgICByb3RhdGlvbi1hbGlnbm1lbnQ9dmlld3BvcnRcbiAqICAgICAgLSB2aWV3cG9ydCBwaXhlbCBzcGFjZSAgICAgIHBpdGNoLWFsaWdubWVudD12aWV3cG9ydCAgICByb3RhdGlvbi1hbGlnbm1lbnQ9KlxuICogMi4gaWYgdGhlIGxhYmVsIGZvbGxvd3MgYSBsaW5lLCBmaW5kIHRoZSBwb2ludCBhbG9uZyB0aGUgbGluZSB0aGF0IGlzIHRoZSBjb3JyZWN0IGRpc3RhbmNlIGZyb20gdGhlIGFuY2hvci5cbiAqIDMuIGFkZCB0aGUgZ2x5cGgncyBjb3JuZXIgb2Zmc2V0IHRvIHRoZSBwb2ludCBmcm9tIHN0ZXAgM1xuICogNC4gY29udmVydCBmcm9tIHRoZSBsYWJlbCBjb29yZGluYXRlIHNwYWNlIHRvIGdsIGNvb3JkaW5hdGVzXG4gKlxuICogRm9yIGhvcml6b250YWwgbGFiZWxzIHdlIHdhbnQgdG8gZG8gc3RlcCAxIGluIHRoZSBzaGFkZXIgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKG5vIGNwdSB3b3JrKS5cbiAqICAgICAgVGhpcyBpcyB3aGF0IGB1X2xhYmVsX3BsYW5lX21hdHJpeGAgaXMgdXNlZCBmb3IuXG4gKiBGb3IgbGFiZWxzIGFsaWduZWQgd2l0aCBsaW5lcyB3ZSBoYXZlIHRvIHN0ZXBzIDEgYW5kIDIgb24gdGhlIGNwdSBzaW5jZSB3ZSBuZWVkIGFjY2VzcyB0byB0aGUgbGluZSBnZW9tZXRyeS5cbiAqICAgICAgVGhpcyBpcyB3aGF0IGB1cGRhdGVMaW5lTGFiZWxzKC4uLilgIGRvZXMuXG4gKiAgICAgIFNpbmNlIHRoZSBjb252ZXJzaW9uIGlzIGhhbmRsZWQgb24gdGhlIGNwdSB3ZSBqdXN0IHNldCBgdV9sYWJlbF9wbGFuZV9tYXRyaXhgIHRvIGFuIGlkZW50aXR5IG1hdHJpeC5cbiAqXG4gKiBTdGVwcyAzIGFuZCA0IGFyZSBkb25lIGluIHRoZSBzaGFkZXJzIGZvciBhbGwgbGFiZWxzLlxuICovXG5cbi8qXG4gKiBSZXR1cm5zIGEgbWF0cml4IGZvciBjb252ZXJ0aW5nIGZyb20gdGlsZSB1bml0cyB0byB0aGUgY29ycmVjdCBsYWJlbCBjb29yZGluYXRlIHNwYWNlLlxuICogVGhpcyB2YXJpYXRpb24gb2YgdGhlIGZ1bmN0aW9uIHJldHVybnMgYSBsYWJlbCBzcGFjZSBtYXRyaXggc3BlY2lhbGl6ZWQgZm9yIHJlbmRlcmluZy5cbiAqIEl0IHRyYW5zZm9ybXMgY29vcmRpbmF0ZXMgYXMtaXMgdG8gd2hhdGV2ZXIgdGhlIHRhcmdldCBzcGFjZSBpcyAoZWl0aGVyIDJEIG9yIDNEKS5cbiAqIFNlZSBhbHNvIGBnZXRMYWJlbFBsYW5lTWF0cml4Rm9yUGxhY2VtZW50YFxuICovXG5mdW5jdGlvbiBnZXRMYWJlbFBsYW5lTWF0cml4Rm9yUmVuZGVyaW5nKHBvc01hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlSUQ6IENhbm9uaWNhbFRpbGVJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbjogUHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlVW5pdHM6IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheSB7XG4gICAgY29uc3QgbSA9IG1hdDQuY3JlYXRlKCk7XG5cbiAgICBpZiAocGl0Y2hXaXRoTWFwKSB7XG4gICAgICAgIGlmIChwcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScpIHtcbiAgICAgICAgICAgIGNvbnN0IGxtID0gY2FsY3VsYXRlR2xvYmVMYWJlbE1hdHJpeCh0cmFuc2Zvcm0sIHRpbGVJRCk7XG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5KG0sIG0sIGxtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBtYXQyLmludmVydChbXSwgcGl4ZWxzVG9UaWxlVW5pdHMpO1xuICAgICAgICAgICAgbVswXSA9IHNbMF07XG4gICAgICAgICAgICBtWzFdID0gc1sxXTtcbiAgICAgICAgICAgIG1bNF0gPSBzWzJdO1xuICAgICAgICAgICAgbVs1XSA9IHNbM107XG4gICAgICAgICAgICBpZiAoIXJvdGF0ZVdpdGhNYXApIHtcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVoobSwgbSwgdHJhbnNmb3JtLmFuZ2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdDQubXVsdGlwbHkobSwgdHJhbnNmb3JtLmxhYmVsUGxhbmVNYXRyaXgsIHBvc01hdHJpeCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8qXG4gKiBSZXR1cm5zIGEgbWF0cml4IGZvciBjb252ZXJ0aW5nIGZyb20gdGlsZSB1bml0cyB0byB0aGUgY29ycmVjdCBsYWJlbCBjb29yZGluYXRlIHNwYWNlLlxuICogVGhpcyB2YXJpYXRpb24gb2YgdGhlIGZ1bmN0aW9uIHJldHVybnMgYSBtYXRyaXggc3BlY2lhbGl6ZWQgZm9yIHBsYWNlbWVudCBsb2dpYy5cbiAqIENvb3JkaW5hdGVzIHdpbGwgYmUgY2xhbXBlZCB0byB4JnkgMkQgcGxhbmUgd2hpY2ggaXMgdXNlZCB3aXRoIHZpZXdwb3J0IGFuZCBtYXAgYWxpZ25lZCBwbGFjZW1lbnRcbiAqIGxvZ2ljIGluIG1vc3QgY2FzZXMuIENlcnRhaW4gcHJvamVjdGlvbnMgc3VjaCBhcyBnbG9iZSB2aWV3IHdpbGwgdXNlIDNEIHNwYWNlIGZvciBtYXAgYWxpZ25lZFxuICogbGFiZWwgcGxhY2VtZW50LlxuICovXG5mdW5jdGlvbiBnZXRMYWJlbFBsYW5lTWF0cml4Rm9yUGxhY2VtZW50KHBvc01hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlSUQ6IENhbm9uaWNhbFRpbGVJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbjogUHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlVW5pdHM6IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheSB7XG4gICAgY29uc3QgbSA9IGdldExhYmVsUGxhbmVNYXRyaXhGb3JSZW5kZXJpbmcocG9zTWF0cml4LCB0aWxlSUQsIHBpdGNoV2l0aE1hcCwgcm90YXRlV2l0aE1hcCwgdHJhbnNmb3JtLCBwcm9qZWN0aW9uLCBwaXhlbHNUb1RpbGVVbml0cyk7XG5cbiAgICAvLyBTeW1ib2wgcGxhY2VtZW50IGxvZ2ljIGlzIHBlcmZvcm1lZCBpbiAyRCBpbiBtb3N0IHNjZW5hcmlvcy5cbiAgICAvLyBGb3IgdGhpcyByZWFzb24gcHJvamVjdCBhbGwgY29vcmRpbmF0ZXMgdG8gdGhlIHh5LXBsYW5lIGJ5IGRpc2NhcmRpbmcgdGhlIHotY29tcG9uZW50XG4gICAgaWYgKHByb2plY3Rpb24ubmFtZSAhPT0gJ2dsb2JlJyB8fCAhcGl0Y2hXaXRoTWFwKSB7XG4gICAgICAgIC8vIFByZS1tdWx0aXBseSBieSBzY2FsaW5nIHogdG8gMFxuICAgICAgICBtWzJdID0gbVs2XSA9IG1bMTBdID0gbVsxNF0gPSAwO1xuICAgIH1cblxuICAgIHJldHVybiBtO1xufVxuXG4vKlxuICogUmV0dXJucyBhIG1hdHJpeCBmb3IgY29udmVydGluZyBmcm9tIHRoZSBjb3JyZWN0IGxhYmVsIGNvb3JkaW5hdGUgc3BhY2UgdG8gZ2wgY29vcmRzLlxuICovXG5mdW5jdGlvbiBnZXRHbENvb3JkTWF0cml4KHBvc01hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlSUQ6IENhbm9uaWNhbFRpbGVJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbjogUHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlVW5pdHM6IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheSB7XG4gICAgaWYgKHBpdGNoV2l0aE1hcCkge1xuICAgICAgICBpZiAocHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICBjb25zdCBtID0gZ2V0TGFiZWxQbGFuZU1hdHJpeEZvclJlbmRlcmluZyhwb3NNYXRyaXgsIHRpbGVJRCwgcGl0Y2hXaXRoTWFwLCByb3RhdGVXaXRoTWFwLCB0cmFuc2Zvcm0sIHByb2plY3Rpb24sIHBpeGVsc1RvVGlsZVVuaXRzKTtcbiAgICAgICAgICAgIG1hdDQuaW52ZXJ0KG0sIG0pO1xuICAgICAgICAgICAgbWF0NC5tdWx0aXBseShtLCBwb3NNYXRyaXgsIG0pO1xuICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtID0gbWF0NC5jbG9uZShwb3NNYXRyaXgpO1xuICAgICAgICAgICAgY29uc3QgcyA9IG1hdDQuaWRlbnRpdHkoW10pO1xuICAgICAgICAgICAgc1swXSA9IHBpeGVsc1RvVGlsZVVuaXRzWzBdO1xuICAgICAgICAgICAgc1sxXSA9IHBpeGVsc1RvVGlsZVVuaXRzWzFdO1xuICAgICAgICAgICAgc1s0XSA9IHBpeGVsc1RvVGlsZVVuaXRzWzJdO1xuICAgICAgICAgICAgc1s1XSA9IHBpeGVsc1RvVGlsZVVuaXRzWzNdO1xuICAgICAgICAgICAgbWF0NC5tdWx0aXBseShtLCBtLCBzKTtcbiAgICAgICAgICAgIGlmICghcm90YXRlV2l0aE1hcCkge1xuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWihtLCBtLCAtdHJhbnNmb3JtLmFuZ2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybS5nbENvb3JkTWF0cml4O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcHJvamVjdCh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCBtYXRyaXg6IE1hdDQpOiBWZWM0IHtcbiAgICBjb25zdCBwb3MgPSBbeCwgeSwgeiwgMV07XG4gICAgaWYgKHopIHtcbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KHBvcywgcG9zLCBtYXRyaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHh5VHJhbnNmb3JtTWF0NChwb3MsIHBvcywgbWF0cml4KTtcbiAgICB9XG4gICAgY29uc3QgdyA9IHBvc1szXTtcbiAgICBwb3NbMF0gLz0gdztcbiAgICBwb3NbMV0gLz0gdztcbiAgICBwb3NbMl0gLz0gdztcbiAgICByZXR1cm4gcG9zO1xufVxuXG5mdW5jdGlvbiBwcm9qZWN0Q2xhbXBlZChbeCwgeSwgel06IFZlYzMsIG1hdHJpeDogTWF0NCk6IFZlYzQge1xuICAgIGNvbnN0IHBvcyA9IFt4LCB5LCB6LCAxXTtcbiAgICB2ZWM0LnRyYW5zZm9ybU1hdDQocG9zLCBwb3MsIG1hdHJpeCk7XG5cbiAgICAvLyBDbGFtcCBkaXN0YW5jZSB0byBhIHBvc2l0aXZlIHZhbHVlIHNvIHdlIGNhbiBhdm9pZCBzY3JlZW4gY29vcmRpbmF0ZVxuICAgIC8vIGJlaW5nIGZsaXBwZWQgcG9zc2libHkgZHVlIHRvIHBlcnNwZWN0aXZlIHByb2plY3Rpb25cbiAgICBjb25zdCB3ID0gcG9zWzNdID0gTWF0aC5tYXgocG9zWzNdLCAwLjAwMDAwMSk7XG4gICAgcG9zWzBdIC89IHc7XG4gICAgcG9zWzFdIC89IHc7XG4gICAgcG9zWzJdIC89IHc7XG4gICAgcmV0dXJuIHBvcztcbn1cblxuZnVuY3Rpb24gZ2V0UGVyc3BlY3RpdmVSYXRpbyhjYW1lcmFUb0NlbnRlckRpc3RhbmNlOiBudW1iZXIsIHNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5taW4oMC41ICsgMC41ICogKGNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgLyBzaWduZWREaXN0YW5jZUZyb21DYW1lcmEpLCAxLjUpO1xufVxuXG5mdW5jdGlvbiBpc1Zpc2libGUoYW5jaG9yUG9zOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICAgICAgICAgICAgICAgICBjbGlwcGluZ0J1ZmZlcjogW251bWJlciwgbnVtYmVyXSkge1xuICAgIGNvbnN0IHggPSBhbmNob3JQb3NbMF0gLyBhbmNob3JQb3NbM107XG4gICAgY29uc3QgeSA9IGFuY2hvclBvc1sxXSAvIGFuY2hvclBvc1szXTtcbiAgICBjb25zdCBpblBhZGRlZFZpZXdwb3J0ID0gKFxuICAgICAgICB4ID49IC1jbGlwcGluZ0J1ZmZlclswXSAmJlxuICAgICAgICB4IDw9IGNsaXBwaW5nQnVmZmVyWzBdICYmXG4gICAgICAgIHkgPj0gLWNsaXBwaW5nQnVmZmVyWzFdICYmXG4gICAgICAgIHkgPD0gY2xpcHBpbmdCdWZmZXJbMV0pO1xuICAgIHJldHVybiBpblBhZGRlZFZpZXdwb3J0O1xufVxuXG4vKlxuICogIFVwZGF0ZSB0aGUgYGR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXJgIGZvciB0aGUgYnVmZmVyIHdpdGggdGhlIGNvcnJlY3QgZ2x5cGggcG9zaXRpb25zIGZvciB0aGUgY3VycmVudCBtYXAgdmlldy5cbiAqICBUaGlzIGlzIG9ubHkgcnVuIG9uIGxhYmVscyB0aGF0IGFyZSBhbGlnbmVkIHdpdGggbGluZXMuIEhvcml6b250YWwgbGFiZWxzIGFyZSBoYW5kbGVkIGVudGlyZWx5IGluIHRoZSBzaGFkZXIuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUxpbmVMYWJlbHMoYnVja2V0OiBTeW1ib2xCdWNrZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvc01hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWludGVyOiBQYWludGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc1RleHQ6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsUGxhbmVNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xDb29yZE1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwaXRjaFdpdGhNYXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBVcHJpZ2h0OiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRFbGV2YXRpb246ID8oKHA6IFBvaW50KSA9PiBBcnJheTxudW1iZXI+KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG5cbiAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IHNpemVEYXRhID0gaXNUZXh0ID8gYnVja2V0LnRleHRTaXplRGF0YSA6IGJ1Y2tldC5pY29uU2l6ZURhdGE7XG4gICAgY29uc3QgcGFydGlhbGx5RXZhbHVhdGVkU2l6ZSA9IHN5bWJvbFNpemUuZXZhbHVhdGVTaXplRm9yWm9vbShzaXplRGF0YSwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSk7XG4gICAgY29uc3QgaXNHbG9iZSA9IHRyLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJztcblxuICAgIGNvbnN0IGNsaXBwaW5nQnVmZmVyID0gWzI1NiAvIHBhaW50ZXIud2lkdGggKiAyICsgMSwgMjU2IC8gcGFpbnRlci5oZWlnaHQgKiAyICsgMV07XG5cbiAgICBjb25zdCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkgPSBpc1RleHQgP1xuICAgICAgICBidWNrZXQudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXkgOlxuICAgICAgICBidWNrZXQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk7XG4gICAgZHluYW1pY0xheW91dFZlcnRleEFycmF5LmNsZWFyKCk7XG5cbiAgICBsZXQgZ2xvYmVFeHRWZXJ0ZXhBcnJheTogP1N5bWJvbEdsb2JlRXh0QXJyYXkgPSBudWxsO1xuICAgIGlmIChpc0dsb2JlKSB7XG4gICAgICAgIGdsb2JlRXh0VmVydGV4QXJyYXkgPSBpc1RleHQgP1xuICAgICAgICAgICAgYnVja2V0LnRleHQuZ2xvYmVFeHRWZXJ0ZXhBcnJheSA6XG4gICAgICAgICAgICBidWNrZXQuaWNvbi5nbG9iZUV4dFZlcnRleEFycmF5O1xuICAgIH1cblxuICAgIGNvbnN0IGxpbmVWZXJ0ZXhBcnJheSA9IGJ1Y2tldC5saW5lVmVydGV4QXJyYXk7XG4gICAgY29uc3QgcGxhY2VkU3ltYm9scyA9IGlzVGV4dCA/IGJ1Y2tldC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5IDogYnVja2V0Lmljb24ucGxhY2VkU3ltYm9sQXJyYXk7XG5cbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHBhaW50ZXIudHJhbnNmb3JtLndpZHRoIC8gcGFpbnRlci50cmFuc2Zvcm0uaGVpZ2h0O1xuXG4gICAgbGV0IHVzZVZlcnRpY2FsOiA/Ym9vbGVhbiA9IGZhbHNlO1xuICAgIGxldCBwcmV2V3JpdGluZ01vZGU7XG5cbiAgICBmb3IgKGxldCBzID0gMDsgcyA8IHBsYWNlZFN5bWJvbHMubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgY29uc3Qgc3ltYm9sID0gcGxhY2VkU3ltYm9scy5nZXQocyk7XG4gICAgICAgIGNvbnN0IHtudW1HbHlwaHMsIHdyaXRpbmdNb2RlfSA9IHN5bWJvbDtcblxuICAgICAgICAvLyBOb3JtYWxseSwgdGhlICdIb3Jpem9udGFsfFZlcnRpY2FsJyB3cml0aW5nIG1vZGUgaXMgZm9sbG93ZWQgYnkgYSAnVmVydGljYWwnIGNvdW50ZXJwYXJ0LCB0aGlzXG4gICAgICAgIC8vIGlzIG5vdCB0cnVlIGZvciAnVmVydGljYWwnIG9ubHkgbGluZSBsYWJlbHMuIEZvciB0aGlzIGNhc2UsIHdlJ2xsIGhhdmUgdG8gb3ZlcndyaXRlIHRoZSAndXNlVmVydGljYWwnXG4gICAgICAgIC8vIHN0YXR1cyBiZWZvcmUgZnVydGhlciBjaGVja3MuXG4gICAgICAgIGlmICh3cml0aW5nTW9kZSA9PT0gV3JpdGluZ01vZGUudmVydGljYWwgJiYgIXVzZVZlcnRpY2FsICYmIHByZXZXcml0aW5nTW9kZSAhPT0gV3JpdGluZ01vZGUuaG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgdXNlVmVydGljYWwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHByZXZXcml0aW5nTW9kZSA9IHdyaXRpbmdNb2RlO1xuXG4gICAgICAgIC8vIERvbid0IGRvIGNhbGN1bGF0aW9ucyBmb3IgdmVydGljYWwgZ2x5cGhzIHVubGVzcyB0aGUgcHJldmlvdXMgc3ltYm9sIHdhcyBob3Jpem9udGFsXG4gICAgICAgIC8vIGFuZCB3ZSBkZXRlcm1pbmVkIHRoYXQgdmVydGljYWwgZ2x5cGhzIHdlcmUgbmVjZXNzYXJ5LlxuICAgICAgICAvLyBBbHNvIGRvbid0IGRvIGNhbGN1bGF0aW9ucyBmb3Igc3ltYm9scyB0aGF0IGFyZSBjb2xsaWRlZCBhbmQgZnVsbHkgZmFkZWQgb3V0XG4gICAgICAgIGlmICgoc3ltYm9sLmhpZGRlbiB8fCB3cml0aW5nTW9kZSA9PT0gV3JpdGluZ01vZGUudmVydGljYWwpICYmICF1c2VWZXJ0aWNhbCkge1xuICAgICAgICAgICAgaGlkZUdseXBocyhudW1HbHlwaHMsIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBd2t3YXJkLi4uIGJ1dCB3ZSdyZSBjb3VudGluZyBvbiB0aGUgcGFpcmVkIFwidmVydGljYWxcIiBzeW1ib2wgY29taW5nIGltbWVkaWF0ZWx5IGFmdGVyIGl0cyBob3Jpem9udGFsIGNvdW50ZXJwYXJ0XG4gICAgICAgIHVzZVZlcnRpY2FsID0gZmFsc2U7XG5cbiAgICAgICAgLy8gUHJvamVjdCB0aWxlIGFuY2hvciB0byBnbG9iZSBhbmNob3JcbiAgICAgICAgY29uc3QgdGlsZUFuY2hvclBvaW50ID0gbmV3IFBvaW50KHN5bWJvbC50aWxlQW5jaG9yWCwgc3ltYm9sLnRpbGVBbmNob3JZKTtcbiAgICAgICAgbGV0IHt4LCB5LCB6fSA9IHRyLnByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludCh0aWxlQW5jaG9yUG9pbnQueCwgdGlsZUFuY2hvclBvaW50LnksIHRpbGVJRC5jYW5vbmljYWwpO1xuICAgICAgICBpZiAoZ2V0RWxldmF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBbZHgsIGR5LCBkel0gPSBnZXRFbGV2YXRpb24odGlsZUFuY2hvclBvaW50KTtcbiAgICAgICAgICAgIHggKz0gZHg7XG4gICAgICAgICAgICB5ICs9IGR5O1xuICAgICAgICAgICAgeiArPSBkejtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbmNob3JQb3MgPSBbeCwgeSwgeiwgMS4wXTtcbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KGFuY2hvclBvcywgYW5jaG9yUG9zLCBwb3NNYXRyaXgpO1xuXG4gICAgICAgIC8vIERvbid0IGJvdGhlciBjYWxjdWxhdGluZyB0aGUgY29ycmVjdCBwb2ludCBmb3IgaW52aXNpYmxlIGxhYmVscy5cbiAgICAgICAgaWYgKCFpc1Zpc2libGUoYW5jaG9yUG9zLCBjbGlwcGluZ0J1ZmZlcikpIHtcbiAgICAgICAgICAgIGhpZGVHbHlwaHMobnVtR2x5cGhzLCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FtZXJhVG9BbmNob3JEaXN0YW5jZSA9IGFuY2hvclBvc1szXTtcbiAgICAgICAgY29uc3QgcGVyc3BlY3RpdmVSYXRpbyA9IGdldFBlcnNwZWN0aXZlUmF0aW8ocGFpbnRlci50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSwgY2FtZXJhVG9BbmNob3JEaXN0YW5jZSk7XG5cbiAgICAgICAgY29uc3QgZm9udFNpemUgPSBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUoc2l6ZURhdGEsIHBhcnRpYWxseUV2YWx1YXRlZFNpemUsIHN5bWJvbCk7XG4gICAgICAgIGNvbnN0IHBpdGNoU2NhbGVkRm9udFNpemUgPSBwaXRjaFdpdGhNYXAgPyBmb250U2l6ZSAvIHBlcnNwZWN0aXZlUmF0aW8gOiBmb250U2l6ZSAqIHBlcnNwZWN0aXZlUmF0aW87XG5cbiAgICAgICAgY29uc3QgbGFiZWxQbGFuZUFuY2hvclBvaW50ID0gcHJvamVjdCh4LCB5LCB6LCBsYWJlbFBsYW5lTWF0cml4KTtcblxuICAgICAgICAvLyBTa2lwIGxhYmVscyBiZWhpbmQgdGhlIGNhbWVyYVxuICAgICAgICBpZiAobGFiZWxQbGFuZUFuY2hvclBvaW50WzNdIDw9IDAuMCkge1xuICAgICAgICAgICAgaGlkZUdseXBocyhudW1HbHlwaHMsIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwcm9qZWN0aW9uQ2FjaGU6IFByb2plY3Rpb25DYWNoZSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IGdldEVsZXZhdGlvbkZvclBsYWNlbWVudCA9IHBpdGNoV2l0aE1hcCA/IG51bGwgOiBnZXRFbGV2YXRpb247IC8vIFdoZW4gcGl0Y2hXaXRoTWFwLCB3ZSdyZSBwcm9qZWN0aW5nIHRvIHNjYWxlZCB0aWxlIGNvb3JkaW5hdGUgc3BhY2U6IHRoZXJlIGlzIG5vIG5lZWQgdG8gZ2V0IGVsZXZhdGlvbiBhcyBpdCBkb2Vzbid0IGFmZmVjdCBwcm9qZWN0aW9uLlxuICAgICAgICBjb25zdCBwbGFjZVVuZmxpcHBlZCA9IHBsYWNlR2x5cGhzQWxvbmdMaW5lKHN5bWJvbCwgcGl0Y2hTY2FsZWRGb250U2l6ZSwgZmFsc2UgLyp1bmZsaXBwZWQqLywga2VlcFVwcmlnaHQsIHBvc01hdHJpeCwgbGFiZWxQbGFuZU1hdHJpeCwgZ2xDb29yZE1hdHJpeCxcbiAgICAgICAgICAgIGJ1Y2tldC5nbHlwaE9mZnNldEFycmF5LCBsaW5lVmVydGV4QXJyYXksIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgZ2xvYmVFeHRWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZUFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHByb2plY3Rpb25DYWNoZSwgYXNwZWN0UmF0aW8sIGdldEVsZXZhdGlvbkZvclBsYWNlbWVudCwgdHIucHJvamVjdGlvbiwgdGlsZUlELCBwaXRjaFdpdGhNYXApO1xuXG4gICAgICAgIHVzZVZlcnRpY2FsID0gcGxhY2VVbmZsaXBwZWQudXNlVmVydGljYWw7XG5cbiAgICAgICAgaWYgKGdldEVsZXZhdGlvbkZvclBsYWNlbWVudCAmJiBwbGFjZVVuZmxpcHBlZC5uZWVkc0ZsaXBwaW5nKSBwcm9qZWN0aW9uQ2FjaGUgPSB7fTsgLy8gVHJ1bmNhdGVkIHBvaW50cyBzaG91bGQgYmUgcmVjYWxjdWxhdGVkLlxuICAgICAgICBpZiAocGxhY2VVbmZsaXBwZWQubm90RW5vdWdoUm9vbSB8fCB1c2VWZXJ0aWNhbCB8fFxuICAgICAgICAgICAgKHBsYWNlVW5mbGlwcGVkLm5lZWRzRmxpcHBpbmcgJiZcbiAgICAgICAgICAgICBwbGFjZUdseXBoc0Fsb25nTGluZShzeW1ib2wsIHBpdGNoU2NhbGVkRm9udFNpemUsIHRydWUgLypmbGlwcGVkKi8sIGtlZXBVcHJpZ2h0LCBwb3NNYXRyaXgsIGxhYmVsUGxhbmVNYXRyaXgsIGdsQ29vcmRNYXRyaXgsXG4gICAgICAgICAgICAgICAgIGJ1Y2tldC5nbHlwaE9mZnNldEFycmF5LCBsaW5lVmVydGV4QXJyYXksIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgZ2xvYmVFeHRWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZUFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHByb2plY3Rpb25DYWNoZSwgYXNwZWN0UmF0aW8sIGdldEVsZXZhdGlvbkZvclBsYWNlbWVudCwgdHIucHJvamVjdGlvbiwgdGlsZUlELCBwaXRjaFdpdGhNYXApLm5vdEVub3VnaFJvb20pKSB7XG4gICAgICAgICAgICBoaWRlR2x5cGhzKG51bUdseXBocywgZHluYW1pY0xheW91dFZlcnRleEFycmF5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1RleHQpIHtcbiAgICAgICAgYnVja2V0LnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgICAgIGlmIChnbG9iZUV4dFZlcnRleEFycmF5KSB7XG4gICAgICAgICAgICBidWNrZXQudGV4dC5nbG9iZUV4dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGdsb2JlRXh0VmVydGV4QXJyYXkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYnVja2V0Lmljb24uZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgICAgIGlmIChnbG9iZUV4dFZlcnRleEFycmF5KSB7XG4gICAgICAgICAgICBidWNrZXQuaWNvbi5nbG9iZUV4dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGdsb2JlRXh0VmVydGV4QXJyYXkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwbGFjZUZpcnN0QW5kTGFzdEdseXBoKFxuICAgIGZvbnRTY2FsZTogbnVtYmVyLFxuICAgIGdseXBoT2Zmc2V0QXJyYXk6IEdseXBoT2Zmc2V0QXJyYXksXG4gICAgbGluZU9mZnNldFg6IG51bWJlcixcbiAgICBsaW5lT2Zmc2V0WTogbnVtYmVyLFxuICAgIGZsaXA6IGJvb2xlYW4sXG4gICAgYW5jaG9yUG9pbnQ6IFZlYzMsXG4gICAgdGlsZUFuY2hvclBvaW50OiBQb2ludCxcbiAgICBzeW1ib2w6IFBsYWNlZFN5bWJvbCxcbiAgICBsaW5lVmVydGV4QXJyYXk6IFN5bWJvbExpbmVWZXJ0ZXhBcnJheSxcbiAgICBsYWJlbFBsYW5lTWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgcHJvamVjdGlvbkNhY2hlOiBQcm9qZWN0aW9uQ2FjaGUsXG4gICAgZ2V0RWxldmF0aW9uOiA/KChwOiBQb2ludCkgPT4gQXJyYXk8bnVtYmVyPiksXG4gICAgcmV0dXJuUGF0aEluVGlsZUNvb3JkczogP2Jvb2xlYW4sXG4gICAgcHJvamVjdGlvbjogUHJvamVjdGlvbixcbiAgICB0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsXG4gICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuKTogbnVsbCB8IHt8Zmlyc3Q6IFBsYWNlZEdseXBoLCBsYXN0OiBQbGFjZWRHbHlwaHx9IHtcblxuICAgIGNvbnN0IHtsaW5lU3RhcnRJbmRleCwgZ2x5cGhTdGFydEluZGV4LCBzZWdtZW50fSA9IHN5bWJvbDtcbiAgICBjb25zdCBnbHlwaEVuZEluZGV4ID0gZ2x5cGhTdGFydEluZGV4ICsgc3ltYm9sLm51bUdseXBocztcbiAgICBjb25zdCBsaW5lRW5kSW5kZXggPSBsaW5lU3RhcnRJbmRleCArIHN5bWJvbC5saW5lTGVuZ3RoO1xuXG4gICAgY29uc3QgZmlyc3RHbHlwaE9mZnNldCA9IGdseXBoT2Zmc2V0QXJyYXkuZ2V0b2Zmc2V0WChnbHlwaFN0YXJ0SW5kZXgpO1xuICAgIGNvbnN0IGxhc3RHbHlwaE9mZnNldCA9IGdseXBoT2Zmc2V0QXJyYXkuZ2V0b2Zmc2V0WChnbHlwaEVuZEluZGV4IC0gMSk7XG5cbiAgICBjb25zdCBmaXJzdFBsYWNlZEdseXBoID0gcGxhY2VHbHlwaEFsb25nTGluZShmb250U2NhbGUgKiBmaXJzdEdseXBoT2Zmc2V0LCBsaW5lT2Zmc2V0WCwgbGluZU9mZnNldFksIGZsaXAsIGFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHNlZ21lbnQsXG4gICAgICAgIGxpbmVTdGFydEluZGV4LCBsaW5lRW5kSW5kZXgsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCBnZXRFbGV2YXRpb24sIHJldHVyblBhdGhJblRpbGVDb29yZHMsIHRydWUsIHByb2plY3Rpb24sIHRpbGVJRCwgcGl0Y2hXaXRoTWFwKTtcbiAgICBpZiAoIWZpcnN0UGxhY2VkR2x5cGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgbGFzdFBsYWNlZEdseXBoID0gcGxhY2VHbHlwaEFsb25nTGluZShmb250U2NhbGUgKiBsYXN0R2x5cGhPZmZzZXQsIGxpbmVPZmZzZXRYLCBsaW5lT2Zmc2V0WSwgZmxpcCwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgc2VnbWVudCxcbiAgICAgICAgbGluZVN0YXJ0SW5kZXgsIGxpbmVFbmRJbmRleCwgbGluZVZlcnRleEFycmF5LCBsYWJlbFBsYW5lTWF0cml4LCBwcm9qZWN0aW9uQ2FjaGUsIGdldEVsZXZhdGlvbiwgcmV0dXJuUGF0aEluVGlsZUNvb3JkcywgdHJ1ZSwgcHJvamVjdGlvbiwgdGlsZUlELCBwaXRjaFdpdGhNYXApO1xuICAgIGlmICghbGFzdFBsYWNlZEdseXBoKVxuICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB7Zmlyc3Q6IGZpcnN0UGxhY2VkR2x5cGgsIGxhc3Q6IGxhc3RQbGFjZWRHbHlwaH07XG59XG5cbi8vIENoZWNrIGluIHRoZSBnbENvb3JkaW5hdGUgc3BhY2UsIHRoZSByb3VnaCBlc3RpbWF0aW9uIG9mIGFuZ2xlIGJldHdlZW4gdGhlIHRleHQgbGluZSBhbmQgdGhlIFkgYXhpcy5cbi8vIElmIHRoZSBhbmdsZSBpZiBsZXNzIG9yIGVxdWFsIHRvIDUgZGVncmVlLCB0aGVuIGtlZXAgdGhlIHRleHQgZ2x5cGhzIHVuZmxpcHBlZCBldmVuIGlmIGl0IGlzIHJlcXVpcmVkLlxuZnVuY3Rpb24gaXNJbkZsaXBSZXRhaW5SYW5nZShkeCwgZHkpIHtcbiAgICByZXR1cm4gZHggPT09IDAgfHwgTWF0aC5hYnMoZHkgLyBkeCkgPiBtYXhUYW5nZW50O1xufVxuXG5mdW5jdGlvbiByZXF1aXJlc09yaWVudGF0aW9uQ2hhbmdlKHdyaXRpbmdNb2RlLCBmbGlwU3RhdGUsIGR4LCBkeSkge1xuICAgIGlmICh3cml0aW5nTW9kZSA9PT0gV3JpdGluZ01vZGUuaG9yaXpvbnRhbCAmJiBNYXRoLmFicyhkeSkgPiBNYXRoLmFicyhkeCkpIHtcbiAgICAgICAgLy8gT24gdG9wIG9mIGNob29zaW5nIHdoZXRoZXIgdG8gZmxpcCwgY2hvb3NlIHdoZXRoZXIgdG8gcmVuZGVyIHRoaXMgdmVyc2lvbiBvZiB0aGUgZ2x5cGhzIG9yIHRoZSBhbHRlcm5hdGVcbiAgICAgICAgLy8gdmVydGljYWwgZ2x5cGhzLiBXZSBjYW4ndCBqdXN0IGZpbHRlciBvdXQgdmVydGljYWwgZ2x5cGhzIGluIHRoZSBob3Jpem9udGFsIHJhbmdlIGJlY2F1c2UgdGhlIGhvcml6b250YWxcbiAgICAgICAgLy8gYW5kIHZlcnRpY2FsIHZlcnNpb25zIGNhbiBoYXZlIHNsaWdodGx5IGRpZmZlcmVudCBwcm9qZWN0aW9ucyB3aGljaCBjb3VsZCBsZWFkIHRvIGFuZ2xlcyB3aGVyZSBib3RoIG9yXG4gICAgICAgIC8vIG5laXRoZXIgc2hvd2VkLlxuICAgICAgICByZXR1cm4ge3VzZVZlcnRpY2FsOiB0cnVlfTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgaWYgZmxpcHBpbmcgaXMgcmVxdWlyZWQgZm9yIFwidmVydGljYWxPbmx5XCIgY2FzZS5cbiAgICBpZiAod3JpdGluZ01vZGUgPT09IFdyaXRpbmdNb2RlLnZlcnRpY2FsKSB7XG4gICAgICAgIHJldHVybiBkeSA+IDAgPyB7bmVlZHNGbGlwcGluZzogdHJ1ZX0gOiBudWxsO1xuICAgIH1cblxuICAgIC8vIHN5bWJvbCdzIGZsaXBTdGF0ZSBzdG9yZXMgdGhlIGZsaXAgZGVjaXNpb24gZnJvbSB0aGUgcHJldmlvdXMgZnJhbWUsIGFuZCB0aGF0XG4gICAgLy8gZGVjaXNpb24gaXMgcmV1c2VkIHdoZW4gdGhlIHN5bWJvbCBpcyBpbiB0aGUgcmV0YWluIHJhbmdlLlxuICAgIGlmIChmbGlwU3RhdGUgIT09IEZsaXBTdGF0ZS51bmtub3duICYmIGlzSW5GbGlwUmV0YWluUmFuZ2UoZHgsIGR5KSkge1xuICAgICAgICByZXR1cm4gKGZsaXBTdGF0ZSA9PT0gRmxpcFN0YXRlLmZsaXBSZXF1aXJlZCkgPyB7bmVlZHNGbGlwcGluZzogdHJ1ZX0gOiBudWxsO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGZsaXBwaW5nIGlzIHJlcXVpcmVkIGZvciBcImhvcml6b250YWxcIiBjYXNlLlxuICAgIHJldHVybiBkeCA8IDAgPyB7bmVlZHNGbGlwcGluZzogdHJ1ZX0gOiBudWxsO1xufVxuXG5mdW5jdGlvbiBwbGFjZUdseXBoc0Fsb25nTGluZShzeW1ib2wsIGZvbnRTaXplLCBmbGlwLCBrZWVwVXByaWdodCwgcG9zTWF0cml4LCBsYWJlbFBsYW5lTWF0cml4LCBnbENvb3JkTWF0cml4LCBnbHlwaE9mZnNldEFycmF5LCBsaW5lVmVydGV4QXJyYXksIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgZ2xvYmVFeHRWZXJ0ZXhBcnJheSwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgcHJvamVjdGlvbkNhY2hlLCBhc3BlY3RSYXRpbywgZ2V0RWxldmF0aW9uLCBwcm9qZWN0aW9uLCB0aWxlSUQsIHBpdGNoV2l0aE1hcCk6IFBsYWNlbWVudFN0YXR1cyB7XG4gICAgY29uc3QgZm9udFNjYWxlID0gZm9udFNpemUgLyAyNDtcbiAgICBjb25zdCBsaW5lT2Zmc2V0WCA9IHN5bWJvbC5saW5lT2Zmc2V0WCAqIGZvbnRTY2FsZTtcbiAgICBjb25zdCBsaW5lT2Zmc2V0WSA9IHN5bWJvbC5saW5lT2Zmc2V0WSAqIGZvbnRTY2FsZTtcbiAgICBjb25zdCB7bGluZVN0YXJ0SW5kZXgsIGdseXBoU3RhcnRJbmRleCwgbnVtR2x5cGhzLCBzZWdtZW50LCB3cml0aW5nTW9kZSwgZmxpcFN0YXRlfSA9IHN5bWJvbDtcbiAgICBjb25zdCBsaW5lRW5kSW5kZXggPSBsaW5lU3RhcnRJbmRleCArIHN5bWJvbC5saW5lTGVuZ3RoO1xuXG4gICAgY29uc3QgYWRkR2x5cGggPSAoZ2x5cGg6IFBsYWNlZEdseXBoKSA9PiB7XG4gICAgICAgIGlmIChnbG9iZUV4dFZlcnRleEFycmF5KSB7XG4gICAgICAgICAgICBjb25zdCBbdXgsIHV5LCB1el0gPSBnbHlwaC51cDtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGg7XG4gICAgICAgICAgICB1cGRhdGVHbG9iZVZlcnRleE5vcm1hbChnbG9iZUV4dFZlcnRleEFycmF5LCBvZmZzZXQgKyAwLCB1eCwgdXksIHV6KTtcbiAgICAgICAgICAgIHVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsKGdsb2JlRXh0VmVydGV4QXJyYXksIG9mZnNldCArIDEsIHV4LCB1eSwgdXopO1xuICAgICAgICAgICAgdXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWwoZ2xvYmVFeHRWZXJ0ZXhBcnJheSwgb2Zmc2V0ICsgMiwgdXgsIHV5LCB1eik7XG4gICAgICAgICAgICB1cGRhdGVHbG9iZVZlcnRleE5vcm1hbChnbG9iZUV4dFZlcnRleEFycmF5LCBvZmZzZXQgKyAzLCB1eCwgdXksIHV6KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbeCwgeSwgel0gPSBnbHlwaC5wb2ludDtcbiAgICAgICAgYWRkRHluYW1pY0F0dHJpYnV0ZXMoZHluYW1pY0xheW91dFZlcnRleEFycmF5LCB4LCB5LCB6LCBnbHlwaC5hbmdsZSk7XG4gICAgfTtcblxuICAgIGlmIChudW1HbHlwaHMgPiAxKSB7XG4gICAgICAgIC8vIFBsYWNlIHRoZSBmaXJzdCBhbmQgdGhlIGxhc3QgZ2x5cGggaW4gdGhlIGxhYmVsIGZpcnN0LCBzbyB3ZSBjYW4gZmlndXJlIG91dFxuICAgICAgICAvLyB0aGUgb3ZlcmFsbCBvcmllbnRhdGlvbiBvZiB0aGUgbGFiZWwgYW5kIGRldGVybWluZSB3aGV0aGVyIGl0IG5lZWRzIHRvIGJlIGZsaXBwZWQgaW4ga2VlcFVwcmlnaHQgbW9kZVxuICAgICAgICBjb25zdCBmaXJzdEFuZExhc3RHbHlwaCA9IHBsYWNlRmlyc3RBbmRMYXN0R2x5cGgoZm9udFNjYWxlLCBnbHlwaE9mZnNldEFycmF5LCBsaW5lT2Zmc2V0WCwgbGluZU9mZnNldFksIGZsaXAsIGFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHN5bWJvbCwgbGluZVZlcnRleEFycmF5LCBsYWJlbFBsYW5lTWF0cml4LCBwcm9qZWN0aW9uQ2FjaGUsIGdldEVsZXZhdGlvbiwgZmFsc2UsIHByb2plY3Rpb24sIHRpbGVJRCwgcGl0Y2hXaXRoTWFwKTtcbiAgICAgICAgaWYgKCFmaXJzdEFuZExhc3RHbHlwaCkge1xuICAgICAgICAgICAgcmV0dXJuIHtub3RFbm91Z2hSb29tOiB0cnVlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZWVwVXByaWdodCAmJiAhZmxpcCkge1xuICAgICAgICAgICAgbGV0IFt4MCwgeTAsIHowXSA9IGZpcnN0QW5kTGFzdEdseXBoLmZpcnN0LnBvaW50O1xuICAgICAgICAgICAgbGV0IFt4MSwgeTEsIHoxXSA9IGZpcnN0QW5kTGFzdEdseXBoLmxhc3QucG9pbnQ7XG4gICAgICAgICAgICBbeDAsIHkwXSA9IHByb2plY3QoeDAsIHkwLCB6MCwgZ2xDb29yZE1hdHJpeCk7XG4gICAgICAgICAgICBbeDEsIHkxXSA9IHByb2plY3QoeDEsIHkxLCB6MSwgZ2xDb29yZE1hdHJpeCk7XG4gICAgICAgICAgICBjb25zdCBvcmllbnRhdGlvbkNoYW5nZSA9IHJlcXVpcmVzT3JpZW50YXRpb25DaGFuZ2Uod3JpdGluZ01vZGUsIGZsaXBTdGF0ZSwgKHgxIC0geDApICogYXNwZWN0UmF0aW8sIHkxIC0geTApO1xuICAgICAgICAgICAgc3ltYm9sLmZsaXBTdGF0ZSA9IG9yaWVudGF0aW9uQ2hhbmdlICYmIG9yaWVudGF0aW9uQ2hhbmdlLm5lZWRzRmxpcHBpbmcgPyBGbGlwU3RhdGUuZmxpcFJlcXVpcmVkIDogRmxpcFN0YXRlLmZsaXBOb3RSZXF1aXJlZDtcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvbkNoYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGFkZEdseXBoKGZpcnN0QW5kTGFzdEdseXBoLmZpcnN0KTtcbiAgICAgICAgZm9yIChsZXQgZ2x5cGhJbmRleCA9IGdseXBoU3RhcnRJbmRleCArIDE7IGdseXBoSW5kZXggPCBnbHlwaFN0YXJ0SW5kZXggKyBudW1HbHlwaHMgLSAxOyBnbHlwaEluZGV4KyspIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIGZpcnN0IGFuZCBsYXN0IGdseXBoIGZpdCBvbiB0aGUgbGluZSwgdGhlIHJlc3Qgb2YgdGhlIGdseXBocyBjYW4gYmUgcGxhY2VkIHRvbywgYnV0IGNoZWNrIHRvIG1ha2Ugc3VyZVxuICAgICAgICAgICAgY29uc3QgZ2x5cGggPSBwbGFjZUdseXBoQWxvbmdMaW5lKGZvbnRTY2FsZSAqIGdseXBoT2Zmc2V0QXJyYXkuZ2V0b2Zmc2V0WChnbHlwaEluZGV4KSwgbGluZU9mZnNldFgsIGxpbmVPZmZzZXRZLCBmbGlwLCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBzZWdtZW50LFxuICAgICAgICAgICAgICAgIGxpbmVTdGFydEluZGV4LCBsaW5lRW5kSW5kZXgsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCBnZXRFbGV2YXRpb24sIGZhbHNlLCBmYWxzZSwgcHJvamVjdGlvbiwgdGlsZUlELCBwaXRjaFdpdGhNYXApO1xuICAgICAgICAgICAgaWYgKCFnbHlwaCkge1xuICAgICAgICAgICAgICAgIC8vIHVuZG8gcHJldmlvdXMgZ2x5cGhzIG9mIHRoZSBzeW1ib2wgaWYgaXQgZG9lc24ndCBmaXQ7IGl0IHdpbGwgYmUgZmlsbGVkIHdpdGggaGlkZUdseXBocyBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgZHluYW1pY0xheW91dFZlcnRleEFycmF5Lmxlbmd0aCAtPSA0ICogKGdseXBoSW5kZXggLSBnbHlwaFN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7bm90RW5vdWdoUm9vbTogdHJ1ZX07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRHbHlwaChnbHlwaCk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkR2x5cGgoZmlyc3RBbmRMYXN0R2x5cGgubGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT25seSBhIHNpbmdsZSBnbHlwaCB0byBwbGFjZVxuICAgICAgICAvLyBTbywgZGV0ZXJtaW5lIHdoZXRoZXIgdG8gZmxpcCBiYXNlZCBvbiBwcm9qZWN0ZWQgYW5nbGUgb2YgdGhlIGxpbmUgc2VnbWVudCBpdCdzIG9uXG4gICAgICAgIGlmIChrZWVwVXByaWdodCAmJiAhZmxpcCkge1xuICAgICAgICAgICAgY29uc3QgYSA9IHByb2plY3QodGlsZUFuY2hvclBvaW50LngsIHRpbGVBbmNob3JQb2ludC55LCAwLCBwb3NNYXRyaXgpO1xuICAgICAgICAgICAgY29uc3QgdGlsZVZlcnRleEluZGV4ID0gbGluZVN0YXJ0SW5kZXggKyBzZWdtZW50ICsgMTtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVTZWdtZW50RW5kID0gbmV3IFBvaW50KGxpbmVWZXJ0ZXhBcnJheS5nZXR4KHRpbGVWZXJ0ZXhJbmRleCksIGxpbmVWZXJ0ZXhBcnJheS5nZXR5KHRpbGVWZXJ0ZXhJbmRleCkpO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGVkVmVydGV4ID0gcHJvamVjdCh0aWxlU2VnbWVudEVuZC54LCB0aWxlU2VnbWVudEVuZC55LCAwLCBwb3NNYXRyaXgpO1xuICAgICAgICAgICAgLy8gV2Uga25vdyB0aGUgYW5jaG9yIHdpbGwgYmUgaW4gdGhlIHZpZXdwb3J0LCBidXQgdGhlIGVuZCBvZiB0aGUgbGluZSBzZWdtZW50IG1heSBiZVxuICAgICAgICAgICAgLy8gYmVoaW5kIHRoZSBwbGFuZSBvZiB0aGUgY2FtZXJhLCBpbiB3aGljaCBjYXNlIHdlIGNhbiB1c2UgYSBwb2ludCBhdCBhbnkgYXJiaXRyYXJ5IChjbG9zZXIpXG4gICAgICAgICAgICAvLyBwb2ludCBvbiB0aGUgc2VnbWVudC5cbiAgICAgICAgICAgIGNvbnN0IGIgPSAocHJvamVjdGVkVmVydGV4WzNdID4gMCkgP1xuICAgICAgICAgICAgICAgIHByb2plY3RlZFZlcnRleCA6XG4gICAgICAgICAgICAgICAgcHJvamVjdFRydW5jYXRlZExpbmVTZWdtZW50KHRpbGVBbmNob3JQb2ludCwgdGlsZVNlZ21lbnRFbmQsIGEsIDEsIHBvc01hdHJpeCwgdW5kZWZpbmVkLCBwcm9qZWN0aW9uLCB0aWxlSUQuY2Fub25pY2FsKTtcblxuICAgICAgICAgICAgY29uc3Qgb3JpZW50YXRpb25DaGFuZ2UgPSByZXF1aXJlc09yaWVudGF0aW9uQ2hhbmdlKHdyaXRpbmdNb2RlLCBmbGlwU3RhdGUsIChiWzBdIC0gYVswXSkgKiBhc3BlY3RSYXRpbywgYlsxXSAtIGFbMV0pO1xuICAgICAgICAgICAgc3ltYm9sLmZsaXBTdGF0ZSA9IG9yaWVudGF0aW9uQ2hhbmdlICYmIG9yaWVudGF0aW9uQ2hhbmdlLm5lZWRzRmxpcHBpbmcgPyBGbGlwU3RhdGUuZmxpcFJlcXVpcmVkIDogRmxpcFN0YXRlLmZsaXBOb3RSZXF1aXJlZDtcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvbkNoYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaW5nbGVHbHlwaCA9IHBsYWNlR2x5cGhBbG9uZ0xpbmUoZm9udFNjYWxlICogZ2x5cGhPZmZzZXRBcnJheS5nZXRvZmZzZXRYKGdseXBoU3RhcnRJbmRleCksIGxpbmVPZmZzZXRYLCBsaW5lT2Zmc2V0WSwgZmxpcCwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgc2VnbWVudCxcbiAgICAgICAgICAgIGxpbmVTdGFydEluZGV4LCBsaW5lRW5kSW5kZXgsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCBnZXRFbGV2YXRpb24sIGZhbHNlLCBmYWxzZSwgcHJvamVjdGlvbiwgdGlsZUlELCBwaXRjaFdpdGhNYXApO1xuICAgICAgICBpZiAoIXNpbmdsZUdseXBoKSB7XG4gICAgICAgICAgICByZXR1cm4ge25vdEVub3VnaFJvb206IHRydWV9O1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkR2x5cGgoc2luZ2xlR2x5cGgpO1xuICAgIH1cbiAgICByZXR1cm4ge307XG59XG5cbmZ1bmN0aW9uIGVsZXZhdGVQb2ludEFuZFByb2plY3QocDogUG9pbnQsIHRpbGVJRDogQ2Fub25pY2FsVGlsZUlELCBwb3NNYXRyaXg6IEZsb2F0MzJBcnJheSwgcHJvamVjdGlvbjogUHJvamVjdGlvbiwgZ2V0RWxldmF0aW9uOiA/KChwOiBQb2ludCkgPT4gQXJyYXk8bnVtYmVyPikpIHtcbiAgICBjb25zdCB7eCwgeSwgen0gPSBwcm9qZWN0aW9uLnByb2plY3RUaWxlUG9pbnQocC54LCBwLnksIHRpbGVJRCk7XG4gICAgaWYgKCFnZXRFbGV2YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHByb2plY3QoeCwgeSwgeiwgcG9zTWF0cml4KTtcbiAgICB9XG4gICAgY29uc3QgW2R4LCBkeSwgZHpdID0gZ2V0RWxldmF0aW9uKHApO1xuICAgIHJldHVybiBwcm9qZWN0KHggKyBkeCwgeSArIGR5LCB6ICsgZHosIHBvc01hdHJpeCk7XG59XG5cbmZ1bmN0aW9uIHByb2plY3RUcnVuY2F0ZWRMaW5lU2VnbWVudChwcmV2aW91c1RpbGVQb2ludDogUG9pbnQsIGN1cnJlbnRUaWxlUG9pbnQ6IFBvaW50LCBwcmV2aW91c1Byb2plY3RlZFBvaW50OiBWZWMzLCBtaW5pbXVtTGVuZ3RoOiBudW1iZXIsIHByb2plY3Rpb25NYXRyaXg6IEZsb2F0MzJBcnJheSwgZ2V0RWxldmF0aW9uOiA/KChwOiBQb2ludCkgPT4gQXJyYXk8bnVtYmVyPiksIHByb2plY3Rpb246IFByb2plY3Rpb24sIHRpbGVJRDogQ2Fub25pY2FsVGlsZUlEKTogVmVjMyB7XG4gICAgLy8gV2UgYXJlIGFzc3VtaW5nIFwicHJldmlvdXNUaWxlUG9pbnRcIiB3b24ndCBwcm9qZWN0IHRvIGEgcG9pbnQgd2l0aGluIG9uZSB1bml0IG9mIHRoZSBjYW1lcmEgcGxhbmVcbiAgICAvLyBJZiBpdCBkaWQsIHRoYXQgd291bGQgbWVhbiBvdXIgbGFiZWwgZXh0ZW5kZWQgYWxsIHRoZSB3YXkgb3V0IGZyb20gd2l0aGluIHRoZSB2aWV3cG9ydCB0byBhICh2ZXJ5IGRpc3RhbnQpXG4gICAgLy8gcG9pbnQgbmVhciB0aGUgcGxhbmUgb2YgdGhlIGNhbWVyYS4gV2Ugd291bGRuJ3QgYmUgYWJsZSB0byByZW5kZXIgdGhlIGxhYmVsIGFueXdheSBvbmNlIGl0IGNyb3NzZWQgdGhlXG4gICAgLy8gcGxhbmUgb2YgdGhlIGNhbWVyYS5cbiAgICBjb25zdCB1bml0VmVydGV4ID0gcHJldmlvdXNUaWxlUG9pbnQuc3ViKGN1cnJlbnRUaWxlUG9pbnQpLl91bml0KCkuX2FkZChwcmV2aW91c1RpbGVQb2ludCk7XG4gICAgY29uc3QgcHJvamVjdGVkVW5pdCA9IGVsZXZhdGVQb2ludEFuZFByb2plY3QodW5pdFZlcnRleCwgdGlsZUlELCBwcm9qZWN0aW9uTWF0cml4LCBwcm9qZWN0aW9uLCBnZXRFbGV2YXRpb24pO1xuICAgIHZlYzMuc3ViKHByb2plY3RlZFVuaXQsIHByZXZpb3VzUHJvamVjdGVkUG9pbnQsIHByb2plY3RlZFVuaXQpO1xuICAgIHZlYzMubm9ybWFsaXplKHByb2plY3RlZFVuaXQsIHByb2plY3RlZFVuaXQpO1xuXG4gICAgcmV0dXJuIHZlYzMuc2NhbGVBbmRBZGQocHJvamVjdGVkVW5pdCwgcHJldmlvdXNQcm9qZWN0ZWRQb2ludCwgcHJvamVjdGVkVW5pdCwgbWluaW11bUxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIHBsYWNlR2x5cGhBbG9uZ0xpbmUoXG4gICAgb2Zmc2V0WDogbnVtYmVyLFxuICAgIGxpbmVPZmZzZXRYOiBudW1iZXIsXG4gICAgbGluZU9mZnNldFk6IG51bWJlcixcbiAgICBmbGlwOiBib29sZWFuLFxuICAgIGFuY2hvclBvaW50OiBWZWMzLFxuICAgIHRpbGVBbmNob3JQb2ludDogUG9pbnQsXG4gICAgYW5jaG9yU2VnbWVudDogbnVtYmVyLFxuICAgIGxpbmVTdGFydEluZGV4OiBudW1iZXIsXG4gICAgbGluZUVuZEluZGV4OiBudW1iZXIsXG4gICAgbGluZVZlcnRleEFycmF5OiBTeW1ib2xMaW5lVmVydGV4QXJyYXksXG4gICAgbGFiZWxQbGFuZU1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIHByb2plY3Rpb25DYWNoZTogUHJvamVjdGlvbkNhY2hlLFxuICAgIGdldEVsZXZhdGlvbjogPygocDogUG9pbnQpID0+IEFycmF5PG51bWJlcj4pLFxuICAgIHJldHVyblBhdGhJblRpbGVDb29yZHM6ID9ib29sZWFuLFxuICAgIGVuZEdseXBoOiA/Ym9vbGVhbixcbiAgICByZXByb2plY3Rpb246IFByb2plY3Rpb24sXG4gICAgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELFxuICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbik6IG51bGwgfCBQbGFjZWRHbHlwaCB7XG5cbiAgICBjb25zdCBjb21iaW5lZE9mZnNldFggPSBmbGlwID9cbiAgICAgICAgb2Zmc2V0WCAtIGxpbmVPZmZzZXRYIDpcbiAgICAgICAgb2Zmc2V0WCArIGxpbmVPZmZzZXRYO1xuXG4gICAgbGV0IGRpciA9IGNvbWJpbmVkT2Zmc2V0WCA+IDAgPyAxIDogLTE7XG5cbiAgICBsZXQgYW5nbGUgPSAwO1xuICAgIGlmIChmbGlwKSB7XG4gICAgICAgIC8vIFRoZSBsYWJlbCBuZWVkcyB0byBiZSBmbGlwcGVkIHRvIGtlZXAgdGV4dCB1cHJpZ2h0LlxuICAgICAgICAvLyBJdGVyYXRlIGluIHRoZSByZXZlcnNlIGRpcmVjdGlvbi5cbiAgICAgICAgZGlyICo9IC0xO1xuICAgICAgICBhbmdsZSA9IE1hdGguUEk7XG4gICAgfVxuXG4gICAgaWYgKGRpciA8IDApIGFuZ2xlICs9IE1hdGguUEk7XG5cbiAgICBsZXQgY3VycmVudEluZGV4ID0gbGluZVN0YXJ0SW5kZXggKyBhbmNob3JTZWdtZW50ICsgKGRpciA+IDAgPyAwIDogMSkgfCAwO1xuICAgIGxldCBjdXJyZW50ID0gYW5jaG9yUG9pbnQ7XG4gICAgbGV0IHByZXYgPSBhbmNob3JQb2ludDtcbiAgICBsZXQgZGlzdGFuY2VUb1ByZXYgPSAwO1xuICAgIGxldCBjdXJyZW50U2VnbWVudERpc3RhbmNlID0gMDtcbiAgICBjb25zdCBhYnNPZmZzZXRYID0gTWF0aC5hYnMoY29tYmluZWRPZmZzZXRYKTtcbiAgICBjb25zdCBwYXRoVmVydGljZXMgPSBbXTtcbiAgICBjb25zdCB0aWxlUGF0aCA9IFtdO1xuICAgIGxldCBjdXJyZW50VmVydGV4ID0gdGlsZUFuY2hvclBvaW50O1xuICAgIGxldCBwcmV2VmVydGV4ID0gY3VycmVudFZlcnRleDtcblxuICAgIGNvbnN0IGdldFRydW5jYXRlZExpbmVTZWdtZW50ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvamVjdFRydW5jYXRlZExpbmVTZWdtZW50KHByZXZWZXJ0ZXgsIGN1cnJlbnRWZXJ0ZXgsIHByZXYsIGFic09mZnNldFggLSBkaXN0YW5jZVRvUHJldiArIDEsIGxhYmVsUGxhbmVNYXRyaXgsIGdldEVsZXZhdGlvbiwgcmVwcm9qZWN0aW9uLCB0aWxlSUQuY2Fub25pY2FsKTtcbiAgICB9O1xuXG4gICAgd2hpbGUgKGRpc3RhbmNlVG9QcmV2ICsgY3VycmVudFNlZ21lbnREaXN0YW5jZSA8PSBhYnNPZmZzZXRYKSB7XG4gICAgICAgIGN1cnJlbnRJbmRleCArPSBkaXI7XG5cbiAgICAgICAgLy8gb2Zmc2V0IGRvZXMgbm90IGZpdCBvbiB0aGUgcHJvamVjdGVkIGxpbmVcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA8IGxpbmVTdGFydEluZGV4IHx8IGN1cnJlbnRJbmRleCA+PSBsaW5lRW5kSW5kZXgpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBwcmV2ID0gY3VycmVudDtcbiAgICAgICAgcHJldlZlcnRleCA9IGN1cnJlbnRWZXJ0ZXg7XG5cbiAgICAgICAgcGF0aFZlcnRpY2VzLnB1c2gocHJldik7XG4gICAgICAgIGlmIChyZXR1cm5QYXRoSW5UaWxlQ29vcmRzKSB0aWxlUGF0aC5wdXNoKHByZXZWZXJ0ZXgpO1xuXG4gICAgICAgIGN1cnJlbnRWZXJ0ZXggPSBuZXcgUG9pbnQobGluZVZlcnRleEFycmF5LmdldHgoY3VycmVudEluZGV4KSwgbGluZVZlcnRleEFycmF5LmdldHkoY3VycmVudEluZGV4KSk7XG4gICAgICAgIGN1cnJlbnQgPSBwcm9qZWN0aW9uQ2FjaGVbY3VycmVudEluZGV4XTtcbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gZWxldmF0ZVBvaW50QW5kUHJvamVjdChjdXJyZW50VmVydGV4LCB0aWxlSUQuY2Fub25pY2FsLCBsYWJlbFBsYW5lTWF0cml4LCByZXByb2plY3Rpb24sIGdldEVsZXZhdGlvbik7XG4gICAgICAgICAgICBpZiAocHJvamVjdGlvblszXSA+IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gcHJvamVjdGlvbkNhY2hlW2N1cnJlbnRJbmRleF0gPSBwcm9qZWN0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgdmVydGV4IGlzIGJlaGluZCB0aGUgcGxhbmUgb2YgdGhlIGNhbWVyYSwgc28gd2UgY2FuJ3QgcHJvamVjdCBpdFxuICAgICAgICAgICAgICAgIC8vIEluc3RlYWQsIHdlJ2xsIGNyZWF0ZSBhIHZlcnRleCBhbG9uZyB0aGUgbGluZSB0aGF0J3MgZmFyIGVub3VnaCB0byBpbmNsdWRlIHRoZSBnbHlwaFxuICAgICAgICAgICAgICAgIC8vIERvbid0IGNhY2hlIGJlY2F1c2UgdGhlIG5ldyB2ZXJ0ZXggbWlnaHQgbm90IGJlIGZhciBlbm91Z2ggb3V0IGZvciBmdXR1cmUgZ2x5cGhzIG9uIHRoZSBzYW1lIHNlZ21lbnRcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gZ2V0VHJ1bmNhdGVkTGluZVNlZ21lbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3RhbmNlVG9QcmV2ICs9IGN1cnJlbnRTZWdtZW50RGlzdGFuY2U7XG4gICAgICAgIGN1cnJlbnRTZWdtZW50RGlzdGFuY2UgPSB2ZWMzLmRpc3RhbmNlKHByZXYsIGN1cnJlbnQpO1xuICAgIH1cblxuICAgIGlmIChlbmRHbHlwaCAmJiBnZXRFbGV2YXRpb24pIHtcbiAgICAgICAgLy8gRm9yIHRlcnJhaW4sIGFsd2F5cyB0cnVuY2F0ZSBlbmQgcG9pbnRzIGluIG9yZGVyIHRvIGhhbmRsZSB0ZXJyYWluIGN1cnZhdHVyZS5cbiAgICAgICAgLy8gSWYgcHJldmlvdXNseSB0cnVuY2F0ZWQsIG9uIHNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYSA8IDAsIGRvbid0IGRvIGl0LlxuICAgICAgICAvLyBDYWNoZSBhcyBlbmQgcG9pbnQuIFRoZSBjYWNoZSBpcyBjbGVhcmVkIGlmIHRoZXJlIGlzIG5lZWQgZm9yIGZsaXBwaW5nIGluIHVwZGF0ZUxpbmVMYWJlbHMuXG4gICAgICAgIGlmIChwcm9qZWN0aW9uQ2FjaGVbY3VycmVudEluZGV4XSkge1xuICAgICAgICAgICAgY3VycmVudCA9IGdldFRydW5jYXRlZExpbmVTZWdtZW50KCk7XG4gICAgICAgICAgICBjdXJyZW50U2VnbWVudERpc3RhbmNlID0gdmVjMy5kaXN0YW5jZShwcmV2LCBjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICBwcm9qZWN0aW9uQ2FjaGVbY3VycmVudEluZGV4XSA9IGN1cnJlbnQ7XG4gICAgfVxuXG4gICAgLy8gVGhlIHBvaW50IGlzIG9uIHRoZSBjdXJyZW50IHNlZ21lbnQuIEludGVycG9sYXRlIHRvIGZpbmQgaXQuIENvbXB1dGUgcG9pbnRzIG9uIGJvdGggbGFiZWwgcGxhbmUgYW5kIHRpbGUgc3BhY2VcbiAgICBjb25zdCBzZWdtZW50SW50ZXJwb2xhdGlvblQgPSAoYWJzT2Zmc2V0WCAtIGRpc3RhbmNlVG9QcmV2KSAvIGN1cnJlbnRTZWdtZW50RGlzdGFuY2U7XG4gICAgY29uc3QgdGlsZVBvaW50ID0gY3VycmVudFZlcnRleC5zdWIocHJldlZlcnRleCkuX211bHQoc2VnbWVudEludGVycG9sYXRpb25UKS5fYWRkKHByZXZWZXJ0ZXgpO1xuICAgIGNvbnN0IHByZXZUb0N1cnJlbnQgPSB2ZWMzLnN1YihbXSwgY3VycmVudCwgcHJldik7XG4gICAgY29uc3QgbGFiZWxQbGFuZVBvaW50ID0gdmVjMy5zY2FsZUFuZEFkZChbXSwgcHJldiwgcHJldlRvQ3VycmVudCwgc2VnbWVudEludGVycG9sYXRpb25UKTtcblxuICAgIGxldCBheGlzWjogVmVjMyA9IFswLCAwLCAxXTtcbiAgICBsZXQgZGlmZlggPSBwcmV2VG9DdXJyZW50WzBdO1xuICAgIGxldCBkaWZmWSA9IHByZXZUb0N1cnJlbnRbMV07XG5cbiAgICBpZiAocGl0Y2hXaXRoTWFwKSB7XG4gICAgICAgIGF4aXNaID0gcmVwcm9qZWN0aW9uLnVwVmVjdG9yKHRpbGVJRC5jYW5vbmljYWwsIHRpbGVQb2ludC54LCB0aWxlUG9pbnQueSk7XG5cbiAgICAgICAgaWYgKGF4aXNaWzBdICE9PSAwIHx8IGF4aXNaWzFdICE9PSAwIHx8IGF4aXNaWzJdICE9PSAxKSB7XG4gICAgICAgICAgICAvLyBDb21wdXRlIGNvb3JkaW5hdGUgZnJhbWUgdGhhdCBpcyBhbGlnbmVkIHRvIHRoZSB0YW5nZW50IG9mIHRoZSBzdXJmYWNlXG4gICAgICAgICAgICBjb25zdCBheGlzWCA9IFtheGlzWlsyXSwgMCwgLWF4aXNaWzBdXTtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNZID0gdmVjMy5jcm9zcyhbXSwgYXhpc1osIGF4aXNYKTtcbiAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKGF4aXNYLCBheGlzWCk7XG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShheGlzWSwgYXhpc1kpO1xuICAgICAgICAgICAgZGlmZlggPSB2ZWMzLmRvdChwcmV2VG9DdXJyZW50LCBheGlzWCk7XG4gICAgICAgICAgICBkaWZmWSA9IHZlYzMuZG90KHByZXZUb0N1cnJlbnQsIGF4aXNZKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIG9mZnNldCB0aGUgcG9pbnQgZnJvbSB0aGUgbGluZSB0byB0ZXh0LW9mZnNldCBhbmQgaWNvbi1vZmZzZXRcbiAgICBpZiAobGluZU9mZnNldFkpIHtcbiAgICAgICAgLy8gRmluZCBhIGNvb3JkaW5hdGUgZnJhbWUgZm9yIHRoZSB2ZXJ0aWNhbCBvZmZzZXRcbiAgICAgICAgY29uc3Qgb2Zmc2V0RGlyID0gdmVjMy5jcm9zcyhbXSwgYXhpc1osIHByZXZUb0N1cnJlbnQpO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShvZmZzZXREaXIsIG9mZnNldERpcik7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobGFiZWxQbGFuZVBvaW50LCBsYWJlbFBsYW5lUG9pbnQsIG9mZnNldERpciwgbGluZU9mZnNldFkgKiBkaXIpO1xuICAgIH1cblxuICAgIGNvbnN0IHNlZ21lbnRBbmdsZSA9IGFuZ2xlICsgTWF0aC5hdGFuMihkaWZmWSwgZGlmZlgpO1xuXG4gICAgcGF0aFZlcnRpY2VzLnB1c2gobGFiZWxQbGFuZVBvaW50KTtcbiAgICBpZiAocmV0dXJuUGF0aEluVGlsZUNvb3Jkcykge1xuICAgICAgICB0aWxlUGF0aC5wdXNoKHRpbGVQb2ludCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9pbnQ6IGxhYmVsUGxhbmVQb2ludCxcbiAgICAgICAgYW5nbGU6IHNlZ21lbnRBbmdsZSxcbiAgICAgICAgcGF0aDogcGF0aFZlcnRpY2VzLFxuICAgICAgICB0aWxlUGF0aCxcbiAgICAgICAgdXA6IGF4aXNaXG4gICAgfTtcbn1cblxuLy8gSGlkZSB0aGVtIGJ5IG1vdmluZyB0aGVtIG9mZnNjcmVlbi4gV2Ugc3RpbGwgbmVlZCB0byBhZGQgdGhlbSB0byB0aGUgYnVmZmVyXG4vLyBiZWNhdXNlIHRoZSBkeW5hbWljIGJ1ZmZlciBpcyBwYWlyZWQgd2l0aCBhIHN0YXRpYyBidWZmZXIgdGhhdCBkb2Vzbid0IGdldCB1cGRhdGVkLlxuZnVuY3Rpb24gaGlkZUdseXBocyhudW06IG51bWJlciwgZHluYW1pY0xheW91dFZlcnRleEFycmF5OiBTeW1ib2xEeW5hbWljTGF5b3V0QXJyYXkpIHtcbiAgICBjb25zdCBvZmZzZXQgPSBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoO1xuICAgIGNvbnN0IGVuZCA9IG9mZnNldCArIDQgKiBudW07XG4gICAgZHluYW1pY0xheW91dFZlcnRleEFycmF5LnJlc2l6ZShlbmQpO1xuICAgIC8vIFNpbmNlIGFsbCBoaWRkZW4gZ2x5cGhzIGhhdmUgdGhlIHNhbWUgYXR0cmlidXRlcywgd2UgY2FuIGJ1aWxkIHVwIHRoZSBhcnJheSBmYXN0ZXIgd2l0aCBhIHNpbmdsZSBjYWxsIHRvXG4gICAgLy8gRmxvYXQzMkFycmF5LmZpbGwgZm9yIGFsbCB2ZXJ0aWNlcywgaW5zdGVhZCBvZiBjYWxsaW5nIGFkZER5bmFtaWNBdHRyaWJ1dGVzIGZvciBlYWNoIHZlcnRleC5cbiAgICBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkuZmxvYXQzMi5maWxsKC1JbmZpbml0eSwgb2Zmc2V0ICogNCwgZW5kICogNCk7XG59XG5cbi8vIEZvciBsaW5lIGxhYmVsIGxheW91dCwgd2UncmUgbm90IHVzaW5nIHogb3V0cHV0IGFuZCBvdXIgdyBpbnB1dCBpcyBhbHdheXMgMVxuLy8gVGhpcyBjdXN0b20gbWF0cml4IHRyYW5zZm9ybWF0aW9uIGlnbm9yZXMgdGhvc2UgY29tcG9uZW50cyB0byBtYWtlIHByb2plY3Rpb24gZmFzdGVyXG5mdW5jdGlvbiB4eVRyYW5zZm9ybU1hdDQob3V0OiBWZWM0LCBhOiBWZWM0LCBtOiBNYXQ0KTogVmVjNCB7XG4gICAgY29uc3QgeCA9IGFbMF0sIHkgPSBhWzFdO1xuICAgIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzEyXTtcbiAgICBvdXRbMV0gPSBtWzFdICogeCArIG1bNV0gKiB5ICsgbVsxM107XG4gICAgb3V0WzNdID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTVdO1xuICAgIHJldHVybiBvdXQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgY2xpcExpbmUgZnJvbSAnLi9jbGlwX2xpbmUuanMnO1xuaW1wb3J0IFBhdGhJbnRlcnBvbGF0b3IgZnJvbSAnLi9wYXRoX2ludGVycG9sYXRvci5qcyc7XG5pbXBvcnQgKiBhcyBpbnRlcnNlY3Rpb25UZXN0cyBmcm9tICcuLi91dGlsL2ludGVyc2VjdGlvbl90ZXN0cy5qcyc7XG5pbXBvcnQgR3JpZCBmcm9tICcuL2dyaWRfaW5kZXguanMnO1xuaW1wb3J0IHttYXQ0LCB2ZWM0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IE9ORV9FTSBmcm9tICcuLi9zeW1ib2wvb25lX2VtLmpzJztcbmltcG9ydCB7Rk9HX1NZTUJPTF9DTElQUElOR19USFJFU0hPTEQsIGdldEZvZ09wYWNpdHlBdFRpbGVDb29yZH0gZnJvbSAnLi4vc3R5bGUvZm9nX2hlbHBlcnMuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgKiBhcyBzeW1ib2xQcm9qZWN0aW9uIGZyb20gJy4uL3N5bWJvbC9wcm9qZWN0aW9uLmpzJztcblxuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHR5cGUgUHJvamVjdGlvbiBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9wcm9qZWN0aW9uLmpzJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCwge1NpbmdsZUNvbGxpc2lvbkJveH0gZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldC5qcyc7XG5pbXBvcnQgdHlwZSB7R2x5cGhPZmZzZXRBcnJheSwgU3ltYm9sTGluZVZlcnRleEFycmF5LCBQbGFjZWRTeW1ib2x9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMuanMnO1xuaW1wb3J0IHR5cGUge0ZvZ1N0YXRlfSBmcm9tICcuLi9zdHlsZS9mb2dfaGVscGVycy5qcyc7XG5pbXBvcnQgdHlwZSB7VmVjMywgTWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcblxuZXhwb3J0IHR5cGUgUGxhY2VkQ29sbGlzaW9uQm94ID0ge3xcbiAgICBib3g6IEFycmF5PG51bWJlcj4sXG4gICAgb2Zmc2NyZWVuOiBib29sZWFuLFxuICAgIG9jY2x1ZGVkOiBib29sZWFuXG58fTtcbnR5cGUgUGxhY2VkQ29sbGlzaW9uQ2lyY2xlcyA9IHt8XG4gICAgY2lyY2xlczogQXJyYXk8bnVtYmVyPixcbiAgICBvZmZzY3JlZW46IGJvb2xlYW4sXG4gICAgY29sbGlzaW9uRGV0ZWN0ZWQ6IGJvb2xlYW4sXG4gICAgb2NjbHVkZWQ6IGJvb2xlYW5cbnx9O1xudHlwZSBTY3JlZW5BbmNob3JQb2ludCA9IHt8XG4gIG9jY2x1ZGVkOiBib29sZWFuLFxuICBwZXJzcGVjdGl2ZVJhdGlvOiBudW1iZXIsXG4gIHBvaW50OiBQb2ludCxcbiAgc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOiBudW1iZXIsXG58fTtcblxuLy8gV2hlbiBhIHN5bWJvbCBjcm9zc2VzIHRoZSBlZGdlIHRoYXQgY2F1c2VzIGl0IHRvIGJlIGluY2x1ZGVkIGluXG4vLyBjb2xsaXNpb24gZGV0ZWN0aW9uLCBpdCB3aWxsIGNhdXNlIGNoYW5nZXMgaW4gdGhlIHN5bWJvbHMgYXJvdW5kXG4vLyBpdC4gVGhpcyBjb25zdGFudCBzcGVjaWZpZXMgaG93IG1hbnkgcGl4ZWxzIHRvIHBhZCB0aGUgZWRnZSBvZlxuLy8gdGhlIHZpZXdwb3J0IGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uIHNvIHRoYXQgdGhlIGJ1bGsgb2YgdGhlIGNoYW5nZXNcbi8vIG9jY3VyIG9mZnNjcmVlbi4gTWFraW5nIHRoaXMgY29uc3RhbnQgZ3JlYXRlciBpbmNyZWFzZXMgbGFiZWxcbi8vIHN0YWJpbGl0eSwgYnV0IGl0J3MgZXhwZW5zaXZlLlxuY29uc3Qgdmlld3BvcnRQYWRkaW5nID0gMTAwO1xuXG4vKipcbiAqIEEgY29sbGlzaW9uIGluZGV4IHVzZWQgdG8gcHJldmVudCBzeW1ib2xzIGZyb20gb3ZlcmxhcHBpbmcuIEl0IGtlZXAgdHJhY2tzIG9mXG4gKiB3aGVyZSBwcmV2aW91cyBzeW1ib2xzIGhhdmUgYmVlbiBwbGFjZWQgYW5kIGlzIHVzZWQgdG8gY2hlY2sgaWYgYSBuZXdcbiAqIHN5bWJvbCBvdmVybGFwcyB3aXRoIGFueSBwcmV2aW91c2x5IGFkZGVkIHN5bWJvbHMuXG4gKlxuICogVGhlcmUgYXJlIHR3byBzdGVwcyB0byBpbnNlcnRpb246IGZpcnN0IHBsYWNlQ29sbGlzaW9uQm94L0NpcmNsZXMgY2hlY2tzIGlmXG4gKiB0aGVyZSdzIHJvb20gZm9yIGEgc3ltYm9sLCB0aGVuIGluc2VydENvbGxpc2lvbkJveC9DaXJjbGVzIGFjdHVhbGx5IHB1dHMgdGhlXG4gKiBzeW1ib2wgaW4gdGhlIGluZGV4LiBUaGUgdHdvIHN0ZXAgcHJvY2VzcyBhbGxvd3MgcGFpcmVkIHN5bWJvbHMgdG8gYmUgaW5zZXJ0ZWRcbiAqIHRvZ2V0aGVyIGV2ZW4gaWYgdGhleSBvdmVybGFwLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIENvbGxpc2lvbkluZGV4IHtcbiAgICBncmlkOiBHcmlkO1xuICAgIGlnbm9yZWRHcmlkOiBHcmlkO1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIHBpdGNoZmFjdG9yOiBudW1iZXI7XG4gICAgc2NyZWVuUmlnaHRCb3VuZGFyeTogbnVtYmVyO1xuICAgIHNjcmVlbkJvdHRvbUJvdW5kYXJ5OiBudW1iZXI7XG4gICAgZ3JpZFJpZ2h0Qm91bmRhcnk6IG51bWJlcjtcbiAgICBncmlkQm90dG9tQm91bmRhcnk6IG51bWJlcjtcbiAgICBmb2dTdGF0ZTogP0ZvZ1N0YXRlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtLFxuICAgICAgICBmb2dTdGF0ZTogP0ZvZ1N0YXRlLFxuICAgICAgICBncmlkOiBHcmlkID0gbmV3IEdyaWQodHJhbnNmb3JtLndpZHRoICsgMiAqIHZpZXdwb3J0UGFkZGluZywgdHJhbnNmb3JtLmhlaWdodCArIDIgKiB2aWV3cG9ydFBhZGRpbmcsIDI1KSxcbiAgICAgICAgaWdub3JlZEdyaWQ6IEdyaWQgPSBuZXcgR3JpZCh0cmFuc2Zvcm0ud2lkdGggKyAyICogdmlld3BvcnRQYWRkaW5nLCB0cmFuc2Zvcm0uaGVpZ2h0ICsgMiAqIHZpZXdwb3J0UGFkZGluZywgMjUpXG4gICAgKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuXG4gICAgICAgIHRoaXMuZ3JpZCA9IGdyaWQ7XG4gICAgICAgIHRoaXMuaWdub3JlZEdyaWQgPSBpZ25vcmVkR3JpZDtcbiAgICAgICAgdGhpcy5waXRjaGZhY3RvciA9IE1hdGguY29zKHRyYW5zZm9ybS5fcGl0Y2gpICogdHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U7XG5cbiAgICAgICAgdGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5ID0gdHJhbnNmb3JtLndpZHRoICsgdmlld3BvcnRQYWRkaW5nO1xuICAgICAgICB0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5ID0gdHJhbnNmb3JtLmhlaWdodCArIHZpZXdwb3J0UGFkZGluZztcbiAgICAgICAgdGhpcy5ncmlkUmlnaHRCb3VuZGFyeSA9IHRyYW5zZm9ybS53aWR0aCArIDIgKiB2aWV3cG9ydFBhZGRpbmc7XG4gICAgICAgIHRoaXMuZ3JpZEJvdHRvbUJvdW5kYXJ5ID0gdHJhbnNmb3JtLmhlaWdodCArIDIgKiB2aWV3cG9ydFBhZGRpbmc7XG4gICAgICAgIHRoaXMuZm9nU3RhdGUgPSBmb2dTdGF0ZTtcbiAgICB9XG5cbiAgICBwbGFjZUNvbGxpc2lvbkJveChidWNrZXQ6IFN5bWJvbEJ1Y2tldCwgc2NhbGU6IG51bWJlciwgY29sbGlzaW9uQm94OiBTaW5nbGVDb2xsaXNpb25Cb3gsIHNoaWZ0OiBQb2ludCwgYWxsb3dPdmVybGFwOiBib29sZWFuLCB0ZXh0UGl4ZWxSYXRpbzogbnVtYmVyLCBwb3NNYXRyaXg6IE1hdDQsIGNvbGxpc2lvbkdyb3VwUHJlZGljYXRlPzogYW55KTogUGxhY2VkQ29sbGlzaW9uQm94IHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24gfHwgY29sbGlzaW9uQm94LmVsZXZhdGlvbiAhPT0gdW5kZWZpbmVkKTtcblxuICAgICAgICBsZXQgYW5jaG9yWCA9IGNvbGxpc2lvbkJveC5wcm9qZWN0ZWRBbmNob3JYO1xuICAgICAgICBsZXQgYW5jaG9yWSA9IGNvbGxpc2lvbkJveC5wcm9qZWN0ZWRBbmNob3JZO1xuICAgICAgICBsZXQgYW5jaG9yWiA9IGNvbGxpc2lvbkJveC5wcm9qZWN0ZWRBbmNob3JaO1xuXG4gICAgICAgIC8vIEFwcGx5IGVsZXZhdGlvbiB2ZWN0b3IgdG8gdGhlIGFuY2hvciBwb2ludFxuICAgICAgICBjb25zdCBlbGV2YXRpb24gPSBjb2xsaXNpb25Cb3guZWxldmF0aW9uO1xuICAgICAgICBjb25zdCB0aWxlSUQgPSBjb2xsaXNpb25Cb3gudGlsZUlEO1xuICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gYnVja2V0LmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgaWYgKGVsZXZhdGlvbiAmJiB0aWxlSUQpIHtcbiAgICAgICAgICAgIGNvbnN0IFt1eCwgdXksIHV6XSA9IHByb2plY3Rpb24udXBWZWN0b3IodGlsZUlELmNhbm9uaWNhbCwgY29sbGlzaW9uQm94LnRpbGVBbmNob3JYLCBjb2xsaXNpb25Cb3gudGlsZUFuY2hvclkpO1xuICAgICAgICAgICAgY29uc3QgdXBTY2FsZSA9IHByb2plY3Rpb24udXBWZWN0b3JTY2FsZSh0aWxlSUQuY2Fub25pY2FsLCB0aGlzLnRyYW5zZm9ybS5jZW50ZXIubGF0LCB0aGlzLnRyYW5zZm9ybS53b3JsZFNpemUpLm1ldGVyc1RvVGlsZTtcblxuICAgICAgICAgICAgYW5jaG9yWCArPSB1eCAqIGVsZXZhdGlvbiAqIHVwU2NhbGU7XG4gICAgICAgICAgICBhbmNob3JZICs9IHV5ICogZWxldmF0aW9uICogdXBTY2FsZTtcbiAgICAgICAgICAgIGFuY2hvclogKz0gdXogKiBlbGV2YXRpb24gKiB1cFNjYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hlY2tPY2NsdXNpb24gPSBwcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScgfHwgISFlbGV2YXRpb24gfHwgdGhpcy50cmFuc2Zvcm0ucGl0Y2ggPiAwO1xuICAgICAgICBjb25zdCBwcm9qZWN0ZWRQb2ludCA9IHRoaXMucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8ocG9zTWF0cml4LCBhbmNob3JYLCBhbmNob3JZLCBhbmNob3JaLCBjb2xsaXNpb25Cb3gudGlsZUlELCBjaGVja09jY2x1c2lvbiwgcHJvamVjdGlvbik7XG5cbiAgICAgICAgY29uc3QgdGlsZVRvVmlld3BvcnQgPSB0ZXh0UGl4ZWxSYXRpbyAqIHByb2plY3RlZFBvaW50LnBlcnNwZWN0aXZlUmF0aW87XG4gICAgICAgIGNvbnN0IHRsWCA9IChjb2xsaXNpb25Cb3gueDEgKiBzY2FsZSArIHNoaWZ0LnggLSBjb2xsaXNpb25Cb3gucGFkZGluZykgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lng7XG4gICAgICAgIGNvbnN0IHRsWSA9IChjb2xsaXNpb25Cb3gueTEgKiBzY2FsZSArIHNoaWZ0LnkgLSBjb2xsaXNpb25Cb3gucGFkZGluZykgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lnk7XG4gICAgICAgIGNvbnN0IGJyWCA9IChjb2xsaXNpb25Cb3gueDIgKiBzY2FsZSArIHNoaWZ0LnggKyBjb2xsaXNpb25Cb3gucGFkZGluZykgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lng7XG4gICAgICAgIGNvbnN0IGJyWSA9IChjb2xsaXNpb25Cb3gueTIgKiBzY2FsZSArIHNoaWZ0LnkgKyBjb2xsaXNpb25Cb3gucGFkZGluZykgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lnk7XG4gICAgICAgIC8vIENsaXAgYXQgMTAgdGltZXMgdGhlIGRpc3RhbmNlIG9mIHRoZSBtYXAgY2VudGVyIG9yLCBzYWlkIG90aGVyd2lzZSwgd2hlbiB0aGUgbGFiZWxcbiAgICAgICAgLy8gd291bGQgYmUgZHJhd24gYXQgMTAlIHRoZSBzaXplIG9mIHRoZSBmZWF0dXJlcyBhcm91bmQgaXQgd2l0aG91dCBzY2FsaW5nLiBSZWZlcjpcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtbmF0aXZlL3dpa2kvVGV4dC1SZW5kZXJpbmcjcGVyc3BlY3RpdmUtc2NhbGluZ1xuICAgICAgICAvLyAwLjU1ID09PSBwcm9qZWN0aW9uLmdldFBlcnNwZWN0aXZlUmF0aW8oY2FtZXJhX3RvX2NlbnRlciwgY2FtZXJhX3RvX2NlbnRlciAqIDEwKVxuICAgICAgICBjb25zdCBtaW5QZXJzcGVjdGl2ZVJhdGlvID0gMC41NTtcbiAgICAgICAgY29uc3QgaXNDbGlwcGVkID0gcHJvamVjdGVkUG9pbnQucGVyc3BlY3RpdmVSYXRpbyA8PSBtaW5QZXJzcGVjdGl2ZVJhdGlvIHx8IHByb2plY3RlZFBvaW50Lm9jY2x1ZGVkO1xuXG4gICAgICAgIGlmICghdGhpcy5pc0luc2lkZUdyaWQodGxYLCB0bFksIGJyWCwgYnJZKSB8fFxuICAgICAgICAgICAgKCFhbGxvd092ZXJsYXAgJiYgdGhpcy5ncmlkLmhpdFRlc3QodGxYLCB0bFksIGJyWCwgYnJZLCBjb2xsaXNpb25Hcm91cFByZWRpY2F0ZSkpIHx8XG4gICAgICAgICAgICBpc0NsaXBwZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYm94OiBbXSxcbiAgICAgICAgICAgICAgICBvZmZzY3JlZW46IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9jY2x1ZGVkOiBwcm9qZWN0ZWRQb2ludC5vY2NsdWRlZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib3g6IFt0bFgsIHRsWSwgYnJYLCBiclldLFxuICAgICAgICAgICAgb2Zmc2NyZWVuOiB0aGlzLmlzT2Zmc2NyZWVuKHRsWCwgdGxZLCBiclgsIGJyWSksXG4gICAgICAgICAgICBvY2NsdWRlZDogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwbGFjZUNvbGxpc2lvbkNpcmNsZXMoYnVja2V0OiBTeW1ib2xCdWNrZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93T3ZlcmxhcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sOiBQbGFjZWRTeW1ib2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVWZXJ0ZXhBcnJheTogU3ltYm9sTGluZVZlcnRleEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnbHlwaE9mZnNldEFycmF5OiBHbHlwaE9mZnNldEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxQbGFuZU1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFRvU2NyZWVuTWF0cml4PzogTWF0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbGxpc2lvbkNpcmNsZXM6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uR3JvdXBQcmVkaWNhdGU/OiBhbnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZVBpeGVsRGlhbWV0ZXI6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFBpeGVsUGFkZGluZzogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpOiBQbGFjZWRDb2xsaXNpb25DaXJjbGVzIHtcbiAgICAgICAgY29uc3QgcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcyA9IFtdO1xuICAgICAgICBjb25zdCBlbGV2YXRpb24gPSB0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb247XG4gICAgICAgIGNvbnN0IHByb2plY3Rpb24gPSBidWNrZXQuZ2V0UHJvamVjdGlvbigpO1xuICAgICAgICBjb25zdCBnZXRFbGV2YXRpb24gPSBlbGV2YXRpb24gPyBlbGV2YXRpb24uZ2V0QXRUaWxlT2Zmc2V0RnVuYyh0aWxlSUQsIHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQsIHRoaXMudHJhbnNmb3JtLndvcmxkU2l6ZSwgcHJvamVjdGlvbikgOiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHRpbGVVbml0QW5jaG9yUG9pbnQgPSBuZXcgUG9pbnQoc3ltYm9sLnRpbGVBbmNob3JYLCBzeW1ib2wudGlsZUFuY2hvclkpO1xuICAgICAgICBsZXQge3g6IGFuY2hvclgsIHk6IGFuY2hvclksIHo6IGFuY2hvclp9ID0gcHJvamVjdGlvbi5wcm9qZWN0VGlsZVBvaW50KHRpbGVVbml0QW5jaG9yUG9pbnQueCwgdGlsZVVuaXRBbmNob3JQb2ludC55LCB0aWxlSUQuY2Fub25pY2FsKTtcbiAgICAgICAgaWYgKGdldEVsZXZhdGlvbikge1xuICAgICAgICAgICAgY29uc3QgW2R4LCBkeSwgZHpdID0gZ2V0RWxldmF0aW9uKHRpbGVVbml0QW5jaG9yUG9pbnQpO1xuICAgICAgICAgICAgYW5jaG9yWCArPSBkeDtcbiAgICAgICAgICAgIGFuY2hvclkgKz0gZHk7XG4gICAgICAgICAgICBhbmNob3JaICs9IGR6O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzR2xvYmUgPSBwcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZSc7XG4gICAgICAgIGNvbnN0IGNoZWNrT2NjbHVzaW9uID0gaXNHbG9iZSB8fCAhIWVsZXZhdGlvbiB8fCB0aGlzLnRyYW5zZm9ybS5waXRjaCA+IDA7XG4gICAgICAgIGNvbnN0IHNjcmVlbkFuY2hvclBvaW50ID0gdGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhwb3NNYXRyaXgsIGFuY2hvclgsIGFuY2hvclksIGFuY2hvclosIHRpbGVJRCwgY2hlY2tPY2NsdXNpb24sIHByb2plY3Rpb24pO1xuICAgICAgICBjb25zdCB7cGVyc3BlY3RpdmVSYXRpb30gPSBzY3JlZW5BbmNob3JQb2ludDtcbiAgICAgICAgY29uc3QgbGFiZWxQbGFuZUZvbnRTY2FsZSA9IChwaXRjaFdpdGhNYXAgPyBmb250U2l6ZSAvIHBlcnNwZWN0aXZlUmF0aW8gOiBmb250U2l6ZSAqIHBlcnNwZWN0aXZlUmF0aW8pIC8gT05FX0VNO1xuICAgICAgICBjb25zdCBsYWJlbFBsYW5lQW5jaG9yUG9pbnQgPSBzeW1ib2xQcm9qZWN0aW9uLnByb2plY3QoYW5jaG9yWCwgYW5jaG9yWSwgYW5jaG9yWiwgbGFiZWxQbGFuZU1hdHJpeCk7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdGlvbkNhY2hlID0ge307XG4gICAgICAgIGNvbnN0IGxpbmVPZmZzZXRYID0gc3ltYm9sLmxpbmVPZmZzZXRYICogbGFiZWxQbGFuZUZvbnRTY2FsZTtcbiAgICAgICAgY29uc3QgbGluZU9mZnNldFkgPSBzeW1ib2wubGluZU9mZnNldFkgKiBsYWJlbFBsYW5lRm9udFNjYWxlO1xuXG4gICAgICAgIGNvbnN0IGZpcnN0QW5kTGFzdEdseXBoID0gc2NyZWVuQW5jaG9yUG9pbnQuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhID4gMCA/IHN5bWJvbFByb2plY3Rpb24ucGxhY2VGaXJzdEFuZExhc3RHbHlwaChcbiAgICAgICAgICAgIGxhYmVsUGxhbmVGb250U2NhbGUsXG4gICAgICAgICAgICBnbHlwaE9mZnNldEFycmF5LFxuICAgICAgICAgICAgbGluZU9mZnNldFgsXG4gICAgICAgICAgICBsaW5lT2Zmc2V0WSxcbiAgICAgICAgICAgIC8qZmxpcCovIGZhbHNlLFxuICAgICAgICAgICAgbGFiZWxQbGFuZUFuY2hvclBvaW50LFxuICAgICAgICAgICAgdGlsZVVuaXRBbmNob3JQb2ludCxcbiAgICAgICAgICAgIHN5bWJvbCxcbiAgICAgICAgICAgIGxpbmVWZXJ0ZXhBcnJheSxcbiAgICAgICAgICAgIGxhYmVsUGxhbmVNYXRyaXgsXG4gICAgICAgICAgICBwcm9qZWN0aW9uQ2FjaGUsXG4gICAgICAgICAgICBlbGV2YXRpb24gJiYgIXBpdGNoV2l0aE1hcCA/IGdldEVsZXZhdGlvbiA6IG51bGwsIC8vIHBpdGNoV2l0aE1hcDogbm8gbmVlZCB0byBzYW1wbGUgZWxldmF0aW9uIGFzIGl0IGhhcyBubyBlZmZlY3Qgd2hlbiBwcm9qZWN0aW5nIHVzaW5nIHNjYWxlL3JvdGF0ZSB0byB0aWxlIHNwYWNlIGxhYmVsUGxhbmVNYXRyaXguXG4gICAgICAgICAgICBwaXRjaFdpdGhNYXAgJiYgISFlbGV2YXRpb24sXG4gICAgICAgICAgICBwcm9qZWN0aW9uLFxuICAgICAgICAgICAgdGlsZUlELFxuICAgICAgICAgICAgcGl0Y2hXaXRoTWFwXG4gICAgICAgICkgOiBudWxsO1xuXG4gICAgICAgIGxldCBjb2xsaXNpb25EZXRlY3RlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgaW5HcmlkID0gZmFsc2U7XG4gICAgICAgIGxldCBlbnRpcmVseU9mZnNjcmVlbiA9IHRydWU7XG5cbiAgICAgICAgaWYgKGZpcnN0QW5kTGFzdEdseXBoICYmICFzY3JlZW5BbmNob3JQb2ludC5vY2NsdWRlZCkge1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gY2lyY2xlUGl4ZWxEaWFtZXRlciAqIDAuNSAqIHBlcnNwZWN0aXZlUmF0aW8gKyB0ZXh0UGl4ZWxQYWRkaW5nO1xuICAgICAgICAgICAgY29uc3Qgc2NyZWVuUGxhbmVNaW4gPSBuZXcgUG9pbnQoLXZpZXdwb3J0UGFkZGluZywgLXZpZXdwb3J0UGFkZGluZyk7XG4gICAgICAgICAgICBjb25zdCBzY3JlZW5QbGFuZU1heCA9IG5ldyBQb2ludCh0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnksIHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnkpO1xuICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdG9yID0gbmV3IFBhdGhJbnRlcnBvbGF0b3IoKTtcblxuICAgICAgICAgICAgLy8gQ29uc3RydWN0IGEgcHJvamVjdGVkIHBhdGggZnJvbSBwcm9qZWN0ZWQgbGluZSB2ZXJ0aWNlcy4gQW5jaG9yIHBvaW50cyBhcmUgaWdub3JlZCBhbmQgcmVtb3ZlZFxuICAgICAgICAgICAgY29uc3Qge2ZpcnN0LCBsYXN0fSA9IGZpcnN0QW5kTGFzdEdseXBoO1xuICAgICAgICAgICAgY29uc3QgZmlyc3RMZW4gPSBmaXJzdC5wYXRoLmxlbmd0aDtcblxuICAgICAgICAgICAgbGV0IHByb2plY3RlZFBhdGg6IFZlYzNbXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGZpcnN0TGVuIC0gMTsgaSA+PSAxOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0ZWRQYXRoLnB1c2goZmlyc3QucGF0aFtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxhc3QucGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHByb2plY3RlZFBhdGgucHVzaChsYXN0LnBhdGhbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzZXJ0KHByb2plY3RlZFBhdGgubGVuZ3RoID49IDIpO1xuXG4gICAgICAgICAgICAvLyBUb2xlcmF0ZSBhIHNsaWdodGx5IGxvbmdlciBkaXN0YW5jZSB0aGFuIG9uZSBkaWFtZXRlciBiZXR3ZWVuIHR3byBhZGphY2VudCBjaXJjbGVzXG4gICAgICAgICAgICBjb25zdCBjaXJjbGVEaXN0ID0gcmFkaXVzICogMi41O1xuXG4gICAgICAgICAgICAvLyBUaGUgcGF0aCBtaWdodCBuZWVkIHRvIGJlIGNvbnZlcnRlZCBpbnRvIHNjcmVlbiBzcGFjZSBpZiBhIHBpdGNoZWQgbWFwIGlzIHVzZWQgYXMgdGhlIGxhYmVsIHNwYWNlXG4gICAgICAgICAgICBpZiAobGFiZWxUb1NjcmVlbk1hdHJpeCkge1xuICAgICAgICAgICAgICAgIGFzc2VydChwaXRjaFdpdGhNYXApO1xuICAgICAgICAgICAgICAgIHByb2plY3RlZFBhdGggPSBwcm9qZWN0ZWRQYXRoLm1hcCgoW3gsIHksIHpdLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0RWxldmF0aW9uICYmICFpc0dsb2JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB6ID0gZ2V0RWxldmF0aW9uKGluZGV4IDwgZmlyc3RMZW4gLSAxID8gZmlyc3QudGlsZVBhdGhbZmlyc3RMZW4gLSAxIC0gaW5kZXhdIDogbGFzdC50aWxlUGF0aFtpbmRleCAtIGZpcnN0TGVuICsgMl0pWzJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzeW1ib2xQcm9qZWN0aW9uLnByb2plY3QoeCwgeSwgeiwgbGFiZWxUb1NjcmVlbk1hdHJpeCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgdHJ5IHRvIHBsYWNlIGNvbGxpc2lvbiBjaXJjbGVzIGlmIGV2ZW4gb2YgdGhlIHBvaW50cyBpcyBiZWhpbmQgdGhlIGNhbWVyYS5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgcGxhdXNpYmxlIHNjZW5hcmlvIHdpdGggYmlnIGNhbWVyYSBwaXRjaCBhbmdsZXNcbiAgICAgICAgICAgICAgICBpZiAocHJvamVjdGVkUGF0aC5zb21lKHBvaW50ID0+IHBvaW50WzNdIDw9IDApKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RlZFBhdGggPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBzZWdtZW50cyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAocHJvamVjdGVkUGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gUXVpY2tseSBjaGVjayBpZiB0aGUgcGF0aCBpcyBmdWxseSBpbnNpZGUgb3Igb3V0c2lkZSBvZiB0aGUgcGFkZGVkIGNvbGxpc2lvbiByZWdpb24uXG4gICAgICAgICAgICAgICAgLy8gRm9yIG92ZXJsYXBwaW5nIHBhdGhzIHdlJ2xsIG9ubHkgY3JlYXRlIGNvbGxpc2lvbiBjaXJjbGVzIGZvciB0aGUgdmlzaWJsZSBzZWdtZW50c1xuICAgICAgICAgICAgICAgIGxldCBtaW54ID0gSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgbGV0IG1heHggPSAtSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgbGV0IG1pbnkgPSBJbmZpbml0eTtcbiAgICAgICAgICAgICAgICBsZXQgbWF4eSA9IC1JbmZpbml0eTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcCBvZiBwcm9qZWN0ZWRQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbnggPSBNYXRoLm1pbihtaW54LCBwWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgbWlueSA9IE1hdGgubWluKG1pbnksIHBbMV0pO1xuICAgICAgICAgICAgICAgICAgICBtYXh4ID0gTWF0aC5tYXgobWF4eCwgcFswXSk7XG4gICAgICAgICAgICAgICAgICAgIG1heHkgPSBNYXRoLm1heChtYXh5LCBwWzFdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBQYXRoIHZpc2libGVcbiAgICAgICAgICAgICAgICBpZiAobWF4eCA+PSBzY3JlZW5QbGFuZU1pbi54ICYmIG1pbnggPD0gc2NyZWVuUGxhbmVNYXgueCAmJlxuICAgICAgICAgICAgICAgICAgICBtYXh5ID49IHNjcmVlblBsYW5lTWluLnkgJiYgbWlueSA8PSBzY3JlZW5QbGFuZU1heC55KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VnbWVudHMgPSBbcHJvamVjdGVkUGF0aC5tYXAocCA9PiBuZXcgUG9pbnQocFswXSwgcFsxXSkpXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobWlueCA8IHNjcmVlblBsYW5lTWluLnggfHwgbWF4eCA+IHNjcmVlblBsYW5lTWF4LnggfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnkgPCBzY3JlZW5QbGFuZU1pbi55IHx8IG1heHkgPiBzY3JlZW5QbGFuZU1heC55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXRoIHBhcnRpYWxseSB2aXNpYmxlLCBjbGlwXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50cyA9IGNsaXBMaW5lKHNlZ21lbnRzLCBzY3JlZW5QbGFuZU1pbi54LCBzY3JlZW5QbGFuZU1pbi55LCBzY3JlZW5QbGFuZU1heC54LCBzY3JlZW5QbGFuZU1heC55KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChjb25zdCBzZWcgb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICAvLyBpbnRlcnBvbGF0ZSBwb3NpdGlvbnMgZm9yIGNvbGxpc2lvbiBjaXJjbGVzLiBBZGQgYSBzbWFsbCBwYWRkaW5nIHRvIGJvdGggZW5kcyBvZiB0aGUgc2VnbWVudFxuICAgICAgICAgICAgICAgIGFzc2VydChzZWcubGVuZ3RoID4gMCk7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdG9yLnJlc2V0KHNlZywgcmFkaXVzICogMC4yNSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgbnVtQ2lyY2xlcyA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJwb2xhdG9yLmxlbmd0aCA8PSAwLjUgKiByYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtQ2lyY2xlcyA9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtQ2lyY2xlcyA9IE1hdGguY2VpbChpbnRlcnBvbGF0b3IucGFkZGVkTGVuZ3RoIC8gY2lyY2xlRGlzdCkgKyAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQ2lyY2xlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBpIC8gTWF0aC5tYXgobnVtQ2lyY2xlcyAtIDEsIDEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaXJjbGVQb3NpdGlvbiA9IGludGVycG9sYXRvci5sZXJwKHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB2aWV3cG9ydCBwYWRkaW5nIHRvIHRoZSBwb3NpdGlvbiBhbmQgcGVyZm9ybSBpbml0aWFsIGNvbGxpc2lvbiBjaGVja1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJYID0gY2lyY2xlUG9zaXRpb24ueCArIHZpZXdwb3J0UGFkZGluZztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyWSA9IGNpcmNsZVBvc2l0aW9uLnkgKyB2aWV3cG9ydFBhZGRpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcy5wdXNoKGNlbnRlclgsIGNlbnRlclksIHJhZGl1cywgMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeDEgPSBjZW50ZXJYIC0gcmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB5MSA9IGNlbnRlclkgLSByYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHgyID0gY2VudGVyWCArIHJhZGl1cztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeTIgPSBjZW50ZXJZICsgcmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgICAgIGVudGlyZWx5T2Zmc2NyZWVuID0gZW50aXJlbHlPZmZzY3JlZW4gJiYgdGhpcy5pc09mZnNjcmVlbih4MSwgeTEsIHgyLCB5Mik7XG4gICAgICAgICAgICAgICAgICAgIGluR3JpZCA9IGluR3JpZCB8fCB0aGlzLmlzSW5zaWRlR3JpZCh4MSwgeTEsIHgyLCB5Mik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbGxvd092ZXJsYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdyaWQuaGl0VGVzdENpcmNsZShjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXMsIGNvbGxpc2lvbkdyb3VwUHJlZGljYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGVhcmx5IGV4aXQgaWYgd2UncmUgc2hvd2luZyB0aGUgZGVidWcgY2lyY2xlcyBiZWNhdXNlIHdlIHN0aWxsIHdhbnQgdG8gY2FsY3VsYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggY2lyY2xlcyBhcmUgaW4gdXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uRGV0ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hvd0NvbGxpc2lvbkNpcmNsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2NyZWVuOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkRldGVjdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2NjbHVkZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNpcmNsZXM6ICgoIXNob3dDb2xsaXNpb25DaXJjbGVzICYmIGNvbGxpc2lvbkRldGVjdGVkKSB8fCAhaW5HcmlkKSA/IFtdIDogcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcyxcbiAgICAgICAgICAgIG9mZnNjcmVlbjogZW50aXJlbHlPZmZzY3JlZW4sXG4gICAgICAgICAgICBjb2xsaXNpb25EZXRlY3RlZCxcbiAgICAgICAgICAgIG9jY2x1ZGVkOiBzY3JlZW5BbmNob3JQb2ludC5vY2NsdWRlZFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJlY2F1c2UgdGhlIGdlb21ldHJpZXMgaW4gdGhlIENvbGxpc2lvbkluZGV4IGFyZSBhbiBhcHByb3hpbWF0aW9uIG9mIHRoZSBzaGFwZSBvZlxuICAgICAqIHN5bWJvbHMgb24gdGhlIG1hcCwgd2UgdXNlIHRoZSBDb2xsaXNpb25JbmRleCB0byBsb29rIHVwIHRoZSBzeW1ib2wgcGFydCBvZlxuICAgICAqIGBxdWVyeVJlbmRlcmVkRmVhdHVyZXNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBxdWVyeVJlbmRlcmVkU3ltYm9scyh2aWV3cG9ydFF1ZXJ5R2VvbWV0cnk6IEFycmF5PFBvaW50Pik6IHtbaWQ6IG51bWJlcl06IEFycmF5PG51bWJlcj59IHtcbiAgICAgICAgaWYgKHZpZXdwb3J0UXVlcnlHZW9tZXRyeS5sZW5ndGggPT09IDAgfHwgKHRoaXMuZ3JpZC5rZXlzTGVuZ3RoKCkgPT09IDAgJiYgdGhpcy5pZ25vcmVkR3JpZC5rZXlzTGVuZ3RoKCkgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBxdWVyeSA9IFtdO1xuICAgICAgICBsZXQgbWluWCA9IEluZmluaXR5O1xuICAgICAgICBsZXQgbWluWSA9IEluZmluaXR5O1xuICAgICAgICBsZXQgbWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgbGV0IG1heFkgPSAtSW5maW5pdHk7XG4gICAgICAgIGZvciAoY29uc3QgcG9pbnQgb2Ygdmlld3BvcnRRdWVyeUdlb21ldHJ5KSB7XG4gICAgICAgICAgICBjb25zdCBncmlkUG9pbnQgPSBuZXcgUG9pbnQocG9pbnQueCArIHZpZXdwb3J0UGFkZGluZywgcG9pbnQueSArIHZpZXdwb3J0UGFkZGluZyk7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgZ3JpZFBvaW50LngpO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIGdyaWRQb2ludC55KTtcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBncmlkUG9pbnQueCk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgZ3JpZFBvaW50LnkpO1xuICAgICAgICAgICAgcXVlcnkucHVzaChncmlkUG9pbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLmdyaWQucXVlcnkobWluWCwgbWluWSwgbWF4WCwgbWF4WSlcbiAgICAgICAgICAgIC5jb25jYXQodGhpcy5pZ25vcmVkR3JpZC5xdWVyeShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKSk7XG5cbiAgICAgICAgY29uc3Qgc2VlbkZlYXR1cmVzID0ge307XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgZmVhdHVyZSBvZiBmZWF0dXJlcykge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZUtleSA9IGZlYXR1cmUua2V5O1xuICAgICAgICAgICAgLy8gU2tpcCBhbHJlYWR5IHNlZW4gZmVhdHVyZXMuXG4gICAgICAgICAgICBpZiAoc2VlbkZlYXR1cmVzW2ZlYXR1cmVLZXkuYnVja2V0SW5zdGFuY2VJZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNlZW5GZWF0dXJlc1tmZWF0dXJlS2V5LmJ1Y2tldEluc3RhbmNlSWRdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VlbkZlYXR1cmVzW2ZlYXR1cmVLZXkuYnVja2V0SW5zdGFuY2VJZF1bZmVhdHVyZUtleS5mZWF0dXJlSW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHF1ZXJ5IGludGVyc2VjdHMgd2l0aCB0aGUgZmVhdHVyZSBib3hcbiAgICAgICAgICAgIC8vIFwiQ29sbGlzaW9uIENpcmNsZXNcIiBmb3IgbGluZSBsYWJlbHMgYXJlIHRyZWF0ZWQgYXMgYm94ZXMgaGVyZVxuICAgICAgICAgICAgLy8gU2luY2UgdGhlcmUncyBubyBhY3R1YWwgY29sbGlzaW9uIHRha2luZyBwbGFjZSwgdGhlIGNpcmNsZSB2cy4gc3F1YXJlXG4gICAgICAgICAgICAvLyBkaXN0aW5jdGlvbiBkb2Vzbid0IG1hdHRlciBhcyBtdWNoLCBhbmQgYm94IGdlb21ldHJ5IGlzIGVhc2llclxuICAgICAgICAgICAgLy8gdG8gd29yayB3aXRoLlxuICAgICAgICAgICAgY29uc3QgYmJveCA9IFtcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoZmVhdHVyZS54MSwgZmVhdHVyZS55MSksXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KGZlYXR1cmUueDIsIGZlYXR1cmUueTEpLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludChmZWF0dXJlLngyLCBmZWF0dXJlLnkyKSxcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoZmVhdHVyZS54MSwgZmVhdHVyZS55MilcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBpZiAoIWludGVyc2VjdGlvblRlc3RzLnBvbHlnb25JbnRlcnNlY3RzUG9seWdvbihxdWVyeSwgYmJveCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VlbkZlYXR1cmVzW2ZlYXR1cmVLZXkuYnVja2V0SW5zdGFuY2VJZF1bZmVhdHVyZUtleS5mZWF0dXJlSW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChyZXN1bHRbZmVhdHVyZUtleS5idWNrZXRJbnN0YW5jZUlkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ZlYXR1cmVLZXkuYnVja2V0SW5zdGFuY2VJZF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdFtmZWF0dXJlS2V5LmJ1Y2tldEluc3RhbmNlSWRdLnB1c2goZmVhdHVyZUtleS5mZWF0dXJlSW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBpbnNlcnRDb2xsaXNpb25Cb3goY29sbGlzaW9uQm94OiBBcnJheTxudW1iZXI+LCBpZ25vcmVQbGFjZW1lbnQ6IGJvb2xlYW4sIGJ1Y2tldEluc3RhbmNlSWQ6IG51bWJlciwgZmVhdHVyZUluZGV4OiBudW1iZXIsIGNvbGxpc2lvbkdyb3VwSUQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBncmlkID0gaWdub3JlUGxhY2VtZW50ID8gdGhpcy5pZ25vcmVkR3JpZCA6IHRoaXMuZ3JpZDtcblxuICAgICAgICBjb25zdCBrZXkgPSB7YnVja2V0SW5zdGFuY2VJZCwgZmVhdHVyZUluZGV4LCBjb2xsaXNpb25Hcm91cElEfTtcbiAgICAgICAgZ3JpZC5pbnNlcnQoa2V5LCBjb2xsaXNpb25Cb3hbMF0sIGNvbGxpc2lvbkJveFsxXSwgY29sbGlzaW9uQm94WzJdLCBjb2xsaXNpb25Cb3hbM10pO1xuICAgIH1cblxuICAgIGluc2VydENvbGxpc2lvbkNpcmNsZXMoY29sbGlzaW9uQ2lyY2xlczogQXJyYXk8bnVtYmVyPiwgaWdub3JlUGxhY2VtZW50OiBib29sZWFuLCBidWNrZXRJbnN0YW5jZUlkOiBudW1iZXIsIGZlYXR1cmVJbmRleDogbnVtYmVyLCBjb2xsaXNpb25Hcm91cElEOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZ3JpZCA9IGlnbm9yZVBsYWNlbWVudCA/IHRoaXMuaWdub3JlZEdyaWQgOiB0aGlzLmdyaWQ7XG5cbiAgICAgICAgY29uc3Qga2V5ID0ge2J1Y2tldEluc3RhbmNlSWQsIGZlYXR1cmVJbmRleCwgY29sbGlzaW9uR3JvdXBJRH07XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgY29sbGlzaW9uQ2lyY2xlcy5sZW5ndGg7IGsgKz0gNCkge1xuICAgICAgICAgICAgZ3JpZC5pbnNlcnRDaXJjbGUoa2V5LCBjb2xsaXNpb25DaXJjbGVzW2tdLCBjb2xsaXNpb25DaXJjbGVzW2sgKyAxXSwgY29sbGlzaW9uQ2lyY2xlc1trICsgMl0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8ocG9zTWF0cml4OiBNYXQ0LCB4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCB0aWxlSUQ6ID9PdmVyc2NhbGVkVGlsZUlELCBjaGVja09jY2x1c2lvbjogYm9vbGVhbiwgYnVja2V0UHJvamVjdGlvbjogUHJvamVjdGlvbik6IFNjcmVlbkFuY2hvclBvaW50IHtcbiAgICAgICAgY29uc3QgcCA9IFt4LCB5LCB6LCAxXTtcbiAgICAgICAgbGV0IGJlaGluZEZvZyA9IGZhbHNlO1xuICAgICAgICBpZiAoeiB8fCB0aGlzLnRyYW5zZm9ybS5waXRjaCA+IDApIHtcbiAgICAgICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChwLCBwLCBwb3NNYXRyaXgpO1xuICAgICAgICAgICAgLy8gRG8gbm90IHBlcmZvcm0gc3ltYm9sIG9jY2x1c2lvbiBvbiBnbG9iZSBkdWUgdG8gZm9nIGZpeGVkIHJhbmdlXG4gICAgICAgICAgICBjb25zdCBpc0dsb2JlID0gYnVja2V0UHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuICAgICAgICAgICAgaWYgKHRoaXMuZm9nU3RhdGUgJiYgdGlsZUlEICYmICFpc0dsb2JlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9nT3BhY2l0eSA9IGdldEZvZ09wYWNpdHlBdFRpbGVDb29yZCh0aGlzLmZvZ1N0YXRlLCB4LCB5LCB6LCB0aWxlSUQudG9VbndyYXBwZWQoKSwgdGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIGJlaGluZEZvZyA9IGZvZ09wYWNpdHkgPiBGT0dfU1lNQk9MX0NMSVBQSU5HX1RIUkVTSE9MRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN5bWJvbFByb2plY3Rpb24ueHlUcmFuc2Zvcm1NYXQ0KHAsIHAsIHBvc01hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdyA9IHBbM107XG4gICAgICAgIGNvbnN0IGEgPSBuZXcgUG9pbnQoXG4gICAgICAgICAgICAoKChwWzBdIC8gdyArIDEpIC8gMikgKiB0aGlzLnRyYW5zZm9ybS53aWR0aCkgKyB2aWV3cG9ydFBhZGRpbmcsXG4gICAgICAgICAgICAoKCgtcFsxXSAvIHcgKyAxKSAvIDIpICogdGhpcy50cmFuc2Zvcm0uaGVpZ2h0KSArIHZpZXdwb3J0UGFkZGluZ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnQ6IGEsXG4gICAgICAgICAgICAvLyBTZWUgcGVyc3BlY3RpdmUgcmF0aW8gY29tbWVudCBpbiBzeW1ib2xfc2RmLnZlcnRleFxuICAgICAgICAgICAgLy8gV2UncmUgZG9pbmcgY29sbGlzaW9uIGRldGVjdGlvbiBpbiB2aWV3cG9ydCBzcGFjZSBzbyB3ZSBuZWVkXG4gICAgICAgICAgICAvLyB0byBzY2FsZSBkb3duIGJveGVzIGluIHRoZSBkaXN0YW5jZVxuICAgICAgICAgICAgcGVyc3BlY3RpdmVSYXRpbzogTWF0aC5taW4oMC41ICsgMC41ICogKHRoaXMudHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UoYnVja2V0UHJvamVjdGlvbikgLyB3KSwgMS41KSxcbiAgICAgICAgICAgIHNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYTogdyxcbiAgICAgICAgICAgIG9jY2x1ZGVkOiAoY2hlY2tPY2NsdXNpb24gJiYgcFsyXSA+IHcpIHx8IGJlaGluZEZvZyAvLyBPY2NsdWRlZCBieSB0aGUgZmFyIHBsYW5lXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaXNPZmZzY3JlZW4oeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4geDIgPCB2aWV3cG9ydFBhZGRpbmcgfHwgeDEgPj0gdGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5IHx8IHkyIDwgdmlld3BvcnRQYWRkaW5nIHx8IHkxID4gdGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeTtcbiAgICB9XG5cbiAgICBpc0luc2lkZUdyaWQoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4geDIgPj0gMCAmJiB4MSA8IHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnkgJiYgeTIgPj0gMCAmJiB5MSA8IHRoaXMuZ3JpZEJvdHRvbUJvdW5kYXJ5O1xuICAgIH1cblxuICAgIC8qXG4gICAgKiBSZXR1cm5zIGEgbWF0cml4IGZvciB0cmFuc2Zvcm1pbmcgY29sbGlzaW9uIHNoYXBlcyB0byB2aWV3cG9ydCBjb29yZGluYXRlIHNwYWNlLlxuICAgICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gcmVuZGVyIGUuZy4gY29sbGlzaW9uIGNpcmNsZXMgb24gdGhlIHNjcmVlbi5cbiAgICAqICAgZXhhbXBsZSB0cmFuc2Zvcm1hdGlvbjogY2xpcFBvcyA9IGdsQ29vcmRNYXRyaXggKiB2aWV3cG9ydE1hdHJpeCAqIGNpcmNsZV9wb3NcbiAgICAqL1xuICAgIGdldFZpZXdwb3J0TWF0cml4KCk6IE1hdDQge1xuICAgICAgICBjb25zdCBtID0gbWF0NC5pZGVudGl0eShbXSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKG0sIG0sIFstdmlld3BvcnRQYWRkaW5nLCAtdmlld3BvcnRQYWRkaW5nLCAwLjBdKTtcbiAgICAgICAgcmV0dXJuIG07XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb2xsaXNpb25JbmRleDtcbiIsIi8vIEBmbG93XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUgU3ltYm9sQnVja2V0IGZyb20gJy4uLy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQuanMnO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uLy4uL2dlby90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHR5cGUgUHJvamVjdGlvbiBmcm9tICcuL3Byb2plY3Rpb24uanMnO1xuaW1wb3J0IHttYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5mdW5jdGlvbiByZWNvbnN0cnVjdFRpbGVNYXRyaXgodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHByb2plY3Rpb246IFByb2plY3Rpb24sIGNvb3JkOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgLy8gQnVja2V0IGJlaW5nIHJlbmRlcmVkIGlzIGJ1aWx0IGZvciBkaWZmZXJlbnQgbWFwIHByb2plY3Rpb25cbiAgICAvLyB0aGFuIGlzIGN1cnJlbnRseSBiZWluZyB1c2VkLiBSZWNvbnN0cnVjdCBjb3JyZWN0IG1hdHJpY2VzLlxuICAgIC8vIFRoaXMgY29kZSBwYXRoIG1heSBoYXBwZW4gZHVyaW5nIGEgR2xvYmUgLSBNZXJjYXRvciB0cmFuc2l0aW9uXG4gICAgY29uc3QgdGlsZU1hdHJpeCA9IHByb2plY3Rpb24uY3JlYXRlVGlsZU1hdHJpeCh0cmFuc2Zvcm0sIHRyYW5zZm9ybS53b3JsZFNpemUsIGNvb3JkLnRvVW53cmFwcGVkKCkpO1xuICAgIHJldHVybiBtYXQ0Lm11bHRpcGx5KG5ldyBGbG9hdDMyQXJyYXkoMTYpLCB0cmFuc2Zvcm0ucHJvak1hdHJpeCwgdGlsZU1hdHJpeCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xsaXNpb25EZWJ1Z1RpbGVQcm9qZWN0aW9uTWF0cml4KGNvb3JkOiBPdmVyc2NhbGVkVGlsZUlELCBidWNrZXQ6IFN5bWJvbEJ1Y2tldCwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBGbG9hdDMyQXJyYXkge1xuICAgIGlmIChidWNrZXQucHJvamVjdGlvbi5uYW1lID09PSB0cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKSB7XG4gICAgICAgIGFzc2VydChjb29yZC5wcm9qTWF0cml4KTtcbiAgICAgICAgcmV0dXJuIGNvb3JkLnByb2pNYXRyaXg7XG4gICAgfVxuICAgIGNvbnN0IHRyID0gdHJhbnNmb3JtLmNsb25lKCk7XG4gICAgdHIuc2V0UHJvamVjdGlvbihidWNrZXQucHJvamVjdGlvbik7XG4gICAgcmV0dXJuIHJlY29uc3RydWN0VGlsZU1hdHJpeCh0ciwgYnVja2V0LmdldFByb2plY3Rpb24oKSwgY29vcmQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3ltYm9sVGlsZVByb2plY3Rpb25NYXRyaXgoY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQsIGJ1Y2tldFByb2plY3Rpb246IFByb2plY3Rpb24sIHRyYW5zZm9ybTogVHJhbnNmb3JtKTogRmxvYXQzMkFycmF5IHtcbiAgICBpZiAoYnVja2V0UHJvamVjdGlvbi5uYW1lID09PSB0cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKSB7XG4gICAgICAgIGFzc2VydChjb29yZC5wcm9qTWF0cml4KTtcbiAgICAgICAgcmV0dXJuIGNvb3JkLnByb2pNYXRyaXg7XG4gICAgfVxuICAgIHJldHVybiByZWNvbnN0cnVjdFRpbGVNYXRyaXgodHJhbnNmb3JtLCBidWNrZXRQcm9qZWN0aW9uLCBjb29yZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTeW1ib2xQbGFjZW1lbnRUaWxlUHJvamVjdGlvbk1hdHJpeChjb29yZDogT3ZlcnNjYWxlZFRpbGVJRCwgYnVja2V0UHJvamVjdGlvbjogUHJvamVjdGlvbiwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHJ1bnRpbWVQcm9qZWN0aW9uOiBzdHJpbmcpOiBGbG9hdDMyQXJyYXkge1xuICAgIGlmIChidWNrZXRQcm9qZWN0aW9uLm5hbWUgPT09IHJ1bnRpbWVQcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeChjb29yZC50b1Vud3JhcHBlZCgpKTtcbiAgICB9XG4gICAgYXNzZXJ0KHRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUgPT09IGJ1Y2tldFByb2plY3Rpb24ubmFtZSk7XG4gICAgcmV0dXJuIHJlY29uc3RydWN0VGlsZU1hdHJpeCh0cmFuc2Zvcm0sIGJ1Y2tldFByb2plY3Rpb24sIGNvb3JkKTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBDb2xsaXNpb25JbmRleCBmcm9tICcuL2NvbGxpc2lvbl9pbmRleC5qcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50LmpzJztcbmltcG9ydCBPTkVfRU0gZnJvbSAnLi9vbmVfZW0uanMnO1xuaW1wb3J0ICogYXMgc3ltYm9sU2l6ZSBmcm9tICcuL3N5bWJvbF9zaXplLmpzJztcbmltcG9ydCAqIGFzIHByb2plY3Rpb24gZnJvbSAnLi9wcm9qZWN0aW9uLmpzJztcbmltcG9ydCB7Z2V0QW5jaG9ySnVzdGlmaWNhdGlvbiwgZXZhbHVhdGVWYXJpYWJsZU9mZnNldH0gZnJvbSAnLi9zeW1ib2xfbGF5b3V0LmpzJztcbmltcG9ydCB7Z2V0QW5jaG9yQWxpZ25tZW50LCBXcml0aW5nTW9kZX0gZnJvbSAnLi9zaGFwaW5nLmpzJztcbmltcG9ydCB7bWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZS5qcyc7XG5pbXBvcnQgdHlwZSBTeW1ib2xCdWNrZXQsIHtDb2xsaXNpb25BcnJheXMsIFNpbmdsZUNvbGxpc2lvbkJveH0gZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldC5qcyc7XG5pbXBvcnQgdHlwZSB7Q29sbGlzaW9uQm94QXJyYXksIENvbGxpc2lvblZlcnRleEFycmF5LCBTeW1ib2xJbnN0YW5jZX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSBGZWF0dXJlSW5kZXggZnJvbSAnLi4vZGF0YS9mZWF0dXJlX2luZGV4LmpzJztcbmltcG9ydCB7Z2V0U3ltYm9sUGxhY2VtZW50VGlsZVByb2plY3Rpb25NYXRyaXh9IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3Byb2plY3Rpb25fdXRpbC5qcyc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUge1RleHRBbmNob3J9IGZyb20gJy4vc3ltYm9sX2xheW91dC5qcyc7XG5pbXBvcnQgdHlwZSB7Rm9nU3RhdGV9IGZyb20gJy4uL3N0eWxlL2ZvZ19oZWxwZXJzLmpzJztcbmltcG9ydCB0eXBlIHtNYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IHR5cGUge1BsYWNlZENvbGxpc2lvbkJveH0gZnJvbSAnLi9jb2xsaXNpb25faW5kZXguanMnO1xuXG4vLyBQbGFjZWRDb2xsaXNpb25Cb3ggd2l0aCBhbGwgZmllbGRzIG9wdGlvbmFsXG50eXBlIFBhcnRpYWxQbGFjZWRDb2xsaXNpb25Cb3ggPSAkT2JqTWFwPFBsYWNlZENvbGxpc2lvbkJveCwgPFY+KCkgPT4gP1Y+O1xuXG5jbGFzcyBPcGFjaXR5U3RhdGUge1xuICAgIG9wYWNpdHk6IG51bWJlcjtcbiAgICBwbGFjZWQ6IGJvb2xlYW47XG4gICAgY29uc3RydWN0b3IocHJldlN0YXRlOiA/T3BhY2l0eVN0YXRlLCBpbmNyZW1lbnQ6IG51bWJlciwgcGxhY2VkOiBib29sZWFuLCBza2lwRmFkZTogP2Jvb2xlYW4pIHtcbiAgICAgICAgaWYgKHByZXZTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcHJldlN0YXRlLm9wYWNpdHkgKyAocHJldlN0YXRlLnBsYWNlZCA/IGluY3JlbWVudCA6IC1pbmNyZW1lbnQpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSAoc2tpcEZhZGUgJiYgcGxhY2VkKSA/IDEgOiAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxhY2VkID0gcGxhY2VkO1xuICAgIH1cbiAgICBpc0hpZGRlbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3BhY2l0eSA9PT0gMCAmJiAhdGhpcy5wbGFjZWQ7XG4gICAgfVxufVxuXG5jbGFzcyBKb2ludE9wYWNpdHlTdGF0ZSB7XG4gICAgdGV4dDogT3BhY2l0eVN0YXRlO1xuICAgIGljb246IE9wYWNpdHlTdGF0ZTtcbiAgICBjbGlwcGVkOiBib29sZWFuO1xuICAgIGNvbnN0cnVjdG9yKHByZXZTdGF0ZTogP0pvaW50T3BhY2l0eVN0YXRlLCBpbmNyZW1lbnQ6IG51bWJlciwgcGxhY2VkVGV4dDogYm9vbGVhbiwgcGxhY2VkSWNvbjogYm9vbGVhbiwgc2tpcEZhZGU6ID9ib29sZWFuLCBjbGlwcGVkOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gbmV3IE9wYWNpdHlTdGF0ZShwcmV2U3RhdGUgPyBwcmV2U3RhdGUudGV4dCA6IG51bGwsIGluY3JlbWVudCwgcGxhY2VkVGV4dCwgc2tpcEZhZGUpO1xuICAgICAgICB0aGlzLmljb24gPSBuZXcgT3BhY2l0eVN0YXRlKHByZXZTdGF0ZSA/IHByZXZTdGF0ZS5pY29uIDogbnVsbCwgaW5jcmVtZW50LCBwbGFjZWRJY29uLCBza2lwRmFkZSk7XG5cbiAgICAgICAgdGhpcy5jbGlwcGVkID0gY2xpcHBlZDtcbiAgICB9XG4gICAgaXNIaWRkZW4oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQuaXNIaWRkZW4oKSAmJiB0aGlzLmljb24uaXNIaWRkZW4oKTtcbiAgICB9XG59XG5cbmNsYXNzIEpvaW50UGxhY2VtZW50IHtcbiAgICB0ZXh0OiBib29sZWFuO1xuICAgIGljb246IGJvb2xlYW47XG4gICAgLy8gc2tpcEZhZGUgPSBvdXRzaWRlIHZpZXdwb3J0LCBidXQgd2l0aGluIENvbGxpc2lvbkluZGV4Ojp2aWV3cG9ydFBhZGRpbmcgcHggb2YgdGhlIGVkZ2VcbiAgICAvLyBCZWNhdXNlIHRoZXNlIHN5bWJvbHMgYXJlbid0IG9uc2NyZWVuIHlldCwgd2UgY2FuIHNraXAgdGhlIFwiZmFkZSBpblwiIGFuaW1hdGlvbixcbiAgICAvLyBhbmQgaWYgYSBzdWJzZXF1ZW50IHZpZXdwb3J0IGNoYW5nZSBicmluZ3MgdGhlbSBpbnRvIHZpZXcsIHRoZXknbGwgYmUgZnVsbHlcbiAgICAvLyB2aXNpYmxlIHJpZ2h0IGF3YXkuXG4gICAgc2tpcEZhZGU6IGJvb2xlYW47XG5cbiAgICBjbGlwcGVkOiBib29sZWFuXG4gICAgY29uc3RydWN0b3IodGV4dDogYm9vbGVhbiwgaWNvbjogYm9vbGVhbiwgc2tpcEZhZGU6IGJvb2xlYW4sIGNsaXBwZWQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmljb24gPSBpY29uO1xuICAgICAgICB0aGlzLnNraXBGYWRlID0gc2tpcEZhZGU7XG4gICAgICAgIHRoaXMuY2xpcHBlZCA9IGNsaXBwZWQ7XG4gICAgfVxufVxuXG5jbGFzcyBDb2xsaXNpb25DaXJjbGVBcnJheSB7XG4gICAgLy8gU3RvcmVzIGNvbGxpc2lvbiBjaXJjbGVzIGFuZCBwbGFjZW1lbnQgbWF0cmljZXMgb2YgYSBidWNrZXQgZm9yIGRlYnVnIHJlbmRlcmluZy5cbiAgICBpbnZQcm9qTWF0cml4OiBNYXQ0O1xuICAgIHZpZXdwb3J0TWF0cml4OiBNYXQ0O1xuICAgIGNpcmNsZXM6IEFycmF5PG51bWJlcj47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbnZQcm9qTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydE1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuY2lyY2xlcyA9IFtdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJldGFpbmVkUXVlcnlEYXRhIHtcbiAgICBidWNrZXRJbnN0YW5jZUlkOiBudW1iZXI7XG4gICAgZmVhdHVyZUluZGV4OiBGZWF0dXJlSW5kZXg7XG4gICAgc291cmNlTGF5ZXJJbmRleDogbnVtYmVyO1xuICAgIGJ1Y2tldEluZGV4OiBudW1iZXI7XG4gICAgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEO1xuICAgIGZlYXR1cmVTb3J0T3JkZXI6ID9BcnJheTxudW1iZXI+XG4gICAgY29uc3RydWN0b3IoYnVja2V0SW5zdGFuY2VJZDogbnVtYmVyLFxuICAgICAgICAgICAgICAgIGZlYXR1cmVJbmRleDogRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgIHNvdXJjZUxheWVySW5kZXg6IG51bWJlcixcbiAgICAgICAgICAgICAgICBidWNrZXRJbmRleDogbnVtYmVyLFxuICAgICAgICAgICAgICAgIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCkge1xuICAgICAgICB0aGlzLmJ1Y2tldEluc3RhbmNlSWQgPSBidWNrZXRJbnN0YW5jZUlkO1xuICAgICAgICB0aGlzLmZlYXR1cmVJbmRleCA9IGZlYXR1cmVJbmRleDtcbiAgICAgICAgdGhpcy5zb3VyY2VMYXllckluZGV4ID0gc291cmNlTGF5ZXJJbmRleDtcbiAgICAgICAgdGhpcy5idWNrZXRJbmRleCA9IGJ1Y2tldEluZGV4O1xuICAgICAgICB0aGlzLnRpbGVJRCA9IHRpbGVJRDtcbiAgICB9XG59XG5cbnR5cGUgQ29sbGlzaW9uR3JvdXAgPSB7fElEOiBudW1iZXIsIHByZWRpY2F0ZT86IGFueXx9O1xuXG5jbGFzcyBDb2xsaXNpb25Hcm91cHMge1xuICAgIGNvbGxpc2lvbkdyb3Vwczoge1tncm91cE5hbWU6IHN0cmluZ106IENvbGxpc2lvbkdyb3VwfTtcbiAgICBtYXhHcm91cElEOiBudW1iZXI7XG4gICAgY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zID0gY3Jvc3NTb3VyY2VDb2xsaXNpb25zO1xuICAgICAgICB0aGlzLm1heEdyb3VwSUQgPSAwO1xuICAgICAgICB0aGlzLmNvbGxpc2lvbkdyb3VwcyA9IHt9O1xuICAgIH1cblxuICAgIGdldChzb3VyY2VJRDogc3RyaW5nKTogQ29sbGlzaW9uR3JvdXAge1xuICAgICAgICAvLyBUaGUgcHJlZGljYXRlL2dyb3VwSUQgbWVjaGFuaXNtIGFsbG93cyBmb3IgYXJiaXRyYXJ5IGdyb3VwaW5nLFxuICAgICAgICAvLyBidXQgdGhlIGN1cnJlbnQgaW50ZXJmYWNlIGRlZmluZXMgb25lIHNvdXJjZSA9PSBvbmUgZ3JvdXAgd2hlblxuICAgICAgICAvLyBjcm9zc1NvdXJjZUNvbGxpc2lvbnMgPT0gdHJ1ZS5cbiAgICAgICAgaWYgKCF0aGlzLmNyb3NzU291cmNlQ29sbGlzaW9ucykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbGxpc2lvbkdyb3Vwc1tzb3VyY2VJRF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0R3JvdXBJRCA9ICsrdGhpcy5tYXhHcm91cElEO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uR3JvdXBzW3NvdXJjZUlEXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgSUQ6IG5leHRHcm91cElELFxuICAgICAgICAgICAgICAgICAgICBwcmVkaWNhdGU6IChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuY29sbGlzaW9uR3JvdXBJRCA9PT0gbmV4dEdyb3VwSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlzaW9uR3JvdXBzW3NvdXJjZUlEXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7SUQ6IDAsIHByZWRpY2F0ZTogbnVsbH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVZhcmlhYmxlTGF5b3V0U2hpZnQoYW5jaG9yOiBUZXh0QW5jaG9yLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgdGV4dE9mZnNldDogW251bWJlciwgbnVtYmVyXSwgdGV4dFNjYWxlOiBudW1iZXIpOiBQb2ludCB7XG4gICAgY29uc3Qge2hvcml6b250YWxBbGlnbiwgdmVydGljYWxBbGlnbn0gPSBnZXRBbmNob3JBbGlnbm1lbnQoYW5jaG9yKTtcbiAgICBjb25zdCBzaGlmdFggPSAtKGhvcml6b250YWxBbGlnbiAtIDAuNSkgKiB3aWR0aDtcbiAgICBjb25zdCBzaGlmdFkgPSAtKHZlcnRpY2FsQWxpZ24gLSAwLjUpICogaGVpZ2h0O1xuICAgIGNvbnN0IG9mZnNldCA9IGV2YWx1YXRlVmFyaWFibGVPZmZzZXQoYW5jaG9yLCB0ZXh0T2Zmc2V0KTtcbiAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICBzaGlmdFggKyBvZmZzZXRbMF0gKiB0ZXh0U2NhbGUsXG4gICAgICAgIHNoaWZ0WSArIG9mZnNldFsxXSAqIHRleHRTY2FsZVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIG9mZnNldFNoaWZ0KHNoaWZ0WDogbnVtYmVyLCBzaGlmdFk6IG51bWJlciwgcm90YXRlV2l0aE1hcDogYm9vbGVhbiwgcGl0Y2hXaXRoTWFwOiBib29sZWFuLCBhbmdsZTogbnVtYmVyKTogUG9pbnQge1xuICAgIGNvbnN0IHNoaWZ0ID0gbmV3IFBvaW50KHNoaWZ0WCwgc2hpZnRZKTtcbiAgICBpZiAocm90YXRlV2l0aE1hcCkge1xuICAgICAgICBzaGlmdC5fcm90YXRlKHBpdGNoV2l0aE1hcCA/IGFuZ2xlIDogLWFuZ2xlKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoaWZ0O1xufVxuXG5leHBvcnQgdHlwZSBWYXJpYWJsZU9mZnNldCA9IHtcbiAgICB0ZXh0T2Zmc2V0OiBbbnVtYmVyLCBudW1iZXJdLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgYW5jaG9yOiBUZXh0QW5jaG9yLFxuICAgIHRleHRTY2FsZTogbnVtYmVyLFxuICAgIHByZXZBbmNob3I/OiBUZXh0QW5jaG9yXG59O1xuXG50eXBlIFRpbGVMYXllclBhcmFtZXRlcnMgPSB7XG4gICAgYnVja2V0OiBTeW1ib2xCdWNrZXQsXG4gICAgbGF5b3V0OiBhbnksXG4gICAgcG9zTWF0cml4OiBNYXQ0LFxuICAgIHRleHRMYWJlbFBsYW5lTWF0cml4OiBNYXQ0LFxuICAgIGxhYmVsVG9TY3JlZW5NYXRyaXg6ID9NYXQ0LFxuICAgIHNjYWxlOiBudW1iZXIsXG4gICAgdGV4dFBpeGVsUmF0aW86IG51bWJlcixcbiAgICBob2xkaW5nRm9yRmFkZTogYm9vbGVhbixcbiAgICBjb2xsaXNpb25Cb3hBcnJheTogP0NvbGxpc2lvbkJveEFycmF5LFxuICAgIHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOiBhbnksXG4gICAgY29sbGlzaW9uR3JvdXA6IGFueVxufTtcblxuZXhwb3J0IHR5cGUgQnVja2V0UGFydCA9IHtcbiAgICBzb3J0S2V5PzogbnVtYmVyIHwgdm9pZCxcbiAgICBzeW1ib2xJbnN0YW5jZVN0YXJ0OiBudW1iZXIsXG4gICAgc3ltYm9sSW5zdGFuY2VFbmQ6IG51bWJlcixcbiAgICBwYXJhbWV0ZXJzOiBUaWxlTGF5ZXJQYXJhbWV0ZXJzXG59O1xuXG5leHBvcnQgdHlwZSBDcm9zc1RpbGVJRCA9IHN0cmluZyB8IG51bWJlcjtcblxuZXhwb3J0IGNsYXNzIFBsYWNlbWVudCB7XG4gICAgcHJvamVjdGlvbjogc3RyaW5nO1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIGNvbGxpc2lvbkluZGV4OiBDb2xsaXNpb25JbmRleDtcbiAgICBwbGFjZW1lbnRzOiB7IFtfOiBDcm9zc1RpbGVJRF06IEpvaW50UGxhY2VtZW50IH07XG4gICAgb3BhY2l0aWVzOiB7IFtfOiBDcm9zc1RpbGVJRF06IEpvaW50T3BhY2l0eVN0YXRlIH07XG4gICAgdmFyaWFibGVPZmZzZXRzOiB7W186IENyb3NzVGlsZUlEXTogVmFyaWFibGVPZmZzZXQgfTtcbiAgICBwbGFjZWRPcmllbnRhdGlvbnM6IHtbXzogQ3Jvc3NUaWxlSURdOiBudW1iZXIgfTtcbiAgICBjb21taXRUaW1lOiBudW1iZXI7XG4gICAgcHJldlpvb21BZGp1c3RtZW50OiBudW1iZXI7XG4gICAgbGFzdFBsYWNlbWVudENoYW5nZVRpbWU6IG51bWJlcjtcbiAgICBzdGFsZTogYm9vbGVhbjtcbiAgICBmYWRlRHVyYXRpb246IG51bWJlcjtcbiAgICByZXRhaW5lZFF1ZXJ5RGF0YToge1tfOiBudW1iZXJdOiBSZXRhaW5lZFF1ZXJ5RGF0YX07XG4gICAgY29sbGlzaW9uR3JvdXBzOiBDb2xsaXNpb25Hcm91cHM7XG4gICAgcHJldlBsYWNlbWVudDogP1BsYWNlbWVudDtcbiAgICB6b29tQXRMYXN0UmVjZW5jeUNoZWNrOiBudW1iZXI7XG4gICAgY29sbGlzaW9uQ2lyY2xlQXJyYXlzOiB7W2FueV06IENvbGxpc2lvbkNpcmNsZUFycmF5fTtcblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogVHJhbnNmb3JtLCBmYWRlRHVyYXRpb246IG51bWJlciwgY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiBib29sZWFuLCBwcmV2UGxhY2VtZW50PzogUGxhY2VtZW50LCBmb2dTdGF0ZTogP0ZvZ1N0YXRlKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtLmNsb25lKCk7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbiA9IHRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWU7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uSW5kZXggPSBuZXcgQ29sbGlzaW9uSW5kZXgodGhpcy50cmFuc2Zvcm0sIGZvZ1N0YXRlKTtcbiAgICAgICAgdGhpcy5wbGFjZW1lbnRzID0ge307XG4gICAgICAgIHRoaXMub3BhY2l0aWVzID0ge307XG4gICAgICAgIHRoaXMudmFyaWFibGVPZmZzZXRzID0ge307XG4gICAgICAgIHRoaXMuc3RhbGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb21taXRUaW1lID0gMDtcbiAgICAgICAgdGhpcy5mYWRlRHVyYXRpb24gPSBmYWRlRHVyYXRpb247XG4gICAgICAgIHRoaXMucmV0YWluZWRRdWVyeURhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5jb2xsaXNpb25Hcm91cHMgPSBuZXcgQ29sbGlzaW9uR3JvdXBzKGNyb3NzU291cmNlQ29sbGlzaW9ucyk7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzID0ge307XG5cbiAgICAgICAgdGhpcy5wcmV2UGxhY2VtZW50ID0gcHJldlBsYWNlbWVudDtcbiAgICAgICAgaWYgKHByZXZQbGFjZW1lbnQpIHtcbiAgICAgICAgICAgIHByZXZQbGFjZW1lbnQucHJldlBsYWNlbWVudCA9IHVuZGVmaW5lZDsgLy8gT25seSBob2xkIG9uIHRvIG9uZSBwbGFjZW1lbnQgYmFja1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGFjZWRPcmllbnRhdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBnZXRCdWNrZXRQYXJ0cyhyZXN1bHRzOiBBcnJheTxCdWNrZXRQYXJ0Piwgc3R5bGVMYXllcjogU3R5bGVMYXllciwgdGlsZTogVGlsZSwgc29ydEFjcm9zc1RpbGVzOiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IHN5bWJvbEJ1Y2tldCA9ICgodGlsZS5nZXRCdWNrZXQoc3R5bGVMYXllcik6IGFueSk6IFN5bWJvbEJ1Y2tldCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldEZlYXR1cmVJbmRleCA9IHRpbGUubGF0ZXN0RmVhdHVyZUluZGV4O1xuXG4gICAgICAgIGlmICghc3ltYm9sQnVja2V0IHx8ICFidWNrZXRGZWF0dXJlSW5kZXggfHwgc3R5bGVMYXllci5pZCAhPT0gc3ltYm9sQnVja2V0LmxheWVySWRzWzBdKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHN5bWJvbEJ1Y2tldC5sYXllcnNbMF0ubGF5b3V0O1xuXG4gICAgICAgIGNvbnN0IGNvbGxpc2lvbkJveEFycmF5ID0gdGlsZS5jb2xsaXNpb25Cb3hBcnJheTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygyLCB0aGlzLnRyYW5zZm9ybS56b29tIC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgICAgICBjb25zdCB0ZXh0UGl4ZWxSYXRpbyA9IHRpbGUudGlsZVNpemUgLyBFWFRFTlQ7XG4gICAgICAgIGNvbnN0IHVud3JhcHBlZFRpbGVJRCA9IHRpbGUudGlsZUlELnRvVW53cmFwcGVkKCk7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihzeW1ib2xCdWNrZXQucHJvamVjdGlvbik7XG5cbiAgICAgICAgY29uc3QgcG9zTWF0cml4ID0gZ2V0U3ltYm9sUGxhY2VtZW50VGlsZVByb2plY3Rpb25NYXRyaXgodGlsZS50aWxlSUQsIHN5bWJvbEJ1Y2tldC5nZXRQcm9qZWN0aW9uKCksIHRoaXMudHJhbnNmb3JtLCB0aGlzLnByb2plY3Rpb24pO1xuXG4gICAgICAgIGNvbnN0IHBpdGNoV2l0aE1hcCA9IGxheW91dC5nZXQoJ3RleHQtcGl0Y2gtYWxpZ25tZW50JykgPT09ICdtYXAnO1xuICAgICAgICBjb25zdCByb3RhdGVXaXRoTWFwID0gbGF5b3V0LmdldCgndGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQnKSA9PT0gJ21hcCc7XG5cbiAgICAgICAgc3R5bGVMYXllci5jb21waWxlRmlsdGVyKCk7XG5cbiAgICAgICAgY29uc3QgZHluYW1pY0ZpbHRlciA9IHN0eWxlTGF5ZXIuZHluYW1pY0ZpbHRlcigpO1xuICAgICAgICBjb25zdCBkeW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlID0gc3R5bGVMYXllci5keW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlKCk7XG4gICAgICAgIGNvbnN0IHBpeGVsc1RvVGlsZXMgPSB0aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0aWxlKTtcblxuICAgICAgICBjb25zdCB0ZXh0TGFiZWxQbGFuZU1hdHJpeCA9IHByb2plY3Rpb24uZ2V0TGFiZWxQbGFuZU1hdHJpeEZvclBsYWNlbWVudChwb3NNYXRyaXgsXG4gICAgICAgICAgICAgICAgdGlsZS50aWxlSUQuY2Fub25pY2FsLFxuICAgICAgICAgICAgICAgIHBpdGNoV2l0aE1hcCxcbiAgICAgICAgICAgICAgICByb3RhdGVXaXRoTWFwLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIHN5bWJvbEJ1Y2tldC5nZXRQcm9qZWN0aW9uKCksXG4gICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlcyk7XG5cbiAgICAgICAgbGV0IGxhYmVsVG9TY3JlZW5NYXRyaXggPSBudWxsO1xuXG4gICAgICAgIGlmIChwaXRjaFdpdGhNYXApIHtcbiAgICAgICAgICAgIGNvbnN0IGdsTWF0cml4ID0gcHJvamVjdGlvbi5nZXRHbENvb3JkTWF0cml4KFxuICAgICAgICAgICAgICAgIHBvc01hdHJpeCxcbiAgICAgICAgICAgICAgICB0aWxlLnRpbGVJRC5jYW5vbmljYWwsXG4gICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwLFxuICAgICAgICAgICAgICAgIHJvdGF0ZVdpdGhNYXAsXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgc3ltYm9sQnVja2V0LmdldFByb2plY3Rpb24oKSxcbiAgICAgICAgICAgICAgICBwaXhlbHNUb1RpbGVzKTtcblxuICAgICAgICAgICAgbGFiZWxUb1NjcmVlbk1hdHJpeCA9IG1hdDQubXVsdGlwbHkoW10sIHRoaXMudHJhbnNmb3JtLmxhYmVsUGxhbmVNYXRyaXgsIGdsTWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjbGlwcGluZ0RhdGEgPSBudWxsO1xuICAgICAgICBhc3NlcnQoISF0aWxlLmxhdGVzdEZlYXR1cmVJbmRleCk7XG4gICAgICAgIGlmICghIWR5bmFtaWNGaWx0ZXIgJiYgdGlsZS5sYXRlc3RGZWF0dXJlSW5kZXgpIHtcblxuICAgICAgICAgICAgY2xpcHBpbmdEYXRhID0ge1xuICAgICAgICAgICAgICAgIHVud3JhcHBlZFRpbGVJRCxcbiAgICAgICAgICAgICAgICBkeW5hbWljRmlsdGVyLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUsXG4gICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4OiB0aWxlLmxhdGVzdEZlYXR1cmVJbmRleFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFzIGxvbmcgYXMgdGhpcyBwbGFjZW1lbnQgbGl2ZXMsIHdlIGhhdmUgdG8gaG9sZCBvbnRvIHRoaXMgYnVja2V0J3NcbiAgICAgICAgLy8gbWF0Y2hpbmcgRmVhdHVyZUluZGV4L2RhdGEgZm9yIHF1ZXJ5aW5nIHB1cnBvc2VzXG4gICAgICAgIHRoaXMucmV0YWluZWRRdWVyeURhdGFbc3ltYm9sQnVja2V0LmJ1Y2tldEluc3RhbmNlSWRdID0gbmV3IFJldGFpbmVkUXVlcnlEYXRhKFxuICAgICAgICAgICAgc3ltYm9sQnVja2V0LmJ1Y2tldEluc3RhbmNlSWQsXG4gICAgICAgICAgICBidWNrZXRGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICBzeW1ib2xCdWNrZXQuc291cmNlTGF5ZXJJbmRleCxcbiAgICAgICAgICAgIHN5bWJvbEJ1Y2tldC5pbmRleCxcbiAgICAgICAgICAgIHRpbGUudGlsZUlEXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IHtcbiAgICAgICAgICAgIGJ1Y2tldDogc3ltYm9sQnVja2V0LFxuICAgICAgICAgICAgbGF5b3V0LFxuICAgICAgICAgICAgcG9zTWF0cml4LFxuICAgICAgICAgICAgdGV4dExhYmVsUGxhbmVNYXRyaXgsXG4gICAgICAgICAgICBsYWJlbFRvU2NyZWVuTWF0cml4LFxuICAgICAgICAgICAgY2xpcHBpbmdEYXRhLFxuICAgICAgICAgICAgc2NhbGUsXG4gICAgICAgICAgICB0ZXh0UGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIGhvbGRpbmdGb3JGYWRlOiB0aWxlLmhvbGRpbmdGb3JGYWRlKCksXG4gICAgICAgICAgICBjb2xsaXNpb25Cb3hBcnJheSxcbiAgICAgICAgICAgIHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOiBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvclpvb20oc3ltYm9sQnVja2V0LnRleHRTaXplRGF0YSwgdGhpcy50cmFuc2Zvcm0uem9vbSksXG4gICAgICAgICAgICBwYXJ0aWFsbHlFdmFsdWF0ZWRJY29uU2l6ZTogc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3Jab29tKHN5bWJvbEJ1Y2tldC5pY29uU2l6ZURhdGEsIHRoaXMudHJhbnNmb3JtLnpvb20pLFxuICAgICAgICAgICAgY29sbGlzaW9uR3JvdXA6IHRoaXMuY29sbGlzaW9uR3JvdXBzLmdldChzeW1ib2xCdWNrZXQuc291cmNlSUQpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHNvcnRBY3Jvc3NUaWxlcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCByYW5nZSBvZiBzeW1ib2xCdWNrZXQuc29ydEtleVJhbmdlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHtzb3J0S2V5LCBzeW1ib2xJbnN0YW5jZVN0YXJ0LCBzeW1ib2xJbnN0YW5jZUVuZH0gPSByYW5nZTtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe3NvcnRLZXksIHN5bWJvbEluc3RhbmNlU3RhcnQsIHN5bWJvbEluc3RhbmNlRW5kLCBwYXJhbWV0ZXJzfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlU3RhcnQ6IDAsXG4gICAgICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2VFbmQ6IHN5bWJvbEJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXR0ZW1wdEFuY2hvclBsYWNlbWVudChhbmNob3I6IFRleHRBbmNob3IsIHRleHRCb3g6IFNpbmdsZUNvbGxpc2lvbkJveCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2NhbGU6IG51bWJlciwgcm90YXRlV2l0aE1hcDogYm9vbGVhbiwgcGl0Y2hXaXRoTWFwOiBib29sZWFuLCB0ZXh0UGl4ZWxSYXRpbzogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zTWF0cml4OiBNYXQ0LCBjb2xsaXNpb25Hcm91cDogQ29sbGlzaW9uR3JvdXAsIHRleHRBbGxvd092ZXJsYXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xJbnN0YW5jZTogU3ltYm9sSW5zdGFuY2UsIGJveEluZGV4OiBudW1iZXIsIGJ1Y2tldDogU3ltYm9sQnVja2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb246IG51bWJlciwgaWNvbkJveDogP1NpbmdsZUNvbGxpc2lvbkJveCwgdGV4dFNpemU6IGFueSwgaWNvblNpemU6IGFueSk6ID97IHNoaWZ0OiBQb2ludCwgcGxhY2VkR2x5cGhCb3hlczogUGxhY2VkQ29sbGlzaW9uQm94IH0gIHtcblxuICAgICAgICBjb25zdCB7dGV4dE9mZnNldDAsIHRleHRPZmZzZXQxLCBjcm9zc1RpbGVJRH0gPSBzeW1ib2xJbnN0YW5jZTtcbiAgICAgICAgY29uc3QgdGV4dE9mZnNldCA9IFt0ZXh0T2Zmc2V0MCwgdGV4dE9mZnNldDFdO1xuICAgICAgICBjb25zdCBzaGlmdCA9IGNhbGN1bGF0ZVZhcmlhYmxlTGF5b3V0U2hpZnQoYW5jaG9yLCB3aWR0aCwgaGVpZ2h0LCB0ZXh0T2Zmc2V0LCB0ZXh0U2NhbGUpO1xuXG4gICAgICAgIGNvbnN0IHBsYWNlZEdseXBoQm94ZXMgPSB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KFxuICAgICAgICAgICAgYnVja2V0LCB0ZXh0U2NhbGUsIHRleHRCb3gsIG9mZnNldFNoaWZ0KHNoaWZ0LngsIHNoaWZ0LnksIHJvdGF0ZVdpdGhNYXAsIHBpdGNoV2l0aE1hcCwgdGhpcy50cmFuc2Zvcm0uYW5nbGUpLFxuICAgICAgICAgICAgdGV4dEFsbG93T3ZlcmxhcCwgdGV4dFBpeGVsUmF0aW8sIHBvc01hdHJpeCwgY29sbGlzaW9uR3JvdXAucHJlZGljYXRlKTtcbiAgICAgICAgaWYgKGljb25Cb3gpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBidWNrZXQuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShpY29uU2l6ZSwgdGhpcy50cmFuc2Zvcm0uem9vbSwgc3ltYm9sSW5zdGFuY2UucGxhY2VkSWNvblN5bWJvbEluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlZEljb25Cb3hlcyA9IHRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3goXG4gICAgICAgICAgICAgICAgYnVja2V0LCBzaXplLFxuICAgICAgICAgICAgICAgIGljb25Cb3gsIG9mZnNldFNoaWZ0KHNoaWZ0LngsIHNoaWZ0LnksIHJvdGF0ZVdpdGhNYXAsIHBpdGNoV2l0aE1hcCwgdGhpcy50cmFuc2Zvcm0uYW5nbGUpLFxuICAgICAgICAgICAgICAgIHRleHRBbGxvd092ZXJsYXAsIHRleHRQaXhlbFJhdGlvLCBwb3NNYXRyaXgsIGNvbGxpc2lvbkdyb3VwLnByZWRpY2F0ZSk7XG4gICAgICAgICAgICBpZiAocGxhY2VkSWNvbkJveGVzLmJveC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGFjZWRHbHlwaEJveGVzLmJveC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgcHJldkFuY2hvcjtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgbGFiZWwgd2FzIHBsYWNlZCBpbiB0aGUgcHJldmlvdXMgcGxhY2VtZW50LCByZWNvcmQgdGhlIGFuY2hvciBwb3NpdGlvblxuICAgICAgICAgICAgLy8gdG8gYWxsb3cgdXMgdG8gYW5pbWF0ZSB0aGUgdHJhbnNpdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMucHJldlBsYWNlbWVudCAmJlxuICAgICAgICAgICAgICAgIHRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbY3Jvc3NUaWxlSURdICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlbWVudHNbY3Jvc3NUaWxlSURdICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlbWVudHNbY3Jvc3NUaWxlSURdLnRleHQpIHtcbiAgICAgICAgICAgICAgICBwcmV2QW5jaG9yID0gdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tjcm9zc1RpbGVJRF0uYW5jaG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzZXJ0KGNyb3NzVGlsZUlEICE9PSAwKTtcbiAgICAgICAgICAgIHRoaXMudmFyaWFibGVPZmZzZXRzW2Nyb3NzVGlsZUlEXSA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0T2Zmc2V0LFxuICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICAgICAgdGV4dFNjYWxlLFxuICAgICAgICAgICAgICAgIHByZXZBbmNob3JcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihidWNrZXQsIGFuY2hvciwgc3ltYm9sSW5zdGFuY2UsIG9yaWVudGF0aW9uKTtcblxuICAgICAgICAgICAgaWYgKGJ1Y2tldC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKGJ1Y2tldCwgb3JpZW50YXRpb24sIHN5bWJvbEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tjcm9zc1RpbGVJRF0gPSBvcmllbnRhdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtzaGlmdCwgcGxhY2VkR2x5cGhCb3hlc307XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwbGFjZUxheWVyQnVja2V0UGFydChidWNrZXRQYXJ0OiBPYmplY3QsIHNlZW5Dcm9zc1RpbGVJRHM6IHsgW3N0cmluZyB8IG51bWJlcl06IGJvb2xlYW4gfSwgc2hvd0NvbGxpc2lvbkJveGVzOiBib29sZWFuLCB1cGRhdGVDb2xsaXNpb25Cb3hJZk5lY2Vzc2FyeTogYm9vbGVhbikge1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGJ1Y2tldCxcbiAgICAgICAgICAgIGxheW91dCxcbiAgICAgICAgICAgIHBvc01hdHJpeCxcbiAgICAgICAgICAgIHRleHRMYWJlbFBsYW5lTWF0cml4LFxuICAgICAgICAgICAgbGFiZWxUb1NjcmVlbk1hdHJpeCxcbiAgICAgICAgICAgIGNsaXBwaW5nRGF0YSxcbiAgICAgICAgICAgIHRleHRQaXhlbFJhdGlvLFxuICAgICAgICAgICAgaG9sZGluZ0ZvckZhZGUsXG4gICAgICAgICAgICBjb2xsaXNpb25Cb3hBcnJheSxcbiAgICAgICAgICAgIHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplLFxuICAgICAgICAgICAgcGFydGlhbGx5RXZhbHVhdGVkSWNvblNpemUsXG4gICAgICAgICAgICBjb2xsaXNpb25Hcm91cFxuICAgICAgICB9ID0gYnVja2V0UGFydC5wYXJhbWV0ZXJzO1xuXG4gICAgICAgIGNvbnN0IHRleHRPcHRpb25hbCA9IGxheW91dC5nZXQoJ3RleHQtb3B0aW9uYWwnKTtcbiAgICAgICAgY29uc3QgaWNvbk9wdGlvbmFsID0gbGF5b3V0LmdldCgnaWNvbi1vcHRpb25hbCcpO1xuICAgICAgICBjb25zdCB0ZXh0QWxsb3dPdmVybGFwID0gbGF5b3V0LmdldCgndGV4dC1hbGxvdy1vdmVybGFwJyk7XG4gICAgICAgIGNvbnN0IGljb25BbGxvd092ZXJsYXAgPSBsYXlvdXQuZ2V0KCdpY29uLWFsbG93LW92ZXJsYXAnKTtcbiAgICAgICAgY29uc3Qgcm90YXRlV2l0aE1hcCA9IGxheW91dC5nZXQoJ3RleHQtcm90YXRpb24tYWxpZ25tZW50JykgPT09ICdtYXAnO1xuICAgICAgICBjb25zdCBwaXRjaFdpdGhNYXAgPSBsYXlvdXQuZ2V0KCd0ZXh0LXBpdGNoLWFsaWdubWVudCcpID09PSAnbWFwJztcbiAgICAgICAgY29uc3QgaGFzSWNvblRleHRGaXQgPSBsYXlvdXQuZ2V0KCdpY29uLXRleHQtZml0JykgIT09ICdub25lJztcbiAgICAgICAgY29uc3Qgek9yZGVyQnlWaWV3cG9ydFkgPSBsYXlvdXQuZ2V0KCdzeW1ib2wtei1vcmRlcicpID09PSAndmlld3BvcnQteSc7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihidWNrZXQucHJvamVjdGlvbik7XG5cbiAgICAgICAgLy8gVGhpcyBsb2dpYyBpcyBzaW1pbGFyIHRvIHRoZSBcImRlZmF1bHRPcGFjaXR5U3RhdGVcIiBsb2dpYyBiZWxvdyBpbiB1cGRhdGVCdWNrZXRPcGFjaXRpZXNcbiAgICAgICAgLy8gSWYgd2Uga25vdyBhIHN5bWJvbCBpcyBhbHdheXMgc3VwcG9zZWQgdG8gc2hvdywgZm9yY2UgaXQgdG8gYmUgbWFya2VkIHZpc2libGUgZXZlbiBpZlxuICAgICAgICAvLyBpdCB3YXNuJ3QgcGxhY2VkIGludG8gdGhlIGNvbGxpc2lvbiBpbmRleCAoYmVjYXVzZSBzb21lIG9yIGFsbCBvZiBpdCB3YXMgb3V0c2lkZSB0aGUgcmFuZ2VcbiAgICAgICAgLy8gb2YgdGhlIGNvbGxpc2lvbiBncmlkKS5cbiAgICAgICAgLy8gVGhlcmUgaXMgYSBzdWJ0bGUgZWRnZSBjYXNlIGhlcmUgd2UncmUgYWNjZXB0aW5nOlxuICAgICAgICAvLyAgU3ltYm9sIEEgaGFzIHRleHQtYWxsb3ctb3ZlcmxhcDogdHJ1ZSwgaWNvbi1hbGxvdy1vdmVybGFwOiB0cnVlLCBpY29uLW9wdGlvbmFsOiBmYWxzZVxuICAgICAgICAvLyAgQSdzIGljb24gaXMgb3V0c2lkZSB0aGUgZ3JpZCwgc28gZG9lc24ndCBnZXQgcGxhY2VkXG4gICAgICAgIC8vICBBJ3MgdGV4dCB3b3VsZCBiZSBpbnNpZGUgZ3JpZCwgYnV0IGRvZXNuJ3QgZ2V0IHBsYWNlZCBiZWNhdXNlIG9mIGljb24tb3B0aW9uYWw6IGZhbHNlXG4gICAgICAgIC8vICBXZSBzdGlsbCBzaG93IEEgYmVjYXVzZSBvZiB0aGUgYWxsb3ctb3ZlcmxhcCBzZXR0aW5ncy5cbiAgICAgICAgLy8gIFN5bWJvbCBCIGhhcyBhbGxvdy1vdmVybGFwOiBmYWxzZSwgYW5kIGdldHMgcGxhY2VkIHdoZXJlIEEncyB0ZXh0IHdvdWxkIGJlXG4gICAgICAgIC8vICBPbiBwYW5uaW5nIGluLCB0aGVyZSBpcyBhIHNob3J0IHBlcmlvZCB3aGVuIFN5bWJvbCBCIGFuZCBTeW1ib2wgQSB3aWxsIG92ZXJsYXBcbiAgICAgICAgLy8gIFRoaXMgaXMgdGhlIHJldmVyc2Ugb2Ygb3VyIG5vcm1hbCBwb2xpY3kgb2YgXCJmYWRlIGluIG9uIHBhblwiLCBidXQgc2hvdWxkIGxvb2sgbGlrZSBhbnkgb3RoZXJcbiAgICAgICAgLy8gIGNvbGxpc2lvbiBhbmQgaG9wZWZ1bGx5IG5vdCBiZSB0b28gbm90aWNlYWJsZS5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy83MTcyXG4gICAgICAgIGxldCBhbHdheXNTaG93VGV4dCA9IHRleHRBbGxvd092ZXJsYXAgJiYgKGljb25BbGxvd092ZXJsYXAgfHwgIWJ1Y2tldC5oYXNJY29uRGF0YSgpIHx8IGljb25PcHRpb25hbCk7XG4gICAgICAgIGxldCBhbHdheXNTaG93SWNvbiA9IGljb25BbGxvd092ZXJsYXAgJiYgKHRleHRBbGxvd092ZXJsYXAgfHwgIWJ1Y2tldC5oYXNUZXh0RGF0YSgpIHx8IHRleHRPcHRpb25hbCk7XG5cbiAgICAgICAgaWYgKCFidWNrZXQuY29sbGlzaW9uQXJyYXlzICYmIGNvbGxpc2lvbkJveEFycmF5KSB7XG4gICAgICAgICAgICBidWNrZXQuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhjb2xsaXNpb25Cb3hBcnJheSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hvd0NvbGxpc2lvbkJveGVzICYmIHVwZGF0ZUNvbGxpc2lvbkJveElmTmVjZXNzYXJ5KSB7XG4gICAgICAgICAgICBidWNrZXQudXBkYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKHRoaXMudHJhbnNmb3JtLnpvb20sIGNvbGxpc2lvbkJveEFycmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBsYWNlU3ltYm9sID0gKHN5bWJvbEluc3RhbmNlOiBTeW1ib2xJbnN0YW5jZSwgYm94SW5kZXg6IG51bWJlciwgY29sbGlzaW9uQXJyYXlzOiBDb2xsaXNpb25BcnJheXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHtjcm9zc1RpbGVJRCwgbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzfSA9IHN5bWJvbEluc3RhbmNlO1xuXG4gICAgICAgICAgICBpZiAoY2xpcHBpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgZ2xvYmFsc1xuICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHpvb206IHRoaXMudHJhbnNmb3JtLnpvb20sXG4gICAgICAgICAgICAgICAgICAgIHBpdGNoOiB0aGlzLnRyYW5zZm9ybS5waXRjaCxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gRGVzZXJpYWxpemUgZmVhdHVyZSBvbmx5IGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgIGxldCBmZWF0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoY2xpcHBpbmdEYXRhLmR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZUluZGV4ID0gY2xpcHBpbmdEYXRhLmZlYXR1cmVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0YWluZWRRdWVyeURhdGEgPSB0aGlzLnJldGFpbmVkUXVlcnlEYXRhW2J1Y2tldC5idWNrZXRJbnN0YW5jZUlkXTtcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZSA9IGZlYXR1cmVJbmRleC5sb2FkRmVhdHVyZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXg6IHN5bWJvbEluc3RhbmNlLmZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldEluZGV4OiByZXRhaW5lZFF1ZXJ5RGF0YS5idWNrZXRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUxheWVySW5kZXg6IHJldGFpbmVkUXVlcnlEYXRhLnNvdXJjZUxheWVySW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldDogMFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2Fub25pY2FsVGlsZUlkID0gdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtidWNrZXQuYnVja2V0SW5zdGFuY2VJZF0udGlsZUlELmNhbm9uaWNhbDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlckZ1bmMgPSBjbGlwcGluZ0RhdGEuZHluYW1pY0ZpbHRlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRDbGlwID0gIWZpbHRlckZ1bmMoZ2xvYmFscywgZmVhdHVyZSwgY2Fub25pY2FsVGlsZUlkLCBuZXcgUG9pbnQoc3ltYm9sSW5zdGFuY2UudGlsZUFuY2hvclgsIHN5bWJvbEluc3RhbmNlLnRpbGVBbmNob3JZKSwgdGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlRGlzdGFuY2VUaWxlRGF0YShjbGlwcGluZ0RhdGEudW53cmFwcGVkVGlsZUlEKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkQ2xpcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlbWVudHNbY3Jvc3NUaWxlSURdID0gbmV3IEpvaW50UGxhY2VtZW50KGZhbHNlLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzZWVuQ3Jvc3NUaWxlSURzW2Nyb3NzVGlsZUlEXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZWVuQ3Jvc3NUaWxlSURzW2Nyb3NzVGlsZUlEXSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGhvbGRpbmdGb3JGYWRlKSB7XG4gICAgICAgICAgICAgICAgLy8gTWFyayBhbGwgc3ltYm9scyBmcm9tIHRoaXMgdGlsZSBhcyBcIm5vdCBwbGFjZWRcIiwgYnV0IGRvbid0IGFkZCB0byBzZWVuQ3Jvc3NUaWxlSURzLCBiZWNhdXNlIHdlIGRvbid0XG4gICAgICAgICAgICAgICAgLy8ga25vdyB5ZXQgaWYgd2UgaGF2ZSBhIGR1cGxpY2F0ZSBpbiBhIHBhcmVudCB0aWxlIHRoYXQgX3Nob3VsZF8gYmUgcGxhY2VkLlxuICAgICAgICAgICAgICAgIHRoaXMucGxhY2VtZW50c1tjcm9zc1RpbGVJRF0gPSBuZXcgSm9pbnRQbGFjZW1lbnQoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHBsYWNlVGV4dDogP2Jvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBwbGFjZUljb246ID9ib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgb2Zmc2NyZWVuOiA/Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgICAgICBsZXQgdGV4dE9jY2x1ZGVkOiA/Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGljb25PY2NsdWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHNoaWZ0ID0gbnVsbDtcblxuICAgICAgICAgICAgbGV0IHBsYWNlZDogUGFydGlhbFBsYWNlZENvbGxpc2lvbkJveCA9IHtib3g6IG51bGwsIG9mZnNjcmVlbjogbnVsbCwgb2NjbHVkZWQ6IG51bGx9O1xuICAgICAgICAgICAgbGV0IHBsYWNlZFZlcnRpY2FsVGV4dDogUGFydGlhbFBsYWNlZENvbGxpc2lvbkJveCA9IHtib3g6IG51bGwsIG9mZnNjcmVlbjogbnVsbCwgb2NjbHVkZWQ6IG51bGx9O1xuXG4gICAgICAgICAgICBsZXQgcGxhY2VkR2x5cGhCb3hlcyA9IG51bGw7XG4gICAgICAgICAgICBsZXQgcGxhY2VkR2x5cGhDaXJjbGVzID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBwbGFjZWRJY29uQm94ZXMgPSBudWxsO1xuICAgICAgICAgICAgbGV0IHRleHRGZWF0dXJlSW5kZXggPSAwO1xuICAgICAgICAgICAgbGV0IHZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleCA9IDA7XG4gICAgICAgICAgICBsZXQgaWNvbkZlYXR1cmVJbmRleCA9IDA7XG5cbiAgICAgICAgICAgIGlmIChjb2xsaXNpb25BcnJheXMudGV4dEZlYXR1cmVJbmRleCkge1xuICAgICAgICAgICAgICAgIHRleHRGZWF0dXJlSW5kZXggPSBjb2xsaXNpb25BcnJheXMudGV4dEZlYXR1cmVJbmRleDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3ltYm9sSW5zdGFuY2UudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMpIHtcbiAgICAgICAgICAgICAgICB0ZXh0RmVhdHVyZUluZGV4ID0gc3ltYm9sSW5zdGFuY2UuZmVhdHVyZUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cy52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXggPSBjb2xsaXNpb25BcnJheXMudmVydGljYWxUZXh0RmVhdHVyZUluZGV4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVCb3hEYXRhID0gKGJveDogU2luZ2xlQ29sbGlzaW9uQm94KSA9PiB7XG4gICAgICAgICAgICAgICAgYm94LnRpbGVJRCA9IHRoaXMucmV0YWluZWRRdWVyeURhdGFbYnVja2V0LmJ1Y2tldEluc3RhbmNlSWRdLnRpbGVJRDtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGV2YXRpb24gPSB0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb247XG4gICAgICAgICAgICAgICAgaWYgKCFlbGV2YXRpb24gJiYgIWJveC5lbGV2YXRpb24pIHJldHVybjtcbiAgICAgICAgICAgICAgICBib3guZWxldmF0aW9uID0gZWxldmF0aW9uID8gZWxldmF0aW9uLmdldEF0VGlsZU9mZnNldChib3gudGlsZUlELCBib3gudGlsZUFuY2hvclgsIGJveC50aWxlQW5jaG9yWSkgOiAwO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgdGV4dEJveCA9IGNvbGxpc2lvbkFycmF5cy50ZXh0Qm94O1xuICAgICAgICAgICAgaWYgKHRleHRCb3gpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVCb3hEYXRhKHRleHRCb3gpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVByZXZpb3VzT3JpZW50YXRpb25JZk5vdFBsYWNlZCA9IChpc1BsYWNlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJldmlvdXNPcmllbnRhdGlvbiA9IFdyaXRpbmdNb2RlLmhvcml6b250YWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWNrZXQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCAmJiAhaXNQbGFjZWQgJiYgdGhpcy5wcmV2UGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2UGxhY2VkT3JpZW50YXRpb24gPSB0aGlzLnByZXZQbGFjZW1lbnQucGxhY2VkT3JpZW50YXRpb25zW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2UGxhY2VkT3JpZW50YXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tjcm9zc1RpbGVJRF0gPSBwcmV2UGxhY2VkT3JpZW50YXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNPcmllbnRhdGlvbiA9IHByZXZQbGFjZWRPcmllbnRhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtVc2VkT3JpZW50YXRpb24oYnVja2V0LCBwcmV2aW91c09yaWVudGF0aW9uLCBzeW1ib2xJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzT3JpZW50YXRpb247XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlVGV4dEZvclBsYWNlbWVudE1vZGVzID0gKHBsYWNlSG9yaXpvbnRhbEZuOiAoKSA9PiBQYXJ0aWFsUGxhY2VkQ29sbGlzaW9uQm94LCBwbGFjZVZlcnRpY2FsRm46ICgpID0+IFBhcnRpYWxQbGFjZWRDb2xsaXNpb25Cb3gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1Y2tldC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50ICYmIG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyA+IDAgJiYgY29sbGlzaW9uQXJyYXlzLnZlcnRpY2FsVGV4dEJveCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwbGFjZW1lbnRNb2RlIG9mIGJ1Y2tldC53cml0aW5nTW9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2VtZW50TW9kZSA9PT0gV3JpdGluZ01vZGUudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VkID0gcGxhY2VWZXJ0aWNhbEZuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlZFZlcnRpY2FsVGV4dCA9IHBsYWNlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWQgPSBwbGFjZUhvcml6b250YWxGbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2VkICYmIHBsYWNlZC5ib3ggJiYgcGxhY2VkLmJveC5sZW5ndGgpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VkID0gcGxhY2VIb3Jpem9udGFsRm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAoIWxheW91dC5nZXQoJ3RleHQtdmFyaWFibGUtYW5jaG9yJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxhY2VCb3ggPSAoY29sbGlzaW9uVGV4dEJveCwgb3JpZW50YXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRTY2FsZSA9IGJ1Y2tldC5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplLCBzeW1ib2xJbnN0YW5jZSwgdGhpcy50cmFuc2Zvcm0uem9vbSwgYm94SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxhY2VkRmVhdHVyZSA9IHRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3goYnVja2V0LCB0ZXh0U2NhbGUsIGNvbGxpc2lvblRleHRCb3gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KDAsIDApLCB0ZXh0QWxsb3dPdmVybGFwLCB0ZXh0UGl4ZWxSYXRpbywgcG9zTWF0cml4LCBjb2xsaXNpb25Hcm91cC5wcmVkaWNhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsYWNlZEZlYXR1cmUgJiYgcGxhY2VkRmVhdHVyZS5ib3ggJiYgcGxhY2VkRmVhdHVyZS5ib3gubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKGJ1Y2tldCwgb3JpZW50YXRpb24sIHN5bWJvbEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tjcm9zc1RpbGVJRF0gPSBvcmllbnRhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGFjZWRGZWF0dXJlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlSG9yaXpvbnRhbDogKCkgPT4gUGxhY2VkQ29sbGlzaW9uQm94ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsYWNlQm94KHRleHRCb3gsIFdyaXRpbmdNb2RlLmhvcml6b250YWwpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlVmVydGljYWw6ICgpID0+IFBsYWNlZENvbGxpc2lvbkJveCB8IFBhcnRpYWxQbGFjZWRDb2xsaXNpb25Cb3ggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbFRleHRCb3ggPSBjb2xsaXNpb25BcnJheXMudmVydGljYWxUZXh0Qm94O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1Y2tldC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50ICYmIG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyA+IDAgJiYgdmVydGljYWxUZXh0Qm94KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQm94RGF0YSh2ZXJ0aWNhbFRleHRCb3gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGFjZUJveCh2ZXJ0aWNhbFRleHRCb3gsIFdyaXRpbmdNb2RlLnZlcnRpY2FsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7Ym94OiBudWxsLCBvZmZzY3JlZW46IG51bGwsIG9jY2x1ZGVkOiBudWxsfTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBwbGFjZVRleHRGb3JQbGFjZW1lbnRNb2RlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICgocGxhY2VIb3Jpem9udGFsOiBhbnkpOiAoKSA9PiBQYXJ0aWFsUGxhY2VkQ29sbGlzaW9uQm94KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICgocGxhY2VWZXJ0aWNhbDogYW55KTogKCkgPT4gUGFydGlhbFBsYWNlZENvbGxpc2lvbkJveCksXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUHJldmlvdXNPcmllbnRhdGlvbklmTm90UGxhY2VkKHBsYWNlZCAmJiBwbGFjZWQuYm94ICYmIHBsYWNlZC5ib3gubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhbmNob3JzID0gbGF5b3V0LmdldCgndGV4dC12YXJpYWJsZS1hbmNob3InKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIHN5bWJvbCB3YXMgaW4gdGhlIGxhc3QgcGxhY2VtZW50LCBzaGlmdCB0aGUgcHJldmlvdXNseSB1c2VkXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuY2hvciB0byB0aGUgZnJvbnQgb2YgdGhlIGFuY2hvciBsaXN0LCBvbmx5IGlmIHRoZSBwcmV2aW91cyBhbmNob3JcbiAgICAgICAgICAgICAgICAgICAgLy8gaXMgc3RpbGwgaW4gdGhlIGFuY2hvciBsaXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXZQbGFjZW1lbnQgJiYgdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tjcm9zc1RpbGVJRF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZPZmZzZXRzID0gdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tjcm9zc1RpbGVJRF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5jaG9ycy5pbmRleE9mKHByZXZPZmZzZXRzLmFuY2hvcikgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9ycyA9IGFuY2hvcnMuZmlsdGVyKGFuY2hvciA9PiBhbmNob3IgIT09IHByZXZPZmZzZXRzLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9ycy51bnNoaWZ0KHByZXZPZmZzZXRzLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFjZUJveEZvclZhcmlhYmxlQW5jaG9ycyA9IChjb2xsaXNpb25UZXh0Qm94LCBjb2xsaXNpb25JY29uQm94LCBvcmllbnRhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dFNjYWxlID0gYnVja2V0LmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUocGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemUsIHN5bWJvbEluc3RhbmNlLCB0aGlzLnRyYW5zZm9ybS56b29tLCBib3hJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IChjb2xsaXNpb25UZXh0Qm94LngyIC0gY29sbGlzaW9uVGV4dEJveC54MSkgKiB0ZXh0U2NhbGUgKyAyLjAgKiBjb2xsaXNpb25UZXh0Qm94LnBhZGRpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAoY29sbGlzaW9uVGV4dEJveC55MiAtIGNvbGxpc2lvblRleHRCb3gueTEpICogdGV4dFNjYWxlICsgMi4wICogY29sbGlzaW9uVGV4dEJveC5wYWRkaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZUljb25Cb3ggPSBoYXNJY29uVGV4dEZpdCAmJiAhaWNvbkFsbG93T3ZlcmxhcCA/IGNvbGxpc2lvbkljb25Cb3ggOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcmlhYmxlSWNvbkJveCkgdXBkYXRlQm94RGF0YSh2YXJpYWJsZUljb25Cb3gpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGxhY2VkQm94OiBQYXJ0aWFsUGxhY2VkQ29sbGlzaW9uQm94ID0ge2JveDogW10sIG9mZnNjcmVlbjogZmFsc2UsIG9jY2x1ZGVkOiBmYWxzZX07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFjZW1lbnRBdHRlbXB0cyA9IHRleHRBbGxvd092ZXJsYXAgPyBhbmNob3JzLmxlbmd0aCAqIDIgOiBhbmNob3JzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhY2VtZW50QXR0ZW1wdHM7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGFuY2hvcnNbaSAlIGFuY2hvcnMubGVuZ3RoXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxvd092ZXJsYXAgPSAoaSA+PSBhbmNob3JzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hdHRlbXB0QW5jaG9yUGxhY2VtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IsIGNvbGxpc2lvblRleHRCb3gsIHdpZHRoLCBoZWlnaHQsIHRleHRTY2FsZSwgcm90YXRlV2l0aE1hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwLCB0ZXh0UGl4ZWxSYXRpbywgcG9zTWF0cml4LCBjb2xsaXNpb25Hcm91cCwgYWxsb3dPdmVybGFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xJbnN0YW5jZSwgYm94SW5kZXgsIGJ1Y2tldCwgb3JpZW50YXRpb24sIHZhcmlhYmxlSWNvbkJveCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemUsIHBhcnRpYWxseUV2YWx1YXRlZEljb25TaXplKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VkQm94ID0gKChyZXN1bHQucGxhY2VkR2x5cGhCb3hlczogYW55KTogUGFydGlhbFBsYWNlZENvbGxpc2lvbkJveCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGFjZWRCb3ggJiYgcGxhY2VkQm94LmJveCAmJiBwbGFjZWRCb3guYm94Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VUZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0ID0gcmVzdWx0LnNoaWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGFjZWRCb3g7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxhY2VIb3Jpem9udGFsID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsYWNlQm94Rm9yVmFyaWFibGVBbmNob3JzKHRleHRCb3gsIGNvbGxpc2lvbkFycmF5cy5pY29uQm94LCBXcml0aW5nTW9kZS5ob3Jpem9udGFsKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFjZVZlcnRpY2FsID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVydGljYWxUZXh0Qm94ID0gY29sbGlzaW9uQXJyYXlzLnZlcnRpY2FsVGV4dEJveDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ZXJ0aWNhbFRleHRCb3gpIHVwZGF0ZUJveERhdGEodmVydGljYWxUZXh0Qm94KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhc1BsYWNlZCA9IHBsYWNlZCAmJiBwbGFjZWQuYm94ICYmIHBsYWNlZC5ib3gubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1Y2tldC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50ICYmICF3YXNQbGFjZWQgJiYgbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzID4gMCAmJiB2ZXJ0aWNhbFRleHRCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGxhY2VCb3hGb3JWYXJpYWJsZUFuY2hvcnModmVydGljYWxUZXh0Qm94LCBjb2xsaXNpb25BcnJheXMudmVydGljYWxJY29uQm94LCBXcml0aW5nTW9kZS52ZXJ0aWNhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge2JveDogbnVsbCwgb2Zmc2NyZWVuOiBudWxsLCBvY2NsdWRlZDogbnVsbH07XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcGxhY2VUZXh0Rm9yUGxhY2VtZW50TW9kZXMocGxhY2VIb3Jpem9udGFsLCBwbGFjZVZlcnRpY2FsKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZVRleHQgPSBwbGFjZWQuYm94O1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2NyZWVuID0gcGxhY2VkLm9mZnNjcmVlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRPY2NsdWRlZCA9IHBsYWNlZC5vY2NsdWRlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZPcmllbnRhdGlvbiA9IHVwZGF0ZVByZXZpb3VzT3JpZW50YXRpb25JZk5vdFBsYWNlZChwbGFjZWQgJiYgcGxhY2VkLmJveCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGdldCBwbGFjZWQsIHdlIHN0aWxsIG5lZWQgdG8gY29weSBvdXIgcG9zaXRpb24gZnJvbSB0aGUgbGFzdCBwbGFjZW1lbnQgZm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIGZhZGUgYW5pbWF0aW9uc1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBsYWNlVGV4dCAmJiB0aGlzLnByZXZQbGFjZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZPZmZzZXQgPSB0aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2T2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YXJpYWJsZU9mZnNldHNbY3Jvc3NUaWxlSURdID0gcHJldk9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihidWNrZXQsIHByZXZPZmZzZXQuYW5jaG9yLCBzeW1ib2xJbnN0YW5jZSwgcHJldk9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwbGFjZWRHbHlwaEJveGVzID0gcGxhY2VkO1xuXG4gICAgICAgICAgICBwbGFjZVRleHQgPSBwbGFjZWRHbHlwaEJveGVzICYmIHBsYWNlZEdseXBoQm94ZXMuYm94ICYmIHBsYWNlZEdseXBoQm94ZXMuYm94Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBvZmZzY3JlZW4gPSBwbGFjZWRHbHlwaEJveGVzICYmIHBsYWNlZEdseXBoQm94ZXMub2Zmc2NyZWVuO1xuICAgICAgICAgICAgdGV4dE9jY2x1ZGVkID0gcGxhY2VkR2x5cGhCb3hlcyAmJiBwbGFjZWRHbHlwaEJveGVzLm9jY2x1ZGVkO1xuXG4gICAgICAgICAgICBpZiAoc3ltYm9sSW5zdGFuY2UudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWRTeW1ib2xJbmRleCA9IHN5bWJvbEluc3RhbmNlLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCA+PSAwID8gc3ltYm9sSW5zdGFuY2UuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4IDogc3ltYm9sSW5zdGFuY2UudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2VkU3ltYm9sID0gYnVja2V0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHBsYWNlZFN5bWJvbEluZGV4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBmb250U2l6ZSA9IHN5bWJvbFNpemUuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShidWNrZXQudGV4dFNpemVEYXRhLCBwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZSwgcGxhY2VkU3ltYm9sKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRQaXhlbFBhZGRpbmcgPSBsYXlvdXQuZ2V0KCd0ZXh0LXBhZGRpbmcnKTtcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGNpcmNsZSBjb2xsaXNpb24gaGVpZ2h0IGludG8gcGl4ZWxzXG4gICAgICAgICAgICAgICAgY29uc3QgY2lyY2xlUGl4ZWxEaWFtZXRlciA9IHN5bWJvbEluc3RhbmNlLmNvbGxpc2lvbkNpcmNsZURpYW1ldGVyICogZm9udFNpemUgLyBPTkVfRU07XG5cbiAgICAgICAgICAgICAgICBwbGFjZWRHbHlwaENpcmNsZXMgPSB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQ2lyY2xlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGxvd092ZXJsYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWRTeW1ib2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQubGluZVZlcnRleEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0LmdseXBoT2Zmc2V0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc01hdHJpeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbFBsYW5lTWF0cml4LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxUb1NjcmVlbk1hdHJpeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb2xsaXNpb25Cb3hlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpdGNoV2l0aE1hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkdyb3VwLnByZWRpY2F0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZVBpeGVsRGlhbWV0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UGl4ZWxQYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtidWNrZXQuYnVja2V0SW5zdGFuY2VJZF0udGlsZUlEKTtcblxuICAgICAgICAgICAgICAgIGFzc2VydCghcGxhY2VkR2x5cGhDaXJjbGVzLmNpcmNsZXMubGVuZ3RoIHx8ICghcGxhY2VkR2x5cGhDaXJjbGVzLmNvbGxpc2lvbkRldGVjdGVkIHx8IHNob3dDb2xsaXNpb25Cb3hlcykpO1xuICAgICAgICAgICAgICAgIC8vIElmIHRleHQtYWxsb3ctb3ZlcmxhcCBpcyBzZXQsIGZvcmNlIFwicGxhY2VkQ2lyY2xlc1wiIHRvIHRydWVcbiAgICAgICAgICAgICAgICAvLyBJbiB0aGVvcnkgdGhlcmUgc2hvdWxkIGFsd2F5cyBiZSBhdCBsZWFzdCBvbmUgY2lyY2xlIHBsYWNlZFxuICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY2FzZSwgYnV0IGZvciBub3cgcXVpcmtzIGluIHRleHQtYW5jaG9yXG4gICAgICAgICAgICAgICAgLy8gYW5kIHRleHQtb2Zmc2V0IG1heSBwcmV2ZW50IHRoYXQgZnJvbSBiZWluZyB0cnVlLlxuICAgICAgICAgICAgICAgIHBsYWNlVGV4dCA9IHRleHRBbGxvd092ZXJsYXAgfHwgKHBsYWNlZEdseXBoQ2lyY2xlcy5jaXJjbGVzLmxlbmd0aCA+IDAgJiYgIXBsYWNlZEdseXBoQ2lyY2xlcy5jb2xsaXNpb25EZXRlY3RlZCk7XG4gICAgICAgICAgICAgICAgb2Zmc2NyZWVuID0gb2Zmc2NyZWVuICYmIHBsYWNlZEdseXBoQ2lyY2xlcy5vZmZzY3JlZW47XG4gICAgICAgICAgICAgICAgdGV4dE9jY2x1ZGVkID0gcGxhY2VkR2x5cGhDaXJjbGVzLm9jY2x1ZGVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29sbGlzaW9uQXJyYXlzLmljb25GZWF0dXJlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpY29uRmVhdHVyZUluZGV4ID0gY29sbGlzaW9uQXJyYXlzLmljb25GZWF0dXJlSW5kZXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb2xsaXNpb25BcnJheXMuaWNvbkJveCkge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2VJY29uRmVhdHVyZSA9IGljb25Cb3ggPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVCb3hEYXRhKGljb25Cb3gpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGlmdFBvaW50OiBQb2ludCA9IGhhc0ljb25UZXh0Rml0ICYmIHNoaWZ0ID9cbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFNoaWZ0KHNoaWZ0LngsIHNoaWZ0LnksIHJvdGF0ZVdpdGhNYXAsIHBpdGNoV2l0aE1hcCwgdGhpcy50cmFuc2Zvcm0uYW5nbGUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQb2ludCgwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWNvblNjYWxlID0gYnVja2V0LmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUocGFydGlhbGx5RXZhbHVhdGVkSWNvblNpemUsIHRoaXMudHJhbnNmb3JtLnpvb20sIHN5bWJvbEluc3RhbmNlLnBsYWNlZEljb25TeW1ib2xJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KGJ1Y2tldCwgaWNvblNjYWxlLCBpY29uQm94LCBzaGlmdFBvaW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFsbG93T3ZlcmxhcCwgdGV4dFBpeGVsUmF0aW8sIHBvc01hdHJpeCwgY29sbGlzaW9uR3JvdXAucHJlZGljYXRlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlZFZlcnRpY2FsVGV4dCAmJiBwbGFjZWRWZXJ0aWNhbFRleHQuYm94ICYmIHBsYWNlZFZlcnRpY2FsVGV4dC5ib3gubGVuZ3RoICYmIGNvbGxpc2lvbkFycmF5cy52ZXJ0aWNhbEljb25Cb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VkSWNvbkJveGVzID0gcGxhY2VJY29uRmVhdHVyZShjb2xsaXNpb25BcnJheXMudmVydGljYWxJY29uQm94KTtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VJY29uID0gcGxhY2VkSWNvbkJveGVzLmJveC5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlZEljb25Cb3hlcyA9IHBsYWNlSWNvbkZlYXR1cmUoY29sbGlzaW9uQXJyYXlzLmljb25Cb3gpO1xuICAgICAgICAgICAgICAgICAgICBwbGFjZUljb24gPSBwbGFjZWRJY29uQm94ZXMuYm94Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9mZnNjcmVlbiA9IG9mZnNjcmVlbiAmJiBwbGFjZWRJY29uQm94ZXMub2Zmc2NyZWVuO1xuICAgICAgICAgICAgICAgIGljb25PY2NsdWRlZCA9IHBsYWNlZEljb25Cb3hlcy5vY2NsdWRlZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaWNvbldpdGhvdXRUZXh0ID0gdGV4dE9wdGlvbmFsIHx8XG4gICAgICAgICAgICAgICAgKHN5bWJvbEluc3RhbmNlLm51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzID09PSAwICYmIG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyA9PT0gMCk7XG4gICAgICAgICAgICBjb25zdCB0ZXh0V2l0aG91dEljb24gPSBpY29uT3B0aW9uYWwgfHwgc3ltYm9sSW5zdGFuY2UubnVtSWNvblZlcnRpY2VzID09PSAwO1xuXG4gICAgICAgICAgICAvLyBDb21iaW5lIHRoZSBzY2FsZXMgZm9yIGljb25zIGFuZCB0ZXh0LlxuICAgICAgICAgICAgaWYgKCFpY29uV2l0aG91dFRleHQgJiYgIXRleHRXaXRob3V0SWNvbikge1xuICAgICAgICAgICAgICAgIHBsYWNlSWNvbiA9IHBsYWNlVGV4dCA9IHBsYWNlSWNvbiAmJiBwbGFjZVRleHQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF0ZXh0V2l0aG91dEljb24pIHtcbiAgICAgICAgICAgICAgICBwbGFjZVRleHQgPSBwbGFjZUljb24gJiYgcGxhY2VUZXh0O1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaWNvbldpdGhvdXRUZXh0KSB7XG4gICAgICAgICAgICAgICAgcGxhY2VJY29uID0gcGxhY2VJY29uICYmIHBsYWNlVGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBsYWNlVGV4dCAmJiBwbGFjZWRHbHlwaEJveGVzICYmIHBsYWNlZEdseXBoQm94ZXMuYm94KSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlZFZlcnRpY2FsVGV4dCAmJiBwbGFjZWRWZXJ0aWNhbFRleHQuYm94ICYmIHZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChwbGFjZWRHbHlwaEJveGVzLmJveCwgbGF5b3V0LmdldCgndGV4dC1pZ25vcmUtcGxhY2VtZW50JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCwgdmVydGljYWxUZXh0RmVhdHVyZUluZGV4LCBjb2xsaXNpb25Hcm91cC5JRCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25Cb3gocGxhY2VkR2x5cGhCb3hlcy5ib3gsIGxheW91dC5nZXQoJ3RleHQtaWdub3JlLXBsYWNlbWVudCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0LmJ1Y2tldEluc3RhbmNlSWQsIHRleHRGZWF0dXJlSW5kZXgsIGNvbGxpc2lvbkdyb3VwLklEKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwbGFjZUljb24gJiYgcGxhY2VkSWNvbkJveGVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25Cb3gocGxhY2VkSWNvbkJveGVzLmJveCwgbGF5b3V0LmdldCgnaWNvbi1pZ25vcmUtcGxhY2VtZW50JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCwgaWNvbkZlYXR1cmVJbmRleCwgY29sbGlzaW9uR3JvdXAuSUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBsYWNlZEdseXBoQ2lyY2xlcykge1xuICAgICAgICAgICAgICAgIGlmIChwbGFjZVRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25DaXJjbGVzKHBsYWNlZEdseXBoQ2lyY2xlcy5jaXJjbGVzLCBsYXlvdXQuZ2V0KCd0ZXh0LWlnbm9yZS1wbGFjZW1lbnQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkLCB0ZXh0RmVhdHVyZUluZGV4LCBjb2xsaXNpb25Hcm91cC5JRCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNob3dDb2xsaXNpb25Cb3hlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2lyY2xlQXJyYXkgPSB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tpZF07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gR3JvdXAgY29sbGlzaW9uIGNpcmNsZXMgdG9nZXRoZXIgYnkgYnVja2V0LiBDaXJjbGVzIGNhbid0IGJlIHB1c2hlZCBmb3J3YXJkIGZvciByZW5kZXJpbmcgeWV0IGFzIHRoZSBzeW1ib2wgcGxhY2VtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBhIGJ1Y2tldCBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBjb21wbGV0ZSBiZWZvcmUgdGhlIGNvbW1pdC1mdW5jdGlvbiBoYXMgYmVlbiBjYWxsZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNpcmNsZUFycmF5ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVBcnJheSA9IHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW2lkXSA9IG5ldyBDb2xsaXNpb25DaXJjbGVBcnJheSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhY2VkR2x5cGhDaXJjbGVzLmNpcmNsZXMubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZUFycmF5LmNpcmNsZXMucHVzaChwbGFjZWRHbHlwaENpcmNsZXMuY2lyY2xlc1tpICsgMF0pOyAgICAgICAgICAgICAgLy8geFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlQXJyYXkuY2lyY2xlcy5wdXNoKHBsYWNlZEdseXBoQ2lyY2xlcy5jaXJjbGVzW2kgKyAxXSk7ICAgICAgICAgICAgICAvLyB5XG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVBcnJheS5jaXJjbGVzLnB1c2gocGxhY2VkR2x5cGhDaXJjbGVzLmNpcmNsZXNbaSArIDJdKTsgICAgICAgICAgICAgIC8vIHJhZGl1c1xuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlQXJyYXkuY2lyY2xlcy5wdXNoKHBsYWNlZEdseXBoQ2lyY2xlcy5jb2xsaXNpb25EZXRlY3RlZCA/IDEgOiAwKTsgICAvLyBjb2xsaXNpb25EZXRlY3RlZC1mbGFnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFzc2VydChjcm9zc1RpbGVJRCAhPT0gMCk7XG4gICAgICAgICAgICBhc3NlcnQoYnVja2V0LmJ1Y2tldEluc3RhbmNlSWQgIT09IDApO1xuXG4gICAgICAgICAgICBjb25zdCBub3RHbG9iZSA9IGJ1Y2tldC5wcm9qZWN0aW9uLm5hbWUgIT09ICdnbG9iZSc7XG4gICAgICAgICAgICBhbHdheXNTaG93VGV4dCA9IGFsd2F5c1Nob3dUZXh0ICYmIChub3RHbG9iZSB8fCAhdGV4dE9jY2x1ZGVkKTtcbiAgICAgICAgICAgIGFsd2F5c1Nob3dJY29uID0gYWx3YXlzU2hvd0ljb24gJiYgKG5vdEdsb2JlIHx8ICFpY29uT2NjbHVkZWQpO1xuXG4gICAgICAgICAgICB0aGlzLnBsYWNlbWVudHNbY3Jvc3NUaWxlSURdID0gbmV3IEpvaW50UGxhY2VtZW50KHBsYWNlVGV4dCB8fCBhbHdheXNTaG93VGV4dCwgcGxhY2VJY29uIHx8IGFsd2F5c1Nob3dJY29uLCBvZmZzY3JlZW4gfHwgYnVja2V0Lmp1c3RSZWxvYWRlZCk7XG4gICAgICAgICAgICBzZWVuQ3Jvc3NUaWxlSURzW2Nyb3NzVGlsZUlEXSA9IHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHpPcmRlckJ5Vmlld3BvcnRZKSB7XG4gICAgICAgICAgICBhc3NlcnQoYnVja2V0UGFydC5zeW1ib2xJbnN0YW5jZVN0YXJ0ID09PSAwKTtcbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbEluZGV4ZXMgPSBidWNrZXQuZ2V0U29ydGVkU3ltYm9sSW5kZXhlcyh0aGlzLnRyYW5zZm9ybS5hbmdsZSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gc3ltYm9sSW5kZXhlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN5bWJvbEluZGV4ID0gc3ltYm9sSW5kZXhlc1tpXTtcbiAgICAgICAgICAgICAgICBwbGFjZVN5bWJvbChidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmdldChzeW1ib2xJbmRleCksIHN5bWJvbEluZGV4LCBidWNrZXQuY29sbGlzaW9uQXJyYXlzW3N5bWJvbEluZGV4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gYnVja2V0UGFydC5zeW1ib2xJbnN0YW5jZVN0YXJ0OyBpIDwgYnVja2V0UGFydC5zeW1ib2xJbnN0YW5jZUVuZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGxhY2VTeW1ib2woYnVja2V0LnN5bWJvbEluc3RhbmNlcy5nZXQoaSksIGksIGJ1Y2tldC5jb2xsaXNpb25BcnJheXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNob3dDb2xsaXNpb25Cb3hlcyAmJiBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCBpbiB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cykge1xuICAgICAgICAgICAgY29uc3QgY2lyY2xlQXJyYXkgPSB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tidWNrZXQuYnVja2V0SW5zdGFuY2VJZF07XG5cbiAgICAgICAgICAgIC8vIFN0b3JlIHZpZXdwb3J0IGFuZCBpbnZlcnNlIHByb2plY3Rpb24gbWF0cmljZXMgcGVyIGJ1Y2tldFxuICAgICAgICAgICAgbWF0NC5pbnZlcnQoY2lyY2xlQXJyYXkuaW52UHJvak1hdHJpeCwgcG9zTWF0cml4KTtcbiAgICAgICAgICAgIGNpcmNsZUFycmF5LnZpZXdwb3J0TWF0cml4ID0gdGhpcy5jb2xsaXNpb25JbmRleC5nZXRWaWV3cG9ydE1hdHJpeCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVja2V0Lmp1c3RSZWxvYWRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIG1hcmtVc2VkSnVzdGlmaWNhdGlvbihidWNrZXQ6IFN5bWJvbEJ1Y2tldCwgcGxhY2VkQW5jaG9yOiBUZXh0QW5jaG9yLCBzeW1ib2xJbnN0YW5jZTogU3ltYm9sSW5zdGFuY2UsIG9yaWVudGF0aW9uOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgbGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDogbGVmdCwgY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OiBjZW50ZXIsXG4gICAgICAgICAgICByaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDogcmlnaHQsIHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OiB2ZXJ0aWNhbCwgY3Jvc3NUaWxlSURcbiAgICAgICAgfSA9IHN5bWJvbEluc3RhbmNlO1xuXG4gICAgICAgIGNvbnN0IGp1c3RpZmljYXRpb24gPSBnZXRBbmNob3JKdXN0aWZpY2F0aW9uKHBsYWNlZEFuY2hvcik7XG4gICAgICAgIGNvbnN0IGF1dG9JbmRleCA9XG4gICAgICAgICAgICBvcmllbnRhdGlvbiA9PT0gV3JpdGluZ01vZGUudmVydGljYWwgPyB2ZXJ0aWNhbCA6XG4gICAgICAgICAgICBqdXN0aWZpY2F0aW9uID09PSAnbGVmdCcgPyBsZWZ0IDpcbiAgICAgICAgICAgIGp1c3RpZmljYXRpb24gPT09ICdjZW50ZXInID8gY2VudGVyIDpcbiAgICAgICAgICAgIGp1c3RpZmljYXRpb24gPT09ICdyaWdodCcgPyByaWdodCA6IC0xO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBqdXN0aWZpY2F0aW9ucyBhbmQgdGhpcyBvbmUgaXNuJ3QgaXQ6IHNoaWZ0IG9mZnNjcmVlblxuICAgICAgICAvLyBJZiBlaXRoZXIgdGhpcyBpcyB0aGUgY2hvc2VuIGp1c3RpZmljYXRpb24gb3IgdGhlIGp1c3RpZmljYXRpb24gaXMgaGFyZHdpcmVkOiB1c2UgaXRcbiAgICAgICAgaWYgKGxlZnQgPj0gMCkgYnVja2V0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGxlZnQpLmNyb3NzVGlsZUlEID0gYXV0b0luZGV4ID49IDAgJiYgbGVmdCAhPT0gYXV0b0luZGV4ID8gMCA6IGNyb3NzVGlsZUlEO1xuICAgICAgICBpZiAoY2VudGVyID49IDApIGJ1Y2tldC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChjZW50ZXIpLmNyb3NzVGlsZUlEID0gYXV0b0luZGV4ID49IDAgJiYgY2VudGVyICE9PSBhdXRvSW5kZXggPyAwIDogY3Jvc3NUaWxlSUQ7XG4gICAgICAgIGlmIChyaWdodCA+PSAwKSBidWNrZXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQocmlnaHQpLmNyb3NzVGlsZUlEID0gYXV0b0luZGV4ID49IDAgJiYgcmlnaHQgIT09IGF1dG9JbmRleCA/IDAgOiBjcm9zc1RpbGVJRDtcbiAgICAgICAgaWYgKHZlcnRpY2FsID49IDApIGJ1Y2tldC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldCh2ZXJ0aWNhbCkuY3Jvc3NUaWxlSUQgPSBhdXRvSW5kZXggPj0gMCAmJiB2ZXJ0aWNhbCAhPT0gYXV0b0luZGV4ID8gMCA6IGNyb3NzVGlsZUlEO1xuICAgIH1cblxuICAgIG1hcmtVc2VkT3JpZW50YXRpb24oYnVja2V0OiBTeW1ib2xCdWNrZXQsIG9yaWVudGF0aW9uOiBudW1iZXIsIHN5bWJvbEluc3RhbmNlOiBTeW1ib2xJbnN0YW5jZSkge1xuICAgICAgICBjb25zdCBob3Jpem9udGFsT3JpZW50YXRpb24gPSAob3JpZW50YXRpb24gPT09IFdyaXRpbmdNb2RlLmhvcml6b250YWwgfHwgb3JpZW50YXRpb24gPT09IFdyaXRpbmdNb2RlLmhvcml6b250YWxPbmx5KSA/IG9yaWVudGF0aW9uIDogMDtcbiAgICAgICAgY29uc3QgdmVydGljYWxPcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uID09PSBXcml0aW5nTW9kZS52ZXJ0aWNhbCA/IG9yaWVudGF0aW9uIDogMDtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgbGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDogbGVmdCwgY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OiBjZW50ZXIsXG4gICAgICAgICAgICByaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDogcmlnaHQsIHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OiB2ZXJ0aWNhbFxuICAgICAgICB9ID0gc3ltYm9sSW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gYnVja2V0LnRleHQucGxhY2VkU3ltYm9sQXJyYXk7XG5cbiAgICAgICAgaWYgKGxlZnQgPj0gMCkgYXJyYXkuZ2V0KGxlZnQpLnBsYWNlZE9yaWVudGF0aW9uID0gaG9yaXpvbnRhbE9yaWVudGF0aW9uO1xuICAgICAgICBpZiAoY2VudGVyID49IDApIGFycmF5LmdldChjZW50ZXIpLnBsYWNlZE9yaWVudGF0aW9uID0gaG9yaXpvbnRhbE9yaWVudGF0aW9uO1xuICAgICAgICBpZiAocmlnaHQgPj0gMCkgYXJyYXkuZ2V0KHJpZ2h0KS5wbGFjZWRPcmllbnRhdGlvbiA9IGhvcml6b250YWxPcmllbnRhdGlvbjtcbiAgICAgICAgaWYgKHZlcnRpY2FsID49IDApIGFycmF5LmdldCh2ZXJ0aWNhbCkucGxhY2VkT3JpZW50YXRpb24gPSB2ZXJ0aWNhbE9yaWVudGF0aW9uO1xuICAgIH1cblxuICAgIGNvbW1pdChub3c6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbW1pdFRpbWUgPSBub3c7XG4gICAgICAgIHRoaXMuem9vbUF0TGFzdFJlY2VuY3lDaGVjayA9IHRoaXMudHJhbnNmb3JtLnpvb207XG5cbiAgICAgICAgY29uc3QgcHJldlBsYWNlbWVudCA9IHRoaXMucHJldlBsYWNlbWVudDtcbiAgICAgICAgbGV0IHBsYWNlbWVudENoYW5nZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnByZXZab29tQWRqdXN0bWVudCA9IHByZXZQbGFjZW1lbnQgPyBwcmV2UGxhY2VtZW50Lnpvb21BZGp1c3RtZW50KHRoaXMudHJhbnNmb3JtLnpvb20pIDogMDtcbiAgICAgICAgY29uc3QgaW5jcmVtZW50ID0gcHJldlBsYWNlbWVudCA/IHByZXZQbGFjZW1lbnQuc3ltYm9sRmFkZUNoYW5nZShub3cpIDogMTtcblxuICAgICAgICBjb25zdCBwcmV2T3BhY2l0aWVzID0gcHJldlBsYWNlbWVudCA/IHByZXZQbGFjZW1lbnQub3BhY2l0aWVzIDoge307XG4gICAgICAgIGNvbnN0IHByZXZPZmZzZXRzID0gcHJldlBsYWNlbWVudCA/IHByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzIDoge307XG4gICAgICAgIGNvbnN0IHByZXZPcmllbnRhdGlvbnMgPSBwcmV2UGxhY2VtZW50ID8gcHJldlBsYWNlbWVudC5wbGFjZWRPcmllbnRhdGlvbnMgOiB7fTtcblxuICAgICAgICAvLyBhZGQgdGhlIG9wYWNpdGllcyBmcm9tIHRoZSBjdXJyZW50IHBsYWNlbWVudCwgYW5kIGNvcHkgdGhlaXIgY3VycmVudCB2YWx1ZXMgZnJvbSB0aGUgcHJldmlvdXMgcGxhY2VtZW50XG4gICAgICAgIGZvciAoY29uc3QgY3Jvc3NUaWxlSUQgaW4gdGhpcy5wbGFjZW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBqb2ludFBsYWNlbWVudCA9IHRoaXMucGxhY2VtZW50c1tjcm9zc1RpbGVJRF07XG4gICAgICAgICAgICBjb25zdCBwcmV2T3BhY2l0eSA9IHByZXZPcGFjaXRpZXNbY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgaWYgKHByZXZPcGFjaXR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdID0gbmV3IEpvaW50T3BhY2l0eVN0YXRlKHByZXZPcGFjaXR5LCBpbmNyZW1lbnQsIGpvaW50UGxhY2VtZW50LnRleHQsIGpvaW50UGxhY2VtZW50Lmljb24sIG51bGwsIGpvaW50UGxhY2VtZW50LmNsaXBwZWQpO1xuICAgICAgICAgICAgICAgIHBsYWNlbWVudENoYW5nZWQgPSBwbGFjZW1lbnRDaGFuZ2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIGpvaW50UGxhY2VtZW50LnRleHQgIT09IHByZXZPcGFjaXR5LnRleHQucGxhY2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIGpvaW50UGxhY2VtZW50Lmljb24gIT09IHByZXZPcGFjaXR5Lmljb24ucGxhY2VkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0gPSBuZXcgSm9pbnRPcGFjaXR5U3RhdGUobnVsbCwgaW5jcmVtZW50LCBqb2ludFBsYWNlbWVudC50ZXh0LCBqb2ludFBsYWNlbWVudC5pY29uLCBqb2ludFBsYWNlbWVudC5za2lwRmFkZSwgam9pbnRQbGFjZW1lbnQuY2xpcHBlZCk7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50Q2hhbmdlZCA9IHBsYWNlbWVudENoYW5nZWQgfHwgam9pbnRQbGFjZW1lbnQudGV4dCB8fCBqb2ludFBsYWNlbWVudC5pY29uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29weSBhbmQgdXBkYXRlIHZhbHVlcyBmcm9tIHRoZSBwcmV2aW91cyBwbGFjZW1lbnQgdGhhdCBhcmVuJ3QgaW4gdGhlIGN1cnJlbnQgcGxhY2VtZW50IGJ1dCBoYXZlbid0IGZpbmlzaGVkIGZhZGluZ1xuICAgICAgICBmb3IgKGNvbnN0IGNyb3NzVGlsZUlEIGluIHByZXZPcGFjaXRpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZPcGFjaXR5ID0gcHJldk9wYWNpdGllc1tjcm9zc1RpbGVJRF07XG4gICAgICAgICAgICBpZiAoIXRoaXMub3BhY2l0aWVzW2Nyb3NzVGlsZUlEXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50T3BhY2l0eSA9IG5ldyBKb2ludE9wYWNpdHlTdGF0ZShwcmV2T3BhY2l0eSwgaW5jcmVtZW50LCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmICgham9pbnRPcGFjaXR5LmlzSGlkZGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdID0gam9pbnRPcGFjaXR5O1xuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRDaGFuZ2VkID0gcGxhY2VtZW50Q2hhbmdlZCB8fCBwcmV2T3BhY2l0eS50ZXh0LnBsYWNlZCB8fCBwcmV2T3BhY2l0eS5pY29uLnBsYWNlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjcm9zc1RpbGVJRCBpbiBwcmV2T2Zmc2V0cykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZhcmlhYmxlT2Zmc2V0c1tjcm9zc1RpbGVJRF0gJiYgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdICYmICF0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0uaXNIaWRkZW4oKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFyaWFibGVPZmZzZXRzW2Nyb3NzVGlsZUlEXSA9IHByZXZPZmZzZXRzW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgY3Jvc3NUaWxlSUQgaW4gcHJldk9yaWVudGF0aW9ucykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tjcm9zc1RpbGVJRF0gJiYgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdICYmICF0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0uaXNIaWRkZW4oKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGxhY2VkT3JpZW50YXRpb25zW2Nyb3NzVGlsZUlEXSA9IHByZXZPcmllbnRhdGlvbnNbY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSBpcyB0aGUgdGltZSBvZiB0aGUgbGFzdCBjb21taXQoKSB0aGF0XG4gICAgICAgIC8vIHJlc3VsdGVkIGluIGEgcGxhY2VtZW50IGNoYW5nZSAtLSBpbiBvdGhlciB3b3JkcywgdGhlIHN0YXJ0IHRpbWUgb2ZcbiAgICAgICAgLy8gdGhlIGxhc3Qgc3ltYm9sIGZhZGUgYW5pbWF0aW9uXG4gICAgICAgIGFzc2VydCghcHJldlBsYWNlbWVudCB8fCBwcmV2UGxhY2VtZW50Lmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lICE9PSB1bmRlZmluZWQpO1xuICAgICAgICBpZiAocGxhY2VtZW50Q2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSA9IG5vdztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUgPSBwcmV2UGxhY2VtZW50ID8gcHJldlBsYWNlbWVudC5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSA6IG5vdztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUxheWVyT3BhY2l0aWVzKHN0eWxlTGF5ZXI6IFN0eWxlTGF5ZXIsIHRpbGVzOiBBcnJheTxUaWxlPikge1xuICAgICAgICBjb25zdCBzZWVuQ3Jvc3NUaWxlSURzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdGlsZSBvZiB0aWxlcykge1xuICAgICAgICAgICAgY29uc3Qgc3ltYm9sQnVja2V0ID0gKCh0aWxlLmdldEJ1Y2tldChzdHlsZUxheWVyKTogYW55KTogU3ltYm9sQnVja2V0KTtcbiAgICAgICAgICAgIGlmIChzeW1ib2xCdWNrZXQgJiYgdGlsZS5sYXRlc3RGZWF0dXJlSW5kZXggJiYgc3R5bGVMYXllci5pZCA9PT0gc3ltYm9sQnVja2V0LmxheWVySWRzWzBdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCdWNrZXRPcGFjaXRpZXMoc3ltYm9sQnVja2V0LCBzZWVuQ3Jvc3NUaWxlSURzLCB0aWxlLmNvbGxpc2lvbkJveEFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUJ1Y2tldE9wYWNpdGllcyhidWNrZXQ6IFN5bWJvbEJ1Y2tldCwgc2VlbkNyb3NzVGlsZUlEczogeyBbc3RyaW5nIHwgbnVtYmVyXTogYm9vbGVhbiB9LCBjb2xsaXNpb25Cb3hBcnJheTogP0NvbGxpc2lvbkJveEFycmF5KSB7XG4gICAgICAgIGlmIChidWNrZXQuaGFzVGV4dERhdGEoKSkgYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgIGlmIChidWNrZXQuaGFzSWNvbkRhdGEoKSkgYnVja2V0Lmljb24ub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgIGlmIChidWNrZXQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSkgYnVja2V0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpKSBidWNrZXQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpO1xuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IGJ1Y2tldC5sYXllcnNbMF0ubGF5b3V0O1xuICAgICAgICBjb25zdCBoYXNDbGlwcGluZyA9ICEhYnVja2V0LmxheWVyc1swXS5keW5hbWljRmlsdGVyKCk7XG4gICAgICAgIGNvbnN0IGR1cGxpY2F0ZU9wYWNpdHlTdGF0ZSA9IG5ldyBKb2ludE9wYWNpdHlTdGF0ZShudWxsLCAwLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICBjb25zdCB0ZXh0QWxsb3dPdmVybGFwID0gbGF5b3V0LmdldCgndGV4dC1hbGxvdy1vdmVybGFwJyk7XG4gICAgICAgIGNvbnN0IGljb25BbGxvd092ZXJsYXAgPSBsYXlvdXQuZ2V0KCdpY29uLWFsbG93LW92ZXJsYXAnKTtcbiAgICAgICAgY29uc3QgdmFyaWFibGVQbGFjZW1lbnQgPSBsYXlvdXQuZ2V0KCd0ZXh0LXZhcmlhYmxlLWFuY2hvcicpO1xuICAgICAgICBjb25zdCByb3RhdGVXaXRoTWFwID0gbGF5b3V0LmdldCgndGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQnKSA9PT0gJ21hcCc7XG4gICAgICAgIGNvbnN0IHBpdGNoV2l0aE1hcCA9IGxheW91dC5nZXQoJ3RleHQtcGl0Y2gtYWxpZ25tZW50JykgPT09ICdtYXAnO1xuICAgICAgICBjb25zdCBoYXNJY29uVGV4dEZpdCA9IGxheW91dC5nZXQoJ2ljb24tdGV4dC1maXQnKSAhPT0gJ25vbmUnO1xuICAgICAgICAvLyBJZiBhbGxvdy1vdmVybGFwIGlzIHRydWUsIHdlIGNhbiBzaG93IHN5bWJvbHMgYmVmb3JlIHBsYWNlbWVudCBydW5zIG9uIHRoZW1cbiAgICAgICAgLy8gQnV0IHdlIGhhdmUgdG8gd2FpdCBmb3IgcGxhY2VtZW50IGlmIHdlIHBvdGVudGlhbGx5IGRlcGVuZCBvbiBhIHBhaXJlZCBpY29uL3RleHRcbiAgICAgICAgLy8gd2l0aCBhbGxvdy1vdmVybGFwOiBmYWxzZS5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy83MDMyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRPcGFjaXR5U3RhdGUgPSBuZXcgSm9pbnRPcGFjaXR5U3RhdGUobnVsbCwgMCxcbiAgICAgICAgICAgICAgICB0ZXh0QWxsb3dPdmVybGFwICYmIChpY29uQWxsb3dPdmVybGFwIHx8ICFidWNrZXQuaGFzSWNvbkRhdGEoKSB8fCBsYXlvdXQuZ2V0KCdpY29uLW9wdGlvbmFsJykpLFxuICAgICAgICAgICAgICAgIGljb25BbGxvd092ZXJsYXAgJiYgKHRleHRBbGxvd092ZXJsYXAgfHwgIWJ1Y2tldC5oYXNUZXh0RGF0YSgpIHx8IGxheW91dC5nZXQoJ3RleHQtb3B0aW9uYWwnKSksXG4gICAgICAgICAgICAgICAgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKCFidWNrZXQuY29sbGlzaW9uQXJyYXlzICYmIGNvbGxpc2lvbkJveEFycmF5ICYmICgoYnVja2V0Lmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkgfHwgYnVja2V0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkpKSkge1xuICAgICAgICAgICAgYnVja2V0LmRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMoY29sbGlzaW9uQm94QXJyYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWRkT3BhY2l0aWVzID0gKGljb25PclRleHQsIG51bVZlcnRpY2VzOiBudW1iZXIsIG9wYWNpdHk6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WZXJ0aWNlcyAvIDQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGljb25PclRleHQub3BhY2l0eVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKG9wYWNpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCB2aXNpYmxlSW5zdGFuY2VDb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgcysrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMuZ2V0KHMpO1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIG51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzLFxuICAgICAgICAgICAgICAgIG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBjcm9zc1RpbGVJRCxcbiAgICAgICAgICAgICAgICBudW1JY29uVmVydGljZXNcbiAgICAgICAgICAgIH0gPSBzeW1ib2xJbnN0YW5jZTtcblxuICAgICAgICAgICAgY29uc3QgaXNEdXBsaWNhdGUgPSBzZWVuQ3Jvc3NUaWxlSURzW2Nyb3NzVGlsZUlEXTtcblxuICAgICAgICAgICAgbGV0IG9wYWNpdHlTdGF0ZSA9IHRoaXMub3BhY2l0aWVzW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgIGlmIChpc0R1cGxpY2F0ZSkge1xuICAgICAgICAgICAgICAgIG9wYWNpdHlTdGF0ZSA9IGR1cGxpY2F0ZU9wYWNpdHlTdGF0ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIW9wYWNpdHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIG9wYWNpdHlTdGF0ZSA9IGRlZmF1bHRPcGFjaXR5U3RhdGU7XG4gICAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIHN0YXRlIHNvIHRoYXQgZnV0dXJlIHBsYWNlbWVudHMgdXNlIGl0IGFzIGEgc3RhcnRpbmcgcG9pbnRcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0gPSBvcGFjaXR5U3RhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlZW5Dcm9zc1RpbGVJRHNbY3Jvc3NUaWxlSURdID0gdHJ1ZTtcblxuICAgICAgICAgICAgY29uc3QgaGFzVGV4dCA9IG51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzID4gMCB8fCBudW1WZXJ0aWNhbEdseXBoVmVydGljZXMgPiAwO1xuICAgICAgICAgICAgY29uc3QgaGFzSWNvbiA9IG51bUljb25WZXJ0aWNlcyA+IDA7XG5cbiAgICAgICAgICAgIGNvbnN0IHBsYWNlZE9yaWVudGF0aW9uID0gdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbEhpZGRlbiA9IHBsYWNlZE9yaWVudGF0aW9uID09PSBXcml0aW5nTW9kZS52ZXJ0aWNhbDtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsSGlkZGVuID0gcGxhY2VkT3JpZW50YXRpb24gPT09IFdyaXRpbmdNb2RlLmhvcml6b250YWwgfHwgcGxhY2VkT3JpZW50YXRpb24gPT09IFdyaXRpbmdNb2RlLmhvcml6b250YWxPbmx5O1xuICAgICAgICAgICAgaWYgKChoYXNUZXh0IHx8IGhhc0ljb24pICYmICFvcGFjaXR5U3RhdGUuaXNIaWRkZW4oKSkgdmlzaWJsZUluc3RhbmNlQ291bnQrKztcblxuICAgICAgICAgICAgaWYgKGhhc1RleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWNrZWRPcGFjaXR5ID0gcGFja09wYWNpdHkob3BhY2l0eVN0YXRlLnRleHQpO1xuICAgICAgICAgICAgICAgIC8vIFZlcnRpY2FsIHRleHQgZmFkZXMgaW4vb3V0IG9uIGNvbGxpc2lvbiB0aGUgc2FtZSB3YXkgYXMgY29ycmVzcG9uZGluZ1xuICAgICAgICAgICAgICAgIC8vIGhvcml6b250YWwgdGV4dC4gU3dpdGNoIGJldHdlZW4gdmVydGljYWwvaG9yaXpvbnRhbCBzaG91bGQgYmUgaW5zdGFudGFuZW91c1xuICAgICAgICAgICAgICAgIGNvbnN0IGhvcml6b250YWxPcGFjaXR5ID0gaG9yaXpvbnRhbEhpZGRlbiA/IFBBQ0tFRF9ISURERU5fT1BBQ0lUWSA6IHBhY2tlZE9wYWNpdHk7XG4gICAgICAgICAgICAgICAgYWRkT3BhY2l0aWVzKGJ1Y2tldC50ZXh0LCBudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcywgaG9yaXpvbnRhbE9wYWNpdHkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsT3BhY2l0eSA9IHZlcnRpY2FsSGlkZGVuID8gUEFDS0VEX0hJRERFTl9PUEFDSVRZIDogcGFja2VkT3BhY2l0eTtcbiAgICAgICAgICAgICAgICBhZGRPcGFjaXRpZXMoYnVja2V0LnRleHQsIG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcywgdmVydGljYWxPcGFjaXR5KTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgbGFiZWwgaXMgY29tcGxldGVseSBmYWRlZCwgbWFyayBpdCBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gY2FsY3VsYXRlXG4gICAgICAgICAgICAgICAgLy8gaXRzIHBvc2l0aW9uIGF0IHJlbmRlciB0aW1lLiBJZiB0aGlzIGxheWVyIGhhcyB2YXJpYWJsZSBwbGFjZW1lbnQsIHNoaWZ0IHRoZSB2YXJpb3VzXG4gICAgICAgICAgICAgICAgLy8gc3ltYm9sIGluc3RhbmNlcyBhcHByb3ByaWF0ZWx5IHNvIHRoYXQgc3ltYm9scyBmcm9tIGJ1Y2tldHMgdGhhdCBoYXZlIHlldCB0byBiZSBwbGFjZWRcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXQgYXBwcm9wcmlhdGVseS5cbiAgICAgICAgICAgICAgICBjb25zdCBzeW1ib2xIaWRkZW4gPSBvcGFjaXR5U3RhdGUudGV4dC5pc0hpZGRlbigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDogbGVmdCwgY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OiBjZW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OiByaWdodCwgdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6IHZlcnRpY2FsXG4gICAgICAgICAgICAgICAgfSA9IHN5bWJvbEluc3RhbmNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5ID0gYnVja2V0LnRleHQucGxhY2VkU3ltYm9sQXJyYXk7XG4gICAgICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbEhpZGRlblZhbHVlID0gc3ltYm9sSGlkZGVuIHx8IGhvcml6b250YWxIaWRkZW4gPyAxIDogMDtcblxuICAgICAgICAgICAgICAgIGlmIChsZWZ0ID49IDApIGFycmF5LmdldChsZWZ0KS5oaWRkZW4gPSBob3Jpem9udGFsSGlkZGVuVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGNlbnRlciA+PSAwKSBhcnJheS5nZXQoY2VudGVyKS5oaWRkZW4gPSBob3Jpem9udGFsSGlkZGVuVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0ID49IDApIGFycmF5LmdldChyaWdodCkuaGlkZGVuID0gaG9yaXpvbnRhbEhpZGRlblZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJ0aWNhbCA+PSAwKSBhcnJheS5nZXQodmVydGljYWwpLmhpZGRlbiA9IHN5bWJvbEhpZGRlbiB8fCB2ZXJ0aWNhbEhpZGRlbiA/IDEgOiAwO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldk9mZnNldCA9IHRoaXMudmFyaWFibGVPZmZzZXRzW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgICAgICBpZiAocHJldk9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihidWNrZXQsIHByZXZPZmZzZXQuYW5jaG9yLCBzeW1ib2xJbnN0YW5jZSwgcGxhY2VkT3JpZW50YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZPcmllbnRhdGlvbiA9IHRoaXMucGxhY2VkT3JpZW50YXRpb25zW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgICAgICBpZiAocHJldk9yaWVudGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKGJ1Y2tldCwgJ2xlZnQnLCBzeW1ib2xJbnN0YW5jZSwgcHJldk9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKGJ1Y2tldCwgcHJldk9yaWVudGF0aW9uLCBzeW1ib2xJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaGFzSWNvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhY2tlZE9wYWNpdHkgPSBwYWNrT3BhY2l0eShvcGFjaXR5U3RhdGUuaWNvbik7XG4gICAgICAgICAgICAgICAgY29uc3Qge3BsYWNlZEljb25TeW1ib2xJbmRleCwgdmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXh9ID0gc3ltYm9sSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXkgPSBidWNrZXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheTtcbiAgICAgICAgICAgICAgICBjb25zdCBpY29uSGlkZGVuID0gb3BhY2l0eVN0YXRlLmljb24uaXNIaWRkZW4oKSA/IDEgOiAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlZEljb25TeW1ib2xJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvcml6b250YWxPcGFjaXR5ID0gIWhvcml6b250YWxIaWRkZW4gPyBwYWNrZWRPcGFjaXR5IDogUEFDS0VEX0hJRERFTl9PUEFDSVRZO1xuICAgICAgICAgICAgICAgICAgICBhZGRPcGFjaXRpZXMoYnVja2V0Lmljb24sIG51bUljb25WZXJ0aWNlcywgaG9yaXpvbnRhbE9wYWNpdHkpO1xuICAgICAgICAgICAgICAgICAgICBhcnJheS5nZXQocGxhY2VkSWNvblN5bWJvbEluZGV4KS5oaWRkZW4gPSBpY29uSGlkZGVuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsT3BhY2l0eSA9ICF2ZXJ0aWNhbEhpZGRlbiA/IHBhY2tlZE9wYWNpdHkgOiBQQUNLRURfSElEREVOX09QQUNJVFk7XG4gICAgICAgICAgICAgICAgICAgIGFkZE9wYWNpdGllcyhidWNrZXQuaWNvbiwgc3ltYm9sSW5zdGFuY2UubnVtVmVydGljYWxJY29uVmVydGljZXMsIHZlcnRpY2FsT3BhY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgIGFycmF5LmdldCh2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCkuaGlkZGVuID0gaWNvbkhpZGRlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChidWNrZXQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSB8fCBidWNrZXQuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbkFycmF5cyA9IGJ1Y2tldC5jb2xsaXNpb25BcnJheXNbc107XG4gICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2hpZnQgPSBuZXcgUG9pbnQoMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cy50ZXh0Qm94IHx8IGNvbGxpc2lvbkFycmF5cy52ZXJ0aWNhbFRleHRCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYWJsZVBsYWNlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlT2Zmc2V0ID0gdGhpcy52YXJpYWJsZU9mZnNldHNbY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYWJsZU9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgc2hvdyBlaXRoZXIgdGhlIGN1cnJlbnRseSBwbGFjZWQgcG9zaXRpb24gb3IgdGhlIGxhc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3VjY2Vzc2Z1bGx5IHBsYWNlZCBwb3NpdGlvbiAoc28geW91IGNhbiB2aXN1YWxpemUgd2hhdCBjb2xsaXNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBtYWRlIHRoZSBzeW1ib2wgZGlzYXBwZWFyLCBhbmQgdGhlIG1vc3QgbGlrZWx5IHBsYWNlIGZvciB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3ltYm9sIHRvIGNvbWUgYmFjaylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSBjYWxjdWxhdGVWYXJpYWJsZUxheW91dFNoaWZ0KHZhcmlhYmxlT2Zmc2V0LmFuY2hvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVPZmZzZXQud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlT2Zmc2V0LmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVPZmZzZXQudGV4dE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVPZmZzZXQudGV4dFNjYWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvdGF0ZVdpdGhNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0Ll9yb3RhdGUocGl0Y2hXaXRoTWFwID8gdGhpcy50cmFuc2Zvcm0uYW5nbGUgOiAtdGhpcy50cmFuc2Zvcm0uYW5nbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gb2Zmc2V0IC0+IHRoaXMgc3ltYm9sIGhhc24ndCBiZWVuIHBsYWNlZCBzaW5jZSBjb21pbmcgb24tc2NyZWVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIHNpbmdsZSBib3ggaXMgcGFydGljdWxhcmx5IG1lYW5pbmdmdWwgYW5kIGFsbCBvZiB0aGVtIHdvdWxkIGJlIHRvbyBub2lzeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGNlbnRlciBib3gganVzdCB0byBzaG93IHNvbWV0aGluZydzIHRoZXJlLCBidXQgbWFyayBpdCBcIm5vdCB1c2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0NsaXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlZCA9ICFvcGFjaXR5U3RhdGUuY2xpcHBlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cy50ZXh0Qm94KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29sbGlzaW9uVmVydGljZXMoYnVja2V0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksIG9wYWNpdHlTdGF0ZS50ZXh0LnBsYWNlZCwgIXVzZWQgfHwgaG9yaXpvbnRhbEhpZGRlbiwgc2hpZnQueCwgc2hpZnQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uQXJyYXlzLnZlcnRpY2FsVGV4dEJveCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbGxpc2lvblZlcnRpY2VzKGJ1Y2tldC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LCBvcGFjaXR5U3RhdGUudGV4dC5wbGFjZWQsICF1c2VkIHx8IHZlcnRpY2FsSGlkZGVuLCBzaGlmdC54LCBzaGlmdC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsSWNvblVzZWQgPSB1c2VkICYmIEJvb2xlYW4oIXZlcnRpY2FsSGlkZGVuICYmIGNvbGxpc2lvbkFycmF5cy52ZXJ0aWNhbEljb25Cb3gpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb25BcnJheXMuaWNvbkJveCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29sbGlzaW9uVmVydGljZXMoYnVja2V0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksIG9wYWNpdHlTdGF0ZS5pY29uLnBsYWNlZCwgdmVydGljYWxJY29uVXNlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNJY29uVGV4dEZpdCA/IHNoaWZ0LnggOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ljb25UZXh0Rml0ID8gc2hpZnQueSA6IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cy52ZXJ0aWNhbEljb25Cb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbGxpc2lvblZlcnRpY2VzKGJ1Y2tldC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LCBvcGFjaXR5U3RhdGUuaWNvbi5wbGFjZWQsICF2ZXJ0aWNhbEljb25Vc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ljb25UZXh0Rml0ID8gc2hpZnQueCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzSWNvblRleHRGaXQgPyBzaGlmdC55IDogMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnVja2V0LmZ1bGx5Q2xpcHBlZCA9IHZpc2libGVJbnN0YW5jZUNvdW50ID09PSAwO1xuICAgICAgICBidWNrZXQuc29ydEZlYXR1cmVzKHRoaXMudHJhbnNmb3JtLmFuZ2xlKTtcbiAgICAgICAgaWYgKHRoaXMucmV0YWluZWRRdWVyeURhdGFbYnVja2V0LmJ1Y2tldEluc3RhbmNlSWRdKSB7XG4gICAgICAgICAgICB0aGlzLnJldGFpbmVkUXVlcnlEYXRhW2J1Y2tldC5idWNrZXRJbnN0YW5jZUlkXS5mZWF0dXJlU29ydE9yZGVyID0gYnVja2V0LmZlYXR1cmVTb3J0T3JkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYnVja2V0Lmhhc1RleHREYXRhKCkgJiYgYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGJ1Y2tldC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNJY29uRGF0YSgpICYmIGJ1Y2tldC5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGJ1Y2tldC5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShidWNrZXQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWNrZXQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSAmJiBidWNrZXQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGJ1Y2tldC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGJ1Y2tldC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVja2V0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkgJiYgYnVja2V0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBidWNrZXQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShidWNrZXQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSk7XG4gICAgICAgIH1cblxuICAgICAgICBhc3NlcnQoYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEFycmF5Lmxlbmd0aCA9PT0gYnVja2V0LnRleHQubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoIC8gNCk7XG4gICAgICAgIGFzc2VydChidWNrZXQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkubGVuZ3RoID09PSBidWNrZXQuaWNvbi5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGggLyA0KTtcblxuICAgICAgICAvLyBQdXNoIGdlbmVyYXRlZCBjb2xsaXNpb24gY2lyY2xlcyB0byB0aGUgYnVja2V0IGZvciBkZWJ1ZyByZW5kZXJpbmdcbiAgICAgICAgaWYgKGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkIGluIHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzKSB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW2J1Y2tldC5idWNrZXRJbnN0YW5jZUlkXTtcblxuICAgICAgICAgICAgYnVja2V0LnBsYWNlbWVudEludlByb2pNYXRyaXggPSBpbnN0YW5jZS5pbnZQcm9qTWF0cml4O1xuICAgICAgICAgICAgYnVja2V0LnBsYWNlbWVudFZpZXdwb3J0TWF0cml4ID0gaW5zdGFuY2Uudmlld3BvcnRNYXRyaXg7XG4gICAgICAgICAgICBidWNrZXQuY29sbGlzaW9uQ2lyY2xlQXJyYXkgPSBpbnN0YW5jZS5jaXJjbGVzO1xuXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbYnVja2V0LmJ1Y2tldEluc3RhbmNlSWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3ltYm9sRmFkZUNoYW5nZShub3c6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhZGVEdXJhdGlvbiA9PT0gMCA/XG4gICAgICAgICAgICAxIDpcbiAgICAgICAgICAgICgobm93IC0gdGhpcy5jb21taXRUaW1lKSAvIHRoaXMuZmFkZUR1cmF0aW9uICsgdGhpcy5wcmV2Wm9vbUFkanVzdG1lbnQpO1xuICAgIH1cblxuICAgIHpvb21BZGp1c3RtZW50KHpvb206IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIC8vIFdoZW4gem9vbWluZyBvdXQgcXVpY2tseSwgbGFiZWxzIGNhbiBvdmVybGFwIGVhY2ggb3RoZXIuIFRoaXNcbiAgICAgICAgLy8gYWRqdXN0bWVudCBpcyB1c2VkIHRvIHJlZHVjZSB0aGUgaW50ZXJ2YWwgYmV0d2VlbiBwbGFjZW1lbnQgY2FsY3VsYXRpb25zXG4gICAgICAgIC8vIGFuZCB0byByZWR1Y2UgdGhlIGZhZGUgZHVyYXRpb24gd2hlbiB6b29taW5nIG91dCBxdWlja2x5LiBEaXNjb3ZlcmluZyB0aGVcbiAgICAgICAgLy8gY29sbGlzaW9ucyBtb3JlIHF1aWNrbHkgYW5kIGZhZGluZyB0aGVtIG1vcmUgcXVpY2tseSByZWR1Y2VzIHRoZSB1bndhbnRlZCBlZmZlY3QuXG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCAodGhpcy50cmFuc2Zvcm0uem9vbSAtIHpvb20pIC8gMS41KTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9ucyhub3c6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFsZSB8fFxuICAgICAgICAgICAgbm93IC0gdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSA8IHRoaXMuZmFkZUR1cmF0aW9uO1xuICAgIH1cblxuICAgIHN0aWxsUmVjZW50KG5vdzogbnVtYmVyLCB6b29tOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgLy8gVGhlIGFkanVzdG1lbnQgbWFrZXMgcGxhY2VtZW50IG1vcmUgZnJlcXVlbnQgd2hlbiB6b29taW5nLlxuICAgICAgICAvLyBUaGlzIGNvbmRpdGlvbiBhcHBsaWVzIHRoZSBhZGp1c3RtZW50IG9ubHkgYWZ0ZXIgdGhlIG1hcCBoYXNcbiAgICAgICAgLy8gc3RvcHBlZCB6b29taW5nLiBUaGlzIGF2b2lkcyBhZGRpbmcgZXh0cmEgamFuayB3aGlsZSB6b29taW5nLlxuICAgICAgICBjb25zdCBkdXJhdGlvbkFkanVzdG1lbnQgPSB0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2sgPT09IHpvb20gP1xuICAgICAgICAgICAgKDEgLSB0aGlzLnpvb21BZGp1c3RtZW50KHpvb20pKSA6XG4gICAgICAgICAgICAxO1xuICAgICAgICB0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2sgPSB6b29tO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1pdFRpbWUgKyB0aGlzLmZhZGVEdXJhdGlvbiAqIGR1cmF0aW9uQWRqdXN0bWVudCA+IG5vdztcbiAgICB9XG5cbiAgICBzZXRTdGFsZSgpIHtcbiAgICAgICAgdGhpcy5zdGFsZSA9IHRydWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVDb2xsaXNpb25WZXJ0aWNlcyhjb2xsaXNpb25WZXJ0ZXhBcnJheTogQ29sbGlzaW9uVmVydGV4QXJyYXksIHBsYWNlZDogYm9vbGVhbiwgbm90VXNlZDogYm9vbGVhbiB8IG51bWJlciwgc2hpZnRYPzogbnVtYmVyLCBzaGlmdFk/OiBudW1iZXIpIHtcbiAgICBjb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwbGFjZWQgPyAxIDogMCwgbm90VXNlZCA/IDEgOiAwLCBzaGlmdFggfHwgMCwgc2hpZnRZIHx8IDApO1xuICAgIGNvbGxpc2lvblZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHBsYWNlZCA/IDEgOiAwLCBub3RVc2VkID8gMSA6IDAsIHNoaWZ0WCB8fCAwLCBzaGlmdFkgfHwgMCk7XG4gICAgY29sbGlzaW9uVmVydGV4QXJyYXkuZW1wbGFjZUJhY2socGxhY2VkID8gMSA6IDAsIG5vdFVzZWQgPyAxIDogMCwgc2hpZnRYIHx8IDAsIHNoaWZ0WSB8fCAwKTtcbiAgICBjb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwbGFjZWQgPyAxIDogMCwgbm90VXNlZCA/IDEgOiAwLCBzaGlmdFggfHwgMCwgc2hpZnRZIHx8IDApO1xufVxuXG4vLyBBbGwgZm91ciB2ZXJ0aWNlcyBmb3IgYSBnbHlwaCB3aWxsIGhhdmUgdGhlIHNhbWUgb3BhY2l0eSBzdGF0ZVxuLy8gU28gd2UgcGFjayB0aGUgb3BhY2l0eSBpbnRvIGEgdWludDgsIGFuZCB0aGVuIHJlcGVhdCBpdCBmb3VyIHRpbWVzXG4vLyB0byBtYWtlIGEgc2luZ2xlIHVpbnQzMiB0aGF0IHdlIGNhbiB1cGxvYWQgZm9yIGVhY2ggZ2x5cGggaW4gdGhlXG4vLyBsYWJlbC5cbmNvbnN0IHNoaWZ0MjUgPSBNYXRoLnBvdygyLCAyNSk7XG5jb25zdCBzaGlmdDI0ID0gTWF0aC5wb3coMiwgMjQpO1xuY29uc3Qgc2hpZnQxNyA9IE1hdGgucG93KDIsIDE3KTtcbmNvbnN0IHNoaWZ0MTYgPSBNYXRoLnBvdygyLCAxNik7XG5jb25zdCBzaGlmdDkgPSBNYXRoLnBvdygyLCA5KTtcbmNvbnN0IHNoaWZ0OCA9IE1hdGgucG93KDIsIDgpO1xuY29uc3Qgc2hpZnQxID0gTWF0aC5wb3coMiwgMSk7XG5mdW5jdGlvbiBwYWNrT3BhY2l0eShvcGFjaXR5U3RhdGU6IE9wYWNpdHlTdGF0ZSk6IG51bWJlciB7XG4gICAgaWYgKG9wYWNpdHlTdGF0ZS5vcGFjaXR5ID09PSAwICYmICFvcGFjaXR5U3RhdGUucGxhY2VkKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSBpZiAob3BhY2l0eVN0YXRlLm9wYWNpdHkgPT09IDEgJiYgb3BhY2l0eVN0YXRlLnBsYWNlZCkge1xuICAgICAgICByZXR1cm4gNDI5NDk2NzI5NTtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0Qml0ID0gb3BhY2l0eVN0YXRlLnBsYWNlZCA/IDEgOiAwO1xuICAgIGNvbnN0IG9wYWNpdHlCaXRzID0gTWF0aC5mbG9vcihvcGFjaXR5U3RhdGUub3BhY2l0eSAqIDEyNyk7XG4gICAgcmV0dXJuIG9wYWNpdHlCaXRzICogc2hpZnQyNSArIHRhcmdldEJpdCAqIHNoaWZ0MjQgK1xuICAgICAgICBvcGFjaXR5Qml0cyAqIHNoaWZ0MTcgKyB0YXJnZXRCaXQgKiBzaGlmdDE2ICtcbiAgICAgICAgb3BhY2l0eUJpdHMgKiBzaGlmdDkgKyB0YXJnZXRCaXQgKiBzaGlmdDggK1xuICAgICAgICBvcGFjaXR5Qml0cyAqIHNoaWZ0MSArIHRhcmdldEJpdDtcbn1cblxuY29uc3QgUEFDS0VEX0hJRERFTl9PUEFDSVRZID0gMDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5cbmltcG9ydCB7UGxhY2VtZW50fSBmcm9tICcuLi9zeW1ib2wvcGxhY2VtZW50LmpzJztcbmltcG9ydCB7UGVyZm9ybWFuY2VVdGlsc30gZnJvbSAnLi4vdXRpbC9wZXJmb3JtYW5jZS5qcyc7XG5cbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgdHlwZSBTeW1ib2xTdHlsZUxheWVyIGZyb20gJy4vc3R5bGVfbGF5ZXIvc3ltYm9sX3N0eWxlX2xheWVyLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vc291cmNlL3RpbGUuanMnO1xuaW1wb3J0IHR5cGUge0J1Y2tldFBhcnR9IGZyb20gJy4uL3N5bWJvbC9wbGFjZW1lbnQuanMnO1xuaW1wb3J0IHR5cGUge0ZvZ1N0YXRlfSBmcm9tICcuL2ZvZ19oZWxwZXJzLmpzJztcblxuY2xhc3MgTGF5ZXJQbGFjZW1lbnQge1xuICAgIF9zb3J0QWNyb3NzVGlsZXM6IGJvb2xlYW47XG4gICAgX2N1cnJlbnRUaWxlSW5kZXg6IG51bWJlcjtcbiAgICBfY3VycmVudFBhcnRJbmRleDogbnVtYmVyO1xuICAgIF9zZWVuQ3Jvc3NUaWxlSURzOiB7IFtzdHJpbmcgfCBudW1iZXJdOiBib29sZWFuIH07XG4gICAgX2J1Y2tldFBhcnRzOiBBcnJheTxCdWNrZXRQYXJ0PjtcblxuICAgIGNvbnN0cnVjdG9yKHN0eWxlTGF5ZXI6IFN5bWJvbFN0eWxlTGF5ZXIpIHtcbiAgICAgICAgdGhpcy5fc29ydEFjcm9zc1RpbGVzID0gc3R5bGVMYXllci5sYXlvdXQuZ2V0KCdzeW1ib2wtei1vcmRlcicpICE9PSAndmlld3BvcnQteScgJiZcbiAgICAgICAgICAgIHN0eWxlTGF5ZXIubGF5b3V0LmdldCgnc3ltYm9sLXNvcnQta2V5JykuY29uc3RhbnRPcigxKSAhPT0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaWxlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9jdXJyZW50UGFydEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fc2VlbkNyb3NzVGlsZUlEcyA9IHt9O1xuICAgICAgICB0aGlzLl9idWNrZXRQYXJ0cyA9IFtdO1xuICAgIH1cblxuICAgIGNvbnRpbnVlUGxhY2VtZW50KHRpbGVzOiBBcnJheTxUaWxlPiwgcGxhY2VtZW50OiBQbGFjZW1lbnQsIHNob3dDb2xsaXNpb25Cb3hlczogYm9vbGVhbiwgc3R5bGVMYXllcjogU3R5bGVMYXllciwgc2hvdWxkUGF1c2VQbGFjZW1lbnQ6ICgpID0+IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYnVja2V0UGFydHMgPSB0aGlzLl9idWNrZXRQYXJ0cztcblxuICAgICAgICB3aGlsZSAodGhpcy5fY3VycmVudFRpbGVJbmRleCA8IHRpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRpbGVzW3RoaXMuX2N1cnJlbnRUaWxlSW5kZXhdO1xuICAgICAgICAgICAgcGxhY2VtZW50LmdldEJ1Y2tldFBhcnRzKGJ1Y2tldFBhcnRzLCBzdHlsZUxheWVyLCB0aWxlLCB0aGlzLl9zb3J0QWNyb3NzVGlsZXMpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGlsZUluZGV4Kys7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUGF1c2VQbGFjZW1lbnQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcykge1xuICAgICAgICAgICAgdGhpcy5fc29ydEFjcm9zc1RpbGVzID0gZmFsc2U7XG4gICAgICAgICAgICBidWNrZXRQYXJ0cy5zb3J0KChhLCBiKSA9PiAoKGEuc29ydEtleTogYW55KTogbnVtYmVyKSAtICgoYi5zb3J0S2V5OiBhbnkpOiBudW1iZXIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh0aGlzLl9jdXJyZW50UGFydEluZGV4IDwgYnVja2V0UGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBidWNrZXRQYXJ0ID0gYnVja2V0UGFydHNbdGhpcy5fY3VycmVudFBhcnRJbmRleF07XG4gICAgICAgICAgICBwbGFjZW1lbnQucGxhY2VMYXllckJ1Y2tldFBhcnQoYnVja2V0UGFydCwgdGhpcy5fc2VlbkNyb3NzVGlsZUlEcywgc2hvd0NvbGxpc2lvbkJveGVzLCBidWNrZXRQYXJ0LnN5bWJvbEluc3RhbmNlU3RhcnQgPT09IDApO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBhcnRJbmRleCsrO1xuICAgICAgICAgICAgaWYgKHNob3VsZFBhdXNlUGxhY2VtZW50KCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5jbGFzcyBQYXVzZWFibGVQbGFjZW1lbnQge1xuICAgIHBsYWNlbWVudDogUGxhY2VtZW50O1xuICAgIF9kb25lOiBib29sZWFuO1xuICAgIF9jdXJyZW50UGxhY2VtZW50SW5kZXg6IG51bWJlcjtcbiAgICBfZm9yY2VGdWxsUGxhY2VtZW50OiBib29sZWFuO1xuICAgIF9zaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW47XG4gICAgX2luUHJvZ3Jlc3NMYXllcjogP0xheWVyUGxhY2VtZW50O1xuXG4gICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIG9yZGVyOiBBcnJheTxzdHJpbmc+LFxuICAgICAgICAgICAgICAgIGZvcmNlRnVsbFBsYWNlbWVudDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICBzaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgZmFkZUR1cmF0aW9uOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiBib29sZWFuLFxuICAgICAgICAgICAgICAgIHByZXZQbGFjZW1lbnQ/OiBQbGFjZW1lbnQsXG4gICAgICAgICAgICAgICAgZm9nU3RhdGU6ID9Gb2dTdGF0ZSkge1xuXG4gICAgICAgIHRoaXMucGxhY2VtZW50ID0gbmV3IFBsYWNlbWVudCh0cmFuc2Zvcm0sIGZhZGVEdXJhdGlvbiwgY3Jvc3NTb3VyY2VDb2xsaXNpb25zLCBwcmV2UGxhY2VtZW50LCBmb2dTdGF0ZSk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleCA9IG9yZGVyLmxlbmd0aCAtIDE7XG4gICAgICAgIHRoaXMuX2ZvcmNlRnVsbFBsYWNlbWVudCA9IGZvcmNlRnVsbFBsYWNlbWVudDtcbiAgICAgICAgdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzID0gc2hvd0NvbGxpc2lvbkJveGVzO1xuICAgICAgICB0aGlzLl9kb25lID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNEb25lKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZG9uZTtcbiAgICB9XG5cbiAgICBjb250aW51ZVBsYWNlbWVudChvcmRlcjogQXJyYXk8c3RyaW5nPiwgbGF5ZXJzOiB7W186IHN0cmluZ106IFN0eWxlTGF5ZXJ9LCBsYXllclRpbGVzOiB7W186IHN0cmluZ106IEFycmF5PFRpbGU+fSkge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBicm93c2VyLm5vdygpO1xuXG4gICAgICAgIGNvbnN0IHNob3VsZFBhdXNlUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxhcHNlZFRpbWUgPSBicm93c2VyLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvcmNlRnVsbFBsYWNlbWVudCA/IGZhbHNlIDogZWxhcHNlZFRpbWUgPiAyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHdoaWxlICh0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXJJZCA9IG9yZGVyW3RoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleF07XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IGxheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlbWVudFpvb20gPSB0aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleC50cmFuc2Zvcm0uem9vbTtcbiAgICAgICAgICAgIGlmIChsYXllci50eXBlID09PSAnc3ltYm9sJyAmJlxuICAgICAgICAgICAgICAgICghbGF5ZXIubWluem9vbSB8fCBsYXllci5taW56b29tIDw9IHBsYWNlbWVudFpvb20pICYmXG4gICAgICAgICAgICAgICAgKCFsYXllci5tYXh6b29tIHx8IGxheWVyLm1heHpvb20gPiBwbGFjZW1lbnRab29tKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pblByb2dyZXNzTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5Qcm9ncmVzc0xheWVyID0gbmV3IExheWVyUGxhY2VtZW50KCgobGF5ZXI6IGFueSk6IFN5bWJvbFN0eWxlTGF5ZXIpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXVzZVBsYWNlbWVudCA9IHRoaXMuX2luUHJvZ3Jlc3NMYXllci5jb250aW51ZVBsYWNlbWVudChsYXllclRpbGVzW2xheWVyLnNvdXJjZV0sIHRoaXMucGxhY2VtZW50LCB0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMsIGxheWVyLCBzaG91bGRQYXVzZVBsYWNlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGF1c2VQbGFjZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgUGVyZm9ybWFuY2VVdGlscy5yZWNvcmRQbGFjZW1lbnRUaW1lKGJyb3dzZXIubm93KCkgLSBzdGFydFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkaWRuJ3QgZmluaXNoIHBsYWNpbmcgYWxsIGxheWVycyB3aXRoaW4gMm1zLFxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgd2UgY2FuIGtlZXAgcmVuZGVyaW5nIHdpdGggYSBwYXJ0aWFsIHBsYWNlbWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBXZSdsbCByZXN1bWUgaGVyZSBvbiB0aGUgbmV4dCBmcmFtZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2luUHJvZ3Jlc3NMYXllcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4LS07XG4gICAgICAgIH1cbiAgICAgICAgUGVyZm9ybWFuY2VVdGlscy5yZWNvcmRQbGFjZW1lbnRUaW1lKGJyb3dzZXIubm93KCkgLSBzdGFydFRpbWUpO1xuICAgICAgICB0aGlzLl9kb25lID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb21taXQobm93OiBudW1iZXIpOiBQbGFjZW1lbnQge1xuICAgICAgICB0aGlzLnBsYWNlbWVudC5jb21taXQobm93KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhY2VtZW50O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGF1c2VhYmxlUGxhY2VtZW50O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudC5qcyc7XG5cbmltcG9ydCB7U3ltYm9sSW5zdGFuY2VBcnJheX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSBQcm9qZWN0aW9uIGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3Byb2plY3Rpb24uanMnO1xuaW1wb3J0IHR5cGUge1N5bWJvbEluc3RhbmNlfSBmcm9tICcuLi9kYXRhL2FycmF5X3R5cGVzLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgdHlwZSBTeW1ib2xCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldC5qcyc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vc291cmNlL3RpbGUuanMnO1xuXG4vKlxuICAgIFRoZSBDcm9zc1RpbGVTeW1ib2xJbmRleCBnZW5lcmFsbHkgd29ya3Mgb24gdGhlIGFzc3VtcHRpb24gdGhhdFxuICAgIGEgY29uY2VwdHVhbCBcInVuaXF1ZSBzeW1ib2xcIiBjYW4gYmUgaWRlbnRpZmllZCBieSB0aGUgdGV4dCBvZlxuICAgIHRoZSBsYWJlbCBjb21iaW5lZCB3aXRoIHRoZSBhbmNob3IgcG9pbnQuIFRoZSBnb2FsIGlzIHRvIGFzc2lnblxuICAgIHRoZXNlIGNvbmNlcHR1YWwgXCJ1bmlxdWUgc3ltYm9sc1wiIGEgc2hhcmVkIGNyb3NzVGlsZUlEIHRoYXQgY2FuIGJlXG4gICAgdXNlZCBieSBQbGFjZW1lbnQgdG8ga2VlcCBmYWRpbmcgb3BhY2l0eSBzdGF0ZXMgY29uc2lzdGVudCBhbmQgdG9cbiAgICBkZWR1cGxpY2F0ZSBsYWJlbHMuXG5cbiAgICBUaGUgQ3Jvc3NUaWxlU3ltYm9sSW5kZXggaW5kZXhlcyBhbGwgdGhlIGN1cnJlbnQgc3ltYm9sIGluc3RhbmNlcyBhbmRcbiAgICB0aGVpciBjcm9zc1RpbGVJRHMuIFdoZW4gYSBzeW1ib2wgYnVja2V0IGdldHMgYWRkZWQgb3IgdXBkYXRlZCwgdGhlXG4gICAgaW5kZXggYXNzaWducyBhIGNyb3NzVGlsZUlEIHRvIGVhY2ggb2YgaXQncyBzeW1ib2wgaW5zdGFuY2VzIGJ5IGVpdGhlclxuICAgIG1hdGNoaW5nIGl0IHdpdGggYW4gZXhpc3RpbmcgaWQgb3IgYXNzaWduaW5nIGEgbmV3IG9uZS5cbiovXG5cbi8vIFJvdW5kIGFuY2hvciBwb3NpdGlvbnMgdG8gcm91Z2hseSA0IHBpeGVsIGdyaWRcbmNvbnN0IHJvdW5kaW5nRmFjdG9yID0gNTEyIC8gRVhURU5UIC8gMjtcblxuY2xhc3MgVGlsZUxheWVySW5kZXgge1xuICAgIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRDtcbiAgICBpbmRleGVkU3ltYm9sSW5zdGFuY2VzOiB7W186IG51bWJlcl06IEFycmF5PHtcbiAgICAgICAgY3Jvc3NUaWxlSUQ6IG51bWJlcixcbiAgICAgICAgY29vcmQ6IHtcbiAgICAgICAgICAgIHg6IG51bWJlcixcbiAgICAgICAgICAgIHk6IG51bWJlclxuICAgICAgICB9XG4gICAgfT59O1xuICAgIGJ1Y2tldEluc3RhbmNlSWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgc3ltYm9sSW5zdGFuY2VzOiBTeW1ib2xJbnN0YW5jZUFycmF5LCBidWNrZXRJbnN0YW5jZUlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy50aWxlSUQgPSB0aWxlSUQ7XG4gICAgICAgIHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlcyA9IHt9O1xuICAgICAgICB0aGlzLmJ1Y2tldEluc3RhbmNlSWQgPSBidWNrZXRJbnN0YW5jZUlkO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IHN5bWJvbEluc3RhbmNlcy5nZXQoaSk7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBzeW1ib2xJbnN0YW5jZS5rZXk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1trZXldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2tleV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoaXMgdGlsZSBtYXkgaGF2ZSBtdWx0aXBsZSBzeW1ib2wgaW5zdGFuY2VzIHdpdGggdGhlIHNhbWUga2V5XG4gICAgICAgICAgICAvLyBTdG9yZSBlYWNoIG9uZSBhbG9uZyB3aXRoIGl0cyBjb29yZGluYXRlc1xuICAgICAgICAgICAgdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2tleV0ucHVzaCh7XG4gICAgICAgICAgICAgICAgY3Jvc3NUaWxlSUQ6IHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlELFxuICAgICAgICAgICAgICAgIGNvb3JkOiB0aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKHN5bWJvbEluc3RhbmNlLCB0aWxlSUQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbnZlcnRzIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgaW5wdXQgc3ltYm9sIGluc3RhbmNlIGludG8gY29vcmRpbmF0ZXMgdGhhdCBiZSBjYW4gY29tcGFyZWRcbiAgICAvLyBhZ2FpbnN0IG90aGVyIHN5bWJvbHMgaW4gdGhpcyBpbmRleC4gQ29vcmRpbmF0ZXMgYXJlOlxuICAgIC8vICgxKSB3b3JsZC1iYXNlZCAoc28gYWZ0ZXIgY29udmVyc2lvbiB0aGUgc291cmNlIHRpbGUgaXMgaXJyZWxldmFudClcbiAgICAvLyAoMikgY29udmVydGVkIHRvIHRoZSB6LXNjYWxlIG9mIHRoaXMgVGlsZUxheWVySW5kZXhcbiAgICAvLyAoMykgZG93bi1zYW1wbGVkIGJ5IFwicm91bmRpbmdGYWN0b3JcIiBmcm9tIHRpbGUgY29vcmRpbmF0ZSBwcmVjaXNpb24gaW4gb3JkZXIgdG8gYmVcbiAgICAvLyAgICAgbW9yZSB0b2xlcmFudCBvZiBzbWFsbCBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRpbGVzLlxuICAgIGdldFNjYWxlZENvb3JkaW5hdGVzKHN5bWJvbEluc3RhbmNlOiBTeW1ib2xJbnN0YW5jZSwgY2hpbGRUaWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpOiB7fHg6IG51bWJlciwgeTogbnVtYmVyfH0ge1xuICAgICAgICBjb25zdCB6RGlmZmVyZW5jZSA9IGNoaWxkVGlsZUlELmNhbm9uaWNhbC56IC0gdGhpcy50aWxlSUQuY2Fub25pY2FsLno7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gcm91bmRpbmdGYWN0b3IgLyBNYXRoLnBvdygyLCB6RGlmZmVyZW5jZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBNYXRoLmZsb29yKChjaGlsZFRpbGVJRC5jYW5vbmljYWwueCAqIEVYVEVOVCArIHN5bWJvbEluc3RhbmNlLnRpbGVBbmNob3JYKSAqIHNjYWxlKSxcbiAgICAgICAgICAgIHk6IE1hdGguZmxvb3IoKGNoaWxkVGlsZUlELmNhbm9uaWNhbC55ICogRVhURU5UICsgc3ltYm9sSW5zdGFuY2UudGlsZUFuY2hvclkpICogc2NhbGUpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZmluZE1hdGNoZXMoc3ltYm9sSW5zdGFuY2VzOiBTeW1ib2xJbnN0YW5jZUFycmF5LCBuZXdUaWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHpvb21Dcm9zc1RpbGVJRHM6IHtbY3Jvc3NUaWxlSUQ6IG51bWJlcl06IGJvb2xlYW59KSB7XG4gICAgICAgIGNvbnN0IHRvbGVyYW5jZSA9IHRoaXMudGlsZUlELmNhbm9uaWNhbC56IDwgbmV3VGlsZUlELmNhbm9uaWNhbC56ID8gMSA6IE1hdGgucG93KDIsIHRoaXMudGlsZUlELmNhbm9uaWNhbC56IC0gbmV3VGlsZUlELmNhbm9uaWNhbC56KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN5bWJvbEluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc3ltYm9sSW5zdGFuY2UgPSBzeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO1xuICAgICAgICAgICAgaWYgKHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEKSB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBoYXMgYSBtYXRjaCwgc2tpcFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpbmRleGVkSW5zdGFuY2VzID0gdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW3N5bWJvbEluc3RhbmNlLmtleV07XG4gICAgICAgICAgICBpZiAoIWluZGV4ZWRJbnN0YW5jZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBObyBzeW1ib2wgd2l0aCB0aGlzIGtleSBpbiB0aGlzIGJ1Y2tldFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzY2FsZWRTeW1ib2xDb29yZCA9IHRoaXMuZ2V0U2NhbGVkQ29vcmRpbmF0ZXMoc3ltYm9sSW5zdGFuY2UsIG5ld1RpbGVJRCk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgdGhpc1RpbGVTeW1ib2wgb2YgaW5kZXhlZEluc3RhbmNlcykge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBhbnkgc3ltYm9sIHdpdGggdGhlIHNhbWUga2V5cyB3aG9zZSBjb29yZGluYXRlcyBhcmUgd2l0aGluIDFcbiAgICAgICAgICAgICAgICAvLyBncmlkIHVuaXQuICh3aXRoIGEgNHB4IGdyaWQsIHRoaXMgY292ZXJzIGEgMTJweCBieSAxMnB4IGFyZWEpXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXNUaWxlU3ltYm9sLmNvb3JkLnggLSBzY2FsZWRTeW1ib2xDb29yZC54KSA8PSB0b2xlcmFuY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnModGhpc1RpbGVTeW1ib2wuY29vcmQueSAtIHNjYWxlZFN5bWJvbENvb3JkLnkpIDw9IHRvbGVyYW5jZSAmJlxuICAgICAgICAgICAgICAgICAgICAhem9vbUNyb3NzVGlsZUlEc1t0aGlzVGlsZVN5bWJvbC5jcm9zc1RpbGVJRF0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25jZSB3ZSd2ZSBtYXJrZWQgb3Vyc2VsdmVzIGR1cGxpY2F0ZSBhZ2FpbnN0IHRoaXMgcGFyZW50IHN5bWJvbCxcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgbGV0IGFueSBvdGhlciBzeW1ib2xzIGF0IHRoZSBzYW1lIHpvb20gbGV2ZWwgZHVwbGljYXRlIGFnYWluc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHNhbWUgcGFyZW50IChzZWUgaXNzdWUgIzU5OTMpXG4gICAgICAgICAgICAgICAgICAgIHpvb21Dcm9zc1RpbGVJRHNbdGhpc1RpbGVTeW1ib2wuY3Jvc3NUaWxlSURdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQgPSB0aGlzVGlsZVN5bWJvbC5jcm9zc1RpbGVJRDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBDcm9zc1RpbGVJRHMge1xuICAgIG1heENyb3NzVGlsZUlEOiBudW1iZXI7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWF4Q3Jvc3NUaWxlSUQgPSAwO1xuICAgIH1cbiAgICBnZW5lcmF0ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gKyt0aGlzLm1heENyb3NzVGlsZUlEO1xuICAgIH1cbn1cblxuY2xhc3MgQ3Jvc3NUaWxlU3ltYm9sTGF5ZXJJbmRleCB7XG4gICAgaW5kZXhlczoge1t6b29tOiBzdHJpbmcgfCBudW1iZXJdOiB7W3RpbGVJZDogc3RyaW5nIHwgbnVtYmVyXTogVGlsZUxheWVySW5kZXh9fTtcbiAgICB1c2VkQ3Jvc3NUaWxlSURzOiB7W3pvb206IHN0cmluZyB8IG51bWJlcl06IHtbY3Jvc3NUaWxlSUQ6IG51bWJlcl06IGJvb2xlYW59fTtcbiAgICBsbmc6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluZGV4ZXMgPSB7fTtcbiAgICAgICAgdGhpcy51c2VkQ3Jvc3NUaWxlSURzID0ge307XG4gICAgICAgIHRoaXMubG5nID0gMDtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFNvbWV0aW1lcyB3aGVuIGEgdXNlciBwYW5zIGFjcm9zcyB0aGUgYW50aW1lcmlkaWFuIHRoZSBsb25naXR1ZGUgdmFsdWUgZ2V0cyB3cmFwcGVkLlxuICAgICAqIFRvIHByZXZlbnQgbGFiZWxzIGZyb20gZmxhc2hpbmcgb3V0IGFuZCBpbiB3ZSBhZGp1c3QgdGhlIHRpbGVJRCB2YWx1ZXMgaW4gdGhlIGluZGV4ZXNcbiAgICAgKiBzbyB0aGF0IHRoZXkgbWF0Y2ggdGhlIG5ldyB3cmFwcGVkIHZlcnNpb24gb2YgdGhlIG1hcC5cbiAgICAgKi9cbiAgICBoYW5kbGVXcmFwSnVtcChsbmc6IG51bWJlcikge1xuICAgICAgICBjb25zdCB3cmFwRGVsdGEgPSBNYXRoLnJvdW5kKChsbmcgLSB0aGlzLmxuZykgLyAzNjApO1xuICAgICAgICBpZiAod3JhcERlbHRhICE9PSAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHpvb20gaW4gdGhpcy5pbmRleGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgem9vbUluZGV4ZXMgPSB0aGlzLmluZGV4ZXNbem9vbV07XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Wm9vbUluZGV4ID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gem9vbUluZGV4ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlIHRoZSB0aWxlSUQncyB3cmFwIGFuZCBhZGQgaXQgdG8gYSBuZXcgaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB6b29tSW5kZXhlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBpbmRleC50aWxlSUQgPSBpbmRleC50aWxlSUQudW53cmFwVG8oaW5kZXgudGlsZUlELndyYXAgKyB3cmFwRGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICBuZXdab29tSW5kZXhbaW5kZXgudGlsZUlELmtleV0gPSBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleGVzW3pvb21dID0gbmV3Wm9vbUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubG5nID0gbG5nO1xuICAgIH1cblxuICAgIGFkZEJ1Y2tldCh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIGJ1Y2tldDogU3ltYm9sQnVja2V0LCBjcm9zc1RpbGVJRHM6IENyb3NzVGlsZUlEcyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl0gJiZcbiAgICAgICAgICAgIHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdW3RpbGVJRC5rZXldKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0uYnVja2V0SW5zdGFuY2VJZCA9PT1cbiAgICAgICAgICAgICAgICBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UncmUgcmVwbGFjaW5nIHRoaXMgYnVja2V0IHdpdGggYW4gdXBkYXRlZCB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBvbGQgYnVja2V0J3MgXCJ1c2VkIGNyb3NzVGlsZUlEc1wiIG5vdyBzbyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gdGhlIG5ldyBidWNrZXQgY2FuIGNsYWltIHRoZW0uXG4gICAgICAgICAgICAgICAgLy8gVGhlIG9sZCBpbmRleCBlbnRyaWVzIHRoZW1zZWx2ZXMgc3RpY2sgYXJvdW5kIHVudGlsXG4gICAgICAgICAgICAgICAgLy8gJ3JlbW92ZVN0YWxlQnVja2V0cycgaXMgY2FsbGVkLlxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO1xuICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdGlsZUlELm92ZXJzY2FsZWRaXSkge1xuICAgICAgICAgICAgdGhpcy51c2VkQ3Jvc3NUaWxlSURzW3RpbGVJRC5vdmVyc2NhbGVkWl0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB6b29tQ3Jvc3NUaWxlSURzID0gdGhpcy51c2VkQ3Jvc3NUaWxlSURzW3RpbGVJRC5vdmVyc2NhbGVkWl07XG5cbiAgICAgICAgZm9yIChjb25zdCB6b29tIGluIHRoaXMuaW5kZXhlcykge1xuICAgICAgICAgICAgY29uc3Qgem9vbUluZGV4ZXMgPSB0aGlzLmluZGV4ZXNbem9vbV07XG4gICAgICAgICAgICBpZiAoTnVtYmVyKHpvb20pID4gdGlsZUlELm92ZXJzY2FsZWRaKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB6b29tSW5kZXhlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEluZGV4ID0gem9vbUluZGV4ZXNbaWRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRJbmRleC50aWxlSUQuaXNDaGlsZE9mKHRpbGVJRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkSW5kZXguZmluZE1hdGNoZXMoYnVja2V0LnN5bWJvbEluc3RhbmNlcywgdGlsZUlELCB6b29tQ3Jvc3NUaWxlSURzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Q29vcmQgPSB0aWxlSUQuc2NhbGVkVG8oTnVtYmVyKHpvb20pKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJbmRleCA9IHpvb21JbmRleGVzW3BhcmVudENvb3JkLmtleV07XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEluZGV4LmZpbmRNYXRjaGVzKGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMsIHRpbGVJRCwgem9vbUNyb3NzVGlsZUlEcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO1xuICAgICAgICAgICAgaWYgKCFzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRCkge1xuICAgICAgICAgICAgICAgIC8vIHN5bWJvbCBkaWQgbm90IG1hdGNoIGFueSBrbm93biBzeW1ib2wsIGFzc2lnbiBhIG5ldyBpZFxuICAgICAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEID0gY3Jvc3NUaWxlSURzLmdlbmVyYXRlKCk7XG4gICAgICAgICAgICAgICAgem9vbUNyb3NzVGlsZUlEc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0gPSBuZXcgVGlsZUxheWVySW5kZXgodGlsZUlELCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLCBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHpvb206IHN0cmluZyB8IG51bWJlciwgcmVtb3ZlZEJ1Y2tldDogVGlsZUxheWVySW5kZXgpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVtb3ZlZEJ1Y2tldC5pbmRleGVkU3ltYm9sSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN5bWJvbEluc3RhbmNlIG9mIHJlbW92ZWRCdWNrZXQuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1soa2V5OiBhbnkpXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnVzZWRDcm9zc1RpbGVJRHNbem9vbV1bc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlU3RhbGVCdWNrZXRzKGN1cnJlbnRJRHM6IHsgW3N0cmluZyB8IG51bWJlcl06IGJvb2xlYW4gfSk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgdGlsZXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgeiBpbiB0aGlzLmluZGV4ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHpvb21JbmRleGVzID0gdGhpcy5pbmRleGVzW3pdO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0aWxlS2V5IGluIHpvb21JbmRleGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50SURzW3pvb21JbmRleGVzW3RpbGVLZXldLmJ1Y2tldEluc3RhbmNlSWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHosIHpvb21JbmRleGVzW3RpbGVLZXldKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHpvb21JbmRleGVzW3RpbGVLZXldO1xuICAgICAgICAgICAgICAgICAgICB0aWxlc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGlsZXNDaGFuZ2VkO1xuICAgIH1cbn1cblxuY2xhc3MgQ3Jvc3NUaWxlU3ltYm9sSW5kZXgge1xuICAgIGxheWVySW5kZXhlczoge1tsYXllcklkOiBzdHJpbmddOiBDcm9zc1RpbGVTeW1ib2xMYXllckluZGV4fTtcbiAgICBjcm9zc1RpbGVJRHM6IENyb3NzVGlsZUlEcztcbiAgICBtYXhCdWNrZXRJbnN0YW5jZUlkOiBudW1iZXI7XG4gICAgYnVja2V0c0luQ3VycmVudFBsYWNlbWVudDoge1tfOiBudW1iZXJdOiBib29sZWFufTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxheWVySW5kZXhlcyA9IHt9O1xuICAgICAgICB0aGlzLmNyb3NzVGlsZUlEcyA9IG5ldyBDcm9zc1RpbGVJRHMoKTtcbiAgICAgICAgdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkID0gMDtcbiAgICAgICAgdGhpcy5idWNrZXRzSW5DdXJyZW50UGxhY2VtZW50ID0ge307XG4gICAgfVxuXG4gICAgYWRkTGF5ZXIoc3R5bGVMYXllcjogU3R5bGVMYXllciwgdGlsZXM6IEFycmF5PFRpbGU+LCBsbmc6IG51bWJlciwgcHJvamVjdGlvbjogUHJvamVjdGlvbik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgbGF5ZXJJbmRleCA9IHRoaXMubGF5ZXJJbmRleGVzW3N0eWxlTGF5ZXIuaWRdO1xuICAgICAgICBpZiAobGF5ZXJJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsYXllckluZGV4ID0gdGhpcy5sYXllckluZGV4ZXNbc3R5bGVMYXllci5pZF0gPSBuZXcgQ3Jvc3NUaWxlU3ltYm9sTGF5ZXJJbmRleCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN5bWJvbEJ1Y2tldHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRCdWNrZXRJRHMgPSB7fTtcblxuICAgICAgICBpZiAocHJvamVjdGlvbi5uYW1lICE9PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICBsYXllckluZGV4LmhhbmRsZVdyYXBKdW1wKGxuZyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHRpbGUgb2YgdGlsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbEJ1Y2tldCA9ICgodGlsZS5nZXRCdWNrZXQoc3R5bGVMYXllcik6IGFueSk6IFN5bWJvbEJ1Y2tldCk7XG4gICAgICAgICAgICBpZiAoIXN5bWJvbEJ1Y2tldCB8fCBzdHlsZUxheWVyLmlkICE9PSBzeW1ib2xCdWNrZXQubGF5ZXJJZHNbMF0pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmICghc3ltYm9sQnVja2V0LmJ1Y2tldEluc3RhbmNlSWQpIHtcbiAgICAgICAgICAgICAgICBzeW1ib2xCdWNrZXQuYnVja2V0SW5zdGFuY2VJZCA9ICsrdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGF5ZXJJbmRleC5hZGRCdWNrZXQodGlsZS50aWxlSUQsIHN5bWJvbEJ1Y2tldCwgdGhpcy5jcm9zc1RpbGVJRHMpKSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sQnVja2V0c0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudEJ1Y2tldElEc1tzeW1ib2xCdWNrZXQuYnVja2V0SW5zdGFuY2VJZF0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxheWVySW5kZXgucmVtb3ZlU3RhbGVCdWNrZXRzKGN1cnJlbnRCdWNrZXRJRHMpKSB7XG4gICAgICAgICAgICBzeW1ib2xCdWNrZXRzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3ltYm9sQnVja2V0c0NoYW5nZWQ7XG4gICAgfVxuXG4gICAgcHJ1bmVVbnVzZWRMYXllcnModXNlZExheWVyczogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBjb25zdCB1c2VkTGF5ZXJNYXAgPSB7fTtcbiAgICAgICAgdXNlZExheWVycy5mb3JFYWNoKCh1c2VkTGF5ZXIpID0+IHtcbiAgICAgICAgICAgIHVzZWRMYXllck1hcFt1c2VkTGF5ZXJdID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiB0aGlzLmxheWVySW5kZXhlcykge1xuICAgICAgICAgICAgaWYgKCF1c2VkTGF5ZXJNYXBbbGF5ZXJJZF0pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5sYXllckluZGV4ZXNbbGF5ZXJJZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENyb3NzVGlsZVN5bWJvbEluZGV4O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQge0V2ZW50LCBFcnJvckV2ZW50LCBFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IFN0eWxlTGF5ZXIgZnJvbSAnLi9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgY3JlYXRlU3R5bGVMYXllciBmcm9tICcuL2NyZWF0ZV9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgbG9hZFNwcml0ZSBmcm9tICcuL2xvYWRfc3ByaXRlLmpzJztcbmltcG9ydCBJbWFnZU1hbmFnZXIgZnJvbSAnLi4vcmVuZGVyL2ltYWdlX21hbmFnZXIuanMnO1xuaW1wb3J0IEdseXBoTWFuYWdlciwge0xvY2FsR2x5cGhNb2RlfSBmcm9tICcuLi9yZW5kZXIvZ2x5cGhfbWFuYWdlci5qcyc7XG5pbXBvcnQgTGlnaHQgZnJvbSAnLi9saWdodC5qcyc7XG5pbXBvcnQgVGVycmFpbiwge0RyYXBlUmVuZGVyTW9kZX0gZnJvbSAnLi90ZXJyYWluLmpzJztcbmltcG9ydCBGb2cgZnJvbSAnLi9mb2cuanMnO1xuaW1wb3J0IHtwaWNrLCBjbG9uZSwgZXh0ZW5kLCBkZWVwRXF1YWwsIGZpbHRlck9iamVjdH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7Z2V0SlNPTiwgZ2V0UmVmZXJyZXIsIG1ha2VSZXF1ZXN0LCBSZXNvdXJjZVR5cGV9IGZyb20gJy4uL3V0aWwvYWpheC5qcyc7XG5pbXBvcnQge2lzTWFwYm94VVJMfSBmcm9tICcuLi91dGlsL21hcGJveC5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB7XG4gICAgdmFsaWRhdGVTdHlsZSxcbiAgICB2YWxpZGF0ZVNvdXJjZSxcbiAgICB2YWxpZGF0ZUxheWVyLFxuICAgIHZhbGlkYXRlRmlsdGVyLFxuICAgIHZhbGlkYXRlVGVycmFpbixcbiAgICBlbWl0VmFsaWRhdGlvbkVycm9ycyBhcyBfZW1pdFZhbGlkYXRpb25FcnJvcnNcbn0gZnJvbSAnLi92YWxpZGF0ZV9zdHlsZS5qcyc7XG5pbXBvcnQge1F1ZXJ5R2VvbWV0cnl9IGZyb20gJy4uL3N0eWxlL3F1ZXJ5X2dlb21ldHJ5LmpzJztcbmltcG9ydCB7XG4gICAgY3JlYXRlIGFzIGNyZWF0ZVNvdXJjZSxcbiAgICBnZXRUeXBlIGFzIGdldFNvdXJjZVR5cGUsXG4gICAgc2V0VHlwZSBhcyBzZXRTb3VyY2VUeXBlLFxuICAgIHR5cGUgU291cmNlQ2xhc3Ncbn0gZnJvbSAnLi4vc291cmNlL3NvdXJjZS5qcyc7XG5pbXBvcnQge3F1ZXJ5UmVuZGVyZWRGZWF0dXJlcywgcXVlcnlSZW5kZXJlZFN5bWJvbHMsIHF1ZXJ5U291cmNlRmVhdHVyZXN9IGZyb20gJy4uL3NvdXJjZS9xdWVyeV9mZWF0dXJlcy5qcyc7XG5pbXBvcnQgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZS5qcyc7XG5pbXBvcnQgR2VvSlNPTlNvdXJjZSBmcm9tICcuLi9zb3VyY2UvZ2VvanNvbl9zb3VyY2UuanMnO1xuaW1wb3J0IHN0eWxlU3BlYyBmcm9tICcuLi9zdHlsZS1zcGVjL3JlZmVyZW5jZS9sYXRlc3QuanMnO1xuaW1wb3J0IGdldFdvcmtlclBvb2wgZnJvbSAnLi4vdXRpbC9nbG9iYWxfd29ya2VyX3Bvb2wuanMnO1xuaW1wb3J0IGRlcmVmIGZyb20gJy4uL3N0eWxlLXNwZWMvZGVyZWYuanMnO1xuaW1wb3J0IGVtcHR5U3R5bGUgZnJvbSAnLi4vc3R5bGUtc3BlYy9lbXB0eS5qcyc7XG5pbXBvcnQgZGlmZlN0eWxlcywge29wZXJhdGlvbnMgYXMgZGlmZk9wZXJhdGlvbnN9IGZyb20gJy4uL3N0eWxlLXNwZWMvZGlmZi5qcyc7XG5pbXBvcnQge1xuICAgIHJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2UsXG4gICAgZXZlbnRlZCBhcyBydGxUZXh0UGx1Z2luRXZlbnRlZCxcbiAgICB0cmlnZ2VyUGx1Z2luQ29tcGxldGlvbkV2ZW50XG59IGZyb20gJy4uL3NvdXJjZS9ydGxfdGV4dF9wbHVnaW4uanMnO1xuaW1wb3J0IFBhdXNlYWJsZVBsYWNlbWVudCBmcm9tICcuL3BhdXNlYWJsZV9wbGFjZW1lbnQuanMnO1xuaW1wb3J0IENyb3NzVGlsZVN5bWJvbEluZGV4IGZyb20gJy4uL3N5bWJvbC9jcm9zc190aWxlX3N5bWJvbF9pbmRleC5qcyc7XG5pbXBvcnQge3ZhbGlkYXRlQ3VzdG9tU3R5bGVMYXllcn0gZnJvbSAnLi9zdHlsZV9sYXllci9jdXN0b21fc3R5bGVfbGF5ZXIuanMnO1xuXG4vLyBXZSdyZSBza2lwcGluZyB2YWxpZGF0aW9uIGVycm9ycyB3aXRoIHRoZSBgc291cmNlLmNhbnZhc2AgaWRlbnRpZmllciBpbiBvcmRlclxuLy8gdG8gY29udGludWUgdG8gYWxsb3cgY2FudmFzIHNvdXJjZXMgdG8gYmUgYWRkZWQgYXQgcnVudGltZS91cGRhdGVkIGluXG4vLyBzbWFydCBzZXRTdHlsZSAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL3B1bGwvNjQyNCk6XG5jb25zdCBlbWl0VmFsaWRhdGlvbkVycm9ycyA9IChldmVudGVkOiBFdmVudGVkLCBlcnJvcnM6ID9WYWxpZGF0aW9uRXJyb3JzKSA9PlxuICAgIF9lbWl0VmFsaWRhdGlvbkVycm9ycyhldmVudGVkLCBlcnJvcnMgJiYgZXJyb3JzLmZpbHRlcihlcnJvciA9PiBlcnJvci5pZGVudGlmaWVyICE9PSAnc291cmNlLmNhbnZhcycpKTtcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSB7U3R5bGVJbWFnZX0gZnJvbSAnLi9zdHlsZV9pbWFnZS5qcyc7XG5pbXBvcnQgdHlwZSB7U3R5bGVHbHlwaH0gZnJvbSAnLi9zdHlsZV9nbHlwaC5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrLmpzJztcbmltcG9ydCB0eXBlIEV2YWx1YXRpb25QYXJhbWV0ZXJzIGZyb20gJy4vZXZhbHVhdGlvbl9wYXJhbWV0ZXJzLmpzJztcbmltcG9ydCB0eXBlIHtQbGFjZW1lbnR9IGZyb20gJy4uL3N5bWJvbC9wbGFjZW1lbnQuanMnO1xuaW1wb3J0IHR5cGUge0NhbmNlbGFibGV9IGZyb20gJy4uL3R5cGVzL2NhbmNlbGFibGUuanMnO1xuaW1wb3J0IHR5cGUge1JlcXVlc3RQYXJhbWV0ZXJzLCBSZXNwb25zZUNhbGxiYWNrfSBmcm9tICcuLi91dGlsL2FqYXguanMnO1xuaW1wb3J0IHR5cGUge0dlb0pTT059IGZyb20gJ0BtYXBib3gvZ2VvanNvbi10eXBlcyc7XG5pbXBvcnQgdHlwZSB7XG4gICAgTGF5ZXJTcGVjaWZpY2F0aW9uLFxuICAgIEZpbHRlclNwZWNpZmljYXRpb24sXG4gICAgU3R5bGVTcGVjaWZpY2F0aW9uLFxuICAgIExpZ2h0U3BlY2lmaWNhdGlvbixcbiAgICBTb3VyY2VTcGVjaWZpY2F0aW9uLFxuICAgIFRlcnJhaW5TcGVjaWZpY2F0aW9uLFxuICAgIEZvZ1NwZWNpZmljYXRpb24sXG4gICAgUHJvamVjdGlvblNwZWNpZmljYXRpb24sXG4gICAgVHJhbnNpdGlvblNwZWNpZmljYXRpb24sXG4gICAgUHJvcGVydHlWYWx1ZVNwZWNpZmljYXRpb25cbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSB7Q3VzdG9tTGF5ZXJJbnRlcmZhY2V9IGZyb20gJy4vc3R5bGVfbGF5ZXIvY3VzdG9tX3N0eWxlX2xheWVyLmpzJztcbmltcG9ydCB0eXBlIHtWYWxpZGF0b3IsIFZhbGlkYXRpb25FcnJvcnN9IGZyb20gJy4vdmFsaWRhdGVfc3R5bGUuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB0eXBlIHtRdWVyeVJlc3VsdH0gZnJvbSAnLi4vZGF0YS9mZWF0dXJlX2luZGV4LmpzJztcbmltcG9ydCB0eXBlIHtRdWVyeUZlYXR1cmV9IGZyb20gJy4uL3V0aWwvdmVjdG9ydGlsZV90b19nZW9qc29uLmpzJztcbmltcG9ydCB0eXBlIHtGZWF0dXJlU3RhdGVzfSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX3N0YXRlLmpzJztcbmltcG9ydCB0eXBlIHtQb2ludExpa2V9IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi4vc291cmNlL3NvdXJjZS5qcyc7XG5pbXBvcnQgdHlwZSB7VHJhbnNpdGlvblBhcmFtZXRlcnN9IGZyb20gJy4vcHJvcGVydGllcy5qcyc7XG5cbmNvbnN0IHN1cHBvcnRlZERpZmZPcGVyYXRpb25zID0gcGljayhkaWZmT3BlcmF0aW9ucywgW1xuICAgICdhZGRMYXllcicsXG4gICAgJ3JlbW92ZUxheWVyJyxcbiAgICAnc2V0UGFpbnRQcm9wZXJ0eScsXG4gICAgJ3NldExheW91dFByb3BlcnR5JyxcbiAgICAnc2V0RmlsdGVyJyxcbiAgICAnYWRkU291cmNlJyxcbiAgICAncmVtb3ZlU291cmNlJyxcbiAgICAnc2V0TGF5ZXJab29tUmFuZ2UnLFxuICAgICdzZXRMaWdodCcsXG4gICAgJ3NldFRyYW5zaXRpb24nLFxuICAgICdzZXRHZW9KU09OU291cmNlRGF0YScsXG4gICAgJ3NldFRlcnJhaW4nLFxuICAgICdzZXRGb2cnLFxuICAgICdzZXRQcm9qZWN0aW9uJ1xuICAgIC8vICdzZXRHbHlwaHMnLFxuICAgIC8vICdzZXRTcHJpdGUnLFxuXSk7XG5cbmNvbnN0IGlnbm9yZWREaWZmT3BlcmF0aW9ucyA9IHBpY2soZGlmZk9wZXJhdGlvbnMsIFtcbiAgICAnc2V0Q2VudGVyJyxcbiAgICAnc2V0Wm9vbScsXG4gICAgJ3NldEJlYXJpbmcnLFxuICAgICdzZXRQaXRjaCdcbl0pO1xuXG5jb25zdCBlbXB0eSA9IGVtcHR5U3R5bGUoKTtcblxuZXhwb3J0IHR5cGUgU3R5bGVPcHRpb25zID0ge1xuICAgIHZhbGlkYXRlPzogYm9vbGVhbixcbiAgICBsb2NhbEZvbnRGYW1pbHk/OiBzdHJpbmcsXG4gICAgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5Pzogc3RyaW5nXG59O1xuXG5leHBvcnQgdHlwZSBTdHlsZVNldHRlck9wdGlvbnMgPSB7XG4gICAgdmFsaWRhdGU/OiBib29sZWFuXG59O1xuXG4vLyBTeW1ib2xzIGFyZSBkcmFwZWQgb25seSBmb3Igc3BlY2lmaWMgY2FzZXM6IHNlZSBpc0xheWVyRHJhcGVkXG5jb25zdCBkcmFwZWRMYXllcnMgPSB7J2ZpbGwnOiB0cnVlLCAnbGluZSc6IHRydWUsICdiYWNrZ3JvdW5kJzogdHJ1ZSwgXCJoaWxsc2hhZGVcIjogdHJ1ZSwgXCJyYXN0ZXJcIjogdHJ1ZX07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgU3R5bGUgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBtYXA6IE1hcDtcbiAgICBzdHlsZXNoZWV0OiBTdHlsZVNwZWNpZmljYXRpb247XG4gICAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgICBpbWFnZU1hbmFnZXI6IEltYWdlTWFuYWdlcjtcbiAgICBnbHlwaE1hbmFnZXI6IEdseXBoTWFuYWdlcjtcbiAgICBsaWdodDogTGlnaHQ7XG4gICAgdGVycmFpbjogP1RlcnJhaW47XG4gICAgZm9nOiA/Rm9nO1xuXG4gICAgX3JlcXVlc3Q6ID9DYW5jZWxhYmxlO1xuICAgIF9zcHJpdGVSZXF1ZXN0OiA/Q2FuY2VsYWJsZTtcbiAgICBfbGF5ZXJzOiB7W186IHN0cmluZ106IFN0eWxlTGF5ZXJ9O1xuICAgIF9udW0zRExheWVyczogbnVtYmVyO1xuICAgIF9udW1TeW1ib2xMYXllcnM6IG51bWJlcjtcbiAgICBfbnVtQ2lyY2xlTGF5ZXJzOiBudW1iZXI7XG4gICAgX3NlcmlhbGl6ZWRMYXllcnM6IHtbXzogc3RyaW5nXTogT2JqZWN0fTtcbiAgICBfb3JkZXI6IEFycmF5PHN0cmluZz47XG4gICAgX2RyYXBlZEZpcnN0T3JkZXI6IEFycmF5PHN0cmluZz47XG4gICAgX3NvdXJjZUNhY2hlczoge1tfOiBzdHJpbmddOiBTb3VyY2VDYWNoZX07XG4gICAgX290aGVyU291cmNlQ2FjaGVzOiB7W186IHN0cmluZ106IFNvdXJjZUNhY2hlfTtcbiAgICBfc3ltYm9sU291cmNlQ2FjaGVzOiB7W186IHN0cmluZ106IFNvdXJjZUNhY2hlfTtcbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9ydGxUZXh0UGx1Z2luQ2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgIF9jaGFuZ2VkOiBib29sZWFuO1xuICAgIF91cGRhdGVkU291cmNlczoge1tfOiBzdHJpbmddOiAnY2xlYXInIHwgJ3JlbG9hZCd9O1xuICAgIF91cGRhdGVkTGF5ZXJzOiB7W186IHN0cmluZ106IHRydWV9O1xuICAgIF9yZW1vdmVkTGF5ZXJzOiB7W186IHN0cmluZ106IFN0eWxlTGF5ZXJ9O1xuICAgIF9jaGFuZ2VkSW1hZ2VzOiB7W186IHN0cmluZ106IHRydWV9O1xuICAgIF91cGRhdGVkUGFpbnRQcm9wczoge1tsYXllcjogc3RyaW5nXTogdHJ1ZX07XG4gICAgX2xheWVyT3JkZXJDaGFuZ2VkOiBib29sZWFuO1xuICAgIF9hdmFpbGFibGVJbWFnZXM6IEFycmF5PHN0cmluZz47XG4gICAgX21hcmtlcnNOZWVkVXBkYXRlOiBib29sZWFuO1xuXG4gICAgY3Jvc3NUaWxlU3ltYm9sSW5kZXg6IENyb3NzVGlsZVN5bWJvbEluZGV4O1xuICAgIHBhdXNlYWJsZVBsYWNlbWVudDogUGF1c2VhYmxlUGxhY2VtZW50O1xuICAgIHBsYWNlbWVudDogUGxhY2VtZW50O1xuICAgIHo6IG51bWJlcjtcblxuICAgIC8vIGV4cG9zZWQgdG8gYWxsb3cgc3R1YmJpbmcgYnkgdW5pdCB0ZXN0c1xuICAgIHN0YXRpYyBnZXRTb3VyY2VUeXBlOiB0eXBlb2YgZ2V0U291cmNlVHlwZTtcbiAgICBzdGF0aWMgc2V0U291cmNlVHlwZTogdHlwZW9mIHNldFNvdXJjZVR5cGU7XG4gICAgc3RhdGljIHJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U6IHR5cGVvZiByZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlO1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXAsIG9wdGlvbnM6IFN0eWxlT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKGdldFdvcmtlclBvb2woKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyID0gbmV3IEltYWdlTWFuYWdlcigpO1xuICAgICAgICB0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KHRoaXMpO1xuICAgICAgICB0aGlzLmdseXBoTWFuYWdlciA9IG5ldyBHbHlwaE1hbmFnZXIobWFwLl9yZXF1ZXN0TWFuYWdlcixcbiAgICAgICAgICAgIG9wdGlvbnMubG9jYWxGb250RmFtaWx5ID9cbiAgICAgICAgICAgICAgICBMb2NhbEdseXBoTW9kZS5hbGwgOlxuICAgICAgICAgICAgICAgIChvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSA/IExvY2FsR2x5cGhNb2RlLmlkZW9ncmFwaHMgOiBMb2NhbEdseXBoTW9kZS5ub25lKSxcbiAgICAgICAgICAgIG9wdGlvbnMubG9jYWxGb250RmFtaWx5IHx8IG9wdGlvbnMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5KTtcbiAgICAgICAgdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleCA9IG5ldyBDcm9zc1RpbGVTeW1ib2xJbmRleCgpO1xuXG4gICAgICAgIHRoaXMuX2xheWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9udW0zRExheWVycyA9IDA7XG4gICAgICAgIHRoaXMuX251bVN5bWJvbExheWVycyA9IDA7XG4gICAgICAgIHRoaXMuX251bUNpcmNsZUxheWVycyA9IDA7XG4gICAgICAgIHRoaXMuX3NlcmlhbGl6ZWRMYXllcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fc291cmNlQ2FjaGVzID0ge307XG4gICAgICAgIHRoaXMuX290aGVyU291cmNlQ2FjaGVzID0ge307XG4gICAgICAgIHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlcyA9IHt9O1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYXZhaWxhYmxlSW1hZ2VzID0gW107XG4gICAgICAgIHRoaXMuX29yZGVyICA9IFtdO1xuICAgICAgICB0aGlzLl9kcmFwZWRGaXJzdE9yZGVyID0gW107XG4gICAgICAgIHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcmVzZXRVcGRhdGVzKCk7XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnc2V0UmVmZXJyZXInLCBnZXRSZWZlcnJlcigpKTtcblxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrID0gU3R5bGUucmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICAgICAgICAgIHBsdWdpblN0YXR1czogZXZlbnQucGx1Z2luU3RhdHVzLFxuICAgICAgICAgICAgICAgIHBsdWdpblVSTDogZXZlbnQucGx1Z2luVVJMXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2VsZi5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnc3luY1JUTFBsdWdpblN0YXRlJywgc3RhdGUsIChlcnIsIHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyUGx1Z2luQ29tcGxldGlvbkV2ZW50KGVycik7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsQ29tcGxldGUgPSByZXN1bHRzLmV2ZXJ5KChlbGVtKSA9PiBlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNlbGYuX3NvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc2VsZi5fc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZVR5cGUgPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZVR5cGUgPT09ICd2ZWN0b3InIHx8IHNvdXJjZUNhY2hlVHlwZSA9PT0gJ2dlb2pzb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUNhY2hlLnJlbG9hZCgpOyAvLyBTaG91bGQgYmUgYSBuby1vcCBpZiB0aGUgcGx1Z2luIGxvYWRzIGJlZm9yZSBhbnkgdGlsZXMgbG9hZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub24oJ2RhdGEnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHlwZSAhPT0gJ3NvdXJjZScgfHwgZXZlbnQuc291cmNlRGF0YVR5cGUgIT09ICdtZXRhZGF0YScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKGV2ZW50LnNvdXJjZUlkKTtcbiAgICAgICAgICAgIGlmICghc291cmNlIHx8ICFzb3VyY2UudmVjdG9yTGF5ZXJJZHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuc291cmNlID09PSBzb3VyY2UuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsaWRhdGVMYXllcihsYXllcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkVVJMKHVybDogc3RyaW5nLCBvcHRpb25zOiB7XG4gICAgICAgIHZhbGlkYXRlPzogYm9vbGVhbixcbiAgICAgICAgYWNjZXNzVG9rZW4/OiBzdHJpbmdcbiAgICB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YWxvYWRpbmcnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG5cbiAgICAgICAgY29uc3QgdmFsaWRhdGUgPSB0eXBlb2Ygb3B0aW9ucy52YWxpZGF0ZSA9PT0gJ2Jvb2xlYW4nID9cbiAgICAgICAgICAgIG9wdGlvbnMudmFsaWRhdGUgOiAhaXNNYXBib3hVUkwodXJsKTtcblxuICAgICAgICB1cmwgPSB0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU3R5bGVVUkwodXJsLCBvcHRpb25zLmFjY2Vzc1Rva2VuKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlN0eWxlKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdCA9IGdldEpTT04ocmVxdWVzdCwgKGVycm9yOiA/RXJyb3IsIGpzb246ID9PYmplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KGVycm9yKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGpzb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkKGpzb24sIHZhbGlkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9hZEpTT04oanNvbjogU3R5bGVTcGVjaWZpY2F0aW9uLCBvcHRpb25zOiBTdHlsZVNldHRlck9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3N0eWxlJ30pKTtcblxuICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gYnJvd3Nlci5mcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2xvYWQoanNvbiwgb3B0aW9ucy52YWxpZGF0ZSAhPT0gZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkRW1wdHkoKSB7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGFsb2FkaW5nJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuICAgICAgICB0aGlzLl9sb2FkKGVtcHR5LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUxheWVyQ291bnQobGF5ZXI6IFN0eWxlTGF5ZXIsIGFkZDogYm9vbGVhbikge1xuICAgICAgICAvLyBUeXBlZCBsYXllciBib29ra2VlcGluZ1xuICAgICAgICBjb25zdCBjb3VudCA9IGFkZCA/IDEgOiAtMTtcbiAgICAgICAgaWYgKGxheWVyLmlzM0QoKSkge1xuICAgICAgICAgICAgdGhpcy5fbnVtM0RMYXllcnMgKz0gY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxheWVyLnR5cGUgPT09ICdjaXJjbGUnKSB7XG4gICAgICAgICAgICB0aGlzLl9udW1DaXJjbGVMYXllcnMgKz0gY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxheWVyLnR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICB0aGlzLl9udW1TeW1ib2xMYXllcnMgKz0gY291bnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9hZChqc29uOiBTdHlsZVNwZWNpZmljYXRpb24sIHZhbGlkYXRlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2YWxpZGF0ZSAmJiBlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZVN0eWxlKGpzb24pKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdHlsZXNoZWV0ID0gY2xvbmUoanNvbik7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1hcFByb2plY3Rpb24oKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIGpzb24uc291cmNlcykge1xuICAgICAgICAgICAgdGhpcy5hZGRTb3VyY2UoaWQsIGpzb24uc291cmNlc1tpZF0sIHt2YWxpZGF0ZTogZmFsc2V9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gZmFsc2U7IC8vIGF2b2lkIHRyaWdnZXJpbmcgcmVkdW5kYW50IHN0eWxlIHVwZGF0ZSBhZnRlciBhZGRpbmcgaW5pdGlhbCBzb3VyY2VzXG4gICAgICAgIGlmIChqc29uLnNwcml0ZSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZFNwcml0ZShqc29uLnNwcml0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlTWFuYWdlci5zZXRMb2FkZWQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCdzcHJpdGVMb2FkZWQnLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2x5cGhNYW5hZ2VyLnNldFVSTChqc29uLmdseXBocyk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXJzOiBBcnJheTxMYXllclNwZWNpZmljYXRpb24+ID0gZGVyZWYodGhpcy5zdHlsZXNoZWV0LmxheWVycyk7XG5cbiAgICAgICAgdGhpcy5fb3JkZXIgPSBsYXllcnMubWFwKChsYXllcikgPT4gbGF5ZXIuaWQpO1xuXG4gICAgICAgIHRoaXMuX2xheWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9zZXJpYWxpemVkTGF5ZXJzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXIgb2YgbGF5ZXJzKSB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUxheWVyID0gY3JlYXRlU3R5bGVMYXllcihsYXllcik7XG4gICAgICAgICAgICBzdHlsZUxheWVyLnNldEV2ZW50ZWRQYXJlbnQodGhpcywge2xheWVyOiB7aWQ6IHN0eWxlTGF5ZXIuaWR9fSk7XG4gICAgICAgICAgICB0aGlzLl9sYXllcnNbc3R5bGVMYXllci5pZF0gPSBzdHlsZUxheWVyO1xuICAgICAgICAgICAgdGhpcy5fc2VyaWFsaXplZExheWVyc1tzdHlsZUxheWVyLmlkXSA9IHN0eWxlTGF5ZXIuc2VyaWFsaXplKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVMYXllckNvdW50KHN0eWxlTGF5ZXIsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnc2V0TGF5ZXJzJywgdGhpcy5fc2VyaWFsaXplTGF5ZXJzKHRoaXMuX29yZGVyKSk7XG5cbiAgICAgICAgdGhpcy5saWdodCA9IG5ldyBMaWdodCh0aGlzLnN0eWxlc2hlZXQubGlnaHQpO1xuICAgICAgICBpZiAodGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4gJiYgIXRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdIC0gRmxvdyBjYW4ndCBpbmZlciB0aGF0IHRlcnJhaW4gaXMgbm90IHVuZGVmaW5lZFxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVGVycmFpbih0aGlzLnN0eWxlc2hlZXQudGVycmFpbiwgRHJhcGVSZW5kZXJNb2RlLmVsZXZhdGVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdHlsZXNoZWV0LmZvZykge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlRm9nKHRoaXMuc3R5bGVzaGVldC5mb2cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKTtcblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdzdHlsZS5sb2FkJykpO1xuICAgIH1cblxuICAgIHRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy50ZXJyYWluICYmIHRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGUgPT09IERyYXBlUmVuZGVyTW9kZS5kZWZlcnJlZDtcbiAgICB9XG5cbiAgICBzZXRQcm9qZWN0aW9uKHByb2plY3Rpb24/OiA/UHJvamVjdGlvblNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQucHJvamVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVNYXBQcm9qZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCdzZXRQcm9qZWN0aW9uJywgdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb25PcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb24ucmVxdWlyZXNEcmFwaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBoYXNUZXJyYWluID0gdGhpcy5nZXRUZXJyYWluKCkgfHwgdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW47XG4gICAgICAgICAgICBpZiAoIWhhc1RlcnJhaW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRlcnJhaW5Gb3JEcmFwaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRUZXJyYWluKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZU1hcFByb2plY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5tYXAuX3VzZUV4cGxpY2l0UHJvamVjdGlvbikgeyAvLyBVcGRhdGUgdGhlIHZpc2libGUgcHJvamVjdGlvbiBpZiBtYXAncyBpcyBudWxsXG4gICAgICAgICAgICB0aGlzLm1hcC5fcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24obnVsbCwgdGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24pO1xuICAgICAgICB9IGVsc2UgeyAvLyBFbnN1cmUgdGhhdCBzdHlsZSBpcyBjb25zaXN0ZW50IHdpdGggY3VycmVudCBwcm9qZWN0aW9uIG9uIHN0eWxlIGxvYWRcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9hZFNwcml0ZSh1cmw6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9zcHJpdGVSZXF1ZXN0ID0gbG9hZFNwcml0ZSh1cmwsIHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwgKGVyciwgaW1hZ2VzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zcHJpdGVSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGltYWdlcykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gaW1hZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKGlkLCBpbWFnZXNbaWRdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuX2F2YWlsYWJsZUltYWdlcyA9IHRoaXMuaW1hZ2VNYW5hZ2VyLmxpc3RJbWFnZXMoKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoJ3NldEltYWdlcycsIHRoaXMuX2F2YWlsYWJsZUltYWdlcyk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCdzcHJpdGVMb2FkZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF92YWxpZGF0ZUxheWVyKGxheWVyOiBTdHlsZUxheWVyKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKGxheWVyLnNvdXJjZSk7XG4gICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2VMYXllciA9IGxheWVyLnNvdXJjZUxheWVyO1xuICAgICAgICBpZiAoIXNvdXJjZUxheWVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc291cmNlLnR5cGUgPT09ICdnZW9qc29uJyB8fCAoc291cmNlLnZlY3RvckxheWVySWRzICYmIHNvdXJjZS52ZWN0b3JMYXllcklkcy5pbmRleE9mKHNvdXJjZUxheWVyKSA9PT0gLTEpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBTb3VyY2UgbGF5ZXIgXCIke3NvdXJjZUxheWVyfVwiIGAgK1xuICAgICAgICAgICAgICAgIGBkb2VzIG5vdCBleGlzdCBvbiBzb3VyY2UgXCIke3NvdXJjZS5pZH1cIiBgICtcbiAgICAgICAgICAgICAgICBgYXMgc3BlY2lmaWVkIGJ5IHN0eWxlIGxheWVyIFwiJHtsYXllci5pZH1cImBcbiAgICAgICAgICAgICkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sb2FkZWQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuX3VwZGF0ZWRTb3VyY2VzKS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3NvdXJjZUNhY2hlc1tpZF0ubG9hZGVkKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmICghdGhpcy5pbWFnZU1hbmFnZXIuaXNMb2FkZWQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfc2VyaWFsaXplTGF5ZXJzKGlkczogQXJyYXk8c3RyaW5nPik6IEFycmF5PE9iamVjdD4ge1xuICAgICAgICBjb25zdCBzZXJpYWxpemVkTGF5ZXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgICAgICBpZiAobGF5ZXIudHlwZSAhPT0gJ2N1c3RvbScpIHtcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVkTGF5ZXJzLnB1c2gobGF5ZXIuc2VyaWFsaXplKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVkTGF5ZXJzO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb25zKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5saWdodCAmJiB0aGlzLmxpZ2h0Lmhhc1RyYW5zaXRpb24oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5mb2cgJiYgdGhpcy5mb2cuaGFzVHJhbnNpdGlvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc291cmNlQ2FjaGVzW2lkXS5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGF5ZXJzW2lkXS5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgb3JkZXIoKTogQXJyYXk8c3RyaW5nPiB7XG4gICAgICAgIGlmICh0aGlzLm1hcC5fb3B0aW1pemVGb3JUZXJyYWluICYmIHRoaXMudGVycmFpbikge1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX2RyYXBlZEZpcnN0T3JkZXIubGVuZ3RoID09PSB0aGlzLl9vcmRlci5sZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RyYXBlZEZpcnN0T3JkZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX29yZGVyO1xuICAgIH1cblxuICAgIGlzTGF5ZXJEcmFwZWQobGF5ZXI6IFN0eWxlTGF5ZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLnRlcnJhaW4pIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXVzZV1cbiAgICAgICAgaWYgKHR5cGVvZiBsYXllci5pc0xheWVyRHJhcGVkID09PSAnZnVuY3Rpb24nKSByZXR1cm4gbGF5ZXIuaXNMYXllckRyYXBlZCgpO1xuICAgICAgICByZXR1cm4gZHJhcGVkTGF5ZXJzW2xheWVyLnR5cGVdO1xuICAgIH1cblxuICAgIF9jaGVja0xvYWRlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sb2FkZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3R5bGUgaXMgbm90IGRvbmUgbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgcXVldWVkIHN0eWxlIHVwZGF0ZXMgaW4gYSBiYXRjaCBhbmQgcmVjYWxjdWxhdGUgem9vbS1kZXBlbmRlbnQgcGFpbnQgcHJvcGVydGllcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZShwYXJhbWV0ZXJzOiBFdmFsdWF0aW9uUGFyYW1ldGVycykge1xuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hhbmdlZCA9IHRoaXMuX2NoYW5nZWQ7XG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VkKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkSWRzID0gT2JqZWN0LmtleXModGhpcy5fdXBkYXRlZExheWVycyk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVkSWRzID0gT2JqZWN0LmtleXModGhpcy5fcmVtb3ZlZExheWVycyk7XG5cbiAgICAgICAgICAgIGlmICh1cGRhdGVkSWRzLmxlbmd0aCB8fCByZW1vdmVkSWRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyh1cGRhdGVkSWRzLCByZW1vdmVkSWRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fdXBkYXRlZFNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLl91cGRhdGVkU291cmNlc1tpZF07XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGFjdGlvbiA9PT0gJ3JlbG9hZCcgfHwgYWN0aW9uID09PSAnY2xlYXInKTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09PSAncmVsb2FkJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWxvYWRTb3VyY2UoaWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAnY2xlYXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyU291cmNlKGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGF5ZXJzW2lkXS51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZvZykge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9nLnVwZGF0ZVRyYW5zaXRpb25zKHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9yZXNldFVwZGF0ZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZXNVc2VkQmVmb3JlID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VJZCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fc291cmNlQ2FjaGVzW3NvdXJjZUlkXTtcbiAgICAgICAgICAgIHNvdXJjZXNVc2VkQmVmb3JlW3NvdXJjZUlkXSA9IHNvdXJjZUNhY2hlLnVzZWQ7XG4gICAgICAgICAgICBzb3VyY2VDYWNoZS51c2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgb2YgdGhpcy5fb3JkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySWRdO1xuXG4gICAgICAgICAgICBsYXllci5yZWNhbGN1bGF0ZShwYXJhbWV0ZXJzLCB0aGlzLl9hdmFpbGFibGVJbWFnZXMpO1xuICAgICAgICAgICAgaWYgKCFsYXllci5pc0hpZGRlbihwYXJhbWV0ZXJzLnpvb20pKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlKGxheWVyKTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUpIHNvdXJjZUNhY2hlLnVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwYWludGVyID0gdGhpcy5tYXAucGFpbnRlcjtcbiAgICAgICAgICAgIGlmIChwYWludGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3JhbUlkcyA9IGxheWVyLmdldFByb2dyYW1JZHMoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXByb2dyYW1JZHMpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBsYXllci5nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihwYXJhbWV0ZXJzLnpvb20pO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9ncmFtSWQgb2YgcHJvZ3JhbUlkcykge1xuICAgICAgICAgICAgICAgICAgICBwYWludGVyLnVzZVByb2dyYW0ocHJvZ3JhbUlkLCBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VJZCBpbiBzb3VyY2VzVXNlZEJlZm9yZSkge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLl9zb3VyY2VDYWNoZXNbc291cmNlSWRdO1xuICAgICAgICAgICAgaWYgKHNvdXJjZXNVc2VkQmVmb3JlW3NvdXJjZUlkXSAhPT0gc291cmNlQ2FjaGUudXNlZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge3NvdXJjZURhdGFUeXBlOiAndmlzaWJpbGl0eScsIGRhdGFUeXBlOidzb3VyY2UnLCBzb3VyY2VJZDogc291cmNlQ2FjaGUuZ2V0U291cmNlKCkuaWR9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxpZ2h0LnJlY2FsY3VsYXRlKHBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodGhpcy50ZXJyYWluKSB7XG4gICAgICAgICAgICB0aGlzLnRlcnJhaW4ucmVjYWxjdWxhdGUocGFyYW1ldGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZm9nKSB7XG4gICAgICAgICAgICB0aGlzLmZvZy5yZWNhbGN1bGF0ZShwYXJhbWV0ZXJzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnogPSBwYXJhbWV0ZXJzLnpvb207XG5cbiAgICAgICAgaWYgKHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVNYXJrZXJzT3BhY2l0eSgpO1xuICAgICAgICAgICAgdGhpcy5fbWFya2Vyc05lZWRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBBcHBseSBhbnkgcXVldWVkIGltYWdlIGNoYW5nZXMuXG4gICAgICovXG4gICAgX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpIHtcbiAgICAgICAgY29uc3QgY2hhbmdlZEltYWdlcyA9IE9iamVjdC5rZXlzKHRoaXMuX2NoYW5nZWRJbWFnZXMpO1xuICAgICAgICBpZiAoY2hhbmdlZEltYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zb3VyY2VDYWNoZXNbbmFtZV0ucmVsb2FkVGlsZXNGb3JEZXBlbmRlbmNpZXMoWydpY29ucycsICdwYXR0ZXJucyddLCBjaGFuZ2VkSW1hZ2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZWRJbWFnZXMgPSB7fTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVXb3JrZXJMYXllcnModXBkYXRlZElkczogQXJyYXk8c3RyaW5nPiwgcmVtb3ZlZElkczogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCd1cGRhdGVMYXllcnMnLCB7XG4gICAgICAgICAgICBsYXllcnM6IHRoaXMuX3NlcmlhbGl6ZUxheWVycyh1cGRhdGVkSWRzKSxcbiAgICAgICAgICAgIHJlbW92ZWRJZHNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3Jlc2V0VXBkYXRlcygpIHtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZWRMYXllcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlZExheWVycyA9IHt9O1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZWRTb3VyY2VzID0ge307XG4gICAgICAgIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzID0ge307XG5cbiAgICAgICAgdGhpcy5fY2hhbmdlZEltYWdlcyA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGlzIHN0eWxlJ3Mgc3RhdGUgdG8gbWF0Y2ggdGhlIGdpdmVuIHN0eWxlIEpTT04sIHBlcmZvcm1pbmcgb25seVxuICAgICAqIHRoZSBuZWNlc3NhcnkgbXV0YXRpb25zLlxuICAgICAqXG4gICAgICogTWF5IHRocm93IGFuIEVycm9yICgnVW5pbXBsZW1lbnRlZDogTUVUSE9EJykgaWYgdGhlIG1hcGJveC1nbC1zdHlsZS1zcGVjXG4gICAgICogZGlmZiBhbGdvcml0aG0gcHJvZHVjZXMgYW4gb3BlcmF0aW9uIHRoYXQgaXMgbm90IHN1cHBvcnRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGFueSBjaGFuZ2VzIHdlcmUgbWFkZTsgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXRTdGF0ZShuZXh0U3RhdGU6IFN0eWxlU3BlY2lmaWNhdGlvbik6IGJvb2xlYW4ge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGlmIChlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZVN0eWxlKG5leHRTdGF0ZSkpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgbmV4dFN0YXRlID0gY2xvbmUobmV4dFN0YXRlKTtcbiAgICAgICAgbmV4dFN0YXRlLmxheWVycyA9IGRlcmVmKG5leHRTdGF0ZS5sYXllcnMpO1xuXG4gICAgICAgIGNvbnN0IGNoYW5nZXMgPSBkaWZmU3R5bGVzKHRoaXMuc2VyaWFsaXplKCksIG5leHRTdGF0ZSlcbiAgICAgICAgICAgIC5maWx0ZXIob3AgPT4gIShvcC5jb21tYW5kIGluIGlnbm9yZWREaWZmT3BlcmF0aW9ucykpO1xuXG4gICAgICAgIGlmIChjaGFuZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdW5pbXBsZW1lbnRlZE9wcyA9IGNoYW5nZXMuZmlsdGVyKG9wID0+ICEob3AuY29tbWFuZCBpbiBzdXBwb3J0ZWREaWZmT3BlcmF0aW9ucykpO1xuICAgICAgICBpZiAodW5pbXBsZW1lbnRlZE9wcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaW1wbGVtZW50ZWQ6ICR7dW5pbXBsZW1lbnRlZE9wcy5tYXAob3AgPT4gb3AuY29tbWFuZCkuam9pbignLCAnKX0uYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGFuZ2VzLmZvckVhY2goKG9wKSA9PiB7XG4gICAgICAgICAgICBpZiAob3AuY29tbWFuZCA9PT0gJ3NldFRyYW5zaXRpb24nIHx8IG9wLmNvbW1hbmQgPT09ICdzZXRQcm9qZWN0aW9uJykge1xuICAgICAgICAgICAgICAgIC8vIGB0cmFuc2l0aW9uYCBhbmQgYHByb2plY3Rpb25gIGFyZSBhbHdheXMgcmVhZCBkaXJlY3RseSBmcm9tXG4gICAgICAgICAgICAgICAgLy8gYHRoaXMuc3R5bGVzaGVldGAsIHdoaWNoIHdlIHVwZGF0ZSBiZWxvd1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICh0aGlzOiBhbnkpW29wLmNvbW1hbmRdLmFwcGx5KHRoaXMsIG9wLmFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN0eWxlc2hlZXQgPSBuZXh0U3RhdGU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1hcFByb2plY3Rpb24oKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBhZGRJbWFnZShpZDogc3RyaW5nLCBpbWFnZTogU3R5bGVJbWFnZSk6IHRoaXMge1xuICAgICAgICBpZiAodGhpcy5nZXRJbWFnZShpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdBbiBpbWFnZSB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cy4nKSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKGlkLCBpbWFnZSk7XG4gICAgICAgIHRoaXMuX2FmdGVySW1hZ2VVcGRhdGVkKGlkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdXBkYXRlSW1hZ2UoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIudXBkYXRlSW1hZ2UoaWQsIGltYWdlKTtcbiAgICB9XG5cbiAgICBnZXRJbWFnZShpZDogc3RyaW5nKTogP1N0eWxlSW1hZ2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2UoaWQpO1xuICAgIH1cblxuICAgIHJlbW92ZUltYWdlKGlkOiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEltYWdlKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ05vIGltYWdlIHdpdGggdGhpcyBuYW1lIGV4aXN0cy4nKSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLnJlbW92ZUltYWdlKGlkKTtcbiAgICAgICAgdGhpcy5fYWZ0ZXJJbWFnZVVwZGF0ZWQoaWQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfYWZ0ZXJJbWFnZVVwZGF0ZWQoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9hdmFpbGFibGVJbWFnZXMgPSB0aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWRJbWFnZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoJ3NldEltYWdlcycsIHRoaXMuX2F2YWlsYWJsZUltYWdlcyk7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG4gICAgfVxuXG4gICAgbGlzdEltYWdlcygpOiBBcnJheTxzdHJpbmc+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F2YWlsYWJsZUltYWdlcy5zbGljZSgpO1xuICAgIH1cblxuICAgIGFkZFNvdXJjZShpZDogc3RyaW5nLCBzb3VyY2U6IFNvdXJjZVNwZWNpZmljYXRpb24sIG9wdGlvbnM6IFN0eWxlU2V0dGVyT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0U291cmNlKGlkKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIGFscmVhZHkgYSBzb3VyY2Ugd2l0aCB0aGlzIElEJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNvdXJjZS50eXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSB0eXBlIHByb3BlcnR5IG11c3QgYmUgZGVmaW5lZCwgYnV0IG9ubHkgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIHdlcmUgZ2l2ZW46ICR7T2JqZWN0LmtleXMoc291cmNlKS5qb2luKCcsICcpfS5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ1aWx0SW5zID0gWyd2ZWN0b3InLCAncmFzdGVyJywgJ2dlb2pzb24nLCAndmlkZW8nLCAnaW1hZ2UnXTtcbiAgICAgICAgY29uc3Qgc2hvdWxkVmFsaWRhdGUgPSBidWlsdElucy5pbmRleE9mKHNvdXJjZS50eXBlKSA+PSAwO1xuICAgICAgICBpZiAoc2hvdWxkVmFsaWRhdGUgJiYgdGhpcy5fdmFsaWRhdGUodmFsaWRhdGVTb3VyY2UsIGBzb3VyY2VzLiR7aWR9YCwgc291cmNlLCBudWxsLCBvcHRpb25zKSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLm1hcCAmJiB0aGlzLm1hcC5fY29sbGVjdFJlc291cmNlVGltaW5nKSAoc291cmNlOiBhbnkpLmNvbGxlY3RSZXNvdXJjZVRpbWluZyA9IHRydWU7XG5cbiAgICAgICAgY29uc3Qgc291cmNlSW5zdGFuY2UgPSBjcmVhdGVTb3VyY2UoaWQsIHNvdXJjZSwgdGhpcy5kaXNwYXRjaGVyLCB0aGlzKTtcblxuICAgICAgICBzb3VyY2VJbnN0YW5jZS5zZXRFdmVudGVkUGFyZW50KHRoaXMsICgpID0+ICh7XG4gICAgICAgICAgICBpc1NvdXJjZUxvYWRlZDogdGhpcy5faXNTb3VyY2VDYWNoZUxvYWRlZChpZCksXG4gICAgICAgICAgICBzb3VyY2U6IHNvdXJjZUluc3RhbmNlLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgc291cmNlSWQ6IGlkXG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb25zdCBhZGRTb3VyY2VDYWNoZSA9IChvbmx5U3ltYm9scykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVJZCA9IChvbmx5U3ltYm9scyA/ICdzeW1ib2w6JyA6ICdvdGhlcjonKSArIGlkO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLl9zb3VyY2VDYWNoZXNbc291cmNlQ2FjaGVJZF0gPSBuZXcgU291cmNlQ2FjaGUoc291cmNlQ2FjaGVJZCwgc291cmNlSW5zdGFuY2UsIG9ubHlTeW1ib2xzKTtcbiAgICAgICAgICAgIChvbmx5U3ltYm9scyA/IHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlcyA6IHRoaXMuX290aGVyU291cmNlQ2FjaGVzKVtpZF0gPSBzb3VyY2VDYWNoZTtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLnN0eWxlID0gdGhpcztcblxuICAgICAgICAgICAgc291cmNlQ2FjaGUub25BZGQodGhpcy5tYXApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGFkZFNvdXJjZUNhY2hlKGZhbHNlKTtcbiAgICAgICAgaWYgKHNvdXJjZS50eXBlID09PSAndmVjdG9yJyB8fCBzb3VyY2UudHlwZSA9PT0gJ2dlb2pzb24nKSB7XG4gICAgICAgICAgICBhZGRTb3VyY2VDYWNoZSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3VyY2VJbnN0YW5jZS5vbkFkZCkgc291cmNlSW5zdGFuY2Uub25BZGQodGhpcy5tYXApO1xuXG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHNvdXJjZSBmcm9tIHRoaXMgc3R5bGVzaGVldCwgZ2l2ZW4gaXRzIElELlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiB0aGUgc291cmNlIHRvIHJlbW92ZS5cbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgbm8gc291cmNlIGlzIGZvdW5kIHdpdGggdGhlIGdpdmVuIElELlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFRoZSB7QGxpbmsgTWFwfSBvYmplY3QuXG4gICAgICovXG4gICAgcmVtb3ZlU291cmNlKGlkOiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZShpZCk7XG4gICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIHRoaXMgSUQnKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGF5ZXJzW2xheWVySWRdLnNvdXJjZSA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgU291cmNlIFwiJHtpZH1cIiBjYW5ub3QgYmUgcmVtb3ZlZCB3aGlsZSBsYXllciBcIiR7bGF5ZXJJZH1cIiBpcyB1c2luZyBpdC5gKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRlcnJhaW4gJiYgdGhpcy50ZXJyYWluLmdldCgpLnNvdXJjZSA9PT0gaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBTb3VyY2UgXCIke2lkfVwiIGNhbm5vdCBiZSByZW1vdmVkIHdoaWxlIHRlcnJhaW4gaXMgdXNpbmcgaXQuYCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlcyA9IHRoaXMuX2dldFNvdXJjZUNhY2hlcyhpZCk7XG4gICAgICAgIGZvciAoY29uc3Qgc291cmNlQ2FjaGUgb2Ygc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc291cmNlQ2FjaGVzW3NvdXJjZUNhY2hlLmlkXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl91cGRhdGVkU291cmNlc1tzb3VyY2VDYWNoZS5pZF07XG4gICAgICAgICAgICBzb3VyY2VDYWNoZS5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJywgZGF0YVR5cGU6J3NvdXJjZScsIHNvdXJjZUlkOiBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5pZH0pKTtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7XG4gICAgICAgICAgICBzb3VyY2VDYWNoZS5jbGVhclRpbGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuX290aGVyU291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tpZF07XG5cbiAgICAgICAgc291cmNlLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7XG4gICAgICAgIGlmIChzb3VyY2Uub25SZW1vdmUpIHtcbiAgICAgICAgICAgIHNvdXJjZS5vblJlbW92ZSh0aGlzLm1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogU2V0IHRoZSBkYXRhIG9mIGEgR2VvSlNPTiBzb3VyY2UsIGdpdmVuIGl0cyBJRC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiB0aGUgc291cmNlLlxuICAgICogQHBhcmFtIHtHZW9KU09OfHN0cmluZ30gZGF0YSBHZW9KU09OIHNvdXJjZS5cbiAgICAqL1xuICAgIHNldEdlb0pTT05Tb3VyY2VEYXRhKGlkOiBzdHJpbmcsIGRhdGE6IEdlb0pTT04gfCBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBhc3NlcnQodGhpcy5nZXRTb3VyY2UoaWQpICE9PSB1bmRlZmluZWQsICdUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCB0aGlzIElEJyk7XG4gICAgICAgIGNvbnN0IGdlb2pzb25Tb3VyY2U6IEdlb0pTT05Tb3VyY2UgPSAodGhpcy5nZXRTb3VyY2UoaWQpOiBhbnkpO1xuICAgICAgICBhc3NlcnQoZ2VvanNvblNvdXJjZS50eXBlID09PSAnZ2VvanNvbicpO1xuXG4gICAgICAgIGdlb2pzb25Tb3VyY2Uuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgc291cmNlIGJ5IElELlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiB0aGUgZGVzaXJlZCBzb3VyY2UuXG4gICAgICogQHJldHVybnMgez9Tb3VyY2V9IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGdldFNvdXJjZShpZDogc3RyaW5nKTogP1NvdXJjZSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fZ2V0U291cmNlQ2FjaGUoaWQpO1xuICAgICAgICByZXR1cm4gc291cmNlQ2FjaGUgJiYgc291cmNlQ2FjaGUuZ2V0U291cmNlKCk7XG4gICAgfVxuXG4gICAgX2dldFNvdXJjZXMoKTogU291cmNlW10ge1xuICAgICAgICBjb25zdCBzb3VyY2VzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fZ2V0U291cmNlQ2FjaGUoaWQpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlKSBzb3VyY2VzLnB1c2goc291cmNlQ2FjaGUuZ2V0U291cmNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbGF5ZXIgdG8gdGhlIG1hcCBzdHlsZS4gVGhlIGxheWVyIHdpbGwgYmUgaW5zZXJ0ZWQgYmVmb3JlIHRoZSBsYXllciB3aXRoXG4gICAgICogSUQgYGJlZm9yZWAsIG9yIGFwcGVuZGVkIGlmIGBiZWZvcmVgIGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBDdXN0b21MYXllckludGVyZmFjZX0gbGF5ZXJPYmplY3QgVGhlIHN0eWxlIGxheWVyIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2JlZm9yZV0gSUQgb2YgYW4gZXhpc3RpbmcgbGF5ZXIgdG8gaW5zZXJ0IGJlZm9yZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBTdHlsZSBzZXR0ZXIgb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBUaGUge0BsaW5rIE1hcH0gb2JqZWN0LlxuICAgICAqL1xuICAgIGFkZExheWVyKGxheWVyT2JqZWN0OiBMYXllclNwZWNpZmljYXRpb24gfCBDdXN0b21MYXllckludGVyZmFjZSwgYmVmb3JlPzogc3RyaW5nLCBvcHRpb25zOiBTdHlsZVNldHRlck9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGlkID0gbGF5ZXJPYmplY3QuaWQ7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0TGF5ZXIoaWQpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtpZH1cIiBhbHJlYWR5IGV4aXN0cyBvbiB0aGlzIG1hcGApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGF5ZXI7XG4gICAgICAgIGlmIChsYXllck9iamVjdC50eXBlID09PSAnY3VzdG9tJykge1xuXG4gICAgICAgICAgICBpZiAoZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcywgdmFsaWRhdGVDdXN0b21TdHlsZUxheWVyKGxheWVyT2JqZWN0KSkpIHJldHVybjtcblxuICAgICAgICAgICAgbGF5ZXIgPSBjcmVhdGVTdHlsZUxheWVyKGxheWVyT2JqZWN0KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBsYXllck9iamVjdC5zb3VyY2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTb3VyY2UoaWQsIGxheWVyT2JqZWN0LnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgbGF5ZXJPYmplY3QgPSBjbG9uZShsYXllck9iamVjdCk7XG4gICAgICAgICAgICAgICAgbGF5ZXJPYmplY3QgPSAoZXh0ZW5kKGxheWVyT2JqZWN0LCB7c291cmNlOiBpZH0pOiBhbnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aGlzIGxheWVyIGlzIG5vdCBpbiB0aGUgc3R5bGUubGF5ZXJzIGFycmF5LCBzbyB3ZSBwYXNzIGFuIGltcG9zc2libGUgYXJyYXkgaW5kZXhcbiAgICAgICAgICAgIGlmICh0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZUxheWVyLFxuICAgICAgICAgICAgICAgIGBsYXllcnMuJHtpZH1gLCBsYXllck9iamVjdCwge2FycmF5SW5kZXg6IC0xfSwgb3B0aW9ucykpIHJldHVybjtcblxuICAgICAgICAgICAgbGF5ZXIgPSBjcmVhdGVTdHlsZUxheWVyKGxheWVyT2JqZWN0KTtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlTGF5ZXIobGF5ZXIpO1xuXG4gICAgICAgICAgICBsYXllci5zZXRFdmVudGVkUGFyZW50KHRoaXMsIHtsYXllcjoge2lkfX0pO1xuICAgICAgICAgICAgdGhpcy5fc2VyaWFsaXplZExheWVyc1tsYXllci5pZF0gPSBsYXllci5zZXJpYWxpemUoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyQ291bnQobGF5ZXIsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBiZWZvcmUgPyB0aGlzLl9vcmRlci5pbmRleE9mKGJlZm9yZSkgOiB0aGlzLl9vcmRlci5sZW5ndGg7XG4gICAgICAgIGlmIChiZWZvcmUgJiYgaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtiZWZvcmV9XCIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX29yZGVyLnNwbGljZShpbmRleCwgMCwgaWQpO1xuICAgICAgICB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fbGF5ZXJzW2lkXSA9IGxheWVyO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShsYXllcik7XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdmVkTGF5ZXJzW2lkXSAmJiBsYXllci5zb3VyY2UgJiYgc291cmNlQ2FjaGUgJiYgbGF5ZXIudHlwZSAhPT0gJ2N1c3RvbScpIHtcbiAgICAgICAgICAgIC8vIElmLCBpbiB0aGUgY3VycmVudCBiYXRjaCwgd2UgaGF2ZSBhbHJlYWR5IHJlbW92ZWQgdGhpcyBsYXllclxuICAgICAgICAgICAgLy8gYW5kIHdlIGFyZSBub3cgcmUtYWRkaW5nIGl0IHdpdGggYSBkaWZmZXJlbnQgYHR5cGVgLCB0aGVuIHdlXG4gICAgICAgICAgICAvLyBuZWVkIHRvIGNsZWFyIChyYXRoZXIgdGhhbiBqdXN0IHJlbG9hZCkgdGhlIHVuZGVyeWxpbmcgc291cmNlJ3NcbiAgICAgICAgICAgIC8vIHRpbGVzLiAgT3RoZXJ3aXNlLCB0aWxlcyBtYXJrZWQgJ3JlbG9hZGluZycgd2lsbCBoYXZlIGJ1Y2tldHMgL1xuICAgICAgICAgICAgLy8gYnVmZmVycyB0aGF0IGFyZSBzZXQgdXAgZm9yIHRoZSBfcHJldmlvdXNfIHZlcnNpb24gb2YgdGhpc1xuICAgICAgICAgICAgLy8gbGF5ZXIsIGNhdXNpbmcsIGUuZy46XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMzYzM1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZCA9IHRoaXMuX3JlbW92ZWRMYXllcnNbaWRdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3JlbW92ZWRMYXllcnNbaWRdO1xuICAgICAgICAgICAgaWYgKHJlbW92ZWQudHlwZSAhPT0gbGF5ZXIudHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2xheWVyLnNvdXJjZV0gPSAnY2xlYXInO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVkU291cmNlc1tsYXllci5zb3VyY2VdID0gJ3JlbG9hZCc7XG4gICAgICAgICAgICAgICAgc291cmNlQ2FjaGUucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICBpZiAobGF5ZXIub25BZGQpIHtcbiAgICAgICAgICAgIGxheWVyLm9uQWRkKHRoaXMubWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhIGxheWVyIHRvIGEgZGlmZmVyZW50IHotcG9zaXRpb24uIFRoZSBsYXllciB3aWxsIGJlIGluc2VydGVkIGJlZm9yZSB0aGUgbGF5ZXIgd2l0aFxuICAgICAqIElEIGBiZWZvcmVgLCBvciBhcHBlbmRlZCBpZiBgYmVmb3JlYCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAgSUQgb2YgdGhlIGxheWVyIHRvIG1vdmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiZWZvcmVdIElEIG9mIGFuIGV4aXN0aW5nIGxheWVyIHRvIGluc2VydCBiZWZvcmUuXG4gICAgICovXG4gICAgbW92ZUxheWVyKGlkOiBzdHJpbmcsIGJlZm9yZT86IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtpZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIG1vdmVkLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaWQgPT09IGJlZm9yZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9vcmRlci5pbmRleE9mKGlkKTtcbiAgICAgICAgdGhpcy5fb3JkZXIuc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgICBjb25zdCBuZXdJbmRleCA9IGJlZm9yZSA/IHRoaXMuX29yZGVyLmluZGV4T2YoYmVmb3JlKSA6IHRoaXMuX29yZGVyLmxlbmd0aDtcbiAgICAgICAgaWYgKGJlZm9yZSAmJiBuZXdJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYExheWVyIHdpdGggaWQgXCIke2JlZm9yZX1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29yZGVyLnNwbGljZShuZXdJbmRleCwgMCwgaWQpO1xuXG4gICAgICAgIHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBsYXllciB3aXRoIHRoZSBnaXZlbiBpZCBmcm9tIHRoZSBzdHlsZS5cbiAgICAgKlxuICAgICAqIElmIG5vIHN1Y2ggbGF5ZXIgZXhpc3RzLCBhbiBgZXJyb3JgIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIElEIG9mIHRoZSBsYXllciB0byByZW1vdmUuXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDplcnJvclxuICAgICAqL1xuICAgIHJlbW92ZUxheWVyKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtpZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHJlbW92ZWQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxheWVyLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXJDb3VudChsYXllciwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb3JkZXIuaW5kZXhPZihpZCk7XG4gICAgICAgIHRoaXMuX29yZGVyLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgICAgdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlZExheWVyc1tpZF0gPSBsYXllcjtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zZXJpYWxpemVkTGF5ZXJzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3VwZGF0ZWRMYXllcnNbaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbaWRdO1xuXG4gICAgICAgIGlmIChsYXllci5vblJlbW92ZSkge1xuICAgICAgICAgICAgbGF5ZXIub25SZW1vdmUodGhpcy5tYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlRHJhcGVGaXJzdExheWVycygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgc3R5bGUgbGF5ZXIgb2JqZWN0IHdpdGggdGhlIGdpdmVuIGBpZGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgdGhlIGRlc2lyZWQgbGF5ZXIuXG4gICAgICogQHJldHVybnMgez9TdHlsZUxheWVyfSBBIGxheWVyLCBpZiBvbmUgd2l0aCB0aGUgZ2l2ZW4gYGlkYCBleGlzdHMuXG4gICAgICovXG4gICAgZ2V0TGF5ZXIoaWQ6IHN0cmluZyk6ID9TdHlsZUxheWVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xheWVyc1tpZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3BlY2lmaWMgbGF5ZXIgaXMgcHJlc2VudCB3aXRoaW4gdGhlIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIElEIG9mIHRoZSBkZXNpcmVkIGxheWVyLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIGJvb2xlYW4gc3BlY2lmeWluZyBpZiB0aGUgZ2l2ZW4gbGF5ZXIgaXMgcHJlc2VudC5cbiAgICAgKi9cbiAgICBoYXNMYXllcihpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBpZCBpbiB0aGlzLl9sYXllcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3BlY2lmaWMgbGF5ZXIgdHlwZSBpcyBwcmVzZW50IHdpdGhpbiB0aGUgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlIG9mIHRoZSBkZXNpcmVkIGxheWVyLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIGJvb2xlYW4gc3BlY2lmeWluZyBpZiB0aGUgZ2l2ZW4gbGF5ZXIgdHlwZSBpcyBwcmVzZW50LlxuICAgICAqL1xuICAgIGhhc0xheWVyVHlwZSh0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgZm9yIChjb25zdCBsYXllcklkIGluIHRoaXMuX2xheWVycykge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJJZF07XG4gICAgICAgICAgICBpZiAobGF5ZXIudHlwZSA9PT0gdHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzZXRMYXllclpvb21SYW5nZShsYXllcklkOiBzdHJpbmcsIG1pbnpvb206ID9udW1iZXIsIG1heHpvb206ID9udW1iZXIpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCk7XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtsYXllcklkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgaGF2ZSB6b29tIGV4dGVudC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxheWVyLm1pbnpvb20gPT09IG1pbnpvb20gJiYgbGF5ZXIubWF4em9vbSA9PT0gbWF4em9vbSkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChtaW56b29tICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxheWVyLm1pbnpvb20gPSBtaW56b29tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXh6b29tICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxheWVyLm1heHpvb20gPSBtYXh6b29tO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyKGxheWVyKTtcbiAgICB9XG5cbiAgICBzZXRGaWx0ZXIobGF5ZXJJZDogc3RyaW5nLCBmaWx0ZXI6ID9GaWx0ZXJTcGVjaWZpY2F0aW9uLCAgb3B0aW9uczogU3R5bGVTZXR0ZXJPcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCk7XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtsYXllcklkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgZmlsdGVyZWQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWVwRXF1YWwobGF5ZXIuZmlsdGVyLCBmaWx0ZXIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsYXllci5maWx0ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdmFsaWRhdGUodmFsaWRhdGVGaWx0ZXIsIGBsYXllcnMuJHtsYXllci5pZH0uZmlsdGVyYCwgZmlsdGVyLCB7bGF5ZXJUeXBlOiBsYXllci50eXBlfSwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxheWVyLmZpbHRlciA9IGNsb25lKGZpbHRlcik7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyKGxheWVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBsYXllcidzIGZpbHRlciBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVySWQgVGhlIGxheWVyIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBsYXllcidzIGZpbHRlciwgaWYgYW55LlxuICAgICAqL1xuICAgIGdldEZpbHRlcihsYXllcklkOiBzdHJpbmcpOiA/RmlsdGVyU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcihsYXllcklkKTtcbiAgICAgICAgcmV0dXJuIGxheWVyICYmIGNsb25lKGxheWVyLmZpbHRlcik7XG4gICAgfVxuXG4gICAgc2V0TGF5b3V0UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksICBvcHRpb25zOiBTdHlsZVNldHRlck9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcihsYXllcklkKTtcbiAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2xheWVySWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWVwRXF1YWwobGF5ZXIuZ2V0TGF5b3V0UHJvcGVydHkobmFtZSksIHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAgIGxheWVyLnNldExheW91dFByb3BlcnR5KG5hbWUsIHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIGxheW91dCBwcm9wZXJ0eSdzIHZhbHVlIGZyb20gYSBnaXZlbiBsYXllci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXJJZCBUaGUgbGF5ZXIgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbGF5b3V0IHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZ2V0TGF5b3V0UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpOiA/UHJvcGVydHlWYWx1ZVNwZWNpZmljYXRpb248bWl4ZWQ+IHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySWQpO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bGF5ZXJJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxheWVyLmdldExheW91dFByb3BlcnR5KG5hbWUpO1xuICAgIH1cblxuICAgIHNldFBhaW50UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksIG9wdGlvbnM6IFN0eWxlU2V0dGVyT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySWQpO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bGF5ZXJJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHN0eWxlZC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZXBFcXVhbChsYXllci5nZXRQYWludFByb3BlcnR5KG5hbWUpLCB2YWx1ZSkpIHJldHVybjtcblxuICAgICAgICBjb25zdCByZXF1aXJlc1JlbGF5b3V0ID0gbGF5ZXIuc2V0UGFpbnRQcm9wZXJ0eShuYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChyZXF1aXJlc1JlbGF5b3V0KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbbGF5ZXJJZF0gPSB0cnVlO1xuICAgIH1cblxuICAgIGdldFBhaW50UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpOiB2b2lkIHwgVHJhbnNpdGlvblNwZWNpZmljYXRpb24gfCBQcm9wZXJ0eVZhbHVlU3BlY2lmaWNhdGlvbjxtaXhlZD4ge1xuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCk7XG4gICAgICAgIHJldHVybiBsYXllciAmJiBsYXllci5nZXRQYWludFByb3BlcnR5KG5hbWUpO1xuICAgIH1cblxuICAgIHNldEZlYXR1cmVTdGF0ZSh0YXJnZXQ6IHsgc291cmNlOiBzdHJpbmc7IHNvdXJjZUxheWVyPzogc3RyaW5nOyBpZDogc3RyaW5nIHwgbnVtYmVyOyB9LCBzdGF0ZTogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG4gICAgICAgIGNvbnN0IHNvdXJjZUlkID0gdGFyZ2V0LnNvdXJjZTtcbiAgICAgICAgY29uc3Qgc291cmNlTGF5ZXIgPSB0YXJnZXQuc291cmNlTGF5ZXI7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKHNvdXJjZUlkKTtcblxuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtzb3VyY2VJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNvdXJjZVR5cGUgPSBzb3VyY2UudHlwZTtcbiAgICAgICAgaWYgKHNvdXJjZVR5cGUgPT09ICdnZW9qc29uJyAmJiBzb3VyY2VMYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgR2VvSlNPTiBzb3VyY2VzIGNhbm5vdCBoYXZlIGEgc291cmNlTGF5ZXIgcGFyYW1ldGVyLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvdXJjZVR5cGUgPT09ICd2ZWN0b3InICYmICFzb3VyY2VMYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldC5pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC5gKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fZ2V0U291cmNlQ2FjaGVzKHNvdXJjZUlkKTtcbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VDYWNoZSBvZiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLnNldEZlYXR1cmVTdGF0ZShzb3VyY2VMYXllciwgdGFyZ2V0LmlkLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVGZWF0dXJlU3RhdGUodGFyZ2V0OiB7IHNvdXJjZTogc3RyaW5nOyBzb3VyY2VMYXllcj86IHN0cmluZzsgaWQ/OiBzdHJpbmcgfCBudW1iZXI7IH0sIGtleT86IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuICAgICAgICBjb25zdCBzb3VyY2VJZCA9IHRhcmdldC5zb3VyY2U7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKHNvdXJjZUlkKTtcblxuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtzb3VyY2VJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlVHlwZSA9IHNvdXJjZS50eXBlO1xuICAgICAgICBjb25zdCBzb3VyY2VMYXllciA9IHNvdXJjZVR5cGUgPT09ICd2ZWN0b3InID8gdGFyZ2V0LnNvdXJjZUxheWVyIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChzb3VyY2VUeXBlID09PSAndmVjdG9yJyAmJiAhc291cmNlTGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBzb3VyY2VMYXllciBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBmb3IgdmVjdG9yIHNvdXJjZSB0eXBlcy5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleSAmJiAodHlwZW9mIHRhcmdldC5pZCAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIHRhcmdldC5pZCAhPT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBBIGZlYXR1cmUgaWQgaXMgcmVxdWlyZWQgdG8gcmVtb3ZlIGl0cyBzcGVjaWZpYyBzdGF0ZSBwcm9wZXJ0eS5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fZ2V0U291cmNlQ2FjaGVzKHNvdXJjZUlkKTtcbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VDYWNoZSBvZiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLnJlbW92ZUZlYXR1cmVTdGF0ZShzb3VyY2VMYXllciwgdGFyZ2V0LmlkLCBrZXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RmVhdHVyZVN0YXRlKHRhcmdldDogeyBzb3VyY2U6IHN0cmluZzsgc291cmNlTGF5ZXI/OiBzdHJpbmc7IGlkOiBzdHJpbmcgfCBudW1iZXI7IH0pOiA/RmVhdHVyZVN0YXRlcyB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG4gICAgICAgIGNvbnN0IHNvdXJjZUlkID0gdGFyZ2V0LnNvdXJjZTtcbiAgICAgICAgY29uc3Qgc291cmNlTGF5ZXIgPSB0YXJnZXQuc291cmNlTGF5ZXI7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKHNvdXJjZUlkKTtcblxuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtzb3VyY2VJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNvdXJjZVR5cGUgPSBzb3VyY2UudHlwZTtcbiAgICAgICAgaWYgKHNvdXJjZVR5cGUgPT09ICd2ZWN0b3InICYmICFzb3VyY2VMYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldC5pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC5gKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fZ2V0U291cmNlQ2FjaGVzKHNvdXJjZUlkKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZUNhY2hlc1swXS5nZXRGZWF0dXJlU3RhdGUoc291cmNlTGF5ZXIsIHRhcmdldC5pZCk7XG4gICAgfVxuXG4gICAgZ2V0VHJhbnNpdGlvbigpOiBUcmFuc2l0aW9uU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe2R1cmF0aW9uOiAzMDAsIGRlbGF5OiAwfSwgdGhpcy5zdHlsZXNoZWV0ICYmIHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKTogU3R5bGVTcGVjaWZpY2F0aW9uIHtcbiAgICAgICAgY29uc3Qgc291cmNlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGNhY2hlSWQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLl9zb3VyY2VDYWNoZXNbY2FjaGVJZF0uZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZXNbc291cmNlLmlkXSkge1xuICAgICAgICAgICAgICAgIHNvdXJjZXNbc291cmNlLmlkXSA9IHNvdXJjZS5zZXJpYWxpemUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaWx0ZXJPYmplY3Qoe1xuICAgICAgICAgICAgdmVyc2lvbjogdGhpcy5zdHlsZXNoZWV0LnZlcnNpb24sXG4gICAgICAgICAgICBuYW1lOiB0aGlzLnN0eWxlc2hlZXQubmFtZSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB0aGlzLnN0eWxlc2hlZXQubWV0YWRhdGEsXG4gICAgICAgICAgICBsaWdodDogdGhpcy5zdHlsZXNoZWV0LmxpZ2h0LFxuICAgICAgICAgICAgdGVycmFpbjogdGhpcy5nZXRUZXJyYWluKCkgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgZm9nOiB0aGlzLnN0eWxlc2hlZXQuZm9nLFxuICAgICAgICAgICAgY2VudGVyOiB0aGlzLnN0eWxlc2hlZXQuY2VudGVyLFxuICAgICAgICAgICAgem9vbTogdGhpcy5zdHlsZXNoZWV0Lnpvb20sXG4gICAgICAgICAgICBiZWFyaW5nOiB0aGlzLnN0eWxlc2hlZXQuYmVhcmluZyxcbiAgICAgICAgICAgIHBpdGNoOiB0aGlzLnN0eWxlc2hlZXQucGl0Y2gsXG4gICAgICAgICAgICBzcHJpdGU6IHRoaXMuc3R5bGVzaGVldC5zcHJpdGUsXG4gICAgICAgICAgICBnbHlwaHM6IHRoaXMuc3R5bGVzaGVldC5nbHlwaHMsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbixcbiAgICAgICAgICAgIHByb2plY3Rpb246IHRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLFxuICAgICAgICAgICAgc291cmNlcyxcbiAgICAgICAgICAgIGxheWVyczogdGhpcy5fc2VyaWFsaXplTGF5ZXJzKHRoaXMuX29yZGVyKVxuICAgICAgICB9LCAodmFsdWUpID0+IHsgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQ7IH0pO1xuICAgIH1cblxuICAgIF91cGRhdGVMYXllcihsYXllcjogU3R5bGVMYXllcikge1xuICAgICAgICB0aGlzLl91cGRhdGVkTGF5ZXJzW2xheWVyLmlkXSA9IHRydWU7XG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShsYXllcik7XG4gICAgICAgIGlmIChsYXllci5zb3VyY2UgJiYgIXRoaXMuX3VwZGF0ZWRTb3VyY2VzW2xheWVyLnNvdXJjZV0gJiZcbiAgICAgICAgICAgIC8vU2tpcCBmb3IgcmFzdGVyIGxheWVycyAoaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzc4NjUpXG4gICAgICAgICAgICBzb3VyY2VDYWNoZSAmJlxuICAgICAgICAgICAgc291cmNlQ2FjaGUuZ2V0U291cmNlKCkudHlwZSAhPT0gJ3Jhc3RlcicpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2xheWVyLnNvdXJjZV0gPSAncmVsb2FkJztcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGxheWVyLmludmFsaWRhdGVDb21waWxlZEZpbHRlcigpO1xuXG4gICAgfVxuXG4gICAgX2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcyhzb3VyY2VSZXN1bHRzOiBBcnJheTxhbnk+KTogQXJyYXk8bWl4ZWQ+IHtcbiAgICAgICAgLy8gRmVhdHVyZSBvcmRlciBpcyBjb21wbGljYXRlZC5cbiAgICAgICAgLy8gVGhlIG9yZGVyIGJldHdlZW4gZmVhdHVyZXMgaW4gdHdvIDJEIGxheWVycyBpcyBhbHdheXMgZGV0ZXJtaW5lZCBieSBsYXllciBvcmRlci5cbiAgICAgICAgLy8gVGhlIG9yZGVyIGJldHdlZW4gZmVhdHVyZXMgaW4gdHdvIDNEIGxheWVycyBpcyBhbHdheXMgZGV0ZXJtaW5lZCBieSBkZXB0aC5cbiAgICAgICAgLy8gVGhlIG9yZGVyIGJldHdlZW4gYSBmZWF0dXJlIGluIGEgMkQgbGF5ZXIgYW5kIGEgM0QgbGF5ZXIgaXMgdHJpY2t5OlxuICAgICAgICAvLyAgICAgIE1vc3Qgb2Z0ZW4gbGF5ZXIgb3JkZXIgZGV0ZXJtaW5lcyB0aGUgZmVhdHVyZSBvcmRlciBpbiB0aGlzIGNhc2UuIElmXG4gICAgICAgIC8vICAgICAgYSBsaW5lIGxheWVyIGlzIGFib3ZlIGEgZXh0cnVzaW9uIGxheWVyIHRoZSBsaW5lIGZlYXR1cmUgd2lsbCBiZSByZW5kZXJlZFxuICAgICAgICAvLyAgICAgIGFib3ZlIHRoZSBleHRydXNpb24uIElmIHRoZSBsaW5lIGxheWVyIGlzIGJlbG93IHRoZSBleHRydXNpb24gbGF5ZXIsXG4gICAgICAgIC8vICAgICAgaXQgd2lsbCBiZSByZW5kZXJlZCBiZWxvdyBpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICBUaGVyZSBpcyBhIHdlaXJkIGNhc2UgdGhvdWdoLlxuICAgICAgICAvLyAgICAgIFlvdSBoYXZlIGxheWVycyBpbiB0aGlzIG9yZGVyOiBleHRydXNpb25fbGF5ZXJfYSwgbGluZV9sYXllciwgZXh0cnVzaW9uX2xheWVyX2JcbiAgICAgICAgLy8gICAgICBFYWNoIGxheWVyIGhhcyBhIGZlYXR1cmUgdGhhdCBvdmVybGFwcyB0aGUgb3RoZXIgZmVhdHVyZXMuXG4gICAgICAgIC8vICAgICAgVGhlIGZlYXR1cmUgaW4gZXh0cnVzaW9uX2xheWVyX2EgaXMgY2xvc2VyIHRoYW4gdGhlIGZlYXR1cmUgaW4gZXh0cnVzaW9uX2xheWVyX2Igc28gaXQgaXMgcmVuZGVyZWQgYWJvdmUuXG4gICAgICAgIC8vICAgICAgVGhlIGZlYXR1cmUgaW4gbGluZV9sYXllciBpcyByZW5kZXJlZCBhYm92ZSBleHRydXNpb25fbGF5ZXJfYS5cbiAgICAgICAgLy8gICAgICBUaGlzIG1lYW5zIHRoYXQgdGhhdCB0aGUgbGluZV9sYXllciBmZWF0dXJlIGlzIGFib3ZlIHRoZSBleHRydXNpb25fbGF5ZXJfYiBmZWF0dXJlIGRlc3BpdGVcbiAgICAgICAgLy8gICAgICBpdCBiZWluZyBpbiBhbiBlYXJsaWVyIGxheWVyLlxuXG4gICAgICAgIGNvbnN0IGlzTGF5ZXIzRCA9IGxheWVySWQgPT4gdGhpcy5fbGF5ZXJzW2xheWVySWRdLnR5cGUgPT09ICdmaWxsLWV4dHJ1c2lvbic7XG5cbiAgICAgICAgY29uc3QgbGF5ZXJJbmRleCA9IHt9O1xuICAgICAgICBjb25zdCBmZWF0dXJlczNEID0gW107XG4gICAgICAgIGZvciAobGV0IGwgPSB0aGlzLl9vcmRlci5sZW5ndGggLSAxOyBsID49IDA7IGwtLSkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXJJZCA9IHRoaXMuX29yZGVyW2xdO1xuICAgICAgICAgICAgaWYgKGlzTGF5ZXIzRChsYXllcklkKSkge1xuICAgICAgICAgICAgICAgIGxheWVySW5kZXhbbGF5ZXJJZF0gPSBsO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc291cmNlUmVzdWx0IG9mIHNvdXJjZVJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF5ZXJGZWF0dXJlcyA9IHNvdXJjZVJlc3VsdFtsYXllcklkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyRmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmVhdHVyZVdyYXBwZXIgb2YgbGF5ZXJGZWF0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzM0QucHVzaChmZWF0dXJlV3JhcHBlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmZWF0dXJlczNELnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBiLmludGVyc2VjdGlvblogLSBhLmludGVyc2VjdGlvblo7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gW107XG4gICAgICAgIGZvciAobGV0IGwgPSB0aGlzLl9vcmRlci5sZW5ndGggLSAxOyBsID49IDA7IGwtLSkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXJJZCA9IHRoaXMuX29yZGVyW2xdO1xuXG4gICAgICAgICAgICBpZiAoaXNMYXllcjNEKGxheWVySWQpKSB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIGFsbCAzRCBmZWF0dXJlcyB0aGF0IGFyZSBpbiBvciBhYm92ZSB0aGUgY3VycmVudCBsYXllclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBmZWF0dXJlczNELmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvcG1vc3QzRCA9IGZlYXR1cmVzM0RbaV0uZmVhdHVyZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVySW5kZXhbdG9wbW9zdDNELmxheWVyLmlkXSA8IGwpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5wdXNoKHRvcG1vc3QzRCk7XG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzM0QucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZVJlc3VsdCBvZiBzb3VyY2VSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyRmVhdHVyZXMgPSBzb3VyY2VSZXN1bHRbbGF5ZXJJZF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXllckZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZlYXR1cmVXcmFwcGVyIG9mIGxheWVyRmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5wdXNoKGZlYXR1cmVXcmFwcGVyLmZlYXR1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH1cblxuICAgIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhxdWVyeUdlb21ldHJ5OiBQb2ludExpa2UgfCBbUG9pbnRMaWtlLCBQb2ludExpa2VdLCBwYXJhbXM6IGFueSwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBBcnJheTxRdWVyeVJlc3VsdD4ge1xuICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlRmlsdGVyLCAncXVlcnlSZW5kZXJlZEZlYXR1cmVzLmZpbHRlcicsIHBhcmFtcy5maWx0ZXIsIG51bGwsIHBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmNsdWRlZFNvdXJjZXMgPSB7fTtcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFyYW1zLmxheWVycykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdwYXJhbWV0ZXJzLmxheWVycyBtdXN0IGJlIGFuIEFycmF5LicpKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBsYXllcklkIG9mIHBhcmFtcy5sYXllcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbGF5ZXIgaXMgbm90IGluIHRoZSBzdHlsZS5sYXllcnMgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2xheWVySWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBxdWVyaWVkIGZvciBmZWF0dXJlcy5gKSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluY2x1ZGVkU291cmNlc1tsYXllci5zb3VyY2VdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZVJlc3VsdHM6IEFycmF5PFF1ZXJ5UmVzdWx0PiA9IFtdO1xuXG4gICAgICAgIHBhcmFtcy5hdmFpbGFibGVJbWFnZXMgPSB0aGlzLl9hdmFpbGFibGVJbWFnZXM7XG5cbiAgICAgICAgY29uc3QgaGFzM0RMYXllciA9IChwYXJhbXMgJiYgcGFyYW1zLmxheWVycykgP1xuICAgICAgICAgICAgcGFyYW1zLmxheWVycy5zb21lKChsYXllcklkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsYXllciAmJiBsYXllci5pczNEKCk7XG4gICAgICAgICAgICB9KSA6XG4gICAgICAgICAgICB0aGlzLmhhczNETGF5ZXJzKCk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5R2VvbWV0cnlTdHJ1Y3QgPSBRdWVyeUdlb21ldHJ5LmNyZWF0ZUZyb21TY3JlZW5Qb2ludHMocXVlcnlHZW9tZXRyeSwgdHJhbnNmb3JtKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3NvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlSWQgPSB0aGlzLl9zb3VyY2VDYWNoZXNbaWRdLmdldFNvdXJjZSgpLmlkO1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5sYXllcnMgJiYgIWluY2x1ZGVkU291cmNlc1tzb3VyY2VJZF0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgc291cmNlUmVzdWx0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc291cmNlQ2FjaGVzW2lkXSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGF5ZXJzLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXJpYWxpemVkTGF5ZXJzLFxuICAgICAgICAgICAgICAgICAgICBxdWVyeUdlb21ldHJ5U3RydWN0LFxuICAgICAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgaGFzM0RMYXllcixcbiAgICAgICAgICAgICAgICAgICAgISF0aGlzLm1hcC5fc2hvd1F1ZXJ5R2VvbWV0cnkpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGxhY2VtZW50KSB7XG4gICAgICAgICAgICAvLyBJZiBhIHBsYWNlbWVudCBoYXMgcnVuLCBxdWVyeSBhZ2FpbnN0IGl0cyBDb2xsaXNpb25JbmRleFxuICAgICAgICAgICAgLy8gZm9yIHN5bWJvbCByZXN1bHRzLCBhbmQgdHJlYXQgaXQgYXMgYW4gZXh0cmEgc291cmNlIHRvIG1lcmdlXG4gICAgICAgICAgICBzb3VyY2VSZXN1bHRzLnB1c2goXG4gICAgICAgICAgICAgICAgcXVlcnlSZW5kZXJlZFN5bWJvbHMoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xheWVycyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VyaWFsaXplZExheWVycyxcbiAgICAgICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnlTdHJ1Y3Quc2NyZWVuR2VvbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnQuY29sbGlzaW9uSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxhY2VtZW50LnJldGFpbmVkUXVlcnlEYXRhKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAodGhpcy5fZmxhdHRlbkFuZFNvcnRSZW5kZXJlZEZlYXR1cmVzKHNvdXJjZVJlc3VsdHMpOiBhbnkpO1xuICAgIH1cblxuICAgIHF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlSUQ6IHN0cmluZywgcGFyYW1zOiA/e3NvdXJjZUxheWVyOiA/c3RyaW5nLCBmaWx0ZXI6ID9BcnJheTxhbnk+LCB2YWxpZGF0ZT86IGJvb2xlYW59KTogQXJyYXk8UXVlcnlGZWF0dXJlPiB7XG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmZpbHRlcikge1xuICAgICAgICAgICAgdGhpcy5fdmFsaWRhdGUodmFsaWRhdGVGaWx0ZXIsICdxdWVyeVNvdXJjZUZlYXR1cmVzLmZpbHRlcicsIHBhcmFtcy5maWx0ZXIsIG51bGwsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fZ2V0U291cmNlQ2FjaGVzKHNvdXJjZUlEKTtcbiAgICAgICAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VDYWNoZSBvZiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChxdWVyeVNvdXJjZUZlYXR1cmVzKHNvdXJjZUNhY2hlLCBwYXJhbXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cbiAgICBhZGRTb3VyY2VUeXBlKG5hbWU6IHN0cmluZywgU291cmNlVHlwZTogU291cmNlQ2xhc3MsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPik6IHZvaWQge1xuICAgICAgICBpZiAoU3R5bGUuZ2V0U291cmNlVHlwZShuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihgQSBzb3VyY2UgdHlwZSBjYWxsZWQgXCIke25hbWV9XCIgYWxyZWFkeSBleGlzdHMuYCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgU3R5bGUuc2V0U291cmNlVHlwZShuYW1lLCBTb3VyY2VUeXBlKTtcblxuICAgICAgICBpZiAoIVNvdXJjZVR5cGUud29ya2VyU291cmNlVVJMKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCdsb2FkV29ya2VyU291cmNlJywge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHVybDogU291cmNlVHlwZS53b3JrZXJTb3VyY2VVUkxcbiAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGdldExpZ2h0KCk6IExpZ2h0U3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpZ2h0LmdldExpZ2h0KCk7XG4gICAgfVxuXG4gICAgc2V0TGlnaHQobGlnaHRPcHRpb25zOiBMaWdodFNwZWNpZmljYXRpb24sIG9wdGlvbnM6IFN0eWxlU2V0dGVyT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgbGlnaHQgPSB0aGlzLmxpZ2h0LmdldExpZ2h0KCk7XG4gICAgICAgIGxldCBfdXBkYXRlID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGxpZ2h0T3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKCFkZWVwRXF1YWwobGlnaHRPcHRpb25zW2tleV0sIGxpZ2h0W2tleV0pKSB7XG4gICAgICAgICAgICAgICAgX3VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfdXBkYXRlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IHRoaXMuX3NldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjogMzAwLCBkZWxheTogMH0pO1xuXG4gICAgICAgIHRoaXMubGlnaHQuc2V0TGlnaHQobGlnaHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBnZXRUZXJyYWluKCk6ID9UZXJyYWluU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlcnJhaW4gJiYgdGhpcy50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZSA9PT0gRHJhcGVSZW5kZXJNb2RlLmVsZXZhdGVkID8gdGhpcy50ZXJyYWluLmdldCgpIDogbnVsbDtcbiAgICB9XG5cbiAgICBzZXRUZXJyYWluRm9yRHJhcGluZygpIHtcbiAgICAgICAgY29uc3QgbW9ja1RlcnJhaW5PcHRpb25zID0ge3NvdXJjZTogJycsIGV4YWdnZXJhdGlvbjogMH07XG4gICAgICAgIHRoaXMuc2V0VGVycmFpbihtb2NrVGVycmFpbk9wdGlvbnMsIERyYXBlUmVuZGVyTW9kZS5kZWZlcnJlZCk7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXdhcm5pbmctY29tbWVudHNcbiAgICAvLyBUT0RPOiBnZW5lcmljIGFwcHJvYWNoIGZvciByb290IGxldmVsIHByb3BlcnR5OiBsaWdodCwgdGVycmFpbiwgc2t5Ym94LlxuICAgIC8vIEl0IGlzIG5vdCBkb25lIGhlcmUgdG8gcHJldmVudCByZWJhc2luZyBpc3N1ZXMuXG4gICAgc2V0VGVycmFpbih0ZXJyYWluT3B0aW9uczogP1RlcnJhaW5TcGVjaWZpY2F0aW9uLCBkcmFwZVJlbmRlck1vZGU6IG51bWJlciA9IERyYXBlUmVuZGVyTW9kZS5lbGV2YXRlZCkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIC8vIERpc2FibGluZ1xuICAgICAgICBpZiAoIXRlcnJhaW5PcHRpb25zKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy50ZXJyYWluO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzaGVldC50ZXJyYWluO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnZW5hYmxlVGVycmFpbicsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuX2ZvcmNlM0RMYXllclVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fbWFya2Vyc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9wdGlvbnM6IFRlcnJhaW5TcGVjaWZpY2F0aW9uID0gdGVycmFpbk9wdGlvbnM7XG4gICAgICAgIGlmIChkcmFwZVJlbmRlck1vZGUgPT09IERyYXBlUmVuZGVyTW9kZS5lbGV2YXRlZCkge1xuICAgICAgICAgICAgLy8gSW5wdXQgdmFsaWRhdGlvbiBhbmQgc291cmNlIG9iamVjdCB1bnJvbGxpbmdcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zb3VyY2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSAndGVycmFpbi1kZW0tc3JjJztcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFNvdXJjZShpZCwgb3B0aW9ucy5zb3VyY2UpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBjbG9uZShvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gZXh0ZW5kKG9wdGlvbnMsIHtzb3VyY2U6IGlkfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVRlcnJhaW4sICd0ZXJyYWluJywgb3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbmFibGluZ1xuICAgICAgICBpZiAoIXRoaXMudGVycmFpbiB8fCAodGhpcy50ZXJyYWluICYmIGRyYXBlUmVuZGVyTW9kZSAhPT0gdGhpcy50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZSkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucykgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVGVycmFpbihvcHRpb25zLCBkcmFwZVJlbmRlck1vZGUpO1xuICAgICAgICB9IGVsc2UgeyAvLyBVcGRhdGluZ1xuICAgICAgICAgICAgY29uc3QgdGVycmFpbiA9IHRoaXMudGVycmFpbjtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJTcGVjID0gdGVycmFpbi5nZXQoKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKHN0eWxlU3BlYy50ZXJyYWluKSkge1xuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHVzZSBkZWZhdWx0IHN0eWxlIHNwZWNpZmljYXRpb24gd2hlbiB0aGUgcHJvcGVydGllcyB3YXNuJ3Qgc2V0XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KG5hbWUpICYmICEhc3R5bGVTcGVjLnRlcnJhaW5bbmFtZV0uZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW25hbWVdID0gc3R5bGVTcGVjLnRlcnJhaW5bbmFtZV0uZGVmYXVsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkZWVwRXF1YWwob3B0aW9uc1trZXldLCBjdXJyU3BlY1trZXldKSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXJyYWluLnNldChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4gPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gdGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOiAwfSk7XG4gICAgICAgICAgICAgICAgICAgIHRlcnJhaW4udXBkYXRlVHJhbnNpdGlvbnMocGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKTtcbiAgICAgICAgdGhpcy5fbWFya2Vyc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIF9jcmVhdGVGb2coZm9nT3B0aW9uczogRm9nU3BlY2lmaWNhdGlvbikge1xuICAgICAgICBjb25zdCBmb2cgPSB0aGlzLmZvZyA9IG5ldyBGb2coZm9nT3B0aW9ucywgdGhpcy5tYXAudHJhbnNmb3JtKTtcbiAgICAgICAgdGhpcy5zdHlsZXNoZWV0LmZvZyA9IGZvZ09wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSB0aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246IDB9KTtcbiAgICAgICAgZm9nLnVwZGF0ZVRyYW5zaXRpb25zKHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIF91cGRhdGVNYXJrZXJzT3BhY2l0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMubWFwLl9tYXJrZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFwLl9yZXF1ZXN0RG9tVGFzaygoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1hcmtlciBvZiB0aGlzLm1hcC5fbWFya2Vycykge1xuICAgICAgICAgICAgICAgIG1hcmtlci5fZXZhbHVhdGVPcGFjaXR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEZvZygpOiA/Rm9nU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvZyA/IHRoaXMuZm9nLmdldCgpIDogbnVsbDtcbiAgICB9XG5cbiAgICBzZXRGb2coZm9nT3B0aW9uczogRm9nU3BlY2lmaWNhdGlvbikge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGlmICghZm9nT3B0aW9ucykge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGZvZ1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZm9nO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzaGVldC5mb2c7XG4gICAgICAgICAgICB0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZm9nKSB7XG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIEZvZ1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlRm9nKGZvZ09wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVXBkYXRpbmcgZm9nXG4gICAgICAgICAgICBjb25zdCBmb2cgPSB0aGlzLmZvZztcbiAgICAgICAgICAgIGNvbnN0IGN1cnJTcGVjID0gZm9nLmdldCgpO1xuXG4gICAgICAgICAgICAvLyBlbXB0eSBvYmplY3Qgc2hvdWxkIHBhc3MgdGhyb3VnaCB0byBzZXQgZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhmb2dPcHRpb25zKS5sZW5ndGggPT09IDApIGZvZy5zZXQoZm9nT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGZvZ09wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRlZXBFcXVhbChmb2dPcHRpb25zW2tleV0sIGN1cnJTcGVjW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvZy5zZXQoZm9nT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVzaGVldC5mb2cgPSBmb2dPcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gdGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOiAwfSk7XG4gICAgICAgICAgICAgICAgICAgIGZvZy51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWFya2Vyc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIF9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh0cmFuc2l0aW9uT3B0aW9uczogT2JqZWN0KTogVHJhbnNpdGlvblBhcmFtZXRlcnMge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm93OiBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogZXh0ZW5kKFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25PcHRpb25zLFxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCkge1xuICAgICAgICBpZiAoIXRoaXMubWFwLl9vcHRpbWl6ZUZvclRlcnJhaW4gfHwgIXRoaXMudGVycmFpbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHJhcGVkID0gdGhpcy5fb3JkZXIuZmlsdGVyKChpZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNMYXllckRyYXBlZCh0aGlzLl9sYXllcnNbaWRdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgbm9uRHJhcGVkID0gdGhpcy5fb3JkZXIuZmlsdGVyKChpZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICF0aGlzLmlzTGF5ZXJEcmFwZWQodGhpcy5fbGF5ZXJzW2lkXSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kcmFwZWRGaXJzdE9yZGVyID0gW107XG4gICAgICAgIHRoaXMuX2RyYXBlZEZpcnN0T3JkZXIucHVzaCguLi5kcmFwZWQpO1xuICAgICAgICB0aGlzLl9kcmFwZWRGaXJzdE9yZGVyLnB1c2goLi4ubm9uRHJhcGVkKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlVGVycmFpbih0ZXJyYWluT3B0aW9uczogVGVycmFpblNwZWNpZmljYXRpb24sIGRyYXBlUmVuZGVyTW9kZTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHRlcnJhaW4gPSB0aGlzLnRlcnJhaW4gPSBuZXcgVGVycmFpbih0ZXJyYWluT3B0aW9ucywgZHJhcGVSZW5kZXJNb2RlKTtcbiAgICAgICAgdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4gPSB0ZXJyYWluT3B0aW9ucztcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnZW5hYmxlVGVycmFpbicsICF0aGlzLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpKTtcbiAgICAgICAgdGhpcy5fZm9yY2UzRExheWVyVXBkYXRlKCk7XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSB0aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246IDB9KTtcbiAgICAgICAgdGVycmFpbi51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBfZm9yY2UzRExheWVyVXBkYXRlKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgIGlmIChsYXllci50eXBlID09PSAnZmlsbC1leHRydXNpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2ZvcmNlU3ltYm9sTGF5ZXJVcGRhdGUoKSB7XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySWRdO1xuICAgICAgICAgICAgaWYgKGxheWVyLnR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3ZhbGlkYXRlKHZhbGlkYXRlOiBWYWxpZGF0b3IsIGtleTogc3RyaW5nLCB2YWx1ZTogYW55LCBwcm9wczogYW55LCBvcHRpb25zOiB7IHZhbGlkYXRlPzogYm9vbGVhbiB9ID0ge30pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy52YWxpZGF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcywgdmFsaWRhdGUuY2FsbCh2YWxpZGF0ZVN0eWxlLCBleHRlbmQoe1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgc3R5bGU6IHRoaXMuc2VyaWFsaXplKCksXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIHN0eWxlU3BlY1xuICAgICAgICB9LCBwcm9wcykpKTtcbiAgICB9XG5cbiAgICBfcmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdCkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdC5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zcHJpdGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9zcHJpdGVSZXF1ZXN0LmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5fc3ByaXRlUmVxdWVzdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcnRsVGV4dFBsdWdpbkV2ZW50ZWQub2ZmKCdwbHVnaW5TdGF0ZUNoYW5nZScsIHRoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjayk7XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyOiBTdHlsZUxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySWRdO1xuICAgICAgICAgICAgbGF5ZXIuc2V0RXZlbnRlZFBhcmVudChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3NvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlQ2FjaGVzW2lkXS5jbGVhclRpbGVzKCk7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VDYWNoZXNbaWRdLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudChudWxsKTtcbiAgICAgICAgdGhpcy5zZXRFdmVudGVkUGFyZW50KG51bGwpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgX2NsZWFyU291cmNlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fZ2V0U291cmNlQ2FjaGVzKGlkKTtcbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VDYWNoZSBvZiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLmNsZWFyVGlsZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZWxvYWRTb3VyY2UoaWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZXMgPSB0aGlzLl9nZXRTb3VyY2VDYWNoZXMoaWQpO1xuICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZUNhY2hlIG9mIHNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgc291cmNlQ2FjaGUucmVzdW1lKCk7XG4gICAgICAgICAgICBzb3VyY2VDYWNoZS5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZWxvYWRTb3VyY2VzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZSBvZiB0aGlzLl9nZXRTb3VyY2VzKCkpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UucmVsb2FkKSB7XG4gICAgICAgICAgICAgICAgc291cmNlLnJlbG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVNvdXJjZXModHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZUNhY2hlc1tpZF0udXBkYXRlKHRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLnJlc3VtZSgpO1xuICAgICAgICAgICAgc291cmNlQ2FjaGUucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlUGxhY2VtZW50KHRyYW5zZm9ybTogVHJhbnNmb3JtLCBzaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW4sIGZhZGVEdXJhdGlvbjogbnVtYmVyLCBjcm9zc1NvdXJjZUNvbGxpc2lvbnM6IGJvb2xlYW4sIGZvcmNlRnVsbFBsYWNlbWVudDogYm9vbGVhbiA9IGZhbHNlKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBzeW1ib2xCdWNrZXRzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgcGxhY2VtZW50Q29tbWl0dGVkID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgbGF5ZXJUaWxlcyA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJRCBvZiB0aGlzLl9vcmRlcikge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVMYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklEXTtcbiAgICAgICAgICAgIGlmIChzdHlsZUxheWVyLnR5cGUgIT09ICdzeW1ib2wnKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKCFsYXllclRpbGVzW3N0eWxlTGF5ZXIuc291cmNlXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShzdHlsZUxheWVyKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNvdXJjZUNhY2hlKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBsYXllclRpbGVzW3N0eWxlTGF5ZXIuc291cmNlXSA9IHNvdXJjZUNhY2hlLmdldFJlbmRlcmFibGVJZHModHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaWQpID0+IHNvdXJjZUNhY2hlLmdldFRpbGVCeUlEKGlkKSlcbiAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IChiLnRpbGVJRC5vdmVyc2NhbGVkWiAtIGEudGlsZUlELm92ZXJzY2FsZWRaKSB8fCAoYS50aWxlSUQuaXNMZXNzVGhhbihiLnRpbGVJRCkgPyAtMSA6IDEpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbGF5ZXJCdWNrZXRzQ2hhbmdlZCA9IHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXguYWRkTGF5ZXIoc3R5bGVMYXllciwgbGF5ZXJUaWxlc1tzdHlsZUxheWVyLnNvdXJjZV0sIHRyYW5zZm9ybS5jZW50ZXIubG5nLCB0cmFuc2Zvcm0ucHJvamVjdGlvbik7XG4gICAgICAgICAgICBzeW1ib2xCdWNrZXRzQ2hhbmdlZCA9IHN5bWJvbEJ1Y2tldHNDaGFuZ2VkIHx8IGxheWVyQnVja2V0c0NoYW5nZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5wcnVuZVVudXNlZExheWVycyh0aGlzLl9vcmRlcik7XG5cbiAgICAgICAgLy8gQW55dGhpbmcgdGhhdCBjaGFuZ2VzIG91ciBcImluIHByb2dyZXNzXCIgbGF5ZXIgYW5kIHRpbGUgaW5kaWNlcyByZXF1aXJlcyB1c1xuICAgICAgICAvLyB0byBzdGFydCBvdmVyLiBXaGVuIHdlIHN0YXJ0IG92ZXIsIHdlIGRvIGEgZnVsbCBwbGFjZW1lbnQgaW5zdGVhZCBvZiBpbmNyZW1lbnRhbFxuICAgICAgICAvLyB0byBwcmV2ZW50IHN0YXJ2YXRpb24uXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gcmVzdGFydCBwbGFjZW1lbnQgdG8ga2VlcCBsYXllciBpbmRpY2VzIGluIHN5bmMuXG4gICAgICAgIC8vIEFsc28gZm9yY2UgZnVsbCBwbGFjZW1lbnQgd2hlbiBmYWRlRHVyYXRpb24gPT09IDAgdG8gZW5zdXJlIHRoYXQgbmV3bHkgbG9hZGVkXG4gICAgICAgIC8vIHRpbGVzIHdpbGwgZnVsbHkgZGlzcGxheSBzeW1ib2xzIGluIHRoZWlyIGZpcnN0IGZyYW1lXG4gICAgICAgIGZvcmNlRnVsbFBsYWNlbWVudCA9IGZvcmNlRnVsbFBsYWNlbWVudCB8fCB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCB8fCBmYWRlRHVyYXRpb24gPT09IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCduZXdvcmRlcicpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3JjZUZ1bGxQbGFjZW1lbnQgfHwgIXRoaXMucGF1c2VhYmxlUGxhY2VtZW50IHx8ICh0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSAmJiAhdGhpcy5wbGFjZW1lbnQuc3RpbGxSZWNlbnQoYnJvd3Nlci5ub3coKSwgdHJhbnNmb3JtLnpvb20pKSkge1xuICAgICAgICAgICAgY29uc3QgZm9nU3RhdGUgPSB0aGlzLmZvZyAmJiB0cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZyA/IHRoaXMuZm9nLnN0YXRlIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGF1c2VhYmxlUGxhY2VtZW50ID0gbmV3IFBhdXNlYWJsZVBsYWNlbWVudCh0cmFuc2Zvcm0sIHRoaXMuX29yZGVyLCBmb3JjZUZ1bGxQbGFjZW1lbnQsIHNob3dDb2xsaXNpb25Cb3hlcywgZmFkZUR1cmF0aW9uLCBjcm9zc1NvdXJjZUNvbGxpc2lvbnMsIHRoaXMucGxhY2VtZW50LCBmb2dTdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpKSB7XG4gICAgICAgICAgICAvLyB0aGUgbGFzdCBwbGFjZW1lbnQgZmluaXNoZWQgcnVubmluZywgYnV0IHRoZSBuZXh0IG9uZSBoYXNu4oCZdFxuICAgICAgICAgICAgLy8gc3RhcnRlZCB5ZXQgYmVjYXVzZSBvZiB0aGUgYHN0aWxsUmVjZW50YCBjaGVjayBpbW1lZGlhdGVseVxuICAgICAgICAgICAgLy8gYWJvdmUsIHNvIG1hcmsgaXQgc3RhbGUgdG8gZW5zdXJlIHRoYXQgd2UgcmVxdWVzdCBhbm90aGVyXG4gICAgICAgICAgICAvLyByZW5kZXIgZnJhbWVcbiAgICAgICAgICAgIHRoaXMucGxhY2VtZW50LnNldFN0YWxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb250aW51ZVBsYWNlbWVudCh0aGlzLl9vcmRlciwgdGhpcy5fbGF5ZXJzLCBsYXllclRpbGVzKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnQgPSB0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb21taXQoYnJvd3Nlci5ub3coKSk7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50Q29tbWl0dGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN5bWJvbEJ1Y2tldHNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIHBsYWNlbWVudCBnZXRzIHNwbGl0IG92ZXIgbXVsdGlwbGUgZnJhbWVzIGl0IGlzIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgLy8gdGhlc2UgYnVja2V0cyB3ZXJlIHByb2Nlc3NlZCBiZWZvcmUgdGhleSB3ZXJlIGNoYW5nZWQgYW5kIHNvIHRoZVxuICAgICAgICAgICAgICAgIC8vIHBsYWNlbWVudCBpcyBhbHJlYWR5IHN0YWxlIHdoaWxlIGl0IGlzIGluIHByb2dyZXNzXG4gICAgICAgICAgICAgICAgdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQucGxhY2VtZW50LnNldFN0YWxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGxhY2VtZW50Q29tbWl0dGVkIHx8IHN5bWJvbEJ1Y2tldHNDaGFuZ2VkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxheWVySUQgb2YgdGhpcy5fb3JkZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZUxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySURdO1xuICAgICAgICAgICAgICAgIGlmIChzdHlsZUxheWVyLnR5cGUgIT09ICdzeW1ib2wnKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlbWVudC51cGRhdGVMYXllck9wYWNpdGllcyhzdHlsZUxheWVyLCBsYXllclRpbGVzW3N0eWxlTGF5ZXIuc291cmNlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBuZWVkc1JlbmRlciBpcyBmYWxzZSB3aGVuIHdlIGhhdmUganVzdCBmaW5pc2hlZCBhIHBsYWNlbWVudCB0aGF0IGRpZG4ndCBjaGFuZ2UgdGhlIHZpc2liaWxpdHkgb2YgYW55IHN5bWJvbHNcbiAgICAgICAgY29uc3QgbmVlZHNSZXJlbmRlciA9ICF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSB8fCB0aGlzLnBsYWNlbWVudC5oYXNUcmFuc2l0aW9ucyhicm93c2VyLm5vdygpKTtcbiAgICAgICAgcmV0dXJuIG5lZWRzUmVyZW5kZXI7XG4gICAgfVxuXG4gICAgX3JlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VDYWNoZXNbaWRdLnJlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENhbGxiYWNrcyBmcm9tIHdlYiB3b3JrZXJzXG5cbiAgICBnZXRJbWFnZXMobWFwSWQ6IHN0cmluZywgcGFyYW1zOiB7aWNvbnM6IEFycmF5PHN0cmluZz4sIHNvdXJjZTogc3RyaW5nLCB0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHR5cGU6IHN0cmluZ30sIGNhbGxiYWNrOiBDYWxsYmFjazx7W186IHN0cmluZ106IFN0eWxlSW1hZ2V9Pikge1xuXG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLmdldEltYWdlcyhwYXJhbXMuaWNvbnMsIGNhbGxiYWNrKTtcblxuICAgICAgICAvLyBBcHBseSBxdWV1ZWQgaW1hZ2UgY2hhbmdlcyBiZWZvcmUgc2V0dGluZyB0aGUgdGlsZSdzIGRlcGVuZGVuY2llcyBzbyB0aGF0IHRoZSB0aWxlXG4gICAgICAgIC8vIGlzIG5vdCByZWxvYWRlZCB1bmVjZXNzYXJpbHkuIFdpdGhvdXQgdGhpcyBmb3JjZWQgdXBkYXRlIHRoZSByZWxvYWQgY291bGQgaGFwcGVuIGluIGNhc2VzXG4gICAgICAgIC8vIGxpa2UgdGhpcyBvbmU6XG4gICAgICAgIC8vIC0gaWNvbnMgY29udGFpbnMgXCJteS1pbWFnZVwiXG4gICAgICAgIC8vIC0gaW1hZ2VNYW5hZ2VyLmdldEltYWdlcyguLi4pIHRyaWdnZXJzIGBvbnN0eWxlaW1hZ2VtaXNzaW5nYFxuICAgICAgICAvLyAtIHRoZSB1c2VyIGFkZHMgXCJteS1pbWFnZVwiIHdpdGhpbiB0aGUgY2FsbGJhY2tcbiAgICAgICAgLy8gLSBhZGRJbWFnZSBhZGRzIFwibXktaW1hZ2VcIiB0byB0aGlzLl9jaGFuZ2VkSW1hZ2VzXG4gICAgICAgIC8vIC0gdGhlIG5leHQgZnJhbWUgdHJpZ2dlcnMgYSByZWxvYWQgb2YgdGhpcyB0aWxlIGV2ZW4gdGhvdWdoIGl0IGFscmVhZHkgaGFzIHRoZSBsYXRlc3QgdmVyc2lvblxuICAgICAgICB0aGlzLl91cGRhdGVUaWxlc0ZvckNoYW5nZWRJbWFnZXMoKTtcblxuICAgICAgICBjb25zdCBzZXREZXBlbmRlbmNpZXMgPSAoc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlKSA9PiB7XG4gICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VDYWNoZS5zZXREZXBlbmRlbmNpZXMocGFyYW1zLnRpbGVJRC5rZXksIHBhcmFtcy50eXBlLCBwYXJhbXMuaWNvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZXREZXBlbmRlbmNpZXModGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbcGFyYW1zLnNvdXJjZV0pO1xuICAgICAgICBzZXREZXBlbmRlbmNpZXModGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW3BhcmFtcy5zb3VyY2VdKTtcbiAgICB9XG5cbiAgICBnZXRHbHlwaHMobWFwSWQ6IHN0cmluZywgcGFyYW1zOiB7c3RhY2tzOiB7W186IHN0cmluZ106IEFycmF5PG51bWJlcj59fSwgY2FsbGJhY2s6IENhbGxiYWNrPHtbXzogc3RyaW5nXToge2dseXBoczoge1tfOiBudW1iZXJdOiA/U3R5bGVHbHlwaH0sIGFzY2VuZGVyPzogbnVtYmVyLCBkZXNjZW5kZXI/OiBudW1iZXJ9fT4pIHtcbiAgICAgICAgdGhpcy5nbHlwaE1hbmFnZXIuZ2V0R2x5cGhzKHBhcmFtcy5zdGFja3MsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBnZXRSZXNvdXJjZShtYXBJZDogc3RyaW5nLCBwYXJhbXM6IFJlcXVlc3RQYXJhbWV0ZXJzLCBjYWxsYmFjazogUmVzcG9uc2VDYWxsYmFjazxhbnk+KTogQ2FuY2VsYWJsZSB7XG4gICAgICAgIHJldHVybiBtYWtlUmVxdWVzdChwYXJhbXMsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBfZ2V0U291cmNlQ2FjaGUoc291cmNlOiBzdHJpbmcpOiBTb3VyY2VDYWNoZSB8IHZvaWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbc291cmNlXTtcbiAgICB9XG5cbiAgICBfZ2V0TGF5ZXJTb3VyY2VDYWNoZShsYXllcjogU3R5bGVMYXllcik6IFNvdXJjZUNhY2hlIHwgdm9pZCB7XG4gICAgICAgIHJldHVybiBsYXllci50eXBlID09PSAnc3ltYm9sJyA/XG4gICAgICAgICAgICB0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXSA6XG4gICAgICAgICAgICB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tsYXllci5zb3VyY2VdO1xuICAgIH1cblxuICAgIF9nZXRTb3VyY2VDYWNoZXMoc291cmNlOiBzdHJpbmcpOiBBcnJheTxTb3VyY2VDYWNoZT4ge1xuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZXMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuX290aGVyU291cmNlQ2FjaGVzW3NvdXJjZV0pIHtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlcy5wdXNoKHRoaXMuX290aGVyU291cmNlQ2FjaGVzW3NvdXJjZV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbc291cmNlXSkge1xuICAgICAgICAgICAgc291cmNlQ2FjaGVzLnB1c2godGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW3NvdXJjZV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2VDYWNoZXM7XG4gICAgfVxuXG4gICAgX2lzU291cmNlQ2FjaGVMb2FkZWQoc291cmNlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fZ2V0U291cmNlQ2FjaGVzKHNvdXJjZSk7XG4gICAgICAgIGlmIChzb3VyY2VDYWNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCBJRCAnJHtzb3VyY2V9J2ApKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZUNhY2hlcy5ldmVyeShzYyA9PiBzYy5sb2FkZWQoKSk7XG4gICAgfVxuXG4gICAgaGFzM0RMYXllcnMoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9udW0zRExheWVycyA+IDA7XG4gICAgfVxuXG4gICAgaGFzU3ltYm9sTGF5ZXJzKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbnVtU3ltYm9sTGF5ZXJzID4gMDtcbiAgICB9XG5cbiAgICBoYXNDaXJjbGVMYXllcnMoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9udW1DaXJjbGVMYXllcnMgPiAwO1xuICAgIH1cblxuICAgIF9jbGVhcldvcmtlckNhY2hlcygpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnY2xlYXJDYWNoZXMnKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9jbGVhcldvcmtlckNhY2hlcygpO1xuICAgICAgICBpZiAodGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMudGVycmFpbjtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQudGVycmFpbjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuU3R5bGUuZ2V0U291cmNlVHlwZSA9IGdldFNvdXJjZVR5cGU7XG5TdHlsZS5zZXRTb3VyY2VUeXBlID0gc2V0U291cmNlVHlwZTtcblN0eWxlLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2UgPSByZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlO1xuXG5leHBvcnQgZGVmYXVsdCBTdHlsZTtcbiIsIi8vIEBmbG93XG5pbXBvcnQgdHlwZSB7U3R5bGVTcGVjaWZpY2F0aW9ufSBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZW1wdHlTdHlsZSgpOiBTdHlsZVNwZWNpZmljYXRpb24ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHZlcnNpb246IDgsXG4gICAgICAgIGxheWVyczogW10sXG4gICAgICAgIHNvdXJjZXM6IHt9XG4gICAgfTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7Z2V0SlNPTiwgZ2V0SW1hZ2UsIFJlc291cmNlVHlwZX0gZnJvbSAnLi4vdXRpbC9hamF4LmpzJztcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCB7UkdCQUltYWdlfSBmcm9tICcuLi91dGlsL2ltYWdlLmpzJztcblxuaW1wb3J0IHR5cGUge1N0eWxlSW1hZ2V9IGZyb20gJy4vc3R5bGVfaW1hZ2UuanMnO1xuaW1wb3J0IHR5cGUge1JlcXVlc3RNYW5hZ2VyfSBmcm9tICcuLi91dGlsL21hcGJveC5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrLmpzJztcbmltcG9ydCB0eXBlIHtDYW5jZWxhYmxlfSBmcm9tICcuLi90eXBlcy9jYW5jZWxhYmxlLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYmFzZVVSTDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TWFuYWdlcjogUmVxdWVzdE1hbmFnZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBDYWxsYmFjazx7W186IHN0cmluZ106IFN0eWxlSW1hZ2V9Pik6IENhbmNlbGFibGUge1xuICAgIGxldCBqc29uOiBhbnksIGltYWdlLCBlcnJvcjtcbiAgICBjb25zdCBmb3JtYXQgPSBicm93c2VyLmRldmljZVBpeGVsUmF0aW8gPiAxID8gJ0AyeCcgOiAnJztcblxuICAgIGxldCBqc29uUmVxdWVzdDogP0NhbmNlbGFibGUgPSBnZXRKU09OKHJlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QocmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU3ByaXRlVVJMKGJhc2VVUkwsIGZvcm1hdCwgJy5qc29uJyksIFJlc291cmNlVHlwZS5TcHJpdGVKU09OKSwgKGVycjogP0Vycm9yLCBkYXRhOiA/T2JqZWN0KSA9PiB7XG4gICAgICAgIGpzb25SZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICAgICAgICBqc29uID0gZGF0YTtcbiAgICAgICAgICAgIG1heWJlQ29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IGltYWdlUmVxdWVzdDogP0NhbmNlbGFibGUgPSBnZXRJbWFnZShyZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHJlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVNwcml0ZVVSTChiYXNlVVJMLCBmb3JtYXQsICcucG5nJyksIFJlc291cmNlVHlwZS5TcHJpdGVJbWFnZSksIChlcnIsIGltZykgPT4ge1xuICAgICAgICBpbWFnZVJlcXVlc3QgPSBudWxsO1xuICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgICAgICAgIGltYWdlID0gaW1nO1xuICAgICAgICAgICAgbWF5YmVDb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBtYXliZUNvbXBsZXRlKCkge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmIChqc29uICYmIGltYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBicm93c2VyLmdldEltYWdlRGF0YShpbWFnZSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiBqc29uKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHQsIHgsIHksIHNkZiwgcGl4ZWxSYXRpbywgc3RyZXRjaFgsIHN0cmV0Y2hZLCBjb250ZW50fSA9IGpzb25baWRdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgUkdCQUltYWdlKHt3aWR0aCwgaGVpZ2h0fSk7XG4gICAgICAgICAgICAgICAgUkdCQUltYWdlLmNvcHkoaW1hZ2VEYXRhLCBkYXRhLCB7eCwgeX0sIHt4OiAwLCB5OiAwfSwge3dpZHRoLCBoZWlnaHR9KTtcbiAgICAgICAgICAgICAgICByZXN1bHRbaWRdID0ge2RhdGEsIHBpeGVsUmF0aW8sIHNkZiwgc3RyZXRjaFgsIHN0cmV0Y2hZLCBjb250ZW50fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNhbmNlbCgpIHtcbiAgICAgICAgICAgIGlmIChqc29uUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIGpzb25SZXF1ZXN0LmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIGpzb25SZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbWFnZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICBpbWFnZVJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgaW1hZ2VSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG4iLCJcbi8vIERpc2FibGUgRmxvdyBhbm5vdGF0aW9ucyBoZXJlIGJlY2F1c2UgRmxvdyBkb2Vzbid0IHN1cHBvcnQgaW1wb3J0aW5nIEdMU0wgZmlsZXNcbi8qIGVzbGludC1kaXNhYmxlIGZsb3d0eXBlL3JlcXVpcmUtdmFsaWQtZmlsZS1hbm5vdGF0aW9uICovXG5cbmltcG9ydCBwcmVsdWRlQ29tbW9uIGZyb20gJy4vX3ByZWx1ZGUuZ2xzbCc7XG5pbXBvcnQgcHJlbHVkZUZyYWcgZnJvbSAnLi9fcHJlbHVkZS5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBwcmVsdWRlVmVydCBmcm9tICcuL19wcmVsdWRlLnZlcnRleC5nbHNsJztcbmltcG9ydCBiYWNrZ3JvdW5kRnJhZyBmcm9tICcuL2JhY2tncm91bmQuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgYmFja2dyb3VuZFZlcnQgZnJvbSAnLi9iYWNrZ3JvdW5kLnZlcnRleC5nbHNsJztcbmltcG9ydCBiYWNrZ3JvdW5kUGF0dGVybkZyYWcgZnJvbSAnLi9iYWNrZ3JvdW5kX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgYmFja2dyb3VuZFBhdHRlcm5WZXJ0IGZyb20gJy4vYmFja2dyb3VuZF9wYXR0ZXJuLnZlcnRleC5nbHNsJztcbmltcG9ydCBjaXJjbGVGcmFnIGZyb20gJy4vY2lyY2xlLmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IGNpcmNsZVZlcnQgZnJvbSAnLi9jaXJjbGUudmVydGV4Lmdsc2wnO1xuaW1wb3J0IGNsaXBwaW5nTWFza0ZyYWcgZnJvbSAnLi9jbGlwcGluZ19tYXNrLmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IGNsaXBwaW5nTWFza1ZlcnQgZnJvbSAnLi9jbGlwcGluZ19tYXNrLnZlcnRleC5nbHNsJztcbmltcG9ydCBoZWF0bWFwRnJhZyBmcm9tICcuL2hlYXRtYXAuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgaGVhdG1hcFZlcnQgZnJvbSAnLi9oZWF0bWFwLnZlcnRleC5nbHNsJztcbmltcG9ydCBoZWF0bWFwVGV4dHVyZUZyYWcgZnJvbSAnLi9oZWF0bWFwX3RleHR1cmUuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgaGVhdG1hcFRleHR1cmVWZXJ0IGZyb20gJy4vaGVhdG1hcF90ZXh0dXJlLnZlcnRleC5nbHNsJztcbmltcG9ydCBjb2xsaXNpb25Cb3hGcmFnIGZyb20gJy4vY29sbGlzaW9uX2JveC5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBjb2xsaXNpb25Cb3hWZXJ0IGZyb20gJy4vY29sbGlzaW9uX2JveC52ZXJ0ZXguZ2xzbCc7XG5pbXBvcnQgY29sbGlzaW9uQ2lyY2xlRnJhZyBmcm9tICcuL2NvbGxpc2lvbl9jaXJjbGUuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgY29sbGlzaW9uQ2lyY2xlVmVydCBmcm9tICcuL2NvbGxpc2lvbl9jaXJjbGUudmVydGV4Lmdsc2wnO1xuaW1wb3J0IGRlYnVnRnJhZyBmcm9tICcuL2RlYnVnLmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IGRlYnVnVmVydCBmcm9tICcuL2RlYnVnLnZlcnRleC5nbHNsJztcbmltcG9ydCBmaWxsRnJhZyBmcm9tICcuL2ZpbGwuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgZmlsbFZlcnQgZnJvbSAnLi9maWxsLnZlcnRleC5nbHNsJztcbmltcG9ydCBmaWxsT3V0bGluZUZyYWcgZnJvbSAnLi9maWxsX291dGxpbmUuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgZmlsbE91dGxpbmVWZXJ0IGZyb20gJy4vZmlsbF9vdXRsaW5lLnZlcnRleC5nbHNsJztcbmltcG9ydCBmaWxsT3V0bGluZVBhdHRlcm5GcmFnIGZyb20gJy4vZmlsbF9vdXRsaW5lX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgZmlsbE91dGxpbmVQYXR0ZXJuVmVydCBmcm9tICcuL2ZpbGxfb3V0bGluZV9wYXR0ZXJuLnZlcnRleC5nbHNsJztcbmltcG9ydCBmaWxsUGF0dGVybkZyYWcgZnJvbSAnLi9maWxsX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgZmlsbFBhdHRlcm5WZXJ0IGZyb20gJy4vZmlsbF9wYXR0ZXJuLnZlcnRleC5nbHNsJztcbmltcG9ydCBmaWxsRXh0cnVzaW9uRnJhZyBmcm9tICcuL2ZpbGxfZXh0cnVzaW9uLmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IGZpbGxFeHRydXNpb25WZXJ0IGZyb20gJy4vZmlsbF9leHRydXNpb24udmVydGV4Lmdsc2wnO1xuaW1wb3J0IGZpbGxFeHRydXNpb25QYXR0ZXJuRnJhZyBmcm9tICcuL2ZpbGxfZXh0cnVzaW9uX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgZmlsbEV4dHJ1c2lvblBhdHRlcm5WZXJ0IGZyb20gJy4vZmlsbF9leHRydXNpb25fcGF0dGVybi52ZXJ0ZXguZ2xzbCc7XG5pbXBvcnQgaGlsbHNoYWRlUHJlcGFyZUZyYWcgZnJvbSAnLi9oaWxsc2hhZGVfcHJlcGFyZS5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBoaWxsc2hhZGVQcmVwYXJlVmVydCBmcm9tICcuL2hpbGxzaGFkZV9wcmVwYXJlLnZlcnRleC5nbHNsJztcbmltcG9ydCBoaWxsc2hhZGVGcmFnIGZyb20gJy4vaGlsbHNoYWRlLmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IGhpbGxzaGFkZVZlcnQgZnJvbSAnLi9oaWxsc2hhZGUudmVydGV4Lmdsc2wnO1xuaW1wb3J0IGxpbmVGcmFnIGZyb20gJy4vbGluZS5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBsaW5lVmVydCBmcm9tICcuL2xpbmUudmVydGV4Lmdsc2wnO1xuaW1wb3J0IGxpbmVQYXR0ZXJuRnJhZyBmcm9tICcuL2xpbmVfcGF0dGVybi5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBsaW5lUGF0dGVyblZlcnQgZnJvbSAnLi9saW5lX3BhdHRlcm4udmVydGV4Lmdsc2wnO1xuaW1wb3J0IHJhc3RlckZyYWcgZnJvbSAnLi9yYXN0ZXIuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgcmFzdGVyVmVydCBmcm9tICcuL3Jhc3Rlci52ZXJ0ZXguZ2xzbCc7XG5pbXBvcnQgc3ltYm9sSWNvbkZyYWcgZnJvbSAnLi9zeW1ib2xfaWNvbi5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBzeW1ib2xJY29uVmVydCBmcm9tICcuL3N5bWJvbF9pY29uLnZlcnRleC5nbHNsJztcbmltcG9ydCBzeW1ib2xTREZGcmFnIGZyb20gJy4vc3ltYm9sX3NkZi5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBzeW1ib2xTREZWZXJ0IGZyb20gJy4vc3ltYm9sX3NkZi52ZXJ0ZXguZ2xzbCc7XG5pbXBvcnQgc3ltYm9sVGV4dEFuZEljb25GcmFnIGZyb20gJy4vc3ltYm9sX3RleHRfYW5kX2ljb24uZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgc3ltYm9sVGV4dEFuZEljb25WZXJ0IGZyb20gJy4vc3ltYm9sX3RleHRfYW5kX2ljb24udmVydGV4Lmdsc2wnO1xuaW1wb3J0IHNreWJveEZyYWcgZnJvbSAnLi9za3lib3guZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgc2t5Ym94R3JhZGllbnRGcmFnIGZyb20gJy4vc2t5Ym94X2dyYWRpZW50LmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IHNreWJveFZlcnQgZnJvbSAnLi9za3lib3gudmVydGV4Lmdsc2wnO1xuaW1wb3J0IHRlcnJhaW5SYXN0ZXJGcmFnIGZyb20gJy4vdGVycmFpbl9yYXN0ZXIuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgdGVycmFpblJhc3RlclZlcnQgZnJvbSAnLi90ZXJyYWluX3Jhc3Rlci52ZXJ0ZXguZ2xzbCc7XG5pbXBvcnQgdGVycmFpbkRlcHRoRnJhZyBmcm9tICcuL3RlcnJhaW5fZGVwdGguZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgdGVycmFpbkRlcHRoVmVydCBmcm9tICcuL3RlcnJhaW5fZGVwdGgudmVydGV4Lmdsc2wnO1xuaW1wb3J0IHByZWx1ZGVUZXJyYWluVmVydCBmcm9tICcuL19wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2wnO1xuaW1wb3J0IHByZWx1ZGVGb2dWZXJ0IGZyb20gJy4vX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsJztcbmltcG9ydCBwcmVsdWRlRm9nRnJhZyBmcm9tICcuL19wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBza3lib3hDYXB0dXJlRnJhZyBmcm9tICcuL3NreWJveF9jYXB0dXJlLmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IHNreWJveENhcHR1cmVWZXJ0IGZyb20gJy4vc2t5Ym94X2NhcHR1cmUudmVydGV4Lmdsc2wnO1xuaW1wb3J0IGdsb2JlRnJhZyBmcm9tICcuL2dsb2JlX3Jhc3Rlci5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBnbG9iZVZlcnQgZnJvbSAnLi9nbG9iZV9yYXN0ZXIudmVydGV4Lmdsc2wnO1xuaW1wb3J0IGF0bW9zcGhlcmVGcmFnIGZyb20gJy4vYXRtb3NwaGVyZS5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBhdG1vc3BoZXJlVmVydCBmcm9tICcuL2F0bW9zcGhlcmUudmVydGV4Lmdsc2wnO1xuXG5leHBvcnQgbGV0IHByZWx1ZGVUZXJyYWluID0ge307XG5leHBvcnQgbGV0IHByZWx1ZGVGb2cgPSB7fTtcblxuY29uc3QgY29tbW9uRGVmaW5lcyA9IFtdO1xucGFyc2VVc2VkUHJlcHJvY2Vzc29yRGVmaW5lcyhwcmVsdWRlQ29tbW9uLCBjb21tb25EZWZpbmVzKTtcbnBhcnNlVXNlZFByZXByb2Nlc3NvckRlZmluZXMocHJlbHVkZVRlcnJhaW5WZXJ0LCBjb21tb25EZWZpbmVzKTtcbnBhcnNlVXNlZFByZXByb2Nlc3NvckRlZmluZXMocHJlbHVkZUZvZ1ZlcnQsIGNvbW1vbkRlZmluZXMpO1xucGFyc2VVc2VkUHJlcHJvY2Vzc29yRGVmaW5lcyhwcmVsdWRlRm9nRnJhZywgY29tbW9uRGVmaW5lcyk7XG5cbnByZWx1ZGVUZXJyYWluID0gY29tcGlsZSgnJywgcHJlbHVkZVRlcnJhaW5WZXJ0KTtcbnByZWx1ZGVGb2cgPSBjb21waWxlKHByZWx1ZGVGb2dGcmFnLCBwcmVsdWRlRm9nVmVydCk7XG4vLyBTaGFkb3cgcHJlbHVkZSBpcyBub3QgY29tcGlsZWQgdW50aWwgR0wtSlMgaW1wbGVtZW50cyBzaGFkb3dzXG5cbmV4cG9ydCBjb25zdCBwcmVsdWRlID0gY29tcGlsZShwcmVsdWRlRnJhZywgcHJlbHVkZVZlcnQpO1xuZXhwb3J0IGNvbnN0IHByZWx1ZGVDb21tb25Tb3VyY2UgPSBwcmVsdWRlQ29tbW9uO1xuXG5leHBvcnQgY29uc3QgcHJlbHVkZVZlcnRQcmVjaXNpb25RdWFsaWZpZXJzID0gYFxuI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4jZWxzZVxuXG4jaWYgIWRlZmluZWQobG93cClcbiNkZWZpbmUgbG93cFxuI2VuZGlmXG5cbiNpZiAhZGVmaW5lZChtZWRpdW1wKVxuI2RlZmluZSBtZWRpdW1wXG4jZW5kaWZcblxuI2lmICFkZWZpbmVkKGhpZ2hwKVxuI2RlZmluZSBoaWdocFxuI2VuZGlmXG5cbiNlbmRpZmA7XG5leHBvcnQgY29uc3QgcHJlbHVkZUZyYWdQcmVjaXNpb25RdWFsaWZpZXJzID0gYFxuI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbiNlbHNlXG5cbiNpZiAhZGVmaW5lZChsb3dwKVxuI2RlZmluZSBsb3dwXG4jZW5kaWZcblxuI2lmICFkZWZpbmVkKG1lZGl1bXApXG4jZGVmaW5lIG1lZGl1bXBcbiNlbmRpZlxuXG4jaWYgIWRlZmluZWQoaGlnaHApXG4jZGVmaW5lIGhpZ2hwXG4jZW5kaWZcblxuI2VuZGlmYDtcblxuZXhwb3J0IGNvbnN0IHN0YW5kYXJkRGVyaXZhdGl2ZXNFeHQgPSAnI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGVcXG4nO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgYmFja2dyb3VuZDogY29tcGlsZShiYWNrZ3JvdW5kRnJhZywgYmFja2dyb3VuZFZlcnQpLFxuICAgIGJhY2tncm91bmRQYXR0ZXJuOiBjb21waWxlKGJhY2tncm91bmRQYXR0ZXJuRnJhZywgYmFja2dyb3VuZFBhdHRlcm5WZXJ0KSxcbiAgICBjaXJjbGU6IGNvbXBpbGUoY2lyY2xlRnJhZywgY2lyY2xlVmVydCksXG4gICAgY2xpcHBpbmdNYXNrOiBjb21waWxlKGNsaXBwaW5nTWFza0ZyYWcsIGNsaXBwaW5nTWFza1ZlcnQpLFxuICAgIGhlYXRtYXA6IGNvbXBpbGUoaGVhdG1hcEZyYWcsIGhlYXRtYXBWZXJ0KSxcbiAgICBoZWF0bWFwVGV4dHVyZTogY29tcGlsZShoZWF0bWFwVGV4dHVyZUZyYWcsIGhlYXRtYXBUZXh0dXJlVmVydCksXG4gICAgY29sbGlzaW9uQm94OiBjb21waWxlKGNvbGxpc2lvbkJveEZyYWcsIGNvbGxpc2lvbkJveFZlcnQpLFxuICAgIGNvbGxpc2lvbkNpcmNsZTogY29tcGlsZShjb2xsaXNpb25DaXJjbGVGcmFnLCBjb2xsaXNpb25DaXJjbGVWZXJ0KSxcbiAgICBkZWJ1ZzogY29tcGlsZShkZWJ1Z0ZyYWcsIGRlYnVnVmVydCksXG4gICAgZmlsbDogY29tcGlsZShmaWxsRnJhZywgZmlsbFZlcnQpLFxuICAgIGZpbGxPdXRsaW5lOiBjb21waWxlKGZpbGxPdXRsaW5lRnJhZywgZmlsbE91dGxpbmVWZXJ0KSxcbiAgICBmaWxsT3V0bGluZVBhdHRlcm46IGNvbXBpbGUoZmlsbE91dGxpbmVQYXR0ZXJuRnJhZywgZmlsbE91dGxpbmVQYXR0ZXJuVmVydCksXG4gICAgZmlsbFBhdHRlcm46IGNvbXBpbGUoZmlsbFBhdHRlcm5GcmFnLCBmaWxsUGF0dGVyblZlcnQpLFxuICAgIGZpbGxFeHRydXNpb246IGNvbXBpbGUoZmlsbEV4dHJ1c2lvbkZyYWcsIGZpbGxFeHRydXNpb25WZXJ0KSxcbiAgICBmaWxsRXh0cnVzaW9uUGF0dGVybjogY29tcGlsZShmaWxsRXh0cnVzaW9uUGF0dGVybkZyYWcsIGZpbGxFeHRydXNpb25QYXR0ZXJuVmVydCksXG4gICAgaGlsbHNoYWRlUHJlcGFyZTogY29tcGlsZShoaWxsc2hhZGVQcmVwYXJlRnJhZywgaGlsbHNoYWRlUHJlcGFyZVZlcnQpLFxuICAgIGhpbGxzaGFkZTogY29tcGlsZShoaWxsc2hhZGVGcmFnLCBoaWxsc2hhZGVWZXJ0KSxcbiAgICBsaW5lOiBjb21waWxlKGxpbmVGcmFnLCBsaW5lVmVydCksXG4gICAgbGluZVBhdHRlcm46IGNvbXBpbGUobGluZVBhdHRlcm5GcmFnLCBsaW5lUGF0dGVyblZlcnQpLFxuICAgIHJhc3RlcjogY29tcGlsZShyYXN0ZXJGcmFnLCByYXN0ZXJWZXJ0KSxcbiAgICBzeW1ib2xJY29uOiBjb21waWxlKHN5bWJvbEljb25GcmFnLCBzeW1ib2xJY29uVmVydCksXG4gICAgc3ltYm9sU0RGOiBjb21waWxlKHN5bWJvbFNERkZyYWcsIHN5bWJvbFNERlZlcnQpLFxuICAgIHN5bWJvbFRleHRBbmRJY29uOiBjb21waWxlKHN5bWJvbFRleHRBbmRJY29uRnJhZywgc3ltYm9sVGV4dEFuZEljb25WZXJ0KSxcbiAgICB0ZXJyYWluUmFzdGVyOiBjb21waWxlKHRlcnJhaW5SYXN0ZXJGcmFnLCB0ZXJyYWluUmFzdGVyVmVydCksXG4gICAgdGVycmFpbkRlcHRoOiBjb21waWxlKHRlcnJhaW5EZXB0aEZyYWcsIHRlcnJhaW5EZXB0aFZlcnQpLFxuICAgIHNreWJveDogY29tcGlsZShza3lib3hGcmFnLCBza3lib3hWZXJ0KSxcbiAgICBza3lib3hHcmFkaWVudDogY29tcGlsZShza3lib3hHcmFkaWVudEZyYWcsIHNreWJveFZlcnQpLFxuICAgIHNreWJveENhcHR1cmU6IGNvbXBpbGUoc2t5Ym94Q2FwdHVyZUZyYWcsIHNreWJveENhcHR1cmVWZXJ0KSxcbiAgICBnbG9iZVJhc3RlcjogY29tcGlsZShnbG9iZUZyYWcsIGdsb2JlVmVydCksXG4gICAgZ2xvYmVBdG1vc3BoZXJlOiBjb21waWxlKGF0bW9zcGhlcmVGcmFnLCBhdG1vc3BoZXJlVmVydClcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVzZWRQcmVwcm9jZXNzb3JEZWZpbmVzKHNvdXJjZSwgZGVmaW5lcykge1xuICAgIGNvbnN0IGxpbmVzID0gc291cmNlLnJlcGxhY2UoL1xccypcXC9cXC9bXlxcbl0qXFxuL2csICdcXG4nKS5zcGxpdCgnXFxuJyk7XG4gICAgZm9yIChsZXQgbGluZSBvZiBsaW5lcykge1xuICAgICAgICBsaW5lID0gbGluZS50cmltKCk7XG4gICAgICAgIGlmIChsaW5lWzBdID09PSAnIycpIHtcbiAgICAgICAgICAgIGlmIChsaW5lLmluY2x1ZGVzKCdpZicpICYmICFsaW5lLmluY2x1ZGVzKCdlbmRpZicpKSB7XG4gICAgICAgICAgICAgICAgbGluZSA9IGxpbmUucmVwbGFjZSgnIycsICcnKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvaWZkZWZ8aWZuZGVmfGVsaWZ8aWYvZywgJycpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8hfGRlZmluZWR8XFwofFxcKXxcXHxcXHx8JiYvZywgJycpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RGVmaW5lcyA9IGxpbmUuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRlZmluZSBvZiBuZXdEZWZpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGVmaW5lcy5pbmNsdWRlcyhkZWZpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZpbmVzLnB1c2goZGVmaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gRXhwYW5kICNwcmFnbWFzIHRvICNpZmRlZnMuXG5leHBvcnQgZnVuY3Rpb24gY29tcGlsZShmcmFnbWVudFNvdXJjZSwgdmVydGV4U291cmNlKSB7XG4gICAgY29uc3QgcHJhZ21hUmVnZXggPSAvI3ByYWdtYSBtYXBib3g6IChbXFx3XSspIChbXFx3XSspIChbXFx3XSspIChbXFx3XSspL2c7XG4gICAgY29uc3QgYXR0cmlidXRlUmVnZXggPSAvYXR0cmlidXRlIChoaWdocCB8bWVkaXVtcCB8bG93cCApPyhbXFx3XSspIChbXFx3XSspL2c7XG5cbiAgICBjb25zdCBzdGF0aWNBdHRyaWJ1dGVzID0gdmVydGV4U291cmNlLm1hdGNoKGF0dHJpYnV0ZVJlZ2V4KTtcbiAgICBjb25zdCBmcmFnbWVudFByYWdtYXMgPSB7fTtcblxuICAgIGNvbnN0IHVzZWREZWZpbmVzID0gWy4uLmNvbW1vbkRlZmluZXNdO1xuICAgIHBhcnNlVXNlZFByZXByb2Nlc3NvckRlZmluZXMoZnJhZ21lbnRTb3VyY2UsIHVzZWREZWZpbmVzKTtcbiAgICBwYXJzZVVzZWRQcmVwcm9jZXNzb3JEZWZpbmVzKHZlcnRleFNvdXJjZSwgdXNlZERlZmluZXMpO1xuXG4gICAgZnJhZ21lbnRTb3VyY2UgPSBmcmFnbWVudFNvdXJjZS5yZXBsYWNlKHByYWdtYVJlZ2V4LCAobWF0Y2gsIG9wZXJhdGlvbiwgcHJlY2lzaW9uLCB0eXBlLCBuYW1lKSA9PiB7XG4gICAgICAgIGZyYWdtZW50UHJhZ21hc1tuYW1lXSA9IHRydWU7XG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdkZWZpbmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gYFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bmFtZX1cbnZhcnlpbmcgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfTtcbiNlbHNlXG51bmlmb3JtICR7cHJlY2lzaW9ufSAke3R5cGV9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgfSBlbHNlIC8qIGlmIChvcGVyYXRpb24gPT09ICdpbml0aWFsaXplJykgKi8ge1xuICAgICAgICAgICAgcmV0dXJuIGBcbiNpZmRlZiBIQVNfVU5JRk9STV91XyR7bmFtZX1cbiAgICAke3ByZWNpc2lvbn0gJHt0eXBlfSAke25hbWV9ID0gdV8ke25hbWV9O1xuI2VuZGlmXG5gO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2ZXJ0ZXhTb3VyY2UgPSB2ZXJ0ZXhTb3VyY2UucmVwbGFjZShwcmFnbWFSZWdleCwgKG1hdGNoLCBvcGVyYXRpb24sIHByZWNpc2lvbiwgdHlwZSwgbmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBhdHRyVHlwZSA9IHR5cGUgPT09ICdmbG9hdCcgPyAndmVjMicgOiAndmVjNCc7XG4gICAgICAgIGNvbnN0IHVucGFja1R5cGUgPSBuYW1lLm1hdGNoKC9jb2xvci8pID8gJ2NvbG9yJyA6IGF0dHJUeXBlO1xuXG4gICAgICAgIGlmIChmcmFnbWVudFByYWdtYXNbbmFtZV0pIHtcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdkZWZpbmUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG51bmlmb3JtIGxvd3AgZmxvYXQgdV8ke25hbWV9X3Q7XG5hdHRyaWJ1dGUgJHtwcmVjaXNpb259ICR7YXR0clR5cGV9IGFfJHtuYW1lfTtcbnZhcnlpbmcgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfTtcbiNlbHNlXG51bmlmb3JtICR7cHJlY2lzaW9ufSAke3R5cGV9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgICAgIH0gZWxzZSAvKiBpZiAob3BlcmF0aW9uID09PSAnaW5pdGlhbGl6ZScpICovIHtcbiAgICAgICAgICAgICAgICBpZiAodW5wYWNrVHlwZSA9PT0gJ3ZlYzQnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZlYzQgYXR0cmlidXRlcyBhcmUgb25seSB1c2VkIGZvciBjcm9zcy1mYWRlZCBwcm9wZXJ0aWVzLCBhbmQgYXJlIG5vdCBwYWNrZWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG4gICAgJHtuYW1lfSA9IGFfJHtuYW1lfTtcbiNlbHNlXG4gICAgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfSA9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bmFtZX1cbiAgICAke25hbWV9ID0gdW5wYWNrX21peF8ke3VucGFja1R5cGV9KGFfJHtuYW1lfSwgdV8ke25hbWV9X3QpO1xuI2Vsc2VcbiAgICAke3ByZWNpc2lvbn0gJHt0eXBlfSAke25hbWV9ID0gdV8ke25hbWV9O1xuI2VuZGlmXG5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdkZWZpbmUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG51bmlmb3JtIGxvd3AgZmxvYXQgdV8ke25hbWV9X3Q7XG5hdHRyaWJ1dGUgJHtwcmVjaXNpb259ICR7YXR0clR5cGV9IGFfJHtuYW1lfTtcbiNlbHNlXG51bmlmb3JtICR7cHJlY2lzaW9ufSAke3R5cGV9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgICAgIH0gZWxzZSAvKiBpZiAob3BlcmF0aW9uID09PSAnaW5pdGlhbGl6ZScpICovIHtcbiAgICAgICAgICAgICAgICBpZiAodW5wYWNrVHlwZSA9PT0gJ3ZlYzQnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZlYzQgYXR0cmlidXRlcyBhcmUgb25seSB1c2VkIGZvciBjcm9zcy1mYWRlZCBwcm9wZXJ0aWVzLCBhbmQgYXJlIG5vdCBwYWNrZWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG4gICAgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfSA9IGFfJHtuYW1lfTtcbiNlbHNlXG4gICAgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfSA9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgLyogKi97XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtuYW1lfVxuICAgICR7cHJlY2lzaW9ufSAke3R5cGV9ICR7bmFtZX0gPSB1bnBhY2tfbWl4XyR7dW5wYWNrVHlwZX0oYV8ke25hbWV9LCB1XyR7bmFtZX1fdCk7XG4jZWxzZVxuICAgICR7cHJlY2lzaW9ufSAke3R5cGV9ICR7bmFtZX0gPSB1XyR7bmFtZX07XG4jZW5kaWZcbmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge2ZyYWdtZW50U291cmNlLCB2ZXJ0ZXhTb3VyY2UsIHN0YXRpY0F0dHJpYnV0ZXMsIHVzZWREZWZpbmVzfTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHR5cGUgUHJvZ3JhbSBmcm9tICcuL3Byb2dyYW0uanMnO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXIuanMnO1xuaW1wb3J0IHR5cGUgSW5kZXhCdWZmZXIgZnJvbSAnLi4vZ2wvaW5kZXhfYnVmZmVyLmpzJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dC5qcyc7XG5cbmNsYXNzIFZlcnRleEFycmF5T2JqZWN0IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGJvdW5kUHJvZ3JhbTogP1Byb2dyYW08Kj47XG4gICAgYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXI6ID9WZXJ0ZXhCdWZmZXI7XG4gICAgYm91bmRQYWludFZlcnRleEJ1ZmZlcnM6IEFycmF5PFZlcnRleEJ1ZmZlcj47XG4gICAgYm91bmRJbmRleEJ1ZmZlcjogP0luZGV4QnVmZmVyO1xuICAgIGJvdW5kVmVydGV4T2Zmc2V0OiA/bnVtYmVyO1xuICAgIGJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnM6IEFycmF5PD9WZXJ0ZXhCdWZmZXI+O1xuICAgIHZhbzogYW55O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYm91bmRQcm9ncmFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5ib3VuZEluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib3VuZFZlcnRleE9mZnNldCA9IG51bGw7XG4gICAgICAgIHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycyA9IFtdO1xuICAgICAgICB0aGlzLnZhbyA9IG51bGw7XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0LFxuICAgICAgICAgcHJvZ3JhbTogUHJvZ3JhbTwqPixcbiAgICAgICAgIGxheW91dFZlcnRleEJ1ZmZlcjogVmVydGV4QnVmZmVyLFxuICAgICAgICAgcGFpbnRWZXJ0ZXhCdWZmZXJzOiBBcnJheTxWZXJ0ZXhCdWZmZXI+LFxuICAgICAgICAgaW5kZXhCdWZmZXI6ID9JbmRleEJ1ZmZlcixcbiAgICAgICAgIHZlcnRleE9mZnNldDogP251bWJlcixcbiAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXJzOiBBcnJheTw/VmVydGV4QnVmZmVyPikge1xuXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICAgICAgbGV0IHBhaW50QnVmZmVyc0RpZmZlciA9IHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoICE9PSBwYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgIXBhaW50QnVmZmVyc0RpZmZlciAmJiBpIDwgcGFpbnRWZXJ0ZXhCdWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVyc1tpXSAhPT0gcGFpbnRWZXJ0ZXhCdWZmZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgcGFpbnRCdWZmZXJzRGlmZmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgZHluYW1pY0J1ZmZlcnNEaWZmZXIgPSB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnMubGVuZ3RoICE9PSBkeW5hbWljVmVydGV4QnVmZmVycy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyAhZHluYW1pY0J1ZmZlcnNEaWZmZXIgJiYgaSA8IGR5bmFtaWNWZXJ0ZXhCdWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzW2ldICE9PSBkeW5hbWljVmVydGV4QnVmZmVyc1tpXSkge1xuICAgICAgICAgICAgICAgIGR5bmFtaWNCdWZmZXJzRGlmZmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzRnJlc2hCaW5kUmVxdWlyZWQgPSAoXG4gICAgICAgICAgICAhdGhpcy52YW8gfHxcbiAgICAgICAgICAgIHRoaXMuYm91bmRQcm9ncmFtICE9PSBwcm9ncmFtIHx8XG4gICAgICAgICAgICB0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyICE9PSBsYXlvdXRWZXJ0ZXhCdWZmZXIgfHxcbiAgICAgICAgICAgIHBhaW50QnVmZmVyc0RpZmZlciB8fFxuICAgICAgICAgICAgZHluYW1pY0J1ZmZlcnNEaWZmZXIgfHxcbiAgICAgICAgICAgIHRoaXMuYm91bmRJbmRleEJ1ZmZlciAhPT0gaW5kZXhCdWZmZXIgfHxcbiAgICAgICAgICAgIHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQgIT09IHZlcnRleE9mZnNldFxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdCB8fCBpc0ZyZXNoQmluZFJlcXVpcmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZyZXNoQmluZChwcm9ncmFtLCBsYXlvdXRWZXJ0ZXhCdWZmZXIsIHBhaW50VmVydGV4QnVmZmVycywgaW5kZXhCdWZmZXIsIHZlcnRleE9mZnNldCwgZHluYW1pY1ZlcnRleEJ1ZmZlcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZHluYW1pY0J1ZmZlciBvZiBkeW5hbWljVmVydGV4QnVmZmVycykge1xuICAgICAgICAgICAgICAgIGlmIChkeW5hbWljQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGR5bmFtaWNCdWZmZXIuYmluZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleEJ1ZmZlciAmJiBpbmRleEJ1ZmZlci5keW5hbWljRHJhdykge1xuICAgICAgICAgICAgICAgIGluZGV4QnVmZmVyLmJpbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZyZXNoQmluZChwcm9ncmFtOiBQcm9ncmFtPCo+LFxuICAgICAgICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXI6IFZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgcGFpbnRWZXJ0ZXhCdWZmZXJzOiBBcnJheTxWZXJ0ZXhCdWZmZXI+LFxuICAgICAgICAgICAgICBpbmRleEJ1ZmZlcjogP0luZGV4QnVmZmVyLFxuICAgICAgICAgICAgICB2ZXJ0ZXhPZmZzZXQ6ID9udW1iZXIsXG4gICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXJzOiBBcnJheTw/VmVydGV4QnVmZmVyPikge1xuICAgICAgICBsZXQgbnVtUHJldkF0dHJpYnV0ZXM7XG4gICAgICAgIGNvbnN0IG51bU5leHRBdHRyaWJ1dGVzID0gcHJvZ3JhbS5udW1BdHRyaWJ1dGVzO1xuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBpZiAoY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudmFvKSB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMudmFvID0gY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdC5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpO1xuICAgICAgICAgICAgY29udGV4dC5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKTtcbiAgICAgICAgICAgIG51bVByZXZBdHRyaWJ1dGVzID0gMDtcblxuICAgICAgICAgICAgLy8gc3RvcmUgdGhlIGFyZ3VtZW50cyBzbyB0aGF0IHdlIGNhbiB2ZXJpZnkgdGhlbSB3aGVuIHRoZSB2YW8gaXMgYm91bmQgYWdhaW5cbiAgICAgICAgICAgIHRoaXMuYm91bmRQcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgICAgIHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXIgPSBsYXlvdXRWZXJ0ZXhCdWZmZXI7XG4gICAgICAgICAgICB0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzID0gcGFpbnRWZXJ0ZXhCdWZmZXJzO1xuICAgICAgICAgICAgdGhpcy5ib3VuZEluZGV4QnVmZmVyID0gaW5kZXhCdWZmZXI7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVmVydGV4T2Zmc2V0ID0gdmVydGV4T2Zmc2V0O1xuICAgICAgICAgICAgdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzID0gZHluYW1pY1ZlcnRleEJ1ZmZlcnM7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG51bVByZXZBdHRyaWJ1dGVzID0gY29udGV4dC5jdXJyZW50TnVtQXR0cmlidXRlcyB8fCAwO1xuXG4gICAgICAgICAgICAvLyBEaXNhYmxlIGFsbCBhdHRyaWJ1dGVzIGZyb20gdGhlIHByZXZpb3VzIHByb2dyYW0gdGhhdCBhcmVuJ3QgdXNlZCBpblxuICAgICAgICAgICAgLy8gdGhlIG5ldyBwcm9ncmFtLiBOb3RlOiBhdHRyaWJ1dGUgaW5kaWNlcyBhcmUgKm5vdCogcHJvZ3JhbSBzcGVjaWZpYyFcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBudW1OZXh0QXR0cmlidXRlczsgaSA8IG51bVByZXZBdHRyaWJ1dGVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBXZWJHTCBicmVha3MgaWYgeW91IGRpc2FibGUgYXR0cmlidXRlIDAuXG4gICAgICAgICAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMDMwNTIzMVxuICAgICAgICAgICAgICAgIGFzc2VydChpICE9PSAwKTtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXIuZW5hYmxlQXR0cmlidXRlcyhnbCwgcHJvZ3JhbSk7XG4gICAgICAgIGxheW91dFZlcnRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgIGxheW91dFZlcnRleEJ1ZmZlci5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhnbCwgcHJvZ3JhbSwgdmVydGV4T2Zmc2V0KTtcblxuICAgICAgICBmb3IgKGNvbnN0IHZlcnRleEJ1ZmZlciBvZiBwYWludFZlcnRleEJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5lbmFibGVBdHRyaWJ1dGVzKGdsLCBwcm9ncmFtKTtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZ2wsIHByb2dyYW0sIHZlcnRleE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGR5bmFtaWNCdWZmZXIgb2YgZHluYW1pY1ZlcnRleEJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIGlmIChkeW5hbWljQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgZHluYW1pY0J1ZmZlci5lbmFibGVBdHRyaWJ1dGVzKGdsLCBwcm9ncmFtKTtcbiAgICAgICAgICAgICAgICBkeW5hbWljQnVmZmVyLmJpbmQoKTtcbiAgICAgICAgICAgICAgICBkeW5hbWljQnVmZmVyLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGdsLCBwcm9ncmFtLCB2ZXJ0ZXhPZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmN1cnJlbnROdW1BdHRyaWJ1dGVzID0gbnVtTmV4dEF0dHJpYnV0ZXM7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFvKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QuZGVsZXRlVmVydGV4QXJyYXlPRVModGhpcy52YW8pO1xuICAgICAgICAgICAgdGhpcy52YW8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZXJ0ZXhBcnJheU9iamVjdDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7bWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtMWksXG4gICAgVW5pZm9ybTFmLFxuICAgIFVuaWZvcm0yZixcbiAgICBVbmlmb3JtQ29sb3IsXG4gICAgVW5pZm9ybU1hdHJpeDRmLFxuICAgIFVuaWZvcm00ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi8uLi9kYXRhL2V4dGVudC5qcyc7XG5pbXBvcnQgTWVyY2F0b3JDb29yZGluYXRlIGZyb20gJy4uLy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZS5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3BhaW50ZXIuanMnO1xuaW1wb3J0IHR5cGUgSGlsbHNoYWRlU3R5bGVMYXllciBmcm9tICcuLi8uLi9zdHlsZS9zdHlsZV9sYXllci9oaWxsc2hhZGVfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgREVNRGF0YSBmcm9tICcuLi8uLi9kYXRhL2RlbV9kYXRhLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5cbmV4cG9ydCB0eXBlIEhpbGxzaGFkZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X2xhdHJhbmdlJzogVW5pZm9ybTJmLFxuICAgICd1X2xpZ2h0JzogVW5pZm9ybTJmLFxuICAgICd1X3NoYWRvdyc6IFVuaWZvcm1Db2xvcixcbiAgICAndV9oaWdobGlnaHQnOiBVbmlmb3JtQ29sb3IsXG4gICAgJ3VfYWNjZW50JzogVW5pZm9ybUNvbG9yXG58fTtcblxuZXhwb3J0IHR5cGUgSGlsbHNoYWRlUHJlcGFyZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X2RpbWVuc2lvbic6IFVuaWZvcm0yZixcbiAgICAndV96b29tJzogVW5pZm9ybTFmLFxuICAgICd1X3VucGFjayc6IFVuaWZvcm00ZlxufH07XG5cbmNvbnN0IGhpbGxzaGFkZVVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBIaWxsc2hhZGVVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2ltYWdlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9sYXRyYW5nZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfbGlnaHQnOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X3NoYWRvdyc6IG5ldyBVbmlmb3JtQ29sb3IoY29udGV4dCksXG4gICAgJ3VfaGlnaGxpZ2h0JzogbmV3IFVuaWZvcm1Db2xvcihjb250ZXh0KSxcbiAgICAndV9hY2NlbnQnOiBuZXcgVW5pZm9ybUNvbG9yKGNvbnRleHQpXG59KTtcblxuY29uc3QgaGlsbHNoYWRlUHJlcGFyZVVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBIaWxsc2hhZGVQcmVwYXJlVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfZGltZW5zaW9uJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV96b29tJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV91bnBhY2snOiBuZXcgVW5pZm9ybTRmKGNvbnRleHQpXG59KTtcblxuY29uc3QgaGlsbHNoYWRlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIHRpbGU6IFRpbGUsXG4gICAgbGF5ZXI6IEhpbGxzaGFkZVN0eWxlTGF5ZXIsXG4gICAgbWF0cml4OiA/RmxvYXQzMkFycmF5XG4pOiBVbmlmb3JtVmFsdWVzPEhpbGxzaGFkZVVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHNoYWRvdyA9IGxheWVyLnBhaW50LmdldChcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIik7XG4gICAgY29uc3QgaGlnaGxpZ2h0ID0gbGF5ZXIucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiKTtcbiAgICBjb25zdCBhY2NlbnQgPSBsYXllci5wYWludC5nZXQoXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCIpO1xuXG4gICAgbGV0IGF6aW11dGhhbCA9IGxheWVyLnBhaW50LmdldCgnaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb24nKSAqIChNYXRoLlBJIC8gMTgwKTtcbiAgICAvLyBtb2RpZnkgYXppbXV0aGFsIGFuZ2xlIGJ5IG1hcCByb3RhdGlvbiBpZiBsaWdodCBpcyBhbmNob3JlZCBhdCB0aGUgdmlld3BvcnRcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvcicpID09PSAndmlld3BvcnQnKSB7XG4gICAgICAgIGF6aW11dGhhbCAtPSBwYWludGVyLnRyYW5zZm9ybS5hbmdsZTtcbiAgICB9XG4gICAgY29uc3QgYWxpZ24gPSAhcGFpbnRlci5vcHRpb25zLm1vdmluZztcbiAgICByZXR1cm4ge1xuICAgICAgICAndV9tYXRyaXgnOiBtYXRyaXggPyBtYXRyaXggOiBwYWludGVyLnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KHRpbGUudGlsZUlELnRvVW53cmFwcGVkKCksIGFsaWduKSxcbiAgICAgICAgJ3VfaW1hZ2UnOiAwLFxuICAgICAgICAndV9sYXRyYW5nZSc6IGdldFRpbGVMYXRSYW5nZShwYWludGVyLCB0aWxlLnRpbGVJRCksXG4gICAgICAgICd1X2xpZ2h0JzogW2xheWVyLnBhaW50LmdldCgnaGlsbHNoYWRlLWV4YWdnZXJhdGlvbicpLCBhemltdXRoYWxdLFxuICAgICAgICAndV9zaGFkb3cnOiBzaGFkb3csXG4gICAgICAgICd1X2hpZ2hsaWdodCc6IGhpZ2hsaWdodCxcbiAgICAgICAgJ3VfYWNjZW50JzogYWNjZW50XG4gICAgfTtcbn07XG5cbmNvbnN0IGhpbGxzaGFkZVVuaWZvcm1QcmVwYXJlVmFsdWVzID0gKFxuICAgIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgZGVtOiBERU1EYXRhXG4pOiBVbmlmb3JtVmFsdWVzPEhpbGxzaGFkZVByZXBhcmVVbmlmb3Jtc1R5cGU+ID0+IHtcblxuICAgIGNvbnN0IHN0cmlkZSA9IGRlbS5zdHJpZGU7XG4gICAgY29uc3QgbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAvLyBGbGlwIHJlbmRlcmluZyBhdCB5IGF4aXMuXG4gICAgbWF0NC5vcnRobyhtYXRyaXgsIDAsIEVYVEVOVCwgLUVYVEVOVCwgMCwgMCwgMSk7XG4gICAgbWF0NC50cmFuc2xhdGUobWF0cml4LCBtYXRyaXgsIFswLCAtRVhURU5ULCAwXSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAndV9tYXRyaXgnOiBtYXRyaXgsXG4gICAgICAgICd1X2ltYWdlJzogMSxcbiAgICAgICAgJ3VfZGltZW5zaW9uJzogW3N0cmlkZSwgc3RyaWRlXSxcbiAgICAgICAgJ3Vfem9vbSc6IHRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgJ3VfdW5wYWNrJzogZGVtLnVucGFja1ZlY3RvclxuICAgIH07XG59O1xuXG5mdW5jdGlvbiBnZXRUaWxlTGF0UmFuZ2UocGFpbnRlcjogUGFpbnRlciwgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgLy8gZm9yIHNjYWxpbmcgdGhlIG1hZ25pdHVkZSBvZiBhIHBvaW50cyBzbG9wZSBieSBpdHMgbGF0aXR1ZGVcbiAgICBjb25zdCB0aWxlc0F0Wm9vbSA9IE1hdGgucG93KDIsIHRpbGVJRC5jYW5vbmljYWwueik7XG4gICAgY29uc3QgeSA9IHRpbGVJRC5jYW5vbmljYWwueTtcbiAgICByZXR1cm4gW1xuICAgICAgICBuZXcgTWVyY2F0b3JDb29yZGluYXRlKDAsIHkgLyB0aWxlc0F0Wm9vbSkudG9MbmdMYXQoKS5sYXQsXG4gICAgICAgIG5ldyBNZXJjYXRvckNvb3JkaW5hdGUoMCwgKHkgKyAxKSAvIHRpbGVzQXRab29tKS50b0xuZ0xhdCgpLmxhdF07XG59XG5cbmV4cG9ydCB7XG4gICAgaGlsbHNoYWRlVW5pZm9ybXMsXG4gICAgaGlsbHNoYWRlUHJlcGFyZVVuaWZvcm1zLFxuICAgIGhpbGxzaGFkZVVuaWZvcm1WYWx1ZXMsXG4gICAgaGlsbHNoYWRlVW5pZm9ybVByZXBhcmVWYWx1ZXNcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL3RleHR1cmUuanMnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZS5qcyc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQge1xuICAgIGhpbGxzaGFkZVVuaWZvcm1WYWx1ZXMsXG4gICAgaGlsbHNoYWRlVW5pZm9ybVByZXBhcmVWYWx1ZXNcbn0gZnJvbSAnLi9wcm9ncmFtL2hpbGxzaGFkZV9wcm9ncmFtLmpzJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXIuanMnO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZS5qcyc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIEhpbGxzaGFkZVN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvaGlsbHNoYWRlX3N0eWxlX2xheWVyLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgREVNRGF0YSBmcm9tICcuLi9kYXRhL2RlbV9kYXRhLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0hpbGxzaGFkZTtcblxuZnVuY3Rpb24gZHJhd0hpbGxzaGFkZShwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBIaWxsc2hhZGVTdHlsZUxheWVyLCB0aWxlSURzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09ICdvZmZzY3JlZW4nICYmIHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gJ3RyYW5zbHVjZW50JykgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcblxuICAgIGNvbnN0IGRlcHRoTW9kZSA9IHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KTtcbiAgICBjb25zdCBjb2xvck1vZGUgPSBwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTtcblxuICAgIC8vIFdoZW4gcmVuZGVyaW5nIHRvIHRleHR1cmUsIGNvb3JkaW5hdGVzIGFyZSBhbHJlYWR5IHNvcnRlZDogcHJpbWFyeSBieVxuICAgIC8vIHByb3h5IGlkIGFuZCBzZWNvbmRhcnkgc29ydCBpcyBieSBaLlxuICAgIGNvbnN0IHJlbmRlcmluZ1RvVGV4dHVyZSA9IHBhaW50ZXIudGVycmFpbiAmJiBwYWludGVyLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlO1xuICAgIGNvbnN0IFtzdGVuY2lsTW9kZXMsIGNvb3Jkc10gPSBwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcgJiYgIXJlbmRlcmluZ1RvVGV4dHVyZSA/XG4gICAgICAgIHBhaW50ZXIuc3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAodGlsZUlEcykgOiBbe30sIHRpbGVJRHNdO1xuXG4gICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBpZiAodGlsZS5uZWVkc0hpbGxzaGFkZVByZXBhcmUgJiYgcGFpbnRlci5yZW5kZXJQYXNzID09PSAnb2Zmc2NyZWVuJykge1xuICAgICAgICAgICAgcHJlcGFyZUhpbGxzaGFkZShwYWludGVyLCB0aWxlLCBsYXllciwgZGVwdGhNb2RlLCBTdGVuY2lsTW9kZS5kaXNhYmxlZCwgY29sb3JNb2RlKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gcmVuZGVyaW5nVG9UZXh0dXJlICYmIHBhaW50ZXIudGVycmFpbiA/XG4gICAgICAgICAgICAgICAgcGFpbnRlci50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChjb29yZCkgOiBzdGVuY2lsTW9kZXNbY29vcmQub3ZlcnNjYWxlZFpdO1xuICAgICAgICAgICAgcmVuZGVySGlsbHNoYWRlKHBhaW50ZXIsIGNvb3JkLCB0aWxlLCBsYXllciwgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodF0pO1xuXG4gICAgcGFpbnRlci5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckhpbGxzaGFkZShwYWludGVyLCBjb29yZCwgdGlsZSwgbGF5ZXIsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IGZibyA9IHRpbGUuZmJvO1xuICAgIGlmICghZmJvKSByZXR1cm47XG4gICAgcGFpbnRlci5wcmVwYXJlRHJhd1RpbGUoKTtcblxuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2hpbGxzaGFkZScpO1xuXG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZmJvLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7XG5cbiAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gaGlsbHNoYWRlVW5pZm9ybVZhbHVlcyhwYWludGVyLCB0aWxlLCBsYXllciwgcGFpbnRlci50ZXJyYWluID8gY29vcmQucHJvak1hdHJpeCA6IG51bGwpO1xuXG4gICAgcGFpbnRlci5wcmVwYXJlRHJhd1Byb2dyYW0oY29udGV4dCwgcHJvZ3JhbSwgY29vcmQudG9VbndyYXBwZWQoKSk7XG5cbiAgICBjb25zdCB7dGlsZUJvdW5kc0J1ZmZlciwgdGlsZUJvdW5kc0luZGV4QnVmZmVyLCB0aWxlQm91bmRzU2VnbWVudHN9ID0gcGFpbnRlci5nZXRUaWxlQm91bmRzQnVmZmVycyh0aWxlKTtcblxuICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICB1bmlmb3JtVmFsdWVzLCBsYXllci5pZCwgdGlsZUJvdW5kc0J1ZmZlcixcbiAgICAgICAgdGlsZUJvdW5kc0luZGV4QnVmZmVyLCB0aWxlQm91bmRzU2VnbWVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZURFTVRleHR1cmUocGFpbnRlcjogUGFpbnRlciwgdGlsZTogVGlsZSwgZGVtOiBERU1EYXRhKSB7XG4gICAgaWYgKCF0aWxlLm5lZWRzREVNVGV4dHVyZVVwbG9hZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBjb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldChmYWxzZSk7XG4gICAgY29uc3QgdGV4dHVyZVN0cmlkZSA9IGRlbS5zdHJpZGU7XG4gICAgdGlsZS5kZW1UZXh0dXJlID0gdGlsZS5kZW1UZXh0dXJlIHx8IHBhaW50ZXIuZ2V0VGlsZVRleHR1cmUodGV4dHVyZVN0cmlkZSk7XG4gICAgY29uc3QgcGl4ZWxEYXRhID0gZGVtLmdldFBpeGVscygpO1xuICAgIGlmICh0aWxlLmRlbVRleHR1cmUpIHtcbiAgICAgICAgdGlsZS5kZW1UZXh0dXJlLnVwZGF0ZShwaXhlbERhdGEsIHtwcmVtdWx0aXBseTogZmFsc2V9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aWxlLmRlbVRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCBwaXhlbERhdGEsIGdsLlJHQkEsIHtwcmVtdWx0aXBseTogZmFsc2V9KTtcbiAgICB9XG4gICAgdGlsZS5uZWVkc0RFTVRleHR1cmVVcGxvYWQgPSBmYWxzZTtcbn1cblxuLy8gaGlsbHNoYWRlIHJlbmRlcmluZyBpcyBkb25lIGluIHR3byBzdGVwcy4gdGhlIHByZXBhcmUgc3RlcCBmaXJzdCBjYWxjdWxhdGVzIHRoZSBzbG9wZSBvZiB0aGUgdGVycmFpbiBpbiB0aGUgeCBhbmQgeVxuLy8gZGlyZWN0aW9ucyBmb3IgZWFjaCBwaXhlbCwgYW5kIHNhdmVzIHRob3NlIHZhbHVlcyB0byBhIGZyYW1lYnVmZmVyIHRleHR1cmUgaW4gdGhlIHIgYW5kIGcgY2hhbm5lbHMuXG5mdW5jdGlvbiBwcmVwYXJlSGlsbHNoYWRlKHBhaW50ZXIsIHRpbGUsIGxheWVyLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBpZiAoIXRpbGUuZGVtKSByZXR1cm47XG4gICAgY29uc3QgZGVtOiBERU1EYXRhID0gdGlsZS5kZW07XG5cbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcbiAgICBwcmVwYXJlREVNVGV4dHVyZShwYWludGVyLCB0aWxlLCBkZW0pO1xuICAgIGFzc2VydCh0aWxlLmRlbVRleHR1cmUpO1xuICAgIGlmICghdGlsZS5kZW1UZXh0dXJlKSByZXR1cm47IC8vIFNpbGVuY2UgZmxvdy5cbiAgICB0aWxlLmRlbVRleHR1cmUuYmluZChnbC5ORUFSRVNULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBjb25zdCB0aWxlU2l6ZSA9IGRlbS5kaW07XG5cbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICBsZXQgZmJvID0gdGlsZS5mYm87XG4gICAgaWYgKCFmYm8pIHtcbiAgICAgICAgY29uc3QgcmVuZGVyVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIHt3aWR0aDogdGlsZVNpemUsIGhlaWdodDogdGlsZVNpemUsIGRhdGE6IG51bGx9LCBnbC5SR0JBKTtcbiAgICAgICAgcmVuZGVyVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cbiAgICAgICAgZmJvID0gdGlsZS5mYm8gPSBjb250ZXh0LmNyZWF0ZUZyYW1lYnVmZmVyKHRpbGVTaXplLCB0aWxlU2l6ZSwgdHJ1ZSk7XG4gICAgICAgIGZiby5jb2xvckF0dGFjaG1lbnQuc2V0KHJlbmRlclRleHR1cmUudGV4dHVyZSk7XG4gICAgfVxuXG4gICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHRpbGVTaXplLCB0aWxlU2l6ZV0pO1xuXG4gICAgY29uc3Qge3RpbGVCb3VuZHNCdWZmZXIsIHRpbGVCb3VuZHNJbmRleEJ1ZmZlciwgdGlsZUJvdW5kc1NlZ21lbnRzfSA9IHBhaW50ZXIuZ2V0TWVyY2F0b3JUaWxlQm91bmRzQnVmZmVycygpO1xuXG4gICAgcGFpbnRlci51c2VQcm9ncmFtKCdoaWxsc2hhZGVQcmVwYXJlJykuZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsXG4gICAgICAgIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICBoaWxsc2hhZGVVbmlmb3JtUHJlcGFyZVZhbHVlcyh0aWxlLnRpbGVJRCwgZGVtKSxcbiAgICAgICAgbGF5ZXIuaWQsIHRpbGVCb3VuZHNCdWZmZXIsXG4gICAgICAgIHRpbGVCb3VuZHNJbmRleEJ1ZmZlciwgdGlsZUJvdW5kc1NlZ21lbnRzKTtcblxuICAgIHRpbGUubmVlZHNIaWxsc2hhZGVQcmVwYXJlID0gZmFsc2U7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybU1hdHJpeDRmXG59IGZyb20gJy4uL3JlbmRlci91bmlmb3JtX2JpbmRpbmcuanMnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQuanMnO1xuaW1wb3J0IHR5cGUge1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3JlbmRlci91bmlmb3JtX2JpbmRpbmcuanMnO1xuXG5leHBvcnQgdHlwZSBUZXJyYWluUmFzdGVyVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfaW1hZ2UwJzogVW5pZm9ybTFpLFxuICAgICd1X3NraXJ0X2hlaWdodCc6IFVuaWZvcm0xZlxufH07XG5cbmNvbnN0IHRlcnJhaW5SYXN0ZXJVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogVGVycmFpblJhc3RlclVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfaW1hZ2UwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9za2lydF9oZWlnaHQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpXG59KTtcblxuY29uc3QgdGVycmFpblJhc3RlclVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgc2tpcnRIZWlnaHQ6IG51bWJlclxuKTogVW5pZm9ybVZhbHVlczxUZXJyYWluUmFzdGVyVW5pZm9ybXNUeXBlPiA9PiAoe1xuICAgICd1X21hdHJpeCc6IG1hdHJpeCxcbiAgICAndV9pbWFnZTAnOiAwLFxuICAgICd1X3NraXJ0X2hlaWdodCc6IHNraXJ0SGVpZ2h0XG59KTtcblxuZXhwb3J0IHt0ZXJyYWluUmFzdGVyVW5pZm9ybXMsIHRlcnJhaW5SYXN0ZXJVbmlmb3JtVmFsdWVzfTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7XG4gICAgVW5pZm9ybTFpLFxuICAgIFVuaWZvcm0yZixcbiAgICBVbmlmb3JtM2YsXG4gICAgVW5pZm9ybTRmLFxuICAgIFVuaWZvcm1NYXRyaXg0ZixcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybU1hdHJpeDNmXG59IGZyb20gJy4uL3JlbmRlci91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyLmpzJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi9yZW5kZXIvdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB0eXBlIHtNYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuXG5leHBvcnQgdHlwZSBHbG9iZVJhc3RlclVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfcHJval9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfZ2xvYmVfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X25vcm1hbGl6ZV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfbWVyY19tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogVW5pZm9ybTFmLFxuICAgICd1X21lcmNfY2VudGVyJzogVW5pZm9ybTJmLFxuICAgICd1X2ltYWdlMCc6IFVuaWZvcm0xaSxcbiAgICAndV9ncmlkX21hdHJpeCc6IFVuaWZvcm1NYXRyaXgzZixcbiAgICAndV9za2lydF9oZWlnaHQnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZnJ1c3R1bV90bCc6IFVuaWZvcm0zZixcbiAgICAndV9mcnVzdHVtX3RyJzogVW5pZm9ybTNmLFxuICAgICd1X2ZydXN0dW1fYnInOiBVbmlmb3JtM2YsXG4gICAgJ3VfZnJ1c3R1bV9ibCc6IFVuaWZvcm0zZixcbiAgICAndV9nbG9iZV9wb3MnOiBVbmlmb3JtM2YsXG4gICAgJ3VfZ2xvYmVfcmFkaXVzJzogVW5pZm9ybTFmLFxuICAgICd1X3ZpZXdwb3J0JzogVW5pZm9ybTJmXG58fTtcblxuZXhwb3J0IHR5cGUgQXRtb3NwaGVyZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfZnJ1c3R1bV90bCc6IFVuaWZvcm0zZixcbiAgICAndV9mcnVzdHVtX3RyJzogVW5pZm9ybTNmLFxuICAgICd1X2ZydXN0dW1fYnInOiBVbmlmb3JtM2YsXG4gICAgJ3VfZnJ1c3R1bV9ibCc6IFVuaWZvcm0zZixcbiAgICAndV9ob3Jpem9uJzogVW5pZm9ybTFmLFxuICAgICd1X3RyYW5zaXRpb24nOiBVbmlmb3JtMWYsXG4gICAgJ3VfZmFkZW91dF9yYW5nZSc6IFVuaWZvcm0xZixcbiAgICAndV9jb2xvcic6IFVuaWZvcm00ZixcbiAgICAndV9oaWdoX2NvbG9yJzogVW5pZm9ybTRmLFxuICAgICd1X3NwYWNlX2NvbG9yJzogVW5pZm9ybTRmLFxuICAgICd1X3N0YXJfaW50ZW5zaXR5JzogVW5pZm9ybTFmLFxuICAgICd1X3N0YXJfc2l6ZSc6IFVuaWZvcm0xZixcbiAgICAndV9zdGFyX2RlbnNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfdGVtcG9yYWxfb2Zmc2V0JzogVW5pZm9ybTFmLFxuICAgICd1X2hvcml6b25fYW5nbGUnOiBVbmlmb3JtMWYsXG4gICAgJ3Vfcm90YXRpb25fbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmXG58fTtcblxuY29uc3QgZ2xvYmVSYXN0ZXJVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogR2xvYmVSYXN0ZXJVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9wcm9qX21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfZ2xvYmVfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9ub3JtYWxpemVfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9tZXJjX21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9tZXJjX2NlbnRlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfaW1hZ2UwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9ncmlkX21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4M2YoY29udGV4dCksXG4gICAgJ3Vfc2tpcnRfaGVpZ2h0JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9mcnVzdHVtX3RsJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9mcnVzdHVtX3RyJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9mcnVzdHVtX2JyJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9mcnVzdHVtX2JsJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9nbG9iZV9wb3MnOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxuICAgICd1X2dsb2JlX3JhZGl1cyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3Vfdmlld3BvcnQnOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpXG59KTtcblxuY29uc3QgYXRtb3NwaGVyZVVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBBdG1vc3BoZXJlVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfZnJ1c3R1bV90bCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV90cic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV9icic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV9ibCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfaG9yaXpvbic6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfdHJhbnNpdGlvbic6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZmFkZW91dF9yYW5nZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfY29sb3InOiBuZXcgVW5pZm9ybTRmKGNvbnRleHQpLFxuICAgICd1X2hpZ2hfY29sb3InOiBuZXcgVW5pZm9ybTRmKGNvbnRleHQpLFxuICAgICd1X3NwYWNlX2NvbG9yJzogbmV3IFVuaWZvcm00Zihjb250ZXh0KSxcbiAgICAndV9zdGFyX2ludGVuc2l0eSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3Vfc3Rhcl9kZW5zaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9zdGFyX3NpemUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3RlbXBvcmFsX29mZnNldCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfaG9yaXpvbl9hbmdsZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3Vfcm90YXRpb25fbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGdsb2JlUmFzdGVyVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwcm9qTWF0cml4OiBNYXQ0LFxuICAgIGdsb2JlTWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgZ2xvYmVNZXJjYXRvck1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIG5vcm1hbGl6ZU1hdHJpeDogRmxvYXQ2NEFycmF5LFxuICAgIHpvb21UcmFuc2l0aW9uOiBudW1iZXIsXG4gICAgbWVyY0NlbnRlcjogW251bWJlciwgbnVtYmVyXSxcbiAgICBmcnVzdHVtRGlyVGw6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBmcnVzdHVtRGlyVHI6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBmcnVzdHVtRGlyQnI6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBmcnVzdHVtRGlyQmw6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBnbG9iZVBvc2l0aW9uOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZ2xvYmVSYWRpdXM6IG51bWJlcixcbiAgICB2aWV3cG9ydDogW251bWJlciwgbnVtYmVyXSxcbiAgICBza2lydEhlaWdodDogbnVtYmVyLFxuICAgIGdyaWRNYXRyaXg6ID9NYXQ0XG4pOiBVbmlmb3JtVmFsdWVzPEdsb2JlUmFzdGVyVW5pZm9ybXNUeXBlPiA9PiAoe1xuICAgICd1X3Byb2pfbWF0cml4JzogRmxvYXQzMkFycmF5LmZyb20ocHJvak1hdHJpeCksXG4gICAgJ3VfZ2xvYmVfbWF0cml4JzogZ2xvYmVNYXRyaXgsXG4gICAgJ3Vfbm9ybWFsaXplX21hdHJpeCc6IEZsb2F0MzJBcnJheS5mcm9tKG5vcm1hbGl6ZU1hdHJpeCksXG4gICAgJ3VfbWVyY19tYXRyaXgnOiBnbG9iZU1lcmNhdG9yTWF0cml4LFxuICAgICd1X3pvb21fdHJhbnNpdGlvbic6IHpvb21UcmFuc2l0aW9uLFxuICAgICd1X21lcmNfY2VudGVyJzogbWVyY0NlbnRlcixcbiAgICAndV9pbWFnZTAnOiAwLFxuICAgICd1X2ZydXN0dW1fdGwnOiBmcnVzdHVtRGlyVGwsXG4gICAgJ3VfZnJ1c3R1bV90cic6IGZydXN0dW1EaXJUcixcbiAgICAndV9mcnVzdHVtX2JyJzogZnJ1c3R1bURpckJyLFxuICAgICd1X2ZydXN0dW1fYmwnOiBmcnVzdHVtRGlyQmwsXG4gICAgJ3VfZ2xvYmVfcG9zJzogZ2xvYmVQb3NpdGlvbixcbiAgICAndV9nbG9iZV9yYWRpdXMnOiBnbG9iZVJhZGl1cyxcbiAgICAndV92aWV3cG9ydCc6IHZpZXdwb3J0LFxuICAgICd1X2dyaWRfbWF0cml4JzogZ3JpZE1hdHJpeCA/IEZsb2F0MzJBcnJheS5mcm9tKGdyaWRNYXRyaXgpIDogbmV3IEZsb2F0MzJBcnJheSg5KSxcbiAgICAndV9za2lydF9oZWlnaHQnOiBza2lydEhlaWdodFxufSk7XG5cbmNvbnN0IGF0bW9zcGhlcmVVbmlmb3JtVmFsdWVzID0gKFxuICAgIGZydXN0dW1EaXJUbDogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGZydXN0dW1EaXJUcjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGZydXN0dW1EaXJCcjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGZydXN0dW1EaXJCbDogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGhvcml6b246IG51bWJlcixcbiAgICB0cmFuc2l0aW9uVDogbnVtYmVyLFxuICAgIGZhZGVvdXRSYW5nZTogbnVtYmVyLFxuICAgIGNvbG9yOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBoaWdoQ29sb3I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHNwYWNlQ29sb3I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHN0YXJJbnRlbnNpdHk6IG51bWJlcixcbiAgICB0ZW1wb3JhbE9mZnNldDogbnVtYmVyLFxuICAgIGhvcml6b25BbmdsZTogbnVtYmVyLFxuICAgIHJvdGF0aW9uTWF0cml4OiBGbG9hdDMyQXJyYXlcbik6IFVuaWZvcm1WYWx1ZXM8QXRtb3NwaGVyZVVuaWZvcm1zVHlwZT4gPT4gKHtcbiAgICAndV9mcnVzdHVtX3RsJzogZnJ1c3R1bURpclRsLFxuICAgICd1X2ZydXN0dW1fdHInOiBmcnVzdHVtRGlyVHIsXG4gICAgJ3VfZnJ1c3R1bV9icic6IGZydXN0dW1EaXJCcixcbiAgICAndV9mcnVzdHVtX2JsJzogZnJ1c3R1bURpckJsLFxuICAgICd1X2hvcml6b24nOiBob3Jpem9uLFxuICAgICd1X3RyYW5zaXRpb24nOiB0cmFuc2l0aW9uVCxcbiAgICAndV9mYWRlb3V0X3JhbmdlJzogZmFkZW91dFJhbmdlLFxuICAgICd1X2NvbG9yJzogY29sb3IsXG4gICAgJ3VfaGlnaF9jb2xvcic6IGhpZ2hDb2xvcixcbiAgICAndV9zcGFjZV9jb2xvcic6IHNwYWNlQ29sb3IsXG4gICAgJ3Vfc3Rhcl9pbnRlbnNpdHknOiBzdGFySW50ZW5zaXR5LFxuICAgICd1X3N0YXJfc2l6ZSc6IDUuMCAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAndV9zdGFyX2RlbnNpdHknOiAwLjAsXG4gICAgJ3VfdGVtcG9yYWxfb2Zmc2V0JzogdGVtcG9yYWxPZmZzZXQsXG4gICAgJ3VfaG9yaXpvbl9hbmdsZSc6IGhvcml6b25BbmdsZSxcbiAgICAndV9yb3RhdGlvbl9tYXRyaXgnOiByb3RhdGlvbk1hdHJpeFxufSk7XG5cbmV4cG9ydCB7Z2xvYmVSYXN0ZXJVbmlmb3JtcywgZ2xvYmVSYXN0ZXJVbmlmb3JtVmFsdWVzLCBhdG1vc3BoZXJlVW5pZm9ybXMsIGF0bW9zcGhlcmVVbmlmb3JtVmFsdWVzfTtcblxuZXhwb3J0IHR5cGUgR2xvYmVEZWZpbmVzVHlwZSA9ICdQUk9KRUNUSU9OX0dMT0JFX1ZJRVcnIHwgJ0dMT0JFX1BPTEVTJyB8ICdDVVNUT01fQU5USUFMSUFTSU5HJztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZS5qcyc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlLmpzJztcbmltcG9ydCB7dGVycmFpblJhc3RlclVuaWZvcm1WYWx1ZXN9IGZyb20gJy4vdGVycmFpbl9yYXN0ZXJfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2dsb2JlUmFzdGVyVW5pZm9ybVZhbHVlc30gZnJvbSAnLi9nbG9iZV9yYXN0ZXJfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge1RlcnJhaW59IGZyb20gJy4vdGVycmFpbi5qcyc7XG5pbXBvcnQgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZS5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQge2Vhc2VDdWJpY0luT3V0fSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCB7bWVyY2F0b3JYZnJvbUxuZywgbWVyY2F0b3JZZnJvbUxhdH0gZnJvbSAnLi4vZ2VvL21lcmNhdG9yX2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9yZW5kZXIvcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCB7T3ZlcnNjYWxlZFRpbGVJRCwgQ2Fub25pY2FsVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZS5qcyc7XG5pbXBvcnQge21hdDR9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQge1xuICAgIGNhbGN1bGF0ZUdsb2JlTWVyY2F0b3JNYXRyaXgsXG4gICAgZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbixcbiAgICBnbG9iZVBvbGVNYXRyaXhGb3JUaWxlLFxuICAgIGdldEdyaWRNYXRyaXgsXG4gICAgdGlsZUNvcm5lcnNUb0JvdW5kcyxcbiAgICBnbG9iZU5vcm1hbGl6ZUVDRUYsXG4gICAgZ2xvYmVUaWxlQm91bmRzLFxuICAgIGdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nLFxuICAgIGdldExhdGl0dWRpbmFsTG9kXG59IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL2dsb2JlX3V0aWwuanMnO1xuaW1wb3J0IGV4dGVuZCBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvZXh0ZW5kLmpzJztcblxuZXhwb3J0IHtcbiAgICBkcmF3VGVycmFpblJhc3RlcixcbiAgICBkcmF3VGVycmFpbkRlcHRoXG59O1xuXG50eXBlIERFTUNoYWluID0ge1xuICAgIHN0YXJ0VGltZTogbnVtYmVyLFxuICAgIHBoYXNlOiBudW1iZXIsXG4gICAgZHVyYXRpb246IG51bWJlciwgICAvLyBJbnRlcnBvbGF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xuICAgIGZyb206IFRpbGUsXG4gICAgdG86IFRpbGUsXG4gICAgcXVldWVkOiA/VGlsZVxufTtcblxuY2xhc3MgVmVydGV4TW9ycGhpbmcge1xuICAgIG9wZXJhdGlvbnM6IHtbc3RyaW5nIHwgbnVtYmVyXTogREVNQ2hhaW4gfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm9wZXJhdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBuZXdNb3JwaGluZyhrZXk6IG51bWJlciwgZnJvbTogVGlsZSwgdG86IFRpbGUsIG5vdzogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIGFzc2VydChmcm9tLmRlbVRleHR1cmUgJiYgdG8uZGVtVGV4dHVyZSk7XG4gICAgICAgIGFzc2VydChmcm9tLnRpbGVJRC5rZXkgIT09IHRvLnRpbGVJRC5rZXkpO1xuXG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy5vcGVyYXRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBvcCA9IHRoaXMub3BlcmF0aW9uc1trZXldO1xuICAgICAgICAgICAgYXNzZXJ0KG9wLmZyb20gJiYgb3AudG8pO1xuICAgICAgICAgICAgLy8gUXVldWUgdGhlIHRhcmdldCB0aWxlIHVubGVzcyBpdCdzIGJlaW5nIG1vcnBoZWQgdG8gYWxyZWFkeVxuICAgICAgICAgICAgaWYgKG9wLnRvLnRpbGVJRC5rZXkgIT09IHRvLnRpbGVJRC5rZXkpXG4gICAgICAgICAgICAgICAgb3AucXVldWVkID0gdG87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9wZXJhdGlvbnNba2V5XSA9IHtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWU6IG5vdyxcbiAgICAgICAgICAgICAgICBwaGFzZTogMC4wLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgcXVldWVkOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TW9ycGhWYWx1ZXNGb3JQcm94eShrZXk6IG51bWJlcik6ID97ZnJvbTogVGlsZSwgdG86IFRpbGUsIHBoYXNlOiBudW1iZXJ9IHtcbiAgICAgICAgaWYgKCEoa2V5IGluIHRoaXMub3BlcmF0aW9ucykpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCBvcCA9IHRoaXMub3BlcmF0aW9uc1trZXldO1xuICAgICAgICBjb25zdCBmcm9tID0gb3AuZnJvbTtcbiAgICAgICAgY29uc3QgdG8gPSBvcC50bztcbiAgICAgICAgYXNzZXJ0KGZyb20gJiYgdG8pO1xuXG4gICAgICAgIHJldHVybiB7ZnJvbSwgdG8sIHBoYXNlOiBvcC5waGFzZX07XG4gICAgfVxuXG4gICAgdXBkYXRlKG5vdzogbnVtYmVyKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMub3BlcmF0aW9ucykge1xuICAgICAgICAgICAgY29uc3Qgb3AgPSB0aGlzLm9wZXJhdGlvbnNba2V5XTtcbiAgICAgICAgICAgIGFzc2VydChvcC5mcm9tICYmIG9wLnRvKTtcblxuICAgICAgICAgICAgb3AucGhhc2UgPSAobm93IC0gb3Auc3RhcnRUaW1lKSAvIG9wLmR1cmF0aW9uO1xuXG4gICAgICAgICAgICAvLyBTdGFydCB0aGUgcXVldWVkIG9wZXJhdGlvbiBpZiB0aGUgY3VycmVudCBvbmUgaXMgZmluaXNoZWQgb3IgdGhlIGRhdGEgaGFzIGV4cGlyZWRcbiAgICAgICAgICAgIHdoaWxlIChvcC5waGFzZSA+PSAxLjAgfHwgIXRoaXMuX3ZhbGlkT3Aob3ApKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9uZXh0T3Aob3AsIG5vdykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMub3BlcmF0aW9uc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbmV4dE9wKG9wOiBERU1DaGFpbiwgbm93OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFvcC5xdWV1ZWQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIG9wLmZyb20gPSBvcC50bztcbiAgICAgICAgb3AudG8gPSBvcC5xdWV1ZWQ7XG4gICAgICAgIG9wLnF1ZXVlZCA9IG51bGw7XG4gICAgICAgIG9wLnBoYXNlID0gMC4wO1xuICAgICAgICBvcC5zdGFydFRpbWUgPSBub3c7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIF92YWxpZE9wKG9wOiBERU1DaGFpbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gb3AuZnJvbS5oYXNEYXRhKCkgJiYgb3AudG8uaGFzRGF0YSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVtVGlsZUNoYW5nZWQocHJldjogP1RpbGUsIG5leHQ6ID9UaWxlKTogYm9vbGVhbiB7XG4gICAgaWYgKHByZXYgPT0gbnVsbCB8fCBuZXh0ID09IG51bGwpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIXByZXYuaGFzRGF0YSgpIHx8ICFuZXh0Lmhhc0RhdGEoKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChwcmV2LmRlbVRleHR1cmUgPT0gbnVsbCB8fCBuZXh0LmRlbVRleHR1cmUgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBwcmV2LnRpbGVJRC5rZXkgIT09IG5leHQudGlsZUlELmtleTtcbn1cblxuY29uc3QgdmVydGV4TW9ycGhpbmcgPSBuZXcgVmVydGV4TW9ycGhpbmcoKTtcbmNvbnN0IFNIQURFUl9ERUZBVUxUID0gMDtcbmNvbnN0IFNIQURFUl9NT1JQSElORyA9IDE7XG5jb25zdCBTSEFERVJfVEVSUkFJTl9XSVJFRlJBTUUgPSAyO1xuY29uc3QgZGVmYXVsdER1cmF0aW9uID0gMjUwO1xuXG5jb25zdCBzaGFkZXJEZWZpbmVzID0ge1xuICAgIFwiMFwiOiBudWxsLFxuICAgIFwiMVwiOiAnVEVSUkFJTl9WRVJURVhfTU9SUEhJTkcnLFxuICAgIFwiMlwiOiAnVEVSUkFJTl9XSVJFRlJBTUUnXG59O1xuXG5mdW5jdGlvbiBkcmF3VGVycmFpbkZvckdsb2JlKHBhaW50ZXI6IFBhaW50ZXIsIHRlcnJhaW46IFRlcnJhaW4sIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgdGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4sIG5vdzogbnVtYmVyKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBsZXQgcHJvZ3JhbSwgcHJvZ3JhbU1vZGU7XG4gICAgY29uc3Qgc2hvd1dpcmVmcmFtZSA9IHBhaW50ZXIub3B0aW9ucy5zaG93VGVycmFpbldpcmVmcmFtZSA/IFNIQURFUl9URVJSQUlOX1dJUkVGUkFNRSA6IFNIQURFUl9ERUZBVUxUO1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgdXNlQ3VzdG9tQW50aWFsaWFzaW5nID0gZ2xvYmVVc2VDdXN0b21BbnRpQWxpYXNpbmcocGFpbnRlciwgY29udGV4dCwgdHIpO1xuXG4gICAgY29uc3Qgc2V0U2hhZGVyTW9kZSA9IChtb2RlLCBpc1dpcmVmcmFtZSkgPT4ge1xuICAgICAgICBpZiAocHJvZ3JhbU1vZGUgPT09IG1vZGUpIHJldHVybjtcbiAgICAgICAgY29uc3QgZGVmaW5lcyA9IFtzaGFkZXJEZWZpbmVzW21vZGVdLCAnUFJPSkVDVElPTl9HTE9CRV9WSUVXJ107XG5cbiAgICAgICAgaWYgKHVzZUN1c3RvbUFudGlhbGlhc2luZykgZGVmaW5lcy5wdXNoKCdDVVNUT01fQU5USUFMSUFTSU5HJyk7XG4gICAgICAgIGlmIChpc1dpcmVmcmFtZSkgZGVmaW5lcy5wdXNoKHNoYWRlckRlZmluZXNbc2hvd1dpcmVmcmFtZV0pO1xuXG4gICAgICAgIHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2dsb2JlUmFzdGVyJywgbnVsbCwgZGVmaW5lcyk7XG4gICAgICAgIHByb2dyYW1Nb2RlID0gbW9kZTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG4gICAgY29uc3QgZGVwdGhNb2RlID0gbmV3IERlcHRoTW9kZShnbC5MRVFVQUwsIERlcHRoTW9kZS5SZWFkV3JpdGUsIHBhaW50ZXIuZGVwdGhSYW5nZUZvcjNEKTtcbiAgICB2ZXJ0ZXhNb3JwaGluZy51cGRhdGUobm93KTtcbiAgICBjb25zdCBnbG9iZU1lcmNhdG9yTWF0cml4ID0gY2FsY3VsYXRlR2xvYmVNZXJjYXRvck1hdHJpeCh0cik7XG4gICAgY29uc3QgbWVyY2F0b3JDZW50ZXIgPSBbbWVyY2F0b3JYZnJvbUxuZyh0ci5jZW50ZXIubG5nKSwgbWVyY2F0b3JZZnJvbUxhdCh0ci5jZW50ZXIubGF0KV07XG4gICAgY29uc3QgYmF0Y2hlcyA9IHNob3dXaXJlZnJhbWUgPyBbZmFsc2UsIHRydWVdIDogW2ZhbHNlXTtcbiAgICBjb25zdCBzaGFyZWRCdWZmZXJzID0gcGFpbnRlci5nbG9iZVNoYXJlZEJ1ZmZlcnM7XG4gICAgY29uc3Qgdmlld3BvcnQgPSBbdHIud2lkdGggKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sIHRyLmhlaWdodCAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpb107XG4gICAgY29uc3QgZ2xvYmVNYXRyaXggPSBGbG9hdDMyQXJyYXkuZnJvbSh0ci5nbG9iZU1hdHJpeCk7XG4gICAgY29uc3QgZWxldmF0aW9uT3B0aW9ucyA9IHt1c2VEZW5vcm1hbGl6ZWRVcFZlY3RvclNjYWxlOiB0cnVlfTtcblxuICAgIGJhdGNoZXMuZm9yRWFjaChpc1dpcmVmcmFtZSA9PiB7XG4gICAgICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IHNraXJ0SGVpZ2h0VmFsdWUgPSBza2lydEhlaWdodCh0ci56b29tKSAqIHRlcnJhaW4uZXhhZ2dlcmF0aW9uKCk7XG5cbiAgICAgICAgLy8gVGhpcyBjb2RlIGFzc3VtZXMgdGhlIHJlbmRlcmluZyBpcyBiYXRjaGVkIGludG8gbWVzaCB0ZXJyYWluIGFuZCB0aGVuIHdpcmVmcmFtZVxuICAgICAgICAvLyB0ZXJyYWluIChpZiBhcHBsaWNhYmxlKSBzbyB0aGF0IHRoaXMgaXMgZW5vdWdoIHRvIGVuc3VyZSB0aGUgY29ycmVjdCBwcm9ncmFtIGlzXG4gICAgICAgIC8vIHNldCB3aGVuIHdlIHN3aXRjaCBmcm9tIG9uZSB0byB0aGUgb3RoZXIuXG4gICAgICAgIHByb2dyYW1Nb2RlID0gLTE7XG5cbiAgICAgICAgY29uc3QgcHJpbWl0aXZlID0gaXNXaXJlZnJhbWUgPyBnbC5MSU5FUyA6IGdsLlRSSUFOR0xFUztcblxuICAgICAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gU3RlbmNpbE1vZGUuZGlzYWJsZWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHByZXZEZW1UaWxlID0gdGVycmFpbi5wcmV2VGVycmFpblRpbGVGb3JUaWxlW2Nvb3JkLmtleV07XG4gICAgICAgICAgICBjb25zdCBuZXh0RGVtVGlsZSA9IHRlcnJhaW4udGVycmFpblRpbGVGb3JUaWxlW2Nvb3JkLmtleV07XG5cbiAgICAgICAgICAgIGlmIChkZW1UaWxlQ2hhbmdlZChwcmV2RGVtVGlsZSwgbmV4dERlbVRpbGUpKSB7XG4gICAgICAgICAgICAgICAgdmVydGV4TW9ycGhpbmcubmV3TW9ycGhpbmcoY29vcmQua2V5LCBwcmV2RGVtVGlsZSwgbmV4dERlbVRpbGUsIG5vdywgZGVmYXVsdER1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQmluZCB0aGUgbWFpbiBkcmFwZWQgdGV4dHVyZVxuICAgICAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgICAgICB0aWxlLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgICAgICAgICBjb25zdCBtb3JwaCA9IHZlcnRleE1vcnBoaW5nLmdldE1vcnBoVmFsdWVzRm9yUHJveHkoY29vcmQua2V5KTtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRlck1vZGUgPSBtb3JwaCA/IFNIQURFUl9NT1JQSElORyA6IFNIQURFUl9ERUZBVUxUO1xuXG4gICAgICAgICAgICBpZiAobW9ycGgpIHtcbiAgICAgICAgICAgICAgICBleHRlbmQoZWxldmF0aW9uT3B0aW9ucywge21vcnBoaW5nOiB7c3JjRGVtVGlsZTogbW9ycGguZnJvbSwgZHN0RGVtVGlsZTogbW9ycGgudG8sIHBoYXNlOiBlYXNlQ3ViaWNJbk91dChtb3JwaC5waGFzZSl9fSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbGVCb3VuZHMgPSB0aWxlQ29ybmVyc1RvQm91bmRzKGNvb3JkLmNhbm9uaWNhbCk7XG4gICAgICAgICAgICBjb25zdCBsYXRpdHVkaW5hbExvZCA9IGdldExhdGl0dWRpbmFsTG9kKHRpbGVCb3VuZHMuZ2V0Q2VudGVyKCkubGF0KTtcbiAgICAgICAgICAgIGNvbnN0IGdyaWRNYXRyaXggPSBnZXRHcmlkTWF0cml4KGNvb3JkLmNhbm9uaWNhbCwgdGlsZUJvdW5kcywgbGF0aXR1ZGluYWxMb2QsIHRyLndvcmxkU2l6ZSAvIHRyLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsKTtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZU1hdHJpeCA9IGdsb2JlTm9ybWFsaXplRUNFRihnbG9iZVRpbGVCb3VuZHMoY29vcmQuY2Fub25pY2FsKSk7XG4gICAgICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gZ2xvYmVSYXN0ZXJVbmlmb3JtVmFsdWVzKFxuICAgICAgICAgICAgICAgIHRyLnByb2pNYXRyaXgsIGdsb2JlTWF0cml4LCBnbG9iZU1lcmNhdG9yTWF0cml4LCBub3JtYWxpemVNYXRyaXgsIGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odHIuem9vbSksXG4gICAgICAgICAgICAgICAgbWVyY2F0b3JDZW50ZXIsIHRyLmZydXN0dW1Db3JuZXJzLlRMLCB0ci5mcnVzdHVtQ29ybmVycy5UUiwgdHIuZnJ1c3R1bUNvcm5lcnMuQlIsXG4gICAgICAgICAgICAgICAgdHIuZnJ1c3R1bUNvcm5lcnMuQkwsIHRyLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsIHRyLmdsb2JlUmFkaXVzLCB2aWV3cG9ydCwgc2tpcnRIZWlnaHRWYWx1ZSwgZ3JpZE1hdHJpeCk7XG5cbiAgICAgICAgICAgIHNldFNoYWRlck1vZGUoc2hhZGVyTW9kZSwgaXNXaXJlZnJhbWUpO1xuXG4gICAgICAgICAgICB0ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyh0aWxlLCBwcm9ncmFtLCBlbGV2YXRpb25PcHRpb25zKTtcblxuICAgICAgICAgICAgcGFpbnRlci5wcmVwYXJlRHJhd1Byb2dyYW0oY29udGV4dCwgcHJvZ3JhbSwgY29vcmQudG9VbndyYXBwZWQoKSk7XG5cbiAgICAgICAgICAgIGlmIChzaGFyZWRCdWZmZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2J1ZmZlciwgaW5kZXhCdWZmZXIsIHNlZ21lbnRzXSA9IGlzV2lyZWZyYW1lID9cbiAgICAgICAgICAgICAgICAgICAgc2hhcmVkQnVmZmVycy5nZXRXaXJlZmFtZUJ1ZmZlcnMocGFpbnRlci5jb250ZXh0LCBsYXRpdHVkaW5hbExvZCkgOlxuICAgICAgICAgICAgICAgICAgICBzaGFyZWRCdWZmZXJzLmdldEdyaWRCdWZmZXJzKGxhdGl0dWRpbmFsTG9kLCBza2lydEhlaWdodFZhbHVlICE9PSAwKTtcblxuICAgICAgICAgICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBwcmltaXRpdmUsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmJhY2tDQ1csXG4gICAgICAgICAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMsIFwiZ2xvYmVfcmFzdGVyXCIsIGJ1ZmZlciwgaW5kZXhCdWZmZXIsIHNlZ21lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUmVuZGVyIHRoZSBwb2xlcy5cbiAgICBpZiAoc2hhcmVkQnVmZmVycykge1xuICAgICAgICBjb25zdCBkZWZpbmVzID0gWydHTE9CRV9QT0xFUycsICdQUk9KRUNUSU9OX0dMT0JFX1ZJRVcnXTtcbiAgICAgICAgaWYgKHVzZUN1c3RvbUFudGlhbGlhc2luZykgZGVmaW5lcy5wdXNoKCdDVVNUT01fQU5USUFMSUFTSU5HJyk7XG5cbiAgICAgICAgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnZ2xvYmVSYXN0ZXInLCBudWxsLCBkZWZpbmVzKTtcbiAgICAgICAgZm9yIChjb25zdCBjb29yZCBvZiB0aWxlSURzKSB7XG4gICAgICAgICAgICAvLyBGaWxsIHBvbGVzIGJ5IGV4dHJhcG9sYXRpbmcgYWRqYWNlbnQgYm9yZGVyIHRpbGVzXG4gICAgICAgICAgICBjb25zdCB7eCwgeSwgen0gPSBjb29yZC5jYW5vbmljYWw7XG4gICAgICAgICAgICBjb25zdCB0b3BDYXAgPSB5ID09PSAwO1xuICAgICAgICAgICAgY29uc3QgYm90dG9tQ2FwID0geSA9PT0gKDEgPDwgeikgLSAxO1xuXG4gICAgICAgICAgICBjb25zdCBbbm9ydGhQb2xlQnVmZmVyLCBzb3V0aFBvbGVCdWZmZXIsIGluZGV4QnVmZmVyLCBzZWdtZW50XSA9IHNoYXJlZEJ1ZmZlcnMuZ2V0UG9sZUJ1ZmZlcnMoeik7XG5cbiAgICAgICAgICAgIGlmIChzZWdtZW50ICYmICh0b3BDYXAgfHwgYm90dG9tQ2FwKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcblxuICAgICAgICAgICAgICAgIC8vIEJpbmQgdGhlIG1haW4gZHJhcGVkIHRleHR1cmVcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgICAgICB0aWxlLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHBvbGVNYXRyaXggPSBnbG9iZVBvbGVNYXRyaXhGb3JUaWxlKHosIHgsIHRyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBub3JtYWxpemVNYXRyaXggPSBnbG9iZU5vcm1hbGl6ZUVDRUYoZ2xvYmVUaWxlQm91bmRzKGNvb3JkLmNhbm9uaWNhbCkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZHJhd1BvbGUgPSAocHJvZ3JhbSwgdmVydGV4QnVmZmVyKSA9PiBwcm9ncmFtLmRyYXcoXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBTdGVuY2lsTW9kZS5kaXNhYmxlZCwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgIGdsb2JlUmFzdGVyVW5pZm9ybVZhbHVlcyh0ci5wcm9qTWF0cml4LCBwb2xlTWF0cml4LCBwb2xlTWF0cml4LCBub3JtYWxpemVNYXRyaXgsIDAuMCwgbWVyY2F0b3JDZW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIHRyLmZydXN0dW1Db3JuZXJzLlRMLCB0ci5mcnVzdHVtQ29ybmVycy5UUiwgdHIuZnJ1c3R1bUNvcm5lcnMuQlIsIHRyLmZydXN0dW1Db3JuZXJzLkJMLFxuICAgICAgICAgICAgICAgICAgICB0ci5nbG9iZUNlbnRlckluVmlld1NwYWNlLCB0ci5nbG9iZVJhZGl1cywgdmlld3BvcnQsIDApLCBcImdsb2JlX3BvbGVfcmFzdGVyXCIsIHZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhCdWZmZXIsIHNlZ21lbnQpO1xuXG4gICAgICAgICAgICAgICAgdGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcodGlsZSwgcHJvZ3JhbSwgZWxldmF0aW9uT3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICBwYWludGVyLnByZXBhcmVEcmF3UHJvZ3JhbShjb250ZXh0LCBwcm9ncmFtLCBjb29yZC50b1Vud3JhcHBlZCgpKTtcblxuICAgICAgICAgICAgICAgIGlmICh0b3BDYXApIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd1BvbGUocHJvZ3JhbSwgbm9ydGhQb2xlQnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJvdHRvbUNhcCkge1xuICAgICAgICAgICAgICAgICAgICBwb2xlTWF0cml4ID0gbWF0NC5zY2FsZShtYXQ0LmNyZWF0ZSgpLCBwb2xlTWF0cml4LCBbMSwgLTEsIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgZHJhd1BvbGUocHJvZ3JhbSwgc291dGhQb2xlQnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdUZXJyYWluUmFzdGVyKHBhaW50ZXI6IFBhaW50ZXIsIHRlcnJhaW46IFRlcnJhaW4sIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgdGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4sIG5vdzogbnVtYmVyKSB7XG4gICAgaWYgKHBhaW50ZXIudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICBkcmF3VGVycmFpbkZvckdsb2JlKHBhaW50ZXIsIHRlcnJhaW4sIHNvdXJjZUNhY2hlLCB0aWxlSURzLCBub3cpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBsZXQgcHJvZ3JhbSwgcHJvZ3JhbU1vZGU7XG4gICAgICAgIGNvbnN0IHNob3dXaXJlZnJhbWUgPSBwYWludGVyLm9wdGlvbnMuc2hvd1RlcnJhaW5XaXJlZnJhbWUgPyBTSEFERVJfVEVSUkFJTl9XSVJFRlJBTUUgOiBTSEFERVJfREVGQVVMVDtcblxuICAgICAgICBjb25zdCBzZXRTaGFkZXJNb2RlID0gKG1vZGUsIGlzV2lyZWZyYW1lKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvZ3JhbU1vZGUgPT09IG1vZGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgbW9kZXMgPSBbc2hhZGVyRGVmaW5lc1ttb2RlXV07XG4gICAgICAgICAgICBpZiAoaXNXaXJlZnJhbWUpIG1vZGVzLnB1c2goc2hhZGVyRGVmaW5lc1tzaG93V2lyZWZyYW1lXSk7XG4gICAgICAgICAgICBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCd0ZXJyYWluUmFzdGVyJywgbnVsbCwgbW9kZXMpO1xuICAgICAgICAgICAgcHJvZ3JhbU1vZGUgPSBtb2RlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNvbG9yTW9kZSA9IHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO1xuICAgICAgICBjb25zdCBkZXB0aE1vZGUgPSBuZXcgRGVwdGhNb2RlKGdsLkxFUVVBTCwgRGVwdGhNb2RlLlJlYWRXcml0ZSwgcGFpbnRlci5kZXB0aFJhbmdlRm9yM0QpO1xuICAgICAgICB2ZXJ0ZXhNb3JwaGluZy51cGRhdGUobm93KTtcbiAgICAgICAgY29uc3QgdHIgPSBwYWludGVyLnRyYW5zZm9ybTtcbiAgICAgICAgY29uc3Qgc2tpcnQgPSBza2lydEhlaWdodCh0ci56b29tKSAqIHRlcnJhaW4uZXhhZ2dlcmF0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgYmF0Y2hlcyA9IHNob3dXaXJlZnJhbWUgPyBbZmFsc2UsIHRydWVdIDogW2ZhbHNlXTtcblxuICAgICAgICBiYXRjaGVzLmZvckVhY2goaXNXaXJlZnJhbWUgPT4ge1xuICAgICAgICAgICAgLy8gVGhpcyBjb2RlIGFzc3VtZXMgdGhlIHJlbmRlcmluZyBpcyBiYXRjaGVkIGludG8gbWVzaCB0ZXJyYWluIGFuZCB0aGVuIHdpcmVmcmFtZVxuICAgICAgICAgICAgLy8gdGVycmFpbiAoaWYgYXBwbGljYWJsZSkgc28gdGhhdCB0aGlzIGlzIGVub3VnaCB0byBlbnN1cmUgdGhlIGNvcnJlY3QgcHJvZ3JhbSBpc1xuICAgICAgICAgICAgLy8gc2V0IHdoZW4gd2Ugc3dpdGNoIGZyb20gb25lIHRvIHRoZSBvdGhlci5cbiAgICAgICAgICAgIHByb2dyYW1Nb2RlID0gLTE7XG5cbiAgICAgICAgICAgIGNvbnN0IHByaW1pdGl2ZSA9IGlzV2lyZWZyYW1lID8gZ2wuTElORVMgOiBnbC5UUklBTkdMRVM7XG4gICAgICAgICAgICBjb25zdCBbYnVmZmVyLCBzZWdtZW50c10gPSBpc1dpcmVmcmFtZSA/IHRlcnJhaW4uZ2V0V2lyZWZhbWVCdWZmZXIoKSA6IFt0ZXJyYWluLmdyaWRJbmRleEJ1ZmZlciwgdGVycmFpbi5ncmlkU2VnbWVudHNdO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RlbmNpbE1vZGUgPSBTdGVuY2lsTW9kZS5kaXNhYmxlZDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZEZW1UaWxlID0gdGVycmFpbi5wcmV2VGVycmFpblRpbGVGb3JUaWxlW2Nvb3JkLmtleV07XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dERlbVRpbGUgPSB0ZXJyYWluLnRlcnJhaW5UaWxlRm9yVGlsZVtjb29yZC5rZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRlbVRpbGVDaGFuZ2VkKHByZXZEZW1UaWxlLCBuZXh0RGVtVGlsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGV4TW9ycGhpbmcubmV3TW9ycGhpbmcoY29vcmQua2V5LCBwcmV2RGVtVGlsZSwgbmV4dERlbVRpbGUsIG5vdywgZGVmYXVsdER1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBCaW5kIHRoZSBtYWluIGRyYXBlZCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFLCBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9ycGggPSB2ZXJ0ZXhNb3JwaGluZy5nZXRNb3JwaFZhbHVlc0ZvclByb3h5KGNvb3JkLmtleSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhZGVyTW9kZSA9IG1vcnBoID8gU0hBREVSX01PUlBISU5HIDogU0hBREVSX0RFRkFVTFQ7XG4gICAgICAgICAgICAgICAgbGV0IGVsZXZhdGlvbk9wdGlvbnM7XG5cbiAgICAgICAgICAgICAgICBpZiAobW9ycGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxldmF0aW9uT3B0aW9ucyA9IHttb3JwaGluZzoge3NyY0RlbVRpbGU6IG1vcnBoLmZyb20sIGRzdERlbVRpbGU6IG1vcnBoLnRvLCBwaGFzZTogZWFzZUN1YmljSW5PdXQobW9ycGgucGhhc2UpfX07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdW5pZm9ybVZhbHVlcyA9IHRlcnJhaW5SYXN0ZXJVbmlmb3JtVmFsdWVzKGNvb3JkLnByb2pNYXRyaXgsIGlzRWRnZVRpbGUoY29vcmQuY2Fub25pY2FsLCB0ci5yZW5kZXJXb3JsZENvcGllcykgPyBza2lydCAvIDEwIDogc2tpcnQpO1xuICAgICAgICAgICAgICAgIHNldFNoYWRlck1vZGUoc2hhZGVyTW9kZSwgaXNXaXJlZnJhbWUpO1xuXG4gICAgICAgICAgICAgICAgdGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcodGlsZSwgcHJvZ3JhbSwgZWxldmF0aW9uT3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICBwYWludGVyLnByZXBhcmVEcmF3UHJvZ3JhbShjb250ZXh0LCBwcm9ncmFtLCBjb29yZC50b1Vud3JhcHBlZCgpKTtcblxuICAgICAgICAgICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBwcmltaXRpdmUsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmJhY2tDQ1csXG4gICAgICAgICAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMsIFwidGVycmFpbl9yYXN0ZXJcIiwgdGVycmFpbi5ncmlkQnVmZmVyLCBidWZmZXIsIHNlZ21lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3VGVycmFpbkRlcHRoKHBhaW50ZXI6IFBhaW50ZXIsIHRlcnJhaW46IFRlcnJhaW4sIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgdGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBpZiAocGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhc3NlcnQocGFpbnRlci5yZW5kZXJQYXNzID09PSAnb2Zmc2NyZWVuJyk7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgIGNvbnRleHQuY2xlYXIoe2RlcHRoOiAxfSk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgndGVycmFpbkRlcHRoJyk7XG4gICAgY29uc3QgZGVwdGhNb2RlID0gbmV3IERlcHRoTW9kZShnbC5MRVNTLCBEZXB0aE1vZGUuUmVhZFdyaXRlLCBwYWludGVyLmRlcHRoUmFuZ2VGb3IzRCk7XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gdGVycmFpblJhc3RlclVuaWZvcm1WYWx1ZXMoY29vcmQucHJvak1hdHJpeCwgMCk7XG4gICAgICAgIHRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHRpbGUsIHByb2dyYW0pO1xuXG4gICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSwgU3RlbmNpbE1vZGUuZGlzYWJsZWQsIENvbG9yTW9kZS51bmJsZW5kZWQsIEN1bGxGYWNlTW9kZS5iYWNrQ0NXLFxuICAgICAgICAgICAgdW5pZm9ybVZhbHVlcywgXCJ0ZXJyYWluX2RlcHRoXCIsIHRlcnJhaW4uZ3JpZEJ1ZmZlciwgdGVycmFpbi5ncmlkSW5kZXhCdWZmZXIsIHRlcnJhaW4uZ3JpZE5vU2tpcnRTZWdtZW50cyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBza2lydEhlaWdodCh6b29tKSB7XG4gICAgLy8gU2tpcnQgaGVpZ2h0IGNhbGN1bGF0aW9uIGlzIGhldXJpc3RpYzogcHJvdmlkZWQgdmFsdWUgaGlkZXNcbiAgICAvLyBzZWFtcyBiZXR3ZWVuIHRpbGVzIGFuZCBpdCBpcyBub3QgdG9vIGxhcmdlOiA5IGF0IHpvb20gMjIsIH4yMDAwMG0gYXQgem9vbSAwLlxuICAgIHJldHVybiA2ICogTWF0aC5wb3coMS41LCAyMiAtIHpvb20pO1xufVxuXG5mdW5jdGlvbiBpc0VkZ2VUaWxlKGNpZDogQ2Fub25pY2FsVGlsZUlELCByZW5kZXJXb3JsZENvcGllczogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG51bVRpbGVzID0gMSA8PCBjaWQuejtcbiAgICByZXR1cm4gKCFyZW5kZXJXb3JsZENvcGllcyAmJiAoY2lkLnggPT09IDAgfHwgY2lkLnggPT09IG51bVRpbGVzIC0gMSkpIHx8IGNpZC55ID09PSAwIHx8IGNpZC55ID09PSBudW1UaWxlcyAtIDE7XG59XG5cbmV4cG9ydCB7XG4gICAgVmVydGV4TW9ycGhpbmdcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1VuaWZvcm1NYXRyaXg0Zn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuXG5leHBvcnQgdHlwZSBDbGlwcGluZ01hc2tVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZlxufH07XG5cbmNvbnN0IGNsaXBwaW5nTWFza1VuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBDbGlwcGluZ01hc2tVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpXG59KTtcblxuY29uc3QgY2xpcHBpbmdNYXNrVW5pZm9ybVZhbHVlcyA9IChtYXRyaXg6IEZsb2F0MzJBcnJheSk6IFVuaWZvcm1WYWx1ZXM8Q2xpcHBpbmdNYXNrVW5pZm9ybXNUeXBlPiA9PiAoe1xuICAgICd1X21hdHJpeCc6IG1hdHJpeFxufSk7XG5cbmV4cG9ydCB7Y2xpcHBpbmdNYXNrVW5pZm9ybXMsIGNsaXBwaW5nTWFza1VuaWZvcm1WYWx1ZXN9O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZS5qcyc7XG5pbXBvcnQge2NsYW1wfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcblxuZXhwb3J0IHR5cGUgUmFzdGVyRmFkZSA9IHt8XG4gICAgb3BhY2l0eTogbnVtYmVyLFxuICAgIG1peDogbnVtYmVyLFxufH07XG5cbmZ1bmN0aW9uIHJhc3RlckZhZGUodGlsZTogVGlsZSwgcGFyZW50VGlsZTogP1RpbGUsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sIGZhZGVEdXJhdGlvbjogbnVtYmVyKTogUmFzdGVyRmFkZSB7XG4gICAgaWYgKGZhZGVEdXJhdGlvbiA+IDApIHtcbiAgICAgICAgY29uc3Qgbm93ID0gYnJvd3Nlci5ub3coKTtcbiAgICAgICAgY29uc3Qgc2luY2VUaWxlID0gKG5vdyAtIHRpbGUudGltZUFkZGVkKSAvIGZhZGVEdXJhdGlvbjtcbiAgICAgICAgY29uc3Qgc2luY2VQYXJlbnQgPSBwYXJlbnRUaWxlID8gKG5vdyAtIHBhcmVudFRpbGUudGltZUFkZGVkKSAvIGZhZGVEdXJhdGlvbiA6IC0xO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpO1xuICAgICAgICBjb25zdCBpZGVhbFogPSB0cmFuc2Zvcm0uY292ZXJpbmdab29tTGV2ZWwoe1xuICAgICAgICAgICAgdGlsZVNpemU6IHNvdXJjZS50aWxlU2l6ZSxcbiAgICAgICAgICAgIHJvdW5kWm9vbTogc291cmNlLnJvdW5kWm9vbVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiBubyBwYXJlbnQgb3IgcGFyZW50IGlzIG9sZGVyLCBmYWRlIGluOyBpZiBwYXJlbnQgaXMgeW91bmdlciwgZmFkZSBvdXRcbiAgICAgICAgY29uc3QgZmFkZUluID0gIXBhcmVudFRpbGUgfHwgTWF0aC5hYnMocGFyZW50VGlsZS50aWxlSUQub3ZlcnNjYWxlZFogLSBpZGVhbFopID4gTWF0aC5hYnModGlsZS50aWxlSUQub3ZlcnNjYWxlZFogLSBpZGVhbFopO1xuXG4gICAgICAgIGNvbnN0IGNoaWxkT3BhY2l0eSA9IChmYWRlSW4gJiYgdGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbikgPyAxIDogY2xhbXAoZmFkZUluID8gc2luY2VUaWxlIDogMSAtIHNpbmNlUGFyZW50LCAwLCAxKTtcblxuICAgICAgICAvLyB3ZSBkb24ndCBjcm9zc2ZhZGUgdGlsZXMgdGhhdCB3ZXJlIGp1c3QgcmVmcmVzaGVkIHVwb24gZXhwaXJpbmc6XG4gICAgICAgIC8vIG9uY2UgdGhleSdyZSBvbGQgZW5vdWdoIHRvIHBhc3MgdGhlIGNyb3NzZmFkaW5nIHRocmVzaG9sZFxuICAgICAgICAvLyAoZmFkZUR1cmF0aW9uKSwgdW5zZXQgdGhlIGByZWZyZXNoZWRVcG9uRXhwaXJhdGlvbmAgZmxhZyBzbyB3ZSBkb24ndFxuICAgICAgICAvLyBpbmNvcnJlY3RseSBmYWlsIHRvIGNyb3NzZmFkZSB0aGVtIHdoZW4gem9vbWluZ1xuICAgICAgICBpZiAodGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiAmJiBzaW5jZVRpbGUgPj0gMSkgdGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChwYXJlbnRUaWxlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgbWl4OiAxIC0gY2hpbGRPcGFjaXR5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBjaGlsZE9wYWNpdHksXG4gICAgICAgICAgICAgICAgbWl4OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICBtaXg6IDBcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJhc3RlckZhZGU7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZS5qcyc7XG5pbXBvcnQge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCBwb3NBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvcG9zX2F0dHJpYnV0ZXMuanMnO1xuaW1wb3J0IHtUcmlhbmdsZUluZGV4QXJyYXksIExpbmVJbmRleEFycmF5LCBQb3NBcnJheX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5pbXBvcnQgU2VnbWVudFZlY3RvciBmcm9tICcuLi9kYXRhL3NlZ21lbnQuanMnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUuanMnO1xuaW1wb3J0IFByb2dyYW0gZnJvbSAnLi4vcmVuZGVyL3Byb2dyYW0uanMnO1xuaW1wb3J0IHtVbmlmb3JtMWksIFVuaWZvcm0xZiwgVW5pZm9ybTJmLCBVbmlmb3JtM2YsIFVuaWZvcm00ZiwgVW5pZm9ybU1hdHJpeDRmfSBmcm9tICcuLi9yZW5kZXIvdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB7cHJlcGFyZURFTVRleHR1cmV9IGZyb20gJy4uL3JlbmRlci9kcmF3X2hpbGxzaGFkZS5qcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50LmpzJztcbmltcG9ydCB7Y2xhbXAsIHdhcm5PbmNlfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHt2ZWMzLCBtYXQ0LCB2ZWM0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IGdldFdvcmtlclBvb2wgZnJvbSAnLi4vdXRpbC9nbG9iYWxfd29ya2VyX3Bvb2wuanMnO1xuaW1wb3J0IERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCBHZW9KU09OU291cmNlIGZyb20gJy4uL3NvdXJjZS9nZW9qc29uX3NvdXJjZS5qcyc7XG5pbXBvcnQgSW1hZ2VTb3VyY2UgZnJvbSAnLi4vc291cmNlL2ltYWdlX3NvdXJjZS5qcyc7XG5pbXBvcnQgUmFzdGVyREVNVGlsZVNvdXJjZSBmcm9tICcuLi9zb3VyY2UvcmFzdGVyX2RlbV90aWxlX3NvdXJjZS5qcyc7XG5pbXBvcnQgUmFzdGVyVGlsZVNvdXJjZSBmcm9tICcuLi9zb3VyY2UvcmFzdGVyX3RpbGVfc291cmNlLmpzJztcbmltcG9ydCBWZWN0b3JUaWxlU291cmNlIGZyb20gJy4uL3NvdXJjZS92ZWN0b3JfdGlsZV9zb3VyY2UuanMnO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvci5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrLmpzJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUuanMnO1xuaW1wb3J0IHtEZXB0aFN0ZW5jaWxBdHRhY2htZW50fSBmcm9tICcuLi9nbC92YWx1ZS5qcyc7XG5pbXBvcnQge2RyYXdUZXJyYWluUmFzdGVyLCBkcmF3VGVycmFpbkRlcHRofSBmcm9tICcuL2RyYXdfdGVycmFpbl9yYXN0ZXIuanMnO1xuaW1wb3J0IHR5cGUgUmFzdGVyU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9yYXN0ZXJfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgQ3VzdG9tU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9jdXN0b21fc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgTGluZVN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvbGluZV9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQge0VsZXZhdGlvbn0gZnJvbSAnLi9lbGV2YXRpb24uanMnO1xuaW1wb3J0IEZyYW1lYnVmZmVyIGZyb20gJy4uL2dsL2ZyYW1lYnVmZmVyLmpzJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZS5qcyc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQge2NsaXBwaW5nTWFza1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3JlbmRlci9wcm9ncmFtL2NsaXBwaW5nX21hc2tfcHJvZ3JhbS5qcyc7XG5pbXBvcnQgTWVyY2F0b3JDb29yZGluYXRlLCB7bWVyY2F0b3JaZnJvbUFsdGl0dWRlfSBmcm9tICcuLi9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IERFTURhdGEgZnJvbSAnLi4vZGF0YS9kZW1fZGF0YS5qcyc7XG5pbXBvcnQge0RyYXBlUmVuZGVyTW9kZX0gZnJvbSAnLi4vc3R5bGUvdGVycmFpbi5qcyc7XG5pbXBvcnQgcmFzdGVyRmFkZSBmcm9tICcuLi9yZW5kZXIvcmFzdGVyX2ZhZGUuanMnO1xuaW1wb3J0IHtjcmVhdGUgYXMgY3JlYXRlU291cmNlfSBmcm9tICcuLi9zb3VyY2Uvc291cmNlLmpzJztcbmltcG9ydCB7UkdCQUltYWdlfSBmcm9tICcuLi91dGlsL2ltYWdlLmpzJztcbmltcG9ydCB7Z2xvYmVNZXRlcnNUb0VjZWZ9IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL2dsb2JlX3V0aWwuanMnO1xuaW1wb3J0IHtab29tRGVwZW5kZW50RXhwcmVzc2lvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy9leHByZXNzaW9uL2luZGV4LmpzJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3JlbmRlci9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFN0eWxlIGZyb20gJy4uL3N0eWxlL3N0eWxlLmpzJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXIuanMnO1xuaW1wb3J0IHR5cGUgSW5kZXhCdWZmZXIgZnJvbSAnLi4vZ2wvaW5kZXhfYnVmZmVyLmpzJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dC5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vcmVuZGVyL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSB7REVNRW5jb2Rpbmd9IGZyb20gJy4uL2RhdGEvZGVtX2RhdGEuanMnO1xuaW1wb3J0IHR5cGUge1ZlYzMsIFZlYzR9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgdHlwZSB7Q2Fub25pY2FsVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5cbmNvbnN0IEdSSURfRElNID0gMTI4O1xuXG5jb25zdCBGQk9fUE9PTF9TSVpFID0gNTtcbmNvbnN0IFJFTkRFUl9DQUNIRV9NQVhfU0laRSA9IDUwO1xuXG50eXBlIFJlbmRlckJhdGNoID0ge1xuICAgIHN0YXJ0OiBudW1iZXI7XG4gICAgZW5kOiBudW1iZXI7XG59XG5cbmNsYXNzIE1vY2tTb3VyY2VDYWNoZSBleHRlbmRzIFNvdXJjZUNhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCkge1xuICAgICAgICBjb25zdCBzb3VyY2VTcGVjID0ge3R5cGU6ICdyYXN0ZXItZGVtJywgbWF4em9vbTogbWFwLnRyYW5zZm9ybS5tYXhab29tfTtcbiAgICAgICAgY29uc3Qgc291cmNlRGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKGdldFdvcmtlclBvb2woKSwgbnVsbCk7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGNyZWF0ZVNvdXJjZSgnbW9jay1kZW0nLCBzb3VyY2VTcGVjLCBzb3VyY2VEaXNwYXRjaGVyLCBtYXAuc3R5bGUpO1xuXG4gICAgICAgIHN1cGVyKCdtb2NrLWRlbScsIHNvdXJjZSwgZmFsc2UpO1xuXG4gICAgICAgIHNvdXJjZS5zZXRFdmVudGVkUGFyZW50KHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX3NvdXJjZUxvYWRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgX2xvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBQcm94eSBzb3VyY2UgY2FjaGUgZ2V0cyBpZGVhbCBzY3JlZW4gdGlsZSBjb3ZlciBjb29yZGluYXRlcy4gQWxsIHRoZSBvdGhlclxuICogc291cmNlIGNhY2hlcydzIGNvb3JkaW5hdGVzIGdldCBtYXBwZWQgdG8gc3VicmVjdHMgb2YgcHJveHkgY29vcmRpbmF0ZXMgKG9yXG4gKiB2aWNlIHZlcnNhLCBzdWJyZWN0cyBvZiBsYXJnZXIgdGlsZXMgZnJvbSBhbGwgc291cmNlIGNhY2hlcyBnZXQgbWFwcGVkIHRvXG4gKiBmdWxsIHByb3h5IHRpbGUpLiBUaGlzIGhhcHBlbnMgb24gZXZlcnkgZHJhdyBjYWxsIGluIFRlcnJhaW4udXBkYXRlVGlsZUJpbmRpbmcuXG4gKiBBcHByb2FjaCBpcyB1c2VkIGhlcmUgZm9yIHRlcnJhaW4gOiBhbGwgdGhlIHZpc2libGUgc291cmNlIHRpbGVzIG9mIGFsbCB0aGVcbiAqIHNvdXJjZSBjYWNoZXMgZ2V0IHJlbmRlcmVkIHRvIHByb3h5IHNvdXJjZSBjYWNoZSB0ZXh0dXJlcyBhbmQgdGhlbiBkcmFwZWQgb3ZlclxuICogdGVycmFpbi4gSXQgaXMgaW4gZnV0dXJlIHJldXNhYmxlIGZvciBoYW5kbGluZyBvdmVyc2NhbGxpbmcgYXMgYnVja2V0cyBjb3VsZCBiZVxuICogY29uc3RydWN0ZWQgb25seSBmb3IgcHJveHkgdGlsZSBjb250ZW50LCBub3QgZm9yIGZ1bGwgb3ZlcnNjYWxsZWQgdmVjdG9yIHRpbGUuXG4gKi9cbmNsYXNzIFByb3h5U291cmNlQ2FjaGUgZXh0ZW5kcyBTb3VyY2VDYWNoZSB7XG4gICAgcmVuZGVyQ2FjaGU6IEFycmF5PEZCTz47XG4gICAgcmVuZGVyQ2FjaGVQb29sOiBBcnJheTxudW1iZXI+O1xuICAgIHByb3h5Q2FjaGVkRkJPOiB7W3N0cmluZyB8IG51bWJlcl06IHtbc3RyaW5nIHwgbnVtYmVyXTogbnVtYmVyfX07XG5cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCkge1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGNyZWF0ZVNvdXJjZSgncHJveHknLCB7XG4gICAgICAgICAgICB0eXBlOiAnZ2VvanNvbicsXG4gICAgICAgICAgICBtYXh6b29tOiBtYXAudHJhbnNmb3JtLm1heFpvb21cbiAgICAgICAgfSwgbmV3IERpc3BhdGNoZXIoZ2V0V29ya2VyUG9vbCgpLCBudWxsKSwgbWFwLnN0eWxlKTtcblxuICAgICAgICBzdXBlcigncHJveHknLCBzb3VyY2UsIGZhbHNlKTtcblxuICAgICAgICBzb3VyY2Uuc2V0RXZlbnRlZFBhcmVudCh0aGlzKTtcblxuICAgICAgICAvLyBUaGlzIHNvdXJjZSBpcyBub3QgdG8gYmUgYWRkZWQgYXMgYSBtYXAgc291cmNlOiB3ZSB1c2UgaXQncyB0aWxlIG1hbmFnZW1lbnQuXG4gICAgICAgIC8vIEZvciB0aGF0LCBpbml0aWFsaXplIGludGVybmFsIHN0cnVjdHVyZXMgdXNlZCBmb3IgdGlsZSBjb3ZlciB1cGRhdGUuXG4gICAgICAgIHRoaXMubWFwID0gKCh0aGlzLmdldFNvdXJjZSgpOiBhbnkpOiBHZW9KU09OU291cmNlKS5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMudXNlZCA9IHRoaXMuX3NvdXJjZUxvYWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucmVuZGVyQ2FjaGUgPSBbXTtcbiAgICAgICAgdGhpcy5yZW5kZXJDYWNoZVBvb2wgPSBbXTtcbiAgICAgICAgdGhpcy5wcm94eUNhY2hlZEZCTyA9IHt9O1xuICAgIH1cblxuICAgIC8vIE92ZXJyaWRlIGZvciB0cmFuc2llbnQgbmF0dXJlIG9mIGNvdmVyIGhlcmU6IGRvbid0IGNhY2hlIGFuZCByZXRhaW4uXG4gICAgdXBkYXRlKHRyYW5zZm9ybTogVHJhbnNmb3JtLCB0aWxlU2l6ZT86IG51bWJlciwgdXBkYXRlRm9yVGVycmFpbj86IGJvb2xlYW4pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICBpZiAodHJhbnNmb3JtLmZyZWV6ZVRpbGVDb3ZlcmFnZSkgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGlkZWFsVGlsZUlEcyA9IHRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHtcbiAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLl9zb3VyY2UudGlsZVNpemUsXG4gICAgICAgICAgICBtaW56b29tOiB0aGlzLl9zb3VyY2UubWluem9vbSxcbiAgICAgICAgICAgIG1heHpvb206IHRoaXMuX3NvdXJjZS5tYXh6b29tLFxuICAgICAgICAgICAgcm91bmRab29tOiB0aGlzLl9zb3VyY2Uucm91bmRab29tLFxuICAgICAgICAgICAgcmVwYXJzZU92ZXJzY2FsZWQ6IHRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBpbmNvbWluZzoge1tzdHJpbmddOiBzdHJpbmd9ID0gaWRlYWxUaWxlSURzLnJlZHVjZSgoYWNjLCB0aWxlSUQpID0+IHtcbiAgICAgICAgICAgIGFjY1t0aWxlSUQua2V5XSA9ICcnO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl90aWxlc1t0aWxlSUQua2V5XSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGUgPSBuZXcgVGlsZSh0aWxlSUQsIHRoaXMuX3NvdXJjZS50aWxlU2l6ZSAqIHRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSwgdHJhbnNmb3JtLnRpbGVab29tKTtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlsZXNbdGlsZUlELmtleV0gPSB0aWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fdGlsZXMpIHtcbiAgICAgICAgICAgIGlmICghKGlkIGluIGluY29taW5nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJlZUZCTyhpZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlsZXNbaWRdLnVubG9hZFZlY3RvckRhdGEoKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fdGlsZXNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnJlZUZCTyhpZDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGZib3MgPSB0aGlzLnByb3h5Q2FjaGVkRkJPW2lkXTtcbiAgICAgICAgaWYgKGZib3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgZmJvSWRzID0gKChPYmplY3QudmFsdWVzKGZib3MpOiBhbnkpOiBBcnJheTxudW1iZXI+KTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FjaGVQb29sLnB1c2goLi4uZmJvSWRzKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnByb3h5Q2FjaGVkRkJPW2lkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlYWxsb2NSZW5kZXJDYWNoZSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJDYWNoZS5mb3JFYWNoKGZibyA9PiBmYm8uZmIuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDYWNoZSA9IFtdO1xuICAgICAgICB0aGlzLnJlbmRlckNhY2hlUG9vbCA9IFtdO1xuICAgICAgICB0aGlzLnByb3h5Q2FjaGVkRkJPID0ge307XG4gICAgfVxufVxuXG4vKipcbiAqIENhbm9uaWNhbCwgd3JhcCBhbmQgb3ZlcnNjYWxlZFogY29udGFpbiBpbmZvcm1hdGlvbiBvZiBvcmlnaW5hbCBzb3VyY2UgY2FjaGUgdGlsZS5cbiAqIFRoaXMgdGlsZSBnZXRzIG9ydGhvLXJlbmRlcmVkIHRvIHByb3h5IHRpbGUgKGRlZmluZWQgYnkgcHJveHlUaWxlS2V5KS5cbiAqIGBwb3NNYXRyaXhgIGhvbGRzIG9ydGhvZ3JhcGhpYywgc2NhbGluZyBhbmQgdHJhbnNsYXRpb24gaW5mb3JtYXRpb24gdGhhdCBpcyB1c2VkXG4gKiBmb3IgcmVuZGVyaW5nIG9yaWdpbmFsIHRpbGUgY29udGVudCB0byBhIHByb3h5IHRpbGUuIFByb3h5IHRpbGUgY292ZXJzIHdob2xlXG4gKiBvciBzdWItcmVjdGFuZ2xlIG9mIHRoZSBvcmlnaW5hbCB0aWxlLlxuICovXG5jbGFzcyBQcm94aWVkVGlsZUlEIGV4dGVuZHMgT3ZlcnNjYWxlZFRpbGVJRCB7XG4gICAgcHJveHlUaWxlS2V5OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHByb3h5VGlsZUtleTogbnVtYmVyLCBwcm9qTWF0cml4OiBGbG9hdDMyQXJyYXkpIHtcbiAgICAgICAgc3VwZXIodGlsZUlELm92ZXJzY2FsZWRaLCB0aWxlSUQud3JhcCwgdGlsZUlELmNhbm9uaWNhbC56LCB0aWxlSUQuY2Fub25pY2FsLngsIHRpbGVJRC5jYW5vbmljYWwueSk7XG4gICAgICAgIHRoaXMucHJveHlUaWxlS2V5ID0gcHJveHlUaWxlS2V5O1xuICAgICAgICB0aGlzLnByb2pNYXRyaXggPSBwcm9qTWF0cml4O1xuICAgIH1cbn1cblxudHlwZSBPdmVybGFwU3RlbmNpbFR5cGUgPSBmYWxzZSB8ICdDbGlwJyB8ICdNYXNrJztcbnR5cGUgRkJPID0ge2ZiOiBGcmFtZWJ1ZmZlciwgdGV4OiBUZXh0dXJlLCBkaXJ0eTogYm9vbGVhbn07XG5cbmV4cG9ydCBjbGFzcyBUZXJyYWluIGV4dGVuZHMgRWxldmF0aW9uIHtcbiAgICB0ZXJyYWluVGlsZUZvclRpbGU6IHtbbnVtYmVyIHwgc3RyaW5nXTogVGlsZX07XG4gICAgcHJldlRlcnJhaW5UaWxlRm9yVGlsZToge1tudW1iZXIgfCBzdHJpbmddOiBUaWxlfTtcbiAgICBwYWludGVyOiBQYWludGVyO1xuICAgIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZTtcbiAgICBncmlkQnVmZmVyOiBWZXJ0ZXhCdWZmZXI7XG4gICAgZ3JpZEluZGV4QnVmZmVyOiBJbmRleEJ1ZmZlcjtcbiAgICBncmlkU2VnbWVudHM6IFNlZ21lbnRWZWN0b3I7XG4gICAgZ3JpZE5vU2tpcnRTZWdtZW50czogU2VnbWVudFZlY3RvcjtcbiAgICB3aXJlZnJhbWVTZWdtZW50czogU2VnbWVudFZlY3RvcjtcbiAgICB3aXJlZnJhbWVJbmRleEJ1ZmZlcjogSW5kZXhCdWZmZXI7XG4gICAgcHJveGllZENvb3Jkczoge1tzdHJpbmddOiBBcnJheTxQcm94aWVkVGlsZUlEPn07XG4gICAgcHJveHlDb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+O1xuICAgIHByb3h5VG9Tb3VyY2U6IHtbbnVtYmVyXToge1tzdHJpbmddOiBBcnJheTxQcm94aWVkVGlsZUlEPn19O1xuICAgIHByb3h5U291cmNlQ2FjaGU6IFByb3h5U291cmNlQ2FjaGU7XG4gICAgcmVuZGVyaW5nVG9UZXh0dXJlOiBib29sZWFuO1xuICAgIF9zdHlsZTogU3R5bGU7XG4gICAgX21vY2tTb3VyY2VDYWNoZTogTW9ja1NvdXJjZUNhY2hlO1xuICAgIG9ydGhvTWF0cml4OiBGbG9hdDMyQXJyYXk7XG4gICAgZW5hYmxlZDogYm9vbGVhbjtcbiAgICByZW5kZXJNb2RlOiBudW1iZXI7XG5cbiAgICBfdmlzaWJsZURlbVRpbGVzOiBBcnJheTxUaWxlPjtcbiAgICBfc291cmNlVGlsZXNPdmVybGFwOiB7W3N0cmluZ106IGJvb2xlYW59O1xuICAgIF9vdmVybGFwU3RlbmNpbE1vZGU6IFN0ZW5jaWxNb2RlO1xuICAgIF9vdmVybGFwU3RlbmNpbFR5cGU6IE92ZXJsYXBTdGVuY2lsVHlwZTtcbiAgICBfc3RlbmNpbFJlZjogbnVtYmVyO1xuXG4gICAgX2V4YWdnZXJhdGlvbjogbnVtYmVyO1xuICAgIF9kZXB0aEZCTzogP0ZyYW1lYnVmZmVyO1xuICAgIF9kZXB0aFRleHR1cmU6ID9UZXh0dXJlO1xuICAgIF9wcmV2aW91c1pvb206IG51bWJlcjtcbiAgICBfdXBkYXRlVGltZXN0YW1wOiBudW1iZXI7XG4gICAgX3VzZVZlcnRleE1vcnBoaW5nOiBib29sZWFuO1xuICAgIHBvb2w6IEFycmF5PEZCTz47XG4gICAgcmVuZGVyZWRUb1RpbGU6IGJvb2xlYW47XG4gICAgX2RyYXBlZFJlbmRlckJhdGNoZXM6IEFycmF5PFJlbmRlckJhdGNoPjtcbiAgICBfc2hhcmVkRGVwdGhTdGVuY2lsOiA/V2ViR0xSZW5kZXJidWZmZXI7XG5cbiAgICBfZmluZENvdmVyaW5nVGlsZUNhY2hlOiB7W3N0cmluZ106IHtbbnVtYmVyXTogP251bWJlcn19O1xuXG4gICAgX3RpbGVzRGlydHk6IHtbc3RyaW5nXToge1tudW1iZXJdOiBib29sZWFufX07XG4gICAgX2ludmFsaWRhdGVSZW5kZXJDYWNoZTogYm9vbGVhbjtcblxuICAgIF9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZTogP1RleHR1cmU7XG4gICAgX2VtcHR5REVNVGV4dHVyZTogP1RleHR1cmU7XG4gICAgX2luaXRpYWxpemluZzogP2Jvb2xlYW47XG4gICAgX2VtcHR5REVNVGV4dHVyZURpcnR5OiA/Ym9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHBhaW50ZXI6IFBhaW50ZXIsIHN0eWxlOiBTdHlsZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnBhaW50ZXIgPSBwYWludGVyO1xuICAgICAgICB0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZSA9IHt9O1xuICAgICAgICB0aGlzLnByZXZUZXJyYWluVGlsZUZvclRpbGUgPSB7fTtcblxuICAgICAgICAvLyBUZXJyYWluIHJlbmRlcmluZyBncmlkIGlzIDEyOXgxMjkgY2VsbCBncmlkLCBtYWRlIGJ5IDEzMHgxMzAgcG9pbnRzLlxuICAgICAgICAvLyAxMzAgdmVydGljZXMgbWFwIHRvIDEyOCBERU0gZGF0YSArIDFweCBwYWRkaW5nIG9uIGJvdGggc2lkZXMuXG4gICAgICAgIC8vIERFTSB0ZXh0dXJlIGlzIHBhZGRlZCAoMSwgMSwgMSwgMSkgYW5kIHBhZGRpbmcgcGl4ZWxzIGFyZSBiYWNrZmlsbGVkXG4gICAgICAgIC8vIGJ5IG5laWdoYm9yaW5nIHRpbGUgZWRnZXMuIFRoaXMgd2F5IHdlIGFjaGlldmUgdGlsZSBzdGl0Y2hpbmcgYXNcbiAgICAgICAgLy8gZWRnZSB2ZXJ0aWNlcyBmcm9tIG5laWdoYm9yaW5nIHRpbGVzIGV2YWx1YXRlIHRvIHRoZSBzYW1lIDNEIHBvaW50LlxuICAgICAgICBjb25zdCBbdHJpYW5nbGVHcmlkQXJyYXksIHRyaWFuZ2xlR3JpZEluZGljZXMsIHNraXJ0SW5kaWNlc09mZnNldF0gPSBjcmVhdGVHcmlkKEdSSURfRElNICsgMSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgICAgIHRoaXMuZ3JpZEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKHRyaWFuZ2xlR3JpZEFycmF5LCBwb3NBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLmdyaWRJbmRleEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlSW5kZXhCdWZmZXIodHJpYW5nbGVHcmlkSW5kaWNlcyk7XG4gICAgICAgIHRoaXMuZ3JpZFNlZ21lbnRzID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIHRyaWFuZ2xlR3JpZEFycmF5Lmxlbmd0aCwgdHJpYW5nbGVHcmlkSW5kaWNlcy5sZW5ndGgpO1xuICAgICAgICB0aGlzLmdyaWROb1NraXJ0U2VnbWVudHMgPSBTZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwgMCwgdHJpYW5nbGVHcmlkQXJyYXkubGVuZ3RoLCBza2lydEluZGljZXNPZmZzZXQpO1xuICAgICAgICB0aGlzLnByb3h5Q29vcmRzID0gW107XG4gICAgICAgIHRoaXMucHJveGllZENvb3JkcyA9IHt9O1xuICAgICAgICB0aGlzLl92aXNpYmxlRGVtVGlsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcyA9IFtdO1xuICAgICAgICB0aGlzLl9zb3VyY2VUaWxlc092ZXJsYXAgPSB7fTtcbiAgICAgICAgdGhpcy5wcm94eVNvdXJjZUNhY2hlID0gbmV3IFByb3h5U291cmNlQ2FjaGUoc3R5bGUubWFwKTtcbiAgICAgICAgdGhpcy5vcnRob01hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIGNvbnN0IGVwc2lsb24gPSB0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJyA/ICAuMDE1IDogMDsgLy8gRXhwZXJpbWVudGFsbHkgdGhlIHNtYWxsZXN0IHZhbHVlIHRvIGF2b2lkIHJlbmRlcmluZyBhcnRpZmFjdHMgKGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8xMTk3NSlcbiAgICAgICAgbWF0NC5vcnRobyh0aGlzLm9ydGhvTWF0cml4LCBlcHNpbG9uLCBFWFRFTlQsIDAsIEVYVEVOVCwgMCwgMSk7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlID0gbmV3IFN0ZW5jaWxNb2RlKHtmdW5jOiBnbC5HRVFVQUwsIG1hc2s6IDB4RkZ9LCAwLCAweEZGLCBnbC5LRUVQLCBnbC5LRUVQLCBnbC5SRVBMQUNFKTtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNab29tID0gcGFpbnRlci50cmFuc2Zvcm0uem9vbTtcbiAgICAgICAgdGhpcy5wb29sID0gW107XG4gICAgICAgIHRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl90aWxlc0RpcnR5ID0ge307XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5fdXNlVmVydGV4TW9ycGhpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLl9leGFnZ2VyYXRpb24gPSAxO1xuICAgICAgICB0aGlzLl9tb2NrU291cmNlQ2FjaGUgPSBuZXcgTW9ja1NvdXJjZUNhY2hlKHN0eWxlLm1hcCk7XG4gICAgfVxuXG4gICAgc2V0IHN0eWxlKHN0eWxlOiBTdHlsZSkge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHN0eWxlLm9uKCdkYXRhJywgdGhpcy5fb25TdHlsZURhdGFFdmVudC5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICBzdHlsZS5vbignbmV3b3JkZXInLCB0aGlzLl9jaGVja1JlbmRlckNhY2hlRWZmaWNpZW5jeS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5fY2hlY2tSZW5kZXJDYWNoZUVmZmljaWVuY3koKTtcbiAgICAgICAgdGhpcy5fc3R5bGUubWFwLm9uKCdtb3ZlZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJMaW5lTGF5ZXJzRnJvbVJlbmRlckNhY2hlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogVmFsaWRhdGUgdGVycmFpbiBhbmQgdXBkYXRlIHNvdXJjZSBjYWNoZSB1c2VkIGZvciBlbGV2YXRpb24uXG4gICAgICogRXhwbGljaXRseSBwYXNzIHRyYW5zZm9ybSB0byB1cGRhdGUgZWxldmF0aW9uIChUcmFuc2Zvcm0udXBkYXRlRWxldmF0aW9uKVxuICAgICAqIGJlZm9yZSB1c2luZyB0cmFuc2Zvcm0gZm9yIHNvdXJjZSBjYWNoZSB1cGRhdGUuXG4gICAgICovXG4gICAgdXBkYXRlKHN0eWxlOiBTdHlsZSwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sIGFkYXB0Q2FtZXJhQWx0aXR1ZGU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHN0eWxlICYmIHN0eWxlLnRlcnJhaW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHlsZSAhPT0gc3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgdGVycmFpblByb3BzID0gc3R5bGUudGVycmFpbi5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgY29uc3QgaXNEcmFwZU1vZGVEZWZlcnJlZCA9IHN0eWxlLnRlcnJhaW4uZHJhcGVSZW5kZXJNb2RlID09PSBEcmFwZVJlbmRlck1vZGUuZGVmZXJyZWQ7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUNhY2hlID0gaXNEcmFwZU1vZGVEZWZlcnJlZCA/IHRoaXMuX21vY2tTb3VyY2VDYWNoZSA6XG4gICAgICAgICAgICAgICAgKChzdHlsZS5fZ2V0U291cmNlQ2FjaGUodGVycmFpblByb3BzLmdldCgnc291cmNlJykpOiBhbnkpOiBTb3VyY2VDYWNoZSk7XG4gICAgICAgICAgICB0aGlzLl9leGFnZ2VyYXRpb24gPSB0ZXJyYWluUHJvcHMuZ2V0KCdleGFnZ2VyYXRpb24nKTtcblxuICAgICAgICAgICAgY29uc3QgdXBkYXRlU291cmNlQ2FjaGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291cmNlQ2FjaGUudXNlZCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuT25jZShgUmFzdGVyIERFTSBzb3VyY2UgJyR7dGhpcy5zb3VyY2VDYWNoZS5pZH0nIGlzIHVzZWQgYm90aCBmb3IgdGVycmFpbiBhbmQgYXMgbGF5ZXIgc291cmNlLlxcbmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1RoaXMgbGVhZHMgdG8gbG93ZXIgcmVzb2x1dGlvbiBvZiBoaWxsc2hhZGUuIEZvciBmdWxsIGhpbGxzaGFkZSByZXNvbHV0aW9uIGJ1dCBoaWdoZXIgbWVtb3J5IGNvbnN1bXB0aW9uLCBkZWZpbmUgYW5vdGhlciByYXN0ZXIgREVNIHNvdXJjZS4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTG93ZXIgdGlsZSB6b29tIGlzIHN1ZmZpY2llbnQgZm9yIHRlcnJhaW4sIGdpdmVuIHRoZSBzaXplIG9mIHRlcnJhaW4gZ3JpZC5cbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZWREZW1UaWxlU2l6ZSA9IHRoaXMuZ2V0U2NhbGVkRGVtVGlsZVNpemUoKTtcbiAgICAgICAgICAgICAgICAvLyBEZW0gdGlsZSBuZWVkcyB0byBiZSBwYXJlbnQgb3IgYXQgbGVhc3Qgb2YgdGhlIHNhbWUgem9vbSBsZXZlbCBhcyBwcm94eSB0aWxlLlxuICAgICAgICAgICAgICAgIC8vIFRpbGUgY292ZXIgcm91bmRab29tIGJlaGF2aW9yIGlzIHNldCB0byB0aGUgc2FtZSBhcyBmb3IgcHJveHkgKGZhbHNlKSBpbiBTb3VyY2VDYWNoZS51cGRhdGUoKS5cbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZUNhY2hlLnVwZGF0ZSh0cmFuc2Zvcm0sIHNjYWxlZERlbVRpbGVTaXplLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAvLyBBcyBhIHJlc3VsdCBvZiB1cGRhdGUsIHdlIGdldCBuZXcgc2V0IG9mIHRpbGVzOiByZXNldCBsb29rdXAgY2FjaGUuXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnNvdXJjZUNhY2hlLmlkKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5zb3VyY2VDYWNoZS51c2VkRm9yVGVycmFpbikge1xuICAgICAgICAgICAgICAgIC8vIEluaXQgY2FjaGUgZW50cnkuXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnNvdXJjZUNhY2hlLmlkKTtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRvZ2dsaW5nIHRlcnJhaW4gb24vb2ZmIGxvYWQgYXZhaWxhYmxlIHRlcnJhaW4gdGlsZXMgZnJvbSBjYWNoZVxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZSByZWFkaW5nIGVsZXZhdGlvbiBhdCBjZW50ZXIuXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VDYWNoZS51c2VkRm9yVGVycmFpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdXBkYXRlU291cmNlQ2FjaGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXppbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1cGRhdGVTb3VyY2VDYWNoZSgpO1xuICAgICAgICAgICAgLy8gQ2FtZXJhIGdldHMgY29uc3RyYWluZWQgb3ZlciB0ZXJyYWluLiBJc3N1ZSBjb25zdHJhaW5DYW1lcmFPdmVyVGVycmFpbiA9IHRydWVcbiAgICAgICAgICAgIC8vIGhlcmUgdG8gY292ZXIgcG90ZW50aWFsIHVuZGVyIHRlcnJhaW4gc2l0dWF0aW9uIG9uIGRhdGEsIHN0eWxlLCBvciBvdGhlciBjYW1lcmEgY2hhbmdlcy5cbiAgICAgICAgICAgIHRyYW5zZm9ybS51cGRhdGVFbGV2YXRpb24odHJ1ZSwgYWRhcHRDYW1lcmFBbHRpdHVkZSk7XG5cbiAgICAgICAgICAgIC8vIFJlc2V0IHRpbGUgbG9va3VwIGNhY2hlIGFuZCB1cGRhdGUgZHJhcGVkIHRpbGVzIGNvb3JkaW5hdGVzLlxuICAgICAgICAgICAgdGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnByb3h5U291cmNlQ2FjaGUuaWQpO1xuICAgICAgICAgICAgdGhpcy5wcm94eVNvdXJjZUNhY2hlLnVwZGF0ZSh0cmFuc2Zvcm0pO1xuXG4gICAgICAgICAgICB0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldFRpbGVMb29rdXBDYWNoZShzb3VyY2VDYWNoZUlEOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW3NvdXJjZUNhY2hlSURdID0ge307XG4gICAgfVxuXG4gICAgZ2V0U2NhbGVkRGVtVGlsZVNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgZGVtU2NhbGUgPSB0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplIC8gR1JJRF9ESU07XG4gICAgICAgIGNvbnN0IHByb3h5VGlsZVNpemUgPSB0aGlzLnByb3h5U291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemU7XG4gICAgICAgIHJldHVybiBkZW1TY2FsZSAqIHByb3h5VGlsZVNpemU7XG4gICAgfVxuXG4gICAgX2NoZWNrUmVuZGVyQ2FjaGVFZmZpY2llbmN5KCkge1xuICAgICAgICBjb25zdCByZW5kZXJDYWNoZUluZm8gPSB0aGlzLnJlbmRlckNhY2hlRWZmaWNpZW5jeSh0aGlzLl9zdHlsZSk7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZS5tYXAuX29wdGltaXplRm9yVGVycmFpbikge1xuICAgICAgICAgICAgYXNzZXJ0KHJlbmRlckNhY2hlSW5mby5lZmZpY2llbmN5ID09PSAxMDApO1xuICAgICAgICB9IGVsc2UgaWYgKHJlbmRlckNhY2hlSW5mby5lZmZpY2llbmN5ICE9PSAxMDApIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKGBUZXJyYWluIHJlbmRlciBjYWNoZSBlZmZpY2llbmN5IGlzIG5vdCBvcHRpbWFsICgke3JlbmRlckNhY2hlSW5mby5lZmZpY2llbmN5fSUpIGFuZCBwZXJmb3JtYW5jZVxuICAgICAgICAgICAgICAgIG1heSBiZSBhZmZlY3RlZCBuZWdhdGl2ZWx5LCBjb25zaWRlciBwbGFjaW5nIGFsbCBiYWNrZ3JvdW5kLCBmaWxsIGFuZCBsaW5lIGxheWVycyBiZWZvcmUgbGF5ZXJcbiAgICAgICAgICAgICAgICB3aXRoIGlkICcke3JlbmRlckNhY2hlSW5mby5maXJzdFVuZHJhcGVkTGF5ZXJ9JyBvciBjcmVhdGUgYSBtYXAgdXNpbmcgb3B0aW1pemVGb3JUZXJyYWluOiB0cnVlIG9wdGlvbi5gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblN0eWxlRGF0YUV2ZW50KGV2ZW50OiBhbnkpIHtcbiAgICAgICAgaWYgKGV2ZW50LmNvb3JkICYmIGV2ZW50LmRhdGFUeXBlID09PSAnc291cmNlJykge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoZXZlbnQuc291cmNlQ2FjaGVJZCwgZXZlbnQuY29vcmQpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGFUeXBlID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnZhbGlkYXRlUmVuZGVyQ2FjaGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGVycmFpblxuICAgIF9kaXNhYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnByb3h5U291cmNlQ2FjaGUuZGVhbGxvY1JlbmRlckNhY2hlKCk7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlc1tpZF0udXNlZEZvclRlcnJhaW4gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2Rpc2FibGUoKTtcbiAgICAgICAgaWYgKHRoaXMuX2VtcHR5REVNVGV4dHVyZSkgdGhpcy5fZW1wdHlERU1UZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlKSB0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMucG9vbC5mb3JFYWNoKGZibyA9PiBmYm8uZmIuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5wb29sID0gW107XG4gICAgICAgIGlmICh0aGlzLl9kZXB0aEZCTykge1xuICAgICAgICAgICAgdGhpcy5fZGVwdGhGQk8uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fZGVwdGhGQk8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl9kZXB0aFRleHR1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJbXBsZW1lbnRzIEVsZXZhdGlvbjo6X3NvdXJjZS5cbiAgICBfc291cmNlKCk6ID9Tb3VyY2VDYWNoZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuYWJsZWQgPyB0aGlzLnNvdXJjZUNhY2hlIDogbnVsbDtcbiAgICB9XG5cbiAgICBpc1VzaW5nTW9ja1NvdXJjZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlQ2FjaGUgPT09IHRoaXMuX21vY2tTb3VyY2VDYWNoZTtcbiAgICB9XG5cbiAgICAvLyBJbXBsZW1lbnRzIEVsZXZhdGlvbjo6ZXhhZ2dlcmF0aW9uLlxuICAgIGV4YWdnZXJhdGlvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXhhZ2dlcmF0aW9uO1xuICAgIH1cblxuICAgIGdldCB2aXNpYmxlRGVtVGlsZXMoKTogQXJyYXk8VGlsZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlzaWJsZURlbVRpbGVzO1xuICAgIH1cblxuICAgIGdldCBkcmFwZUJ1ZmZlclNpemUoKTogW251bWJlciwgbnVtYmVyXSB7XG4gICAgICAgIGNvbnN0IGV4dGVudCA9IHRoaXMucHJveHlTb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZSAqIDI7IC8vICoyIGlzIHRvIGF2b2lkIHVwc2NhbGluZyBiaXRtYXAgb24gem9vbS5cbiAgICAgICAgcmV0dXJuIFtleHRlbnQsIGV4dGVudF07XG4gICAgfVxuXG4gICAgc2V0IHVzZVZlcnRleE1vcnBoaW5nKGVuYWJsZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl91c2VWZXJ0ZXhNb3JwaGluZyA9IGVuYWJsZTtcbiAgICB9XG5cbiAgICAvLyBGb3IgZXZlcnkgcmVuZGVyYWJsZSBjb29yZGluYXRlIGluIGV2ZXJ5IHNvdXJjZSBjYWNoZSwgYXNzaWduIG9uZSBwcm94eVxuICAgIC8vIHRpbGUgKHNlZSBfc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8pLiBNYXBwaW5nIG9mIHNvdXJjZSB0aWxlIHRvIHByb3h5XG4gICAgLy8gdGlsZSBpcyBtb2RlbGVkIGJ5IFByb3hpZWRUaWxlSUQuIEluIGdlbmVyYWwgY2FzZSwgc291cmNlIGFuZCBwcm94eSB0aWxlXG4gICAgLy8gYXJlIG9mIGRpZmZlcmVudCB6b29tOiBQcm94aWVkVGlsZUlELnByb2pNYXRyaXggbW9kZWxzIG9ydGhvLCBzY2FsZSBhbmRcbiAgICAvLyB0cmFuc2xhdGUgZnJvbSBzb3VyY2UgdG8gcHJveHkuIFRoaXMgbWF0cml4IGlzIHVzZWQgd2hlbiByZW5kZXJpbmcgc291cmNlXG4gICAgLy8gdGlsZSB0byBwcm94eSB0aWxlJ3MgdGV4dHVyZS5cbiAgICAvLyBPbmUgcHJveHkgdGlsZSBjYW4gaGF2ZSBtdWx0aXBsZSBzb3VyY2UgdGlsZXMsIG9yIHBpZWNlcyBvZiBzb3VyY2UgdGlsZXMsXG4gICAgLy8gdGhhdCBnZXQgcmVuZGVyZWQgdG8gaXQuXG4gICAgLy8gRm9yIGVhY2ggcHJveHkgdGlsZSB3ZSBhc3NpZ24gb25lIHRlcnJhaW4gdGlsZSAoX2Fzc2lnblRlcnJhaW5UaWxlcykuIFRoZVxuICAgIC8vIHRlcnJhaW4gdGlsZSBwcm92aWRlcyBlbGV2YXRpb24gZGF0YSB3aGVuIHJlbmRlcmluZyAoZHJhcGluZykgcHJveHkgdGlsZVxuICAgIC8vIHRleHR1cmUgb3ZlciB0ZXJyYWluIGdyaWQuXG4gICAgdXBkYXRlVGlsZUJpbmRpbmcoc291cmNlc0Nvb3Jkczoge1tzdHJpbmddOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPn0pIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5wcmV2VGVycmFpblRpbGVGb3JUaWxlID0gdGhpcy50ZXJyYWluVGlsZUZvclRpbGU7XG5cbiAgICAgICAgY29uc3QgcHNjID0gdGhpcy5wcm94eVNvdXJjZUNhY2hlO1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMucGFpbnRlci50cmFuc2Zvcm07XG4gICAgICAgIGlmICh0aGlzLl9pbml0aWFsaXppbmcpIHtcbiAgICAgICAgICAgIC8vIERvbid0IGFjdGl2YXRlIHRlcnJhaW4gdW50aWwgY2VudGVyIHRpbGUgZ2V0cyBsb2FkZWQuXG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXppbmcgPSB0ci5fY2VudGVyQWx0aXR1ZGUgPT09IDAgJiYgdGhpcy5nZXRBdFBvaW50T3JaZXJvKE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHRyLmNlbnRlciksIC0xKSA9PT0gLTE7XG4gICAgICAgICAgICB0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eSA9ICF0aGlzLl9pbml0aWFsaXppbmc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLnByb3h5Q29vcmRzID0gcHNjLmdldElkcygpLm1hcCgoaWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVJRCA9IHBzYy5nZXRUaWxlQnlJRChpZCkudGlsZUlEO1xuICAgICAgICAgICAgdGlsZUlELnByb2pNYXRyaXggPSB0ci5jYWxjdWxhdGVQcm9qTWF0cml4KHRpbGVJRC50b1Vud3JhcHBlZCgpKTtcbiAgICAgICAgICAgIHJldHVybiB0aWxlSUQ7XG4gICAgICAgIH0pO1xuICAgICAgICBzb3J0QnlEaXN0YW5jZVRvQ2FtZXJhKGNvb3JkcywgdGhpcy5wYWludGVyKTtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNab29tID0gdHIuem9vbTtcblxuICAgICAgICBjb25zdCBwcmV2aW91c1Byb3h5VG9Tb3VyY2UgPSB0aGlzLnByb3h5VG9Tb3VyY2UgfHwge307XG4gICAgICAgIHRoaXMucHJveHlUb1NvdXJjZSA9IHt9O1xuICAgICAgICBjb29yZHMuZm9yRWFjaCgodGlsZUlEKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb3h5VG9Tb3VyY2VbdGlsZUlELmtleV0gPSB7fTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50ZXJyYWluVGlsZUZvclRpbGUgPSB7fTtcbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcztcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgICAgIGlmICghc291cmNlQ2FjaGUudXNlZCkgY29udGludWU7XG4gICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUgIT09IHRoaXMuc291cmNlQ2FjaGUpIHRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUoc291cmNlQ2FjaGUuaWQpO1xuICAgICAgICAgICAgdGhpcy5fc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8oc291cmNlQ2FjaGUsIHNvdXJjZXNDb29yZHNbaWRdLCBwcmV2aW91c1Byb3h5VG9Tb3VyY2UpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLnVzZWRGb3JUZXJyYWluKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gc291cmNlc0Nvb3Jkc1tpZF07XG4gICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUuZ2V0U291cmNlKCkucmVwYXJzZU92ZXJzY2FsZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBEbyB0aGlzIGZvciBsYXllcnMgdGhhdCBhcmUgbm90IHJhc3Rlcml6ZWQgdG8gcHJveHkgdGlsZS5cbiAgICAgICAgICAgICAgICB0aGlzLl9hc3NpZ25UZXJyYWluVGlsZXMoY29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmFja2dyb3VuZCBoYXMgbm8gc291cmNlLiBVc2luZyBwcm94eSBjb29yZHMgd2l0aCAxLTEgb3J0aG8gKHRoaXMucHJveGllZENvb3Jkc1twc2MuaWRdKVxuICAgICAgICAvLyB3aGVuIHJlbmRlcmluZyBiYWNrZ3JvdW5kIHRvIHByb3h5IHRpbGVzLlxuICAgICAgICB0aGlzLnByb3hpZWRDb29yZHNbcHNjLmlkXSA9IGNvb3Jkcy5tYXAodGlsZUlEID0+IG5ldyBQcm94aWVkVGlsZUlEKHRpbGVJRCwgdGlsZUlELmtleSwgdGhpcy5vcnRob01hdHJpeCkpO1xuICAgICAgICB0aGlzLl9hc3NpZ25UZXJyYWluVGlsZXMoY29vcmRzKTtcbiAgICAgICAgdGhpcy5fcHJlcGFyZURFTVRleHR1cmVzKCk7XG4gICAgICAgIHRoaXMuX3NldHVwRHJhcGVkUmVuZGVyQmF0Y2hlcygpO1xuICAgICAgICB0aGlzLl9pbml0RkJPUG9vbCgpO1xuICAgICAgICB0aGlzLl9zZXR1cFJlbmRlckNhY2hlKHByZXZpb3VzUHJveHlUb1NvdXJjZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1RleHR1cmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVGltZXN0YW1wID0gYnJvd3Nlci5ub3coKTtcblxuICAgICAgICAvLyBHYXRoZXIgYWxsIGRlbSB0aWxlcyB0aGF0IGFyZSBhc3NpZ25lZCB0byBwcm94eSB0aWxlc1xuICAgICAgICBjb25zdCB2aXNpYmxlS2V5cyA9IHt9O1xuICAgICAgICB0aGlzLl92aXNpYmxlRGVtVGlsZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHRoaXMucHJveHlDb29yZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbVRpbGUgPSB0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtpZC5rZXldO1xuICAgICAgICAgICAgaWYgKCFkZW1UaWxlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVtVGlsZS50aWxlSUQua2V5O1xuICAgICAgICAgICAgaWYgKGtleSBpbiB2aXNpYmxlS2V5cylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHRoaXMuX3Zpc2libGVEZW1UaWxlcy5wdXNoKGRlbVRpbGUpO1xuICAgICAgICAgICAgdmlzaWJsZUtleXNba2V5XSA9IGtleTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgX2Fzc2lnblRlcnJhaW5UaWxlcyhjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgICAgIGlmICh0aGlzLl9pbml0aWFsaXppbmcpIHJldHVybjtcbiAgICAgICAgY29vcmRzLmZvckVhY2goKHRpbGVJRCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMudGVycmFpblRpbGVGb3JUaWxlW3RpbGVJRC5rZXldKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBkZW1UaWxlID0gdGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRCh0aWxlSUQsIHRoaXMuc291cmNlQ2FjaGUpO1xuICAgICAgICAgICAgaWYgKGRlbVRpbGUpIHRoaXMudGVycmFpblRpbGVGb3JUaWxlW3RpbGVJRC5rZXldID0gZGVtVGlsZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3ByZXBhcmVERU1UZXh0dXJlcygpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMudGVycmFpblRpbGVGb3JUaWxlKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy50ZXJyYWluVGlsZUZvclRpbGVba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IGRlbSA9IHRpbGUuZGVtO1xuICAgICAgICAgICAgaWYgKGRlbSAmJiAoIXRpbGUuZGVtVGV4dHVyZSB8fCB0aWxlLm5lZWRzREVNVGV4dHVyZVVwbG9hZCkpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcbiAgICAgICAgICAgICAgICBwcmVwYXJlREVNVGV4dHVyZSh0aGlzLnBhaW50ZXIsIHRpbGUsIGRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHJlcGFyZURlbVRpbGVVbmlmb3Jtcyhwcm94eVRpbGU6IFRpbGUsIGRlbVRpbGU6ID9UaWxlLCB1bmlmb3JtczogVW5pZm9ybVZhbHVlczxUZXJyYWluVW5pZm9ybXNUeXBlPiwgdW5pZm9ybVN1ZmZpeDogP3N0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIWRlbVRpbGUgfHwgZGVtVGlsZS5kZW1UZXh0dXJlID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgYXNzZXJ0KGRlbVRpbGUuZGVtKTtcbiAgICAgICAgY29uc3QgcHJveHlJZCA9IHByb3h5VGlsZS50aWxlSUQuY2Fub25pY2FsO1xuICAgICAgICBjb25zdCBkZW1JZCA9IGRlbVRpbGUudGlsZUlELmNhbm9uaWNhbDtcbiAgICAgICAgY29uc3QgZGVtU2NhbGVCeSA9IE1hdGgucG93KDIsIGRlbUlkLnogLSBwcm94eUlkLnopO1xuICAgICAgICBjb25zdCBzdWZmaXggPSB1bmlmb3JtU3VmZml4IHx8IFwiXCI7XG4gICAgICAgIHVuaWZvcm1zW2B1X2RlbV90bCR7c3VmZml4fWBdID0gW3Byb3h5SWQueCAqIGRlbVNjYWxlQnkgJSAxLCBwcm94eUlkLnkgKiBkZW1TY2FsZUJ5ICUgMV07XG4gICAgICAgIHVuaWZvcm1zW2B1X2RlbV9zY2FsZSR7c3VmZml4fWBdID0gZGVtU2NhbGVCeTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IGVtcHR5REVNVGV4dHVyZSgpOiBUZXh0dXJlIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eSAmJiB0aGlzLl9lbXB0eURFTVRleHR1cmUgP1xuICAgICAgICAgICAgdGhpcy5fZW1wdHlERU1UZXh0dXJlIDogdGhpcy5fdXBkYXRlRW1wdHlERU1UZXh0dXJlKCk7XG4gICAgfVxuXG4gICAgZ2V0IGVtcHR5RGVwdGhCdWZmZXJUZXh0dXJlKCk6IFRleHR1cmUge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5wYWludGVyLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgaWYgKCF0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZSkge1xuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgUkdCQUltYWdlKHt3aWR0aDogMSwgaGVpZ2h0OiAxfSwgVWludDhBcnJheS5vZigyNTUsIDI1NSwgMjU1LCAyNTUpKTtcbiAgICAgICAgICAgIHRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgaW1hZ2UsIGdsLlJHQkEsIHtwcmVtdWx0aXBseTogZmFsc2V9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmU7XG4gICAgfVxuXG4gICAgX2dldExvYWRlZEFyZWFNaW5pbXVtKCk6IG51bWJlciB7XG4gICAgICAgIGxldCBub256ZXJvID0gMDtcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5fdmlzaWJsZURlbVRpbGVzLnJlZHVjZSgoYWNjLCB0aWxlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRpbGUuZGVtKSByZXR1cm4gYWNjO1xuICAgICAgICAgICAgY29uc3QgbSA9IHRpbGUuZGVtLnRyZWUubWluaW11bXNbMF07XG4gICAgICAgICAgICBhY2MgKz0gbTtcbiAgICAgICAgICAgIGlmIChtID4gMCkgbm9uemVybysrO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIHJldHVybiBub256ZXJvID8gbWluIC8gbm9uemVybyA6IDA7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUVtcHR5REVNVGV4dHVyZSgpOiBUZXh0dXJlIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTIpO1xuXG4gICAgICAgIGNvbnN0IG1pbiA9IHRoaXMuX2dldExvYWRlZEFyZWFNaW5pbXVtKCk7XG4gICAgICAgIGNvbnN0IGltYWdlID0gbmV3IFJHQkFJbWFnZShcbiAgICAgICAgICAgIHt3aWR0aDogMSwgaGVpZ2h0OiAxfSxcbiAgICAgICAgICAgIG5ldyBVaW50OEFycmF5KERFTURhdGEucGFjayhtaW4sICgodGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKTogYW55KTogUmFzdGVyREVNVGlsZVNvdXJjZSkuZW5jb2RpbmcpKVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuX2VtcHR5REVNVGV4dHVyZURpcnR5ID0gZmFsc2U7XG4gICAgICAgIGxldCB0ZXh0dXJlID0gdGhpcy5fZW1wdHlERU1UZXh0dXJlO1xuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSB0aGlzLl9lbXB0eURFTVRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCBpbWFnZSwgZ2wuUkdCQSwge3ByZW11bHRpcGx5OiBmYWxzZX0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dHVyZS51cGRhdGUoaW1hZ2UsIHtwcmVtdWx0aXBseTogZmFsc2V9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICAvLyB1c2VEZXB0aEZvck9jY2x1c2lvbjogUHJlLXJlbmRlcmVkIGRlcHRoIHRvIHRleHR1cmUgKHRoaXMuX2RlcHRoVGV4dHVyZSkgaXNcbiAgICAvLyB1c2VkIHRvIGhpZGUgKGFjdHVhbGx5IG1vdmVzIGFsbCBvYmplY3QncyB2ZXJ0aWNlcyBvdXQgb2Ygdmlld3BvcnQpLlxuICAgIC8vIHVzZU1ldGVyVG9EZW06IHVfbWV0ZXJfdG9fZGVtIHVuaWZvcm0gaXMgbm90IHVzZWQgZm9yIGFsbCB0ZXJyYWluIHByb2dyYW1zLFxuICAgIC8vIG9wdGltaXphdGlvbiB0byBhdm9pZCB1bm5lY2Vzc2FyeSBjb21wdXRhdGlvbiBhbmQgdXBsb2FkLlxuICAgIHNldHVwRWxldmF0aW9uRHJhdyh0aWxlOiBUaWxlLCBwcm9ncmFtOiBQcm9ncmFtPCo+LFxuICAgICAgICBvcHRpb25zPzoge1xuICAgICAgICAgICAgdXNlRGVwdGhGb3JPY2NsdXNpb24/OiBib29sZWFuLFxuICAgICAgICAgICAgdXNlTWV0ZXJUb0RlbT86IGJvb2xlYW4sXG4gICAgICAgICAgICBsYWJlbFBsYW5lTWF0cml4SW52PzogP0Zsb2F0MzJBcnJheSxcbiAgICAgICAgICAgIG1vcnBoaW5nPzogeyBzcmNEZW1UaWxlOiBUaWxlLCBkc3REZW1UaWxlOiBUaWxlLCBwaGFzZTogbnVtYmVyIH0sXG4gICAgICAgICAgICB1c2VEZW5vcm1hbGl6ZWRVcFZlY3RvclNjYWxlPzogYm9vbGVhblxuICAgICAgICB9KSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IGRlZmF1bHRUZXJyYWluVW5pZm9ybXMoKCh0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpOiBhbnkpOiBSYXN0ZXJERU1UaWxlU291cmNlKS5lbmNvZGluZyk7XG4gICAgICAgIHVuaWZvcm1zWyd1X2RlbV9zaXplJ10gPSB0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplO1xuICAgICAgICB1bmlmb3Jtc1sndV9leGFnZ2VyYXRpb24nXSA9IHRoaXMuZXhhZ2dlcmF0aW9uKCk7XG5cbiAgICAgICAgbGV0IGRlbVRpbGUgPSBudWxsO1xuICAgICAgICBsZXQgcHJldkRlbVRpbGUgPSBudWxsO1xuICAgICAgICBsZXQgbW9ycGhpbmdQaGFzZSA9IDEuMDtcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm1vcnBoaW5nICYmIHRoaXMuX3VzZVZlcnRleE1vcnBoaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBzcmNUaWxlID0gb3B0aW9ucy5tb3JwaGluZy5zcmNEZW1UaWxlO1xuICAgICAgICAgICAgY29uc3QgZHN0VGlsZSA9IG9wdGlvbnMubW9ycGhpbmcuZHN0RGVtVGlsZTtcbiAgICAgICAgICAgIG1vcnBoaW5nUGhhc2UgPSBvcHRpb25zLm1vcnBoaW5nLnBoYXNlO1xuXG4gICAgICAgICAgICBpZiAoc3JjVGlsZSAmJiBkc3RUaWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXModGlsZSwgc3JjVGlsZSwgdW5pZm9ybXMsIFwiX3ByZXZcIikpXG4gICAgICAgICAgICAgICAgICAgIHByZXZEZW1UaWxlID0gc3JjVGlsZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcHJlcGFyZURlbVRpbGVVbmlmb3Jtcyh0aWxlLCBkc3RUaWxlLCB1bmlmb3JtcykpXG4gICAgICAgICAgICAgICAgICAgIGRlbVRpbGUgPSBkc3RUaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByZXZEZW1UaWxlICYmIGRlbVRpbGUpIHtcbiAgICAgICAgICAgIC8vIEJvdGggREVNIHRleHR1cmVzIGFyZSBleHBlY3RlZCB0byBiZSBjb3JyZWN0bHkgc2V0IGlmIGdlb21vcnBoaW5nIGlzIGVuYWJsZWRcbiAgICAgICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTIpO1xuICAgICAgICAgICAgKGRlbVRpbGUuZGVtVGV4dHVyZTogYW55KS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UsIGdsLk5FQVJFU1QpO1xuICAgICAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFNCk7XG4gICAgICAgICAgICAocHJldkRlbVRpbGUuZGVtVGV4dHVyZTogYW55KS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UsIGdsLk5FQVJFU1QpO1xuXG4gICAgICAgICAgICB1bmlmb3Jtc1tcInVfZGVtX2xlcnBcIl0gPSBtb3JwaGluZ1BoYXNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVtVGlsZSA9IHRoaXMudGVycmFpblRpbGVGb3JUaWxlW3RpbGUudGlsZUlELmtleV07XG4gICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUyKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbVRleHR1cmUgPSB0aGlzLl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKHRpbGUsIGRlbVRpbGUsIHVuaWZvcm1zKSA/XG4gICAgICAgICAgICAgICAgKGRlbVRpbGUuZGVtVGV4dHVyZTogYW55KSA6IHRoaXMuZW1wdHlERU1UZXh0dXJlO1xuICAgICAgICAgICAgZGVtVGV4dHVyZS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMyk7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudXNlRGVwdGhGb3JPY2NsdXNpb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZXB0aFRleHR1cmUpIHRoaXMuX2RlcHRoVGV4dHVyZS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlcHRoRkJPKSB1bmlmb3Jtc1sndV9kZXB0aF9zaXplX2ludiddID0gWzEgLyB0aGlzLl9kZXB0aEZCTy53aWR0aCwgMSAvIHRoaXMuX2RlcHRoRkJPLmhlaWdodF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVtcHR5RGVwdGhCdWZmZXJUZXh0dXJlLmJpbmQoZ2wuTkVBUkVTVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICB1bmlmb3Jtc1sndV9kZXB0aF9zaXplX2ludiddID0gWzEsIDFdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy51c2VNZXRlclRvRGVtICYmIGRlbVRpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGVyVG9ERU0gPSAoMSA8PCBkZW1UaWxlLnRpbGVJRC5jYW5vbmljYWwueikgKiBtZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSwgdGhpcy5wYWludGVyLnRyYW5zZm9ybS5jZW50ZXIubGF0KSAqIHRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemU7XG4gICAgICAgICAgICB1bmlmb3Jtc1sndV9tZXRlcl90b19kZW0nXSA9IG1ldGVyVG9ERU07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5sYWJlbFBsYW5lTWF0cml4SW52KSB7XG4gICAgICAgICAgICB1bmlmb3Jtc1sndV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52J10gPSBvcHRpb25zLmxhYmVsUGxhbmVNYXRyaXhJbnY7XG4gICAgICAgIH1cbiAgICAgICAgcHJvZ3JhbS5zZXRUZXJyYWluVW5pZm9ybVZhbHVlcyhjb250ZXh0LCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgaWYgKHRoaXMucGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICBjb25zdCBnbG9iZVVuaWZvcm1zID0gdGhpcy5nbG9iZVVuaWZvcm1WYWx1ZXModGhpcy5wYWludGVyLnRyYW5zZm9ybSwgdGlsZS50aWxlSUQuY2Fub25pY2FsLCBvcHRpb25zICYmIG9wdGlvbnMudXNlRGVub3JtYWxpemVkVXBWZWN0b3JTY2FsZSk7XG4gICAgICAgICAgICBwcm9ncmFtLnNldEdsb2JlVW5pZm9ybVZhbHVlcyhjb250ZXh0LCBnbG9iZVVuaWZvcm1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdsb2JlVW5pZm9ybVZhbHVlcyh0cjogVHJhbnNmb3JtLCBpZDogQ2Fub25pY2FsVGlsZUlELCB1c2VEZW5vcm1hbGl6ZWRVcFZlY3RvclNjYWxlOiA/Ym9vbGVhbik6IFVuaWZvcm1WYWx1ZXM8R2xvYmVVbmlmb3Jtc1R5cGU+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHRyLnByb2plY3Rpb247XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAndV90aWxlX3RsX3VwJzogKHByb2plY3Rpb24udXBWZWN0b3IoaWQsIDAsIDApOiBhbnkpLFxuICAgICAgICAgICAgJ3VfdGlsZV90cl91cCc6IChwcm9qZWN0aW9uLnVwVmVjdG9yKGlkLCBFWFRFTlQsIDApOiBhbnkpLFxuICAgICAgICAgICAgJ3VfdGlsZV9icl91cCc6IChwcm9qZWN0aW9uLnVwVmVjdG9yKGlkLCBFWFRFTlQsIEVYVEVOVCk6IGFueSksXG4gICAgICAgICAgICAndV90aWxlX2JsX3VwJzogKHByb2plY3Rpb24udXBWZWN0b3IoaWQsIDAsIEVYVEVOVCk6IGFueSksXG4gICAgICAgICAgICAndV90aWxlX3VwX3NjYWxlJzogKHVzZURlbm9ybWFsaXplZFVwVmVjdG9yU2NhbGUgPyBnbG9iZU1ldGVyc1RvRWNlZigxKSA6IHByb2plY3Rpb24udXBWZWN0b3JTY2FsZShpZCwgdHIuY2VudGVyLmxhdCwgdHIud29ybGRTaXplKS5tZXRlcnNUb1RpbGU6IGFueSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW5kZXJUb0JhY2tCdWZmZXIoYWNjdW11bGF0ZWREcmFwZXM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgICAgIGNvbnN0IHBhaW50ZXIgPSB0aGlzLnBhaW50ZXI7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBhaW50ZXIuY29udGV4dDtcblxuICAgICAgICBpZiAoYWNjdW11bGF0ZWREcmFwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCk7XG4gICAgICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodF0pO1xuXG4gICAgICAgIHBhaW50ZXIuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXJTdGFydCgpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlID0gZmFsc2U7XG4gICAgICAgIGRyYXdUZXJyYWluUmFzdGVyKHBhaW50ZXIsIHRoaXMsIHRoaXMucHJveHlTb3VyY2VDYWNoZSwgYWNjdW11bGF0ZWREcmFwZXMsIHRoaXMuX3VwZGF0ZVRpbWVzdGFtcCk7XG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlID0gdHJ1ZTtcblxuICAgICAgICBwYWludGVyLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyRW5kKCk7XG5cbiAgICAgICAgYWNjdW11bGF0ZWREcmFwZXMuc3BsaWNlKDAsIGFjY3VtdWxhdGVkRHJhcGVzLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLy8gRm9yIGVhY2ggcHJveHkgdGlsZSwgcmVuZGVyIGFsbCBsYXllcnMgdW50aWwgdGhlIG5vbi1kcmFwZWQgbGF5ZXIgKGFuZFxuICAgIC8vIHJlbmRlciB0aGUgdGlsZSB0byB0aGUgc2NyZWVuKSBiZWZvcmUgYWR2YW5jaW5nIHRvIHRoZSBuZXh0IHByb3h5IHRpbGUuXG4gICAgLy8gUmV0dXJucyB0aGUgbGFzdCBkcmF3biBpbmRleCB0aGF0IGlzIHVzZWQgYXMgYSBzdGFydFxuICAgIC8vIGxheWVyIGZvciBpbnRlcmxlYXZlZCBkcmFwZWQgcmVuZGVyaW5nLlxuICAgIC8vIEFwYXJ0IHRvIGxheWVyLWJ5LWxheWVyIHJlbmRlcmluZyB1c2VkIGluIDJELCBoZXJlIHdlIGhhdmUgcHJveHktdGlsZS1ieS1wcm94eS10aWxlXG4gICAgLy8gcmVuZGVyaW5nLlxuICAgIHJlbmRlckJhdGNoKHN0YXJ0TGF5ZXJJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKHRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnRMYXllckluZGV4ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgcGFpbnRlciA9IHRoaXMucGFpbnRlcjtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBwc2MgPSB0aGlzLnByb3h5U291cmNlQ2FjaGU7XG4gICAgICAgIGNvbnN0IHByb3hpZXMgPSB0aGlzLnByb3hpZWRDb29yZHNbcHNjLmlkXTtcblxuICAgICAgICAvLyBDb25zdW1lIGJhdGNoIG9mIHNlcXVlbnRpYWwgZHJhcGUgbGF5ZXJzIGFuZCBtb3ZlIG5leHRcbiAgICAgICAgY29uc3QgZHJhcGVkTGF5ZXJCYXRjaCA9IHRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXMuc2hpZnQoKTtcbiAgICAgICAgYXNzZXJ0KGRyYXBlZExheWVyQmF0Y2guc3RhcnQgPT09IHN0YXJ0TGF5ZXJJbmRleCk7XG5cbiAgICAgICAgY29uc3QgYWNjdW11bGF0ZWREcmFwZXMgPSBbXTtcbiAgICAgICAgY29uc3QgbGF5ZXJJZHMgPSBwYWludGVyLnN0eWxlLm9yZGVyO1xuXG4gICAgICAgIGxldCBwb29sSW5kZXggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHByb3h5IG9mIHByb3hpZXMpIHtcbiAgICAgICAgICAgIC8vIGJpbmQgZnJhbWVidWZmZXIgYW5kIGFzc2lnbiB0ZXh0dXJlIHRvIHRoZSB0aWxlICh0ZXh0dXJlIHVzZWQgaW4gZHJhd1RlcnJhaW5SYXN0ZXIpLlxuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHBzYy5nZXRUaWxlQnlJRChwcm94eS5wcm94eVRpbGVLZXkpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyQ2FjaGVJbmRleCA9IHBzYy5wcm94eUNhY2hlZEZCT1twcm94eS5rZXldID8gcHNjLnByb3h5Q2FjaGVkRkJPW3Byb3h5LmtleV1bc3RhcnRMYXllckluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IGZibyA9IHJlbmRlckNhY2hlSW5kZXggIT09IHVuZGVmaW5lZCA/IHBzYy5yZW5kZXJDYWNoZVtyZW5kZXJDYWNoZUluZGV4XSA6IHRoaXMucG9vbFtwb29sSW5kZXgrK107XG4gICAgICAgICAgICBjb25zdCB1c2VSZW5kZXJDYWNoZSA9IHJlbmRlckNhY2hlSW5kZXggIT09IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gZmJvLnRleDtcblxuICAgICAgICAgICAgaWYgKHVzZVJlbmRlckNhY2hlICYmICFmYm8uZGlydHkpIHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgY2FjaGVkIHJlbmRlciBmcm9tIHByZXZpb3VzIHBhc3MsIG5vIG5lZWQgdG8gcmVuZGVyIGFnYWluLlxuICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkRHJhcGVzLnB1c2godGlsZS50aWxlSUQpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQoZmJvLmZiLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRUb1RpbGUgPSBmYWxzZTsgLy8gcmVzZXQgZmxhZy5cbiAgICAgICAgICAgIGlmIChmYm8uZGlydHkpIHtcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBvbiBzdGFydC5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyKHtjb2xvcjogQ29sb3IudHJhbnNwYXJlbnQsIHN0ZW5jaWw6IDB9KTtcbiAgICAgICAgICAgICAgICBmYm8uZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGN1cnJlbnRTdGVuY2lsU291cmNlOyAvLyBUaGVyZSBpcyBubyBuZWVkIHRvIHNldHVwIHN0ZW5jaWwgZm9yIHRoZSBzYW1lIHNvdXJjZSBmb3IgY29uc2VjdXRpdmUgbGF5ZXJzLlxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGRyYXBlZExheWVyQmF0Y2guc3RhcnQ7IGogPD0gZHJhcGVkTGF5ZXJCYXRjaC5lbmQ7ICsraikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyID0gcGFpbnRlci5zdHlsZS5fbGF5ZXJzW2xheWVySWRzW2pdXTtcbiAgICAgICAgICAgICAgICBjb25zdCBoaWRkZW4gPSBsYXllci5pc0hpZGRlbihwYWludGVyLnRyYW5zZm9ybS56b29tKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQodGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZChsYXllcikgfHwgaGlkZGVuKTtcbiAgICAgICAgICAgICAgICBpZiAoaGlkZGVuKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gcGFpbnRlci5zdHlsZS5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShsYXllcik7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJveGllZENvb3JkcyA9IHNvdXJjZUNhY2hlID8gdGhpcy5wcm94eVRvU291cmNlW3Byb3h5LmtleV1bc291cmNlQ2FjaGUuaWRdIDogW3Byb3h5XTtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3hpZWRDb29yZHMpIGNvbnRpbnVlOyAvLyB3aGVuIHRpbGUgaXMgbm90IGxvYWRlZCB5ZXQgZm9yIHRoZSBzb3VyY2UgY2FjaGUuXG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb29yZHMgPSAoKHByb3hpZWRDb29yZHM6IGFueSk6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgZmJvLmZiLndpZHRoLCBmYm8uZmIuaGVpZ2h0XSk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGVuY2lsU291cmNlICE9PSAoc291cmNlQ2FjaGUgPyBzb3VyY2VDYWNoZS5pZCA6IG51bGwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldHVwU3RlbmNpbChmYm8sIHByb3hpZWRDb29yZHMsIGxheWVyLCBzb3VyY2VDYWNoZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGVuY2lsU291cmNlID0gc291cmNlQ2FjaGUgPyBzb3VyY2VDYWNoZS5pZCA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhaW50ZXIucmVuZGVyTGF5ZXIocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlZFRvVGlsZSkge1xuICAgICAgICAgICAgICAgIGZiby5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYWNjdW11bGF0ZWREcmFwZXMucHVzaCh0aWxlLnRpbGVJRCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF1c2VSZW5kZXJDYWNoZSkge1xuICAgICAgICAgICAgICAgIC0tcG9vbEluZGV4O1xuICAgICAgICAgICAgICAgIGFzc2VydChwb29sSW5kZXggPj0gMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9vbEluZGV4ID09PSBGQk9fUE9PTF9TSVpFKSB7XG4gICAgICAgICAgICAgICAgcG9vbEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclRvQmFja0J1ZmZlcihhY2N1bXVsYXRlZERyYXBlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXNldCBzdGF0ZXMgYW5kIHJlbmRlciBsYXN0IGRyYXBlc1xuICAgICAgICB0aGlzLnJlbmRlclRvQmFja0J1ZmZlcihhY2N1bXVsYXRlZERyYXBlcyk7XG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlID0gZmFsc2U7XG5cbiAgICAgICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpO1xuICAgICAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgcGFpbnRlci53aWR0aCwgcGFpbnRlci5oZWlnaHRdKTtcblxuICAgICAgICByZXR1cm4gZHJhcGVkTGF5ZXJCYXRjaC5lbmQgKyAxO1xuICAgIH1cblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBjb25zdW1lZCBhbGwgdGhlIGRyYXBlZCB0ZXJyYWluIGJhdGNoZXMgYXQgdGhpcyBwb2ludFxuICAgICAgICBhc3NlcnQodGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5sZW5ndGggPT09IDApO1xuICAgIH1cblxuICAgIHJlbmRlckNhY2hlRWZmaWNpZW5jeShzdHlsZTogU3R5bGUpOiBPYmplY3Qge1xuICAgICAgICBjb25zdCBsYXllckNvdW50ID0gc3R5bGUub3JkZXIubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsYXllckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge2VmZmljaWVuY3k6IDEwMC4wfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB1bmNhY2hlYWJsZUxheWVyQ291bnQgPSAwO1xuICAgICAgICBsZXQgZHJhcGVkTGF5ZXJDb3VudCA9IDA7XG4gICAgICAgIGxldCByZWFjaGVkVW5kcmFwZWRMYXllciA9IGZhbHNlO1xuICAgICAgICBsZXQgZmlyc3RVbmRyYXBlZExheWVyO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJDb3VudDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHN0eWxlLl9sYXllcnNbc3R5bGUub3JkZXJbaV1dO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9zdHlsZS5pc0xheWVyRHJhcGVkKGxheWVyKSkge1xuICAgICAgICAgICAgICAgIGlmICghcmVhY2hlZFVuZHJhcGVkTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVhY2hlZFVuZHJhcGVkTGF5ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFVuZHJhcGVkTGF5ZXIgPSBsYXllci5pZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZWFjaGVkVW5kcmFwZWRMYXllcikge1xuICAgICAgICAgICAgICAgICAgICArK3VuY2FjaGVhYmxlTGF5ZXJDb3VudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKytkcmFwZWRMYXllckNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRyYXBlZExheWVyQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7ZWZmaWNpZW5jeTogMTAwLjB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtlZmZpY2llbmN5OiAoMS4wIC0gdW5jYWNoZWFibGVMYXllckNvdW50IC8gZHJhcGVkTGF5ZXJDb3VudCkgKiAxMDAuMCwgZmlyc3RVbmRyYXBlZExheWVyfTtcbiAgICB9XG5cbiAgICBnZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgbWluID0gMC4wO1xuICAgICAgICAvLyBUaGUgbWF4aW11bSBERU0gZXJyb3IgaW4gbWV0ZXJzIHRvIGJlIGNvbnNlcnZhdGl2ZSAoU1JUTSkuXG4gICAgICAgIGNvbnN0IG1heERFTUVycm9yID0gMzAuMDtcbiAgICAgICAgdGhpcy5fdmlzaWJsZURlbVRpbGVzLmZpbHRlcih0aWxlID0+IHRpbGUuZGVtKS5mb3JFYWNoKHRpbGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWluTWF4VHJlZSA9ICh0aWxlLmRlbTogYW55KS50cmVlO1xuICAgICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCBtaW5NYXhUcmVlLm1pbmltdW1zWzBdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtaW4gPT09IDAuMCA/IG1pbiA6IChtaW4gLSBtYXhERU1FcnJvcikgKiB0aGlzLl9leGFnZ2VyYXRpb247XG4gICAgfVxuXG4gICAgLy8gUGVyZm9ybXMgcmF5Y2FzdCBhZ2FpbnN0IHZpc2libGUgREVNIHRpbGVzIG9uIHRoZSBzY3JlZW4gYW5kIHJldHVybnMgdGhlIGRpc3RhbmNlIHRyYXZlbGxlZCBhbG9uZyB0aGUgcmF5LlxuICAgIC8vIHggJiB5IGNvbXBvbmVudHMgb2YgdGhlIHBvc2l0aW9uIGFyZSBleHBlY3RlZCB0byBiZSBpbiBub3JtYWxpemVkIG1lcmNhdG9yIGNvb3JkaW5hdGVzIFswLCAxXSBhbmQgeiBpbiBtZXRlcnMuXG4gICAgcmF5Y2FzdChwb3M6IFZlYzMsIGRpcjogVmVjMywgZXhhZ2dlcmF0aW9uOiBudW1iZXIpOiA/bnVtYmVyIHtcbiAgICAgICAgaWYgKCF0aGlzLl92aXNpYmxlRGVtVGlsZXMpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICAvLyBQZXJmb3JtIGluaXRpYWwgcmF5Y2FzdHMgYWdhaW5zdCByb290IG5vZGVzIG9mIHRoZSBhdmFpbGFibGUgZGVtIHRpbGVzXG4gICAgICAgIC8vIGFuZCB1c2UgdGhpcyBpbmZvcm1hdGlvbiB0byBzb3J0IHRoZW0gZnJvbSBjbG9zZXN0IHRvIGZ1cnRoZXN0LlxuICAgICAgICBjb25zdCBwcmVwYXJlZFRpbGVzID0gdGhpcy5fdmlzaWJsZURlbVRpbGVzLmZpbHRlcih0aWxlID0+IHRpbGUuZGVtKS5tYXAodGlsZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHRpbGUudGlsZUlEO1xuICAgICAgICAgICAgY29uc3QgdGlsZXMgPSAxIDw8IGlkLm92ZXJzY2FsZWRaO1xuICAgICAgICAgICAgY29uc3Qge3gsIHl9ID0gaWQuY2Fub25pY2FsO1xuXG4gICAgICAgICAgICAvLyBDb21wdXRlIHRpbGUgYm91bmRhcmllcyBpbiBtZXJjYXRvciBjb29yZGluYXRlc1xuICAgICAgICAgICAgY29uc3QgbWlueCA9IHggLyB0aWxlcztcbiAgICAgICAgICAgIGNvbnN0IG1heHggPSAoeCArIDEpIC8gdGlsZXM7XG4gICAgICAgICAgICBjb25zdCBtaW55ID0geSAvIHRpbGVzO1xuICAgICAgICAgICAgY29uc3QgbWF4eSA9ICh5ICsgMSkgLyB0aWxlcztcbiAgICAgICAgICAgIGNvbnN0IHRyZWUgPSAodGlsZS5kZW06IGFueSkudHJlZTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtaW54LCBtaW55LCBtYXh4LCBtYXh5LFxuICAgICAgICAgICAgICAgIHQ6IHRyZWUucmF5Y2FzdFJvb3QobWlueCwgbWlueSwgbWF4eCwgbWF4eSwgcG9zLCBkaXIsIGV4YWdnZXJhdGlvbiksXG4gICAgICAgICAgICAgICAgdGlsZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJlcGFyZWRUaWxlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdCA9IGEudCAhPT0gbnVsbCA/IGEudCA6IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgICAgICBjb25zdCBidCA9IGIudCAhPT0gbnVsbCA/IGIudCA6IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgICAgICByZXR1cm4gYXQgLSBidDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBvYmogb2YgcHJlcGFyZWRUaWxlcykge1xuICAgICAgICAgICAgaWYgKG9iai50ID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIC8vIFBlcmZvcm0gbW9yZSBhY2N1cmF0ZSByYXljYXN0IGFnYWluc3QgdGhlIGRlbSB0cmVlLiBGaXJzdCBpbnRlcnNlY3Rpb24gaXMgdGhlIGNsb3Nlc3Qgb25cbiAgICAgICAgICAgIC8vIGFzIGFsbCB0aWxlcyBhcmUgc29ydGVkIGZyb20gY2xvc2VzdCB0byBmdXJ0aGVzdFxuICAgICAgICAgICAgY29uc3QgdHJlZSA9IChvYmoudGlsZS5kZW06IGFueSkudHJlZTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0cmVlLnJheWNhc3Qob2JqLm1pbngsIG9iai5taW55LCBvYmoubWF4eCwgb2JqLm1heHksIHBvcywgZGlyLCBleGFnZ2VyYXRpb24pO1xuXG4gICAgICAgICAgICBpZiAodCAhPSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUZCTygpOiBGQk8ge1xuICAgICAgICBjb25zdCBwYWludGVyID0gdGhpcy5wYWludGVyO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnN0IGJ1ZmZlclNpemUgPSB0aGlzLmRyYXBlQnVmZmVyU2l6ZTtcbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgIGNvbnN0IHRleCA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIHt3aWR0aDogYnVmZmVyU2l6ZVswXSwgaGVpZ2h0OiBidWZmZXJTaXplWzFdLCBkYXRhOiBudWxsfSwgZ2wuUkdCQSk7XG4gICAgICAgIHRleC5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGNvbnN0IGZiID0gY29udGV4dC5jcmVhdGVGcmFtZWJ1ZmZlcihidWZmZXJTaXplWzBdLCBidWZmZXJTaXplWzFdLCBmYWxzZSk7XG4gICAgICAgIGZiLmNvbG9yQXR0YWNobWVudC5zZXQodGV4LnRleHR1cmUpO1xuICAgICAgICBmYi5kZXB0aEF0dGFjaG1lbnQgPSBuZXcgRGVwdGhTdGVuY2lsQXR0YWNobWVudChjb250ZXh0LCBmYi5mcmFtZWJ1ZmZlcik7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWwgPSBjb250ZXh0LmNyZWF0ZVJlbmRlcmJ1ZmZlcihjb250ZXh0LmdsLkRFUFRIX1NURU5DSUwsIGJ1ZmZlclNpemVbMF0sIGJ1ZmZlclNpemVbMV0pO1xuICAgICAgICAgICAgdGhpcy5fc3RlbmNpbFJlZiA9IDA7XG4gICAgICAgICAgICBmYi5kZXB0aEF0dGFjaG1lbnQuc2V0KHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbCk7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyKHtzdGVuY2lsOiAwfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYi5kZXB0aEF0dGFjaG1lbnQuc2V0KHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMgJiYgIWNvbnRleHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljRm9yY2VPZmYpIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmYoZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICBjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxcbiAgICAgICAgICAgICAgICBjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge2ZiLCB0ZXgsIGRpcnR5OiBmYWxzZX07XG4gICAgfVxuXG4gICAgX2luaXRGQk9Qb29sKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5wb29sLmxlbmd0aCA8IE1hdGgubWluKEZCT19QT09MX1NJWkUsIHRoaXMucHJveHlDb29yZHMubGVuZ3RoKSkge1xuICAgICAgICAgICAgdGhpcy5wb29sLnB1c2godGhpcy5fY3JlYXRlRkJPKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Nob3VsZERpc2FibGVSZW5kZXJDYWNoZSgpOiBib29sZWFuIHtcbiAgICAgICAgLy8gRGlzYWJsZSByZW5kZXIgY2FjaGVzIG9uIGR5bmFtaWMgZXZlbnRzIGR1ZSB0byBmYWRpbmcgb3IgdHJhbnNpdGlvbmluZy5cbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlLmxpZ2h0ICYmIHRoaXMuX3N0eWxlLmxpZ2h0Lmhhc1RyYW5zaXRpb24oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzW2lkXS5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzVHJhbnNpdGlvbmluZyA9IGlkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5fc3R5bGUuX2xheWVyc1tpZF07XG4gICAgICAgICAgICBjb25zdCBpc0hpZGRlbiA9IGxheWVyLmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSk7XG4gICAgICAgICAgICBpZiAobGF5ZXIudHlwZSA9PT0gJ2N1c3RvbScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWlzSGlkZGVuICYmICgobGF5ZXI6IGFueSk6IEN1c3RvbVN0eWxlTGF5ZXIpLnNob3VsZFJlZHJhcGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAhaXNIaWRkZW4gJiYgbGF5ZXIuaGFzVHJhbnNpdGlvbigpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGUub3JkZXIuc29tZShpc1RyYW5zaXRpb25pbmcpO1xuICAgIH1cblxuICAgIF9jbGVhckxpbmVMYXllcnNGcm9tUmVuZGVyQ2FjaGUoKSB7XG4gICAgICAgIGxldCBoYXNWZWN0b3JTb3VyY2UgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2Ugb2YgdGhpcy5fc3R5bGUuX2dldFNvdXJjZXMoKSkge1xuICAgICAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIFZlY3RvclRpbGVTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBoYXNWZWN0b3JTb3VyY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNWZWN0b3JTb3VyY2UpIHJldHVybjtcblxuICAgICAgICBjb25zdCBjbGVhclNvdXJjZUNhY2hlcyA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3N0eWxlLm9yZGVyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX3N0eWxlLl9sYXllcnNbdGhpcy5fc3R5bGUub3JkZXJbaV1dO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLl9zdHlsZS5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShsYXllcik7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUNhY2hlIHx8IGNsZWFyU291cmNlQ2FjaGVzW3NvdXJjZUNhY2hlLmlkXSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IGlzSGlkZGVuID0gbGF5ZXIuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKTtcbiAgICAgICAgICAgIGlmIChpc0hpZGRlbiB8fCBsYXllci50eXBlICE9PSAnbGluZScpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBsYXllciBoYXMgYSB6b29tIGRlcGVuZGVudCBcImxpbmUtd2lkdGhcIiBleHByZXNzaW9uXG4gICAgICAgICAgICBjb25zdCB3aWR0aEV4cHJlc3Npb24gPSAoKGxheWVyOiBhbnkpOiBMaW5lU3R5bGVMYXllcikud2lkdGhFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICBpZiAoISh3aWR0aEV4cHJlc3Npb24gaW5zdGFuY2VvZiBab29tRGVwZW5kZW50RXhwcmVzc2lvbikpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBNYXJrIHNvdXJjZUNhY2hlIGFzIGNsZWFyZWRcbiAgICAgICAgICAgIGNsZWFyU291cmNlQ2FjaGVzW3NvdXJjZUNhY2hlLmlkXSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb3h5IG9mIHRoaXMucHJveHlDb29yZHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm94aWVkQ29vcmRzID0gdGhpcy5wcm94eVRvU291cmNlW3Byb3h5LmtleV1bc291cmNlQ2FjaGUuaWRdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9ICgocHJveGllZENvb3JkczogYW55KTogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pO1xuICAgICAgICAgICAgICAgIGlmICghY29vcmRzKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKHNvdXJjZUNhY2hlLmlkLCBjb29yZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NsZWFyUmFzdGVyTGF5ZXJzRnJvbVJlbmRlckNhY2hlKCkge1xuICAgICAgICBsZXQgaGFzUmFzdGVyU291cmNlID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXNbaWRdLl9zb3VyY2UgaW5zdGFuY2VvZiBSYXN0ZXJUaWxlU291cmNlKSB7XG4gICAgICAgICAgICAgICAgaGFzUmFzdGVyU291cmNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGFzUmFzdGVyU291cmNlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY2xlYXJTb3VyY2VDYWNoZXMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9zdHlsZS5vcmRlci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9zdHlsZS5fbGF5ZXJzW3RoaXMuX3N0eWxlLm9yZGVyW2ldXTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUobGF5ZXIpO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2VDYWNoZSB8fCBjbGVhclNvdXJjZUNhY2hlc1tzb3VyY2VDYWNoZS5pZF0pIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb25zdCBpc0hpZGRlbiA9IGxheWVyLmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSk7XG4gICAgICAgICAgICBpZiAoaXNIaWRkZW4gfHwgbGF5ZXIudHlwZSAhPT0gJ3Jhc3RlcicpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBhbnkgcmFzdGVyIHRpbGUgaXMgaW4gYSBmYWRpbmcgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IGZhZGVEdXJhdGlvbiA9ICgobGF5ZXI6IGFueSk6IFJhc3RlclN0eWxlTGF5ZXIpLnBhaW50LmdldCgncmFzdGVyLWZhZGUtZHVyYXRpb24nKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJveHkgb2YgdGhpcy5wcm94eUNvb3Jkcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3hpZWRDb29yZHMgPSB0aGlzLnByb3h5VG9Tb3VyY2VbcHJveHkua2V5XVtzb3VyY2VDYWNoZS5pZF07XG4gICAgICAgICAgICAgICAgY29uc3QgY29vcmRzID0gKChwcm94aWVkQ29vcmRzOiBhbnkpOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPik7XG4gICAgICAgICAgICAgICAgaWYgKCFjb29yZHMpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBzb3VyY2VDYWNoZS5maW5kTG9hZGVkUGFyZW50KGNvb3JkLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFkZSA9IHJhc3RlckZhZGUodGlsZSwgcGFyZW50LCBzb3VyY2VDYWNoZSwgdGhpcy5wYWludGVyLnRyYW5zZm9ybSwgZmFkZUR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNGYWRpbmcgPSBmYWRlLm9wYWNpdHkgIT09IDEgfHwgZmFkZS5taXggIT09IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0ZhZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoc291cmNlQ2FjaGUuaWQsIGNvb3JkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZXR1cERyYXBlZFJlbmRlckJhdGNoZXMoKSB7XG4gICAgICAgIGNvbnN0IGxheWVySWRzID0gdGhpcy5fc3R5bGUub3JkZXI7XG4gICAgICAgIGNvbnN0IGxheWVyQ291bnQgPSBsYXllcklkcy5sZW5ndGg7XG4gICAgICAgIGlmIChsYXllckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBiYXRjaGVzOiBBcnJheTxSZW5kZXJCYXRjaD4gPSBbXTtcblxuICAgICAgICBsZXQgY3VycmVudExheWVyID0gMDtcbiAgICAgICAgbGV0IGxheWVyID0gdGhpcy5fc3R5bGUuX2xheWVyc1tsYXllcklkc1tjdXJyZW50TGF5ZXJdXTtcbiAgICAgICAgd2hpbGUgKCF0aGlzLl9zdHlsZS5pc0xheWVyRHJhcGVkKGxheWVyKSAmJiBsYXllci5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pICYmICsrY3VycmVudExheWVyIDwgbGF5ZXJDb3VudCkge1xuICAgICAgICAgICAgbGF5ZXIgPSB0aGlzLl9zdHlsZS5fbGF5ZXJzW2xheWVySWRzW2N1cnJlbnRMYXllcl1dO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJhdGNoU3RhcnQ6IG51bWJlciB8IHZvaWQ7XG4gICAgICAgIGZvciAoOyBjdXJyZW50TGF5ZXIgPCBsYXllckNvdW50OyArK2N1cnJlbnRMYXllcikge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9zdHlsZS5fbGF5ZXJzW2xheWVySWRzW2N1cnJlbnRMYXllcl1dO1xuICAgICAgICAgICAgaWYgKGxheWVyLmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZChsYXllcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmF0Y2hTdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoZXMucHVzaCh7c3RhcnQ6IGJhdGNoU3RhcnQsIGVuZDogY3VycmVudExheWVyIC0gMX0pO1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFN0YXJ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiYXRjaFN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBiYXRjaFN0YXJ0ID0gY3VycmVudExheWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhdGNoU3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYmF0Y2hlcy5wdXNoKHtzdGFydDogYmF0Y2hTdGFydCwgZW5kOiBjdXJyZW50TGF5ZXIgLSAxfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc3R5bGUubWFwLl9vcHRpbWl6ZUZvclRlcnJhaW4pIHtcbiAgICAgICAgICAgIC8vIERyYXBlZCBmaXJzdCBhcHByb2FjaCBzaG91bGQgcmVzdWx0IGluIGEgc2luZ2xlIG9yIG5vIGJhdGNoXG4gICAgICAgICAgICBhc3NlcnQoYmF0Y2hlcy5sZW5ndGggPT09IDEgfHwgYmF0Y2hlcy5sZW5ndGggPT09IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcyA9IGJhdGNoZXM7XG4gICAgfVxuXG4gICAgX3NldHVwUmVuZGVyQ2FjaGUocHJldmlvdXNQcm94eVRvU291cmNlOiB7W251bWJlcl06IHtbc3RyaW5nXTogQXJyYXk8UHJveGllZFRpbGVJRD59fSkge1xuICAgICAgICBjb25zdCBwc2MgPSB0aGlzLnByb3h5U291cmNlQ2FjaGU7XG4gICAgICAgIGlmICh0aGlzLl9zaG91bGREaXNhYmxlUmVuZGVyQ2FjaGUoKSB8fCB0aGlzLl9pbnZhbGlkYXRlUmVuZGVyQ2FjaGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludmFsaWRhdGVSZW5kZXJDYWNoZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHBzYy5yZW5kZXJDYWNoZS5sZW5ndGggPiBwc2MucmVuZGVyQ2FjaGVQb29sLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZWQgPSAoKE9iamVjdC52YWx1ZXMocHNjLnByb3h5Q2FjaGVkRkJPKTogYW55KTogQXJyYXk8e1tzdHJpbmcgfCBudW1iZXJdOiBudW1iZXJ9Pik7XG4gICAgICAgICAgICAgICAgcHNjLnByb3h5Q2FjaGVkRkJPID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZib3MgPSAoKE9iamVjdC52YWx1ZXModXNlZFtpXSk6IGFueSk6IEFycmF5PG51bWJlcj4pO1xuICAgICAgICAgICAgICAgICAgICBwc2MucmVuZGVyQ2FjaGVQb29sLnB1c2goLi4uZmJvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFzc2VydChwc2MucmVuZGVyQ2FjaGUubGVuZ3RoID09PSBwc2MucmVuZGVyQ2FjaGVQb29sLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jbGVhclJhc3RlckxheWVyc0Zyb21SZW5kZXJDYWNoZSgpO1xuXG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMucHJveHlDb29yZHM7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gdGhpcy5fdGlsZXNEaXJ0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNvb3Jkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgcHJveHkgPSBjb29yZHNbaV07XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gcHNjLmdldFRpbGVCeUlEKHByb3h5LmtleSk7XG5cbiAgICAgICAgICAgIGlmIChwc2MucHJveHlDYWNoZWRGQk9bcHJveHkua2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRpbGUudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IHByZXZpb3VzUHJveHlUb1NvdXJjZVtwcm94eS5rZXldO1xuICAgICAgICAgICAgICAgIGFzc2VydChwcmV2KTtcbiAgICAgICAgICAgICAgICAvLyBSZXVzZSBwcmV2aW91cyByZW5kZXIgZnJvbSBjYWNoZSBpZiB0aGVyZSB3YXMgbm8gY2hhbmdlIG9mXG4gICAgICAgICAgICAgICAgLy8gY29udGVudCB0aGF0IHdhcyB1c2VkIHRvIHJlbmRlciBwcm94eSB0aWxlLlxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLnByb3h5VG9Tb3VyY2VbcHJveHkua2V5XTtcbiAgICAgICAgICAgICAgICBsZXQgZXF1YWwgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc291cmNlIGluIGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlsZXMgPSBjdXJyZW50W3NvdXJjZV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZUaWxlcyA9IHByZXZbc291cmNlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2VGlsZXMgfHwgcHJldlRpbGVzLmxlbmd0aCAhPT0gdGlsZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWxlcy5zb21lKCh0LCBpbmRleCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCAhPT0gcHJldlRpbGVzW2luZGV4XSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkaXJ0eVtzb3VyY2VdICYmIGRpcnR5W3NvdXJjZV0uaGFzT3duUHJvcGVydHkodC5rZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSkpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXF1YWwgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICsrZXF1YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRpcnR5ID09PSBmYWxzZTogZG9lc24ndCBuZWVkIHRvIGJlIHJlbmRlcmVkIHRvLCBqdXN0IHVzZSBjYWNoZWQgcmVuZGVyLlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJveHlGQk8gaW4gcHNjLnByb3h5Q2FjaGVkRkJPW3Byb3h5LmtleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcHNjLnJlbmRlckNhY2hlW3BzYy5wcm94eUNhY2hlZEZCT1twcm94eS5rZXldW3Byb3h5RkJPXV0uZGlydHkgPSBlcXVhbCA8IDAgfHwgZXF1YWwgIT09IE9iamVjdC52YWx1ZXMocHJldikubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvcnRlZFJlbmRlckJhdGNoZXMgPSBbLi4udGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlc107XG4gICAgICAgIHNvcnRlZFJlbmRlckJhdGNoZXMuc29ydCgoYmF0Y2hBLCBiYXRjaEIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoQVNpemUgPSBiYXRjaEEuZW5kIC0gYmF0Y2hBLnN0YXJ0O1xuICAgICAgICAgICAgY29uc3QgYmF0Y2hCU2l6ZSA9IGJhdGNoQi5lbmQgLSBiYXRjaEIuc3RhcnQ7XG4gICAgICAgICAgICByZXR1cm4gYmF0Y2hCU2l6ZSAtIGJhdGNoQVNpemU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAoY29uc3QgYmF0Y2ggb2Ygc29ydGVkUmVuZGVyQmF0Y2hlcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBjb29yZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocHNjLnByb3h5Q2FjaGVkRkJPW2lkLmtleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQXNzaWduIHJlbmRlckNhY2hlIEZCTyBpZiB0aGVyZSBhcmUgYXZhaWxhYmxlIEZCT3MgaW4gcG9vbC5cbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBwc2MucmVuZGVyQ2FjaGVQb29sLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkICYmIHBzYy5yZW5kZXJDYWNoZS5sZW5ndGggPCBSRU5ERVJfQ0FDSEVfTUFYX1NJWkUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBwc2MucmVuZGVyQ2FjaGUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBwc2MucmVuZGVyQ2FjaGUucHVzaCh0aGlzLl9jcmVhdGVGQk8oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBzYy5wcm94eUNhY2hlZEZCT1tpZC5rZXldID0ge307XG4gICAgICAgICAgICAgICAgICAgIHBzYy5wcm94eUNhY2hlZEZCT1tpZC5rZXldW2JhdGNoLnN0YXJ0XSA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICBwc2MucmVuZGVyQ2FjaGVbaW5kZXhdLmRpcnR5ID0gdHJ1ZTsgLy8gbmVlZHMgdG8gYmUgcmVuZGVyZWQgdG8uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RpbGVzRGlydHkgPSB7fTtcbiAgICB9XG5cbiAgICBfc2V0dXBTdGVuY2lsKGZibzogRkJPLCBwcm94aWVkQ29vcmRzOiBBcnJheTxQcm94aWVkVGlsZUlEPiwgbGF5ZXI6IFN0eWxlTGF5ZXIsIHNvdXJjZUNhY2hlPzogU291cmNlQ2FjaGUpIHtcbiAgICAgICAgaWYgKCFzb3VyY2VDYWNoZSB8fCAhdGhpcy5fc291cmNlVGlsZXNPdmVybGFwW3NvdXJjZUNhY2hlLmlkXSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSkgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgLy8gSWYgbmVlZGVkLCBzZXR1cCBzdGVuY2lsbGluZy4gRG9uJ3QgYm90aGVyIHRvIHJlbW92ZSB3aGVuIHRoZXJlIGlzIG5vXG4gICAgICAgIC8vIG1vcmUgbmVlZDogaW4gc3VjaCBjYXNlLCBpZiB0aGVyZSBpcyBubyBvdmVybGFwLCBzdGVuY2lsbGluZyBpcyBkaXNhYmxlZC5cbiAgICAgICAgaWYgKHByb3hpZWRDb29yZHMubGVuZ3RoIDw9IDEpIHsgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlID0gZmFsc2U7IHJldHVybjsgfVxuXG4gICAgICAgIGxldCBzdGVuY2lsUmFuZ2U7XG4gICAgICAgIGlmIChsYXllci5pc1RpbGVDbGlwcGVkKCkpIHtcbiAgICAgICAgICAgIHN0ZW5jaWxSYW5nZSA9IHByb3hpZWRDb29yZHMubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnRlc3QgPSB7ZnVuYzogZ2wuRVFVQUwsIG1hc2s6IDB4RkZ9O1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlID0gJ0NsaXAnO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3hpZWRDb29yZHNbMF0ub3ZlcnNjYWxlZFogPiBwcm94aWVkQ29vcmRzW3Byb3hpZWRDb29yZHMubGVuZ3RoIC0gMV0ub3ZlcnNjYWxlZFopIHtcbiAgICAgICAgICAgIHN0ZW5jaWxSYW5nZSA9IDE7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUudGVzdCA9IHtmdW5jOiBnbC5HUkVBVEVSLCBtYXNrOiAweEZGfTtcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSA9ICdNYXNrJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zdGVuY2lsUmVmICsgc3RlbmNpbFJhbmdlID4gMjU1KSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyKHtzdGVuY2lsOiAwfSk7XG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsUmVmID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGVuY2lsUmVmICs9IHN0ZW5jaWxSYW5nZTtcbiAgICAgICAgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZiA9IHRoaXMuX3N0ZW5jaWxSZWY7XG4gICAgICAgIGlmIChsYXllci5pc1RpbGVDbGlwcGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHByb3hpZWRDb29yZHMsIHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS5yZWYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xpcE9yTWFza092ZXJsYXBTdGVuY2lsVHlwZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSA9PT0gJ0NsaXAnIHx8IHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSA9PT0gJ01hc2snO1xuICAgIH1cblxuICAgIHN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChpZDogT3ZlcnNjYWxlZFRpbGVJRCk6ICRSZWFkT25seTxTdGVuY2lsTW9kZT4ge1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyaW5nVG9UZXh0dXJlIHx8ICF0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBTdGVuY2lsTW9kZS5kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBBbGwgc291cmNlIHRpbGVzIGNvbnRyaWJ1dGluZyB0byB0aGUgc2FtZSBwcm94eSBhcmUgcHJvY2Vzc2VkIGluIHNlcXVlbmNlLCBpbiB6b29tIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICAgIC8vIEZvciByYXN0ZXIgLyBoaWxsc2hhZGUgb3ZlcmxhcCBtYXNraW5nLCByZWYgaXMgYmFzZWQgb24gem9vbSBkaWYuXG4gICAgICAgIC8vIEZvciB2ZWN0b3IgbGF5ZXIgY2xpcHBpbmcsIGV2ZXJ5IHRpbGUgZ2V0cyBkZWRpY2F0ZWQgc3RlbmNpbCByZWYuXG4gICAgICAgIGlmICh0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGUgPT09ICdDbGlwJykge1xuICAgICAgICAgICAgLy8gSW4gaW1tZWRpYXRlIDJEIG1vZGUsIHdlIHJlbmRlciByZWN0cyB0byBtYXJrIGNsaXBwaW5nIGFyZWEgYW5kIGhhbmRsZSBiZWhhdmlvciBvbiB0aWxlIGJvcmRlcnMuXG4gICAgICAgICAgICAvLyBIZXJlLCB0aGVyZSBpcyBubyBuZWVkIGZvciBub3cgZm9yIHRoaXM6XG4gICAgICAgICAgICAvLyAxLiBvdmVybGFwIGlzIGhhbmRsZWQgYnkgcHJveHkgcmVuZGVyIHRvIHRleHR1cmUgdGlsZXMgKHRoZXJlIGlzIG5vIG92ZXJsYXAgdGhlcmUpXG4gICAgICAgICAgICAvLyAyLiBoZXJlIHdlIGhhbmRsZSBvbmx5IGJyaWVmIHpvb20gb3V0IHNlbWktdHJhbnNwYXJlbnQgY29sb3IgaW50ZW5zaXR5IGZsaWNrZXJpbmdcbiAgICAgICAgICAgIC8vICAgIGFuZCB0aGF0IGlzIGF2b2lkZWQgZmluZSBieSBzdGVuY2lsaW5nIHByaW1pdGl2ZXMgYXMgcGFydCBvZiBkcmF3aW5nIChpbnN0ZWFkIG9mIGFkZGl0aW9uYWwgdGlsZSBxdWFkIHN0ZXApLlxuICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZiA9IHRoaXMucGFpbnRlci5fdGlsZUNsaXBwaW5nTWFza0lEc1tpZC5rZXldO1xuICAgICAgICB9IC8vIGVsc2UgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZiBpcyBzZXQgdG8gYSBzaW5nbGUgdmFsdWUgdXNlZCBwZXIgcHJveHkgdGlsZSwgaW4gX3NldHVwU3RlbmNpbC5cbiAgICAgICAgcmV0dXJuIHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZTtcbiAgICB9XG5cbiAgICBfcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MocHJveGllZENvb3JkczogQXJyYXk8UHJveGllZFRpbGVJRD4sIHJlZjogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHBhaW50ZXIgPSB0aGlzLnBhaW50ZXI7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICBwYWludGVyLl90aWxlQ2xpcHBpbmdNYXNrSURzID0ge307XG4gICAgICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKENvbG9yTW9kZS5kaXNhYmxlZCk7XG4gICAgICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKERlcHRoTW9kZS5kaXNhYmxlZCk7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnY2xpcHBpbmdNYXNrJyk7XG5cbiAgICAgICAgZm9yIChjb25zdCB0aWxlSUQgb2YgcHJveGllZENvb3Jkcykge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBwYWludGVyLl90aWxlQ2xpcHBpbmdNYXNrSURzW3RpbGVJRC5rZXldID0gLS1yZWY7XG4gICAgICAgICAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLCBEZXB0aE1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgLy8gVGVzdHMgd2lsbCBhbHdheXMgcGFzcywgYW5kIHJlZiB2YWx1ZSB3aWxsIGJlIHdyaXR0ZW4gdG8gc3RlbmNpbCBidWZmZXIuXG4gICAgICAgICAgICAgICAgbmV3IFN0ZW5jaWxNb2RlKHtmdW5jOiBnbC5BTFdBWVMsIG1hc2s6IDB9LCBpZCwgMHhGRiwgZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuUkVQTEFDRSksXG4gICAgICAgICAgICAgICAgQ29sb3JNb2RlLmRpc2FibGVkLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsIGNsaXBwaW5nTWFza1VuaWZvcm1WYWx1ZXModGlsZUlELnByb2pNYXRyaXgpLFxuICAgICAgICAgICAgICAgICckY2xpcHBpbmcnLCBwYWludGVyLnRpbGVFeHRlbnRCdWZmZXIsXG4gICAgICAgICAgICAgICAgcGFpbnRlci5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlciwgcGFpbnRlci50aWxlRXh0ZW50U2VnbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FzdHMgYSByYXkgZnJvbSBhIHBvaW50IG9uIHNjcmVlbiBhbmQgcmV0dXJucyB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IHdpdGggdGhlIHRlcnJhaW4uXG4gICAgLy8gVGhlIHJldHVybmVkIHBvaW50IGNvbnRhaW5zIHRoZSBtZXJjYXRvciBjb29yZGluYXRlcyBpbiBpdHMgZmlyc3QgMyBjb21wb25lbnRzLCBhbmQgZWxldmF0aW9uXG4gICAgLy8gaW4gbWV0ZXIgaW4gaXRzIDR0aCBjb29yZGluYXRlLlxuICAgIHBvaW50Q29vcmRpbmF0ZShzY3JlZW5Qb2ludDogUG9pbnQpOiA/VmVjNCB7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHRoaXMucGFpbnRlci50cmFuc2Zvcm07XG4gICAgICAgIGlmIChzY3JlZW5Qb2ludC54IDwgMCB8fCBzY3JlZW5Qb2ludC54ID4gdHJhbnNmb3JtLndpZHRoIHx8XG4gICAgICAgICAgICBzY3JlZW5Qb2ludC55IDwgMCB8fCBzY3JlZW5Qb2ludC55ID4gdHJhbnNmb3JtLmhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmYXIgPSBbc2NyZWVuUG9pbnQueCwgc2NyZWVuUG9pbnQueSwgMSwgMV07XG4gICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChmYXIsIGZhciwgdHJhbnNmb3JtLnBpeGVsTWF0cml4SW52ZXJzZSk7XG4gICAgICAgIHZlYzQuc2NhbGUoZmFyLCBmYXIsIDEuMCAvIGZhclszXSk7XG4gICAgICAgIC8vIHggJiB5IGluIHBpeGVsIGNvb3JkaW5hdGVzLCB6IGlzIGFsdGl0dWRlIGluIG1ldGVyc1xuICAgICAgICBmYXJbMF0gLz0gdHJhbnNmb3JtLndvcmxkU2l6ZTtcbiAgICAgICAgZmFyWzFdIC89IHRyYW5zZm9ybS53b3JsZFNpemU7XG4gICAgICAgIGNvbnN0IGNhbWVyYSA9IHRyYW5zZm9ybS5fY2FtZXJhLnBvc2l0aW9uO1xuICAgICAgICBjb25zdCBtZXJjYXRvclpTY2FsZSA9IG1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLCB0cmFuc2Zvcm0uY2VudGVyLmxhdCk7XG4gICAgICAgIGNvbnN0IHAgPSBbY2FtZXJhWzBdLCBjYW1lcmFbMV0sIGNhbWVyYVsyXSAvIG1lcmNhdG9yWlNjYWxlLCAwLjBdO1xuICAgICAgICBjb25zdCBkaXIgPSB2ZWMzLnN1YnRyYWN0KFtdLCBmYXIuc2xpY2UoMCwgMyksIHApO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShkaXIsIGRpcik7XG5cbiAgICAgICAgY29uc3QgZXhhZ2dlcmF0aW9uID0gdGhpcy5fZXhhZ2dlcmF0aW9uO1xuICAgICAgICBjb25zdCBkaXN0YW5jZUFsb25nUmF5ID0gdGhpcy5yYXljYXN0KHAsIGRpciwgZXhhZ2dlcmF0aW9uKTtcblxuICAgICAgICBpZiAoZGlzdGFuY2VBbG9uZ1JheSA9PT0gbnVsbCB8fCAhZGlzdGFuY2VBbG9uZ1JheSkgcmV0dXJuIG51bGw7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQocCwgcCwgZGlyLCBkaXN0YW5jZUFsb25nUmF5KTtcbiAgICAgICAgcFszXSA9IHBbMl07XG4gICAgICAgIHBbMl0gKj0gbWVyY2F0b3JaU2NhbGU7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIGRyYXdEZXB0aCgpIHtcbiAgICAgICAgY29uc3QgcGFpbnRlciA9IHRoaXMucGFpbnRlcjtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgY29uc3QgcHNjID0gdGhpcy5wcm94eVNvdXJjZUNhY2hlO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKHBhaW50ZXIud2lkdGgpLCBoZWlnaHQgPSBNYXRoLmNlaWwocGFpbnRlci5oZWlnaHQpO1xuICAgICAgICBpZiAodGhpcy5fZGVwdGhGQk8gJiYgKHRoaXMuX2RlcHRoRkJPLndpZHRoICE9PSB3aWR0aCB8fCB0aGlzLl9kZXB0aEZCTy5oZWlnaHQgIT09IGhlaWdodCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlcHRoRkJPLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2RlcHRoRkJPID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5fZGVwdGhUZXh0dXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fZGVwdGhGQk8pIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgICAgIGNvbnN0IGZibyA9IGNvbnRleHQuY3JlYXRlRnJhbWVidWZmZXIod2lkdGgsIGhlaWdodCwgdHJ1ZSk7XG4gICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB7d2lkdGgsIGhlaWdodCwgZGF0YTogbnVsbH0sIGdsLlJHQkEpO1xuICAgICAgICAgICAgdGV4dHVyZS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgZmJvLmNvbG9yQXR0YWNobWVudC5zZXQodGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlUmVuZGVyYnVmZmVyKGNvbnRleHQuZ2wuREVQVEhfQ09NUE9ORU5UMTYsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgZmJvLmRlcHRoQXR0YWNobWVudC5zZXQocmVuZGVyYnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2RlcHRoRkJPID0gZmJvO1xuICAgICAgICAgICAgdGhpcy5fZGVwdGhUZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5fZGVwdGhGQk8uZnJhbWVidWZmZXIpO1xuICAgICAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgd2lkdGgsIGhlaWdodF0pO1xuXG4gICAgICAgIGRyYXdUZXJyYWluRGVwdGgocGFpbnRlciwgdGhpcywgcHNjLCB0aGlzLnByb3h5Q29vcmRzKTtcbiAgICB9XG5cbiAgICBfc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8oc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBzb3VyY2VDb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+LCBwcmV2aW91c1Byb3h5VG9Tb3VyY2U6IHtbbnVtYmVyXToge1tzdHJpbmddOiBBcnJheTxQcm94aWVkVGlsZUlEPn19KTogdm9pZCB7XG4gICAgICAgIGlmIChzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKSBpbnN0YW5jZW9mIEltYWdlU291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0dXBQcm94aWVkQ29vcmRzRm9ySW1hZ2VTb3VyY2Uoc291cmNlQ2FjaGUsIHNvdXJjZUNvb3JkcywgcHJldmlvdXNQcm94eVRvU291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGVbc291cmNlQ2FjaGUuaWRdID0gdGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW3NvdXJjZUNhY2hlLmlkXSB8fCB7fTtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5wcm94aWVkQ29vcmRzW3NvdXJjZUNhY2hlLmlkXSA9IFtdO1xuICAgICAgICBjb25zdCBwcm94eXMgPSB0aGlzLnByb3h5Q29vcmRzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3h5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcHJveHlUaWxlSUQgPSBwcm94eXNbaV07XG4gICAgICAgICAgICBjb25zdCBwcm94aWVkID0gdGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRChwcm94eVRpbGVJRCwgc291cmNlQ2FjaGUpO1xuICAgICAgICAgICAgaWYgKHByb3hpZWQpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQocHJveGllZC5oYXNEYXRhKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5fY3JlYXRlUHJveGllZElkKHByb3h5VGlsZUlELCBwcm94aWVkLCBwcmV2aW91c1Byb3h5VG9Tb3VyY2VbcHJveHlUaWxlSUQua2V5XSAmJiBwcmV2aW91c1Byb3h5VG9Tb3VyY2VbcHJveHlUaWxlSUQua2V5XVtzb3VyY2VDYWNoZS5pZF0pO1xuICAgICAgICAgICAgICAgIGNvb3Jkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3h5VG9Tb3VyY2VbcHJveHlUaWxlSUQua2V5XVtzb3VyY2VDYWNoZS5pZF0gPSBbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBoYXNPdmVybGFwID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlQ29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShzb3VyY2VDb29yZHNbaV0pO1xuICAgICAgICAgICAgaWYgKCF0aWxlIHx8ICF0aWxlLmhhc0RhdGEoKSkgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBwcm94eSA9IHRoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQodGlsZS50aWxlSUQsIHRoaXMucHJveHlTb3VyY2VDYWNoZSk7XG4gICAgICAgICAgICAvLyBEb24ndCBhZGQgdGhlIHRpbGUgaWYgYWxyZWFkeSBhZGRlZCBpbiBsb29wIGFib3ZlLlxuICAgICAgICAgICAgaWYgKHByb3h5ICYmIHByb3h5LnRpbGVJRC5jYW5vbmljYWwueiAhPT0gdGlsZS50aWxlSUQuY2Fub25pY2FsLnopIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheSA9IHRoaXMucHJveHlUb1NvdXJjZVtwcm94eS50aWxlSUQua2V5XVtzb3VyY2VDYWNoZS5pZF07XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9jcmVhdGVQcm94aWVkSWQocHJveHkudGlsZUlELCB0aWxlLCBwcmV2aW91c1Byb3h5VG9Tb3VyY2VbcHJveHkudGlsZUlELmtleV0gJiYgcHJldmlvdXNQcm94eVRvU291cmNlW3Byb3h5LnRpbGVJRC5rZXldW3NvdXJjZUNhY2hlLmlkXSk7XG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3h5VG9Tb3VyY2VbcHJveHkudGlsZUlELmtleV1bc291cmNlQ2FjaGUuaWRdID0gW2lkXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbGFzdCBlbGVtZW50IGlzIHBhcmVudCBhZGRlZCBpbiBsb29wIGFib3ZlLiBUaGlzIHdheSB3ZSBnZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBsaXN0IGluIFogZGVzY2VuZGluZyBvcmRlciB3aGljaCBpcyBuZWVkZWQgZm9yIHN0ZW5jaWwgbWFza2luZy5cbiAgICAgICAgICAgICAgICAgICAgYXJyYXkuc3BsaWNlKGFycmF5Lmxlbmd0aCAtIDEsIDAsIGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29vcmRzLnB1c2goaWQpO1xuICAgICAgICAgICAgICAgIGhhc092ZXJsYXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NvdXJjZVRpbGVzT3ZlcmxhcFtzb3VyY2VDYWNoZS5pZF0gPSBoYXNPdmVybGFwO1xuICAgIH1cblxuICAgIF9zZXR1cFByb3hpZWRDb29yZHNGb3JJbWFnZVNvdXJjZShzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIHNvdXJjZUNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4sIHByZXZpb3VzUHJveHlUb1NvdXJjZToge1tudW1iZXJdOiB7W3N0cmluZ106IEFycmF5PFByb3hpZWRUaWxlSUQ+fX0pIHtcbiAgICAgICAgaWYgKCFzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5sb2FkZWQoKSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMucHJveGllZENvb3Jkc1tzb3VyY2VDYWNoZS5pZF0gPSBbXTtcbiAgICAgICAgY29uc3QgcHJveHlzID0gdGhpcy5wcm94eUNvb3JkcztcbiAgICAgICAgY29uc3QgaW1hZ2VTb3VyY2U6IEltYWdlU291cmNlID0gKChzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKTogYW55KTogSW1hZ2VTb3VyY2UpO1xuXG4gICAgICAgIGNvbnN0IGFuY2hvciA9IG5ldyBQb2ludChpbWFnZVNvdXJjZS50aWxlSUQueCwgaW1hZ2VTb3VyY2UudGlsZUlELnkpLl9kaXYoMSA8PCBpbWFnZVNvdXJjZS50aWxlSUQueik7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgY29uc3QgYWFiYiA9IGltYWdlU291cmNlLmNvb3JkaW5hdGVzLm1hcChNZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCkucmVkdWNlKChhY2MsIGNvb3JkKSA9PiB7XG4gICAgICAgICAgICBhY2MubWluLnggPSBNYXRoLm1pbihhY2MubWluLngsIGNvb3JkLnggLSBhbmNob3IueCk7XG4gICAgICAgICAgICBhY2MubWluLnkgPSBNYXRoLm1pbihhY2MubWluLnksIGNvb3JkLnkgLSBhbmNob3IueSk7XG4gICAgICAgICAgICBhY2MubWF4LnggPSBNYXRoLm1heChhY2MubWF4LngsIGNvb3JkLnggLSBhbmNob3IueCk7XG4gICAgICAgICAgICBhY2MubWF4LnkgPSBNYXRoLm1heChhY2MubWF4LnksIGNvb3JkLnkgLSBhbmNob3IueSk7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7bWluOiBuZXcgUG9pbnQoTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSksIG1heDogbmV3IFBvaW50KC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSl9KTtcblxuICAgICAgICAvLyBGYXN0IGNvbnNlcnZhdGl2ZSBjaGVjayB1c2luZyBhYWJiOiBjb250ZW50IG91dHNpZGUgcHJveHkgdGlsZSBnZXRzIGNsaXBwZWQgb3V0IGJ5IG9uIHJlbmRlciwgYW55d2F5LlxuICAgICAgICBjb25zdCB0aWxlT3V0c2lkZUltYWdlID0gKHRpbGVJRCwgaW1hZ2VUaWxlSUQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHggPSB0aWxlSUQud3JhcCArIHRpbGVJRC5jYW5vbmljYWwueCAvICgxIDw8IHRpbGVJRC5jYW5vbmljYWwueik7XG4gICAgICAgICAgICBjb25zdCB5ID0gdGlsZUlELmNhbm9uaWNhbC55IC8gKDEgPDwgdGlsZUlELmNhbm9uaWNhbC56KTtcbiAgICAgICAgICAgIGNvbnN0IGQgPSBFWFRFTlQgLyAoMSA8PCB0aWxlSUQuY2Fub25pY2FsLnopO1xuXG4gICAgICAgICAgICBjb25zdCBpeCA9IGltYWdlVGlsZUlELndyYXAgKyBpbWFnZVRpbGVJRC5jYW5vbmljYWwueCAvICgxIDw8IGltYWdlVGlsZUlELmNhbm9uaWNhbC56KTtcbiAgICAgICAgICAgIGNvbnN0IGl5ID0gaW1hZ2VUaWxlSUQuY2Fub25pY2FsLnkgLyAoMSA8PCBpbWFnZVRpbGVJRC5jYW5vbmljYWwueik7XG5cbiAgICAgICAgICAgIHJldHVybiB4ICsgZCA8IGl4ICsgYWFiYi5taW4ueCB8fCB4ID4gaXggKyBhYWJiLm1heC54IHx8IHkgKyBkIDwgaXkgKyBhYWJiLm1pbi55IHx8IHkgPiBpeSArIGFhYmIubWF4Lnk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm94eXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3h5VGlsZUlEID0gcHJveHlzW2ldO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzb3VyY2VDb29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShzb3VyY2VDb29yZHNbal0pO1xuICAgICAgICAgICAgICAgIGlmICghdGlsZSB8fCAhdGlsZS5oYXNEYXRhKCkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgcHJveGllZCAtPiBwcm94eSBtYXBwaW5nIG9ubHkgaWYgaW1hZ2Ugb24gZ2l2ZW4gdGlsZSB3cmFwIGludGVyc2VjdHMgdGhlIHByb3h5IHRpbGUuXG4gICAgICAgICAgICAgICAgaWYgKHRpbGVPdXRzaWRlSW1hZ2UocHJveHlUaWxlSUQsIHRpbGUudGlsZUlEKSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2NyZWF0ZVByb3hpZWRJZChwcm94eVRpbGVJRCwgdGlsZSwgcHJldmlvdXNQcm94eVRvU291cmNlW3Byb3h5VGlsZUlELmtleV0gJiYgcHJldmlvdXNQcm94eVRvU291cmNlW3Byb3h5VGlsZUlELmtleV1bc291cmNlQ2FjaGUuaWRdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheSA9IHRoaXMucHJveHlUb1NvdXJjZVtwcm94eVRpbGVJRC5rZXldW3NvdXJjZUNhY2hlLmlkXTtcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJveHlUb1NvdXJjZVtwcm94eVRpbGVJRC5rZXldW3NvdXJjZUNhY2hlLmlkXSA9IFtpZF07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaChpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvb3Jkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJlY3ljbGUgaXMgcHJldmlvdXMgcGFzcyBjb250ZW50IHRoYXQgbGlrZWx5IGNvbnRhaW5zIHByb3hpZWQgSUQgY29tYmluaW5nIHByb3h5IGFuZCBzb3VyY2UgdGlsZS5cbiAgICBfY3JlYXRlUHJveGllZElkKHByb3h5VGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCB0aWxlOiBUaWxlLCByZWN5Y2xlOiBBcnJheTxQcm94aWVkVGlsZUlEPik6IFByb3hpZWRUaWxlSUQge1xuICAgICAgICBsZXQgbWF0cml4ID0gdGhpcy5vcnRob01hdHJpeDtcbiAgICAgICAgaWYgKHJlY3ljbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY3ljbGVkID0gcmVjeWNsZS5maW5kKHByb3hpZWQgPT4gKHByb3hpZWQua2V5ID09PSB0aWxlLnRpbGVJRC5rZXkpKTtcbiAgICAgICAgICAgIGlmIChyZWN5Y2xlZCkgcmV0dXJuIHJlY3ljbGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aWxlLnRpbGVJRC5rZXkgIT09IHByb3h5VGlsZUlELmtleSkge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBwcm94eVRpbGVJRC5jYW5vbmljYWwueiAtIHRpbGUudGlsZUlELmNhbm9uaWNhbC56O1xuICAgICAgICAgICAgbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgICAgIGxldCBzaXplLCB4T2Zmc2V0LCB5T2Zmc2V0O1xuICAgICAgICAgICAgY29uc3Qgd3JhcCA9ICh0aWxlLnRpbGVJRC53cmFwIC0gcHJveHlUaWxlSUQud3JhcCkgPDwgcHJveHlUaWxlSUQub3ZlcnNjYWxlZFo7XG4gICAgICAgICAgICBpZiAoc2NhbGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IEVYVEVOVCA+PiBzY2FsZTtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0ID0gc2l6ZSAqICgodGlsZS50aWxlSUQuY2Fub25pY2FsLnggPDwgc2NhbGUpIC0gcHJveHlUaWxlSUQuY2Fub25pY2FsLnggKyB3cmFwKTtcbiAgICAgICAgICAgICAgICB5T2Zmc2V0ID0gc2l6ZSAqICgodGlsZS50aWxlSUQuY2Fub25pY2FsLnkgPDwgc2NhbGUpIC0gcHJveHlUaWxlSUQuY2Fub25pY2FsLnkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaXplID0gRVhURU5UIDw8IC1zY2FsZTtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0ID0gRVhURU5UICogKHRpbGUudGlsZUlELmNhbm9uaWNhbC54IC0gKChwcm94eVRpbGVJRC5jYW5vbmljYWwueCArIHdyYXApIDw8IC1zY2FsZSkpO1xuICAgICAgICAgICAgICAgIHlPZmZzZXQgPSBFWFRFTlQgKiAodGlsZS50aWxlSUQuY2Fub25pY2FsLnkgLSAocHJveHlUaWxlSUQuY2Fub25pY2FsLnkgPDwgLXNjYWxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXQ0Lm9ydGhvKG1hdHJpeCwgMCwgc2l6ZSwgMCwgc2l6ZSwgMCwgMSk7XG4gICAgICAgICAgICBtYXQ0LnRyYW5zbGF0ZShtYXRyaXgsIG1hdHJpeCwgW3hPZmZzZXQsIHlPZmZzZXQsIDBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb3hpZWRUaWxlSUQodGlsZS50aWxlSUQsIHByb3h5VGlsZUlELmtleSwgbWF0cml4KTtcbiAgICB9XG5cbiAgICAvLyBBIHZhcmlhbnQgb2YgU291cmNlQ2FjaGUuZmluZExvYWRlZFBhcmVudCB0aGF0IGNvbnNpZGVycyBvbmx5IHZpc2libGVcbiAgICAvLyB0aWxlcyAoYW5kIGRvZXNuJ3QgY2hlY2sgU291cmNlQ2FjaGUuX2NhY2hlKS4gQW5vdGhlciBkaWZmZXJlbmNlIGlzIGluXG4gICAgLy8gY2FjaGluZyBcIm5vdCBmb3VuZFwiIHJlc3VsdHMgYWxvbmcgdGhlIGxvb2t1cCwgdG8gbGVhdmUgdGhlIGxvb2t1cCBlYXJseS5cbiAgICAvLyBOb3QgZm91bmQgaXMgY2FjaGVkIGJ5IHRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtrZXldID0gbnVsbDtcbiAgICBfZmluZFRpbGVDb3ZlcmluZ1RpbGVJRCh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSk6ID9UaWxlIHtcbiAgICAgICAgbGV0IHRpbGU6ID9UaWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZSh0aWxlSUQpO1xuICAgICAgICBpZiAodGlsZSAmJiB0aWxlLmhhc0RhdGEoKSkgcmV0dXJuIHRpbGU7XG5cbiAgICAgICAgY29uc3QgbG9va3VwID0gdGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW3NvdXJjZUNhY2hlLmlkXTtcbiAgICAgICAgY29uc3Qga2V5ID0gbG9va3VwW3RpbGVJRC5rZXldO1xuICAgICAgICB0aWxlID0ga2V5ID8gc291cmNlQ2FjaGUuZ2V0VGlsZUJ5SUQoa2V5KSA6IG51bGw7XG4gICAgICAgIGlmICgodGlsZSAmJiB0aWxlLmhhc0RhdGEoKSkgfHwga2V5ID09PSBudWxsKSByZXR1cm4gdGlsZTtcblxuICAgICAgICBhc3NlcnQoIWtleSB8fCB0aWxlKTtcblxuICAgICAgICBsZXQgc291cmNlVGlsZUlEID0gdGlsZSA/IHRpbGUudGlsZUlEIDogdGlsZUlEO1xuICAgICAgICBsZXQgeiA9IHNvdXJjZVRpbGVJRC5vdmVyc2NhbGVkWjtcbiAgICAgICAgY29uc3QgbWluem9vbSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLm1pbnpvb207XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heHpvb20gPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5tYXh6b29tO1xuICAgICAgICAgICAgaWYgKHRpbGVJRC5jYW5vbmljYWwueiA+PSBtYXh6b29tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG93bnNjYWxlID0gdGlsZUlELmNhbm9uaWNhbC56IC0gbWF4em9vbTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUuZ2V0U291cmNlKCkucmVwYXJzZU92ZXJzY2FsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgeiA9IE1hdGgubWF4KHRpbGVJRC5jYW5vbmljYWwueiArIDIsIHNvdXJjZUNhY2hlLnRyYW5zZm9ybS50aWxlWm9vbSk7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVRpbGVJRCA9IG5ldyBPdmVyc2NhbGVkVGlsZUlEKHosIHRpbGVJRC53cmFwLCBtYXh6b29tLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZUlELmNhbm9uaWNhbC54ID4+IGRvd25zY2FsZSwgdGlsZUlELmNhbm9uaWNhbC55ID4+IGRvd25zY2FsZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb3duc2NhbGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgeiA9IG1heHpvb207XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVRpbGVJRCA9IG5ldyBPdmVyc2NhbGVkVGlsZUlEKHosIHRpbGVJRC53cmFwLCBtYXh6b29tLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZUlELmNhbm9uaWNhbC54ID4+IGRvd25zY2FsZSwgdGlsZUlELmNhbm9uaWNhbC55ID4+IGRvd25zY2FsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvdXJjZVRpbGVJRC5rZXkgIT09IHRpbGVJRC5rZXkpIHtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goc291cmNlVGlsZUlELmtleSk7XG4gICAgICAgICAgICAgICAgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoc291cmNlVGlsZUlEKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhdGhUb0xvb2t1cCA9IChrZXkpID0+IHtcbiAgICAgICAgICAgIHBhdGguZm9yRWFjaChpZCA9PiB7IGxvb2t1cFtpZF0gPSBrZXk7IH0pO1xuICAgICAgICAgICAgcGF0aC5sZW5ndGggPSAwO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAoeiA9IHogLSAxOyB6ID49IG1pbnpvb20gJiYgISh0aWxlICYmIHRpbGUuaGFzRGF0YSgpKTsgei0tKSB7XG4gICAgICAgICAgICBpZiAodGlsZSkge1xuICAgICAgICAgICAgICAgIHBhdGhUb0xvb2t1cCh0aWxlLnRpbGVJRC5rZXkpOyAvLyBTdG9yZSBsb29rdXAgdG8gcGFyZW50cyBub3QgbG9hZGVkICh5ZXQpLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaWQgPSBzb3VyY2VUaWxlSUQuY2FsY3VsYXRlU2NhbGVkS2V5KHopO1xuICAgICAgICAgICAgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGVCeUlEKGlkKTtcbiAgICAgICAgICAgIGlmICh0aWxlICYmIHRpbGUuaGFzRGF0YSgpKSBicmVhaztcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGxvb2t1cFtpZF07XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIFRoZXJlJ3Mgbm8gdGlsZSBsb2FkZWQgYW5kIG5vIHBvaW50IHNlYXJjaGluZyBmdXJ0aGVyLlxuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlQnlJRChrZXkpO1xuICAgICAgICAgICAgICAgIGFzc2VydCh0aWxlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhdGgucHVzaChpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXRoVG9Mb29rdXAodGlsZSA/IHRpbGUudGlsZUlELmtleSA6IG51bGwpO1xuICAgICAgICByZXR1cm4gdGlsZSAmJiB0aWxlLmhhc0RhdGEoKSA/IHRpbGUgOiBudWxsO1xuICAgIH1cblxuICAgIGZpbmRERU1UaWxlRm9yKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6ID9UaWxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlZCA/IHRoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQodGlsZUlELCB0aGlzLnNvdXJjZUNhY2hlKSA6IG51bGw7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBCb29ra2VlcGluZyBpZiBzb21ldGhpbmcgZ2V0cyByZW5kZXJlZCB0byB0aGUgdGlsZS5cbiAgICAgKi9cbiAgICBwcmVwYXJlRHJhd1RpbGUoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZWRUb1RpbGUgPSB0cnVlO1xuICAgIH1cblxuICAgIF9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShzb3VyY2U6IHN0cmluZywgY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQpIHtcbiAgICAgICAgbGV0IHNvdXJjZVRpbGVzID0gdGhpcy5fdGlsZXNEaXJ0eVtzb3VyY2VdO1xuICAgICAgICBpZiAoIXNvdXJjZVRpbGVzKSBzb3VyY2VUaWxlcyA9IHRoaXMuX3RpbGVzRGlydHlbc291cmNlXSA9IHt9O1xuICAgICAgICBzb3VyY2VUaWxlc1tjb29yZC5rZXldID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIExhemlseSBpbnN0YW50aWF0ZSB0aGUgd2lyZWZyYW1lIGluZGV4IGJ1ZmZlciBhbmQgc2VnbWVudCB2ZWN0b3Igc28gdGhhdCB3ZSBkb24ndFxuICAgICAqIGFsbG9jYXRlIHRoZSBnZW9tZXRyeSBmb3IgcmVuZGVyaW5nIGEgZGVidWcgd2lyZWZyYW1lIHVudGlsIGl0J3MgbmVlZGVkLlxuICAgICAqL1xuICAgIGdldFdpcmVmYW1lQnVmZmVyKCk6IFtJbmRleEJ1ZmZlciwgU2VnbWVudFZlY3Rvcl0ge1xuICAgICAgICBpZiAoIXRoaXMud2lyZWZyYW1lU2VnbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHdpcmVmcmFtZUdyaWRJbmRpY2VzID0gY3JlYXRlV2lyZWZyYW1lR3JpZChHUklEX0RJTSArIDEpO1xuICAgICAgICAgICAgdGhpcy53aXJlZnJhbWVJbmRleEJ1ZmZlciA9IHRoaXMucGFpbnRlci5jb250ZXh0LmNyZWF0ZUluZGV4QnVmZmVyKHdpcmVmcmFtZUdyaWRJbmRpY2VzKTtcbiAgICAgICAgICAgIHRoaXMud2lyZWZyYW1lU2VnbWVudHMgPSBTZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwgMCwgdGhpcy5ncmlkQnVmZmVyLmxlbmd0aCwgd2lyZWZyYW1lR3JpZEluZGljZXMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RoaXMud2lyZWZyYW1lSW5kZXhCdWZmZXIsIHRoaXMud2lyZWZyYW1lU2VnbWVudHNdO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBzb3J0QnlEaXN0YW5jZVRvQ2FtZXJhKHRpbGVJRHMsIHBhaW50ZXIpIHtcbiAgICBjb25zdCBjYW1lcmFDb29yZGluYXRlID0gcGFpbnRlci50cmFuc2Zvcm0ucG9pbnRDb29yZGluYXRlKHBhaW50ZXIudHJhbnNmb3JtLmdldENhbWVyYVBvaW50KCkpO1xuICAgIGNvbnN0IGNhbWVyYVBvaW50ID0gbmV3IFBvaW50KGNhbWVyYUNvb3JkaW5hdGUueCwgY2FtZXJhQ29vcmRpbmF0ZS55KTtcbiAgICB0aWxlSURzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgaWYgKGIub3ZlcnNjYWxlZFogLSBhLm92ZXJzY2FsZWRaKSByZXR1cm4gYi5vdmVyc2NhbGVkWiAtIGEub3ZlcnNjYWxlZFo7XG4gICAgICAgIGNvbnN0IGFQb2ludCA9IG5ldyBQb2ludChhLmNhbm9uaWNhbC54ICsgKDEgPDwgYS5jYW5vbmljYWwueikgKiBhLndyYXAsIGEuY2Fub25pY2FsLnkpO1xuICAgICAgICBjb25zdCBiUG9pbnQgPSBuZXcgUG9pbnQoYi5jYW5vbmljYWwueCArICgxIDw8IGIuY2Fub25pY2FsLnopICogYi53cmFwLCBiLmNhbm9uaWNhbC55KTtcbiAgICAgICAgY29uc3QgY2FtZXJhU2NhbGVkID0gY2FtZXJhUG9pbnQubXVsdCgxIDw8IGEuY2Fub25pY2FsLnopO1xuICAgICAgICBjYW1lcmFTY2FsZWQueCAtPSAwLjU7XG4gICAgICAgIGNhbWVyYVNjYWxlZC55IC09IDAuNTtcbiAgICAgICAgcmV0dXJuIGNhbWVyYVNjYWxlZC5kaXN0U3FyKGFQb2ludCkgLSBjYW1lcmFTY2FsZWQuZGlzdFNxcihiUG9pbnQpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgdW5pZm9ybSBncmlkIG9mIHRyaWFuZ2xlcywgY292ZXJpbmcgRVhURU5UIHggRVhURU5UIHNxdWFyZSwgd2l0aCB0d29cbiAqIGFkanVzdGVudCB0cmFpZ2xlcyBmb3JtaW5nIGEgcXVhZCwgc28gdGhhdCB0aGVyZSBhcmUgfGNvdW50fCBjb2x1bW5zIGFuZCByb3dzXG4gKiBvZiB0aGVzZSBxdWFkcyBpbiBFWFRFTlQgeCBFWFRFTlQgc3F1YXJlLlxuICogZS5nLiBmb3IgY291bnQgb2YgMjpcbiAqICAtLS0tLS0tLS0tLS0tXG4gKiAgfCAgICAvfCAgICAvfFxuICogIHwgIC8gIHwgIC8gIHxcbiAqICB8LyAgICB8LyAgICB8XG4gKiAgLS0tLS0tLS0tLS0tLVxuICogIHwgICAgL3wgICAgL3xcbiAqICB8ICAvICB8ICAvICB8XG4gKiAgfC8gICAgfC8gICAgfFxuICogIC0tLS0tLS0tLS0tLS1cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCBDb3VudCBvZiByb3dzIGFuZCBjb2x1bW5zXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVHcmlkKGNvdW50OiBudW1iZXIpOiBbUG9zQXJyYXksIFRyaWFuZ2xlSW5kZXhBcnJheSwgbnVtYmVyXSB7XG4gICAgY29uc3QgYm91bmRzQXJyYXkgPSBuZXcgUG9zQXJyYXkoKTtcbiAgICAvLyBBcm91bmQgdGhlIGdyaWQsIGFkZCBvbmUgbW9yZSByb3cvY29sdW1uIHBhZGRpbmcgZm9yIFwic2tpcnRcIi5cbiAgICBjb25zdCBpbmRleEFycmF5ID0gbmV3IFRyaWFuZ2xlSW5kZXhBcnJheSgpO1xuICAgIGNvbnN0IHNpemUgPSBjb3VudCArIDI7XG4gICAgYm91bmRzQXJyYXkucmVzZXJ2ZShzaXplICogc2l6ZSk7XG4gICAgaW5kZXhBcnJheS5yZXNlcnZlKChzaXplIC0gMSkgKiAoc2l6ZSAtIDEpICogMik7XG4gICAgY29uc3Qgc3RlcCA9IEVYVEVOVCAvIChjb3VudCAtIDEpO1xuICAgIGNvbnN0IGdyaWRCb3VuZCA9IEVYVEVOVCArIHN0ZXAgLyAyO1xuICAgIGNvbnN0IGJvdW5kID0gZ3JpZEJvdW5kICsgc3RlcDtcblxuICAgIC8vIFNraXJ0IG9mZnNldCBvZiAweDVGRkYgaXMgY2hvc2VuIHJhbmRvbWx5IHRvIGVuY29kZSBib29sZWFuIHZhbHVlIChza2lydFxuICAgIC8vIG9uL29mZikgd2l0aCB4IHBvc2l0aW9uIChtYXggdmFsdWUgRVhURU5UID0gNDA5NikgdG8gMTYtYml0IHNpZ25lZCBpbnRlZ2VyLlxuICAgIGNvbnN0IHNraXJ0T2Zmc2V0ID0gMjQ1NzU7IC8vIDB4NUZGRlxuICAgIGZvciAobGV0IHkgPSAtc3RlcDsgeSA8IGJvdW5kOyB5ICs9IHN0ZXApIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IC1zdGVwOyB4IDwgYm91bmQ7IHggKz0gc3RlcCkge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKHggPCAwIHx8IHggPiBncmlkQm91bmQgfHwgeSA8IDAgfHwgeSA+IGdyaWRCb3VuZCkgPyBza2lydE9mZnNldCA6IDA7XG4gICAgICAgICAgICBjb25zdCB4aSA9IGNsYW1wKE1hdGgucm91bmQoeCksIDAsIEVYVEVOVCk7XG4gICAgICAgICAgICBjb25zdCB5aSA9IGNsYW1wKE1hdGgucm91bmQoeSksIDAsIEVYVEVOVCk7XG4gICAgICAgICAgICBib3VuZHNBcnJheS5lbXBsYWNlQmFjayh4aSArIG9mZnNldCwgeWkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRm9yIGNhc2VzIHdoZW4gdGhlcmUncyBubyBuZWVkIHRvIHJlbmRlciBcInNraXJ0XCIsIHRoZSBcImlubmVyXCIgZ3JpZCBpbmRpY2VzXG4gICAgLy8gYXJlIGZvbGxvd2VkIGJ5IHNraXJ0IGluZGljZXMuXG4gICAgY29uc3Qgc2tpcnRJbmRpY2VzT2Zmc2V0ID0gKHNpemUgLSAzKSAqIChzaXplIC0gMykgKiAyO1xuICAgIGNvbnN0IHF1YWQgPSAoaSwgaikgPT4ge1xuICAgICAgICBjb25zdCBpbmRleCA9IGogKiBzaXplICsgaTtcbiAgICAgICAgaW5kZXhBcnJheS5lbXBsYWNlQmFjayhpbmRleCArIDEsIGluZGV4LCBpbmRleCArIHNpemUpO1xuICAgICAgICBpbmRleEFycmF5LmVtcGxhY2VCYWNrKGluZGV4ICsgc2l6ZSwgaW5kZXggKyBzaXplICsgMSwgaW5kZXggKyAxKTtcbiAgICB9O1xuICAgIGZvciAobGV0IGogPSAxOyBqIDwgc2l6ZSAtIDI7IGorKykge1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNpemUgLSAyOyBpKyspIHtcbiAgICAgICAgICAgIHF1YWQoaSwgaik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUGFkZGluZyAoc2tpcnQpIGluZGljZXM6XG4gICAgWzAsIHNpemUgLSAyXS5mb3JFYWNoKGogPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemUgLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHF1YWQoaSwgaik7XG4gICAgICAgICAgICBxdWFkKGosIGkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFtib3VuZHNBcnJheSwgaW5kZXhBcnJheSwgc2tpcnRJbmRpY2VzT2Zmc2V0XTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZ3JpZCBvZiBpbmRpY2VzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdyaWQgY29uc3RydWN0ZWQgYnkgY3JlYXRlR3JpZFxuICogaW4gb3JkZXIgdG8gcmVuZGVyIHRoYXQgZ3JpZCBhcyBhIHdpcmVmcmFtZSByYXRoZXIgdGhhbiBhIHNvbGlkICBtZXNoLiBJdCBkb2VzXG4gKiBub3QgY3JlYXRlIGEgc2tpcnQgYW5kIHNvIG9ubHkgZ29lcyBmcm9tIDEgdG8gY291bnQgKyAxLCBlLmcuIGZvciBjb3VudCBvZiAyOlxuICogIC0tLS0tLS0tLS0tLS1cbiAqICB8ICAgIC98ICAgIC98XG4gKiAgfCAgLyAgfCAgLyAgfFxuICogIHwvICAgIHwvICAgIHxcbiAqICAtLS0tLS0tLS0tLS0tXG4gKiAgfCAgICAvfCAgICAvfFxuICogIHwgIC8gIHwgIC8gIHxcbiAqICB8LyAgICB8LyAgICB8XG4gKiAgLS0tLS0tLS0tLS0tLVxuICogQHBhcmFtIHtudW1iZXJ9IGNvdW50IENvdW50IG9mIHJvd3MgYW5kIGNvbHVtbnNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVdpcmVmcmFtZUdyaWQoY291bnQ6IG51bWJlcik6IExpbmVJbmRleEFycmF5IHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGNvbnN0IGluZGV4QXJyYXkgPSBuZXcgTGluZUluZGV4QXJyYXkoKTtcbiAgICBjb25zdCBzaXplID0gY291bnQgKyAyO1xuICAgIC8vIERyYXcgdHdvIGVkZ2VzIG9mIGEgcXVhZCBhbmQgaXRzIGRpYWdvbmFsLiBUaGUgdmVyeSBsYXN0IHJvdyBhbmQgY29sdW1uIGhhdmVcbiAgICAvLyBhbiBhZGRpdGlvbmFsIGxpbmUgdG8gY2xvc2Ugb2ZmIHRoZSBncmlkLlxuICAgIGZvciAobGV0IGogPSAxOyBqIDwgY291bnQ7IGorKykge1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGluZGV4ID0gaiAqIHNpemUgKyBpO1xuICAgICAgICAgICAgaW5kZXhBcnJheS5lbXBsYWNlQmFjayhpbmRleCwgaW5kZXggKyAxKTtcbiAgICAgICAgICAgIGluZGV4QXJyYXkuZW1wbGFjZUJhY2soaW5kZXgsIGluZGV4ICsgc2l6ZSk7XG4gICAgICAgICAgICBpbmRleEFycmF5LmVtcGxhY2VCYWNrKGluZGV4ICsgMSwgaW5kZXggKyBzaXplKTtcblxuICAgICAgICAgICAgLy8gUGxhY2UgYW4gZXh0cmEgbGluZSBhdCB0aGUgZW5kIG9mIGVhY2ggcm93XG4gICAgICAgICAgICBpZiAoaiA9PT0gY291bnQgLSAxKSBpbmRleEFycmF5LmVtcGxhY2VCYWNrKGluZGV4ICsgc2l6ZSwgaW5kZXggKyBzaXplICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGxhY2UgYW4gZXh0cmEgbGluZSBhdCB0aGUgZW5kIG9mIGVhY2ggY29sXG4gICAgICAgIGluZGV4QXJyYXkuZW1wbGFjZUJhY2soaW5kZXggKyAxLCBpbmRleCArIDEgKyBzaXplKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4QXJyYXk7XG59XG5cbmV4cG9ydCB0eXBlIFRlcnJhaW5Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X2RlbSc6IFVuaWZvcm0xaSxcbiAgICAndV9kZW1fcHJldic6IFVuaWZvcm0xaSxcbiAgICAndV9kZW1fdW5wYWNrJzogVW5pZm9ybTRmLFxuICAgICd1X2RlbV90bCc6IFVuaWZvcm0yZixcbiAgICAndV9kZW1fc2NhbGUnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZGVtX3RsX3ByZXYnOiBVbmlmb3JtMmYsXG4gICAgJ3VfZGVtX3NjYWxlX3ByZXYnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZGVtX3NpemUnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZGVtX2xlcnAnOiBVbmlmb3JtMWYsXG4gICAgXCJ1X2V4YWdnZXJhdGlvblwiOiBVbmlmb3JtMWYsXG4gICAgJ3VfZGVwdGgnOiBVbmlmb3JtMWksXG4gICAgJ3VfZGVwdGhfc2l6ZV9pbnYnOiBVbmlmb3JtMmYsXG4gICAgJ3VfbWV0ZXJfdG9fZGVtJz86IFVuaWZvcm0xZixcbiAgICAndV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52Jz86IFVuaWZvcm1NYXRyaXg0Zixcbnx9O1xuXG5leHBvcnQgY29uc3QgdGVycmFpblVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBUZXJyYWluVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfZGVtJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9kZW1fcHJldic6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfZGVtX3VucGFjayc6IG5ldyBVbmlmb3JtNGYoY29udGV4dCksXG4gICAgJ3VfZGVtX3RsJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9kZW1fc2NhbGUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2RlbV90bF9wcmV2JzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9kZW1fc2NhbGVfcHJldic6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZGVtX3NpemUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2RlbV9sZXJwJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9leGFnZ2VyYXRpb24nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2RlcHRoJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9kZXB0aF9zaXplX2ludic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfbWV0ZXJfdG9fZGVtJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbn0pO1xuXG5mdW5jdGlvbiBkZWZhdWx0VGVycmFpblVuaWZvcm1zKGVuY29kaW5nOiBERU1FbmNvZGluZyk6IFVuaWZvcm1WYWx1ZXM8VGVycmFpblVuaWZvcm1zVHlwZT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgICd1X2RlbSc6IDIsXG4gICAgICAgICd1X2RlbV9wcmV2JzogNCxcbiAgICAgICAgJ3VfZGVtX3VucGFjayc6IERFTURhdGEuZ2V0VW5wYWNrVmVjdG9yKGVuY29kaW5nKSxcbiAgICAgICAgJ3VfZGVtX3RsJzogWzAsIDBdLFxuICAgICAgICAndV9kZW1fdGxfcHJldic6IFswLCAwXSxcbiAgICAgICAgJ3VfZGVtX3NjYWxlJzogMCxcbiAgICAgICAgJ3VfZGVtX3NjYWxlX3ByZXYnOiAwLFxuICAgICAgICAndV9kZW1fc2l6ZSc6IDAsXG4gICAgICAgICd1X2RlbV9sZXJwJzogMS4wLFxuICAgICAgICAndV9kZXB0aCc6IDMsXG4gICAgICAgICd1X2RlcHRoX3NpemVfaW52JzogWzAsIDBdLFxuICAgICAgICAndV9leGFnZ2VyYXRpb24nOiAwLFxuICAgIH07XG59XG5cbmV4cG9ydCB0eXBlIEdsb2JlVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV90aWxlX3RsX3VwJzogVW5pZm9ybTNmLFxuICAgICd1X3RpbGVfdHJfdXAnOiBVbmlmb3JtM2YsXG4gICAgJ3VfdGlsZV9icl91cCc6IFVuaWZvcm0zZixcbiAgICAndV90aWxlX2JsX3VwJzogVW5pZm9ybTNmLFxuICAgICd1X3RpbGVfdXBfc2NhbGUnOiBVbmlmb3JtMWZcbnx9O1xuXG5leHBvcnQgY29uc3QgZ2xvYmVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogR2xvYmVVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV90aWxlX3RsX3VwJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV90aWxlX3RyX3VwJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV90aWxlX2JyX3VwJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV90aWxlX2JsX3VwJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV90aWxlX3VwX3NjYWxlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KVxufSk7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIHByZWx1ZGUsXG4gICAgcHJlbHVkZUZyYWdQcmVjaXNpb25RdWFsaWZpZXJzLFxuICAgIHByZWx1ZGVWZXJ0UHJlY2lzaW9uUXVhbGlmaWVycyxcbiAgICBwcmVsdWRlVGVycmFpbixcbiAgICBwcmVsdWRlRm9nLFxuICAgIHByZWx1ZGVDb21tb25Tb3VyY2UsXG4gICAgc3RhbmRhcmREZXJpdmF0aXZlc0V4dFxufSBmcm9tICcuLi9zaGFkZXJzL3NoYWRlcnMuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IFByb2dyYW1Db25maWd1cmF0aW9uIGZyb20gJy4uL2RhdGEvcHJvZ3JhbV9jb25maWd1cmF0aW9uLmpzJztcbmltcG9ydCBWZXJ0ZXhBcnJheU9iamVjdCBmcm9tICcuL3ZlcnRleF9hcnJheV9vYmplY3QuanMnO1xuaW1wb3J0IENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dC5qcyc7XG5pbXBvcnQge3RlcnJhaW5Vbmlmb3JtcywgZ2xvYmVVbmlmb3Jtc30gZnJvbSAnLi4vdGVycmFpbi90ZXJyYWluLmpzJztcbmltcG9ydCB0eXBlIHtUZXJyYWluVW5pZm9ybXNUeXBlLCBHbG9iZVVuaWZvcm1zVHlwZX0gZnJvbSAnLi4vdGVycmFpbi90ZXJyYWluLmpzJztcbmltcG9ydCB7Zm9nVW5pZm9ybXN9IGZyb20gJy4vZm9nLmpzJztcbmltcG9ydCB0eXBlIHtGb2dVbmlmb3Jtc1R5cGV9IGZyb20gJy4vZm9nLmpzJztcblxuaW1wb3J0IHR5cGUgU2VnbWVudFZlY3RvciBmcm9tICcuLi9kYXRhL3NlZ21lbnQuanMnO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXIuanMnO1xuaW1wb3J0IHR5cGUgSW5kZXhCdWZmZXIgZnJvbSAnLi4vZ2wvaW5kZXhfYnVmZmVyLmpzJztcbmltcG9ydCB0eXBlIERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlLmpzJztcbmltcG9ydCB0eXBlIFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZS5qcyc7XG5pbXBvcnQgdHlwZSBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZS5qcyc7XG5pbXBvcnQgdHlwZSBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUuanMnO1xuaW1wb3J0IHR5cGUge1VuaWZvcm1CaW5kaW5ncywgVW5pZm9ybVZhbHVlc30gZnJvbSAnLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUge0JpbmRlclVuaWZvcm19IGZyb20gJy4uL2RhdGEvcHJvZ3JhbV9jb25maWd1cmF0aW9uLmpzJztcblxuZXhwb3J0IHR5cGUgRHJhd01vZGUgPVxuICAgIHwgJFByb3BlcnR5VHlwZTxXZWJHTFJlbmRlcmluZ0NvbnRleHQsICdMSU5FUyc+XG4gICAgfCAkUHJvcGVydHlUeXBlPFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgJ1RSSUFOR0xFUyc+XG4gICAgfCAkUHJvcGVydHlUeXBlPFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgJ0xJTkVfU1RSSVAnPjtcblxudHlwZSBTaGFkZXJTb3VyY2UgPSB7XG4gICAgZnJhZ21lbnRTb3VyY2U6IHN0cmluZyxcbiAgICB2ZXJ0ZXhTb3VyY2U6IHN0cmluZyxcbiAgICBzdGF0aWNBdHRyaWJ1dGVzOiBBcnJheTxzdHJpbmc+LFxuICAgIHVzZWREZWZpbmVzOiBBcnJheTxzdHJpbmc+XG59O1xuXG5mdW5jdGlvbiBnZXRUb2tlbml6ZWRBdHRyaWJ1dGVzKGFycmF5OiBBcnJheTxzdHJpbmc+KTogQXJyYXk8c3RyaW5nPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcnJheVtpXSA9PT0gbnVsbCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IHRva2VuID0gYXJyYXlbaV0uc3BsaXQoJyAnKTtcbiAgICAgICAgcmVzdWx0LnB1c2godG9rZW4ucG9wKCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5jbGFzcyBQcm9ncmFtPFVzOiBVbmlmb3JtQmluZGluZ3M+IHtcbiAgICBwcm9ncmFtOiBXZWJHTFByb2dyYW07XG4gICAgYXR0cmlidXRlczoge1tfOiBzdHJpbmddOiBudW1iZXJ9O1xuICAgIG51bUF0dHJpYnV0ZXM6IG51bWJlcjtcbiAgICBmaXhlZFVuaWZvcm1zOiBVcztcbiAgICBiaW5kZXJVbmlmb3JtczogQXJyYXk8QmluZGVyVW5pZm9ybT47XG4gICAgZmFpbGVkVG9DcmVhdGU6IGJvb2xlYW47XG4gICAgdGVycmFpblVuaWZvcm1zOiA/VGVycmFpblVuaWZvcm1zVHlwZTtcbiAgICBmb2dVbmlmb3JtczogP0ZvZ1VuaWZvcm1zVHlwZTtcbiAgICBnbG9iZVVuaWZvcm1zOiA/R2xvYmVVbmlmb3Jtc1R5cGU7XG5cbiAgICBzdGF0aWMgY2FjaGVLZXkoc291cmNlOiBTaGFkZXJTb3VyY2UsIG5hbWU6IHN0cmluZywgZGVmaW5lczogc3RyaW5nW10sIHByb2dyYW1Db25maWd1cmF0aW9uOiA/UHJvZ3JhbUNvbmZpZ3VyYXRpb24pOiBzdHJpbmcge1xuICAgICAgICBsZXQga2V5ID0gYCR7bmFtZX0ke3Byb2dyYW1Db25maWd1cmF0aW9uID8gcHJvZ3JhbUNvbmZpZ3VyYXRpb24uY2FjaGVLZXkgOiAnJ31gO1xuICAgICAgICBmb3IgKGNvbnN0IGRlZmluZSBvZiBkZWZpbmVzKSB7XG4gICAgICAgICAgICBpZiAoc291cmNlLnVzZWREZWZpbmVzLmluY2x1ZGVzKGRlZmluZSkpIHtcbiAgICAgICAgICAgICAgICBrZXkgKz0gYC8ke2RlZmluZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCxcbiAgICAgICAgICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgc291cmNlOiBTaGFkZXJTb3VyY2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbjogP1Byb2dyYW1Db25maWd1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGZpeGVkVW5pZm9ybXM6IChDb250ZXh0KSA9PiBVcyxcbiAgICAgICAgICAgICAgICBmaXhlZERlZmluZXM6IHN0cmluZ1tdKSB7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gKChnbC5jcmVhdGVQcm9ncmFtKCk6IGFueSk6IFdlYkdMUHJvZ3JhbSk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGljQXR0ckluZm8gPSBnZXRUb2tlbml6ZWRBdHRyaWJ1dGVzKHNvdXJjZS5zdGF0aWNBdHRyaWJ1dGVzKTtcbiAgICAgICAgY29uc3QgZHluYW1pY0F0dHJJbmZvID0gY29uZmlndXJhdGlvbiA/IGNvbmZpZ3VyYXRpb24uZ2V0QmluZGVyQXR0cmlidXRlcygpIDogW107XG4gICAgICAgIGNvbnN0IGFsbEF0dHJJbmZvID0gc3RhdGljQXR0ckluZm8uY29uY2F0KGR5bmFtaWNBdHRySW5mbyk7XG5cbiAgICAgICAgbGV0IGRlZmluZXMgPSBjb25maWd1cmF0aW9uID8gY29uZmlndXJhdGlvbi5kZWZpbmVzKCkgOiBbXTtcbiAgICAgICAgZGVmaW5lcyA9IGRlZmluZXMuY29uY2F0KGZpeGVkRGVmaW5lcy5tYXAoKGRlZmluZSkgPT4gYCNkZWZpbmUgJHtkZWZpbmV9YCkpO1xuICAgICAgICBjb25zdCB2ZXJzaW9uID0gY29udGV4dC5pc1dlYkdMMiA/ICcjdmVyc2lvbiAzMDAgZXNcXG4nIDogJyc7XG5cbiAgICAgICAgY29uc3QgZnJhZ21lbnRTb3VyY2UgPSB2ZXJzaW9uICsgZGVmaW5lcy5jb25jYXQoXG4gICAgICAgICAgICBjb250ZXh0LmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXMgJiYgdmVyc2lvbi5sZW5ndGggPT09IDAgPyBzdGFuZGFyZERlcml2YXRpdmVzRXh0LmNvbmNhdChwcmVsdWRlRnJhZ1ByZWNpc2lvblF1YWxpZmllcnMpIDogcHJlbHVkZUZyYWdQcmVjaXNpb25RdWFsaWZpZXJzLFxuICAgICAgICAgICAgcHJlbHVkZUZyYWdQcmVjaXNpb25RdWFsaWZpZXJzLFxuICAgICAgICAgICAgcHJlbHVkZUNvbW1vblNvdXJjZSxcbiAgICAgICAgICAgIHByZWx1ZGUuZnJhZ21lbnRTb3VyY2UsXG4gICAgICAgICAgICBwcmVsdWRlRm9nLmZyYWdtZW50U291cmNlLFxuICAgICAgICAgICAgc291cmNlLmZyYWdtZW50U291cmNlKS5qb2luKCdcXG4nKTtcbiAgICAgICAgY29uc3QgdmVydGV4U291cmNlID0gdmVyc2lvbiArIGRlZmluZXMuY29uY2F0KFxuICAgICAgICAgICAgcHJlbHVkZVZlcnRQcmVjaXNpb25RdWFsaWZpZXJzLFxuICAgICAgICAgICAgcHJlbHVkZUNvbW1vblNvdXJjZSxcbiAgICAgICAgICAgIHByZWx1ZGUudmVydGV4U291cmNlLFxuICAgICAgICAgICAgcHJlbHVkZUZvZy52ZXJ0ZXhTb3VyY2UsXG4gICAgICAgICAgICBwcmVsdWRlVGVycmFpbi52ZXJ0ZXhTb3VyY2UsXG4gICAgICAgICAgICBzb3VyY2UudmVydGV4U291cmNlKS5qb2luKCdcXG4nKTtcblxuICAgICAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9ICgoZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik6IGFueSk6IFdlYkdMU2hhZGVyKTtcbiAgICAgICAgaWYgKGdsLmlzQ29udGV4dExvc3QoKSkge1xuICAgICAgICAgICAgdGhpcy5mYWlsZWRUb0NyZWF0ZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKGZyYWdtZW50U2hhZGVyLCBmcmFnbWVudFNvdXJjZSk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICBhc3NlcnQoZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGZyYWdtZW50U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyksIChnbC5nZXRTaGFkZXJJbmZvTG9nKGZyYWdtZW50U2hhZGVyKTogYW55KSk7XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcblxuICAgICAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSAoKGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTogYW55KTogV2ViR0xTaGFkZXIpO1xuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpKSB7XG4gICAgICAgICAgICB0aGlzLmZhaWxlZFRvQ3JlYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbC5zaGFkZXJTb3VyY2UodmVydGV4U2hhZGVyLCB2ZXJ0ZXhTb3VyY2UpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgICAgIGFzc2VydChnbC5nZXRTaGFkZXJQYXJhbWV0ZXIodmVydGV4U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyksIChnbC5nZXRTaGFkZXJJbmZvTG9nKHZlcnRleFNoYWRlcik6IGFueSkpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuXG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHt9O1xuXG4gICAgICAgIHRoaXMubnVtQXR0cmlidXRlcyA9IGFsbEF0dHJJbmZvLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtQXR0cmlidXRlczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYWxsQXR0ckluZm9baV0pIHtcbiAgICAgICAgICAgICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBpLCBhbGxBdHRySW5mb1tpXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW2FsbEF0dHJJbmZvW2ldXSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnbC5saW5rUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgICAgICBhc3NlcnQoZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSwgKGdsLmdldFByb2dyYW1JbmZvTG9nKHRoaXMucHJvZ3JhbSk6IGFueSkpO1xuXG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuXG4gICAgICAgIHRoaXMuZml4ZWRVbmlmb3JtcyA9IGZpeGVkVW5pZm9ybXMoY29udGV4dCk7XG4gICAgICAgIHRoaXMuYmluZGVyVW5pZm9ybXMgPSBjb25maWd1cmF0aW9uID8gY29uZmlndXJhdGlvbi5nZXRVbmlmb3Jtcyhjb250ZXh0KSA6IFtdO1xuICAgICAgICBpZiAoZml4ZWREZWZpbmVzLmluY2x1ZGVzKCdURVJSQUlOJykpIHtcbiAgICAgICAgICAgIHRoaXMudGVycmFpblVuaWZvcm1zID0gdGVycmFpblVuaWZvcm1zKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXhlZERlZmluZXMuaW5jbHVkZXMoJ0dMT0JFJykpIHtcbiAgICAgICAgICAgIHRoaXMuZ2xvYmVVbmlmb3JtcyA9IGdsb2JlVW5pZm9ybXMoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpeGVkRGVmaW5lcy5pbmNsdWRlcygnRk9HJykpIHtcbiAgICAgICAgICAgIHRoaXMuZm9nVW5pZm9ybXMgPSBmb2dVbmlmb3Jtcyhjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFRlcnJhaW5Vbmlmb3JtVmFsdWVzKGNvbnRleHQ6IENvbnRleHQsIHRlcnJhaW5Vbmlmb3JtVmFsdWVzOiBVbmlmb3JtVmFsdWVzPFRlcnJhaW5Vbmlmb3Jtc1R5cGU+KSB7XG4gICAgICAgIGlmICghdGhpcy50ZXJyYWluVW5pZm9ybXMpIHJldHVybjtcbiAgICAgICAgY29uc3QgdW5pZm9ybXM6IFRlcnJhaW5Vbmlmb3Jtc1R5cGUgPSB0aGlzLnRlcnJhaW5Vbmlmb3JtcztcblxuICAgICAgICBpZiAodGhpcy5mYWlsZWRUb0NyZWF0ZSkgcmV0dXJuO1xuICAgICAgICBjb250ZXh0LnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHRlcnJhaW5Vbmlmb3JtVmFsdWVzKSB7XG4gICAgICAgICAgICBpZiAodW5pZm9ybXNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICB1bmlmb3Jtc1tuYW1lXS5zZXQodGhpcy5wcm9ncmFtLCBuYW1lLCB0ZXJyYWluVW5pZm9ybVZhbHVlc1tuYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRHbG9iZVVuaWZvcm1WYWx1ZXMoY29udGV4dDogQ29udGV4dCwgZ2xvYmVVbmlmb3JtVmFsdWVzOiBVbmlmb3JtVmFsdWVzPEdsb2JlVW5pZm9ybXNUeXBlPikge1xuICAgICAgICBpZiAoIXRoaXMuZ2xvYmVVbmlmb3JtcykgcmV0dXJuO1xuICAgICAgICBjb25zdCB1bmlmb3JtczogR2xvYmVVbmlmb3Jtc1R5cGUgPSB0aGlzLmdsb2JlVW5pZm9ybXM7XG5cbiAgICAgICAgaWYgKHRoaXMuZmFpbGVkVG9DcmVhdGUpIHJldHVybjtcbiAgICAgICAgY29udGV4dC5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pO1xuXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBnbG9iZVVuaWZvcm1WYWx1ZXMpIHtcbiAgICAgICAgICAgIGlmICh1bmlmb3Jtc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdLnNldCh0aGlzLnByb2dyYW0sIG5hbWUsIGdsb2JlVW5pZm9ybVZhbHVlc1tuYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRGb2dVbmlmb3JtVmFsdWVzKGNvbnRleHQ6IENvbnRleHQsIGZvZ1VuaWZvcm1zVmFsdWVzOiBVbmlmb3JtVmFsdWVzPEZvZ1VuaWZvcm1zVHlwZT4pIHtcbiAgICAgICAgaWYgKCF0aGlzLmZvZ1VuaWZvcm1zKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHVuaWZvcm1zOiBGb2dVbmlmb3Jtc1R5cGUgPSB0aGlzLmZvZ1VuaWZvcm1zO1xuXG4gICAgICAgIGlmICh0aGlzLmZhaWxlZFRvQ3JlYXRlKSByZXR1cm47XG4gICAgICAgIGNvbnRleHQucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtcblxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZm9nVW5pZm9ybXNWYWx1ZXMpIHtcbiAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdLnNldCh0aGlzLnByb2dyYW0sIG5hbWUsIGZvZ1VuaWZvcm1zVmFsdWVzW25hbWVdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXcoXG4gICAgICAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgICAgICAgZHJhd01vZGU6IERyYXdNb2RlLFxuICAgICAgICAgZGVwdGhNb2RlOiAkUmVhZE9ubHk8RGVwdGhNb2RlPixcbiAgICAgICAgIHN0ZW5jaWxNb2RlOiAkUmVhZE9ubHk8U3RlbmNpbE1vZGU+LFxuICAgICAgICAgY29sb3JNb2RlOiAkUmVhZE9ubHk8Q29sb3JNb2RlPixcbiAgICAgICAgIGN1bGxGYWNlTW9kZTogJFJlYWRPbmx5PEN1bGxGYWNlTW9kZT4sXG4gICAgICAgICB1bmlmb3JtVmFsdWVzOiBVbmlmb3JtVmFsdWVzPFVzPixcbiAgICAgICAgIGxheWVySUQ6IHN0cmluZyxcbiAgICAgICAgIGxheW91dFZlcnRleEJ1ZmZlcjogVmVydGV4QnVmZmVyLFxuICAgICAgICAgaW5kZXhCdWZmZXI6IEluZGV4QnVmZmVyLFxuICAgICAgICAgc2VnbWVudHM6IFNlZ21lbnRWZWN0b3IsXG4gICAgICAgICBjdXJyZW50UHJvcGVydGllczogYW55LFxuICAgICAgICAgem9vbTogP251bWJlcixcbiAgICAgICAgIGNvbmZpZ3VyYXRpb246ID9Qcm9ncmFtQ29uZmlndXJhdGlvbixcbiAgICAgICAgIGR5bmFtaWNMYXlvdXRCdWZmZXJzOiA/QXJyYXk8P1ZlcnRleEJ1ZmZlcj4pIHtcblxuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgaWYgKHRoaXMuZmFpbGVkVG9DcmVhdGUpIHJldHVybjtcblxuICAgICAgICBjb250ZXh0LnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7XG4gICAgICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKGRlcHRoTW9kZSk7XG4gICAgICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoc3RlbmNpbE1vZGUpO1xuICAgICAgICBjb250ZXh0LnNldENvbG9yTW9kZShjb2xvck1vZGUpO1xuICAgICAgICBjb250ZXh0LnNldEN1bGxGYWNlKGN1bGxGYWNlTW9kZSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKHRoaXMuZml4ZWRVbmlmb3JtcykpIHtcbiAgICAgICAgICAgIHRoaXMuZml4ZWRVbmlmb3Jtc1tuYW1lXS5zZXQodGhpcy5wcm9ncmFtLCBuYW1lLCB1bmlmb3JtVmFsdWVzW25hbWVdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLnNldFVuaWZvcm1zKHRoaXMucHJvZ3JhbSwgY29udGV4dCwgdGhpcy5iaW5kZXJVbmlmb3JtcywgY3VycmVudFByb3BlcnRpZXMsIHt6b29tOiAoem9vbTogYW55KX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJpbWl0aXZlU2l6ZSA9IHtcbiAgICAgICAgICAgIFtnbC5MSU5FU106IDIsXG4gICAgICAgICAgICBbZ2wuVFJJQU5HTEVTXTogMyxcbiAgICAgICAgICAgIFtnbC5MSU5FX1NUUklQXTogMVxuICAgICAgICB9W2RyYXdNb2RlXTtcblxuICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMuZ2V0KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhb3MgPSBzZWdtZW50LnZhb3MgfHwgKHNlZ21lbnQudmFvcyA9IHt9KTtcbiAgICAgICAgICAgIGNvbnN0IHZhbzogVmVydGV4QXJyYXlPYmplY3QgPSB2YW9zW2xheWVySURdIHx8ICh2YW9zW2xheWVySURdID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCkpO1xuXG4gICAgICAgICAgICB2YW8uYmluZChcbiAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgbGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24gPyBjb25maWd1cmF0aW9uLmdldFBhaW50VmVydGV4QnVmZmVycygpIDogW10sXG4gICAgICAgICAgICAgICAgaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICAgICAgc2VnbWVudC52ZXJ0ZXhPZmZzZXQsXG4gICAgICAgICAgICAgICAgZHluYW1pY0xheW91dEJ1ZmZlcnMgPyBkeW5hbWljTGF5b3V0QnVmZmVycyA6IFtdXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoXG4gICAgICAgICAgICAgICAgZHJhd01vZGUsXG4gICAgICAgICAgICAgICAgc2VnbWVudC5wcmltaXRpdmVMZW5ndGggKiBwcmltaXRpdmVTaXplLFxuICAgICAgICAgICAgICAgIGdsLlVOU0lHTkVEX1NIT1JULFxuICAgICAgICAgICAgICAgIHNlZ21lbnQucHJpbWl0aXZlT2Zmc2V0ICogcHJpbWl0aXZlU2l6ZSAqIDIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcm9ncmFtO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dC5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUge1Vud3JhcHBlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCBGb2cgZnJvbSAnLi4vc3R5bGUvZm9nLmpzJztcbmltcG9ydCB7VW5pZm9ybTFmLCBVbmlmb3JtMWksIFVuaWZvcm0yZiwgVW5pZm9ybTNmLCBVbmlmb3JtNGYsIFVuaWZvcm1NYXRyaXg0Zn0gZnJvbSAnLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHtnbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9ufSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcblxuZXhwb3J0IHR5cGUgRm9nVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9mb2dfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2ZvZ19yYW5nZSc6IFVuaWZvcm0yZixcbiAgICAndV9mb2dfY29sb3InOiBVbmlmb3JtNGYsXG4gICAgJ3VfZm9nX2hvcml6b25fYmxlbmQnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZm9nX3RlbXBvcmFsX29mZnNldCc6IFVuaWZvcm0xZixcbiAgICAndV9mcnVzdHVtX3RsJzogVW5pZm9ybTNmLFxuICAgICd1X2ZydXN0dW1fdHInOiBVbmlmb3JtM2YsXG4gICAgJ3VfZnJ1c3R1bV9icic6IFVuaWZvcm0zZixcbiAgICAndV9mcnVzdHVtX2JsJzogVW5pZm9ybTNmLFxuICAgICd1X2dsb2JlX3Bvcyc6IFVuaWZvcm0zZixcbiAgICAndV9nbG9iZV9yYWRpdXMnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZ2xvYmVfdHJhbnNpdGlvbic6IFVuaWZvcm0xZixcbiAgICAndV9pc19nbG9iZSc6IFVuaWZvcm0xaSxcbiAgICAndV92aWV3cG9ydCc6IFVuaWZvcm0yZixcbnx9O1xuXG5leHBvcnQgY29uc3QgZm9nVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IEZvZ1VuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X2ZvZ19tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2ZvZ19yYW5nZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfZm9nX2NvbG9yJzogbmV3IFVuaWZvcm00Zihjb250ZXh0KSxcbiAgICAndV9mb2dfaG9yaXpvbl9ibGVuZCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZm9nX3RlbXBvcmFsX29mZnNldCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV90bCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV90cic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV9icic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV9ibCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZ2xvYmVfcG9zJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9nbG9iZV9yYWRpdXMnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2dsb2JlX3RyYW5zaXRpb24nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2lzX2dsb2JlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV92aWV3cG9ydCc6IG5ldyBVbmlmb3JtMmYoY29udGV4dClcbn0pO1xuXG5leHBvcnQgY29uc3QgZm9nVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIGZvZzogRm9nLFxuICAgIHRpbGVJRDogP1Vud3JhcHBlZFRpbGVJRCxcbiAgICBmb2dPcGFjaXR5OiBudW1iZXIsXG4gICAgZnJ1c3R1bURpclRsOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZnJ1c3R1bURpclRyOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZnJ1c3R1bURpckJyOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZnJ1c3R1bURpckJsOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZ2xvYmVQb3NpdGlvbjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGdsb2JlUmFkaXVzOiBudW1iZXIsXG4gICAgdmlld3BvcnQ6IFtudW1iZXIsIG51bWJlcl1cbik6IFVuaWZvcm1WYWx1ZXM8Rm9nVW5pZm9ybXNUeXBlPiA9PiB7XG4gICAgY29uc3QgdHIgPSBwYWludGVyLnRyYW5zZm9ybTtcbiAgICBjb25zdCBmb2dDb2xvciA9IGZvZy5wcm9wZXJ0aWVzLmdldCgnY29sb3InKS50b0FycmF5MDEoKTtcbiAgICBmb2dDb2xvclszXSA9IGZvZ09wYWNpdHk7IC8vIFVwZGF0ZSBBbHBoYVxuICAgIGNvbnN0IHRlbXBvcmFsT2Zmc2V0ID0gKHBhaW50ZXIuZnJhbWVDb3VudGVyIC8gMTAwMC4wKSAlIDE7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgJ3VfZm9nX21hdHJpeCc6IHRpbGVJRCA/IHRyLmNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgodGlsZUlEKSA6IHBhaW50ZXIuaWRlbnRpdHlNYXQsXG4gICAgICAgICd1X2ZvZ19yYW5nZSc6IGZvZy5nZXRGb3ZBZGp1c3RlZFJhbmdlKHRyLl9mb3YpLFxuICAgICAgICAndV9mb2dfY29sb3InOiBmb2dDb2xvcixcbiAgICAgICAgJ3VfZm9nX2hvcml6b25fYmxlbmQnOiBmb2cucHJvcGVydGllcy5nZXQoJ2hvcml6b24tYmxlbmQnKSxcbiAgICAgICAgJ3VfZm9nX3RlbXBvcmFsX29mZnNldCc6IHRlbXBvcmFsT2Zmc2V0LFxuICAgICAgICAndV9mcnVzdHVtX3RsJzogZnJ1c3R1bURpclRsLFxuICAgICAgICAndV9mcnVzdHVtX3RyJzogZnJ1c3R1bURpclRyLFxuICAgICAgICAndV9mcnVzdHVtX2JyJzogZnJ1c3R1bURpckJyLFxuICAgICAgICAndV9mcnVzdHVtX2JsJzogZnJ1c3R1bURpckJsLFxuICAgICAgICAndV9nbG9iZV9wb3MnOiBnbG9iZVBvc2l0aW9uLFxuICAgICAgICAndV9nbG9iZV9yYWRpdXMnOiBnbG9iZVJhZGl1cyxcbiAgICAgICAgJ3Vfdmlld3BvcnQnOiB2aWV3cG9ydCxcbiAgICAgICAgJ3VfZ2xvYmVfdHJhbnNpdGlvbic6IGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odHIuem9vbSksXG4gICAgICAgICd1X2lzX2dsb2JlJzogKyh0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScpXG4gICAgfTtcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmXG59IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzLmpzJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vLi4vc291cmNlL3RpbGUuanMnO1xuaW1wb3J0IHR5cGUgUmVzb2x2ZWRJbWFnZSBmcm9tICcuLi8uLi9zdHlsZS1zcGVjL2V4cHJlc3Npb24vdHlwZXMvcmVzb2x2ZWRfaW1hZ2UuanMnO1xuXG50eXBlIEJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV9wYXR0ZXJuX3RsJzogVW5pZm9ybTJmLFxuICAgICd1X3BhdHRlcm5fYnInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGV4c2l6ZSc6IFVuaWZvcm0yZixcbiAgICAndV9wYXR0ZXJuX3NpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMWZcbnx9O1xuXG5leHBvcnQgdHlwZSBQYXR0ZXJuVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV90ZXhzaXplJzogVW5pZm9ybTJmLFxuICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogVW5pZm9ybTFmLFxuICAgICd1X3BpeGVsX2Nvb3JkX3VwcGVyJzogVW5pZm9ybTJmLFxuICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogVW5pZm9ybTJmXG58fTtcblxuZnVuY3Rpb24gcGF0dGVyblVuaWZvcm1WYWx1ZXMocGFpbnRlcjogUGFpbnRlciwgdGlsZTogVGlsZSk6IFVuaWZvcm1WYWx1ZXM8UGF0dGVyblVuaWZvcm1zVHlwZT4ge1xuXG4gICAgY29uc3QgbnVtVGlsZXMgPSBNYXRoLnBvdygyLCB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWik7XG4gICAgY29uc3QgdGlsZVNpemVBdE5lYXJlc3Rab29tID0gdGlsZS50aWxlU2l6ZSAqIE1hdGgucG93KDIsIHBhaW50ZXIudHJhbnNmb3JtLnRpbGVab29tKSAvIG51bVRpbGVzO1xuXG4gICAgY29uc3QgcGl4ZWxYID0gdGlsZVNpemVBdE5lYXJlc3Rab29tICogKHRpbGUudGlsZUlELmNhbm9uaWNhbC54ICsgdGlsZS50aWxlSUQud3JhcCAqIG51bVRpbGVzKTtcbiAgICBjb25zdCBwaXhlbFkgPSB0aWxlU2l6ZUF0TmVhcmVzdFpvb20gKiB0aWxlLnRpbGVJRC5jYW5vbmljYWwueTtcblxuICAgIHJldHVybiB7XG4gICAgICAgICd1X2ltYWdlJzogMCxcbiAgICAgICAgJ3VfdGV4c2l6ZSc6IHRpbGUuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSxcbiAgICAgICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiAxIC8gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0udGlsZVpvb20pLFxuICAgICAgICAvLyBzcGxpdCB0aGUgcGl4ZWwgY29vcmQgaW50byB0d28gcGFpcnMgb2YgMTYgYml0IG51bWJlcnMuIFRoZSBnbHNsIHNwZWMgb25seSBndWFyYW50ZWVzIDE2IGJpdHMgb2YgcHJlY2lzaW9uLlxuICAgICAgICAndV9waXhlbF9jb29yZF91cHBlcic6IFtwaXhlbFggPj4gMTYsIHBpeGVsWSA+PiAxNl0sXG4gICAgICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogW3BpeGVsWCAmIDB4RkZGRiwgcGl4ZWxZICYgMHhGRkZGXVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGJnUGF0dGVyblVuaWZvcm1WYWx1ZXMoaW1hZ2U6IFJlc29sdmVkSW1hZ2UsIHBhaW50ZXI6IFBhaW50ZXIsXG4gICAgICAgIHRpbGU6IHt0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHRpbGVTaXplOiBudW1iZXJ9XG4pOiBVbmlmb3JtVmFsdWVzPEJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXNUeXBlPiB7XG5cbiAgICBjb25zdCBpbWFnZVBvcyA9IHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oaW1hZ2UudG9TdHJpbmcoKSk7XG4gICAgYXNzZXJ0KGltYWdlUG9zKTtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBwYWludGVyLmltYWdlTWFuYWdlci5nZXRQaXhlbFNpemUoKTtcblxuICAgIGNvbnN0IG51bVRpbGVzID0gTWF0aC5wb3coMiwgdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgIGNvbnN0IHRpbGVTaXplQXROZWFyZXN0Wm9vbSA9IHRpbGUudGlsZVNpemUgKiBNYXRoLnBvdygyLCBwYWludGVyLnRyYW5zZm9ybS50aWxlWm9vbSkgLyBudW1UaWxlcztcblxuICAgIGNvbnN0IHBpeGVsWCA9IHRpbGVTaXplQXROZWFyZXN0Wm9vbSAqICh0aWxlLnRpbGVJRC5jYW5vbmljYWwueCArIHRpbGUudGlsZUlELndyYXAgKiBudW1UaWxlcyk7XG4gICAgY29uc3QgcGl4ZWxZID0gdGlsZVNpemVBdE5lYXJlc3Rab29tICogdGlsZS50aWxlSUQuY2Fub25pY2FsLnk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAndV9pbWFnZSc6IDAsXG4gICAgICAgICd1X3BhdHRlcm5fdGwnOiAoaW1hZ2VQb3M6IGFueSkudGwsXG4gICAgICAgICd1X3BhdHRlcm5fYnInOiAoaW1hZ2VQb3M6IGFueSkuYnIsXG4gICAgICAgICd1X3RleHNpemUnOiBbd2lkdGgsIGhlaWdodF0sXG4gICAgICAgICd1X3BhdHRlcm5fc2l6ZSc6IChpbWFnZVBvczogYW55KS5kaXNwbGF5U2l6ZSxcbiAgICAgICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiAxIC8gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0udGlsZVpvb20pLFxuICAgICAgICAvLyBzcGxpdCB0aGUgcGl4ZWwgY29vcmQgaW50byB0d28gcGFpcnMgb2YgMTYgYml0IG51bWJlcnMuIFRoZSBnbHNsIHNwZWMgb25seSBndWFyYW50ZWVzIDE2IGJpdHMgb2YgcHJlY2lzaW9uLlxuICAgICAgICAndV9waXhlbF9jb29yZF91cHBlcic6IFtwaXhlbFggPj4gMTYsIHBpeGVsWSA+PiAxNl0sXG4gICAgICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogW3BpeGVsWCAmIDB4RkZGRiwgcGl4ZWxZICYgMHhGRkZGXVxuICAgIH07XG59XG5leHBvcnQge2JnUGF0dGVyblVuaWZvcm1WYWx1ZXMsIHBhdHRlcm5Vbmlmb3JtVmFsdWVzfTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7cGF0dGVyblVuaWZvcm1WYWx1ZXN9IGZyb20gJy4vcGF0dGVybi5qcyc7XG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmLFxuICAgIFVuaWZvcm0zZixcbiAgICBVbmlmb3JtTWF0cml4NGZcbn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB7bWF0MywgbWF0NCwgdmVjM30gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vLi4vc291cmNlL3RpbGUuanMnO1xuaW1wb3J0IHtDYW5vbmljYWxUaWxlSUQsIE92ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uLy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vLi4vZGF0YS9leHRlbnQuanMnO1xuXG5leHBvcnQgdHlwZSBGaWxsRXh0cnVzaW9uVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfbGlnaHRwb3MnOiBVbmlmb3JtM2YsXG4gICAgJ3VfbGlnaHRpbnRlbnNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfbGlnaHRjb2xvcic6IFVuaWZvcm0zZixcbiAgICAndV92ZXJ0aWNhbF9ncmFkaWVudCc6IFVuaWZvcm0xZixcbiAgICAndV9vcGFjaXR5JzogVW5pZm9ybTFmLFxuICAgIC8vIGdsb2JlIHVuaWZvcm1zOlxuICAgICd1X3RpbGVfaWQnOiBVbmlmb3JtM2YsXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogVW5pZm9ybTFmLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X21lcmNfY2VudGVyJzogVW5pZm9ybTJmLFxuICAgICd1X3VwX2Rpcic6IFVuaWZvcm0zZixcbiAgICAndV9oZWlnaHRfbGlmdCc6IFVuaWZvcm0xZixcbiAgICAndV9hbyc6IFVuaWZvcm0yZixcbiAgICAndV9lZGdlX3JhZGl1cyc6IFVuaWZvcm0xZlxufH07XG5cbmV4cG9ydCB0eXBlIEZpbGxFeHRydXNpb25QYXR0ZXJuVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfbGlnaHRwb3MnOiBVbmlmb3JtM2YsXG4gICAgJ3VfbGlnaHRpbnRlbnNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfbGlnaHRjb2xvcic6IFVuaWZvcm0zZixcbiAgICAndV9oZWlnaHRfZmFjdG9yJzogVW5pZm9ybTFmLFxuICAgICd1X3ZlcnRpY2FsX2dyYWRpZW50JzogVW5pZm9ybTFmLFxuICAgICd1X2FvJzogVW5pZm9ybTJmLFxuICAgICd1X2VkZ2VfcmFkaXVzJzogVW5pZm9ybTFmLFxuICAgIC8vIGdsb2JlIHVuaWZvcm1zOlxuICAgICd1X3RpbGVfaWQnOiBVbmlmb3JtM2YsXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogVW5pZm9ybTFmLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X21lcmNfY2VudGVyJzogVW5pZm9ybTJmLFxuICAgICd1X3VwX2Rpcic6IFVuaWZvcm0zZixcbiAgICAndV9oZWlnaHRfbGlmdCc6IFVuaWZvcm0xZixcbiAgICAvLyBwYXR0ZXJuIHVuaWZvcm1zOlxuICAgICd1X3RleHNpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfaW1hZ2UnOiBVbmlmb3JtMWksXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMWYsXG4gICAgJ3Vfb3BhY2l0eSc6IFVuaWZvcm0xZlxufH07XG5cbmNvbnN0IGZpbGxFeHRydXNpb25Vbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogRmlsbEV4dHJ1c2lvblVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfbGlnaHRwb3MnOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxuICAgICd1X2xpZ2h0aW50ZW5zaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9saWdodGNvbG9yJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV92ZXJ0aWNhbF9ncmFkaWVudCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3Vfb3BhY2l0eSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZWRnZV9yYWRpdXMnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2FvJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAvLyBnbG9iZSB1bmlmb3JtczpcbiAgICAndV90aWxlX2lkJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV96b29tX3RyYW5zaXRpb24nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9tZXJjX2NlbnRlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfdXBfZGlyJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9oZWlnaHRfbGlmdCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dClcbn0pO1xuXG5jb25zdCBmaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBGaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfbGlnaHRwb3MnOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxuICAgICd1X2xpZ2h0aW50ZW5zaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9saWdodGNvbG9yJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV92ZXJ0aWNhbF9ncmFkaWVudCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfaGVpZ2h0X2ZhY3Rvcic6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZWRnZV9yYWRpdXMnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2FvJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAvLyBnbG9iZSB1bmlmb3JtczpcbiAgICAndV90aWxlX2lkJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV96b29tX3RyYW5zaXRpb24nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9tZXJjX2NlbnRlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfdXBfZGlyJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9oZWlnaHRfbGlmdCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgLy8gcGF0dGVybiB1bmlmb3Jtc1xuICAgICd1X2ltYWdlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9waXhlbF9jb29yZF91cHBlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9vcGFjaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGlkZW50aXR5TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcblxuY29uc3QgZmlsbEV4dHJ1c2lvblVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICBzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50OiBib29sZWFuLFxuICAgIG9wYWNpdHk6IG51bWJlcixcbiAgICBhb0ludGVuc2l0eVJhZGl1czogW251bWJlciwgbnVtYmVyXSxcbiAgICBlZGdlUmFkaXVzOiBudW1iZXIsXG4gICAgY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQsXG4gICAgaGVpZ2h0TGlmdDogbnVtYmVyLFxuICAgIHpvb21UcmFuc2l0aW9uOiBudW1iZXIsXG4gICAgbWVyY2F0b3JDZW50ZXI6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgaW52TWF0cml4OiBGbG9hdDMyQXJyYXlcbik6IFVuaWZvcm1WYWx1ZXM8RmlsbEV4dHJ1c2lvblVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IGxpZ2h0ID0gcGFpbnRlci5zdHlsZS5saWdodDtcbiAgICBjb25zdCBfbHAgPSBsaWdodC5wcm9wZXJ0aWVzLmdldCgncG9zaXRpb24nKTtcbiAgICBjb25zdCBsaWdodFBvcyA9IFtfbHAueCwgX2xwLnksIF9scC56XTtcbiAgICBjb25zdCBsaWdodE1hdCA9IG1hdDMuY3JlYXRlKCk7XG4gICAgY29uc3QgYW5jaG9yID0gbGlnaHQucHJvcGVydGllcy5nZXQoJ2FuY2hvcicpO1xuICAgIGlmIChhbmNob3IgPT09ICd2aWV3cG9ydCcpIHtcbiAgICAgICAgbWF0My5mcm9tUm90YXRpb24obGlnaHRNYXQsIC1wYWludGVyLnRyYW5zZm9ybS5hbmdsZSk7XG4gICAgICAgIHZlYzMudHJhbnNmb3JtTWF0MyhsaWdodFBvcywgbGlnaHRQb3MsIGxpZ2h0TWF0KTtcbiAgICB9XG5cbiAgICBjb25zdCBsaWdodENvbG9yID0gbGlnaHQucHJvcGVydGllcy5nZXQoJ2NvbG9yJyk7XG4gICAgY29uc3QgdHIgPSBwYWludGVyLnRyYW5zZm9ybTtcblxuICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSB7XG4gICAgICAgICd1X21hdHJpeCc6IG1hdHJpeCxcbiAgICAgICAgJ3VfbGlnaHRwb3MnOiBsaWdodFBvcyxcbiAgICAgICAgJ3VfbGlnaHRpbnRlbnNpdHknOiBsaWdodC5wcm9wZXJ0aWVzLmdldCgnaW50ZW5zaXR5JyksXG4gICAgICAgICd1X2xpZ2h0Y29sb3InOiBbbGlnaHRDb2xvci5yLCBsaWdodENvbG9yLmcsIGxpZ2h0Q29sb3IuYl0sXG4gICAgICAgICd1X3ZlcnRpY2FsX2dyYWRpZW50JzogK3Nob3VsZFVzZVZlcnRpY2FsR3JhZGllbnQsXG4gICAgICAgICd1X29wYWNpdHknOiBvcGFjaXR5LFxuICAgICAgICAndV90aWxlX2lkJzogWzAsIDAsIDBdLFxuICAgICAgICAndV96b29tX3RyYW5zaXRpb24nOiAwLFxuICAgICAgICAndV9pbnZfcm90X21hdHJpeCc6IGlkZW50aXR5TWF0cml4LFxuICAgICAgICAndV9tZXJjX2NlbnRlcic6IFswLCAwXSxcbiAgICAgICAgJ3VfdXBfZGlyJzogWzAsIDAsIDBdLFxuICAgICAgICAndV9oZWlnaHRfbGlmdCc6IDAsXG4gICAgICAgICd1X2FvJzogYW9JbnRlbnNpdHlSYWRpdXMsXG4gICAgICAgICd1X2VkZ2VfcmFkaXVzJzogZWRnZVJhZGl1c1xuICAgIH07XG5cbiAgICBpZiAodHIucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgIHVuaWZvcm1WYWx1ZXNbJ3VfdGlsZV9pZCddID0gW2Nvb3JkLmNhbm9uaWNhbC54LCBjb29yZC5jYW5vbmljYWwueSwgMSA8PCBjb29yZC5jYW5vbmljYWwuel07XG4gICAgICAgIHVuaWZvcm1WYWx1ZXNbJ3Vfem9vbV90cmFuc2l0aW9uJ10gPSB6b29tVHJhbnNpdGlvbjtcbiAgICAgICAgdW5pZm9ybVZhbHVlc1sndV9pbnZfcm90X21hdHJpeCddID0gaW52TWF0cml4O1xuICAgICAgICB1bmlmb3JtVmFsdWVzWyd1X21lcmNfY2VudGVyJ10gPSBtZXJjYXRvckNlbnRlcjtcbiAgICAgICAgdW5pZm9ybVZhbHVlc1sndV91cF9kaXInXSA9ICh0ci5wcm9qZWN0aW9uLnVwVmVjdG9yKG5ldyBDYW5vbmljYWxUaWxlSUQoMCwgMCwgMCksIG1lcmNhdG9yQ2VudGVyWzBdICogRVhURU5ULCBtZXJjYXRvckNlbnRlclsxXSAqIEVYVEVOVCk6IGFueSk7XG4gICAgICAgIHVuaWZvcm1WYWx1ZXNbJ3VfaGVpZ2h0X2xpZnQnXSA9IGhlaWdodExpZnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaWZvcm1WYWx1ZXM7XG59O1xuXG5jb25zdCBmaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICBzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50OiBib29sZWFuLFxuICAgIG9wYWNpdHk6IG51bWJlcixcbiAgICBhb0ludGVuc2l0eVJhZGl1czogW251bWJlciwgbnVtYmVyXSxcbiAgICBlZGdlUmFkaXVzOiBudW1iZXIsXG4gICAgY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQsXG4gICAgdGlsZTogVGlsZSxcbiAgICBoZWlnaHRMaWZ0OiBudW1iZXIsXG4gICAgem9vbVRyYW5zaXRpb246IG51bWJlcixcbiAgICBtZXJjYXRvckNlbnRlcjogW251bWJlciwgbnVtYmVyXSxcbiAgICBpbnZNYXRyaXg6IEZsb2F0MzJBcnJheVxuKTogVW5pZm9ybVZhbHVlczxGaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSBmaWxsRXh0cnVzaW9uVW5pZm9ybVZhbHVlcyhcbiAgICAgICAgbWF0cml4LCBwYWludGVyLCBzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50LCBvcGFjaXR5LCBhb0ludGVuc2l0eVJhZGl1cywgZWRnZVJhZGl1cywgY29vcmQsXG4gICAgICAgIGhlaWdodExpZnQsIHpvb21UcmFuc2l0aW9uLCBtZXJjYXRvckNlbnRlciwgaW52TWF0cml4KTtcbiAgICBjb25zdCBoZWlnaHRGYWN0b3JVbmlmb3JtID0ge1xuICAgICAgICAndV9oZWlnaHRfZmFjdG9yJzogLU1hdGgucG93KDIsIGNvb3JkLm92ZXJzY2FsZWRaKSAvIHRpbGUudGlsZVNpemUgLyA4XG4gICAgfTtcbiAgICByZXR1cm4gZXh0ZW5kKHVuaWZvcm1WYWx1ZXMsIHBhdHRlcm5Vbmlmb3JtVmFsdWVzKHBhaW50ZXIsIHRpbGUpLCBoZWlnaHRGYWN0b3JVbmlmb3JtKTtcbn07XG5cbmV4cG9ydCB7XG4gICAgZmlsbEV4dHJ1c2lvblVuaWZvcm1zLFxuICAgIGZpbGxFeHRydXNpb25QYXR0ZXJuVW5pZm9ybXMsXG4gICAgZmlsbEV4dHJ1c2lvblVuaWZvcm1WYWx1ZXMsXG4gICAgZmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3JtVmFsdWVzXG59O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtwYXR0ZXJuVW5pZm9ybVZhbHVlc30gZnJvbSAnLi9wYXR0ZXJuLmpzJztcbmltcG9ydCB7XG4gICAgVW5pZm9ybTFpLFxuICAgIFVuaWZvcm0xZixcbiAgICBVbmlmb3JtMmYsXG4gICAgVW5pZm9ybU1hdHJpeDRmXG59IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vLi4vc291cmNlL3RpbGUuanMnO1xuXG5leHBvcnQgdHlwZSBGaWxsVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGZcbnx9O1xuXG5leHBvcnQgdHlwZSBGaWxsT3V0bGluZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X3dvcmxkJzogVW5pZm9ybTJmXG58fTtcblxuZXhwb3J0IHR5cGUgRmlsbFBhdHRlcm5Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAvLyBwYXR0ZXJuIHVuaWZvcm1zOlxuICAgICd1X3RleHNpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfaW1hZ2UnOiBVbmlmb3JtMWksXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMWZcbnx9O1xuXG5leHBvcnQgdHlwZSBGaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV93b3JsZCc6IFVuaWZvcm0yZixcbiAgICAvLyBwYXR0ZXJuIHVuaWZvcm1zOlxuICAgICd1X3RleHNpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfaW1hZ2UnOiBVbmlmb3JtMWksXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMWZcbnx9O1xuXG5jb25zdCBmaWxsVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IEZpbGxVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpXG59KTtcblxuY29uc3QgZmlsbFBhdHRlcm5Vbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogRmlsbFBhdHRlcm5Vbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2ltYWdlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9waXhlbF9jb29yZF91cHBlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KVxuXG59KTtcblxuY29uc3QgZmlsbE91dGxpbmVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogRmlsbE91dGxpbmVVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X3dvcmxkJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGZpbGxPdXRsaW5lUGF0dGVyblVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBGaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X3dvcmxkJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfdGV4c2l6ZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV90aWxlX3VuaXRzX3RvX3BpeGVscyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dClcbn0pO1xuXG5jb25zdCBmaWxsVW5pZm9ybVZhbHVlcyA9IChtYXRyaXg6IEZsb2F0MzJBcnJheSk6IFVuaWZvcm1WYWx1ZXM8RmlsbFVuaWZvcm1zVHlwZT4gPT4gKHtcbiAgICAndV9tYXRyaXgnOiBtYXRyaXhcbn0pO1xuXG5jb25zdCBmaWxsUGF0dGVyblVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICB0aWxlOiBUaWxlXG4pOiBVbmlmb3JtVmFsdWVzPEZpbGxQYXR0ZXJuVW5pZm9ybXNUeXBlPiA9PiBleHRlbmQoXG4gICAgZmlsbFVuaWZvcm1WYWx1ZXMobWF0cml4KSxcbiAgICBwYXR0ZXJuVW5pZm9ybVZhbHVlcyhwYWludGVyLCB0aWxlKVxuKTtcblxuY29uc3QgZmlsbE91dGxpbmVVbmlmb3JtVmFsdWVzID0gKFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIGRyYXdpbmdCdWZmZXJTaXplOiBbbnVtYmVyLCBudW1iZXJdXG4pOiBVbmlmb3JtVmFsdWVzPEZpbGxPdXRsaW5lVW5pZm9ybXNUeXBlPiA9PiAoe1xuICAgICd1X21hdHJpeCc6IG1hdHJpeCxcbiAgICAndV93b3JsZCc6IGRyYXdpbmdCdWZmZXJTaXplXG59KTtcblxuY29uc3QgZmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybVZhbHVlcyA9IChcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIHRpbGU6IFRpbGUsXG4gICAgZHJhd2luZ0J1ZmZlclNpemU6IFtudW1iZXIsIG51bWJlcl1cbik6IFVuaWZvcm1WYWx1ZXM8RmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybXNUeXBlPiA9PiBleHRlbmQoXG4gICAgZmlsbFBhdHRlcm5Vbmlmb3JtVmFsdWVzKG1hdHJpeCwgcGFpbnRlciwgdGlsZSksXG4gICAge1xuICAgICAgICAndV93b3JsZCc6IGRyYXdpbmdCdWZmZXJTaXplXG4gICAgfVxuKTtcblxuZXhwb3J0IHtcbiAgICBmaWxsVW5pZm9ybXMsXG4gICAgZmlsbFBhdHRlcm5Vbmlmb3JtcyxcbiAgICBmaWxsT3V0bGluZVVuaWZvcm1zLFxuICAgIGZpbGxPdXRsaW5lUGF0dGVyblVuaWZvcm1zLFxuICAgIGZpbGxVbmlmb3JtVmFsdWVzLFxuICAgIGZpbGxQYXR0ZXJuVW5pZm9ybVZhbHVlcyxcbiAgICBmaWxsT3V0bGluZVVuaWZvcm1WYWx1ZXMsXG4gICAgZmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybVZhbHVlc1xufTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7XG4gICAgVW5pZm9ybTFmLFxuICAgIFVuaWZvcm0yZixcbiAgICBVbmlmb3JtM2YsXG4gICAgVW5pZm9ybU1hdHJpeDJmLFxuICAgIFVuaWZvcm1NYXRyaXg0ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uLy4uL2dsL2NvbnRleHQuanMnO1xuaW1wb3J0IHR5cGUge1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQge0Nhbm9uaWNhbFRpbGVJRCwgT3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZS5qcyc7XG5pbXBvcnQgdHlwZSBDaXJjbGVTdHlsZUxheWVyIGZyb20gJy4uLy4uL3N0eWxlL3N0eWxlX2xheWVyL2NpcmNsZV9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3BhaW50ZXIuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCB7bWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7Z2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbiwgZ2xvYmVQaXhlbHNUb1RpbGVVbml0c30gZnJvbSAnLi4vLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uLy4uL2RhdGEvZXh0ZW50LmpzJztcblxuZXhwb3J0IHR5cGUgQ2lyY2xlVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlJzogVW5pZm9ybTFmLFxuICAgICd1X2V4dHJ1ZGVfc2NhbGUnOiBVbmlmb3JtTWF0cml4MmYsXG4gICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogVW5pZm9ybTFmLFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9pbnZfcm90X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9tZXJjX2NlbnRlcic6IFVuaWZvcm0yZixcbiAgICAndV90aWxlX2lkJzogVW5pZm9ybTNmLFxuICAgICd1X3pvb21fdHJhbnNpdGlvbic6IFVuaWZvcm0xZixcbiAgICAndV91cF9kaXInOiBVbmlmb3JtM2YsXG58fTtcblxuZXhwb3J0IHR5cGUgQ2lyY2xlRGVmaW5lc1R5cGUgPSAnUElUQ0hfV0lUSF9NQVAnIHwgJ1NDQUxFX1dJVEhfTUFQJyB8ICdQUk9KRUNUSU9OX0dMT0JFX1ZJRVcnO1xuXG5jb25zdCBjaXJjbGVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogQ2lyY2xlVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IG5ldyBVbmlmb3JtTWF0cml4MmYoY29udGV4dCksXG4gICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9tZXJjX2NlbnRlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfdGlsZV9pZCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV91cF9kaXInOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxufSk7XG5cbmNvbnN0IGlkZW50aXR5TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcblxuY29uc3QgY2lyY2xlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIGNvb3JkOiBPdmVyc2NhbGVkVGlsZUlELFxuICAgIHRpbGU6IFRpbGUsXG4gICAgaW52TWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgbWVyY2F0b3JDZW50ZXI6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgbGF5ZXI6IENpcmNsZVN0eWxlTGF5ZXJcbik6IFVuaWZvcm1WYWx1ZXM8Q2lyY2xlVW5pZm9ybXNUeXBlPiA9PiB7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgaXNHbG9iZSA9IHRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZSc7XG5cbiAgICBsZXQgZXh0cnVkZVNjYWxlO1xuICAgIGlmIChsYXllci5wYWludC5nZXQoJ2NpcmNsZS1waXRjaC1hbGlnbm1lbnQnKSA9PT0gJ21hcCcpIHtcbiAgICAgICAgaWYgKGlzR2xvYmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBnbG9iZVBpeGVsc1RvVGlsZVVuaXRzKHRyYW5zZm9ybS56b29tLCBjb29yZC5jYW5vbmljYWwpICogdHJhbnNmb3JtLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsO1xuICAgICAgICAgICAgZXh0cnVkZVNjYWxlID0gRmxvYXQzMkFycmF5LmZyb20oW3MsIDAsIDAsIHNdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4dHJ1ZGVTY2FsZSA9IHRyYW5zZm9ybS5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0aWxlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGV4dHJ1ZGVTY2FsZSA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1swXSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1sxXV0pO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlcyA9IHtcbiAgICAgICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IHRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLFxuICAgICAgICAndV9tYXRyaXgnOiBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChcbiAgICAgICAgICAgIGNvb3JkLnByb2pNYXRyaXgsXG4gICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtdHJhbnNsYXRlJyksXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ2NpcmNsZS10cmFuc2xhdGUtYW5jaG9yJykpLFxuICAgICAgICAndV9kZXZpY2VfcGl4ZWxfcmF0aW8nOiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sXG4gICAgICAgICd1X2V4dHJ1ZGVfc2NhbGUnOiBleHRydWRlU2NhbGUsXG4gICAgICAgICd1X2ludl9yb3RfbWF0cml4JzogaWRlbnRpdHlNYXRyaXgsXG4gICAgICAgICd1X21lcmNfY2VudGVyJzogWzAsIDBdLFxuICAgICAgICAndV90aWxlX2lkJzogWzAsIDAsIDBdLFxuICAgICAgICAndV96b29tX3RyYW5zaXRpb24nOiAwLFxuICAgICAgICAndV91cF9kaXInOiBbMCwgMCwgMF1cbiAgICB9O1xuXG4gICAgaWYgKGlzR2xvYmUpIHtcbiAgICAgICAgdmFsdWVzWyd1X2ludl9yb3RfbWF0cml4J10gPSBpbnZNYXRyaXg7XG4gICAgICAgIHZhbHVlc1sndV9tZXJjX2NlbnRlciddID0gbWVyY2F0b3JDZW50ZXI7XG4gICAgICAgIHZhbHVlc1sndV90aWxlX2lkJ10gPSBbY29vcmQuY2Fub25pY2FsLngsIGNvb3JkLmNhbm9uaWNhbC55LCAxIDw8IGNvb3JkLmNhbm9uaWNhbC56XTtcbiAgICAgICAgdmFsdWVzWyd1X3pvb21fdHJhbnNpdGlvbiddID0gZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0cmFuc2Zvcm0uem9vbSk7XG4gICAgICAgIGNvbnN0IHggPSBtZXJjYXRvckNlbnRlclswXSAqIEVYVEVOVDtcbiAgICAgICAgY29uc3QgeSA9IG1lcmNhdG9yQ2VudGVyWzFdICogRVhURU5UO1xuICAgICAgICB2YWx1ZXNbJ3VfdXBfZGlyJ10gPSAodHJhbnNmb3JtLnByb2plY3Rpb24udXBWZWN0b3IobmV3IENhbm9uaWNhbFRpbGVJRCgwLCAwLCAwKSwgeCwgeSk6IGFueSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcztcbn07XG5cbmNvbnN0IGNpcmNsZURlZmluZXNWYWx1ZXMgPSAobGF5ZXI6IENpcmNsZVN0eWxlTGF5ZXIpOiBDaXJjbGVEZWZpbmVzVHlwZVtdID0+IHtcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtcGl0Y2gtYWxpZ25tZW50JykgPT09ICdtYXAnKSB2YWx1ZXMucHVzaCgnUElUQ0hfV0lUSF9NQVAnKTtcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtcGl0Y2gtc2NhbGUnKSA9PT0gJ21hcCcpIHZhbHVlcy5wdXNoKCdTQ0FMRV9XSVRIX01BUCcpO1xuXG4gICAgcmV0dXJuIHZhbHVlcztcbn07XG5cbmV4cG9ydCB7Y2lyY2xlVW5pZm9ybXMsIGNpcmNsZVVuaWZvcm1WYWx1ZXMsIGNpcmNsZURlZmluZXNWYWx1ZXN9O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmLFxuICAgIFVuaWZvcm1NYXRyaXg0ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi8uLi9kYXRhL2V4dGVudC5qcyc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uLy4uL2dsL2NvbnRleHQuanMnO1xuaW1wb3J0IHR5cGUge1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uLy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIFByb2plY3Rpb24gZnJvbSAnLi4vLi4vZ2VvL3Byb2plY3Rpb24vcHJvamVjdGlvbi5qcyc7XG5cbmV4cG9ydCB0eXBlIENvbGxpc2lvblVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IFVuaWZvcm0yZlxufH07XG5cbmV4cG9ydCB0eXBlIENvbGxpc2lvbkNpcmNsZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2ludl9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IFVuaWZvcm0xZixcbiAgICAndV92aWV3cG9ydF9zaXplJzogVW5pZm9ybTJmXG58fTtcblxuY29uc3QgY29sbGlzaW9uVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IENvbGxpc2lvblVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dClcbn0pO1xuXG5jb25zdCBjb2xsaXNpb25DaXJjbGVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogQ29sbGlzaW9uQ2lyY2xlVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9pbnZfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV92aWV3cG9ydF9zaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGNvbGxpc2lvblVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sXG4gICAgdGlsZTogVGlsZSxcbiAgICBwcm9qZWN0aW9uOiBQcm9qZWN0aW9uXG4pOiBVbmlmb3JtVmFsdWVzPENvbGxpc2lvblVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHBpeGVsUmF0aW8gPSBFWFRFTlQgLyB0aWxlLnRpbGVTaXplO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICAgICAndV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlJzogdHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UocHJvamVjdGlvbiksXG4gICAgICAgICd1X2V4dHJ1ZGVfc2NhbGUnOiBbdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1swXSAvIHBpeGVsUmF0aW8sXG4gICAgICAgICAgICB0cmFuc2Zvcm0ucGl4ZWxzVG9HTFVuaXRzWzFdIC8gcGl4ZWxSYXRpb11cbiAgICB9O1xufTtcblxuY29uc3QgY29sbGlzaW9uQ2lyY2xlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBpbnZNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICBwcm9qZWN0aW9uOiBQcm9qZWN0aW9uXG4pOiBVbmlmb3JtVmFsdWVzPENvbGxpc2lvbkNpcmNsZVVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgICd1X21hdHJpeCc6IG1hdHJpeCxcbiAgICAgICAgJ3VfaW52X21hdHJpeCc6IGludk1hdHJpeCxcbiAgICAgICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IHRyYW5zZm9ybS5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHByb2plY3Rpb24pLFxuICAgICAgICAndV92aWV3cG9ydF9zaXplJzogW3RyYW5zZm9ybS53aWR0aCwgdHJhbnNmb3JtLmhlaWdodF1cbiAgICB9O1xufTtcblxuZXhwb3J0IHtjb2xsaXNpb25Vbmlmb3JtcywgY29sbGlzaW9uVW5pZm9ybVZhbHVlcywgY29sbGlzaW9uQ2lyY2xlVW5pZm9ybXMsIGNvbGxpc2lvbkNpcmNsZVVuaWZvcm1WYWx1ZXN9O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtQ29sb3IsXG4gICAgVW5pZm9ybU1hdHJpeDRmLFxuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWZcbn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUgQ29sb3IgZnJvbSAnLi4vLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yLmpzJztcblxuZXhwb3J0IHR5cGUgRGVidWdVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X2NvbG9yJzogVW5pZm9ybUNvbG9yLFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9vdmVybGF5JzogVW5pZm9ybTFpLFxuICAgICd1X292ZXJsYXlfc2NhbGUnOiBVbmlmb3JtMWZcbnx9O1xuXG5jb25zdCBkZWJ1Z1VuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBEZWJ1Z1VuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X2NvbG9yJzogbmV3IFVuaWZvcm1Db2xvcihjb250ZXh0KSxcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X292ZXJsYXknOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X292ZXJsYXlfc2NhbGUnOiAgbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbn0pO1xuXG5jb25zdCBkZWJ1Z1VuaWZvcm1WYWx1ZXMgPSAobWF0cml4OiBGbG9hdDMyQXJyYXksIGNvbG9yOiBDb2xvciwgc2NhbGVSYXRpbzogbnVtYmVyID0gMSk6IFVuaWZvcm1WYWx1ZXM8RGVidWdVbmlmb3Jtc1R5cGU+ID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICd1X2NvbG9yJzogY29sb3IsXG4gICAgJ3Vfb3ZlcmxheSc6IDAsXG4gICAgJ3Vfb3ZlcmxheV9zY2FsZSc6IHNjYWxlUmF0aW9cbn0pO1xuXG5leHBvcnQge2RlYnVnVW5pZm9ybXMsIGRlYnVnVW5pZm9ybVZhbHVlc307XG5cbmV4cG9ydCB0eXBlIERlYnVnRGVmaW5lc1R5cGUgPSAnUFJPSkVDVElPTl9HTE9CRV9WSUVXJztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7XG4gICAgVW5pZm9ybTFpLFxuICAgIFVuaWZvcm0xZixcbiAgICBVbmlmb3JtMmYsXG4gICAgVW5pZm9ybTNmLFxuICAgIFVuaWZvcm1NYXRyaXg0ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHBpeGVsc1RvVGlsZVVuaXRzIGZyb20gJy4uLy4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cy5qcyc7XG5cbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vLi4vZ2wvY29udGV4dC5qcyc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uLy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIEhlYXRtYXBTdHlsZUxheWVyIGZyb20gJy4uLy4uL3N0eWxlL3N0eWxlX2xheWVyL2hlYXRtYXBfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHtDYW5vbmljYWxUaWxlSUQsIE92ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uLy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB7bWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7Z2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbiwgZ2xvYmVQaXhlbHNUb1RpbGVVbml0c30gZnJvbSAnLi4vLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uLy4uL2RhdGEvZXh0ZW50LmpzJztcblxuZXhwb3J0IHR5cGUgSGVhdG1hcFVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IFVuaWZvcm0xZixcbiAgICAndV9pbnRlbnNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X21lcmNfY2VudGVyJzogVW5pZm9ybTJmLFxuICAgICd1X3RpbGVfaWQnOiBVbmlmb3JtM2YsXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogVW5pZm9ybTFmLFxuICAgICd1X3VwX2Rpcic6IFVuaWZvcm0zZixcbnx9O1xuXG5leHBvcnQgdHlwZSBIZWF0bWFwVGV4dHVyZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfaW1hZ2UnOiBVbmlmb3JtMWksXG4gICAgJ3VfY29sb3JfcmFtcCc6IFVuaWZvcm0xaSxcbiAgICAndV9vcGFjaXR5JzogVW5pZm9ybTFmXG58fTtcblxuY29uc3QgaGVhdG1hcFVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBIZWF0bWFwVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfaW50ZW5zaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9tZXJjX2NlbnRlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfdGlsZV9pZCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV91cF9kaXInOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpXG59KTtcblxuY29uc3QgaGVhdG1hcFRleHR1cmVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogSGVhdG1hcFRleHR1cmVVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfY29sb3JfcmFtcCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3Vfb3BhY2l0eSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dClcbn0pO1xuXG5jb25zdCBpZGVudGl0eU1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG5cbmNvbnN0IGhlYXRtYXBVbmlmb3JtVmFsdWVzID0gKFxuICAgIHBhaW50ZXI6IFBhaW50ZXIsXG4gICAgY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQsXG4gICAgdGlsZTogVGlsZSxcbiAgICBpbnZNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBtZXJjYXRvckNlbnRlcjogW251bWJlciwgbnVtYmVyXSxcbiAgICB6b29tOiBudW1iZXIsXG4gICAgaW50ZW5zaXR5OiBudW1iZXJcbik6IFVuaWZvcm1WYWx1ZXM8SGVhdG1hcFVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IGlzR2xvYmUgPSB0cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuICAgIGNvbnN0IGV4dHJ1ZGVTY2FsZSA9IGlzR2xvYmUgPyBnbG9iZVBpeGVsc1RvVGlsZVVuaXRzKHRyYW5zZm9ybS56b29tLCBjb29yZC5jYW5vbmljYWwpICogdHJhbnNmb3JtLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsIDogcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgem9vbSk7XG5cbiAgICBjb25zdCB2YWx1ZXMgPSB7XG4gICAgICAgICd1X21hdHJpeCc6IGNvb3JkLnByb2pNYXRyaXgsXG4gICAgICAgICd1X2V4dHJ1ZGVfc2NhbGUnOiBleHRydWRlU2NhbGUsXG4gICAgICAgICd1X2ludGVuc2l0eSc6IGludGVuc2l0eSxcbiAgICAgICAgJ3VfaW52X3JvdF9tYXRyaXgnOiBpZGVudGl0eU1hdHJpeCxcbiAgICAgICAgJ3VfbWVyY19jZW50ZXInOiBbMCwgMF0sXG4gICAgICAgICd1X3RpbGVfaWQnOiBbMCwgMCwgMF0sXG4gICAgICAgICd1X3pvb21fdHJhbnNpdGlvbic6IDAsXG4gICAgICAgICd1X3VwX2Rpcic6IFswLCAwLCAwXSxcbiAgICB9O1xuXG4gICAgaWYgKGlzR2xvYmUpIHtcbiAgICAgICAgdmFsdWVzWyd1X2ludl9yb3RfbWF0cml4J10gPSBpbnZNYXRyaXg7XG4gICAgICAgIHZhbHVlc1sndV9tZXJjX2NlbnRlciddID0gbWVyY2F0b3JDZW50ZXI7XG4gICAgICAgIHZhbHVlc1sndV90aWxlX2lkJ10gPSBbY29vcmQuY2Fub25pY2FsLngsIGNvb3JkLmNhbm9uaWNhbC55LCAxIDw8IGNvb3JkLmNhbm9uaWNhbC56XTtcbiAgICAgICAgdmFsdWVzWyd1X3pvb21fdHJhbnNpdGlvbiddID0gZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0cmFuc2Zvcm0uem9vbSk7XG4gICAgICAgIGNvbnN0IHggPSBtZXJjYXRvckNlbnRlclswXSAqIEVYVEVOVDtcbiAgICAgICAgY29uc3QgeSA9IG1lcmNhdG9yQ2VudGVyWzFdICogRVhURU5UO1xuICAgICAgICB2YWx1ZXNbJ3VfdXBfZGlyJ10gPSAodHJhbnNmb3JtLnByb2plY3Rpb24udXBWZWN0b3IobmV3IENhbm9uaWNhbFRpbGVJRCgwLCAwLCAwKSwgeCwgeSk6IGFueSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcztcbn07XG5cbmNvbnN0IGhlYXRtYXBUZXh0dXJlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIGxheWVyOiBIZWF0bWFwU3R5bGVMYXllcixcbiAgICB0ZXh0dXJlVW5pdDogbnVtYmVyLFxuICAgIGNvbG9yUmFtcFVuaXQ6IG51bWJlclxuKTogVW5pZm9ybVZhbHVlczxIZWF0bWFwVGV4dHVyZVVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgICd1X2ltYWdlJzogdGV4dHVyZVVuaXQsXG4gICAgICAgICd1X2NvbG9yX3JhbXAnOiBjb2xvclJhbXBVbml0LFxuICAgICAgICAndV9vcGFjaXR5JzogbGF5ZXIucGFpbnQuZ2V0KCdoZWF0bWFwLW9wYWNpdHknKVxuICAgIH07XG59O1xuXG5leHBvcnQge1xuICAgIGhlYXRtYXBVbmlmb3JtcyxcbiAgICBoZWF0bWFwVGV4dHVyZVVuaWZvcm1zLFxuICAgIGhlYXRtYXBVbmlmb3JtVmFsdWVzLFxuICAgIGhlYXRtYXBUZXh0dXJlVW5pZm9ybVZhbHVlc1xufTtcblxuZXhwb3J0IHR5cGUgSGVhdG1hcERlZmluZXNUeXBlID0gJ1BST0pFQ1RJT05fR0xPQkVfVklFVyc7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmLFxuICAgIFVuaWZvcm1NYXRyaXgyZixcbiAgICBVbmlmb3JtTWF0cml4NGZcbn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi8uLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMuanMnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uLy4uL2dsL2NvbnRleHQuanMnO1xuaW1wb3J0IHR5cGUge1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uLy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIExpbmVTdHlsZUxheWVyIGZyb20gJy4uLy4uL3N0eWxlL3N0eWxlX2xheWVyL2xpbmVfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyLmpzJztcblxuZXhwb3J0IHR5cGUgTGluZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X3BpeGVsc190b190aWxlX3VuaXRzJzogVW5pZm9ybU1hdHJpeDJmLFxuICAgICd1X2RldmljZV9waXhlbF9yYXRpbyc6IFVuaWZvcm0xZixcbiAgICAndV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMmYsXG4gICAgJ3VfZGFzaF9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV9ncmFkaWVudF9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV9pbWFnZV9oZWlnaHQnOiBVbmlmb3JtMWYsXG4gICAgJ3VfdGV4c2l6ZSc6IFVuaWZvcm0yZixcbiAgICAndV90aWxlX3VuaXRzX3RvX3BpeGVscyc6IFVuaWZvcm0xZixcbiAgICAndV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZCc6IFVuaWZvcm0xZixcbiAgICAndV90cmltX29mZnNldCc6IFVuaWZvcm0yZlxufH07XG5cbmV4cG9ydCB0eXBlIExpbmVQYXR0ZXJuVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfdGV4c2l6ZSc6IFVuaWZvcm0yZixcbiAgICAndV9waXhlbHNfdG9fdGlsZV91bml0cyc6IFVuaWZvcm1NYXRyaXgyZixcbiAgICAndV9kZXZpY2VfcGl4ZWxfcmF0aW8nOiBVbmlmb3JtMWYsXG4gICAgJ3VfdW5pdHNfdG9fcGl4ZWxzJzogVW5pZm9ybTJmLFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogVW5pZm9ybTFmLFxuICAgICd1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkJzogVW5pZm9ybTFmXG58fTtcblxuZXhwb3J0IHR5cGUgTGluZURlZmluZXNUeXBlID0gJ1JFTkRFUl9MSU5FX0dSQURJRU5UJyB8ICdSRU5ERVJfTElORV9EQVNIJyB8ICdSRU5ERVJfTElORV9BTFBIQV9ESVNDQVJEJyB8ICdSRU5ERVJfTElORV9UUklNX09GRlNFVCc7XG5cbmNvbnN0IGxpbmVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogTGluZVVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfcGl4ZWxzX3RvX3RpbGVfdW5pdHMnOiBuZXcgVW5pZm9ybU1hdHJpeDJmKGNvbnRleHQpLFxuICAgICd1X2RldmljZV9waXhlbF9yYXRpbyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfdW5pdHNfdG9fcGl4ZWxzJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9kYXNoX2ltYWdlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9ncmFkaWVudF9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfaW1hZ2VfaGVpZ2h0JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV90aWxlX3VuaXRzX3RvX3BpeGVscyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3RyaW1fb2Zmc2V0JzogbmV3IFVuaWZvcm0yZihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGxpbmVQYXR0ZXJuVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IExpbmVQYXR0ZXJuVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9waXhlbHNfdG9fdGlsZV91bml0cyc6IG5ldyBVbmlmb3JtTWF0cml4MmYoY29udGV4dCksXG4gICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfdW5pdHNfdG9fcGl4ZWxzJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV90aWxlX3VuaXRzX3RvX3BpeGVscyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpXG59KTtcblxuY29uc3QgbGluZVVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICB0aWxlOiBUaWxlLFxuICAgIGxheWVyOiBMaW5lU3R5bGVMYXllcixcbiAgICBtYXRyaXg6ID9GbG9hdDMyQXJyYXksXG4gICAgaW1hZ2VIZWlnaHQ6IG51bWJlcixcbiAgICBwaXhlbFJhdGlvOiBudW1iZXIsXG4gICAgdHJpbU9mZnNldDogW251bWJlciwgbnVtYmVyXSxcbik6IFVuaWZvcm1WYWx1ZXM8TGluZVVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IHBpeGVsc1RvVGlsZVVuaXRzID0gdHJhbnNmb3JtLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHRpbGUpO1xuICAgIHJldHVybiB7XG4gICAgICAgICd1X21hdHJpeCc6IGNhbGN1bGF0ZU1hdHJpeChwYWludGVyLCB0aWxlLCBsYXllciwgbWF0cml4KSxcbiAgICAgICAgJ3VfcGl4ZWxzX3RvX3RpbGVfdW5pdHMnOiBwaXhlbHNUb1RpbGVVbml0cyxcbiAgICAgICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogcGl4ZWxSYXRpbyxcbiAgICAgICAgJ3VfdW5pdHNfdG9fcGl4ZWxzJzogW1xuICAgICAgICAgICAgMSAvIHRyYW5zZm9ybS5waXhlbHNUb0dMVW5pdHNbMF0sXG4gICAgICAgICAgICAxIC8gdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1sxXVxuICAgICAgICBdLFxuICAgICAgICAndV9kYXNoX2ltYWdlJzogMCxcbiAgICAgICAgJ3VfZ3JhZGllbnRfaW1hZ2UnOiAxLFxuICAgICAgICAndV9pbWFnZV9oZWlnaHQnOiBpbWFnZUhlaWdodCxcbiAgICAgICAgJ3VfdGV4c2l6ZSc6IGhhc0Rhc2gobGF5ZXIpID8gdGlsZS5saW5lQXRsYXNUZXh0dXJlLnNpemUgOiBbMCwgMF0sXG4gICAgICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogY2FsY3VsYXRlVGlsZVJhdGlvKHRpbGUsIHBhaW50ZXIudHJhbnNmb3JtKSxcbiAgICAgICAgJ3VfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQnOiAwLjAsXG4gICAgICAgICd1X3RyaW1fb2Zmc2V0JzogdHJpbU9mZnNldFxuICAgIH07XG59O1xuXG5jb25zdCBsaW5lUGF0dGVyblVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICB0aWxlOiBUaWxlLFxuICAgIGxheWVyOiBMaW5lU3R5bGVMYXllcixcbiAgICBtYXRyaXg6ID9GbG9hdDMyQXJyYXksXG4gICAgcGl4ZWxSYXRpbzogbnVtYmVyXG4pOiBVbmlmb3JtVmFsdWVzPExpbmVQYXR0ZXJuVW5pZm9ybXNUeXBlPiA9PiB7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgJ3VfbWF0cml4JzogY2FsY3VsYXRlTWF0cml4KHBhaW50ZXIsIHRpbGUsIGxheWVyLCBtYXRyaXgpLFxuICAgICAgICAndV90ZXhzaXplJzogdGlsZS5pbWFnZUF0bGFzVGV4dHVyZS5zaXplLFxuICAgICAgICAvLyBjYW1lcmEgem9vbSByYXRpb1xuICAgICAgICAndV9waXhlbHNfdG9fdGlsZV91bml0cyc6IHRyYW5zZm9ybS5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0aWxlKSxcbiAgICAgICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogcGl4ZWxSYXRpbyxcbiAgICAgICAgJ3VfaW1hZ2UnOiAwLFxuICAgICAgICAndV90aWxlX3VuaXRzX3RvX3BpeGVscyc6IGNhbGN1bGF0ZVRpbGVSYXRpbyh0aWxlLCB0cmFuc2Zvcm0pLFxuICAgICAgICAndV91bml0c190b19waXhlbHMnOiBbXG4gICAgICAgICAgICAxIC8gdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1swXSxcbiAgICAgICAgICAgIDEgLyB0cmFuc2Zvcm0ucGl4ZWxzVG9HTFVuaXRzWzFdXG4gICAgICAgIF0sXG4gICAgICAgICd1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkJzogMC4wXG4gICAgfTtcbn07XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVRpbGVSYXRpbyh0aWxlOiBUaWxlLCB0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgIHJldHVybiAxIC8gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgdHJhbnNmb3JtLnRpbGVab29tKTtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlTWF0cml4KHBhaW50ZXIsIHRpbGUsIGxheWVyLCBtYXRyaXgpIHtcbiAgICByZXR1cm4gcGFpbnRlci50cmFuc2xhdGVQb3NNYXRyaXgoXG4gICAgICAgIG1hdHJpeCA/IG1hdHJpeCA6IHRpbGUudGlsZUlELnByb2pNYXRyaXgsXG4gICAgICAgIHRpbGUsXG4gICAgICAgIGxheWVyLnBhaW50LmdldCgnbGluZS10cmFuc2xhdGUnKSxcbiAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLXRyYW5zbGF0ZS1hbmNob3InKVxuICAgICk7XG59XG5cbmNvbnN0IGxpbmVEZWZpbmVzVmFsdWVzID0gKGxheWVyOiBMaW5lU3R5bGVMYXllcik6IExpbmVEZWZpbmVzVHlwZVtdID0+IHtcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBpZiAoaGFzRGFzaChsYXllcikpIHZhbHVlcy5wdXNoKCdSRU5ERVJfTElORV9EQVNIJyk7XG4gICAgaWYgKGxheWVyLnBhaW50LmdldCgnbGluZS1ncmFkaWVudCcpKSB2YWx1ZXMucHVzaCgnUkVOREVSX0xJTkVfR1JBRElFTlQnKTtcblxuICAgIGNvbnN0IHRyaW1PZmZzZXQgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtdHJpbS1vZmZzZXQnKTtcbiAgICBpZiAodHJpbU9mZnNldFswXSAhPT0gMCB8fCB0cmltT2Zmc2V0WzFdICE9PSAwKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKCdSRU5ERVJfTElORV9UUklNX09GRlNFVCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGhhc1BhdHRlcm4gPSBsYXllci5wYWludC5nZXQoJ2xpbmUtcGF0dGVybicpLmNvbnN0YW50T3IoKDE6IGFueSkpO1xuICAgIGNvbnN0IGhhc09wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtb3BhY2l0eScpLmNvbnN0YW50T3IoMS4wKSAhPT0gMS4wO1xuICAgIGlmICghaGFzUGF0dGVybiAmJiBoYXNPcGFjaXR5KSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKCdSRU5ERVJfTElORV9BTFBIQV9ESVNDQVJEJyk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59O1xuXG5mdW5jdGlvbiBoYXNEYXNoKGxheWVyKSB7XG4gICAgY29uc3QgZGFzaFByb3BlcnR5VmFsdWUgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtZGFzaGFycmF5JykudmFsdWU7XG4gICAgcmV0dXJuIGRhc2hQcm9wZXJ0eVZhbHVlLnZhbHVlIHx8IGRhc2hQcm9wZXJ0eVZhbHVlLmtpbmQgIT09IFwiY29uc3RhbnRcIjtcbn1cblxuZXhwb3J0IHtcbiAgICBsaW5lVW5pZm9ybXMsXG4gICAgbGluZVBhdHRlcm5Vbmlmb3JtcyxcbiAgICBsaW5lVW5pZm9ybVZhbHVlcyxcbiAgICBsaW5lUGF0dGVyblVuaWZvcm1WYWx1ZXMsXG4gICAgbGluZURlZmluZXNWYWx1ZXNcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmLFxuICAgIFVuaWZvcm0zZixcbiAgICBVbmlmb3JtTWF0cml4NGZcbn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUgUmFzdGVyU3R5bGVMYXllciBmcm9tICcuLi8uLi9zdHlsZS9zdHlsZV9sYXllci9yYXN0ZXJfc3R5bGVfbGF5ZXIuanMnO1xuXG5leHBvcnQgdHlwZSBSYXN0ZXJVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV90bF9wYXJlbnQnOiBVbmlmb3JtMmYsXG4gICAgJ3Vfc2NhbGVfcGFyZW50JzogVW5pZm9ybTFmLFxuICAgICd1X2ZhZGVfdCc6IFVuaWZvcm0xZixcbiAgICAndV9vcGFjaXR5JzogVW5pZm9ybTFmLFxuICAgICd1X2ltYWdlMCc6IFVuaWZvcm0xaSxcbiAgICAndV9pbWFnZTEnOiBVbmlmb3JtMWksXG4gICAgJ3VfYnJpZ2h0bmVzc19sb3cnOiBVbmlmb3JtMWYsXG4gICAgJ3VfYnJpZ2h0bmVzc19oaWdoJzogVW5pZm9ybTFmLFxuICAgICd1X3NhdHVyYXRpb25fZmFjdG9yJzogVW5pZm9ybTFmLFxuICAgICd1X2NvbnRyYXN0X2ZhY3Rvcic6IFVuaWZvcm0xZixcbiAgICAndV9zcGluX3dlaWdodHMnOiBVbmlmb3JtM2YsXG4gICAgJ3VfcGVyc3BlY3RpdmVfdHJhbnNmb3JtJzogVW5pZm9ybTJmXG58fTtcblxuY29uc3QgcmFzdGVyVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IFJhc3RlclVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfdGxfcGFyZW50JzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9zY2FsZV9wYXJlbnQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2ZhZGVfdCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3Vfb3BhY2l0eSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfaW1hZ2UwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9pbWFnZTEnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X2JyaWdodG5lc3NfbG93JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9icmlnaHRuZXNzX2hpZ2gnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3NhdHVyYXRpb25fZmFjdG9yJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9jb250cmFzdF9mYWN0b3InOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3NwaW5fd2VpZ2h0cyc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfcGVyc3BlY3RpdmVfdHJhbnNmb3JtJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KVxufSk7XG5cbmNvbnN0IHJhc3RlclVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgcGFyZW50VEw6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgcGFyZW50U2NhbGVCeTogbnVtYmVyLFxuICAgIGZhZGU6IHttaXg6IG51bWJlciwgb3BhY2l0eTogbnVtYmVyfSxcbiAgICBsYXllcjogUmFzdGVyU3R5bGVMYXllcixcbiAgICBwZXJzcGVjdGl2ZVRyYW5zZm9ybTogW251bWJlciwgbnVtYmVyXVxuKTogVW5pZm9ybVZhbHVlczxSYXN0ZXJVbmlmb3Jtc1R5cGU+ID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICd1X3RsX3BhcmVudCc6IHBhcmVudFRMLFxuICAgICd1X3NjYWxlX3BhcmVudCc6IHBhcmVudFNjYWxlQnksXG4gICAgJ3VfZmFkZV90JzogZmFkZS5taXgsXG4gICAgJ3Vfb3BhY2l0eSc6IGZhZGUub3BhY2l0eSAqIGxheWVyLnBhaW50LmdldCgncmFzdGVyLW9wYWNpdHknKSxcbiAgICAndV9pbWFnZTAnOiAwLFxuICAgICd1X2ltYWdlMSc6IDEsXG4gICAgJ3VfYnJpZ2h0bmVzc19sb3cnOiBsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1icmlnaHRuZXNzLW1pbicpLFxuICAgICd1X2JyaWdodG5lc3NfaGlnaCc6IGxheWVyLnBhaW50LmdldCgncmFzdGVyLWJyaWdodG5lc3MtbWF4JyksXG4gICAgJ3Vfc2F0dXJhdGlvbl9mYWN0b3InOiBzYXR1cmF0aW9uRmFjdG9yKGxheWVyLnBhaW50LmdldCgncmFzdGVyLXNhdHVyYXRpb24nKSksXG4gICAgJ3VfY29udHJhc3RfZmFjdG9yJzogY29udHJhc3RGYWN0b3IobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItY29udHJhc3QnKSksXG4gICAgJ3Vfc3Bpbl93ZWlnaHRzJzogc3BpbldlaWdodHMobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItaHVlLXJvdGF0ZScpKSxcbiAgICAndV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm0nOiBwZXJzcGVjdGl2ZVRyYW5zZm9ybVxufSk7XG5cbmZ1bmN0aW9uIHNwaW5XZWlnaHRzKGFuZ2xlKSB7XG4gICAgYW5nbGUgKj0gTWF0aC5QSSAvIDE4MDtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgKDIgKiBjICsgMSkgLyAzLFxuICAgICAgICAoLU1hdGguc3FydCgzKSAqIHMgLSBjICsgMSkgLyAzLFxuICAgICAgICAoTWF0aC5zcXJ0KDMpICogcyAtIGMgKyAxKSAvIDNcbiAgICBdO1xufVxuXG5mdW5jdGlvbiBjb250cmFzdEZhY3Rvcihjb250cmFzdCkge1xuICAgIHJldHVybiBjb250cmFzdCA+IDAgP1xuICAgICAgICAxIC8gKDEgLSBjb250cmFzdCkgOlxuICAgICAgICAxICsgY29udHJhc3Q7XG59XG5cbmZ1bmN0aW9uIHNhdHVyYXRpb25GYWN0b3Ioc2F0dXJhdGlvbikge1xuICAgIHJldHVybiBzYXR1cmF0aW9uID4gMCA/XG4gICAgICAgIDEgLSAxIC8gKDEuMDAxIC0gc2F0dXJhdGlvbikgOlxuICAgICAgICAtc2F0dXJhdGlvbjtcbn1cblxuZXhwb3J0IHtyYXN0ZXJVbmlmb3JtcywgcmFzdGVyVW5pZm9ybVZhbHVlc307XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmLFxuICAgIFVuaWZvcm0zZixcbiAgICBVbmlmb3JtTWF0cml4NGZcbn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB7bWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB7Z2xvYmVFQ0VGT3JpZ2lufSBmcm9tICcuLi8uLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcbmltcG9ydCB0eXBlIFByb2plY3Rpb24gZnJvbSAnLi4vLi4vZ2VvL3Byb2plY3Rpb24vcHJvamVjdGlvbi5qcyc7XG5cbmltcG9ydCB0eXBlIHtJbnRlcnBvbGF0ZWRTaXplfSBmcm9tICcuLi8uLi9zeW1ib2wvc3ltYm9sX3NpemUuanMnO1xuXG5leHBvcnQgdHlwZSBTeW1ib2xJY29uVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9pc19zaXplX3pvb21fY29uc3RhbnQnOiBVbmlmb3JtMWksXG4gICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogVW5pZm9ybTFpLFxuICAgICd1X3NpemVfdCc6IFVuaWZvcm0xZixcbiAgICAndV9zaXplJzogVW5pZm9ybTFmLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBVbmlmb3JtMWYsXG4gICAgJ3Vfcm90YXRlX3N5bWJvbCc6IFVuaWZvcm0xaSxcbiAgICAndV9hc3BlY3RfcmF0aW8nOiBVbmlmb3JtMWYsXG4gICAgJ3VfZmFkZV9jaGFuZ2UnOiBVbmlmb3JtMWYsXG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2xhYmVsX3BsYW5lX21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9jb29yZF9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfaXNfdGV4dCc6IFVuaWZvcm0xaSxcbiAgICAndV9waXRjaF93aXRoX21hcCc6IFVuaWZvcm0xaSxcbiAgICAndV90ZXhzaXplJzogVW5pZm9ybTJmLFxuICAgICd1X3RpbGVfaWQnOiBVbmlmb3JtM2YsXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogVW5pZm9ybTFmLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X21lcmNfY2VudGVyJzogVW5pZm9ybTJmLFxuICAgICd1X2NhbWVyYV9mb3J3YXJkJzogVW5pZm9ybTNmLFxuICAgICd1X3RpbGVfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X3VwX3ZlY3Rvcic6IFVuaWZvcm0zZixcbiAgICAndV9lY2VmX29yaWdpbic6IFVuaWZvcm0zZixcbiAgICAndV90ZXh0dXJlJzogVW5pZm9ybTFpXG58fTtcblxuZXhwb3J0IHR5cGUgU3ltYm9sU0RGVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9pc19zaXplX3pvb21fY29uc3RhbnQnOiBVbmlmb3JtMWksXG4gICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogVW5pZm9ybTFpLFxuICAgICd1X3NpemVfdCc6IFVuaWZvcm0xZixcbiAgICAndV9zaXplJzogVW5pZm9ybTFmLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBVbmlmb3JtMWYsXG4gICAgJ3Vfcm90YXRlX3N5bWJvbCc6IFVuaWZvcm0xaSxcbiAgICAndV9hc3BlY3RfcmF0aW8nOiBVbmlmb3JtMWYsXG4gICAgJ3VfZmFkZV9jaGFuZ2UnOiBVbmlmb3JtMWYsXG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2xhYmVsX3BsYW5lX21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9jb29yZF9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfaXNfdGV4dCc6IFVuaWZvcm0xaSxcbiAgICAndV9waXRjaF93aXRoX21hcCc6IFVuaWZvcm0xaSxcbiAgICAndV90ZXhzaXplJzogVW5pZm9ybTJmLFxuICAgICd1X3RleHR1cmUnOiBVbmlmb3JtMWksXG4gICAgJ3VfZ2FtbWFfc2NhbGUnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogVW5pZm9ybTFmLFxuICAgICd1X3RpbGVfaWQnOiBVbmlmb3JtM2YsXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogVW5pZm9ybTFmLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X21lcmNfY2VudGVyJzogVW5pZm9ybTJmLFxuICAgICd1X2NhbWVyYV9mb3J3YXJkJzogVW5pZm9ybTNmLFxuICAgICd1X3RpbGVfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X3VwX3ZlY3Rvcic6IFVuaWZvcm0zZixcbiAgICAndV9lY2VmX29yaWdpbic6IFVuaWZvcm0zZixcbiAgICAndV9pc19oYWxvJzogVW5pZm9ybTFpXG58fTtcblxuZXhwb3J0IHR5cGUgc3ltYm9sVGV4dEFuZEljb25Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X2lzX3NpemVfem9vbV9jb25zdGFudCc6IFVuaWZvcm0xaSxcbiAgICAndV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQnOiBVbmlmb3JtMWksXG4gICAgJ3Vfc2l6ZV90JzogVW5pZm9ybTFmLFxuICAgICd1X3NpemUnOiBVbmlmb3JtMWYsXG4gICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IFVuaWZvcm0xZixcbiAgICAndV9yb3RhdGVfc3ltYm9sJzogVW5pZm9ybTFpLFxuICAgICd1X2FzcGVjdF9yYXRpbyc6IFVuaWZvcm0xZixcbiAgICAndV9mYWRlX2NoYW5nZSc6IFVuaWZvcm0xZixcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfbGFiZWxfcGxhbmVfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2Nvb3JkX21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9pc190ZXh0JzogVW5pZm9ybTFpLFxuICAgICd1X3BpdGNoX3dpdGhfbWFwJzogVW5pZm9ybTFpLFxuICAgICd1X3RleHNpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGV4c2l6ZV9pY29uJzogVW5pZm9ybTJmLFxuICAgICd1X3RleHR1cmUnOiBVbmlmb3JtMWksXG4gICAgJ3VfdGV4dHVyZV9pY29uJzogVW5pZm9ybTFpLFxuICAgICd1X2dhbW1hX3NjYWxlJzogVW5pZm9ybTFmLFxuICAgICd1X2RldmljZV9waXhlbF9yYXRpbyc6IFVuaWZvcm0xZixcbiAgICAndV9pc19oYWxvJzogVW5pZm9ybTFpXG58fTtcblxuZXhwb3J0IHR5cGUgU3ltYm9sRGVmaW5lc1R5cGUgPSAnUElUQ0hfV0lUSF9NQVBfVEVSUkFJTic7XG5cbmNvbnN0IHN5bWJvbEljb25Vbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogU3ltYm9sSWNvblVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X2lzX3NpemVfem9vbV9jb25zdGFudCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9zaXplX3QnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3NpemUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3JvdGF0ZV9zeW1ib2wnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X2FzcGVjdF9yYXRpbyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZmFkZV9jaGFuZ2UnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfbGFiZWxfcGxhbmVfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9jb29yZF9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2lzX3RleHQnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X3BpdGNoX3dpdGhfbWFwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV90aWxlX2lkJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV96b29tX3RyYW5zaXRpb24nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9tZXJjX2NlbnRlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfY2FtZXJhX2ZvcndhcmQnOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxuICAgICd1X3RpbGVfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV91cF92ZWN0b3InOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxuICAgICd1X2VjZWZfb3JpZ2luJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV90ZXh0dXJlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KVxufSk7XG5cbmNvbnN0IHN5bWJvbFNERlVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBTeW1ib2xTREZVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9pc19zaXplX3pvb21fY29uc3RhbnQnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3Vfc2l6ZV90JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9zaXplJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9yb3RhdGVfc3ltYm9sJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9hc3BlY3RfcmF0aW8nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2ZhZGVfY2hhbmdlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2xhYmVsX3BsYW5lX21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfY29vcmRfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9pc190ZXh0JzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9waXRjaF93aXRoX21hcCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfdGV4c2l6ZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfdGV4dHVyZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfZ2FtbWFfc2NhbGUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2RldmljZV9waXhlbF9yYXRpbyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfdGlsZV9pZCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9pbnZfcm90X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfbWVyY19jZW50ZXInOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X2NhbWVyYV9mb3J3YXJkJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV90aWxlX21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfdXBfdmVjdG9yJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9lY2VmX29yaWdpbic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfaXNfaGFsbyc6IG5ldyBVbmlmb3JtMWkoY29udGV4dClcbn0pO1xuXG5jb25zdCBzeW1ib2xUZXh0QW5kSWNvblVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBzeW1ib2xUZXh0QW5kSWNvblVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X2lzX3NpemVfem9vbV9jb25zdGFudCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9zaXplX3QnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3NpemUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3JvdGF0ZV9zeW1ib2wnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X2FzcGVjdF9yYXRpbyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZmFkZV9jaGFuZ2UnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfbGFiZWxfcGxhbmVfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9jb29yZF9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2lzX3RleHQnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X3BpdGNoX3dpdGhfbWFwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV90ZXhzaXplX2ljb24nOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X3RleHR1cmUnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X3RleHR1cmVfaWNvbic6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfZ2FtbWFfc2NhbGUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2RldmljZV9waXhlbF9yYXRpbyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfaXNfaGFsbyc6IG5ldyBVbmlmb3JtMWkoY29udGV4dClcbn0pO1xuXG5jb25zdCBpZGVudGl0eU1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG5cbmNvbnN0IHN5bWJvbEljb25Vbmlmb3JtVmFsdWVzID0gKFxuICAgIGZ1bmN0aW9uVHlwZTogc3RyaW5nLFxuICAgIHNpemU6ID9JbnRlcnBvbGF0ZWRTaXplLFxuICAgIHJvdGF0ZUluU2hhZGVyOiBib29sZWFuLFxuICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbixcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIGxhYmVsUGxhbmVNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBnbENvb3JkTWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgaXNUZXh0OiBib29sZWFuLFxuICAgIHRleFNpemU6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQsXG4gICAgem9vbVRyYW5zaXRpb246IG51bWJlcixcbiAgICBtZXJjYXRvckNlbnRlcjogW251bWJlciwgbnVtYmVyXSxcbiAgICBpbnZNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICB1cFZlY3RvcjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHByb2plY3Rpb246IFByb2plY3Rpb25cbik6IFVuaWZvcm1WYWx1ZXM8U3ltYm9sSWNvblVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuXG4gICAgY29uc3QgdmFsdWVzID0ge1xuICAgICAgICAndV9pc19zaXplX3pvb21fY29uc3RhbnQnOiArKGZ1bmN0aW9uVHlwZSA9PT0gJ2NvbnN0YW50JyB8fCBmdW5jdGlvblR5cGUgPT09ICdzb3VyY2UnKSxcbiAgICAgICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogKyhmdW5jdGlvblR5cGUgPT09ICdjb25zdGFudCcgfHwgZnVuY3Rpb25UeXBlID09PSAnY2FtZXJhJyksXG4gICAgICAgICd1X3NpemVfdCc6IHNpemUgPyBzaXplLnVTaXplVCA6IDAsXG4gICAgICAgICd1X3NpemUnOiBzaXplID8gc2l6ZS51U2l6ZSA6IDAsXG4gICAgICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiB0cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSxcbiAgICAgICAgJ3Vfcm90YXRlX3N5bWJvbCc6ICtyb3RhdGVJblNoYWRlcixcbiAgICAgICAgJ3VfYXNwZWN0X3JhdGlvJzogdHJhbnNmb3JtLndpZHRoIC8gdHJhbnNmb3JtLmhlaWdodCxcbiAgICAgICAgJ3VfZmFkZV9jaGFuZ2UnOiBwYWludGVyLm9wdGlvbnMuZmFkZUR1cmF0aW9uID8gcGFpbnRlci5zeW1ib2xGYWRlQ2hhbmdlIDogMSxcbiAgICAgICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICAgICAndV9sYWJlbF9wbGFuZV9tYXRyaXgnOiBsYWJlbFBsYW5lTWF0cml4LFxuICAgICAgICAndV9jb29yZF9tYXRyaXgnOiBnbENvb3JkTWF0cml4LFxuICAgICAgICAndV9pc190ZXh0JzogK2lzVGV4dCxcbiAgICAgICAgJ3VfcGl0Y2hfd2l0aF9tYXAnOiArcGl0Y2hXaXRoTWFwLFxuICAgICAgICAndV90ZXhzaXplJzogdGV4U2l6ZSxcbiAgICAgICAgJ3VfdGV4dHVyZSc6IDAsXG4gICAgICAgICd1X3RpbGVfaWQnOiBbMCwgMCwgMF0sXG4gICAgICAgICd1X3pvb21fdHJhbnNpdGlvbic6IDAsXG4gICAgICAgICd1X2ludl9yb3RfbWF0cml4JzogaWRlbnRpdHlNYXRyaXgsXG4gICAgICAgICd1X21lcmNfY2VudGVyJzogWzAsIDBdLFxuICAgICAgICAndV9jYW1lcmFfZm9yd2FyZCc6IFswLCAwLCAwXSxcbiAgICAgICAgJ3VfZWNlZl9vcmlnaW4nOiBbMCwgMCwgMF0sXG4gICAgICAgICd1X3RpbGVfbWF0cml4JzogaWRlbnRpdHlNYXRyaXgsXG4gICAgICAgICd1X3VwX3ZlY3Rvcic6IFswLCAtMSwgMF1cbiAgICB9O1xuXG4gICAgaWYgKHByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICB2YWx1ZXNbJ3VfdGlsZV9pZCddID0gW2Nvb3JkLmNhbm9uaWNhbC54LCBjb29yZC5jYW5vbmljYWwueSwgMSA8PCBjb29yZC5jYW5vbmljYWwuel07XG4gICAgICAgIHZhbHVlc1sndV96b29tX3RyYW5zaXRpb24nXSA9IHpvb21UcmFuc2l0aW9uO1xuICAgICAgICB2YWx1ZXNbJ3VfaW52X3JvdF9tYXRyaXgnXSA9IGludk1hdHJpeDtcbiAgICAgICAgdmFsdWVzWyd1X21lcmNfY2VudGVyJ10gPSBtZXJjYXRvckNlbnRlcjtcbiAgICAgICAgdmFsdWVzWyd1X2NhbWVyYV9mb3J3YXJkJ10gPSAoKHRyYW5zZm9ybS5fY2FtZXJhLmZvcndhcmQoKTogYW55KTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdKTtcbiAgICAgICAgdmFsdWVzWyd1X2VjZWZfb3JpZ2luJ10gPSBnbG9iZUVDRUZPcmlnaW4odHJhbnNmb3JtLmdsb2JlTWF0cml4LCBjb29yZC50b1Vud3JhcHBlZCgpKTtcbiAgICAgICAgdmFsdWVzWyd1X3RpbGVfbWF0cml4J10gPSBGbG9hdDMyQXJyYXkuZnJvbSh0cmFuc2Zvcm0uZ2xvYmVNYXRyaXgpO1xuICAgICAgICB2YWx1ZXNbJ3VfdXBfdmVjdG9yJ10gPSB1cFZlY3RvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzO1xufTtcblxuY29uc3Qgc3ltYm9sU0RGVW5pZm9ybVZhbHVlcyA9IChcbiAgICBmdW5jdGlvblR5cGU6IHN0cmluZyxcbiAgICBzaXplOiA/SW50ZXJwb2xhdGVkU2l6ZSxcbiAgICByb3RhdGVJblNoYWRlcjogYm9vbGVhbixcbiAgICBwaXRjaFdpdGhNYXA6IGJvb2xlYW4sXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBsYWJlbFBsYW5lTWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgZ2xDb29yZE1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIGlzVGV4dDogYm9vbGVhbixcbiAgICB0ZXhTaXplOiBbbnVtYmVyLCBudW1iZXJdLFxuICAgIGlzSGFsbzogYm9vbGVhbixcbiAgICBjb29yZDogT3ZlcnNjYWxlZFRpbGVJRCxcbiAgICB6b29tVHJhbnNpdGlvbjogbnVtYmVyLFxuICAgIG1lcmNhdG9yQ2VudGVyOiBbbnVtYmVyLCBudW1iZXJdLFxuICAgIGludk1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIHVwVmVjdG9yOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgcHJvamVjdGlvbjogUHJvamVjdGlvblxuKTogVW5pZm9ybVZhbHVlczxTeW1ib2xTREZVbmlmb3Jtc1R5cGU+ID0+IHtcbiAgICByZXR1cm4gZXh0ZW5kKHN5bWJvbEljb25Vbmlmb3JtVmFsdWVzKGZ1bmN0aW9uVHlwZSwgc2l6ZSwgcm90YXRlSW5TaGFkZXIsXG4gICAgICAgIHBpdGNoV2l0aE1hcCwgcGFpbnRlciwgbWF0cml4LCBsYWJlbFBsYW5lTWF0cml4LCBnbENvb3JkTWF0cml4LCBpc1RleHQsXG4gICAgICAgIHRleFNpemUsIGNvb3JkLCB6b29tVHJhbnNpdGlvbiwgbWVyY2F0b3JDZW50ZXIsIGludk1hdHJpeCwgdXBWZWN0b3IsIHByb2plY3Rpb24pLCB7XG4gICAgICAgICd1X2dhbW1hX3NjYWxlJzogcGl0Y2hXaXRoTWFwID8gcGFpbnRlci50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSAqIE1hdGguY29zKHBhaW50ZXIudGVycmFpbiA/IDAgOiBwYWludGVyLnRyYW5zZm9ybS5fcGl0Y2gpIDogMSxcbiAgICAgICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLFxuICAgICAgICAndV9pc19oYWxvJzogK2lzSGFsb1xuICAgIH0pO1xufTtcblxuY29uc3Qgc3ltYm9sVGV4dEFuZEljb25Vbmlmb3JtVmFsdWVzID0gKFxuICAgIGZ1bmN0aW9uVHlwZTogc3RyaW5nLFxuICAgIHNpemU6ID9JbnRlcnBvbGF0ZWRTaXplLFxuICAgIHJvdGF0ZUluU2hhZGVyOiBib29sZWFuLFxuICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbixcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIGxhYmVsUGxhbmVNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBnbENvb3JkTWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgdGV4U2l6ZVNERjogW251bWJlciwgbnVtYmVyXSxcbiAgICB0ZXhTaXplSWNvbjogW251bWJlciwgbnVtYmVyXSxcbiAgICBjb29yZDogT3ZlcnNjYWxlZFRpbGVJRCxcbiAgICB6b29tVHJhbnNpdGlvbjogbnVtYmVyLFxuICAgIG1lcmNhdG9yQ2VudGVyOiBbbnVtYmVyLCBudW1iZXJdLFxuICAgIGludk1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIHVwVmVjdG9yOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgcHJvamVjdGlvbjogUHJvamVjdGlvblxuKTogVW5pZm9ybVZhbHVlczxTeW1ib2xJY29uVW5pZm9ybXNUeXBlPiA9PiB7XG4gICAgcmV0dXJuIGV4dGVuZChzeW1ib2xTREZVbmlmb3JtVmFsdWVzKGZ1bmN0aW9uVHlwZSwgc2l6ZSwgcm90YXRlSW5TaGFkZXIsXG4gICAgICAgIHBpdGNoV2l0aE1hcCwgcGFpbnRlciwgbWF0cml4LCBsYWJlbFBsYW5lTWF0cml4LCBnbENvb3JkTWF0cml4LCB0cnVlLCB0ZXhTaXplU0RGLFxuICAgICAgICB0cnVlLCBjb29yZCwgem9vbVRyYW5zaXRpb24sIG1lcmNhdG9yQ2VudGVyLCBpbnZNYXRyaXgsIHVwVmVjdG9yLCBwcm9qZWN0aW9uKSwge1xuICAgICAgICAndV90ZXhzaXplX2ljb24nOiB0ZXhTaXplSWNvbixcbiAgICAgICAgJ3VfdGV4dHVyZV9pY29uJzogMVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHtzeW1ib2xJY29uVW5pZm9ybXMsIHN5bWJvbFNERlVuaWZvcm1zLCBzeW1ib2xJY29uVW5pZm9ybVZhbHVlcywgc3ltYm9sU0RGVW5pZm9ybVZhbHVlcywgc3ltYm9sVGV4dEFuZEljb25Vbmlmb3JtVmFsdWVzLCBzeW1ib2xUZXh0QW5kSWNvblVuaWZvcm1zfTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7YmdQYXR0ZXJuVW5pZm9ybVZhbHVlc30gZnJvbSAnLi9wYXR0ZXJuLmpzJztcbmltcG9ydCB7XG4gICAgVW5pZm9ybTFpLFxuICAgIFVuaWZvcm0xZixcbiAgICBVbmlmb3JtMmYsXG4gICAgVW5pZm9ybUNvbG9yLFxuICAgIFVuaWZvcm1NYXRyaXg0ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHtleHRlbmR9IGZyb20gJy4uLy4uL3V0aWwvdXRpbC5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vLi4vZ2wvY29udGV4dC5qcyc7XG5pbXBvcnQgdHlwZSBDb2xvciBmcm9tICcuLi8uLi9zdHlsZS1zcGVjL3V0aWwvY29sb3IuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uLy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB0eXBlIFJlc29sdmVkSW1hZ2UgZnJvbSAnLi4vLi4vc3R5bGUtc3BlYy9leHByZXNzaW9uL3R5cGVzL3Jlc29sdmVkX2ltYWdlLmpzJztcblxuZXhwb3J0IHR5cGUgQmFja2dyb3VuZFVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X29wYWNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfY29sb3InOiBVbmlmb3JtQ29sb3Jcbnx9O1xuXG5leHBvcnQgdHlwZSBCYWNrZ3JvdW5kUGF0dGVyblVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X29wYWNpdHknOiBVbmlmb3JtMWYsXG4gICAgLy8gcGF0dGVybiB1bmlmb3JtczpcbiAgICAndV9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV9wYXR0ZXJuX3RsJzogVW5pZm9ybTJmLFxuICAgICd1X3BhdHRlcm5fYnInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGV4c2l6ZSc6IFVuaWZvcm0yZixcbiAgICAndV9wYXR0ZXJuX3NpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMWZcbnx9O1xuXG5jb25zdCBiYWNrZ3JvdW5kVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IEJhY2tncm91bmRVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X29wYWNpdHknOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2NvbG9yJzogbmV3IFVuaWZvcm1Db2xvcihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IEJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9vcGFjaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfcGF0dGVybl90bCc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfcGF0dGVybl9icic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfdGV4c2l6ZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfcGF0dGVybl9zaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9waXhlbF9jb29yZF91cHBlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGJhY2tncm91bmRVbmlmb3JtVmFsdWVzID0gKFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIG9wYWNpdHk6IG51bWJlcixcbiAgICBjb2xvcjogQ29sb3Jcbik6IFVuaWZvcm1WYWx1ZXM8QmFja2dyb3VuZFVuaWZvcm1zVHlwZT4gPT4gKHtcbiAgICAndV9tYXRyaXgnOiBtYXRyaXgsXG4gICAgJ3Vfb3BhY2l0eSc6IG9wYWNpdHksXG4gICAgJ3VfY29sb3InOiBjb2xvclxufSk7XG5cbmNvbnN0IGJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybVZhbHVlcyA9IChcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBvcGFjaXR5OiBudW1iZXIsXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICBpbWFnZTogUmVzb2x2ZWRJbWFnZSxcbiAgICB0aWxlOiB7dGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCB0aWxlU2l6ZTogbnVtYmVyfVxuKTogVW5pZm9ybVZhbHVlczxCYWNrZ3JvdW5kUGF0dGVyblVuaWZvcm1zVHlwZT4gPT4gZXh0ZW5kKFxuICAgIGJnUGF0dGVyblVuaWZvcm1WYWx1ZXMoaW1hZ2UsIHBhaW50ZXIsIHRpbGUpLFxuICAgIHtcbiAgICAgICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICAgICAndV9vcGFjaXR5Jzogb3BhY2l0eVxuICAgIH1cbik7XG5cbmV4cG9ydCB7XG4gICAgYmFja2dyb3VuZFVuaWZvcm1zLFxuICAgIGJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXMsXG4gICAgYmFja2dyb3VuZFVuaWZvcm1WYWx1ZXMsXG4gICAgYmFja2dyb3VuZFBhdHRlcm5Vbmlmb3JtVmFsdWVzXG59O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUge0NpcmNsZURlZmluZXNUeXBlfSBmcm9tICcuL2NpcmNsZV9wcm9ncmFtLmpzJztcbmltcG9ydCB0eXBlIHtTeW1ib2xEZWZpbmVzVHlwZX0gZnJvbSAnLi9zeW1ib2xfcHJvZ3JhbS5qcyc7XG5pbXBvcnQgdHlwZSB7TGluZURlZmluZXNUeXBlfSBmcm9tICcuL2xpbmVfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2ZpbGxFeHRydXNpb25Vbmlmb3JtcywgZmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3Jtc30gZnJvbSAnLi9maWxsX2V4dHJ1c2lvbl9wcm9ncmFtLmpzJztcbmltcG9ydCB7ZmlsbFVuaWZvcm1zLCBmaWxsUGF0dGVyblVuaWZvcm1zLCBmaWxsT3V0bGluZVVuaWZvcm1zLCBmaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3Jtc30gZnJvbSAnLi9maWxsX3Byb2dyYW0uanMnO1xuaW1wb3J0IHtjaXJjbGVVbmlmb3Jtc30gZnJvbSAnLi9jaXJjbGVfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2NvbGxpc2lvblVuaWZvcm1zLCBjb2xsaXNpb25DaXJjbGVVbmlmb3Jtc30gZnJvbSAnLi9jb2xsaXNpb25fcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2RlYnVnVW5pZm9ybXN9IGZyb20gJy4vZGVidWdfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2NsaXBwaW5nTWFza1VuaWZvcm1zfSBmcm9tICcuL2NsaXBwaW5nX21hc2tfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2hlYXRtYXBVbmlmb3JtcywgaGVhdG1hcFRleHR1cmVVbmlmb3Jtc30gZnJvbSAnLi9oZWF0bWFwX3Byb2dyYW0uanMnO1xuaW1wb3J0IHtoaWxsc2hhZGVVbmlmb3JtcywgaGlsbHNoYWRlUHJlcGFyZVVuaWZvcm1zfSBmcm9tICcuL2hpbGxzaGFkZV9wcm9ncmFtLmpzJztcbmltcG9ydCB7bGluZVVuaWZvcm1zLCBsaW5lUGF0dGVyblVuaWZvcm1zfSBmcm9tICcuL2xpbmVfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge3Jhc3RlclVuaWZvcm1zfSBmcm9tICcuL3Jhc3Rlcl9wcm9ncmFtLmpzJztcbmltcG9ydCB7c3ltYm9sSWNvblVuaWZvcm1zLCBzeW1ib2xTREZVbmlmb3Jtcywgc3ltYm9sVGV4dEFuZEljb25Vbmlmb3Jtc30gZnJvbSAnLi9zeW1ib2xfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2JhY2tncm91bmRVbmlmb3JtcywgYmFja2dyb3VuZFBhdHRlcm5Vbmlmb3Jtc30gZnJvbSAnLi9iYWNrZ3JvdW5kX3Byb2dyYW0uanMnO1xuaW1wb3J0IHt0ZXJyYWluUmFzdGVyVW5pZm9ybXN9IGZyb20gJy4uLy4uL3RlcnJhaW4vdGVycmFpbl9yYXN0ZXJfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge3NreWJveFVuaWZvcm1zLCBza3lib3hHcmFkaWVudFVuaWZvcm1zfSBmcm9tICcuL3NreWJveF9wcm9ncmFtLmpzJztcbmltcG9ydCB7c2t5Ym94Q2FwdHVyZVVuaWZvcm1zfSBmcm9tICcuL3NreWJveF9jYXB0dXJlX3Byb2dyYW0uanMnO1xuaW1wb3J0IHtnbG9iZVJhc3RlclVuaWZvcm1zLCBhdG1vc3BoZXJlVW5pZm9ybXN9IGZyb20gJy4uLy4uL3RlcnJhaW4vZ2xvYmVfcmFzdGVyX3Byb2dyYW0uanMnO1xuaW1wb3J0IHR5cGUge0hlYXRtYXBEZWZpbmVzVHlwZX0gZnJvbSAnLi9oZWF0bWFwX3Byb2dyYW0uanMnO1xuaW1wb3J0IHR5cGUge0RlYnVnRGVmaW5lc1R5cGV9IGZyb20gJy4vZGVidWdfcHJvZ3JhbS5qcyc7XG5pbXBvcnQgdHlwZSB7R2xvYmVEZWZpbmVzVHlwZX0gZnJvbSAnLi4vLi4vdGVycmFpbi9nbG9iZV9yYXN0ZXJfcHJvZ3JhbS5qcyc7XG5cbmV4cG9ydCB0eXBlIER5bmFtaWNEZWZpbmVzVHlwZSA9IENpcmNsZURlZmluZXNUeXBlIHwgU3ltYm9sRGVmaW5lc1R5cGUgfCBMaW5lRGVmaW5lc1R5cGUgfCBIZWF0bWFwRGVmaW5lc1R5cGUgfCBEZWJ1Z0RlZmluZXNUeXBlIHwgR2xvYmVEZWZpbmVzVHlwZTtcblxuZXhwb3J0IGNvbnN0IHByb2dyYW1Vbmlmb3JtcyA9IHtcbiAgICBmaWxsRXh0cnVzaW9uOiBmaWxsRXh0cnVzaW9uVW5pZm9ybXMsXG4gICAgZmlsbEV4dHJ1c2lvblBhdHRlcm46IGZpbGxFeHRydXNpb25QYXR0ZXJuVW5pZm9ybXMsXG4gICAgZmlsbDogZmlsbFVuaWZvcm1zLFxuICAgIGZpbGxQYXR0ZXJuOiBmaWxsUGF0dGVyblVuaWZvcm1zLFxuICAgIGZpbGxPdXRsaW5lOiBmaWxsT3V0bGluZVVuaWZvcm1zLFxuICAgIGZpbGxPdXRsaW5lUGF0dGVybjogZmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybXMsXG4gICAgY2lyY2xlOiBjaXJjbGVVbmlmb3JtcyxcbiAgICBjb2xsaXNpb25Cb3g6IGNvbGxpc2lvblVuaWZvcm1zLFxuICAgIGNvbGxpc2lvbkNpcmNsZTogY29sbGlzaW9uQ2lyY2xlVW5pZm9ybXMsXG4gICAgZGVidWc6IGRlYnVnVW5pZm9ybXMsXG4gICAgY2xpcHBpbmdNYXNrOiBjbGlwcGluZ01hc2tVbmlmb3JtcyxcbiAgICBoZWF0bWFwOiBoZWF0bWFwVW5pZm9ybXMsXG4gICAgaGVhdG1hcFRleHR1cmU6IGhlYXRtYXBUZXh0dXJlVW5pZm9ybXMsXG4gICAgaGlsbHNoYWRlOiBoaWxsc2hhZGVVbmlmb3JtcyxcbiAgICBoaWxsc2hhZGVQcmVwYXJlOiBoaWxsc2hhZGVQcmVwYXJlVW5pZm9ybXMsXG4gICAgbGluZTogbGluZVVuaWZvcm1zLFxuICAgIGxpbmVQYXR0ZXJuOiBsaW5lUGF0dGVyblVuaWZvcm1zLFxuICAgIHJhc3RlcjogcmFzdGVyVW5pZm9ybXMsXG4gICAgc3ltYm9sSWNvbjogc3ltYm9sSWNvblVuaWZvcm1zLFxuICAgIHN5bWJvbFNERjogc3ltYm9sU0RGVW5pZm9ybXMsXG4gICAgc3ltYm9sVGV4dEFuZEljb246IHN5bWJvbFRleHRBbmRJY29uVW5pZm9ybXMsXG4gICAgYmFja2dyb3VuZDogYmFja2dyb3VuZFVuaWZvcm1zLFxuICAgIGJhY2tncm91bmRQYXR0ZXJuOiBiYWNrZ3JvdW5kUGF0dGVyblVuaWZvcm1zLFxuICAgIHRlcnJhaW5SYXN0ZXI6IHRlcnJhaW5SYXN0ZXJVbmlmb3JtcyxcbiAgICB0ZXJyYWluRGVwdGg6IHRlcnJhaW5SYXN0ZXJVbmlmb3JtcyxcbiAgICBza3lib3g6IHNreWJveFVuaWZvcm1zLFxuICAgIHNreWJveEdyYWRpZW50OiBza3lib3hHcmFkaWVudFVuaWZvcm1zLFxuICAgIHNreWJveENhcHR1cmU6IHNreWJveENhcHR1cmVVbmlmb3JtcyxcbiAgICBnbG9iZVJhc3RlcjogZ2xvYmVSYXN0ZXJVbmlmb3JtcyxcbiAgICBnbG9iZUF0bW9zcGhlcmU6IGF0bW9zcGhlcmVVbmlmb3Jtcyxcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIFVuaWZvcm1NYXRyaXg0ZixcbiAgICBVbmlmb3JtMWksXG4gICAgVW5pZm9ybTNmLFxuICAgIFVuaWZvcm0xZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHtkZWdUb1JhZH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcblxuaW1wb3J0IHR5cGUge1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uLy4uL2dsL2NvbnRleHQuanMnO1xuXG5leHBvcnQgdHlwZSBTa3lib3hVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9zdW5fZGlyZWN0aW9uJzogVW5pZm9ybTNmLFxuICAgICd1X2N1YmVtYXAnOiBVbmlmb3JtMWksXG4gICAgJ3Vfb3BhY2l0eSc6IFVuaWZvcm0xZixcbiAgICAndV90ZW1wb3JhbF9vZmZzZXQnOiBVbmlmb3JtMWZcbnx9O1xuXG5leHBvcnQgdHlwZSBTa3lib3hHcmFkaWVudGxVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9jb2xvcl9yYW1wJzogVW5pZm9ybTFpLFxuICAgICd1X2NlbnRlcl9kaXJlY3Rpb24nOiBVbmlmb3JtM2YsXG4gICAgJ3VfcmFkaXVzJzogVW5pZm9ybTFmLFxuICAgICd1X29wYWNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfdGVtcG9yYWxfb2Zmc2V0JzogVW5pZm9ybTFmLFxufH07XG5cbmNvbnN0IHNreWJveFVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBTa3lib3hVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X3N1bl9kaXJlY3Rpb24nOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxuICAgICd1X2N1YmVtYXAnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X29wYWNpdHknOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3RlbXBvcmFsX29mZnNldCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dClcblxufSk7XG5cbmNvbnN0IHNreWJveFVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgc3VuRGlyZWN0aW9uOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgY3ViZW1hcDogbnVtYmVyLFxuICAgIG9wYWNpdHk6IG51bWJlcixcbiAgICB0ZW1wb3JhbE9mZnNldDogbnVtYmVyXG4pOiBVbmlmb3JtVmFsdWVzPFNreWJveFVuaWZvcm1zVHlwZT4gPT4gKHtcbiAgICAndV9tYXRyaXgnOiBtYXRyaXgsXG4gICAgJ3Vfc3VuX2RpcmVjdGlvbic6IHN1bkRpcmVjdGlvbixcbiAgICAndV9jdWJlbWFwJzogY3ViZW1hcCxcbiAgICAndV9vcGFjaXR5Jzogb3BhY2l0eSxcbiAgICAndV90ZW1wb3JhbF9vZmZzZXQnOiB0ZW1wb3JhbE9mZnNldFxufSk7XG5cbmNvbnN0IHNreWJveEdyYWRpZW50VW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IFNreWJveEdyYWRpZW50bFVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfY29sb3JfcmFtcCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgLy8gcmFkaWFsIGdyYWRpZW50IHVuaWZvcm1zXG4gICAgJ3VfY2VudGVyX2RpcmVjdGlvbic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfcmFkaXVzJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9vcGFjaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV90ZW1wb3JhbF9vZmZzZXQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpXG59KTtcblxuY29uc3Qgc2t5Ym94R3JhZGllbnRVbmlmb3JtVmFsdWVzID0gKFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIGNlbnRlckRpcmVjdGlvbjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHJhZGl1czogbnVtYmVyLCAvL2RlZ3JlZXNcbiAgICBvcGFjaXR5OiBudW1iZXIsXG4gICAgdGVtcG9yYWxPZmZzZXQ6IG51bWJlclxuKTogVW5pZm9ybVZhbHVlczxTa3lib3hHcmFkaWVudGxVbmlmb3Jtc1R5cGU+ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAndV9tYXRyaXgnOiBtYXRyaXgsXG4gICAgICAgICd1X2NvbG9yX3JhbXAnOiAwLFxuICAgICAgICAndV9jZW50ZXJfZGlyZWN0aW9uJzogY2VudGVyRGlyZWN0aW9uLFxuICAgICAgICAndV9yYWRpdXMnOiBkZWdUb1JhZChyYWRpdXMpLFxuICAgICAgICAndV9vcGFjaXR5Jzogb3BhY2l0eSxcbiAgICAgICAgJ3VfdGVtcG9yYWxfb2Zmc2V0JzogdGVtcG9yYWxPZmZzZXRcbiAgICB9O1xufTtcblxuZXhwb3J0IHtcbiAgICBza3lib3hVbmlmb3JtcyxcbiAgICBza3lib3hVbmlmb3JtVmFsdWVzLFxuICAgIHNreWJveEdyYWRpZW50VW5pZm9ybXMsXG4gICAgc2t5Ym94R3JhZGllbnRVbmlmb3JtVmFsdWVzXG59O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUgQ29sb3IgZnJvbSAnLi4vLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yLmpzJztcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtTWF0cml4M2YsXG4gICAgVW5pZm9ybTFmLFxuICAgIFVuaWZvcm0zZixcbiAgICBVbmlmb3JtNGYsXG59IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vLi4vZ2wvY29udGV4dC5qcyc7XG5cbmV4cG9ydCB0eXBlIFNreWJveENhcHR1cmVVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeF8zZic6IFVuaWZvcm1NYXRyaXgzZixcbiAgICAndV9zdW5fZGlyZWN0aW9uJzogVW5pZm9ybTNmLFxuICAgICd1X3N1bl9pbnRlbnNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfY29sb3JfdGludF9yJzogVW5pZm9ybTRmLFxuICAgICd1X2NvbG9yX3RpbnRfbSc6IFVuaWZvcm00ZixcbiAgICAndV9sdW1pbmFuY2UnOiBVbmlmb3JtMWYsXG58fTtcblxuY29uc3Qgc2t5Ym94Q2FwdHVyZVVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBTa3lib3hDYXB0dXJlVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4XzNmJzogbmV3IFVuaWZvcm1NYXRyaXgzZihjb250ZXh0KSxcbiAgICAndV9zdW5fZGlyZWN0aW9uJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9zdW5faW50ZW5zaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9jb2xvcl90aW50X3InOiBuZXcgVW5pZm9ybTRmKGNvbnRleHQpLFxuICAgICd1X2NvbG9yX3RpbnRfbSc6IG5ldyBVbmlmb3JtNGYoY29udGV4dCksXG4gICAgJ3VfbHVtaW5hbmNlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbn0pO1xuXG5jb25zdCBza3lib3hDYXB0dXJlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBzdW5EaXJlY3Rpb246IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBzdW5JbnRlbnNpdHk6IG51bWJlcixcbiAgICBhdG1vc3BoZXJlQ29sb3I6IENvbG9yLFxuICAgIGF0bW9zcGhlcmVIYWxvQ29sb3I6IENvbG9yXG4pOiBVbmlmb3JtVmFsdWVzPFNreWJveENhcHR1cmVVbmlmb3Jtc1R5cGU+ID0+ICh7XG4gICAgJ3VfbWF0cml4XzNmJzogbWF0cml4LFxuICAgICd1X3N1bl9kaXJlY3Rpb24nOiBzdW5EaXJlY3Rpb24sXG4gICAgJ3Vfc3VuX2ludGVuc2l0eSc6IHN1bkludGVuc2l0eSxcbiAgICAndV9jb2xvcl90aW50X3InOiBbXG4gICAgICAgIGF0bW9zcGhlcmVDb2xvci5yLFxuICAgICAgICBhdG1vc3BoZXJlQ29sb3IuZyxcbiAgICAgICAgYXRtb3NwaGVyZUNvbG9yLmIsXG4gICAgICAgIGF0bW9zcGhlcmVDb2xvci5hXG4gICAgXSxcbiAgICAndV9jb2xvcl90aW50X20nOiBbXG4gICAgICAgIGF0bW9zcGhlcmVIYWxvQ29sb3IucixcbiAgICAgICAgYXRtb3NwaGVyZUhhbG9Db2xvci5nLFxuICAgICAgICBhdG1vc3BoZXJlSGFsb0NvbG9yLmIsXG4gICAgICAgIGF0bW9zcGhlcmVIYWxvQ29sb3IuYVxuICAgIF0sXG4gICAgJ3VfbHVtaW5hbmNlJzogNWUtNSxcbn0pO1xuXG5leHBvcnQge1xuICAgIHNreWJveENhcHR1cmVVbmlmb3JtcyxcbiAgICBza3lib3hDYXB0dXJlVW5pZm9ybVZhbHVlcyxcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0LmpzJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZS5qcyc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUuanMnO1xuaW1wb3J0IHtjb2xsaXNpb25Vbmlmb3JtVmFsdWVzLCBjb2xsaXNpb25DaXJjbGVVbmlmb3JtVmFsdWVzfSBmcm9tICcuL3Byb2dyYW0vY29sbGlzaW9uX3Byb2dyYW0uanMnO1xuaW1wb3J0IHtRdWFkVHJpYW5nbGVBcnJheSwgQ29sbGlzaW9uQ2lyY2xlTGF5b3V0QXJyYXl9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMuanMnO1xuaW1wb3J0IHtjb2xsaXNpb25DaXJjbGVMYXlvdXR9IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9hdHRyaWJ1dGVzLmpzJztcbmltcG9ydCBTZWdtZW50VmVjdG9yIGZyb20gJy4uL2RhdGEvc2VnbWVudC5qcyc7XG5pbXBvcnQge21hdDR9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgdHlwZSBQcm9qZWN0aW9uIGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3Byb2plY3Rpb24uanMnO1xuaW1wb3J0IHtnZXRDb2xsaXNpb25EZWJ1Z1RpbGVQcm9qZWN0aW9uTWF0cml4fSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9wcm9qZWN0aW9uX3V0aWwuanMnO1xuaW1wb3J0IFZlcnRleEJ1ZmZlciBmcm9tICcuLi9nbC92ZXJ0ZXhfYnVmZmVyLmpzJztcbmltcG9ydCBJbmRleEJ1ZmZlciBmcm9tICcuLi9nbC9pbmRleF9idWZmZXIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3Q29sbGlzaW9uRGVidWc7XG5cbnR5cGUgVGlsZUJhdGNoID0ge1xuICAgIGNpcmNsZUFycmF5OiBBcnJheTxudW1iZXI+LFxuICAgIGNpcmNsZU9mZnNldDogbnVtYmVyLFxuICAgIHRyYW5zZm9ybTogRmxvYXQzMkFycmF5LFxuICAgIGludlRyYW5zZm9ybTogRmxvYXQzMkFycmF5LFxuICAgIHByb2plY3Rpb246IFByb2plY3Rpb25cbn07XG5cbmxldCBxdWFkVHJpYW5nbGVzOiA/UXVhZFRyaWFuZ2xlQXJyYXk7XG5cbmZ1bmN0aW9uIGRyYXdDb2xsaXNpb25EZWJ1ZyhwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+LCB0cmFuc2xhdGU6IFtudW1iZXIsIG51bWJlcl0sIHRyYW5zbGF0ZUFuY2hvcjogJ21hcCcgfCAndmlld3BvcnQnLCBpc1RleHQ6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2NvbGxpc2lvbkJveCcpO1xuICAgIGNvbnN0IHRpbGVCYXRjaGVzOiBBcnJheTxUaWxlQmF0Y2g+ID0gW107XG4gICAgbGV0IGNpcmNsZUNvdW50ID0gMDtcbiAgICBsZXQgY2lyY2xlT2Zmc2V0ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkID0gY29vcmRzW2ldO1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP1N5bWJvbEJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCB0aWxlTWF0cml4ID0gZ2V0Q29sbGlzaW9uRGVidWdUaWxlUHJvamVjdGlvbk1hdHJpeChjb29yZCwgYnVja2V0LCB0cik7XG5cbiAgICAgICAgbGV0IHBvc01hdHJpeCA9IHRpbGVNYXRyaXg7XG4gICAgICAgIGlmICh0cmFuc2xhdGVbMF0gIT09IDAgfHwgdHJhbnNsYXRlWzFdICE9PSAwKSB7XG4gICAgICAgICAgICBwb3NNYXRyaXggPSBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeCh0aWxlTWF0cml4LCB0aWxlLCB0cmFuc2xhdGUsIHRyYW5zbGF0ZUFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGlzVGV4dCA/IGJ1Y2tldC50ZXh0Q29sbGlzaW9uQm94IDogYnVja2V0Lmljb25Db2xsaXNpb25Cb3g7XG4gICAgICAgIC8vIEdldCBjb2xsaXNpb24gY2lyY2xlIGRhdGEgb2YgdGhpcyBidWNrZXRcbiAgICAgICAgY29uc3QgY2lyY2xlQXJyYXk6IEFycmF5PG51bWJlcj4gPSBidWNrZXQuY29sbGlzaW9uQ2lyY2xlQXJyYXk7XG4gICAgICAgIGlmIChjaXJjbGVBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGtub3cgdGhlIHByb2plY3Rpb24gbWF0cml4IHRoYXQgd2FzIHVzZWQgZm9yIHByb2plY3RpbmcgY29sbGlzaW9uIGNpcmNsZXMgdG8gdGhlIHNjcmVlbi5cbiAgICAgICAgICAgIC8vIFRoaXMgbWlnaHQgdmFyeSBiZXR3ZWVuIGJ1Y2tldHMgYXMgdGhlIHN5bWJvbCBwbGFjZW1lbnQgaXMgYSBjb250aW5vdXMgcHJvY2Vzcy4gVGhpcyBtYXRyaXggaXNcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIGZvciB0cmFuc2Zvcm1pbmcgcG9pbnRzIGZyb20gcHJldmlvdXMgc2NyZWVuIHNwYWNlIHRvIHRoZSBjdXJyZW50IG9uZVxuICAgICAgICAgICAgY29uc3QgaW52VHJhbnNmb3JtID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBvc01hdHJpeDtcblxuICAgICAgICAgICAgbWF0NC5tdWwoaW52VHJhbnNmb3JtLCBidWNrZXQucGxhY2VtZW50SW52UHJvak1hdHJpeCwgdHIuZ2xDb29yZE1hdHJpeCk7XG4gICAgICAgICAgICBtYXQ0Lm11bChpbnZUcmFuc2Zvcm0sIGludlRyYW5zZm9ybSwgYnVja2V0LnBsYWNlbWVudFZpZXdwb3J0TWF0cml4KTtcblxuICAgICAgICAgICAgdGlsZUJhdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgY2lyY2xlQXJyYXksXG4gICAgICAgICAgICAgICAgY2lyY2xlT2Zmc2V0LFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICBpbnZUcmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgcHJvamVjdGlvbjogYnVja2V0LmdldFByb2plY3Rpb24oKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNpcmNsZUNvdW50ICs9IGNpcmNsZUFycmF5Lmxlbmd0aCAvIDQ7ICAvLyA0IHZhbHVlcyBwZXIgY2lyY2xlXG4gICAgICAgICAgICBjaXJjbGVPZmZzZXQgPSBjaXJjbGVDb3VudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJ1ZmZlcnMpIGNvbnRpbnVlO1xuICAgICAgICBpZiAocGFpbnRlci50ZXJyYWluKSBwYWludGVyLnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHRpbGUsIHByb2dyYW0pO1xuICAgICAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuTElORVMsXG4gICAgICAgICAgICBEZXB0aE1vZGUuZGlzYWJsZWQsIFN0ZW5jaWxNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksXG4gICAgICAgICAgICBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICBjb2xsaXNpb25Vbmlmb3JtVmFsdWVzKHBvc01hdHJpeCwgdHIsIHRpbGUsIGJ1Y2tldC5nZXRQcm9qZWN0aW9uKCkpLFxuICAgICAgICAgICAgbGF5ZXIuaWQsIGJ1ZmZlcnMubGF5b3V0VmVydGV4QnVmZmVyLCBidWZmZXJzLmluZGV4QnVmZmVyLFxuICAgICAgICAgICAgYnVmZmVycy5zZWdtZW50cywgbnVsbCwgdHIuem9vbSwgbnVsbCxcbiAgICAgICAgICAgIFtidWZmZXJzLmNvbGxpc2lvblZlcnRleEJ1ZmZlciwgYnVmZmVycy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHRdKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzVGV4dCB8fCAhdGlsZUJhdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZW5kZXIgY29sbGlzaW9uIGNpcmNsZXNcbiAgICBjb25zdCBjaXJjbGVQcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdjb2xsaXNpb25DaXJjbGUnKTtcblxuICAgIC8vIENvbnN0cnVjdCB2ZXJ0ZXggZGF0YVxuICAgIGNvbnN0IHZlcnRleERhdGEgPSBuZXcgQ29sbGlzaW9uQ2lyY2xlTGF5b3V0QXJyYXkoKTtcbiAgICB2ZXJ0ZXhEYXRhLnJlc2l6ZShjaXJjbGVDb3VudCAqIDQpO1xuICAgIHZlcnRleERhdGEuX3RyaW0oKTtcblxuICAgIGxldCB2ZXJ0ZXhPZmZzZXQgPSAwO1xuXG4gICAgZm9yIChjb25zdCBiYXRjaCBvZiB0aWxlQmF0Y2hlcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoLmNpcmNsZUFycmF5Lmxlbmd0aCAvIDQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2lyY2xlSWR4ID0gaSAqIDQ7XG4gICAgICAgICAgICBjb25zdCB4ID0gYmF0Y2guY2lyY2xlQXJyYXlbY2lyY2xlSWR4ICsgMF07XG4gICAgICAgICAgICBjb25zdCB5ID0gYmF0Y2guY2lyY2xlQXJyYXlbY2lyY2xlSWR4ICsgMV07XG4gICAgICAgICAgICBjb25zdCByYWRpdXMgPSBiYXRjaC5jaXJjbGVBcnJheVtjaXJjbGVJZHggKyAyXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbiA9IGJhdGNoLmNpcmNsZUFycmF5W2NpcmNsZUlkeCArIDNdO1xuXG4gICAgICAgICAgICAvLyA0IGZsb2F0cyBwZXIgdmVydGV4LCA0IHZlcnRpY2VzIHBlciBxdWFkXG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhLmVtcGxhY2UodmVydGV4T2Zmc2V0KyssIHgsIHksIHJhZGl1cywgY29sbGlzaW9uLCAwKTtcbiAgICAgICAgICAgIHZlcnRleERhdGEuZW1wbGFjZSh2ZXJ0ZXhPZmZzZXQrKywgeCwgeSwgcmFkaXVzLCBjb2xsaXNpb24sIDEpO1xuICAgICAgICAgICAgdmVydGV4RGF0YS5lbXBsYWNlKHZlcnRleE9mZnNldCsrLCB4LCB5LCByYWRpdXMsIGNvbGxpc2lvbiwgMik7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhLmVtcGxhY2UodmVydGV4T2Zmc2V0KyssIHgsIHksIHJhZGl1cywgY29sbGlzaW9uLCAzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXF1YWRUcmlhbmdsZXMgfHwgcXVhZFRyaWFuZ2xlcy5sZW5ndGggPCBjaXJjbGVDb3VudCAqIDIpIHtcbiAgICAgICAgcXVhZFRyaWFuZ2xlcyA9IGNyZWF0ZVF1YWRUcmlhbmdsZXMoY2lyY2xlQ291bnQpO1xuICAgIH1cblxuICAgIGNvbnN0IGluZGV4QnVmZmVyOiBJbmRleEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlSW5kZXhCdWZmZXIocXVhZFRyaWFuZ2xlcywgdHJ1ZSk7XG4gICAgY29uc3QgdmVydGV4QnVmZmVyOiBWZXJ0ZXhCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih2ZXJ0ZXhEYXRhLCBjb2xsaXNpb25DaXJjbGVMYXlvdXQubWVtYmVycywgdHJ1ZSk7XG5cbiAgICAvLyBSZW5kZXIgYmF0Y2hlc1xuICAgIGZvciAoY29uc3QgYmF0Y2ggb2YgdGlsZUJhdGNoZXMpIHtcbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSBjb2xsaXNpb25DaXJjbGVVbmlmb3JtVmFsdWVzKGJhdGNoLnRyYW5zZm9ybSwgYmF0Y2guaW52VHJhbnNmb3JtLCB0ciwgYmF0Y2gucHJvamVjdGlvbik7XG5cbiAgICAgICAgY2lyY2xlUHJvZ3JhbS5kcmF3KFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIGdsLlRSSUFOR0xFUyxcbiAgICAgICAgICAgIERlcHRoTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgICAgIFN0ZW5jaWxNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksXG4gICAgICAgICAgICBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICB1bmlmb3JtcyxcbiAgICAgICAgICAgIGxheWVyLmlkLFxuICAgICAgICAgICAgdmVydGV4QnVmZmVyLFxuICAgICAgICAgICAgaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICBTZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwgYmF0Y2guY2lyY2xlT2Zmc2V0ICogMiwgYmF0Y2guY2lyY2xlQXJyYXkubGVuZ3RoLCBiYXRjaC5jaXJjbGVBcnJheS5sZW5ndGggLyAyKSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICB0ci56b29tKTtcbiAgICB9XG5cbiAgICB2ZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO1xuICAgIGluZGV4QnVmZmVyLmRlc3Ryb3koKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUXVhZFRyaWFuZ2xlcyhxdWFkQ291bnQ6IG51bWJlcik6IFF1YWRUcmlhbmdsZUFycmF5IHtcbiAgICBjb25zdCB0cmlDb3VudCA9IHF1YWRDb3VudCAqIDI7XG4gICAgY29uc3QgYXJyYXkgPSBuZXcgUXVhZFRyaWFuZ2xlQXJyYXkoKTtcblxuICAgIGFycmF5LnJlc2l6ZSh0cmlDb3VudCk7XG4gICAgYXJyYXkuX3RyaW0oKTtcblxuICAgIC8vIFR3byB0cmlhbmdsZXMgYW5kIDQgdmVydGljZXMgcGVyIHF1YWQuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlDb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IGkgKiA2O1xuXG4gICAgICAgIGFycmF5LnVpbnQxNltpZHggKyAwXSA9IGkgKiA0ICsgMDtcbiAgICAgICAgYXJyYXkudWludDE2W2lkeCArIDFdID0gaSAqIDQgKyAxO1xuICAgICAgICBhcnJheS51aW50MTZbaWR4ICsgMl0gPSBpICogNCArIDI7XG4gICAgICAgIGFycmF5LnVpbnQxNltpZHggKyAzXSA9IGkgKiA0ICsgMjtcbiAgICAgICAgYXJyYXkudWludDE2W2lkeCArIDRdID0gaSAqIDQgKyAzO1xuICAgICAgICBhcnJheS51aW50MTZbaWR4ICsgNV0gPSBpICogNCArIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IGRyYXdDb2xsaXNpb25EZWJ1ZyBmcm9tICcuL2RyYXdfY29sbGlzaW9uX2RlYnVnLmpzJztcblxuaW1wb3J0IFNlZ21lbnRWZWN0b3IgZnJvbSAnLi4vZGF0YS9zZWdtZW50LmpzJztcbmltcG9ydCAqIGFzIHN5bWJvbFByb2plY3Rpb24gZnJvbSAnLi4vc3ltYm9sL3Byb2plY3Rpb24uanMnO1xuaW1wb3J0ICogYXMgc3ltYm9sU2l6ZSBmcm9tICcuLi9zeW1ib2wvc3ltYm9sX3NpemUuanMnO1xuaW1wb3J0IHttYXQ0LCB2ZWMzLCB2ZWM0fSBmcm9tICdnbC1tYXRyaXgnO1xuY29uc3QgaWRlbnRpdHlNYXQ0ID0gbWF0NC5jcmVhdGUoKTtcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUuanMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlLmpzJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUuanMnO1xuaW1wb3J0IHthZGREeW5hbWljQXR0cmlidXRlc30gZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldC5qcyc7XG5pbXBvcnQge2dldEFuY2hvckFsaWdubWVudCwgV3JpdGluZ01vZGV9IGZyb20gJy4uL3N5bWJvbC9zaGFwaW5nLmpzJztcbmltcG9ydCBPTkVfRU0gZnJvbSAnLi4vc3ltYm9sL29uZV9lbS5qcyc7XG5pbXBvcnQge2V2YWx1YXRlVmFyaWFibGVPZmZzZXR9IGZyb20gJy4uL3N5bWJvbC9zeW1ib2xfbGF5b3V0LmpzJztcbmltcG9ydCBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7XG4gICAgbWVyY2F0b3JYZnJvbUxuZyxcbiAgICBtZXJjYXRvcllmcm9tTGF0XG59IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7Z2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbn0gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5cbmltcG9ydCB7XG4gICAgc3ltYm9sSWNvblVuaWZvcm1WYWx1ZXMsXG4gICAgc3ltYm9sU0RGVW5pZm9ybVZhbHVlcyxcbiAgICBzeW1ib2xUZXh0QW5kSWNvblVuaWZvcm1WYWx1ZXNcbn0gZnJvbSAnLi9wcm9ncmFtL3N5bWJvbF9wcm9ncmFtLmpzJztcbmltcG9ydCB7Z2V0U3ltYm9sVGlsZVByb2plY3Rpb25NYXRyaXh9IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3Byb2plY3Rpb25fdXRpbC5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCB0eXBlIFN5bWJvbFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvc3ltYm9sX3N0eWxlX2xheWVyLmpzJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCwge1N5bWJvbEJ1ZmZlcnN9IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQuanMnO1xuaW1wb3J0IHR5cGUgVGV4dHVyZSBmcm9tICcuLi9yZW5kZXIvdGV4dHVyZS5qcyc7XG5pbXBvcnQge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSB7U3ltYm9sU0RGVW5pZm9ybXNUeXBlfSBmcm9tICcuLi9yZW5kZXIvcHJvZ3JhbS9zeW1ib2xfcHJvZ3JhbS5qcyc7XG5pbXBvcnQgdHlwZSB7Q3Jvc3NUaWxlSUQsIFZhcmlhYmxlT2Zmc2V0fSBmcm9tICcuLi9zeW1ib2wvcGxhY2VtZW50LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd1N5bWJvbHM7XG5cbnR5cGUgU3ltYm9sVGlsZVJlbmRlclN0YXRlID0ge1xuICAgIHNlZ21lbnRzOiBTZWdtZW50VmVjdG9yLFxuICAgIHNvcnRLZXk6IG51bWJlcixcbiAgICBzdGF0ZToge1xuICAgICAgICBwcm9ncmFtOiBhbnksXG4gICAgICAgIGJ1ZmZlcnM6IFN5bWJvbEJ1ZmZlcnMsXG4gICAgICAgIHVuaWZvcm1WYWx1ZXM6IGFueSxcbiAgICAgICAgYXRsYXNUZXh0dXJlOiBUZXh0dXJlLFxuICAgICAgICBhdGxhc1RleHR1cmVJY29uOiBUZXh0dXJlIHwgbnVsbCxcbiAgICAgICAgYXRsYXNJbnRlcnBvbGF0aW9uOiBhbnksXG4gICAgICAgIGF0bGFzSW50ZXJwb2xhdGlvbkljb246IGFueSxcbiAgICAgICAgaXNTREY6IGJvb2xlYW4sXG4gICAgICAgIGhhc0hhbG86IGJvb2xlYW4sXG4gICAgICAgIHRpbGU6IFRpbGUsXG4gICAgICAgIGxhYmVsUGxhbmVNYXRyaXhJbnY6ID9GbG9hdDMyQXJyYXlcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBkcmF3U3ltYm9scyhwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBTeW1ib2xTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+LCB2YXJpYWJsZU9mZnNldHM6IHtbXzogQ3Jvc3NUaWxlSURdOiBWYXJpYWJsZU9mZnNldH0pIHtcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzICE9PSAndHJhbnNsdWNlbnQnKSByZXR1cm47XG5cbiAgICAvLyBEaXNhYmxlIHRoZSBzdGVuY2lsIHRlc3Qgc28gdGhhdCBsYWJlbHMgYXJlbid0IGNsaXBwZWQgdG8gdGlsZSBib3VuZGFyaWVzLlxuICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gU3RlbmNpbE1vZGUuZGlzYWJsZWQ7XG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG4gICAgY29uc3QgdmFyaWFibGVQbGFjZW1lbnQgPSBsYXllci5sYXlvdXQuZ2V0KCd0ZXh0LXZhcmlhYmxlLWFuY2hvcicpO1xuXG4gICAgLy9Db21wdXRlIHZhcmlhYmxlLW9mZnNldHMgYmVmb3JlIHBhaW50aW5nIHNpbmNlIGljb25zIGFuZCB0ZXh0IGRhdGEgcG9zaXRpb25pbmdcbiAgICAvL2RlcGVuZCBvbiBlYWNoIG90aGVyIGluIHRoaXMgY2FzZS5cbiAgICBpZiAodmFyaWFibGVQbGFjZW1lbnQpIHtcbiAgICAgICAgdXBkYXRlVmFyaWFibGVBbmNob3JzKGNvb3JkcywgcGFpbnRlciwgbGF5ZXIsIHNvdXJjZUNhY2hlLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgndGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQnKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ3RleHQtcGl0Y2gtYWxpZ25tZW50JyksXG4gICAgICAgICAgICB2YXJpYWJsZU9mZnNldHNcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdpY29uLW9wYWNpdHknKS5jb25zdGFudE9yKDEpICE9PSAwKSB7XG4gICAgICAgIGRyYXdMYXllclN5bWJvbHMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIGZhbHNlLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdpY29uLXRyYW5zbGF0ZScpLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdpY29uLXRyYW5zbGF0ZS1hbmNob3InKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ2ljb24tcm90YXRpb24tYWxpZ25tZW50JyksXG4gICAgICAgICAgICBsYXllci5sYXlvdXQuZ2V0KCdpY29uLXBpdGNoLWFsaWdubWVudCcpLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgnaWNvbi1rZWVwLXVwcmlnaHQnKSxcbiAgICAgICAgICAgIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGVcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCd0ZXh0LW9wYWNpdHknKS5jb25zdGFudE9yKDEpICE9PSAwKSB7XG4gICAgICAgIGRyYXdMYXllclN5bWJvbHMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIHRydWUsXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ3RleHQtdHJhbnNsYXRlJyksXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ3RleHQtdHJhbnNsYXRlLWFuY2hvcicpLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgndGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQnKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ3RleHQtcGl0Y2gtYWxpZ25tZW50JyksXG4gICAgICAgICAgICBsYXllci5sYXlvdXQuZ2V0KCd0ZXh0LWtlZXAtdXByaWdodCcpLFxuICAgICAgICAgICAgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGlmIChzb3VyY2VDYWNoZS5tYXAuc2hvd0NvbGxpc2lvbkJveGVzKSB7XG4gICAgICAgIGRyYXdDb2xsaXNpb25EZWJ1ZyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgbGF5ZXIucGFpbnQuZ2V0KCd0ZXh0LXRyYW5zbGF0ZScpLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCd0ZXh0LXRyYW5zbGF0ZS1hbmNob3InKSwgdHJ1ZSk7XG4gICAgICAgIGRyYXdDb2xsaXNpb25EZWJ1ZyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgbGF5ZXIucGFpbnQuZ2V0KCdpY29uLXRyYW5zbGF0ZScpLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdpY29uLXRyYW5zbGF0ZS1hbmNob3InKSwgZmFsc2UpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZUdsb2JlQ2FtZXJhVXAodHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0ge1xuICAgIGNvbnN0IHZpZXdNYXRyaXggPSB0cmFuc2Zvcm0uX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhKHRyYW5zZm9ybS53b3JsZFNpemUsIDEpO1xuICAgIGNvbnN0IHZpZXdUb0VjZWYgPSBtYXQ0Lm11bHRpcGx5KFtdLCB2aWV3TWF0cml4LCB0cmFuc2Zvcm0uZ2xvYmVNYXRyaXgpO1xuICAgIG1hdDQuaW52ZXJ0KHZpZXdUb0VjZWYsIHZpZXdUb0VjZWYpO1xuXG4gICAgY29uc3QgY2FtZXJhVXBWZWN0b3IgPSBbMCwgMCwgMF07XG4gICAgY29uc3QgdXAgPSBbMCwgMSwgMCwgMF07XG4gICAgdmVjNC50cmFuc2Zvcm1NYXQ0KHVwLCB1cCwgIHZpZXdUb0VjZWYpO1xuICAgIGNhbWVyYVVwVmVjdG9yWzBdID0gdXBbMF07XG4gICAgY2FtZXJhVXBWZWN0b3JbMV0gPSB1cFsxXTtcbiAgICBjYW1lcmFVcFZlY3RvclsyXSA9IHVwWzJdO1xuICAgIHZlYzMubm9ybWFsaXplKGNhbWVyYVVwVmVjdG9yLCBjYW1lcmFVcFZlY3Rvcik7XG5cbiAgICByZXR1cm4gY2FtZXJhVXBWZWN0b3I7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVZhcmlhYmxlUmVuZGVyU2hpZnQoe3dpZHRoLCBoZWlnaHQsIGFuY2hvciwgdGV4dE9mZnNldCwgdGV4dFNjYWxlfSwgcmVuZGVyVGV4dFNpemUpOiBQb2ludCB7XG4gICAgY29uc3Qge2hvcml6b250YWxBbGlnbiwgdmVydGljYWxBbGlnbn0gPSBnZXRBbmNob3JBbGlnbm1lbnQoYW5jaG9yKTtcbiAgICBjb25zdCBzaGlmdFggPSAtKGhvcml6b250YWxBbGlnbiAtIDAuNSkgKiB3aWR0aDtcbiAgICBjb25zdCBzaGlmdFkgPSAtKHZlcnRpY2FsQWxpZ24gLSAwLjUpICogaGVpZ2h0O1xuICAgIGNvbnN0IHZhcmlhYmxlT2Zmc2V0ID0gZXZhbHVhdGVWYXJpYWJsZU9mZnNldChhbmNob3IsIHRleHRPZmZzZXQpO1xuICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgIChzaGlmdFggLyB0ZXh0U2NhbGUgKyB2YXJpYWJsZU9mZnNldFswXSkgKiByZW5kZXJUZXh0U2l6ZSxcbiAgICAgICAgKHNoaWZ0WSAvIHRleHRTY2FsZSArIHZhcmlhYmxlT2Zmc2V0WzFdKSAqIHJlbmRlclRleHRTaXplXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlVmFyaWFibGVBbmNob3JzKGNvb3JkcywgcGFpbnRlciwgbGF5ZXIsIHNvdXJjZUNhY2hlLCByb3RhdGlvbkFsaWdubWVudCwgcGl0Y2hBbGlnbm1lbnQsIHZhcmlhYmxlT2Zmc2V0cykge1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3Qgcm90YXRlV2l0aE1hcCA9IHJvdGF0aW9uQWxpZ25tZW50ID09PSAnbWFwJztcbiAgICBjb25zdCBwaXRjaFdpdGhNYXAgPSBwaXRjaEFsaWdubWVudCA9PT0gJ21hcCc7XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogU3ltYm9sQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgaWYgKCFidWNrZXQgfHwgIWJ1Y2tldC50ZXh0IHx8ICFidWNrZXQudGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2l6ZURhdGEgPSBidWNrZXQudGV4dFNpemVEYXRhO1xuICAgICAgICBjb25zdCBzaXplID0gc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3Jab29tKHNpemVEYXRhLCB0ci56b29tKTtcbiAgICAgICAgY29uc3QgdGlsZU1hdHJpeCA9IGdldFN5bWJvbFRpbGVQcm9qZWN0aW9uTWF0cml4KGNvb3JkLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpLCB0cik7XG5cbiAgICAgICAgY29uc3QgcGl4ZWxzVG9UaWxlVW5pdHMgPSB0ci5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0aWxlKTtcbiAgICAgICAgY29uc3QgbGFiZWxQbGFuZU1hdHJpeCA9IHN5bWJvbFByb2plY3Rpb24uZ2V0TGFiZWxQbGFuZU1hdHJpeEZvclJlbmRlcmluZyh0aWxlTWF0cml4LCB0aWxlLnRpbGVJRC5jYW5vbmljYWwsIHBpdGNoV2l0aE1hcCwgcm90YXRlV2l0aE1hcCwgdHIsIGJ1Y2tldC5nZXRQcm9qZWN0aW9uKCksIHBpeGVsc1RvVGlsZVVuaXRzKTtcbiAgICAgICAgY29uc3QgdXBkYXRlVGV4dEZpdEljb24gPSBsYXllci5sYXlvdXQuZ2V0KCdpY29uLXRleHQtZml0JykgIT09ICdub25lJyAmJiAgYnVja2V0Lmhhc0ljb25EYXRhKCk7XG5cbiAgICAgICAgaWYgKHNpemUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVTY2FsZSA9IE1hdGgucG93KDIsIHRyLnpvb20gLSB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWik7XG4gICAgICAgICAgICB1cGRhdGVWYXJpYWJsZUFuY2hvcnNGb3JCdWNrZXQoYnVja2V0LCByb3RhdGVXaXRoTWFwLCBwaXRjaFdpdGhNYXAsIHZhcmlhYmxlT2Zmc2V0cywgc3ltYm9sU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ciwgbGFiZWxQbGFuZU1hdHJpeCwgY29vcmQsIHRpbGVTY2FsZSwgc2l6ZSwgdXBkYXRlVGV4dEZpdEljb24pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVWYXJpYWJsZUFuY2hvcnNGb3JCdWNrZXQoYnVja2V0LCByb3RhdGVXaXRoTWFwLCBwaXRjaFdpdGhNYXAsIHZhcmlhYmxlT2Zmc2V0cywgc3ltYm9sU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0sIGxhYmVsUGxhbmVNYXRyaXgsIGNvb3JkLCB0aWxlU2NhbGUsIHNpemUsIHVwZGF0ZVRleHRGaXRJY29uKSB7XG4gICAgY29uc3QgcGxhY2VkU3ltYm9scyA9IGJ1Y2tldC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5O1xuICAgIGNvbnN0IGR5bmFtaWNUZXh0TGF5b3V0VmVydGV4QXJyYXkgPSBidWNrZXQudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk7XG4gICAgY29uc3QgZHluYW1pY0ljb25MYXlvdXRWZXJ0ZXhBcnJheSA9IGJ1Y2tldC5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTtcbiAgICBjb25zdCBwbGFjZWRUZXh0U2hpZnRzID0ge307XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IGJ1Y2tldC5nZXRQcm9qZWN0aW9uKCk7XG4gICAgY29uc3QgdGlsZU1hdHJpeCA9IGdldFN5bWJvbFRpbGVQcm9qZWN0aW9uTWF0cml4KGNvb3JkLCBwcm9qZWN0aW9uLCB0cmFuc2Zvcm0pO1xuICAgIGNvbnN0IGVsZXZhdGlvbiA9IHRyYW5zZm9ybS5lbGV2YXRpb247XG4gICAgY29uc3QgbWV0ZXJzVG9UaWxlID0gcHJvamVjdGlvbi51cFZlY3RvclNjYWxlKGNvb3JkLmNhbm9uaWNhbCwgdHJhbnNmb3JtLmNlbnRlci5sYXQsIHRyYW5zZm9ybS53b3JsZFNpemUpLm1ldGVyc1RvVGlsZTtcblxuICAgIGR5bmFtaWNUZXh0TGF5b3V0VmVydGV4QXJyYXkuY2xlYXIoKTtcbiAgICBmb3IgKGxldCBzID0gMDsgcyA8IHBsYWNlZFN5bWJvbHMubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgY29uc3Qgc3ltYm9sID0gcGxhY2VkU3ltYm9scy5nZXQocyk7XG4gICAgICAgIGNvbnN0IHt0aWxlQW5jaG9yWCwgdGlsZUFuY2hvclksIG51bUdseXBoc30gPSBzeW1ib2w7XG4gICAgICAgIGNvbnN0IHNraXBPcmllbnRhdGlvbiA9IGJ1Y2tldC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50ICYmICFzeW1ib2wucGxhY2VkT3JpZW50YXRpb247XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlT2Zmc2V0ID0gKCFzeW1ib2wuaGlkZGVuICYmIHN5bWJvbC5jcm9zc1RpbGVJRCAmJiAhc2tpcE9yaWVudGF0aW9uKSA/IHZhcmlhYmxlT2Zmc2V0c1tzeW1ib2wuY3Jvc3NUaWxlSURdIDogbnVsbDtcblxuICAgICAgICBpZiAoIXZhcmlhYmxlT2Zmc2V0KSB7XG4gICAgICAgICAgICAvLyBUaGVzZSBzeW1ib2xzIGFyZSBmcm9tIGEganVzdGlmaWNhdGlvbiB0aGF0IGlzIG5vdCBiZWluZyB1c2VkLCBvciBhIGxhYmVsIHRoYXQgd2Fzbid0IHBsYWNlZFxuICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBkbyB0aGUgZXh0cmEgbWF0aCB0byBmaWd1cmUgb3V0IHdoYXQgaW5jcmVtZW50YWwgc2hpZnQgdG8gYXBwbHkuXG4gICAgICAgICAgICBzeW1ib2xQcm9qZWN0aW9uLmhpZGVHbHlwaHMobnVtR2x5cGhzLCBkeW5hbWljVGV4dExheW91dFZlcnRleEFycmF5KTtcblxuICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgIGxldCBkeCA9IDAsIGR5ID0gMCwgZHogPSAwO1xuICAgICAgICAgICAgaWYgKGVsZXZhdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGggPSBlbGV2YXRpb24gPyBlbGV2YXRpb24uZ2V0QXRUaWxlT2Zmc2V0KGNvb3JkLCB0aWxlQW5jaG9yWCwgdGlsZUFuY2hvclkpIDogMC4wO1xuICAgICAgICAgICAgICAgIGNvbnN0IFt1eCwgdXksIHV6XSA9IHByb2plY3Rpb24udXBWZWN0b3IoY29vcmQuY2Fub25pY2FsLCB0aWxlQW5jaG9yWCwgdGlsZUFuY2hvclkpO1xuICAgICAgICAgICAgICAgIGR4ID0gaCAqIHV4ICogbWV0ZXJzVG9UaWxlO1xuICAgICAgICAgICAgICAgIGR5ID0gaCAqIHV5ICogbWV0ZXJzVG9UaWxlO1xuICAgICAgICAgICAgICAgIGR6ID0gaCAqIHV6ICogbWV0ZXJzVG9UaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IFt4LCB5LCB6LCB3XSA9IHN5bWJvbFByb2plY3Rpb24ucHJvamVjdChcbiAgICAgICAgICAgICAgICBzeW1ib2wucHJvamVjdGVkQW5jaG9yWCArIGR4LFxuICAgICAgICAgICAgICAgIHN5bWJvbC5wcm9qZWN0ZWRBbmNob3JZICsgZHksXG4gICAgICAgICAgICAgICAgc3ltYm9sLnByb2plY3RlZEFuY2hvclogKyBkeixcbiAgICAgICAgICAgICAgICBwaXRjaFdpdGhNYXAgPyB0aWxlTWF0cml4IDogbGFiZWxQbGFuZU1hdHJpeCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBlcnNwZWN0aXZlUmF0aW8gPSBzeW1ib2xQcm9qZWN0aW9uLmdldFBlcnNwZWN0aXZlUmF0aW8odHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UocHJvamVjdGlvbiksIHcpO1xuICAgICAgICAgICAgbGV0IHJlbmRlclRleHRTaXplID0gc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKGJ1Y2tldC50ZXh0U2l6ZURhdGEsIHNpemUsIHN5bWJvbCkgKiBwZXJzcGVjdGl2ZVJhdGlvIC8gT05FX0VNO1xuICAgICAgICAgICAgaWYgKHBpdGNoV2l0aE1hcCkge1xuICAgICAgICAgICAgICAgIC8vIEdvIGZyb20gc2l6ZSBpbiBwaXhlbHMgdG8gZXF1aXZhbGVudCBzaXplIGluIHRpbGUgdW5pdHNcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0U2l6ZSAqPSBidWNrZXQudGlsZVBpeGVsUmF0aW8gLyB0aWxlU2NhbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ID0gY2FsY3VsYXRlVmFyaWFibGVSZW5kZXJTaGlmdCh2YXJpYWJsZU9mZnNldCwgcmVuZGVyVGV4dFNpemUpO1xuXG4gICAgICAgICAgICAvLyBVc3VhbCBjYXNlIGlzIHRoYXQgd2UgdGFrZSB0aGUgcHJvamVjdGVkIGFuY2hvciBhbmQgYWRkIHRoZSBwaXhlbC1iYXNlZCBzaGlmdFxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlZCBhYm92ZS4gSW4gdGhlIChzb21ld2hhdCB3ZWlyZCkgY2FzZSBvZiBwaXRjaC1hbGlnbmVkIHRleHQsIHdlIGFkZCBhbiBlcXVpdmFsZW50XG4gICAgICAgICAgICAvLyB0aWxlLXVuaXQgYmFzZWQgc2hpZnQgdG8gdGhlIGFuY2hvciBiZWZvcmUgcHJvamVjdGluZyB0byB0aGUgbGFiZWwgcGxhbmUuXG4gICAgICAgICAgICBpZiAocGl0Y2hXaXRoTWFwKSB7XG4gICAgICAgICAgICAgICAgKHt4LCB5LCB6fSA9IHByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludCh0aWxlQW5jaG9yWCArIHNoaWZ0LngsIHRpbGVBbmNob3JZICsgc2hpZnQueSwgY29vcmQuY2Fub25pY2FsKSk7XG4gICAgICAgICAgICAgICAgW3gsIHksIHpdID0gc3ltYm9sUHJvamVjdGlvbi5wcm9qZWN0KHggKyBkeCwgeSArIGR5LCB6ICsgZHosIGxhYmVsUGxhbmVNYXRyaXgpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyb3RhdGVXaXRoTWFwKSBzaGlmdC5fcm90YXRlKC10cmFuc2Zvcm0uYW5nbGUpO1xuICAgICAgICAgICAgICAgIHggKz0gc2hpZnQueDtcbiAgICAgICAgICAgICAgICB5ICs9IHNoaWZ0Lnk7XG4gICAgICAgICAgICAgICAgeiA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gKGJ1Y2tldC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50ICYmIHN5bWJvbC5wbGFjZWRPcmllbnRhdGlvbiA9PT0gV3JpdGluZ01vZGUudmVydGljYWwpID8gTWF0aC5QSSAvIDIgOiAwO1xuICAgICAgICAgICAgZm9yIChsZXQgZyA9IDA7IGcgPCBudW1HbHlwaHM7IGcrKykge1xuICAgICAgICAgICAgICAgIGFkZER5bmFtaWNBdHRyaWJ1dGVzKGR5bmFtaWNUZXh0TGF5b3V0VmVydGV4QXJyYXksIHgsIHksIHosIGFuZ2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vT25seSBvZmZzZXQgaG9yaXpvbnRhbCB0ZXh0IGljb25zXG4gICAgICAgICAgICBpZiAodXBkYXRlVGV4dEZpdEljb24gJiYgc3ltYm9sLmFzc29jaWF0ZWRJY29uSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIHBsYWNlZFRleHRTaGlmdHNbc3ltYm9sLmFzc29jaWF0ZWRJY29uSW5kZXhdID0ge3gsIHksIHosIGFuZ2xlfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1cGRhdGVUZXh0Rml0SWNvbikge1xuICAgICAgICBkeW5hbWljSWNvbkxheW91dFZlcnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgIGNvbnN0IHBsYWNlZEljb25zID0gYnVja2V0Lmljb24ucGxhY2VkU3ltYm9sQXJyYXk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhY2VkSWNvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlZEljb24gPSBwbGFjZWRJY29ucy5nZXQoaSk7XG4gICAgICAgICAgICBjb25zdCB7bnVtR2x5cGhzfSA9IHBsYWNlZEljb247XG4gICAgICAgICAgICBjb25zdCBzaGlmdCA9IHBsYWNlZFRleHRTaGlmdHNbaV07XG5cbiAgICAgICAgICAgIGlmIChwbGFjZWRJY29uLmhpZGRlbiB8fCAhc2hpZnQpIHtcbiAgICAgICAgICAgICAgICBzeW1ib2xQcm9qZWN0aW9uLmhpZGVHbHlwaHMobnVtR2x5cGhzLCBkeW5hbWljSWNvbkxheW91dFZlcnRleEFycmF5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qge3gsIHksIHosIGFuZ2xlfSA9IHNoaWZ0O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGcgPSAwOyBnIDwgbnVtR2x5cGhzOyBnKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkRHluYW1pY0F0dHJpYnV0ZXMoZHluYW1pY0ljb25MYXlvdXRWZXJ0ZXhBcnJheSwgeCwgeSwgeiwgYW5nbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBidWNrZXQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZHluYW1pY0ljb25MYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgfVxuICAgIGJ1Y2tldC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShkeW5hbWljVGV4dExheW91dFZlcnRleEFycmF5KTtcbn1cblxuZnVuY3Rpb24gZ2V0U3ltYm9sUHJvZ3JhbU5hbWUoaXNTREY6IGJvb2xlYW4sIGlzVGV4dDogYm9vbGVhbiwgYnVja2V0OiBTeW1ib2xCdWNrZXQpIHtcbiAgICBpZiAoYnVja2V0Lmljb25zSW5UZXh0ICYmIGlzVGV4dCkge1xuICAgICAgICByZXR1cm4gJ3N5bWJvbFRleHRBbmRJY29uJztcbiAgICB9IGVsc2UgaWYgKGlzU0RGKSB7XG4gICAgICAgIHJldHVybiAnc3ltYm9sU0RGJztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3N5bWJvbEljb24nO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0xheWVyU3ltYm9scyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgaXNUZXh0LCB0cmFuc2xhdGUsIHRyYW5zbGF0ZUFuY2hvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb25BbGlnbm1lbnQsIHBpdGNoQWxpZ25tZW50LCBrZWVwVXByaWdodCwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG5cbiAgICBjb25zdCByb3RhdGVXaXRoTWFwID0gcm90YXRpb25BbGlnbm1lbnQgPT09ICdtYXAnO1xuICAgIGNvbnN0IHBpdGNoV2l0aE1hcCA9IHBpdGNoQWxpZ25tZW50ID09PSAnbWFwJztcbiAgICBjb25zdCBhbG9uZ0xpbmUgPSByb3RhdGVXaXRoTWFwICYmIGxheWVyLmxheW91dC5nZXQoJ3N5bWJvbC1wbGFjZW1lbnQnKSAhPT0gJ3BvaW50JztcblxuICAgIC8vIExpbmUgbGFiZWwgcm90YXRpb24gaGFwcGVucyBpbiBgdXBkYXRlTGluZUxhYmVsc2BcbiAgICAvLyBQaXRjaGVkIHBvaW50IGxhYmVscyBhcmUgYXV0b21hdGljYWxseSByb3RhdGVkIGJ5IHRoZSBsYWJlbFBsYW5lTWF0cml4IHByb2plY3Rpb25cbiAgICAvLyBVbnBpdGNoZWQgcG9pbnQgbGFiZWxzIG5lZWQgdG8gaGF2ZSB0aGVpciByb3RhdGlvbiBhcHBsaWVkIGFmdGVyIHByb2plY3Rpb25cbiAgICBjb25zdCByb3RhdGVJblNoYWRlciA9IHJvdGF0ZVdpdGhNYXAgJiYgIXBpdGNoV2l0aE1hcCAmJiAhYWxvbmdMaW5lO1xuXG4gICAgY29uc3QgaGFzU29ydEtleSA9IGxheWVyLmxheW91dC5nZXQoJ3N5bWJvbC1zb3J0LWtleScpLmNvbnN0YW50T3IoMSkgIT09IHVuZGVmaW5lZDtcbiAgICBsZXQgc29ydEZlYXR1cmVzQnlLZXkgPSBmYWxzZTtcblxuICAgIGNvbnN0IGRlcHRoTW9kZSA9IHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KTtcbiAgICBjb25zdCBtZXJjYXRvckNlbnRlciA9IFtcbiAgICAgICAgbWVyY2F0b3JYZnJvbUxuZyh0ci5jZW50ZXIubG5nKSxcbiAgICAgICAgbWVyY2F0b3JZZnJvbUxhdCh0ci5jZW50ZXIubGF0KVxuICAgIF07XG4gICAgY29uc3QgdmFyaWFibGVQbGFjZW1lbnQgPSBsYXllci5sYXlvdXQuZ2V0KCd0ZXh0LXZhcmlhYmxlLWFuY2hvcicpO1xuICAgIGNvbnN0IGlzR2xvYmVQcm9qZWN0aW9uID0gdHIucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuICAgIGNvbnN0IHRpbGVSZW5kZXJTdGF0ZTogQXJyYXk8U3ltYm9sVGlsZVJlbmRlclN0YXRlPiA9IFtdO1xuXG4gICAgY29uc3QgbWVyY2F0b3JDYW1lcmFVcCA9IFswLCAtMSwgMF07XG5cbiAgICBsZXQgZ2xvYmVDYW1lcmFVcDogW251bWJlciwgbnVtYmVyLCBudW1iZXJdID0gbWVyY2F0b3JDYW1lcmFVcDtcbiAgICBpZiAoKGlzR2xvYmVQcm9qZWN0aW9uIHx8IHRyLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24pICYmICFyb3RhdGVXaXRoTWFwKSB7XG4gICAgICAgIC8vIEVhY2ggc3ltYm9sIHJvdGF0aW5nIHdpdGggdGhlIHZpZXdwb3J0IHJlcXVpcmVzIHBlci1pbnN0YW5jZSBpbmZvcm1hdGlvbiBhYm91dFxuICAgICAgICAvLyBob3cgdG8gYWxpZ24gd2l0aCB0aGUgdmlld3BvcnQuIEluIDJEIGNhc2Ugcm90YXRpb24gaXMgc2hhcmVkIGJldHdlZW4gYWxsIG9mIHRoZSBzeW1ib2xzIGFuZFxuICAgICAgICAvLyBoZW5jZSBlbWJlZGRlZCBpbiB0aGUgbGFiZWwgcGxhbmUgbWF0cml4IGJ1dCBpbiBnbG9iZSB2aWV3IHRoaXMgbmVlZHMgdG8gYmUgY29tcHV0ZWQgYXQgcnVudGltZS5cbiAgICAgICAgLy8gQ2FtZXJhIHVwIHZlY3RvciB0b2dldGhlciB3aXRoIHN1cmZhY2Ugbm9ybWFscyBjYW4gYmUgdXNlZCB0byBmaW5kIHRoZSBjb3JyZWN0IG9yaWVudGF0aW9uIGZvciBlYWNoIHN5bWJvbC5cbiAgICAgICAgZ2xvYmVDYW1lcmFVcCA9IGNvbXB1dGVHbG9iZUNhbWVyYVVwKHRyKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogU3ltYm9sQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuICAgICAgICAvLyBBbGxvdyByZW5kZXJpbmcgb2YgYnVja2V0cyBidWlsdCBmb3IgZ2xvYmUgcHJvamVjdGlvbiBpbiBtZXJjYXRvciBtb2RlXG4gICAgICAgIC8vIHVudGlsIHRoZSBzdWJzdGl0dXRlIHRpbGUgaGFzIGJlZW4gbG9hZGVkXG4gICAgICAgIGlmIChidWNrZXQucHJvamVjdGlvbi5uYW1lID09PSAnbWVyY2F0b3InICYmIGlzR2xvYmVQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidWZmZXJzID0gaXNUZXh0ID8gYnVja2V0LnRleHQgOiBidWNrZXQuaWNvbjtcbiAgICAgICAgaWYgKCFidWZmZXJzIHx8IGJ1Y2tldC5mdWxseUNsaXBwZWQgfHwgIWJ1ZmZlcnMuc2VnbWVudHMuZ2V0KCkubGVuZ3RoKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWZmZXJzLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpO1xuXG4gICAgICAgIGNvbnN0IGlzU0RGID0gaXNUZXh0IHx8IGJ1Y2tldC5zZGZJY29ucztcblxuICAgICAgICBjb25zdCBzaXplRGF0YSA9IGlzVGV4dCA/IGJ1Y2tldC50ZXh0U2l6ZURhdGEgOiBidWNrZXQuaWNvblNpemVEYXRhO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZCA9IHBpdGNoV2l0aE1hcCB8fCB0ci5waXRjaCAhPT0gMDtcblxuICAgICAgICBjb25zdCBzaXplID0gc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3Jab29tKHNpemVEYXRhLCB0ci56b29tKTtcblxuICAgICAgICBsZXQgdGV4U2l6ZTogW251bWJlciwgbnVtYmVyXTtcbiAgICAgICAgbGV0IHRleFNpemVJY29uOiBbbnVtYmVyLCBudW1iZXJdID0gWzAsIDBdO1xuICAgICAgICBsZXQgYXRsYXNUZXh0dXJlO1xuICAgICAgICBsZXQgYXRsYXNJbnRlcnBvbGF0aW9uO1xuICAgICAgICBsZXQgYXRsYXNUZXh0dXJlSWNvbiA9IG51bGw7XG4gICAgICAgIGxldCBhdGxhc0ludGVycG9sYXRpb25JY29uO1xuICAgICAgICBpZiAoaXNUZXh0KSB7XG4gICAgICAgICAgICBhdGxhc1RleHR1cmUgPSB0aWxlLmdseXBoQXRsYXNUZXh0dXJlO1xuICAgICAgICAgICAgYXRsYXNJbnRlcnBvbGF0aW9uID0gZ2wuTElORUFSO1xuICAgICAgICAgICAgdGV4U2l6ZSA9IHRpbGUuZ2x5cGhBdGxhc1RleHR1cmUuc2l6ZTtcbiAgICAgICAgICAgIGlmIChidWNrZXQuaWNvbnNJblRleHQpIHtcbiAgICAgICAgICAgICAgICB0ZXhTaXplSWNvbiA9IHRpbGUuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZTtcbiAgICAgICAgICAgICAgICBhdGxhc1RleHR1cmVJY29uID0gdGlsZS5pbWFnZUF0bGFzVGV4dHVyZTtcbiAgICAgICAgICAgICAgICBjb25zdCB6b29tRGVwZW5kZW50U2l6ZSA9IHNpemVEYXRhLmtpbmQgPT09ICdjb21wb3NpdGUnIHx8IHNpemVEYXRhLmtpbmQgPT09ICdjYW1lcmEnO1xuICAgICAgICAgICAgICAgIGF0bGFzSW50ZXJwb2xhdGlvbkljb24gPSB0cmFuc2Zvcm1lZCB8fCBwYWludGVyLm9wdGlvbnMucm90YXRpbmcgfHwgcGFpbnRlci5vcHRpb25zLnpvb21pbmcgfHwgem9vbURlcGVuZGVudFNpemUgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaWNvblNjYWxlZCA9IGxheWVyLmxheW91dC5nZXQoJ2ljb24tc2l6ZScpLmNvbnN0YW50T3IoMCkgIT09IDEgfHwgYnVja2V0Lmljb25zTmVlZExpbmVhcjtcbiAgICAgICAgICAgIGF0bGFzVGV4dHVyZSA9IHRpbGUuaW1hZ2VBdGxhc1RleHR1cmU7XG4gICAgICAgICAgICBhdGxhc0ludGVycG9sYXRpb24gPSBpc1NERiB8fCBwYWludGVyLm9wdGlvbnMucm90YXRpbmcgfHwgcGFpbnRlci5vcHRpb25zLnpvb21pbmcgfHwgaWNvblNjYWxlZCB8fCB0cmFuc2Zvcm1lZCA/XG4gICAgICAgICAgICAgICAgZ2wuTElORUFSIDpcbiAgICAgICAgICAgICAgICBnbC5ORUFSRVNUO1xuICAgICAgICAgICAgdGV4U2l6ZSA9IHRpbGUuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ1Y2tldElzR2xvYmVQcm9qZWN0aW9uID0gYnVja2V0LnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJztcbiAgICAgICAgY29uc3QgY2FtZXJhVXBWZWN0b3IgPSBidWNrZXRJc0dsb2JlUHJvamVjdGlvbiA/IGdsb2JlQ2FtZXJhVXAgOiBtZXJjYXRvckNhbWVyYVVwO1xuICAgICAgICBjb25zdCBnbG9iZVRvTWVyY2F0b3IgPSAgYnVja2V0SXNHbG9iZVByb2plY3Rpb24gPyBnbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKHRyLnpvb20pIDogMC4wO1xuICAgICAgICBjb25zdCB0aWxlTWF0cml4ID0gZ2V0U3ltYm9sVGlsZVByb2plY3Rpb25NYXRyaXgoY29vcmQsIGJ1Y2tldC5nZXRQcm9qZWN0aW9uKCksIHRyKTtcblxuICAgICAgICBjb25zdCBzID0gdHIuY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodGlsZSk7XG4gICAgICAgIGNvbnN0IGxhYmVsUGxhbmVNYXRyaXhSZW5kZXJpbmcgPSBzeW1ib2xQcm9qZWN0aW9uLmdldExhYmVsUGxhbmVNYXRyaXhGb3JSZW5kZXJpbmcodGlsZU1hdHJpeCwgdGlsZS50aWxlSUQuY2Fub25pY2FsLCBwaXRjaFdpdGhNYXAsIHJvdGF0ZVdpdGhNYXAsIHRyLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpLCBzKTtcbiAgICAgICAgLy8gbGFiZWxQbGFuZU1hdHJpeEludiBpcyB1c2VkIGZvciBjb252ZXJ0aW5nIHZlcnRleCBwb3MgdG8gdGlsZSBjb29yZGluYXRlcyBuZWVkZWQgZm9yIHNhbXBsaW5nIGVsZXZhdGlvbi5cbiAgICAgICAgY29uc3QgbGFiZWxQbGFuZU1hdHJpeEludiA9IHBhaW50ZXIudGVycmFpbiAmJiBwaXRjaFdpdGhNYXAgJiYgYWxvbmdMaW5lID8gbWF0NC5pbnZlcnQobWF0NC5jcmVhdGUoKSwgbGFiZWxQbGFuZU1hdHJpeFJlbmRlcmluZykgOiBpZGVudGl0eU1hdDQ7XG4gICAgICAgIGNvbnN0IGdsQ29vcmRNYXRyaXggPSBzeW1ib2xQcm9qZWN0aW9uLmdldEdsQ29vcmRNYXRyaXgodGlsZU1hdHJpeCwgdGlsZS50aWxlSUQuY2Fub25pY2FsLCBwaXRjaFdpdGhNYXAsIHJvdGF0ZVdpdGhNYXAsIHRyLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpLCBzKTtcblxuICAgICAgICBjb25zdCBoYXNWYXJpYWJsZUFuY2hvcnMgPSB2YXJpYWJsZVBsYWNlbWVudCAmJiBidWNrZXQuaGFzVGV4dERhdGEoKTtcbiAgICAgICAgY29uc3QgdXBkYXRlVGV4dEZpdEljb24gPSBsYXllci5sYXlvdXQuZ2V0KCdpY29uLXRleHQtZml0JykgIT09ICdub25lJyAmJlxuICAgICAgICAgICAgaGFzVmFyaWFibGVBbmNob3JzICYmXG4gICAgICAgICAgICBidWNrZXQuaGFzSWNvbkRhdGEoKTtcblxuICAgICAgICBpZiAoYWxvbmdMaW5lKSB7XG4gICAgICAgICAgICBjb25zdCBlbGV2YXRpb24gPSB0ci5lbGV2YXRpb247XG4gICAgICAgICAgICBjb25zdCBnZXRFbGV2YXRpb24gPSBlbGV2YXRpb24gPyBlbGV2YXRpb24uZ2V0QXRUaWxlT2Zmc2V0RnVuYyhjb29yZCwgdHIuY2VudGVyLmxhdCwgdHIud29ybGRTaXplLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpKSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFBsYW5lTWF0cml4UGxhY2VtZW50ID0gc3ltYm9sUHJvamVjdGlvbi5nZXRMYWJlbFBsYW5lTWF0cml4Rm9yUGxhY2VtZW50KHRpbGVNYXRyaXgsIHRpbGUudGlsZUlELmNhbm9uaWNhbCwgcGl0Y2hXaXRoTWFwLCByb3RhdGVXaXRoTWFwLCB0ciwgYnVja2V0LmdldFByb2plY3Rpb24oKSwgcyk7XG5cbiAgICAgICAgICAgIHN5bWJvbFByb2plY3Rpb24udXBkYXRlTGluZUxhYmVscyhidWNrZXQsIHRpbGVNYXRyaXgsIHBhaW50ZXIsIGlzVGV4dCwgbGFiZWxQbGFuZU1hdHJpeFBsYWNlbWVudCwgZ2xDb29yZE1hdHJpeCwgcGl0Y2hXaXRoTWFwLCBrZWVwVXByaWdodCwgZ2V0RWxldmF0aW9uLCBjb29yZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm9qZWN0ZWRQb3NPbkxhYmVsU3BhY2UgPSBhbG9uZ0xpbmUgfHwgKGlzVGV4dCAmJiB2YXJpYWJsZVBsYWNlbWVudCkgfHwgdXBkYXRlVGV4dEZpdEljb247XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KHRpbGVNYXRyaXgsIHRpbGUsIHRyYW5zbGF0ZSwgdHJhbnNsYXRlQW5jaG9yKTtcbiAgICAgICAgY29uc3QgdUxhYmVsUGxhbmVNYXRyaXggPSBwcm9qZWN0ZWRQb3NPbkxhYmVsU3BhY2UgPyBpZGVudGl0eU1hdDQgOiBsYWJlbFBsYW5lTWF0cml4UmVuZGVyaW5nO1xuICAgICAgICBjb25zdCB1Z2xDb29yZE1hdHJpeCA9IHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KGdsQ29vcmRNYXRyaXgsIHRpbGUsIHRyYW5zbGF0ZSwgdHJhbnNsYXRlQW5jaG9yLCB0cnVlKTtcbiAgICAgICAgY29uc3QgaW52TWF0cml4ID0gYnVja2V0LmdldFByb2plY3Rpb24oKS5jcmVhdGVJbnZlcnNpb25NYXRyaXgodHIsIGNvb3JkLmNhbm9uaWNhbCk7XG5cbiAgICAgICAgY29uc3QgYmFzZURlZmluZXMgPSAoW106IGFueSk7XG4gICAgICAgIGlmIChwYWludGVyLnRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKSAmJiBwaXRjaFdpdGhNYXApIHtcbiAgICAgICAgICAgIGJhc2VEZWZpbmVzLnB1c2goJ1BJVENIX1dJVEhfTUFQX1RFUlJBSU4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVja2V0SXNHbG9iZVByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIGJhc2VEZWZpbmVzLnB1c2goJ1BST0pFQ1RJT05fR0xPQkVfVklFVycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9qZWN0ZWRQb3NPbkxhYmVsU3BhY2UpIHtcbiAgICAgICAgICAgIGJhc2VEZWZpbmVzLnB1c2goJ1BST0pFQ1RFRF9QT1NfT05fVklFV1BPUlQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhhc0hhbG8gPSBpc1NERiAmJiBsYXllci5wYWludC5nZXQoaXNUZXh0ID8gJ3RleHQtaGFsby13aWR0aCcgOiAnaWNvbi1oYWxvLXdpZHRoJykuY29uc3RhbnRPcigxKSAhPT0gMDtcblxuICAgICAgICBsZXQgdW5pZm9ybVZhbHVlcztcbiAgICAgICAgaWYgKGlzU0RGKSB7XG4gICAgICAgICAgICBpZiAoIWJ1Y2tldC5pY29uc0luVGV4dCkge1xuICAgICAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMgPSBzeW1ib2xTREZVbmlmb3JtVmFsdWVzKHNpemVEYXRhLmtpbmQsIHNpemUsIHJvdGF0ZUluU2hhZGVyLCBwaXRjaFdpdGhNYXAsIHBhaW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeCwgdUxhYmVsUGxhbmVNYXRyaXgsIHVnbENvb3JkTWF0cml4LCBpc1RleHQsIHRleFNpemUsIHRydWUsIGNvb3JkLCBnbG9iZVRvTWVyY2F0b3IsIG1lcmNhdG9yQ2VudGVyLCBpbnZNYXRyaXgsIGNhbWVyYVVwVmVjdG9yLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdW5pZm9ybVZhbHVlcyA9IHN5bWJvbFRleHRBbmRJY29uVW5pZm9ybVZhbHVlcyhzaXplRGF0YS5raW5kLCBzaXplLCByb3RhdGVJblNoYWRlciwgcGl0Y2hXaXRoTWFwLCBwYWludGVyLFxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgsIHVMYWJlbFBsYW5lTWF0cml4LCB1Z2xDb29yZE1hdHJpeCwgdGV4U2l6ZSwgdGV4U2l6ZUljb24sIGNvb3JkLCBnbG9iZVRvTWVyY2F0b3IsIG1lcmNhdG9yQ2VudGVyLCBpbnZNYXRyaXgsIGNhbWVyYVVwVmVjdG9yLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMgPSBzeW1ib2xJY29uVW5pZm9ybVZhbHVlcyhzaXplRGF0YS5raW5kLCBzaXplLCByb3RhdGVJblNoYWRlciwgcGl0Y2hXaXRoTWFwLCBwYWludGVyLCBtYXRyaXgsXG4gICAgICAgICAgICAgICAgdUxhYmVsUGxhbmVNYXRyaXgsIHVnbENvb3JkTWF0cml4LCBpc1RleHQsIHRleFNpemUsIGNvb3JkLCBnbG9iZVRvTWVyY2F0b3IsIG1lcmNhdG9yQ2VudGVyLCBpbnZNYXRyaXgsIGNhbWVyYVVwVmVjdG9yLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oZ2V0U3ltYm9sUHJvZ3JhbU5hbWUoaXNTREYsIGlzVGV4dCwgYnVja2V0KSwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIGJhc2VEZWZpbmVzKTtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgICAgIHByb2dyYW0sXG4gICAgICAgICAgICBidWZmZXJzLFxuICAgICAgICAgICAgdW5pZm9ybVZhbHVlcyxcbiAgICAgICAgICAgIGF0bGFzVGV4dHVyZSxcbiAgICAgICAgICAgIGF0bGFzVGV4dHVyZUljb24sXG4gICAgICAgICAgICBhdGxhc0ludGVycG9sYXRpb24sXG4gICAgICAgICAgICBhdGxhc0ludGVycG9sYXRpb25JY29uLFxuICAgICAgICAgICAgaXNTREYsXG4gICAgICAgICAgICBoYXNIYWxvLFxuICAgICAgICAgICAgdGlsZSxcbiAgICAgICAgICAgIGxhYmVsUGxhbmVNYXRyaXhJbnZcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaGFzU29ydEtleSAmJiBidWNrZXQuY2FuT3ZlcmxhcCkge1xuICAgICAgICAgICAgc29ydEZlYXR1cmVzQnlLZXkgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3Qgb2xkU2VnbWVudHMgPSBidWZmZXJzLnNlZ21lbnRzLmdldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIG9sZFNlZ21lbnRzKSB7XG4gICAgICAgICAgICAgICAgdGlsZVJlbmRlclN0YXRlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBzZWdtZW50czogbmV3IFNlZ21lbnRWZWN0b3IoW3NlZ21lbnRdKSxcbiAgICAgICAgICAgICAgICAgICAgc29ydEtleTogKChzZWdtZW50LnNvcnRLZXk6IGFueSk6IG51bWJlciksXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aWxlUmVuZGVyU3RhdGUucHVzaCh7XG4gICAgICAgICAgICAgICAgc2VnbWVudHM6IGJ1ZmZlcnMuc2VnbWVudHMsXG4gICAgICAgICAgICAgICAgc29ydEtleTogMCxcbiAgICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc29ydEZlYXR1cmVzQnlLZXkpIHtcbiAgICAgICAgdGlsZVJlbmRlclN0YXRlLnNvcnQoKGEsIGIpID0+IGEuc29ydEtleSAtIGIuc29ydEtleSk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBzZWdtZW50U3RhdGUgb2YgdGlsZVJlbmRlclN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gc2VnbWVudFN0YXRlLnN0YXRlO1xuICAgICAgICBpZiAocGFpbnRlci50ZXJyYWluKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHVzZURlcHRoRm9yT2NjbHVzaW9uOiAhaXNHbG9iZVByb2plY3Rpb24sXG4gICAgICAgICAgICAgICAgbGFiZWxQbGFuZU1hdHJpeEludjogc3RhdGUubGFiZWxQbGFuZU1hdHJpeEludlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBhaW50ZXIudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcoc3RhdGUudGlsZSwgc3RhdGUucHJvZ3JhbSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgIHN0YXRlLmF0bGFzVGV4dHVyZS5iaW5kKHN0YXRlLmF0bGFzSW50ZXJwb2xhdGlvbiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGlmIChzdGF0ZS5hdGxhc1RleHR1cmVJY29uKSB7XG4gICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5hdGxhc1RleHR1cmVJY29uKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYXRsYXNUZXh0dXJlSWNvbi5iaW5kKHN0YXRlLmF0bGFzSW50ZXJwb2xhdGlvbkljb24sIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLmlzU0RGKSB7XG4gICAgICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gKChzdGF0ZS51bmlmb3JtVmFsdWVzOiBhbnkpOiBVbmlmb3JtVmFsdWVzPFN5bWJvbFNERlVuaWZvcm1zVHlwZT4pO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmhhc0hhbG8pIHtcbiAgICAgICAgICAgICAgICB1bmlmb3JtVmFsdWVzWyd1X2lzX2hhbG8nXSA9IDE7XG4gICAgICAgICAgICAgICAgZHJhd1N5bWJvbEVsZW1lbnRzKHN0YXRlLmJ1ZmZlcnMsIHNlZ21lbnRTdGF0ZS5zZWdtZW50cywgbGF5ZXIsIHBhaW50ZXIsIHN0YXRlLnByb2dyYW0sIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgdW5pZm9ybVZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzWyd1X2lzX2hhbG8nXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZHJhd1N5bWJvbEVsZW1lbnRzKHN0YXRlLmJ1ZmZlcnMsIHNlZ21lbnRTdGF0ZS5zZWdtZW50cywgbGF5ZXIsIHBhaW50ZXIsIHN0YXRlLnByb2dyYW0sIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgc3RhdGUudW5pZm9ybVZhbHVlcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3U3ltYm9sRWxlbWVudHMoYnVmZmVycywgc2VnbWVudHMsIGxheWVyLCBwYWludGVyLCBwcm9ncmFtLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUsIHVuaWZvcm1WYWx1ZXMpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCBkeW5hbWljQnVmZmVycyA9IFtidWZmZXJzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIsIGJ1ZmZlcnMub3BhY2l0eVZlcnRleEJ1ZmZlciwgYnVmZmVycy5nbG9iZUV4dFZlcnRleEJ1ZmZlcl07XG4gICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgIHVuaWZvcm1WYWx1ZXMsIGxheWVyLmlkLCBidWZmZXJzLmxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgYnVmZmVycy5pbmRleEJ1ZmZlciwgc2VnbWVudHMsIGxheWVyLnBhaW50LFxuICAgICAgICBwYWludGVyLnRyYW5zZm9ybS56b29tLCBidWZmZXJzLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpLCBkeW5hbWljQnVmZmVycyk7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yLmpzJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZS5qcyc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlLmpzJztcbmltcG9ydCB7XG4gICAgZmlsbFVuaWZvcm1WYWx1ZXMsXG4gICAgZmlsbFBhdHRlcm5Vbmlmb3JtVmFsdWVzLFxuICAgIGZpbGxPdXRsaW5lVW5pZm9ybVZhbHVlcyxcbiAgICBmaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3JtVmFsdWVzXG59IGZyb20gJy4vcHJvZ3JhbS9maWxsX3Byb2dyYW0uanMnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCB0eXBlIEZpbGxTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2ZpbGxfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgRmlsbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9maWxsX2J1Y2tldC5qcyc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3RmlsbDtcblxuZnVuY3Rpb24gZHJhd0ZpbGwocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogRmlsbFN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBjb25zdCBjb2xvciA9IGxheWVyLnBhaW50LmdldCgnZmlsbC1jb2xvcicpO1xuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2ZpbGwtb3BhY2l0eScpO1xuXG4gICAgaWYgKG9wYWNpdHkuY29uc3RhbnRPcigxKSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG5cbiAgICBjb25zdCBwYXR0ZXJuID0gbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXBhdHRlcm4nKTtcbiAgICBjb25zdCBwYXNzID0gcGFpbnRlci5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkgJiZcbiAgICAgICAgKCFwYXR0ZXJuLmNvbnN0YW50T3IoKDE6IGFueSkpICYmXG4gICAgICAgIGNvbG9yLmNvbnN0YW50T3IoQ29sb3IudHJhbnNwYXJlbnQpLmEgPT09IDEgJiZcbiAgICAgICAgb3BhY2l0eS5jb25zdGFudE9yKDApID09PSAxKSA/ICdvcGFxdWUnIDogJ3RyYW5zbHVjZW50JztcblxuICAgIC8vIERyYXcgZmlsbFxuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09IHBhc3MpIHtcbiAgICAgICAgY29uc3QgZGVwdGhNb2RlID0gcGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcihcbiAgICAgICAgICAgIDEsIHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ29wYXF1ZScgPyBEZXB0aE1vZGUuUmVhZFdyaXRlIDogRGVwdGhNb2RlLlJlYWRPbmx5KTtcbiAgICAgICAgZHJhd0ZpbGxUaWxlcyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLCBjb2xvck1vZGUsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvLyBEcmF3IHN0cm9rZVxuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcgJiYgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWFudGlhbGlhcycpKSB7XG5cbiAgICAgICAgLy8gSWYgd2UgZGVmaW5lZCBhIGRpZmZlcmVudCBjb2xvciBmb3IgdGhlIGZpbGwgb3V0bGluZSwgd2UgYXJlXG4gICAgICAgIC8vIGdvaW5nIHRvIGlnbm9yZSB0aGUgYml0cyBpbiAweDA3IGFuZCBqdXN0IGNhcmUgYWJvdXQgdGhlIGdsb2JhbFxuICAgICAgICAvLyBjbGlwcGluZyBtYXNrLlxuICAgICAgICAvLyBPdGhlcndpc2UsIHdlIG9ubHkgd2FudCB0byBkcmF3RmlsbCB0aGUgYW50aWFsaWFzZWQgcGFydHMgdGhhdCBhcmVcbiAgICAgICAgLy8gKm91dHNpZGUqIHRoZSBjdXJyZW50IHNoYXBlLiBUaGlzIGlzIGltcG9ydGFudCBpbiBjYXNlIHRoZSBmaWxsXG4gICAgICAgIC8vIG9yIHN0cm9rZSBjb2xvciBpcyB0cmFuc2x1Y2VudC4gSWYgd2Ugd291bGRuJ3QgY2xpcCB0byBvdXRzaWRlXG4gICAgICAgIC8vIHRoZSBjdXJyZW50IHNoYXBlLCBzb21lIHBpeGVscyBmcm9tIHRoZSBvdXRsaW5lIHN0cm9rZSBvdmVybGFwcGVkXG4gICAgICAgIC8vIHRoZSAobm9uLWFudGlhbGlhc2VkKSBmaWxsLlxuICAgICAgICBjb25zdCBkZXB0aE1vZGUgPSBwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKFxuICAgICAgICAgICAgbGF5ZXIuZ2V0UGFpbnRQcm9wZXJ0eSgnZmlsbC1vdXRsaW5lLWNvbG9yJykgPyAyIDogMCwgRGVwdGhNb2RlLlJlYWRPbmx5KTtcbiAgICAgICAgZHJhd0ZpbGxUaWxlcyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLCBjb2xvck1vZGUsIHRydWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0ZpbGxUaWxlcyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLCBjb2xvck1vZGUsIGlzT3V0bGluZSkge1xuICAgIGNvbnN0IGdsID0gcGFpbnRlci5jb250ZXh0LmdsO1xuXG4gICAgY29uc3QgcGF0dGVyblByb3BlcnR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXBhdHRlcm4nKTtcbiAgICBjb25zdCBpbWFnZSA9IHBhdHRlcm5Qcm9wZXJ0eSAmJiBwYXR0ZXJuUHJvcGVydHkuY29uc3RhbnRPcigoMTogYW55KSk7XG4gICAgbGV0IGRyYXdNb2RlLCBwcm9ncmFtTmFtZSwgdW5pZm9ybVZhbHVlcywgaW5kZXhCdWZmZXIsIHNlZ21lbnRzO1xuXG4gICAgaWYgKCFpc091dGxpbmUpIHtcbiAgICAgICAgcHJvZ3JhbU5hbWUgPSBpbWFnZSA/ICdmaWxsUGF0dGVybicgOiAnZmlsbCc7XG4gICAgICAgIGRyYXdNb2RlID0gZ2wuVFJJQU5HTEVTO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2dyYW1OYW1lID0gaW1hZ2UgJiYgIWxheWVyLmdldFBhaW50UHJvcGVydHkoJ2ZpbGwtb3V0bGluZS1jb2xvcicpID8gJ2ZpbGxPdXRsaW5lUGF0dGVybicgOiAnZmlsbE91dGxpbmUnO1xuICAgICAgICBkcmF3TW9kZSA9IGdsLkxJTkVTO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgaWYgKGltYWdlICYmICF0aWxlLnBhdHRlcm5zTG9hZGVkKCkpIGNvbnRpbnVlO1xuXG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP0ZpbGxCdWNrZXQgPSAodGlsZS5nZXRCdWNrZXQobGF5ZXIpOiBhbnkpO1xuICAgICAgICBpZiAoIWJ1Y2tldCkgY29udGludWU7XG4gICAgICAgIHBhaW50ZXIucHJlcGFyZURyYXdUaWxlKCk7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0ocHJvZ3JhbU5hbWUsIHByb2dyYW1Db25maWd1cmF0aW9uKTtcblxuICAgICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIHBhaW50ZXIuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgICAgICB0aWxlLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uLnVwZGF0ZVBhaW50QnVmZmVycygpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29uc3RhbnRQYXR0ZXJuID0gcGF0dGVyblByb3BlcnR5LmNvbnN0YW50T3IobnVsbCk7XG4gICAgICAgIGlmIChjb25zdGFudFBhdHRlcm4gJiYgdGlsZS5pbWFnZUF0bGFzKSB7XG4gICAgICAgICAgICBjb25zdCBhdGxhcyA9IHRpbGUuaW1hZ2VBdGxhcztcbiAgICAgICAgICAgIGNvbnN0IHBvc1RvID0gYXRsYXMucGF0dGVyblBvc2l0aW9uc1tjb25zdGFudFBhdHRlcm4udG9TdHJpbmcoKV07XG4gICAgICAgICAgICBpZiAocG9zVG8pIHByb2dyYW1Db25maWd1cmF0aW9uLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhwb3NUbyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aWxlTWF0cml4ID0gcGFpbnRlci50cmFuc2xhdGVQb3NNYXRyaXgoY29vcmQucHJvak1hdHJpeCwgdGlsZSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgnZmlsbC10cmFuc2xhdGUnKSwgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXRyYW5zbGF0ZS1hbmNob3InKSk7XG5cbiAgICAgICAgaWYgKCFpc091dGxpbmUpIHtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyID0gYnVja2V0LmluZGV4QnVmZmVyO1xuICAgICAgICAgICAgc2VnbWVudHMgPSBidWNrZXQuc2VnbWVudHM7XG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzID0gaW1hZ2UgP1xuICAgICAgICAgICAgICAgIGZpbGxQYXR0ZXJuVW5pZm9ybVZhbHVlcyh0aWxlTWF0cml4LCBwYWludGVyLCB0aWxlKSA6XG4gICAgICAgICAgICAgICAgZmlsbFVuaWZvcm1WYWx1ZXModGlsZU1hdHJpeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlciA9IGJ1Y2tldC5pbmRleEJ1ZmZlcjI7XG4gICAgICAgICAgICBzZWdtZW50cyA9IGJ1Y2tldC5zZWdtZW50czI7XG4gICAgICAgICAgICBjb25zdCBkcmF3aW5nQnVmZmVyU2l6ZSA9IChwYWludGVyLnRlcnJhaW4gJiYgcGFpbnRlci50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSkgPyBwYWludGVyLnRlcnJhaW4uZHJhcGVCdWZmZXJTaXplIDogW2dsLmRyYXdpbmdCdWZmZXJXaWR0aCwgZ2wuZHJhd2luZ0J1ZmZlckhlaWdodF07XG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzID0gKHByb2dyYW1OYW1lID09PSAnZmlsbE91dGxpbmVQYXR0ZXJuJyAmJiBpbWFnZSkgP1xuICAgICAgICAgICAgICAgIGZpbGxPdXRsaW5lUGF0dGVyblVuaWZvcm1WYWx1ZXModGlsZU1hdHJpeCwgcGFpbnRlciwgdGlsZSwgZHJhd2luZ0J1ZmZlclNpemUpIDpcbiAgICAgICAgICAgICAgICBmaWxsT3V0bGluZVVuaWZvcm1WYWx1ZXModGlsZU1hdHJpeCwgZHJhd2luZ0J1ZmZlclNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFpbnRlci5wcmVwYXJlRHJhd1Byb2dyYW0ocGFpbnRlci5jb250ZXh0LCBwcm9ncmFtLCBjb29yZC50b1Vud3JhcHBlZCgpKTtcblxuICAgICAgICBwcm9ncmFtLmRyYXcocGFpbnRlci5jb250ZXh0LCBkcmF3TW9kZSwgZGVwdGhNb2RlLFxuICAgICAgICAgICAgcGFpbnRlci5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGNvb3JkKSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsIHVuaWZvcm1WYWx1ZXMsXG4gICAgICAgICAgICBsYXllci5pZCwgYnVja2V0LmxheW91dFZlcnRleEJ1ZmZlciwgaW5kZXhCdWZmZXIsIHNlZ21lbnRzLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20sIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZS5qcyc7XG5pbXBvcnQgQ29sb3JNb2RlIGZyb20gJy4uL2dsL2NvbG9yX21vZGUuanMnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50LmpzJztcbmltcG9ydCBGaWxsRXh0cnVzaW9uQnVja2V0LCB7ZmlsbEV4dHJ1c2lvbkhlaWdodExpZnR9IGZyb20gJy4uL2RhdGEvYnVja2V0L2ZpbGxfZXh0cnVzaW9uX2J1Y2tldC5qcyc7XG5pbXBvcnQge1xuICAgIGZpbGxFeHRydXNpb25Vbmlmb3JtVmFsdWVzLFxuICAgIGZpbGxFeHRydXNpb25QYXR0ZXJuVW5pZm9ybVZhbHVlcyxcbn0gZnJvbSAnLi9wcm9ncmFtL2ZpbGxfZXh0cnVzaW9uX3Byb2dyYW0uanMnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQge21lcmNhdG9yWGZyb21MbmcsIG1lcmNhdG9yWWZyb21MYXR9IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7Z2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbn0gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgRmlsbEV4dHJ1c2lvblN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvZmlsbF9leHRydXNpb25fc3R5bGVfbGF5ZXIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3O1xuXG5mdW5jdGlvbiBkcmF3KHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZTogU291cmNlQ2FjaGUsIGxheWVyOiBGaWxsRXh0cnVzaW9uU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2ZpbGwtZXh0cnVzaW9uLW9wYWNpdHknKTtcbiAgICBpZiAob3BhY2l0eSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ3RyYW5zbHVjZW50Jykge1xuICAgICAgICBjb25zdCBkZXB0aE1vZGUgPSBuZXcgRGVwdGhNb2RlKHBhaW50ZXIuY29udGV4dC5nbC5MRVFVQUwsIERlcHRoTW9kZS5SZWFkV3JpdGUsIHBhaW50ZXIuZGVwdGhSYW5nZUZvcjNEKTtcblxuICAgICAgICBpZiAob3BhY2l0eSA9PT0gMSAmJiAhbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuJykuY29uc3RhbnRPcigoMTogYW55KSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yTW9kZSA9IHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO1xuICAgICAgICAgICAgZHJhd0V4dHJ1c2lvblRpbGVzKHBhaW50ZXIsIHNvdXJjZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLCBTdGVuY2lsTW9kZS5kaXNhYmxlZCwgY29sb3JNb2RlKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRHJhdyB0cmFuc3BhcmVudCBidWlsZGluZ3MgaW4gdHdvIHBhc3NlcyBzbyB0aGF0IG9ubHkgdGhlIGNsb3Nlc3Qgc3VyZmFjZSBpcyBkcmF3bi5cbiAgICAgICAgICAgIC8vIEZpcnN0IGRyYXcgYWxsIHRoZSBleHRydXNpb25zIGludG8gb25seSB0aGUgZGVwdGggYnVmZmVyLiBObyBjb2xvcnMgYXJlIGRyYXduLlxuICAgICAgICAgICAgZHJhd0V4dHJ1c2lvblRpbGVzKHBhaW50ZXIsIHNvdXJjZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLFxuICAgICAgICAgICAgICAgIFN0ZW5jaWxNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIENvbG9yTW9kZS5kaXNhYmxlZCk7XG5cbiAgICAgICAgICAgIC8vIFRoZW4gZHJhdyBhbGwgdGhlIGV4dHJ1c2lvbnMgYSBzZWNvbmQgdHlwZSwgb25seSBjb2xvcmluZyBmcmFnbWVudHMgaWYgdGhleSBoYXZlIHRoZVxuICAgICAgICAgICAgLy8gc2FtZSBkZXB0aCB2YWx1ZSBhcyB0aGUgY2xvc2VzdCBmcmFnbWVudCBpbiB0aGUgcHJldmlvdXMgcGFzcy4gVXNlIHRoZSBzdGVuY2lsIGJ1ZmZlclxuICAgICAgICAgICAgLy8gdG8gcHJldmVudCB0aGUgc2Vjb25kIGRyYXcgaW4gY2FzZXMgd2hlcmUgd2UgaGF2ZSBjb2luY2lkZW50IHBvbHlnb25zLlxuICAgICAgICAgICAgZHJhd0V4dHJ1c2lvblRpbGVzKHBhaW50ZXIsIHNvdXJjZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLFxuICAgICAgICAgICAgICAgIHBhaW50ZXIuc3RlbmNpbE1vZGVGb3IzRCgpLFxuICAgICAgICAgICAgICAgIHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcblxuICAgICAgICAgICAgcGFpbnRlci5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdFeHRydXNpb25UaWxlcyhwYWludGVyLCBzb3VyY2UsIGxheWVyLCBjb29yZHMsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgcGF0dGVyblByb3BlcnR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuJyk7XG4gICAgY29uc3QgaW1hZ2UgPSBwYXR0ZXJuUHJvcGVydHkuY29uc3RhbnRPcigoMTogYW55KSk7XG4gICAgY29uc3Qgb3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tb3BhY2l0eScpO1xuICAgIGNvbnN0IGFvID0gW2xheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5JyksIGxheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzJyldO1xuICAgIGNvbnN0IGVkZ2VSYWRpdXMgPSBsYXllci5sYXlvdXQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1cycpO1xuICAgIGNvbnN0IGhlaWdodExpZnQgPSB0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScgPyBmaWxsRXh0cnVzaW9uSGVpZ2h0TGlmdCgpIDogMDtcbiAgICBjb25zdCBpc0dsb2JlUHJvamVjdGlvbiA9IHRyLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJztcbiAgICBjb25zdCBnbG9iZVRvTWVyY2F0b3IgPSBpc0dsb2JlUHJvamVjdGlvbiA/IGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odHIuem9vbSkgOiAwLjA7XG4gICAgY29uc3QgbWVyY2F0b3JDZW50ZXIgPSBbbWVyY2F0b3JYZnJvbUxuZyh0ci5jZW50ZXIubG5nKSwgbWVyY2F0b3JZZnJvbUxhdCh0ci5jZW50ZXIubGF0KV07XG4gICAgY29uc3QgYmFzZURlZmluZXMgPSAoW106IGFueSk7XG4gICAgaWYgKGlzR2xvYmVQcm9qZWN0aW9uKSB7XG4gICAgICAgIGJhc2VEZWZpbmVzLnB1c2goJ1BST0pFQ1RJT05fR0xPQkVfVklFVycpO1xuICAgIH1cbiAgICBpZiAoYW9bMF0gPiAwKSB7IC8vIGludGVuc2l0eVxuICAgICAgICBiYXNlRGVmaW5lcy5wdXNoKCdGQVVYX0FPJyk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgY29uc3QgYnVja2V0OiA/RmlsbEV4dHJ1c2lvbkJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0IHx8IGJ1Y2tldC5wcm9qZWN0aW9uLm5hbWUgIT09IHRyLnByb2plY3Rpb24ubmFtZSkgY29udGludWU7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oaW1hZ2UgPyAnZmlsbEV4dHJ1c2lvblBhdHRlcm4nIDogJ2ZpbGxFeHRydXNpb24nLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgYmFzZURlZmluZXMpO1xuXG4gICAgICAgIGlmIChwYWludGVyLnRlcnJhaW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHRlcnJhaW4gPSBwYWludGVyLnRlcnJhaW47XG4gICAgICAgICAgICBpZiAocGFpbnRlci5zdHlsZS50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSkge1xuICAgICAgICAgICAgICAgIHRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHRpbGUsIHByb2dyYW0sIHt1c2VNZXRlclRvRGVtOiB0cnVlfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghYnVja2V0LmVuYWJsZVRlcnJhaW4pIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHRpbGUsIHByb2dyYW0sIHt1c2VNZXRlclRvRGVtOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgZmxhdFJvb2ZzVXBkYXRlKGNvbnRleHQsIHNvdXJjZSwgY29vcmQsIGJ1Y2tldCwgbGF5ZXIsIHRlcnJhaW4pO1xuICAgICAgICAgICAgICAgIGlmICghYnVja2V0LmNlbnRyb2lkVmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJJbmRleDogbnVtYmVyIHwgdm9pZCA9IHByb2dyYW0uYXR0cmlidXRlc1snYV9jZW50cm9pZF9wb3MnXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJJbmRleCAhPT0gdW5kZWZpbmVkKSBnbC52ZXJ0ZXhBdHRyaWIyZihhdHRySW5kZXgsIDAsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgcGFpbnRlci5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgIHRpbGUuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24udXBkYXRlUGFpbnRCdWZmZXJzKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29uc3RhbnRQYXR0ZXJuID0gcGF0dGVyblByb3BlcnR5LmNvbnN0YW50T3IobnVsbCk7XG4gICAgICAgIGlmIChjb25zdGFudFBhdHRlcm4gJiYgdGlsZS5pbWFnZUF0bGFzKSB7XG4gICAgICAgICAgICBjb25zdCBhdGxhcyA9IHRpbGUuaW1hZ2VBdGxhcztcbiAgICAgICAgICAgIGNvbnN0IHBvc1RvID0gYXRsYXMucGF0dGVyblBvc2l0aW9uc1tjb25zdGFudFBhdHRlcm4udG9TdHJpbmcoKV07XG4gICAgICAgICAgICBpZiAocG9zVG8pIHByb2dyYW1Db25maWd1cmF0aW9uLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhwb3NUbyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXRyaXggPSBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChcbiAgICAgICAgICAgIGNvb3JkLnByb2pNYXRyaXgsXG4gICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUnKSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvcicpKTtcblxuICAgICAgICBjb25zdCBpbnZNYXRyaXggPSB0ci5wcm9qZWN0aW9uLmNyZWF0ZUludmVyc2lvbk1hdHJpeCh0ciwgY29vcmQuY2Fub25pY2FsKTtcblxuICAgICAgICBjb25zdCBzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50ID0gbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudCcpO1xuICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gaW1hZ2UgP1xuICAgICAgICAgICAgZmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3JtVmFsdWVzKG1hdHJpeCwgcGFpbnRlciwgc2hvdWxkVXNlVmVydGljYWxHcmFkaWVudCwgb3BhY2l0eSwgYW8sIGVkZ2VSYWRpdXMsIGNvb3JkLFxuICAgICAgICAgICAgICAgIHRpbGUsIGhlaWdodExpZnQsIGdsb2JlVG9NZXJjYXRvciwgbWVyY2F0b3JDZW50ZXIsIGludk1hdHJpeCkgOlxuICAgICAgICAgICAgZmlsbEV4dHJ1c2lvblVuaWZvcm1WYWx1ZXMobWF0cml4LCBwYWludGVyLCBzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50LCBvcGFjaXR5LCBhbywgZWRnZVJhZGl1cywgY29vcmQsXG4gICAgICAgICAgICAgICAgaGVpZ2h0TGlmdCwgZ2xvYmVUb01lcmNhdG9yLCBtZXJjYXRvckNlbnRlciwgaW52TWF0cml4KTtcblxuICAgICAgICBwYWludGVyLnByZXBhcmVEcmF3UHJvZ3JhbShjb250ZXh0LCBwcm9ncmFtLCBjb29yZC50b1Vud3JhcHBlZCgpKTtcblxuICAgICAgICBhc3NlcnQoIWlzR2xvYmVQcm9qZWN0aW9uIHx8IGJ1Y2tldC5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXIpO1xuXG4gICAgICAgIGNvbnN0IGR5bmFtaWNCdWZmZXJzID0gW107XG4gICAgICAgIGlmIChwYWludGVyLnRlcnJhaW4pIGR5bmFtaWNCdWZmZXJzLnB1c2goYnVja2V0LmNlbnRyb2lkVmVydGV4QnVmZmVyKTtcbiAgICAgICAgaWYgKGlzR2xvYmVQcm9qZWN0aW9uKSBkeW5hbWljQnVmZmVycy5wdXNoKGJ1Y2tldC5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXIpO1xuXG4gICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBjb250ZXh0LmdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuYmFja0NDVyxcbiAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMsIGxheWVyLmlkLCBidWNrZXQubGF5b3V0VmVydGV4QnVmZmVyLCBidWNrZXQuaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICBidWNrZXQuc2VnbWVudHMsIGxheWVyLnBhaW50LCBwYWludGVyLnRyYW5zZm9ybS56b29tLFxuICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIGR5bmFtaWNCdWZmZXJzKTtcbiAgICB9XG59XG5cbi8vIEZsYXQgcm9vZnMgYXJyYXkgaXMgcHJlcGFyZWQgaW4gdGhlIGJ1Y2tldCwgZXhjZXB0IGZvciBidWlsZGluZ3MgdGhhdCBhcmUgb24gdGlsZSBib3JkZXJzLlxuLy8gRm9yIHRoZW0sIGpvaW4gcGllY2VzLCBjYWxjdWxhdGUgam9pbmVkIHNpemUgaGVyZSwgYW5kIHRoZW4gdXBsb2FkIGRhdGEuXG5mdW5jdGlvbiBmbGF0Um9vZnNVcGRhdGUoY29udGV4dCwgc291cmNlLCBjb29yZCwgYnVja2V0LCBsYXllciwgdGVycmFpbikge1xuICAgIC8vIEZvciBhbGwgZm91ciBib3JkZXJzOiAwIC0gbGVmdCwgMSwgcmlnaHQsIDIgLSB0b3AsIDMgLSBib3R0b21cbiAgICBjb25zdCBuZWlnaGJvckNvb3JkID0gW1xuICAgICAgICAoY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQpID0+IHtcbiAgICAgICAgICAgIGxldCB4ID0gY29vcmQuY2Fub25pY2FsLnggLSAxO1xuICAgICAgICAgICAgbGV0IHcgPSBjb29yZC53cmFwO1xuICAgICAgICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgICAgICAgICAgeCA9ICgxIDw8IGNvb3JkLmNhbm9uaWNhbC56KSAtIDE7XG4gICAgICAgICAgICAgICAgdy0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBPdmVyc2NhbGVkVGlsZUlEKGNvb3JkLm92ZXJzY2FsZWRaLCB3LCBjb29yZC5jYW5vbmljYWwueiwgeCwgY29vcmQuY2Fub25pY2FsLnkpO1xuICAgICAgICB9LFxuICAgICAgICAoY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQpID0+IHtcbiAgICAgICAgICAgIGxldCB4ID0gY29vcmQuY2Fub25pY2FsLnggKyAxO1xuICAgICAgICAgICAgbGV0IHcgPSBjb29yZC53cmFwO1xuICAgICAgICAgICAgaWYgKHggPT09IDEgPDwgY29vcmQuY2Fub25pY2FsLnopIHtcbiAgICAgICAgICAgICAgICB4ID0gMDtcbiAgICAgICAgICAgICAgICB3Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IE92ZXJzY2FsZWRUaWxlSUQoY29vcmQub3ZlcnNjYWxlZFosIHcsIGNvb3JkLmNhbm9uaWNhbC56LCB4LCBjb29yZC5jYW5vbmljYWwueSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvb3JkID0+IG5ldyBPdmVyc2NhbGVkVGlsZUlEKGNvb3JkLm92ZXJzY2FsZWRaLCBjb29yZC53cmFwLCBjb29yZC5jYW5vbmljYWwueiwgY29vcmQuY2Fub25pY2FsLngsXG4gICAgICAgICAgICAoY29vcmQuY2Fub25pY2FsLnkgPT09IDAgPyAxIDw8IGNvb3JkLmNhbm9uaWNhbC56IDogY29vcmQuY2Fub25pY2FsLnkpIC0gMSksXG4gICAgICAgIGNvb3JkID0+IG5ldyBPdmVyc2NhbGVkVGlsZUlEKGNvb3JkLm92ZXJzY2FsZWRaLCBjb29yZC53cmFwLCBjb29yZC5jYW5vbmljYWwueiwgY29vcmQuY2Fub25pY2FsLngsXG4gICAgICAgICAgICBjb29yZC5jYW5vbmljYWwueSA9PT0gKDEgPDwgY29vcmQuY2Fub25pY2FsLnopIC0gMSA/IDAgOiBjb29yZC5jYW5vbmljYWwueSArIDEpXG4gICAgXTtcblxuICAgIGNvbnN0IGdldExvYWRlZEJ1Y2tldCA9IChuaWQpID0+IHtcbiAgICAgICAgY29uc3QgbWluem9vbSA9IHNvdXJjZS5nZXRTb3VyY2UoKS5taW56b29tO1xuICAgICAgICBjb25zdCBnZXRCdWNrZXQgPSAoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gc291cmNlLmdldFRpbGVCeUlEKGtleSk7XG4gICAgICAgICAgICBpZiAobiAmJiBuLmhhc0RhdGEoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuLmdldEJ1Y2tldChsYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIExvb2sgb25lIHRpbGUgem9vbSBhYm92ZSBhbmQgdW5kZXIuIFdlIGRvIHRoaXMgdG8gYXZvaWQgZmxpY2tlcmluZyBhbmRcbiAgICAgICAgLy8gdXNlIHRoZSBjb250ZW50IGluIFotMSBhbmQgWisxIGJ1Y2tldHMgdW50aWwgWiBidWNrZXQgaXMgbG9hZGVkIG9yIGhhbmRsZVxuICAgICAgICAvLyBiZWhhdmlvciBvbiBib3JkZXJzIGJldHdlZW4gZGlmZmVyZW50IHpvb21zLlxuICAgICAgICBjb25zdCB6b29tTGV2ZWxzID0gWzAsIC0xLCAxXTtcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIHpvb21MZXZlbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHogPSBuaWQub3ZlcnNjYWxlZFogKyBpO1xuICAgICAgICAgICAgaWYgKHogPCBtaW56b29tKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IG5pZC5jYWxjdWxhdGVTY2FsZWRLZXkobmlkLm92ZXJzY2FsZWRaICsgaSk7XG4gICAgICAgICAgICBjb25zdCBiID0gZ2V0QnVja2V0KGtleSk7XG4gICAgICAgICAgICBpZiAoYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHByb2plY3RlZFRvQm9yZGVyID0gWzAsIDAsIDBdOyAvLyBbbWluLCBtYXgsIG1heE9mZnNldEZyb21Cb3JkZXJdXG4gICAgY29uc3QgeGpvaW4gPSAoYSwgYikgPT4ge1xuICAgICAgICBwcm9qZWN0ZWRUb0JvcmRlclswXSA9IE1hdGgubWluKGEubWluLnksIGIubWluLnkpO1xuICAgICAgICBwcm9qZWN0ZWRUb0JvcmRlclsxXSA9IE1hdGgubWF4KGEubWF4LnksIGIubWF4LnkpO1xuICAgICAgICBwcm9qZWN0ZWRUb0JvcmRlclsyXSA9IEVYVEVOVCAtIGIubWluLnggPiBhLm1heC54ID8gYi5taW4ueCAtIEVYVEVOVCA6IGEubWF4Lng7XG4gICAgICAgIHJldHVybiBwcm9qZWN0ZWRUb0JvcmRlcjtcbiAgICB9O1xuICAgIGNvbnN0IHlqb2luID0gKGEsIGIpID0+IHtcbiAgICAgICAgcHJvamVjdGVkVG9Cb3JkZXJbMF0gPSBNYXRoLm1pbihhLm1pbi54LCBiLm1pbi54KTtcbiAgICAgICAgcHJvamVjdGVkVG9Cb3JkZXJbMV0gPSBNYXRoLm1heChhLm1heC54LCBiLm1heC54KTtcbiAgICAgICAgcHJvamVjdGVkVG9Cb3JkZXJbMl0gPSBFWFRFTlQgLSBiLm1pbi55ID4gYS5tYXgueSA/IGIubWluLnkgLSBFWFRFTlQgOiBhLm1heC55O1xuICAgICAgICByZXR1cm4gcHJvamVjdGVkVG9Cb3JkZXI7XG4gICAgfTtcbiAgICBjb25zdCBwcm9qZWN0Q29tYmluZWRTcGFuVG9Cb3JkZXIgPSBbXG4gICAgICAgIChhLCBiKSA9PiB4am9pbihhLCBiKSxcbiAgICAgICAgKGEsIGIpID0+IHhqb2luKGIsIGEpLFxuICAgICAgICAoYSwgYikgPT4geWpvaW4oYSwgYiksXG4gICAgICAgIChhLCBiKSA9PiB5am9pbihiLCBhKVxuICAgIF07XG5cbiAgICBjb25zdCBjZW50cm9pZCA9IG5ldyBQb2ludCgwLCAwKTtcbiAgICBjb25zdCBlcnJvciA9IDM7IC8vIEFsbG93IGludHJ1c2lvbiBvZiBhIGJ1aWxkaW5nIHRvIHRoZSBidWlsZGluZyB3aXRoIGFkamFjZW50IHdhbGwuXG5cbiAgICBsZXQgZGVtVGlsZSwgbmVpZ2hib3JERU1UaWxlLCBuZWlnaGJvclRpbGVJRDtcblxuICAgIGNvbnN0IGZsYXRCYXNlID0gKG1pbiwgbWF4LCBlZGdlLCB2ZXJ0aWNhbEVkZ2UsIG1heE9mZnNldEZyb21Cb3JkZXIpID0+IHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gW1t2ZXJ0aWNhbEVkZ2UgPyBlZGdlIDogbWluLCB2ZXJ0aWNhbEVkZ2UgPyBtaW4gOiBlZGdlLCAwXSwgW3ZlcnRpY2FsRWRnZSA/IGVkZ2UgOiBtYXgsIHZlcnRpY2FsRWRnZSA/IG1heCA6IGVkZ2UsIDBdXTtcblxuICAgICAgICBjb25zdCBjb29yZDMgPSBtYXhPZmZzZXRGcm9tQm9yZGVyIDwgMCA/IEVYVEVOVCArIG1heE9mZnNldEZyb21Cb3JkZXIgOiBtYXhPZmZzZXRGcm9tQm9yZGVyO1xuICAgICAgICBjb25zdCB0aGlyZFBvaW50ID0gW3ZlcnRpY2FsRWRnZSA/IGNvb3JkMyA6IChtaW4gKyBtYXgpIC8gMiwgdmVydGljYWxFZGdlID8gKG1pbiArIG1heCkgLyAyIDogY29vcmQzLCAwXTtcbiAgICAgICAgaWYgKChlZGdlID09PSAwICYmIG1heE9mZnNldEZyb21Cb3JkZXIgPCAwKSB8fCAoZWRnZSAhPT0gMCAmJiBtYXhPZmZzZXRGcm9tQm9yZGVyID4gMCkpIHtcbiAgICAgICAgICAgIC8vIFRoaXJkIHBvaW50IGlzIGluc2lkZSBuZWlnaGJvciB0aWxlLCBub3QgaW4gdGhlIHxjb29yZHwgdGlsZS5cbiAgICAgICAgICAgIHRlcnJhaW4uZ2V0Rm9yVGlsZVBvaW50cyhuZWlnaGJvclRpbGVJRCwgW3RoaXJkUG9pbnRdLCB0cnVlLCBuZWlnaGJvckRFTVRpbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2godGhpcmRQb2ludCk7XG4gICAgICAgIH1cbiAgICAgICAgdGVycmFpbi5nZXRGb3JUaWxlUG9pbnRzKGNvb3JkLCBwb2ludHMsIHRydWUsIGRlbVRpbGUpO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgocG9pbnRzWzBdWzJdLCBwb2ludHNbMV1bMl0sIHRoaXJkUG9pbnRbMl0pIC8gdGVycmFpbi5leGFnZ2VyYXRpb24oKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvY2VzcyBhbGwgZm91ciBib3JkZXJzOiBnZXQgbmVpZ2hib3JpbmcgdGlsZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIC8vIGJvcmRlcnMgLyBib3JkZXJEb25lV2l0aE5laWdoYm9yWjogMCAtIGxlZnQsIDEsIHJpZ2h0LCAyIC0gdG9wLCAzIC0gYm90dG9tXG4gICAgICAgIC8vIGJ1Y2tldCdzIGJvcmRlciBpIGlzIG5laWdoYm9yaW5nIGJ1Y2tldCdzIGJvcmRlciBqOlxuICAgICAgICBjb25zdCBqID0gKGkgPCAyID8gMSA6IDUpIC0gaTtcbiAgICAgICAgLy8gU29ydCBieSBib3JkZXIgaW50ZXJzZWN0aW9uIGFyZWEgbWluaW11bXMsIGFzY2VuZGluZy5cbiAgICAgICAgY29uc3QgYSA9IGJ1Y2tldC5ib3JkZXJzW2ldO1xuICAgICAgICBpZiAoYS5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBuaWQgPSBuZWlnaGJvclRpbGVJRCA9IG5laWdoYm9yQ29vcmRbaV0oY29vcmQpO1xuICAgICAgICBjb25zdCBuQnVja2V0ID0gZ2V0TG9hZGVkQnVja2V0KG5pZCk7XG4gICAgICAgIGlmICghbkJ1Y2tldCB8fCAhKG5CdWNrZXQgaW5zdGFuY2VvZiBGaWxsRXh0cnVzaW9uQnVja2V0KSB8fCAhbkJ1Y2tldC5lbmFibGVUZXJyYWluKSBjb250aW51ZTtcbiAgICAgICAgaWYgKGJ1Y2tldC5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltpXSA9PT0gbkJ1Y2tldC5jYW5vbmljYWwueiAmJlxuICAgICAgICAgICAgbkJ1Y2tldC5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltqXSA9PT0gYnVja2V0LmNhbm9uaWNhbC56KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5laWdoYm9yREVNVGlsZSA9IHRlcnJhaW4uZmluZERFTVRpbGVGb3IobmlkKTtcbiAgICAgICAgaWYgKCFuZWlnaGJvckRFTVRpbGUgfHwgIW5laWdoYm9yREVNVGlsZS5kZW0pIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWRlbVRpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbSA9IHRlcnJhaW4uZmluZERFTVRpbGVGb3IoY29vcmQpO1xuICAgICAgICAgICAgaWYgKCEoZGVtICYmIGRlbS5kZW0pKSByZXR1cm47IC8vIGRlZmVyIHVwZGF0ZSB1bnRpbCBhbiBlbGV2YXRpb24gdGlsZSBpcyBhdmFpbGFibGUuXG4gICAgICAgICAgICBkZW1UaWxlID0gZGVtO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGIgPSBuQnVja2V0LmJvcmRlcnNbal07XG4gICAgICAgIGxldCBpYiA9IDA7XG5cbiAgICAgICAgY29uc3QgdXBkYXRlTmVpZ2hib3IgPSBuQnVja2V0LmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW2pdICE9PSBidWNrZXQuY2Fub25pY2FsLno7XG4gICAgICAgIC8vIElmIG5laWdoYm9ycyBhcmUgb2YgZGlmZmVyZW50IGNhbm9uaWNhbCB6LCB3ZSBjYW5ub3Qgam9pbiBwYXJ0cyBidXQgc2hvd1xuICAgICAgICAvLyBhbGwgd2l0aG91dCBmbGF0IHJvb2ZzLlxuICAgICAgICBpZiAoYnVja2V0LmNhbm9uaWNhbC56ICE9PSBuQnVja2V0LmNhbm9uaWNhbC56KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIGEpIHtcbiAgICAgICAgICAgICAgICBidWNrZXQuZW5jb2RlQ2VudHJvaWQodW5kZWZpbmVkLCBidWNrZXQuZmVhdHVyZXNPbkJvcmRlcltpbmRleF0sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1cGRhdGVOZWlnaGJvcikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgYikge1xuICAgICAgICAgICAgICAgICAgICBuQnVja2V0LmVuY29kZUNlbnRyb2lkKHVuZGVmaW5lZCwgbkJ1Y2tldC5mZWF0dXJlc09uQm9yZGVyW2luZGV4XSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuQnVja2V0LmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW2pdID0gYnVja2V0LmNhbm9uaWNhbC56O1xuICAgICAgICAgICAgICAgIG5CdWNrZXQubmVlZHNDZW50cm9pZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWNrZXQuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbaV0gPSBuQnVja2V0LmNhbm9uaWNhbC56O1xuICAgICAgICAgICAgYnVja2V0Lm5lZWRzQ2VudHJvaWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpYSA9IDA7IGlhIDwgYS5sZW5ndGg7IGlhKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRhID0gYnVja2V0LmZlYXR1cmVzT25Cb3JkZXJbYVtpYV1dO1xuICAgICAgICAgICAgY29uc3QgcGFydEFCb3JkZXJSYW5nZSA9IHBhcnRhLmJvcmRlcnNbaV07XG4gICAgICAgICAgICAvLyBGaW5kIGFsbCBuQnVja2V0IHBhcnRzIHRoYXQgc2hhcmUgdGhlIGJvcmRlciBvdmVybGFwLlxuICAgICAgICAgICAgbGV0IHBhcnRiO1xuICAgICAgICAgICAgd2hpbGUgKGliIDwgYi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBQYXNzIGFsbCB0aGF0IGFyZSBiZWZvcmUgdGhlIG92ZXJsYXAuXG4gICAgICAgICAgICAgICAgcGFydGIgPSBuQnVja2V0LmZlYXR1cmVzT25Cb3JkZXJbYltpYl1dO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRCQm9yZGVyUmFuZ2UgPSBwYXJ0Yi5ib3JkZXJzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0QkJvcmRlclJhbmdlWzFdID4gcGFydEFCb3JkZXJSYW5nZVswXSArIGVycm9yKSBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlTmVpZ2hib3IpIG5CdWNrZXQuZW5jb2RlQ2VudHJvaWQodW5kZWZpbmVkLCBwYXJ0YiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGliKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFydGIgJiYgaWIgPCBiLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVJYiA9IGliO1xuICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29sbGVjdCBhbGwgcGFydHMgb3ZlcmxhcHBpbmcgcGFydGEgb24gdGhlIGVkZ2UsIHRvIG1ha2Ugc3VyZSBpdCBpcyBvbmx5IG9uZS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydEJCb3JkZXJSYW5nZSA9IHBhcnRiLmJvcmRlcnNbal07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0QkJvcmRlclJhbmdlWzBdID4gcGFydEFCb3JkZXJSYW5nZVsxXSAtIGVycm9yKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCsraWIgPT09IGIubGVuZ3RoKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgcGFydGIgPSBuQnVja2V0LmZlYXR1cmVzT25Cb3JkZXJbYltpYl1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJ0YiA9IG5CdWNrZXQuZmVhdHVyZXNPbkJvcmRlcltiW3NhdmVJYl1dO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgYW55IG9mIGEgb3IgYiBjcm9zc2VzIG1vcmUgdGhhbiBvbmUgdGlsZSBlZGdlLCBkb24ndCBzdXBwb3J0IGZsYXQgcm9vZi5cbiAgICAgICAgICAgICAgICBpZiAocGFydGEuaW50ZXJzZWN0c0NvdW50KCkgPiAxIHx8IHBhcnRiLmludGVyc2VjdHNDb3VudCgpID4gMSB8fCBjb3VudCAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGliID0gc2F2ZUliOyAvLyByZXdpbmQgdW5wcm9jZXNzZWQgaWIgc28gdGhhdCBpdCBpcyBwcm9jZXNzZWQgYWdhaW4gZm9yIHRoZSBuZXh0IGlhLlxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYnVja2V0LmVuY29kZUNlbnRyb2lkKHVuZGVmaW5lZCwgcGFydGEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZU5laWdoYm9yKSBuQnVja2V0LmVuY29kZUNlbnRyb2lkKHVuZGVmaW5lZCwgcGFydGIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTm93IHdlIGhhdmUgMS0xIG1hdGNoaW5nIG9mIHBhcnRzIGluIGJvdGggdGlsZXMgdGhhdCBzaGFyZSB0aGUgZWRnZS4gQ2FsY3VsYXRlIGZsYXQgYmFzZSBlbGV2YXRpb25cbiAgICAgICAgICAgICAgICAvLyBhcyBhdmVyYWdlIG9mIHRocmVlIHBvaW50czogMiBhcmUgZWRnZSBwb2ludHMgKGNvbWJpbmVkIHNwYW4gcHJvamVjdGVkIHRvIGJvcmRlcikgYW5kIG9uZSBpcyBwb2ludCBvZlxuICAgICAgICAgICAgICAgIC8vIHNwYW4gdGhhdCBoYXMgbWF4aW11bSBvZmZzZXQgdG8gYm9yZGVyLlxuICAgICAgICAgICAgICAgIGNvbnN0IHNwYW4gPSBwcm9qZWN0Q29tYmluZWRTcGFuVG9Cb3JkZXJbaV0ocGFydGEsIHBhcnRiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlZGdlID0gKGkgJSAyKSA/IEVYVEVOVCAtIDEgOiAwO1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkLnggPSBmbGF0QmFzZShzcGFuWzBdLCBNYXRoLm1pbihFWFRFTlQgLSAxLCBzcGFuWzFdKSwgZWRnZSwgaSA8IDIsIHNwYW5bMl0pO1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkLnkgPSAwO1xuICAgICAgICAgICAgICAgIGFzc2VydChwYXJ0YS52ZXJ0ZXhBcnJheU9mZnNldCAhPT0gdW5kZWZpbmVkICYmIHBhcnRhLnZlcnRleEFycmF5T2Zmc2V0IDwgYnVja2V0LmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgYnVja2V0LmVuY29kZUNlbnRyb2lkKGNlbnRyb2lkLCBwYXJ0YSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgYXNzZXJ0KHBhcnRiLnZlcnRleEFycmF5T2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgcGFydGIudmVydGV4QXJyYXlPZmZzZXQgPCBuQnVja2V0LmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZU5laWdoYm9yKSBuQnVja2V0LmVuY29kZUNlbnRyb2lkKGNlbnRyb2lkLCBwYXJ0YiwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQocGFydGEuaW50ZXJzZWN0c0NvdW50KCkgPiAxIHx8IChwYXJ0YiAmJiBwYXJ0Yi5pbnRlcnNlY3RzQ291bnQoKSA+IDEpKTsgLy8gZXhwZWN0ZWQgYXQgdGhlIGVuZCBvZiBib3JkZXIsIHdoZW4gYnVpbGRpbmdzIGNvdmVyIGNvcm5lciAoc2hvdyBidWlsZGluZyB3L28gZmxhdCByb29mKS5cbiAgICAgICAgICAgICAgICBidWNrZXQuZW5jb2RlQ2VudHJvaWQodW5kZWZpbmVkLCBwYXJ0YSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnVja2V0LmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW2ldID0gbkJ1Y2tldC5jYW5vbmljYWwuejtcbiAgICAgICAgYnVja2V0Lm5lZWRzQ2VudHJvaWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICBpZiAodXBkYXRlTmVpZ2hib3IpIHtcbiAgICAgICAgICAgIG5CdWNrZXQuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbal0gPSBidWNrZXQuY2Fub25pY2FsLno7XG4gICAgICAgICAgICBuQnVja2V0Lm5lZWRzQ2VudHJvaWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGJ1Y2tldC5uZWVkc0NlbnRyb2lkVXBkYXRlIHx8ICghYnVja2V0LmNlbnRyb2lkVmVydGV4QnVmZmVyICYmIGJ1Y2tldC5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCAhPT0gMCkpIHtcbiAgICAgICAgYnVja2V0LnVwbG9hZENlbnRyb2lkKGNvbnRleHQpO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZS5qcyc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUuanMnO1xuaW1wb3J0IHtkZWJ1Z1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4vcHJvZ3JhbS9kZWJ1Z19wcm9ncmFtLmpzJztcbmltcG9ydCBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3IuanMnO1xuaW1wb3J0IENvbG9yTW9kZSBmcm9tICcuLi9nbC9jb2xvcl9tb2RlLmpzJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQge2dsb2JlRGVub3JtYWxpemVFQ0VGLCB0cmFuc2l0aW9uVGlsZUFBQkJpbkVDRUYsIGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb259IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL2dsb2JlX3V0aWwuanMnO1xuaW1wb3J0IHttYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5cbmNvbnN0IHRvcENvbG9yID0gbmV3IENvbG9yKDEsIDAsIDAsIDEpO1xuY29uc3QgYnRtQ29sb3IgPSBuZXcgQ29sb3IoMCwgMSwgMCwgMSk7XG5jb25zdCBsZWZ0Q29sb3IgPSBuZXcgQ29sb3IoMCwgMCwgMSwgMSk7XG5jb25zdCByaWdodENvbG9yID0gbmV3IENvbG9yKDEsIDAsIDEsIDEpO1xuY29uc3QgY2VudGVyQ29sb3IgPSBuZXcgQ29sb3IoMCwgMSwgMSwgMSk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRyYXdEZWJ1ZyhwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBkcmF3RGVidWdUaWxlKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBjb29yZHNbaV0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdEZWJ1Z1BhZGRpbmcocGFpbnRlcjogUGFpbnRlcikge1xuICAgIGNvbnN0IHBhZGRpbmcgPSBwYWludGVyLnRyYW5zZm9ybS5wYWRkaW5nO1xuICAgIGNvbnN0IGxpbmVXaWR0aCA9IDM7XG4gICAgLy8gVG9wXG4gICAgZHJhd0hvcml6b250YWxMaW5lKHBhaW50ZXIsIHBhaW50ZXIudHJhbnNmb3JtLmhlaWdodCAtIChwYWRkaW5nLnRvcCB8fCAwKSwgbGluZVdpZHRoLCB0b3BDb2xvcik7XG4gICAgLy8gQm90dG9tXG4gICAgZHJhd0hvcml6b250YWxMaW5lKHBhaW50ZXIsIHBhZGRpbmcuYm90dG9tIHx8IDAsIGxpbmVXaWR0aCwgYnRtQ29sb3IpO1xuICAgIC8vIExlZnRcbiAgICBkcmF3VmVydGljYWxMaW5lKHBhaW50ZXIsIHBhZGRpbmcubGVmdCB8fCAwLCBsaW5lV2lkdGgsIGxlZnRDb2xvcik7XG4gICAgLy8gUmlnaHRcbiAgICBkcmF3VmVydGljYWxMaW5lKHBhaW50ZXIsIHBhaW50ZXIudHJhbnNmb3JtLndpZHRoIC0gKHBhZGRpbmcucmlnaHQgfHwgMCksIGxpbmVXaWR0aCwgcmlnaHRDb2xvcik7XG4gICAgLy8gQ2VudGVyXG4gICAgY29uc3QgY2VudGVyID0gcGFpbnRlci50cmFuc2Zvcm0uY2VudGVyUG9pbnQ7XG4gICAgZHJhd0Nyb3NzaGFpcihwYWludGVyLCBjZW50ZXIueCwgcGFpbnRlci50cmFuc2Zvcm0uaGVpZ2h0IC0gY2VudGVyLnksIGNlbnRlckNvbG9yKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdEZWJ1Z1F1ZXJ5R2VvbWV0cnkocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZHJhd1RpbGVRdWVyeUdlb21ldHJ5KHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBjb29yZHNbaV0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0RlYnVnVGlsZShwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGNvb3JkOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgIGNvbnN0IGlzR2xvYmVQcm9qZWN0aW9uID0gdHIucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuICAgIGNvbnN0IGRlZmluZXNWYWx1ZXMgPSBpc0dsb2JlUHJvamVjdGlvbiA/IFsnUFJPSkVDVElPTl9HTE9CRV9WSUVXJ10gOiBudWxsO1xuXG4gICAgbGV0IHBvc01hdHJpeCA9IGNvb3JkLnByb2pNYXRyaXg7XG5cbiAgICBpZiAoaXNHbG9iZVByb2plY3Rpb24gJiYgZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0ci56b29tKSA+IDApIHtcbiAgICAgICAgLy8gV2UgdXNlIGEgY3VzdG9tIHRpbGUgbWF0cml4IGhlcmUgaW4gb3JkZXIgdG8gaGFuZGxlIHRoZSBnbG9iZS10by1tZXJjYXRvciB0cmFuc2l0aW9uXG4gICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgaXMgZXF1aXZhbGVudCB0byB0cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4LFxuICAgICAgICAvLyBleGNlcHQgd2UgdXNlIHRyYW5zaXRpb25UaWxlQUFCQmluRUNFRiBpbnN0ZWFkIG9mIGdsb2JlVGlsZUJvdW5kcyB0byBhY2NvdW50IGZvciB0aGUgdHJhbnNpdGlvbi5cbiAgICAgICAgY29uc3QgYm91bmRzID0gdHJhbnNpdGlvblRpbGVBQUJCaW5FQ0VGKGNvb3JkLmNhbm9uaWNhbCwgdHIpO1xuICAgICAgICBjb25zdCBkZWNvZGUgPSBnbG9iZURlbm9ybWFsaXplRUNFRihib3VuZHMpO1xuICAgICAgICBwb3NNYXRyaXggPSBtYXQ0Lm11bHRpcGx5KG5ldyBGbG9hdDMyQXJyYXkoMTYpLCB0ci5nbG9iZU1hdHJpeCwgZGVjb2RlKTtcbiAgICAgICAgbWF0NC5tdWx0aXBseShwb3NNYXRyaXgsIHRyLnByb2pNYXRyaXgsIHBvc01hdHJpeCk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnZGVidWcnLCBudWxsLCBkZWZpbmVzVmFsdWVzKTtcbiAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZUJ5SUQoY29vcmQua2V5KTtcbiAgICBpZiAocGFpbnRlci50ZXJyYWluKSBwYWludGVyLnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHRpbGUsIHByb2dyYW0pO1xuXG4gICAgY29uc3QgZGVwdGhNb2RlID0gRGVwdGhNb2RlLmRpc2FibGVkO1xuICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gU3RlbmNpbE1vZGUuZGlzYWJsZWQ7XG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG4gICAgY29uc3QgaWQgPSAnJGRlYnVnJztcblxuICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgIC8vIEJpbmQgdGhlIGVtcHR5IHRleHR1cmUgZm9yIGRyYXdpbmcgb3V0bGluZXNcbiAgICBwYWludGVyLmVtcHR5VGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cbiAgICBpZiAoaXNHbG9iZVByb2plY3Rpb24pIHtcbiAgICAgICAgdGlsZS5fbWFrZUdsb2JlVGlsZURlYnVnQnVmZmVycyhwYWludGVyLmNvbnRleHQsIHRyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aWxlLl9tYWtlRGVidWdUaWxlQm91bmRzQnVmZmVycyhwYWludGVyLmNvbnRleHQsIHRyLnByb2plY3Rpb24pO1xuICAgIH1cblxuICAgIGNvbnN0IGRlYnVnQnVmZmVyID0gdGlsZS5fdGlsZURlYnVnQnVmZmVyIHx8IHBhaW50ZXIuZGVidWdCdWZmZXI7XG4gICAgY29uc3QgZGVidWdJbmRleEJ1ZmZlciA9IHRpbGUuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyIHx8IHBhaW50ZXIuZGVidWdJbmRleEJ1ZmZlcjtcbiAgICBjb25zdCBkZWJ1Z1NlZ21lbnRzID0gdGlsZS5fdGlsZURlYnVnU2VnbWVudHMgfHwgcGFpbnRlci5kZWJ1Z1NlZ21lbnRzO1xuXG4gICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLkxJTkVfU1RSSVAsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICBkZWJ1Z1VuaWZvcm1WYWx1ZXMocG9zTWF0cml4LCBDb2xvci5yZWQpLCBpZCxcbiAgICAgICAgZGVidWdCdWZmZXIsIGRlYnVnSW5kZXhCdWZmZXIsIGRlYnVnU2VnbWVudHMsXG4gICAgICAgIG51bGwsIG51bGwsIG51bGwsIFt0aWxlLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcl0pO1xuXG4gICAgY29uc3QgdGlsZVJhd0RhdGEgPSB0aWxlLmxhdGVzdFJhd1RpbGVEYXRhO1xuICAgIGNvbnN0IHRpbGVCeXRlTGVuZ3RoID0gKHRpbGVSYXdEYXRhICYmIHRpbGVSYXdEYXRhLmJ5dGVMZW5ndGgpIHx8IDA7XG4gICAgY29uc3QgdGlsZVNpemVLYiA9IE1hdGguZmxvb3IodGlsZUJ5dGVMZW5ndGggLyAxMDI0KTtcbiAgICBjb25zdCB0aWxlU2l6ZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpLnRpbGVTaXplO1xuICAgIGNvbnN0IHNjYWxlUmF0aW8gPSAoNTEyIC8gTWF0aC5taW4odGlsZVNpemUsIDUxMikgKiAoY29vcmQub3ZlcnNjYWxlZFogLyB0ci56b29tKSkgKiAwLjU7XG4gICAgbGV0IHRpbGVMYWJlbCA9IGNvb3JkLmNhbm9uaWNhbC50b1N0cmluZygpO1xuICAgIGlmIChjb29yZC5vdmVyc2NhbGVkWiAhPT0gY29vcmQuY2Fub25pY2FsLnopIHtcbiAgICAgICAgdGlsZUxhYmVsICs9IGAgPT4gJHtjb29yZC5vdmVyc2NhbGVkWn1gO1xuICAgIH1cbiAgICB0aWxlTGFiZWwgKz0gYCAke3RpbGVTaXplS2J9a2JgO1xuICAgIGRyYXdUZXh0VG9PdmVybGF5KHBhaW50ZXIsIHRpbGVMYWJlbCk7XG5cbiAgICBjb25zdCBkZWJ1Z1RleHRCdWZmZXIgPSB0aWxlLl90aWxlRGVidWdUZXh0QnVmZmVyIHx8IHBhaW50ZXIuZGVidWdCdWZmZXI7XG4gICAgY29uc3QgZGVidWdUZXh0SW5kZXhCdWZmZXIgPSB0aWxlLl90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXIgfHwgcGFpbnRlci5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcjtcbiAgICBjb25zdCBkZWJ1Z1RleHRTZWdtZW50cyA9IHRpbGUuX3RpbGVEZWJ1Z1RleHRTZWdtZW50cyB8fCBwYWludGVyLmRlYnVnU2VnbWVudHM7XG5cbiAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBDb2xvck1vZGUuYWxwaGFCbGVuZGVkLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgIGRlYnVnVW5pZm9ybVZhbHVlcyhwb3NNYXRyaXgsIENvbG9yLnRyYW5zcGFyZW50LCBzY2FsZVJhdGlvKSwgaWQsXG4gICAgICAgIGRlYnVnVGV4dEJ1ZmZlciwgZGVidWdUZXh0SW5kZXhCdWZmZXIsIGRlYnVnVGV4dFNlZ21lbnRzLFxuICAgICAgICBudWxsLCBudWxsLCBudWxsLCBbdGlsZS5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyXSk7XG59XG5cbmZ1bmN0aW9uIGRyYXdDcm9zc2hhaXIocGFpbnRlcjogUGFpbnRlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGNvbG9yOiBDb2xvcikge1xuICAgIGNvbnN0IHNpemUgPSAyMDtcbiAgICBjb25zdCBsaW5lV2lkdGggPSAyO1xuICAgIC8vVmVydGljYWwgbGluZVxuICAgIGRyYXdEZWJ1Z1NTUmVjdChwYWludGVyLCB4IC0gbGluZVdpZHRoIC8gMiwgeSAtIHNpemUgLyAyLCBsaW5lV2lkdGgsIHNpemUsIGNvbG9yKTtcbiAgICAvL0hvcml6b250YWwgbGluZVxuICAgIGRyYXdEZWJ1Z1NTUmVjdChwYWludGVyLCB4IC0gc2l6ZSAvIDIsIHkgLSBsaW5lV2lkdGggLyAyLCBzaXplLCBsaW5lV2lkdGgsIGNvbG9yKTtcbn1cblxuZnVuY3Rpb24gZHJhd0hvcml6b250YWxMaW5lKHBhaW50ZXI6IFBhaW50ZXIsIHk6IG51bWJlciwgbGluZVdpZHRoOiBudW1iZXIsIGNvbG9yOiBDb2xvcikge1xuICAgIGRyYXdEZWJ1Z1NTUmVjdChwYWludGVyLCAwLCB5ICArIGxpbmVXaWR0aCAvIDIsIHBhaW50ZXIudHJhbnNmb3JtLndpZHRoLCAgbGluZVdpZHRoLCBjb2xvcik7XG59XG5cbmZ1bmN0aW9uIGRyYXdWZXJ0aWNhbExpbmUocGFpbnRlcjogUGFpbnRlciwgeDogbnVtYmVyLCBsaW5lV2lkdGg6IG51bWJlciwgY29sb3I6IENvbG9yKSB7XG4gICAgZHJhd0RlYnVnU1NSZWN0KHBhaW50ZXIsIHggLSBsaW5lV2lkdGggLyAyLCAwLCBsaW5lV2lkdGgsICBwYWludGVyLnRyYW5zZm9ybS5oZWlnaHQsIGNvbG9yKTtcbn1cblxuZnVuY3Rpb24gZHJhd0RlYnVnU1NSZWN0KHBhaW50ZXI6IFBhaW50ZXIsIHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY29sb3I6IENvbG9yKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICBnbC5zY2lzc29yKHggKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sIHkgKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sIHdpZHRoICogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLCBoZWlnaHQgKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8pO1xuICAgIGNvbnRleHQuY2xlYXIoe2NvbG9yfSk7XG4gICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xufVxuXG5mdW5jdGlvbiBkcmF3VGlsZVF1ZXJ5R2VvbWV0cnkocGFpbnRlciwgc291cmNlQ2FjaGUsIGNvb3JkOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBjb25zdCBwb3NNYXRyaXggPSBjb29yZC5wcm9qTWF0cml4O1xuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2RlYnVnJyk7XG4gICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGVCeUlEKGNvb3JkLmtleSk7XG4gICAgaWYgKHBhaW50ZXIudGVycmFpbikgcGFpbnRlci50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyh0aWxlLCBwcm9ncmFtKTtcblxuICAgIGNvbnN0IGRlcHRoTW9kZSA9IERlcHRoTW9kZS5kaXNhYmxlZDtcbiAgICBjb25zdCBzdGVuY2lsTW9kZSA9IFN0ZW5jaWxNb2RlLmRpc2FibGVkO1xuICAgIGNvbnN0IGNvbG9yTW9kZSA9IHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO1xuICAgIGNvbnN0IGlkID0gJyRkZWJ1Zyc7XG5cbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAvLyBCaW5kIHRoZSBlbXB0eSB0ZXh0dXJlIGZvciBkcmF3aW5nIG91dGxpbmVzXG4gICAgcGFpbnRlci5lbXB0eVRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgY29uc3QgcXVlcnlWaXogPSB0aWxlLnF1ZXJ5R2VvbWV0cnlEZWJ1Z1ZpejtcbiAgICBjb25zdCBib3VuZHNWaXogPSB0aWxlLnF1ZXJ5Qm91bmRzRGVidWdWaXo7XG5cbiAgICBpZiAocXVlcnlWaXogJiYgcXVlcnlWaXoudmVydGljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBxdWVyeVZpei5sYXp5VXBsb2FkKGNvbnRleHQpO1xuICAgICAgICBjb25zdCB2ZXJ0ZXhCdWZmZXIgPSBxdWVyeVZpei52ZXJ0ZXhCdWZmZXI7XG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gcXVlcnlWaXouaW5kZXhCdWZmZXI7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gcXVlcnlWaXouc2VnbWVudHM7XG4gICAgICAgIGlmICh2ZXJ0ZXhCdWZmZXIgIT0gbnVsbCAmJiBpbmRleEJ1ZmZlciAhPSBudWxsICYmIHNlZ21lbnRzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5MSU5FX1NUUklQLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUsIEN1bGxGYWNlTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICBkZWJ1Z1VuaWZvcm1WYWx1ZXMocG9zTWF0cml4LCBxdWVyeVZpei5jb2xvciksIGlkLFxuICAgICAgICAgICAgICAgIHZlcnRleEJ1ZmZlciwgaW5kZXhCdWZmZXIsIHNlZ21lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChib3VuZHNWaXogJiYgYm91bmRzVml6LnZlcnRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYm91bmRzVml6LmxhenlVcGxvYWQoY29udGV4dCk7XG4gICAgICAgIGNvbnN0IHZlcnRleEJ1ZmZlciA9IGJvdW5kc1Zpei52ZXJ0ZXhCdWZmZXI7XG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gYm91bmRzVml6LmluZGV4QnVmZmVyO1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IGJvdW5kc1Zpei5zZWdtZW50cztcbiAgICAgICAgaWYgKHZlcnRleEJ1ZmZlciAhPSBudWxsICYmIGluZGV4QnVmZmVyICE9IG51bGwgJiYgc2VnbWVudHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLkxJTkVfU1RSSVAsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIGRlYnVnVW5pZm9ybVZhbHVlcyhwb3NNYXRyaXgsIGJvdW5kc1Zpei5jb2xvciksIGlkLFxuICAgICAgICAgICAgICAgIHZlcnRleEJ1ZmZlciwgaW5kZXhCdWZmZXIsIHNlZ21lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd1RleHRUb092ZXJsYXkocGFpbnRlcjogUGFpbnRlciwgdGV4dDogc3RyaW5nKSB7XG4gICAgcGFpbnRlci5pbml0RGVidWdPdmVybGF5Q2FudmFzKCk7XG4gICAgY29uc3QgY2FudmFzID0gcGFpbnRlci5kZWJ1Z092ZXJsYXlDYW52YXM7XG4gICAgY29uc3QgZ2wgPSBwYWludGVyLmNvbnRleHQuZ2w7XG4gICAgY29uc3QgY3R4MmQgPSBwYWludGVyLmRlYnVnT3ZlcmxheUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eDJkLmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gICAgY3R4MmQuc2hhZG93Q29sb3IgPSAnd2hpdGUnO1xuICAgIGN0eDJkLnNoYWRvd0JsdXIgPSAyO1xuICAgIGN0eDJkLmxpbmVXaWR0aCA9IDEuNTtcbiAgICBjdHgyZC5zdHJva2VTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY3R4MmQudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgY3R4MmQuZm9udCA9IGBib2xkICR7MzZ9cHggT3BlbiBTYW5zLCBzYW5zLXNlcmlmYDtcbiAgICBjdHgyZC5maWxsVGV4dCh0ZXh0LCA1LCA1KTtcbiAgICBjdHgyZC5zdHJva2VUZXh0KHRleHQsIDUsIDUpO1xuXG4gICAgcGFpbnRlci5kZWJ1Z092ZXJsYXlUZXh0dXJlLnVwZGF0ZShjYW52YXMpO1xuICAgIHBhaW50ZXIuZGVidWdPdmVybGF5VGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG59XG4iLCIvLyBAZmxvd1xuaW1wb3J0IHtjcmVhdGVMYXlvdXR9IGZyb20gJy4uL3V0aWwvc3RydWN0X2FycmF5LmpzJztcblxuaW1wb3J0IHR5cGUge1N0cnVjdEFycmF5TGF5b3V0fSBmcm9tICcuLi91dGlsL3N0cnVjdF9hcnJheS5qcyc7XG5cbmV4cG9ydCBjb25zdCBza3lib3hBdHRyaWJ1dGVzOiBTdHJ1Y3RBcnJheUxheW91dCA9IGNyZWF0ZUxheW91dChbXG4gICAge25hbWU6ICdhX3Bvc18zZicsICBjb21wb25lbnRzOiAzLCB0eXBlOiAnRmxvYXQzMid9XG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgc2t5Ym94QXR0cmlidXRlcztcbmV4cG9ydCBjb25zdCB7bWVtYmVycywgc2l6ZSwgYWxpZ25tZW50fSA9IHNreWJveEF0dHJpYnV0ZXM7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge21lbWJlcnMgYXMgc2t5Ym94QXR0cmlidXRlc30gZnJvbSAnLi9za3lib3hfYXR0cmlidXRlcy5qcyc7XG5pbXBvcnQge1NreWJveFZlcnRleEFycmF5LCBUcmlhbmdsZUluZGV4QXJyYXl9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMuanMnO1xuaW1wb3J0IFNlZ21lbnRWZWN0b3IgZnJvbSAnLi4vZGF0YS9zZWdtZW50LmpzJztcbmltcG9ydCB0eXBlIEluZGV4QnVmZmVyIGZyb20gJy4uL2dsL2luZGV4X2J1ZmZlci5qcyc7XG5pbXBvcnQgdHlwZSBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi4vZ2wvdmVydGV4X2J1ZmZlci5qcyc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQuanMnO1xuXG5mdW5jdGlvbiBhZGRWZXJ0ZXgodmVydGV4QXJyYXksIHgsIHksIHopIHtcbiAgICB2ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhcbiAgICAgICAgLy8gYV9wb3NcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgelxuICAgICk7XG59XG5cbmNsYXNzIFNreWJveEdlb21ldHJ5IHtcbiAgICB2ZXJ0ZXhBcnJheTogU2t5Ym94VmVydGV4QXJyYXk7XG4gICAgdmVydGV4QnVmZmVyOiBWZXJ0ZXhCdWZmZXI7XG4gICAgaW5kaWNlczogVHJpYW5nbGVJbmRleEFycmF5O1xuICAgIGluZGV4QnVmZmVyOiBJbmRleEJ1ZmZlcjtcbiAgICBzZWdtZW50OiBTZWdtZW50VmVjdG9yO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLnZlcnRleEFycmF5ID0gbmV3IFNreWJveFZlcnRleEFycmF5KCk7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBUcmlhbmdsZUluZGV4QXJyYXkoKTtcblxuICAgICAgICBhZGRWZXJ0ZXgodGhpcy52ZXJ0ZXhBcnJheSwgLTEuMCwgLTEuMCwgIDEuMCk7XG4gICAgICAgIGFkZFZlcnRleCh0aGlzLnZlcnRleEFycmF5LCAgMS4wLCAtMS4wLCAgMS4wKTtcbiAgICAgICAgYWRkVmVydGV4KHRoaXMudmVydGV4QXJyYXksIC0xLjAsICAxLjAsICAxLjApO1xuICAgICAgICBhZGRWZXJ0ZXgodGhpcy52ZXJ0ZXhBcnJheSwgIDEuMCwgIDEuMCwgIDEuMCk7XG4gICAgICAgIGFkZFZlcnRleCh0aGlzLnZlcnRleEFycmF5LCAtMS4wLCAtMS4wLCAtMS4wKTtcbiAgICAgICAgYWRkVmVydGV4KHRoaXMudmVydGV4QXJyYXksICAxLjAsIC0xLjAsIC0xLjApO1xuICAgICAgICBhZGRWZXJ0ZXgodGhpcy52ZXJ0ZXhBcnJheSwgLTEuMCwgIDEuMCwgLTEuMCk7XG4gICAgICAgIGFkZFZlcnRleCh0aGlzLnZlcnRleEFycmF5LCAgMS4wLCAgMS4wLCAtMS4wKTtcblxuICAgICAgICAvLyAreFxuICAgICAgICB0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNSwgMSwgMyk7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygzLCA3LCA1KTtcbiAgICAgICAgLy8gLXhcbiAgICAgICAgdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDYsIDIsIDApO1xuICAgICAgICB0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMCwgNCwgNik7XG4gICAgICAgIC8vICt5XG4gICAgICAgIHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygyLCA2LCA3KTtcbiAgICAgICAgdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDcsIDMsIDIpO1xuICAgICAgICAvLyAteVxuICAgICAgICB0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNSwgNCwgMCk7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygwLCAxLCA1KTtcbiAgICAgICAgLy8gK3pcbiAgICAgICAgdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDAsIDIsIDMpO1xuICAgICAgICB0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMywgMSwgMCk7XG4gICAgICAgIC8vIC16XG4gICAgICAgIHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg3LCA2LCA0KTtcbiAgICAgICAgdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDQsIDUsIDcpO1xuXG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy52ZXJ0ZXhBcnJheSwgc2t5Ym94QXR0cmlidXRlcyk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kaWNlcyk7XG5cbiAgICAgICAgdGhpcy5zZWdtZW50ID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIDM2LCAxMik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTa3lib3hHZW9tZXRyeTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUuanMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlLmpzJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZS5qcyc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlLmpzJztcbmltcG9ydCBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQuanMnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi90ZXh0dXJlLmpzJztcbmltcG9ydCBQcm9ncmFtIGZyb20gJy4vcHJvZ3JhbS5qcyc7XG5pbXBvcnQge3Ntb290aHN0ZXB9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCBTa3lib3hHZW9tZXRyeSBmcm9tICcuL3NreWJveF9nZW9tZXRyeS5qcyc7XG5pbXBvcnQge3NreWJveFVuaWZvcm1WYWx1ZXMsIHNreWJveEdyYWRpZW50VW5pZm9ybVZhbHVlc30gZnJvbSAnLi9wcm9ncmFtL3NreWJveF9wcm9ncmFtLmpzJztcbmltcG9ydCB7c2t5Ym94Q2FwdHVyZVVuaWZvcm1WYWx1ZXN9IGZyb20gJy4vcHJvZ3JhbS9za3lib3hfY2FwdHVyZV9wcm9ncmFtLmpzJztcbmltcG9ydCBTa3lMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9za3lfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXIuanMnO1xuaW1wb3J0IHttYXQzLCBtYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSB7TWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd1NreTtcblxuY29uc3QgVFJBTlNJVElPTl9PUEFDSVRZX1pPT01fU1RBUlQgPSA3O1xuY29uc3QgVFJBTlNJVElPTl9PUEFDSVRZX1pPT01fRU5EID0gODtcblxuZnVuY3Rpb24gZHJhd1NreShwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBTa3lMYXllcikge1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgZ2xvYmVPck1lcmNhdG9yID0gKHRyLnByb2plY3Rpb24ubmFtZSA9PT0gJ21lcmNhdG9yJyB8fCB0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScpO1xuICAgIC8vIEZvciBub24tbWVyY2F0b3IgcHJvamVjdGlvbiwgdXNlIGEgZm9yY2VkIG9wYWNpdHkgdHJhbnNpdGlvbi4gVGhpcyB0cmFuc2l0aW9uIGlzIHNldCB0byBiZVxuICAgIC8vIDEuMCBhZnRlciB0aGUgc2hlZXIgYWRqdXN0bWVudCB1cHBlciBib3VuZCB3aGljaCBlbnN1cmVzIHRvIGJlIGluIHRoZSBtZXJjYXRvciBwcm9qZWN0aW9uLlxuICAgIC8vIE5vdGU6IHdlIG9ubHkgcmVuZGVyIHNreSBmb3IgZ2xvYmUgcHJvamVjdGlvbiBkdXJpbmcgdGhlIHRyYW5zaXRpb24gdG8gbWVyY2F0b3IuXG4gICAgY29uc3QgdHJhbnNpdGlvbk9wYWNpdHkgPSBnbG9iZU9yTWVyY2F0b3IgPyAxLjAgOiBzbW9vdGhzdGVwKFRSQU5TSVRJT05fT1BBQ0lUWV9aT09NX1NUQVJULCBUUkFOU0lUSU9OX09QQUNJVFlfWk9PTV9FTkQsIHRyLnpvb20pO1xuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ3NreS1vcGFjaXR5JykgKiB0cmFuc2l0aW9uT3BhY2l0eTtcbiAgICBpZiAob3BhY2l0eSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCB0eXBlID0gbGF5ZXIucGFpbnQuZ2V0KCdza3ktdHlwZScpO1xuICAgIGNvbnN0IGRlcHRoTW9kZSA9IG5ldyBEZXB0aE1vZGUoY29udGV4dC5nbC5MRVFVQUwsIERlcHRoTW9kZS5SZWFkT25seSwgWzAsIDFdKTtcbiAgICBjb25zdCB0ZW1wb3JhbE9mZnNldCA9IChwYWludGVyLmZyYW1lQ291bnRlciAvIDEwMDAuMCkgJSAxO1xuXG4gICAgaWYgKHR5cGUgPT09ICdhdG1vc3BoZXJlJykge1xuICAgICAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAnb2Zmc2NyZWVuJykge1xuICAgICAgICAgICAgaWYgKGxheWVyLm5lZWRzU2t5Ym94Q2FwdHVyZShwYWludGVyKSkge1xuICAgICAgICAgICAgICAgIGNhcHR1cmVTa3lib3gocGFpbnRlciwgbGF5ZXIsIDMyLCAzMik7XG4gICAgICAgICAgICAgICAgbGF5ZXIubWFya1NreWJveFZhbGlkKHBhaW50ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ3NreScpIHtcbiAgICAgICAgICAgIGRyYXdTa3lib3hGcm9tQ2FwdHVyZShwYWludGVyLCBsYXllciwgZGVwdGhNb2RlLCBvcGFjaXR5LCB0ZW1wb3JhbE9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdncmFkaWVudCcpIHtcbiAgICAgICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ3NreScpIHtcbiAgICAgICAgICAgIGRyYXdTa3lib3hHcmFkaWVudChwYWludGVyLCBsYXllciwgZGVwdGhNb2RlLCBvcGFjaXR5LCB0ZW1wb3JhbE9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBhc3NlcnQoZmFsc2UsIGAke3R5cGV9IGlzIHVuc3VwcG9ydGVkIHNreS10eXBlYCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3U2t5Ym94R3JhZGllbnQocGFpbnRlcjogUGFpbnRlciwgbGF5ZXI6IFNreUxheWVyLCBkZXB0aE1vZGU6IERlcHRoTW9kZSwgb3BhY2l0eTogbnVtYmVyLCB0ZW1wb3JhbE9mZnNldDogbnVtYmVyKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnc2t5Ym94R3JhZGllbnQnKTtcblxuICAgIC8vIExhemlseSBpbml0aWFsaXplIGdlb21ldHJ5IGFuZCB0ZXh0dXJlIGlmIHRoZXkgaGF2ZW50IGJlZW4gY3JlYXRlZCB5ZXQuXG4gICAgaWYgKCFsYXllci5za3lib3hHZW9tZXRyeSkge1xuICAgICAgICBsYXllci5za3lib3hHZW9tZXRyeSA9IG5ldyBTa3lib3hHZW9tZXRyeShjb250ZXh0KTtcbiAgICB9XG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgbGV0IGNvbG9yUmFtcFRleHR1cmUgPSBsYXllci5jb2xvclJhbXBUZXh0dXJlO1xuICAgIGlmICghY29sb3JSYW1wVGV4dHVyZSkge1xuICAgICAgICBjb2xvclJhbXBUZXh0dXJlID0gbGF5ZXIuY29sb3JSYW1wVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIGxheWVyLmNvbG9yUmFtcCwgZ2wuUkdCQSk7XG4gICAgfVxuICAgIGNvbG9yUmFtcFRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSBza3lib3hHcmFkaWVudFVuaWZvcm1WYWx1ZXMoXG4gICAgICAgIHRyYW5zZm9ybS5za3lib3hNYXRyaXgsXG4gICAgICAgIGxheWVyLmdldENlbnRlcihwYWludGVyLCBmYWxzZSksXG4gICAgICAgIGxheWVyLnBhaW50LmdldCgnc2t5LWdyYWRpZW50LXJhZGl1cycpLFxuICAgICAgICBvcGFjaXR5LFxuICAgICAgICB0ZW1wb3JhbE9mZnNldFxuICAgICk7XG5cbiAgICBwYWludGVyLnByZXBhcmVEcmF3UHJvZ3JhbShjb250ZXh0LCBwcm9ncmFtKTtcblxuICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSwgU3RlbmNpbE1vZGUuZGlzYWJsZWQsXG4gICAgICAgIHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLCBDdWxsRmFjZU1vZGUuYmFja0NXLFxuICAgICAgICB1bmlmb3JtVmFsdWVzLCAnc2t5Ym94R3JhZGllbnQnLCBsYXllci5za3lib3hHZW9tZXRyeS52ZXJ0ZXhCdWZmZXIsXG4gICAgICAgIGxheWVyLnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLCBsYXllci5za3lib3hHZW9tZXRyeS5zZWdtZW50KTtcbn1cblxuZnVuY3Rpb24gZHJhd1NreWJveEZyb21DYXB0dXJlKHBhaW50ZXI6IFBhaW50ZXIsIGxheWVyOiBTa3lMYXllciwgZGVwdGhNb2RlOiBEZXB0aE1vZGUsIG9wYWNpdHk6IG51bWJlciwgdGVtcG9yYWxPZmZzZXQ6IG51bWJlcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ3NreWJveCcpO1xuXG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG5cbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLCBsYXllci5za3lib3hUZXh0dXJlKTtcblxuICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSBza3lib3hVbmlmb3JtVmFsdWVzKHRyYW5zZm9ybS5za3lib3hNYXRyaXgsIGxheWVyLmdldENlbnRlcihwYWludGVyLCBmYWxzZSksIDAsIG9wYWNpdHksIHRlbXBvcmFsT2Zmc2V0KTtcblxuICAgIHBhaW50ZXIucHJlcGFyZURyYXdQcm9ncmFtKGNvbnRleHQsIHByb2dyYW0pO1xuXG4gICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBTdGVuY2lsTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksIEN1bGxGYWNlTW9kZS5iYWNrQ1csXG4gICAgICAgIHVuaWZvcm1WYWx1ZXMsICdza3lib3gnLCBsYXllci5za3lib3hHZW9tZXRyeS52ZXJ0ZXhCdWZmZXIsXG4gICAgICAgIGxheWVyLnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLCBsYXllci5za3lib3hHZW9tZXRyeS5zZWdtZW50KTtcbn1cblxuZnVuY3Rpb24gZHJhd1NreWJveEZhY2UoY29udGV4dDogQ29udGV4dCwgbGF5ZXI6IFNreUxheWVyLCBwcm9ncmFtOiBQcm9ncmFtPGFueT4sIGZhY2VSb3RhdGU6IE1hdDQsIHN1bkRpcmVjdGlvbjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLCBpOiBudW1iZXIpIHtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBjb25zdCBhdG1vc3BoZXJlQ29sb3IgPSBsYXllci5wYWludC5nZXQoJ3NreS1hdG1vc3BoZXJlLWNvbG9yJyk7XG4gICAgY29uc3QgYXRtb3NwaGVyZUhhbG9Db2xvciA9IGxheWVyLnBhaW50LmdldCgnc2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvcicpO1xuICAgIGNvbnN0IHN1bkludGVuc2l0eSA9IGxheWVyLnBhaW50LmdldCgnc2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eScpO1xuXG4gICAgY29uc3QgdW5pZm9ybVZhbHVlcyA9IHNreWJveENhcHR1cmVVbmlmb3JtVmFsdWVzKFxuICAgICAgICBtYXQzLmZyb21NYXQ0KG1hdDMuY3JlYXRlKCksIGZhY2VSb3RhdGUpLFxuICAgICAgICBzdW5EaXJlY3Rpb24sXG4gICAgICAgIHN1bkludGVuc2l0eSxcbiAgICAgICAgYXRtb3NwaGVyZUNvbG9yLFxuICAgICAgICBhdG1vc3BoZXJlSGFsb0NvbG9yKTtcblxuICAgIGNvbnN0IGdsRmFjZSA9IGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGk7XG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbEZhY2UsIGxheWVyLnNreWJveFRleHR1cmUsIDApO1xuXG4gICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgRGVwdGhNb2RlLmRpc2FibGVkLCBTdGVuY2lsTW9kZS5kaXNhYmxlZCwgQ29sb3JNb2RlLnVuYmxlbmRlZCwgQ3VsbEZhY2VNb2RlLmZyb250Q1csXG4gICAgICAgIHVuaWZvcm1WYWx1ZXMsICdza3lib3hDYXB0dXJlJywgbGF5ZXIuc2t5Ym94R2VvbWV0cnkudmVydGV4QnVmZmVyLFxuICAgICAgICBsYXllci5za3lib3hHZW9tZXRyeS5pbmRleEJ1ZmZlciwgbGF5ZXIuc2t5Ym94R2VvbWV0cnkuc2VnbWVudCk7XG59XG5cbmZ1bmN0aW9uIGNhcHR1cmVTa3lib3gocGFpbnRlcjogUGFpbnRlciwgbGF5ZXI6IFNreUxheWVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGxldCBmYm8gPSBsYXllci5za3lib3hGYm87XG5cbiAgICAvLyBVc2luZyBhYnNlbmNlIG9mIGZibyBhcyBhIHNpZ25hbCBmb3IgbGF6eSBpbml0aWFsaXphdGlvbiBvZiBhbGwgcmVzb3VyY2VzLCBjYWNoZSByZXNvdXJjZXMgaW4gbGF5ZXIgb2JqZWN0XG4gICAgaWYgKCFmYm8pIHtcbiAgICAgICAgZmJvID0gbGF5ZXIuc2t5Ym94RmJvID0gY29udGV4dC5jcmVhdGVGcmFtZWJ1ZmZlcih3aWR0aCwgaGVpZ2h0LCBmYWxzZSk7XG4gICAgICAgIGxheWVyLnNreWJveEdlb21ldHJ5ID0gbmV3IFNreWJveEdlb21ldHJ5KGNvbnRleHQpO1xuICAgICAgICBsYXllci5za3lib3hUZXh0dXJlID0gY29udGV4dC5nbC5jcmVhdGVUZXh0dXJlKCk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCwgbGF5ZXIuc2t5Ym94VGV4dHVyZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBnbEZhY2UgPSBnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpO1xuXG4gICAgICAgICAgICAvLyBUaGUgZm9ybWF0IGhlcmUgY291bGQgYmUgUkdCLCBidXQgcmVuZGVyIHRlc3RzIGFyZSBub3QgaGFwcHkgd2l0aCByZW5kZXJpbmcgdG8gc3VjaCBhIGZvcm1hdFxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbEZhY2UsIDAsIGdsLlJHQkEsIHdpZHRoLCBoZWlnaHQsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHdpZHRoLCBoZWlnaHRdKTtcblxuICAgIGNvbnN0IHN1bkRpcmVjdGlvbiA9IGxheWVyLmdldENlbnRlcihwYWludGVyLCB0cnVlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdza3lib3hDYXB0dXJlJyk7XG4gICAgY29uc3QgZmFjZVJvdGF0ZSA9IG5ldyBGbG9hdDY0QXJyYXkoMTYpO1xuXG4gICAgLy8gK3g7XG4gICAgbWF0NC5pZGVudGl0eShmYWNlUm90YXRlKTtcbiAgICBtYXQ0LnJvdGF0ZVkoZmFjZVJvdGF0ZSwgZmFjZVJvdGF0ZSwgLU1hdGguUEkgKiAwLjUpO1xuICAgIGRyYXdTa3lib3hGYWNlKGNvbnRleHQsIGxheWVyLCBwcm9ncmFtLCBmYWNlUm90YXRlLCBzdW5EaXJlY3Rpb24sIDApO1xuICAgIC8vIC14XG4gICAgbWF0NC5pZGVudGl0eShmYWNlUm90YXRlKTtcbiAgICBtYXQ0LnJvdGF0ZVkoZmFjZVJvdGF0ZSwgZmFjZVJvdGF0ZSwgTWF0aC5QSSAqIDAuNSk7XG4gICAgZHJhd1NreWJveEZhY2UoY29udGV4dCwgbGF5ZXIsIHByb2dyYW0sIGZhY2VSb3RhdGUsIHN1bkRpcmVjdGlvbiwgMSk7XG4gICAgLy8gK3lcbiAgICBtYXQ0LmlkZW50aXR5KGZhY2VSb3RhdGUpO1xuICAgIG1hdDQucm90YXRlWChmYWNlUm90YXRlLCBmYWNlUm90YXRlLCAtTWF0aC5QSSAqIDAuNSk7XG4gICAgZHJhd1NreWJveEZhY2UoY29udGV4dCwgbGF5ZXIsIHByb2dyYW0sIGZhY2VSb3RhdGUsIHN1bkRpcmVjdGlvbiwgMik7XG4gICAgLy8gLXlcbiAgICBtYXQ0LmlkZW50aXR5KGZhY2VSb3RhdGUpO1xuICAgIG1hdDQucm90YXRlWChmYWNlUm90YXRlLCBmYWNlUm90YXRlLCBNYXRoLlBJICogMC41KTtcbiAgICBkcmF3U2t5Ym94RmFjZShjb250ZXh0LCBsYXllciwgcHJvZ3JhbSwgZmFjZVJvdGF0ZSwgc3VuRGlyZWN0aW9uLCAzKTtcbiAgICAvLyArelxuICAgIG1hdDQuaWRlbnRpdHkoZmFjZVJvdGF0ZSk7XG4gICAgZHJhd1NreWJveEZhY2UoY29udGV4dCwgbGF5ZXIsIHByb2dyYW0sIGZhY2VSb3RhdGUsIHN1bkRpcmVjdGlvbiwgNCk7XG4gICAgLy8gLXpcbiAgICBtYXQ0LmlkZW50aXR5KGZhY2VSb3RhdGUpO1xuICAgIG1hdDQucm90YXRlWShmYWNlUm90YXRlLCBmYWNlUm90YXRlLCBNYXRoLlBJKTtcbiAgICBkcmF3U2t5Ym94RmFjZShjb250ZXh0LCBsYXllciwgcHJvZ3JhbSwgZmFjZVJvdGF0ZSwgc3VuRGlyZWN0aW9uLCA1KTtcblxuICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodF0pO1xufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7Y3JlYXRlTGF5b3V0fSBmcm9tICcuLi91dGlsL3N0cnVjdF9hcnJheS5qcyc7XG5cbmltcG9ydCB0eXBlIHtTdHJ1Y3RBcnJheUxheW91dH0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXkuanMnO1xuXG5leHBvcnQgY29uc3QgYXRtb3NwaGVyZUxheW91dDogU3RydWN0QXJyYXlMYXlvdXQgPSBjcmVhdGVMYXlvdXQoW1xuICAgIHt0eXBlOiAnRmxvYXQzMicsIG5hbWU6ICdhX3BvcycsIGNvbXBvbmVudHM6IDN9LFxuICAgIHt0eXBlOiAnRmxvYXQzMicsIG5hbWU6ICdhX3V2JywgY29tcG9uZW50czogMn1cbl0pO1xuIiwiLy8gQGZsb3dcbmltcG9ydCB0eXBlIEluZGV4QnVmZmVyIGZyb20gJy4uL2dsL2luZGV4X2J1ZmZlci5qcyc7XG5pbXBvcnQgdHlwZSBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi4vZ2wvdmVydGV4X2J1ZmZlci5qcyc7XG5pbXBvcnQgU2VnbWVudFZlY3RvciBmcm9tICcuLi9kYXRhL3NlZ21lbnQuanMnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB7YXRtb3NwaGVyZUxheW91dH0gZnJvbSAnLi9hdG1vc3BoZXJlX2F0dHJpYnV0ZXMuanMnO1xuaW1wb3J0IHtUcmlhbmdsZUluZGV4QXJyYXksIEF0bW9zcGhlcmVWZXJ0ZXhBcnJheX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBBdG1vc3BoZXJlQnVmZmVyIHtcbiAgICB2ZXJ0ZXhCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICBpbmRleEJ1ZmZlcjogSW5kZXhCdWZmZXI7XG4gICAgc2VnbWVudHM6IFNlZ21lbnRWZWN0b3I7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gbmV3IEF0bW9zcGhlcmVWZXJ0ZXhBcnJheSgpO1xuICAgICAgICB2ZXJ0aWNlcy5lbXBsYWNlQmFjaygtMSwgMSwgMSwgMCwgMCk7XG4gICAgICAgIHZlcnRpY2VzLmVtcGxhY2VCYWNrKDEsIDEsIDEsIDEsIDApO1xuICAgICAgICB2ZXJ0aWNlcy5lbXBsYWNlQmFjaygxLCAtMSwgMSwgMSwgMSk7XG4gICAgICAgIHZlcnRpY2VzLmVtcGxhY2VCYWNrKC0xLCAtMSwgMSwgMCwgMSk7XG5cbiAgICAgICAgY29uc3QgdHJpYW5nbGVzID0gbmV3IFRyaWFuZ2xlSW5kZXhBcnJheSgpO1xuICAgICAgICB0cmlhbmdsZXMuZW1wbGFjZUJhY2soMCwgMSwgMik7XG4gICAgICAgIHRyaWFuZ2xlcy5lbXBsYWNlQmFjaygyLCAzLCAwKTtcblxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKHZlcnRpY2VzLCBhdG1vc3BoZXJlTGF5b3V0Lm1lbWJlcnMpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gY29udGV4dC5jcmVhdGVJbmRleEJ1ZmZlcih0cmlhbmdsZXMpO1xuICAgICAgICB0aGlzLnNlZ21lbnRzID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIDQsIDIpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuc2VnbWVudHMuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93LmpzJztcblxuaW1wb3J0IHttYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudC5qcyc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzLmpzJztcbmltcG9ydCBTZWdtZW50VmVjdG9yIGZyb20gJy4uL2RhdGEvc2VnbWVudC5qcyc7XG5pbXBvcnQge1Bvc0FycmF5LCBUaWxlQm91bmRzQXJyYXksIFRyaWFuZ2xlSW5kZXhBcnJheSwgTGluZVN0cmlwSW5kZXhBcnJheX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5pbXBvcnQge3ZhbHVlc30gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7aXNNYXBBdXRoZW50aWNhdGVkfSBmcm9tICcuLi91dGlsL21hcGJveC5qcyc7XG5pbXBvcnQgcG9zQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL3Bvc19hdHRyaWJ1dGVzLmpzJztcbmltcG9ydCBib3VuZHNBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvYm91bmRzX2F0dHJpYnV0ZXMuanMnO1xuaW1wb3J0IFByb2dyYW1Db25maWd1cmF0aW9uIGZyb20gJy4uL2RhdGEvcHJvZ3JhbV9jb25maWd1cmF0aW9uLmpzJztcbmltcG9ydCBDcm9zc1RpbGVTeW1ib2xJbmRleCBmcm9tICcuLi9zeW1ib2wvY3Jvc3NfdGlsZV9zeW1ib2xfaW5kZXguanMnO1xuaW1wb3J0IHNoYWRlcnMgZnJvbSAnLi4vc2hhZGVycy9zaGFkZXJzLmpzJztcbmltcG9ydCBQcm9ncmFtIGZyb20gJy4vcHJvZ3JhbS5qcyc7XG5pbXBvcnQge3Byb2dyYW1Vbmlmb3Jtc30gZnJvbSAnLi9wcm9ncmFtL3Byb2dyYW1fdW5pZm9ybXMuanMnO1xuaW1wb3J0IENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dC5qcyc7XG5pbXBvcnQge2ZvZ1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3JlbmRlci9mb2cuanMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlLmpzJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUuanMnO1xuaW1wb3J0IENvbG9yTW9kZSBmcm9tICcuLi9nbC9jb2xvcl9tb2RlLmpzJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUuanMnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi90ZXh0dXJlLmpzJztcbmltcG9ydCB7Y2xpcHBpbmdNYXNrVW5pZm9ybVZhbHVlc30gZnJvbSAnLi9wcm9ncmFtL2NsaXBwaW5nX21hc2tfcHJvZ3JhbS5qcyc7XG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yLmpzJztcbmltcG9ydCBzeW1ib2wgZnJvbSAnLi9kcmF3X3N5bWJvbC5qcyc7XG5pbXBvcnQgY2lyY2xlIGZyb20gJy4vZHJhd19jaXJjbGUuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IGhlYXRtYXAgZnJvbSAnLi9kcmF3X2hlYXRtYXAuanMnO1xuaW1wb3J0IGxpbmUgZnJvbSAnLi9kcmF3X2xpbmUuanMnO1xuaW1wb3J0IGZpbGwgZnJvbSAnLi9kcmF3X2ZpbGwuanMnO1xuaW1wb3J0IGZpbGxFeHRydXNpb24gZnJvbSAnLi9kcmF3X2ZpbGxfZXh0cnVzaW9uLmpzJztcbmltcG9ydCBoaWxsc2hhZGUgZnJvbSAnLi9kcmF3X2hpbGxzaGFkZS5qcyc7XG5pbXBvcnQgcmFzdGVyIGZyb20gJy4vZHJhd19yYXN0ZXIuanMnO1xuaW1wb3J0IGJhY2tncm91bmQgZnJvbSAnLi9kcmF3X2JhY2tncm91bmQuanMnO1xuaW1wb3J0IGRlYnVnLCB7ZHJhd0RlYnVnUGFkZGluZywgZHJhd0RlYnVnUXVlcnlHZW9tZXRyeX0gZnJvbSAnLi9kcmF3X2RlYnVnLmpzJztcbmltcG9ydCBjdXN0b20gZnJvbSAnLi9kcmF3X2N1c3RvbS5qcyc7XG5pbXBvcnQgc2t5IGZyb20gJy4vZHJhd19za3kuanMnO1xuaW1wb3J0IGRyYXdBdG1vc3BoZXJlIGZyb20gJy4vZHJhd19hdG1vc3BoZXJlLmpzJztcbmltcG9ydCB7R2xvYmVTaGFyZWRCdWZmZXJzLCBnbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9ufSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcbmltcG9ydCB7QXRtb3NwaGVyZUJ1ZmZlcn0gZnJvbSAnLi4vcmVuZGVyL2F0bW9zcGhlcmVfYnVmZmVyLmpzJztcbmltcG9ydCB7VGVycmFpbn0gZnJvbSAnLi4vdGVycmFpbi90ZXJyYWluLmpzJztcbmltcG9ydCB7RGVidWd9IGZyb20gJy4uL3V0aWwvZGVidWcuanMnO1xuaW1wb3J0IFRpbGUgZnJvbSAnLi4vc291cmNlL3RpbGUuanMnO1xuaW1wb3J0IHtSR0JBSW1hZ2V9IGZyb20gJy4uL3V0aWwvaW1hZ2UuanMnO1xuXG5jb25zdCBkcmF3ID0ge1xuICAgIHN5bWJvbCxcbiAgICBjaXJjbGUsXG4gICAgaGVhdG1hcCxcbiAgICBsaW5lLFxuICAgIGZpbGwsXG4gICAgJ2ZpbGwtZXh0cnVzaW9uJzogZmlsbEV4dHJ1c2lvbixcbiAgICBoaWxsc2hhZGUsXG4gICAgcmFzdGVyLFxuICAgIGJhY2tncm91bmQsXG4gICAgc2t5LFxuICAgIGRlYnVnLFxuICAgIGN1c3RvbVxufTtcblxuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUQsIFVud3JhcHBlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUgU3R5bGUgZnJvbSAnLi4vc3R5bGUvc3R5bGUuanMnO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgdHlwZSBJbWFnZU1hbmFnZXIgZnJvbSAnLi9pbWFnZV9tYW5hZ2VyLmpzJztcbmltcG9ydCB0eXBlIEdseXBoTWFuYWdlciBmcm9tICcuL2dseXBoX21hbmFnZXIuanMnO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXIuanMnO1xuaW1wb3J0IHR5cGUgSW5kZXhCdWZmZXIgZnJvbSAnLi4vZ2wvaW5kZXhfYnVmZmVyLmpzJztcbmltcG9ydCB0eXBlIHtEZXB0aFJhbmdlVHlwZSwgRGVwdGhNYXNrVHlwZSwgRGVwdGhGdW5jVHlwZX0gZnJvbSAnLi4vZ2wvdHlwZXMuanMnO1xuaW1wb3J0IHR5cGUgUmVzb2x2ZWRJbWFnZSBmcm9tICcuLi9zdHlsZS1zcGVjL2V4cHJlc3Npb24vdHlwZXMvcmVzb2x2ZWRfaW1hZ2UuanMnO1xuaW1wb3J0IHR5cGUge0R5bmFtaWNEZWZpbmVzVHlwZX0gZnJvbSAnLi9wcm9ncmFtL3Byb2dyYW1fdW5pZm9ybXMuanMnO1xuXG5leHBvcnQgdHlwZSBSZW5kZXJQYXNzID0gJ29mZnNjcmVlbicgfCAnb3BhcXVlJyB8ICd0cmFuc2x1Y2VudCcgfCAnc2t5JztcbmV4cG9ydCB0eXBlIENhbnZhc0NvcHlJbnN0YW5jZXMgPSB7XG4gICAgY2FudmFzQ29waWVzOiBXZWJHTFRleHR1cmVbXSxcbiAgICB0aW1lU3RhbXBzOiBudW1iZXJbXVxufVxuXG50eXBlIFBhaW50ZXJPcHRpb25zID0ge1xuICAgIHNob3dPdmVyZHJhd0luc3BlY3RvcjogYm9vbGVhbixcbiAgICBzaG93VGlsZUJvdW5kYXJpZXM6IGJvb2xlYW4sXG4gICAgc2hvd1RlcnJhaW5XaXJlZnJhbWU6IGJvb2xlYW4sXG4gICAgc2hvd1F1ZXJ5R2VvbWV0cnk6IGJvb2xlYW4sXG4gICAgc2hvd1RpbGVBQUJCczogYm9vbGVhbixcbiAgICBzaG93UGFkZGluZzogYm9vbGVhbixcbiAgICByb3RhdGluZzogYm9vbGVhbixcbiAgICB6b29taW5nOiBib29sZWFuLFxuICAgIG1vdmluZzogYm9vbGVhbixcbiAgICBncHVUaW1pbmc6IGJvb2xlYW4sXG4gICAgZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXI6IGJvb2xlYW4sXG4gICAgZmFkZUR1cmF0aW9uOiBudW1iZXIsXG4gICAgaXNJbml0aWFsTG9hZDogYm9vbGVhbixcbiAgICBzcGVlZEluZGV4VGltaW5nOiBib29sZWFuXG59XG5cbnR5cGUgVGlsZUJvdW5kc0J1ZmZlcnMgPSB7fFxuICB0aWxlQm91bmRzQnVmZmVyOiBWZXJ0ZXhCdWZmZXIsXG4gIHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjogSW5kZXhCdWZmZXIsXG4gIHRpbGVCb3VuZHNTZWdtZW50czogU2VnbWVudFZlY3Rvcixcbnx9O1xuXG50eXBlIEdQVVRpbWVycyA9IHtbbGF5ZXJJZDogc3RyaW5nXTogYW55fTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IHBhaW50ZXIgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzfSBnbCBhbiBleHBlcmltZW50YWwtd2ViZ2wgZHJhd2luZyBjb250ZXh0XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBQYWludGVyIHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIF90aWxlVGV4dHVyZXM6IHtbXzogbnVtYmVyXTogQXJyYXk8VGV4dHVyZT4gfTtcbiAgICBudW1TdWJsYXllcnM6IG51bWJlcjtcbiAgICBkZXB0aEVwc2lsb246IG51bWJlcjtcbiAgICBlbXB0eVByb2dyYW1Db25maWd1cmF0aW9uOiBQcm9ncmFtQ29uZmlndXJhdGlvbjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIHRpbGVFeHRlbnRCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICB0aWxlRXh0ZW50U2VnbWVudHM6IFNlZ21lbnRWZWN0b3I7XG4gICAgZGVidWdCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICBkZWJ1Z0luZGV4QnVmZmVyOiBJbmRleEJ1ZmZlcjtcbiAgICBkZWJ1Z1NlZ21lbnRzOiBTZWdtZW50VmVjdG9yO1xuICAgIHZpZXdwb3J0QnVmZmVyOiBWZXJ0ZXhCdWZmZXI7XG4gICAgdmlld3BvcnRTZWdtZW50czogU2VnbWVudFZlY3RvcjtcbiAgICBxdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcjogSW5kZXhCdWZmZXI7XG4gICAgbWVyY2F0b3JCb3VuZHNCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICBtZXJjYXRvckJvdW5kc1NlZ21lbnRzOiBTZWdtZW50VmVjdG9yO1xuICAgIF90aWxlQ2xpcHBpbmdNYXNrSURzOiB7W186IG51bWJlcl06IG51bWJlciB9O1xuICAgIHN0ZW5jaWxDbGVhck1vZGU6IFN0ZW5jaWxNb2RlO1xuICAgIHN0eWxlOiBTdHlsZTtcbiAgICBvcHRpb25zOiBQYWludGVyT3B0aW9ucztcbiAgICBpbWFnZU1hbmFnZXI6IEltYWdlTWFuYWdlcjtcbiAgICBnbHlwaE1hbmFnZXI6IEdseXBoTWFuYWdlcjtcbiAgICBkZXB0aFJhbmdlRm9yM0Q6IERlcHRoUmFuZ2VUeXBlO1xuICAgIG9wYXF1ZVBhc3NDdXRvZmY6IG51bWJlcjtcbiAgICBmcmFtZUNvdW50ZXI6IG51bWJlcjtcbiAgICByZW5kZXJQYXNzOiBSZW5kZXJQYXNzO1xuICAgIGN1cnJlbnRMYXllcjogbnVtYmVyO1xuICAgIGN1cnJlbnRTdGVuY2lsU291cmNlOiA/c3RyaW5nO1xuICAgIG5leHRTdGVuY2lsSUQ6IG51bWJlcjtcbiAgICBpZDogc3RyaW5nO1xuICAgIF9zaG93T3ZlcmRyYXdJbnNwZWN0b3I6IGJvb2xlYW47XG4gICAgY2FjaGU6IHtbXzogc3RyaW5nXTogUHJvZ3JhbTwqPiB9O1xuICAgIGNyb3NzVGlsZVN5bWJvbEluZGV4OiBDcm9zc1RpbGVTeW1ib2xJbmRleDtcbiAgICBzeW1ib2xGYWRlQ2hhbmdlOiBudW1iZXI7XG4gICAgZ3B1VGltZXJzOiBHUFVUaW1lcnM7XG4gICAgZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllczogQXJyYXk8YW55PjtcbiAgICBlbXB0eVRleHR1cmU6IFRleHR1cmU7XG4gICAgaWRlbnRpdHlNYXQ6IEZsb2F0MzJBcnJheTtcbiAgICBkZWJ1Z092ZXJsYXlUZXh0dXJlOiBUZXh0dXJlO1xuICAgIGRlYnVnT3ZlcmxheUNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgX3RlcnJhaW46ID9UZXJyYWluO1xuICAgIGdsb2JlU2hhcmVkQnVmZmVyczogP0dsb2JlU2hhcmVkQnVmZmVycztcbiAgICBhdG1vc3BoZXJlQnVmZmVyOiBBdG1vc3BoZXJlQnVmZmVyO1xuICAgIHRpbGVMb2FkZWQ6IGJvb2xlYW47XG4gICAgZnJhbWVDb3BpZXM6IEFycmF5PFdlYkdMVGV4dHVyZT47XG4gICAgbG9hZFRpbWVTdGFtcHM6IEFycmF5PG51bWJlcj47XG4gICAgX2JhY2tncm91bmRUaWxlczoge1trZXk6IG51bWJlcl06IFRpbGV9O1xuXG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sIGlzV2ViR0wyOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbmV3IENvbnRleHQoZ2wsIGlzV2ViR0wyKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuX3RpbGVUZXh0dXJlcyA9IHt9O1xuICAgICAgICB0aGlzLmZyYW1lQ29waWVzID0gW107XG4gICAgICAgIHRoaXMubG9hZFRpbWVTdGFtcHMgPSBbXTtcblxuICAgICAgICB0aGlzLnNldHVwKCk7XG5cbiAgICAgICAgLy8gV2l0aGluIGVhY2ggbGF5ZXIgdGhlcmUgYXJlIG11bHRpcGxlIGRpc3RpbmN0IHotcGxhbmVzIHRoYXQgY2FuIGJlIGRyYXduIHRvLlxuICAgICAgICAvLyBUaGlzIGlzIGltcGxlbWVudGVkIHVzaW5nIHRoZSBXZWJHTCBkZXB0aCBidWZmZXIuXG4gICAgICAgIHRoaXMubnVtU3VibGF5ZXJzID0gU291cmNlQ2FjaGUubWF4VW5kZXJ6b29taW5nICsgU291cmNlQ2FjaGUubWF4T3Zlcnpvb21pbmcgKyAxO1xuICAgICAgICB0aGlzLmRlcHRoRXBzaWxvbiA9IDEgLyBNYXRoLnBvdygyLCAxNik7XG5cbiAgICAgICAgdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleCA9IG5ldyBDcm9zc1RpbGVTeW1ib2xJbmRleCgpO1xuXG4gICAgICAgIHRoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcyA9IFtdO1xuICAgICAgICB0aGlzLmdwdVRpbWVycyA9IHt9O1xuICAgICAgICB0aGlzLmZyYW1lQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRUaWxlcyA9IHt9O1xuICAgIH1cblxuICAgIHVwZGF0ZVRlcnJhaW4oc3R5bGU6IFN0eWxlLCBhZGFwdENhbWVyYUFsdGl0dWRlOiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IGVuYWJsZWQgPSAhIXN0eWxlICYmICEhc3R5bGUudGVycmFpbiAmJiB0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzVGVycmFpbjtcbiAgICAgICAgaWYgKCFlbmFibGVkICYmICghdGhpcy5fdGVycmFpbiB8fCAhdGhpcy5fdGVycmFpbi5lbmFibGVkKSkgcmV0dXJuO1xuICAgICAgICBpZiAoIXRoaXMuX3RlcnJhaW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3RlcnJhaW4gPSBuZXcgVGVycmFpbih0aGlzLCBzdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGVycmFpbjogVGVycmFpbiA9IHRoaXMuX3RlcnJhaW47XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbiA9IGVuYWJsZWQgPyB0ZXJyYWluIDogbnVsbDtcbiAgICAgICAgdGVycmFpbi51cGRhdGUoc3R5bGUsIHRoaXMudHJhbnNmb3JtLCBhZGFwdENhbWVyYUFsdGl0dWRlKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlRm9nKHN0eWxlOiBTdHlsZSkge1xuICAgICAgICAvLyBHbG9iZSBtYWtlcyB1c2Ugb2YgdGhpbiBmb2cgb3ZlcmxheSB3aXRoIGEgZml4ZWQgZm9nIHJhbmdlLFxuICAgICAgICAvLyBzbyB3ZSBjYW4gc2tpcCB1cGRhdGluZyBmb2cgdGlsZSBjdWxsaW5nIGZvciB0aGlzIHByb2plY3Rpb25cbiAgICAgICAgY29uc3QgaXNHbG9iZSA9IHRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJztcblxuICAgICAgICBjb25zdCBmb2cgPSBzdHlsZS5mb2c7XG4gICAgICAgIGlmICghZm9nIHx8IGlzR2xvYmUgfHwgZm9nLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpIDwgMSB8fCBmb2cucHJvcGVydGllcy5nZXQoJ2hvcml6b24tYmxlbmQnKSA8IDAuMDMpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3EgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2Ugc3RhcnQgY3VsbGluZyB3aGVyZSB0aGUgZm9nIG9wYWNpdHkgZnVuY3Rpb24gaGl0c1xuICAgICAgICAvLyA5OCUgd2hpY2ggbGVhdmVzIGEgbm9uLW5vdGljZWFibGUgY2hhbmdlIHRocmVzaG9sZC5cbiAgICAgICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gZm9nLmdldEZvdkFkanVzdGVkUmFuZ2UodGhpcy50cmFuc2Zvcm0uX2Zvdik7XG5cbiAgICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5mb2dDdWxsRGlzdFNxID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZvZ0JvdW5kRnJhY3Rpb24gPSAwLjc4O1xuICAgICAgICBjb25zdCBmb2dDdWxsRGlzdCA9IHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAqIGZvZ0JvdW5kRnJhY3Rpb247XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uZm9nQ3VsbERpc3RTcSA9IGZvZ0N1bGxEaXN0ICogZm9nQ3VsbERpc3Q7XG4gICAgfVxuXG4gICAgZ2V0IHRlcnJhaW4oKTogP1RlcnJhaW4ge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uX3RlcnJhaW5FbmFibGVkKCkgJiYgdGhpcy5fdGVycmFpbiAmJiB0aGlzLl90ZXJyYWluLmVuYWJsZWQgPyB0aGlzLl90ZXJyYWluIDogbnVsbDtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFVwZGF0ZSB0aGUgR0wgdmlld3BvcnQsIHByb2plY3Rpb24gbWF0cml4LCBhbmQgdHJhbnNmb3JtcyB0byBjb21wZW5zYXRlXG4gICAgICogZm9yIGEgbmV3IHdpZHRoIGFuZCBoZWlnaHQgdmFsdWUuXG4gICAgICovXG4gICAgcmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0XSk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBvZiB0aGlzLnN0eWxlLm9yZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5fbGF5ZXJzW2xheWVySWRdLnJlc2l6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0dXAoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgY29uc3QgdGlsZUV4dGVudEFycmF5ID0gbmV3IFBvc0FycmF5KCk7XG4gICAgICAgIHRpbGVFeHRlbnRBcnJheS5lbXBsYWNlQmFjaygwLCAwKTtcbiAgICAgICAgdGlsZUV4dGVudEFycmF5LmVtcGxhY2VCYWNrKEVYVEVOVCwgMCk7XG4gICAgICAgIHRpbGVFeHRlbnRBcnJheS5lbXBsYWNlQmFjaygwLCBFWFRFTlQpO1xuICAgICAgICB0aWxlRXh0ZW50QXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCBFWFRFTlQpO1xuICAgICAgICB0aGlzLnRpbGVFeHRlbnRCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aWxlRXh0ZW50QXJyYXksIHBvc0F0dHJpYnV0ZXMubWVtYmVycyk7XG4gICAgICAgIHRoaXMudGlsZUV4dGVudFNlZ21lbnRzID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIDQsIDIpO1xuXG4gICAgICAgIGNvbnN0IGRlYnVnQXJyYXkgPSBuZXcgUG9zQXJyYXkoKTtcbiAgICAgICAgZGVidWdBcnJheS5lbXBsYWNlQmFjaygwLCAwKTtcbiAgICAgICAgZGVidWdBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIDApO1xuICAgICAgICBkZWJ1Z0FycmF5LmVtcGxhY2VCYWNrKDAsIEVYVEVOVCk7XG4gICAgICAgIGRlYnVnQXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCBFWFRFTlQpO1xuICAgICAgICB0aGlzLmRlYnVnQnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZGVidWdBcnJheSwgcG9zQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgdGhpcy5kZWJ1Z1NlZ21lbnRzID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIDQsIDUpO1xuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0QXJyYXkgPSBuZXcgUG9zQXJyYXkoKTtcbiAgICAgICAgdmlld3BvcnRBcnJheS5lbXBsYWNlQmFjaygtMSwgLTEpO1xuICAgICAgICB2aWV3cG9ydEFycmF5LmVtcGxhY2VCYWNrKDEsIC0xKTtcbiAgICAgICAgdmlld3BvcnRBcnJheS5lbXBsYWNlQmFjaygtMSwgMSk7XG4gICAgICAgIHZpZXdwb3J0QXJyYXkuZW1wbGFjZUJhY2soMSwgMSk7XG4gICAgICAgIHRoaXMudmlld3BvcnRCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih2aWV3cG9ydEFycmF5LCBwb3NBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0U2VnbWVudHMgPSBTZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwgMCwgNCwgMik7XG5cbiAgICAgICAgY29uc3QgdGlsZUJvdW5kc0FycmF5ID0gbmV3IFRpbGVCb3VuZHNBcnJheSgpO1xuICAgICAgICB0aWxlQm91bmRzQXJyYXkuZW1wbGFjZUJhY2soMCwgMCwgMCwgMCk7XG4gICAgICAgIHRpbGVCb3VuZHNBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIDAsIEVYVEVOVCwgMCk7XG4gICAgICAgIHRpbGVCb3VuZHNBcnJheS5lbXBsYWNlQmFjaygwLCBFWFRFTlQsIDAsIEVYVEVOVCk7XG4gICAgICAgIHRpbGVCb3VuZHNBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIEVYVEVOVCwgRVhURU5ULCBFWFRFTlQpO1xuICAgICAgICB0aGlzLm1lcmNhdG9yQm91bmRzQnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGlsZUJvdW5kc0FycmF5LCBib3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLm1lcmNhdG9yQm91bmRzU2VnbWVudHMgPSBTZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwgMCwgNCwgMik7XG5cbiAgICAgICAgY29uc3QgcXVhZFRyaWFuZ2xlSW5kaWNlcyA9IG5ldyBUcmlhbmdsZUluZGV4QXJyYXkoKTtcbiAgICAgICAgcXVhZFRyaWFuZ2xlSW5kaWNlcy5lbXBsYWNlQmFjaygwLCAxLCAyKTtcbiAgICAgICAgcXVhZFRyaWFuZ2xlSW5kaWNlcy5lbXBsYWNlQmFjaygyLCAxLCAzKTtcbiAgICAgICAgdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlSW5kZXhCdWZmZXIocXVhZFRyaWFuZ2xlSW5kaWNlcyk7XG5cbiAgICAgICAgY29uc3QgdGlsZUxpbmVTdHJpcEluZGljZXMgPSBuZXcgTGluZVN0cmlwSW5kZXhBcnJheSgpO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgWzAsIDEsIDMsIDIsIDBdKSB0aWxlTGluZVN0cmlwSW5kaWNlcy5lbXBsYWNlQmFjayhpKTtcbiAgICAgICAgdGhpcy5kZWJ1Z0luZGV4QnVmZmVyID0gY29udGV4dC5jcmVhdGVJbmRleEJ1ZmZlcih0aWxlTGluZVN0cmlwSW5kaWNlcyk7XG5cbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LFxuICAgICAgICAgICAgbmV3IFJHQkFJbWFnZSh7d2lkdGg6IDEsIGhlaWdodDogMX0sIFVpbnQ4QXJyYXkub2YoMCwgMCwgMCwgMCkpLCBjb250ZXh0LmdsLlJHQkEpO1xuXG4gICAgICAgIHRoaXMuaWRlbnRpdHlNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICB0aGlzLnN0ZW5jaWxDbGVhck1vZGUgPSBuZXcgU3RlbmNpbE1vZGUoe2Z1bmM6IGdsLkFMV0FZUywgbWFzazogMH0sIDB4MCwgMHhGRiwgZ2wuWkVSTywgZ2wuWkVSTywgZ2wuWkVSTyk7XG4gICAgICAgIHRoaXMubG9hZFRpbWVTdGFtcHMucHVzaCh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpO1xuXG4gICAgICAgIHRoaXMuYXRtb3NwaGVyZUJ1ZmZlciA9IG5ldyBBdG1vc3BoZXJlQnVmZmVyKHRoaXMuY29udGV4dCk7XG4gICAgfVxuXG4gICAgZ2V0TWVyY2F0b3JUaWxlQm91bmRzQnVmZmVycygpOiBUaWxlQm91bmRzQnVmZmVycyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aWxlQm91bmRzQnVmZmVyOiB0aGlzLm1lcmNhdG9yQm91bmRzQnVmZmVyLFxuICAgICAgICAgICAgdGlsZUJvdW5kc0luZGV4QnVmZmVyOiB0aGlzLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLFxuICAgICAgICAgICAgdGlsZUJvdW5kc1NlZ21lbnRzOiB0aGlzLm1lcmNhdG9yQm91bmRzU2VnbWVudHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRUaWxlQm91bmRzQnVmZmVycyh0aWxlOiBUaWxlKTogVGlsZUJvdW5kc0J1ZmZlcnMge1xuICAgICAgICB0aWxlLl9tYWtlVGlsZUJvdW5kc0J1ZmZlcnModGhpcy5jb250ZXh0LCB0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uKTtcbiAgICAgICAgaWYgKHRpbGUuX3RpbGVCb3VuZHNCdWZmZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVCb3VuZHNCdWZmZXIgPSB0aWxlLl90aWxlQm91bmRzQnVmZmVyO1xuICAgICAgICAgICAgY29uc3QgdGlsZUJvdW5kc0luZGV4QnVmZmVyID0gdGlsZS5fdGlsZUJvdW5kc0luZGV4QnVmZmVyO1xuICAgICAgICAgICAgY29uc3QgdGlsZUJvdW5kc1NlZ21lbnRzID0gdGlsZS5fdGlsZUJvdW5kc1NlZ21lbnRzO1xuICAgICAgICAgICAgcmV0dXJuIHt0aWxlQm91bmRzQnVmZmVyLCB0aWxlQm91bmRzSW5kZXhCdWZmZXIsIHRpbGVCb3VuZHNTZWdtZW50c307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFJlc2V0IHRoZSBkcmF3aW5nIGNhbnZhcyBieSBjbGVhcmluZyB0aGUgc3RlbmNpbCBidWZmZXIgc28gdGhhdCB3ZSBjYW4gZHJhd1xuICAgICAqIG5ldyB0aWxlcyBhdCB0aGUgc2FtZSBsb2NhdGlvbiwgd2hpbGUgcmV0YWluaW5nIHByZXZpb3VzbHkgZHJhd24gcGl4ZWxzLlxuICAgICAqL1xuICAgIGNsZWFyU3RlbmNpbCgpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIHRoaXMubmV4dFN0ZW5jaWxJRCA9IDE7XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHMgPSB7fTtcblxuICAgICAgICAvLyBBcyBhIHRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvNTQ5MCxcbiAgICAgICAgLy8gcGVuZGluZyBhbiB1cHN0cmVhbSBmaXgsIHdlIGRyYXcgYSBmdWxsc2NyZWVuIHN0ZW5jaWw9MCBjbGlwcGluZyBtYXNrIGhlcmUsXG4gICAgICAgIC8vIGVmZmVjdGl2ZWx5IGNsZWFyaW5nIHRoZSBzdGVuY2lsIGJ1ZmZlcjogb25jZSBhbiB1cHN0cmVhbSBwYXRjaCBsYW5kcywgcmVtb3ZlXG4gICAgICAgIC8vIHRoaXMgZnVuY3Rpb24gaW4gZmF2b3Igb2YgY29udGV4dC5jbGVhcih7IHN0ZW5jaWw6IDB4MCB9KVxuICAgICAgICB0aGlzLnVzZVByb2dyYW0oJ2NsaXBwaW5nTWFzaycpLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLFxuICAgICAgICAgICAgRGVwdGhNb2RlLmRpc2FibGVkLCB0aGlzLnN0ZW5jaWxDbGVhck1vZGUsIENvbG9yTW9kZS5kaXNhYmxlZCwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgY2xpcHBpbmdNYXNrVW5pZm9ybVZhbHVlcyh0aGlzLmlkZW50aXR5TWF0KSxcbiAgICAgICAgICAgICckY2xpcHBpbmcnLCB0aGlzLnZpZXdwb3J0QnVmZmVyLFxuICAgICAgICAgICAgdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlciwgdGhpcy52aWV3cG9ydFNlZ21lbnRzKTtcbiAgICB9XG5cbiAgICByZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCkge1xuICAgICAgICBpZiAoIXRoaXMudGVycmFpbikge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHMgPSB7fTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyhsYXllcjogU3R5bGVMYXllciwgc291cmNlQ2FjaGU/OiBTb3VyY2VDYWNoZSwgdGlsZUlEcz86IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgICAgIGlmICghc291cmNlQ2FjaGUgfHwgdGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZSA9PT0gc291cmNlQ2FjaGUuaWQgfHwgIWxheWVyLmlzVGlsZUNsaXBwZWQoKSB8fCAhdGlsZUlEcyB8fCB0aWxlSURzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHMgJiYgIXRoaXMudGVycmFpbikge1xuICAgICAgICAgICAgbGV0IGRpcnR5U3RlbmNpbENsaXBwaW5nTWFza3MgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIEVxdWl2YWxlbnQgdGlsZSBzZXQgaXMgYWxyZWFkeSByZW5kZXJlZCBpbiBzdGVuY2lsXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1tjb29yZC5rZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlydHlTdGVuY2lsQ2xpcHBpbmdNYXNrcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGlydHlTdGVuY2lsQ2xpcHBpbmdNYXNrcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2UgPSBzb3VyY2VDYWNoZS5pZDtcblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dFN0ZW5jaWxJRCArIHRpbGVJRHMubGVuZ3RoID4gMjU2KSB7XG4gICAgICAgICAgICAvLyB3ZSdsbCBydW4gb3V0IG9mIGZyZXNoIElEcyBzbyB3ZSBuZWVkIHRvIGNsZWFyIGFuZCBzdGFydCBmcm9tIHNjcmF0Y2hcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTdGVuY2lsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnNldENvbG9yTW9kZShDb2xvck1vZGUuZGlzYWJsZWQpO1xuICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShEZXB0aE1vZGUuZGlzYWJsZWQpO1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSB0aGlzLnVzZVByb2dyYW0oJ2NsaXBwaW5nTWFzaycpO1xuXG4gICAgICAgIHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHMgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRpbGVJRCBvZiB0aWxlSURzKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZSh0aWxlSUQpO1xuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzW3RpbGVJRC5rZXldID0gdGhpcy5uZXh0U3RlbmNpbElEKys7XG4gICAgICAgICAgICBjb25zdCB7dGlsZUJvdW5kc0J1ZmZlciwgdGlsZUJvdW5kc0luZGV4QnVmZmVyLCB0aWxlQm91bmRzU2VnbWVudHN9ID0gdGhpcy5nZXRUaWxlQm91bmRzQnVmZmVycyh0aWxlKTtcblxuICAgICAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgRGVwdGhNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgLy8gVGVzdHMgd2lsbCBhbHdheXMgcGFzcywgYW5kIHJlZiB2YWx1ZSB3aWxsIGJlIHdyaXR0ZW4gdG8gc3RlbmNpbCBidWZmZXIuXG4gICAgICAgICAgICBuZXcgU3RlbmNpbE1vZGUoe2Z1bmM6IGdsLkFMV0FZUywgbWFzazogMH0sIGlkLCAweEZGLCBnbC5LRUVQLCBnbC5LRUVQLCBnbC5SRVBMQUNFKSxcbiAgICAgICAgICAgIENvbG9yTW9kZS5kaXNhYmxlZCwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLCBjbGlwcGluZ01hc2tVbmlmb3JtVmFsdWVzKHRpbGVJRC5wcm9qTWF0cml4KSxcbiAgICAgICAgICAgICckY2xpcHBpbmcnLCB0aWxlQm91bmRzQnVmZmVyLFxuICAgICAgICAgICAgdGlsZUJvdW5kc0luZGV4QnVmZmVyLCB0aWxlQm91bmRzU2VnbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RlbmNpbE1vZGVGb3IzRCgpOiBTdGVuY2lsTW9kZSB7XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2UgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dFN0ZW5jaWxJRCArIDEgPiAyNTYpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTdGVuY2lsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpZCA9IHRoaXMubmV4dFN0ZW5jaWxJRCsrO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGVuY2lsTW9kZSh7ZnVuYzogZ2wuTk9URVFVQUwsIG1hc2s6IDB4RkZ9LCBpZCwgMHhGRiwgZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuUkVQTEFDRSk7XG4gICAgfVxuXG4gICAgc3RlbmNpbE1vZGVGb3JDbGlwcGluZyh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpOiAkUmVhZE9ubHk8U3RlbmNpbE1vZGU+ICB7XG4gICAgICAgIGlmICh0aGlzLnRlcnJhaW4pIHJldHVybiB0aGlzLnRlcnJhaW4uc3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKHRpbGVJRCk7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICByZXR1cm4gbmV3IFN0ZW5jaWxNb2RlKHtmdW5jOiBnbC5FUVVBTCwgbWFzazogMHhGRn0sIHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdGlsZUlELmtleV0sIDB4MDAsIGdsLktFRVAsIGdsLktFRVAsIGdsLlJFUExBQ0UpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogU29ydCBjb29yZGluYXRlcyBieSBaIGFzIGRyYXdpbmcgdGlsZXMgaXMgZG9uZSBpbiBaLWRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICogQWxsIGNoaWxkcmVuIHdpdGggdGhlIHNhbWUgWiB3cml0ZSB0aGUgc2FtZSBzdGVuY2lsIHZhbHVlLiAgQ2hpbGRyZW5cbiAgICAgKiBzdGVuY2lsIHZhbHVlcyBhcmUgZ3JlYXRlciB0aGFuIHBhcmVudCdzLiAgVGhpcyBpcyB1c2VkIG9ubHkgZm9yIHJhc3RlclxuICAgICAqIGFuZCByYXN0ZXItZGVtIHRpbGVzLCB3aGljaCBhcmUgYWxyZWFkeSBjbGlwcGVkIHRvIHRpbGUgYm91bmRhcmllcywgdG9cbiAgICAgKiBtYXNrIGFyZWEgb2YgdGlsZSBvdmVybGFwcGVkIGJ5IGNoaWxkcmVuIHRpbGVzLlxuICAgICAqIFN0ZW5jaWwgcmVmIHZhbHVlcyBjb250aW51ZSByYW5nZSB1c2VkIGluIF90aWxlQ2xpcHBpbmdNYXNrSURzLlxuICAgICAqXG4gICAgICogUmV0dXJucyBbU3RlbmNpbE1vZGUgZm9yIHRpbGUgb3ZlcnNjYWxlWiBtYXAsIHNvcnRlZENvb3Jkc10uXG4gICAgICovXG4gICAgc3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAodGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pOiBbe1tfOiBudW1iZXJdOiAkUmVhZE9ubHk8U3RlbmNpbE1vZGU+fSwgQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD5dIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRpbGVJRHMuc29ydCgoYSwgYikgPT4gYi5vdmVyc2NhbGVkWiAtIGEub3ZlcnNjYWxlZFopO1xuICAgICAgICBjb25zdCBtaW5UaWxlWiA9IGNvb3Jkc1tjb29yZHMubGVuZ3RoIC0gMV0ub3ZlcnNjYWxlZFo7XG4gICAgICAgIGNvbnN0IHN0ZW5jaWxWYWx1ZXMgPSBjb29yZHNbMF0ub3ZlcnNjYWxlZFogLSBtaW5UaWxlWiArIDE7XG4gICAgICAgIGlmIChzdGVuY2lsVmFsdWVzID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICh0aGlzLm5leHRTdGVuY2lsSUQgKyBzdGVuY2lsVmFsdWVzID4gMjU2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclN0ZW5jaWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHpUb1N0ZW5jaWxNb2RlID0ge307XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ZW5jaWxWYWx1ZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIHpUb1N0ZW5jaWxNb2RlW2kgKyBtaW5UaWxlWl0gPSBuZXcgU3RlbmNpbE1vZGUoe2Z1bmM6IGdsLkdFUVVBTCwgbWFzazogMHhGRn0sIGkgKyB0aGlzLm5leHRTdGVuY2lsSUQsIDB4RkYsIGdsLktFRVAsIGdsLktFRVAsIGdsLlJFUExBQ0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uZXh0U3RlbmNpbElEICs9IHN0ZW5jaWxWYWx1ZXM7XG4gICAgICAgICAgICByZXR1cm4gW3pUb1N0ZW5jaWxNb2RlLCBjb29yZHNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbe1ttaW5UaWxlWl06IFN0ZW5jaWxNb2RlLmRpc2FibGVkfSwgY29vcmRzXTtcbiAgICB9XG5cbiAgICBjb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk6ICRSZWFkT25seTxDb2xvck1vZGU+IHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGlmICh0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bU92ZXJkcmF3U3RlcHMgPSA4O1xuICAgICAgICAgICAgY29uc3QgYSA9IDEgLyBudW1PdmVyZHJhd1N0ZXBzO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yTW9kZShbZ2wuQ09OU1RBTlRfQ09MT1IsIGdsLk9ORV0sIG5ldyBDb2xvcihhLCBhLCBhLCAwKSwgW3RydWUsIHRydWUsIHRydWUsIHRydWVdKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlbmRlclBhc3MgPT09ICdvcGFxdWUnKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29sb3JNb2RlLnVuYmxlbmRlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBDb2xvck1vZGUuYWxwaGFCbGVuZGVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVwdGhNb2RlRm9yU3VibGF5ZXIobjogbnVtYmVyLCBtYXNrOiBEZXB0aE1hc2tUeXBlLCBmdW5jOiA/RGVwdGhGdW5jVHlwZSk6ICRSZWFkT25seTxEZXB0aE1vZGU+IHtcbiAgICAgICAgaWYgKCF0aGlzLm9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKSkgcmV0dXJuIERlcHRoTW9kZS5kaXNhYmxlZDtcbiAgICAgICAgY29uc3QgZGVwdGggPSAxIC0gKCgxICsgdGhpcy5jdXJyZW50TGF5ZXIpICogdGhpcy5udW1TdWJsYXllcnMgKyBuKSAqIHRoaXMuZGVwdGhFcHNpbG9uO1xuICAgICAgICByZXR1cm4gbmV3IERlcHRoTW9kZShmdW5jIHx8IHRoaXMuY29udGV4dC5nbC5MRVFVQUwsIG1hc2ssIFtkZXB0aCwgZGVwdGhdKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFRoZSBvcGFxdWUgcGFzcyBhbmQgM0QgbGF5ZXJzIGJvdGggdXNlIHRoZSBkZXB0aCBidWZmZXIuXG4gICAgICogTGF5ZXJzIGRyYXduIGFib3ZlIDNEIGxheWVycyBuZWVkIHRvIGJlIGRyYXduIHVzaW5nIHRoZVxuICAgICAqIHBhaW50ZXIncyBhbGdvcml0aG0gc28gdGhhdCB0aGV5IGFwcGVhciBhYm92ZSAzRCBmZWF0dXJlcy5cbiAgICAgKiBUaGlzIHJldHVybnMgdHJ1ZSBmb3IgbGF5ZXJzIHRoYXQgY2FuIGJlIGRyYXduIHVzaW5nIHRoZVxuICAgICAqIG9wYXF1ZSBwYXNzLlxuICAgICAqL1xuICAgIG9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRMYXllciA8IHRoaXMub3BhcXVlUGFzc0N1dG9mZjtcbiAgICB9XG5cbiAgICByZW5kZXIoc3R5bGU6IFN0eWxlLCBvcHRpb25zOiBQYWludGVyT3B0aW9ucykge1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIgPSBzdHlsZS5pbWFnZU1hbmFnZXI7XG4gICAgICAgIHRoaXMuZ2x5cGhNYW5hZ2VyID0gc3R5bGUuZ2x5cGhNYW5hZ2VyO1xuXG4gICAgICAgIHRoaXMuc3ltYm9sRmFkZUNoYW5nZSA9IHN0eWxlLnBsYWNlbWVudC5zeW1ib2xGYWRlQ2hhbmdlKGJyb3dzZXIubm93KCkpO1xuXG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLmJlZ2luRnJhbWUoKTtcblxuICAgICAgICBjb25zdCBsYXllcklkcyA9IHRoaXMuc3R5bGUub3JkZXI7XG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlcyA9IHRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcztcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSBzb3VyY2VDYWNoZXNbaWRdO1xuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLnVzZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VDYWNoZS5wcmVwYXJlKHRoaXMuY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZHNBc2NlbmRpbmc6IHtbXzogc3RyaW5nXTogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD59ID0ge307XG4gICAgICAgIGNvbnN0IGNvb3Jkc0Rlc2NlbmRpbmc6IHtbXzogc3RyaW5nXTogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD59ID0ge307XG4gICAgICAgIGNvbnN0IGNvb3Jkc0Rlc2NlbmRpbmdTeW1ib2w6IHtbXzogc3RyaW5nXTogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD59ID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgICAgIGNvb3Jkc0FzY2VuZGluZ1tpZF0gPSBzb3VyY2VDYWNoZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIGNvb3Jkc0Rlc2NlbmRpbmdbaWRdID0gY29vcmRzQXNjZW5kaW5nW2lkXS5zbGljZSgpLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGNvb3Jkc0Rlc2NlbmRpbmdTeW1ib2xbaWRdID0gc291cmNlQ2FjaGUuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKHRydWUpLnJldmVyc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3BhcXVlUGFzc0N1dG9mZiA9IEluZmluaXR5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVySWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllcklkID0gbGF5ZXJJZHNbaV07XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZS5fbGF5ZXJzW2xheWVySWRdLmlzM0QoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3BhcXVlUGFzc0N1dG9mZiA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy50ZXJyYWluKSB7XG4gICAgICAgICAgICB0aGlzLnRlcnJhaW4udXBkYXRlVGlsZUJpbmRpbmcoY29vcmRzRGVzY2VuZGluZ1N5bWJvbCk7XG4gICAgICAgICAgICAvLyBBbGwgcmVuZGVyIHRvIHRleHR1cmUgaXMgZG9uZSBpbiB0cmFuc2x1Y2VudCBwYXNzIHRvIHJlbW92ZSBuZWVkXG4gICAgICAgICAgICAvLyBmb3IgZGVwdGggYnVmZmVyIGFsbG9jYXRpb24gcGVyIHRpbGUuXG4gICAgICAgICAgICB0aGlzLm9wYXF1ZVBhc3NDdXRvZmYgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJyAmJiAhdGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzID0gbmV3IEdsb2JlU2hhcmVkQnVmZmVycyh0aGlzLmNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9sbG93aW5nIGxpbmUgaXMgYmlsbGluZyByZWxhdGVkIGNvZGUuIERvIG5vdCBjaGFuZ2UuIFNlZSBMSUNFTlNFLnR4dFxuICAgICAgICBpZiAoIWlzTWFwQXV0aGVudGljYXRlZCh0aGlzLmNvbnRleHQuZ2wpKSByZXR1cm47XG5cbiAgICAgICAgLy8gT2Zmc2NyZWVuIHBhc3MgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gV2UgZmlyc3QgZG8gYWxsIHJlbmRlcmluZyB0aGF0IHJlcXVpcmVzIHJlbmRlcmluZyB0byBhIHNlcGFyYXRlXG4gICAgICAgIC8vIGZyYW1lYnVmZmVyLCBhbmQgdGhlbiBzYXZlIHRob3NlIGZvciByZW5kZXJpbmcgYmFjayB0byB0aGUgbWFwXG4gICAgICAgIC8vIGxhdGVyOiBpbiBkb2luZyB0aGlzIHdlIGF2b2lkIGRvaW5nIGV4cGVuc2l2ZSBmcmFtZWJ1ZmZlciByZXN0b3Jlcy5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzID0gJ29mZnNjcmVlbic7XG5cbiAgICAgICAgZm9yIChjb25zdCBsYXllcklkIG9mIGxheWVySWRzKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3R5bGUuX2xheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUobGF5ZXIpO1xuICAgICAgICAgICAgaWYgKCFsYXllci5oYXNPZmZzY3JlZW5QYXNzKCkgfHwgbGF5ZXIuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb25zdCBjb29yZHMgPSBzb3VyY2VDYWNoZSA/IGNvb3Jkc0Rlc2NlbmRpbmdbc291cmNlQ2FjaGUuaWRdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCEobGF5ZXIudHlwZSA9PT0gJ2N1c3RvbScgfHwgbGF5ZXIuaXNTa3koKSkgJiYgIShjb29yZHMgJiYgY29vcmRzLmxlbmd0aCkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlckxheWVyKHRoaXMsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVwdGhSYW5nZUZvcjNEID0gWzAsIDEgLSAoKHN0eWxlLm9yZGVyLmxlbmd0aCArIDIpICogdGhpcy5udW1TdWJsYXllcnMgKiB0aGlzLmRlcHRoRXBzaWxvbildO1xuXG4gICAgICAgIC8vIFRlcnJhaW4gZGVwdGggb2Zmc2NyZWVuIHJlbmRlciBwYXNzID09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIC8vIFdpdGggdGVycmFpbiBvbiwgcmVuZGVycyB0aGUgZGVwdGggYnVmZmVyIGludG8gYSB0ZXh0dXJlLlxuICAgICAgICAvLyBUaGlzIHRleHR1cmUgaXMgdXNlZCBmb3Igb2NjbHVzaW9uIHRlc3RpbmcgKGxhYmVscylcbiAgICAgICAgY29uc3QgdGVycmFpbiA9IHRoaXMudGVycmFpbjtcbiAgICAgICAgaWYgKHRlcnJhaW4gJiYgKHRoaXMuc3R5bGUuaGFzU3ltYm9sTGF5ZXJzKCkgfHwgdGhpcy5zdHlsZS5oYXNDaXJjbGVMYXllcnMoKSkpIHtcbiAgICAgICAgICAgIHRlcnJhaW4uZHJhd0RlcHRoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWJpbmQgdGhlIG1haW4gZnJhbWVidWZmZXIgbm93IHRoYXQgYWxsIG9mZnNjcmVlbiBsYXllcnMgaGF2ZSBiZWVuIHJlbmRlcmVkOlxuICAgICAgICB0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldChudWxsKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHRdKTtcblxuICAgICAgICAvLyBDbGVhciBidWZmZXJzIGluIHByZXBhcmF0aW9uIGZvciBkcmF3aW5nIHRvIHRoZSBtYWluIGZyYW1lYnVmZmVyXG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhcih7Y29sb3I6IG9wdGlvbnMuc2hvd092ZXJkcmF3SW5zcGVjdG9yID8gQ29sb3IuYmxhY2sgOiBDb2xvci50cmFuc3BhcmVudCwgZGVwdGg6IDF9KTtcbiAgICAgICAgdGhpcy5jbGVhclN0ZW5jaWwoKTtcblxuICAgICAgICB0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IgPSBvcHRpb25zLnNob3dPdmVyZHJhd0luc3BlY3RvcjtcblxuICAgICAgICAvLyBPcGFxdWUgcGFzcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyBEcmF3IG9wYXF1ZSBsYXllcnMgdG9wLXRvLWJvdHRvbSBmaXJzdC5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzID0gJ29wYXF1ZSc7XG5cbiAgICAgICAgaWYgKCF0aGlzLnRlcnJhaW4pIHtcbiAgICAgICAgICAgIGZvciAodGhpcy5jdXJyZW50TGF5ZXIgPSBsYXllcklkcy5sZW5ndGggLSAxOyB0aGlzLmN1cnJlbnRMYXllciA+PSAwOyB0aGlzLmN1cnJlbnRMYXllci0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLnN0eWxlLl9sYXllcnNbbGF5ZXJJZHNbdGhpcy5jdXJyZW50TGF5ZXJdXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHN0eWxlLl9nZXRMYXllclNvdXJjZUNhY2hlKGxheWVyKTtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuaXNTa3koKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgY29vcmRzID0gc291cmNlQ2FjaGUgPyBjb29yZHNEZXNjZW5kaW5nW3NvdXJjZUNhY2hlLmlkXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGxheWVyLCBzb3VyY2VDYWNoZSwgY29vcmRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckxheWVyKHRoaXMsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN0eWxlLmZvZyAmJiB0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nKSB7XG4gICAgICAgICAgICBkcmF3QXRtb3NwaGVyZSh0aGlzLCB0aGlzLnN0eWxlLmZvZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTa3kgcGFzcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gRHJhdyBhbGwgc2t5IGxheWVycyBib3R0b20gdG8gdG9wLlxuICAgICAgICAvLyBUaGV5IGFyZSBkcmF3biBhdCBtYXggZGVwdGgsIHRoZXkgYXJlIGRyYXduIGFmdGVyIG9wYXF1ZSBhbmQgYmVmb3JlXG4gICAgICAgIC8vIHRyYW5zbHVjZW50IHRvIGZhaWwgZGVwdGggdGVzdGluZyBhbmQgbWl4IHdpdGggdHJhbnNsdWNlbnQgb2JqZWN0cy5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzID0gJ3NreSc7XG4gICAgICAgIGNvbnN0IGlzVHJhbnNpdGlvbmluZyA9IGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odGhpcy50cmFuc2Zvcm0uem9vbSkgPiAwLjA7XG4gICAgICAgIGlmICgoaXNUcmFuc2l0aW9uaW5nIHx8IHRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSAhPT0gJ2dsb2JlJykgJiYgdGhpcy50cmFuc2Zvcm0uaXNIb3Jpem9uVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICBmb3IgKHRoaXMuY3VycmVudExheWVyID0gMDsgdGhpcy5jdXJyZW50TGF5ZXIgPCBsYXllcklkcy5sZW5ndGg7IHRoaXMuY3VycmVudExheWVyKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3R5bGUuX2xheWVyc1tsYXllcklkc1t0aGlzLmN1cnJlbnRMYXllcl1dO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUobGF5ZXIpO1xuICAgICAgICAgICAgICAgIGlmICghbGF5ZXIuaXNTa3koKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgY29vcmRzID0gc291cmNlQ2FjaGUgPyBjb29yZHNEZXNjZW5kaW5nW3NvdXJjZUNhY2hlLmlkXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTGF5ZXIodGhpcywgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJhbnNsdWNlbnQgcGFzcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyBEcmF3IGFsbCBvdGhlciBsYXllcnMgYm90dG9tLXRvLXRvcC5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzID0gJ3RyYW5zbHVjZW50JztcblxuICAgICAgICB0aGlzLmN1cnJlbnRMYXllciA9IDA7XG4gICAgICAgIHdoaWxlICh0aGlzLmN1cnJlbnRMYXllciA8IGxheWVySWRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLnN0eWxlLl9sYXllcnNbbGF5ZXJJZHNbdGhpcy5jdXJyZW50TGF5ZXJdXTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUobGF5ZXIpO1xuXG4gICAgICAgICAgICAvLyBOb3RoaW5nIHRvIGRyYXcgaW4gdHJhbnNsdWNlbnQgcGFzcyBmb3Igc2t5IGxheWVycywgYWR2YW5jZVxuICAgICAgICAgICAgaWYgKGxheWVyLmlzU2t5KCkpIHtcbiAgICAgICAgICAgICAgICArK3RoaXMuY3VycmVudExheWVyO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBXaXRoIHRlcnJhaW4gb24gYW5kIGZvciBkcmFwZWQgbGF5ZXJzIG9ubHksIGlzc3VlIHJlbmRlcmluZyBhbmQgcHJvZ3Jlc3NcbiAgICAgICAgICAgIC8vIHRoaXMuY3VycmVudExheWVyIHVudGlsIHRoZSBuZXh0IG5vbi1kcmFwZWQgbGF5ZXIuXG4gICAgICAgICAgICAvLyBPdGhlcndpc2Ugd2UgaW50ZXJsZWF2ZSB0ZXJyYWluIGRyYXBlZCByZW5kZXIgd2l0aCBub24tZHJhcGVkIGxheWVycyBvbiB0b3BcbiAgICAgICAgICAgIGlmICh0aGlzLnRlcnJhaW4gJiYgdGhpcy5zdHlsZS5pc0xheWVyRHJhcGVkKGxheWVyKSkge1xuICAgICAgICAgICAgICAgIGlmIChsYXllci5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSkge1xuICAgICAgICAgICAgICAgICAgICArK3RoaXMuY3VycmVudExheWVyO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGVycmFpbiA9ICgoKHRoaXMudGVycmFpbik6IGFueSk6IFRlcnJhaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZMYXllciA9IHRoaXMuY3VycmVudExheWVyO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExheWVyID0gdGVycmFpbi5yZW5kZXJCYXRjaCh0aGlzLmN1cnJlbnRMYXllcik7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuY3VycmVudCA9PT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRoaXMuY3VycmVudExheWVyID4gcHJldkxheWVyKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRm9yIHN5bWJvbCBsYXllcnMgaW4gdGhlIHRyYW5zbHVjZW50IHBhc3MsIHdlIGFkZCBleHRyYSB0aWxlcyB0byB0aGUgcmVuZGVyYWJsZSBzZXRcbiAgICAgICAgICAgIC8vIGZvciBjcm9zcy10aWxlIHN5bWJvbCBmYWRpbmcuIFN5bWJvbCBsYXllcnMgZG9uJ3QgdXNlIHRpbGUgY2xpcHBpbmcsIHNvIG5vIG5lZWQgdG8gcmVuZGVyXG4gICAgICAgICAgICAvLyBzZXBhcmF0ZSBjbGlwcGluZyBtYXNrc1xuICAgICAgICAgICAgY29uc3QgY29vcmRzID0gc291cmNlQ2FjaGUgP1xuICAgICAgICAgICAgICAgIChsYXllci50eXBlID09PSAnc3ltYm9sJyA/IGNvb3Jkc0Rlc2NlbmRpbmdTeW1ib2wgOiBjb29yZHNEZXNjZW5kaW5nKVtzb3VyY2VDYWNoZS5pZF0gOlxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MobGF5ZXIsIHNvdXJjZUNhY2hlLCBzb3VyY2VDYWNoZSA/IGNvb3Jkc0FzY2VuZGluZ1tzb3VyY2VDYWNoZS5pZF0gOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJMYXllcih0aGlzLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3Jkcyk7XG5cbiAgICAgICAgICAgICsrdGhpcy5jdXJyZW50TGF5ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy50ZXJyYWluKSB7XG4gICAgICAgICAgICB0aGlzLnRlcnJhaW4ucG9zdFJlbmRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VGlsZUJvdW5kYXJpZXMgfHwgdGhpcy5vcHRpb25zLnNob3dRdWVyeUdlb21ldHJ5IHx8IHRoaXMub3B0aW9ucy5zaG93VGlsZUFBQkJzKSB7XG4gICAgICAgICAgICAvL1VzZSBzb3VyY2Ugd2l0aCBoaWdoZXN0IG1heHpvb21cbiAgICAgICAgICAgIGxldCBzZWxlY3RlZFNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCBsYXllcnMgPSB2YWx1ZXModGhpcy5zdHlsZS5fbGF5ZXJzKTtcbiAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUobGF5ZXIpO1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZSAmJiAhbGF5ZXIuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFNvdXJjZSB8fCAoc2VsZWN0ZWRTb3VyY2UuZ2V0U291cmNlKCkubWF4em9vbSA8IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLm1heHpvb20pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFNvdXJjZSA9IHNvdXJjZUNhY2hlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dUaWxlQm91bmRhcmllcykge1xuICAgICAgICAgICAgICAgICAgICBkcmF3LmRlYnVnKHRoaXMsIHNlbGVjdGVkU291cmNlLCBzZWxlY3RlZFNvdXJjZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgRGVidWcucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFNvdXJjZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dRdWVyeUdlb21ldHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3RGVidWdRdWVyeUdlb21ldHJ5KHRoaXMsIHNlbGVjdGVkU291cmNlLCBzZWxlY3RlZFNvdXJjZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VGlsZUFBQkJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5kcmF3QWFiYnModGhpcywgc2VsZWN0ZWRTb3VyY2UsIHNlbGVjdGVkU291cmNlLmdldFZpc2libGVDb29yZGluYXRlcygpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93UGFkZGluZykge1xuICAgICAgICAgICAgZHJhd0RlYnVnUGFkZGluZyh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0cyBmb3IgbW9zdCBHTCB2YWx1ZXMgc28gdGhhdCBhbnlvbmUgdXNpbmcgdGhlIHN0YXRlIGFmdGVyIHRoZSByZW5kZXJcbiAgICAgICAgLy8gZW5jb3VudGVycyBtb3JlIGV4cGVjdGVkIHZhbHVlcy5cbiAgICAgICAgdGhpcy5jb250ZXh0LnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5mcmFtZUNvdW50ZXIgPSAodGhpcy5mcmFtZUNvdW50ZXIgKyAxKSAlIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4gICAgICAgIGlmICh0aGlzLnRpbGVMb2FkZWQgJiYgdGhpcy5vcHRpb25zLnNwZWVkSW5kZXhUaW1pbmcpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZFRpbWVTdGFtcHMucHVzaCh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICAgICAgdGhpcy5zYXZlQ2FudmFzQ29weSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyTGF5ZXIocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU/OiBTb3VyY2VDYWNoZSwgbGF5ZXI6IFN0eWxlTGF5ZXIsIGNvb3Jkcz86IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgICAgIGlmIChsYXllci5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSkgcmV0dXJuO1xuICAgICAgICBpZiAobGF5ZXIudHlwZSAhPT0gJ2JhY2tncm91bmQnICYmIGxheWVyLnR5cGUgIT09ICdza3knICYmIGxheWVyLnR5cGUgIT09ICdjdXN0b20nICYmICEoY29vcmRzICYmIGNvb3Jkcy5sZW5ndGgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuaWQgPSBsYXllci5pZDtcblxuICAgICAgICB0aGlzLmdwdVRpbWluZ1N0YXJ0KGxheWVyKTtcbiAgICAgICAgaWYgKCFwYWludGVyLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzIHx8ICFwYWludGVyLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzLmluY2x1ZGVzKGxheWVyLnR5cGUpIHx8XG4gICAgICAgICAgICAocGFpbnRlci50ZXJyYWluICYmIGxheWVyLnR5cGUgPT09ICdjdXN0b20nKSkge1xuICAgICAgICAgICAgZHJhd1tsYXllci50eXBlXShwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgdGhpcy5zdHlsZS5wbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzLCB0aGlzLm9wdGlvbnMuaXNJbml0aWFsTG9hZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ncHVUaW1pbmdFbmQoKTtcbiAgICB9XG5cbiAgICBncHVUaW1pbmdTdGFydChsYXllcjogU3R5bGVMYXllcikge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmcpIHJldHVybjtcbiAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7XG4gICAgICAgIC8vIFRoaXMgdHJpZXMgdG8gdGltZSB0aGUgZHJhdyBjYWxsIGl0c2VsZiwgYnV0IG5vdGUgdGhhdCB0aGUgY29zdCBmb3IgZHJhd2luZyBhIGxheWVyXG4gICAgICAgIC8vIG1heSBiZSBkb21pbmF0ZWQgYnkgdGhlIGNvc3Qgb2YgdXBsb2FkaW5nIHZlcnRpY2VzIHRvIHRoZSBHUFUuXG4gICAgICAgIC8vIFRvIGluc3RydW1lbnQgdGhhdCwgd2UnZCBuZWVkIHRvIHBhc3MgdGhlIGxheWVyVGltZXJzIG9iamVjdCBkb3duIGludG8gdGhlIGJ1Y2tldFxuICAgICAgICAvLyB1cGxvYWRpbmcgbG9naWMuXG4gICAgICAgIGxldCBsYXllclRpbWVyID0gdGhpcy5ncHVUaW1lcnNbbGF5ZXIuaWRdO1xuICAgICAgICBpZiAoIWxheWVyVGltZXIpIHtcbiAgICAgICAgICAgIGxheWVyVGltZXIgPSB0aGlzLmdwdVRpbWVyc1tsYXllci5pZF0gPSB7XG4gICAgICAgICAgICAgICAgY2FsbHM6IDAsXG4gICAgICAgICAgICAgICAgY3B1VGltZTogMCxcbiAgICAgICAgICAgICAgICBxdWVyeTogZXh0LmNyZWF0ZVF1ZXJ5RVhUKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgbGF5ZXJUaW1lci5jYWxscysrO1xuICAgICAgICBleHQuYmVnaW5RdWVyeUVYVChleHQuVElNRV9FTEFQU0VEX0VYVCwgbGF5ZXJUaW1lci5xdWVyeSk7XG4gICAgfVxuXG4gICAgZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXJTdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcikge1xuICAgICAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IGV4dC5jcmVhdGVRdWVyeUVYVCgpO1xuICAgICAgICAgICAgdGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzLnB1c2gocXVlcnkpO1xuICAgICAgICAgICAgZXh0LmJlZ2luUXVlcnlFWFQoZXh0LlRJTUVfRUxBUFNFRF9FWFQsIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdwdVRpbWluZ0RlZmVycmVkUmVuZGVyRW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcikgcmV0dXJuO1xuICAgICAgICBjb25zdCBleHQgPSB0aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeTtcbiAgICAgICAgZXh0LmVuZFF1ZXJ5RVhUKGV4dC5USU1FX0VMQVBTRURfRVhUKTtcbiAgICB9XG5cbiAgICBncHVUaW1pbmdFbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmdwdVRpbWluZykgcmV0dXJuO1xuICAgICAgICBjb25zdCBleHQgPSB0aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeTtcbiAgICAgICAgZXh0LmVuZFF1ZXJ5RVhUKGV4dC5USU1FX0VMQVBTRURfRVhUKTtcbiAgICB9XG5cbiAgICBjb2xsZWN0R3B1VGltZXJzKCk6IEdQVVRpbWVycyB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMYXllclRpbWVycyA9IHRoaXMuZ3B1VGltZXJzO1xuICAgICAgICB0aGlzLmdwdVRpbWVycyA9IHt9O1xuICAgICAgICByZXR1cm4gY3VycmVudExheWVyVGltZXJzO1xuICAgIH1cblxuICAgIGNvbGxlY3REZWZlcnJlZFJlbmRlckdwdVF1ZXJpZXMoKTogQXJyYXk8YW55PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRRdWVyaWVzID0gdGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzO1xuICAgICAgICB0aGlzLmRlZmVycmVkUmVuZGVyR3B1VGltZVF1ZXJpZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRRdWVyaWVzO1xuICAgIH1cblxuICAgIHF1ZXJ5R3B1VGltZXJzKGdwdVRpbWVyczogR1BVVGltZXJzKToge1tsYXllcklkOiBzdHJpbmddOiBudW1iZXJ9IHtcbiAgICAgICAgY29uc3QgbGF5ZXJzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiBncHVUaW1lcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGdwdVRpbWVyID0gZ3B1VGltZXJzW2xheWVySWRdO1xuICAgICAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7XG4gICAgICAgICAgICBjb25zdCBncHVUaW1lID0gZXh0LmdldFF1ZXJ5T2JqZWN0RVhUKGdwdVRpbWVyLnF1ZXJ5LCBleHQuUVVFUllfUkVTVUxUX0VYVCkgLyAoMTAwMCAqIDEwMDApO1xuICAgICAgICAgICAgZXh0LmRlbGV0ZVF1ZXJ5RVhUKGdwdVRpbWVyLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxheWVyc1tsYXllcklkXSA9IChncHVUaW1lOiBudW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYXllcnM7XG4gICAgfVxuXG4gICAgcXVlcnlHcHVUaW1lRGVmZXJyZWRSZW5kZXIoZ3B1UXVlcmllczogQXJyYXk8YW55Pik6IG51bWJlciB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyKSByZXR1cm4gMDtcbiAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7XG5cbiAgICAgICAgbGV0IGdwdVRpbWUgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHF1ZXJ5IG9mIGdwdVF1ZXJpZXMpIHtcbiAgICAgICAgICAgIGdwdVRpbWUgKz0gZXh0LmdldFF1ZXJ5T2JqZWN0RVhUKHF1ZXJ5LCBleHQuUVVFUllfUkVTVUxUX0VYVCkgLyAoMTAwMCAqIDEwMDApO1xuICAgICAgICAgICAgZXh0LmRlbGV0ZVF1ZXJ5RVhUKHF1ZXJ5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncHVUaW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIG1hdHJpeCB0byBpbmNvcnBvcmF0ZSB0aGUgKi10cmFuc2xhdGUgYW5kICotdHJhbnNsYXRlLWFuY2hvciBwcm9wZXJ0aWVzIGludG8gaXQuXG4gICAgICogQHBhcmFtIGluVmlld3BvcnRQaXhlbFVuaXRzVW5pdHMgVHJ1ZSB3aGVuIHRoZSB1bml0cyBhY2NlcHRlZCBieSB0aGUgbWF0cml4IGFyZSBpbiB2aWV3cG9ydCBwaXhlbHMgaW5zdGVhZCBvZiB0aWxlIHVuaXRzLlxuICAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IG1hdHJpeFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdHJhbnNsYXRlUG9zTWF0cml4KG1hdHJpeDogRmxvYXQzMkFycmF5LCB0aWxlOiBUaWxlLCB0cmFuc2xhdGU6IFtudW1iZXIsIG51bWJlcl0sIHRyYW5zbGF0ZUFuY2hvcjogJ21hcCcgfCAndmlld3BvcnQnLCBpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzPzogYm9vbGVhbik6IEZsb2F0MzJBcnJheSB7XG4gICAgICAgIGlmICghdHJhbnNsYXRlWzBdICYmICF0cmFuc2xhdGVbMV0pIHJldHVybiBtYXRyaXg7XG5cbiAgICAgICAgY29uc3QgYW5nbGUgPSBpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzID9cbiAgICAgICAgICAgICh0cmFuc2xhdGVBbmNob3IgPT09ICdtYXAnID8gdGhpcy50cmFuc2Zvcm0uYW5nbGUgOiAwKSA6XG4gICAgICAgICAgICAodHJhbnNsYXRlQW5jaG9yID09PSAndmlld3BvcnQnID8gLXRoaXMudHJhbnNmb3JtLmFuZ2xlIDogMCk7XG5cbiAgICAgICAgaWYgKGFuZ2xlKSB7XG4gICAgICAgICAgICBjb25zdCBzaW5BID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICAgICAgY29uc3QgY29zQSA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICAgIHRyYW5zbGF0ZSA9IFtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVbMF0gKiBjb3NBIC0gdHJhbnNsYXRlWzFdICogc2luQSxcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVbMF0gKiBzaW5BICsgdHJhbnNsYXRlWzFdICogY29zQVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gW1xuICAgICAgICAgICAgaW5WaWV3cG9ydFBpeGVsVW5pdHNVbml0cyA/IHRyYW5zbGF0ZVswXSA6IHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIHRyYW5zbGF0ZVswXSwgdGhpcy50cmFuc2Zvcm0uem9vbSksXG4gICAgICAgICAgICBpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzID8gdHJhbnNsYXRlWzFdIDogcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgdHJhbnNsYXRlWzFdLCB0aGlzLnRyYW5zZm9ybS56b29tKSxcbiAgICAgICAgICAgIDBcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCB0cmFuc2xhdGVkTWF0cml4ID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKHRyYW5zbGF0ZWRNYXRyaXgsIG1hdHJpeCwgdHJhbnNsYXRpb24pO1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRlZE1hdHJpeDtcbiAgICB9XG5cbiAgICBzYXZlVGlsZVRleHR1cmUodGV4dHVyZTogVGV4dHVyZSkge1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IHRoaXMuX3RpbGVUZXh0dXJlc1t0ZXh0dXJlLnNpemVbMF1dO1xuICAgICAgICBpZiAoIXRleHR1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLl90aWxlVGV4dHVyZXNbdGV4dHVyZS5zaXplWzBdXSA9IFt0ZXh0dXJlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRUaWxlVGV4dHVyZShzaXplOiBudW1iZXIpOiBudWxsIHwgVGV4dHVyZSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gdGhpcy5fdGlsZVRleHR1cmVzW3NpemVdO1xuICAgICAgICByZXR1cm4gdGV4dHVyZXMgJiYgdGV4dHVyZXMubGVuZ3RoID4gMCA/IHRleHR1cmVzLnBvcCgpIDogbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciBhIHBhdHRlcm4gaW1hZ2UgaXMgbmVlZGVkLCBhbmQgaWYgaXQgaXMsIHdoZXRoZXIgaXQgaXMgbm90IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgYSBuZWVkZWQgaW1hZ2UgaXMgbWlzc2luZyBhbmQgcmVuZGVyaW5nIG5lZWRzIHRvIGJlIHNraXBwZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBpc1BhdHRlcm5NaXNzaW5nKGltYWdlOiA/UmVzb2x2ZWRJbWFnZSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoaW1hZ2UgPT09IG51bGwpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoaW1hZ2UgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gIXRoaXMuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oaW1hZ2UudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgdGVycmFpblJlbmRlck1vZGVFbGV2YXRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgLy8gV2hldGhlciBlbGV2YXRpb24gc2FtcGxpbmcgc2hvdWxkIGJlIGVuYWJsZWQgaW4gdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlICYmICEhdGhpcy5zdHlsZS5nZXRUZXJyYWluKCkgJiYgISF0aGlzLnRlcnJhaW4gJiYgIXRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyAjZGVmaW5lcyB0aGF0IHdvdWxkIG5lZWQgdG8gYmUgaW5qZWN0ZWQgaW50byBldmVyeSBQcm9ncmFtXG4gICAgICogYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgb2YgUGFpbnRlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGN1cnJlbnRHbG9iYWxEZWZpbmVzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgY29uc3QgcnR0ID0gdGhpcy50ZXJyYWluICYmIHRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmU7XG4gICAgICAgIGNvbnN0IHplcm9FeGFnZ2VyYXRpb24gPSB0aGlzLnRlcnJhaW4gJiYgdGhpcy50ZXJyYWluLmV4YWdnZXJhdGlvbigpID09PSAwLjA7XG4gICAgICAgIGNvbnN0IGZvZyA9IHRoaXMuc3R5bGUgJiYgdGhpcy5zdHlsZS5mb2c7XG4gICAgICAgIGNvbnN0IGRlZmluZXMgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy50ZXJyYWluUmVuZGVyTW9kZUVsZXZhdGVkKCkpIGRlZmluZXMucHVzaCgnVEVSUkFJTicpO1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSBkZWZpbmVzLnB1c2goJ0dMT0JFJyk7XG4gICAgICAgIGlmICh6ZXJvRXhhZ2dlcmF0aW9uKSBkZWZpbmVzLnB1c2goJ1pFUk9fRVhBR0dFUkFUSU9OJyk7XG4gICAgICAgIC8vIFdoZW4gdGVycmFpbiBpcyBhY3RpdmUsIGZvZyBpcyByZW5kZXJlZCBhcyBwYXJ0IG9mIGRyYXBpbmcsIG5vdCBhcyBwYXJ0IG9mIHRpbGVcbiAgICAgICAgLy8gcmVuZGVyaW5nLiBSZW1vdmluZyB0aGUgZm9nIGZsYWcgZHVyaW5nIHRpbGUgcmVuZGVyaW5nIGF2b2lkcyBhZGRpdGlvbmFsIGRlZmluZXMuXG4gICAgICAgIGlmIChmb2cgJiYgIXJ0dCAmJiBmb2cuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCkgIT09IDAuMCkge1xuICAgICAgICAgICAgZGVmaW5lcy5wdXNoKCdGT0cnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocnR0KSBkZWZpbmVzLnB1c2goJ1JFTkRFUl9UT19URVhUVVJFJyk7XG4gICAgICAgIGlmICh0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IpIGRlZmluZXMucHVzaCgnT1ZFUkRSQVdfSU5TUEVDVE9SJyk7XG4gICAgICAgIHJldHVybiBkZWZpbmVzO1xuICAgIH1cblxuICAgIHVzZVByb2dyYW0obmFtZTogc3RyaW5nLCBwcm9ncmFtQ29uZmlndXJhdGlvbjogP1Byb2dyYW1Db25maWd1cmF0aW9uLCBmaXhlZERlZmluZXM6ID9EeW5hbWljRGVmaW5lc1R5cGVbXSk6IFByb2dyYW08YW55PiB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSB0aGlzLmNhY2hlIHx8IHt9O1xuICAgICAgICBjb25zdCBkZWZpbmVzID0gKCgoZml4ZWREZWZpbmVzIHx8IFtdKTogYW55KTogc3RyaW5nW10pO1xuXG4gICAgICAgIGNvbnN0IGdsb2JhbERlZmluZXMgPSB0aGlzLmN1cnJlbnRHbG9iYWxEZWZpbmVzKCk7XG4gICAgICAgIGNvbnN0IGFsbERlZmluZXMgPSBnbG9iYWxEZWZpbmVzLmNvbmNhdChkZWZpbmVzKTtcbiAgICAgICAgY29uc3Qga2V5ID0gUHJvZ3JhbS5jYWNoZUtleShzaGFkZXJzW25hbWVdLCBuYW1lLCBhbGxEZWZpbmVzLCBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVba2V5XSA9IG5ldyBQcm9ncmFtKHRoaXMuY29udGV4dCwgbmFtZSwgc2hhZGVyc1tuYW1lXSwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIHByb2dyYW1Vbmlmb3Jtc1tuYW1lXSwgYWxsRGVmaW5lcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVba2V5XTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFJlc2V0IHNvbWUgR0wgc3RhdGUgdG8gZGVmYXVsdCB2YWx1ZXMgdG8gYXZvaWQgaGFyZC10by1kZWJ1ZyBidWdzXG4gICAgICogaW4gY3VzdG9tIGxheWVycy5cbiAgICAgKi9cbiAgICBzZXRDdXN0b21MYXllckRlZmF1bHRzKCkge1xuICAgICAgICAvLyBQcmV2ZW50IGN1c3RvbSBsYXllcnMgZnJvbSB1bmludGVudGlvbmFsbHkgbW9kaWZ5IHRoZSBsYXN0IFZBTyB1c2VkLlxuICAgICAgICAvLyBBbGwgb3RoZXIgc3RhdGUgaXMgc3RhdGUgaXMgcmVzdG9yZWQgb24gaXQncyBvd24sIGJ1dCBmb3IgVkFPcyBpdCdzXG4gICAgICAgIC8vIHNpbXBsZXIgdG8gdW5iaW5kIHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byB0cmFjayB0aGUgc3RhdGUgb2YgVkFPcy5cbiAgICAgICAgdGhpcy5jb250ZXh0LnVuYmluZFZBTygpO1xuXG4gICAgICAgIC8vIFRoZSBkZWZhdWx0IHZhbHVlcyBmb3IgdGhpcyBzdGF0ZSBpcyBtZWFuaW5nZnVsIGFuZCBvZnRlbiBleHBlY3RlZC5cbiAgICAgICAgLy8gTGVhdmluZyB0aGlzIHN0YXRlIGRpcnR5IGNvdWxkIGNhdXNlIGEgbG90IG9mIGNvbmZ1c2lvbiBmb3IgdXNlcnMuXG4gICAgICAgIHRoaXMuY29udGV4dC5jdWxsRmFjZS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNvbnRleHQuY3VsbEZhY2VTaWRlLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFjay5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogU2V0IEdMIHN0YXRlIHRoYXQgaXMgc2hhcmVkIGJ5IGFsbCBsYXllcnMuXG4gICAgICovXG4gICAgc2V0QmFzZVN0YXRlKCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5jb250ZXh0LmN1bGxGYWNlLnNldChmYWxzZSk7XG4gICAgICAgIHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0XSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5ibGVuZEVxdWF0aW9uLnNldChnbC5GVU5DX0FERCk7XG4gICAgfVxuXG4gICAgaW5pdERlYnVnT3ZlcmxheUNhbnZhcygpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWdPdmVybGF5Q2FudmFzID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWdPdmVybGF5Q2FudmFzID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMud2lkdGggPSA1MTI7XG4gICAgICAgICAgICB0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy5oZWlnaHQgPSA1MTI7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIHRoaXMuZGVidWdPdmVybGF5VGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRoaXMuY29udGV4dCwgdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMsIGdsLlJHQkEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RlcnJhaW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3RlcnJhaW4uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdsb2JlU2hhcmVkQnVmZmVycykge1xuICAgICAgICAgICAgdGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnMuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuZGVidWdPdmVybGF5VGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5kZWJ1Z092ZXJsYXlUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdG1vc3BoZXJlQnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmF0bW9zcGhlcmVCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJlcGFyZURyYXdUaWxlKCkge1xuICAgICAgICBpZiAodGhpcy50ZXJyYWluKSB7XG4gICAgICAgICAgICB0aGlzLnRlcnJhaW4ucHJlcGFyZURyYXdUaWxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcmVwYXJlRHJhd1Byb2dyYW0oY29udGV4dDogQ29udGV4dCwgcHJvZ3JhbTogUHJvZ3JhbTwqPiwgdGlsZUlEOiA/VW53cmFwcGVkVGlsZUlEKSB7XG5cbiAgICAgICAgLy8gRm9nIGlzIG5vdCBlbmFibGVkIHdoZW4gcmVuZGVyaW5nIHRvIHRleHR1cmUgc28gd2VcbiAgICAgICAgLy8gY2FuIHNhZmVseSBza2lwIHVwbG9hZGluZyB1bmlmb3JtcyBpbiB0aGF0IGNhc2VcbiAgICAgICAgaWYgKHRoaXMudGVycmFpbiAmJiB0aGlzLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmb2cgPSB0aGlzLnN0eWxlLmZvZztcblxuICAgICAgICBpZiAoZm9nKSB7XG4gICAgICAgICAgICBjb25zdCBmb2dPcGFjaXR5ID0gZm9nLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpO1xuICAgICAgICAgICAgY29uc3QgZm9nVW5pZm9ybXMgPSBmb2dVbmlmb3JtVmFsdWVzKFxuICAgICAgICAgICAgICAgIHRoaXMsIGZvZywgdGlsZUlELCBmb2dPcGFjaXR5LFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRMLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRSLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJSLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJMLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uZ2xvYmVSYWRpdXMsXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS53aWR0aCAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uaGVpZ2h0ICogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvXG4gICAgICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIHByb2dyYW0uc2V0Rm9nVW5pZm9ybVZhbHVlcyhjb250ZXh0LCBmb2dVbmlmb3Jtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRUaWxlTG9hZGVkRmxhZyhmbGFnOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMudGlsZUxvYWRlZCA9IGZsYWc7XG4gICAgfVxuXG4gICAgc2F2ZUNhbnZhc0NvcHkoKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzQ29weSgpO1xuICAgICAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuICAgICAgICB0aGlzLmZyYW1lQ29waWVzLnB1c2goY2FudmFzKTtcbiAgICAgICAgdGhpcy50aWxlTG9hZGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY2FudmFzQ29weSgpOiA/V2ViR0xUZXh0dXJlIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgICAgICBnbC5jb3B5VGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCAwLCAwLCBnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQsIDApO1xuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICBnZXRDYW52YXNDb3BpZXNBbmRUaW1lc3RhbXBzKCk6IENhbnZhc0NvcHlJbnN0YW5jZXMge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FudmFzQ29waWVzOiB0aGlzLmZyYW1lQ29waWVzLFxuICAgICAgICAgICAgdGltZVN0YW1wczogdGhpcy5sb2FkVGltZVN0YW1wc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGF2ZXJhZ2VFbGV2YXRpb25OZWVkc0Vhc2luZygpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zZm9ybS5fZWxldmF0aW9uKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgZm9nID0gdGhpcy5zdHlsZSAmJiB0aGlzLnN0eWxlLmZvZztcbiAgICAgICAgaWYgKCFmb2cpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zdCBmb2dPcGFjaXR5ID0gZm9nLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpO1xuICAgICAgICBpZiAoZm9nT3BhY2l0eSA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGdldEJhY2tncm91bmRUaWxlcygpOiB7W2tleTogbnVtYmVyXTogVGlsZX0ge1xuICAgICAgICBjb25zdCBvbGRUaWxlcyA9IHRoaXMuX2JhY2tncm91bmRUaWxlcztcbiAgICAgICAgY29uc3QgbmV3VGlsZXMgPSB0aGlzLl9iYWNrZ3JvdW5kVGlsZXMgPSB7fTtcblxuICAgICAgICBjb25zdCB0aWxlU2l6ZSA9IDUxMjtcbiAgICAgICAgY29uc3QgdGlsZUlEcyA9IHRoaXMudHJhbnNmb3JtLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplfSk7XG4gICAgICAgIGZvciAoY29uc3QgdGlsZUlEIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgICAgIG5ld1RpbGVzW3RpbGVJRC5rZXldID0gb2xkVGlsZXNbdGlsZUlELmtleV0gfHwgbmV3IFRpbGUodGlsZUlELCB0aWxlU2l6ZSwgdGhpcy50cmFuc2Zvcm0udGlsZVpvb20sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdUaWxlcztcbiAgICB9XG5cbiAgICBjbGVhckJhY2tncm91bmRUaWxlcygpIHtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZFRpbGVzID0ge307XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYWludGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZS5qcyc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQgUHJvZ3JhbSBmcm9tICcuL3Byb2dyYW0uanMnO1xuaW1wb3J0IHtjaXJjbGVVbmlmb3JtVmFsdWVzLCBjaXJjbGVEZWZpbmVzVmFsdWVzfSBmcm9tICcuL3Byb2dyYW0vY2lyY2xlX3Byb2dyYW0uanMnO1xuaW1wb3J0IFNlZ21lbnRWZWN0b3IgZnJvbSAnLi4vZGF0YS9zZWdtZW50LmpzJztcbmltcG9ydCB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHttZXJjYXRvclhmcm9tTG5nLCBtZXJjYXRvcllmcm9tTGF0fSBmcm9tICcuLi9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgQ2lyY2xlU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9jaXJjbGVfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgQ2lyY2xlQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2NpcmNsZV9idWNrZXQuanMnO1xuaW1wb3J0IHR5cGUgUHJvZ3JhbUNvbmZpZ3VyYXRpb24gZnJvbSAnLi4vZGF0YS9wcm9ncmFtX2NvbmZpZ3VyYXRpb24uanMnO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXIuanMnO1xuaW1wb3J0IHR5cGUgSW5kZXhCdWZmZXIgZnJvbSAnLi4vZ2wvaW5kZXhfYnVmZmVyLmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSB7Q2lyY2xlVW5pZm9ybXNUeXBlfSBmcm9tICcuL3Byb2dyYW0vY2lyY2xlX3Byb2dyYW0uanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZS5qcyc7XG5pbXBvcnQgdHlwZSB7RHluYW1pY0RlZmluZXNUeXBlfSBmcm9tICcuL3Byb2dyYW0vcHJvZ3JhbV91bmlmb3Jtcy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdDaXJjbGVzO1xuXG50eXBlIFRpbGVSZW5kZXJTdGF0ZSA9IHtcbiAgICBwcm9ncmFtQ29uZmlndXJhdGlvbjogUHJvZ3JhbUNvbmZpZ3VyYXRpb24sXG4gICAgcHJvZ3JhbTogUHJvZ3JhbTwqPixcbiAgICBsYXlvdXRWZXJ0ZXhCdWZmZXI6IFZlcnRleEJ1ZmZlcixcbiAgICBnbG9iZUV4dFZlcnRleEJ1ZmZlcjogP1ZlcnRleEJ1ZmZlcixcbiAgICBpbmRleEJ1ZmZlcjogSW5kZXhCdWZmZXIsXG4gICAgdW5pZm9ybVZhbHVlczogVW5pZm9ybVZhbHVlczxDaXJjbGVVbmlmb3Jtc1R5cGU+LFxuICAgIHRpbGU6IFRpbGVcbn07XG5cbnR5cGUgU2VnbWVudHNUaWxlUmVuZGVyU3RhdGUgPSB7XG4gICAgc2VnbWVudHM6IFNlZ21lbnRWZWN0b3IsXG4gICAgc29ydEtleTogbnVtYmVyLFxuICAgIHN0YXRlOiBUaWxlUmVuZGVyU3RhdGVcbn07XG5cbmZ1bmN0aW9uIGRyYXdDaXJjbGVzKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IENpcmNsZVN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzICE9PSAndHJhbnNsdWNlbnQnKSByZXR1cm47XG5cbiAgICBjb25zdCBvcGFjaXR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtb3BhY2l0eScpO1xuICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtc3Ryb2tlLXdpZHRoJyk7XG4gICAgY29uc3Qgc3Ryb2tlT3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnY2lyY2xlLXN0cm9rZS1vcGFjaXR5Jyk7XG4gICAgY29uc3Qgc29ydEZlYXR1cmVzQnlLZXkgPSBsYXllci5sYXlvdXQuZ2V0KCdjaXJjbGUtc29ydC1rZXknKS5jb25zdGFudE9yKDEpICE9PSB1bmRlZmluZWQ7XG5cbiAgICBpZiAob3BhY2l0eS5jb25zdGFudE9yKDEpID09PSAwICYmIChzdHJva2VXaWR0aC5jb25zdGFudE9yKDEpID09PSAwIHx8IHN0cm9rZU9wYWNpdHkuY29uc3RhbnRPcigxKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG5cbiAgICBjb25zdCBkZXB0aE1vZGUgPSBwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIERlcHRoTW9kZS5SZWFkT25seSk7XG4gICAgLy8gVHVybiBvZmYgc3RlbmNpbCB0ZXN0aW5nIHRvIGFsbG93IGNpcmNsZXMgdG8gYmUgZHJhd24gYWNyb3NzIGJvdW5kYXJpZXMsXG4gICAgLy8gc28gdGhhdCBsYXJnZSBjaXJjbGVzIGFyZSBub3QgY2xpcHBlZCB0byB0aWxlc1xuICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gU3RlbmNpbE1vZGUuZGlzYWJsZWQ7XG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG4gICAgY29uc3QgaXNHbG9iZVByb2plY3Rpb24gPSB0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZSc7XG4gICAgY29uc3QgbWVyY2F0b3JDZW50ZXIgPSBbbWVyY2F0b3JYZnJvbUxuZyh0ci5jZW50ZXIubG5nKSwgbWVyY2F0b3JZZnJvbUxhdCh0ci5jZW50ZXIubGF0KV07XG5cbiAgICBjb25zdCBzZWdtZW50c1JlbmRlclN0YXRlczogQXJyYXk8U2VnbWVudHNUaWxlUmVuZGVyU3RhdGU+ID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjb29yZCA9IGNvb3Jkc1tpXTtcblxuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP0NpcmNsZUJ1Y2tldDwqPiA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0IHx8IGJ1Y2tldC5wcm9qZWN0aW9uLm5hbWUgIT09IHRyLnByb2plY3Rpb24ubmFtZSkgY29udGludWU7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG4gICAgICAgIGNvbnN0IGRlZmluZXNWYWx1ZXMgPSBjaXJjbGVEZWZpbmVzVmFsdWVzKGxheWVyKTtcbiAgICAgICAgaWYgKGlzR2xvYmVQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBkZWZpbmVzVmFsdWVzLnB1c2goJ1BST0pFQ1RJT05fR0xPQkVfVklFVycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2NpcmNsZScsIHByb2dyYW1Db25maWd1cmF0aW9uLCAoKGRlZmluZXNWYWx1ZXM6IGFueSk6IER5bmFtaWNEZWZpbmVzVHlwZVtdKSk7XG4gICAgICAgIGNvbnN0IGxheW91dFZlcnRleEJ1ZmZlciA9IGJ1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXI7XG4gICAgICAgIGNvbnN0IGdsb2JlRXh0VmVydGV4QnVmZmVyID0gYnVja2V0Lmdsb2JlRXh0VmVydGV4QnVmZmVyO1xuICAgICAgICBjb25zdCBpbmRleEJ1ZmZlciA9IGJ1Y2tldC5pbmRleEJ1ZmZlcjtcbiAgICAgICAgY29uc3QgaW52TWF0cml4ID0gdHIucHJvamVjdGlvbi5jcmVhdGVJbnZlcnNpb25NYXRyaXgodHIsIGNvb3JkLmNhbm9uaWNhbCk7XG4gICAgICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSBjaXJjbGVVbmlmb3JtVmFsdWVzKHBhaW50ZXIsIGNvb3JkLCB0aWxlLCBpbnZNYXRyaXgsIG1lcmNhdG9yQ2VudGVyLCBsYXllcik7XG5cbiAgICAgICAgY29uc3Qgc3RhdGU6IFRpbGVSZW5kZXJTdGF0ZSA9IHtcbiAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uLFxuICAgICAgICAgICAgcHJvZ3JhbSxcbiAgICAgICAgICAgIGxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgIGdsb2JlRXh0VmVydGV4QnVmZmVyLFxuICAgICAgICAgICAgaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzLFxuICAgICAgICAgICAgdGlsZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChzb3J0RmVhdHVyZXNCeUtleSkge1xuICAgICAgICAgICAgY29uc3Qgb2xkU2VnbWVudHMgPSBidWNrZXQuc2VnbWVudHMuZ2V0KCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygb2xkU2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICBzZWdtZW50c1JlbmRlclN0YXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgc2VnbWVudHM6IG5ldyBTZWdtZW50VmVjdG9yKFtzZWdtZW50XSksXG4gICAgICAgICAgICAgICAgICAgIHNvcnRLZXk6ICgoc2VnbWVudC5zb3J0S2V5OiBhbnkpOiBudW1iZXIpLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VnbWVudHNSZW5kZXJTdGF0ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgc2VnbWVudHM6IGJ1Y2tldC5zZWdtZW50cyxcbiAgICAgICAgICAgICAgICBzb3J0S2V5OiAwLFxuICAgICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgaWYgKHNvcnRGZWF0dXJlc0J5S2V5KSB7XG4gICAgICAgIHNlZ21lbnRzUmVuZGVyU3RhdGVzLnNvcnQoKGEsIGIpID0+IGEuc29ydEtleSAtIGIuc29ydEtleSk7XG4gICAgfVxuXG4gICAgY29uc3QgdGVycmFpbk9wdGlvbnMgPSB7dXNlRGVwdGhGb3JPY2NsdXNpb246ICFpc0dsb2JlUHJvamVjdGlvbn07XG5cbiAgICBmb3IgKGNvbnN0IHNlZ21lbnRzU3RhdGUgb2Ygc2VnbWVudHNSZW5kZXJTdGF0ZXMpIHtcbiAgICAgICAgY29uc3Qge3Byb2dyYW1Db25maWd1cmF0aW9uLCBwcm9ncmFtLCBsYXlvdXRWZXJ0ZXhCdWZmZXIsIGdsb2JlRXh0VmVydGV4QnVmZmVyLCBpbmRleEJ1ZmZlciwgdW5pZm9ybVZhbHVlcywgdGlsZX0gPSBzZWdtZW50c1N0YXRlLnN0YXRlO1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IHNlZ21lbnRzU3RhdGUuc2VnbWVudHM7XG5cbiAgICAgICAgaWYgKHBhaW50ZXIudGVycmFpbikgcGFpbnRlci50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyh0aWxlLCBwcm9ncmFtLCB0ZXJyYWluT3B0aW9ucyk7XG5cbiAgICAgICAgcGFpbnRlci5wcmVwYXJlRHJhd1Byb2dyYW0oY29udGV4dCwgcHJvZ3JhbSwgdGlsZS50aWxlSUQudG9VbndyYXBwZWQoKSk7XG5cbiAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzLCBsYXllci5pZCwgbGF5b3V0VmVydGV4QnVmZmVyLCBpbmRleEJ1ZmZlciwgc2VnbWVudHMsXG4gICAgICAgICAgICBsYXllci5wYWludCwgdHIuem9vbSwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIFtnbG9iZUV4dFZlcnRleEJ1ZmZlcl0pO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZS5qcyc7XG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yLmpzJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZS5qcyc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZS5qcyc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlLmpzJztcbmltcG9ydCB7XG4gICAgaGVhdG1hcFVuaWZvcm1WYWx1ZXMsXG4gICAgaGVhdG1hcFRleHR1cmVVbmlmb3JtVmFsdWVzXG59IGZyb20gJy4vcHJvZ3JhbS9oZWF0bWFwX3Byb2dyYW0uanMnO1xuaW1wb3J0IHttZXJjYXRvclhmcm9tTG5nLCBtZXJjYXRvcllmcm9tTGF0fSBmcm9tICcuLi9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgSGVhdG1hcFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvaGVhdG1hcF9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgdHlwZSBIZWF0bWFwQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2hlYXRtYXBfYnVja2V0LmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdIZWF0bWFwO1xuXG5mdW5jdGlvbiBkcmF3SGVhdG1hcChwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBIZWF0bWFwU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChsYXllci5wYWludC5nZXQoJ2hlYXRtYXAtb3BhY2l0eScpID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAnb2Zmc2NyZWVuJykge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgLy8gQWxsb3cga2VybmVscyB0byBiZSBkcmF3biBhY3Jvc3MgYm91bmRhcmllcywgc28gdGhhdFxuICAgICAgICAvLyBsYXJnZSBrZXJuZWxzIGFyZSBub3QgY2xpcHBlZCB0byB0aWxlc1xuICAgICAgICBjb25zdCBzdGVuY2lsTW9kZSA9IFN0ZW5jaWxNb2RlLmRpc2FibGVkO1xuICAgICAgICAvLyBUdXJuIG9uIGFkZGl0aXZlIGJsZW5kaW5nIGZvciBrZXJuZWxzLCB3aGljaCBpcyBhIGtleSBhc3BlY3Qgb2Yga2VybmVsIGRlbnNpdHkgZXN0aW1hdGlvbiBmb3JtdWxhXG4gICAgICAgIGNvbnN0IGNvbG9yTW9kZSA9IG5ldyBDb2xvck1vZGUoW2dsLk9ORSwgZ2wuT05FXSwgQ29sb3IudHJhbnNwYXJlbnQsIFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXSk7XG4gICAgICAgIGNvbnN0IHJlc29sdXRpb25TY2FsaW5nID0gcGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnID8gMC41IDogMC4yNTtcblxuICAgICAgICBiaW5kRnJhbWVidWZmZXIoY29udGV4dCwgcGFpbnRlciwgbGF5ZXIsIHJlc29sdXRpb25TY2FsaW5nKTtcblxuICAgICAgICBjb250ZXh0LmNsZWFyKHtjb2xvcjogQ29sb3IudHJhbnNwYXJlbnR9KTtcblxuICAgICAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuXG4gICAgICAgIGNvbnN0IGlzR2xvYmVQcm9qZWN0aW9uID0gdHIucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuXG4gICAgICAgIGNvbnN0IGRlZmluZXNWYWx1ZXMgPSBpc0dsb2JlUHJvamVjdGlvbiA/IFsnUFJPSkVDVElPTl9HTE9CRV9WSUVXJ10gOiBudWxsO1xuICAgICAgICBjb25zdCBjdWxsTW9kZSA9IGlzR2xvYmVQcm9qZWN0aW9uID8gQ3VsbEZhY2VNb2RlLmZyb250Q0NXIDogQ3VsbEZhY2VNb2RlLmRpc2FibGVkO1xuXG4gICAgICAgIGNvbnN0IG1lcmNhdG9yQ2VudGVyID0gW21lcmNhdG9yWGZyb21MbmcodHIuY2VudGVyLmxuZyksIG1lcmNhdG9yWWZyb21MYXQodHIuY2VudGVyLmxhdCldO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjb29yZCA9IGNvb3Jkc1tpXTtcblxuICAgICAgICAgICAgLy8gU2tpcCB0aWxlcyB0aGF0IGhhdmUgdW5jb3ZlcmVkIHBhcmVudHMgdG8gYXZvaWQgZmxpY2tlcmluZzsgd2UgZG9uJ3QgbmVlZFxuICAgICAgICAgICAgLy8gdG8gdXNlIGNvbXBsZXggdGlsZSBtYXNraW5nIGhlcmUgYmVjYXVzZSB0aGUgY2hhbmdlIGJldHdlZW4gem9vbSBsZXZlbHMgaXMgc3VidGxlLFxuICAgICAgICAgICAgLy8gc28gaXQncyBmaW5lIHRvIHNpbXBseSByZW5kZXIgdGhlIHBhcmVudCB1bnRpbCBhbGwgaXRzIDQgY2hpbGRyZW4gYXJlIGxvYWRlZFxuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLmhhc1JlbmRlcmFibGVQYXJlbnQoY29vcmQpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICAgICAgY29uc3QgYnVja2V0OiA/SGVhdG1hcEJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgICAgICBpZiAoIWJ1Y2tldCB8fCBidWNrZXQucHJvamVjdGlvbi5uYW1lICE9PSB0ci5wcm9qZWN0aW9uLm5hbWUpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1Y2tldC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2hlYXRtYXAnLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgZGVmaW5lc1ZhbHVlcyk7XG4gICAgICAgICAgICBjb25zdCB7em9vbX0gPSBwYWludGVyLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIGlmIChwYWludGVyLnRlcnJhaW4pIHBhaW50ZXIudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcodGlsZSwgcHJvZ3JhbSk7XG5cbiAgICAgICAgICAgIHBhaW50ZXIucHJlcGFyZURyYXdQcm9ncmFtKGNvbnRleHQsIHByb2dyYW0sIGNvb3JkLnRvVW53cmFwcGVkKCkpO1xuXG4gICAgICAgICAgICBjb25zdCBpbnZNYXRyaXggPSB0ci5wcm9qZWN0aW9uLmNyZWF0ZUludmVyc2lvbk1hdHJpeCh0ciwgY29vcmQuY2Fub25pY2FsKTtcblxuICAgICAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgRGVwdGhNb2RlLmRpc2FibGVkLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBjdWxsTW9kZSxcbiAgICAgICAgICAgICAgICBoZWF0bWFwVW5pZm9ybVZhbHVlcyhwYWludGVyLCBjb29yZCxcbiAgICAgICAgICAgICAgICAgICAgdGlsZSwgaW52TWF0cml4LCBtZXJjYXRvckNlbnRlciwgem9vbSwgbGF5ZXIucGFpbnQuZ2V0KCdoZWF0bWFwLWludGVuc2l0eScpKSxcbiAgICAgICAgICAgICAgICBsYXllci5pZCwgYnVja2V0LmxheW91dFZlcnRleEJ1ZmZlciwgYnVja2V0LmluZGV4QnVmZmVyLFxuICAgICAgICAgICAgICAgIGJ1Y2tldC5zZWdtZW50cywgbGF5ZXIucGFpbnQsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20sXG4gICAgICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIGlzR2xvYmVQcm9qZWN0aW9uID8gW2J1Y2tldC5nbG9iZUV4dFZlcnRleEJ1ZmZlcl0gOiBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodF0pO1xuXG4gICAgfSBlbHNlIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcpIHtcbiAgICAgICAgcGFpbnRlci5jb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG4gICAgICAgIHJlbmRlclRleHR1cmVUb01hcChwYWludGVyLCBsYXllcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBiaW5kRnJhbWVidWZmZXIoY29udGV4dCwgcGFpbnRlciwgbGF5ZXIsIHNjYWxpbmcpIHtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3Qgd2lkdGggPSBwYWludGVyLndpZHRoICogc2NhbGluZztcbiAgICBjb25zdCBoZWlnaHQgPSBwYWludGVyLmhlaWdodCAqIHNjYWxpbmc7XG5cbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcbiAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgd2lkdGgsIGhlaWdodF0pO1xuXG4gICAgbGV0IGZibyA9IGxheWVyLmhlYXRtYXBGYm87XG5cbiAgICBpZiAoIWZibyB8fCAoZmJvICYmIChmYm8ud2lkdGggIT09IHdpZHRoIHx8IGZiby5oZWlnaHQgIT09IGhlaWdodCkpKSB7XG4gICAgICAgIGlmIChmYm8pIHsgZmJvLmRlc3Ryb3koKTsgfVxuXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcblxuICAgICAgICBmYm8gPSBsYXllci5oZWF0bWFwRmJvID0gY29udGV4dC5jcmVhdGVGcmFtZWJ1ZmZlcih3aWR0aCwgaGVpZ2h0LCBmYWxzZSk7XG5cbiAgICAgICAgYmluZFRleHR1cmVUb0ZyYW1lYnVmZmVyKGNvbnRleHQsIHBhaW50ZXIsIHRleHR1cmUsIGZibywgd2lkdGgsIGhlaWdodCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBmYm8uY29sb3JBdHRhY2htZW50LmdldCgpKTtcbiAgICAgICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBiaW5kVGV4dHVyZVRvRnJhbWVidWZmZXIoY29udGV4dCwgcGFpbnRlciwgdGV4dHVyZSwgZmJvLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIC8vIFVzZSB0aGUgaGlnaGVyIHByZWNpc2lvbiBoYWxmLWZsb2F0IHRleHR1cmUgd2hlcmUgYXZhaWxhYmxlIChwcm9kdWNpbmcgbXVjaCBzbW9vdGhlciBsb29raW5nIGhlYXRtYXBzKTtcbiAgICAvLyBPdGhlcndpc2UsIGZhbGwgYmFjayB0byBhIGxvdyBwcmVjaXNpb24gdGV4dHVyZVxuICAgIC8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSBXZWJHTDIgKi9cbiAgICBjb25zdCB0eXBlID0gY29udGV4dC5leHRSZW5kZXJUb1RleHR1cmVIYWxmRmxvYXQgPyAoY29udGV4dC5pc1dlYkdMMiA/IGdsLkhBTEZfRkxPQVQgOiBjb250ZXh0LmV4dFRleHR1cmVIYWxmRmxvYXQuSEFMRl9GTE9BVF9PRVMpIDogZ2wuVU5TSUdORURfQllURTtcbiAgICAvKiAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gV2ViR0wyICovXG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAoY29udGV4dC5pc1dlYkdMMiAmJiBjb250ZXh0LmV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdCkgPyBnbC5SR0JBMTZGIDogZ2wuUkdCQSwgd2lkdGgsIGhlaWdodCwgMCwgZ2wuUkdCQSwgdHlwZSwgbnVsbCk7XG4gICAgZmJvLmNvbG9yQXR0YWNobWVudC5zZXQodGV4dHVyZSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclRleHR1cmVUb01hcChwYWludGVyLCBsYXllcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgLy8gSGVyZSB3ZSBiaW5kIHR3byBkaWZmZXJlbnQgdGV4dHVyZXMgZnJvbSB3aGljaCB3ZSdsbCBzYW1wbGUgaW4gZHJhd2luZ1xuICAgIC8vIGhlYXRtYXBzOiB0aGUga2VybmVsIHRleHR1cmUsIHByZXBhcmVkIGluIHRoZSBvZmZzY3JlZW4gcGFzcywgYW5kIGFcbiAgICAvLyBjb2xvciByYW1wIHRleHR1cmUuXG4gICAgY29uc3QgZmJvID0gbGF5ZXIuaGVhdG1hcEZibztcbiAgICBpZiAoIWZibykgcmV0dXJuO1xuICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGZiby5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpO1xuXG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMSk7XG4gICAgbGV0IGNvbG9yUmFtcFRleHR1cmUgPSBsYXllci5jb2xvclJhbXBUZXh0dXJlO1xuICAgIGlmICghY29sb3JSYW1wVGV4dHVyZSkge1xuICAgICAgICBjb2xvclJhbXBUZXh0dXJlID0gbGF5ZXIuY29sb3JSYW1wVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIGxheWVyLmNvbG9yUmFtcCwgZ2wuUkdCQSk7XG4gICAgfVxuICAgIGNvbG9yUmFtcFRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgcGFpbnRlci51c2VQcm9ncmFtKCdoZWF0bWFwVGV4dHVyZScpLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLFxuICAgICAgICBEZXB0aE1vZGUuZGlzYWJsZWQsIFN0ZW5jaWxNb2RlLmRpc2FibGVkLCBwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICBoZWF0bWFwVGV4dHVyZVVuaWZvcm1WYWx1ZXMocGFpbnRlciwgbGF5ZXIsIDAsIDEpLFxuICAgICAgICBsYXllci5pZCwgcGFpbnRlci52aWV3cG9ydEJ1ZmZlciwgcGFpbnRlci5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixcbiAgICAgICAgcGFpbnRlci52aWV3cG9ydFNlZ21lbnRzLCBsYXllci5wYWludCwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSk7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZS5qcyc7XG5pbXBvcnQge1xuICAgIGxpbmVVbmlmb3JtVmFsdWVzLFxuICAgIGxpbmVQYXR0ZXJuVW5pZm9ybVZhbHVlcyxcbiAgICBsaW5lRGVmaW5lc1ZhbHVlc1xufSBmcm9tICcuL3Byb2dyYW0vbGluZV9wcm9ncmFtLmpzJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgTGluZVN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvbGluZV9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgdHlwZSBMaW5lQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2xpbmVfYnVja2V0LmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgdHlwZSB7RHluYW1pY0RlZmluZXNUeXBlfSBmcm9tICcuL3Byb2dyYW0vcHJvZ3JhbV91bmlmb3Jtcy5qcyc7XG5pbXBvcnQge2NsYW1wLCBuZXh0UG93ZXJPZlR3b30gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7cmVuZGVyQ29sb3JSYW1wfSBmcm9tICcuLi91dGlsL2NvbG9yX3JhbXAuanMnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRyYXdMaW5lKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IExpbmVTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gJ3RyYW5zbHVjZW50JykgcmV0dXJuO1xuXG4gICAgY29uc3Qgb3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnbGluZS1vcGFjaXR5Jyk7XG4gICAgY29uc3Qgd2lkdGggPSBsYXllci5wYWludC5nZXQoJ2xpbmUtd2lkdGgnKTtcbiAgICBpZiAob3BhY2l0eS5jb25zdGFudE9yKDEpID09PSAwIHx8IHdpZHRoLmNvbnN0YW50T3IoMSkgPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IGRlcHRoTW9kZSA9IHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KTtcbiAgICBjb25zdCBjb2xvck1vZGUgPSBwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gKHBhaW50ZXIudGVycmFpbiAmJiBwYWludGVyLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlKSA/IDEuMCA6IGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbztcblxuICAgIGNvbnN0IGRhc2hhcnJheVByb3BlcnR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLWRhc2hhcnJheScpO1xuICAgIGNvbnN0IGRhc2hhcnJheSA9IGRhc2hhcnJheVByb3BlcnR5LmNvbnN0YW50T3IoKDE6IGFueSkpO1xuICAgIGNvbnN0IGNhcFByb3BlcnR5ID0gbGF5ZXIubGF5b3V0LmdldCgnbGluZS1jYXAnKTtcbiAgICBjb25zdCBwYXR0ZXJuUHJvcGVydHkgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtcGF0dGVybicpO1xuICAgIGNvbnN0IGltYWdlID0gcGF0dGVyblByb3BlcnR5LmNvbnN0YW50T3IoKDE6IGFueSkpO1xuXG4gICAgY29uc3QgZ3JhZGllbnQgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtZ3JhZGllbnQnKTtcblxuICAgIGNvbnN0IHByb2dyYW1JZCA9IGltYWdlID8gJ2xpbmVQYXR0ZXJuJyA6ICdsaW5lJztcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgY29uc3QgZGVmaW5lc1ZhbHVlcyA9IGxpbmVEZWZpbmVzVmFsdWVzKGxheWVyKTtcbiAgICBsZXQgdXNlU3RlbmNpbE1hc2tSZW5kZXJQYXNzID0gZGVmaW5lc1ZhbHVlcy5pbmNsdWRlcygnUkVOREVSX0xJTkVfQUxQSEFfRElTQ0FSRCcpO1xuICAgIGlmIChwYWludGVyLnRlcnJhaW4gJiYgcGFpbnRlci50ZXJyYWluLmNsaXBPck1hc2tPdmVybGFwU3RlbmNpbFR5cGUoKSkge1xuICAgICAgICB1c2VTdGVuY2lsTWFza1JlbmRlclBhc3MgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGlmIChpbWFnZSAmJiAhdGlsZS5wYXR0ZXJuc0xvYWRlZCgpKSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBidWNrZXQ6ID9MaW5lQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuICAgICAgICBwYWludGVyLnByZXBhcmVEcmF3VGlsZSgpO1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW1Db25maWd1cmF0aW9uID0gYnVja2V0LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpO1xuICAgICAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKHByb2dyYW1JZCwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sICgoZGVmaW5lc1ZhbHVlczogYW55KTogRHluYW1pY0RlZmluZXNUeXBlW10pKTtcblxuICAgICAgICBjb25zdCBjb25zdGFudFBhdHRlcm4gPSBwYXR0ZXJuUHJvcGVydHkuY29uc3RhbnRPcihudWxsKTtcbiAgICAgICAgaWYgKGNvbnN0YW50UGF0dGVybiAmJiB0aWxlLmltYWdlQXRsYXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc1RvID0gdGlsZS5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnNbY29uc3RhbnRQYXR0ZXJuLnRvU3RyaW5nKCldO1xuICAgICAgICAgICAgaWYgKHBvc1RvKSBwcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMocG9zVG8pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29uc3RhbnREYXNoID0gZGFzaGFycmF5UHJvcGVydHkuY29uc3RhbnRPcihudWxsKTtcbiAgICAgICAgY29uc3QgY29uc3RhbnRDYXAgPSBjYXBQcm9wZXJ0eS5jb25zdGFudE9yKChudWxsOiBhbnkpKTtcblxuICAgICAgICBpZiAoIWltYWdlICYmIGNvbnN0YW50RGFzaCAmJiBjb25zdGFudENhcCAmJiB0aWxlLmxpbmVBdGxhcykge1xuICAgICAgICAgICAgY29uc3QgcG9zVG8gPSB0aWxlLmxpbmVBdGxhcy5nZXREYXNoKGNvbnN0YW50RGFzaCwgY29uc3RhbnRDYXApO1xuICAgICAgICAgICAgaWYgKHBvc1RvKSBwcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMocG9zVG8pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IFt0cmltU3RhcnQsIHRyaW1FbmRdID0gbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLXRyaW0tb2Zmc2V0Jyk7XG4gICAgICAgIC8vIFdoZW4gbGluZSBjYXAgaXMgJ3JvdW5kJyBvciAnc3F1YXJlJywgdGhlIHdob2xlIGxpbmUgcHJvZ3Jlc3Mgd2lsbCBiZXlvbmQgMS4wIG9yIGxlc3MgdGhhbiAwLjAuXG4gICAgICAgIC8vIElmIHRyaW1fb2Zmc2V0IGJlZ2luIGlzIGxpbmUgYmVnaW4gKDAuMCksIG9yIHRyaW1fb2Zmc2V0IGVuZCBpcyBsaW5lIGVuZCAoMS4wKSwgYWRqdXN0IHRoZSB0cmltXG4gICAgICAgIC8vIG9mZnNldCB3aXRoIGZha2Ugb2Zmc2V0IHNoaWZ0IHNvIHRoYXQgdGhlIGxpbmVfcHJvZ3Jlc3MgPCAwLjAgb3IgbGluZV9wcm9ncmVzcyA+IDEuMCBwYXJ0IHdpbGwgYmVcbiAgICAgICAgLy8gY29ycmVjdGx5IGNvdmVyZWQuXG4gICAgICAgIGlmIChjb25zdGFudENhcCA9PT0gJ3JvdW5kJyB8fCBjb25zdGFudENhcCA9PT0gJ3NxdWFyZScpIHtcbiAgICAgICAgICAgIC8vIEZha2UgdGhlIHBlcmNlbnRhZ2Ugc28gdGhhdCBpdCB3aWxsIGNvdmVyIHRoZSByb3VuZC9zcXVhcmUgY2FwIHRoYXQgaXMgYmV5b25kIHdob2xlIGxpbmVcbiAgICAgICAgICAgIGNvbnN0IGZha2VPZmZzZXRTaGlmdCA9IDEuMDtcbiAgICAgICAgICAgIC8vIFRvIG1ha2Ugc3VyZSB0aGF0IHRoZSB0cmltIG9mZnNldCByYW5nZSBpcyBlZmZlY2l2ZVxuICAgICAgICAgICAgaWYgKHRyaW1TdGFydCAhPT0gdHJpbUVuZCkge1xuICAgICAgICAgICAgICAgIGlmICh0cmltU3RhcnQgPT09IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICB0cmltU3RhcnQgLT0gZmFrZU9mZnNldFNoaWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHJpbUVuZCA9PT0gMS4wKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyaW1FbmQgKz0gZmFrZU9mZnNldFNoaWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHBhaW50ZXIudGVycmFpbiA/IGNvb3JkLnByb2pNYXRyaXggOiBudWxsO1xuICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gaW1hZ2UgP1xuICAgICAgICAgICAgbGluZVBhdHRlcm5Vbmlmb3JtVmFsdWVzKHBhaW50ZXIsIHRpbGUsIGxheWVyLCBtYXRyaXgsIHBpeGVsUmF0aW8pIDpcbiAgICAgICAgICAgIGxpbmVVbmlmb3JtVmFsdWVzKHBhaW50ZXIsIHRpbGUsIGxheWVyLCBtYXRyaXgsIGJ1Y2tldC5saW5lQ2xpcHNBcnJheS5sZW5ndGgsIHBpeGVsUmF0aW8sIFt0cmltU3RhcnQsIHRyaW1FbmRdKTtcblxuICAgICAgICBpZiAoZ3JhZGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyR3JhZGllbnQgPSBidWNrZXQuZ3JhZGllbnRzW2xheWVyLmlkXTtcbiAgICAgICAgICAgIGxldCBncmFkaWVudFRleHR1cmUgPSBsYXllckdyYWRpZW50LnRleHR1cmU7XG4gICAgICAgICAgICBpZiAobGF5ZXIuZ3JhZGllbnRWZXJzaW9uICE9PSBsYXllckdyYWRpZW50LnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dHVyZVJlc29sdXRpb24gPSAyNTY7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLnN0ZXBJbnRlcnBvbGFudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VNYXhab29tID0gc291cmNlQ2FjaGUuZ2V0U291cmNlKCkubWF4em9vbTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG90ZW50aWFsT3Zlcnpvb20gPSBjb29yZC5jYW5vbmljYWwueiA9PT0gc291cmNlTWF4Wm9vbSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNlaWwoMSA8PCAocGFpbnRlci50cmFuc2Zvcm0ubWF4Wm9vbSAtIGNvb3JkLmNhbm9uaWNhbC56KSkgOiAxO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lTGVuZ3RoID0gYnVja2V0Lm1heExpbmVMZW5ndGggLyBFWFRFTlQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIExvZ2ljYWwgcGl4ZWwgdGlsZSBzaXplIGlzIDUxMnB4LCBhbmQgMTAyNHB4IHJpZ2h0IGJlZm9yZSBjdXJyZW50IHpvb20gKyAxXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFRpbGVQaXhlbFNpemUgPSAxMDI0O1xuICAgICAgICAgICAgICAgICAgICAvLyBNYXhpbXVtIHBvc3NpYmxlIHRleHR1cmUgY292ZXJhZ2UgaGV1cmlzdGljLCBib3VuZCBieSBoYXJkd2FyZSBtYXggdGV4dHVyZSBzaXplXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFRleHR1cmVDb3ZlcmFnZSA9IGxpbmVMZW5ndGggKiBtYXhUaWxlUGl4ZWxTaXplICogcG90ZW50aWFsT3Zlcnpvb207XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVSZXNvbHV0aW9uID0gY2xhbXAobmV4dFBvd2VyT2ZUd28obWF4VGV4dHVyZUNvdmVyYWdlKSwgMjU2LCBjb250ZXh0Lm1heFRleHR1cmVTaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGF5ZXJHcmFkaWVudC5ncmFkaWVudCA9IHJlbmRlckNvbG9yUmFtcCh7XG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IGxheWVyLmdyYWRpZW50RXhwcmVzc2lvbigpLFxuICAgICAgICAgICAgICAgICAgICBldmFsdWF0aW9uS2V5OiAnbGluZVByb2dyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogdGV4dHVyZVJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiBsYXllckdyYWRpZW50LmdyYWRpZW50IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY2xpcHM6IGJ1Y2tldC5saW5lQ2xpcHNBcnJheVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChsYXllckdyYWRpZW50LnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJHcmFkaWVudC50ZXh0dXJlLnVwZGF0ZShsYXllckdyYWRpZW50LmdyYWRpZW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYXllckdyYWRpZW50LnRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCBsYXllckdyYWRpZW50LmdyYWRpZW50LCBnbC5SR0JBKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGF5ZXJHcmFkaWVudC52ZXJzaW9uID0gbGF5ZXIuZ3JhZGllbnRWZXJzaW9uO1xuICAgICAgICAgICAgICAgIGdyYWRpZW50VGV4dHVyZSA9IGxheWVyR3JhZGllbnQudGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTEpO1xuICAgICAgICAgICAgZ3JhZGllbnRUZXh0dXJlLmJpbmQobGF5ZXIuc3RlcEludGVycG9sYW50ID8gZ2wuTkVBUkVTVCA6IGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhc2hhcnJheSkge1xuICAgICAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgICAgICB0aWxlLmxpbmVBdGxhc1RleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLlJFUEVBVCk7XG4gICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbi51cGRhdGVQYWludEJ1ZmZlcnMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgICAgICAgICAgdGlsZS5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbi51cGRhdGVQYWludEJ1ZmZlcnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhaW50ZXIucHJlcGFyZURyYXdQcm9ncmFtKGNvbnRleHQsIHByb2dyYW0sIGNvb3JkLnRvVW53cmFwcGVkKCkpO1xuXG4gICAgICAgIGNvbnN0IHJlbmRlckxpbmUgPSAoc3RlbmNpbE1vZGUpID0+IHtcbiAgICAgICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSxcbiAgICAgICAgICAgICAgICBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsIHVuaWZvcm1WYWx1ZXMsXG4gICAgICAgICAgICAgICAgbGF5ZXIuaWQsIGJ1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXIsIGJ1Y2tldC5pbmRleEJ1ZmZlciwgYnVja2V0LnNlZ21lbnRzLFxuICAgICAgICAgICAgICAgIGxheWVyLnBhaW50LCBwYWludGVyLnRyYW5zZm9ybS56b29tLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgW2J1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXIyXSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHVzZVN0ZW5jaWxNYXNrUmVuZGVyUGFzcykge1xuICAgICAgICAgICAgY29uc3Qgc3RlbmNpbElkID0gcGFpbnRlci5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGNvb3JkKS5yZWY7XG4gICAgICAgICAgICAvLyBXaGVuIHRlcnJhaW4gaXMgb24sIGVuc3VyZSB0aGF0IHRoZSBzdGVuY2lsIGJ1ZmZlciBoYXMgMCB2YWx1ZXMuXG4gICAgICAgICAgICAvLyBBcyBzdGVuY2lsIG1heSBiZSBkaXNhYmxlZCB3aGVuIGl0IGlzIG5vdCBpbiBvdmVybGFwcGluZyBzdGVuY2lsXG4gICAgICAgICAgICAvLyBtb2RlLiBSZWZlciB0byBzdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAgbG9naWMuXG4gICAgICAgICAgICBpZiAoc3RlbmNpbElkID09PSAwICYmIHBhaW50ZXIudGVycmFpbikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xlYXIoe3N0ZW5jaWw6IDB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0ZW5jaWxGdW5jID0ge2Z1bmM6IGdsLkVRVUFMLCBtYXNrOiAweEZGfTtcblxuICAgICAgICAgICAgLy8gQWxsb3cgbGluZSBnZW9tZXRyeSBmcmFnbWVudCB0byBiZSBkcmF3biBvbmx5IG9uY2U6XG4gICAgICAgICAgICAvLyAtIEludmVydCB0aGUgc3RlbmNpbCBpZGVudGlmaWVyIGxlZnQgYnkgc3RlbmNpbCBjbGlwcGluZywgdGhpc1xuICAgICAgICAgICAgLy8gZW5zdXJlcyB0aGF0IHdlIGFyZSBub3QgY29uZmxpY3Rpbmcgd2l0aCBuZWlnaGJvcmhpbmcgdGlsZXMuXG4gICAgICAgICAgICAvLyAtIERyYXcgQW50aS1BbGlhc2VkIHBpeGVscyB3aXRoIGEgdGhyZXNob2xkIHNldCB0byAwLjgsIHRoaXNcbiAgICAgICAgICAgIC8vIG1heSBkcmF3IEFudGktQWxpYXNlZCBwaXhlbHMgbW9yZSB0aGFuIG9uY2UsIGJ1dCBkdWUgdG8gdGhlaXJcbiAgICAgICAgICAgIC8vIGxvdyBvcGFjaXR5LCB0aGVzZSBwaXhlbHMgYXJlIHVzdWFsbHkgaW52aXNpYmxlIGFuZCBwb3RlbnRpYWxcbiAgICAgICAgICAgIC8vIG92ZXJsYXBwaW5nIHBpeGVsIGFydGlmYWN0cyBsb2NhbGx5IG1pbmltaXplZC5cbiAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXNbJ3VfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQnXSA9IDAuODtcbiAgICAgICAgICAgIHJlbmRlckxpbmUobmV3IFN0ZW5jaWxNb2RlKHN0ZW5jaWxGdW5jLCBzdGVuY2lsSWQsIDB4RkYsIGdsLktFRVAsIGdsLktFRVAsIGdsLklOVkVSVCkpO1xuICAgICAgICAgICAgdW5pZm9ybVZhbHVlc1sndV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZCddID0gMC4wO1xuICAgICAgICAgICAgcmVuZGVyTGluZShuZXcgU3RlbmNpbE1vZGUoc3RlbmNpbEZ1bmMsIHN0ZW5jaWxJZCwgMHhGRiwgZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyTGluZShwYWludGVyLnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcoY29vcmQpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdoZW4gcmVuZGVyaW5nIHRvIHN0ZW5jaWwsIHJlc2V0IHRoZSBtYXNrIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSB0aWxlXG4gICAgLy8gY2xpcHBpbmcgcmV2ZXJ0cyB0aGUgc3RlbmNpbCBtYXNrIHdlIG1heSBoYXZlIGRyYXduIGluIHRoZSBidWZmZXIuXG4gICAgLy8gVGhlIHN0YW1wIGNvdWxkIGJlIHJldmVydGVkIGJ5IGFuIGV4dHJhIGRyYXcgY2FsbCBvZiBsaW5lIGdlb21ldHJ5LFxuICAgIC8vIGJ1dCB0aWxlIGNsaXBwaW5nIGRyYXdpbmcgaXMgdXN1YWxseSBmYXN0ZXIgdG8gZHJhdyB0aGFuIGxpbmVzLlxuICAgIGlmICh1c2VTdGVuY2lsTWFza1JlbmRlclBhc3MpIHtcbiAgICAgICAgcGFpbnRlci5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7XG4gICAgICAgIGlmIChwYWludGVyLnRlcnJhaW4pIHsgY29udGV4dC5jbGVhcih7c3RlbmNpbDogMH0pOyB9XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IEltYWdlU291cmNlIGZyb20gJy4uL3NvdXJjZS9pbWFnZV9zb3VyY2UuanMnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZS5qcyc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQge3Jhc3RlclVuaWZvcm1WYWx1ZXN9IGZyb20gJy4vcHJvZ3JhbS9yYXN0ZXJfcHJvZ3JhbS5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgUmFzdGVyU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9yYXN0ZXJfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCByYXN0ZXJGYWRlIGZyb20gJy4vcmFzdGVyX2ZhZGUuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3UmFzdGVyO1xuXG5mdW5jdGlvbiBkcmF3UmFzdGVyKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IFJhc3RlclN0eWxlTGF5ZXIsIHRpbGVJRHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+LCB2YXJpYWJsZU9mZnNldHM6IGFueSwgaXNJbml0aWFsTG9hZDogYm9vbGVhbikge1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09ICd0cmFuc2x1Y2VudCcpIHJldHVybjtcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItb3BhY2l0eScpID09PSAwKSByZXR1cm47XG4gICAgaWYgKCF0aWxlSURzLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGUuZ2V0U291cmNlKCk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgncmFzdGVyJyk7XG5cbiAgICBjb25zdCBjb2xvck1vZGUgPSBwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTtcblxuICAgIC8vIFdoZW4gcmVuZGVyaW5nIHRvIHRleHR1cmUsIGNvb3JkaW5hdGVzIGFyZSBhbHJlYWR5IHNvcnRlZDogcHJpbWFyeSBieVxuICAgIC8vIHByb3h5IGlkIGFuZCBzZWNvbmRhcnkgc29ydCBpcyBieSBaLlxuICAgIGNvbnN0IHJlbmRlcmluZ1RvVGV4dHVyZSA9IHBhaW50ZXIudGVycmFpbiAmJiBwYWludGVyLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlO1xuXG4gICAgY29uc3QgW3N0ZW5jaWxNb2RlcywgY29vcmRzXSA9IHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlU291cmNlIHx8IHJlbmRlcmluZ1RvVGV4dHVyZSA/IFt7fSwgdGlsZUlEc10gOlxuICAgICAgICBwYWludGVyLnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKHRpbGVJRHMpO1xuXG4gICAgY29uc3QgbWluVGlsZVogPSBjb29yZHNbY29vcmRzLmxlbmd0aCAtIDFdLm92ZXJzY2FsZWRaO1xuXG4gICAgY29uc3QgYWxpZ24gPSAhcGFpbnRlci5vcHRpb25zLm1vdmluZztcbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICAvLyBTZXQgdGhlIGxvd2VyIHpvb20gbGV2ZWwgdG8gc3VibGF5ZXIgMCwgYW5kIGhpZ2hlciB6b29tIGxldmVscyB0byBoaWdoZXIgc3VibGF5ZXJzXG4gICAgICAgIC8vIFVzZSBnbC5MRVNTIHRvIHByZXZlbnQgZG91YmxlIGRyYXdpbmcgaW4gYXJlYXMgd2hlcmUgdGlsZXMgb3ZlcmxhcC5cbiAgICAgICAgY29uc3QgZGVwdGhNb2RlID0gcmVuZGVyaW5nVG9UZXh0dXJlID8gRGVwdGhNb2RlLmRpc2FibGVkIDogcGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcihjb29yZC5vdmVyc2NhbGVkWiAtIG1pblRpbGVaLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItb3BhY2l0eScpID09PSAxID8gRGVwdGhNb2RlLlJlYWRXcml0ZSA6IERlcHRoTW9kZS5SZWFkT25seSwgZ2wuTEVTUyk7XG5cbiAgICAgICAgY29uc3QgdW53cmFwcGVkVGlsZUlEID0gY29vcmQudG9VbndyYXBwZWQoKTtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBpZiAocmVuZGVyaW5nVG9UZXh0dXJlICYmICEodGlsZSAmJiB0aWxlLmhhc0RhdGEoKSkpIGNvbnRpbnVlO1xuXG4gICAgICAgIGNvbnN0IHByb2pNYXRyaXggPSAocmVuZGVyaW5nVG9UZXh0dXJlKSA/IGNvb3JkLnByb2pNYXRyaXggOlxuICAgICAgICAgICAgcGFpbnRlci50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeCh1bndyYXBwZWRUaWxlSUQsIGFsaWduKTtcblxuICAgICAgICBjb25zdCBzdGVuY2lsTW9kZSA9IHBhaW50ZXIudGVycmFpbiAmJiByZW5kZXJpbmdUb1RleHR1cmUgP1xuICAgICAgICAgICAgcGFpbnRlci50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChjb29yZCkgOlxuICAgICAgICAgICAgc3RlbmNpbE1vZGVzW2Nvb3JkLm92ZXJzY2FsZWRaXTtcblxuICAgICAgICBjb25zdCByYXN0ZXJGYWRlRHVyYXRpb24gPSBpc0luaXRpYWxMb2FkID8gMCA6IGxheWVyLnBhaW50LmdldCgncmFzdGVyLWZhZGUtZHVyYXRpb24nKTtcbiAgICAgICAgdGlsZS5yZWdpc3RlckZhZGVEdXJhdGlvbihyYXN0ZXJGYWRlRHVyYXRpb24pO1xuXG4gICAgICAgIGNvbnN0IHBhcmVudFRpbGUgPSBzb3VyY2VDYWNoZS5maW5kTG9hZGVkUGFyZW50KGNvb3JkLCAwKTtcbiAgICAgICAgY29uc3QgZmFkZSA9IHJhc3RlckZhZGUodGlsZSwgcGFyZW50VGlsZSwgc291cmNlQ2FjaGUsIHBhaW50ZXIudHJhbnNmb3JtLCByYXN0ZXJGYWRlRHVyYXRpb24pO1xuICAgICAgICBpZiAocGFpbnRlci50ZXJyYWluKSBwYWludGVyLnRlcnJhaW4ucHJlcGFyZURyYXdUaWxlKCk7XG5cbiAgICAgICAgbGV0IHBhcmVudFNjYWxlQnksIHBhcmVudFRMO1xuXG4gICAgICAgIGNvbnN0IHRleHR1cmVGaWx0ZXIgPSBsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1yZXNhbXBsaW5nJykgPT09ICduZWFyZXN0JyA/IGdsLk5FQVJFU1QgOiBnbC5MSU5FQVI7XG5cbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgIHRpbGUudGV4dHVyZS5iaW5kKHRleHR1cmVGaWx0ZXIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTEpO1xuXG4gICAgICAgIGlmIChwYXJlbnRUaWxlKSB7XG4gICAgICAgICAgICBwYXJlbnRUaWxlLnRleHR1cmUuYmluZCh0ZXh0dXJlRmlsdGVyLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIHBhcmVudFNjYWxlQnkgPSBNYXRoLnBvdygyLCBwYXJlbnRUaWxlLnRpbGVJRC5vdmVyc2NhbGVkWiAtIHRpbGUudGlsZUlELm92ZXJzY2FsZWRaKTtcbiAgICAgICAgICAgIHBhcmVudFRMID0gW3RpbGUudGlsZUlELmNhbm9uaWNhbC54ICogcGFyZW50U2NhbGVCeSAlIDEsIHRpbGUudGlsZUlELmNhbm9uaWNhbC55ICogcGFyZW50U2NhbGVCeSAlIDFdO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aWxlLnRleHR1cmUuYmluZCh0ZXh0dXJlRmlsdGVyLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVuYWJsZSB0cmlsaW5lYXIgZmlsdGVyaW5nIG9uIHRpbGVzIG9ubHkgYmV5b25kIDIwIGRlZ3JlZXMgcGl0Y2gsXG4gICAgICAgIC8vIHRvIHByZXZlbnQgaXQgZnJvbSBjb21wcm9taXNpbmcgaW1hZ2UgY3Jpc3BuZXNzIG9uIGZsYXQgb3IgbG93IHRpbHRlZCBtYXBzLlxuICAgICAgICBpZiAodGlsZS50ZXh0dXJlLnVzZU1pcG1hcCAmJiBjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyAmJiBwYWludGVyLnRyYW5zZm9ybS5waXRjaCA+IDIwKSB7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJmKGdsLlRFWFRVUkVfMkQsIGNvbnRleHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULCBjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwZXJzcGVjdGl2ZVRyYW5zZm9ybSA9IHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlU291cmNlID8gc291cmNlLnBlcnNwZWN0aXZlVHJhbnNmb3JtIDogWzAsIDBdO1xuICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gcmFzdGVyVW5pZm9ybVZhbHVlcyhwcm9qTWF0cml4LCBwYXJlbnRUTCB8fCBbMCwgMF0sIHBhcmVudFNjYWxlQnkgfHwgMSwgZmFkZSwgbGF5ZXIsIHBlcnNwZWN0aXZlVHJhbnNmb3JtKTtcblxuICAgICAgICBwYWludGVyLnByZXBhcmVEcmF3UHJvZ3JhbShjb250ZXh0LCBwcm9ncmFtLCB1bndyYXBwZWRUaWxlSUQpO1xuXG4gICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBJbWFnZVNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5ib3VuZHNCdWZmZXIgJiYgc291cmNlLmJvdW5kc1NlZ21lbnRzKSBwcm9ncmFtLmRyYXcoXG4gICAgICAgICAgICAgICAgY29udGV4dCwgZ2wuVFJJQU5HTEVTLCBkZXB0aE1vZGUsIFN0ZW5jaWxNb2RlLmRpc2FibGVkLCBjb2xvck1vZGUsIEN1bGxGYWNlTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICB1bmlmb3JtVmFsdWVzLCBsYXllci5pZCwgc291cmNlLmJvdW5kc0J1ZmZlcixcbiAgICAgICAgICAgICAgICBwYWludGVyLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLCBzb3VyY2UuYm91bmRzU2VnbWVudHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qge3RpbGVCb3VuZHNCdWZmZXIsIHRpbGVCb3VuZHNJbmRleEJ1ZmZlciwgdGlsZUJvdW5kc1NlZ21lbnRzfSA9IHBhaW50ZXIuZ2V0VGlsZUJvdW5kc0J1ZmZlcnModGlsZSk7XG5cbiAgICAgICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMsIGxheWVyLmlkLCB0aWxlQm91bmRzQnVmZmVyLFxuICAgICAgICAgICAgICAgIHRpbGVCb3VuZHNJbmRleEJ1ZmZlciwgdGlsZUJvdW5kc1NlZ21lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhaW50ZXIucmVzZXRTdGVuY2lsQ2xpcHBpbmdNYXNrcygpO1xufVxuXG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZS5qcyc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlLmpzJztcbmltcG9ydCBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB7XG4gICAgYmFja2dyb3VuZFVuaWZvcm1WYWx1ZXMsXG4gICAgYmFja2dyb3VuZFBhdHRlcm5Vbmlmb3JtVmFsdWVzXG59IGZyb20gJy4vcHJvZ3JhbS9iYWNrZ3JvdW5kX3Byb2dyYW0uanMnO1xuaW1wb3J0IHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgQmFja2dyb3VuZFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvYmFja2dyb3VuZF9zdHlsZV9sYXllci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdCYWNrZ3JvdW5kO1xuXG5mdW5jdGlvbiBkcmF3QmFja2dyb3VuZChwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBCYWNrZ3JvdW5kU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGNvbnN0IGNvbG9yID0gbGF5ZXIucGFpbnQuZ2V0KCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG4gICAgY29uc3Qgb3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnYmFja2dyb3VuZC1vcGFjaXR5Jyk7XG5cbiAgICBpZiAob3BhY2l0eSA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgdGlsZVNpemUgPSB0cmFuc2Zvcm0udGlsZVNpemU7XG4gICAgY29uc3QgaW1hZ2UgPSBsYXllci5wYWludC5nZXQoJ2JhY2tncm91bmQtcGF0dGVybicpO1xuICAgIGlmIChwYWludGVyLmlzUGF0dGVybk1pc3NpbmcoaW1hZ2UpKSByZXR1cm47XG5cbiAgICBjb25zdCBwYXNzID0gKCFpbWFnZSAmJiBjb2xvci5hID09PSAxICYmIG9wYWNpdHkgPT09IDEgJiYgcGFpbnRlci5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkpID8gJ29wYXF1ZScgOiAndHJhbnNsdWNlbnQnO1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09IHBhc3MpIHJldHVybjtcblxuICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gU3RlbmNpbE1vZGUuZGlzYWJsZWQ7XG4gICAgY29uc3QgZGVwdGhNb2RlID0gcGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcigwLCBwYXNzID09PSAnb3BhcXVlJyA/IERlcHRoTW9kZS5SZWFkV3JpdGUgOiBEZXB0aE1vZGUuUmVhZE9ubHkpO1xuICAgIGNvbnN0IGNvbG9yTW9kZSA9IHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO1xuXG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbShpbWFnZSA/ICdiYWNrZ3JvdW5kUGF0dGVybicgOiAnYmFja2dyb3VuZCcpO1xuXG4gICAgbGV0IHRpbGVJRHMgPSBjb29yZHM7XG4gICAgbGV0IGJhY2tncm91bmRUaWxlcztcbiAgICBpZiAoIXRpbGVJRHMpIHtcbiAgICAgICAgYmFja2dyb3VuZFRpbGVzID0gcGFpbnRlci5nZXRCYWNrZ3JvdW5kVGlsZXMoKTtcbiAgICAgICAgdGlsZUlEcyA9IE9iamVjdC52YWx1ZXMoYmFja2dyb3VuZFRpbGVzKS5tYXAodGlsZSA9PiAodGlsZTogYW55KS50aWxlSUQpO1xuICAgIH1cblxuICAgIGlmIChpbWFnZSkge1xuICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgcGFpbnRlci5pbWFnZU1hbmFnZXIuYmluZChwYWludGVyLmNvbnRleHQpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgdGlsZUlEIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgY29uc3QgdW53cmFwcGVkVGlsZUlEID0gdGlsZUlELnRvVW53cmFwcGVkKCk7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNvb3JkcyA/IHRpbGVJRC5wcm9qTWF0cml4IDogcGFpbnRlci50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeCh1bndyYXBwZWRUaWxlSUQpO1xuICAgICAgICBwYWludGVyLnByZXBhcmVEcmF3VGlsZSgpO1xuXG4gICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZSA/IHNvdXJjZUNhY2hlLmdldFRpbGUodGlsZUlEKSA6XG4gICAgICAgICAgICBiYWNrZ3JvdW5kVGlsZXMgPyBiYWNrZ3JvdW5kVGlsZXNbdGlsZUlELmtleV0gOiBuZXcgVGlsZSh0aWxlSUQsIHRpbGVTaXplLCB0cmFuc2Zvcm0uem9vbSwgcGFpbnRlcik7XG5cbiAgICAgICAgY29uc3QgdW5pZm9ybVZhbHVlcyA9IGltYWdlID9cbiAgICAgICAgICAgIGJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybVZhbHVlcyhtYXRyaXgsIG9wYWNpdHksIHBhaW50ZXIsIGltYWdlLCB7dGlsZUlELCB0aWxlU2l6ZX0pIDpcbiAgICAgICAgICAgIGJhY2tncm91bmRVbmlmb3JtVmFsdWVzKG1hdHJpeCwgb3BhY2l0eSwgY29sb3IpO1xuXG4gICAgICAgIHBhaW50ZXIucHJlcGFyZURyYXdQcm9ncmFtKGNvbnRleHQsIHByb2dyYW0sIHVud3JhcHBlZFRpbGVJRCk7XG5cbiAgICAgICAgY29uc3Qge3RpbGVCb3VuZHNCdWZmZXIsIHRpbGVCb3VuZHNJbmRleEJ1ZmZlciwgdGlsZUJvdW5kc1NlZ21lbnRzfSA9IHBhaW50ZXIuZ2V0VGlsZUJvdW5kc0J1ZmZlcnModGlsZSk7XG5cbiAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzLCBsYXllci5pZCwgdGlsZUJvdW5kc0J1ZmZlcixcbiAgICAgICAgICAgICAgICB0aWxlQm91bmRzSW5kZXhCdWZmZXIsIHRpbGVCb3VuZHNTZWdtZW50cyk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0N1c3RvbTtcblxuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlLmpzJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUuanMnO1xuaW1wb3J0IHt3YXJuT25jZX0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7Z2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbn0gZnJvbSAnLi8uLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXIuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgQ3VzdG9tU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9jdXN0b21fc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSBmcm9tICcuLi9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmZ1bmN0aW9uIGRyYXdDdXN0b20ocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogQ3VzdG9tU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBpbXBsZW1lbnRhdGlvbiA9IGxheWVyLmltcGxlbWVudGF0aW9uO1xuXG4gICAgaWYgKHBhaW50ZXIudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnMgJiYgcGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycy5pbmNsdWRlcyhcImN1c3RvbVwiKSAmJlxuICAgICAgICAhKHBhaW50ZXIudGVycmFpbiAmJiAocGFpbnRlci50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSB8fCBwYWludGVyLnJlbmRlclBhc3MgPT09ICdvZmZzY3JlZW4nKSAmJiBsYXllci5pc0xheWVyRHJhcGVkKCkpKSB7XG4gICAgICAgIHdhcm5PbmNlKCdDdXN0b20gbGF5ZXJzIGFyZSBub3QgeWV0IHN1cHBvcnRlZCB3aXRoIHRoaXMgcHJvamVjdGlvbi4gVXNlIG1lcmNhdG9yIG9yIGdsb2JlIHRvIGVuYWJsZSB1c2FnZSBvZiBjdXN0b20gbGF5ZXJzLicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ29mZnNjcmVlbicpIHtcblxuICAgICAgICBjb25zdCBwcmVyZW5kZXIgPSBpbXBsZW1lbnRhdGlvbi5wcmVyZW5kZXI7XG4gICAgICAgIGlmIChwcmVyZW5kZXIpIHtcbiAgICAgICAgICAgIHBhaW50ZXIuc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpO1xuICAgICAgICAgICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuXG4gICAgICAgICAgICBpZiAocGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSBcImdsb2JlXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXIgPSBwYWludGVyLnRyYW5zZm9ybS5wb2ludE1lcmM7XG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyLmNhbGwoaW1wbGVtZW50YXRpb24sIGNvbnRleHQuZ2wsIHBhaW50ZXIudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCksIHBhaW50ZXIudHJhbnNmb3JtLmdldFByb2plY3Rpb24oKSwgcGFpbnRlci50cmFuc2Zvcm0uZ2xvYmVUb01lcmNhdG9yTWF0cml4KCksICBnbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKHBhaW50ZXIudHJhbnNmb3JtLnpvb20pLCBbY2VudGVyLngsIGNlbnRlci55XSwgcGFpbnRlci50cmFuc2Zvcm0ucGl4ZWxzUGVyTWV0ZXJSYXRpbyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXJlbmRlci5jYWxsKGltcGxlbWVudGF0aW9uLCBjb250ZXh0LmdsLCBwYWludGVyLnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGV4dC5zZXREaXJ0eSgpO1xuICAgICAgICAgICAgcGFpbnRlci5zZXRCYXNlU3RhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcpIHtcblxuICAgICAgICBpZiAocGFpbnRlci50ZXJyYWluICYmIHBhaW50ZXIudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUpIHtcbiAgICAgICAgICAgIGFzc2VydChpbXBsZW1lbnRhdGlvbi5yZW5kZXJUb1RpbGUpO1xuICAgICAgICAgICAgYXNzZXJ0KGNvb3Jkcy5sZW5ndGggPT09IDEpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyVG9UaWxlID0gaW1wbGVtZW50YXRpb24ucmVuZGVyVG9UaWxlO1xuICAgICAgICAgICAgaWYgKHJlbmRlclRvVGlsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBjb29yZHNbMF0uY2Fub25pY2FsO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVud3JhcHBlZCA9IG5ldyBNZXJjYXRvckNvb3JkaW5hdGUoYy54ICsgY29vcmRzWzBdLndyYXAgKiAoMSA8PCBjLnopLCBjLnksIGMueik7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShEZXB0aE1vZGUuZGlzYWJsZWQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcbiAgICAgICAgICAgICAgICBwYWludGVyLnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKTtcblxuICAgICAgICAgICAgICAgIHJlbmRlclRvVGlsZS5jYWxsKGltcGxlbWVudGF0aW9uLCBjb250ZXh0LmdsLCB1bndyYXBwZWQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0RGlydHkoKTtcbiAgICAgICAgICAgICAgICBwYWludGVyLnNldEJhc2VTdGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFpbnRlci5zZXRDdXN0b21MYXllckRlZmF1bHRzKCk7XG5cbiAgICAgICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuICAgICAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKFN0ZW5jaWxNb2RlLmRpc2FibGVkKTtcblxuICAgICAgICBjb25zdCBkZXB0aE1vZGUgPSBpbXBsZW1lbnRhdGlvbi5yZW5kZXJpbmdNb2RlID09PSAnM2QnID9cbiAgICAgICAgICAgIG5ldyBEZXB0aE1vZGUocGFpbnRlci5jb250ZXh0LmdsLkxFUVVBTCwgRGVwdGhNb2RlLlJlYWRXcml0ZSwgcGFpbnRlci5kZXB0aFJhbmdlRm9yM0QpIDpcbiAgICAgICAgICAgIHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KTtcblxuICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShkZXB0aE1vZGUpO1xuXG4gICAgICAgIGlmIChwYWludGVyLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUgPT09IFwiZ2xvYmVcIikge1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gcGFpbnRlci50cmFuc2Zvcm0ucG9pbnRNZXJjO1xuICAgICAgICAgICAgaW1wbGVtZW50YXRpb24ucmVuZGVyKGNvbnRleHQuZ2wsIHBhaW50ZXIudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCksIHBhaW50ZXIudHJhbnNmb3JtLmdldFByb2plY3Rpb24oKSwgcGFpbnRlci50cmFuc2Zvcm0uZ2xvYmVUb01lcmNhdG9yTWF0cml4KCksIGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24ocGFpbnRlci50cmFuc2Zvcm0uem9vbSksIFtjZW50ZXIueCwgY2VudGVyLnldLCBwYWludGVyLnRyYW5zZm9ybS5waXhlbHNQZXJNZXRlclJhdGlvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGltcGxlbWVudGF0aW9uLnJlbmRlcihjb250ZXh0LmdsLCBwYWludGVyLnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuc2V0RGlydHkoKTtcbiAgICAgICAgcGFpbnRlci5zZXRCYXNlU3RhdGUoKTtcbiAgICAgICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUuanMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlLmpzJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZS5qcyc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlLmpzJztcbmltcG9ydCB7XG4gICAgZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbixcbiAgICBnbG9iZVVzZUN1c3RvbUFudGlBbGlhc2luZ1xufSBmcm9tICcuLy4uL2dlby9wcm9qZWN0aW9uL2dsb2JlX3V0aWwuanMnO1xuaW1wb3J0IHthdG1vc3BoZXJlVW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vdGVycmFpbi9nbG9iZV9yYXN0ZXJfcHJvZ3JhbS5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSB7RHluYW1pY0RlZmluZXNUeXBlfSBmcm9tICcuLi9yZW5kZXIvcHJvZ3JhbS9wcm9ncmFtX3VuaWZvcm1zLmpzJztcbmltcG9ydCB7ZGVnVG9SYWQsIG1hcFZhbHVlfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IHt2ZWMzLCBtYXQ0LCBxdWF0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IEZvZyBmcm9tICcuLi9zdHlsZS9mb2cuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3QXRtb3NwaGVyZTtcblxuZnVuY3Rpb24gZHJhd0F0bW9zcGhlcmUocGFpbnRlcjogUGFpbnRlciwgZm9nOiBGb2cpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IGRlcHRoTW9kZSA9IG5ldyBEZXB0aE1vZGUoZ2wuTEVRVUFMLCBEZXB0aE1vZGUuUmVhZE9ubHksIFswLCAxXSk7XG4gICAgY29uc3QgZGVmaW5lcyA9IHRyLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJyA/IFsnUFJPSkVDVElPTl9HTE9CRV9WSUVXJywgJ0ZPRyddIDogWydGT0cnXTtcbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdnbG9iZUF0bW9zcGhlcmUnLCBudWxsLCAoKGRlZmluZXM6IGFueSk6IER5bmFtaWNEZWZpbmVzVHlwZVtdKSk7XG5cbiAgICBjb25zdCB0cmFuc2l0aW9uVCA9IGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odHIuem9vbSk7XG5cbiAgICBjb25zdCBmb2dDb2xvciA9IGZvZy5wcm9wZXJ0aWVzLmdldCgnY29sb3InKS50b0FycmF5MDEoKTtcbiAgICBjb25zdCBoaWdoQ29sb3IgPSBmb2cucHJvcGVydGllcy5nZXQoJ2hpZ2gtY29sb3InKS50b0FycmF5MDEoKTtcbiAgICBjb25zdCBzcGFjZUNvbG9yID0gZm9nLnByb3BlcnRpZXMuZ2V0KCdzcGFjZS1jb2xvcicpLnRvQXJyYXkwMVByZW11bHRpcGxpZWRBbHBoYSgpO1xuXG4gICAgY29uc3Qgb3JpZW50YXRpb24gPSBxdWF0LmlkZW50aXR5KFtdKTtcblxuICAgIHF1YXQucm90YXRlWShvcmllbnRhdGlvbiwgb3JpZW50YXRpb24sIC1kZWdUb1JhZCh0ci5fY2VudGVyLmxuZykpO1xuICAgIHF1YXQucm90YXRlWChvcmllbnRhdGlvbiwgb3JpZW50YXRpb24sIGRlZ1RvUmFkKHRyLl9jZW50ZXIubGF0KSk7XG5cbiAgICBxdWF0LnJvdGF0ZVoob3JpZW50YXRpb24sIG9yaWVudGF0aW9uLCB0ci5hbmdsZSk7XG4gICAgcXVhdC5yb3RhdGVYKG9yaWVudGF0aW9uLCBvcmllbnRhdGlvbiwgLXRyLl9waXRjaCk7XG5cbiAgICBjb25zdCByb3RhdGlvbk1hdHJpeCA9IG1hdDQuZnJvbVF1YXQobmV3IEZsb2F0MzJBcnJheSgxNiksIG9yaWVudGF0aW9uKTtcblxuICAgIGNvbnN0IHN0YXJJbnRlbnNpdHkgPSBtYXBWYWx1ZShmb2cucHJvcGVydGllcy5nZXQoJ3N0YXItaW50ZW5zaXR5JyksIDAuMCwgMS4wLCAwLjAsIDAuMjUpO1xuICAgIC8vIGh0dHBzOi8vd3d3LmRlc21vcy5jb20vY2FsY3VsYXRvci9vYW52dnByMzZkXG4gICAgLy8gRW5zdXJlIGhvcml6b24gYmxlbmQgaXMgMC1leGNsdXNpdmUgdG8gcHJldmVudCBkaXZpc2lvbiBieSAwIGluIHRoZSBzaGFkZXJcbiAgICBjb25zdCBtaW5Ib3Jpem9uQmxlbmQgPSAwLjAwMDU7XG4gICAgY29uc3QgaG9yaXpvbkJsZW5kID0gbWFwVmFsdWUoZm9nLnByb3BlcnRpZXMuZ2V0KCdob3Jpem9uLWJsZW5kJyksIDAuMCwgMS4wLCBtaW5Ib3Jpem9uQmxlbmQsIDAuMjUpO1xuXG4gICAgLy8gVXNlIGEgc2xpZ2h0bHkgc21hbGxlciBzaXplIG9mIHRoZSBnbG9iZSB0byBhY2NvdW50IGZvciBjdXN0b21cbiAgICAvLyBhbnRpYWxpYXNpbmcgdGhhdCByZWR1Y2VzIHRoZSBzaXplIG9mIHRoZSBnbG9iZSBvZiB0d28gcGl4ZWxzXG4gICAgLy8gaHR0cHM6Ly93d3cuZGVzbW9zLmNvbS9jYWxjdWxhdG9yL3hwZ216Z2hjMzdcbiAgICBjb25zdCBnbG9iZVJhZGl1cyA9IGdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nKHBhaW50ZXIsIGNvbnRleHQsIHRyKSAmJiBob3Jpem9uQmxlbmQgPT09IG1pbkhvcml6b25CbGVuZCA/XG4gICAgICAgIHRyLndvcmxkU2l6ZSAvICgyLjAgKiBNYXRoLlBJICogMS4wMjUpIC0gMS4wIDogdHIuZ2xvYmVSYWRpdXM7XG5cbiAgICBjb25zdCB0ZW1wb3JhbE9mZnNldCA9IChwYWludGVyLmZyYW1lQ291bnRlciAvIDEwMDAuMCkgJSAxO1xuICAgIGNvbnN0IGdsb2JlQ2VudGVySW5WaWV3U3BhY2UgPSAoKCh0ci5nbG9iZUNlbnRlckluVmlld1NwYWNlKTogYW55KTogQXJyYXk8bnVtYmVyPik7XG4gICAgY29uc3QgZ2xvYmVDZW50ZXJEaXN0YW5jZSA9IHZlYzMubGVuZ3RoKGdsb2JlQ2VudGVySW5WaWV3U3BhY2UpO1xuICAgIGNvbnN0IGRpc3RhbmNlVG9Ib3Jpem9uID0gTWF0aC5zcXJ0KE1hdGgucG93KGdsb2JlQ2VudGVyRGlzdGFuY2UsIDIuMCkgLSBNYXRoLnBvdyhnbG9iZVJhZGl1cywgMi4wKSk7XG4gICAgY29uc3QgaG9yaXpvbkFuZ2xlID0gTWF0aC5hY29zKGRpc3RhbmNlVG9Ib3Jpem9uIC8gZ2xvYmVDZW50ZXJEaXN0YW5jZSk7XG5cbiAgICBjb25zdCB1bmlmb3JtcyA9IGF0bW9zcGhlcmVVbmlmb3JtVmFsdWVzKFxuICAgICAgICB0ci5mcnVzdHVtQ29ybmVycy5UTCxcbiAgICAgICAgdHIuZnJ1c3R1bUNvcm5lcnMuVFIsXG4gICAgICAgIHRyLmZydXN0dW1Db3JuZXJzLkJSLFxuICAgICAgICB0ci5mcnVzdHVtQ29ybmVycy5CTCxcbiAgICAgICAgdHIuZnJ1c3R1bUNvcm5lcnMuaG9yaXpvbixcbiAgICAgICAgdHJhbnNpdGlvblQsXG4gICAgICAgIGhvcml6b25CbGVuZCxcbiAgICAgICAgZm9nQ29sb3IsXG4gICAgICAgIGhpZ2hDb2xvcixcbiAgICAgICAgc3BhY2VDb2xvcixcbiAgICAgICAgc3RhckludGVuc2l0eSxcbiAgICAgICAgdGVtcG9yYWxPZmZzZXQsXG4gICAgICAgIGhvcml6b25BbmdsZSxcbiAgICAgICAgcm90YXRpb25NYXRyaXgpO1xuXG4gICAgcGFpbnRlci5wcmVwYXJlRHJhd1Byb2dyYW0oY29udGV4dCwgcHJvZ3JhbSk7XG5cbiAgICBjb25zdCBidWZmZXIgPSBwYWludGVyLmF0bW9zcGhlcmVCdWZmZXI7XG4gICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLCBkZXB0aE1vZGUsIFN0ZW5jaWxNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgQ29sb3JNb2RlLmFscGhhQmxlbmRlZCwgQ3VsbEZhY2VNb2RlLmJhY2tDVywgdW5pZm9ybXMsIFwic2t5Ym94XCIsXG4gICAgICAgICAgICBidWZmZXIudmVydGV4QnVmZmVyLCBidWZmZXIuaW5kZXhCdWZmZXIsIGJ1ZmZlci5zZWdtZW50cyk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7bnVtYmVyfSBmcm9tIFwiLi4vc3R5bGUtc3BlYy91dGlsL2ludGVycG9sYXRlLmpzXCI7XG5pbXBvcnQgUG9pbnQgIGZyb20gXCJAbWFwYm94L3BvaW50LWdlb21ldHJ5XCI7XG5pbXBvcnQge2NsYW1wfSBmcm9tIFwiLi4vdXRpbC91dGlsLmpzXCI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEFuIGBFZGdlSW5zZXRgIG9iamVjdCByZXByZXNlbnRzIHNjcmVlbiBzcGFjZSBwYWRkaW5nIGFwcGxpZWQgdG8gdGhlIGVkZ2VzIG9mIHRoZSB2aWV3cG9ydC5cbiAqIFRoaXMgc2hpZnRzIHRoZSBhcHBhcmVudCBjZW50ZXIgb3IgdGhlIHZhbmlzaGluZyBwb2ludCBvZiB0aGUgbWFwLiBUaGlzIGlzIHVzZWZ1bCBmb3IgYWRkaW5nIGZsb2F0aW5nIFVJIGVsZW1lbnRzXG4gKiBvbiB0b3Agb2YgdGhlIG1hcCBhbmQgaGF2aW5nIHRoZSB2YW5pc2hpbmcgcG9pbnQgc2hpZnQgYXMgVUkgZWxlbWVudHMgcmVzaXplLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbdG9wPTBdXG4gKiBAcGFyYW0ge251bWJlcn0gW2JvdHRvbT0wXVxuICogQHBhcmFtIHtudW1iZXJ9IFtsZWZ0PTBdXG4gKiBAcGFyYW0ge251bWJlcn0gW3JpZ2h0PTBdXG4gKi9cbmNsYXNzIEVkZ2VJbnNldHMge1xuICAgIHRvcDogbnVtYmVyO1xuICAgIGJvdHRvbTogbnVtYmVyO1xuICAgIGxlZnQ6IG51bWJlcjtcbiAgICByaWdodDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IodG9wOiBudW1iZXIgPSAwLCBib3R0b206IG51bWJlciA9IDAsIGxlZnQ6IG51bWJlciA9IDAsIHJpZ2h0OiBudW1iZXIgPSAwKSB7XG4gICAgICAgIGlmIChpc05hTih0b3ApIHx8IHRvcCA8IDAgfHxcbiAgICAgICAgICAgIGlzTmFOKGJvdHRvbSkgfHwgYm90dG9tIDwgMCB8fFxuICAgICAgICAgICAgaXNOYU4obGVmdCkgfHwgbGVmdCA8IDAgfHxcbiAgICAgICAgICAgIGlzTmFOKHJpZ2h0KSB8fCByaWdodCA8IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgZm9yIGVkZ2UtaW5zZXRzLCB0b3AsIGJvdHRvbSwgbGVmdCBhbmQgcmlnaHQgbXVzdCBhbGwgYmUgbnVtYmVycycpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XG4gICAgICAgIHRoaXMuYm90dG9tID0gYm90dG9tO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJwb2xhdGVzIHRoZSBpbnNldCBpbi1wbGFjZS5cbiAgICAgKiBUaGlzIG1haW50YWlucyB0aGUgY3VycmVudCBpbnNldCB2YWx1ZSBmb3IgYW55IGluc2V0IG5vdCBwcmVzZW50IGluIGB0YXJnZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BhZGRpbmdPcHRpb25zIHwgRWRnZUluc2V0c30gc3RhcnQgVGhlIGluaXRpYWwgcGFkZGluZyBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7UGFkZGluZ09wdGlvbnN9IHRhcmdldCBUaGUgdGFyZ2V0IHBhZGRpbmcgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdCBUaGUgaW50ZXJwb2xhdGlvbiB2YXJpYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7RWRnZUluc2V0c30gVGhlIGludGVycG9sYXRlZCBlZGdlIGluc2V0cy5cbiAgICAgKiBAbWVtYmVyb2YgRWRnZUluc2V0c1xuICAgICAqL1xuICAgIGludGVycG9sYXRlKHN0YXJ0OiBQYWRkaW5nT3B0aW9ucyB8IEVkZ2VJbnNldHMsIHRhcmdldDogUGFkZGluZ09wdGlvbnMsIHQ6IG51bWJlcik6IEVkZ2VJbnNldHMge1xuICAgICAgICBpZiAodGFyZ2V0LnRvcCAhPSBudWxsICYmIHN0YXJ0LnRvcCAhPSBudWxsKSB0aGlzLnRvcCA9IG51bWJlcihzdGFydC50b3AsIHRhcmdldC50b3AsIHQpO1xuICAgICAgICBpZiAodGFyZ2V0LmJvdHRvbSAhPSBudWxsICYmIHN0YXJ0LmJvdHRvbSAhPSBudWxsKSB0aGlzLmJvdHRvbSA9IG51bWJlcihzdGFydC5ib3R0b20sIHRhcmdldC5ib3R0b20sIHQpO1xuICAgICAgICBpZiAodGFyZ2V0LmxlZnQgIT0gbnVsbCAmJiBzdGFydC5sZWZ0ICE9IG51bGwpIHRoaXMubGVmdCA9IG51bWJlcihzdGFydC5sZWZ0LCB0YXJnZXQubGVmdCwgdCk7XG4gICAgICAgIGlmICh0YXJnZXQucmlnaHQgIT0gbnVsbCAmJiBzdGFydC5yaWdodCAhPSBudWxsKSB0aGlzLnJpZ2h0ID0gbnVtYmVyKHN0YXJ0LnJpZ2h0LCB0YXJnZXQucmlnaHQsIHQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kIHRoYXQgY29tcHV0ZXMgdGhlIG5ldyBhcHByZW50IGNlbnRlciBvciB2YW5pc2hpbmcgcG9pbnQgYWZ0ZXIgYXBwbHlpbmcgaW5zZXRzLlxuICAgICAqIFRoaXMgaXMgaW4gcGl4ZWxzIGFuZCB3aXRoIHRoZSB0b3AgbGVmdCBiZWluZyAoMC4wKSBhbmQgK3kgYmVpbmcgZG93bndhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSBtYXAgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgbWFwIGluIHBpeGVscy5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFRoZSBhcHBhcmVudCBjZW50ZXIgb3IgdmFuaXNoaW5nIHBvaW50IG9mIHRoZSBtYXAuXG4gICAgICogQG1lbWJlcm9mIEVkZ2VJbnNldHNcbiAgICAgKi9cbiAgICBnZXRDZW50ZXIod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBQb2ludCB7XG4gICAgICAgIC8vIENsYW1wIGluc2V0cyBzbyB0aGV5IG5ldmVyIG92ZXJmbG93IHdpZHRoL2hlaWdodCBhbmQgYWx3YXlzIGNhbGN1bGF0ZSBhIHZhbGlkIGNlbnRlclxuICAgICAgICBjb25zdCB4ID0gY2xhbXAoKHRoaXMubGVmdCArIHdpZHRoIC0gdGhpcy5yaWdodCkgLyAyLCAwLCB3aWR0aCk7XG4gICAgICAgIGNvbnN0IHkgPSBjbGFtcCgodGhpcy50b3AgKyBoZWlnaHQgLSB0aGlzLmJvdHRvbSkgLyAyLCAwLCBoZWlnaHQpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCwgeSk7XG4gICAgfVxuXG4gICAgZXF1YWxzKG90aGVyOiBQYWRkaW5nT3B0aW9ucyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy50b3AgPT09IG90aGVyLnRvcCAmJlxuICAgICAgICAgICAgdGhpcy5ib3R0b20gPT09IG90aGVyLmJvdHRvbSAmJlxuICAgICAgICAgICAgdGhpcy5sZWZ0ID09PSBvdGhlci5sZWZ0ICYmXG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID09PSBvdGhlci5yaWdodDtcbiAgICB9XG5cbiAgICBjbG9uZSgpOiBFZGdlSW5zZXRzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFZGdlSW5zZXRzKHRoaXMudG9wLCB0aGlzLmJvdHRvbSwgdGhpcy5sZWZ0LCB0aGlzLnJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHN0YXRlIGFzIGpzb24sIHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIGhhdmUgYVxuICAgICAqIHJlYWQtb25seSByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW5zZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtQYWRkaW5nT3B0aW9uc30gVGhlIGN1cnJlbnQgcGFkZGluZyBvcHRpb25zLlxuICAgICAqIEBtZW1iZXJvZiBFZGdlSW5zZXRzXG4gICAgICovXG4gICAgdG9KU09OKCk6IFBhZGRpbmdPcHRpb25zIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogdGhpcy50b3AsXG4gICAgICAgICAgICBib3R0b206IHRoaXMuYm90dG9tLFxuICAgICAgICAgICAgbGVmdDogdGhpcy5sZWZ0LFxuICAgICAgICAgICAgcmlnaHQ6IHRoaXMucmlnaHRcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCB0eXBlIFBhZGRpbmdPcHRpb25zID0geyt0b3A6ID9udW1iZXIsICtib3R0b206ID9udW1iZXIsICtyaWdodDogP251bWJlciwgK2xlZnQ6ID9udW1iZXJ9O1xuXG5leHBvcnQgZGVmYXVsdCBFZGdlSW5zZXRzO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSwge21lcmNhdG9yWmZyb21BbHRpdHVkZSwgbGF0RnJvbU1lcmNhdG9yWX0gZnJvbSAnLi4vZ2VvL21lcmNhdG9yX2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHtkZWdUb1JhZCwgd3JhcCwgZ2V0Q29sdW1uLCBzZXRDb2x1bW59IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQge3ZlYzMsIHF1YXQsIG1hdDR9IGZyb20gJ2dsLW1hdHJpeCc7XG5cbmltcG9ydCB0eXBlIHtFbGV2YXRpb259IGZyb20gJy4uL3RlcnJhaW4vZWxldmF0aW9uLmpzJztcbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tICcuLi9nZW8vbG5nX2xhdC5qcyc7XG5pbXBvcnQgdHlwZSB7TWF0NCwgVmVjMywgVmVjNCwgUXVhdH0gZnJvbSAnZ2wtbWF0cml4JztcblxuZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtT3JpZW50YXRpb24obWF0cml4OiBNYXQ0LCBvcmllbnRhdGlvbjogUXVhdCkge1xuICAgIC8vIFRha2UgdGVtcG9yYXJ5IGNvcHkgb2YgcG9zaXRpb24gdG8gcHJldmVudCBpdCBmcm9tIGJlaW5nIG92ZXJ3cml0dGVuXG4gICAgY29uc3QgcG9zaXRpb246IFZlYzQgPSBnZXRDb2x1bW4obWF0cml4LCAzKTtcblxuICAgIC8vIENvbnZlcnQgcXVhdGVybmlvbiB0byByb3RhdGlvbiBtYXRyaXhcbiAgICBtYXQ0LmZyb21RdWF0KG1hdHJpeCwgb3JpZW50YXRpb24pO1xuICAgIHNldENvbHVtbihtYXRyaXgsIDMsIHBvc2l0aW9uKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtUG9zaXRpb24obWF0cml4OiBNYXQ0LCBwb3NpdGlvbjogVmVjMykge1xuICAgIHNldENvbHVtbihtYXRyaXgsIDMsIFtwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdLCAxLjBdKTtcbn1cblxuZnVuY3Rpb24gb3JpZW50YXRpb25Gcm9tUGl0Y2hCZWFyaW5nKHBpdGNoOiBudW1iZXIsIGJlYXJpbmc6IG51bWJlcik6IFF1YXQge1xuICAgIC8vIEJvdGggYW5nbGVzIGFyZSBjb25zaWRlcmVkIHRvIGRlZmluZSBDVyByb3RhdGlvbiBhcm91bmQgdGhlaXIgcmVzcGVjdGl2ZSBheGVzLlxuICAgIC8vIFZhbHVlcyBoYXZlIHRvIGJlIG5lZ2F0ZWQgdG8gYWNoaWV2ZSB0aGUgcHJvcGVyIHF1YXRlcm5pb24gaW4gbGVmdCBoYW5kZWQgY29vcmRpbmF0ZSBzcGFjZVxuICAgIGNvbnN0IG9yaWVudGF0aW9uID0gcXVhdC5pZGVudGl0eShbXSk7XG4gICAgcXVhdC5yb3RhdGVaKG9yaWVudGF0aW9uLCBvcmllbnRhdGlvbiwgLWJlYXJpbmcpO1xuICAgIHF1YXQucm90YXRlWChvcmllbnRhdGlvbiwgb3JpZW50YXRpb24sIC1waXRjaCk7XG4gICAgcmV0dXJuIG9yaWVudGF0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3JpZW50YXRpb25Gcm9tRnJhbWUoZm9yd2FyZDogVmVjMywgdXA6IFZlYzMpOiA/UXVhdCB7XG4gICAgLy8gRmluZCByaWdodC12ZWN0b3Igb2YgdGhlIHJlc3VsdGluZyBjb29yZGluYXRlIGZyYW1lLiBVcC12ZWN0b3IgaGFzIHRvIGJlXG4gICAgLy8gc2FuaXRpemVkIGZpcnN0IGluIG9yZGVyIHRvIHJlbW92ZSB0aGUgcm9sbCBjb21wb25lbnQgZnJvbSB0aGUgb3JpZW50YXRpb25cbiAgICBjb25zdCB4eUZvcndhcmQgPSBbZm9yd2FyZFswXSwgZm9yd2FyZFsxXSwgMF07XG4gICAgY29uc3QgeHlVcCA9IFt1cFswXSwgdXBbMV0sIDBdO1xuXG4gICAgY29uc3QgZXBzaWxvbiA9IDFlLTE1O1xuXG4gICAgaWYgKHZlYzMubGVuZ3RoKHh5Rm9yd2FyZCkgPj0gZXBzaWxvbikge1xuICAgICAgICAvLyBSb2xsIHJvdGF0aW9uIGNhbiBiZSBzZWVuIGFzIHRoZSByaWdodCB2ZWN0b3Igbm90IGJlaW5nIG9uIHRoZSB4eS1wbGFuZSwgaWUuIHJpZ2h0WzJdICE9IDAuMC5cbiAgICAgICAgLy8gSXQgY2FuIGJlIG5lZ2F0ZWQgYnkgcHJvamVjdGluZyB0aGUgdXAgdmVjdG9yIG9uIHRvcCBvZiB0aGUgZm9yd2FyZCB2ZWN0b3IuXG4gICAgICAgIGNvbnN0IHh5RGlyID0gdmVjMy5ub3JtYWxpemUoW10sIHh5Rm9yd2FyZCk7XG4gICAgICAgIHZlYzMuc2NhbGUoeHlVcCwgeHlEaXIsIHZlYzMuZG90KHh5VXAsIHh5RGlyKSk7XG5cbiAgICAgICAgdXBbMF0gPSB4eVVwWzBdO1xuICAgICAgICB1cFsxXSA9IHh5VXBbMV07XG4gICAgfVxuXG4gICAgY29uc3QgcmlnaHQgPSB2ZWMzLmNyb3NzKFtdLCB1cCwgZm9yd2FyZCk7XG4gICAgaWYgKHZlYzMubGVuKHJpZ2h0KSA8IGVwc2lsb24pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgYmVhcmluZyA9IE1hdGguYXRhbjIoLXJpZ2h0WzFdLCByaWdodFswXSk7XG4gICAgY29uc3QgcGl0Y2ggPSBNYXRoLmF0YW4yKE1hdGguc3FydChmb3J3YXJkWzBdICogZm9yd2FyZFswXSArIGZvcndhcmRbMV0gKiBmb3J3YXJkWzFdKSwgLWZvcndhcmRbMl0pO1xuXG4gICAgcmV0dXJuIG9yaWVudGF0aW9uRnJvbVBpdGNoQmVhcmluZyhwaXRjaCwgYmVhcmluZyk7XG59XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgYWNjZXNzaW5nIHBoeXNpY2FsIHByb3BlcnRpZXMgb2YgdGhlIHVuZGVybHlpbmcgY2FtZXJhIGVudGl0eS5cbiAqIERpcmVjdCBhY2Nlc3MgdG8gdGhlc2UgcHJvcGVydGllcyBhbGxvd3MgbW9yZSBmbGV4aWJsZSBhbmQgcHJlY2lzZSBjb250cm9sbGluZyBvZiB0aGUgY2FtZXJhLlxuICogVGhlc2Ugb3B0aW9ucyBhcmUgYWxzbyBmdWxseSBjb21wYXRpYmxlIGFuZCBpbnRlcmNoYW5nZWFibGUgd2l0aCBDYW1lcmFPcHRpb25zLiBBbGwgZmllbGRzIGFyZSBvcHRpb25hbC5cbiAqIFNlZSB7QGxpbmsgTWFwI3NldEZyZWVDYW1lcmFPcHRpb25zfSBhbmQge0BsaW5rIE1hcCNnZXRGcmVlQ2FtZXJhT3B0aW9uc30uXG4gKlxuICogQHBhcmFtIHtNZXJjYXRvckNvb3JkaW5hdGV9IHBvc2l0aW9uIFBvc2l0aW9uIG9mIHRoZSBjYW1lcmEgaW4gc2xpZ2h0bHkgbW9kaWZpZWQgd2ViIG1lcmNhdG9yIGNvb3JkaW5hdGVzLlxuICAgICAgICAtIFRoZSBzaXplIG9mIDEgdW5pdCBpcyB0aGUgd2lkdGggb2YgdGhlIHByb2plY3RlZCB3b3JsZCBpbnN0ZWFkIG9mIHRoZSBcIm1lcmNhdG9yIG1ldGVyXCIuXG4gICAgICAgICAgQ29vcmRpbmF0ZSBbMCwgMCwgMF0gaXMgdGhlIG5vcnRoLXdlc3QgY29ybmVyIGFuZCBbMSwgMSwgMF0gaXMgdGhlIHNvdXRoLWVhc3QgY29ybmVyLlxuICAgICAgICAtIFogY29vcmRpbmF0ZSBpcyBjb25mb3JtYWwgYW5kIG11c3QgcmVzcGVjdCBtaW5pbXVtIGFuZCBtYXhpbXVtIHpvb20gdmFsdWVzLlxuICAgICAgICAtIFpvb20gaXMgYXV0b21hdGljYWxseSBjb21wdXRlZCBmcm9tIHRoZSBhbHRpdHVkZSAoeikuXG4gKiBAcGFyYW0ge3F1YXR9IG9yaWVudGF0aW9uIE9yaWVudGF0aW9uIG9mIHRoZSBjYW1lcmEgcmVwcmVzZW50ZWQgYXMgYSB1bml0IHF1YXRlcm5pb24gW3gsIHksIHosIHddIGluIGEgbGVmdC1oYW5kZWQgY29vcmRpbmF0ZSBzcGFjZS5cbiAgICAgICAgRGlyZWN0aW9uIG9mIHRoZSByb3RhdGlvbiBpcyBjbG9ja3dpc2UgYXJvdW5kIHRoZSByZXNwZWN0aXZlIGF4aXMuXG4gICAgICAgIFRoZSBkZWZhdWx0IHBvc2Ugb2YgdGhlIGNhbWVyYSBpcyBzdWNoIHRoYXQgdGhlIGZvcndhcmQgdmVjdG9yIGlzIGxvb2tpbmcgdXAgdGhlIC1aIGF4aXMuXG4gICAgICAgIFRoZSB1cCB2ZWN0b3IgaXMgYWxpZ25lZCB3aXRoIG5vcnRoIG9yaWVudGF0aW9uIG9mIHRoZSBtYXA6XG4gICAgICAgICAgZm9yd2FyZDogWzAsIDAsIC0xXVxuICAgICAgICAgIHVwOiAgICAgIFswLCAtMSwgMF1cbiAgICAgICAgICByaWdodCAgICBbMSwgMCwgMF1cbiAgICAgICAgT3JpZW50YXRpb24gY2FuIGJlIHNldCBmcmVlbHkgYnV0IGNlcnRhaW4gY29uc3RyYWludHMgc3RpbGwgYXBwbHk6XG4gICAgICAgICAtIE9yaWVudGF0aW9uIG11c3QgYmUgcmVwcmVzZW50YWJsZSB3aXRoIG9ubHkgcGl0Y2ggYW5kIGJlYXJpbmcuXG4gICAgICAgICAtIFBpdGNoIGhhcyBhbiB1cHBlciBsaW1pdFxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGNhbWVyYSA9IG1hcC5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpO1xuICpcbiAqIGNvbnN0IHBvc2l0aW9uID0gWzEzOC43MjY0OSwgMzUuMzM5NzRdO1xuICogY29uc3QgYWx0aXR1ZGUgPSAzMDAwO1xuICpcbiAqIGNhbWVyYS5wb3NpdGlvbiA9IG1hcGJveGdsLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHBvc2l0aW9uLCBhbHRpdHVkZSk7XG4gKiBjYW1lcmEubG9va0F0UG9pbnQoWzEzOC43MzAzNiwgMzUuMzYxOTddKTtcbiAqXG4gKiBtYXAuc2V0RnJlZUNhbWVyYU9wdGlvbnMoY2FtZXJhKTtcbiAqIEBzZWUgW0V4YW1wbGU6IEFuaW1hdGUgdGhlIGNhbWVyYSBhcm91bmQgYSBwb2ludCBpbiAzRCB0ZXJyYWluXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mcmVlLWNhbWVyYS1wb2ludC8pXG4gKiBAc2VlIFtFeGFtcGxlOiBBbmltYXRlIHRoZSBjYW1lcmEgYWxvbmcgYSBwYXRoXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mcmVlLWNhbWVyYS1wYXRoLylcbiovXG5jbGFzcyBGcmVlQ2FtZXJhT3B0aW9ucyB7XG4gICAgb3JpZW50YXRpb246ID9RdWF0O1xuICAgIF9wb3NpdGlvbjogP01lcmNhdG9yQ29vcmRpbmF0ZTtcbiAgICBfZWxldmF0aW9uOiA/RWxldmF0aW9uO1xuICAgIF9yZW5kZXJXb3JsZENvcGllczogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiA/TWVyY2F0b3JDb29yZGluYXRlLCBvcmllbnRhdGlvbjogP1F1YXQpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB0aGlzLm9yaWVudGF0aW9uID0gb3JpZW50YXRpb247XG4gICAgfVxuXG4gICAgZ2V0IHBvc2l0aW9uKCk6ID9NZXJjYXRvckNvb3JkaW5hdGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XG4gICAgfVxuXG4gICAgc2V0IHBvc2l0aW9uKHBvc2l0aW9uOiA/TWVyY2F0b3JDb29yZGluYXRlIHwgVmVjMykge1xuICAgICAgICBpZiAoIXBvc2l0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtZXJjYXRvckNvb3JkaW5hdGUgPSBwb3NpdGlvbiBpbnN0YW5jZW9mIE1lcmNhdG9yQ29vcmRpbmF0ZSA/IHBvc2l0aW9uIDogbmV3IE1lcmNhdG9yQ29vcmRpbmF0ZShwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZW5kZXJXb3JsZENvcGllcykge1xuICAgICAgICAgICAgICAgIG1lcmNhdG9yQ29vcmRpbmF0ZS54ID0gd3JhcChtZXJjYXRvckNvb3JkaW5hdGUueCwgMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IG1lcmNhdG9yQ29vcmRpbmF0ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3Igc2V0dGluZyBvcmllbnRhdGlvbiBvZiB0aGUgY2FtZXJhIGJ5IGRlZmluaW5nIGEgZm9jdXMgcG9pbnRcbiAgICAgKiBvbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBsb2NhdGlvbiBMb2NhdGlvbiBvZiB0aGUgZm9jdXMgcG9pbnQgb24gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge3ZlYzM/fSB1cCBVcCB2ZWN0b3Igb2YgdGhlIGNhbWVyYSBpcyBuZWNlc3NhcnkgaW4gY2VydGFpbiBzY2VuYXJpb3Mgd2hlcmUgYmVhcmluZyBjYW4ndCBiZSBkZWR1Y2VkXG4gICAgICogICAgICBmcm9tIHRoZSB2aWV3aW5nIGRpcmVjdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNhbWVyYSA9IG1hcC5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpO1xuICAgICAqXG4gICAgICogY29uc3QgcG9zaXRpb24gPSBbMTM4LjcyNjQ5LCAzNS4zMzk3NF07XG4gICAgICogY29uc3QgYWx0aXR1ZGUgPSAzMDAwO1xuICAgICAqXG4gICAgICogY2FtZXJhLnBvc2l0aW9uID0gbWFwYm94Z2wuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQocG9zaXRpb24sIGFsdGl0dWRlKTtcbiAgICAgKiBjYW1lcmEubG9va0F0UG9pbnQoWzEzOC43MzAzNiwgMzUuMzYxOTddKTtcbiAgICAgKiAvLyBBcHBseSBjYW1lcmEgY2hhbmdlc1xuICAgICAqIG1hcC5zZXRGcmVlQ2FtZXJhT3B0aW9ucyhjYW1lcmEpO1xuICAgICAqL1xuICAgIGxvb2tBdFBvaW50KGxvY2F0aW9uOiBMbmdMYXRMaWtlLCB1cD86IFZlYzMpIHtcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG51bGw7XG4gICAgICAgIGlmICghdGhpcy5wb3NpdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zOiBNZXJjYXRvckNvb3JkaW5hdGUgPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICBjb25zdCBhbHRpdHVkZSA9IHRoaXMuX2VsZXZhdGlvbiA/IHRoaXMuX2VsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KGxvY2F0aW9uKSkgOiAwO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBNZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChsb2NhdGlvbiwgYWx0aXR1ZGUpO1xuICAgICAgICBjb25zdCBmb3J3YXJkID0gW3RhcmdldC54IC0gcG9zLngsIHRhcmdldC55IC0gcG9zLnksIHRhcmdldC56IC0gcG9zLnpdO1xuICAgICAgICBpZiAoIXVwKVxuICAgICAgICAgICAgdXAgPSBbMCwgMCwgMV07XG5cbiAgICAgICAgLy8gZmxpcCB6LWNvbXBvbmVudCBpZiB0aGUgdXAgdmVjdG9yIGlzIHBvaW50aW5nIGRvd253YXJkc1xuICAgICAgICB1cFsyXSA9IE1hdGguYWJzKHVwWzJdKTtcblxuICAgICAgICB0aGlzLm9yaWVudGF0aW9uID0gb3JpZW50YXRpb25Gcm9tRnJhbWUoZm9yd2FyZCwgdXApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3Igc2V0dGluZyB0aGUgb3JpZW50YXRpb24gb2YgdGhlIGNhbWVyYSBhcyBhIHBpdGNoIGFuZCBhIGJlYXJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl0Y2ggUGl0Y2ggYW5nbGUgaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmVhcmluZyBCZWFyaW5nIGFuZ2xlIGluIGRlZ3JlZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYW1lcmEgPSBtYXAuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTtcbiAgICAgKlxuICAgICAqIC8vIFVwZGF0ZSBjYW1lcmEgcGl0Y2ggYW5kIGJlYXJpbmdcbiAgICAgKiBjYW1lcmEuc2V0UGl0Y2hCZWFyaW5nKDgwLCA5MCk7XG4gICAgICogLy8gQXBwbHkgY2hhbmdlc1xuICAgICAqIG1hcC5zZXRGcmVlQ2FtZXJhT3B0aW9ucyhjYW1lcmEpO1xuICAgICAqL1xuICAgIHNldFBpdGNoQmVhcmluZyhwaXRjaDogbnVtYmVyLCBiZWFyaW5nOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uRnJvbVBpdGNoQmVhcmluZyhkZWdUb1JhZChwaXRjaCksIGRlZ1RvUmFkKC1iZWFyaW5nKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIFdoaWxlIHVzaW5nIHRoZSBmcmVlIGNhbWVyYSBBUEkgdGhlIG91dGNvbWUgdmFsdWUgb2YgaXNab29taW5nLCBpc01vdmluZyBhbmQgaXNSb3RhdGluZ1xuICogaXMgbm90IGEgcmVzdWx0IG9mIHRoZSBmcmVlIGNhbWVyYSBBUEkuXG4gKiBJZiB0aGUgdXNlciBzZXRzIHRoZSBtYXAuaW50ZXJhY3RpdmUgdG8gdHJ1ZSwgdGhlcmUgd2lsbCBiZSBjb25mbGljdGluZyBiZWhhdmlvcnMgd2hpbGVcbiAqIGludGVyYWN0aW5nIHdpdGggbWFwIHZpYSB6b29taW5nIG9yIG1vdmluZyB1c2luZyBtb3VzZSBvci9hbmQga2V5Ym9hcmQgd2hpY2ggd2lsbCByZXN1bHRcbiAqIGluIGlzWm9vbWluZywgaXNNb3ZpbmcgYW5kIGlzUm90YXRpbmcgdG8gcmV0dXJuIHRydWUgd2hpbGUgdXNpbmcgZnJlZSBjYW1lcmEgQVBJLiBJbiBvcmRlclxuICogdG8gcHJldmVudCB0aGUgY29uZmlsaWN0aW5nIGJlaGF2aW9yIHBsZWFzZSBzZXQgbWFwLmludGVyYWN0aXZlIHRvIGZhbHNlIHdoaWNoIHdpbGwgcmVzdWx0XG4gKiBpbiBtdXRpbmcgdGhlIGZvbGxvd2luZyBldmVudHM6IHpvb20sIHpvb21lbmQsIHpvb21zdGFydCwgcm90YXRlLCByb3RhdGVlbmQsIHJvdGF0ZXN0YXJ0LFxuICogbW92ZSwgbW92ZWVuZCwgbW92ZXN0YXJ0LCBwaXRjaCwgcGl0Y2hlbmQsIHBpdGNoc3RhcnQuXG4gKi9cblxuY2xhc3MgRnJlZUNhbWVyYSB7XG4gICAgX3RyYW5zZm9ybTogTWF0NDtcbiAgICBfb3JpZW50YXRpb246IFF1YXQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogP1ZlYzMsIG9yaWVudGF0aW9uOiA/UXVhdCkge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm0gPSBtYXQ0LmlkZW50aXR5KFtdKTtcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgfVxuXG4gICAgZ2V0IG1lcmNhdG9yUG9zaXRpb24oKTogTWVyY2F0b3JDb29yZGluYXRlIHtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgcmV0dXJuIG5ldyBNZXJjYXRvckNvb3JkaW5hdGUocG9zWzBdLCBwb3NbMV0sIHBvc1syXSk7XG4gICAgfVxuXG4gICAgZ2V0IHBvc2l0aW9uKCk6IFZlYzMge1xuICAgICAgICBjb25zdCBjb2w6IFZlYzQgPSBnZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLCAzKTtcbiAgICAgICAgcmV0dXJuIFtjb2xbMF0sIGNvbFsxXSwgY29sWzJdXTtcbiAgICB9XG5cbiAgICBzZXQgcG9zaXRpb24odmFsdWU6ID9WZWMzKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdXBkYXRlVHJhbnNmb3JtUG9zaXRpb24odGhpcy5fdHJhbnNmb3JtLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgb3JpZW50YXRpb24oKTogUXVhdCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgb3JpZW50YXRpb24odmFsdWU6ID9RdWF0KSB7XG4gICAgICAgIHRoaXMuX29yaWVudGF0aW9uID0gdmFsdWUgfHwgcXVhdC5pZGVudGl0eShbXSk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdXBkYXRlVHJhbnNmb3JtT3JpZW50YXRpb24odGhpcy5fdHJhbnNmb3JtLCB0aGlzLl9vcmllbnRhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRQaXRjaEJlYXJpbmcoKToge3BpdGNoOiBudW1iZXIsIGJlYXJpbmc6IG51bWJlcn0ge1xuICAgICAgICBjb25zdCBmID0gdGhpcy5mb3J3YXJkKCk7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLnJpZ2h0KCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJlYXJpbmc6IE1hdGguYXRhbjIoLXJbMV0sIHJbMF0pLFxuICAgICAgICAgICAgcGl0Y2g6IE1hdGguYXRhbjIoTWF0aC5zcXJ0KGZbMF0gKiBmWzBdICsgZlsxXSAqIGZbMV0pLCAtZlsyXSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzZXRQaXRjaEJlYXJpbmcocGl0Y2g6IG51bWJlciwgYmVhcmluZzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX29yaWVudGF0aW9uID0gb3JpZW50YXRpb25Gcm9tUGl0Y2hCZWFyaW5nKHBpdGNoLCBiZWFyaW5nKTtcbiAgICAgICAgdXBkYXRlVHJhbnNmb3JtT3JpZW50YXRpb24odGhpcy5fdHJhbnNmb3JtLCB0aGlzLl9vcmllbnRhdGlvbik7XG4gICAgfVxuXG4gICAgZm9yd2FyZCgpOiBWZWMzIHtcbiAgICAgICAgY29uc3QgY29sOiBWZWM0ID0gZ2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwgMik7XG4gICAgICAgIC8vIEZvcndhcmQgZGlyZWN0aW9uIGlzIHRvd2FyZHMgdGhlIG5lZ2F0aXZlIFotYXhpc1xuICAgICAgICByZXR1cm4gWy1jb2xbMF0sIC1jb2xbMV0sIC1jb2xbMl1dO1xuICAgIH1cblxuICAgIHVwKCk6IFZlYzMge1xuICAgICAgICBjb25zdCBjb2w6IFZlYzQgPSBnZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLCAxKTtcbiAgICAgICAgLy8gVXAgZGlyZWN0aW9uIGhhcyB0byBiZSBmbGlwcGVkIHRvIHBvaW50IHRvd2FyZHMgbm9ydGhcbiAgICAgICAgcmV0dXJuIFstY29sWzBdLCAtY29sWzFdLCAtY29sWzJdXTtcbiAgICB9XG5cbiAgICByaWdodCgpOiBWZWMzIHtcbiAgICAgICAgY29uc3QgY29sOiBWZWM0ID0gZ2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwgMCk7XG4gICAgICAgIHJldHVybiBbY29sWzBdLCBjb2xbMV0sIGNvbFsyXV07XG4gICAgfVxuXG4gICAgZ2V0Q2FtZXJhVG9Xb3JsZCh3b3JsZFNpemU6IG51bWJlciwgcGl4ZWxzUGVyTWV0ZXI6IG51bWJlcik6IEZsb2F0NjRBcnJheSB7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRvV29ybGQgPSBuZXcgRmxvYXQ2NEFycmF5KDE2KTtcbiAgICAgICAgbWF0NC5pbnZlcnQoY2FtZXJhVG9Xb3JsZCwgdGhpcy5nZXRXb3JsZFRvQ2FtZXJhKHdvcmxkU2l6ZSwgcGl4ZWxzUGVyTWV0ZXIpKTtcbiAgICAgICAgcmV0dXJuIGNhbWVyYVRvV29ybGQ7XG4gICAgfVxuXG4gICAgZ2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKHdvcmxkU2l6ZTogbnVtYmVyLCBwaXhlbHNQZXJNZXRlcjogbnVtYmVyLCB1bmlmb3JtU2NhbGU6IG51bWJlcik6IEZsb2F0NjRBcnJheSB7XG4gICAgICAgIGNvbnN0IGludlBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcblxuICAgICAgICB2ZWMzLnNjYWxlKGludlBvc2l0aW9uLCBpbnZQb3NpdGlvbiwgLXdvcmxkU2l6ZSk7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IG5ldyBGbG9hdDY0QXJyYXkoMTYpO1xuICAgICAgICBtYXQ0LmZyb21TY2FsaW5nKG1hdHJpeCwgW3VuaWZvcm1TY2FsZSwgdW5pZm9ybVNjYWxlLCB1bmlmb3JtU2NhbGVdKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobWF0cml4LCBtYXRyaXgsIGludlBvc2l0aW9uKTtcblxuICAgICAgICAvLyBBZGp1c3Qgc2NhbGUgb24geiAoM3JkIGNvbHVtbiAzcmQgcm93KVxuICAgICAgICBtYXRyaXhbMTBdICo9IHBpeGVsc1Blck1ldGVyO1xuXG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuXG4gICAgZ2V0V29ybGRUb0NhbWVyYSh3b3JsZFNpemU6IG51bWJlciwgcGl4ZWxzUGVyTWV0ZXI6IG51bWJlcik6IEZsb2F0NjRBcnJheSB7XG4gICAgICAgIC8vIHRyYW5zZm9ybWF0aW9uIGNoYWluIGZyb20gd29ybGQgc3BhY2UgdG8gY2FtZXJhIHNwYWNlOlxuICAgICAgICAvLyAxLiBIZWlnaHQgdmFsdWUgKHopIG9mIHJlbmRlcmFibGVzIGlzIGluIG1ldGVycy4gU2NhbGUgeiBjb29yZGluYXRlIGJ5IHBpeGVsc1Blck1ldGVyXG4gICAgICAgIC8vIDIuIFRyYW5zZm9ybSBmcm9tIHBpeGVsIGNvb3JkaW5hdGVzIHRvIGNhbWVyYSBzcGFjZSB3aXRoIGNhbWVyYU1hdHJpeF4tMVxuICAgICAgICAvLyAzLiBmbGlwIFkgaWYgcmVxdWlyZWRcblxuICAgICAgICAvLyB3b3JsZFRvQ2FtZXJhOiBmbGlwICogY2FtXi0xICogelNjYWxlXG4gICAgICAgIC8vIGNhbWVyYVRvV29ybGQ6IChmbGlwICogY2FtXi0xICogelNjYWxlKV4tMSA9PiAoelNjYWxlXi0xICogY2FtICogZmxpcF4tMSlcbiAgICAgICAgY29uc3QgbWF0cml4ID0gbmV3IEZsb2F0NjRBcnJheSgxNik7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBpbnZlcnNlIG9mIGNhbWVyYSBtYXRyaXggYW5kIHBvc3QtbXVsdGlwbHkgbmVnYXRlZCB0cmFuc2xhdGlvblxuICAgICAgICBjb25zdCBpbnZPcmllbnRhdGlvbiA9IG5ldyBGbG9hdDY0QXJyYXkoNCk7XG4gICAgICAgIGNvbnN0IGludlBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcblxuICAgICAgICBxdWF0LmNvbmp1Z2F0ZShpbnZPcmllbnRhdGlvbiwgdGhpcy5fb3JpZW50YXRpb24pO1xuICAgICAgICB2ZWMzLnNjYWxlKGludlBvc2l0aW9uLCBpbnZQb3NpdGlvbiwgLXdvcmxkU2l6ZSk7XG5cbiAgICAgICAgbWF0NC5mcm9tUXVhdChtYXRyaXgsIGludk9yaWVudGF0aW9uKTtcblxuICAgICAgICBtYXQ0LnRyYW5zbGF0ZShtYXRyaXgsIG1hdHJpeCwgaW52UG9zaXRpb24pO1xuXG4gICAgICAgIC8vIFByZS1tdWx0aXBseSB5ICgybmQgcm93KVxuICAgICAgICBtYXRyaXhbMV0gKj0gLTEuMDtcbiAgICAgICAgbWF0cml4WzVdICo9IC0xLjA7XG4gICAgICAgIG1hdHJpeFs5XSAqPSAtMS4wO1xuICAgICAgICBtYXRyaXhbMTNdICo9IC0xLjA7XG5cbiAgICAgICAgLy8gUG9zdC1tdWx0aXBseSB6ICgzcmQgY29sdW1uKVxuICAgICAgICBtYXRyaXhbOF0gKj0gcGl4ZWxzUGVyTWV0ZXI7XG4gICAgICAgIG1hdHJpeFs5XSAqPSBwaXhlbHNQZXJNZXRlcjtcbiAgICAgICAgbWF0cml4WzEwXSAqPSBwaXhlbHNQZXJNZXRlcjtcbiAgICAgICAgbWF0cml4WzExXSAqPSBwaXhlbHNQZXJNZXRlcjtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIGdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKGZvdnk6IG51bWJlciwgYXNwZWN0UmF0aW86IG51bWJlciwgbmVhclo6IG51bWJlciwgZmFyWjogbnVtYmVyKTogRmxvYXQ2NEFycmF5IHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gbmV3IEZsb2F0NjRBcnJheSgxNik7XG4gICAgICAgIG1hdDQucGVyc3BlY3RpdmUobWF0cml4LCBmb3Z5LCBhc3BlY3RSYXRpbywgbmVhclosIGZhclopO1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIC8vIFRoZSBhZGRpdGlvbmFsIHBhcmFtZXRlciBuZWVkcyB0byBiZSByZW1vdmVkLiBUaGlzIHdhcyBpbnRyb2R1Y2VkIGJlY2F1c2Ugb3JpZ2luYWxseVxuICAgIC8vIHRoZSB2YWx1ZSByZXR1cm5lZCBieSB0aGlzIGZ1bmN0aW9uIHdhcyBpbmNvcnJlY3QuIEZpeGluZyBpdCB3b3VsZCBicmVhayB0aGUgZm9nIHZpc3VhbHMgYW5kIG5lZWRzIHRvIGJlXG4gICAgLy8gY29tbXVuaWNhdGVkIGNhcmVmdWxseSBmaXJzdC4gQWxzbyBzZWUgdHJhbnNmb3JtLmNhbWVyYVdvcmxkU2l6ZUZvckZvZy5cbiAgICBnZXREaXN0YW5jZVRvRWxldmF0aW9uKGVsZXZhdGlvbk1ldGVyczogbnVtYmVyLCBjb252ZXJ0OiBib29sZWFuID0gZmFsc2UpOiBudW1iZXIge1xuICAgICAgICBjb25zdCB6MCA9IGVsZXZhdGlvbk1ldGVycyA9PT0gMCA/IDAgOiBtZXJjYXRvclpmcm9tQWx0aXR1ZGUoZWxldmF0aW9uTWV0ZXJzLCBjb252ZXJ0ID8gbGF0RnJvbU1lcmNhdG9yWSh0aGlzLnBvc2l0aW9uWzFdKSA6IHRoaXMucG9zaXRpb25bMV0pO1xuICAgICAgICBjb25zdCBmID0gdGhpcy5mb3J3YXJkKCk7XG4gICAgICAgIHJldHVybiAoejAgLSB0aGlzLnBvc2l0aW9uWzJdKSAvIGZbMl07XG4gICAgfVxuXG4gICAgY2xvbmUoKTogRnJlZUNhbWVyYSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJlZUNhbWVyYShbLi4udGhpcy5wb3NpdGlvbl0sIFsuLi50aGlzLm9yaWVudGF0aW9uXSk7XG4gICAgfVxufVxuXG5leHBvcnQge1xuICAgIEZyZWVDYW1lcmEsXG4gICAgRnJlZUNhbWVyYU9wdGlvbnNcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2xuZ19sYXQuanMnO1xuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSwge01BWF9NRVJDQVRPUl9MQVRJVFVERX0gZnJvbSAnLi4vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQge21hdDQsIG1hdDJ9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQge2NsYW1wLCBzbW9vdGhzdGVwfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuXG5pbXBvcnQgdHlwZSBQcm9qZWN0aW9uIGZyb20gJy4vcHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vdHJhbnNmb3JtLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0UHJvamVjdGlvbkFkanVzdG1lbnRzKHRyYW5zZm9ybTogVHJhbnNmb3JtLCB3aXRob3V0Um90YXRpb24/OiBib29sZWFuKTogQXJyYXk8bnVtYmVyPiB7XG4gICAgY29uc3QgaW50ZXJwVCA9IGdldFByb2plY3Rpb25JbnRlcnBvbGF0aW9uVCh0cmFuc2Zvcm0ucHJvamVjdGlvbiwgdHJhbnNmb3JtLnpvb20sIHRyYW5zZm9ybS53aWR0aCwgdHJhbnNmb3JtLmhlaWdodCk7XG4gICAgY29uc3QgbWF0cml4ID0gZ2V0U2hlYXJBZGp1c3RtZW50KHRyYW5zZm9ybS5wcm9qZWN0aW9uLCB0cmFuc2Zvcm0uem9vbSwgdHJhbnNmb3JtLmNlbnRlciwgaW50ZXJwVCwgd2l0aG91dFJvdGF0aW9uKTtcblxuICAgIGNvbnN0IHNjYWxlQWRqdXN0bWVudCA9IGdldFNjYWxlQWRqdXN0bWVudCh0cmFuc2Zvcm0pO1xuICAgIG1hdDQuc2NhbGUobWF0cml4LCBtYXRyaXgsIFtzY2FsZUFkanVzdG1lbnQsIHNjYWxlQWRqdXN0bWVudCwgMV0pO1xuXG4gICAgcmV0dXJuIG1hdHJpeDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjYWxlQWRqdXN0bWVudCh0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IG51bWJlciB7XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHRyYW5zZm9ybS5wcm9qZWN0aW9uO1xuICAgIGNvbnN0IGludGVycFQgPSBnZXRQcm9qZWN0aW9uSW50ZXJwb2xhdGlvblQodHJhbnNmb3JtLnByb2plY3Rpb24sIHRyYW5zZm9ybS56b29tLCB0cmFuc2Zvcm0ud2lkdGgsIHRyYW5zZm9ybS5oZWlnaHQpO1xuICAgIGNvbnN0IHpvb21BZGp1c3RtZW50ID0gZ2V0Wm9vbUFkanVzdG1lbnQocHJvamVjdGlvbiwgdHJhbnNmb3JtLmNlbnRlcik7XG4gICAgY29uc3Qgem9vbUFkanVzdG1lbnRPcmlnaW4gPSBnZXRab29tQWRqdXN0bWVudChwcm9qZWN0aW9uLCBMbmdMYXQuY29udmVydChwcm9qZWN0aW9uLmNlbnRlcikpO1xuICAgIGNvbnN0IHNjYWxlQWRqdXN0bWVudCA9IE1hdGgucG93KDIsIHpvb21BZGp1c3RtZW50ICogaW50ZXJwVCArICgxIC0gaW50ZXJwVCkgKiB6b29tQWRqdXN0bWVudE9yaWdpbik7XG4gICAgcmV0dXJuIHNjYWxlQWRqdXN0bWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2plY3Rpb25BZGp1c3RtZW50SW52ZXJ0ZWQodHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBBcnJheTxudW1iZXI+IHtcbiAgICBjb25zdCBtID0gZ2V0UHJvamVjdGlvbkFkanVzdG1lbnRzKHRyYW5zZm9ybSwgdHJ1ZSk7XG4gICAgcmV0dXJuIG1hdDIuaW52ZXJ0KFtdLCBbXG4gICAgICAgIG1bMF0sIG1bMV0sXG4gICAgICAgIG1bNF0sIG1bNV1dKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2plY3Rpb25JbnRlcnBvbGF0aW9uVChwcm9qZWN0aW9uOiBQcm9qZWN0aW9uLCB6b29tOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBtYXhTaXplOiBudW1iZXIgPSBJbmZpbml0eSk6IG51bWJlciB7XG4gICAgY29uc3QgcmFuZ2UgPSBwcm9qZWN0aW9uLnJhbmdlO1xuICAgIGlmICghcmFuZ2UpIHJldHVybiAwO1xuXG4gICAgY29uc3Qgc2l6ZSA9IE1hdGgubWluKG1heFNpemUsIE1hdGgubWF4KHdpZHRoLCBoZWlnaHQpKTtcbiAgICAvLyBUaGUgaW50ZXJwb2xhdGlvbiByYW5nZXMgYXJlIG1hbnVhbGx5IGRlZmluZWQgYmFzZWQgb24gd2hhdCBtYWtlc1xuICAgIC8vIHNlbnNlIGluIGEgMTAyNHB4IHdpZGUgbWFwLiBBZGp1c3QgdGhlIHJhbmdlcyB0byB0aGUgY3VycmVudCBzaXplXG4gICAgLy8gb2YgdGhlIG1hcC4gVGhlIHNtYWxsZXIgdGhlIG1hcCwgdGhlIGVhcmxpZXIgeW91IGNhbiBzdGFydCB1bnNrZXdpbmcuXG4gICAgY29uc3QgcmFuZ2VBZGp1c3RtZW50ID0gTWF0aC5sb2coc2l6ZSAvIDEwMjQpIC8gTWF0aC5MTjI7XG4gICAgY29uc3Qgem9vbUEgPSByYW5nZVswXSArIHJhbmdlQWRqdXN0bWVudDtcbiAgICBjb25zdCB6b29tQiA9IHJhbmdlWzFdICsgcmFuZ2VBZGp1c3RtZW50O1xuICAgIGNvbnN0IHQgPSBzbW9vdGhzdGVwKHpvb21BLCB6b29tQiwgem9vbSk7XG4gICAgcmV0dXJuIHQ7XG59XG5cbi8vIGFwcHJveC4ga2lsb21ldGVycyBwZXIgbG9uZ2l0dWRlIGRlZ3JlZSBhdCBlcXVhdG9yXG5jb25zdCBvZmZzZXQgPSAxIC8gNDAwMDA7XG5cbi8qXG4gKiBDYWxjdWxhdGVzIHRoZSBzY2FsZSBkaWZmZXJlbmNlIGJldHdlZW4gTWVyY2F0b3IgYW5kIHRoZSBnaXZlbiBwcm9qZWN0aW9uIGF0IGEgY2VydGFpbiBsb2NhdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0Wm9vbUFkanVzdG1lbnQocHJvamVjdGlvbjogUHJvamVjdGlvbiwgbG9jOiBMbmdMYXQpIHtcbiAgICAvLyBtYWtlIHN1cmUgd2Ugb3BlcmF0ZSB3aXRoaW4gbWVyY2F0b3Igc3BhY2UgZm9yIGFkanVzdG1lbnRzICh0aGV5IGNhbiBnbyBvdmVyIGZvciBvdGhlciBwcm9qZWN0aW9ucylcbiAgICBjb25zdCBsYXQgPSBjbGFtcChsb2MubGF0LCAtTUFYX01FUkNBVE9SX0xBVElUVURFLCBNQVhfTUVSQ0FUT1JfTEFUSVRVREUpO1xuXG4gICAgY29uc3QgbG9jMSA9IG5ldyBMbmdMYXQobG9jLmxuZyAtIDE4MCAqIG9mZnNldCwgbGF0KTtcbiAgICBjb25zdCBsb2MyID0gbmV3IExuZ0xhdChsb2MubG5nICsgMTgwICogb2Zmc2V0LCBsYXQpO1xuXG4gICAgY29uc3QgcDEgPSBwcm9qZWN0aW9uLnByb2plY3QobG9jMS5sbmcsIGxhdCk7XG4gICAgY29uc3QgcDIgPSBwcm9qZWN0aW9uLnByb2plY3QobG9jMi5sbmcsIGxhdCk7XG5cbiAgICBjb25zdCBtMSA9IE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KGxvYzEpO1xuICAgIGNvbnN0IG0yID0gTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQobG9jMik7XG5cbiAgICBjb25zdCBwZHggPSBwMi54IC0gcDEueDtcbiAgICBjb25zdCBwZHkgPSBwMi55IC0gcDEueTtcbiAgICBjb25zdCBtZHggPSBtMi54IC0gbTEueDtcbiAgICBjb25zdCBtZHkgPSBtMi55IC0gbTEueTtcblxuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5zcXJ0KChtZHggKiBtZHggKyBtZHkgKiBtZHkpIC8gKHBkeCAqIHBkeCArIHBkeSAqIHBkeSkpO1xuXG4gICAgcmV0dXJuIE1hdGgubG9nKHNjYWxlKSAvIE1hdGguTE4yO1xufVxuXG5mdW5jdGlvbiBnZXRTaGVhckFkanVzdG1lbnQocHJvamVjdGlvbiwgem9vbSwgbG9jLCBpbnRlcnBULCB3aXRob3V0Um90YXRpb24/OiBib29sZWFuKSB7XG5cbiAgICAvLyBjcmVhdGUgdHdvIGxvY2F0aW9ucyBhIHRpbnkgYW1vdW50ICh+MWttKSBlYXN0IGFuZCB3ZXN0IG9mIHRoZSBnaXZlbiBsb2NhdGlvblxuICAgIGNvbnN0IGxvY3cgPSBuZXcgTG5nTGF0KGxvYy5sbmcgLSAxODAgKiBvZmZzZXQsIGxvYy5sYXQpO1xuICAgIGNvbnN0IGxvY2UgPSBuZXcgTG5nTGF0KGxvYy5sbmcgKyAxODAgKiBvZmZzZXQsIGxvYy5sYXQpO1xuXG4gICAgY29uc3QgcHcgPSBwcm9qZWN0aW9uLnByb2plY3QobG9jdy5sbmcsIGxvY3cubGF0KTtcbiAgICBjb25zdCBwZSA9IHByb2plY3Rpb24ucHJvamVjdChsb2NlLmxuZywgbG9jZS5sYXQpO1xuXG4gICAgY29uc3QgcGR4ID0gcGUueCAtIHB3Lng7XG4gICAgY29uc3QgcGR5ID0gcGUueSAtIHB3Lnk7XG5cbiAgICAvLyBDYWxjdWxhdGUgaG93IG11Y2ggdGhlIG1hcCB3b3VsZCBuZWVkIHRvIGJlIHJvdGF0ZWQgdG8gbWFrZSBlYXN0LXdlc3QgaW5cbiAgICAvLyBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMgYmUgbGVmdC1yaWdodFxuICAgIGNvbnN0IGFuZ2xlQWRqdXN0ID0gLU1hdGguYXRhbjIocGR5LCBwZHgpO1xuXG4gICAgLy8gUGljayBhIGxvY2F0aW9uIGlkZW50aWNhbCB0byB0aGUgb3JpZ2luYWwgb25lIGV4Y2VwdCBmb3IgcG9sZXMgdG8gbWFrZSBzdXJlIHdlJ3JlIHdpdGhpbiBtZXJjYXRvciBib3VuZHNcbiAgICBjb25zdCBtYzIgPSBNZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChsb2MpO1xuICAgIG1jMi55ID0gY2xhbXAobWMyLnksIC0xICsgb2Zmc2V0LCAxIC0gb2Zmc2V0KTtcbiAgICBjb25zdCBsb2MyID0gbWMyLnRvTG5nTGF0KCk7XG4gICAgY29uc3QgcDIgPSBwcm9qZWN0aW9uLnByb2plY3QobG9jMi5sbmcsIGxvYzIubGF0KTtcblxuICAgIC8vIEZpbmQgdGhlIHByb2plY3RlZCBjb29yZGluYXRlcyBvZiB0d28gbG9jYXRpb25zLCBvbmUgc2xpZ2h0bHkgc291dGggYW5kIG9uZSBzbGlnaHRseSBlYXN0LlxuICAgIC8vIFRoZW4gY2FsY3VsYXRlIHRoZSB0cmFuc2Zvcm0gdGhhdCB3b3VsZCBtYWtlIHRoZSBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMgb2YgdGhlIHR3byBsb2NhdGlvbnMgYmU6XG4gICAgLy8gLSBlcXVhbCBkaXN0YW5jZXMgZnJvbSB0aGUgb3JpZ2luYWwgbG9jYXRpb25cbiAgICAvLyAtIHBlcnBlbmRpY3VsYXIgdG8gb25lIGFub3RoZXJcbiAgICAvL1xuICAgIC8vIE9ubHkgdGhlIHBvc2l0aW9uIG9mIHRoZSBjb29yZGluYXRlIHRvIHRoZSBub3J0aCBpcyBhZGp1c3RlZC5cbiAgICAvLyBUaGUgY29vcmRpbmF0ZSB0byB0aGUgZWFzdCBzdGF5cyB3aGVyZSBpdCBpcy5cbiAgICBjb25zdCBtYzMgPSBNZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChsb2MyKTtcbiAgICBtYzMueCArPSBvZmZzZXQ7XG4gICAgY29uc3QgbG9jMyA9IG1jMy50b0xuZ0xhdCgpO1xuICAgIGNvbnN0IHAzID0gcHJvamVjdGlvbi5wcm9qZWN0KGxvYzMubG5nLCBsb2MzLmxhdCk7XG4gICAgY29uc3QgcGR4MyA9IHAzLnggLSBwMi54O1xuICAgIGNvbnN0IHBkeTMgPSBwMy55IC0gcDIueTtcbiAgICBjb25zdCBkZWx0YTMgPSByb3RhdGUocGR4MywgcGR5MywgYW5nbGVBZGp1c3QpO1xuXG4gICAgY29uc3QgbWM0ID0gTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQobG9jMik7XG4gICAgbWM0LnkgKz0gb2Zmc2V0O1xuICAgIGNvbnN0IGxvYzQgPSBtYzQudG9MbmdMYXQoKTtcbiAgICBjb25zdCBwNCA9IHByb2plY3Rpb24ucHJvamVjdChsb2M0LmxuZywgbG9jNC5sYXQpO1xuICAgIGNvbnN0IHBkeDQgPSBwNC54IC0gcDIueDtcbiAgICBjb25zdCBwZHk0ID0gcDQueSAtIHAyLnk7XG4gICAgY29uc3QgZGVsdGE0ID0gcm90YXRlKHBkeDQsIHBkeTQsIGFuZ2xlQWRqdXN0KTtcblxuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5hYnMoZGVsdGEzLngpIC8gTWF0aC5hYnMoZGVsdGE0LnkpO1xuXG4gICAgY29uc3QgdW5yb3RhdGUgPSBtYXQ0LmlkZW50aXR5KFtdKTtcbiAgICBtYXQ0LnJvdGF0ZVoodW5yb3RhdGUsIHVucm90YXRlLCAoLWFuZ2xlQWRqdXN0KSAqICgxIC0gKHdpdGhvdXRSb3RhdGlvbiA/IDAgOiBpbnRlcnBUKSkpO1xuXG4gICAgLy8gdW5za2V3XG4gICAgY29uc3Qgc2hlYXIgPSBtYXQ0LmlkZW50aXR5KFtdKTtcbiAgICBtYXQ0LnNjYWxlKHNoZWFyLCBzaGVhciwgWzEsIDEgLSAoMSAtIHNjYWxlKSAqIGludGVycFQsIDFdKTtcbiAgICBzaGVhcls0XSA9IC1kZWx0YTQueCAvIGRlbHRhNC55ICogaW50ZXJwVDtcblxuICAgIC8vIHVucm90YXRlXG4gICAgbWF0NC5yb3RhdGVaKHNoZWFyLCBzaGVhciwgYW5nbGVBZGp1c3QpO1xuXG4gICAgbWF0NC5tdWx0aXBseShzaGVhciwgdW5yb3RhdGUsIHNoZWFyKTtcblxuICAgIHJldHVybiBzaGVhcjtcbn1cblxuZnVuY3Rpb24gcm90YXRlKHgsIHksIGFuZ2xlKSB7XG4gICAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB4ICogY29zIC0geSAqIHNpbixcbiAgICAgICAgeTogeCAqIHNpbiArIHkgKiBjb3NcbiAgICB9O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IExuZ0xhdCBmcm9tICcuL2xuZ19sYXQuanMnO1xuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuL2xuZ19sYXRfYm91bmRzLmpzJztcbmltcG9ydCBNZXJjYXRvckNvb3JkaW5hdGUsIHttZXJjYXRvclhmcm9tTG5nLCBtZXJjYXRvcllmcm9tTGF0LCBtZXJjYXRvclpmcm9tQWx0aXR1ZGUsIGxhdEZyb21NZXJjYXRvclksIE1BWF9NRVJDQVRPUl9MQVRJVFVERSwgY2lyY3VtZmVyZW5jZUF0TGF0aXR1ZGV9IGZyb20gJy4vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQge2dldFByb2plY3Rpb259IGZyb20gJy4vcHJvamVjdGlvbi9pbmRleC5qcyc7XG5pbXBvcnQge3RpbGVBQUJCfSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi90aWxlX3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQge3dyYXAsIGNsYW1wLCBwaWNrLCByYWRUb0RlZywgZGVnVG9SYWQsIGdldEFBQkJQb2ludFNxdWFyZURpc3QsIGZ1cnRoZXN0VGlsZUNvcm5lciwgd2Fybk9uY2UsIGRlZXBFcXVhbH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7bnVtYmVyIGFzIGludGVycG9sYXRlfSBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvaW50ZXJwb2xhdGUuanMnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudC5qcyc7XG5pbXBvcnQge3ZlYzQsIG1hdDQsIG1hdDIsIHZlYzMsIHF1YXR9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQge0ZydXN0dW0sIEZydXN0dW1Db3JuZXJzLCBSYXl9IGZyb20gJy4uL3V0aWwvcHJpbWl0aXZlcy5qcyc7XG5pbXBvcnQgRWRnZUluc2V0cyBmcm9tICcuL2VkZ2VfaW5zZXRzLmpzJztcbmltcG9ydCB7RnJlZUNhbWVyYSwgRnJlZUNhbWVyYU9wdGlvbnMsIG9yaWVudGF0aW9uRnJvbUZyYW1lfSBmcm9tICcuLi91aS9mcmVlX2NhbWVyYS5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgZ2V0UHJvamVjdGlvbkFkanVzdG1lbnRzLCB7Z2V0UHJvamVjdGlvbkFkanVzdG1lbnRJbnZlcnRlZCwgZ2V0U2NhbGVBZGp1c3RtZW50LCBnZXRQcm9qZWN0aW9uSW50ZXJwb2xhdGlvblR9IGZyb20gJy4vcHJvamVjdGlvbi9hZGp1c3RtZW50cy5qcyc7XG5pbXBvcnQge2dldFBpeGVsc1RvVGlsZVVuaXRzTWF0cml4fSBmcm9tICcuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMuanMnO1xuaW1wb3J0IHtVbndyYXBwZWRUaWxlSUQsIE92ZXJzY2FsZWRUaWxlSUQsIENhbm9uaWNhbFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHtcbiAgICBjYWxjdWxhdGVHbG9iZU1hdHJpeCxcbiAgICBwb2xlc0luVmlld3BvcnQsXG4gICAgR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOLFxuICAgIEdMT0JFX1pPT01fVEhSRVNIT0xEX01BWCxcbiAgICBHTE9CRV9TQ0FMRV9NQVRDSF9MQVRJVFVERVxufSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcbmltcG9ydCB7cHJvamVjdENsYW1wZWR9IGZyb20gJy4uL3N5bWJvbC9wcm9qZWN0aW9uLmpzJztcblxuaW1wb3J0IHR5cGUgUHJvamVjdGlvbiBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9wcm9qZWN0aW9uLmpzJztcbmltcG9ydCB0eXBlIHtFbGV2YXRpb259IGZyb20gJy4uL3RlcnJhaW4vZWxldmF0aW9uLmpzJztcbmltcG9ydCB0eXBlIHtQYWRkaW5nT3B0aW9uc30gZnJvbSAnLi9lZGdlX2luc2V0cy5qcyc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIHtQcm9qZWN0aW9uU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSB7RmVhdHVyZURpc3RhbmNlRGF0YX0gZnJvbSAnLi4vc3R5bGUtc3BlYy9mZWF0dXJlX2ZpbHRlci9pbmRleC5qcyc7XG5pbXBvcnQgdHlwZSB7TWF0NCwgVmVjMywgVmVjNCwgUXVhdH0gZnJvbSAnZ2wtbWF0cml4JztcblxuY29uc3QgTlVNX1dPUkxEX0NPUElFUyA9IDM7XG5jb25zdCBERUZBVUxUX01JTl9aT09NID0gMDtcblxudHlwZSBSYXlJbnRlcnNlY3Rpb25SZXN1bHQgPSB7IHAwOiBWZWM0LCBwMTogVmVjNCwgdDogbnVtYmVyfTtcbnR5cGUgRWxldmF0aW9uUmVmZXJlbmNlID0gXCJzZWFcIiB8IFwiZ3JvdW5kXCI7XG5cbi8qKlxuICogQSBzaW5nbGUgdHJhbnNmb3JtLCBnZW5lcmFsbHkgdXNlZCBmb3IgYSBzaW5nbGUgdGlsZSB0byBiZVxuICogc2NhbGVkLCByb3RhdGVkLCBhbmQgem9vbWVkLlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgVHJhbnNmb3JtIHtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIHRpbGVab29tOiBudW1iZXI7XG4gICAgbWF4Qm91bmRzOiA/TG5nTGF0Qm91bmRzO1xuXG4gICAgLy8gMl56b29tICh3b3JsZFNpemUgPSB0aWxlU2l6ZSAqIHNjYWxlKVxuICAgIHNjYWxlOiBudW1iZXI7XG5cbiAgICAvLyBNYXAgdmlld3BvcnQgc2l6ZSAobm90IGluY2x1ZGluZyB0aGUgcGl4ZWwgcmF0aW8pXG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcblxuICAgIC8vIEJlYXJpbmcsIHJhZGlhbnMsIGluIFstcGksIHBpXVxuICAgIGFuZ2xlOiBudW1iZXI7XG5cbiAgICAvLyAyRCByb3RhdGlvbiBtYXRyaXggaW4gdGhlIGhvcml6b250YWwgcGxhbmUsIGFzIGEgZnVuY3Rpb24gb2YgYmVhcmluZ1xuICAgIHJvdGF0aW9uTWF0cml4OiBGbG9hdDMyQXJyYXk7XG5cbiAgICAvLyBab29tLCBtb2R1bG8gMVxuICAgIHpvb21GcmFjdGlvbjogbnVtYmVyO1xuXG4gICAgLy8gVGhlIHNjYWxlIGZhY3RvciBjb21wb25lbnQgb2YgdGhlIGNvbnZlcnNpb24gZnJvbSBwaXhlbHMgKFswLCB3XSB4IFtoLCAwXSkgdG8gR0xcbiAgICAvLyBOREMgKFsxLCAtMV0geCBbMSwgLTFdKSAobm90ZSBmbGlwcGVkIHkpXG4gICAgcGl4ZWxzVG9HTFVuaXRzOiBbbnVtYmVyLCBudW1iZXJdO1xuXG4gICAgLy8gRGlzdGFuY2UgZnJvbSBjYW1lcmEgdG8gdGhlIGNlbnRlciwgaW4gc2NyZWVuIHBpeGVsIHVuaXRzLCBpbmRlcGVuZGVudCBvZiB6b29tXG4gICAgY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTogbnVtYmVyO1xuXG4gICAgLy8gUHJvamVjdGlvbiBmcm9tIG1lcmNhdG9yIGNvb3JkaW5hdGVzIChbMCwgMF0gbncsIFsxLCAxXSBzZSkgdG8gR0wgY2xpcCBjb29yZGluYXRlc1xuICAgIG1lcmNhdG9yTWF0cml4OiBBcnJheTxudW1iZXI+O1xuXG4gICAgLy8gVHJhbnNsYXRlIHBvaW50cyBpbiBtZXJjYXRvciBjb29yZGluYXRlcyB0byBiZSBjZW50ZXJlZCBhYm91dCB0aGUgY2FtZXJhLCB3aXRoIHVuaXRzIGNob3NlblxuICAgIC8vIGZvciBzY3JlZW4taGVpZ2h0LWluZGVwZW5kZW50IHNjYWxpbmcgb2YgZm9nLiBOb3QgYWZmZWN0ZWQgYnkgb3JpZW50YXRpb24gb2YgY2FtZXJhLlxuICAgIG1lcmNhdG9yRm9nTWF0cml4OiBGbG9hdDMyQXJyYXk7XG5cbiAgICAvLyBQcm9qZWN0aW9uIGZyb20gd29ybGQgY29vcmRpbmF0ZXMgKG1lcmNhdG9yIHNjYWxlZCBieSB3b3JsZFNpemUpIHRvIGNsaXAgY29vcmRpbmF0ZXNcbiAgICBwcm9qTWF0cml4OiBBcnJheTxudW1iZXI+IHwgRmxvYXQzMkFycmF5IHwgRmxvYXQ2NEFycmF5O1xuICAgIGludlByb2pNYXRyaXg6IEZsb2F0NjRBcnJheTtcblxuICAgIC8vIFNhbWUgYXMgcHJvak1hdHJpeCwgcGl4ZWwtYWxpZ25lZCB0byBhdm9pZCBmcmFjdGlvbmFsIHBpeGVscyBmb3IgcmFzdGVyIHRpbGVzXG4gICAgYWxpZ25lZFByb2pNYXRyaXg6IEZsb2F0NjRBcnJheTtcblxuICAgIC8vIEZyb20gd29ybGQgY29vcmRpbmF0ZXMgdG8gc2NyZWVuIHBpeGVsIGNvb3JkaW5hdGVzIChwcm9qTWF0cml4IHByZW11bHRpcGxpZWQgYnkgbGFiZWxQbGFuZU1hdHJpeClcbiAgICBwaXhlbE1hdHJpeDogRmxvYXQ2NEFycmF5O1xuICAgIHBpeGVsTWF0cml4SW52ZXJzZTogRmxvYXQ2NEFycmF5O1xuXG4gICAgd29ybGRUb0ZvZ01hdHJpeDogRmxvYXQ2NEFycmF5O1xuICAgIHNreWJveE1hdHJpeDogRmxvYXQzMkFycmF5O1xuXG4gICAgLy8gVHJhbnNmb3JtIGZyb20gc2NyZWVuIGNvb3JkaW5hdGVzIHRvIEdMIE5EQywgWzAsIHddIHggW2gsIDBdIC0tPiBbLTEsIDFdIHggWy0xLCAxXVxuICAgIC8vIFJvdWdobHkgc3BlYWtpbmcsIGFwcGxpZXMgcGl4ZWxzVG9HTFVuaXRzIHNjYWxpbmcgd2l0aCBhIHRyYW5zbGF0aW9uXG4gICAgZ2xDb29yZE1hdHJpeDogRmxvYXQzMkFycmF5O1xuXG4gICAgLy8gSW52ZXJzZSBvZiBnbENvb3JkTWF0cml4LCBmcm9tIE5EQyB0byBzY3JlZW4gY29vcmRpbmF0ZXMsIFstMSwgMV0geCBbLTEsIDFdIC0tPiBbMCwgd10geCBbaCwgMF1cbiAgICBsYWJlbFBsYW5lTWF0cml4OiBGbG9hdDMyQXJyYXk7XG5cbiAgICAvLyBnbG9iZSBjb29yZGluYXRlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgIGdsb2JlTWF0cml4OiBGbG9hdDY0QXJyYXk7XG5cbiAgICBnbG9iZUNlbnRlckluVmlld1NwYWNlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG4gICAgZ2xvYmVSYWRpdXM6IG51bWJlcjtcblxuICAgIGludmVyc2VBZGp1c3RtZW50TWF0cml4OiBBcnJheTxudW1iZXI+O1xuXG4gICAgbWVyY2F0b3JGcm9tVHJhbnNpdGlvbjogYm9vbGVhbjtcblxuICAgIG1pbkxuZzogbnVtYmVyO1xuICAgIG1heExuZzogbnVtYmVyO1xuICAgIG1pbkxhdDogbnVtYmVyO1xuICAgIG1heExhdDogbnVtYmVyO1xuICAgIHdvcmxkTWluWDogbnVtYmVyO1xuICAgIHdvcmxkTWF4WDogbnVtYmVyO1xuICAgIHdvcmxkTWluWTogbnVtYmVyO1xuICAgIHdvcmxkTWF4WTogbnVtYmVyO1xuXG4gICAgZnJ1c3R1bUNvcm5lcnM6IEZydXN0dW1Db3JuZXJzO1xuXG4gICAgZnJlZXplVGlsZUNvdmVyYWdlOiBib29sZWFuO1xuICAgIGNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZTogRWxldmF0aW9uUmVmZXJlbmNlO1xuICAgIGZvZ0N1bGxEaXN0U3E6ID9udW1iZXI7XG4gICAgX2F2ZXJhZ2VFbGV2YXRpb246IG51bWJlcjtcbiAgICBwcm9qZWN0aW9uT3B0aW9uczogUHJvamVjdGlvblNwZWNpZmljYXRpb247XG4gICAgcHJvamVjdGlvbjogUHJvamVjdGlvbjtcbiAgICBfZWxldmF0aW9uOiA/RWxldmF0aW9uO1xuICAgIF9mb3Y6IG51bWJlcjtcbiAgICBfcGl0Y2g6IG51bWJlcjtcbiAgICBfem9vbTogbnVtYmVyO1xuICAgIF9zZWFMZXZlbFpvb206ID9udW1iZXI7XG4gICAgX3VubW9kaWZpZWQ6IGJvb2xlYW47XG4gICAgX3JlbmRlcldvcmxkQ29waWVzOiBib29sZWFuO1xuICAgIF9taW5ab29tOiBudW1iZXI7XG4gICAgX21heFpvb206IG51bWJlcjtcbiAgICBfbWluUGl0Y2g6IG51bWJlcjtcbiAgICBfbWF4UGl0Y2g6IG51bWJlcjtcbiAgICBfY2VudGVyOiBMbmdMYXQ7XG4gICAgX2VkZ2VJbnNldHM6IEVkZ2VJbnNldHM7XG4gICAgX2NvbnN0cmFpbmluZzogYm9vbGVhbjtcbiAgICBfcHJvak1hdHJpeENhY2hlOiB7W186IG51bWJlcl06IEZsb2F0MzJBcnJheX07XG4gICAgX2FsaWduZWRQcm9qTWF0cml4Q2FjaGU6IHtbXzogbnVtYmVyXTogRmxvYXQzMkFycmF5fTtcbiAgICBfcGl4ZWxzVG9UaWxlVW5pdHNDYWNoZToge1tfOiBudW1iZXJdOiBGbG9hdDMyQXJyYXl9O1xuICAgIF9mb2dUaWxlTWF0cml4Q2FjaGU6IHtbXzogbnVtYmVyXTogRmxvYXQzMkFycmF5fTtcbiAgICBfZGlzdGFuY2VUaWxlRGF0YUNhY2hlOiB7W186IG51bWJlcl06IEZlYXR1cmVEaXN0YW5jZURhdGF9O1xuICAgIF9jYW1lcmE6IEZyZWVDYW1lcmE7XG4gICAgX2NlbnRlckFsdGl0dWRlOiBudW1iZXI7XG4gICAgX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb246ID9udW1iZXI7XG4gICAgX2hvcml6b25TaGlmdDogbnVtYmVyO1xuICAgIF9waXhlbHNQZXJNZXJjYXRvclBpeGVsOiBudW1iZXI7XG4gICAgX25lYXJaOiBudW1iZXI7XG4gICAgX2Zhclo6IG51bWJlcjtcbiAgICBfbWVyY2F0b3JTY2FsZVJhdGlvOiBudW1iZXI7XG4gICAgX2lzQ2FtZXJhQ29uc3RyYWluZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihtaW5ab29tOiA/bnVtYmVyLCBtYXhab29tOiA/bnVtYmVyLCBtaW5QaXRjaDogP251bWJlciwgbWF4UGl0Y2g6ID9udW1iZXIsIHJlbmRlcldvcmxkQ29waWVzOiBib29sZWFuIHwgdm9pZCwgcHJvamVjdGlvbj86ID9Qcm9qZWN0aW9uU3BlY2lmaWNhdGlvbiwgYm91bmRzOiA/TG5nTGF0Qm91bmRzKSB7XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSA1MTI7IC8vIGNvbnN0YW50XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMgPSByZW5kZXJXb3JsZENvcGllcyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHJlbmRlcldvcmxkQ29waWVzO1xuICAgICAgICB0aGlzLl9taW5ab29tID0gbWluWm9vbSB8fCBERUZBVUxUX01JTl9aT09NO1xuICAgICAgICB0aGlzLl9tYXhab29tID0gbWF4Wm9vbSB8fCAyMjtcblxuICAgICAgICB0aGlzLl9taW5QaXRjaCA9IChtaW5QaXRjaCA9PT0gdW5kZWZpbmVkIHx8IG1pblBpdGNoID09PSBudWxsKSA/IDAgOiBtaW5QaXRjaDtcbiAgICAgICAgdGhpcy5fbWF4UGl0Y2ggPSAobWF4UGl0Y2ggPT09IHVuZGVmaW5lZCB8fCBtYXhQaXRjaCA9PT0gbnVsbCkgPyA2MCA6IG1heFBpdGNoO1xuXG4gICAgICAgIHRoaXMuc2V0UHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgdGhpcy5zZXRNYXhCb3VuZHMoYm91bmRzKTtcblxuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLl9jZW50ZXIgPSBuZXcgTG5nTGF0KDAsIDApO1xuICAgICAgICB0aGlzLnpvb20gPSAwO1xuICAgICAgICB0aGlzLmFuZ2xlID0gMDtcbiAgICAgICAgdGhpcy5fZm92ID0gMC42NDM1MDExMDg3OTMyODQ0O1xuICAgICAgICB0aGlzLl9waXRjaCA9IDA7XG4gICAgICAgIHRoaXMuX25lYXJaID0gMDtcbiAgICAgICAgdGhpcy5fZmFyWiA9IDA7XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9lZGdlSW5zZXRzID0gbmV3IEVkZ2VJbnNldHMoKTtcbiAgICAgICAgdGhpcy5fcHJvak1hdHJpeENhY2hlID0ge307XG4gICAgICAgIHRoaXMuX2FsaWduZWRQcm9qTWF0cml4Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5fZm9nVGlsZU1hdHJpeENhY2hlID0ge307XG4gICAgICAgIHRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9jYW1lcmEgPSBuZXcgRnJlZUNhbWVyYSgpO1xuICAgICAgICB0aGlzLl9jZW50ZXJBbHRpdHVkZSA9IDA7XG4gICAgICAgIHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24gPSAwO1xuICAgICAgICB0aGlzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSA9IFwiZ3JvdW5kXCI7XG4gICAgICAgIHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwgPSAxLjA7XG4gICAgICAgIHRoaXMuZ2xvYmVSYWRpdXMgPSAwO1xuICAgICAgICB0aGlzLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UgPSBbMCwgMCwgMF07XG5cbiAgICAgICAgLy8gTW92ZSB0aGUgaG9yaXpvbiBjbG9zZXIgdG8gdGhlIGNlbnRlci4gMCB3b3VsZCBub3Qgc2hpZnQgdGhlIGhvcml6b24uIDEgd291bGQgcHV0IHRoZSBob3Jpem9uIGF0IHRoZSBjZW50ZXIuXG4gICAgICAgIHRoaXMuX2hvcml6b25TaGlmdCA9IDAuMTtcbiAgICB9XG5cbiAgICBjbG9uZSgpOiBUcmFuc2Zvcm0ge1xuICAgICAgICBjb25zdCBjbG9uZSA9IG5ldyBUcmFuc2Zvcm0odGhpcy5fbWluWm9vbSwgdGhpcy5fbWF4Wm9vbSwgdGhpcy5fbWluUGl0Y2gsIHRoaXMubWF4UGl0Y2gsIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgIGNsb25lLl9lbGV2YXRpb24gPSB0aGlzLl9lbGV2YXRpb247XG4gICAgICAgIGNsb25lLl9jZW50ZXJBbHRpdHVkZSA9IHRoaXMuX2NlbnRlckFsdGl0dWRlO1xuICAgICAgICBjbG9uZS5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbiA9IHRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb247XG4gICAgICAgIGNsb25lLnRpbGVTaXplID0gdGhpcy50aWxlU2l6ZTtcbiAgICAgICAgY2xvbmUubWVyY2F0b3JGcm9tVHJhbnNpdGlvbiA9IHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbjtcbiAgICAgICAgY2xvbmUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBjbG9uZS5oZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgICAgY2xvbmUuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlID0gdGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U7XG4gICAgICAgIGNsb25lLl9jZW50ZXIgPSB0aGlzLl9jZW50ZXI7XG4gICAgICAgIGNsb25lLl9zZXRab29tKHRoaXMuem9vbSk7XG4gICAgICAgIGNsb25lLl9zZWFMZXZlbFpvb20gPSB0aGlzLl9zZWFMZXZlbFpvb207XG4gICAgICAgIGNsb25lLmFuZ2xlID0gdGhpcy5hbmdsZTtcbiAgICAgICAgY2xvbmUuX2ZvdiA9IHRoaXMuX2ZvdjtcbiAgICAgICAgY2xvbmUuX3BpdGNoID0gdGhpcy5fcGl0Y2g7XG4gICAgICAgIGNsb25lLl9uZWFyWiA9IHRoaXMuX25lYXJaO1xuICAgICAgICBjbG9uZS5fZmFyWiA9IHRoaXMuX2Zhclo7XG4gICAgICAgIGNsb25lLl9hdmVyYWdlRWxldmF0aW9uID0gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbjtcbiAgICAgICAgY2xvbmUuX3VubW9kaWZpZWQgPSB0aGlzLl91bm1vZGlmaWVkO1xuICAgICAgICBjbG9uZS5fZWRnZUluc2V0cyA9IHRoaXMuX2VkZ2VJbnNldHMuY2xvbmUoKTtcbiAgICAgICAgY2xvbmUuX2NhbWVyYSA9IHRoaXMuX2NhbWVyYS5jbG9uZSgpO1xuICAgICAgICBjbG9uZS5fY2FsY01hdHJpY2VzKCk7XG4gICAgICAgIGNsb25lLmZyZWV6ZVRpbGVDb3ZlcmFnZSA9IHRoaXMuZnJlZXplVGlsZUNvdmVyYWdlO1xuICAgICAgICBjbG9uZS5mcnVzdHVtQ29ybmVycyA9IHRoaXMuZnJ1c3R1bUNvcm5lcnM7XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBnZXQgZWxldmF0aW9uKCk6ID9FbGV2YXRpb24geyByZXR1cm4gdGhpcy5fZWxldmF0aW9uOyB9XG4gICAgc2V0IGVsZXZhdGlvbihlbGV2YXRpb246ID9FbGV2YXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2VsZXZhdGlvbiA9PT0gZWxldmF0aW9uKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VsZXZhdGlvbiA9IGVsZXZhdGlvbjtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCk7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgIH1cblxuICAgIHVwZGF0ZUVsZXZhdGlvbihjb25zdHJhaW5DYW1lcmFPdmVyVGVycmFpbjogYm9vbGVhbiwgYWRhcHRDYW1lcmFBbHRpdHVkZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlckFsdGl0dWRlQ2hhbmdlZCA9IHRoaXMuX2VsZXZhdGlvbiAmJiB0aGlzLl9lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkgIT09IHRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb247XG4gICAgICAgIGlmICh0aGlzLl9zZWFMZXZlbFpvb20gPT0gbnVsbCB8fCBjZW50ZXJBbHRpdHVkZUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25zdHJhaW5DYW1lcmFPdmVyVGVycmFpbiB8fCBjZW50ZXJBbHRpdHVkZUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnN0cmFpbkNhbWVyYShhZGFwdENhbWVyYUFsdGl0dWRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICBnZXRQcm9qZWN0aW9uKCk6IFByb2plY3Rpb25TcGVjaWZpY2F0aW9uIHtcbiAgICAgICAgcmV0dXJuIChwaWNrKHRoaXMucHJvamVjdGlvbiwgWyduYW1lJywgJ2NlbnRlcicsICdwYXJhbGxlbHMnXSk6IFByb2plY3Rpb25TcGVjaWZpY2F0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm5zIHdoZXRoZXIgdGhlIHByb2plY3Rpb24gY2hhbmdlc1xuICAgIHNldFByb2plY3Rpb24ocHJvamVjdGlvbj86ID9Qcm9qZWN0aW9uU3BlY2lmaWNhdGlvbik6IGJvb2xlYW4ge1xuICAgICAgICB0aGlzLnByb2plY3Rpb25PcHRpb25zID0gcHJvamVjdGlvbiB8fCB7bmFtZTogJ21lcmNhdG9yJ307XG5cbiAgICAgICAgY29uc3Qgb2xkUHJvamVjdGlvbiA9IHRoaXMucHJvamVjdGlvbiA/IHRoaXMuZ2V0UHJvamVjdGlvbigpIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKHRoaXMucHJvamVjdGlvbk9wdGlvbnMpO1xuICAgICAgICBjb25zdCBuZXdQcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdGlvbkhhc0NoYW5nZWQgPSAhZGVlcEVxdWFsKG9sZFByb2plY3Rpb24sIG5ld1Byb2plY3Rpb24pO1xuICAgICAgICBpZiAocHJvamVjdGlvbkhhc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiBwcm9qZWN0aW9uSGFzQ2hhbmdlZDtcbiAgICB9XG5cbiAgICBzZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBvbGRQcm9qZWN0aW9uID0gdGhpcy5wcm9qZWN0aW9uLm5hbWU7XG4gICAgICAgIHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbk9wdGlvbnMgPSB7bmFtZTogJ21lcmNhdG9yJ307XG4gICAgICAgIHRoaXMucHJvamVjdGlvbiA9IGdldFByb2plY3Rpb24oe25hbWU6ICdtZXJjYXRvcid9KTtcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbkhhc0NoYW5nZWQgPSBvbGRQcm9qZWN0aW9uICE9PSB0aGlzLnByb2plY3Rpb24ubmFtZTtcbiAgICAgICAgaWYgKHByb2plY3Rpb25IYXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvamVjdGlvbkhhc0NoYW5nZWQ7XG4gICAgfVxuXG4gICAgZ2V0IG1pblpvb20oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX21pblpvb207IH1cbiAgICBzZXQgbWluWm9vbSh6b29tOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX21pblpvb20gPT09IHpvb20pIHJldHVybjtcbiAgICAgICAgdGhpcy5fbWluWm9vbSA9IHpvb207XG4gICAgICAgIHRoaXMuem9vbSA9IE1hdGgubWF4KHRoaXMuem9vbSwgem9vbSk7XG4gICAgfVxuXG4gICAgZ2V0IG1heFpvb20oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX21heFpvb207IH1cbiAgICBzZXQgbWF4Wm9vbSh6b29tOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX21heFpvb20gPT09IHpvb20pIHJldHVybjtcbiAgICAgICAgdGhpcy5fbWF4Wm9vbSA9IHpvb207XG4gICAgICAgIHRoaXMuem9vbSA9IE1hdGgubWluKHRoaXMuem9vbSwgem9vbSk7XG4gICAgfVxuXG4gICAgZ2V0IG1pblBpdGNoKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9taW5QaXRjaDsgfVxuICAgIHNldCBtaW5QaXRjaChwaXRjaDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9taW5QaXRjaCA9PT0gcGl0Y2gpIHJldHVybjtcbiAgICAgICAgdGhpcy5fbWluUGl0Y2ggPSBwaXRjaDtcbiAgICAgICAgdGhpcy5waXRjaCA9IE1hdGgubWF4KHRoaXMucGl0Y2gsIHBpdGNoKTtcbiAgICB9XG5cbiAgICBnZXQgbWF4UGl0Y2goKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX21heFBpdGNoOyB9XG4gICAgc2V0IG1heFBpdGNoKHBpdGNoOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX21heFBpdGNoID09PSBwaXRjaCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9tYXhQaXRjaCA9IHBpdGNoO1xuICAgICAgICB0aGlzLnBpdGNoID0gTWF0aC5taW4odGhpcy5waXRjaCwgcGl0Y2gpO1xuICAgIH1cblxuICAgIGdldCByZW5kZXJXb3JsZENvcGllcygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzICYmIHRoaXMucHJvamVjdGlvbi5zdXBwb3J0c1dvcmxkQ29waWVzID09PSB0cnVlO1xuICAgIH1cbiAgICBzZXQgcmVuZGVyV29ybGRDb3BpZXMocmVuZGVyV29ybGRDb3BpZXM/OiA/Ym9vbGVhbikge1xuICAgICAgICBpZiAocmVuZGVyV29ybGRDb3BpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVuZGVyV29ybGRDb3BpZXMgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHJlbmRlcldvcmxkQ29waWVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZW5kZXJXb3JsZENvcGllcyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMgPSByZW5kZXJXb3JsZENvcGllcztcbiAgICB9XG5cbiAgICBnZXQgd29ybGRTaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVTaXplICogdGhpcy5zY2FsZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGdldHRlciByZXR1cm5zIGFuIGluY29ycmVjdCB2YWx1ZS5cbiAgICAvLyBJdCBzaG91bGQgZXZlbnR1YWxseSBiZSByZW1vdmVkIGFuZCBjYW1lcmFXb3JsZFNpemUgYmUgdXNlZCBpbnN0ZWFkLlxuICAgIC8vIFNlZSBmcmVlX2NhbWVyYS5nZXREaXN0YW5jZVRvRWxldmF0aW9uIGZvciB0aGUgcmF0aW9uYWxlLlxuICAgIGdldCBjYW1lcmFXb3JsZFNpemVGb3JGb2coKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLm1heCh0aGlzLl9jYW1lcmEuZ2V0RGlzdGFuY2VUb0VsZXZhdGlvbih0aGlzLl9hdmVyYWdlRWxldmF0aW9uKSwgTnVtYmVyLkVQU0lMT04pO1xuICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRTaXplRnJvbVpvb20odGhpcy5fem9vbUZyb21NZXJjYXRvclooZGlzdGFuY2UpKTtcbiAgICB9XG5cbiAgICBnZXQgY2FtZXJhV29ybGRTaXplKCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5tYXgodGhpcy5fY2FtZXJhLmdldERpc3RhbmNlVG9FbGV2YXRpb24odGhpcy5fYXZlcmFnZUVsZXZhdGlvbiwgdHJ1ZSksIE51bWJlci5FUFNJTE9OKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkU2l6ZUZyb21ab29tKHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKGRpc3RhbmNlKSk7XG4gICAgfVxuXG4gICAgLy8gYHBpeGVsc1Blck1ldGVyYCBpcyB1c2VkIHRvIGRlc2NyaWJlIHJlbGF0aW9uIGJldHdlZW4gcmVhbCB3b3JsZCBhbmQgcGl4ZWwgZGlzdGFuY2VzLlxuICAgIC8vIEluIG1lcmNhdG9yIHByb2plY3Rpb24gaXQgaXMgZGVwZW5kYW50IG9uIGxhdGl0dWRlIHZhbHVlIG1lYW5pbmcgdGhhdCBvbmUgbWV0ZXIgY292ZXJzXG4gICAgLy8gbGVzcyBwaXhlbHMgYXQgdGhlIGVxdWF0b3IgdGhhbiBuZWFyIHBvbGFyIHJlZ2lvbnMuIEdsb2JlIHByb2plY3Rpb24gaW4gb3RoZXIgaGFuZCB1c2VzXG4gICAgLy8gZml4ZWQgcmF0aW8gZXZlcnl3aGVyZS5cblxuICAgIGdldCBwaXhlbHNQZXJNZXRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnBpeGVsc1Blck1ldGVyKHRoaXMuY2VudGVyLmxhdCwgdGhpcy53b3JsZFNpemUpO1xuICAgIH1cblxuICAgIGdldCBjYW1lcmFQaXhlbHNQZXJNZXRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gbWVyY2F0b3JaZnJvbUFsdGl0dWRlKHRoaXMuY2VudGVyLmxhdCwgdGhpcy5jYW1lcmFXb3JsZFNpemVGb3JGb2cpO1xuICAgIH1cblxuICAgIGdldCBjZW50ZXJPZmZzZXQoKTogUG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5jZW50ZXJQb2ludC5fc3ViKHRoaXMuc2l6ZS5fZGl2KDIpKTtcbiAgICB9XG5cbiAgICBnZXQgc2l6ZSgpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIGdldCBiZWFyaW5nKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB3cmFwKHRoaXMucm90YXRpb24sIC0xODAsIDE4MCk7XG4gICAgfVxuXG4gICAgc2V0IGJlYXJpbmcoYmVhcmluZzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBiZWFyaW5nO1xuICAgIH1cblxuICAgIGdldCByb3RhdGlvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gLXRoaXMuYW5nbGUgLyBNYXRoLlBJICogMTgwO1xuICAgIH1cblxuICAgIHNldCByb3RhdGlvbihyb3RhdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGIgPSAtcm90YXRpb24gKiBNYXRoLlBJIC8gMTgwO1xuICAgICAgICBpZiAodGhpcy5hbmdsZSA9PT0gYikgcmV0dXJuO1xuICAgICAgICB0aGlzLl91bm1vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYW5nbGUgPSBiO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcblxuICAgICAgICAvLyAyeDIgbWF0cml4IGZvciByb3RhdGluZyBwb2ludHNcbiAgICAgICAgdGhpcy5yb3RhdGlvbk1hdHJpeCA9IG1hdDIuY3JlYXRlKCk7XG4gICAgICAgIG1hdDIucm90YXRlKHRoaXMucm90YXRpb25NYXRyaXgsIHRoaXMucm90YXRpb25NYXRyaXgsIHRoaXMuYW5nbGUpO1xuICAgIH1cblxuICAgIGdldCBwaXRjaCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGl0Y2ggLyBNYXRoLlBJICogMTgwO1xuICAgIH1cbiAgICBzZXQgcGl0Y2gocGl0Y2g6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwID0gY2xhbXAocGl0Y2gsIHRoaXMubWluUGl0Y2gsIHRoaXMubWF4UGl0Y2gpIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgaWYgKHRoaXMuX3BpdGNoID09PSBwKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGl0Y2ggPSBwO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICBnZXQgYXNwZWN0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgZ2V0IGZvdigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm92IC8gTWF0aC5QSSAqIDE4MDtcbiAgICB9XG5cbiAgICBnZXQgZm92WCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm92O1xuICAgIH1cblxuICAgIGdldCBmb3ZZKCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGZvY2FsTGVuZ3RoID0gMS4wIC8gTWF0aC50YW4odGhpcy5mb3ZYICogMC41KTtcbiAgICAgICAgcmV0dXJuIDIgKiBNYXRoLmF0YW4oKDEuMCAvIHRoaXMuYXNwZWN0KSAvIGZvY2FsTGVuZ3RoKTtcbiAgICB9XG5cbiAgICBzZXQgZm92KGZvdjogbnVtYmVyKSB7XG4gICAgICAgIGZvdiA9IE1hdGgubWF4KDAuMDEsIE1hdGgubWluKDYwLCBmb3YpKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZvdiA9PT0gZm92KSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZm92ID0gZGVnVG9SYWQoZm92KTtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG4gICAgfVxuXG4gICAgZ2V0IGF2ZXJhZ2VFbGV2YXRpb24oKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb247XG4gICAgfVxuICAgIHNldCBhdmVyYWdlRWxldmF0aW9uKGF2ZXJhZ2VFbGV2YXRpb246IG51bWJlcikge1xuICAgICAgICB0aGlzLl9hdmVyYWdlRWxldmF0aW9uID0gYXZlcmFnZUVsZXZhdGlvbjtcbiAgICAgICAgdGhpcy5fY2FsY0ZvZ01hdHJpY2VzKCk7XG4gICAgICAgIHRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZSA9IHt9O1xuICAgIH1cblxuICAgIGdldCB6b29tKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl96b29tOyB9XG4gICAgc2V0IHpvb20oem9vbTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHogPSBNYXRoLm1pbihNYXRoLm1heCh6b29tLCB0aGlzLm1pblpvb20pLCB0aGlzLm1heFpvb20pO1xuICAgICAgICBpZiAodGhpcy5fem9vbSA9PT0geikgcmV0dXJuO1xuICAgICAgICB0aGlzLl91bm1vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NldFpvb20oeik7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNlYUxldmVsWm9vbSgpO1xuICAgICAgICB0aGlzLl9jb25zdHJhaW4oKTtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG4gICAgfVxuICAgIF9zZXRab29tKHo6IG51bWJlcikge1xuICAgICAgICB0aGlzLl96b29tID0gejtcbiAgICAgICAgdGhpcy5zY2FsZSA9IHRoaXMuem9vbVNjYWxlKHopO1xuICAgICAgICB0aGlzLnRpbGVab29tID0gTWF0aC5mbG9vcih6KTtcbiAgICAgICAgdGhpcy56b29tRnJhY3Rpb24gPSB6IC0gdGhpcy50aWxlWm9vbTtcbiAgICB9XG5cbiAgICBfdXBkYXRlQ2FtZXJhT25UZXJyYWluKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VsZXZhdGlvbiB8fCAhdGhpcy5fZWxldmF0aW9uLmlzRGF0YUF2YWlsYWJsZUF0UG9pbnQodGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpKSkge1xuICAgICAgICAgICAgLy8gRWxldmF0aW9uIGRhdGEgbm90IGxvYWRlZCB5ZXQsIHJlc2V0XG4gICAgICAgICAgICB0aGlzLl9jZW50ZXJBbHRpdHVkZSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zZWFMZXZlbFpvb20gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGV2YXRpb246IEVsZXZhdGlvbiA9IHRoaXMuX2VsZXZhdGlvbjtcbiAgICAgICAgdGhpcy5fY2VudGVyQWx0aXR1ZGUgPSBlbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLmNlbnRlcikpO1xuICAgICAgICB0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uID0gZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpO1xuICAgICAgICB0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlU2VhTGV2ZWxab29tKCkge1xuICAgICAgICBpZiAodGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlO1xuICAgICAgICBjb25zdCB0ZXJyYWluRWxldmF0aW9uID0gdGhpcy5waXhlbHNQZXJNZXRlciAqIHRoaXMuX2NlbnRlckFsdGl0dWRlO1xuICAgICAgICBjb25zdCBtZXJjYXRvclogPSAodGVycmFpbkVsZXZhdGlvbiArIGhlaWdodCkgLyB0aGlzLndvcmxkU2l6ZTtcblxuICAgICAgICAvLyBNU0wgKE1lYW4gU2VhIExldmVsKSB6b29tIGRlc2NyaWJlcyB0aGUgZGlzdGFuY2Ugb2YgdGhlIGNhbWVyYSB0byB0aGUgc2VhIGxldmVsIChhbHRpdHVkZSkuXG4gICAgICAgIC8vIEl0IGlzIHVzZWQgb25seSBmb3IgbWFuaXB1bGF0aW5nIHRoZSBjYW1lcmEgbG9jYXRpb24uIFRoZSBzdGFuZGFyZCB6b29tICh0aGlzLl96b29tKVxuICAgICAgICAvLyBkZWZpbmVzIHRoZSBjYW1lcmEgZGlzdGFuY2UgdG8gdGhlIHRlcnJhaW4gKGhlaWdodCkuIEl0cyBiZWhhdmlvciBhbmQgY29uY2VwdHVhbFxuICAgICAgICAvLyBtZWFuaW5nIGluIGRldGVybWluaW5nIHdoaWNoIHRpbGVzIHRvIHN0cmVhbSBpcyBzYW1lIHdpdGggb3Igd2l0aG91dCB0aGUgdGVycmFpbi5cbiAgICAgICAgdGhpcy5fc2VhTGV2ZWxab29tID0gdGhpcy5fem9vbUZyb21NZXJjYXRvcloobWVyY2F0b3JaKTtcbiAgICB9XG5cbiAgICBzYW1wbGVBdmVyYWdlRWxldmF0aW9uKCk6IG51bWJlciB7XG4gICAgICAgIGlmICghdGhpcy5fZWxldmF0aW9uKSByZXR1cm4gMDtcbiAgICAgICAgY29uc3QgZWxldmF0aW9uOiBFbGV2YXRpb24gPSB0aGlzLl9lbGV2YXRpb247XG5cbiAgICAgICAgY29uc3QgZWxldmF0aW9uU2FtcGxlUG9pbnRzID0gW1xuICAgICAgICAgICAgWzAuNSwgMC4yXSxcbiAgICAgICAgICAgIFswLjMsIDAuNV0sXG4gICAgICAgICAgICBbMC41LCAwLjVdLFxuICAgICAgICAgICAgWzAuNywgMC41XSxcbiAgICAgICAgICAgIFswLjUsIDAuOF1cbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBob3Jpem9uID0gdGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtcblxuICAgICAgICBsZXQgZWxldmF0aW9uU3VtID0gMC4wO1xuICAgICAgICBsZXQgd2VpZ2h0U3VtID0gMC4wO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZXZhdGlvblNhbXBsZVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcHQgPSBuZXcgUG9pbnQoXG4gICAgICAgICAgICAgICAgZWxldmF0aW9uU2FtcGxlUG9pbnRzW2ldWzBdICogdGhpcy53aWR0aCxcbiAgICAgICAgICAgICAgICBob3Jpem9uICsgZWxldmF0aW9uU2FtcGxlUG9pbnRzW2ldWzFdICogKHRoaXMuaGVpZ2h0IC0gaG9yaXpvbilcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBoaXQgPSBlbGV2YXRpb24ucG9pbnRDb29yZGluYXRlKHB0KTtcbiAgICAgICAgICAgIGlmICghaGl0KSBjb250aW51ZTtcblxuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VUb0hpdCA9IE1hdGguaHlwb3QoaGl0WzBdIC0gdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzBdLCBoaXRbMV0gLSB0aGlzLl9jYW1lcmEucG9zaXRpb25bMV0pO1xuICAgICAgICAgICAgY29uc3Qgd2VpZ2h0ID0gMSAvIGRpc3RhbmNlVG9IaXQ7XG4gICAgICAgICAgICBlbGV2YXRpb25TdW0gKz0gaGl0WzNdICogd2VpZ2h0O1xuICAgICAgICAgICAgd2VpZ2h0U3VtICs9IHdlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3ZWlnaHRTdW0gPT09IDApIHJldHVybiBOYU47XG4gICAgICAgIHJldHVybiBlbGV2YXRpb25TdW0gLyB3ZWlnaHRTdW07XG4gICAgfVxuXG4gICAgZ2V0IGNlbnRlcigpOiBMbmdMYXQgeyByZXR1cm4gdGhpcy5fY2VudGVyOyB9XG4gICAgc2V0IGNlbnRlcihjZW50ZXI6IExuZ0xhdCkge1xuICAgICAgICBpZiAoY2VudGVyLmxhdCA9PT0gdGhpcy5fY2VudGVyLmxhdCAmJiBjZW50ZXIubG5nID09PSB0aGlzLl9jZW50ZXIubG5nKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgIGlmICh0aGlzLl90ZXJyYWluRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2UgPT09IFwiZ3JvdW5kXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDYW1lcmFPblRlcnJhaW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb25zdHJhaW4oKTtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVpvb21Gcm9tRWxldmF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fc2VhTGV2ZWxab29tID09IG51bGwgfHwgIXRoaXMuX2VsZXZhdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyBDb21wdXRlIHpvb20gbGV2ZWwgZnJvbSB0aGUgaGVpZ2h0IG9mIHRoZSBjYW1lcmEgcmVsYXRpdmUgdG8gdGhlIHRlcnJhaW5cbiAgICAgICAgY29uc3Qgc2VhTGV2ZWxab29tOiBudW1iZXIgPSB0aGlzLl9zZWFMZXZlbFpvb207XG4gICAgICAgIGNvbnN0IGVsZXZhdGlvbkF0Q2VudGVyID0gdGhpcy5fZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8odGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpKTtcbiAgICAgICAgY29uc3QgbWVyY2F0b3JFbGV2YXRpb24gPSB0aGlzLnBpeGVsc1Blck1ldGVyIC8gdGhpcy53b3JsZFNpemUgKiBlbGV2YXRpb25BdENlbnRlcjtcbiAgICAgICAgY29uc3QgYWx0aXR1ZGUgID0gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20oc2VhTGV2ZWxab29tKTtcbiAgICAgICAgY29uc3QgbWluSGVpZ2h0ID0gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWF4Wm9vbSk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KGFsdGl0dWRlIC0gbWVyY2F0b3JFbGV2YXRpb24sIG1pbkhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5fc2V0Wm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihoZWlnaHQpKTtcbiAgICB9XG5cbiAgICBnZXQgcGFkZGluZygpOiBQYWRkaW5nT3B0aW9ucyB7IHJldHVybiB0aGlzLl9lZGdlSW5zZXRzLnRvSlNPTigpOyB9XG4gICAgc2V0IHBhZGRpbmcocGFkZGluZzogUGFkZGluZ09wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2VkZ2VJbnNldHMuZXF1YWxzKHBhZGRpbmcpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgLy9VcGRhdGUgZWRnZS1pbnNldHMgaW5wbGFjZVxuICAgICAgICB0aGlzLl9lZGdlSW5zZXRzLmludGVycG9sYXRlKHRoaXMuX2VkZ2VJbnNldHMsIHBhZGRpbmcsIDEpO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIHpvb20gdmFsdWUgcmVsYXRpdmUgdG8gYSBtYXAgcGxhbmUgdGhhdCBnb2VzIHRocm91Z2ggdGhlIHByb3ZpZGVkIG1lcmNhdG9yIHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtNZXJjYXRvckNvb3JkaW5hdGV9IHBvc2l0aW9uIEEgcG9zaXRpb24gZGVmaW5pbmcgdGhlIGFsdGl0dWRlIG9mIHRoZSB0aGUgbWFwIHBsYW5lLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSB6b29tIHZhbHVlLlxuICAgICAqL1xuICAgIGNvbXB1dGVab29tUmVsYXRpdmVUbyhwb3NpdGlvbjogTWVyY2F0b3JDb29yZGluYXRlKTogbnVtYmVyIHtcbiAgICAgICAgLy8gRmluZCBtYXAgY2VudGVyIHBvc2l0aW9uIG9uIHRoZSB0YXJnZXQgcGxhbmUgYnkgY2FzdGluZyBhIHJheSBmcm9tIHNjcmVlbiBjZW50ZXIgdG93YXJkcyB0aGUgcGxhbmUuXG4gICAgICAgIC8vIERpcmVjdCBkaXN0YW5jZSB0byB0aGUgdGFyZ2V0IHBvc2l0aW9uIGlzIHVzZWQgaWYgdGhlIHRhcmdldCBwb3NpdGlvbiBpcyBhYm92ZSBjYW1lcmEgcG9zaXRpb24uXG4gICAgICAgIGNvbnN0IGNlbnRlck9uVGFyZ2V0QWx0aXR1ZGUgPSB0aGlzLnJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUodGhpcy5wb2ludFJheUludGVyc2VjdGlvbih0aGlzLmNlbnRlclBvaW50LCBwb3NpdGlvbi50b0FsdGl0dWRlKCkpKTtcblxuICAgICAgICBsZXQgdGFyZ2V0UG9zaXRpb246ID9WZWMzO1xuICAgICAgICBpZiAocG9zaXRpb24ueiA8IHRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXSkge1xuICAgICAgICAgICAgdGFyZ2V0UG9zaXRpb24gPSBbY2VudGVyT25UYXJnZXRBbHRpdHVkZS54LCBjZW50ZXJPblRhcmdldEFsdGl0dWRlLnksIGNlbnRlck9uVGFyZ2V0QWx0aXR1ZGUuel07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRQb3NpdGlvbiA9IFtwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBwb3NpdGlvbi56XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRpc3RUb1RhcmdldCA9IHZlYzMubGVuZ3RoKHZlYzMuc3ViKFtdLCB0aGlzLl9jYW1lcmEucG9zaXRpb24sIHRhcmdldFBvc2l0aW9uKSk7XG4gICAgICAgIHJldHVybiBjbGFtcCh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihkaXN0VG9UYXJnZXQpLCB0aGlzLl9taW5ab29tLCB0aGlzLl9tYXhab29tKTtcbiAgICB9XG5cbiAgICBzZXRGcmVlQ2FtZXJhT3B0aW9ucyhvcHRpb25zOiBGcmVlQ2FtZXJhT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5wb3NpdGlvbiAmJiAhb3B0aW9ucy5vcmllbnRhdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyBDYW1lcmEgc3RhdGUgbXVzdCBiZSB1cC10by1kYXRlIGJlZm9yZSBhY2Nlc3NpbmcgaXRzIGdldHRlcnNcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtcblxuICAgICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAob3B0aW9ucy5vcmllbnRhdGlvbiAmJiAhcXVhdC5leGFjdEVxdWFscyhvcHRpb25zLm9yaWVudGF0aW9uLCB0aGlzLl9jYW1lcmEub3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXSAtIEZsb3cgY2FuJ3QgaW5mZXIgdGhhdCBvcmllbnRhdGlvbiBpcyBub3QgbnVsbFxuICAgICAgICAgICAgY2hhbmdlZCA9IHRoaXMuX3NldENhbWVyYU9yaWVudGF0aW9uKG9wdGlvbnMub3JpZW50YXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gW29wdGlvbnMucG9zaXRpb24ueCwgb3B0aW9ucy5wb3NpdGlvbi55LCBvcHRpb25zLnBvc2l0aW9uLnpdO1xuICAgICAgICAgICAgaWYgKCF2ZWMzLmV4YWN0RXF1YWxzKG5ld1Bvc2l0aW9uLCB0aGlzLl9jYW1lcmEucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q2FtZXJhUG9zaXRpb24obmV3UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlRnJvbUNhbWVyYSgpO1xuICAgICAgICAgICAgdGhpcy5yZWNlbnRlck9uVGVycmFpbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTogRnJlZUNhbWVyYU9wdGlvbnMge1xuICAgICAgICB0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9jYW1lcmEucG9zaXRpb247XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBuZXcgRnJlZUNhbWVyYU9wdGlvbnMoKTtcbiAgICAgICAgb3B0aW9ucy5wb3NpdGlvbiA9IG5ldyBNZXJjYXRvckNvb3JkaW5hdGUocG9zWzBdLCBwb3NbMV0sIHBvc1syXSk7XG4gICAgICAgIG9wdGlvbnMub3JpZW50YXRpb24gPSB0aGlzLl9jYW1lcmEub3JpZW50YXRpb247XG4gICAgICAgIG9wdGlvbnMuX2VsZXZhdGlvbiA9IHRoaXMuZWxldmF0aW9uO1xuICAgICAgICBvcHRpb25zLl9yZW5kZXJXb3JsZENvcGllcyA9IHRoaXMucmVuZGVyV29ybGRDb3BpZXM7XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgX3NldENhbWVyYU9yaWVudGF0aW9uKG9yaWVudGF0aW9uOiBRdWF0KTogYm9vbGVhbiB7XG4gICAgICAgIC8vIHplcm8tbGVuZ3RoIHF1YXRlcm5pb25zIGFyZSBub3QgdmFsaWRcbiAgICAgICAgaWYgKCFxdWF0Lmxlbmd0aChvcmllbnRhdGlvbikpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcXVhdC5ub3JtYWxpemUob3JpZW50YXRpb24sIG9yaWVudGF0aW9uKTtcblxuICAgICAgICAvLyBUaGUgbmV3IG9yaWVudGF0aW9uIG11c3QgYmUgc2FuaXRpemVkIGJ5IG1ha2luZyBzdXJlIGl0IGNhbiBiZSByZXByZXNlbnRlZFxuICAgICAgICAvLyB3aXRoIGEgcGl0Y2ggYW5kIGJlYXJpbmcuIFJvbGwtY29tcG9uZW50IG11c3QgYmUgcmVtb3ZlZCBhbmQgdGhlIGNhbWVyYSBjYW4ndCBiZSB1cHNpZGUgZG93blxuICAgICAgICBjb25zdCBmb3J3YXJkID0gdmVjMy50cmFuc2Zvcm1RdWF0KFtdLCBbMCwgMCwgLTFdLCBvcmllbnRhdGlvbik7XG4gICAgICAgIGNvbnN0IHVwID0gdmVjMy50cmFuc2Zvcm1RdWF0KFtdLCBbMCwgLTEsIDBdLCBvcmllbnRhdGlvbik7XG5cbiAgICAgICAgaWYgKHVwWzJdIDwgMC4wKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRPcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uRnJvbUZyYW1lKGZvcndhcmQsIHVwKTtcbiAgICAgICAgaWYgKCF1cGRhdGVkT3JpZW50YXRpb24pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fY2FtZXJhLm9yaWVudGF0aW9uID0gdXBkYXRlZE9yaWVudGF0aW9uO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfc2V0Q2FtZXJhUG9zaXRpb24ocG9zaXRpb246IFZlYzMpIHtcbiAgICAgICAgLy8gQWx0aXR1ZGUgbXVzdCBiZSBjbGFtcGVkIHRvIHJlc3BlY3QgbWluIGFuZCBtYXggem9vbVxuICAgICAgICBjb25zdCBtaW5Xb3JsZFNpemUgPSB0aGlzLnpvb21TY2FsZSh0aGlzLm1pblpvb20pICogdGhpcy50aWxlU2l6ZTtcbiAgICAgICAgY29uc3QgbWF4V29ybGRTaXplID0gdGhpcy56b29tU2NhbGUodGhpcy5tYXhab29tKSAqIHRoaXMudGlsZVNpemU7XG4gICAgICAgIGNvbnN0IGRpc3RUb0NlbnRlciA9IHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTtcblxuICAgICAgICBwb3NpdGlvblsyXSA9IGNsYW1wKHBvc2l0aW9uWzJdLCBkaXN0VG9DZW50ZXIgLyBtYXhXb3JsZFNpemUsIGRpc3RUb0NlbnRlciAvIG1pbldvcmxkU2l6ZSk7XG4gICAgICAgIHRoaXMuX2NhbWVyYS5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjZW50ZXIgb2YgdGhlIHNjcmVlbiBpbiBwaXhlbHMgd2l0aCB0aGUgdG9wLWxlZnQgY29ybmVyIGJlaW5nICgwLDApXG4gICAgICogYW5kICt5IGF4aXMgcG9pbnRpbmcgZG93bndhcmRzLiBUaGlzIGFjY291bnRzIGZvciBwYWRkaW5nLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHR5cGUge1BvaW50fVxuICAgICAqIEBtZW1iZXJvZiBUcmFuc2Zvcm1cbiAgICAgKi9cbiAgICBnZXQgY2VudGVyUG9pbnQoKTogUG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWRnZUluc2V0cy5nZXRDZW50ZXIodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZlcnRpY2FsIGhhbGYtZm92LCBhY2NvdW50aW5nIGZvciBwYWRkaW5nLCBpbiByYWRpYW5zLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldCBmb3ZBYm92ZUNlbnRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm92ICogKDAuNSArIHRoaXMuY2VudGVyT2Zmc2V0LnkgLyB0aGlzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBwYWRkaW5nIG9wdGlvbnMgYXJlIGVxdWFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQYWRkaW5nT3B0aW9uc30gcGFkZGluZyBUaGUgcGFkZGluZyBvcHRpb25zIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHBhZGRpbmcgb3B0aW9ucyBhcmUgZXF1YWwuXG4gICAgICogQG1lbWJlcm9mIFRyYW5zZm9ybVxuICAgICAqL1xuICAgIGlzUGFkZGluZ0VxdWFsKHBhZGRpbmc6IFBhZGRpbmdPcHRpb25zKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lZGdlSW5zZXRzLmVxdWFscyhwYWRkaW5nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgbWV0aG9kIHRvIHVwZGF0ZSBlZGdlLWluc2V0cyBpbnBsYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQYWRkaW5nT3B0aW9uc30gc3RhcnQgVGhlIGluaXRpYWwgcGFkZGluZyBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7UGFkZGluZ09wdGlvbnN9IHRhcmdldCBUaGUgdGFyZ2V0IHBhZGRpbmcgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdCBUaGUgaW50ZXJwb2xhdGlvbiB2YXJpYWJsZS5cbiAgICAgKiBAbWVtYmVyb2YgVHJhbnNmb3JtXG4gICAgICovXG4gICAgaW50ZXJwb2xhdGVQYWRkaW5nKHN0YXJ0OiBQYWRkaW5nT3B0aW9ucywgdGFyZ2V0OiBQYWRkaW5nT3B0aW9ucywgdDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZWRnZUluc2V0cy5pbnRlcnBvbGF0ZShzdGFydCwgdGFyZ2V0LCB0KTtcbiAgICAgICAgdGhpcy5fY29uc3RyYWluKCk7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgaGlnaGVzdCB6b29tIGxldmVsIHRoYXQgZnVsbHkgaW5jbHVkZXMgYWxsIHRpbGVzIHdpdGhpbiB0aGUgdHJhbnNmb3JtJ3MgYm91bmRhcmllcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnRpbGVTaXplIFRpbGUgc2l6ZSwgZXhwcmVzc2VkIGluIHNjcmVlbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnJvdW5kWm9vbSBUYXJnZXQgem9vbSBsZXZlbC4gSWYgdHJ1ZSwgdGhlIHZhbHVlIHdpbGwgYmUgcm91bmRlZCB0byB0aGUgY2xvc2VzdCBpbnRlZ2VyLiBPdGhlcndpc2UgdGhlIHZhbHVlIHdpbGwgYmUgZmxvb3JlZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBBbiBpbnRlZ2VyIHpvb20gbGV2ZWwgYXQgd2hpY2ggYWxsIHRpbGVzIHdpbGwgYmUgdmlzaWJsZS5cbiAgICAgKi9cbiAgICBjb3ZlcmluZ1pvb21MZXZlbChvcHRpb25zOiB7cm91bmRab29tPzogYm9vbGVhbiwgdGlsZVNpemU6IG51bWJlcn0pOiBudW1iZXIge1xuICAgICAgICBjb25zdCB6ID0gKG9wdGlvbnMucm91bmRab29tID8gTWF0aC5yb3VuZCA6IE1hdGguZmxvb3IpKFxuICAgICAgICAgICAgdGhpcy56b29tICsgdGhpcy5zY2FsZVpvb20odGhpcy50aWxlU2l6ZSAvIG9wdGlvbnMudGlsZVNpemUpXG4gICAgICAgICk7XG4gICAgICAgIC8vIEF0IG5lZ2F0aXZlIHpvb20gbGV2ZWxzIGxvYWQgdGlsZXMgZnJvbSB6MCBiZWNhdXNlIG5lZ2F0aXZlIHRpbGUgem9vbSBsZXZlbHMgZG9uJ3QgZXhpc3QuXG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCB6KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW55IFwid3JhcHBlZFwiIGNvcGllcyBvZiBhIGdpdmVuIHRpbGUgY29vcmRpbmF0ZSB0aGF0IGFyZSB2aXNpYmxlXG4gICAgICogaW4gdGhlIGN1cnJlbnQgdmlldy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKHRpbGVJRDogQ2Fub25pY2FsVGlsZUlEKTogQXJyYXk8VW53cmFwcGVkVGlsZUlEPiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtuZXcgVW53cmFwcGVkVGlsZUlEKDAsIHRpbGVJRCldO1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJXb3JsZENvcGllcykge1xuICAgICAgICAgICAgY29uc3QgdXRsID0gdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KDAsIDApKTtcbiAgICAgICAgICAgIGNvbnN0IHV0ciA9IHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCh0aGlzLndpZHRoLCAwKSk7XG4gICAgICAgICAgICBjb25zdCB1YmwgPSB0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpKTtcbiAgICAgICAgICAgIGNvbnN0IHViciA9IHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCgwLCB0aGlzLmhlaWdodCkpO1xuICAgICAgICAgICAgY29uc3QgdzAgPSBNYXRoLmZsb29yKE1hdGgubWluKHV0bC54LCB1dHIueCwgdWJsLngsIHVici54KSk7XG4gICAgICAgICAgICBjb25zdCB3MSA9IE1hdGguZmxvb3IoTWF0aC5tYXgodXRsLngsIHV0ci54LCB1YmwueCwgdWJyLngpKTtcblxuICAgICAgICAgICAgLy8gQWRkIGFuIGV4dHJhIGNvcHkgb2YgdGhlIHdvcmxkIG9uIGVhY2ggc2lkZSB0byBwcm9wZXJseSByZW5kZXIgSW1hZ2VTb3VyY2VzIGFuZCBDYW52YXNTb3VyY2VzLlxuICAgICAgICAgICAgLy8gQm90aCBzb3VyY2VzIGRyYXcgb3V0c2lkZSB0aGUgdGlsZSBib3VuZGFyaWVzIG9mIHRoZSB0aWxlIHRoYXQgXCJjb250YWlucyB0aGVtXCIgc28gd2UgbmVlZFxuICAgICAgICAgICAgLy8gdG8gYWRkIGV4dHJhIGNvcGllcyBvbiBib3RoIHNpZGVzIGluIGNhc2Ugb2Zmc2NyZWVuIHRpbGVzIG5lZWQgdG8gZHJhdyBpbnRvIG9uLXNjcmVlbiBvbmVzLlxuICAgICAgICAgICAgY29uc3QgZXh0cmFXb3JsZENvcHkgPSAxO1xuXG4gICAgICAgICAgICBmb3IgKGxldCB3ID0gdzAgLSBleHRyYVdvcmxkQ29weTsgdyA8PSB3MSArIGV4dHJhV29ybGRDb3B5OyB3KyspIHtcbiAgICAgICAgICAgICAgICBpZiAodyA9PT0gMCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFVud3JhcHBlZFRpbGVJRCh3LCB0aWxlSUQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbGwgY29vcmRpbmF0ZXMgdGhhdCBjb3VsZCBjb3ZlciB0aGlzIHRyYW5zZm9ybSBmb3IgYSBjb3ZlcmluZ1xuICAgICAqIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy50aWxlU2l6ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLm1pbnpvb21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5tYXh6b29tXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnJvdW5kWm9vbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5yZXBhcnNlT3ZlcnNjYWxlZFxuICAgICAqIEByZXR1cm5zIHtBcnJheTxPdmVyc2NhbGVkVGlsZUlEPn0gT3ZlcnNjYWxlZFRpbGVJRHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvdmVyaW5nVGlsZXMoXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHRpbGVTaXplOiBudW1iZXIsXG4gICAgICAgICAgICBtaW56b29tPzogbnVtYmVyLFxuICAgICAgICAgICAgbWF4em9vbT86IG51bWJlcixcbiAgICAgICAgICAgIHJvdW5kWm9vbT86IGJvb2xlYW4sXG4gICAgICAgICAgICByZXBhcnNlT3ZlcnNjYWxlZD86IGJvb2xlYW4sXG4gICAgICAgICAgICByZW5kZXJXb3JsZENvcGllcz86IGJvb2xlYW4sXG4gICAgICAgICAgICBpc1RlcnJhaW5ERU0/OiBib29sZWFuXG4gICAgICAgIH1cbiAgICApOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPiB7XG4gICAgICAgIGxldCB6ID0gdGhpcy5jb3ZlcmluZ1pvb21MZXZlbChvcHRpb25zKTtcbiAgICAgICAgY29uc3QgYWN0dWFsWiA9IHo7XG5cbiAgICAgICAgY29uc3QgdXNlRWxldmF0aW9uRGF0YSA9IHRoaXMuZWxldmF0aW9uICYmICFvcHRpb25zLmlzVGVycmFpbkRFTTtcbiAgICAgICAgY29uc3QgaXNNZXJjYXRvciA9IHRoaXMucHJvamVjdGlvbi5uYW1lID09PSAnbWVyY2F0b3InO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm1pbnpvb20gIT09IHVuZGVmaW5lZCAmJiB6IDwgb3B0aW9ucy5taW56b29tKSByZXR1cm4gW107XG4gICAgICAgIGlmIChvcHRpb25zLm1heHpvb20gIT09IHVuZGVmaW5lZCAmJiB6ID4gb3B0aW9ucy5tYXh6b29tKSB6ID0gb3B0aW9ucy5tYXh6b29tO1xuXG4gICAgICAgIGNvbnN0IGNlbnRlckNvb3JkID0gdGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpO1xuICAgICAgICBjb25zdCBjZW50ZXJMYXRpdHVkZSA9IHRoaXMuY2VudGVyLmxhdDtcbiAgICAgICAgY29uc3QgbnVtVGlsZXMgPSAxIDw8IHo7XG4gICAgICAgIGNvbnN0IGNlbnRlclBvaW50ID0gW251bVRpbGVzICogY2VudGVyQ29vcmQueCwgbnVtVGlsZXMgKiBjZW50ZXJDb29yZC55LCAwXTtcbiAgICAgICAgY29uc3QgaXNHbG9iZSA9IHRoaXMucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuICAgICAgICBjb25zdCB6SW5NZXRlcnMgPSAhaXNHbG9iZTtcbiAgICAgICAgY29uc3QgY2FtZXJhRnJ1c3R1bSA9IEZydXN0dW0uZnJvbUludlByb2plY3Rpb25NYXRyaXgodGhpcy5pbnZQcm9qTWF0cml4LCB0aGlzLndvcmxkU2l6ZSwgeiwgekluTWV0ZXJzKTtcbiAgICAgICAgY29uc3QgY2FtZXJhQ29vcmQgPSBpc0dsb2JlID8gdGhpcy5fY2FtZXJhLm1lcmNhdG9yUG9zaXRpb24gOiB0aGlzLnBvaW50Q29vcmRpbmF0ZSh0aGlzLmdldENhbWVyYVBvaW50KCkpO1xuICAgICAgICBjb25zdCBtZXRlclRvVGlsZSA9IG51bVRpbGVzICogbWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsIHRoaXMuY2VudGVyLmxhdCk7XG4gICAgICAgIGNvbnN0IGNhbWVyYUFsdGl0dWRlID0gdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzJdIC8gbWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsIHRoaXMuY2VudGVyLmxhdCk7XG4gICAgICAgIGNvbnN0IGNhbWVyYVBvaW50ID0gW251bVRpbGVzICogY2FtZXJhQ29vcmQueCwgbnVtVGlsZXMgKiBjYW1lcmFDb29yZC55LCBjYW1lcmFBbHRpdHVkZSAqICh6SW5NZXRlcnMgPyAxIDogbWV0ZXJUb1RpbGUpXTtcbiAgICAgICAgLy8gTGV0J3MgY29uc2lkZXIgYW4gZXhhbXBsZSBmb3IgIXJvdW5kWm9vbTogZS5nLiB0aWxlWm9vbSAxNiBpcyB1c2VkIGZyb20gem9vbSAxNiBhbGwgdGhlIHdheSB0byB6b29tIDE2Ljk5LlxuICAgICAgICAvLyBUaGlzIHdvdWxkIG1lYW4gdGhhdCB0aGUgbWluaW1hbCBkaXN0YW5jZSB0byBzcGxpdCB3b3VsZCBiZSBiYXNlZCBvbiBkaXN0YW5jZSBmcm9tIGNhbWVyYSB0byBjZW50ZXIgb2YgMTYuOTkgem9vbS5cbiAgICAgICAgLy8gVGhlIHNhbWUgaXMgYWxyZWFkeSBpbmNvcnBvcmF0ZWQgaW4gbG9naWMgYmVoaW5kIHJvdW5kWm9vbSBmb3IgcmFzdGVyIChzbyB0aGVyZSBpcyBubyBhZGp1c3RtZW50IG5lZWRlZCBpbiBmb2xsb3dpbmcgbGluZSkuXG4gICAgICAgIC8vIDAuMDIgYWRkZWQgdG8gY29tcGVuc2F0ZSBmb3IgcHJlY2lzaW9uIGVycm9ycywgc2VlIFwiY292ZXJpbmdUaWxlcyBmb3IgdGVycmFpblwiIHRlc3QgaW4gdHJhbnNmb3JtLnRlc3QuanMuXG4gICAgICAgIGNvbnN0IHpvb21TcGxpdERpc3RhbmNlID0gdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlIC8gb3B0aW9ucy50aWxlU2l6ZSAqIChvcHRpb25zLnJvdW5kWm9vbSA/IDEgOiAwLjUwMik7XG5cbiAgICAgICAgLy8gTm8gY2hhbmdlIG9mIExPRCBiZWhhdmlvciBmb3IgcGl0Y2ggbG93ZXIgdGhhbiA2MCBhbmQgd2hlbiB0aGVyZSBpcyBubyB0b3AgcGFkZGluZzogcmV0dXJuIG9ubHkgdGlsZSBpZHMgZnJvbSB0aGUgcmVxdWVzdGVkIHpvb20gbGV2ZWxcbiAgICAgICAgY29uc3QgbWluWm9vbSA9IHRoaXMucGl0Y2ggPD0gNjAuMCAmJiB0aGlzLl9lZGdlSW5zZXRzLnRvcCA8PSB0aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSAmJiAhdGhpcy5fZWxldmF0aW9uICYmICF0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlID8geiA6IDA7XG5cbiAgICAgICAgLy8gV2hlbiBjYWxjdWxhdGluZyB0aWxlIGNvdmVyIGZvciB0ZXJyYWluLCBjcmVhdGUgZGVlcCBBQUJCIGZvciBub2RlcywgdG8gZW5zdXJlIHRoZXkgaW50ZXJzZWN0IGZydXN0dW06IGZvciBzb3VyY2VzLFxuICAgICAgICAvLyBvdGhlciB0aGFuIERFTSwgdXNlIG1pbmltdW0gb2YgdmlzaWJsZSBERU0gdGlsZXMgYW5kIGNlbnRlciBhbHRpdHVkZSBhcyB1cHBlciBib3VuZCAocGl0Y2ggaXMgYWx3YXlzIGxlc3MgdGhhbiA5MMKwKS5cbiAgICAgICAgY29uc3QgbWF4UmFuZ2UgPSBvcHRpb25zLmlzVGVycmFpbkRFTSAmJiB0aGlzLl9lbGV2YXRpb24gPyB0aGlzLl9lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkgKiAxMDAwMCA6IHRoaXMuX2NlbnRlckFsdGl0dWRlO1xuICAgICAgICBjb25zdCBtaW5SYW5nZSA9IG9wdGlvbnMuaXNUZXJyYWluREVNID8gLW1heFJhbmdlIDogdGhpcy5fZWxldmF0aW9uID8gdGhpcy5fZWxldmF0aW9uLmdldE1pbkVsZXZhdGlvbkJlbG93TVNMKCkgOiAwO1xuXG4gICAgICAgIGNvbnN0IHNjYWxlQWRqdXN0bWVudCA9IHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UgPyBnZXRTY2FsZUFkanVzdG1lbnQodGhpcykgOiAxLjA7XG5cbiAgICAgICAgY29uc3QgcmVsYXRpdmVTY2FsZUF0TWVyY2F0b3JDb29yZCA9IG1jID0+IHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBob3cgc2NhbGUgY29tcGFyZXMgYmV0d2VlbiBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMgYW5kIG1lcmNhdG9yIGNvb3JkaW5hdGVzLlxuICAgICAgICAgICAgLy8gUmV0dXJucyBhIGxlbmd0aC4gVGhlIHVuaXRzIGRvbid0IG1hdHRlciBzaW5jZSB0aGUgcmVzdWx0IGlzIG9ubHlcbiAgICAgICAgICAgIC8vIHVzZWQgaW4gYSByYXRpbyB3aXRoIG90aGVyIHZhbHVlcyByZXR1cm5lZCBieSB0aGlzIGZ1bmN0aW9uLlxuXG4gICAgICAgICAgICAvLyBDb25zdHJ1Y3QgYSBzbWFsbCBzcXVhcmUgaW4gTWVyY2F0b3IgY29vcmRpbmF0ZXMuXG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAxIC8gNDAwMDA7XG4gICAgICAgICAgICBjb25zdCBtY0Vhc3QgPSBuZXcgTWVyY2F0b3JDb29yZGluYXRlKG1jLnggKyBvZmZzZXQsIG1jLnksIG1jLnopO1xuICAgICAgICAgICAgY29uc3QgbWNTb3V0aCA9IG5ldyBNZXJjYXRvckNvb3JkaW5hdGUobWMueCwgbWMueSArIG9mZnNldCwgbWMueik7XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHNxdWFyZSB0byBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMuXG4gICAgICAgICAgICBjb25zdCBsbCA9IG1jLnRvTG5nTGF0KCk7XG4gICAgICAgICAgICBjb25zdCBsbEVhc3QgPSBtY0Vhc3QudG9MbmdMYXQoKTtcbiAgICAgICAgICAgIGNvbnN0IGxsU291dGggPSBtY1NvdXRoLnRvTG5nTGF0KCk7XG4gICAgICAgICAgICBjb25zdCBwID0gdGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUobGwpO1xuICAgICAgICAgICAgY29uc3QgcEVhc3QgPSB0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShsbEVhc3QpO1xuICAgICAgICAgICAgY29uc3QgcFNvdXRoID0gdGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUobGxTb3V0aCk7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgc2l6ZSBvZiBlYWNoIGVkZ2Ugb2YgdGhlIHJlcHJvamVjdGVkIHNxdWFyZVxuICAgICAgICAgICAgY29uc3QgZHggPSBNYXRoLmh5cG90KHBFYXN0LnggLSBwLngsIHBFYXN0LnkgLSBwLnkpO1xuICAgICAgICAgICAgY29uc3QgZHkgPSBNYXRoLmh5cG90KHBTb3V0aC54IC0gcC54LCBwU291dGgueSAtIHAueSk7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgc2l6ZSBvZiBhIHByb2plY3RlZCBzcXVhcmUgdGhhdCB3b3VsZCBoYXZlIHRoZVxuICAgICAgICAgICAgLy8gc2FtZSBhcmVhIGFzIHRoZSByZXByb2plY3RlZCBzcXVhcmUuXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHkpICogc2NhbGVBZGp1c3RtZW50IC8gb2Zmc2V0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG5ld1Jvb3RUaWxlID0gKHdyYXA6IG51bWJlcik6IGFueSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYXggPSBtYXhSYW5nZTtcbiAgICAgICAgICAgIGNvbnN0IG1pbiA9IG1pblJhbmdlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAvLyBXaXRoIGVsZXZhdGlvbiwgdGhpcy5fZWxldmF0aW9uIHByb3ZpZGVzIHogY29vcmRpbmF0ZSB2YWx1ZXMuIEZvciAyRDpcbiAgICAgICAgICAgICAgICAvLyBBbGwgdGlsZXMgYXJlIG9uIHplcm8gZWxldmF0aW9uIHBsYW5lID0+IHogZGlmZmVyZW5jZSBpcyB6ZXJvXG4gICAgICAgICAgICAgICAgYWFiYjogdGlsZUFBQkIodGhpcywgbnVtVGlsZXMsIDAsIDAsIDAsIHdyYXAsIG1pbiwgbWF4LCB0aGlzLnByb2plY3Rpb24pLFxuICAgICAgICAgICAgICAgIHpvb206IDAsXG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgIG1pblo6IG1pbixcbiAgICAgICAgICAgICAgICBtYXhaOiBtYXgsXG4gICAgICAgICAgICAgICAgd3JhcCxcbiAgICAgICAgICAgICAgICBmdWxseVZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIERvIGEgZGVwdGgtZmlyc3QgdHJhdmVyc2FsIHRvIGZpbmQgdmlzaWJsZSB0aWxlcyBhbmQgcHJvcGVyIGxldmVscyBvZiBkZXRhaWxcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBjb25zdCBtYXhab29tID0gejtcbiAgICAgICAgY29uc3Qgb3ZlcnNjYWxlZFogPSBvcHRpb25zLnJlcGFyc2VPdmVyc2NhbGVkID8gYWN0dWFsWiA6IHo7XG4gICAgICAgIGNvbnN0IHNxdWFyZSA9IGEgPT4gYSAqIGE7XG4gICAgICAgIGNvbnN0IGNhbWVyYUhlaWdodFNxciA9IHNxdWFyZSgoY2FtZXJhQWx0aXR1ZGUgLSB0aGlzLl9jZW50ZXJBbHRpdHVkZSkgKiBtZXRlclRvVGlsZSk7IC8vIGluIHRpbGUgY29vcmRpbmF0ZXMuXG5cbiAgICAgICAgY29uc3QgZ2V0QUFCQkZyb21FbGV2YXRpb24gPSAoaXQpID0+IHtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLl9lbGV2YXRpb24pO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9lbGV2YXRpb24gfHwgIWl0LnRpbGVJRCB8fCAhaXNNZXJjYXRvcikgcmV0dXJuOyAvLyBUbyBzaWxlbmNlIGZsb3cuXG4gICAgICAgICAgICBjb25zdCBtaW5tYXggPSB0aGlzLl9lbGV2YXRpb24uZ2V0TWluTWF4Rm9yVGlsZShpdC50aWxlSUQpO1xuICAgICAgICAgICAgY29uc3QgYWFiYiA9IGl0LmFhYmI7XG4gICAgICAgICAgICBpZiAobWlubWF4KSB7XG4gICAgICAgICAgICAgICAgYWFiYi5taW5bMl0gPSBtaW5tYXgubWluO1xuICAgICAgICAgICAgICAgIGFhYmIubWF4WzJdID0gbWlubWF4Lm1heDtcbiAgICAgICAgICAgICAgICBhYWJiLmNlbnRlclsyXSA9IChhYWJiLm1pblsyXSArIGFhYmIubWF4WzJdKSAvIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0LnNob3VsZFNwbGl0ID0gc2hvdWxkU3BsaXQoaXQpO1xuICAgICAgICAgICAgICAgIGlmICghaXQuc2hvdWxkU3BsaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXQgZmluYWwgem9vbSBsZXZlbCwgd2hpbGUgY29ycmVzcG9uZGluZyBERU0gdGlsZSBpcyBub3QgbG9hZGVkIHlldCxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXNzdW1lIGNlbnRlciBlbGV2YXRpb24uIFRoaXMgY292ZXJzIGdyb3VuZCB0byBob3Jpem9uIGFuZCBwcmV2ZW50c1xuICAgICAgICAgICAgICAgICAgICAvLyBsb2FkaW5nIHVubmVjZXNzYXJ5IHRpbGVzIHVudGlsIERFTSBjb3ZlciBpcyBmdWxseSBsb2FkZWQuXG4gICAgICAgICAgICAgICAgICAgIGFhYmIubWluWzJdID0gYWFiYi5tYXhbMl0gPSBhYWJiLmNlbnRlclsyXSA9IHRoaXMuX2NlbnRlckFsdGl0dWRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTY2FsZSBkaXN0YW5jZSB0byBzcGxpdCBmb3IgYWN1dGUgYW5nbGVzLlxuICAgICAgICAvLyBkelNxcjogeiBjb21wb25lbnQgb2YgY2FtZXJhIHRvIHRpbGUgZGlzdGFuY2UsIHNxdWFyZS5cbiAgICAgICAgLy8gZFNxcjogM0QgZGlzdGFuY2Ugb2YgY2FtZXJhIHRvIHRpbGUsIHNxdWFyZS5cbiAgICAgICAgY29uc3QgZGlzdFRvU3BsaXRTY2FsZSA9IChkelNxciwgZFNxcikgPT4ge1xuICAgICAgICAgICAgLy8gV2hlbiB0aGUgYW5nbGUgYmV0d2VlbiBjYW1lcmEgdG8gdGlsZSByYXkgYW5kIHRpbGUgcGxhbmUgaXMgc21hbGxlclxuICAgICAgICAgICAgLy8gdGhhbiBhY3V0ZUFuZ2xlVGhyZXNob2xkLCBzY2FsZSB0aGUgZGlzdGFuY2UgdG8gc3BsaXQuIFNjYWxpbmcgaXMgYWRhcHRpdmU6IHNtYWxsZXJcbiAgICAgICAgICAgIC8vIHRoZSBhbmdsZSwgdGhlIHNjYWxlIGdldHMgbG93ZXIgdmFsdWUuIEFsdGhvdWdoIGl0IHNlZW1zIGVhcmx5IHRvIHN0YXJ0IGF0IDQ1LFxuICAgICAgICAgICAgLy8gaXQgaXMgbm90OiBzY2FsaW5nIGtpY2tzIGluIGFyb3VuZCA2MCBkZWdyZWVzIHBpdGNoLlxuICAgICAgICAgICAgY29uc3QgYWN1dGVBbmdsZVRocmVzaG9sZFNpbiA9IDAuNzA3OyAvLyBNYXRoLnNpbig0NSlcbiAgICAgICAgICAgIGNvbnN0IHN0cmV0Y2hUaWxlID0gMS4xO1xuICAgICAgICAgICAgLy8gRGlzdGFuY2VzIGxvbmdlciB0aGFuICdkeiAvIGFjdXRlQW5nbGVUaHJlc2hvbGRTaW4nIGdldHMgc2NhbGVkXG4gICAgICAgICAgICAvLyBmb2xsb3dpbmcgZ2VvbWV0cmljIHNlcmllcyBzdW06IGV2ZXJ5IG5leHQgZHogbGVuZ3RoIGluIGRpc3RhbmNlIGNhbiBiZVxuICAgICAgICAgICAgLy8gJ3N0cmV0Y2hUaWxlIHRpbWVzJyBsb25nZXIuIEl0IGlzIGZ1cnRoZXIsIHRoZSBhbmdsZSBpcyBzaGFycGVyLiBUb3RhbCxcbiAgICAgICAgICAgIC8vIGFkanVzdGVkLCBkaXN0YW5jZSB3b3VsZCB0aGVuIGJlOlxuICAgICAgICAgICAgLy8gPSBkeiAvIGFjdXRlQW5nbGVUaHJlc2hvbGRTaW4gKyAoZHogKiBzdHJldGNoVGlsZSArIGR6ICogc3RyZXRjaFRpbGUgXiAyICsgLi4uICsgZHogKiBzdHJldGNoVGlsZSBeIGspLFxuICAgICAgICAgICAgLy8gd2hlcmUgayA9IChkIC0gZHogLyBhY3V0ZUFuZ2xlVGhyZXNob2xkU2luKSAvIGR6ID0gZCAvIGR6IC0gMSAvIGFjdXRlQW5nbGVUaHJlc2hvbGRTaW47XG4gICAgICAgICAgICAvLyA9IGR6IC8gYWN1dGVBbmdsZVRocmVzaG9sZFNpbiArIGR6ICogKChzdHJldGNoVGlsZSBeIChrICsgMSkgLSAxKSAvIChzdHJldGNoVGlsZSAtIDEpIC0gMSlcbiAgICAgICAgICAgIC8vIG9yIHB1dCBkaWZmZXJlbnRseSwgZ2l2ZW4gdGhhdCBrIGlzIGJhc2VkIG9uIGQgYW5kIGR6LCB0aWxlIG9uIGRpc3RhbmNlIGQgY291bGQgYmUgdXNlZCBvbiBkaXN0YW5jZSBzY2FsZWQgYnk6XG4gICAgICAgICAgICAvLyAxIC8gYWN1dGVBbmdsZVRocmVzaG9sZFNpbiArIChzdHJldGNoVGlsZSBeIChrICsgMSkgLSAxKSAvIChzdHJldGNoVGlsZSAtIDEpIC0gMVxuICAgICAgICAgICAgaWYgKGRTcXIgKiBzcXVhcmUoYWN1dGVBbmdsZVRocmVzaG9sZFNpbikgPCBkelNxcikgcmV0dXJuIDEuMDsgLy8gRWFybHkgcmV0dXJuLCBubyBzY2FsZS5cbiAgICAgICAgICAgIGNvbnN0IHIgPSBNYXRoLnNxcnQoZFNxciAvIGR6U3FyKTtcbiAgICAgICAgICAgIGNvbnN0IGsgPSAgciAtIDEgLyBhY3V0ZUFuZ2xlVGhyZXNob2xkU2luO1xuICAgICAgICAgICAgcmV0dXJuIHIgLyAoMSAvIGFjdXRlQW5nbGVUaHJlc2hvbGRTaW4gKyAoTWF0aC5wb3coc3RyZXRjaFRpbGUsIGsgKyAxKSAtIDEpIC8gKHN0cmV0Y2hUaWxlIC0gMSkgLSAxKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG91bGRTcGxpdCA9IChpdCkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0Lnpvb20gPCBtaW5ab29tKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGl0Lnpvb20gPT09IG1heFpvb20pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXQuc2hvdWxkU3BsaXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdC5zaG91bGRTcGxpdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGR4ID0gaXQuYWFiYi5kaXN0YW5jZVgoY2FtZXJhUG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgZHkgPSBpdC5hYWJiLmRpc3RhbmNlWShjYW1lcmFQb2ludCk7XG4gICAgICAgICAgICBsZXQgZHpTcXIgPSBjYW1lcmFIZWlnaHRTcXI7XG5cbiAgICAgICAgICAgIGxldCB0aWxlU2NhbGVBZGp1c3RtZW50ID0gMTtcbiAgICAgICAgICAgIGlmIChpc0dsb2JlKSB7XG4gICAgICAgICAgICAgICAgZHpTcXIgPSBzcXVhcmUoaXQuYWFiYi5kaXN0YW5jZVooY2FtZXJhUG9pbnQpKTtcbiAgICAgICAgICAgICAgICAvLyBDb21wZW5zYXRlIHBoeXNpY2FsIHNpemVzIG9mIHRoZSB0aWxlcyB3aGVuIGRldGVybWluaW5nIHdoaWNoIHpvb20gbGV2ZWwgdG8gdXNlLlxuICAgICAgICAgICAgICAgIC8vIEluIHByYWN0aWNlIHRpbGVzIGNsb3NlciB0byBwb2xlcyBzaG91bGQgdXNlIG1vcmUgYWdncmVzc2l2ZSBMT0QgYXMgdGhlaXJcbiAgICAgICAgICAgICAgICAvLyBwaHlzaWNhbCBzaXplIGlzIGFscmVhZHkgc21hbGxlciB0aGFuIHNpemUgb2YgdGlsZXMgbmVhciB0aGUgZXF1YXRvci5cbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlc0F0Wm9vbSA9IE1hdGgucG93KDIsIGl0Lnpvb20pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbkxhdCA9IGxhdEZyb21NZXJjYXRvclkoKGl0LnkgKyAxKSAvIHRpbGVzQXRab29tKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhMYXQgPSBsYXRGcm9tTWVyY2F0b3JZKChpdC55KSAvIHRpbGVzQXRab29tKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9zZXN0TGF0ID0gTWF0aC5taW4oTWF0aC5tYXgoY2VudGVyTGF0aXR1ZGUsIG1pbkxhdCksIG1heExhdCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVRpbGVTY2FsZSA9IGNpcmN1bWZlcmVuY2VBdExhdGl0dWRlKGNsb3Nlc3RMYXQpIC8gY2lyY3VtZmVyZW5jZUF0TGF0aXR1ZGUoY2VudGVyTGF0aXR1ZGUpO1xuXG4gICAgICAgICAgICAgICAgLy8gV2l0aCBnbG9iZSwgdGhlIHJlbmRlcmVkIHNjYWxlIGRvZXMgbm90IGV4YWN0bHkgbWF0Y2ggdGhlIG1lcmNhdG9yIHNjYWxlIGF0IGxvdyB6b29tIGxldmVscy5cbiAgICAgICAgICAgICAgICAvLyBBY2NvdW50IGZvciB0aGlzIGRpZmZlcmVuY2UgZHVyaW5nIExPRCBvZiBsb2FkaW5nIHNvIHRoYXQgeW91IGxvYWQgdGhlIGNvcnJlY3Qgc2l6ZSB0aWxlcy5cbiAgICAgICAgICAgICAgICAvLyBXZSB0cnkgdG8gY29tcHJvbWlzZSBiZXR3ZWVuIHR3byBjb25mbGljdGluZyByZXF1aXJlbWVudHM6XG4gICAgICAgICAgICAgICAgLy8gLSBsb2FkaW5nIHRpbGVzIGF0IHRoZSBjYW1lcmEncyB6b29tIGxldmVsIChmb3IgdmlzdWFsIGFuZCBzdHlsaW5nIGNvbnNpc3RlbmN5KVxuICAgICAgICAgICAgICAgIC8vIC0gbG9hZGluZyBjb3JyZWN0IHNpemUgdGlsZXMgKHRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIHRpbGVzIGxvYWRlZClcbiAgICAgICAgICAgICAgICAvLyBUaGVzZSBhcmUgYXJiaXRyYXJpbHkgYmFsYW5jZWQ6XG4gICAgICAgICAgICAgICAgaWYgKGNsb3Nlc3RMYXQgPT09IGNlbnRlckxhdGl0dWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciB0aWxlcyB0aGF0IGFyZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSB2aWV3cG9ydCwgcHJpb3JpdGl6ZSBtYXRjaGluZyB0aGUgY2FtZXJhXG4gICAgICAgICAgICAgICAgICAgIC8vIHpvb20gYW5kIGFsbG93IGRpdmVyZ2VuY2UgZnJvbSB0aGUgdHJ1ZSBzY2FsZS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4RGl2ZXJnZW5jZSA9IDAuMztcbiAgICAgICAgICAgICAgICAgICAgdGlsZVNjYWxlQWRqdXN0bWVudCA9IDEgLyBNYXRoLm1heCgxLCB0aGlzLl9tZXJjYXRvclNjYWxlUmF0aW8gLSBtYXhEaXZlcmdlbmNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3Igb3RoZXIgdGlsZXMsIHVzZSB0aGUgcmVhbCBzY2FsZSB0byByZWR1Y2UgdGlsZSBjb3VudHMgbmVhciBwb2xlcy5cbiAgICAgICAgICAgICAgICAgICAgdGlsZVNjYWxlQWRqdXN0bWVudCA9IE1hdGgubWluKDEsIHJlbGF0aXZlVGlsZVNjYWxlIC8gdGhpcy5fbWVyY2F0b3JTY2FsZVJhdGlvKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgdGhhdCBhbGwgdGlsZXMgbmVhciB0aGUgY2VudGVyIGhhdmUgdGhlIHNhbWUgem9vbSBsZXZlbC5cbiAgICAgICAgICAgICAgICAvLyBXaXRoIExPRCB0aWxlIGxvYWRpbmcsIHRpbGUgem9vbSBsZXZlbHMgY2FuIGNoYW5nZSB3aGVuIHNjYWxlIHNsaWdodGx5IGNoYW5nZXMuXG4gICAgICAgICAgICAgICAgLy8gVGhlc2UgZGlmZmVyZW5jZXMgY2FuIGJlIHByZXR0eSBkaWZmZXJlbnQgaW4gZ2xvYmUgdmlldy4gV29yayBhcm91bmQgdGhpcyBieVxuICAgICAgICAgICAgICAgIC8vIG1ha2luZyBtb3JlIHRpbGVzIG1hdGNoIHRoZSBjZW50ZXIgdGlsZSdzIHpvb20gbGV2ZWwuIElmIHRoZSB0aWxlcyBhcmUgbmVhcmx5IGJpZyBlbm91Z2gsXG4gICAgICAgICAgICAgICAgLy8gcm91bmQgdXAuIE9ubHkgYXBwbHkgdGhpcyBhZGp1c3RtZW50IGJlZm9yZSB0aGUgdHJhbnNpdGlvbiB0byBtZXJjYXRvciByZW5kZXJpbmcgaGFzIHN0YXJ0ZWQuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuem9vbSA8PSBHTE9CRV9aT09NX1RIUkVTSE9MRF9NSU4gJiYgaXQuem9vbSA9PT0gbWF4Wm9vbSAtIDEgJiYgcmVsYXRpdmVUaWxlU2NhbGUgPj0gMC45KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHpJbk1ldGVycyk7XG4gICAgICAgICAgICAgICAgaWYgKHVzZUVsZXZhdGlvbkRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZHpTcXIgPSBzcXVhcmUoaXQuYWFiYi5kaXN0YW5jZVooY2FtZXJhUG9pbnQpICogbWV0ZXJUb1RpbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSAmJiBhY3R1YWxaIDw9IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gb3RoZXIgcHJvamVjdGlvbnMsIG5vdCBhbGwgdGlsZXMgYXJlIHRoZSBzYW1lIHNpemUuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFjY291bnQgZm9yIHRoZSB0aWxlIHNpemUgZGlmZmVyZW5jZSBieSBhZGp1c3RpbmcgdGhlIGRpc3RUb1NwbGl0LlxuICAgICAgICAgICAgICAgICAgICAvLyBBZGp1c3QgYnkgdGhlIHJhdGlvIG9mIHRoZSBhcmVhIGF0IHRoZSB0aWxlIGNlbnRlciB0byB0aGUgYXJlYSBhdCB0aGUgbWFwIGNlbnRlci5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRqdXN0bWVudHMgYXJlIG9ubHkgbmVlZGVkIGF0IGxvd2VyIHpvb21zIHdoZXJlIHRpbGVzIGFyZSBub3Qgc2ltaWxhcmx5IHNpemVkLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1UaWxlcyA9IE1hdGgucG93KDIsIGl0Lnpvb20pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVNjYWxlID0gcmVsYXRpdmVTY2FsZUF0TWVyY2F0b3JDb29yZChuZXcgTWVyY2F0b3JDb29yZGluYXRlKChpdC54ICsgMC41KSAvIG51bVRpbGVzLCAoaXQueSArIDAuNSkgLyBudW1UaWxlcykpO1xuICAgICAgICAgICAgICAgICAgICAvLyBGdWRnZSB0aGUgcmF0aW8gc2xpZ2h0bHkgc28gdGhhdCBhbGwgdGlsZXMgbmVhciB0aGUgY2VudGVyIGhhdmUgdGhlIHNhbWUgem9vbSBsZXZlbC5cbiAgICAgICAgICAgICAgICAgICAgdGlsZVNjYWxlQWRqdXN0bWVudCA9IHJlbGF0aXZlU2NhbGUgPiAwLjg1ID8gMSA6IHJlbGF0aXZlU2NhbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZVNxciA9IGR4ICogZHggKyBkeSAqIGR5ICsgZHpTcXI7XG4gICAgICAgICAgICBjb25zdCBkaXN0VG9TcGxpdCA9ICgxIDw8IG1heFpvb20gLSBpdC56b29tKSAqIHpvb21TcGxpdERpc3RhbmNlICogdGlsZVNjYWxlQWRqdXN0bWVudDtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RUb1NwbGl0U3FyID0gc3F1YXJlKGRpc3RUb1NwbGl0ICogZGlzdFRvU3BsaXRTY2FsZShNYXRoLm1heChkelNxciwgY2FtZXJhSGVpZ2h0U3FyKSwgZGlzdGFuY2VTcXIpKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRpc3RhbmNlU3FyIDwgZGlzdFRvU3BsaXRTcXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyV29ybGRDb3BpZXMpIHtcbiAgICAgICAgICAgIC8vIFJlbmRlciBjb3B5IG9mIHRoZSBnbG9iZSB0aHJpY2Ugb24gYm90aCBzaWRlc1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gTlVNX1dPUkxEX0NPUElFUzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChuZXdSb290VGlsZSgtaSkpO1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobmV3Um9vdFRpbGUoaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3RhY2sucHVzaChuZXdSb290VGlsZSgwKSk7XG5cbiAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBjb25zdCB4ID0gaXQueDtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBpdC55O1xuICAgICAgICAgICAgbGV0IGZ1bGx5VmlzaWJsZSA9IGl0LmZ1bGx5VmlzaWJsZTtcblxuICAgICAgICAgICAgLy8gVmlzaWJpbGl0eSBvZiBhIHRpbGUgaXMgbm90IHJlcXVpcmVkIGlmIGFueSBvZiBpdHMgYW5jZXN0b3IgaXMgZnVsbHkgaW5zaWRlIHRoZSBmcnVzdHVtXG4gICAgICAgICAgICBpZiAoIWZ1bGx5VmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdFJlc3VsdCA9IGl0LmFhYmIuaW50ZXJzZWN0cyhjYW1lcmFGcnVzdHVtKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3RSZXN1bHQgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgZnVsbHlWaXNpYmxlID0gaW50ZXJzZWN0UmVzdWx0ID09PSAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIYXZlIHdlIHJlYWNoZWQgdGhlIHRhcmdldCBkZXB0aCBvciBpcyB0aGUgdGlsZSB0b28gZmFyIGF3YXkgdG8gYmUgYW55IHNwbGl0IGZ1cnRoZXI/XG4gICAgICAgICAgICBpZiAoaXQuem9vbSA9PT0gbWF4Wm9vbSB8fCAhc2hvdWxkU3BsaXQoaXQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZVpvb20gPSBpdC56b29tID09PSBtYXhab29tID8gb3ZlcnNjYWxlZFogOiBpdC56b29tO1xuICAgICAgICAgICAgICAgIGlmICghIW9wdGlvbnMubWluem9vbSAmJiBvcHRpb25zLm1pbnpvb20gPiB0aWxlWm9vbSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3Qgd2l0aGluIHNvdXJjZSB0aWxlIHJhbmdlLlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkeCA9IGNlbnRlclBvaW50WzBdIC0gKCgwLjUgKyB4ICsgKGl0LndyYXAgPDwgaXQuem9vbSkpICogKDEgPDwgKHogLSBpdC56b29tKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR5ID0gY2VudGVyUG9pbnRbMV0gLSAwLjUgLSB5O1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gaXQudGlsZUlEID8gaXQudGlsZUlEIDogbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZVpvb20sIGl0LndyYXAsIGl0Lnpvb20sIHgsIHkpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHt0aWxlSUQ6IGlkLCBkaXN0YW5jZVNxOiBkeCAqIGR4ICsgZHkgKiBkeX0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkWCA9ICh4IDw8IDEpICsgKGkgJSAyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFkgPSAoeSA8PCAxKSArIChpID4+IDEpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYWFiYiA9IGlzTWVyY2F0b3IgPyBpdC5hYWJiLnF1YWRyYW50KGkpIDogdGlsZUFBQkIodGhpcywgbnVtVGlsZXMsIGl0Lnpvb20gKyAxLCBjaGlsZFgsIGNoaWxkWSwgaXQud3JhcCwgaXQubWluWiwgaXQubWF4WiwgdGhpcy5wcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHthYWJiLCB6b29tOiBpdC56b29tICsgMSwgeDogY2hpbGRYLCB5OiBjaGlsZFksIHdyYXA6IGl0LndyYXAsIGZ1bGx5VmlzaWJsZSwgdGlsZUlEOiB1bmRlZmluZWQsIHNob3VsZFNwbGl0OiB1bmRlZmluZWQsIG1pblo6IGl0Lm1pblosIG1heFo6IGl0Lm1heFp9O1xuICAgICAgICAgICAgICAgIGlmICh1c2VFbGV2YXRpb25EYXRhICYmICFpc0dsb2JlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnRpbGVJRCA9IG5ldyBPdmVyc2NhbGVkVGlsZUlEKGl0Lnpvb20gKyAxID09PSBtYXhab29tID8gb3ZlcnNjYWxlZFogOiBpdC56b29tICsgMSwgaXQud3JhcCwgaXQuem9vbSArIDEsIGNoaWxkWCwgY2hpbGRZKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0QUFCQkZyb21FbGV2YXRpb24oY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmZvZ0N1bGxEaXN0U3EpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvZ0N1bGxEaXN0U3EgPSB0aGlzLmZvZ0N1bGxEaXN0U3E7XG4gICAgICAgICAgICBjb25zdCBob3Jpem9uTGluZUZyb21Ub3AgPSB0aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcihlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWluID0gWzAsIDAsIDAsIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heCA9IFtFWFRFTlQsIEVYVEVOVCwgMCwgMV07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmb2dUaWxlTWF0cml4ID0gdGhpcy5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KGVudHJ5LnRpbGVJRC50b1Vud3JhcHBlZCgpKTtcblxuICAgICAgICAgICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChtaW4sIG1pbiwgZm9nVGlsZU1hdHJpeCk7XG4gICAgICAgICAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KG1heCwgbWF4LCBmb2dUaWxlTWF0cml4KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNxRGlzdCA9IGdldEFBQkJQb2ludFNxdWFyZURpc3QobWluLCBtYXgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNxRGlzdCA9PT0gMCkgeyByZXR1cm4gdHJ1ZTsgfVxuXG4gICAgICAgICAgICAgICAgbGV0IG92ZXJIb3Jpem9uTGluZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gVGVycmFpbiBsb2FkcyBhdCBvbmUgem9vbSBsZXZlbCBsb3dlciB0aGFuIHRoZSByYXN0ZXIgZGF0YSxcbiAgICAgICAgICAgICAgICAvLyBzbyB0aGUgZm9sbG93aW5nIGNoZWNrcyB3aGV0aGVyIHRoZSB0ZXJyYWluIHNpdHMgYWJvdmUgdGhlIGhvcml6b24gYW5kIGVuc3VyZXMgdGhhdFxuICAgICAgICAgICAgICAgIC8vIHdoZW4gbW91bnRhaW5zIHN0aWNrIG91dCBhYm92ZSB0aGUgZm9nIChkdWUgdG8gaG9yaXpvbi1ibGVuZCksXG4gICAgICAgICAgICAgICAgLy8gd2UgaGF2ZW7igJl0IGFjY2lkZW50YWxseSBjdWxsZWQgc29tZSBvZiB0aGUgcmFzdGVyIHRpbGVzIHdlIG5lZWQgdG8gZHJhdyBvbiB0aGVtLlxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbuKAmXQgZG8gdGhpcywgdGhlIHRlcnJhaW4gaXMgZGVmYXVsdCBibGFjayBjb2xvciBhbmQgbWF5IGZsYXNoIGluIGFuZCBvdXQgYXMgd2UgbW92ZSB0b3dhcmQgaXQuXG5cbiAgICAgICAgICAgICAgICBjb25zdCBlbGV2YXRpb24gPSB0aGlzLl9lbGV2YXRpb247XG5cbiAgICAgICAgICAgICAgICBpZiAoZWxldmF0aW9uICYmIHNxRGlzdCA+IGZvZ0N1bGxEaXN0U3EgJiYgaG9yaXpvbkxpbmVGcm9tVG9wICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2pNYXRyaXggPSB0aGlzLmNhbGN1bGF0ZVByb2pNYXRyaXgoZW50cnkudGlsZUlELnRvVW53cmFwcGVkKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBtaW5tYXg7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5pc1RlcnJhaW5ERU0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbm1heCA9IGVsZXZhdGlvbi5nZXRNaW5NYXhGb3JUaWxlKGVudHJ5LnRpbGVJRCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1pbm1heCkgeyBtaW5tYXggPSB7bWluOiBtaW5SYW5nZSwgbWF4OiBtYXhSYW5nZX07IH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdGhhdCB3ZSB3YW50IGB0aGlzLnJvdGF0aW9uYCBpbnN0ZWFkIG9mIGB0aGlzLmJlYXJpbmdgIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29ybmVyRmFyID0gZnVydGhlc3RUaWxlQ29ybmVyKHRoaXMucm90YXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhclggPSBjb3JuZXJGYXJbMF0gKiBFWFRFTlQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhclkgPSBjb3JuZXJGYXJbMV0gKiBFWFRFTlQ7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29ybGRGYXIgPSBbZmFyWCwgZmFyWSwgbWlubWF4Lm1heF07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gV29ybGQgdG8gTkRDXG4gICAgICAgICAgICAgICAgICAgIHZlYzMudHJhbnNmb3JtTWF0NCh3b3JsZEZhciwgd29ybGRGYXIsIHByb2pNYXRyaXgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5EQyB0byBTY3JlZW5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NyZWVuQ29vcmRZID0gKDEgLSB3b3JsZEZhclsxXSkgKiB0aGlzLmhlaWdodCAqIDAuNTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGN1dHRpbmcgdGlsZXMgY3Jvc3Npbmcgb3ZlciB0aGUgaG9yaXpvbiBsaW5lIHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgcG9wLWluIGFuZCBvdXQgd2l0aGluIHRoZSBmb2cgY3VsbGluZyByYW5nZVxuICAgICAgICAgICAgICAgICAgICBvdmVySG9yaXpvbkxpbmUgPSBzY3JlZW5Db29yZFkgPCBob3Jpem9uTGluZUZyb21Ub3A7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNxRGlzdCA8IGZvZ0N1bGxEaXN0U3EgfHwgb3Zlckhvcml6b25MaW5lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb3ZlciA9IHJlc3VsdC5zb3J0KChhLCBiKSA9PiBhLmRpc3RhbmNlU3EgLSBiLmRpc3RhbmNlU3EpLm1hcChhID0+IGEudGlsZUlEKTtcblxuICAgICAgICAvLyBSZWxheCB0aGUgYXNzZXJ0aW9uIG9uIHRlcnJhaW4sIG9uIGhpZ2ggem9vbSB3ZSB1c2UgZGlzdGFuY2UgdG8gY2VudGVyIG9mIHRpbGVcbiAgICAgICAgLy8gd2hpbGUgY2FtZXJhIG1pZ2h0IGJlIGNsb3NlciB0byBzZWxlY3RlZCBjZW50ZXIgb2YgbWFwLlxuICAgICAgICBhc3NlcnQoIWNvdmVyLmxlbmd0aCB8fCB0aGlzLmVsZXZhdGlvbiB8fCBjb3ZlclswXS5vdmVyc2NhbGVkWiA9PT0gb3ZlcnNjYWxlZFogfHwgIWlzTWVyY2F0b3IpO1xuICAgICAgICByZXR1cm4gY292ZXI7XG4gICAgfVxuXG4gICAgcmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5waXhlbHNUb0dMVW5pdHMgPSBbMiAvIHdpZHRoLCAtMiAvIGhlaWdodF07XG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbigpO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICBnZXQgdW5tb2RpZmllZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX3VubW9kaWZpZWQ7IH1cblxuICAgIHpvb21TY2FsZSh6b29tOiBudW1iZXIpOiBudW1iZXIgeyByZXR1cm4gTWF0aC5wb3coMiwgem9vbSk7IH1cbiAgICBzY2FsZVpvb20oc2NhbGU6IG51bWJlcik6IG51bWJlciB7IHJldHVybiBNYXRoLmxvZyhzY2FsZSkgLyBNYXRoLkxOMjsgfVxuXG4gICAgLy8gVHJhbnNmb3JtIGZyb20gTG5nTGF0IHRvIFBvaW50IGluIHdvcmxkIGNvb3JkaW5hdGVzIFstMTgwLCAxODBdIHggWzkwLCAtOTBdIC0tPiBbMCwgdGhpcy53b3JsZFNpemVdIHggWzAsIHRoaXMud29ybGRTaXplXVxuICAgIHByb2plY3QobG5nbGF0OiBMbmdMYXQpOiBQb2ludCB7XG4gICAgICAgIGNvbnN0IGxhdCA9IGNsYW1wKGxuZ2xhdC5sYXQsIC1NQVhfTUVSQ0FUT1JfTEFUSVRVREUsIE1BWF9NRVJDQVRPUl9MQVRJVFVERSk7XG4gICAgICAgIGNvbnN0IHByb2plY3RlZExuZ0xhdCA9IHRoaXMucHJvamVjdGlvbi5wcm9qZWN0KGxuZ2xhdC5sbmcsIGxhdCk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgICAgICAgICAgcHJvamVjdGVkTG5nTGF0LnggKiB0aGlzLndvcmxkU2l6ZSxcbiAgICAgICAgICAgICAgICBwcm9qZWN0ZWRMbmdMYXQueSAqIHRoaXMud29ybGRTaXplKTtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gZnJvbSBQb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcyB0byBMbmdMYXQgWzAsIHRoaXMud29ybGRTaXplXSB4IFswLCB0aGlzLndvcmxkU2l6ZV0gLS0+IFstMTgwLCAxODBdIHggWzkwLCAtOTBdXG4gICAgdW5wcm9qZWN0KHBvaW50OiBQb2ludCk6IExuZ0xhdCB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KHBvaW50LnggLyB0aGlzLndvcmxkU2l6ZSwgcG9pbnQueSAvIHRoaXMud29ybGRTaXplKTtcbiAgICB9XG5cbiAgICAvLyBQb2ludCBhdCBjZW50ZXIgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gICAgZ2V0IHBvaW50KCk6IFBvaW50IHsgcmV0dXJuIHRoaXMucHJvamVjdCh0aGlzLmNlbnRlcik7IH1cblxuICAgIC8vIFBvaW50IGF0IGNlbnRlciBpbiBNZXJjYXRvciBjb29yZGluYXRlcy5cbiAgICBnZXQgcG9pbnRNZXJjKCk6IFBvaW50IHsgcmV0dXJuIHRoaXMucG9pbnQuX2Rpdih0aGlzLndvcmxkU2l6ZSk7IH1cblxuICAgIC8vIFJhdGlvIG9mIHBpeGVsc1Blck1ldGVyIGluIHRoZSBjdXJyZW50IHByb2plY3Rpb24gdG8gTWVyY2F0b3Incy5cbiAgICBnZXQgcGl4ZWxzUGVyTWV0ZXJSYXRpbygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5waXhlbHNQZXJNZXRlciAvIG1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLCB0aGlzLmNlbnRlci5sYXQpIC8gdGhpcy53b3JsZFNpemU7IH1cblxuICAgIHNldExvY2F0aW9uQXRQb2ludChsbmdsYXQ6IExuZ0xhdCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGxldCB4LCB5O1xuICAgICAgICBjb25zdCBjZW50ZXJQb2ludCA9IHRoaXMuY2VudGVyUG9pbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICAvLyBQaXhlbCBjb29yZGluYXRlcyBhcmUgYXBwbGllZCBkaXJlY3RseSB0byB0aGUgZ2xvYmVcbiAgICAgICAgICAgIGNvbnN0IHdvcmxkU2l6ZSA9IHRoaXMud29ybGRTaXplO1xuICAgICAgICAgICAgeCA9IChwb2ludC54IC0gY2VudGVyUG9pbnQueCkgLyB3b3JsZFNpemU7XG4gICAgICAgICAgICB5ID0gKHBvaW50LnkgLSBjZW50ZXJQb2ludC55KSAvIHdvcmxkU2l6ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSB0aGlzLnBvaW50Q29vcmRpbmF0ZShwb2ludCk7XG4gICAgICAgICAgICBjb25zdCBiID0gdGhpcy5wb2ludENvb3JkaW5hdGUoY2VudGVyUG9pbnQpO1xuICAgICAgICAgICAgeCA9IGEueCAtIGIueDtcbiAgICAgICAgICAgIHkgPSBhLnkgLSBiLnk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsb2MgPSB0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShsbmdsYXQpO1xuICAgICAgICB0aGlzLnNldExvY2F0aW9uKG5ldyBNZXJjYXRvckNvb3JkaW5hdGUobG9jLnggLSB4LCBsb2MueSAtIHkpKTtcbiAgICB9XG5cbiAgICBzZXRMb2NhdGlvbihsb2NhdGlvbjogTWVyY2F0b3JDb29yZGluYXRlKSB7XG4gICAgICAgIHRoaXMuY2VudGVyID0gdGhpcy5jb29yZGluYXRlTG9jYXRpb24obG9jYXRpb24pO1xuICAgICAgICBpZiAodGhpcy5wcm9qZWN0aW9uLndyYXApIHtcbiAgICAgICAgICAgIHRoaXMuY2VudGVyID0gdGhpcy5jZW50ZXIud3JhcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBsb2NhdGlvbiwgcmV0dXJuIHRoZSBzY3JlZW4gcG9pbnQgdGhhdCBjb3JyZXNwb25kcyB0byBpdC4gSW4gM0QgbW9kZVxuICAgICAqICh3aXRoIHRlcnJhaW4pIHRoaXMgYmVoYXZlcyB0aGUgc2FtZSBhcyBpbiAyRCBtb2RlLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNvdXBsZWQgd2l0aCB7QHNlZSBwb2ludExvY2F0aW9ufSBpbiAzRCBtb2RlIHRvIG1vZGVsIG1hcCBtYW5pcHVsYXRpb25cbiAgICAgKiB1c2luZyBmbGF0IHBsYW5lIGFwcHJvYWNoIHRvIGtlZXAgY29uc3RhbnQgZWxldmF0aW9uIGFib3ZlIGdyb3VuZC5cbiAgICAgKiBAcGFyYW0ge0xuZ0xhdH0gbG5nbGF0IGxvY2F0aW9uXG4gICAgICogQHJldHVybnMge1BvaW50fSBzY3JlZW4gcG9pbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGxvY2F0aW9uUG9pbnQobG5nbGF0OiBMbmdMYXQpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb24ubG9jYXRpb25Qb2ludCh0aGlzLCBsbmdsYXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgbG9jYXRpb24sIHJldHVybiB0aGUgc2NyZWVuIHBvaW50IHRoYXQgY29ycmVzcG9uZHMgdG8gaXRcbiAgICAgKiBJbiAzRCBtb2RlICh3aGVuIHRlcnJhaW4gaXMgZW5hYmxlZCkgZWxldmF0aW9uIGlzIHNhbXBsZWQgZm9yIHRoZSBwb2ludCBiZWZvcmVcbiAgICAgKiBwcm9qZWN0aW5nIGl0LiBJbiAyRCBtb2RlLCBiZWhhdmVzIHRoZSBzYW1lIGxvY2F0aW9uUG9pbnQuXG4gICAgICogQHBhcmFtIHtMbmdMYXR9IGxuZ2xhdCBsb2NhdGlvblxuICAgICAqIEByZXR1cm5zIHtQb2ludH0gc2NyZWVuIHBvaW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBsb2NhdGlvblBvaW50M0QobG5nbGF0OiBMbmdMYXQpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb24ubG9jYXRpb25Qb2ludCh0aGlzLCBsbmdsYXQsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcG9pbnQgb24gc2NyZWVuLCByZXR1cm4gaXRzIGxuZ2xhdFxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgc2NyZWVuIHBvaW50XG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gbG5nbGF0IGxvY2F0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwb2ludExvY2F0aW9uKHA6IFBvaW50KTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHRoaXMucG9pbnRDb29yZGluYXRlKHApKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBvaW50IG9uIHNjcmVlbiwgcmV0dXJuIGl0cyBsbmdsYXRcbiAgICAgKiBJbiAzRCBtb2RlIChtYXAgd2l0aCB0ZXJyYWluKSByZXR1cm5zIGxvY2F0aW9uIG9mIHRlcnJhaW4gcmF5Y2FzdCBwb2ludC5cbiAgICAgKiBJbiAyRCBtb2RlLCBiZWhhdmVzIHRoZSBzYW1lIGFzIHtAc2VlIHBvaW50TG9jYXRpb259LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgc2NyZWVuIHBvaW50XG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gbG5nbGF0IGxvY2F0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwb2ludExvY2F0aW9uM0QocDogUG9pbnQpOiBMbmdMYXQge1xuICAgICAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUzRChwKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBnZW9ncmFwaGljYWwgbG5nTGF0LCByZXR1cm4gYW4gdW5yb3VuZGVkXG4gICAgICogY29vcmRpbmF0ZSB0aGF0IHJlcHJlc2VudHMgaXQgYXQgdGhpcyB0cmFuc2Zvcm0ncyB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7TG5nTGF0fSBsbmdMYXRcbiAgICAgKiBAcmV0dXJucyB7Q29vcmRpbmF0ZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGxvY2F0aW9uQ29vcmRpbmF0ZShsbmdMYXQ6IExuZ0xhdCwgYWx0aXR1ZGU/OiBudW1iZXIpOiBNZXJjYXRvckNvb3JkaW5hdGUge1xuICAgICAgICBjb25zdCB6ID0gYWx0aXR1ZGUgP1xuICAgICAgICAgICAgbWVyY2F0b3JaZnJvbUFsdGl0dWRlKGFsdGl0dWRlLCBsbmdMYXQubGF0KSA6XG4gICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHByb2plY3RlZExuZ0xhdCA9IHRoaXMucHJvamVjdGlvbi5wcm9qZWN0KGxuZ0xhdC5sbmcsIGxuZ0xhdC5sYXQpO1xuICAgICAgICByZXR1cm4gbmV3IE1lcmNhdG9yQ29vcmRpbmF0ZShcbiAgICAgICAgICAgIHByb2plY3RlZExuZ0xhdC54LFxuICAgICAgICAgICAgcHJvamVjdGVkTG5nTGF0LnksXG4gICAgICAgICAgICB6KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIENvb3JkaW5hdGUsIHJldHVybiBpdHMgZ2VvZ3JhcGhpY2FsIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRcbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0fSBsbmdMYXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvb3JkaW5hdGVMb2NhdGlvbihjb29yZDogTWVyY2F0b3JDb29yZGluYXRlKTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3QoY29vcmQueCwgY29vcmQueSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYSByYXkgZnJvbSBhIHBvaW50IG9uIHNjcmVlbiBhbmQgcmV0dXJucyB0aGUgUmF5LFxuICAgICAqIGFuZCB0aGUgZXh0ZW50IGFsb25nIGl0LCBhdCB3aGljaCBpdCBpbnRlcnNlY3RzIHRoZSBtYXAgcGxhbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIFZpZXdwb3J0IHBpeGVsIGNvLW9yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBPcHRpb25hbCBhbHRpdHVkZSBvZiB0aGUgbWFwIHBsYW5lLCBkZWZhdWx0aW5nIHRvIGVsZXZhdGlvbiBhdCBjZW50ZXIuXG4gICAgICogQHJldHVybnMge3sgcDA6IFZlYzQsIHAxOiBWZWM0LCB0OiBudW1iZXIgfX0gcDAscDEgYXJlIHR3byBwb2ludHMgb24gdGhlIHJheS5cbiAgICAgKiB0IGlzIHRoZSBmcmFjdGlvbmFsIGV4dGVudCBhbG9uZyB0aGUgcmF5IGF0IHdoaWNoIHRoZSByYXkgaW50ZXJzZWN0cyB0aGUgbWFwIHBsYW5lLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcG9pbnRSYXlJbnRlcnNlY3Rpb24ocDogUG9pbnQsIHo6ID9udW1iZXIpOiBSYXlJbnRlcnNlY3Rpb25SZXN1bHQge1xuICAgICAgICBjb25zdCB0YXJnZXRaID0gKHogIT09IHVuZGVmaW5lZCAmJiB6ICE9PSBudWxsKSA/IHogOiB0aGlzLl9jZW50ZXJBbHRpdHVkZTtcbiAgICAgICAgLy8gU2luY2Ugd2UgZG9uJ3Qga25vdyB0aGUgY29ycmVjdCBwcm9qZWN0ZWQgeiB2YWx1ZSBmb3IgdGhlIHBvaW50LFxuICAgICAgICAvLyB1bnByb2plY3QgdHdvIHBvaW50cyB0byBnZXQgYSBsaW5lIGFuZCB0aGVuIGZpbmQgdGhlIHBvaW50IG9uIHRoYXRcbiAgICAgICAgLy8gbGluZSB3aXRoIHo9MC5cblxuICAgICAgICBjb25zdCBwMCA9IFtwLngsIHAueSwgMCwgMV07XG4gICAgICAgIGNvbnN0IHAxID0gW3AueCwgcC55LCAxLCAxXTtcblxuICAgICAgICB2ZWM0LnRyYW5zZm9ybU1hdDQocDAsIHAwLCB0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSk7XG4gICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChwMSwgcDEsIHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKTtcblxuICAgICAgICBjb25zdCB3MCA9IHAwWzNdO1xuICAgICAgICBjb25zdCB3MSA9IHAxWzNdO1xuICAgICAgICB2ZWM0LnNjYWxlKHAwLCBwMCwgMSAvIHcwKTtcbiAgICAgICAgdmVjNC5zY2FsZShwMSwgcDEsIDEgLyB3MSk7XG5cbiAgICAgICAgY29uc3QgejAgPSBwMFsyXTtcbiAgICAgICAgY29uc3QgejEgPSBwMVsyXTtcblxuICAgICAgICBjb25zdCB0ID0gejAgPT09IHoxID8gMCA6ICh0YXJnZXRaIC0gejApIC8gKHoxIC0gejApO1xuXG4gICAgICAgIHJldHVybiB7cDAsIHAxLCB0fTtcbiAgICB9XG5cbiAgICBzY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkocDogUG9pbnQpOiBSYXkge1xuICAgICAgICBjb25zdCBwMCA9IFtwLngsIHAueSwgMCwgMV07XG4gICAgICAgIGNvbnN0IHAxID0gW3AueCwgcC55LCAxLCAxXTtcblxuICAgICAgICB2ZWM0LnRyYW5zZm9ybU1hdDQocDAsIHAwLCB0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSk7XG4gICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChwMSwgcDEsIHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKTtcblxuICAgICAgICB2ZWM0LnNjYWxlKHAwLCBwMCwgMSAvIHAwWzNdKTtcbiAgICAgICAgdmVjNC5zY2FsZShwMSwgcDEsIDEgLyBwMVszXSk7XG5cbiAgICAgICAgLy8gQ29udmVydCBhbHRpdHVkZSBmcm9tIG1ldGVycyB0byBwaXhlbHMuXG4gICAgICAgIHAwWzJdID0gbWVyY2F0b3JaZnJvbUFsdGl0dWRlKHAwWzJdLCB0aGlzLl9jZW50ZXIubGF0KSAqIHRoaXMud29ybGRTaXplO1xuICAgICAgICBwMVsyXSA9IG1lcmNhdG9yWmZyb21BbHRpdHVkZShwMVsyXSwgdGhpcy5fY2VudGVyLmxhdCkgKiB0aGlzLndvcmxkU2l6ZTtcblxuICAgICAgICB2ZWM0LnNjYWxlKHAwLCBwMCwgMSAvIHRoaXMud29ybGRTaXplKTtcbiAgICAgICAgdmVjNC5zY2FsZShwMSwgcDEsIDEgLyB0aGlzLndvcmxkU2l6ZSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBSYXkoW3AwWzBdLCBwMFsxXSwgcDBbMl1dLCB2ZWMzLm5vcm1hbGl6ZShbXSwgdmVjMy5zdWIoW10sIHAxLCBwMCkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgSGVscGVyIG1ldGhvZCB0byBjb252ZXJ0IHRoZSByYXkgaW50ZXJzZWN0aW9uIHdpdGggdGhlIG1hcCBwbGFuZSB0byBNZXJjYXRvckNvb3JkaW5hdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JheUludGVyc2VjdGlvblJlc3VsdH0gcmF5SW50ZXJzZWN0aW9uXG4gICAgICogQHJldHVybnMge01lcmNhdG9yQ29vcmRpbmF0ZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUocmF5SW50ZXJzZWN0aW9uOiBSYXlJbnRlcnNlY3Rpb25SZXN1bHQpOiBNZXJjYXRvckNvb3JkaW5hdGUge1xuICAgICAgICBjb25zdCB7cDAsIHAxLCB0fSA9IHJheUludGVyc2VjdGlvbjtcblxuICAgICAgICBjb25zdCB6MCA9IG1lcmNhdG9yWmZyb21BbHRpdHVkZShwMFsyXSwgdGhpcy5fY2VudGVyLmxhdCk7XG4gICAgICAgIGNvbnN0IHoxID0gbWVyY2F0b3JaZnJvbUFsdGl0dWRlKHAxWzJdLCB0aGlzLl9jZW50ZXIubGF0KTtcblxuICAgICAgICByZXR1cm4gbmV3IE1lcmNhdG9yQ29vcmRpbmF0ZShcbiAgICAgICAgICAgIGludGVycG9sYXRlKHAwWzBdLCBwMVswXSwgdCkgLyB0aGlzLndvcmxkU2l6ZSxcbiAgICAgICAgICAgIGludGVycG9sYXRlKHAwWzFdLCBwMVsxXSwgdCkgLyB0aGlzLndvcmxkU2l6ZSxcbiAgICAgICAgICAgIGludGVycG9sYXRlKHowLCB6MSwgdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcG9pbnQgb24gc2NyZWVuLCByZXR1cm5zIE1lcmNhdG9yQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIFRvcCBsZWZ0IG9yaWdpbiBzY3JlZW4gcG9pbnQsIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBPcHRpb25hbCBhbHRpdHVkZSBvZiB0aGUgbWFwIHBsYW5lLCBkZWZhdWx0aW5nIHRvIGVsZXZhdGlvbiBhdCBjZW50ZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwb2ludENvb3JkaW5hdGUocDogUG9pbnQsIHo/OiBudW1iZXIgPSB0aGlzLl9jZW50ZXJBbHRpdHVkZSk6IE1lcmNhdG9yQ29vcmRpbmF0ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlKHRoaXMsIHAueCwgcC55LCB6KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBvaW50IG9uIHNjcmVlbiwgcmV0dXJucyBNZXJjYXRvckNvb3JkaW5hdGUuXG4gICAgICogSW4gM0QgbW9kZSwgcmF5Y2FzdCB0byB0ZXJyYWluLiBJbiAyRCBtb2RlLCBiZWhhdmVzIHRoZSBzYW1lIGFzIHtAc2VlIHBvaW50Q29vcmRpbmF0ZX0uXG4gICAgICogRm9yIHAgYWJvdmUgdGVycmFpbiwgZG9uJ3QgcmV0dXJuIHBvaW50IGJlaGluZCBjYW1lcmEgYnV0IGNsYW1wIHAueSBhdCB0aGUgdG9wIG9mIHRlcnJhaW4uXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0b3AgbGVmdCBvcmlnaW4gc2NyZWVuIHBvaW50LCBpbiBwaXhlbHMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwb2ludENvb3JkaW5hdGUzRChwOiBQb2ludCk6IE1lcmNhdG9yQ29vcmRpbmF0ZSB7XG4gICAgICAgIGlmICghdGhpcy5lbGV2YXRpb24pIHJldHVybiB0aGlzLnBvaW50Q29vcmRpbmF0ZShwKTtcbiAgICAgICAgbGV0IHJheWNhc3Q6ID9WZWMzID0gdGhpcy5wcm9qZWN0aW9uLnBvaW50Q29vcmRpbmF0ZTNEKHRoaXMsIHAueCwgcC55KTtcbiAgICAgICAgaWYgKHJheWNhc3QpIHJldHVybiBuZXcgTWVyY2F0b3JDb29yZGluYXRlKHJheWNhc3RbMF0sIHJheWNhc3RbMV0sIHJheWNhc3RbMl0pO1xuICAgICAgICBsZXQgc3RhcnQgPSAwLCBlbmQgPSB0aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO1xuICAgICAgICBpZiAocC55ID4gZW5kKSByZXR1cm4gdGhpcy5wb2ludENvb3JkaW5hdGUocCk7IC8vIGhvbGVzIGJldHdlZW4gdGlsZXMgYmVsb3cgaG9yaXpvbiBsaW5lIG9yIGJlbG93IGJvdHRvbS5cbiAgICAgICAgY29uc3Qgc2FtcGxlcyA9IDEwO1xuICAgICAgICBjb25zdCB0aHJlc2hvbGQgPSAwLjAyICogZW5kO1xuICAgICAgICBjb25zdCByID0gcC5jbG9uZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcyAmJiBlbmQgLSBzdGFydCA+IHRocmVzaG9sZDsgaSsrKSB7XG4gICAgICAgICAgICByLnkgPSBpbnRlcnBvbGF0ZShzdGFydCwgZW5kLCAwLjY2KTsgLy8gbm9uIHVuaWZvcm0gYmluYXJ5IHNlYXJjaCBmYXZvcmluZyBwb2ludHMgY2xvc2VyIHRvIGhvcml6b24uXG4gICAgICAgICAgICBjb25zdCByQ2FzdCA9IHRoaXMucHJvamVjdGlvbi5wb2ludENvb3JkaW5hdGUzRCh0aGlzLCByLngsIHIueSk7XG4gICAgICAgICAgICBpZiAockNhc3QpIHtcbiAgICAgICAgICAgICAgICBlbmQgPSByLnk7XG4gICAgICAgICAgICAgICAgcmF5Y2FzdCA9IHJDYXN0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IHIueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmF5Y2FzdCA/IG5ldyBNZXJjYXRvckNvb3JkaW5hdGUocmF5Y2FzdFswXSwgcmF5Y2FzdFsxXSwgcmF5Y2FzdFsyXSkgOiB0aGlzLnBvaW50Q29vcmRpbmF0ZShwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYSBzY3JlZW5zcGFjZSBQb2ludCBwLCBpcyBhYm92ZSB0aGUgaG9yaXpvbi5cbiAgICAgKiBJbiBub24tZ2xvYmUgcHJvamVjdGlvbnMsIHRoaXMgYXBwcm94aW1hdGVzIHRoZSBtYXAgYXMgYW4gaW5maW5pdGUgcGxhbmUgYW5kIGRvZXMgbm90IGFjY291bnQgZm9yIHowLXozXG4gICAgICogd2hlcmVpbiB0aGUgbWFwIGlzIHNtYWxsIHF1YWQgd2l0aCB3aGl0ZXNwYWNlIGFib3ZlIHRoZSBub3J0aCBwb2xlIGFuZCBiZWxvdyB0aGUgc291dGggcG9sZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGlzUG9pbnRBYm92ZUhvcml6b24ocDogUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbi5pc1BvaW50QWJvdmVIb3Jpem9uKHRoaXMsIHApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgY29vcmRpbmF0ZSwgcmV0dXJuIHRoZSBzY3JlZW4gcG9pbnQgdGhhdCBjb3JyZXNwb25kcyB0byBpdFxuICAgICAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNhbXBsZVRlcnJhaW5JbjNEIGluIDNEIG1vZGUgKHRlcnJhaW4gZW5hYmxlZCksIHNhbXBsZSBlbGV2YXRpb24gZm9yIHRoZSBwb2ludC5cbiAgICAgKiBJZiBmYWxzZSwgZG8gdGhlIHNhbWUgYXMgaW4gMkQgbW9kZSwgYXNzdW1lIGZsYXQgY2FtZXJhIGVsZXZhdGlvbiBwbGFuZSBmb3IgYWxsIHBvaW50cy5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9IHNjcmVlbiBwb2ludFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Nvb3JkaW5hdGVQb2ludChjb29yZDogTWVyY2F0b3JDb29yZGluYXRlLCBzYW1wbGVUZXJyYWluSW4zRDogYm9vbGVhbik6IFBvaW50IHtcbiAgICAgICAgY29uc3QgZWxldmF0aW9uID0gc2FtcGxlVGVycmFpbkluM0QgJiYgdGhpcy5lbGV2YXRpb24gPyB0aGlzLmVsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKGNvb3JkLCB0aGlzLl9jZW50ZXJBbHRpdHVkZSkgOiB0aGlzLl9jZW50ZXJBbHRpdHVkZTtcbiAgICAgICAgY29uc3QgcCA9IFtjb29yZC54ICogdGhpcy53b3JsZFNpemUsIGNvb3JkLnkgKiB0aGlzLndvcmxkU2l6ZSwgZWxldmF0aW9uICsgY29vcmQudG9BbHRpdHVkZSgpLCAxXTtcbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KHAsIHAsIHRoaXMucGl4ZWxNYXRyaXgpO1xuICAgICAgICByZXR1cm4gcFszXSA+IDAgP1xuICAgICAgICAgICAgbmV3IFBvaW50KHBbMF0gLyBwWzNdLCBwWzFdIC8gcFszXSkgOlxuICAgICAgICAgICAgbmV3IFBvaW50KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpO1xuICAgIH1cblxuICAgIC8vIEluIEdsb2JlLCBjb25pYyBhbmQgdGhlbWF0aWMgcHJvamVjdGlvbnMsIExuZy9MYXQgZXh0cmVtZXMgYXJlIG5vdCBhbHdheXMgYXQgY29ybmVycy5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGFkZGl0aW9uYWxseSBjaGVja3MgZWFjaCBzY3JlZW4gZWRnZSBtaWRwb2ludC5cbiAgICAvLyBXaGlsZSBtaWRwb2ludHMgY29udGludWUgdG8gYmUgZXh0cmVtZXMsIGl0IHJlY3Vyc2l2ZWx5IGNoZWNrcyBtaWRwb2ludHMgb2Ygc21hbGxlciBzZWdtZW50cy5cbiAgICBfZ2V0Qm91bmRzTm9uUmVjdGFuZ3VsYXIoKTogTG5nTGF0Qm91bmRzIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLnByb2plY3Rpb24uc3VwcG9ydHNXb3JsZENvcGllcywgXCJSZWN0YW5ndWxhciBwcm9qZWN0aW9ucyBzaG91bGQgdXNlIHRoZSBzaW1wbGVyIF9nZXRCb3VuZHNSZWN0YW5ndWxhclwiKTtcbiAgICAgICAgY29uc3Qge3RvcCwgbGVmdH0gPSB0aGlzLl9lZGdlSW5zZXRzO1xuICAgICAgICBjb25zdCBib3R0b20gPSB0aGlzLmhlaWdodCAtIHRoaXMuX2VkZ2VJbnNldHMuYm90dG9tO1xuICAgICAgICBjb25zdCByaWdodCA9IHRoaXMud2lkdGggLSB0aGlzLl9lZGdlSW5zZXRzLnJpZ2h0O1xuXG4gICAgICAgIGNvbnN0IHRsID0gdGhpcy5wb2ludExvY2F0aW9uM0QobmV3IFBvaW50KGxlZnQsIHRvcCkpO1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMucG9pbnRMb2NhdGlvbjNEKG5ldyBQb2ludChyaWdodCwgdG9wKSk7XG4gICAgICAgIGNvbnN0IGJyID0gdGhpcy5wb2ludExvY2F0aW9uM0QobmV3IFBvaW50KHJpZ2h0LCBib3R0b20pKTtcbiAgICAgICAgY29uc3QgYmwgPSB0aGlzLnBvaW50TG9jYXRpb24zRChuZXcgUG9pbnQobGVmdCwgYm90dG9tKSk7XG5cbiAgICAgICAgbGV0IHdlc3QgPSBNYXRoLm1pbih0bC5sbmcsIHRyLmxuZywgYnIubG5nLCBibC5sbmcpO1xuICAgICAgICBsZXQgZWFzdCA9IE1hdGgubWF4KHRsLmxuZywgdHIubG5nLCBici5sbmcsIGJsLmxuZyk7XG4gICAgICAgIGxldCBzb3V0aCA9IE1hdGgubWluKHRsLmxhdCwgdHIubGF0LCBici5sYXQsIGJsLmxhdCk7XG4gICAgICAgIGxldCBub3J0aCA9IE1hdGgubWF4KHRsLmxhdCwgdHIubGF0LCBici5sYXQsIGJsLmxhdCk7XG5cbiAgICAgICAgLy8gd2UgcGljayBhbiBlcnJvciB0aHJlc2hvbGQgZm9yIGNhbGN1bGF0aW5nIHRoZSBiYm94IHRoYXQgYmFsYW5jZXMgYmV0d2VlbiBwZXJmb3JtYW5jZSBhbmQgcHJlY2lzaW9uXG4gICAgICAgIC8vIFJvdWdobHkgZW11bGF0aW5nIGJlaGF2aW9yIG9mIG1heEVyciBpbiB0aWxlX3RyYW5zZm9ybS5qc1xuICAgICAgICBjb25zdCBzID0gTWF0aC5wb3coMiwgLXRoaXMuem9vbSk7XG4gICAgICAgIGNvbnN0IG1heEVyciA9IHMgLyAxNiAqIDI3MDsgLy8gMjcwID0gYXZnKDE4MCwgMzYwKSBpLmUuIHJvdWdoIGNvbnZlcnNpb24gYmV0d2VlbiBNZXJjYXRvciBjb29yZHMgYW5kIExhdC9MbmdcblxuICAgICAgICAvLyBXZSBjaGVjayBhIG1pbmltdW0gb2YgMTUgcG9pbnRzIG9uIGVhY2ggc2lkZSBmb3IgQWxiZXJzLCBldGMuXG4gICAgICAgIC8vIFdlIGNoZWNrIGEgbWlubXVtIG9mIG9uZSBtaWRwb2ludCBvbiBlYWNoIHNpZGUgcGVyIGdsb2JlLlxuICAgICAgICAvLyBHbG9iZSBjaGVja3MgcmVxdWlyZSByYXl0cmFjaW5nIGFuZCBhcmUgc2xvd2VyXG4gICAgICAgIC8vIGFuZCBtaXNpbmcgYXJlYSBuZWFyIHRoZSBob3Jpem9uIGlzIGhpZ2hseSBjb21wcmVzc2VkIHNvIG5vdCBub3RpY2VhYmxlXG4gICAgICAgIGNvbnN0IG1pblJlY3Vyc2lvbnMgPSB0aGlzLnByb2plY3Rpb24ubmFtZSA9PT0gXCJnbG9iZVwiID8gMSA6IDQ7XG5cbiAgICAgICAgY29uc3QgcHJvY2Vzc1NlZ21lbnQgPSAoYXgsIGF5LCBieCwgYnksIGRlcHRoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBteCA9IChheCArIGJ4KSAvIDI7XG4gICAgICAgICAgICBjb25zdCBteSA9IChheSArIGJ5KSAvIDI7XG5cbiAgICAgICAgICAgIGNvbnN0IHAgPSBuZXcgUG9pbnQobXgsIG15KTtcbiAgICAgICAgICAgIGNvbnN0IHtsbmcsIGxhdH0gPSB0aGlzLnBvaW50TG9jYXRpb24zRChwKTtcblxuICAgICAgICAgICAgLy8gVGhlIGVycm9yIG1ldHJpYyBpcyB0aGUgbWF4aW11bSBjaGFuZ2UgdG8gYm91bmRzIGZyb20gYSBnaXZlbiBwb2ludFxuICAgICAgICAgICAgY29uc3QgZXJyID0gTWF0aC5tYXgoMCwgd2VzdCAtIGxuZywgc291dGggLSBsYXQsIGxuZyAtIGVhc3QsIGxhdCAtIG5vcnRoKTtcblxuICAgICAgICAgICAgd2VzdCA9IE1hdGgubWluKHdlc3QsIGxuZyk7XG4gICAgICAgICAgICBlYXN0ID0gTWF0aC5tYXgoZWFzdCwgbG5nKTtcbiAgICAgICAgICAgIHNvdXRoID0gTWF0aC5taW4oc291dGgsIGxhdCk7XG4gICAgICAgICAgICBub3J0aCA9IE1hdGgubWF4KG5vcnRoLCBsYXQpO1xuXG4gICAgICAgICAgICBpZiAoZGVwdGggPCBtaW5SZWN1cnNpb25zIHx8IGVyciA+IG1heEVycikge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NTZWdtZW50KGF4LCBheSwgbXgsIG15LCBkZXB0aCArIDEpO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NTZWdtZW50KG14LCBteSwgYngsIGJ5LCBkZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHByb2Nlc3NTZWdtZW50KGxlZnQsIHRvcCwgcmlnaHQsIHRvcCwgMSk7XG4gICAgICAgIHByb2Nlc3NTZWdtZW50KHJpZ2h0LCB0b3AsIHJpZ2h0LCBib3R0b20sIDEpO1xuICAgICAgICBwcm9jZXNzU2VnbWVudChyaWdodCwgYm90dG9tLCBsZWZ0LCBib3R0b20sIDEpO1xuICAgICAgICBwcm9jZXNzU2VnbWVudChsZWZ0LCBib3R0b20sIGxlZnQsIHRvcCwgMSk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5uYW1lID09PSBcImdsb2JlXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IFtub3J0aFBvbGVJc1Zpc2libGUsIHNvdXRoUG9sZUlzVmlzaWJsZV0gPSBwb2xlc0luVmlld3BvcnQodGhpcyk7XG4gICAgICAgICAgICBpZiAobm9ydGhQb2xlSXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgbm9ydGggPSA5MDtcbiAgICAgICAgICAgICAgICBlYXN0ID0gMTgwO1xuICAgICAgICAgICAgICAgIHdlc3QgPSAtMTgwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3V0aFBvbGVJc1Zpc2libGUpIHtcbiAgICAgICAgICAgICAgICBzb3V0aCA9IC05MDtcbiAgICAgICAgICAgICAgICBlYXN0ID0gMTgwO1xuICAgICAgICAgICAgICAgIHdlc3QgPSAtMTgwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBMbmdMYXRCb3VuZHMobmV3IExuZ0xhdCh3ZXN0LCBzb3V0aCksIG5ldyBMbmdMYXQoZWFzdCwgbm9ydGgpKTtcbiAgICB9XG5cbiAgICBfZ2V0Qm91bmRzUmVjdGFuZ3VsYXIobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogTG5nTGF0Qm91bmRzIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMucHJvamVjdGlvbi5zdXBwb3J0c1dvcmxkQ29waWVzLCBcIl9nZXRCb3VuZHNSZWN0YW5ndWxhciBvbmx5IGNoZWNrcyBjb3JuZXJzIGFuZCB3b3JrcyBvbmx5IG9uIHJlY3Rhbmd1bGFyIHByb2plY3Rpb25zLiBPdGhlciBwcm9qZWN0aW9ucyBzaG91bGQgdXNlIF9nZXRCb3VuZHNOb25SZWN0YW5ndWxhclwiKTtcblxuICAgICAgICBjb25zdCB7dG9wLCBsZWZ0fSA9IHRoaXMuX2VkZ2VJbnNldHM7XG4gICAgICAgIGNvbnN0IGJvdHRvbSA9IHRoaXMuaGVpZ2h0IC0gdGhpcy5fZWRnZUluc2V0cy5ib3R0b207XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy53aWR0aCAtIHRoaXMuX2VkZ2VJbnNldHMucmlnaHQ7XG5cbiAgICAgICAgY29uc3QgdG9wTGVmdCA9IG5ldyBQb2ludChsZWZ0LCB0b3ApO1xuICAgICAgICBjb25zdCB0b3BSaWdodCA9IG5ldyBQb2ludChyaWdodCwgdG9wKTtcbiAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSBuZXcgUG9pbnQocmlnaHQsIGJvdHRvbSk7XG4gICAgICAgIGNvbnN0IGJvdHRvbUxlZnQgPSBuZXcgUG9pbnQobGVmdCwgYm90dG9tKTtcblxuICAgICAgICAvLyBDb25zaWRlciBmYXIgcG9pbnRzIGF0IHRoZSBtYXhpbXVtIHBvc3NpYmxlIGVsZXZhdGlvblxuICAgICAgICAvLyBhbmQgbmVhciBwb2ludHMgYXQgdGhlIG1pbmltdW0gdG8gZW5zdXJlIGZ1bGwgY292ZXJhZ2UuXG4gICAgICAgIGxldCB0bCA9IHRoaXMucG9pbnRDb29yZGluYXRlKHRvcExlZnQsIG1pbik7XG4gICAgICAgIGxldCB0ciA9IHRoaXMucG9pbnRDb29yZGluYXRlKHRvcFJpZ2h0LCBtaW4pO1xuICAgICAgICBjb25zdCBiciA9IHRoaXMucG9pbnRDb29yZGluYXRlKGJvdHRvbVJpZ2h0LCBtYXgpO1xuICAgICAgICBjb25zdCBibCA9IHRoaXMucG9pbnRDb29yZGluYXRlKGJvdHRvbUxlZnQsIG1heCk7XG5cbiAgICAgICAgLy8gSWYgbWFwIHBpdGNoIHBsYWNlcyB0b3AgY29ybmVycyBvZmYgbWFwIGVkZ2UgKGxhdGl0dWRlID4gOTAgb3IgPCAtOTApLFxuICAgICAgICAvLyBwbGFjZSB0aGVtIGF0IHRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiB0aGUgbGVmdC9yaWdodCBzY3JlZW4gZWRnZSBhbmQgbWFwIGVkZ2UuXG4gICAgICAgIGNvbnN0IHNsb3BlID0gKHAxLCBwMikgPT4gKHAyLnkgLSBwMS55KSAvIChwMi54IC0gcDEueCk7XG5cbiAgICAgICAgaWYgKHRsLnkgPiAxICYmIHRyLnkgPj0gMCkgdGwgPSBuZXcgTWVyY2F0b3JDb29yZGluYXRlKCgxIC0gYmwueSkgLyBzbG9wZShibCwgdGwpICsgYmwueCwgMSk7XG4gICAgICAgIGVsc2UgaWYgKHRsLnkgPCAwICYmIHRyLnkgPD0gMSkgdGwgPSBuZXcgTWVyY2F0b3JDb29yZGluYXRlKC1ibC55IC8gc2xvcGUoYmwsIHRsKSArIGJsLngsIDApO1xuXG4gICAgICAgIGlmICh0ci55ID4gMSAmJiB0bC55ID49IDApIHRyID0gbmV3IE1lcmNhdG9yQ29vcmRpbmF0ZSgoMSAtIGJyLnkpIC8gc2xvcGUoYnIsIHRyKSArIGJyLngsIDEpO1xuICAgICAgICBlbHNlIGlmICh0ci55IDwgMCAmJiB0bC55IDw9IDEpIHRyID0gbmV3IE1lcmNhdG9yQ29vcmRpbmF0ZSgtYnIueSAvIHNsb3BlKGJyLCB0cikgKyBici54LCAwKTtcblxuICAgICAgICByZXR1cm4gbmV3IExuZ0xhdEJvdW5kcygpXG4gICAgICAgICAgICAuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHRsKSlcbiAgICAgICAgICAgIC5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24odHIpKVxuICAgICAgICAgICAgLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihibCkpXG4gICAgICAgICAgICAuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGJyKSk7XG4gICAgfVxuXG4gICAgX2dldEJvdW5kc1JlY3Rhbmd1bGFyVGVycmFpbigpOiBMbmdMYXRCb3VuZHMge1xuICAgICAgICBhc3NlcnQodGhpcy5lbGV2YXRpb24pO1xuICAgICAgICBjb25zdCBlbGV2YXRpb24gPSAoKHRoaXMuZWxldmF0aW9uOiBhbnkpOiBFbGV2YXRpb24pO1xuICAgICAgICBpZiAoIWVsZXZhdGlvbi52aXNpYmxlRGVtVGlsZXMubGVuZ3RoIHx8IGVsZXZhdGlvbi5pc1VzaW5nTW9ja1NvdXJjZSgpKSB7IHJldHVybiB0aGlzLl9nZXRCb3VuZHNSZWN0YW5ndWxhcigwLCAwKTsgfVxuICAgICAgICBjb25zdCBtaW5tYXggPSBlbGV2YXRpb24udmlzaWJsZURlbVRpbGVzLnJlZHVjZSgoYWNjLCB0KSA9PiB7XG4gICAgICAgICAgICBpZiAodC5kZW0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmVlID0gdC5kZW0udHJlZTtcbiAgICAgICAgICAgICAgICBhY2MubWluID0gTWF0aC5taW4oYWNjLm1pbiwgdHJlZS5taW5pbXVtc1swXSk7XG4gICAgICAgICAgICAgICAgYWNjLm1heCA9IE1hdGgubWF4KGFjYy5tYXgsIHRyZWUubWF4aW11bXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge21pbjogTnVtYmVyLk1BWF9WQUxVRSwgbWF4OiAwfSk7XG4gICAgICAgIGFzc2VydChtaW5tYXgubWluICE9PSBOdW1iZXIuTUFYX1ZBTFVFKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJvdW5kc1JlY3Rhbmd1bGFyKG1pbm1heC5taW4gKiBlbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCksIG1pbm1heC5tYXggKiBlbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBib3VuZHMuIFdoZW4gdGhlIGJlYXJpbmcgb3IgcGl0Y2ggaXMgbm9uLXplcm8sIHRoZSB2aXNpYmxlIHJlZ2lvbiBpcyBub3RcbiAgICAgKiBhbiBheGlzLWFsaWduZWQgcmVjdGFuZ2xlLCBhbmQgdGhlIHJlc3VsdCBpcyB0aGUgc21hbGxlc3QgYm91bmRzIHRoYXQgZW5jb21wYXNzZXMgdGhlIHZpc2libGUgcmVnaW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30gUmV0dXJucyBhIHtAbGluayBMbmdMYXRCb3VuZHN9IG9iamVjdCBkZXNjcmliaW5nIHRoZSBtYXAncyBnZW9ncmFwaGljYWwgYm91bmRzLlxuICAgICAqL1xuICAgIGdldEJvdW5kcygpOiBMbmdMYXRCb3VuZHMge1xuICAgICAgICBpZiAodGhpcy5wcm9qZWN0aW9uLm5hbWUgPT09ICdtZXJjYXRvcicgfHwgdGhpcy5wcm9qZWN0aW9uLm5hbWUgPT09ICdlcXVpcmVjdGFuZ3VsYXInKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGVycmFpbkVuYWJsZWQoKSkgcmV0dXJuIHRoaXMuX2dldEJvdW5kc1JlY3Rhbmd1bGFyVGVycmFpbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJvdW5kc1JlY3Rhbmd1bGFyKDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCb3VuZHNOb25SZWN0YW5ndWxhcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgcG9zaXRpb24gb2YgaG9yaXpvbiBsaW5lIGZyb20gdGhlIHRvcCBvZiB0aGUgbWFwIGluIHBpeGVscy5cbiAgICAgKiBJZiBob3Jpem9uIGlzIG5vdCB2aXNpYmxlLCByZXR1cm5zIDAgYnkgZGVmYXVsdCBvciBhIG5lZ2F0aXZlIHZhbHVlIGlmIGNhbGxlZCB3aXRoIGNsYW1wVG9Ub3AgPSBmYWxzZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGhvcml6b25MaW5lRnJvbVRvcChjbGFtcFRvVG9wOiBib29sZWFuID0gdHJ1ZSk6IG51bWJlciB7XG4gICAgICAgIC8vIGggaXMgaGVpZ2h0IG9mIHNwYWNlIGFib3ZlIG1hcCBjZW50ZXIgdG8gaG9yaXpvbi5cbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0IC8gMiAvIE1hdGgudGFuKHRoaXMuX2ZvdiAvIDIpIC8gTWF0aC50YW4oTWF0aC5tYXgodGhpcy5fcGl0Y2gsIDAuMSkpICsgdGhpcy5jZW50ZXJPZmZzZXQueTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5oZWlnaHQgLyAyIC0gaCAqICgxIC0gdGhpcy5faG9yaXpvblNoaWZ0KTtcbiAgICAgICAgcmV0dXJuIGNsYW1wVG9Ub3AgPyBNYXRoLm1heCgwLCBvZmZzZXQpIDogb2Zmc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1heGltdW0gZ2VvZ3JhcGhpY2FsIGJvdW5kcyB0aGUgbWFwIGlzIGNvbnN0cmFpbmVkIHRvLCBvciBgbnVsbGAgaWYgbm9uZSBzZXQuXG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30ge0BsaW5rIExuZ0xhdEJvdW5kc30uXG4gICAgICovXG4gICAgZ2V0TWF4Qm91bmRzKCk6ID9MbmdMYXRCb3VuZHMge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhCb3VuZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBjb25zdHJhaW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0Qm91bmRzfSBib3VuZHMgQSB7QGxpbmsgTG5nTGF0Qm91bmRzfSBvYmplY3QgZGVzY3JpYmluZyB0aGUgbmV3IGdlb2dyYXBoaWMgYm91bmRhcmllcyBvZiB0aGUgbWFwLlxuICAgICAqL1xuICAgIHNldE1heEJvdW5kcyhib3VuZHM6ID9MbmdMYXRCb3VuZHMpIHtcbiAgICAgICAgdGhpcy5tYXhCb3VuZHMgPSBib3VuZHM7XG5cbiAgICAgICAgdGhpcy5taW5MYXQgPSAtTUFYX01FUkNBVE9SX0xBVElUVURFO1xuICAgICAgICB0aGlzLm1heExhdCA9IE1BWF9NRVJDQVRPUl9MQVRJVFVERTtcbiAgICAgICAgdGhpcy5taW5MbmcgPSAtMTgwO1xuICAgICAgICB0aGlzLm1heExuZyA9IDE4MDtcblxuICAgICAgICBpZiAoYm91bmRzKSB7XG4gICAgICAgICAgICB0aGlzLm1pbkxhdCA9IGJvdW5kcy5nZXRTb3V0aCgpO1xuICAgICAgICAgICAgdGhpcy5tYXhMYXQgPSBib3VuZHMuZ2V0Tm9ydGgoKTtcbiAgICAgICAgICAgIHRoaXMubWluTG5nID0gYm91bmRzLmdldFdlc3QoKTtcbiAgICAgICAgICAgIHRoaXMubWF4TG5nID0gYm91bmRzLmdldEVhc3QoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heExuZyA8IHRoaXMubWluTG5nKSB0aGlzLm1heExuZyArPSAzNjA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndvcmxkTWluWCA9IG1lcmNhdG9yWGZyb21MbmcodGhpcy5taW5MbmcpICogdGhpcy50aWxlU2l6ZTtcbiAgICAgICAgdGhpcy53b3JsZE1heFggPSBtZXJjYXRvclhmcm9tTG5nKHRoaXMubWF4TG5nKSAqIHRoaXMudGlsZVNpemU7XG4gICAgICAgIHRoaXMud29ybGRNaW5ZID0gbWVyY2F0b3JZZnJvbUxhdCh0aGlzLm1heExhdCkgKiB0aGlzLnRpbGVTaXplO1xuICAgICAgICB0aGlzLndvcmxkTWF4WSA9IG1lcmNhdG9yWWZyb21MYXQodGhpcy5taW5MYXQpICogdGhpcy50aWxlU2l6ZTtcblxuICAgICAgICB0aGlzLl9jb25zdHJhaW4oKTtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVQb3NNYXRyaXgodW53cmFwcGVkVGlsZUlEOiBVbndyYXBwZWRUaWxlSUQsIHdvcmxkU2l6ZTogbnVtYmVyKTogRmxvYXQ2NEFycmF5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbi5jcmVhdGVUaWxlTWF0cml4KHRoaXMsIHdvcmxkU2l6ZSwgdW53cmFwcGVkVGlsZUlEKTtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVEaXN0YW5jZVRpbGVEYXRhKHVud3JhcHBlZFRpbGVJRDogVW53cmFwcGVkVGlsZUlEKTogRmVhdHVyZURpc3RhbmNlRGF0YSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlRGF0YUtleSA9IHVud3JhcHBlZFRpbGVJRC5rZXk7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlO1xuICAgICAgICBpZiAoY2FjaGVbZGlzdGFuY2VEYXRhS2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW2Rpc3RhbmNlRGF0YUtleV07XG4gICAgICAgIH1cblxuICAgICAgICAvL0NhbGN1bGF0ZSB0aGUgb2Zmc2V0IG9mIHRoZSB0aWxlXG4gICAgICAgIGNvbnN0IGNhbm9uaWNhbCA9IHVud3JhcHBlZFRpbGVJRC5jYW5vbmljYWw7XG4gICAgICAgIGNvbnN0IHdpbmRvd1NjYWxlRmFjdG9yID0gMSAvIHRoaXMuaGVpZ2h0O1xuICAgICAgICBjb25zdCBjd3MgPSB0aGlzLmNhbWVyYVdvcmxkU2l6ZTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBjd3MgLyB0aGlzLnpvb21TY2FsZShjYW5vbmljYWwueik7XG4gICAgICAgIGNvbnN0IHVud3JhcHBlZFggPSBjYW5vbmljYWwueCArIE1hdGgucG93KDIsIGNhbm9uaWNhbC56KSAqIHVud3JhcHBlZFRpbGVJRC53cmFwO1xuICAgICAgICBjb25zdCB0WCA9IHVud3JhcHBlZFggKiBzY2FsZTtcbiAgICAgICAgY29uc3QgdFkgPSBjYW5vbmljYWwueSAqIHNjYWxlO1xuXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMucG9pbnQ7XG4gICAgICAgIC8vIGNlbnRlciBpcyBpbiB3b3JsZC9waXhlbCBjb29yZGluYXRlLCBlbnN1cmUgaXQncyBpbiB0aGUgc2FtZSBjb29yZGluYXRlIHNwYWNlIGFzIHRYIGFuZCB0WSBjb21wdXRlZCBlYXJsaWVyLlxuICAgICAgICBjZW50ZXIueCAqPSBjd3MgLyB0aGlzLndvcmxkU2l6ZTtcbiAgICAgICAgY2VudGVyLnkgKj0gY3dzIC8gdGhpcy53b3JsZFNpemU7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBiZWFyaW5nIHZlY3RvciBieSByb3RhdGluZyB1bml0IHZlY3RvciBbMCwgLTFdIGNsb2Nrd2lzZVxuICAgICAgICBjb25zdCBhbmdsZSA9IHRoaXMuYW5nbGU7XG4gICAgICAgIGNvbnN0IGJYID0gTWF0aC5zaW4oLWFuZ2xlKTtcbiAgICAgICAgY29uc3QgYlkgPSAtTWF0aC5jb3MoLWFuZ2xlKTtcblxuICAgICAgICBjb25zdCBjWCA9IChjZW50ZXIueCAtIHRYKSAqIHdpbmRvd1NjYWxlRmFjdG9yO1xuICAgICAgICBjb25zdCBjWSA9IChjZW50ZXIueSAtIHRZKSAqIHdpbmRvd1NjYWxlRmFjdG9yO1xuICAgICAgICBjYWNoZVtkaXN0YW5jZURhdGFLZXldID0ge1xuICAgICAgICAgICAgYmVhcmluZzogW2JYLCBiWV0sXG4gICAgICAgICAgICBjZW50ZXI6IFtjWCwgY1ldLFxuICAgICAgICAgICAgc2NhbGU6IChzY2FsZSAvIEVYVEVOVCkgKiB3aW5kb3dTY2FsZUZhY3RvclxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBjYWNoZVtkaXN0YW5jZURhdGFLZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgZm9nVGlsZU1hdHJpeCB0aGF0LCBnaXZlbiBhIHRpbGUgY29vcmRpbmF0ZSwgY2FuIGJlIHVzZWQgdG9cbiAgICAgKiBjYWxjdWxhdGUgaXRzIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBjYW1lcmEgaW4gdW5pdHMgb2YgcGl4ZWxzIGRpdmlkZWRcbiAgICAgKiBieSB0aGUgbWFwIGhlaWdodC4gVXNlZCB3aXRoIGZvZyBmb3IgY29uc2lzdGVudCBjb21wdXRhdGlvbiBvZiBkaXN0YW5jZVxuICAgICAqIGZyb20gY2FtZXJhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtVbndyYXBwZWRUaWxlSUR9IHVud3JhcHBlZFRpbGVJRDtcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgodW53cmFwcGVkVGlsZUlEOiBVbndyYXBwZWRUaWxlSUQpOiBGbG9hdDMyQXJyYXkge1xuICAgICAgICBjb25zdCBmb2dUaWxlTWF0cml4S2V5ID0gdW53cmFwcGVkVGlsZUlELmtleTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLl9mb2dUaWxlTWF0cml4Q2FjaGU7XG4gICAgICAgIGlmIChjYWNoZVtmb2dUaWxlTWF0cml4S2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW2ZvZ1RpbGVNYXRyaXhLZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zTWF0cml4ID0gdGhpcy5wcm9qZWN0aW9uLmNyZWF0ZVRpbGVNYXRyaXgodGhpcywgdGhpcy5jYW1lcmFXb3JsZFNpemVGb3JGb2csIHVud3JhcHBlZFRpbGVJRCk7XG4gICAgICAgIG1hdDQubXVsdGlwbHkocG9zTWF0cml4LCB0aGlzLndvcmxkVG9Gb2dNYXRyaXgsIHBvc01hdHJpeCk7XG5cbiAgICAgICAgY2FjaGVbZm9nVGlsZU1hdHJpeEtleV0gPSBuZXcgRmxvYXQzMkFycmF5KHBvc01hdHJpeCk7XG4gICAgICAgIHJldHVybiBjYWNoZVtmb2dUaWxlTWF0cml4S2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHByb2pNYXRyaXggdGhhdCwgZ2l2ZW4gYSB0aWxlIGNvb3JkaW5hdGUsIHdvdWxkIGJlIHVzZWQgdG8gZGlzcGxheSB0aGUgdGlsZSBvbiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7VW53cmFwcGVkVGlsZUlEfSB1bndyYXBwZWRUaWxlSUQ7XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVQcm9qTWF0cml4KHVud3JhcHBlZFRpbGVJRDogVW53cmFwcGVkVGlsZUlELCBhbGlnbmVkOiBib29sZWFuID0gZmFsc2UpOiBGbG9hdDMyQXJyYXkge1xuICAgICAgICBjb25zdCBwcm9qTWF0cml4S2V5ID0gdW53cmFwcGVkVGlsZUlELmtleTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSBhbGlnbmVkID8gdGhpcy5fYWxpZ25lZFByb2pNYXRyaXhDYWNoZSA6IHRoaXMuX3Byb2pNYXRyaXhDYWNoZTtcbiAgICAgICAgaWYgKGNhY2hlW3Byb2pNYXRyaXhLZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVbcHJvak1hdHJpeEtleV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3NNYXRyaXggPSB0aGlzLmNhbGN1bGF0ZVBvc01hdHJpeCh1bndyYXBwZWRUaWxlSUQsIHRoaXMud29ybGRTaXplKTtcbiAgICAgICAgY29uc3QgcHJvak1hdHJpeCA9IHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UgP1xuICAgICAgICAgICAgdGhpcy5tZXJjYXRvck1hdHJpeCA6IChhbGlnbmVkID8gdGhpcy5hbGlnbmVkUHJvak1hdHJpeCA6IHRoaXMucHJvak1hdHJpeCk7XG4gICAgICAgIG1hdDQubXVsdGlwbHkocG9zTWF0cml4LCBwcm9qTWF0cml4LCBwb3NNYXRyaXgpO1xuXG4gICAgICAgIGNhY2hlW3Byb2pNYXRyaXhLZXldID0gbmV3IEZsb2F0MzJBcnJheShwb3NNYXRyaXgpO1xuICAgICAgICByZXR1cm4gY2FjaGVbcHJvak1hdHJpeEtleV07XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodGlsZTogVGlsZSk6IEZsb2F0MzJBcnJheSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRpbGUudGlsZUlELmtleTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLl9waXhlbHNUb1RpbGVVbml0c0NhY2hlO1xuICAgICAgICBpZiAoY2FjaGVba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXRyaXggPSBnZXRQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0aWxlLCB0aGlzKTtcbiAgICAgICAgY2FjaGVba2V5XSA9IG1hdHJpeDtcbiAgICAgICAgcmV0dXJuIGNhY2hlW2tleV07XG4gICAgfVxuXG4gICAgY3VzdG9tTGF5ZXJNYXRyaXgoKTogQXJyYXk8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lcmNhdG9yTWF0cml4LnNsaWNlKCk7XG4gICAgfVxuXG4gICAgZ2xvYmVUb01lcmNhdG9yTWF0cml4KCk6ID9BcnJheTxudW1iZXI+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICBjb25zdCBwaXhlbHNUb01lcmMgPSAxIC8gdGhpcy53b3JsZFNpemU7XG4gICAgICAgICAgICBjb25zdCBtID0gbWF0NC5mcm9tU2NhbGluZyhbXSwgW3BpeGVsc1RvTWVyYywgcGl4ZWxzVG9NZXJjLCBwaXhlbHNUb01lcmNdKTtcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHkobSwgbSwgdGhpcy5nbG9iZU1hdHJpeCk7XG4gICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJlY2VudGVyT25UZXJyYWluKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VsZXZhdGlvbiB8fCB0aGlzLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJylcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjb25zdCBlbGV2YXRpb246IEVsZXZhdGlvbiA9IHRoaXMuX2VsZXZhdGlvbjtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtcblxuICAgICAgICAvLyBDYXN0IGEgcmF5IHRvd2FyZHMgdGhlIHNlYSBsZXZlbCBhbmQgZmluZCB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IHdpdGggdGhlIHRlcnJhaW4uXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gdXNlIGEgY2FtZXJhIHBvc2l0aW9uIHRoYXQgZXhpc3RzIGluIHRoZSBzYW1lIGNvb3JkaW5hdGUgc3BhY2UgYXMgdGhlIGRhdGEuXG4gICAgICAgIC8vIFRoZSBkZWZhdWx0IGNhbWVyYSBwb3NpdGlvbiBtaWdodCBoYXZlIGJlZW4gY29tcGVuc2F0ZWQgYnkgdGhlIGFjdGl2ZSBwcm9qZWN0aW9uIG1vZGVsLlxuICAgICAgICBjb25zdCBtZXJjUGl4ZWxzUGVyTWV0ZXIgPSBtZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSwgdGhpcy5fY2VudGVyLmxhdCkgKiB0aGlzLndvcmxkU2l6ZTtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLl9jb21wdXRlQ2FtZXJhUG9zaXRpb24obWVyY1BpeGVsc1Blck1ldGVyKTtcbiAgICAgICAgY29uc3QgZGlyID0gdGhpcy5fY2FtZXJhLmZvcndhcmQoKTtcblxuICAgICAgICAvLyBUaGUgcmF5Y2FzdCBmdW5jdGlvbiBleHBlY3RzIHotY29tcG9uZW50IHRvIGJlIGluIG1ldGVyc1xuICAgICAgICBjb25zdCBtZXRlcnNUb01lcmMgPSBtZXJjYXRvclpmcm9tQWx0aXR1ZGUoMS4wLCB0aGlzLl9jZW50ZXIubGF0KTtcbiAgICAgICAgc3RhcnRbMl0gLz0gbWV0ZXJzVG9NZXJjO1xuICAgICAgICBkaXJbMl0gLz0gbWV0ZXJzVG9NZXJjO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShkaXIsIGRpcik7XG5cbiAgICAgICAgY29uc3QgdCA9IGVsZXZhdGlvbi5yYXljYXN0KHN0YXJ0LCBkaXIsIGVsZXZhdGlvbi5leGFnZ2VyYXRpb24oKSk7XG5cbiAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gdmVjMy5zY2FsZUFuZEFkZChbXSwgc3RhcnQsIGRpciwgdCk7XG4gICAgICAgICAgICBjb25zdCBuZXdDZW50ZXIgPSBuZXcgTWVyY2F0b3JDb29yZGluYXRlKHBvaW50WzBdLCBwb2ludFsxXSwgbWVyY2F0b3JaZnJvbUFsdGl0dWRlKHBvaW50WzJdLCBsYXRGcm9tTWVyY2F0b3JZKHBvaW50WzFdKSkpO1xuXG4gICAgICAgICAgICBjb25zdCBjYW1Ub05ldyA9IFtuZXdDZW50ZXIueCAtIHN0YXJ0WzBdLCBuZXdDZW50ZXIueSAtIHN0YXJ0WzFdLCBuZXdDZW50ZXIueiAtIHN0YXJ0WzJdICogbWV0ZXJzVG9NZXJjXTtcbiAgICAgICAgICAgIGNvbnN0IG1heEFsdGl0dWRlID0gKG5ld0NlbnRlci56ICsgdmVjMy5sZW5ndGgoY2FtVG9OZXcpKSAqIHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7XG4gICAgICAgICAgICB0aGlzLl9zZWFMZXZlbFpvb20gPSB0aGlzLl96b29tRnJvbU1lcmNhdG9yWihtYXhBbHRpdHVkZSk7XG5cbiAgICAgICAgICAgIC8vIENhbWVyYSB6b29tIGhhcyB0byBiZSB1cGRhdGVkIGFzIHRoZSBvcmJpdCBkaXN0YW5jZSBtaWdodCBoYXZlIGNoYW5nZWRcbiAgICAgICAgICAgIHRoaXMuX2NlbnRlckFsdGl0dWRlID0gbmV3Q2VudGVyLnRvQWx0aXR1ZGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2NlbnRlciA9IHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKG5ld0NlbnRlcik7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVab29tRnJvbUVsZXZhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5fY29uc3RyYWluKCk7XG4gICAgICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jb25zdHJhaW5DYW1lcmEoYWRhcHRDYW1lcmFBbHRpdHVkZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxldmF0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGVsZXZhdGlvbjogRWxldmF0aW9uID0gdGhpcy5fZWxldmF0aW9uO1xuXG4gICAgICAgIC8vIEZpbmQgdW5jb21wZW5zYXRlZCBjYW1lcmEgcG9zaXRpb24gZm9yIGVsZXZhdGlvbiBzYW1wbGluZy5cbiAgICAgICAgLy8gVGhlIGRlZmF1bHQgY2FtZXJhIHBvc2l0aW9uIG1pZ2h0IGhhdmUgYmVlbiBjb21wZW5zYXRlZCBieSB0aGUgYWN0aXZlIHByb2plY3Rpb24gbW9kZWwuXG4gICAgICAgIGNvbnN0IG1lcmNQaXhlbHNQZXJNZXRlciA9IG1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLCB0aGlzLl9jZW50ZXIubGF0KSAqIHRoaXMud29ybGRTaXplO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9jb21wdXRlQ2FtZXJhUG9zaXRpb24obWVyY1BpeGVsc1Blck1ldGVyKTtcbiAgICAgICAgY29uc3QgZWxldmF0aW9uQXRDYW1lcmEgPSBlbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhuZXcgTWVyY2F0b3JDb29yZGluYXRlKC4uLnBvcykpO1xuICAgICAgICBjb25zdCB0ZXJyYWluRWxldmF0aW9uID0gdGhpcy5waXhlbHNQZXJNZXRlciAvIHRoaXMud29ybGRTaXplICogZWxldmF0aW9uQXRDYW1lcmE7XG4gICAgICAgIGNvbnN0IG1pbkhlaWdodCA9IHRoaXMuX21pbmltdW1IZWlnaHRPdmVyVGVycmFpbigpO1xuICAgICAgICBjb25zdCBjYW1lcmFIZWlnaHQgPSBwb3NbMl0gLSB0ZXJyYWluRWxldmF0aW9uO1xuXG4gICAgICAgIGlmIChjYW1lcmFIZWlnaHQgPD0gbWluSGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAoY2FtZXJhSGVpZ2h0IDwgMCB8fCBhZGFwdENhbWVyYUFsdGl0dWRlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5fY2VudGVyLCB0aGlzLl9jZW50ZXJBbHRpdHVkZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FtZXJhVG9DZW50ZXIgPSBbcG9zWzBdLCBwb3NbMV0sIGNlbnRlci56IC0gcG9zWzJdXTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZEaXN0VG9DYW1lcmEgPSB2ZWMzLmxlbmd0aChjYW1lcmFUb0NlbnRlcik7XG4gICAgICAgICAgICAgICAgLy8gQWRqdXN0IHRoZSBjYW1lcmEgdmVjdG9yIHNvIHRoYXQgdGhlIGNhbWVyYSBpcyBwbGFjZWQgYWJvdmUgdGhlIHRlcnJhaW4uXG4gICAgICAgICAgICAgICAgLy8gRGlzdGFuY2UgYmV0d2VlbiB0aGUgY2FtZXJhIGFuZCB0aGUgY2VudGVyIHBvaW50IGlzIGtlcHQgY29uc3RhbnQuXG4gICAgICAgICAgICAgICAgY2FtZXJhVG9DZW50ZXJbMl0gLT0gKG1pbkhlaWdodCAtIGNhbWVyYUhlaWdodCkgLyB0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Rpc3RUb0NhbWVyYSA9IHZlYzMubGVuZ3RoKGNhbWVyYVRvQ2VudGVyKTtcblxuICAgICAgICAgICAgICAgIGlmIChuZXdEaXN0VG9DYW1lcmEgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHZlYzMuc2NhbGUoY2FtZXJhVG9DZW50ZXIsIGNhbWVyYVRvQ2VudGVyLCBwcmV2RGlzdFRvQ2FtZXJhIC8gbmV3RGlzdFRvQ2FtZXJhICogdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhLnBvc2l0aW9uID0gW3Bvc1swXSwgcG9zWzFdLCBjZW50ZXIueiAqIHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwgLSBjYW1lcmFUb0NlbnRlclsyXV07XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQ2FtZXJhQ29uc3RyYWluZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NvbnN0cmFpbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNlbnRlciB8fCAhdGhpcy53aWR0aCB8fCAhdGhpcy5oZWlnaHQgfHwgdGhpcy5fY29uc3RyYWluaW5nKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fY29uc3RyYWluaW5nID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgaXNHbG9iZSA9IHRoaXMucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnIHx8IHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbjtcblxuICAgICAgICAvLyBhbHRlcm5hdGUgY29uc3RyYWluaW5nIGZvciBub24tTWVyY2F0b3IgcHJvamVjdGlvbnNcbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UgfHwgaXNHbG9iZSkge1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXI7XG4gICAgICAgICAgICBjZW50ZXIubGF0ID0gY2xhbXAoY2VudGVyLmxhdCwgdGhpcy5taW5MYXQsIHRoaXMubWF4TGF0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heEJvdW5kcyB8fCAhKHRoaXMucmVuZGVyV29ybGRDb3BpZXMgfHwgaXNHbG9iZSkpIGNlbnRlci5sbmcgPSBjbGFtcChjZW50ZXIubG5nLCB0aGlzLm1pbkxuZywgdGhpcy5tYXhMbmcpO1xuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgICAgICB0aGlzLl9jb25zdHJhaW5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVubW9kaWZpZWQgPSB0aGlzLl91bm1vZGlmaWVkO1xuICAgICAgICBjb25zdCB7eCwgeX0gPSB0aGlzLnBvaW50O1xuICAgICAgICBsZXQgcyA9IDA7XG4gICAgICAgIGxldCB4MiA9IHg7XG4gICAgICAgIGxldCB5MiA9IHk7XG4gICAgICAgIGNvbnN0IHcyID0gdGhpcy53aWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGgyID0gdGhpcy5oZWlnaHQgLyAyO1xuXG4gICAgICAgIGNvbnN0IG1pblkgPSB0aGlzLndvcmxkTWluWSAqIHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IG1heFkgPSB0aGlzLndvcmxkTWF4WSAqIHRoaXMuc2NhbGU7XG4gICAgICAgIGlmICh5IC0gaDIgPCBtaW5ZKSB5MiA9IG1pblkgKyBoMjtcbiAgICAgICAgaWYgKHkgKyBoMiA+IG1heFkpIHkyID0gbWF4WSAtIGgyO1xuICAgICAgICBpZiAobWF4WSAtIG1pblkgPCB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgcyA9IE1hdGgubWF4KHMsIHRoaXMuaGVpZ2h0IC8gKG1heFkgLSBtaW5ZKSk7XG4gICAgICAgICAgICB5MiA9IChtYXhZICsgbWluWSkgLyAyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubWF4Qm91bmRzIHx8ICF0aGlzLl9yZW5kZXJXb3JsZENvcGllcyB8fCAhdGhpcy5wcm9qZWN0aW9uLndyYXApIHtcbiAgICAgICAgICAgIGNvbnN0IG1pblggPSB0aGlzLndvcmxkTWluWCAqIHRoaXMuc2NhbGU7XG4gICAgICAgICAgICBjb25zdCBtYXhYID0gdGhpcy53b3JsZE1heFggKiB0aGlzLnNjYWxlO1xuXG4gICAgICAgICAgICAvLyBUcmFuc2xhdGUgdG8gcG9zaXRpdmUgcG9zaXRpb25zIHdpdGggdGhlIG1hcCBjZW50ZXIgaW4gdGhlIGNlbnRlciBwb3NpdGlvbi5cbiAgICAgICAgICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0IHRoZSBtYXAgc25hcHMgdG8gdGhlIGNvcnJlY3QgZWRnZS5cbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ID0gdGhpcy53b3JsZFNpemUgLyAyIC0gKG1pblggKyBtYXhYKSAvIDI7XG4gICAgICAgICAgICB4MiA9ICh4ICsgc2hpZnQgKyB0aGlzLndvcmxkU2l6ZSkgJSB0aGlzLndvcmxkU2l6ZSAtIHNoaWZ0O1xuXG4gICAgICAgICAgICBpZiAoeDIgLSB3MiA8IG1pblgpIHgyID0gbWluWCArIHcyO1xuICAgICAgICAgICAgaWYgKHgyICsgdzIgPiBtYXhYKSB4MiA9IG1heFggLSB3MjtcbiAgICAgICAgICAgIGlmIChtYXhYIC0gbWluWCA8IHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgICAgICBzID0gTWF0aC5tYXgocywgdGhpcy53aWR0aCAvIChtYXhYIC0gbWluWCkpO1xuICAgICAgICAgICAgICAgIHgyID0gKG1heFggKyBtaW5YKSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeDIgIT09IHggfHwgeTIgIT09IHkpIHsgLy8gcGFuIHRoZSBtYXAgdG8gZml0IHRoZSByYW5nZVxuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSB0aGlzLnVucHJvamVjdChuZXcgUG9pbnQoeDIsIHkyKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMpIHsgLy8gc2NhbGUgdGhlIG1hcCB0byBmaXQgdGhlIHJhbmdlXG4gICAgICAgICAgICB0aGlzLnpvb20gKz0gdGhpcy5zY2FsZVpvb20ocyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb25zdHJhaW5DYW1lcmEoKTtcbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IHVubW9kaWZpZWQ7XG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1pbmltdW0gem9vbSBhdCB3aGljaCBgdGhpcy53aWR0aGAgY2FuIGZpdCBtYXggbG9uZ2l0dWRlIHJhbmdlXG4gICAgICogYW5kIGB0aGlzLmhlaWdodGAgY2FuIGZpdCBtYXggbGF0aXR1ZGUgcmFuZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgem9vbSB2YWx1ZS5cbiAgICAgKi9cbiAgICBfbWluWm9vbUZvckJvdW5kcygpOiBudW1iZXIge1xuICAgICAgICBsZXQgbWluWm9vbSA9IE1hdGgubWF4KDAsIHRoaXMuc2NhbGVab29tKHRoaXMuaGVpZ2h0IC8gKHRoaXMud29ybGRNYXhZIC0gdGhpcy53b3JsZE1pblkpKSk7XG4gICAgICAgIGlmICh0aGlzLm1heEJvdW5kcykge1xuICAgICAgICAgICAgbWluWm9vbSA9IE1hdGgubWF4KG1pblpvb20sIHRoaXMuc2NhbGVab29tKHRoaXMud2lkdGggLyAodGhpcy53b3JsZE1heFggLSB0aGlzLndvcmxkTWluWCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluWm9vbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXhpbXVtIGRpc3RhbmNlIG9mIHRoZSBjYW1lcmEgZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBib3VuZHMsIHN1Y2ggdGhhdFxuICAgICAqIGB0aGlzLndpZHRoYCBjYW4gZml0IG1heCBsb25naXR1ZGUgcmFuZ2UgYW5kIGB0aGlzLmhlaWdodGAgY2FuIGZpdCBtYXggbGF0aXR1ZGUgcmFuZ2UuXG4gICAgICogSW4gbWVyY2F0b3IgdW5pdHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgbWVyY2F0b3IgeiBjb29yZGluYXRlLlxuICAgICAqL1xuICAgIF9tYXhDYW1lcmFCb3VuZHNEaXN0YW5jZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWluWm9vbUZvckJvdW5kcygpKTtcbiAgICB9XG5cbiAgICBfY2FsY01hdHJpY2VzKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGVpZ2h0KSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5jZW50ZXJPZmZzZXQ7XG5cbiAgICAgICAgLy8gWi1heGlzIHVzZXMgcGl4ZWwgY29vcmRpbmF0ZXMgd2hlbiBnbG9iZSBtb2RlIGlzIGVuYWJsZWRcbiAgICAgICAgY29uc3QgcGl4ZWxzUGVyTWV0ZXIgPSB0aGlzLnBpeGVsc1Blck1ldGVyO1xuXG4gICAgICAgIGlmICh0aGlzLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICAgICAgdGhpcy5fbWVyY2F0b3JTY2FsZVJhdGlvID0gbWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsIHRoaXMuY2VudGVyLmxhdCkgLyBtZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSwgR0xPQkVfU0NBTEVfTUFUQ0hfTEFUSVRVREUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJvamVjdGlvblQgPSBnZXRQcm9qZWN0aW9uSW50ZXJwb2xhdGlvblQodGhpcy5wcm9qZWN0aW9uLCB0aGlzLnpvb20sIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAxMDI0KTtcblxuICAgICAgICAvLyAndGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCcgaXMgdGhlIHJhdGlvIGJldHdlZW4gcGl4ZWxzUGVyTWV0ZXIgaW4gdGhlIGN1cnJlbnQgcHJvamVjdGlvbiByZWxhdGl2ZSB0byBNZXJjYXRvci5cbiAgICAgICAgLy8gVGhpcyBpcyB1c2VmdWwgZm9yIGNvbnZlcnRpbmcgZS5nLiBjYW1lcmEgcG9zaXRpb24gYmV0d2VlbiBwaXhlbCBzcGFjZXMgYXMgc29tZSBsb2dpY1xuICAgICAgICAvLyBzdWNoIGFzIHJheWNhc3RpbmcgZXhwZWN0cyB0aGUgc2NhbGUgdG8gYmUgaW4gbWVyY2F0b3IgcGl4ZWxzXG4gICAgICAgIHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwgPSB0aGlzLnByb2plY3Rpb24ucGl4ZWxTcGFjZUNvbnZlcnNpb24odGhpcy5jZW50ZXIubGF0LCB0aGlzLndvcmxkU2l6ZSwgcHJvamVjdGlvblQpO1xuXG4gICAgICAgIHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSA9IDAuNSAvIE1hdGgudGFuKHRoaXMuX2ZvdiAqIDAuNSkgKiB0aGlzLmhlaWdodCAqIHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtcblxuICAgICAgICB0aGlzLl9mYXJaID0gdGhpcy5wcm9qZWN0aW9uLmZhcnRoZXN0UGl4ZWxEaXN0YW5jZSh0aGlzKTtcblxuICAgICAgICAvLyBUaGUgbGFyZ2VyIHRoZSB2YWx1ZSBvZiBuZWFyWiBpc1xuICAgICAgICAvLyAtIHRoZSBtb3JlIGRlcHRoIHByZWNpc2lvbiBpcyBhdmFpbGFibGUgZm9yIGZlYXR1cmVzIChnb29kKVxuICAgICAgICAvLyAtIGNsaXBwaW5nIHN0YXJ0cyBhcHBlYXJpbmcgc29vbmVyIHdoZW4gdGhlIGNhbWVyYSBpcyBjbG9zZSB0byAzZCBmZWF0dXJlcyAoYmFkKVxuICAgICAgICAvL1xuICAgICAgICAvLyBTbWFsbGVyIHZhbHVlcyB3b3JrZWQgd2VsbCBmb3IgbWFwYm94LWdsLWpzIGJ1dCBkZWNrZ2wgd2FzIGVuY291bnRlcmluZyBwcmVjaXNpb24gaXNzdWVzXG4gICAgICAgIC8vIHdoZW4gcmVuZGVyaW5nIGl0J3MgbGF5ZXJzIHVzaW5nIGN1c3RvbSBsYXllcnMuIFRoaXMgdmFsdWUgd2FzIGV4cGVyaW1lbnRhbGx5IGNob3NlbiBhbmRcbiAgICAgICAgLy8gc2VlbXMgdG8gc29sdmUgei1maWdodGluZyBpc3N1ZXMgaW4gZGVja2dsIHdoaWxlIG5vdCBjbGlwcGluZyBidWlsZGluZ3MgdG9vIGNsb3NlIHRvIHRoZSBjYW1lcmEuXG4gICAgICAgIHRoaXMuX25lYXJaID0gdGhpcy5oZWlnaHQgLyA1MDtcblxuICAgICAgICBjb25zdCB6VW5pdCA9IHRoaXMucHJvamVjdGlvbi56QXhpc1VuaXQgPT09IFwibWV0ZXJzXCIgPyBwaXhlbHNQZXJNZXRlciA6IDEuMDtcbiAgICAgICAgY29uc3Qgd29ybGRUb0NhbWVyYSA9IHRoaXMuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhKHRoaXMud29ybGRTaXplLCB6VW5pdCk7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRvQ2xpcCA9IHRoaXMuX2NhbWVyYS5nZXRDYW1lcmFUb0NsaXBQZXJzcGVjdGl2ZSh0aGlzLl9mb3YsIHRoaXMud2lkdGggLyB0aGlzLmhlaWdodCwgdGhpcy5fbmVhclosIHRoaXMuX2ZhclopO1xuXG4gICAgICAgIC8vIEFwcGx5IGNlbnRlciBvZiBwZXJzcGVjdGl2ZSBvZmZzZXRcbiAgICAgICAgY2FtZXJhVG9DbGlwWzhdID0gLW9mZnNldC54ICogMiAvIHRoaXMud2lkdGg7XG4gICAgICAgIGNhbWVyYVRvQ2xpcFs5XSA9IG9mZnNldC55ICogMiAvIHRoaXMuaGVpZ2h0O1xuXG4gICAgICAgIGxldCBtOiBBcnJheTxudW1iZXI+IHwgRmxvYXQzMkFycmF5IHwgRmxvYXQ2NEFycmF5ID0gbWF0NC5tdWwoW10sIGNhbWVyYVRvQ2xpcCwgd29ybGRUb0NhbWVyYSk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UpIHtcbiAgICAgICAgICAgIC8vIFByb2plY3Rpb25zIHVuZGlzdG9ydCBhcyB5b3Ugem9vbSBpbiAoc2hlYXIsIHNjYWxlLCByb3RhdGUpLlxuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIHVuZGlzdG9ydGlvbiBhcm91bmQgdGhlIGNlbnRlciBvZiB0aGUgbWFwLlxuICAgICAgICAgICAgY29uc3QgbWMgPSB0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLmNlbnRlcik7XG4gICAgICAgICAgICBjb25zdCBhZGp1c3RtZW50cyA9IG1hdDQuaWRlbnRpdHkoW10pO1xuICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUoYWRqdXN0bWVudHMsIGFkanVzdG1lbnRzLCBbbWMueCAqIHRoaXMud29ybGRTaXplLCBtYy55ICogdGhpcy53b3JsZFNpemUsIDBdKTtcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHkoYWRqdXN0bWVudHMsIGFkanVzdG1lbnRzLCBnZXRQcm9qZWN0aW9uQWRqdXN0bWVudHModGhpcykpO1xuICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUoYWRqdXN0bWVudHMsIGFkanVzdG1lbnRzLCBbLW1jLnggKiB0aGlzLndvcmxkU2l6ZSwgLW1jLnkgKiB0aGlzLndvcmxkU2l6ZSwgMF0pO1xuICAgICAgICAgICAgbWF0NC5tdWx0aXBseShtLCBtLCBhZGp1c3RtZW50cyk7XG4gICAgICAgICAgICB0aGlzLmludmVyc2VBZGp1c3RtZW50TWF0cml4ID0gZ2V0UHJvamVjdGlvbkFkanVzdG1lbnRJbnZlcnRlZCh0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW52ZXJzZUFkanVzdG1lbnRNYXRyaXggPSBbMSwgMCwgMCwgMV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgbWVyY2F0b3JNYXRyaXggY2FuIGJlIHVzZWQgdG8gdHJhbnNmb3JtIHBvaW50cyBmcm9tIG1lcmNhdG9yIGNvb3JkaW5hdGVzXG4gICAgICAgIC8vIChbMCwgMF0gbncsIFsxLCAxXSBzZSkgdG8gR0wgY29vcmRpbmF0ZXMuIC8gelVuaXQgY29tcGVuc2F0ZXMgZm9yIHNjYWxpbmcgZG9uZSBpbiB3b3JsZFRvQ2FtZXJhLlxuICAgICAgICB0aGlzLm1lcmNhdG9yTWF0cml4ID0gbWF0NC5zY2FsZShbXSwgbSwgW3RoaXMud29ybGRTaXplLCB0aGlzLndvcmxkU2l6ZSwgdGhpcy53b3JsZFNpemUgLyB6VW5pdCwgMS4wXSk7XG5cbiAgICAgICAgdGhpcy5wcm9qTWF0cml4ID0gbTtcblxuICAgICAgICAvLyBGb3IgdGlsZSBjb3ZlciBjYWxjdWxhdGlvbiwgdXNlIGludmVydGVkIG9mIGJhc2UgKG5vbiBlbGV2YXRlZCkgbWF0cml4XG4gICAgICAgIC8vIGFzIHRpbGUgZWxldmF0aW9ucyBhcmUgaW4gdGlsZSBjb29yZGluYXRlcyBhbmQgcmVsYXRpdmUgdG8gY2VudGVyIGVsZXZhdGlvbi5cbiAgICAgICAgdGhpcy5pbnZQcm9qTWF0cml4ID0gbWF0NC5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksIHRoaXMucHJvak1hdHJpeCk7XG5cbiAgICAgICAgY29uc3QgY2xpcFRvQ2FtZXJhID0gbWF0NC5pbnZlcnQoW10sIGNhbWVyYVRvQ2xpcCk7XG4gICAgICAgIHRoaXMuZnJ1c3R1bUNvcm5lcnMgPSBGcnVzdHVtQ29ybmVycy5mcm9tSW52UHJvamVjdGlvbk1hdHJpeChjbGlwVG9DYW1lcmEsIHRoaXMuaG9yaXpvbkxpbmVGcm9tVG9wKCksIHRoaXMuaGVpZ2h0KTtcblxuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XG4gICAgICAgIG1hdDQuaWRlbnRpdHkodmlldyk7XG4gICAgICAgIG1hdDQuc2NhbGUodmlldywgdmlldywgWzEsIC0xLCAxXSk7XG4gICAgICAgIG1hdDQucm90YXRlWCh2aWV3LCB2aWV3LCB0aGlzLl9waXRjaCk7XG4gICAgICAgIG1hdDQucm90YXRlWih2aWV3LCB2aWV3LCB0aGlzLmFuZ2xlKTtcblxuICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gbWF0NC5wZXJzcGVjdGl2ZShuZXcgRmxvYXQzMkFycmF5KDE2KSwgdGhpcy5fZm92LCB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQsIHRoaXMuX25lYXJaLCB0aGlzLl9mYXJaKTtcbiAgICAgICAgLy8gVGhlIGRpc3RhbmNlIGluIHBpeGVscyB0aGUgc2t5Ym94IG5lZWRzIHRvIGJlIHNoaWZ0ZWQgZG93biBieSB0byBtZWV0IHRoZSBzaGlmdGVkIGhvcml6b24uXG4gICAgICAgIGNvbnN0IHNreWJveEhvcml6b25TaGlmdCA9IChNYXRoLlBJIC8gMiAtIHRoaXMuX3BpdGNoKSAqICh0aGlzLmhlaWdodCAvIHRoaXMuX2ZvdikgKiB0aGlzLl9ob3Jpem9uU2hpZnQ7XG4gICAgICAgIC8vIEFwcGx5IGNlbnRlciBvZiBwZXJzcGVjdGl2ZSBvZmZzZXQgdG8gc2t5Ym94IHByb2plY3Rpb25cbiAgICAgICAgcHJvamVjdGlvbls4XSA9IC1vZmZzZXQueCAqIDIgLyB0aGlzLndpZHRoO1xuICAgICAgICBwcm9qZWN0aW9uWzldID0gKG9mZnNldC55ICsgc2t5Ym94SG9yaXpvblNoaWZ0KSAqIDIgLyB0aGlzLmhlaWdodDtcbiAgICAgICAgdGhpcy5za3lib3hNYXRyaXggPSBtYXQ0Lm11bHRpcGx5KHZpZXcsIHByb2plY3Rpb24sIHZpZXcpO1xuXG4gICAgICAgIC8vIE1ha2UgYSBzZWNvbmQgcHJvamVjdGlvbiBtYXRyaXggdGhhdCBpcyBhbGlnbmVkIHRvIGEgcGl4ZWwgZ3JpZCBmb3IgcmVuZGVyaW5nIHJhc3RlciB0aWxlcy5cbiAgICAgICAgLy8gV2UncmUgcm91bmRpbmcgdGhlIChmbG9hdGluZyBwb2ludCkgeC95IHZhbHVlcyB0byBhY2hpZXZlIHRvIGF2b2lkIHJlbmRlcmluZyByYXN0ZXIgaW1hZ2VzIHRvIGZyYWN0aW9uYWxcbiAgICAgICAgLy8gY29vcmRpbmF0ZXMuIEFkZGl0aW9uYWxseSwgd2UgYWRqdXN0IGJ5IGhhbGYgYSBwaXhlbCBpbiBlaXRoZXIgZGlyZWN0aW9uIGluIGNhc2UgdGhhdCB2aWV3cG9ydCBkaW1lbnNpb25cbiAgICAgICAgLy8gaXMgYW4gb2RkIGludGVnZXIgdG8gcHJlc2VydmUgcmVuZGVyaW5nIHRvIHRoZSBwaXhlbCBncmlkLiBXZSdyZSByb3RhdGluZyB0aGlzIHNoaWZ0IGJhc2VkIG9uIHRoZSBhbmdsZVxuICAgICAgICAvLyBvZiB0aGUgdHJhbnNmb3JtYXRpb24gc28gdGhhdCAwwrAsIDkwwrAsIDE4MMKwLCBhbmQgMjcwwrAgcmFzdGVycyBhcmUgY3Jpc3AsIGFuZCBhZGp1c3QgdGhlIHNoaWZ0IHNvIHRoYXRcbiAgICAgICAgLy8gaXQgaXMgYWx3YXlzIDw9IDAuNSBwaXhlbHMuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gdGhpcy5wb2ludDtcbiAgICAgICAgY29uc3QgeCA9IHBvaW50LngsIHkgPSBwb2ludC55O1xuICAgICAgICBjb25zdCB4U2hpZnQgPSAodGhpcy53aWR0aCAlIDIpIC8gMiwgeVNoaWZ0ID0gKHRoaXMuaGVpZ2h0ICUgMikgLyAyLFxuICAgICAgICAgICAgYW5nbGVDb3MgPSBNYXRoLmNvcyh0aGlzLmFuZ2xlKSwgYW5nbGVTaW4gPSBNYXRoLnNpbih0aGlzLmFuZ2xlKSxcbiAgICAgICAgICAgIGR4ID0geCAtIE1hdGgucm91bmQoeCkgKyBhbmdsZUNvcyAqIHhTaGlmdCArIGFuZ2xlU2luICogeVNoaWZ0LFxuICAgICAgICAgICAgZHkgPSB5IC0gTWF0aC5yb3VuZCh5KSArIGFuZ2xlQ29zICogeVNoaWZ0ICsgYW5nbGVTaW4gKiB4U2hpZnQ7XG4gICAgICAgIGNvbnN0IGFsaWduZWRNID0gbmV3IEZsb2F0NjRBcnJheShtKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUoYWxpZ25lZE0sIGFsaWduZWRNLCBbIGR4ID4gMC41ID8gZHggLSAxIDogZHgsIGR5ID4gMC41ID8gZHkgLSAxIDogZHksIDAgXSk7XG4gICAgICAgIHRoaXMuYWxpZ25lZFByb2pNYXRyaXggPSBhbGlnbmVkTTtcblxuICAgICAgICBtID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbdGhpcy53aWR0aCAvIDIsIC10aGlzLmhlaWdodCAvIDIsIDFdKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobSwgbSwgWzEsIC0xLCAwXSk7XG4gICAgICAgIHRoaXMubGFiZWxQbGFuZU1hdHJpeCA9IG07XG5cbiAgICAgICAgbSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG1hdDQuc2NhbGUobSwgbSwgWzEsIC0xLCAxXSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKG0sIG0sIFstMSwgLTEsIDBdKTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbMiAvIHRoaXMud2lkdGgsIDIgLyB0aGlzLmhlaWdodCwgMV0pO1xuICAgICAgICB0aGlzLmdsQ29vcmRNYXRyaXggPSBtO1xuXG4gICAgICAgIC8vIG1hdHJpeCBmb3IgY29udmVyc2lvbiBmcm9tIGxvY2F0aW9uIHRvIHNjcmVlbiBjb29yZGluYXRlc1xuICAgICAgICB0aGlzLnBpeGVsTWF0cml4ID0gbWF0NC5tdWx0aXBseShuZXcgRmxvYXQ2NEFycmF5KDE2KSwgdGhpcy5sYWJlbFBsYW5lTWF0cml4LCB0aGlzLnByb2pNYXRyaXgpO1xuXG4gICAgICAgIHRoaXMuX2NhbGNGb2dNYXRyaWNlcygpO1xuICAgICAgICB0aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGUgPSB7fTtcblxuICAgICAgICAvLyBpbnZlcnNlIG1hdHJpeCBmb3IgY29udmVyc2lvbiBmcm9tIHNjcmVlbiBjb29yZGluYXRlcyB0byBsb2NhdGlvblxuICAgICAgICBtID0gbWF0NC5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksIHRoaXMucGl4ZWxNYXRyaXgpO1xuICAgICAgICBpZiAoIW0pIHRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBpbnZlcnQgbWF0cml4XCIpO1xuICAgICAgICB0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSA9IG07XG5cbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnIHx8IHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5nbG9iZU1hdHJpeCA9IGNhbGN1bGF0ZUdsb2JlTWF0cml4KHRoaXMpO1xuXG4gICAgICAgICAgICBjb25zdCBnbG9iZUNlbnRlciA9IFt0aGlzLmdsb2JlTWF0cml4WzEyXSwgdGhpcy5nbG9iZU1hdHJpeFsxM10sIHRoaXMuZ2xvYmVNYXRyaXhbMTRdXTtcblxuICAgICAgICAgICAgdGhpcy5nbG9iZUNlbnRlckluVmlld1NwYWNlID0gdmVjMy50cmFuc2Zvcm1NYXQ0KGdsb2JlQ2VudGVyLCBnbG9iZUNlbnRlciwgd29ybGRUb0NhbWVyYSk7XG4gICAgICAgICAgICB0aGlzLmdsb2JlUmFkaXVzID0gdGhpcy53b3JsZFNpemUgLyAyLjAgLyBNYXRoLlBJIC0gMS4wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nbG9iZU1hdHJpeCA9IG07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcm9qTWF0cml4Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5fYWxpZ25lZFByb2pNYXRyaXhDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9waXhlbHNUb1RpbGVVbml0c0NhY2hlID0ge307XG4gICAgfVxuXG4gICAgX2NhbGNGb2dNYXRyaWNlcygpIHtcbiAgICAgICAgdGhpcy5fZm9nVGlsZU1hdHJpeENhY2hlID0ge307XG5cbiAgICAgICAgY29uc3QgY2FtZXJhV29ybGRTaXplRm9yRm9nID0gdGhpcy5jYW1lcmFXb3JsZFNpemVGb3JGb2c7XG4gICAgICAgIGNvbnN0IGNhbWVyYVBpeGVsc1Blck1ldGVyID0gdGhpcy5jYW1lcmFQaXhlbHNQZXJNZXRlcjtcbiAgICAgICAgY29uc3QgY2FtZXJhUG9zID0gdGhpcy5fY2FtZXJhLnBvc2l0aW9uO1xuXG4gICAgICAgIC8vIFRoZSBtZXJjYXRvciBmb2cgbWF0cml4IGVuY29kZXMgdHJhbnNmb3JtYXRpb24gbmVjZXNzYXJ5IHRvIHRyYW5zZm9ybSBhIHBvc2l0aW9uIHRvIGNhbWVyYSBmb2cgc3BhY2UgKGluIG1ldGVycyk6XG4gICAgICAgIC8vIHRyYW5zbGF0ZXMgcCB0byBjYW1lcmEgb3JpZ2luIGFuZCB0cmFuc2Zvcm1zIGl0IGZyb20gcGl4ZWxzIHRvIG1ldGVycy4gVGhlIHdpbmRvd1NjYWxlRmFjdG9yIGlzIHVzZWQgdG8gaGF2ZSBhXG4gICAgICAgIC8vIGNvbnNpc3RlbnQgdHJhbnNmb3JtYXRpb24gYWNyb3NzIGRpZmZlcmVudCB3aW5kb3cgc2l6ZXMuXG4gICAgICAgIC8vIC0gcCA9IHAgLSBjYW1lcmFPcmlnaW5cbiAgICAgICAgLy8gLSBwLnh5ID0gcC54eSAqIGNhbWVyYVdvcmxkU2l6ZUZvckZvZyAqIHdpbmRvd1NjYWxlRmFjdG9yXG4gICAgICAgIC8vIC0gcC56ICA9IHAueiAgKiBjYW1lcmFQaXhlbHNQZXJNZXRlciAqIHdpbmRvd1NjYWxlRmFjdG9yXG4gICAgICAgIGNvbnN0IHdpbmRvd1NjYWxlRmFjdG9yID0gMSAvIHRoaXMuaGVpZ2h0IC8gdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtcbiAgICAgICAgY29uc3QgbWV0ZXJzVG9QaXhlbCA9IFtjYW1lcmFXb3JsZFNpemVGb3JGb2csIGNhbWVyYVdvcmxkU2l6ZUZvckZvZywgY2FtZXJhUGl4ZWxzUGVyTWV0ZXJdO1xuICAgICAgICB2ZWMzLnNjYWxlKG1ldGVyc1RvUGl4ZWwsIG1ldGVyc1RvUGl4ZWwsIHdpbmRvd1NjYWxlRmFjdG9yKTtcbiAgICAgICAgdmVjMy5zY2FsZShjYW1lcmFQb3MsIGNhbWVyYVBvcywgLTEpO1xuICAgICAgICB2ZWMzLm11bHRpcGx5KGNhbWVyYVBvcywgY2FtZXJhUG9zLCBtZXRlcnNUb1BpeGVsKTtcblxuICAgICAgICBjb25zdCBtID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobSwgbSwgY2FtZXJhUG9zKTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBtZXRlcnNUb1BpeGVsKTtcbiAgICAgICAgdGhpcy5tZXJjYXRvckZvZ01hdHJpeCA9IG07XG5cbiAgICAgICAgLy8gVGhlIHdvcmxkVG9Gb2dNYXRyaXggY2FuIGJlIHVzZWQgZm9yIGNvbnZlcnNpb24gZnJvbSB3b3JsZCBjb29yZGluYXRlcyB0byByZWxhdGl2ZSBjYW1lcmEgcG9zaXRpb24gaW5cbiAgICAgICAgLy8gdW5pdHMgb2YgZnJhY3Rpb25zIG9mIHRoZSBtYXAgaGVpZ2h0LiBMYXRlciBjb21wb3NlZCB3aXRoIHRpbGUgcG9zaXRpb24gdG8gY29uc3RydWN0IHRoZSBmb2cgdGlsZSBtYXRyaXguXG4gICAgICAgIHRoaXMud29ybGRUb0ZvZ01hdHJpeCA9IHRoaXMuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhUG9zaXRpb24oY2FtZXJhV29ybGRTaXplRm9yRm9nLCBjYW1lcmFQaXhlbHNQZXJNZXRlciwgd2luZG93U2NhbGVGYWN0b3IpO1xuICAgIH1cblxuICAgIF9jb21wdXRlQ2FtZXJhUG9zaXRpb24odGFyZ2V0UGl4ZWxzUGVyTWV0ZXI6ID9udW1iZXIpOiBWZWMzIHtcbiAgICAgICAgdGFyZ2V0UGl4ZWxzUGVyTWV0ZXIgPSB0YXJnZXRQaXhlbHNQZXJNZXRlciB8fCB0aGlzLnBpeGVsc1Blck1ldGVyO1xuICAgICAgICBjb25zdCBwaXhlbFNwYWNlQ29udmVyc2lvbiA9IHRhcmdldFBpeGVsc1Blck1ldGVyIC8gdGhpcy5waXhlbHNQZXJNZXRlcjtcblxuICAgICAgICBjb25zdCBkaXIgPSB0aGlzLl9jYW1lcmEuZm9yd2FyZCgpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLnBvaW50O1xuXG4gICAgICAgIC8vIENvbXB1dGUgY2FtZXJhIHBvc2l0aW9uIHVzaW5nIHRoZSBmb2xsb3dpbmcgdmVjdG9yIG1hdGg6IGNhbWVyYS5wb3NpdGlvbiA9IG1hcC5jZW50ZXIgLSBjYW1lcmEuZm9yd2FyZCAqIGNhbWVyYVRvQ2VudGVyRGlzdFxuICAgICAgICAvLyBDYW1lcmEgZGlzdGFuY2UgdG8gdGhlIGNlbnRlciBjYW4gYmUgZm91bmQgaW4gbWVyY2F0b3IgdW5pdHMgYnkgc3VidHJhY3RpbmcgdGhlIGNlbnRlciBlbGV2YXRpb24gZnJvbVxuICAgICAgICAvLyBjYW1lcmEncyB6ZW5pdGggcG9zaXRpb24gKHdoaWNoIGNhbiBiZSBkZWR1Y2VkIGZyb20gdGhlIHpvb20gbGV2ZWwpXG4gICAgICAgIGNvbnN0IHpvb20gPSB0aGlzLl9zZWFMZXZlbFpvb20gPyB0aGlzLl9zZWFMZXZlbFpvb20gOiB0aGlzLl96b29tO1xuICAgICAgICBjb25zdCBhbHRpdHVkZSA9IHRoaXMuX21lcmNhdG9yWmZyb21ab29tKHpvb20pICogcGl4ZWxTcGFjZUNvbnZlcnNpb247XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gYWx0aXR1ZGUgLSB0YXJnZXRQaXhlbHNQZXJNZXRlciAvIHRoaXMud29ybGRTaXplICogdGhpcy5fY2VudGVyQWx0aXR1ZGU7XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGNlbnRlci54IC8gdGhpcy53b3JsZFNpemUgLSBkaXJbMF0gKiBkaXN0YW5jZSxcbiAgICAgICAgICAgIGNlbnRlci55IC8gdGhpcy53b3JsZFNpemUgLSBkaXJbMV0gKiBkaXN0YW5jZSxcbiAgICAgICAgICAgIHRhcmdldFBpeGVsc1Blck1ldGVyIC8gdGhpcy53b3JsZFNpemUgKiB0aGlzLl9jZW50ZXJBbHRpdHVkZSAtIGRpclsyXSAqIGRpc3RhbmNlXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgX3VwZGF0ZUNhbWVyYVN0YXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGVpZ2h0KSByZXR1cm47XG5cbiAgICAgICAgLy8gU2V0IGNhbWVyYSBvcmllbnRhdGlvbiBhbmQgbW92ZSBpdCB0byBhIHByb3BlciBkaXN0YW5jZSBmcm9tIHRoZSBtYXBcbiAgICAgICAgdGhpcy5fY2FtZXJhLnNldFBpdGNoQmVhcmluZyh0aGlzLl9waXRjaCwgdGhpcy5hbmdsZSk7XG4gICAgICAgIHRoaXMuX2NhbWVyYS5wb3NpdGlvbiA9IHRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgM2QgdHJhbnNsYXRpb24gdG8gdGhlIGNhbWVyYSBwb3NpdGlvbiwgYnV0IGNsYW1waW5nIGl0IHNvIHRoYXRcbiAgICAgKiBpdCByZXNwZWN0cyB0aGUgbWF4aW11bSBsb25naXR1ZGUgYW5kIGxhdGl0dWRlIHJhbmdlIHNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7dmVjM30gdHJhbnNsYXRpb24gVGhlIHRyYW5zbGF0aW9uIHZlY3Rvci5cbiAgICAgKi9cbiAgICBfdHJhbnNsYXRlQ2FtZXJhQ29uc3RyYWluZWQodHJhbnNsYXRpb246IFZlYzMpIHtcbiAgICAgICAgY29uc3QgbWF4RGlzdGFuY2UgPSB0aGlzLl9tYXhDYW1lcmFCb3VuZHNEaXN0YW5jZSgpO1xuICAgICAgICAvLyBEZWZpbmUgYSBjZWlsaW5nIGluIG1lcmNhdG9yIFpcbiAgICAgICAgY29uc3QgbWF4WiA9IG1heERpc3RhbmNlICogTWF0aC5jb3ModGhpcy5fcGl0Y2gpO1xuICAgICAgICBjb25zdCB6ID0gdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzJdO1xuICAgICAgICBjb25zdCBkZWx0YVogPSB0cmFuc2xhdGlvblsyXTtcbiAgICAgICAgbGV0IHQgPSAxO1xuXG4gICAgICAgIGlmICh0aGlzLnByb2plY3Rpb24ud3JhcCkgdGhpcy5jZW50ZXIgPSB0aGlzLmNlbnRlci53cmFwKCk7XG5cbiAgICAgICAgLy8gd2Ugb25seSBuZWVkIHRvIGNsYW1wIGlmIHRoZSBjYW1lcmEgaXMgbW92aW5nIHVwd2FyZHNcbiAgICAgICAgaWYgKGRlbHRhWiA+IDApIHtcbiAgICAgICAgICAgIHQgPSBNYXRoLm1pbigobWF4WiAtIHopIC8gZGVsdGFaLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NhbWVyYS5wb3NpdGlvbiA9IHZlYzMuc2NhbGVBbmRBZGQoW10sIHRoaXMuX2NhbWVyYS5wb3NpdGlvbiwgdHJhbnNsYXRpb24sIHQpO1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZUZyb21DYW1lcmEoKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX2NhbWVyYS5wb3NpdGlvbjtcbiAgICAgICAgY29uc3QgZGlyID0gdGhpcy5fY2FtZXJhLmZvcndhcmQoKTtcbiAgICAgICAgY29uc3Qge3BpdGNoLCBiZWFyaW5nfSA9IHRoaXMuX2NhbWVyYS5nZXRQaXRjaEJlYXJpbmcoKTtcblxuICAgICAgICAvLyBDb21wdXRlIHpvb20gZnJvbSB0aGUgZGlzdGFuY2UgYmV0d2VlbiBjYW1lcmEgYW5kIHRlcnJhaW5cbiAgICAgICAgY29uc3QgY2VudGVyQWx0aXR1ZGUgPSBtZXJjYXRvclpmcm9tQWx0aXR1ZGUodGhpcy5fY2VudGVyQWx0aXR1ZGUsIHRoaXMuY2VudGVyLmxhdCkgKiB0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsO1xuICAgICAgICBjb25zdCBtaW5IZWlnaHQgPSB0aGlzLl9tZXJjYXRvclpmcm9tWm9vbSh0aGlzLl9tYXhab29tKSAqIE1hdGguY29zKGRlZ1RvUmFkKHRoaXMuX21heFBpdGNoKSk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KChwb3NpdGlvblsyXSAtIGNlbnRlckFsdGl0dWRlKSAvIE1hdGguY29zKHBpdGNoKSwgbWluSGVpZ2h0KTtcbiAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKGhlaWdodCk7XG5cbiAgICAgICAgLy8gQ2FzdCBhIHJheSB0b3dhcmRzIHRoZSBncm91bmQgdG8gZmluZCB0aGUgY2VudGVyIHBvaW50XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQocG9zaXRpb24sIHBvc2l0aW9uLCBkaXIsIGhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5fcGl0Y2ggPSBjbGFtcChwaXRjaCwgZGVnVG9SYWQodGhpcy5taW5QaXRjaCksIGRlZ1RvUmFkKHRoaXMubWF4UGl0Y2gpKTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IHdyYXAoYmVhcmluZywgLU1hdGguUEksIE1hdGguUEkpO1xuICAgICAgICB0aGlzLl9zZXRab29tKGNsYW1wKHpvb20sIHRoaXMuX21pblpvb20sIHRoaXMuX21heFpvb20pKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2VhTGV2ZWxab29tKCk7XG5cbiAgICAgICAgdGhpcy5fY2VudGVyID0gdGhpcy5jb29yZGluYXRlTG9jYXRpb24obmV3IE1lcmNhdG9yQ29vcmRpbmF0ZShwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKSk7XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29uc3RyYWluKCk7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgIH1cblxuICAgIF93b3JsZFNpemVGcm9tWm9vbSh6b29tOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5wb3coMi4wLCB6b29tKSAqIHRoaXMudGlsZVNpemU7XG4gICAgfVxuXG4gICAgX21lcmNhdG9yWmZyb21ab29tKHpvb206IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgLyB0aGlzLl93b3JsZFNpemVGcm9tWm9vbSh6b29tKTtcbiAgICB9XG5cbiAgICBfbWluaW11bUhlaWdodE92ZXJUZXJyYWluKCk6IG51bWJlciB7XG4gICAgICAgIC8vIERldGVybWluZSBtaW5pbXVtIGhlaWdodCBmb3IgdGhlIGNhbWVyYSBvdmVyIHRoZSB0ZXJyYWluIHJlbGF0ZWQgdG8gY3VycmVudCB6b29tLlxuICAgICAgICAvLyBWYWx1ZXMgYWJvdmUgNCBhbGxvdyBjYW1lcmEgY2xvc2VyIHRvIGUuZy4gdG9wIG9mIHRoZSBoaWxsLCBleHBvc2luZ1xuICAgICAgICAvLyBkcmFwZSByYXN0ZXIgb3ZlcnNjYWxlIGFydGlmYWN0cyBvciBjdXQgdGVycmFpbiAoc2VlIHVuZGVyIGl0KSBhcyBpdCBnZXRzIGNsaXBwZWQgb25cbiAgICAgICAgLy8gbmVhciBwbGFuZS4gUmV0dXJuZWQgdmFsdWUgaXMgaW4gbWVyY2F0b3IgY29vcmRpbmF0ZXMuXG4gICAgICAgIGNvbnN0IE1BWF9EUkFQRV9PVkVSWk9PTSA9IDQ7XG4gICAgICAgIGNvbnN0IHpvb20gPSBNYXRoLm1pbigodGhpcy5fc2VhTGV2ZWxab29tICE9IG51bGwgPyB0aGlzLl9zZWFMZXZlbFpvb20gOiB0aGlzLl96b29tKSArIE1BWF9EUkFQRV9PVkVSWk9PTSwgdGhpcy5fbWF4Wm9vbSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJjYXRvclpmcm9tWm9vbSh6b29tKTtcbiAgICB9XG5cbiAgICBfem9vbUZyb21NZXJjYXRvclooejogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVab29tKHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSAvICh6ICogdGhpcy50aWxlU2l6ZSkpO1xuICAgIH1cblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgaGVscGZ1bCB0byBhcHByb3hpbWF0ZSB0cnVlIHpvb20gZ2l2ZW4gYSBtZXJjYXRvciBoZWlnaHQgd2l0aCB2YXJ5aW5nIHBwbS5cbiAgICAvLyBXaXRoIEdsb2JlLCBzaW5jZSB3ZSB1c2UgYSBmaXhlZCByZWZlcmVuY2UgbGF0aXR1ZGUgYXQgbG93ZXIgem9vbSBsZXZlbHMgYW5kIHRyYW5zaXRpb24gYmV0d2VlbiB0aGlzXG4gICAgLy8gbGF0aXR1ZGUgYW5kIHRoZSBjZW50ZXIncyBsYXRpdHVkZSBhcyB5b3Ugem9vbSBpbiwgY2FtZXJhIHRvIGNlbnRlciBkaXN0YW5jZSB2YXJpZXMgZHluYW1pY2FsbHkuXG4gICAgLy8gQXMgdGhlIGNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgaXMgYSBmdW5jdGlvbiBvZiB6b29tLCB3ZSBuZWVkIHRvIGFwcHJveGltYXRlIHRoZSB0cnVlIHpvb21cbiAgICAvLyBnaXZlbiBhIG1lcmNhdG9yIG1ldGVyIHZhbHVlIGluIG9yZGVyIHRvIGVsaW1pbmF0ZSB0aGUgem9vbS9jYW1lcmFUb0NlbnRlckRpc3RhbmNlIGRlcGVuZGVuY3kuXG4gICAgem9vbUZyb21NZXJjYXRvclpBZGp1c3RlZChtZXJjYXRvclo6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGFzc2VydCh0aGlzLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJyk7XG4gICAgICAgIGFzc2VydChtZXJjYXRvclogIT09IDApO1xuXG4gICAgICAgIGxldCB6b29tTG93ID0gMDtcbiAgICAgICAgbGV0IHpvb21IaWdoID0gR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYO1xuICAgICAgICBsZXQgem9vbSA9IDA7XG4gICAgICAgIGxldCBtaW5ab29tRGlmZiA9IEluZmluaXR5O1xuXG4gICAgICAgIGNvbnN0IGVwc2lsb24gPSAxZS02O1xuXG4gICAgICAgIHdoaWxlICh6b29tSGlnaCAtIHpvb21Mb3cgPiBlcHNpbG9uICYmIHpvb21IaWdoID4gem9vbUxvdykge1xuICAgICAgICAgICAgY29uc3Qgem9vbU1pZCA9IHpvb21Mb3cgKyAoem9vbUhpZ2ggLSB6b29tTG93KSAqIDAuNTtcblxuICAgICAgICAgICAgY29uc3Qgd29ybGRTaXplID0gdGhpcy50aWxlU2l6ZSAqIE1hdGgucG93KDIsIHpvb21NaWQpO1xuICAgICAgICAgICAgY29uc3QgZCA9IHRoaXMuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZSh0aGlzLnByb2plY3Rpb24sIHpvb21NaWQsIHdvcmxkU2l6ZSk7XG4gICAgICAgICAgICBjb25zdCBuZXdab29tID0gdGhpcy5zY2FsZVpvb20oZCAvIChtZXJjYXRvclogKiB0aGlzLnRpbGVTaXplKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBNYXRoLmFicyh6b29tTWlkIC0gbmV3Wm9vbSk7XG5cbiAgICAgICAgICAgIGlmIChkaWZmIDwgbWluWm9vbURpZmYpIHtcbiAgICAgICAgICAgICAgICBtaW5ab29tRGlmZiA9IGRpZmY7XG4gICAgICAgICAgICAgICAgem9vbSA9IHpvb21NaWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh6b29tTWlkIDwgbmV3Wm9vbSkge1xuICAgICAgICAgICAgICAgIHpvb21Mb3cgPSB6b29tTWlkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB6b29tSGlnaCA9IHpvb21NaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gem9vbTtcbiAgICB9XG5cbiAgICBfdGVycmFpbkVuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghdGhpcy5fZWxldmF0aW9uKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy5wcm9qZWN0aW9uLnN1cHBvcnRzVGVycmFpbikge1xuICAgICAgICAgICAgd2Fybk9uY2UoJ1RlcnJhaW4gaXMgbm90IHlldCBzdXBwb3J0ZWQgd2l0aCBhbHRlcm5hdGUgcHJvamVjdGlvbnMuIFVzZSBtZXJjYXRvciBvciBnbG9iZSB0byBlbmFibGUgdGVycmFpbi4nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBhbnkgb2YgdGhlIGZvdXIgY29ybmVycyBhcmUgb2ZmIHRoZSBlZGdlIG9mIHRoZSByZW5kZXJlZCBtYXBcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGBmYWxzZWAgZm9yIGFsbCBub24tbWVyY2F0b3IgcHJvamVjdGlvblxuICAgIGFueUNvcm5lck9mZkVkZ2UocDA6IFBvaW50LCBwMTogUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgbWluWCA9IE1hdGgubWluKHAwLngsIHAxLngpO1xuICAgICAgICBjb25zdCBtYXhYID0gTWF0aC5tYXgocDAueCwgcDEueCk7XG4gICAgICAgIGNvbnN0IG1pblkgPSBNYXRoLm1pbihwMC55LCBwMS55KTtcbiAgICAgICAgY29uc3QgbWF4WSA9IE1hdGgubWF4KHAwLnksIHAxLnkpO1xuXG4gICAgICAgIGNvbnN0IGhvcml6b24gPSB0aGlzLmhvcml6b25MaW5lRnJvbVRvcChmYWxzZSk7XG4gICAgICAgIGlmIChtaW5ZIDwgaG9yaXpvbikgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5uYW1lICE9PSAnbWVyY2F0b3InKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtaW4gPSBuZXcgUG9pbnQobWluWCwgbWluWSk7XG4gICAgICAgIGNvbnN0IG1heCA9IG5ldyBQb2ludChtYXhYLCBtYXhZKTtcblxuICAgICAgICBjb25zdCBjb3JuZXJzID0gW1xuICAgICAgICAgICAgbWluLCBtYXgsXG4gICAgICAgICAgICBuZXcgUG9pbnQobWluWCwgbWF4WSksXG4gICAgICAgICAgICBuZXcgUG9pbnQobWF4WCwgbWluWSksXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgbWluV1ggPSAodGhpcy5yZW5kZXJXb3JsZENvcGllcykgPyAtTlVNX1dPUkxEX0NPUElFUyA6IDA7XG4gICAgICAgIGNvbnN0IG1heFdYID0gKHRoaXMucmVuZGVyV29ybGRDb3BpZXMpID8gMSArIE5VTV9XT1JMRF9DT1BJRVMgOiAxO1xuICAgICAgICBjb25zdCBtaW5XWSA9IDA7XG4gICAgICAgIGNvbnN0IG1heFdZID0gMTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNvcm5lciBvZiBjb3JuZXJzKSB7XG4gICAgICAgICAgICBjb25zdCByYXlJbnRlcnNlY3Rpb24gPSB0aGlzLnBvaW50UmF5SW50ZXJzZWN0aW9uKGNvcm5lcik7XG4gICAgICAgICAgICAvLyBQb2ludCBpcyBhYm92ZSB0aGUgaG9yaXpvblxuICAgICAgICAgICAgaWYgKHJheUludGVyc2VjdGlvbi50IDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUG9pbnQgaXMgb2ZmIHRoZSBib25kYXJpZXMgb2YgdGhlIG1hcFxuICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMucmF5SW50ZXJzZWN0aW9uQ29vcmRpbmF0ZShyYXlJbnRlcnNlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKGNvb3JkaW5hdGUueCA8IG1pbldYIHx8IGNvb3JkaW5hdGUueSA8IG1pbldZIHx8XG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZS54ID4gbWF4V1ggfHwgY29vcmRpbmF0ZS55ID4gbWF4V1kpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVja3MgdGhlIGZvdXIgY29ybmVycyBvZiB0aGUgZnJ1c3R1bSB0byBzZWUgaWYgdGhleSBsaWUgaW4gdGhlIG1hcCdzIHF1YWQuXG4gICAgLy9cbiAgICBpc0hvcml6b25WaXNpYmxlKCk6IGJvb2xlYW4ge1xuXG4gICAgICAgIC8vIHdlIGNvbnNpZGVyIHRoZSBob3Jpem9uIGFzIHZpc2libGUgaWYgdGhlIGFuZ2xlIGJldHdlZW5cbiAgICAgICAgLy8gYSB0aGUgdG9wIHBsYW5lIG9mIHRoZSBmcnVzdHVtIGFuZCB0aGUgbWFwIHBsYW5lIGlzIHNtYWxsZXIgdGhhbiB0aGlzIHRocmVzaG9sZC5cbiAgICAgICAgY29uc3QgaG9yaXpvbkFuZ2xlRXBzaWxvbiA9IDI7XG4gICAgICAgIGlmICh0aGlzLnBpdGNoICsgcmFkVG9EZWcodGhpcy5mb3ZBYm92ZUNlbnRlcikgPiAoOTAgLSBob3Jpem9uQW5nbGVFcHNpbG9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5hbnlDb3JuZXJPZmZFZGdlKG5ldyBQb2ludCgwLCAwKSwgbmV3IFBvaW50KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSB6b29tIGRlbHRhIHZhbHVlIGludG8gYSBwaHlzaWNhbCBkaXN0YW5jZSB0cmF2ZWxsZWQgaW4gd2ViIG1lcmNhdG9yIGNvb3JkaW5hdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHt2ZWMzfSBjZW50ZXIgRGVzdGluYXRpb24gbWVyY2F0b3IgcG9pbnQgb2YgdGhlIG1vdmVtZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tRGVsdGEgQ2hhbmdlIGluIHRoZSB6b29tIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBkaXN0YW5jZSBpbiBtZXJjYXRvciBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICB6b29tRGVsdGFUb01vdmVtZW50KGNlbnRlcjogVmVjMywgem9vbURlbHRhOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHZlYzMubGVuZ3RoKHZlYzMuc3ViKFtdLCB0aGlzLl9jYW1lcmEucG9zaXRpb24sIGNlbnRlcikpO1xuICAgICAgICBjb25zdCByZWxhdGl2ZVpvb20gPSB0aGlzLl96b29tRnJvbU1lcmNhdG9yWihkaXN0YW5jZSkgKyB6b29tRGVsdGE7XG4gICAgICAgIHJldHVybiBkaXN0YW5jZSAtIHRoaXMuX21lcmNhdG9yWmZyb21ab29tKHJlbGF0aXZlWm9vbSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBUaGUgY2FtZXJhIGxvb2tzIGF0IHRoZSBtYXAgZnJvbSBhIDNEIChsbmcsIGxhdCwgYWx0aXR1ZGUpIGxvY2F0aW9uLiBMZXQncyB1c2UgYGNhbWVyYUxvY2F0aW9uYFxuICAgICAqIGFzIHRoZSBuYW1lIGZvciB0aGUgbG9jYXRpb24gdW5kZXIgdGhlIGNhbWVyYSBhbmQgb24gdGhlIHN1cmZhY2Ugb2YgdGhlIGVhcnRoIChsbmcsIGxhdCwgMCkuXG4gICAgICogYGNhbWVyYVBvaW50YCBpcyB0aGUgcHJvamVjdGVkIHBvc2l0aW9uIG9mIHRoZSBgY2FtZXJhTG9jYXRpb25gLlxuICAgICAqXG4gICAgICogVGhpcyBwb2ludCBpcyB1c2VmdWwgdG8gdXMgYmVjYXVzZSBvbmx5IGZpbGwtZXh0cnVzaW9ucyB0aGF0IGFyZSBiZXR3ZWVuIGBjYW1lcmFQb2ludGAgYW5kXG4gICAgICogdGhlIHF1ZXJ5IHBvaW50IG9uIHRoZSBzdXJmYWNlIG9mIHRoZSBlYXJ0aCBjYW4gZXh0ZW5kIGFuZCBpbnRlcnNlY3QgdGhlIHF1ZXJ5LlxuICAgICAqXG4gICAgICogV2hlbiB0aGUgbWFwIGlzIG5vdCBwaXRjaGVkIHRoZSBgY2FtZXJhUG9pbnRgIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGNlbnRlciBvZiB0aGUgbWFwIGJlY2F1c2VcbiAgICAgKiB0aGUgY2FtZXJhIGlzIHJpZ2h0IGFib3ZlIHRoZSBjZW50ZXIgb2YgdGhlIG1hcC5cbiAgICAgKi9cbiAgICBnZXRDYW1lcmFQb2ludCgpOiBQb2ludCB7XG4gICAgICAgIGlmICh0aGlzLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICAgICAgLy8gRmluZCBwcmVjaXNlIGxvY2F0aW9uIG9mIHRoZSBwcm9qZWN0ZWQgY2FtZXJhIHBvc2l0aW9uIG9uIHRoZSBjdXJ2ZWQgc3VyZmFjZVxuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gW3RoaXMuZ2xvYmVNYXRyaXhbMTJdLCB0aGlzLmdsb2JlTWF0cml4WzEzXSwgdGhpcy5nbG9iZU1hdHJpeFsxNF1dO1xuICAgICAgICAgICAgY29uc3QgcG9zID0gcHJvamVjdENsYW1wZWQoY2VudGVyLCB0aGlzLnBpeGVsTWF0cml4KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQocG9zWzBdLCBwb3NbMV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGl0Y2ggPSB0aGlzLl9waXRjaDtcbiAgICAgICAgICAgIGNvbnN0IHlPZmZzZXQgPSBNYXRoLnRhbihwaXRjaCkgKiAodGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlIHx8IDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2VudGVyUG9pbnQuYWRkKG5ldyBQb2ludCgwLCB5T2Zmc2V0KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHByb2plY3Rpb246IFByb2plY3Rpb24sIHpvb206IG51bWJlciA9IHRoaXMuem9vbSwgd29ybGRTaXplOiBudW1iZXIgPSB0aGlzLndvcmxkU2l6ZSk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHQgPSBnZXRQcm9qZWN0aW9uSW50ZXJwb2xhdGlvblQocHJvamVjdGlvbiwgem9vbSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIDEwMjQpO1xuICAgICAgICBjb25zdCBwcm9qZWN0aW9uU2NhbGVyID0gcHJvamVjdGlvbi5waXhlbFNwYWNlQ29udmVyc2lvbih0aGlzLmNlbnRlci5sYXQsIHdvcmxkU2l6ZSwgdCk7XG4gICAgICAgIHJldHVybiAwLjUgLyBNYXRoLnRhbih0aGlzLl9mb3YgKiAwLjUpICogdGhpcy5oZWlnaHQgKiBwcm9qZWN0aW9uU2NhbGVyO1xuICAgIH1cblxuICAgIGdldFdvcmxkVG9DYW1lcmFNYXRyaXgoKTogTWF0NCB7XG4gICAgICAgIGNvbnN0IHpVbml0ID0gdGhpcy5wcm9qZWN0aW9uLnpBeGlzVW5pdCA9PT0gXCJtZXRlcnNcIiA/IHRoaXMucGl4ZWxzUGVyTWV0ZXIgOiAxLjA7XG4gICAgICAgIGNvbnN0IHdvcmxkVG9DYW1lcmEgPSB0aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYSh0aGlzLndvcmxkU2l6ZSwgelVuaXQpO1xuXG4gICAgICAgIGlmICh0aGlzLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICAgICAgbWF0NC5tdWx0aXBseSh3b3JsZFRvQ2FtZXJhLCB3b3JsZFRvQ2FtZXJhLCB0aGlzLmdsb2JlTWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3b3JsZFRvQ2FtZXJhO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNmb3JtO1xuIiwiLy8gQGZsb3cgc3RyaWN0XG5cbi8qKlxuICogVGhyb3R0bGUgdGhlIGdpdmVuIGZ1bmN0aW9uIHRvIHJ1biBhdCBtb3N0IGV2ZXJ5IGBwZXJpb2RgIG1pbGxpc2Vjb25kcy5cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRocm90dGxlKGZuOiAoKSA9PiB2b2lkLCB0aW1lOiBudW1iZXIpOiAoKSA9PiA/VGltZW91dElEIHtcbiAgICBsZXQgcGVuZGluZyA9IGZhbHNlO1xuICAgIGxldCB0aW1lcklkOiA/VGltZW91dElEID0gbnVsbDtcblxuICAgIGNvbnN0IGxhdGVyID0gKCkgPT4ge1xuICAgICAgICB0aW1lcklkID0gbnVsbDtcbiAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dChsYXRlciwgdGltZSk7XG4gICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcGVuZGluZyA9IHRydWU7XG4gICAgICAgIGlmICghdGltZXJJZCkge1xuICAgICAgICAgICAgbGF0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGltZXJJZDtcbiAgICB9O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtiaW5kQWxsfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdy5qcyc7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSAnLi4vdXRpbC90aHJvdHRsZS5qcyc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcC5qcyc7XG5cbi8qXG4gKiBBZGRzIHRoZSBtYXAncyBwb3NpdGlvbiB0byBpdHMgcGFnZSdzIGxvY2F0aW9uIGhhc2guXG4gKiBQYXNzZWQgYXMgYW4gb3B0aW9uIHRvIHRoZSBtYXAgb2JqZWN0LlxuICpcbiAqIEByZXR1cm5zIHtIYXNofSBgdGhpc2BcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFzaCB7XG4gICAgX21hcDogP01hcDtcbiAgICBfdXBkYXRlSGFzaDogKCkgPT4gP1RpbWVvdXRJRDtcbiAgICBfaGFzaE5hbWU6ID9zdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihoYXNoTmFtZTogP3N0cmluZykge1xuICAgICAgICB0aGlzLl9oYXNoTmFtZSA9IGhhc2hOYW1lICYmIGVuY29kZVVSSUNvbXBvbmVudChoYXNoTmFtZSk7XG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19nZXRDdXJyZW50SGFzaCcsXG4gICAgICAgICAgICAnX29uSGFzaENoYW5nZScsXG4gICAgICAgICAgICAnX3VwZGF0ZUhhc2gnXG4gICAgICAgIF0sIHRoaXMpO1xuXG4gICAgICAgIC8vIE1vYmlsZSBTYWZhcmkgZG9lc24ndCBhbGxvdyB1cGRhdGluZyB0aGUgaGFzaCBtb3JlIHRoYW4gMTAwIHRpbWVzIHBlciAzMCBzZWNvbmRzLlxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX3VwZGF0ZUhhc2ggPSB0aHJvdHRsZSh0aGlzLl91cGRhdGVIYXNoVW50aHJvdHRsZWQuYmluZCh0aGlzKSwgMzAgKiAxMDAwIC8gMTAwKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIE1hcCBlbGVtZW50IHRvIGxpc3RlbiBmb3IgY29vcmRpbmF0ZSBjaGFuZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwXG4gICAgICogQHJldHVybnMge0hhc2h9IGB0aGlzYFxuICAgICAqL1xuICAgIGFkZFRvKG1hcDogTWFwKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMuX29uSGFzaENoYW5nZSwgZmFsc2UpO1xuICAgICAgICBtYXAub24oJ21vdmVlbmQnLCB0aGlzLl91cGRhdGVIYXNoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBSZW1vdmVzIGhhc2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gYHRoaXNgXG4gICAgICovXG4gICAgcmVtb3ZlKCk6IHRoaXMge1xuICAgICAgICBpZiAoIXRoaXMuX21hcCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZUhhc2gpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5fb25IYXNoQ2hhbmdlLCBmYWxzZSk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl91cGRhdGVIYXNoKCkpO1xuXG4gICAgICAgIHRoaXMuX21hcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0SGFzaFN0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGlmICghbWFwKSByZXR1cm4gJyc7XG5cbiAgICAgICAgY29uc3QgaGFzaCA9IGdldEhhc2hTdHJpbmcobWFwKTtcblxuICAgICAgICBpZiAodGhpcy5faGFzaE5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhc2hOYW1lID0gdGhpcy5faGFzaE5hbWU7XG4gICAgICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSkuc3BsaXQoJyYnKS5tYXAocGFydCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFydC5zcGxpdCgnPScpWzBdO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IGhhc2hOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2tleX09JHtoYXNofWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0O1xuICAgICAgICAgICAgfSkuZmlsdGVyKGEgPT4gYSk7XG4gICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChgJHtoYXNoTmFtZX09JHtoYXNofWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGAjJHtwYXJ0cy5qb2luKCcmJyl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBgIyR7aGFzaH1gO1xuICAgIH1cblxuICAgIF9nZXRDdXJyZW50SGFzaCgpOiBBcnJheTxzdHJpbmc+IHtcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IGhhc2ggZnJvbSBsb2NhdGlvbiwgc3RyaXBwZWQgZnJvbSBpdHMgbnVtYmVyIHNpZ25cbiAgICAgICAgY29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJyk7XG4gICAgICAgIGlmICh0aGlzLl9oYXNoTmFtZSkge1xuICAgICAgICAgICAgLy8gU3BsaXQgdGhlIHBhcmFtZXRlci1zdHlsZWQgaGFzaCBpbnRvIHBhcnRzIGFuZCBmaW5kIHRoZSB2YWx1ZSB3ZSBuZWVkXG4gICAgICAgICAgICBsZXQga2V5dmFsO1xuICAgICAgICAgICAgaGFzaC5zcGxpdCgnJicpLm1hcChcbiAgICAgICAgICAgICAgICBwYXJ0ID0+IHBhcnQuc3BsaXQoJz0nKVxuICAgICAgICAgICAgKS5mb3JFYWNoKHBhcnQgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0WzBdID09PSB0aGlzLl9oYXNoTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBrZXl2YWwgPSBwYXJ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIChrZXl2YWwgPyBrZXl2YWxbMV0gfHwgJycgOiAnJykuc3BsaXQoJy8nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzaC5zcGxpdCgnLycpO1xuICAgIH1cblxuICAgIF9vbkhhc2hDaGFuZ2UoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgaWYgKCFtYXApIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgbG9jID0gdGhpcy5fZ2V0Q3VycmVudEhhc2goKTtcbiAgICAgICAgaWYgKGxvYy5sZW5ndGggPj0gMyAmJiAhbG9jLnNvbWUodiA9PiBpc05hTih2KSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGJlYXJpbmcgPSBtYXAuZHJhZ1JvdGF0ZS5pc0VuYWJsZWQoKSAmJiBtYXAudG91Y2hab29tUm90YXRlLmlzRW5hYmxlZCgpID8gKyhsb2NbM10gfHwgMCkgOiBtYXAuZ2V0QmVhcmluZygpO1xuICAgICAgICAgICAgbWFwLmp1bXBUbyh7XG4gICAgICAgICAgICAgICAgY2VudGVyOiBbK2xvY1syXSwgK2xvY1sxXV0sXG4gICAgICAgICAgICAgICAgem9vbTogK2xvY1swXSxcbiAgICAgICAgICAgICAgICBiZWFyaW5nLFxuICAgICAgICAgICAgICAgIHBpdGNoOiArKGxvY1s0XSB8fCAwKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUhhc2hVbnRocm90dGxlZCgpIHtcbiAgICAgICAgLy8gUmVwbGFjZSBpZiBhbHJlYWR5IHByZXNlbnQsIGVsc2UgYXBwZW5kIHRoZSB1cGRhdGVkIGhhc2ggc3RyaW5nXG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvKCMuKyk/JC8sIHRoaXMuZ2V0SGFzaFN0cmluZygpKTtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHdpbmRvdy5oaXN0b3J5LnN0YXRlLCBudWxsLCBsb2NhdGlvbik7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGFzaFN0cmluZyhtYXA6IE1hcCwgbWFwRmVlZGJhY2s/OiBib29sZWFuKTogc3RyaW5nIHtcbiAgICBjb25zdCBjZW50ZXIgPSBtYXAuZ2V0Q2VudGVyKCksXG4gICAgICAgIHpvb20gPSBNYXRoLnJvdW5kKG1hcC5nZXRab29tKCkgKiAxMDApIC8gMTAwLFxuICAgICAgICAvLyBkZXJpdmVkIGZyb20gZXF1YXRpb246IDUxMnB4ICogMl56IC8gMzYwIC8gMTBeZCA8IDAuNXB4XG4gICAgICAgIHByZWNpc2lvbiA9IE1hdGguY2VpbCgoem9vbSAqIE1hdGguTE4yICsgTWF0aC5sb2coNTEyIC8gMzYwIC8gMC41KSkgLyBNYXRoLkxOMTApLFxuICAgICAgICBtID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbiksXG4gICAgICAgIGxuZyA9IE1hdGgucm91bmQoY2VudGVyLmxuZyAqIG0pIC8gbSxcbiAgICAgICAgbGF0ID0gTWF0aC5yb3VuZChjZW50ZXIubGF0ICogbSkgLyBtLFxuICAgICAgICBiZWFyaW5nID0gbWFwLmdldEJlYXJpbmcoKSxcbiAgICAgICAgcGl0Y2ggPSBtYXAuZ2V0UGl0Y2goKTtcblxuICAgIC8vIG5ldyBtYXAgZmVlZGJhY2sgc2l0ZSBoYXMgc29tZSBjb25zdHJhaW50cyB0aGF0IGRvbid0IGFsbG93XG4gICAgLy8gdXMgdG8gdXNlIHRoZSBzYW1lIGhhc2ggZm9ybWF0IGFzIHdlIGRvIGZvciB0aGUgTWFwIGhhc2ggb3B0aW9uLlxuICAgIGxldCBoYXNoID0gbWFwRmVlZGJhY2sgPyBgLyR7bG5nfS8ke2xhdH0vJHt6b29tfWAgOiBgJHt6b29tfS8ke2xhdH0vJHtsbmd9YDtcblxuICAgIGlmIChiZWFyaW5nIHx8IHBpdGNoKSBoYXNoICs9IChgLyR7TWF0aC5yb3VuZChiZWFyaW5nICogMTApIC8gMTB9YCk7XG4gICAgaWYgKHBpdGNoKSBoYXNoICs9IChgLyR7TWF0aC5yb3VuZChwaXRjaCl9YCk7XG5cbiAgICByZXR1cm4gaGFzaDtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi9tYXAuanMnO1xuaW1wb3J0IHtiZXppZXIsIGNsYW1wLCBleHRlbmR9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5cbmltcG9ydCB0eXBlIHtEcmFnUGFuT3B0aW9uc30gZnJvbSAnLi9oYW5kbGVyL3NoaW0vZHJhZ19wYW4uanMnO1xuaW1wb3J0IHR5cGUge0Vhc2luZ09wdGlvbnN9IGZyb20gJy4uL3VpL2NhbWVyYS5qcyc7XG5cbmNvbnN0IGRlZmF1bHRJbmVydGlhT3B0aW9ucyA9IHtcbiAgICBsaW5lYXJpdHk6IDAuMyxcbiAgICBlYXNpbmc6IGJlemllcigwLCAwLCAwLjMsIDEpLFxufTtcblxuY29uc3QgZGVmYXVsdFBhbkluZXJ0aWFPcHRpb25zID0gZXh0ZW5kKHtcbiAgICBkZWNlbGVyYXRpb246IDI1MDAsXG4gICAgbWF4U3BlZWQ6IDE0MDBcbn0sIGRlZmF1bHRJbmVydGlhT3B0aW9ucyk7XG5cbmNvbnN0IGRlZmF1bHRab29tSW5lcnRpYU9wdGlvbnMgPSBleHRlbmQoe1xuICAgIGRlY2VsZXJhdGlvbjogMjAsXG4gICAgbWF4U3BlZWQ6IDE0MDBcbn0sIGRlZmF1bHRJbmVydGlhT3B0aW9ucyk7XG5cbmNvbnN0IGRlZmF1bHRCZWFyaW5nSW5lcnRpYU9wdGlvbnMgPSBleHRlbmQoe1xuICAgIGRlY2VsZXJhdGlvbjogMTAwMCxcbiAgICBtYXhTcGVlZDogMzYwXG59LCBkZWZhdWx0SW5lcnRpYU9wdGlvbnMpO1xuXG5jb25zdCBkZWZhdWx0UGl0Y2hJbmVydGlhT3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgZGVjZWxlcmF0aW9uOiAxMDAwLFxuICAgIG1heFNwZWVkOiA5MFxufSwgZGVmYXVsdEluZXJ0aWFPcHRpb25zKTtcblxuZXhwb3J0IHR5cGUgSW5lcnRpYU9wdGlvbnMgPSB7XG4gICAgbGluZWFyaXR5OiBudW1iZXI7XG4gICAgZWFzaW5nOiAodDogbnVtYmVyKSA9PiBudW1iZXI7XG4gICAgZGVjZWxlcmF0aW9uOiBudW1iZXI7XG4gICAgbWF4U3BlZWQ6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIElucHV0RXZlbnQgPSBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCB8IEtleWJvYXJkRXZlbnQgfCBXaGVlbEV2ZW50O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIYW5kbGVySW5lcnRpYSB7XG4gICAgX21hcDogTWFwO1xuICAgIF9pbmVydGlhQnVmZmVyOiBBcnJheTx7IHRpbWU6IG51bWJlciwgc2V0dGluZ3M6IE9iamVjdCB9PjtcblxuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9pbmVydGlhQnVmZmVyID0gW107XG4gICAgfVxuXG4gICAgcmVjb3JkKHNldHRpbmdzOiBhbnkpIHtcbiAgICAgICAgdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX2luZXJ0aWFCdWZmZXIucHVzaCh7dGltZTogYnJvd3Nlci5ub3coKSwgc2V0dGluZ3N9KTtcbiAgICB9XG5cbiAgICBfZHJhaW5JbmVydGlhQnVmZmVyKCkge1xuICAgICAgICBjb25zdCBpbmVydGlhID0gdGhpcy5faW5lcnRpYUJ1ZmZlcixcbiAgICAgICAgICAgIG5vdyA9IGJyb3dzZXIubm93KCksXG4gICAgICAgICAgICBjdXRvZmYgPSAxNjA7ICAgLy9tc2VjXG5cbiAgICAgICAgd2hpbGUgKGluZXJ0aWEubGVuZ3RoID4gMCAmJiBub3cgLSBpbmVydGlhWzBdLnRpbWUgPiBjdXRvZmYpXG4gICAgICAgICAgICBpbmVydGlhLnNoaWZ0KCk7XG4gICAgfVxuXG4gICAgX29uTW92ZUVuZChwYW5JbmVydGlhT3B0aW9ucz86IERyYWdQYW5PcHRpb25zKTogPyhFYXNpbmdPcHRpb25zICYge2Vhc2VJZD86IHN0cmluZ30pIHtcbiAgICAgICAgaWYgKGJyb3dzZXIucHJlZmVyc1JlZHVjZWRNb3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpO1xuICAgICAgICBpZiAodGhpcy5faW5lcnRpYUJ1ZmZlci5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWx0YXMgPSB7XG4gICAgICAgICAgICB6b29tOiAwLFxuICAgICAgICAgICAgYmVhcmluZzogMCxcbiAgICAgICAgICAgIHBpdGNoOiAwLFxuICAgICAgICAgICAgcGFuOiBuZXcgUG9pbnQoMCwgMCksXG4gICAgICAgICAgICBwaW5jaEFyb3VuZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJvdW5kOiB1bmRlZmluZWRcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGNvbnN0IHtzZXR0aW5nc30gb2YgdGhpcy5faW5lcnRpYUJ1ZmZlcikge1xuICAgICAgICAgICAgZGVsdGFzLnpvb20gKz0gc2V0dGluZ3Muem9vbURlbHRhIHx8IDA7XG4gICAgICAgICAgICBkZWx0YXMuYmVhcmluZyArPSBzZXR0aW5ncy5iZWFyaW5nRGVsdGEgfHwgMDtcbiAgICAgICAgICAgIGRlbHRhcy5waXRjaCArPSBzZXR0aW5ncy5waXRjaERlbHRhIHx8IDA7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MucGFuRGVsdGEpIGRlbHRhcy5wYW4uX2FkZChzZXR0aW5ncy5wYW5EZWx0YSk7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuYXJvdW5kKSBkZWx0YXMuYXJvdW5kID0gc2V0dGluZ3MuYXJvdW5kO1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLnBpbmNoQXJvdW5kKSBkZWx0YXMucGluY2hBcm91bmQgPSBzZXR0aW5ncy5waW5jaEFyb3VuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxhc3RFbnRyeSA9IHRoaXMuX2luZXJ0aWFCdWZmZXJbdGhpcy5faW5lcnRpYUJ1ZmZlci5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSAobGFzdEVudHJ5LnRpbWUgLSB0aGlzLl9pbmVydGlhQnVmZmVyWzBdLnRpbWUpO1xuXG4gICAgICAgIGNvbnN0IGVhc2VPcHRpb25zID0ge307XG5cbiAgICAgICAgaWYgKGRlbHRhcy5wYW4ubWFnKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZUVhc2luZyhkZWx0YXMucGFuLm1hZygpLCBkdXJhdGlvbiwgZXh0ZW5kKHt9LCBkZWZhdWx0UGFuSW5lcnRpYU9wdGlvbnMsIHBhbkluZXJ0aWFPcHRpb25zIHx8IHt9KSk7XG4gICAgICAgICAgICBlYXNlT3B0aW9ucy5vZmZzZXQgPSBkZWx0YXMucGFuLm11bHQocmVzdWx0LmFtb3VudCAvIGRlbHRhcy5wYW4ubWFnKCkpO1xuICAgICAgICAgICAgZWFzZU9wdGlvbnMuY2VudGVyID0gdGhpcy5fbWFwLnRyYW5zZm9ybS5jZW50ZXI7XG4gICAgICAgICAgICBleHRlbmREdXJhdGlvbihlYXNlT3B0aW9ucywgcmVzdWx0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWx0YXMuem9vbSkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlRWFzaW5nKGRlbHRhcy56b29tLCBkdXJhdGlvbiwgZGVmYXVsdFpvb21JbmVydGlhT3B0aW9ucyk7XG4gICAgICAgICAgICBlYXNlT3B0aW9ucy56b29tID0gdGhpcy5fbWFwLnRyYW5zZm9ybS56b29tICsgcmVzdWx0LmFtb3VudDtcbiAgICAgICAgICAgIGV4dGVuZER1cmF0aW9uKGVhc2VPcHRpb25zLCByZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlbHRhcy5iZWFyaW5nKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVFYXNpbmcoZGVsdGFzLmJlYXJpbmcsIGR1cmF0aW9uLCBkZWZhdWx0QmVhcmluZ0luZXJ0aWFPcHRpb25zKTtcbiAgICAgICAgICAgIGVhc2VPcHRpb25zLmJlYXJpbmcgPSB0aGlzLl9tYXAudHJhbnNmb3JtLmJlYXJpbmcgKyBjbGFtcChyZXN1bHQuYW1vdW50LCAtMTc5LCAxNzkpO1xuICAgICAgICAgICAgZXh0ZW5kRHVyYXRpb24oZWFzZU9wdGlvbnMsIHJlc3VsdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVsdGFzLnBpdGNoKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVFYXNpbmcoZGVsdGFzLnBpdGNoLCBkdXJhdGlvbiwgZGVmYXVsdFBpdGNoSW5lcnRpYU9wdGlvbnMpO1xuICAgICAgICAgICAgZWFzZU9wdGlvbnMucGl0Y2ggPSB0aGlzLl9tYXAudHJhbnNmb3JtLnBpdGNoICsgcmVzdWx0LmFtb3VudDtcbiAgICAgICAgICAgIGV4dGVuZER1cmF0aW9uKGVhc2VPcHRpb25zLCByZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVhc2VPcHRpb25zLnpvb20gfHwgZWFzZU9wdGlvbnMuYmVhcmluZykge1xuICAgICAgICAgICAgY29uc3QgbGFzdCA9IGRlbHRhcy5waW5jaEFyb3VuZCA9PT0gdW5kZWZpbmVkID8gZGVsdGFzLmFyb3VuZCA6IGRlbHRhcy5waW5jaEFyb3VuZDtcbiAgICAgICAgICAgIGVhc2VPcHRpb25zLmFyb3VuZCA9IGxhc3QgPyB0aGlzLl9tYXAudW5wcm9qZWN0KGxhc3QpIDogdGhpcy5fbWFwLmdldENlbnRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBlYXNlT3B0aW9ucy5ub01vdmVTdGFydCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlYXNlT3B0aW9ucztcbiAgICB9XG59XG5cbi8vIFVuZm9ydHVuYXRlbHkgem9vbSwgYmVhcmluZywgZXRjIGNhbid0IGhhdmUgZGlmZmVyZW50IGR1cmF0aW9ucyBhbmQgZWFzaW5ncyBzb1xuLy8gd2UgbmVlZCB0byBjaG9vc2Ugb25lLiBXZSB1c2UgdGhlIGxvbmdlc3QgZHVyYXRpb24gYW5kIGl0J3MgY29ycmVzcG9uZGluZyBlYXNpbmcuXG5mdW5jdGlvbiBleHRlbmREdXJhdGlvbihlYXNlT3B0aW9ucywgcmVzdWx0KSB7XG4gICAgaWYgKCFlYXNlT3B0aW9ucy5kdXJhdGlvbiB8fCBlYXNlT3B0aW9ucy5kdXJhdGlvbiA8IHJlc3VsdC5kdXJhdGlvbikge1xuICAgICAgICBlYXNlT3B0aW9ucy5kdXJhdGlvbiA9IHJlc3VsdC5kdXJhdGlvbjtcbiAgICAgICAgZWFzZU9wdGlvbnMuZWFzaW5nID0gcmVzdWx0LmVhc2luZztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZUVhc2luZyhhbW91bnQsIGluZXJ0aWFEdXJhdGlvbjogbnVtYmVyLCBpbmVydGlhT3B0aW9ucykge1xuICAgIGNvbnN0IHttYXhTcGVlZCwgbGluZWFyaXR5LCBkZWNlbGVyYXRpb259ID0gaW5lcnRpYU9wdGlvbnM7XG4gICAgY29uc3Qgc3BlZWQgPSBjbGFtcChcbiAgICAgICAgYW1vdW50ICogbGluZWFyaXR5IC8gKGluZXJ0aWFEdXJhdGlvbiAvIDEwMDApLFxuICAgICAgICAtbWF4U3BlZWQsXG4gICAgICAgIG1heFNwZWVkKTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IE1hdGguYWJzKHNwZWVkKSAvIChkZWNlbGVyYXRpb24gKiBsaW5lYXJpdHkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGVhc2luZzogaW5lcnRpYU9wdGlvbnMuZWFzaW5nLFxuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24gKiAxMDAwLFxuICAgICAgICBhbW91bnQ6IHNwZWVkICogKGR1cmF0aW9uIC8gMilcbiAgICB9O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtFdmVudH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkLmpzJztcblxuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uL3V0aWwvZG9tLmpzJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi9tYXAuanMnO1xuaW1wb3J0IHR5cGUgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0LmpzJztcblxuLyoqXG4gKiBgTWFwTW91c2VFdmVudGAgaXMgYSBjbGFzcyB1c2VkIGJ5IG90aGVyIGNsYXNzZXMgdG8gZ2VuZXJhdGVcbiAqIG1vdXNlIGV2ZW50cyBvZiBzcGVjaWZpYyB0eXBlcyBzdWNoIGFzICdjbGljaycgb3IgJ2hvdmVyJy5cbiAqIEZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgZXZlbnRzLCBzZWUgW2BNYXBgIGV2ZW50c10oL21hcGJveC1nbC1qcy9hcGkvbWFwLyNtYXAtZXZlbnRzKS5cbiAqXG4gKiBAZXh0ZW5kcyB7T2JqZWN0fVxuICogQGV4YW1wbGVcbiAqIC8vIEV4YW1wbGUgb2YgYSBNYXBNb3VzZUV2ZW50IG9mIHR5cGUgXCJjbGlja1wiXG4gKiBtYXAub24oJ2NsaWNrJywgKGUpID0+IHtcbiAqICAgICBjb25zb2xlLmxvZyhlKTtcbiAqICAgICAvLyB7XG4gKiAgICAgLy8gICAgIGxuZ0xhdDoge1xuICogICAgIC8vICAgICAgICAgbG5nOiA0MC4yMDMsXG4gKiAgICAgLy8gICAgICAgICBsYXQ6IC03NC40NTFcbiAqICAgICAvLyAgICAgfSxcbiAqICAgICAvLyAgICAgb3JpZ2luYWxFdmVudDogey4uLn0sXG4gKiAgICAgLy8gICAgIHBvaW50OiB7XG4gKiAgICAgLy8gICAgICAgICB4OiAyNjYsXG4gKiAgICAgLy8gICAgICAgICB5OiA0NjRcbiAqICAgICAvLyAgICAgfSxcbiAqICAgICAvLyAgICAgIHRhcmdldDogey4uLn0sXG4gKiAgICAgLy8gICAgICB0eXBlOiBcImNsaWNrXCJcbiAqICAgICAvLyB9XG4gKiB9KTtcbiAqIEBzZWUgW1JlZmVyZW5jZTogYE1hcGAgZXZlbnRzIEFQSSBkb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLWV2ZW50cylcbiAqIEBzZWUgW0V4YW1wbGU6IERpc3BsYXkgcG9wdXAgb24gY2xpY2tdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWNsaWNrLylcbiAqIEBzZWUgW0V4YW1wbGU6IERpc3BsYXkgcG9wdXAgb24gaG92ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24taG92ZXIvKVxuICovXG5leHBvcnQgY2xhc3MgTWFwTW91c2VFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBvcmlnaW5hdGluZyBldmVudC4gRm9yIGEgZnVsbCBsaXN0IG9mIGF2YWlsYWJsZSBldmVudHMsIHNlZSBbYE1hcGAgZXZlbnRzXSgvbWFwYm94LWdsLWpzL2FwaS9tYXAvI21hcC1ldmVudHMpLlxuICAgICAqL1xuICAgIHR5cGU6ICdtb3VzZWRvd24nXG4gICAgICAgIHwgJ21vdXNldXAnXG4gICAgICAgIHwgJ3ByZWNsaWNrJ1xuICAgICAgICB8ICdjbGljaydcbiAgICAgICAgfCAnZGJsY2xpY2snXG4gICAgICAgIHwgJ21vdXNlbW92ZSdcbiAgICAgICAgfCAnbW91c2VvdmVyJ1xuICAgICAgICB8ICdtb3VzZWVudGVyJ1xuICAgICAgICB8ICdtb3VzZWxlYXZlJ1xuICAgICAgICB8ICdtb3VzZW91dCdcbiAgICAgICAgfCAnY29udGV4dG1lbnUnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBNYXBgIG9iamVjdCB0aGF0IGZpcmVkIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICB0YXJnZXQ6IE1hcDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBET00gZXZlbnQgd2hpY2ggY2F1c2VkIHRoZSBtYXAgZXZlbnQuXG4gICAgICovXG4gICAgb3JpZ2luYWxFdmVudDogTW91c2VFdmVudDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXhlbCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgY3Vyc29yLCByZWxhdGl2ZSB0byB0aGUgbWFwIGFuZCBtZWFzdXJlZCBmcm9tIHRoZSB0b3AgbGVmdCBjb3JuZXIuXG4gICAgICovXG4gICAgcG9pbnQ6IFBvaW50O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGdlb2dyYXBoaWMgbG9jYXRpb24gb24gdGhlIG1hcCBvZiB0aGUgbW91c2UgY3Vyc29yLlxuICAgICAqL1xuICAgIGxuZ0xhdDogTG5nTGF0O1xuXG4gICAgLyoqXG4gICAgICogSWYgYSBzaW5nbGUgYGxheWVySWRgKGFzIGEgc2luZ2xlIHN0cmluZykgb3IgbXVsdGlwbGUgYGxheWVySWRzYCAoYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncykgd2VyZSBzcGVjaWZpZWQgd2hlbiBhZGRpbmcgdGhlIGV2ZW50IGxpc3RlbmVyIHdpdGgge0BsaW5rIE1hcCNvbn0sXG4gICAgICogYGZlYXR1cmVzYCB3aWxsIGJlIGFuIGFycmF5IG9mIFtHZW9KU09OXShodHRwOi8vZ2VvanNvbi5vcmcvKSBbRmVhdHVyZSBvYmplY3RzXShodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzk0NiNzZWN0aW9uLTMuMikuXG4gICAgICogVGhlIGFycmF5IHdpbGwgY29udGFpbiBhbGwgZmVhdHVyZXMgZnJvbSB0aGF0IGxheWVyIHRoYXQgYXJlIHJlbmRlcmVkIGF0IHRoZSBldmVudCdzIHBvaW50LFxuICAgICAqIGluIHRoZSBvcmRlciB0aGF0IHRoZXkgYXJlIHJlbmRlcmVkIHdpdGggdGhlIHRvcG1vc3QgZmVhdHVyZSBiZWluZyBhdCB0aGUgc3RhcnQgb2YgdGhlIGFycmF5LlxuICAgICAqIFRoZSBgZmVhdHVyZXNgIGFyZSBpZGVudGljYWwgdG8gdGhvc2UgcmV0dXJuZWQgYnkge0BsaW5rIE1hcCNxdWVyeVJlbmRlcmVkRmVhdHVyZXN9LlxuICAgICAqXG4gICAgICogSWYgbm8gYGxheWVySWRgIHdhcyBzcGVjaWZpZWQgd2hlbiBhZGRpbmcgdGhlIGV2ZW50IGxpc3RlbmVyLCBgZmVhdHVyZXNgIHdpbGwgYmUgYHVuZGVmaW5lZGAuXG4gICAgICogWW91IGNhbiBnZXQgdGhlIGZlYXR1cmVzIGF0IHRoZSBwb2ludCB3aXRoIGBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQpYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gbG9nZ2luZyBmZWF0dXJlcyBmb3IgYSBzcGVjaWZpYyBsYXllciAod2l0aCBgZS5mZWF0dXJlc2ApXG4gICAgICogbWFwLm9uKCdjbGljaycsICdteUxheWVySWQnLCAoZSkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgVGhlcmUgYXJlICR7ZS5mZWF0dXJlcy5sZW5ndGh9IGZlYXR1cmVzIGF0IHBvaW50ICR7ZS5wb2ludH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gbG9nZ2luZyBmZWF0dXJlcyBmb3IgdHdvIGxheWVycyAod2l0aCBgZS5mZWF0dXJlc2ApXG4gICAgICogbWFwLm9uKCdjbGljaycsIFsnbGF5ZXIxJywgJ2xheWVyMiddLCAoZSkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgVGhlcmUgYXJlICR7ZS5mZWF0dXJlcy5sZW5ndGh9IGZlYXR1cmVzIGF0IHBvaW50ICR7ZS5wb2ludH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gbG9nZ2luZyBhbGwgZmVhdHVyZXMgZm9yIGFsbCBsYXllcnMgKHdpdGhvdXQgYGUuZmVhdHVyZXNgKVxuICAgICAqIG1hcC5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAqICAgICBjb25zdCBmZWF0dXJlcyA9IG1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCk7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBUaGVyZSBhcmUgJHtmZWF0dXJlcy5sZW5ndGh9IGZlYXR1cmVzIGF0IHBvaW50ICR7ZS5wb2ludH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBmZWF0dXJlczogQXJyYXk8T2JqZWN0PiB8IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyBzdWJzZXF1ZW50IGRlZmF1bHQgcHJvY2Vzc2luZyBvZiB0aGUgZXZlbnQgYnkgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBwcmV2ZW50IHRoZSBmb2xsb3dpbmcgZGVmYXVsdCBtYXAgYmVoYXZpb3JzOlxuICAgICAqXG4gICAgICogICAqIE9uIGBtb3VzZWRvd25gIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBEcmFnUGFuSGFuZGxlcn0uXG4gICAgICogICAqIE9uIGBtb3VzZWRvd25gIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0uXG4gICAgICogICAqIE9uIGBtb3VzZWRvd25gIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBCb3hab29tSGFuZGxlcn0uXG4gICAgICogICAqIE9uIGBkYmxjbGlja2AgZXZlbnRzLCB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIERvdWJsZUNsaWNrWm9vbUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgKiAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgYHByZXZlbnREZWZhdWx0YCBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfVxuXG4gICAgX2RlZmF1bHRQcmV2ZW50ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgbWFwOiBNYXAsIG9yaWdpbmFsRXZlbnQ6IE1vdXNlRXZlbnQsIGRhdGE6IE9iamVjdCA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gRE9NLm1vdXNlUG9zKG1hcC5nZXRDYW52YXNDb250YWluZXIoKSwgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgIGNvbnN0IGxuZ0xhdCA9IG1hcC51bnByb2plY3QocG9pbnQpO1xuICAgICAgICBzdXBlcih0eXBlLCBleHRlbmQoe3BvaW50LCBsbmdMYXQsIG9yaWdpbmFsRXZlbnR9LCBkYXRhKSk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBtYXA7XG4gICAgfVxufVxuXG4vKipcbiAqIGBNYXBUb3VjaEV2ZW50YCBpcyBhIGNsYXNzIHVzZWQgYnkgb3RoZXIgY2xhc3NlcyB0byBnZW5lcmF0ZVxuICogbW91c2UgZXZlbnRzIG9mIHNwZWNpZmljIHR5cGVzIHN1Y2ggYXMgJ3RvdWNoc3RhcnQnIG9yICd0b3VjaGVuZCcuXG4gKiBGb3IgYSBmdWxsIGxpc3Qgb2YgYXZhaWxhYmxlIGV2ZW50cywgc2VlIFtgTWFwYCBldmVudHNdKC9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLWV2ZW50cykuXG4gKlxuICogQGV4dGVuZHMge09iamVjdH1cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRXhhbXBsZSBvZiBhIE1hcFRvdWNoRXZlbnQgb2YgdHlwZSBcInRvdWNoXCJcbiAqIG1hcC5vbigndG91Y2hzdGFydCcsIChlKSA9PiB7XG4gKiAgICAgY29uc29sZS5sb2coZSk7XG4gKiAgICAgLy8ge1xuICogICAgIC8vICAgbG5nTGF0OiB7XG4gKiAgICAgLy8gICAgICBsbmc6IDQwLjIwMyxcbiAqICAgICAvLyAgICAgIGxhdDogLTc0LjQ1MVxuICogICAgIC8vICAgfSxcbiAqICAgICAvLyAgIGxuZ0xhdHM6IFtcbiAqICAgICAvLyAgICAgIHtcbiAqICAgICAvLyAgICAgICAgIGxuZzogNDAuMjAzLFxuICogICAgIC8vICAgICAgICAgbGF0OiAtNzQuNDUxXG4gKiAgICAgLy8gICAgICB9XG4gKiAgICAgLy8gICBdLFxuICogICAgIC8vICAgb3JpZ2luYWxFdmVudDogey4uLn0sXG4gKiAgICAgLy8gICBwb2ludDoge1xuICogICAgIC8vICAgICAgeDogMjY2LFxuICogICAgIC8vICAgICAgeTogNDY0XG4gKiAgICAgLy8gICB9LFxuICogICAgIC8vICAgcG9pbnRzOiBbXG4gKiAgICAgLy8gICAgICB7XG4gKiAgICAgLy8gICAgICAgICB4OiAyNjYsXG4gKiAgICAgLy8gICAgICAgICB5OiA0NjRcbiAqICAgICAvLyAgICAgIH1cbiAqICAgICAvLyAgIF1cbiAqICAgICAvLyAgIHByZXZlbnREZWZhdWx0KCksXG4gKiAgICAgLy8gICB0YXJnZXQ6IHsuLi59LFxuICogICAgIC8vICAgdHlwZTogXCJ0b3VjaHN0YXJ0XCJcbiAqICAgICAvLyB9XG4gKiB9KTtcbiAqIEBzZWUgW1JlZmVyZW5jZTogYE1hcGAgZXZlbnRzIEFQSSBkb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLWV2ZW50cylcbiAqIEBzZWUgW0V4YW1wbGU6IENyZWF0ZSBhIGRyYWdnYWJsZSBwb2ludF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLXBvaW50LylcbiAqL1xuZXhwb3J0IGNsYXNzIE1hcFRvdWNoRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2Ygb3JpZ2luYXRpbmcgZXZlbnQuIEZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgZXZlbnRzLCBzZWUgW2BNYXBgIGV2ZW50c10oL21hcGJveC1nbC1qcy9hcGkvbWFwLyNtYXAtZXZlbnRzKS5cbiAgICAgKi9cbiAgICB0eXBlOiAndG91Y2hzdGFydCdcbiAgICAgICAgfCAndG91Y2hlbmQnXG4gICAgICAgIHwgJ3RvdWNoY2FuY2VsJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBgTWFwYCBvYmplY3QgdGhhdCBmaXJlZCB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgdGFyZ2V0OiBNYXA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgRE9NIGV2ZW50IHdoaWNoIGNhdXNlZCB0aGUgbWFwIGV2ZW50LlxuICAgICAqL1xuICAgIG9yaWdpbmFsRXZlbnQ6IFRvdWNoRXZlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ2VvZ3JhcGhpYyBsb2NhdGlvbiBvbiB0aGUgbWFwIG9mIHRoZSBjZW50ZXIgb2YgdGhlIHRvdWNoIGV2ZW50IHBvaW50cy5cbiAgICAgKi9cbiAgICBsbmdMYXQ6IExuZ0xhdDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXhlbCBjb29yZGluYXRlcyBvZiB0aGUgY2VudGVyIG9mIHRoZSB0b3VjaCBldmVudCBwb2ludHMsIHJlbGF0aXZlIHRvIHRoZSBtYXAgYW5kIG1lYXN1cmVkIGZyb20gdGhlIHRvcCBsZWZ0XG4gICAgICogY29ybmVyLlxuICAgICAqL1xuICAgIHBvaW50OiBQb2ludDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiBwaXhlbCBjb29yZGluYXRlcyBjb3JyZXNwb25kaW5nIHRvIGFcbiAgICAgKiBbdG91Y2ggZXZlbnQncyBgdG91Y2hlc2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50L3RvdWNoZXMpIHByb3BlcnR5LlxuICAgICAqL1xuICAgIHBvaW50czogQXJyYXk8UG9pbnQ+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbnMgb24gdGhlIG1hcCBjb3JyZXNwb25kaW5nIHRvIGFcbiAgICAgKiBbdG91Y2ggZXZlbnQncyBgdG91Y2hlc2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50L3RvdWNoZXMpIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGxuZ0xhdHM6IEFycmF5PExuZ0xhdD47XG5cbiAgICAvKipcbiAgICAgKiBJZiBhIGBsYXllcklkYCB3YXMgc3BlY2lmaWVkIHdoZW4gYWRkaW5nIHRoZSBldmVudCBsaXN0ZW5lciB3aXRoIHtAbGluayBNYXAjb259LCBgZmVhdHVyZXNgIHdpbGwgYmUgYW4gYXJyYXkgb2ZcbiAgICAgKiBbR2VvSlNPTl0oaHR0cDovL2dlb2pzb24ub3JnLykgW0ZlYXR1cmUgb2JqZWN0c10oaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzc5NDYjc2VjdGlvbi0zLjIpLlxuICAgICAqIFRoZSBhcnJheSB3aWxsIGNvbnRhaW4gYWxsIGZlYXR1cmVzIGZyb20gdGhhdCBsYXllciB0aGF0IGFyZSByZW5kZXJlZCBhdCB0aGUgZXZlbnQncyBwb2ludC5cbiAgICAgKiBUaGUgYGZlYXR1cmVzYCBhcmUgaWRlbnRpY2FsIHRvIHRob3NlIHJldHVybmVkIGJ5IHtAbGluayBNYXAjcXVlcnlSZW5kZXJlZEZlYXR1cmVzfS5cbiAgICAgKlxuICAgICAqIElmIG5vIGBsYXllcklkYCB3YXMgc3BlY2lmaWVkIHdoZW4gYWRkaW5nIHRoZSBldmVudCBsaXN0ZW5lciwgYGZlYXR1cmVzYCB3aWxsIGJlIGB1bmRlZmluZWRgLlxuICAgICAqIFlvdSBjYW4gZ2V0IHRoZSBmZWF0dXJlcyBhdCB0aGUgcG9pbnQgd2l0aCBgbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50KWAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGxvZ2dpbmcgZmVhdHVyZXMgZm9yIGEgc3BlY2lmaWMgbGF5ZXIgKHdpdGggYGUuZmVhdHVyZXNgKVxuICAgICAqIG1hcC5vbigndG91Y2hzdGFydCcsICdteUxheWVySWQnLCAoZSkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgVGhlcmUgYXJlICR7ZS5mZWF0dXJlcy5sZW5ndGh9IGZlYXR1cmVzIGF0IHBvaW50ICR7ZS5wb2ludH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gbG9nZ2luZyBhbGwgZmVhdHVyZXMgZm9yIGFsbCBsYXllcnMgKHdpdGhvdXQgYGUuZmVhdHVyZXNgKVxuICAgICAqIG1hcC5vbigndG91Y2hzdGFydCcsIChlKSA9PiB7XG4gICAgICogICAgIGNvbnN0IGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50KTtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFRoZXJlIGFyZSAke2ZlYXR1cmVzLmxlbmd0aH0gZmVhdHVyZXMgYXQgcG9pbnQgJHtlLnBvaW50fWApO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGZlYXR1cmVzOiBBcnJheTxPYmplY3Q+IHwgdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHN1YnNlcXVlbnQgZGVmYXVsdCBwcm9jZXNzaW5nIG9mIHRoZSBldmVudCBieSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIHByZXZlbnQgdGhlIGZvbGxvd2luZyBkZWZhdWx0IG1hcCBiZWhhdmlvcnM6XG4gICAgICpcbiAgICAgKiAgICogT24gYHRvdWNoc3RhcnRgIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBEcmFnUGFuSGFuZGxlcn0uXG4gICAgICogICAqIE9uIGB0b3VjaHN0YXJ0YCBldmVudHMsIHRoZSBiZWhhdmlvciBvZiB7QGxpbmsgVG91Y2hab29tUm90YXRlSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5vbigndG91Y2hzdGFydCcsIChlKSA9PiB7XG4gICAgICogICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgYHByZXZlbnREZWZhdWx0YCBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfVxuXG4gICAgX2RlZmF1bHRQcmV2ZW50ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgbWFwOiBNYXAsIG9yaWdpbmFsRXZlbnQ6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgY29uc3QgdG91Y2hlcyA9IHR5cGUgPT09IFwidG91Y2hlbmRcIiA/IG9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMgOiBvcmlnaW5hbEV2ZW50LnRvdWNoZXM7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IERPTS50b3VjaFBvcyhtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCksIHRvdWNoZXMpO1xuICAgICAgICBjb25zdCBsbmdMYXRzID0gcG9pbnRzLm1hcCgodCkgPT4gbWFwLnVucHJvamVjdCh0KSk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzLnJlZHVjZSgocHJldiwgY3VyciwgaSwgYXJyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcHJldi5hZGQoY3Vyci5kaXYoYXJyLmxlbmd0aCkpO1xuICAgICAgICB9LCBuZXcgUG9pbnQoMCwgMCkpO1xuICAgICAgICBjb25zdCBsbmdMYXQgPSBtYXAudW5wcm9qZWN0KHBvaW50KTtcbiAgICAgICAgc3VwZXIodHlwZSwge3BvaW50cywgcG9pbnQsIGxuZ0xhdHMsIGxuZ0xhdCwgb3JpZ2luYWxFdmVudH0pO1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIGBNYXBXaGVlbEV2ZW50YCBpcyBhIGNsYXNzIHVzZWQgYnkgb3RoZXIgY2xhc3NlcyB0byBnZW5lcmF0ZVxuICogbW91c2UgZXZlbnRzIG9mIHNwZWNpZmljIHR5cGVzIHN1Y2ggYXMgJ3doZWVsJy5cbiAqIEZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgZXZlbnRzLCBzZWUgW2BNYXBgIGV2ZW50c10oL21hcGJveC1nbC1qcy9hcGkvbWFwLyNtYXAtZXZlbnRzKS5cbiAqXG4gKiBAZXh0ZW5kcyB7T2JqZWN0fVxuICogQGV4YW1wbGVcbiAqIC8vIEV4YW1wbGUgZXZlbnQgdHJpZ2dlciBmb3IgYSBNYXBXaGVlbEV2ZW50IG9mIHR5cGUgXCJ3aGVlbFwiXG4gKiBtYXAub24oJ3doZWVsJywgKGUpID0+IHtcbiAqICAgICBjb25zb2xlLmxvZygnZXZlbnQgdHlwZTonLCBlLnR5cGUpO1xuICogICAgIC8vIGV2ZW50IHR5cGU6IHdoZWVsXG4gKiB9KTtcbiAqIEBleGFtcGxlXG4gKiAvLyBFeGFtcGxlIG9mIGEgTWFwV2hlZWxFdmVudCBvZiB0eXBlIFwid2hlZWxcIlxuICogLy8ge1xuICogLy8gICBvcmlnaW5hbEV2ZW50OiBXaGVlbEV2ZW50IHsuLi59LFxuICogLy8gXHQgdGFyZ2V0OiBNYXAgey4uLn0sXG4gKiAvLyBcdCB0eXBlOiBcIndoZWVsXCJcbiAqIC8vIH1cbiAqIEBzZWUgW1JlZmVyZW5jZTogYE1hcGAgZXZlbnRzIEFQSSBkb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLWV2ZW50cylcbiAqL1xuZXhwb3J0IGNsYXNzIE1hcFdoZWVsRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2Ygb3JpZ2luYXRpbmcgZXZlbnQuIEZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgZXZlbnRzLCBzZWUgW2BNYXBgIGV2ZW50c10oL21hcGJveC1nbC1qcy9hcGkvbWFwLyNtYXAtZXZlbnRzKS5cbiAgICAgKi9cbiAgICB0eXBlOiAnd2hlZWwnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBNYXBgIG9iamVjdCB0aGF0IGZpcmVkIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICB0YXJnZXQ6IE1hcDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBET00gZXZlbnQgd2hpY2ggY2F1c2VkIHRoZSBtYXAgZXZlbnQuXG4gICAgICovXG4gICAgb3JpZ2luYWxFdmVudDogV2hlZWxFdmVudDtcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHN1YnNlcXVlbnQgZGVmYXVsdCBwcm9jZXNzaW5nIG9mIHRoZSBldmVudCBieSB0aGUgbWFwLlxuICAgICAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBwcmV2ZW50IHRoZSB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIFNjcm9sbFpvb21IYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLm9uKCd3aGVlbCcsIChlKSA9PiB7XG4gICAgICogICAgIC8vIFByZXZlbnQgdGhlIGRlZmF1bHQgbWFwIHNjcm9sbCB6b29tIGJlaGF2aW9yLlxuICAgICAqICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiBgcHJldmVudERlZmF1bHRgIGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldCBkZWZhdWx0UHJldmVudGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBfZGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nLCBtYXA6IE1hcCwgb3JpZ2luYWxFdmVudDogV2hlZWxFdmVudCkge1xuICAgICAgICBzdXBlcih0eXBlLCB7b3JpZ2luYWxFdmVudH0pO1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIGBNYXBCb3hab29tRXZlbnRgIGlzIGEgY2xhc3MgdXNlZCB0byBnZW5lcmF0ZVxuICogdGhlIGV2ZW50cyAnYm94em9vbXN0YXJ0JywgJ2JveHpvb21lbmQnLCBhbmQgJ2JveHpvb21jYW5jZWwnLlxuICogRm9yIGEgZnVsbCBsaXN0IG9mIGF2YWlsYWJsZSBldmVudHMsIHNlZSBbYE1hcGAgZXZlbnRzXSgvbWFwYm94LWdsLWpzL2FwaS9tYXAvI21hcC1ldmVudHMpLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcEJveFpvb21FdmVudFxuICogQHByb3BlcnR5IHtNb3VzZUV2ZW50fSBvcmlnaW5hbEV2ZW50IFRoZSBET00gZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIGJveHpvb20gZXZlbnQuIENhbiBiZSBhIGBNb3VzZUV2ZW50YCBvciBgS2V5Ym9hcmRFdmVudGAuXG4gKiBAcHJvcGVydHkgeygnYm94em9vbXN0YXJ0JyB8ICdib3h6b29tZW5kJyB8ICdib3h6b29tY2FuY2VsJyl9IHR5cGUgVGhlIHR5cGUgb2Ygb3JpZ2luYXRpbmcgZXZlbnQuIEZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgZXZlbnRzLCBzZWUgW2BNYXBgIGV2ZW50c10oL21hcGJveC1nbC1qcy9hcGkvbWFwLyNtYXAtZXZlbnRzKS5cbiAqIEBwcm9wZXJ0eSB7TWFwfSB0YXJnZXQgVGhlIGBNYXBgIGluc3RhbmNlIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudC5cbiAqIEBleGFtcGxlXG4gKiAvLyBFeGFtcGxlIHRyaWdnZXIgb2YgYSBCb3hab29tRXZlbnQgb2YgdHlwZSBcImJveHpvb21zdGFydFwiXG4gKiBtYXAub24oJ2JveHpvb21zdGFydCcsIChlKSA9PiB7XG4gKiAgICAgY29uc29sZS5sb2coJ2V2ZW50IHR5cGU6JywgZS50eXBlKTtcbiAqICAgICAvLyBldmVudCB0eXBlOiBib3h6b29tc3RhcnRcbiAqIH0pO1xuICogQGV4YW1wbGVcbiAqIC8vIEV4YW1wbGUgb2YgYSBCb3hab29tRXZlbnQgb2YgdHlwZSBcImJveHpvb21zdGFydFwiXG4gKiAvLyB7XG4gKiAvLyAgIG9yaWdpbmFsRXZlbnQ6IHsuLi59LFxuICogLy8gICB0eXBlOiBcImJveHpvb21zdGFydFwiLFxuICogLy8gICB0YXJnZXQ6IHsuLi59XG4gKiAvLyB9XG4gKiBAc2VlIFtSZWZlcmVuY2U6IGBNYXBgIGV2ZW50cyBBUEkgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS9tYXAvI21hcC1ldmVudHMpXG4gKiBAc2VlIFtFeGFtcGxlOiBIaWdobGlnaHQgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91c2luZy1ib3gtcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAqL1xuZXhwb3J0IHR5cGUgTWFwQm94Wm9vbUV2ZW50ID0ge1xuICAgIHR5cGU6ICdib3h6b29tc3RhcnQnXG4gICAgICAgIHwgJ2JveHpvb21lbmQnXG4gICAgICAgIHwgJ2JveHpvb21jYW5jZWwnLFxuICAgIHRhcmdldDogTWFwLFxuICAgIG9yaWdpbmFsRXZlbnQ6IE1vdXNlRXZlbnRcbn07XG5cbi8qKlxuICogYE1hcERhdGFFdmVudGAgaXMgYSBjbGFzcyB1c2VkIHRvIGdlbmVyYXRlXG4gKiBldmVudHMgcmVsYXRlZCB0byBsb2FkaW5nIGRhdGEsIHN0eWxlcywgYW5kIHNvdXJjZXMuXG4gKiBGb3IgYSBmdWxsIGxpc3Qgb2YgYXZhaWxhYmxlIGV2ZW50cywgc2VlIFtgTWFwYCBldmVudHNdKC9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLWV2ZW50cykuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gTWFwRGF0YUV2ZW50XG4gKiBAcHJvcGVydHkgeygnZGF0YScgfCAnZGF0YWxvYWRpbmcnIHwgJ3N0eWxlZGF0YScgfCAnc3R5bGVkYXRhbG9hZGluZycgfCAnc291cmNlZGF0YSd8ICdzb3VyY2VkYXRhbG9hZGluZycpfSB0eXBlIFRoZSB0eXBlIG9mIG9yaWdpbmF0aW5nIGV2ZW50LiBGb3IgYSBmdWxsIGxpc3Qgb2YgYXZhaWxhYmxlIGV2ZW50cywgc2VlIFtgTWFwYCBldmVudHNdKC9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLWV2ZW50cykuXG4gKiBAcHJvcGVydHkgeygnc291cmNlJyB8ICdzdHlsZScpfSBkYXRhVHlwZSBUaGUgdHlwZSBvZiBkYXRhIHRoYXQgaGFzIGNoYW5nZWQuIE9uZSBvZiBgJ3NvdXJjZSdgIG9yIGAnc3R5bGUnYCwgd2hlcmUgYCdzb3VyY2UnYCByZWZlcnMgdG8gdGhlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIGFueSBzb3VyY2UsIGFuZCBgJ3N0eWxlJ2AgcmVmZXJzIHRvIHRoZSBlbnRpcmUgW3N0eWxlXShodHRwczovL2RvY3MubWFwYm94LmNvbS9oZWxwL2dsb3NzYXJ5L3N0eWxlLykgdXNlZCBieSB0aGUgbWFwLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaXNTb3VyY2VMb2FkZWRdIFRydWUgaWYgdGhlIGV2ZW50IGhhcyBhIGBkYXRhVHlwZWAgb2YgYHNvdXJjZWAgYW5kIHRoZSBzb3VyY2UgaGFzIG5vIG91dHN0YW5kaW5nIG5ldHdvcmsgcmVxdWVzdHMuXG4gKiBAcHJvcGVydHkge09iamVjdH0gW3NvdXJjZV0gVGhlIFtzdHlsZSBzcGVjIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzb3VyY2VdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvKSBpZiB0aGUgZXZlbnQgaGFzIGEgYGRhdGFUeXBlYCBvZiBgc291cmNlYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc291cmNlSWRdIFRoZSBgaWRgIG9mIHRoZSBbYHNvdXJjZWBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvKSB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQsIGlmIHRoZSBldmVudCBoYXMgYSBgZGF0YVR5cGVgIG9mIGBzb3VyY2VgLiBTYW1lIGFzIHRoZSBgaWRgIG9mIHRoZSBvYmplY3QgaW4gdGhlIGBzb3VyY2VgIHByb3BlcnR5LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzb3VyY2VEYXRhVHlwZV0gSW5jbHVkZWQgaWYgdGhlIGV2ZW50IGhhcyBhIGBkYXRhVHlwZWAgb2YgYHNvdXJjZWAgYW5kIHRoZSBldmVudCBzaWduYWxzXG4gKiB0aGF0IGludGVybmFsIGRhdGEgaGFzIGJlZW4gcmVjZWl2ZWQgb3IgY2hhbmdlZC4gUG9zc2libGUgdmFsdWVzIGFyZSBgbWV0YWRhdGFgLCBgY29udGVudGAgYW5kIGB2aXNpYmlsaXR5YC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbdGlsZV0gVGhlIHRpbGUgYmVpbmcgbG9hZGVkIG9yIGNoYW5nZWQsIGlmIHRoZSBldmVudCBoYXMgYSBgZGF0YVR5cGVgIG9mIGBzb3VyY2VgIGFuZFxuICogdGhlIGV2ZW50IGlzIHJlbGF0ZWQgdG8gbG9hZGluZyBvZiBhIHRpbGUuXG4gKiBAcHJvcGVydHkge0Nvb3JkaW5hdGV9IFtjb29yZF0gVGhlIGNvb3JkaW5hdGUgb2YgdGhlIHRpbGUgaWYgdGhlIGV2ZW50IGhhcyBhIGBkYXRhVHlwZWAgb2YgYHNvdXJjZWAgYW5kXG4gKiB0aGUgZXZlbnQgaXMgcmVsYXRlZCB0byBsb2FkaW5nIG9mIGEgdGlsZS5cbiAqIEBleGFtcGxlXG4gKiAvLyBFeGFtcGxlIG9mIGEgTWFwRGF0YUV2ZW50IG9mIHR5cGUgXCJzb3VyY2VkYXRhXCJcbiAqIG1hcC5vbignc291cmNlZGF0YScsIChlKSA9PiB7XG4gKiAgICAgY29uc29sZS5sb2coZSk7XG4gKiAgICAgLy8ge1xuICogICAgIC8vICAgZGF0YVR5cGU6IFwic291cmNlXCIsXG4gKiAgICAgLy8gICBpc1NvdXJjZUxvYWRlZDogZmFsc2UsXG4gKiAgICAgLy8gICBzb3VyY2U6IHtcbiAqICAgICAvLyAgICAgdHlwZTogXCJ2ZWN0b3JcIixcbiAqICAgICAvLyAgICAgdXJsOiBcIm1hcGJveDovL21hcGJveC5tYXBib3gtc3RyZWV0cy12OCxtYXBib3gubWFwYm94LXRlcnJhaW4tdjJcIlxuICogICAgIC8vICAgfSxcbiAqICAgICAvLyAgIHNvdXJjZURhdGFUeXBlOiBcInZpc2liaWxpdHlcIixcbiAqICAgICAvLyAgIHNvdXJjZUlkOiBcImNvbXBvc2l0ZVwiLFxuICogICAgIC8vICAgc3R5bGU6IHsuLi59LFxuICogICAgIC8vICAgdGFyZ2V0OiB7Li4ufSxcbiAqICAgICAvLyAgIHR5cGU6IFwic291cmNlZGF0YVwiXG4gKiAgICAgLy8gfVxuICogfSk7XG4gKiBAc2VlIFtSZWZlcmVuY2U6IGBNYXBgIGV2ZW50cyBBUEkgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS9tYXAvI21hcC1ldmVudHMpXG4gKiBAc2VlIFtFeGFtcGxlOiBDaGFuZ2UgYSBtYXAncyBzdHlsZV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2V0c3R5bGUvKVxuICogQHNlZSBbRXhhbXBsZTogQWRkIGEgR2VvSlNPTiBsaW5lXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nZW9qc29uLWxpbmUvKVxuICovXG5leHBvcnQgdHlwZSBNYXBEYXRhRXZlbnQgPSB7XG4gICAgdHlwZTogJ2RhdGEnXG4gICAgICAgIHwgJ2RhdGFsb2FkaW5nJ1xuICAgICAgICB8ICdzdHlsZWRhdGEnXG4gICAgICAgIHwgJ3N0eWxlZGF0YWxvYWRpbmcnXG4gICAgICAgIHwgJ3NvdXJjZWRhdGEnXG4gICAgICAgIHwgJ3NvdXJjZWRhdGFsb2FkaW5nJyxcbiAgICBkYXRhVHlwZTogJ3NvdXJjZSdcbiAgICAgICAgfCAnc3R5bGUnXG59O1xuXG5leHBvcnQgdHlwZSBNYXBDb250ZXh0RXZlbnQgPSB7XG4gICAgdHlwZTogJ3dlYmdsY29udGV4dGxvc3QnIHwgJ3dlYmdsY29udGV4dHJlc3RvcmVkJyxcbiAgICBvcmlnaW5hbEV2ZW50OiBXZWJHTENvbnRleHRFdmVudFxufVxuXG5leHBvcnQgdHlwZSBNYXBFdmVudCA9XG4gICAgLyoqIEBzZWN0aW9uIHtJbnRlcmFjdGlvbn1cbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIHByZXNzZWQgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBldmVudCBpcyBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkYCBwYXJhbWV0ZXIuXG4gICAgICogSWYgYGxheWVySWRgIGlzIGluY2x1ZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW4ge0BsaW5rIE1hcCNvbn0sIHRoZSBldmVudCBsaXN0ZW5lciB3aWxsIGZpcmUgb25seSB3aGVuIHRoZVxuICAgICAqIHRoZSBjdXJzb3IgaXMgcHJlc3NlZCB3aGlsZSBpbnNpZGUgYSB2aXNpYmxlIHBvcnRpb24gb2YgdGhlIHNwZWNpZmVkIGxheWVyLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlZG93blxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwTW91c2VFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lclxuICAgICAqIG1hcC5vbignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBtb3VzZWRvd24gZXZlbnQgaGFzIG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIGZvciBhIHNwZWNpZmljIGxheWVyXG4gICAgICogbWFwLm9uKCdtb3VzZWRvd24nLCAncG9pLWxhYmVsJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBtb3VzZWRvd24gZXZlbnQgaGFzIG9jY3VycmVkIG9uIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSBwb2ktbGFiZWwgbGF5ZXIuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHwgJ21vdXNlZG93bidcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgcmVsZWFzZWQgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBldmVudCBpcyBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkYCBwYXJhbWV0ZXIuXG4gICAgICogSWYgYGxheWVySWRgIGlzIGluY2x1ZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW4ge0BsaW5rIE1hcCNvbn0sIHRoZSBldmVudCBsaXN0ZW5lciB3aWxsIGZpcmUgb25seSB3aGVuIHRoZVxuICAgICAqIHRoZSBjdXJzb3IgaXMgcmVsZWFzZWQgd2hpbGUgaW5zaWRlIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSBzcGVjaWZlZCBsYXllci5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZXVwXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBNb3VzZUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyXG4gICAgICogbWFwLm9uKCdtb3VzZXVwJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBtb3VzZXVwIGV2ZW50IGhhcyBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpYyBsYXllclxuICAgICAqIG1hcC5vbignbW91c2V1cCcsICdwb2ktbGFiZWwnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIG1vdXNldXAgZXZlbnQgaGFzIG9jY3VycmVkIG9uIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSBwb2ktbGFiZWwgbGF5ZXIuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHwgJ21vdXNldXAnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqIEFzIHlvdSBtb3ZlIHRoZSBjdXJzb3IgYWNyb3NzIGEgd2ViIHBhZ2UgY29udGFpbmluZyBhIG1hcCxcbiAgICAgKiB0aGUgZXZlbnQgd2lsbCBmaXJlIGVhY2ggdGltZSBpdCBlbnRlcnMgdGhlIG1hcCBvciBhbnkgY2hpbGQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBldmVudCBpcyBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkYCBwYXJhbWV0ZXIuXG4gICAgICogSWYgYGxheWVySWRgIGlzIGluY2x1ZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW4ge0BsaW5rIE1hcCNvbn0sIHRoZSBldmVudCBsaXN0ZW5lciB3aWxsIGZpcmUgb25seSB3aGVuIHRoZVxuICAgICAqIHRoZSBjdXJzb3IgaXMgbW92ZWQgaW5zaWRlIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSBzcGVjaWZlZCBsYXllci5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZW92ZXJcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBtYXAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW91c2VvdmVyIGV2ZW50IGhhcyBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpYyBsYXllclxuICAgICAqIG1hcC5vbignbW91c2VvdmVyJywgJ3BvaS1sYWJlbCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW91c2VvdmVyIGV2ZW50IGhhcyBvY2N1cnJlZCBvbiBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgcG9pLWxhYmVsIGxheWVyLicpO1xuICAgICAqIH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IEdldCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tb3VzZS1wb3NpdGlvbi8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHVuZGVyIHRoZSBtb3VzZSBwb2ludGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2hvdmVyLXN0eWxlcy8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwIG9uIGhvdmVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWhvdmVyLylcbiAgICAgKi9cbiAgICB8ICdtb3VzZW92ZXInXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIHRoZSBjdXJzb3IgaXMgaW5zaWRlIHRoZSBtYXAuXG4gICAgICogQXMgeW91IG1vdmUgdGhlIGN1cnNvciBhY3Jvc3MgdGhlIG1hcCwgdGhlIGV2ZW50IHdpbGwgZmlyZSBldmVyeSB0aW1lIHRoZSBjdXJzb3IgY2hhbmdlcyBwb3NpdGlvbiB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGV2ZW50IGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgb3B0aW9uYWwgYGxheWVySWRgIHBhcmFtZXRlci5cbiAgICAgKiBJZiBgbGF5ZXJJZGAgaXMgaW5jbHVkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbiB7QGxpbmsgTWFwI29ufSwgdGhlIGV2ZW50IGxpc3RlbmVyIHdpbGwgZmlyZSBvbmx5IHdoZW4gdGhlXG4gICAgICogdGhlIGN1cnNvciBpcyBpbnNpZGUgYSB2aXNpYmxlIHBvcnRpb24gb2YgdGhlIHNwZWNpZmllZCBsYXllci5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZW1vdmVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBtYXAub24oJ21vdXNlbW92ZScsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW91c2Vtb3ZlIGV2ZW50IGhhcyBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpYyBsYXllclxuICAgICAqIG1hcC5vbignbW91c2Vtb3ZlJywgJ3BvaS1sYWJlbCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW91c2Vtb3ZlIGV2ZW50IGhhcyBvY2N1cnJlZCBvbiBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgcG9pLWxhYmVsIGxheWVyLicpO1xuICAgICAqIH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IEdldCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tb3VzZS1wb3NpdGlvbi8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHVuZGVyIHRoZSBtb3VzZSBwb2ludGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2hvdmVyLXN0eWxlcy8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwIG9uIG92ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24taG92ZXIvKVxuICAgICAqL1xuICAgIHwgJ21vdXNlbW92ZSdcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgY2xpY2sgZXZlbnQgb2NjdXJzIGFuZCBpcyBmaXJlZCBiZWZvcmUgdGhlIGNsaWNrIGV2ZW50LlxuICAgICAqIFByaW1hcmlseSBpbXBsZW1lbnRlZCB0byBlbnN1cmUgY2xvc2VPbkNsaWNrIGZvciBwb3AtdXBzIGlzIGZpcmVkIGJlZm9yZSBhbnkgb3RoZXIgbGlzdGVuZXJzLlxuICAgICAqXG4gICAgICogQGV2ZW50IHByZWNsaWNrXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBNb3VzZUV2ZW50fVxuICAgICAqL1xuICAgICB8ICdwcmVjbGljaydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgYXQgdGhlIHNhbWUgcG9pbnQgb24gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGV2ZW50IGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgb3B0aW9uYWwgYGxheWVySWRgIHBhcmFtZXRlci5cbiAgICAgKiBJZiBgbGF5ZXJJZGAgaXMgaW5jbHVkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbiB7QGxpbmsgTWFwI29ufSwgdGhlIGV2ZW50IGxpc3RlbmVyIHdpbGwgZmlyZSBvbmx5IHdoZW4gdGhlXG4gICAgICogcG9pbnQgdGhhdCBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBjb250YWlucyBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgc3BlY2lmZWQgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgY2xpY2tcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBtYXAub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYEEgY2xpY2sgZXZlbnQgaGFzIG9jY3VycmVkIGF0ICR7ZS5sbmdMYXR9YCk7XG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGEgc3BlY2lmaWMgbGF5ZXJcbiAgICAgKiBtYXAub24oJ2NsaWNrJywgJ3BvaS1sYWJlbCcsIChlKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBBIGNsaWNrIGV2ZW50IGhhcyBvY2N1cnJlZCBvbiBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgcG9pLWxhYmVsIGxheWVyIGF0ICR7ZS5sbmdMYXR9YCk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogTWVhc3VyZSBkaXN0YW5jZXNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbWVhc3VyZS8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQ2VudGVyIHRoZSBtYXAgb24gYSBjbGlja2VkIHN5bWJvbF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jZW50ZXItb24tc3ltYm9sLylcbiAgICAgKi9cbiAgICB8ICdjbGljaydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgdHdpY2UgYXQgdGhlIHNhbWUgcG9pbnQgb25cbiAgICAgKiB0aGUgbWFwIGluIHJhcGlkIHN1Y2Nlc3Npb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBldmVudCBpcyBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkYCBwYXJhbWV0ZXIuXG4gICAgICogSWYgYGxheWVySWRgIGlzIGluY2x1ZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW4ge0BsaW5rIE1hcCNvbn0sIHRoZSBldmVudCBsaXN0ZW5lciB3aWxsIGZpcmUgb25seVxuICAgICAqIHdoZW4gdGhlIHBvaW50IHRoYXQgaXMgY2xpY2tlZCB0d2ljZSBjb250YWlucyBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgc3BlY2lmZWQgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZGJsY2xpY2tcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBtYXAub24oJ2RibGNsaWNrJywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYEEgZGJsY2xpY2sgZXZlbnQgaGFzIG9jY3VycmVkIGF0ICR7ZS5sbmdMYXR9YCk7XG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGEgc3BlY2lmaWMgbGF5ZXJcbiAgICAgKiBtYXAub24oJ2RibGNsaWNrJywgJ3BvaS1sYWJlbCcsIChlKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBBIGRibGNsaWNrIGV2ZW50IGhhcyBvY2N1cnJlZCBvbiBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgcG9pLWxhYmVsIGxheWVyIGF0ICR7ZS5sbmdMYXR9YCk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnZGJsY2xpY2snXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGVudGVycyBhIHZpc2libGUgcG9ydGlvbiBvZiBhIHNwZWNpZmllZCBsYXllciBmcm9tXG4gICAgICogb3V0c2lkZSB0aGF0IGxheWVyIG9yIG91dHNpZGUgdGhlIG1hcCBjYW52YXMuXG4gICAgICpcbiAgICAgKiAqKkltcG9ydGFudDoqKiBUaGlzIGV2ZW50IGNhbiBvbmx5IGJlIGxpc3RlbmVkIGZvciB3aGVuIHtAbGluayBNYXAjb259IGluY2x1ZGVzIHRocmVlIGFyZ3VtZW50cyxcbiAgICAgKiB3aGVyZSB0aGUgc2Vjb25kIGFyZ3VtZW50IHNwZWNpZmllcyB0aGUgZGVzaXJlZCBsYXllci5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZWVudGVyXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBNb3VzZUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyXG4gICAgICogbWFwLm9uKCdtb3VzZWVudGVyJywgJ3dhdGVyJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBtb3VzZWVudGVyIGV2ZW50IG9jY3VycmVkIG9uIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSB3YXRlciBsYXllci4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBDZW50ZXIgdGhlIG1hcCBvbiBhIGNsaWNrZWQgc3ltYm9sXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jZW50ZXItb24tc3ltYm9sLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGEgcG9wdXAgb24gY2xpY2tdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWNsaWNrLylcbiAgICAgKi9cbiAgICB8ICdtb3VzZWVudGVyJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBsZWF2ZXMgYSB2aXNpYmxlIHBvcnRpb24gb2YgYSBzcGVjaWZpZWQgbGF5ZXIgb3IgbW92ZXNcbiAgICAgKiBmcm9tIHRoZSBzcGVjaWZpZWQgbGF5ZXIgdG8gb3V0c2lkZSB0aGUgbWFwIGNhbnZhcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUbyBkZXRlY3Qgd2hlbiB0aGUgbW91c2UgbGVhdmVzIHRoZSBjYW52YXMsIGluZGVwZW5kZW50IG9mIGxheWVyLCB1c2Uge0BsaW5rIE1hcC5ldmVudDptb3VzZW91dH0gaW5zdGVhZC5cbiAgICAgKlxuICAgICAqICoqSW1wb3J0YW50OioqIFRoaXMgZXZlbnQgY2FuIG9ubHkgYmUgbGlzdGVuZWQgZm9yIHdoZW4ge0BsaW5rIE1hcCNvbn0gaW5jbHVkZXMgdGhyZWUgYXJndW1lbnRzLFxuICAgICAqIHdoZXJlIHRoZSBzZWNvbmQgYXJndW1lbnQgc3BlY2lmaWVzIHRoZSBkZXNpcmVkIGxheWVyLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlbGVhdmVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHdoZW4gdGhlIHBvaW50aW5nIGRldmljZSBsZWF2ZXNcbiAgICAgKiAvLyBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgc3BlY2lmaWVkIGxheWVyLlxuICAgICAqIG1hcC5vbignbW91c2VsZWF2ZScsICd3YXRlcicsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW91c2VsZWF2ZSBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBIaWdobGlnaHQgZmVhdHVyZXMgdW5kZXIgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvaG92ZXItc3R5bGVzLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGEgcG9wdXAgb24gY2xpY2tdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWNsaWNrLylcbiAgICAgKi9cbiAgICB8ICdtb3VzZWxlYXZlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50IGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBsZWF2ZXMgdGhlIG1hcCdzIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZW91dFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwTW91c2VFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gd2hlbiB0aGUgcG9pbnRpbmcgZGV2aWNlIGxlYXZlc1xuICAgICAqIC8vIHRoZSBtYXAncyBjYW52YXMuXG4gICAgICogbWFwLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW91c2VvdXQgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnbW91c2VvdXQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSByaWdodCBidXR0b24gb2YgdGhlIG1vdXNlIGlzIGNsaWNrZWQgb3IgdGhlIGNvbnRleHQgbWVudSBrZXkgaXMgcHJlc3NlZCB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCBjb250ZXh0bWVudVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwTW91c2VFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gd2hlbiB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGlzXG4gICAgICogLy8gcHJlc3NlZCB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKiBtYXAub24oJ2NvbnRleHRtZW51JywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBjb250ZXh0bWVudSBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdjb250ZXh0bWVudSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBbYHdoZWVsYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3doZWVsKSBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgd2hlZWxcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcFdoZWVsRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHdoZW4gYSB3aGVlbCBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICogbWFwLm9uKCd3aGVlbCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0Egd2hlZWwgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnd2hlZWwnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgW2B0b3VjaHN0YXJ0YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3RvdWNoc3RhcnQpIGV2ZW50IG9jY3VycyB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCB0b3VjaHN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBUb3VjaEV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIGEgYHRvdWNoc3RhcnRgIGV2ZW50IG9jY3VycyB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKiBtYXAub24oJ3RvdWNoc3RhcnQnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIHRvdWNoc3RhcnQgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHwgJ3RvdWNoc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgW2B0b3VjaGVuZGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy90b3VjaGVuZCkgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IHRvdWNoZW5kXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBUb3VjaEV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwLlxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzIHdoZW4gYSBgdG91Y2hzdGFydGAgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqIG1hcC5vbigndG91Y2hzdGFydCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgdG91Y2hzdGFydCBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYSBkcmFnZ2FibGUgcG9pbnRdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICovXG4gICAgfCAndG91Y2hlbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgW2B0b3VjaG1vdmVgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvdG91Y2htb3ZlKSBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgdG91Y2htb3ZlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBUb3VjaEV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwLlxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzIHdoZW4gYSB0b3VjaG1vdmUgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqIG1hcC5vbigndG91Y2htb3ZlJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSB0b3VjaG1vdmUgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHwgJ3RvdWNobW92ZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBbYHRvdWNoY2FuY2VsYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3RvdWNoY2FuY2VsKSBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgdG91Y2hjYW5jZWxcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcFRvdWNoRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXAuXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXMgd2hlbiBhIGB0b3VjaGNhbmNlbGAgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqIG1hcC5vbigndG91Y2hjYW5jZWwnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIHRvdWNoY2FuY2VsIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ3RvdWNoY2FuY2VsJ1xuXG4gICAgLyoqIEBzZWN0aW9uIHtNb3ZlbWVudH1cbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBqdXN0IGJlZm9yZSB0aGUgbWFwIGJlZ2lucyBhIHRyYW5zaXRpb24gZnJvbSBvbmUgdmlldyB0byBhbm90aGVyLCBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2p1bXBUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW92ZXN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtEcmFnRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXAuXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXMganVzdCBiZWZvcmUgdGhlIG1hcCBiZWdpbnMgYSB0cmFuc2l0aW9uIGZyb20gb25lIHZpZXcgdG8gYW5vdGhlci5cbiAgICAgKiBtYXAub24oJ21vdmVzdGFydCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW92ZXN0YXJ0YCBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdtb3Zlc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhbiBhbmltYXRlZCB0cmFuc2l0aW9uIGZyb20gb25lIHZpZXcgdG8gYW5vdGhlciwgYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW92ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXAuXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXMgcmVwZWF0ZWRseSBkdXJpbmcgYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbi5cbiAgICAgKiBtYXAub24oJ21vdmUnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIG1vdmUgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBIVE1MIGNsdXN0ZXJzIHdpdGggY3VzdG9tIHByb3BlcnRpZXNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NsdXN0ZXItaHRtbC8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRmlsdGVyIGZlYXR1cmVzIHdpdGhpbiBtYXAgdmlld10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLWZlYXR1cmVzLXdpdGhpbi1tYXAtdmlldy8pXG4gICAgICovXG4gICAgfCAnbW92ZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGp1c3QgYWZ0ZXIgdGhlIG1hcCBjb21wbGV0ZXMgYSB0cmFuc2l0aW9uIGZyb20gb25lXG4gICAgICogdmlldyB0byBhbm90aGVyLCBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2p1bXBUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW92ZWVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7RHJhZ0V2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBqdXN0IGFmdGVyIHRoZSBtYXAgY29tcGxldGVzIGEgdHJhbnNpdGlvbi5cbiAgICAgKiBtYXAub24oJ21vdmVlbmQnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIG1vdmVlbmQgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogUGxheSBtYXAgbG9jYXRpb25zIGFzIGEgc2xpZGVzaG93XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BsYXliYWNrLWxvY2F0aW9ucy8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRmlsdGVyIGZlYXR1cmVzIHdpdGhpbiBtYXAgdmlld10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9maWx0ZXItZmVhdHVyZXMtd2l0aGluLW1hcC12aWV3LylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IEhUTUwgY2x1c3RlcnMgd2l0aCBjdXN0b20gcHJvcGVydGllc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY2x1c3Rlci1odG1sLylcbiAgICAgKi9cbiAgICB8ICdtb3ZlZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBzdGFydHMuIFNlZSB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGRyYWdzdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7RHJhZ0V2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIGEgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIHN0YXJ0cy5cbiAgICAgKiBtYXAub24oJ2RyYWdzdGFydCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgZHJhZ3N0YXJ0IGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ2RyYWdzdGFydCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHJlcGVhdGVkbHkgZHVyaW5nIGEgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uLiBTZWUge0BsaW5rIERyYWdQYW5IYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBkcmFnXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gcmVwZWF0ZWRseSBkdXJpbmcgYSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24uXG4gICAgICogbWFwLm9uKCdkcmFnJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBkcmFnIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ2RyYWcnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGVuZHMuIFNlZSB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGRyYWdlbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge0RyYWdFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gd2hlbiBhIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBlbmRzLlxuICAgICAqIG1hcC5vbignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgZHJhZ2VuZCBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYSBkcmFnZ2FibGUgbWFya2VyXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtbWFya2VyLylcbiAgICAgKi9cbiAgICB8ICdkcmFnZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQganVzdCBiZWZvcmUgdGhlIG1hcCBiZWdpbnMgYSB0cmFuc2l0aW9uIGZyb20gb25lIHpvb20gbGV2ZWwgdG8gYW5vdGhlcixcbiAgICAgKiBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCB6b29tc3RhcnRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBqdXN0IGJlZm9yZSBhIHpvb20gdHJhbnNpdGlvbiBzdGFydHMuXG4gICAgICogbWFwLm9uKCd6b29tc3RhcnQnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIHpvb21zdGFydCBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICd6b29tc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhbiBhbmltYXRlZCB0cmFuc2l0aW9uIGZyb20gb25lIHpvb20gbGV2ZWwgdG8gYW5vdGhlcixcbiAgICAgKiBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCB6b29tXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gcmVwZWF0ZWRseSBkdXJpbmcgYSB6b29tIHRyYW5zaXRpb24uXG4gICAgICogbWFwLm9uKCd6b29tJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSB6b29tIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IFVwZGF0ZSBhIGNob3JvcGxldGggbGF5ZXIgYnkgem9vbSBsZXZlbF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91cGRhdGluZy1jaG9yb3BsZXRoLylcbiAgICAgKi9cbiAgICB8ICd6b29tJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQganVzdCBhZnRlciB0aGUgbWFwIGNvbXBsZXRlcyBhIHRyYW5zaXRpb24gZnJvbSBvbmUgem9vbSBsZXZlbCB0byBhbm90aGVyXG4gICAgICogYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICogVGhlIHpvb20gdHJhbnNpdGlvbiB3aWxsIHVzdWFsbHkgZW5kIGJlZm9yZSByZW5kZXJpbmcgaXMgZmluaXNoZWQsIHNvIGlmIHlvdVxuICAgICAqIG5lZWQgdG8gd2FpdCBmb3IgcmVuZGVyaW5nIHRvIGZpbmlzaCwgdXNlIHRoZSB7QGxpbmsgTWFwLmV2ZW50OmlkbGV9IGV2ZW50IGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgem9vbWVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIGp1c3QgYWZ0ZXIgYSB6b29tIHRyYW5zaXRpb24gZmluaXNoZXMuXG4gICAgICogbWFwLm9uKCd6b29tZW5kJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSB6b29tZW5kIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ3pvb21lbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIHN0YXJ0cy4gU2VlIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcm90YXRlc3RhcnRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBqdXN0IGJlZm9yZSBhIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBzdGFydHMuXG4gICAgICogbWFwLm9uKCdyb3RhdGVzdGFydCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0Egcm90YXRlc3RhcnQgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAncm90YXRlc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbi4gU2VlIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcm90YXRlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gcmVwZWF0ZWRseSBkdXJpbmcgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLlxuICAgICAqIG1hcC5vbigncm90YXRlJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSByb3RhdGUgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAncm90YXRlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBlbmRzLiBTZWUge0BsaW5rIERyYWdSb3RhdGVIYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCByb3RhdGVlbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBqdXN0IGFmdGVyIGEgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGVuZHMuXG4gICAgICogbWFwLm9uKCdyb3RhdGVlbmQnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIHJvdGF0ZWVuZCBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdyb3RhdGVlbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuZXZlciB0aGUgbWFwJ3MgcGl0Y2ggKHRpbHQpIGJlZ2lucyBhIGNoYW5nZSBhc1xuICAgICAqIHRoZSByZXN1bHQgb2YgZWl0aGVyIHVzZXIgaW50ZXJhY3Rpb24gb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZmx5VG99IC5cbiAgICAgKlxuICAgICAqIEBldmVudCBwaXRjaHN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBEYXRhRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIGp1c3QgYmVmb3JlIGEgcGl0Y2ggKHRpbHQpIHRyYW5zaXRpb24gc3RhcnRzLlxuICAgICAqIG1hcC5vbigncGl0Y2hzdGFydCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgcGl0Y2hzdGFydCBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdwaXRjaHN0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgcmVwZWF0ZWRseSBkdXJpbmcgdGhlIG1hcCdzIHBpdGNoICh0aWx0KSBhbmltYXRpb24gYmV0d2VlblxuICAgICAqIG9uZSBzdGF0ZSBhbmQgYW5vdGhlciBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uXG4gICAgICogb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZmx5VG99LlxuICAgICAqXG4gICAgICogQGV2ZW50IHBpdGNoXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBEYXRhRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHJlcGVhdGVkbHkgZHVyaW5nIGEgcGl0Y2ggKHRpbHQpIHRyYW5zaXRpb24uXG4gICAgICogbWFwLm9uKCdwaXRjaCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgcGl0Y2ggZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAncGl0Y2gnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgbWFwJ3MgcGl0Y2ggKHRpbHQpIGZpbmlzaGVzIGNoYW5naW5nIGFzXG4gICAgICogdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcGl0Y2hlbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcERhdGFFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8ganVzdCBhZnRlciBhIHBpdGNoICh0aWx0KSB0cmFuc2l0aW9uIGVuZHMuXG4gICAgICogbWFwLm9uKCdwaXRjaGVuZCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgcGl0Y2hlbmQgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAncGl0Y2hlbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIHN0YXJ0cy4gU2VlIHtAbGluayBCb3hab29tSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgYm94em9vbXN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBCb3hab29tRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIGp1c3QgYmVmb3JlIGEgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIHN0YXJ0cy5cbiAgICAgKiBtYXAub24oJ2JveHpvb21zdGFydCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgYm94em9vbXN0YXJ0IGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ2JveHpvb21zdGFydCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gZW5kcy4gIFNlZSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGJveHpvb21lbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAdHlwZSB7TWFwQm94Wm9vbUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBqdXN0IGFmdGVyIGEgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGVuZHMuXG4gICAgICogbWFwLm9uKCdib3h6b29tZW5kJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBib3h6b29tZW5kIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ2JveHpvb21lbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB1c2VyIGNhbmNlbHMgYSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24sIG9yIHdoZW4gdGhlIGJvdW5kaW5nIGJveCBkb2VzIG5vdCBtZWV0IHRoZSBtaW5pbXVtIHNpemUgdGhyZXNob2xkLlxuICAgICAqIFNlZSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGJveHpvb21jYW5jZWxcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcEJveFpvb21FdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gdGhlIHVzZXIgY2FuY2VscyBhIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKiBtYXAub24oJ2JveHpvb21jYW5jZWwnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIGJveHpvb21jYW5jZWwgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnYm94em9vbWNhbmNlbCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBtYXAgaGFzIGJlZW4gcmVzaXplZC5cbiAgICAgKlxuICAgICAqIEBldmVudCByZXNpemVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBtYXAgaGFzIGJlZW4gcmVzaXplZC5cbiAgICAgKiBtYXAub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgcmVzaXplIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ3Jlc2l6ZSdcblxuICAgIC8qKiBAc2VjdGlvbiB7TGlmZWN5Y2xlfVxuICAgICAqIEBldmVudFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXAgKi9cblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIGFsbCBuZWNlc3NhcnkgcmVzb3VyY2VzIGhhdmUgYmVlbiBkb3dubG9hZGVkXG4gICAgICogYW5kIHRoZSBmaXJzdCB2aXN1YWxseSBjb21wbGV0ZSByZW5kZXJpbmcgb2YgdGhlIG1hcCBoYXMgb2NjdXJyZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbG9hZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIHRoZSBtYXAgaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4gICAgICogbWFwLm9uKCdsb2FkJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBsb2FkIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IERyYXcgR2VvSlNPTiBwb2ludHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2VvanNvbi1tYXJrZXJzLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgbGl2ZSByZWFsdGltZSBkYXRhXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtZ2VvanNvbi8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQW5pbWF0ZSBhIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2FuaW1hdGUtcG9pbnQtYWxvbmctbGluZS8pXG4gICAgICovXG4gICAgfCAnbG9hZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW5ldmVyIHRoZSBtYXAgaXMgZHJhd24gdG8gdGhlIHNjcmVlbiwgYXMgdGhlIHJlc3VsdCBvZjpcbiAgICAgKlxuICAgICAqIC0gYSBjaGFuZ2UgdG8gdGhlIG1hcCdzIHBvc2l0aW9uLCB6b29tLCBwaXRjaCwgb3IgYmVhcmluZ1xuICAgICAqIC0gYSBjaGFuZ2UgdG8gdGhlIG1hcCdzIHN0eWxlXG4gICAgICogLSBhIGNoYW5nZSB0byBhIEdlb0pTT04gc291cmNlXG4gICAgICogLSB0aGUgbG9hZGluZyBvZiBhIHZlY3RvciB0aWxlLCBHZW9KU09OIGZpbGUsIGdseXBoLCBvciBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcmVuZGVyXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuZXZlciB0aGUgbWFwIGlzIGRyYXduIHRvIHRoZSBzY3JlZW4uXG4gICAgICogbWFwLm9uKCdyZW5kZXInLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIHJlbmRlciBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdyZW5kZXInXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBhZnRlciB0aGUgbGFzdCBmcmFtZSByZW5kZXJlZCBiZWZvcmUgdGhlIG1hcCBlbnRlcnMgYW5cbiAgICAgKiBcImlkbGVcIiBzdGF0ZTpcbiAgICAgKlxuICAgICAqIC0gTm8gY2FtZXJhIHRyYW5zaXRpb25zIGFyZSBpbiBwcm9ncmVzc1xuICAgICAqIC0gQWxsIGN1cnJlbnRseSByZXF1ZXN0ZWQgdGlsZXMgaGF2ZSBsb2FkZWRcbiAgICAgKiAtIEFsbCBmYWRlL3RyYW5zaXRpb24gYW5pbWF0aW9ucyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKlxuICAgICAqIEBldmVudCBpZGxlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBqdXN0IGJlZm9yZSB0aGUgbWFwIGVudGVycyBhbiBcImlkbGVcIiBzdGF0ZS5cbiAgICAgKiBtYXAub24oJ2lkbGUnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIGlkbGUgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnaWRsZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBtYXAgaGFzIGJlZW4gcmVtb3ZlZCB3aXRoIHtAbGluayBNYXAuZXZlbnQ6cmVtb3ZlfS5cbiAgICAgKlxuICAgICAqIEBldmVudCByZW1vdmVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIGp1c3QgYWZ0ZXIgdGhlIG1hcCBpcyByZW1vdmVkLlxuICAgICAqIG1hcC5vbigncmVtb3ZlJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSByZW1vdmUgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAncmVtb3ZlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuIFRoaXMgaXMgTWFwYm94IEdMIEpTJ3MgcHJpbWFyeSBlcnJvciByZXBvcnRpbmdcbiAgICAgKiBtZWNoYW5pc20uIFdlIHVzZSBhbiBldmVudCBpbnN0ZWFkIG9mIGB0aHJvd2AgdG8gYmV0dGVyIGFjY29tbW9kYXRlXG4gICAgICogYXN5bmNyb25vdXMgb3BlcmF0aW9ucy4gSWYgbm8gbGlzdGVuZXJzIGFyZSBib3VuZCB0byB0aGUgYGVycm9yYCBldmVudCwgdGhlXG4gICAgICogZXJyb3Igd2lsbCBiZSBwcmludGVkIHRvIHRoZSBjb25zb2xlLlxuICAgICAqXG4gICAgICogQGV2ZW50IGVycm9yXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIEVycm9yIG1lc3NhZ2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHdoZW4gYW4gZXJyb3Igb2NjdXJzLlxuICAgICAqIG1hcC5vbignZXJyb3InLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIGVycm9yIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ2Vycm9yJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyBsb3N0LlxuICAgICAqXG4gICAgICogQGV2ZW50IHdlYmdsY29udGV4dGxvc3RcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgbG9zdC5cbiAgICAgKiBtYXAub24oJ3dlYmdsY29udGV4dGxvc3QnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIHdlYmdsY29udGV4dGxvc3QgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnd2ViZ2xjb250ZXh0bG9zdCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgcmVzdG9yZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgd2ViZ2xjb250ZXh0cmVzdG9yZWRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgcmVzdG9yZWQuXG4gICAgICogbWFwLm9uKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0Egd2ViZ2xjb250ZXh0cmVzdG9yZWQgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnd2ViZ2xjb250ZXh0cmVzdG9yZWQnXG5cbiAgICAvKiogQHNlY3Rpb24ge0RhdGEgbG9hZGluZ31cbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGFueSBtYXAgZGF0YSBsb2FkcyBvciBjaGFuZ2VzLiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH1cbiAgICAgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBkYXRhXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBEYXRhRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHdoZW4gbWFwIGRhdGEgbG9hZHMgb3IgY2hhbmdlcy5cbiAgICAgKiBtYXAub24oJ2RhdGEnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIGRhdGEgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBIVE1MIGNsdXN0ZXJzIHdpdGggY3VzdG9tIHByb3BlcnRpZXNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NsdXN0ZXItaHRtbC8pXG4gICAgICovXG4gICAgfCAnZGF0YSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIG1hcCdzIHN0eWxlIGxvYWRzIG9yIGNoYW5nZXMuIFNlZVxuICAgICAqIHtAbGluayBNYXBEYXRhRXZlbnR9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQGV2ZW50IHN0eWxlZGF0YVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwRGF0YUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIHRoZSBtYXAncyBzdHlsZSBsb2FkcyBvciBjaGFuZ2VzLlxuICAgICAqIG1hcC5vbignc3R5bGVkYXRhJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBzdHlsZWRhdGEgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnc3R5bGVkYXRhJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBvbmUgb2YgdGhlIG1hcCdzIHNvdXJjZXMgbG9hZHMgb3IgY2hhbmdlcywgaW5jbHVkaW5nIGlmIGEgdGlsZSBiZWxvbmdpbmdcbiAgICAgKiB0byBhIHNvdXJjZSBsb2FkcyBvciBjaGFuZ2VzLiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc291cmNlZGF0YVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwRGF0YUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIG9uZSBvZiB0aGUgbWFwJ3Mgc291cmNlcyBsb2FkcyBvciBjaGFuZ2VzLlxuICAgICAqIG1hcC5vbignc291cmNlZGF0YScsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0Egc291cmNlZGF0YSBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdzb3VyY2VkYXRhJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhbnkgbWFwIGRhdGEgKHN0eWxlLCBzb3VyY2UsIHRpbGUsIGV0YykgYmVnaW5zIGxvYWRpbmcgb3JcbiAgICAgKiBjaGFuZ2luZyBhc3luY2hyb25vdXNseS4gQWxsIGBkYXRhbG9hZGluZ2AgZXZlbnRzIGFyZSBmb2xsb3dlZCBieSBhIGBkYXRhYFxuICAgICAqIG9yIGBlcnJvcmAgZXZlbnQuIFNlZSB7QGxpbmsgTWFwRGF0YUV2ZW50fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBkYXRhbG9hZGluZ1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwRGF0YUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIGFueSBtYXAgZGF0YSBiZWdpbnMgbG9hZGluZ1xuICAgICAqIC8vIG9yIGNoYW5naW5nIGFzeW5jaHJvbm91c2x5LlxuICAgICAqIG1hcC5vbignZGF0YWxvYWRpbmcnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIGRhdGFsb2FkaW5nIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ2RhdGFsb2FkaW5nJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgbWFwJ3Mgc3R5bGUgYmVnaW5zIGxvYWRpbmcgb3IgY2hhbmdpbmcgYXN5bmNocm9ub3VzbHkuXG4gICAgICogQWxsIGBzdHlsZWRhdGFsb2FkaW5nYCBldmVudHMgYXJlIGZvbGxvd2VkIGJ5IGEgYHN0eWxlZGF0YWBcbiAgICAgKiBvciBgZXJyb3JgIGV2ZW50LiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc3R5bGVkYXRhbG9hZGluZ1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwRGF0YUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIHRoZSBtYXAncyBzdHlsZSBiZWdpbnMgbG9hZGluZyBvclxuICAgICAqIC8vIGNoYW5naW5nIGFzeW5jaHJvbm91c2x5LlxuICAgICAqIG1hcC5vbignc3R5bGVkYXRhbG9hZGluZycsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0Egc3R5bGVkYXRhbG9hZGluZyBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdzdHlsZWRhdGFsb2FkaW5nJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBvbmUgb2YgdGhlIG1hcCdzIHNvdXJjZXMgYmVnaW5zIGxvYWRpbmcgb3IgY2hhbmdpbmcgYXN5bmNocm9ub3VzbHkuXG4gICAgICogQWxsIGBzb3VyY2VkYXRhbG9hZGluZ2AgZXZlbnRzIGFyZSBmb2xsb3dlZCBieSBhIGBzb3VyY2VkYXRhYCBvciBgZXJyb3JgIGV2ZW50LlxuICAgICAqIFNlZSB7QGxpbmsgTWFwRGF0YUV2ZW50fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBzb3VyY2VkYXRhbG9hZGluZ1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwRGF0YUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIHRoZSBtYXAncyBzb3VyY2VzIGJlZ2luIGxvYWRpbmcgb3JcbiAgICAgKiAvLyBjaGFuZ2luZyBhc3luY2hyb25vdXNseS5cbiAgICAgKiBtYXAub24oJ3NvdXJjZWRhdGFsb2FkaW5nJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBzb3VyY2VkYXRhbG9hZGluZyBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdzb3VyY2VkYXRhbG9hZGluZydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYW4gaWNvbiBvciBwYXR0ZXJuIG5lZWRlZCBieSB0aGUgc3R5bGUgaXMgbWlzc2luZy4gVGhlIG1pc3NpbmcgaW1hZ2UgY2FuXG4gICAgICogYmUgYWRkZWQgd2l0aCB7QGxpbmsgTWFwI2FkZEltYWdlfSB3aXRoaW4gdGhpcyBldmVudCBsaXN0ZW5lciBjYWxsYmFjayB0byBwcmV2ZW50IHRoZSBpbWFnZSBmcm9tXG4gICAgICogYmVpbmcgc2tpcHBlZC4gVGhpcyBldmVudCBjYW4gYmUgdXNlZCB0byBkeW5hbWljYWxseSBnZW5lcmF0ZSBpY29ucyBhbmQgcGF0dGVybnMuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc3R5bGVpbWFnZW1pc3NpbmdcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGlkIFRoZSBpZCBvZiB0aGUgbWlzc2luZyBpbWFnZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gd2hlbiBhbiBpY29uIG9yIHBhdHRlcm4gaXMgbWlzc2luZy5cbiAgICAgKiBtYXAub24oJ3N0eWxlaW1hZ2VtaXNzaW5nJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBzdHlsZWltYWdlbWlzc2luZyBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBHZW5lcmF0ZSBhbmQgYWRkIGEgbWlzc2luZyBpY29uIHRvIHRoZSBtYXBdKGh0dHBzOi8vbWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hZGQtaW1hZ2UtbWlzc2luZy1nZW5lcmF0ZWQvKVxuICAgICAqL1xuICAgIHwgJ3N0eWxlaW1hZ2VtaXNzaW5nJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgYWxsIHN0eWxlIHJlc291cmNlcyBoYXZlIGJlZW4gZG93bmxvYWRlZFxuICAgICAqIGFuZCB0aGUgZmlyc3QgdmlzdWFsbHkgY29tcGxldGUgcmVuZGVyaW5nIG9mIHRoZSBiYXNlIHN0eWxlIGhhcyBvY2N1cnJlZC5cbiAgICAgKlxuICAgICAqIEBldmVudCBzdHlsZS5sb2FkXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIHRoZSBtYXAgaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4gICAgICogbWFwLm9uKCdzdHlsZS5sb2FkJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBzdHlsZSBsb2FkIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IFBlcnNpc3QgbGF5ZXJzIHdoZW4gc3dpdGNoaW5nIGJhc2Ugc3R5bGVdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc3R5bGUtc3dpdGNoKVxuICAgICAqL1xuICAgIHwgJ3N0eWxlLmxvYWQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBhZnRlciBzcGVlZCBpbmRleCBjYWxjdWxhdGlvbiBpcyBjb21wbGV0ZWQgaWYgYHNwZWVkSW5kZXhUaW1pbmdgIG9wdGlvbiBoYXMgYmVlbiBzZXQgdG8gYHRydWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZXZlbnQgc3BlZWRpbmRleGNvbXBsZXRlZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIHZhciBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiBtYXAuc3BlZWRJbmRleFRpbWluZyA9IHRydWU7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBhZnRlciBzcGVlZCBpbmRleCBjYWxjdWxhdGlvbiBpcyBjb21wbGV0ZWQuXG4gICAgICogbWFwLm9uKCdzcGVlZGluZGV4Y29tcGxldGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhgc3BlZWQgaW5kZXggaXMgJHttYXAuc3BlZWRJbmRleE51bWJlcn1gKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdzcGVlZGluZGV4Y29tcGxldGVkJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgYWZ0ZXIgUlRMIHRleHQgcGx1Z2luIHN0YXRlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcGx1Z2luU3RhdGVDaGFuZ2VcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHwgJ3BsdWdpblN0YXRlQ2hhbmdlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgaW4gd29ya2VyLmpzIGFmdGVyIHNwcml0ZSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcGx1Z2luU3RhdGVDaGFuZ2VcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHwgJ2lzU3ByaXRlTG9hZGVkJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgaW4gc3R5bGUuanMgYWZ0ZXIgbGF5ZXIgb3JkZXIgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBldmVudCBwbHVnaW5TdGF0ZUNoYW5nZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgfCAnbmV3b3JkZXInXG47XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7TWFwTW91c2VFdmVudCwgTWFwVG91Y2hFdmVudCwgTWFwV2hlZWxFdmVudH0gZnJvbSAnLi4vZXZlbnRzLmpzJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB0eXBlIHtIYW5kbGVyUmVzdWx0fSBmcm9tICcuLi9oYW5kbGVyX21hbmFnZXIuanMnO1xuXG5leHBvcnQgY2xhc3MgTWFwRXZlbnRIYW5kbGVyIHtcblxuICAgIF9tb3VzZWRvd25Qb3M6ID9Qb2ludDtcbiAgICBfY2xpY2tUb2xlcmFuY2U6IG51bWJlcjtcbiAgICBfbWFwOiBNYXA7XG5cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCwgb3B0aW9uczogeyBjbGlja1RvbGVyYW5jZTogbnVtYmVyIH0pIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9jbGlja1RvbGVyYW5jZSA9IG9wdGlvbnMuY2xpY2tUb2xlcmFuY2U7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX21vdXNlZG93blBvcyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB3aGVlbChlOiBXaGVlbEV2ZW50KTogP0hhbmRsZXJSZXN1bHQge1xuICAgICAgICAvLyBJZiBtYXBFdmVudC5wcmV2ZW50RGVmYXVsdCgpIGlzIGNhbGxlZCBieSB0aGUgdXNlciwgcHJldmVudCBoYW5kbGVycyBzdWNoIGFzOlxuICAgICAgICAvLyAtIFNjcm9sbFpvb21cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgTWFwV2hlZWxFdmVudChlLnR5cGUsIHRoaXMuX21hcCwgZSkpO1xuICAgIH1cblxuICAgIG1vdXNlZG93bihlOiBNb3VzZUV2ZW50LCBwb2ludDogUG9pbnQpOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIHRoaXMuX21vdXNlZG93blBvcyA9IHBvaW50O1xuICAgICAgICAvLyBJZiBtYXBFdmVudC5wcmV2ZW50RGVmYXVsdCgpIGlzIGNhbGxlZCBieSB0aGUgdXNlciwgcHJldmVudCBoYW5kbGVycyBzdWNoIGFzOlxuICAgICAgICAvLyAtIE1vdXNlUGFuXG4gICAgICAgIC8vIC0gTW91c2VSb3RhdGVcbiAgICAgICAgLy8gLSBNb3VzZVBpdGNoXG4gICAgICAgIC8vIC0gRGJsY2xpY2tIYW5kbGVyXG4gICAgICAgIHJldHVybiB0aGlzLl9maXJlUHJldmVudGFibGUobmV3IE1hcE1vdXNlRXZlbnQoZS50eXBlLCB0aGlzLl9tYXAsIGUpKTtcbiAgICB9XG5cbiAgICBtb3VzZXVwKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoZS50eXBlLCB0aGlzLl9tYXAsIGUpKTtcbiAgICB9XG5cbiAgICBwcmVjbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHN5bnRoID0gZXh0ZW5kKHt9LCBlKTtcbiAgICAgICAgc3ludGgudHlwZSA9ICdwcmVjbGljayc7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KHN5bnRoLnR5cGUsIHRoaXMuX21hcCwgc3ludGgpKTtcbiAgICB9XG5cbiAgICBjbGljayhlOiBNb3VzZUV2ZW50LCBwb2ludDogUG9pbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vdXNlZG93blBvcyAmJiB0aGlzLl9tb3VzZWRvd25Qb3MuZGlzdChwb2ludCkgPj0gdGhpcy5fY2xpY2tUb2xlcmFuY2UpIHJldHVybjtcbiAgICAgICAgdGhpcy5wcmVjbGljayhlKTtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoZS50eXBlLCB0aGlzLl9tYXAsIGUpKTtcbiAgICB9XG5cbiAgICBkYmxjbGljayhlOiBNb3VzZUV2ZW50KTogP0hhbmRsZXJSZXN1bHQge1xuICAgICAgICAvLyBJZiBtYXBFdmVudC5wcmV2ZW50RGVmYXVsdCgpIGlzIGNhbGxlZCBieSB0aGUgdXNlciwgcHJldmVudCBoYW5kbGVycyBzdWNoIGFzOlxuICAgICAgICAvLyAtIERibENsaWNrWm9vbVxuICAgICAgICByZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBNYXBNb3VzZUV2ZW50KGUudHlwZSwgdGhpcy5fbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgbW91c2VvdmVyKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoZS50eXBlLCB0aGlzLl9tYXAsIGUpKTtcbiAgICB9XG5cbiAgICBtb3VzZW91dChlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KGUudHlwZSwgdGhpcy5fbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgdG91Y2hzdGFydChlOiBUb3VjaEV2ZW50KTogP0hhbmRsZXJSZXN1bHQge1xuICAgICAgICAvLyBJZiBtYXBFdmVudC5wcmV2ZW50RGVmYXVsdCgpIGlzIGNhbGxlZCBieSB0aGUgdXNlciwgcHJldmVudCBoYW5kbGVycyBzdWNoIGFzOlxuICAgICAgICAvLyAtIFRvdWNoUGFuXG4gICAgICAgIC8vIC0gVG91Y2hab29tXG4gICAgICAgIC8vIC0gVG91Y2hSb3RhdGVcbiAgICAgICAgLy8gLSBUb3VjaFBpdGNoXG4gICAgICAgIC8vIC0gVGFwWm9vbVxuICAgICAgICAvLyAtIFN3aXBlWm9vbVxuICAgICAgICByZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBNYXBUb3VjaEV2ZW50KGUudHlwZSwgdGhpcy5fbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgdG91Y2htb3ZlKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IE1hcFRvdWNoRXZlbnQoZS50eXBlLCB0aGlzLl9tYXAsIGUpKTtcbiAgICB9XG5cbiAgICB0b3VjaGVuZChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBNYXBUb3VjaEV2ZW50KGUudHlwZSwgdGhpcy5fbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgdG91Y2hjYW5jZWwoZTogVG91Y2hFdmVudCkge1xuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgTWFwVG91Y2hFdmVudChlLnR5cGUsIHRoaXMuX21hcCwgZSkpO1xuICAgIH1cblxuICAgIF9maXJlUHJldmVudGFibGUobWFwRXZlbnQ6IE1hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50IHwgTWFwV2hlZWxFdmVudCk6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobWFwRXZlbnQpO1xuICAgICAgICBpZiAobWFwRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgLy8gcmV0dXJuaW5nIGFuIG9iamVjdCBtYXJrcyB0aGUgaGFuZGxlciBhcyBhY3RpdmUgYW5kIHJlc2V0cyBvdGhlciBoYW5kbGVyc1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbmFibGUoKSB7fVxuICAgIGRpc2FibGUoKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgQmxvY2thYmxlTWFwRXZlbnRIYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2RlbGF5Q29udGV4dE1lbnU6IGJvb2xlYW47XG4gICAgX2NvbnRleHRNZW51RXZlbnQ6ID9Nb3VzZUV2ZW50O1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLl9kZWxheUNvbnRleHRNZW51ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NvbnRleHRNZW51RXZlbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgbW91c2Vtb3ZlKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgLy8gbW91c2Vtb3ZlIG1hcCBldmVudHMgc2hvdWxkIG5vdCBiZSBmaXJlZCB3aGVuIGludGVyYWN0aW9uIGhhbmRsZXJzIChwYW4sIHJvdGF0ZSwgZXRjKSBhcmUgYWN0aXZlXG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KGUudHlwZSwgdGhpcy5fbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgbW91c2Vkb3duKCkge1xuICAgICAgICB0aGlzLl9kZWxheUNvbnRleHRNZW51ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBtb3VzZXVwKCkge1xuICAgICAgICB0aGlzLl9kZWxheUNvbnRleHRNZW51ID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZXh0TWVudUV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgTWFwTW91c2VFdmVudCgnY29udGV4dG1lbnUnLCB0aGlzLl9tYXAsIHRoaXMuX2NvbnRleHRNZW51RXZlbnQpKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jb250ZXh0TWVudUV2ZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnRleHRtZW51KGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlbGF5Q29udGV4dE1lbnUpIHtcbiAgICAgICAgICAgIC8vIE1hYzogY29udGV4dG1lbnUgZmlyZWQgb24gbW91c2Vkb3duOyB3ZSBzYXZlIGl0IHVudGlsIG1vdXNldXAgZm9yIGNvbnNpc3RlbmN5J3Mgc2FrZVxuICAgICAgICAgICAgdGhpcy5fY29udGV4dE1lbnVFdmVudCA9IGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBXaW5kb3dzOiBjb250ZXh0bWVudSBmaXJlZCBvbiBtb3VzZXVwLCBzbyBmaXJlIGV2ZW50IG5vd1xuICAgICAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoZS50eXBlLCB0aGlzLl9tYXAsIGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHByZXZlbnQgYnJvd3NlciBjb250ZXh0IG1lbnUgd2hlbiBuZWNlc3NhcnlcbiAgICAgICAgaWYgKHRoaXMuX21hcC5saXN0ZW5zKCdjb250ZXh0bWVudScpKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzQWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVuYWJsZSgpIHt9XG4gICAgZGlzYWJsZSgpIHt9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20uanMnO1xuXG5pbXBvcnQge0V2ZW50fSBmcm9tICcuLi8uLi91dGlsL2V2ZW50ZWQuanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwLmpzJztcbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUge0hhbmRsZXJSZXN1bHR9IGZyb20gJy4uL2hhbmRsZXJfbWFuYWdlci5qcyc7XG5cbi8qKlxuICogVGhlIGBCb3hab29tSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCB0byBmaXQgd2l0aGluIGEgYm91bmRpbmcgYm94LlxuICogVGhlIGJvdW5kaW5nIGJveCBpcyBkZWZpbmVkIGJ5IGNsaWNraW5nIGFuZCBob2xkaW5nIGBzaGlmdGAgd2hpbGUgZHJhZ2dpbmcgdGhlIGN1cnNvci5cbiAqXG4gKiBAc2VlIFtFeGFtcGxlOiBUb2dnbGUgaW50ZXJhY3Rpb25zXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90b2dnbGUtaW50ZXJhY3Rpb24taGFuZGxlcnMvKVxuICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gKi9cbmNsYXNzIEJveFpvb21IYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICBfYWN0aXZlOiBib29sZWFuO1xuICAgIF9zdGFydFBvczogP1BvaW50O1xuICAgIF9sYXN0UG9zOiA/UG9pbnQ7XG4gICAgX2JveDogSFRNTEVsZW1lbnQ7XG4gICAgX2NsaWNrVG9sZXJhbmNlOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwLCBvcHRpb25zOiB7XG4gICAgICAgIGNsaWNrVG9sZXJhbmNlOiBudW1iZXJcbiAgICB9KSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fZWwgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG1hcC5nZXRDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fY2xpY2tUb2xlcmFuY2UgPSBvcHRpb25zLmNsaWNrVG9sZXJhbmNlIHx8IDE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc0JveFpvb21FbmFibGVkID0gbWFwLmJveFpvb20uaXNFbmFibGVkKCk7XG4gICAgICovXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmFibGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZSAoY3VycmVudGx5IGJlaW5nIHVzZWQpLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaXNCb3hab29tQWN0aXZlID0gbWFwLmJveFpvb20uaXNBY3RpdmUoKTtcbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fYWN0aXZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmJveFpvb20uZW5hYmxlKCk7XG4gICAgICovXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuYm94Wm9vbS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3VzZWRvd24oZTogTW91c2VFdmVudCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICBpZiAoIShlLnNoaWZ0S2V5ICYmIGUuYnV0dG9uID09PSAwKSkgcmV0dXJuO1xuXG4gICAgICAgIERPTS5kaXNhYmxlRHJhZygpO1xuICAgICAgICB0aGlzLl9zdGFydFBvcyA9IHRoaXMuX2xhc3RQb3MgPSBwb2ludDtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBtb3VzZW1vdmVXaW5kb3coZTogTW91c2VFdmVudCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGlmICghdGhpcy5fYWN0aXZlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcG9zID0gcG9pbnQ7XG4gICAgICAgIGNvbnN0IHAwID0gdGhpcy5fc3RhcnRQb3M7XG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5fbGFzdFBvcztcblxuICAgICAgICBpZiAoIXAwIHx8ICFwMSB8fCBwMS5lcXVhbHMocG9zKSB8fCAoIXRoaXMuX2JveCAmJiBwb3MuZGlzdChwMCkgPCB0aGlzLl9jbGlja1RvbGVyYW5jZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RQb3MgPSBwb3M7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9ib3gpIHtcbiAgICAgICAgICAgIHRoaXMuX2JveCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1ib3h6b29tJywgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jcm9zc2hhaXInKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnYm94em9vbXN0YXJ0JywgZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtaW5YID0gTWF0aC5taW4ocDAueCwgcG9zLngpLFxuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KHAwLngsIHBvcy54KSxcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihwMC55LCBwb3MueSksXG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgocDAueSwgcG9zLnkpO1xuXG4gICAgICAgIHRoaXMuX21hcC5fcmVxdWVzdERvbVRhc2soKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JveCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JveC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7bWluWH1weCwke21pbll9cHgpYDtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3guc3R5bGUud2lkdGggPSBgJHttYXhYIC0gbWluWH1weGA7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm94LnN0eWxlLmhlaWdodCA9IGAke21heFkgLSBtaW5ZfXB4YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbW91c2V1cFdpbmRvdyhlOiBNb3VzZUV2ZW50LCBwb2ludDogUG9pbnQpOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIGlmICghdGhpcy5fYWN0aXZlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcDAgPSB0aGlzLl9zdGFydFBvcyxcbiAgICAgICAgICAgIHAxID0gcG9pbnQ7XG5cbiAgICAgICAgaWYgKCFwMCB8fCBlLmJ1dHRvbiAhPT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBET00uc3VwcHJlc3NDbGljaygpO1xuXG4gICAgICAgIGlmIChwMC54ID09PSBwMS54ICYmIHAwLnkgPT09IHAxLnkpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnYm94em9vbWNhbmNlbCcsIGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KCdib3h6b29tZW5kJywge29yaWdpbmFsRXZlbnQ6IGV9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNhbWVyYUFuaW1hdGlvbjogKG1hcDogTWFwKSA9PiBtYXAuZml0U2NyZWVuQ29vcmRpbmF0ZXMocDAsIHAxLCB0aGlzLl9tYXAuZ2V0QmVhcmluZygpLCB7bGluZWFyOiBmYWxzZX0pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAga2V5ZG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5fYWN0aXZlKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnYm94em9vbWNhbmNlbCcsIGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmx1cigpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3Jvc3NoYWlyJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2JveCkge1xuICAgICAgICAgICAgdGhpcy5fYm94LnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5fYm94ID0gKG51bGw6IGFueSk7XG4gICAgICAgIH1cblxuICAgICAgICBET00uZW5hYmxlRHJhZygpO1xuXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zdGFydFBvcztcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xhc3RQb3M7XG4gICAgfVxuXG4gICAgX2ZpcmVFdmVudCh0eXBlOiBzdHJpbmcsIGU6IGFueSk6IE1hcCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQodHlwZSwge29yaWdpbmFsRXZlbnQ6IGV9KSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCb3hab29tSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHR5cGUgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvdWNoZXModG91Y2hlczogQXJyYXk8VG91Y2g+LCBwb2ludHM6IEFycmF5PFBvaW50Pik6IHtbbnVtYmVyIHwgc3RyaW5nXTogUG9pbnR9IHtcbiAgICBhc3NlcnQodG91Y2hlcy5sZW5ndGggPT09IHBvaW50cy5sZW5ndGgpO1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBvYmpbdG91Y2hlc1tpXS5pZGVudGlmaWVyXSA9IHBvaW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7aW5kZXhUb3VjaGVzfSBmcm9tICcuL2hhbmRsZXJfdXRpbC5qcyc7XG5cbmZ1bmN0aW9uIGdldENlbnRyb2lkKHBvaW50czogQXJyYXk8UG9pbnQ+KSB7XG4gICAgY29uc3Qgc3VtID0gbmV3IFBvaW50KDAsIDApO1xuICAgIGZvciAoY29uc3QgcG9pbnQgb2YgcG9pbnRzKSB7XG4gICAgICAgIHN1bS5fYWRkKHBvaW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bS5kaXYocG9pbnRzLmxlbmd0aCk7XG59XG5cbmV4cG9ydCBjb25zdCBNQVhfVEFQX0lOVEVSVkFMID0gNTAwO1xuY29uc3QgTUFYX1RPVUNIX1RJTUUgPSA1MDA7XG5jb25zdCBNQVhfRElTVCA9IDMwO1xuXG5leHBvcnQgY2xhc3MgU2luZ2xlVGFwUmVjb2duaXplciB7XG5cbiAgICBudW1Ub3VjaGVzOiBudW1iZXI7XG4gICAgY2VudHJvaWQ6ID9Qb2ludDtcbiAgICBzdGFydFRpbWU6IG51bWJlcjtcbiAgICBhYm9ydGVkOiBib29sZWFuO1xuICAgIHRvdWNoZXM6IHsgW251bWJlciB8IHN0cmluZ106IFBvaW50IH07XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IG51bVRvdWNoZXM6IG51bWJlciB9KSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy5udW1Ub3VjaGVzID0gb3B0aW9ucy5udW1Ub3VjaGVzO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmNlbnRyb2lkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IDA7XG4gICAgICAgIHRoaXMudG91Y2hlcyA9IHt9O1xuICAgICAgICB0aGlzLmFib3J0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0b3VjaHN0YXJ0KGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pIHtcblxuICAgICAgICBpZiAodGhpcy5jZW50cm9pZCB8fCBtYXBUb3VjaGVzLmxlbmd0aCA+IHRoaXMubnVtVG91Y2hlcykge1xuICAgICAgICAgICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdGFydFRpbWUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lID0gZS50aW1lU3RhbXA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFwVG91Y2hlcy5sZW5ndGggPT09IHRoaXMubnVtVG91Y2hlcykge1xuICAgICAgICAgICAgdGhpcy5jZW50cm9pZCA9IGdldENlbnRyb2lkKHBvaW50cyk7XG4gICAgICAgICAgICB0aGlzLnRvdWNoZXMgPSBpbmRleFRvdWNoZXMobWFwVG91Y2hlcywgcG9pbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvdWNobW92ZShlOiBUb3VjaEV2ZW50LCBwb2ludHM6IEFycmF5PFBvaW50PiwgbWFwVG91Y2hlczogQXJyYXk8VG91Y2g+KSB7XG4gICAgICAgIGlmICh0aGlzLmFib3J0ZWQgfHwgIXRoaXMuY2VudHJvaWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBuZXdUb3VjaGVzID0gaW5kZXhUb3VjaGVzKG1hcFRvdWNoZXMsIHBvaW50cyk7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy50b3VjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2UG9zID0gdGhpcy50b3VjaGVzW2lkXTtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IG5ld1RvdWNoZXNbaWRdO1xuICAgICAgICAgICAgaWYgKCFwb3MgfHwgcG9zLmRpc3QocHJldlBvcykgPiBNQVhfRElTVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b3VjaGVuZChlOiBUb3VjaEV2ZW50LCBwb2ludHM6IEFycmF5PFBvaW50PiwgbWFwVG91Y2hlczogQXJyYXk8VG91Y2g+KTogP1BvaW50IHtcbiAgICAgICAgaWYgKCF0aGlzLmNlbnRyb2lkIHx8IGUudGltZVN0YW1wIC0gdGhpcy5zdGFydFRpbWUgPiBNQVhfVE9VQ0hfVElNRSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXBUb3VjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgY2VudHJvaWQgPSAhdGhpcy5hYm9ydGVkICYmIHRoaXMuY2VudHJvaWQ7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICBpZiAoY2VudHJvaWQpIHJldHVybiBjZW50cm9pZDtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgVGFwUmVjb2duaXplciB7XG5cbiAgICBzaW5nbGVUYXA6IFNpbmdsZVRhcFJlY29nbml6ZXI7XG4gICAgbnVtVGFwczogbnVtYmVyO1xuICAgIGxhc3RUaW1lOiBudW1iZXI7XG4gICAgbGFzdFRhcDogP1BvaW50O1xuICAgIGNvdW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IG51bVRhcHM6IG51bWJlciwgbnVtVG91Y2hlczogbnVtYmVyIH0pIHtcbiAgICAgICAgdGhpcy5zaW5nbGVUYXAgPSBuZXcgU2luZ2xlVGFwUmVjb2duaXplcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5udW1UYXBzID0gb3B0aW9ucy5udW1UYXBzO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5sYXN0VGFwID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5zaW5nbGVUYXAucmVzZXQoKTtcbiAgICB9XG5cbiAgICB0b3VjaHN0YXJ0KGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pIHtcbiAgICAgICAgdGhpcy5zaW5nbGVUYXAudG91Y2hzdGFydChlLCBwb2ludHMsIG1hcFRvdWNoZXMpO1xuICAgIH1cblxuICAgIHRvdWNobW92ZShlOiBUb3VjaEV2ZW50LCBwb2ludHM6IEFycmF5PFBvaW50PiwgbWFwVG91Y2hlczogQXJyYXk8VG91Y2g+KSB7XG4gICAgICAgIHRoaXMuc2luZ2xlVGFwLnRvdWNobW92ZShlLCBwb2ludHMsIG1hcFRvdWNoZXMpO1xuICAgIH1cblxuICAgIHRvdWNoZW5kKGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pOiA/UG9pbnQge1xuICAgICAgICBjb25zdCB0YXAgPSB0aGlzLnNpbmdsZVRhcC50b3VjaGVuZChlLCBwb2ludHMsIG1hcFRvdWNoZXMpO1xuICAgICAgICBpZiAodGFwKSB7XG4gICAgICAgICAgICBjb25zdCBzb29uRW5vdWdoID0gZS50aW1lU3RhbXAgLSB0aGlzLmxhc3RUaW1lIDwgTUFYX1RBUF9JTlRFUlZBTDtcbiAgICAgICAgICAgIGNvbnN0IGNsb3NlRW5vdWdoID0gIXRoaXMubGFzdFRhcCB8fCB0aGlzLmxhc3RUYXAuZGlzdCh0YXApIDwgTUFYX0RJU1Q7XG5cbiAgICAgICAgICAgIGlmICghc29vbkVub3VnaCB8fCAhY2xvc2VFbm91Z2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgICAgIHRoaXMubGFzdFRpbWUgPSBlLnRpbWVTdGFtcDtcbiAgICAgICAgICAgIHRoaXMubGFzdFRhcCA9IHRhcDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IHRoaXMubnVtVGFwcykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtUYXBSZWNvZ25pemVyfSBmcm9tICcuL3RhcF9yZWNvZ25pemVyLmpzJztcbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcC5qcyc7XG5pbXBvcnQgdHlwZSB7SGFuZGxlclJlc3VsdH0gZnJvbSAnLi4vaGFuZGxlcl9tYW5hZ2VyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFwWm9vbUhhbmRsZXIge1xuXG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2FjdGl2ZTogYm9vbGVhbjtcbiAgICBfem9vbUluOiBUYXBSZWNvZ25pemVyO1xuICAgIF96b29tT3V0OiBUYXBSZWNvZ25pemVyO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3pvb21JbiA9IG5ldyBUYXBSZWNvZ25pemVyKHtcbiAgICAgICAgICAgIG51bVRvdWNoZXM6IDEsXG4gICAgICAgICAgICBudW1UYXBzOiAyXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3pvb21PdXQgPSBuZXcgVGFwUmVjb2duaXplcih7XG4gICAgICAgICAgICBudW1Ub3VjaGVzOiAyLFxuICAgICAgICAgICAgbnVtVGFwczogMVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl96b29tSW4ucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fem9vbU91dC5yZXNldCgpO1xuICAgIH1cblxuICAgIHRvdWNoc3RhcnQoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPikge1xuICAgICAgICB0aGlzLl96b29tSW4udG91Y2hzdGFydChlLCBwb2ludHMsIG1hcFRvdWNoZXMpO1xuICAgICAgICB0aGlzLl96b29tT3V0LnRvdWNoc3RhcnQoZSwgcG9pbnRzLCBtYXBUb3VjaGVzKTtcbiAgICB9XG5cbiAgICB0b3VjaG1vdmUoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPikge1xuICAgICAgICB0aGlzLl96b29tSW4udG91Y2htb3ZlKGUsIHBvaW50cywgbWFwVG91Y2hlcyk7XG4gICAgICAgIHRoaXMuX3pvb21PdXQudG91Y2htb3ZlKGUsIHBvaW50cywgbWFwVG91Y2hlcyk7XG4gICAgfVxuXG4gICAgdG91Y2hlbmQoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPik6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgY29uc3Qgem9vbUluUG9pbnQgPSB0aGlzLl96b29tSW4udG91Y2hlbmQoZSwgcG9pbnRzLCBtYXBUb3VjaGVzKTtcbiAgICAgICAgY29uc3Qgem9vbU91dFBvaW50ID0gdGhpcy5fem9vbU91dC50b3VjaGVuZChlLCBwb2ludHMsIG1hcFRvdWNoZXMpO1xuXG4gICAgICAgIGlmICh6b29tSW5Qb2ludCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZXNldCgpLCAwKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2FtZXJhQW5pbWF0aW9uOiAobWFwOiBNYXApID0+IG1hcC5lYXNlVG8oe1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgICAgICAgICB6b29tOiBtYXAuZ2V0Wm9vbSgpICsgMSxcbiAgICAgICAgICAgICAgICAgICAgYXJvdW5kOiBtYXAudW5wcm9qZWN0KHpvb21JblBvaW50KVxuICAgICAgICAgICAgICAgIH0sIHtvcmlnaW5hbEV2ZW50OiBlfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoem9vbU91dFBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnJlc2V0KCksIDApO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjYW1lcmFBbmltYXRpb246IChtYXA6IE1hcCkgPT4gbWFwLmVhc2VUbyh7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICAgICAgICAgIHpvb206IG1hcC5nZXRab29tKCkgLSAxLFxuICAgICAgICAgICAgICAgICAgICBhcm91bmQ6IG1hcC51bnByb2plY3Qoem9vbU91dFBvaW50KVxuICAgICAgICAgICAgICAgIH0sIHtvcmlnaW5hbEV2ZW50OiBlfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b3VjaGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20uanMnO1xuaW1wb3J0IHR5cGUgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSB7SGFuZGxlclJlc3VsdH0gZnJvbSAnLi4vaGFuZGxlcl9tYW5hZ2VyLmpzJztcblxuY29uc3QgTEVGVF9CVVRUT04gPSAwO1xuY29uc3QgUklHSFRfQlVUVE9OID0gMjtcblxuLy8gdGhlIHZhbHVlcyBmb3IgZWFjaCBidXR0b24gaW4gTW91c2VFdmVudC5idXR0b25zXG5jb25zdCBCVVRUT05TX0ZMQUdTID0ge1xuICAgIFtMRUZUX0JVVFRPTl06IDEsXG4gICAgW1JJR0hUX0JVVFRPTl06IDJcbn07XG5cbmZ1bmN0aW9uIGJ1dHRvblN0aWxsUHJlc3NlZChlOiBNb3VzZUV2ZW50LCBidXR0b246IG51bWJlcikge1xuICAgIGNvbnN0IGZsYWcgPSBCVVRUT05TX0ZMQUdTW2J1dHRvbl07XG4gICAgcmV0dXJuIGUuYnV0dG9ucyA9PT0gdW5kZWZpbmVkIHx8IChlLmJ1dHRvbnMgJiBmbGFnKSAhPT0gZmxhZztcbn1cblxuY2xhc3MgTW91c2VIYW5kbGVyIHtcblxuICAgIF9lbmFibGVkOiBib29sZWFuO1xuICAgIF9hY3RpdmU6IGJvb2xlYW47XG4gICAgX2xhc3RQb2ludDogP1BvaW50O1xuICAgIF9ldmVudEJ1dHRvbjogP251bWJlcjtcbiAgICBfbW92ZWQ6IGJvb2xlYW47XG4gICAgX2NsaWNrVG9sZXJhbmNlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IGNsaWNrVG9sZXJhbmNlOiBudW1iZXIgfSkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuX2NsaWNrVG9sZXJhbmNlID0gb3B0aW9ucy5jbGlja1RvbGVyYW5jZSB8fCAxO1xuICAgIH1cblxuICAgIGJsdXIoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX21vdmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2xhc3RQb2ludCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fZXZlbnRCdXR0b24gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX2NvcnJlY3RCdXR0b24oZTogTW91c2VFdmVudCwgYnV0dG9uOiBudW1iZXIpOiBib29sZWFuIHsgIC8vZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGltcGxlbWVudGVkIGJ5IGNoaWxkXG4gICAgfVxuXG4gICAgX21vdmUobGFzdFBvaW50OiBQb2ludCwgcG9pbnQ6IFBvaW50KTogP0hhbmRsZXJSZXN1bHQgeyAgLy9lc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIHJldHVybiB7fTsgLy8gaW1wbGVtZW50ZWQgYnkgY2hpbGRcbiAgICB9XG5cbiAgICBtb3VzZWRvd24oZTogTW91c2VFdmVudCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9sYXN0UG9pbnQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBldmVudEJ1dHRvbiA9IERPTS5tb3VzZUJ1dHRvbihlKTtcbiAgICAgICAgaWYgKCF0aGlzLl9jb3JyZWN0QnV0dG9uKGUsIGV2ZW50QnV0dG9uKSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX2xhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICB0aGlzLl9ldmVudEJ1dHRvbiA9IGV2ZW50QnV0dG9uO1xuICAgIH1cblxuICAgIG1vdXNlbW92ZVdpbmRvdyhlOiBNb3VzZUV2ZW50LCBwb2ludDogUG9pbnQpOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIGNvbnN0IGxhc3RQb2ludCA9IHRoaXMuX2xhc3RQb2ludDtcbiAgICAgICAgaWYgKCFsYXN0UG9pbnQpIHJldHVybjtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9ldmVudEJ1dHRvbiAhPSBudWxsICYmIGJ1dHRvblN0aWxsUHJlc3NlZChlLCB0aGlzLl9ldmVudEJ1dHRvbikpIHtcbiAgICAgICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3QgZmlyZSBhIGBtb3VzZXVwYCB3aGVuIHRoZSBtb3VzZXVwIG9jY3VycyBvdXRzaWRlXG4gICAgICAgICAgICAvLyB0aGUgd2luZG93IG9yIGlmcmFtZTpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy80NjIyXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gSWYgdGhlIGJ1dHRvbiBpcyBubyBsb25nZXIgcHJlc3NlZCBkdXJpbmcgdGhpcyBgbW91c2Vtb3ZlYCBpdCBtYXkgaGF2ZVxuICAgICAgICAgICAgLy8gYmVlbiByZWxlYXNlZCBvdXRzaWRlIG9mIHRoZSB3aW5kb3cgb3IgaWZyYW1lLlxuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9tb3ZlZCAmJiBwb2ludC5kaXN0KGxhc3RQb2ludCkgPCB0aGlzLl9jbGlja1RvbGVyYW5jZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9tb3ZlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2xhc3RQb2ludCA9IHBvaW50O1xuXG4gICAgICAgIC8vIGltcGxlbWVudGVkIGJ5IGNoaWxkIGNsYXNzXG4gICAgICAgIHJldHVybiB0aGlzLl9tb3ZlKGxhc3RQb2ludCwgcG9pbnQpO1xuICAgIH1cblxuICAgIG1vdXNldXBXaW5kb3coZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xhc3RQb2ludCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBldmVudEJ1dHRvbiA9IERPTS5tb3VzZUJ1dHRvbihlKTtcbiAgICAgICAgaWYgKGV2ZW50QnV0dG9uICE9PSB0aGlzLl9ldmVudEJ1dHRvbikgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5fbW92ZWQpIERPTS5zdXBwcmVzc0NsaWNrKCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW91c2VQYW5IYW5kbGVyIGV4dGVuZHMgTW91c2VIYW5kbGVyIHtcblxuICAgIG1vdXNlZG93bihlOiBNb3VzZUV2ZW50LCBwb2ludDogUG9pbnQpIHtcbiAgICAgICAgc3VwZXIubW91c2Vkb3duKGUsIHBvaW50KTtcbiAgICAgICAgaWYgKHRoaXMuX2xhc3RQb2ludCkgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gICAgX2NvcnJlY3RCdXR0b24oZTogTW91c2VFdmVudCwgYnV0dG9uOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbiA9PT0gTEVGVF9CVVRUT04gJiYgIWUuY3RybEtleTtcbiAgICB9XG5cbiAgICBfbW92ZShsYXN0UG9pbnQ6IFBvaW50LCBwb2ludDogUG9pbnQpOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhcm91bmQ6IHBvaW50LFxuICAgICAgICAgICAgcGFuRGVsdGE6IHBvaW50LnN1YihsYXN0UG9pbnQpXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW91c2VSb3RhdGVIYW5kbGVyIGV4dGVuZHMgTW91c2VIYW5kbGVyIHtcbiAgICBfY29ycmVjdEJ1dHRvbihlOiBNb3VzZUV2ZW50LCBidXR0b246IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKGJ1dHRvbiA9PT0gTEVGVF9CVVRUT04gJiYgZS5jdHJsS2V5KSB8fCAoYnV0dG9uID09PSBSSUdIVF9CVVRUT04pO1xuICAgIH1cblxuICAgIF9tb3ZlKGxhc3RQb2ludDogUG9pbnQsIHBvaW50OiBQb2ludCk6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgY29uc3QgZGVncmVlc1BlclBpeGVsTW92ZWQgPSAwLjg7XG4gICAgICAgIGNvbnN0IGJlYXJpbmdEZWx0YSA9IChwb2ludC54IC0gbGFzdFBvaW50LngpICogZGVncmVlc1BlclBpeGVsTW92ZWQ7XG4gICAgICAgIGlmIChiZWFyaW5nRGVsdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4ge2JlYXJpbmdEZWx0YX07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb250ZXh0bWVudShlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIC8vIHByZXZlbnQgYnJvd3NlciBjb250ZXh0IG1lbnUgd2hlbiBuZWNlc3Nhcnk7IHdlIGRvbid0IGFsbG93IGl0IHdpdGggcm90YXRpb25cbiAgICAgICAgLy8gYmVjYXVzZSB3ZSBjYW4ndCBkaXNjZXJuIHJvdGF0aW9uIGdlc3R1cmUgc3RhcnQgZnJvbSBjb250ZXh0bWVudSBvbiBNYWNcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdXNlUGl0Y2hIYW5kbGVyIGV4dGVuZHMgTW91c2VIYW5kbGVyIHtcbiAgICBfY29ycmVjdEJ1dHRvbihlOiBNb3VzZUV2ZW50LCBidXR0b246IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKGJ1dHRvbiA9PT0gTEVGVF9CVVRUT04gJiYgZS5jdHJsS2V5KSB8fCAoYnV0dG9uID09PSBSSUdIVF9CVVRUT04pO1xuICAgIH1cblxuICAgIF9tb3ZlKGxhc3RQb2ludDogUG9pbnQsIHBvaW50OiBQb2ludCk6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgY29uc3QgZGVncmVlc1BlclBpeGVsTW92ZWQgPSAtMC41O1xuICAgICAgICBjb25zdCBwaXRjaERlbHRhID0gKHBvaW50LnkgLSBsYXN0UG9pbnQueSkgKiBkZWdyZWVzUGVyUGl4ZWxNb3ZlZDtcbiAgICAgICAgaWYgKHBpdGNoRGVsdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4ge3BpdGNoRGVsdGF9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGV4dG1lbnUoZTogTW91c2VFdmVudCkge1xuICAgICAgICAvLyBwcmV2ZW50IGJyb3dzZXIgY29udGV4dCBtZW51IHdoZW4gbmVjZXNzYXJ5OyB3ZSBkb24ndCBhbGxvdyBpdCB3aXRoIHJvdGF0aW9uXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgY2FuJ3QgZGlzY2VybiByb3RhdGlvbiBnZXN0dXJlIHN0YXJ0IGZyb20gY29udGV4dG1lbnUgb24gTWFjXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwLmpzJztcbmltcG9ydCB7aW5kZXhUb3VjaGVzfSBmcm9tICcuL2hhbmRsZXJfdXRpbC5qcyc7XG5pbXBvcnQge2JpbmRBbGwsIGlzRnVsbHNjcmVlbn0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi91dGlsL2RvbS5qcyc7XG5pbXBvcnQgdHlwZSB7SGFuZGxlclJlc3VsdH0gZnJvbSAnLi4vaGFuZGxlcl9tYW5hZ2VyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG91Y2hQYW5IYW5kbGVyIHtcblxuICAgIF9tYXA6IE1hcDtcbiAgICBfZWw6IEhUTUxFbGVtZW50O1xuICAgIF9lbmFibGVkOiBib29sZWFuO1xuICAgIF9hY3RpdmU6IGJvb2xlYW47XG4gICAgX3RvdWNoZXM6IHsgW3N0cmluZyB8IG51bWJlcl06IFBvaW50IH07XG4gICAgX21pblRvdWNoZXM6IG51bWJlcjtcbiAgICBfY2xpY2tUb2xlcmFuY2U6IG51bWJlcjtcbiAgICBfc3VtOiBQb2ludDtcbiAgICBfYWxlcnRDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9hbGVydFRpbWVyOiBUaW1lb3V0SUQ7XG5cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCwgb3B0aW9uczogeyBjbGlja1RvbGVyYW5jZTogbnVtYmVyIH0pIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IG1hcC5nZXRDYW52YXNDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fbWluVG91Y2hlcyA9IDE7XG4gICAgICAgIHRoaXMuX2NsaWNrVG9sZXJhbmNlID0gb3B0aW9ucy5jbGlja1RvbGVyYW5jZSB8fCAxO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIGJpbmRBbGwoWydfYWRkVG91Y2hQYW5CbG9ja2VyJywgJ19zaG93VG91Y2hQYW5CbG9ja2VyQWxlcnQnXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl90b3VjaGVzID0ge307XG4gICAgICAgIHRoaXMuX3N1bSA9IG5ldyBQb2ludCgwLCAwKTtcbiAgICB9XG5cbiAgICB0b3VjaHN0YXJ0KGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0oZSwgcG9pbnRzLCBtYXBUb3VjaGVzKTtcbiAgICB9XG5cbiAgICB0b3VjaG1vdmUoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPik6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgaWYgKCF0aGlzLl9hY3RpdmUgfHwgbWFwVG91Y2hlcy5sZW5ndGggPCB0aGlzLl9taW5Ub3VjaGVzKSByZXR1cm47XG5cbiAgICAgICAgLy8gaWYgY29vcGVyYXRpdmUgZ2VzdHVyZSBoYW5kbGluZyBpcyBzZXQgdG8gdHJ1ZSwgcmVxdWlyZSB0d28gZmluZ2VycyB0byB0b3VjaCBwYW5cbiAgICAgICAgaWYgKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyAmJiAhdGhpcy5fbWFwLmlzTW92aW5nKCkpIHtcbiAgICAgICAgICAgIGlmIChtYXBUb3VjaGVzLmxlbmd0aCA9PT0gMSAmJiAhaXNGdWxsc2NyZWVuKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG93VG91Y2hQYW5CbG9ja2VyQWxlcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgIT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgLy8gaW1tZWRpYXRlbHkgaGlkZSBhbGVydCBpZiBpdCBpcyB2aXNpYmxlIHdoZW4gdHdvIGZpbmdlcnMgYXJlIHVzZWQgdG8gcGFuLlxuICAgICAgICAgICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS5jYW5jZWxhYmxlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fY2FsY3VsYXRlVHJhbnNmb3JtKGUsIHBvaW50cywgbWFwVG91Y2hlcyk7XG4gICAgfVxuXG4gICAgdG91Y2hlbmQoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPikge1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0oZSwgcG9pbnRzLCBtYXBUb3VjaGVzKTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlICYmIG1hcFRvdWNoZXMubGVuZ3RoIDwgdGhpcy5fbWluVG91Y2hlcykge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG91Y2hjYW5jZWwoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBfY2FsY3VsYXRlVHJhbnNmb3JtKGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIGlmIChtYXBUb3VjaGVzLmxlbmd0aCA+IDApIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgdG91Y2hlcyA9IGluZGV4VG91Y2hlcyhtYXBUb3VjaGVzLCBwb2ludHMpO1xuXG4gICAgICAgIGNvbnN0IHRvdWNoUG9pbnRTdW0gPSBuZXcgUG9pbnQoMCwgMCk7XG4gICAgICAgIGNvbnN0IHRvdWNoRGVsdGFTdW0gPSBuZXcgUG9pbnQoMCwgMCk7XG4gICAgICAgIGxldCB0b3VjaERlbHRhQ291bnQgPSAwO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWRlbnRpZmllciBpbiB0b3VjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHRvdWNoZXNbaWRlbnRpZmllcl07XG4gICAgICAgICAgICBjb25zdCBwcmV2UG9pbnQgPSB0aGlzLl90b3VjaGVzW2lkZW50aWZpZXJdO1xuICAgICAgICAgICAgaWYgKHByZXZQb2ludCkge1xuICAgICAgICAgICAgICAgIHRvdWNoUG9pbnRTdW0uX2FkZChwb2ludCk7XG4gICAgICAgICAgICAgICAgdG91Y2hEZWx0YVN1bS5fYWRkKHBvaW50LnN1YihwcmV2UG9pbnQpKTtcbiAgICAgICAgICAgICAgICB0b3VjaERlbHRhQ291bnQrKztcbiAgICAgICAgICAgICAgICB0b3VjaGVzW2lkZW50aWZpZXJdID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90b3VjaGVzID0gdG91Y2hlcztcblxuICAgICAgICBpZiAodG91Y2hEZWx0YUNvdW50IDwgdGhpcy5fbWluVG91Y2hlcyB8fCAhdG91Y2hEZWx0YVN1bS5tYWcoKSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHBhbkRlbHRhID0gdG91Y2hEZWx0YVN1bS5kaXYodG91Y2hEZWx0YUNvdW50KTtcbiAgICAgICAgdGhpcy5fc3VtLl9hZGQocGFuRGVsdGEpO1xuICAgICAgICBpZiAodGhpcy5fc3VtLm1hZygpIDwgdGhpcy5fY2xpY2tUb2xlcmFuY2UpIHJldHVybjtcblxuICAgICAgICBjb25zdCBhcm91bmQgPSB0b3VjaFBvaW50U3VtLmRpdih0b3VjaERlbHRhQ291bnQpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhcm91bmQsXG4gICAgICAgICAgICBwYW5EZWx0YVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvdWNoUGFuQmxvY2tlcigpO1xuICAgICAgICAgICAgLy8gb3ZlcnJpZGUgdG91Y2gtYWN0aW9uIGNzcyBwcm9wZXJ0eSB0byBlbmFibGUgc2Nyb2xsaW5nIHBhZ2Ugb3ZlciBtYXBcbiAgICAgICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLW92ZXJyaWRlJywgJ21hcGJveGdsLXNjcm9sbGFibGUtcGFnZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcik7XG4gICAgICAgICAgICB0aGlzLl9hbGVydENvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLW92ZXJyaWRlJywgJ21hcGJveGdsLXNjcm9sbGFibGUtcGFnZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2FjdGl2ZTtcbiAgICB9XG5cbiAgICBfYWRkVG91Y2hQYW5CbG9ja2VyKCkge1xuICAgICAgICBpZiAodGhpcy5fbWFwICYmICF0aGlzLl9hbGVydENvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXInLCB0aGlzLl9tYXAuX2NvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLnRleHRDb250ZW50ID0gdGhpcy5fbWFwLl9nZXRVSVN0cmluZygnVG91Y2hQYW5CbG9ja2VyLk1lc3NhZ2UnKTtcblxuICAgICAgICAgICAgLy8gZHluYW1pY2FsbHkgc2V0IHRoZSBmb250IHNpemUgb2YgdGhlIHRvdWNoIHBhbiBibG9ja2VyIGFsZXJ0IG1lc3NhZ2VcbiAgICAgICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gYCR7TWF0aC5tYXgoMTAsIE1hdGgubWluKDI0LCBNYXRoLmZsb29yKHRoaXMuX2VsLmNsaWVudFdpZHRoICogMC4wNSkpKX1weGA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCkge1xuICAgICAgICB0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICB0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1zaG93Jyk7XG4gICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJhbGVydFwiKTtcblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcik7XG5cbiAgICAgICAgdGhpcy5fYWxlcnRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItc2hvdycpO1xuICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm51bGxcIik7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxuXG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20uanMnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcC5qcyc7XG5pbXBvcnQgdHlwZSB7SGFuZGxlclJlc3VsdH0gZnJvbSAnLi4vaGFuZGxlcl9tYW5hZ2VyLmpzJztcbmltcG9ydCB7aXNGdWxsc2NyZWVufSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuXG5jbGFzcyBUd29Ub3VjaEhhbmRsZXIge1xuXG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2FjdGl2ZTogYm9vbGVhbjtcbiAgICBfZmlyc3RUd29Ub3VjaGVzOiA/W251bWJlciwgbnVtYmVyXTtcbiAgICBfdmVjdG9yOiA/UG9pbnQ7XG4gICAgX3N0YXJ0VmVjdG9yOiA/UG9pbnQ7XG4gICAgX2Fyb3VuZENlbnRlcjogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9maXJzdFR3b1RvdWNoZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX3N0YXJ0KHBvaW50czogW1BvaW50LCBQb2ludF0pIHt9IC8vZXNsaW50LWRpc2FibGUtbGluZVxuICAgIF9tb3ZlKHBvaW50czogW1BvaW50LCBQb2ludF0sIHBpbmNoQXJvdW5kOiA/UG9pbnQsIGU6IFRvdWNoRXZlbnQpOiA/SGFuZGxlclJlc3VsdCB7IHJldHVybiB7fTsgfSAvL2VzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIHRvdWNoc3RhcnQoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPikge1xuICAgICAgICAvL2NvbnNvbGUubG9nKGUudGFyZ2V0LCBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID8gZS50YXJnZXRUb3VjaGVzWzBdLnRhcmdldCA6IG51bGwpO1xuICAgICAgICAvL2xvZygndG91Y2hzdGFydCcsIHBvaW50cywgZS50YXJnZXQuaW5uZXJIVE1MLCBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID8gZS50YXJnZXRUb3VjaGVzWzBdLnRhcmdldC5pbm5lckhUTUw6IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmICh0aGlzLl9maXJzdFR3b1RvdWNoZXMgfHwgbWFwVG91Y2hlcy5sZW5ndGggPCAyKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fZmlyc3RUd29Ub3VjaGVzID0gW1xuICAgICAgICAgICAgbWFwVG91Y2hlc1swXS5pZGVudGlmaWVyLFxuICAgICAgICAgICAgbWFwVG91Y2hlc1sxXS5pZGVudGlmaWVyXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gaW1wbGVtZW50ZWQgYnkgY2hpbGQgY2xhc3Nlc1xuICAgICAgICB0aGlzLl9zdGFydChbcG9pbnRzWzBdLCBwb2ludHNbMV1dKTtcbiAgICB9XG5cbiAgICB0b3VjaG1vdmUoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPik6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgY29uc3QgZmlyc3RUb3VjaGVzID0gdGhpcy5fZmlyc3RUd29Ub3VjaGVzO1xuICAgICAgICBpZiAoIWZpcnN0VG91Y2hlcykgcmV0dXJuO1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCBbaWRBLCBpZEJdID0gZmlyc3RUb3VjaGVzO1xuICAgICAgICBjb25zdCBhID0gZ2V0VG91Y2hCeUlkKG1hcFRvdWNoZXMsIHBvaW50cywgaWRBKTtcbiAgICAgICAgY29uc3QgYiA9IGdldFRvdWNoQnlJZChtYXBUb3VjaGVzLCBwb2ludHMsIGlkQik7XG4gICAgICAgIGlmICghYSB8fCAhYikgcmV0dXJuO1xuICAgICAgICBjb25zdCBwaW5jaEFyb3VuZCA9IHRoaXMuX2Fyb3VuZENlbnRlciA/IG51bGwgOiBhLmFkZChiKS5kaXYoMik7XG5cbiAgICAgICAgLy8gaW1wbGVtZW50ZWQgYnkgY2hpbGQgY2xhc3Nlc1xuICAgICAgICByZXR1cm4gdGhpcy5fbW92ZShbYSwgYl0sIHBpbmNoQXJvdW5kLCBlKTtcblxuICAgIH1cblxuICAgIHRvdWNoZW5kKGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9maXJzdFR3b1RvdWNoZXMpIHJldHVybjtcblxuICAgICAgICBjb25zdCBbaWRBLCBpZEJdID0gdGhpcy5fZmlyc3RUd29Ub3VjaGVzO1xuICAgICAgICBjb25zdCBhID0gZ2V0VG91Y2hCeUlkKG1hcFRvdWNoZXMsIHBvaW50cywgaWRBKTtcbiAgICAgICAgY29uc3QgYiA9IGdldFRvdWNoQnlJZChtYXBUb3VjaGVzLCBwb2ludHMsIGlkQik7XG4gICAgICAgIGlmIChhICYmIGIpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSBET00uc3VwcHJlc3NDbGljaygpO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICB0b3VjaGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGVuYWJsZShvcHRpb25zOiA/e2Fyb3VuZD86ICdjZW50ZXInfSkge1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fYXJvdW5kQ2VudGVyID0gISFvcHRpb25zICYmIG9wdGlvbnMuYXJvdW5kID09PSAnY2VudGVyJztcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICAgIH1cblxuICAgIGlzQWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0VG91Y2hCeUlkKG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPiwgcG9pbnRzOiBBcnJheTxQb2ludD4sIGlkZW50aWZpZXI6IG51bWJlcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFwVG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAobWFwVG91Y2hlc1tpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSByZXR1cm4gcG9pbnRzW2ldO1xuICAgIH1cbn1cblxuLyogWk9PTSAqL1xuXG5jb25zdCBaT09NX1RIUkVTSE9MRCA9IDAuMTtcblxuZnVuY3Rpb24gZ2V0Wm9vbURlbHRhKGRpc3RhbmNlLCBsYXN0RGlzdGFuY2UpIHtcbiAgICByZXR1cm4gTWF0aC5sb2coZGlzdGFuY2UgLyBsYXN0RGlzdGFuY2UpIC8gTWF0aC5MTjI7XG59XG5cbmV4cG9ydCBjbGFzcyBUb3VjaFpvb21IYW5kbGVyIGV4dGVuZHMgVHdvVG91Y2hIYW5kbGVyIHtcblxuICAgIF9kaXN0YW5jZTogbnVtYmVyO1xuICAgIF9zdGFydERpc3RhbmNlOiBudW1iZXI7XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgc3VwZXIucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fZGlzdGFuY2UgPSAwO1xuICAgICAgICB0aGlzLl9zdGFydERpc3RhbmNlID0gMDtcbiAgICB9XG5cbiAgICBfc3RhcnQocG9pbnRzOiBbUG9pbnQsIFBvaW50XSkge1xuICAgICAgICB0aGlzLl9zdGFydERpc3RhbmNlID0gdGhpcy5fZGlzdGFuY2UgPSBwb2ludHNbMF0uZGlzdChwb2ludHNbMV0pO1xuICAgIH1cblxuICAgIF9tb3ZlKHBvaW50czogW1BvaW50LCBQb2ludF0sIHBpbmNoQXJvdW5kOiA/UG9pbnQpOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIGNvbnN0IGxhc3REaXN0YW5jZSA9IHRoaXMuX2Rpc3RhbmNlO1xuICAgICAgICB0aGlzLl9kaXN0YW5jZSA9IHBvaW50c1swXS5kaXN0KHBvaW50c1sxXSk7XG4gICAgICAgIGlmICghdGhpcy5fYWN0aXZlICYmIE1hdGguYWJzKGdldFpvb21EZWx0YSh0aGlzLl9kaXN0YW5jZSwgdGhpcy5fc3RhcnREaXN0YW5jZSkpIDwgWk9PTV9USFJFU0hPTEQpIHJldHVybjtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHpvb21EZWx0YTogZ2V0Wm9vbURlbHRhKHRoaXMuX2Rpc3RhbmNlLCBsYXN0RGlzdGFuY2UpLFxuICAgICAgICAgICAgcGluY2hBcm91bmRcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8qIFJPVEFURSAqL1xuXG5jb25zdCBST1RBVElPTl9USFJFU0hPTEQgPSAyNTsgLy8gcGl4ZWxzIGFsb25nIGNpcmN1bWZlcmVuY2Ugb2YgdG91Y2ggY2lyY2xlXG5cbmZ1bmN0aW9uIGdldEJlYXJpbmdEZWx0YShhOiBQb2ludCwgYjogUG9pbnQpIHtcbiAgICByZXR1cm4gYS5hbmdsZVdpdGgoYikgKiAxODAgLyBNYXRoLlBJO1xufVxuXG5leHBvcnQgY2xhc3MgVG91Y2hSb3RhdGVIYW5kbGVyIGV4dGVuZHMgVHdvVG91Y2hIYW5kbGVyIHtcbiAgICBfbWluRGlhbWV0ZXI6IG51bWJlcjtcblxuICAgIHJlc2V0KCkge1xuICAgICAgICBzdXBlci5yZXNldCgpO1xuICAgICAgICB0aGlzLl9taW5EaWFtZXRlciA9IDA7XG4gICAgICAgIHRoaXMuX3N0YXJ0VmVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl92ZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX3N0YXJ0KHBvaW50czogW1BvaW50LCBQb2ludF0pIHtcbiAgICAgICAgdGhpcy5fc3RhcnRWZWN0b3IgPSB0aGlzLl92ZWN0b3IgPSBwb2ludHNbMF0uc3ViKHBvaW50c1sxXSk7XG4gICAgICAgIHRoaXMuX21pbkRpYW1ldGVyID0gcG9pbnRzWzBdLmRpc3QocG9pbnRzWzFdKTtcbiAgICB9XG5cbiAgICBfbW92ZShwb2ludHM6IFtQb2ludCwgUG9pbnRdLCBwaW5jaEFyb3VuZDogP1BvaW50KTogP0hhbmRsZXJSZXN1bHQge1xuICAgICAgICBjb25zdCBsYXN0VmVjdG9yID0gdGhpcy5fdmVjdG9yO1xuICAgICAgICB0aGlzLl92ZWN0b3IgPSBwb2ludHNbMF0uc3ViKHBvaW50c1sxXSk7XG5cbiAgICAgICAgaWYgKCFsYXN0VmVjdG9yIHx8ICghdGhpcy5fYWN0aXZlICYmIHRoaXMuX2lzQmVsb3dUaHJlc2hvbGQodGhpcy5fdmVjdG9yKSkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtY2FsbF0gLSBGbG93IGRvZXNuJ3QgaW5mZXIgdGhhdCB0aGlzLl92ZWN0b3JpcyBub3QgbnVsbFxuICAgICAgICAgICAgYmVhcmluZ0RlbHRhOiBnZXRCZWFyaW5nRGVsdGEodGhpcy5fdmVjdG9yLCBsYXN0VmVjdG9yKSxcbiAgICAgICAgICAgIHBpbmNoQXJvdW5kXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2lzQmVsb3dUaHJlc2hvbGQodmVjdG9yOiBQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICAvKlxuICAgICAgICAgKiBUaGUgdGhyZXNob2xkIGJlZm9yZSBhIHJvdGF0aW9uIGFjdHVhbGx5IGhhcHBlbnMgaXMgY29uZmlndXJlZCBpblxuICAgICAgICAgKiBwaXhlbHMgYWxvbmd0aCBjaXJjdW1mZXJlbmNlIG9mIHRoZSBjaXJjbGUgZm9ybWVkIGJ5IHRoZSB0d28gZmluZ2Vycy5cbiAgICAgICAgICogVGhpcyBtYWtlcyB0aGUgdGhyZXNob2xkIGluIGRlZ3JlZXMgbGFyZ2VyIHdoZW4gdGhlIGZpbmdlcnMgYXJlIGNsb3NlXG4gICAgICAgICAqIHRvZ2V0aGVyIGFuZCBzbWFsbGVyIHdoZW4gdGhlIGZpbmdlcnMgYXJlIGZhciBhcGFydC5cbiAgICAgICAgICpcbiAgICAgICAgICogVXNlIHRoZSBzbWFsbGVzdCBkaWFtZXRlciBmcm9tIHRoZSB3aG9sZSBnZXN0dXJlIHRvIHJlZHVjZSBzZW5zaXRpdml0eVxuICAgICAgICAgKiB3aGVuIHBpbmNoaW5nIGluIGFuZCBvdXQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMuX21pbkRpYW1ldGVyID0gTWF0aC5taW4odGhpcy5fbWluRGlhbWV0ZXIsIHZlY3Rvci5tYWcoKSk7XG4gICAgICAgIGNvbnN0IGNpcmN1bWZlcmVuY2UgPSBNYXRoLlBJICogdGhpcy5fbWluRGlhbWV0ZXI7XG4gICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IFJPVEFUSU9OX1RIUkVTSE9MRCAvIGNpcmN1bWZlcmVuY2UgKiAzNjA7XG5cbiAgICAgICAgY29uc3Qgc3RhcnRWZWN0b3IgPSB0aGlzLl9zdGFydFZlY3RvcjtcbiAgICAgICAgaWYgKCFzdGFydFZlY3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGJlYXJpbmdEZWx0YVNpbmNlU3RhcnQgPSBnZXRCZWFyaW5nRGVsdGEodmVjdG9yLCBzdGFydFZlY3Rvcik7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyhiZWFyaW5nRGVsdGFTaW5jZVN0YXJ0KSA8IHRocmVzaG9sZDtcbiAgICB9XG59XG5cbi8qIFBJVENIICovXG5cbmZ1bmN0aW9uIGlzVmVydGljYWwodmVjdG9yKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHZlY3Rvci55KSA+IE1hdGguYWJzKHZlY3Rvci54KTtcbn1cblxuY29uc3QgQUxMT1dFRF9TSU5HTEVfVE9VQ0hfVElNRSA9IDEwMDtcblxuLyoqXG4gKiBUaGUgYFRvdWNoUGl0Y2hIYW5kbGVyYCBhbGxvd3MgdGhlIHVzZXIgdG8gcGl0Y2ggdGhlIG1hcCBieSBkcmFnZ2luZyB1cCBhbmQgZG93biB3aXRoIHR3byBmaW5nZXJzLlxuICpcbiAqIEBzZWUgW0V4YW1wbGU6IFNldCBwaXRjaCBhbmQgYmVhcmluZ10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2V0LXBlcnNwZWN0aXZlLylcbiovXG5leHBvcnQgY2xhc3MgVG91Y2hQaXRjaEhhbmRsZXIgZXh0ZW5kcyBUd29Ub3VjaEhhbmRsZXIge1xuXG4gICAgX3ZhbGlkOiBib29sZWFuIHwgdm9pZDtcbiAgICBfZmlyc3RNb3ZlOiA/bnVtYmVyO1xuICAgIF9sYXN0UG9pbnRzOiA/W1BvaW50LCBQb2ludF07XG4gICAgX21hcDogTWFwO1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICBzdXBlci5yZXNldCgpO1xuICAgICAgICB0aGlzLl92YWxpZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fZmlyc3RNb3ZlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9sYXN0UG9pbnRzID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIF9zdGFydChwb2ludHM6IFtQb2ludCwgUG9pbnRdKSB7XG4gICAgICAgIHRoaXMuX2xhc3RQb2ludHMgPSBwb2ludHM7XG4gICAgICAgIGlmIChpc1ZlcnRpY2FsKHBvaW50c1swXS5zdWIocG9pbnRzWzFdKSkpIHtcbiAgICAgICAgICAgIC8vIGZpbmdlcnMgYXJlIG1vcmUgaG9yaXpvbnRhbCB0aGFuIHZlcnRpY2FsXG4gICAgICAgICAgICB0aGlzLl92YWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBfbW92ZShwb2ludHM6IFtQb2ludCwgUG9pbnRdLCBjZW50ZXI6ID9Qb2ludCwgZTogVG91Y2hFdmVudCk6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgY29uc3QgbGFzdFBvaW50cyA9IHRoaXMuX2xhc3RQb2ludHM7XG4gICAgICAgIGlmICghbGFzdFBvaW50cykgcmV0dXJuO1xuICAgICAgICBjb25zdCB2ZWN0b3JBID0gcG9pbnRzWzBdLnN1YihsYXN0UG9pbnRzWzBdKTtcbiAgICAgICAgY29uc3QgdmVjdG9yQiA9IHBvaW50c1sxXS5zdWIobGFzdFBvaW50c1sxXSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyAmJiAhaXNGdWxsc2NyZWVuKCkgJiYgZS50b3VjaGVzLmxlbmd0aCA8IDMpIHJldHVybjtcblxuICAgICAgICB0aGlzLl92YWxpZCA9IHRoaXMuZ2VzdHVyZUJlZ2luc1ZlcnRpY2FsbHkodmVjdG9yQSwgdmVjdG9yQiwgZS50aW1lU3RhbXApO1xuXG4gICAgICAgIGlmICghdGhpcy5fdmFsaWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLl9sYXN0UG9pbnRzID0gcG9pbnRzO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICBjb25zdCB5RGVsdGFBdmVyYWdlID0gKHZlY3RvckEueSArIHZlY3RvckIueSkgLyAyO1xuICAgICAgICBjb25zdCBkZWdyZWVzUGVyUGl4ZWxNb3ZlZCA9IC0wLjU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwaXRjaERlbHRhOiB5RGVsdGFBdmVyYWdlICogZGVncmVlc1BlclBpeGVsTW92ZWRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXN0dXJlQmVnaW5zVmVydGljYWxseSh2ZWN0b3JBOiBQb2ludCwgdmVjdG9yQjogUG9pbnQsIHRpbWVTdGFtcDogbnVtYmVyKTogdm9pZCB8IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5fdmFsaWQgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX3ZhbGlkO1xuXG4gICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IDI7XG4gICAgICAgIGNvbnN0IG1vdmVkQSA9IHZlY3RvckEubWFnKCkgPj0gdGhyZXNob2xkO1xuICAgICAgICBjb25zdCBtb3ZlZEIgPSB2ZWN0b3JCLm1hZygpID49IHRocmVzaG9sZDtcblxuICAgICAgICAvLyBuZWl0aGVyIGZpbmdlciBoYXMgbW92ZWQgYSBtZWFuaW5nZnVsIGFtb3VudCwgd2FpdFxuICAgICAgICBpZiAoIW1vdmVkQSAmJiAhbW92ZWRCKSByZXR1cm47XG5cbiAgICAgICAgLy8gT25lIGZpbmdlciBoYXMgbW92ZWQgYW5kIHRoZSBvdGhlciBoYXMgbm90LlxuICAgICAgICAvLyBJZiBlbm91Z2ggdGltZSBoYXMgcGFzc2VkLCBkZWNpZGUgaXQgaXMgbm90IGEgcGl0Y2guXG4gICAgICAgIGlmICghbW92ZWRBIHx8ICFtb3ZlZEIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maXJzdE1vdmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcnN0TW92ZSA9IHRpbWVTdGFtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRpbWVTdGFtcCAtIHRoaXMuX2ZpcnN0TW92ZSA8IEFMTE9XRURfU0lOR0xFX1RPVUNIX1RJTUUpIHtcbiAgICAgICAgICAgICAgICAvLyBzdGlsbCB3YWl0aW5nIGZvciBhIG1vdmVtZW50IGZyb20gdGhlIHNlY29uZCBmaW5nZXJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc1NhbWVEaXJlY3Rpb24gPSB2ZWN0b3JBLnkgPiAwID09PSB2ZWN0b3JCLnkgPiAwO1xuICAgICAgICByZXR1cm4gaXNWZXJ0aWNhbCh2ZWN0b3JBKSAmJiBpc1ZlcnRpY2FsKHZlY3RvckIpICYmIGlzU2FtZURpcmVjdGlvbjtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwLmpzJztcbmltcG9ydCB0eXBlIHtIYW5kbGVyUmVzdWx0fSBmcm9tICcuLi9oYW5kbGVyX21hbmFnZXIuanMnO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBwYW5TdGVwOiAxMDAsXG4gICAgYmVhcmluZ1N0ZXA6IDE1LFxuICAgIHBpdGNoU3RlcDogMTBcbn07XG5cbi8qKlxuICogVGhlIGBLZXlib2FyZEhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byB6b29tLCByb3RhdGUsIGFuZCBwYW4gdGhlIG1hcCB1c2luZ1xuICogdGhlIGZvbGxvd2luZyBrZXlib2FyZCBzaG9ydGN1dHM6XG4gKlxuICogLSBgPWAgLyBgK2A6IEluY3JlYXNlIHRoZSB6b29tIGxldmVsIGJ5IDEuXG4gKiAtIGBTaGlmdC09YCAvIGBTaGlmdC0rYDogSW5jcmVhc2UgdGhlIHpvb20gbGV2ZWwgYnkgMi5cbiAqIC0gYC1gOiBEZWNyZWFzZSB0aGUgem9vbSBsZXZlbCBieSAxLlxuICogLSBgU2hpZnQtLWA6IERlY3JlYXNlIHRoZSB6b29tIGxldmVsIGJ5IDIuXG4gKiAtIEFycm93IGtleXM6IFBhbiBieSAxMDAgcGl4ZWxzLlxuICogLSBgU2hpZnQr4oeiYDogSW5jcmVhc2UgdGhlIHJvdGF0aW9uIGJ5IDE1IGRlZ3JlZXMuXG4gKiAtIGBTaGlmdCvih6BgOiBEZWNyZWFzZSB0aGUgcm90YXRpb24gYnkgMTUgZGVncmVlcy5cbiAqIC0gYFNoaWZ0K+KHoWA6IEluY3JlYXNlIHRoZSBwaXRjaCBieSAxMCBkZWdyZWVzLlxuICogLSBgU2hpZnQr4oejYDogRGVjcmVhc2UgdGhlIHBpdGNoIGJ5IDEwIGRlZ3JlZXMuXG4gKlxuICogQHNlZSBbRXhhbXBsZTogVG9nZ2xlIGludGVyYWN0aW9uc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdG9nZ2xlLWludGVyYWN0aW9uLWhhbmRsZXJzLylcbiAqIEBzZWUgW0V4YW1wbGU6IE5hdmlnYXRlIHRoZSBtYXAgd2l0aCBnYW1lLWxpa2UgY29udHJvbHNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dhbWUtY29udHJvbHMvKVxuICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBtYXAgbmF2aWdhdGlvbiBjb250cm9sc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbmF2aWdhdGlvbi8pXG4gKi9cbmNsYXNzIEtleWJvYXJkSGFuZGxlciB7XG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2FjdGl2ZTogYm9vbGVhbjtcbiAgICBfcGFuU3RlcDogbnVtYmVyO1xuICAgIF9iZWFyaW5nU3RlcDogbnVtYmVyO1xuICAgIF9waXRjaFN0ZXA6IG51bWJlcjtcbiAgICBfcm90YXRpb25EaXNhYmxlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBzdGVwT3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xuICAgICAgICB0aGlzLl9wYW5TdGVwID0gc3RlcE9wdGlvbnMucGFuU3RlcDtcbiAgICAgICAgdGhpcy5fYmVhcmluZ1N0ZXAgPSBzdGVwT3B0aW9ucy5iZWFyaW5nU3RlcDtcbiAgICAgICAgdGhpcy5fcGl0Y2hTdGVwID0gc3RlcE9wdGlvbnMucGl0Y2hTdGVwO1xuICAgICAgICB0aGlzLl9yb3RhdGlvbkRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYmx1cigpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBrZXlkb3duKGU6IEtleWJvYXJkRXZlbnQpOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIGlmIChlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSByZXR1cm47XG5cbiAgICAgICAgbGV0IHpvb21EaXIgPSAwO1xuICAgICAgICBsZXQgYmVhcmluZ0RpciA9IDA7XG4gICAgICAgIGxldCBwaXRjaERpciA9IDA7XG4gICAgICAgIGxldCB4RGlyID0gMDtcbiAgICAgICAgbGV0IHlEaXIgPSAwO1xuXG4gICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgNjE6XG4gICAgICAgIGNhc2UgMTA3OlxuICAgICAgICBjYXNlIDE3MTpcbiAgICAgICAgY2FzZSAxODc6XG4gICAgICAgICAgICB6b29tRGlyID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTg5OlxuICAgICAgICBjYXNlIDEwOTpcbiAgICAgICAgY2FzZSAxNzM6XG4gICAgICAgICAgICB6b29tRGlyID0gLTE7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBiZWFyaW5nRGlyID0gLTE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB4RGlyID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBiZWFyaW5nRGlyID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHhEaXIgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgcGl0Y2hEaXIgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgeURpciA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgcGl0Y2hEaXIgPSAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHlEaXIgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yb3RhdGlvbkRpc2FibGVkKSB7XG4gICAgICAgICAgICBiZWFyaW5nRGlyID0gMDtcbiAgICAgICAgICAgIHBpdGNoRGlyID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYW1lcmFBbmltYXRpb246IChtYXA6IE1hcCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuXG4gICAgICAgICAgICAgICAgbWFwLmVhc2VUbyh7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICAgICAgICAgIGVhc2VJZDogJ2tleWJvYXJkSGFuZGxlcicsXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgICAgICAgICAgICAgem9vbTogem9vbURpciA/IE1hdGgucm91bmQoem9vbSkgKyB6b29tRGlyICogKGUuc2hpZnRLZXkgPyAyIDogMSkgOiB6b29tLFxuICAgICAgICAgICAgICAgICAgICBiZWFyaW5nOiBtYXAuZ2V0QmVhcmluZygpICsgYmVhcmluZ0RpciAqIHRoaXMuX2JlYXJpbmdTdGVwLFxuICAgICAgICAgICAgICAgICAgICBwaXRjaDogbWFwLmdldFBpdGNoKCkgKyBwaXRjaERpciAqIHRoaXMuX3BpdGNoU3RlcCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBbLXhEaXIgKiB0aGlzLl9wYW5TdGVwLCAteURpciAqIHRoaXMuX3BhblN0ZXBdLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG1hcC5nZXRDZW50ZXIoKVxuICAgICAgICAgICAgICAgIH0sIHtvcmlnaW5hbEV2ZW50OiBlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJrZXlib2FyZCByb3RhdGUgYW5kIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmtleWJvYXJkLmVuYWJsZSgpO1xuICAgICAqL1xuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIFwia2V5Ym9hcmQgcm90YXRlIGFuZCB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5rZXlib2FyZC5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImtleWJvYXJkIHJvdGF0ZSBhbmQgem9vbVwiXG4gICAgICogaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwia2V5Ym9hcmQgcm90YXRlIGFuZCB6b29tXCJcbiAgICAgKiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaXNLZXlib2FyZEVuYWJsZWQgPSBtYXAua2V5Ym9hcmQuaXNFbmFibGVkKCk7XG4gICAgICovXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGhhbmRsZXIgaXMgZW5hYmxlZCBhbmQgaGFzIGRldGVjdGVkIHRoZSBzdGFydCBvZiBhXG4gICAgICogem9vbS9yb3RhdGUgZ2VzdHVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGhhbmRsZXIgaXMgZW5hYmxlZCBhbmQgaGFzIGRldGVjdGVkIHRoZVxuICAgICAqIHN0YXJ0IG9mIGEgem9vbS9yb3RhdGUgZ2VzdHVyZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGlzS2V5Ym9hcmRBY3RpdmUgPSBtYXAua2V5Ym9hcmQuaXNBY3RpdmUoKTtcbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJrZXlib2FyZCBwYW4vcm90YXRlXCIgaW50ZXJhY3Rpb24sIGxlYXZpbmcgdGhlXG4gICAgICogXCJrZXlib2FyZCB6b29tXCIgaW50ZXJhY3Rpb24gZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmtleWJvYXJkLmRpc2FibGVSb3RhdGlvbigpO1xuICAgICAqL1xuICAgIGRpc2FibGVSb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcm90YXRpb25EaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJrZXlib2FyZCBwYW4vcm90YXRlXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5rZXlib2FyZC5lbmFibGUoKTtcbiAgICAgKiBtYXAua2V5Ym9hcmQuZW5hYmxlUm90YXRpb24oKTtcbiAgICAgKi9cbiAgICBlbmFibGVSb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcm90YXRpb25EaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZWFzZU91dCh0OiBudW1iZXIpIHtcbiAgICByZXR1cm4gdCAqICgyIC0gdCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi91dGlsL2RvbS5qcyc7XG5cbmltcG9ydCB7ZWFzZSBhcyBfZWFzZSwgYmluZEFsbCwgYmV6aWVyLCBpc0Z1bGxzY3JlZW59IGZyb20gJy4uLy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi8uLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdy5qcyc7XG5pbXBvcnQge251bWJlciBhcyBpbnRlcnBvbGF0ZX0gZnJvbSAnLi4vLi4vc3R5bGUtc3BlYy91dGlsL2ludGVycG9sYXRlLmpzJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBIYW5kbGVyTWFuYWdlciwge0hhbmRsZXJSZXN1bHR9IGZyb20gJy4uL2hhbmRsZXJfbWFuYWdlci5qcyc7XG5pbXBvcnQgTWVyY2F0b3JDb29yZGluYXRlIGZyb20gJy4uLy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcblxuLy8gZGVsdGFZIHZhbHVlIGZvciBtb3VzZSBzY3JvbGwgd2hlZWwgaWRlbnRpZmljYXRpb25cbmNvbnN0IHdoZWVsWm9vbURlbHRhID0gNC4wMDAyNDQxNDA2MjU7XG5cbi8vIFRoZXNlIG1hZ2ljIG51bWJlcnMgY29udHJvbCB0aGUgcmF0ZSBvZiB6b29tLiBUcmFja3BhZCBldmVudHMgZmlyZSBhdCBhIGdyZWF0ZXJcbi8vIGZyZXF1ZW5jeSB0aGFuIG1vdXNlIHNjcm9sbCB3aGVlbCwgc28gcmVkdWNlIHRoZSB6b29tIHJhdGUgcGVyIHdoZWVsIHRpY2tcbmNvbnN0IGRlZmF1bHRab29tUmF0ZSA9IDEgLyAxMDA7XG5jb25zdCB3aGVlbFpvb21SYXRlID0gMSAvIDQ1MDtcblxuLy8gdXBwZXIgYm91bmQgb24gaG93IG11Y2ggd2Ugc2NhbGUgdGhlIG1hcCBpbiBhbnkgc2luZ2xlIHJlbmRlciBmcmFtZTsgdGhpc1xuLy8gaXMgdXNlZCB0byBsaW1pdCB6b29tIHJhdGUgaW4gdGhlIGNhc2Ugb2YgdmVyeSBmYXN0IHNjcm9sbGluZ1xuY29uc3QgbWF4U2NhbGVQZXJGcmFtZSA9IDI7XG5cbi8qKlxuICogVGhlIGBTY3JvbGxab29tSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBzY3JvbGxpbmcuXG4gKlxuICogQHNlZSBbRXhhbXBsZTogVG9nZ2xlIGludGVyYWN0aW9uc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdG9nZ2xlLWludGVyYWN0aW9uLWhhbmRsZXJzLylcbiAqIEBzZWUgW0V4YW1wbGU6IERpc2FibGUgc2Nyb2xsIHpvb21dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2Rpc2FibGUtc2Nyb2xsLXpvb20vKVxuICovXG5jbGFzcyBTY3JvbGxab29tSGFuZGxlciB7XG4gICAgX21hcDogTWFwO1xuICAgIF9lbDogSFRNTEVsZW1lbnQ7XG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2FjdGl2ZTogYm9vbGVhbjtcbiAgICBfem9vbWluZzogYm9vbGVhbjtcbiAgICBfYXJvdW5kQ2VudGVyOiBib29sZWFuO1xuICAgIF9hcm91bmRQb2ludDogUG9pbnQ7XG4gICAgX2Fyb3VuZENvb3JkOiBNZXJjYXRvckNvb3JkaW5hdGU7XG4gICAgX3R5cGU6ICd3aGVlbCcgfCAndHJhY2twYWQnIHwgbnVsbDtcbiAgICBfbGFzdFZhbHVlOiBudW1iZXI7XG4gICAgX3RpbWVvdXQ6ID9UaW1lb3V0SUQ7IC8vIHVzZWQgZm9yIGRlbGF5ZWQtaGFuZGxpbmcgb2YgYSBzaW5nbGUgd2hlZWwgbW92ZW1lbnRcbiAgICBfZmluaXNoVGltZW91dDogP1RpbWVvdXRJRDsgLy8gdXNlZCB0byBkZWxheSBmaW5hbCAne21vdmUsem9vbX1lbmQnIGV2ZW50c1xuXG4gICAgX2xhc3RXaGVlbEV2ZW50OiBhbnk7XG4gICAgX2xhc3RXaGVlbEV2ZW50VGltZTogbnVtYmVyO1xuXG4gICAgX3N0YXJ0Wm9vbTogP251bWJlcjtcbiAgICBfdGFyZ2V0Wm9vbTogP251bWJlcjtcbiAgICBfZGVsdGE6IG51bWJlcjtcbiAgICBfZWFzaW5nOiA/KChudW1iZXIpID0+IG51bWJlcik7XG4gICAgX3ByZXZFYXNlOiA/e3N0YXJ0OiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIsIGVhc2luZzogKF86IG51bWJlcikgPT4gbnVtYmVyfTtcblxuICAgIF9mcmFtZUlkOiA/Ym9vbGVhbjtcbiAgICBfaGFuZGxlcjogSGFuZGxlck1hbmFnZXI7XG5cbiAgICBfZGVmYXVsdFpvb21SYXRlOiBudW1iZXI7XG4gICAgX3doZWVsWm9vbVJhdGU6IG51bWJlcjtcblxuICAgIF9hbGVydENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7IC8vIHVzZWQgdG8gZGlzcGxheSB0aGUgc2Nyb2xsIHpvb20gYmxvY2tlciBhbGVydFxuICAgIF9hbGVydFRpbWVyOiBUaW1lb3V0SUQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwLCBoYW5kbGVyOiBIYW5kbGVyTWFuYWdlcikge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2VsID0gbWFwLmdldENhbnZhc0NvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLl9oYW5kbGVyID0gaGFuZGxlcjtcblxuICAgICAgICB0aGlzLl9kZWx0YSA9IDA7XG5cbiAgICAgICAgdGhpcy5fZGVmYXVsdFpvb21SYXRlID0gZGVmYXVsdFpvb21SYXRlO1xuICAgICAgICB0aGlzLl93aGVlbFpvb21SYXRlID0gd2hlZWxab29tUmF0ZTtcblxuICAgICAgICBiaW5kQWxsKFsnX29uVGltZW91dCcsICdfYWRkU2Nyb2xsWm9vbUJsb2NrZXInLCAnX3Nob3dCbG9ja2VyQWxlcnQnXSwgdGhpcyk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB6b29tIHJhdGUgb2YgYSB0cmFja3BhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbem9vbVJhdGU9MS8xMDBdIFRoZSByYXRlIHVzZWQgdG8gc2NhbGUgdHJhY2twYWQgbW92ZW1lbnQgdG8gYSB6b29tIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU3BlZWQgdXAgdHJhY2twYWQgem9vbVxuICAgICAqIG1hcC5zY3JvbGxab29tLnNldFpvb21SYXRlKDEgLyAyNSk7XG4gICAgICovXG4gICAgc2V0Wm9vbVJhdGUoem9vbVJhdGU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9kZWZhdWx0Wm9vbVJhdGUgPSB6b29tUmF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFNldHMgdGhlIHpvb20gcmF0ZSBvZiBhIG1vdXNlIHdoZWVsLlxuICAgICAqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3doZWVsWm9vbVJhdGU9MS80NTBdIFRoZSByYXRlIHVzZWQgdG8gc2NhbGUgbW91c2Ugd2hlZWwgbW92ZW1lbnQgdG8gYSB6b29tIHZhbHVlLlxuICAgICogQGV4YW1wbGVcbiAgICAqIC8vIFNsb3cgZG93biB6b29tIG9mIG1vdXNlIHdoZWVsXG4gICAgKiBtYXAuc2Nyb2xsWm9vbS5zZXRXaGVlbFpvb21SYXRlKDEgLyA2MDApO1xuICAgICovXG4gICAgc2V0V2hlZWxab29tUmF0ZSh3aGVlbFpvb21SYXRlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fd2hlZWxab29tUmF0ZSA9IHdoZWVsWm9vbVJhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcInNjcm9sbCB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwic2Nyb2xsIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaXNTY3JvbGxab29tRW5hYmxlZCA9IG1hcC5zY3JvbGxab29tLmlzRW5hYmxlZCgpO1xuICAgICAqL1xuICAgIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICAvKlxuICAgICogQWN0aXZlIHN0YXRlIGlzIHR1cm5lZCBvbiBhbmQgb2ZmIHdpdGggZXZlcnkgc2Nyb2xsIHdoZWVsIGV2ZW50IGFuZCBpcyBzZXQgYmFjayB0byBmYWxzZSBiZWZvcmUgdGhlIG1hcFxuICAgICogcmVuZGVyIGlzIGNhbGxlZCwgc28gX2FjdGl2ZSBpcyBub3QgYSBnb29kIGNhbmRpZGF0ZSBmb3IgZGV0ZXJtaW5pbmcgaWYgYSBzY3JvbGwgem9vbSBhbmltYXRpb24gaXMgaW5cbiAgICAqIHByb2dyZXNzLlxuICAgICovXG4gICAgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmUgfHwgdGhpcy5fZmluaXNoVGltZW91dCAhPT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlzWm9vbWluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fem9vbWluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcInNjcm9sbCB0byB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hcm91bmRdIElmIFwiY2VudGVyXCIgaXMgcGFzc2VkLCBtYXAgd2lsbCB6b29tIGFyb3VuZCBjZW50ZXIgb2YgbWFwLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2Nyb2xsWm9vbS5lbmFibGUoKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zY3JvbGxab29tLmVuYWJsZSh7YXJvdW5kOiAnY2VudGVyJ30pO1xuICAgICAqL1xuICAgIGVuYWJsZShvcHRpb25zOiA/e2Fyb3VuZD86ICdjZW50ZXInfSkge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fYXJvdW5kQ2VudGVyID0gISFvcHRpb25zICYmIG9wdGlvbnMuYXJvdW5kID09PSAnY2VudGVyJztcbiAgICAgICAgaWYgKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcykgdGhpcy5fYWRkU2Nyb2xsWm9vbUJsb2NrZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJzY3JvbGwgdG8gem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2Nyb2xsWm9vbS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcykge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpO1xuICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3aGVlbChlOiBXaGVlbEV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMpIHtcbiAgICAgICAgICAgIGlmICghZS5jdHJsS2V5ICYmICFlLm1ldGFLZXkgJiYgIXRoaXMuaXNab29taW5nKCkgJiYgIWlzRnVsbHNjcmVlbigpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvd0Jsb2NrZXJBbGVydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSAhPT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICAvLyBpbW1lZGlhdGVseSBoaWRlIGFsZXJ0IGlmIGl0IGlzIHZpc2libGUgd2hlbiBjdHJsIG9yIOKMmCBpcyBwcmVzc2VkIHdoaWxlIHNjcm9sbCB6b29taW5nLlxuICAgICAgICAgICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgYGFueWAgY2FzdCB3aGVuIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy80ODc5IGlzIGZpeGVkLlxuICAgICAgICBsZXQgdmFsdWUgPSBlLmRlbHRhTW9kZSA9PT0gKHdpbmRvdy5XaGVlbEV2ZW50OiBhbnkpLkRPTV9ERUxUQV9MSU5FID8gZS5kZWx0YVkgKiA0MCA6IGUuZGVsdGFZO1xuICAgICAgICBjb25zdCBub3cgPSBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgdGltZURlbHRhID0gbm93IC0gKHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSB8fCAwKTtcblxuICAgICAgICB0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWUgPSBub3c7XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSAwICYmICh2YWx1ZSAlIHdoZWVsWm9vbURlbHRhKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gVGhpcyBvbmUgaXMgZGVmaW5pdGVseSBhIG1vdXNlIHdoZWVsIGV2ZW50LlxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9ICd3aGVlbCc7XG5cbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gMCAmJiBNYXRoLmFicyh2YWx1ZSkgPCA0KSB7XG4gICAgICAgICAgICAvLyBUaGlzIG9uZSBpcyBkZWZpbml0ZWx5IGEgdHJhY2twYWQgZXZlbnQgYmVjYXVzZSBpdCBpcyBzbyBzbWFsbC5cbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSAndHJhY2twYWQnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodGltZURlbHRhID4gNDAwKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGxpa2VseSBhIG5ldyBzY3JvbGwgYWN0aW9uLlxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9sYXN0VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgYSB0aW1lb3V0IGluIGNhc2UgdGhpcyB3YXMgYSBzaW5ndWxhciBldmVudCwgYW5kIGRlbGF5IGl0IGJ5IHVwIHRvIDQwbXMuXG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLl9vblRpbWVvdXQsIDQwLCBlKTtcblxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl90eXBlKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgcmVwZWF0aW5nIGV2ZW50LCBidXQgd2UgZG9uJ3Qga25vdyB0aGUgdHlwZSBvZiBldmVudCBqdXN0IHlldC5cbiAgICAgICAgICAgIC8vIElmIHRoZSBkZWx0YSBwZXIgdGltZSBpcyBzbWFsbCwgd2UgYXNzdW1lIGl0J3MgYSBmYXN0IHRyYWNrcGFkOyBvdGhlcndpc2Ugd2Ugc3dpdGNoIGludG8gd2hlZWwgbW9kZS5cbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSAoTWF0aC5hYnModGltZURlbHRhICogdmFsdWUpIDwgMjAwKSA/ICd0cmFja3BhZCcgOiAnd2hlZWwnO1xuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgb3VyIGRlbGF5ZWQgZXZlbnQgaXNuJ3QgZmlyZWQgYWdhaW4sIGJlY2F1c2Ugd2UgYWNjdW11bGF0ZVxuICAgICAgICAgICAgLy8gdGhlIHByZXZpb3VzIGV2ZW50ICh3aGljaCB3YXMgbGVzcyB0aGFuIDQwbXMgYWdvKSBpbnRvIHRoaXMgZXZlbnQuXG4gICAgICAgICAgICBpZiAodGhpcy5fdGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSB0aGlzLl9sYXN0VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTbG93IGRvd24gem9vbSBpZiBzaGlmdCBrZXkgaXMgaGVsZCBmb3IgbW9yZSBwcmVjaXNlIHpvb21pbmdcbiAgICAgICAgaWYgKGUuc2hpZnRLZXkgJiYgdmFsdWUpIHZhbHVlID0gdmFsdWUgLyA0O1xuXG4gICAgICAgIC8vIE9ubHkgZmlyZSB0aGUgY2FsbGJhY2sgaWYgd2UgYWN0dWFsbHkga25vdyB3aGF0IHR5cGUgb2Ygc2Nyb2xsaW5nIGRldmljZSB0aGUgdXNlciB1c2VzLlxuICAgICAgICBpZiAodGhpcy5fdHlwZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdFdoZWVsRXZlbnQgPSBlO1xuICAgICAgICAgICAgdGhpcy5fZGVsdGEgLT0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIF9vblRpbWVvdXQoaW5pdGlhbEV2ZW50OiBXaGVlbEV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3R5cGUgPSAnd2hlZWwnO1xuICAgICAgICB0aGlzLl9kZWx0YSAtPSB0aGlzLl9sYXN0VmFsdWU7XG4gICAgICAgIGlmICghdGhpcy5fYWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydChpbml0aWFsRXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N0YXJ0KGU6IFdoZWVsRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kZWx0YSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5pc1pvb21pbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5fem9vbWluZyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZmluaXNoVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2ZpbmlzaFRpbWVvdXQpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2ZpbmlzaFRpbWVvdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3MgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpO1xuICAgICAgICB0aGlzLl9hcm91bmRQb2ludCA9IHRoaXMuX2Fyb3VuZENlbnRlciA/IHRoaXMuX21hcC50cmFuc2Zvcm0uY2VudGVyUG9pbnQgOiBwb3M7XG4gICAgICAgIHRoaXMuX2Fyb3VuZENvb3JkID0gdGhpcy5fbWFwLnRyYW5zZm9ybS5wb2ludENvb3JkaW5hdGUzRCh0aGlzLl9hcm91bmRQb2ludCk7XG4gICAgICAgIHRoaXMuX3RhcmdldFpvb20gPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXIuX3RyaWdnZXJSZW5kZXJGcmFtZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyRnJhbWUoKTogP0hhbmRsZXJSZXN1bHQge1xuICAgICAgICBpZiAoIXRoaXMuX2ZyYW1lSWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKCkpIHJldHVybjtcblxuICAgICAgICBjb25zdCB0ciA9IHRoaXMuX21hcC50cmFuc2Zvcm07XG5cbiAgICAgICAgLy8gSWYgcHJvamVjdGlvbiB3cmFwcyBhbmQgY2VudGVyIGNyb3NzZXMgdGhlIGFudGltZXJpZGlhbiwgcmVzZXQgcHJldmlvdXMgbW91c2Ugc2Nyb2xsIGVhc2luZyBzZXR0aW5ncyB0byByZXNvbHZlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8xMTkxMFxuICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gJ3doZWVsJyAmJiB0ci5wcm9qZWN0aW9uLndyYXAgJiYgKHRyLl9jZW50ZXIubG5nID49IDE4MCB8fCB0ci5fY2VudGVyLmxuZyA8PSAtMTgwKSkge1xuICAgICAgICAgICAgdGhpcy5fcHJldkVhc2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fZWFzaW5nID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RXaGVlbEV2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGFydGluZ1pvb20gPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKHRyLl90ZXJyYWluRW5hYmxlZCgpICYmIHRoaXMuX2Fyb3VuZENvb3JkKSA/IHRyLmNvbXB1dGVab29tUmVsYXRpdmVUbyh0aGlzLl9hcm91bmRDb29yZCkgOiB0ci56b29tO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGlmIHdlJ3ZlIGhhZCBzY3JvbGwgZXZlbnRzIHNpbmNlIHRoZSBsYXN0IHJlbmRlciBmcmFtZSwgY29uc3VtZSB0aGVcbiAgICAgICAgLy8gYWNjdW11bGF0ZWQgZGVsdGEsIGFuZCB1cGRhdGUgdGhlIHRhcmdldCB6b29tIGxldmVsIGFjY29yZGluZ2x5XG4gICAgICAgIGlmICh0aGlzLl9kZWx0YSAhPT0gMCkge1xuICAgICAgICAgICAgLy8gRm9yIHRyYWNrcGFkIGV2ZW50cyBhbmQgc2luZ2xlIG1vdXNlIHdoZWVsIHRpY2tzLCB1c2UgdGhlIGRlZmF1bHQgem9vbSByYXRlXG4gICAgICAgICAgICBjb25zdCB6b29tUmF0ZSA9ICh0aGlzLl90eXBlID09PSAnd2hlZWwnICYmIE1hdGguYWJzKHRoaXMuX2RlbHRhKSA+IHdoZWVsWm9vbURlbHRhKSA/IHRoaXMuX3doZWVsWm9vbVJhdGUgOiB0aGlzLl9kZWZhdWx0Wm9vbVJhdGU7XG4gICAgICAgICAgICAvLyBTY2FsZSBieSBzaWdtb2lkIG9mIHNjcm9sbCB3aGVlbCBkZWx0YS5cbiAgICAgICAgICAgIGxldCBzY2FsZSA9IG1heFNjYWxlUGVyRnJhbWUgLyAoMSArIE1hdGguZXhwKC1NYXRoLmFicyh0aGlzLl9kZWx0YSAqIHpvb21SYXRlKSkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZGVsdGEgPCAwICYmIHNjYWxlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgc2NhbGUgPSAxIC8gc2NhbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0Wm9vbSA9IHN0YXJ0aW5nWm9vbSgpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRTY2FsZSA9IE1hdGgucG93KDIuMCwgc3RhcnRab29tKTtcblxuICAgICAgICAgICAgY29uc3QgZnJvbVNjYWxlID0gdHlwZW9mIHRoaXMuX3RhcmdldFpvb20gPT09ICdudW1iZXInID8gdHIuem9vbVNjYWxlKHRoaXMuX3RhcmdldFpvb20pIDogc3RhcnRTY2FsZTtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldFpvb20gPSBNYXRoLm1pbih0ci5tYXhab29tLCBNYXRoLm1heCh0ci5taW5ab29tLCB0ci5zY2FsZVpvb20oZnJvbVNjYWxlICogc2NhbGUpKSk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBtb3VzZSB3aGVlbCwgcmVmcmVzaCB0aGUgc3RhcnRpbmcgem9vbSBhbmQgZWFzaW5nXG4gICAgICAgICAgICAvLyBmdW5jdGlvbiB3ZSdyZSB1c2luZyB0byBzbW9vdGggb3V0IHRoZSB6b29taW5nIGJldHdlZW4gd2hlZWxcbiAgICAgICAgICAgIC8vIGV2ZW50c1xuICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09ICd3aGVlbCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFpvb20gPSBzdGFydFpvb207XG4gICAgICAgICAgICAgICAgdGhpcy5fZWFzaW5nID0gdGhpcy5fc21vb3RoT3V0RWFzaW5nKDIwMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2RlbHRhID0gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXRab29tID0gdHlwZW9mIHRoaXMuX3RhcmdldFpvb20gPT09ICdudW1iZXInID9cbiAgICAgICAgICAgIHRoaXMuX3RhcmdldFpvb20gOiBzdGFydGluZ1pvb20oKTtcbiAgICAgICAgY29uc3Qgc3RhcnRab29tID0gdGhpcy5fc3RhcnRab29tO1xuICAgICAgICBjb25zdCBlYXNpbmcgPSB0aGlzLl9lYXNpbmc7XG5cbiAgICAgICAgbGV0IGZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIGxldCB6b29tO1xuICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gJ3doZWVsJyAmJiBzdGFydFpvb20gJiYgZWFzaW5nKSB7XG4gICAgICAgICAgICBhc3NlcnQoZWFzaW5nICYmIHR5cGVvZiBzdGFydFpvb20gPT09ICdudW1iZXInKTtcblxuICAgICAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKChicm93c2VyLm5vdygpIC0gdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lKSAvIDIwMCwgMSk7XG4gICAgICAgICAgICBjb25zdCBrID0gZWFzaW5nKHQpO1xuICAgICAgICAgICAgem9vbSA9IGludGVycG9sYXRlKHN0YXJ0Wm9vbSwgdGFyZ2V0Wm9vbSwgayk7XG4gICAgICAgICAgICBpZiAodCA8IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB6b29tID0gdGFyZ2V0Wm9vbTtcbiAgICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2ZpbmlzaFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl96b29taW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlci5fdHJpZ2dlclJlbmRlckZyYW1lKCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3RhcmdldFpvb207XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2ZpbmlzaFRpbWVvdXQ7XG4gICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vSW5lcnRpYTogdHJ1ZSxcbiAgICAgICAgICAgIG5lZWRzUmVuZGVyRnJhbWU6ICFmaW5pc2hlZCxcbiAgICAgICAgICAgIHpvb21EZWx0YTogem9vbSAtIHN0YXJ0aW5nWm9vbSgpLFxuICAgICAgICAgICAgYXJvdW5kOiB0aGlzLl9hcm91bmRQb2ludCxcbiAgICAgICAgICAgIGFyb3VuZENvb3JkOiB0aGlzLl9hcm91bmRDb29yZCxcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IHRoaXMuX2xhc3RXaGVlbEV2ZW50XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX3Ntb290aE91dEVhc2luZyhkdXJhdGlvbjogbnVtYmVyKTogKG51bWJlcikgPT4gbnVtYmVyIHtcbiAgICAgICAgbGV0IGVhc2luZyA9IF9lYXNlO1xuXG4gICAgICAgIGlmICh0aGlzLl9wcmV2RWFzZSkge1xuICAgICAgICAgICAgY29uc3QgZWFzZSA9IHRoaXMuX3ByZXZFYXNlLFxuICAgICAgICAgICAgICAgIHQgPSAoYnJvd3Nlci5ub3coKSAtIGVhc2Uuc3RhcnQpIC8gZWFzZS5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBzcGVlZCA9IGVhc2UuZWFzaW5nKHQgKyAwLjAxKSAtIGVhc2UuZWFzaW5nKHQpLFxuXG4gICAgICAgICAgICAgICAgLy8gUXVpY2sgaGFjayB0byBtYWtlIG5ldyBiZXppZXIgdGhhdCBpcyBjb250aW51b3VzIHdpdGggbGFzdFxuICAgICAgICAgICAgICAgIHggPSAwLjI3IC8gTWF0aC5zcXJ0KHNwZWVkICogc3BlZWQgKyAwLjAwMDEpICogMC4wMSxcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5zcXJ0KDAuMjcgKiAwLjI3IC0geCAqIHgpO1xuXG4gICAgICAgICAgICBlYXNpbmcgPSBiZXppZXIoeCwgeSwgMC4yNSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcmV2RWFzZSA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBlYXNpbmdcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZWFzaW5nO1xuICAgIH1cblxuICAgIGJsdXIoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX2FkZFNjcm9sbFpvb21CbG9ja2VyKCkge1xuICAgICAgICBpZiAodGhpcy5fbWFwICYmICF0aGlzLl9hbGVydENvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlcicsIHRoaXMuX21hcC5fY29udGFpbmVyKTtcblxuICAgICAgICAgICAgaWYgKC8oTWFjfGlQYWQpL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGVydENvbnRhaW5lci50ZXh0Q29udGVudCA9IHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoJ1Njcm9sbFpvb21CbG9ja2VyLkNtZE1lc3NhZ2UnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIudGV4dENvbnRlbnQgPSB0aGlzLl9tYXAuX2dldFVJU3RyaW5nKCdTY3JvbGxab29tQmxvY2tlci5DdHJsTWVzc2FnZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkeW5hbWljYWxseSBzZXQgdGhlIGZvbnQgc2l6ZSBvZiB0aGUgc2Nyb2xsIHpvb20gYmxvY2tlciBhbGVydCBtZXNzYWdlXG4gICAgICAgICAgICB0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IGAke01hdGgubWF4KDEwLCBNYXRoLm1pbigyNCwgTWF0aC5mbG9vcih0aGlzLl9lbC5jbGllbnRXaWR0aCAqIDAuMDUpKSl9cHhgO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Nob3dCbG9ja2VyQWxlcnQoKSB7XG4gICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXItc2hvdycpO1xuICAgICAgICB0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiYWxlcnRcIik7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpO1xuXG4gICAgICAgIHRoaXMuX2FsZXJ0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXItc2hvdycpO1xuICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm51bGxcIik7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjcm9sbFpvb21IYW5kbGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUgQ2xpY2tab29tSGFuZGxlciBmcm9tICcuLi9jbGlja196b29tLmpzJztcbmltcG9ydCB0eXBlIFRhcFpvb21IYW5kbGVyIGZyb20gJy4vLi4vdGFwX3pvb20uanMnO1xuXG4vKipcbiAqIFRoZSBgRG91YmxlQ2xpY2tab29tSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBhdCBhIHBvaW50IGJ5XG4gKiBkb3VibGUgY2xpY2tpbmcgb3IgZG91YmxlIHRhcHBpbmcuXG4gKlxuICogQHNlZSBbRXhhbXBsZTogVG9nZ2xlIGludGVyYWN0aW9uc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdG9nZ2xlLWludGVyYWN0aW9uLWhhbmRsZXJzLylcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG91YmxlQ2xpY2tab29tSGFuZGxlciB7XG5cbiAgICBfY2xpY2tab29tOiBDbGlja1pvb21IYW5kbGVyO1xuICAgIF90YXBab29tOiBUYXBab29tSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGlja1pvb206IENsaWNrWm9vbUhhbmRsZXIsIFRhcFpvb206IFRhcFpvb21IYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2NsaWNrWm9vbSA9IGNsaWNrWm9vbTtcbiAgICAgICAgdGhpcy5fdGFwWm9vbSA9IFRhcFpvb207XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZG91YmxlQ2xpY2tab29tLmVuYWJsZSgpO1xuICAgICAqL1xuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fY2xpY2tab29tLmVuYWJsZSgpO1xuICAgICAgICB0aGlzLl90YXBab29tLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSBcImRvdWJsZSBjbGljayB0byB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5kb3VibGVDbGlja1pvb20uZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuX2NsaWNrWm9vbS5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMuX3RhcFpvb20uZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFwiZG91YmxlIGNsaWNrIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaXNEb3VibGVDbGlja1pvb21FbmFibGVkID0gbWFwLmRvdWJsZUNsaWNrWm9vbS5pc0VuYWJsZWQoKTtcbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGlja1pvb20uaXNFbmFibGVkKCkgJiYgdGhpcy5fdGFwWm9vbS5pc0VuYWJsZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiZG91YmxlIGNsaWNrIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUgKGN1cnJlbnRseSBiZWluZyB1c2VkKS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGlzRG91YmxlQ2xpY2tab29tQWN0aXZlID0gbWFwLmRvdWJsZUNsaWNrWm9vbS5pc0FjdGl2ZSgpO1xuICAgICAqL1xuICAgIGlzQWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpY2tab29tLmlzQWN0aXZlKCkgfHwgdGhpcy5fdGFwWm9vbS5pc0FjdGl2ZSgpO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcC5qcyc7XG5pbXBvcnQgdHlwZSB7SGFuZGxlclJlc3VsdH0gZnJvbSAnLi4vaGFuZGxlcl9tYW5hZ2VyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xpY2tab29tSGFuZGxlciB7XG5cbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICBfYWN0aXZlOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYmx1cigpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGRibGNsaWNrKGU6IE1vdXNlRXZlbnQsIHBvaW50OiBQb2ludCk6IEhhbmRsZXJSZXN1bHQge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYW1lcmFBbmltYXRpb246IChtYXA6IE1hcCkgPT4ge1xuICAgICAgICAgICAgICAgIG1hcC5lYXNlVG8oe1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgICAgICAgICB6b29tOiBtYXAuZ2V0Wm9vbSgpICsgKGUuc2hpZnRLZXkgPyAtMSA6IDEpLFxuICAgICAgICAgICAgICAgICAgICBhcm91bmQ6IG1hcC51bnByb2plY3QocG9pbnQpXG4gICAgICAgICAgICAgICAgfSwge29yaWdpbmFsRXZlbnQ6IGV9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmU7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtUYXBSZWNvZ25pemVyLCBNQVhfVEFQX0lOVEVSVkFMfSBmcm9tICcuL3RhcF9yZWNvZ25pemVyLmpzJztcbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUge0hhbmRsZXJSZXN1bHR9IGZyb20gJy4uL2hhbmRsZXJfbWFuYWdlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhcERyYWdab29tSGFuZGxlciB7XG5cbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICBfYWN0aXZlOiBib29sZWFuO1xuICAgIF9zd2lwZVBvaW50OiA/UG9pbnQ7XG4gICAgX3N3aXBlVG91Y2g6IG51bWJlcjtcbiAgICBfdGFwVGltZTogbnVtYmVyO1xuICAgIF90YXA6IFRhcFJlY29nbml6ZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgICAgICB0aGlzLl90YXAgPSBuZXcgVGFwUmVjb2duaXplcih7XG4gICAgICAgICAgICBudW1Ub3VjaGVzOiAxLFxuICAgICAgICAgICAgbnVtVGFwczogMVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zd2lwZVBvaW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zd2lwZVRvdWNoID0gMDtcbiAgICAgICAgdGhpcy5fdGFwVGltZSA9IDA7XG4gICAgICAgIHRoaXMuX3RhcC5yZXNldCgpO1xuICAgIH1cblxuICAgIHRvdWNoc3RhcnQoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPikge1xuICAgICAgICBpZiAodGhpcy5fc3dpcGVQb2ludCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl90YXBUaW1lICYmIGUudGltZVN0YW1wIC0gdGhpcy5fdGFwVGltZSA+IE1BWF9UQVBfSU5URVJWQUwpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fdGFwVGltZSkge1xuICAgICAgICAgICAgdGhpcy5fdGFwLnRvdWNoc3RhcnQoZSwgcG9pbnRzLCBtYXBUb3VjaGVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChtYXBUb3VjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3N3aXBlUG9pbnQgPSBwb2ludHNbMF07XG4gICAgICAgICAgICB0aGlzLl9zd2lwZVRvdWNoID0gbWFwVG91Y2hlc1swXS5pZGVudGlmaWVyO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICB0b3VjaG1vdmUoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPik6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgaWYgKCF0aGlzLl90YXBUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLl90YXAudG91Y2htb3ZlKGUsIHBvaW50cywgbWFwVG91Y2hlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc3dpcGVQb2ludCkge1xuICAgICAgICAgICAgaWYgKG1hcFRvdWNoZXNbMF0uaWRlbnRpZmllciAhPT0gdGhpcy5fc3dpcGVUb3VjaCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbmV3U3dpcGVQb2ludCA9IHBvaW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBuZXdTd2lwZVBvaW50LnkgLSB0aGlzLl9zd2lwZVBvaW50Lnk7XG4gICAgICAgICAgICB0aGlzLl9zd2lwZVBvaW50ID0gbmV3U3dpcGVQb2ludDtcblxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB6b29tRGVsdGE6IGRpc3QgLyAxMjhcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b3VjaGVuZChlOiBUb3VjaEV2ZW50LCBwb2ludHM6IEFycmF5PFBvaW50PiwgbWFwVG91Y2hlczogQXJyYXk8VG91Y2g+KSB7XG4gICAgICAgIGlmICghdGhpcy5fdGFwVGltZSkge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLl90YXAudG91Y2hlbmQoZSwgcG9pbnRzLCBtYXBUb3VjaGVzKTtcbiAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RhcFRpbWUgPSBlLnRpbWVTdGFtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9zd2lwZVBvaW50KSB7XG4gICAgICAgICAgICBpZiAobWFwVG91Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b3VjaGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSB7TW91c2VQYW5IYW5kbGVyfSBmcm9tICcuLi9tb3VzZS5qcyc7XG5pbXBvcnQgdHlwZSBUb3VjaFBhbkhhbmRsZXIgZnJvbSAnLi8uLi90b3VjaF9wYW4uanMnO1xuXG5leHBvcnQgdHlwZSBEcmFnUGFuT3B0aW9ucyA9IHtcbiAgICBsaW5lYXJpdHk/OiBudW1iZXI7XG4gICAgZWFzaW5nPzogKHQ6IG51bWJlcikgPT4gbnVtYmVyO1xuICAgIGRlY2VsZXJhdGlvbj86IG51bWJlcjtcbiAgICBtYXhTcGVlZD86IG51bWJlcjtcbn07XG5cbi8qKlxuICogVGhlIGBEcmFnUGFuSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHBhbiB0aGUgbWFwIGJ5IGNsaWNraW5nIGFuZCBkcmFnZ2luZ1xuICogdGhlIGN1cnNvci5cbiAqXG4gKiBAc2VlIFtFeGFtcGxlOiBUb2dnbGUgaW50ZXJhY3Rpb25zXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90b2dnbGUtaW50ZXJhY3Rpb24taGFuZGxlcnMvKVxuICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYWdQYW5IYW5kbGVyIHtcblxuICAgIF9lbDogSFRNTEVsZW1lbnQ7XG4gICAgX21vdXNlUGFuOiBNb3VzZVBhbkhhbmRsZXI7XG4gICAgX3RvdWNoUGFuOiBUb3VjaFBhbkhhbmRsZXI7XG4gICAgX2luZXJ0aWFPcHRpb25zOiBEcmFnUGFuT3B0aW9uc1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgbW91c2VQYW46IE1vdXNlUGFuSGFuZGxlciwgdG91Y2hQYW46IFRvdWNoUGFuSGFuZGxlcikge1xuICAgICAgICB0aGlzLl9lbCA9IGVsO1xuICAgICAgICB0aGlzLl9tb3VzZVBhbiA9IG1vdXNlUGFuO1xuICAgICAgICB0aGlzLl90b3VjaFBhbiA9IHRvdWNoUGFuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBhbmQgYWNjZXB0cyBvcHRpb25zIHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIG9mIHRoZSBwYW5uaW5nIGluZXJ0aWEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5saW5lYXJpdHk9MF0gRmFjdG9yIHVzZWQgdG8gc2NhbGUgdGhlIGRyYWcgdmVsb2NpdHkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuZWFzaW5nXSBPcHRpb25hbCBlYXNpbmcgZnVuY3Rpb24gYXBwbGllZCB0byB7QGxpbmsgTWFwI3BhblRvfSB3aGVuIGFwcGx5aW5nIHRoZSBkcmFnLiBEZWZhdWx0cyB0byBiZXppZXIgZnVuY3Rpb24gdXNpbmcgW0BtYXBib3gvdW5pdGJlemllcl0oaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC91bml0YmV6aWVyKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4U3BlZWQ9MTQwMF0gVGhlIG1heGltdW0gdmFsdWUgb2YgdGhlIGRyYWcgdmVsb2NpdHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRlY2VsZXJhdGlvbj0yNTAwXSBUaGUgcmF0ZSBhdCB3aGljaCB0aGUgc3BlZWQgcmVkdWNlcyBhZnRlciB0aGUgcGFuIGVuZHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5kcmFnUGFuLmVuYWJsZSgpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRyYWdQYW4uZW5hYmxlKHtcbiAgICAgKiAgICAgbGluZWFyaXR5OiAwLjMsXG4gICAgICogICAgIGVhc2luZzogdCA9PiB0LFxuICAgICAqICAgICBtYXhTcGVlZDogMTQwMCxcbiAgICAgKiAgICAgZGVjZWxlcmF0aW9uOiAyNTAwXG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICovXG4gICAgZW5hYmxlKG9wdGlvbnM/OiBEcmFnUGFuT3B0aW9ucykge1xuICAgICAgICB0aGlzLl9pbmVydGlhT3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMuX21vdXNlUGFuLmVuYWJsZSgpO1xuICAgICAgICB0aGlzLl90b3VjaFBhbi5lbmFibGUoKTtcbiAgICAgICAgdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZHJhZ1Bhbi5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fbW91c2VQYW4uZGlzYWJsZSgpO1xuICAgICAgICB0aGlzLl90b3VjaFBhbi5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLXRvdWNoLWRyYWctcGFuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc0RyYWdQYW5FbmFibGVkID0gbWFwLmRyYWdQYW4uaXNFbmFibGVkKCk7XG4gICAgICovXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW91c2VQYW4uaXNFbmFibGVkKCkgJiYgdGhpcy5fdG91Y2hQYW4uaXNFbmFibGVkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlIChjdXJyZW50bHkgYmVpbmcgdXNlZCkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc0RyYWdQYW5BY3RpdmUgPSBtYXAuZHJhZ1Bhbi5pc0FjdGl2ZSgpO1xuICAgICAqL1xuICAgIGlzQWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW91c2VQYW4uaXNBY3RpdmUoKSB8fCB0aGlzLl90b3VjaFBhbi5pc0FjdGl2ZSgpO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIHtNb3VzZVJvdGF0ZUhhbmRsZXIsIE1vdXNlUGl0Y2hIYW5kbGVyfSBmcm9tICcuLi9tb3VzZS5qcyc7XG5cbi8qKlxuICogVGhlIGBEcmFnUm90YXRlSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHJvdGF0ZSB0aGUgbWFwIGJ5IGNsaWNraW5nIGFuZFxuICogZHJhZ2dpbmcgdGhlIGN1cnNvciB3aGlsZSBob2xkaW5nIHRoZSByaWdodCBtb3VzZSBidXR0b24gb3IgYGN0cmxgIGtleS5cbiAqXG4gKiBAc2VlIFtFeGFtcGxlOiBUb2dnbGUgaW50ZXJhY3Rpb25zXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90b2dnbGUtaW50ZXJhY3Rpb24taGFuZGxlcnMvKVxuICogQHNlZSBbRXhhbXBsZTogRGlzYWJsZSBtYXAgcm90YXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2Rpc2FibGUtcm90YXRpb24vKVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcmFnUm90YXRlSGFuZGxlciB7XG5cbiAgICBfbW91c2VSb3RhdGU6IE1vdXNlUm90YXRlSGFuZGxlcjtcbiAgICBfbW91c2VQaXRjaDogTW91c2VQaXRjaEhhbmRsZXI7XG4gICAgX3BpdGNoV2l0aFJvdGF0ZTogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmVhcmluZ1NuYXBdIFRoZSB0aHJlc2hvbGQsIG1lYXN1cmVkIGluIGRlZ3JlZXMsIHRoYXQgZGV0ZXJtaW5lcyB3aGVuIHRoZSBtYXAnc1xuICAgICAqICAgYmVhcmluZyB3aWxsIHNuYXAgdG8gbm9ydGguXG4gICAgICogQHBhcmFtIHtib29sfSBbb3B0aW9ucy5waXRjaFdpdGhSb3RhdGU9dHJ1ZV0gQ29udHJvbCB0aGUgbWFwIHBpdGNoIGluIGFkZGl0aW9uIHRvIHRoZSBiZWFyaW5nXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7cGl0Y2hXaXRoUm90YXRlOiBib29sZWFufSwgbW91c2VSb3RhdGU6IE1vdXNlUm90YXRlSGFuZGxlciwgbW91c2VQaXRjaDogTW91c2VQaXRjaEhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fcGl0Y2hXaXRoUm90YXRlID0gb3B0aW9ucy5waXRjaFdpdGhSb3RhdGU7XG4gICAgICAgIHRoaXMuX21vdXNlUm90YXRlID0gbW91c2VSb3RhdGU7XG4gICAgICAgIHRoaXMuX21vdXNlUGl0Y2ggPSBtb3VzZVBpdGNoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRyYWdSb3RhdGUuZW5hYmxlKCk7XG4gICAgICovXG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLl9tb3VzZVJvdGF0ZS5lbmFibGUoKTtcbiAgICAgICAgaWYgKHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSkgdGhpcy5fbW91c2VQaXRjaC5lbmFibGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZHJhZ1JvdGF0ZS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fbW91c2VSb3RhdGUuZGlzYWJsZSgpO1xuICAgICAgICB0aGlzLl9tb3VzZVBpdGNoLmRpc2FibGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc0RyYWdSb3RhdGVFbmFibGVkID0gbWFwLmRyYWdSb3RhdGUuaXNFbmFibGVkKCk7XG4gICAgICovXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW91c2VSb3RhdGUuaXNFbmFibGVkKCkgJiYgKCF0aGlzLl9waXRjaFdpdGhSb3RhdGUgfHwgdGhpcy5fbW91c2VQaXRjaC5pc0VuYWJsZWQoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlIChjdXJyZW50bHkgYmVpbmcgdXNlZCkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc0RyYWdSb3RhdGVBY3RpdmUgPSBtYXAuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpO1xuICAgICAqL1xuICAgIGlzQWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW91c2VSb3RhdGUuaXNBY3RpdmUoKSB8fCB0aGlzLl9tb3VzZVBpdGNoLmlzQWN0aXZlKCk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUge1RvdWNoWm9vbUhhbmRsZXIsIFRvdWNoUm90YXRlSGFuZGxlcn0gZnJvbSAnLi4vdG91Y2hfem9vbV9yb3RhdGUuanMnO1xuaW1wb3J0IHR5cGUgVGFwRHJhZ1pvb21IYW5kbGVyIGZyb20gJy4uL3RhcF9kcmFnX3pvb20uanMnO1xuXG4vKipcbiAqIFRoZSBgVG91Y2hab29tUm90YXRlSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gYW5kIHJvdGF0ZSB0aGUgbWFwIGJ5XG4gKiBwaW5jaGluZyBvbiBhIHRvdWNoc2NyZWVuLlxuICpcbiAqIFRoZXkgY2FuIHpvb20gd2l0aCBvbmUgZmluZ2VyIGJ5IGRvdWJsZSB0YXBwaW5nIGFuZCBkcmFnZ2luZy4gT24gdGhlIHNlY29uZCB0YXAsXG4gKiBob2xkIHRoZSBmaW5nZXIgZG93biBhbmQgZHJhZyB1cCBvciBkb3duIHRvIHpvb20gaW4gb3Igb3V0LlxuICpcbiAqIEBzZWUgW0V4YW1wbGU6IFRvZ2dsZSBpbnRlcmFjdGlvbnNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3RvZ2dsZS1pbnRlcmFjdGlvbi1oYW5kbGVycy8pXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXIge1xuXG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfdG91Y2hab29tOiBUb3VjaFpvb21IYW5kbGVyO1xuICAgIF90b3VjaFJvdGF0ZTogVG91Y2hSb3RhdGVIYW5kbGVyO1xuICAgIF90YXBEcmFnWm9vbTogVGFwRHJhZ1pvb21IYW5kbGVyO1xuICAgIF9yb3RhdGlvbkRpc2FibGVkOiBib29sZWFuO1xuICAgIF9lbmFibGVkOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgdG91Y2hab29tOiBUb3VjaFpvb21IYW5kbGVyLCB0b3VjaFJvdGF0ZTogVG91Y2hSb3RhdGVIYW5kbGVyLCB0YXBEcmFnWm9vbTogVGFwRHJhZ1pvb21IYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2VsID0gZWw7XG4gICAgICAgIHRoaXMuX3RvdWNoWm9vbSA9IHRvdWNoWm9vbTtcbiAgICAgICAgdGhpcy5fdG91Y2hSb3RhdGUgPSB0b3VjaFJvdGF0ZTtcbiAgICAgICAgdGhpcy5fdGFwRHJhZ1pvb20gPSB0YXBEcmFnWm9vbTtcbiAgICAgICAgdGhpcy5fcm90YXRpb25EaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcInBpbmNoIHRvIHJvdGF0ZSBhbmQgem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYXJvdW5kXSBJZiBcImNlbnRlclwiIGlzIHBhc3NlZCwgbWFwIHdpbGwgem9vbSBhcm91bmQgdGhlIGNlbnRlci5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnRvdWNoWm9vbVJvdGF0ZS5lbmFibGUoKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC50b3VjaFpvb21Sb3RhdGUuZW5hYmxlKHthcm91bmQ6ICdjZW50ZXInfSk7XG4gICAgICovXG4gICAgZW5hYmxlKG9wdGlvbnM6ID97YXJvdW5kPzogJ2NlbnRlcid9KSB7XG4gICAgICAgIHRoaXMuX3RvdWNoWm9vbS5lbmFibGUob3B0aW9ucyk7XG4gICAgICAgIGlmICghdGhpcy5fcm90YXRpb25EaXNhYmxlZCkgdGhpcy5fdG91Y2hSb3RhdGUuZW5hYmxlKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl90YXBEcmFnWm9vbS5lbmFibGUoKTtcbiAgICAgICAgdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJwaW5jaCB0byByb3RhdGUgYW5kIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnRvdWNoWm9vbVJvdGF0ZS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fdG91Y2hab29tLmRpc2FibGUoKTtcbiAgICAgICAgdGhpcy5fdG91Y2hSb3RhdGUuZGlzYWJsZSgpO1xuICAgICAgICB0aGlzLl90YXBEcmFnWm9vbS5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcInBpbmNoIHRvIHJvdGF0ZSBhbmQgem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcInBpbmNoIHRvIHJvdGF0ZSBhbmQgem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc1RvdWNoWm9vbVJvdGF0ZUVuYWJsZWQgPSBtYXAudG91Y2hab29tUm90YXRlLmlzRW5hYmxlZCgpO1xuICAgICAqL1xuICAgIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdWNoWm9vbS5pc0VuYWJsZWQoKSAmJlxuICAgICAgICAgICAgKHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQgfHwgdGhpcy5fdG91Y2hSb3RhdGUuaXNFbmFibGVkKCkpICYmXG4gICAgICAgICAgICB0aGlzLl90YXBEcmFnWm9vbS5pc0VuYWJsZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGhhbmRsZXIgaXMgZW5hYmxlZCBhbmQgaGFzIGRldGVjdGVkIHRoZSBzdGFydCBvZiBhIHpvb20vcm90YXRlIGdlc3R1cmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGVuYWJsZWQgYW5kIGEgem9vbS9yb3RhdGUgZ2VzdHVyZSB3YXMgZGV0ZWN0ZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc1RvdWNoWm9vbVJvdGF0ZUFjdGl2ZSA9IG1hcC50b3VjaFpvb21Sb3RhdGUuaXNBY3RpdmUoKTtcbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdWNoWm9vbS5pc0FjdGl2ZSgpIHx8IHRoaXMuX3RvdWNoUm90YXRlLmlzQWN0aXZlKCkgfHwgdGhpcy5fdGFwRHJhZ1pvb20uaXNBY3RpdmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJwaW5jaCB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiwgbGVhdmluZyB0aGUgXCJwaW5jaCB0byB6b29tXCJcbiAgICAgKiBpbnRlcmFjdGlvbiBlbmFibGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAudG91Y2hab29tUm90YXRlLmRpc2FibGVSb3RhdGlvbigpO1xuICAgICAqL1xuICAgIGRpc2FibGVSb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcm90YXRpb25EaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3RvdWNoUm90YXRlLmRpc2FibGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcInBpbmNoIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAudG91Y2hab29tUm90YXRlLmVuYWJsZSgpO1xuICAgICAqIG1hcC50b3VjaFpvb21Sb3RhdGUuZW5hYmxlUm90YXRpb24oKTtcbiAgICAgKi9cbiAgICBlbmFibGVSb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcm90YXRpb25EaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fdG91Y2hab29tLmlzRW5hYmxlZCgpKSB0aGlzLl90b3VjaFJvdGF0ZS5lbmFibGUoKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge0V2ZW50fSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uL3V0aWwvZG9tLmpzJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcC5qcyc7XG5pbXBvcnQgSGFuZGxlckluZXJ0aWEgZnJvbSAnLi9oYW5kbGVyX2luZXJ0aWEuanMnO1xuaW1wb3J0IHtNYXBFdmVudEhhbmRsZXIsIEJsb2NrYWJsZU1hcEV2ZW50SGFuZGxlcn0gZnJvbSAnLi9oYW5kbGVyL21hcF9ldmVudC5qcyc7XG5pbXBvcnQgQm94Wm9vbUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL2JveF96b29tLmpzJztcbmltcG9ydCBUYXBab29tSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvdGFwX3pvb20uanMnO1xuaW1wb3J0IHtNb3VzZVBhbkhhbmRsZXIsIE1vdXNlUm90YXRlSGFuZGxlciwgTW91c2VQaXRjaEhhbmRsZXJ9IGZyb20gJy4vaGFuZGxlci9tb3VzZS5qcyc7XG5pbXBvcnQgVG91Y2hQYW5IYW5kbGVyIGZyb20gJy4vaGFuZGxlci90b3VjaF9wYW4uanMnO1xuaW1wb3J0IHtUb3VjaFpvb21IYW5kbGVyLCBUb3VjaFJvdGF0ZUhhbmRsZXIsIFRvdWNoUGl0Y2hIYW5kbGVyfSBmcm9tICcuL2hhbmRsZXIvdG91Y2hfem9vbV9yb3RhdGUuanMnO1xuaW1wb3J0IEtleWJvYXJkSGFuZGxlciBmcm9tICcuL2hhbmRsZXIva2V5Ym9hcmQuanMnO1xuaW1wb3J0IFNjcm9sbFpvb21IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9zY3JvbGxfem9vbS5qcyc7XG5pbXBvcnQgRG91YmxlQ2xpY2tab29tSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvc2hpbS9kYmxjbGlja196b29tLmpzJztcbmltcG9ydCBDbGlja1pvb21IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9jbGlja196b29tLmpzJztcbmltcG9ydCBUYXBEcmFnWm9vbUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL3RhcF9kcmFnX3pvb20uanMnO1xuaW1wb3J0IERyYWdQYW5IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9zaGltL2RyYWdfcGFuLmpzJztcbmltcG9ydCBEcmFnUm90YXRlSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvc2hpbS9kcmFnX3JvdGF0ZS5qcyc7XG5pbXBvcnQgVG91Y2hab29tUm90YXRlSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvc2hpbS90b3VjaF96b29tX3JvdGF0ZS5qcyc7XG5pbXBvcnQge2JpbmRBbGwsIGV4dGVuZH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vdXRpbC93aW5kb3cuanMnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHt2ZWMzfSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSwge2xhdEZyb21NZXJjYXRvclksIG1lcmNhdG9yU2NhbGV9IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcblxuaW1wb3J0IHR5cGUge1ZlYzN9IGZyb20gJ2dsLW1hdHJpeCc7XG5cbmV4cG9ydCB0eXBlIElucHV0RXZlbnQgPSBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCB8IEtleWJvYXJkRXZlbnQgfCBXaGVlbEV2ZW50O1xuXG5jb25zdCBpc01vdmluZyA9IHAgPT4gcC56b29tIHx8IHAuZHJhZyB8fCBwLnBpdGNoIHx8IHAucm90YXRlO1xuXG5jbGFzcyBSZW5kZXJGcmFtZUV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAgIHR5cGU6ICdyZW5kZXJGcmFtZSc7XG4gICAgdGltZVN0YW1wOiBudW1iZXI7XG59XG5cbmNsYXNzIFRyYWNraW5nRWxsaXBzb2lkIHtcbiAgICBjb25zdGFudHM6IEFycmF5PG51bWJlcj47XG4gICAgcmFkaXVzOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gYSwgYiwgYyBpbiB0aGUgZXF1YXRpb24geMKyL2HCsiArIHnCsi9iwrIgKyB6wrIvY8KyID0gMVxuICAgICAgICB0aGlzLmNvbnN0YW50cyA9IFsxLCAxLCAwLjAxXTtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSAwO1xuICAgIH1cblxuICAgIHNldHVwKGNlbnRlcjogVmVjMywgcG9pbnRPblN1cmZhY2U6IFZlYzMpIHtcbiAgICAgICAgY29uc3QgY2VudGVyVG9TdXJmYWNlID0gdmVjMy5zdWIoW10sIHBvaW50T25TdXJmYWNlLCBjZW50ZXIpO1xuICAgICAgICBpZiAoY2VudGVyVG9TdXJmYWNlWzJdIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSB2ZWMzLmxlbmd0aCh2ZWMzLmRpdihbXSwgY2VudGVyVG9TdXJmYWNlLCB0aGlzLmNvbnN0YW50cykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhlIHBvaW50IG9uIHN1cmZhY2UgaXMgYWJvdmUgdGhlIGNlbnRlci4gVGhpcyBjYW4gaGFwcGVuIGZvciBleGFtcGxlIHdoZW4gdGhlIGNhbWVyYSBpc1xuICAgICAgICAgICAgLy8gYmVsb3cgdGhlIGNsaWNrZWQgcG9pbnQgKGxpa2UgYSBtb3VudGFpbikgVXNlIHNsaWdodGx5IHNob3J0ZXIgcmFkaXVzIGZvciBsZXNzIGFnZ3Jlc3NpdmUgbW92ZW1lbnRcbiAgICAgICAgICAgIHRoaXMucmFkaXVzID0gdmVjMy5sZW5ndGgoW2NlbnRlclRvU3VyZmFjZVswXSwgY2VudGVyVG9TdXJmYWNlWzFdLCAwXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDYXN0IGEgcmF5IGZyb20gdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzb2lkIGFuZCB0aGUgaW50ZXJzZWN0aW9uIHBvaW50LlxuICAgIHByb2plY3RSYXkoZGlyOiBWZWMzKTogVmVjMyB7XG4gICAgICAgIC8vIFBlcmZvcm0gdGhlIGludGVyc2VjdGlvbiB0ZXN0IGFnYWluc3QgYSB1bml0IHNwaGVyZVxuICAgICAgICB2ZWMzLmRpdihkaXIsIGRpciwgdGhpcy5jb25zdGFudHMpO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShkaXIsIGRpcik7XG4gICAgICAgIHZlYzMubXVsKGRpciwgZGlyLCB0aGlzLmNvbnN0YW50cyk7XG5cbiAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9uID0gdmVjMy5zY2FsZShbXSwgZGlyLCB0aGlzLnJhZGl1cyk7XG5cbiAgICAgICAgaWYgKGludGVyc2VjdGlvblsyXSA+IDApIHtcbiAgICAgICAgICAgIC8vIFRoZSBpbnRlcnNlY3Rpb24gcG9pbnQgaXMgYWJvdmUgaG9yaXpvbiBzbyBzcGVjaWFsIGhhbmRsaW5nIGlzIHJlcXVpcmVkLlxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGRpcmVjdGlvbiBvZiB0aGUgbW92ZW1lbnQgd291bGQgYmUgaW52ZXJ0ZWQgZHVlIHRvIHRoZSBlbGxpcHNvaWQgc2hhcGVcbiAgICAgICAgICAgIGNvbnN0IGggPSB2ZWMzLnNjYWxlKFtdLCBbMCwgMCwgMV0sIHZlYzMuZG90KGludGVyc2VjdGlvbiwgWzAsIDAsIDFdKSk7XG4gICAgICAgICAgICBjb25zdCByID0gdmVjMy5zY2FsZShbXSwgdmVjMy5ub3JtYWxpemUoW10sIFtpbnRlcnNlY3Rpb25bMF0sIGludGVyc2VjdGlvblsxXSwgMF0pLCB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICBjb25zdCBwID0gdmVjMy5hZGQoW10sIGludGVyc2VjdGlvbiwgdmVjMy5zY2FsZShbXSwgdmVjMy5zdWIoW10sIHZlYzMuYWRkKFtdLCByLCBoKSwgaW50ZXJzZWN0aW9uKSwgMikpO1xuXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bMF0gPSBwWzBdO1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uWzFdID0gcFsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb247XG4gICAgfVxufVxuXG4vLyBIYW5kbGVycyBpbnRlcnByZXQgZG9tIGV2ZW50cyBhbmQgcmV0dXJuIGNhbWVyYSBjaGFuZ2VzIHRoYXQgc2hvdWxkIGJlXG4vLyBhcHBsaWVkIHRvIHRoZSBtYXAgKGBIYW5kbGVyUmVzdWx0YHMpLiBUaGUgY2FtZXJhIGNoYW5nZXMgYXJlIGFsbCBkZWx0YXMuXG4vLyBUaGUgaGFuZGxlciBpdHNlbGYgc2hvdWxkIGhhdmUgbm8ga25vd2xlZGdlIG9mIHRoZSBtYXAncyBjdXJyZW50IHN0YXRlLlxuLy8gVGhpcyBtYWtlcyBpdCBlYXNpZXIgdG8gbWVyZ2UgbXVsdGlwbGUgcmVzdWx0cyBhbmQga2VlcHMgaGFuZGxlcnMgc2ltcGxlci5cbi8vIEZvciBleGFtcGxlLCBpZiB0aGVyZSBpcyBhIG1vdXNlZG93biBhbmQgbW91c2Vtb3ZlLCB0aGUgbW91c2VQYW4gaGFuZGxlclxuLy8gd291bGQgcmV0dXJuIGEgYHBhbkRlbHRhYCBvbiB0aGUgbW91c2Vtb3ZlLlxuZXhwb3J0IGludGVyZmFjZSBIYW5kbGVyIHtcbiAgICBlbmFibGUoKTogdm9pZDtcbiAgICBkaXNhYmxlKCk6IHZvaWQ7XG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW47XG4gICAgaXNBY3RpdmUoKTogYm9vbGVhbjtcblxuICAgIC8vIGByZXNldGAgY2FuIGJlIGNhbGxlZCBieSB0aGUgbWFuYWdlciBhdCBhbnkgdGltZSBhbmQgbXVzdCByZXNldCBldmVyeXRoaW5nIHRvIGl0J3Mgb3JpZ2luYWwgc3RhdGVcbiAgICByZXNldCgpOiB2b2lkO1xuXG4gICAgLy8gSGFuZGxlcnMgY2FuIG9wdGlvbmFsbHkgaW1wbGVtZW50IHRoZXNlIG1ldGhvZHMuXG4gICAgLy8gVGhleSBhcmUgY2FsbGVkIHdpdGggZG9tIGV2ZW50cyB3aGVuZXZlciB0aG9zZSBkb20gZXZlbnMgYXJlIHJlY2VpdmVkLlxuICAgICt0b3VjaHN0YXJ0PzogKGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pID0+ID9IYW5kbGVyUmVzdWx0O1xuICAgICt0b3VjaG1vdmU/OiAoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPikgPT4gP0hhbmRsZXJSZXN1bHQ7XG4gICAgK3RvdWNoZW5kPzogKGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pID0+ID9IYW5kbGVyUmVzdWx0O1xuICAgICt0b3VjaGNhbmNlbD86IChlOiBUb3VjaEV2ZW50LCBwb2ludHM6IEFycmF5PFBvaW50PiwgbWFwVG91Y2hlczogQXJyYXk8VG91Y2g+KSA9PiA/SGFuZGxlclJlc3VsdDtcbiAgICArbW91c2Vkb3duPzogKGU6IE1vdXNlRXZlbnQsIHBvaW50OiBQb2ludCkgPT4gP0hhbmRsZXJSZXN1bHQ7XG4gICAgK21vdXNlbW92ZT86IChlOiBNb3VzZUV2ZW50LCBwb2ludDogUG9pbnQpID0+ID9IYW5kbGVyUmVzdWx0O1xuICAgICttb3VzZXVwPzogKGU6IE1vdXNlRXZlbnQsIHBvaW50OiBQb2ludCkgPT4gP0hhbmRsZXJSZXN1bHQ7XG4gICAgK2RibGNsaWNrPzogKGU6IE1vdXNlRXZlbnQsIHBvaW50OiBQb2ludCkgPT4gP0hhbmRsZXJSZXN1bHQ7XG4gICAgK3doZWVsPzogKGU6IFdoZWVsRXZlbnQsIHBvaW50OiBQb2ludCkgPT4gP0hhbmRsZXJSZXN1bHQ7XG4gICAgK2tleWRvd24/OiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gP0hhbmRsZXJSZXN1bHQ7XG4gICAgK2tleXVwPzogKGU6IEtleWJvYXJkRXZlbnQpID0+ID9IYW5kbGVyUmVzdWx0O1xuXG4gICAgLy8gYHJlbmRlckZyYW1lYCBpcyB0aGUgb25seSBub24tZG9tIGV2ZW50LiBJdCBpcyBjYWxsZWQgZHVyaW5nIHJlbmRlclxuICAgIC8vIGZyYW1lcyBhbmQgY2FuIGJlIHVzZWQgdG8gc21vb3RoIGNhbWVyYSBjaGFuZ2VzIChzZWUgc2Nyb2xsIGhhbmRsZXIpLlxuICAgICtyZW5kZXJGcmFtZT86ICgpID0+ID9IYW5kbGVyUmVzdWx0O1xufVxuXG4vLyBBbGwgaGFuZGxlciBtZXRob2RzIHRoYXQgYXJlIGNhbGxlZCB3aXRoIGV2ZW50cyBjYW4gb3B0aW9uYWxseSByZXR1cm4gYSBgSGFuZGxlclJlc3VsdGAuXG5leHBvcnQgdHlwZSBIYW5kbGVyUmVzdWx0ID0ge1xuICAgIHBhbkRlbHRhPzogUG9pbnQsXG4gICAgem9vbURlbHRhPzogbnVtYmVyLFxuICAgIGJlYXJpbmdEZWx0YT86IG51bWJlcixcbiAgICBwaXRjaERlbHRhPzogbnVtYmVyLFxuICAgIC8vIHRoZSBwb2ludCB0byBub3QgbW92ZSB3aGVuIGNoYW5naW5nIHRoZSBjYW1lcmFcbiAgICBhcm91bmQ/OiBQb2ludCB8IG51bGwsXG4gICAgLy8gc2FtZSBhcyBhYm92ZSwgZXhjZXB0IGZvciBwaW5jaCBhY3Rpb25zLCB3aGljaCBhcmUgZ2l2ZW4gaGlnaGVyIHByaW9yaXR5XG4gICAgcGluY2hBcm91bmQ/OiBQb2ludCB8IG51bGwsXG4gICAgLy8gdGhlIHBvaW50IHRvIG5vdCBtb3ZlIHdoZW4gY2hhbmdpbmcgdGhlIGNhbWVyYSBpbiBtZXJjYXRvciBjb29yZGluYXRlc1xuICAgIGFyb3VuZENvb3JkPzogTWVyY2F0b3JDb29yZGluYXRlIHwgbnVsbCxcbiAgICAvLyBBIG1ldGhvZCB0aGF0IGNhbiBmaXJlIGEgb25lLW9mZiBlYXNpbmcgYnkgZGlyZWN0bHkgY2hhbmdpbmcgdGhlIG1hcCdzIGNhbWVyYS5cbiAgICBjYW1lcmFBbmltYXRpb24/OiAobWFwOiBNYXApID0+IGFueTtcblxuICAgIC8vIFRoZSBsYXN0IHRocmVlIHByb3BlcnRpZXMgYXJlIG5lZWRlZCBieSBvbmx5IG9uZSBoYW5kbGVyOiBzY3JvbGx6b29tLlxuICAgIC8vIFRoZSBET00gZXZlbnQgdG8gYmUgdXNlZCBhcyB0aGUgYG9yaWdpbmFsRXZlbnRgIG9uIGFueSBjYW1lcmEgY2hhbmdlIGV2ZW50cy5cbiAgICBvcmlnaW5hbEV2ZW50PzogYW55LFxuICAgIC8vIE1ha2VzIHRoZSBtYW5hZ2VyIHRyaWdnZXIgYSBmcmFtZSwgYWxsb3dpbmcgdGhlIGhhbmRsZXIgdG8gcmV0dXJuIG11bHRpcGxlIHJlc3VsdHMgb3ZlciB0aW1lIChzZWUgc2Nyb2xsem9vbSkuXG4gICAgbmVlZHNSZW5kZXJGcmFtZT86IGJvb2xlYW4sXG4gICAgLy8gVGhlIGNhbWVyYSBjaGFuZ2VzIHdvbid0IGdldCByZWNvcmRlZCBmb3IgaW5lcnRpYWwgem9vbWluZy5cbiAgICBub0luZXJ0aWE/OiBib29sZWFuXG59O1xuXG5mdW5jdGlvbiBoYXNDaGFuZ2UocmVzdWx0OiBIYW5kbGVyUmVzdWx0KSB7XG4gICAgcmV0dXJuIChyZXN1bHQucGFuRGVsdGEgJiYgcmVzdWx0LnBhbkRlbHRhLm1hZygpKSB8fCByZXN1bHQuem9vbURlbHRhIHx8IHJlc3VsdC5iZWFyaW5nRGVsdGEgfHwgcmVzdWx0LnBpdGNoRGVsdGE7XG59XG5cbmNsYXNzIEhhbmRsZXJNYW5hZ2VyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfaGFuZGxlcnM6IEFycmF5PHsgaGFuZGxlck5hbWU6IHN0cmluZywgaGFuZGxlcjogSGFuZGxlciwgYWxsb3dlZDogYW55IH0+O1xuICAgIF9ldmVudHNJblByb2dyZXNzOiBPYmplY3Q7XG4gICAgX2ZyYW1lSWQ6ID9udW1iZXI7XG4gICAgX2luZXJ0aWE6IEhhbmRsZXJJbmVydGlhO1xuICAgIF9iZWFyaW5nU25hcDogbnVtYmVyO1xuICAgIF9oYW5kbGVyc0J5SWQ6IHsgW3N0cmluZ106IEhhbmRsZXIgfTtcbiAgICBfdXBkYXRpbmdDYW1lcmE6IGJvb2xlYW47XG4gICAgX2NoYW5nZXM6IEFycmF5PFtIYW5kbGVyUmVzdWx0LCBPYmplY3QsIGFueV0+O1xuICAgIF9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzOiB7IFtzdHJpbmddOiBIYW5kbGVyIH07XG4gICAgX2xpc3RlbmVyczogQXJyYXk8W0hUTUxFbGVtZW50LCBzdHJpbmcsIHZvaWQgfCBFdmVudExpc3RlbmVyT3B0aW9uc09yVXNlQ2FwdHVyZV0+O1xuICAgIF90cmFja2luZ0VsbGlwc29pZDogVHJhY2tpbmdFbGxpcHNvaWQ7XG4gICAgX2RyYWdPcmlnaW46ID9WZWMzO1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXAsIG9wdGlvbnM6IHsgaW50ZXJhY3RpdmU6IGJvb2xlYW4sIHBpdGNoV2l0aFJvdGF0ZTogYm9vbGVhbiwgY2xpY2tUb2xlcmFuY2U6IG51bWJlciwgYmVhcmluZ1NuYXA6IG51bWJlcn0pIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IHRoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5faGFuZGxlcnNCeUlkID0ge307XG4gICAgICAgIHRoaXMuX2NoYW5nZXMgPSBbXTtcblxuICAgICAgICB0aGlzLl9pbmVydGlhID0gbmV3IEhhbmRsZXJJbmVydGlhKG1hcCk7XG4gICAgICAgIHRoaXMuX2JlYXJpbmdTbmFwID0gb3B0aW9ucy5iZWFyaW5nU25hcDtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycyA9IHt9O1xuICAgICAgICB0aGlzLl90cmFja2luZ0VsbGlwc29pZCA9IG5ldyBUcmFja2luZ0VsbGlwc29pZCgpO1xuICAgICAgICB0aGlzLl9kcmFnT3JpZ2luID0gbnVsbDtcblxuICAgICAgICAvLyBUcmFjayB3aGV0aGVyIG1hcCBpcyBjdXJyZW50bHkgbW92aW5nLCB0byBjb21wdXRlIHN0YXJ0L21vdmUvZW5kIGV2ZW50c1xuICAgICAgICB0aGlzLl9ldmVudHNJblByb2dyZXNzID0ge307XG5cbiAgICAgICAgdGhpcy5fYWRkRGVmYXVsdEhhbmRsZXJzKG9wdGlvbnMpO1xuXG4gICAgICAgIGJpbmRBbGwoWydoYW5kbGVFdmVudCcsICdoYW5kbGVXaW5kb3dFdmVudCddLCB0aGlzKTtcblxuICAgICAgICBjb25zdCBlbCA9IHRoaXMuX2VsO1xuXG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtcbiAgICAgICAgICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgYHBhc3NpdmU6IHRydWVgIHNvIHRoYXQgYSBkb3VibGUgdGFwIGZpcmVzIHR3b1xuICAgICAgICAgICAgLy8gcGFpcnMgb2YgdG91Y2hzdGFydC9lbmQgZXZlbnRzIGluIGlPUyBTYWZhcmkgMTMuIElmIHRoaXMgaXMgc2V0IHRvXG4gICAgICAgICAgICAvLyBgcGFzc2l2ZTogZmFsc2VgIHRoZW4gdGhlIHNlY29uZCBwYWlyIG9mIGV2ZW50cyBpcyBvbmx5IGZpcmVkIGlmXG4gICAgICAgICAgICAvLyBwcmV2ZW50RGVmYXVsdCgpIGlzIGNhbGxlZCBvbiB0aGUgZmlyc3QgdG91Y2hzdGFydC4gQ2FsbGluZyBwcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAvLyB1bmRlc2lyYWJseSBwcmV2ZW50cyBjbGljayBldmVudHMuXG4gICAgICAgICAgICBbZWwsICd0b3VjaHN0YXJ0Jywge3Bhc3NpdmU6IHRydWV9XSxcbiAgICAgICAgICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgYHBhc3NpdmU6IGZhbHNlYCBzbyB0aGF0IHNjcm9sbHMgYW5kIHBpbmNoZXMgY2FuIGJlXG4gICAgICAgICAgICAvLyBwcmV2ZW50ZWQgaW4gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGB0b3VjaC1hY3Rpb25zOiBub25lYCwgZm9yIGV4YW1wbGUgaU9TIFNhZmFyaSAxMi5cbiAgICAgICAgICAgIFtlbCwgJ3RvdWNobW92ZScsIHtwYXNzaXZlOiBmYWxzZX1dLFxuICAgICAgICAgICAgW2VsLCAndG91Y2hlbmQnLCB1bmRlZmluZWRdLFxuICAgICAgICAgICAgW2VsLCAndG91Y2hjYW5jZWwnLCB1bmRlZmluZWRdLFxuXG4gICAgICAgICAgICBbZWwsICdtb3VzZWRvd24nLCB1bmRlZmluZWRdLFxuICAgICAgICAgICAgW2VsLCAnbW91c2Vtb3ZlJywgdW5kZWZpbmVkXSxcbiAgICAgICAgICAgIFtlbCwgJ21vdXNldXAnLCB1bmRlZmluZWRdLFxuXG4gICAgICAgICAgICAvLyBCaW5kIHdpbmRvdy1sZXZlbCBldmVudCBsaXN0ZW5lcnMgZm9yIG1vdmUgYW5kIHVwL2VuZCBldmVudHMuIEluIHRoZSBhYnNlbmNlIG9mXG4gICAgICAgICAgICAvLyB0aGUgcG9pbnRlciBjYXB0dXJlIEFQSSwgd2hpY2ggaXMgbm90IHN1cHBvcnRlZCBieSBhbGwgbmVjZXNzYXJ5IHBsYXRmb3JtcyxcbiAgICAgICAgICAgIC8vIHdpbmRvdy1sZXZlbCBldmVudCBsaXN0ZW5lcnMgZ2l2ZSB1cyB0aGUgYmVzdCBzaG90IGF0IGNhcHR1cmluZyBldmVudHMgdGhhdFxuICAgICAgICAgICAgLy8gZmFsbCBvdXRzaWRlIHRoZSBtYXAgY2FudmFzIGVsZW1lbnQuIFVzZSBge2NhcHR1cmU6IHRydWV9YCBmb3IgdGhlIG1vdmUgZXZlbnRcbiAgICAgICAgICAgIC8vIHRvIHByZXZlbnQgbWFwIG1vdmUgZXZlbnRzIGZyb20gYmVpbmcgZmlyZWQgZHVyaW5nIGEgZHJhZy5cbiAgICAgICAgICAgIFt3aW5kb3cuZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB7Y2FwdHVyZTogdHJ1ZX1dLFxuICAgICAgICAgICAgW3dpbmRvdy5kb2N1bWVudCwgJ21vdXNldXAnLCB1bmRlZmluZWRdLFxuXG4gICAgICAgICAgICBbZWwsICdtb3VzZW92ZXInLCB1bmRlZmluZWRdLFxuICAgICAgICAgICAgW2VsLCAnbW91c2VvdXQnLCB1bmRlZmluZWRdLFxuICAgICAgICAgICAgW2VsLCAnZGJsY2xpY2snLCB1bmRlZmluZWRdLFxuICAgICAgICAgICAgW2VsLCAnY2xpY2snLCB1bmRlZmluZWRdLFxuXG4gICAgICAgICAgICBbZWwsICdrZXlkb3duJywge2NhcHR1cmU6IGZhbHNlfV0sXG4gICAgICAgICAgICBbZWwsICdrZXl1cCcsIHVuZGVmaW5lZF0sXG5cbiAgICAgICAgICAgIFtlbCwgJ3doZWVsJywge3Bhc3NpdmU6IGZhbHNlfV0sXG4gICAgICAgICAgICBbZWwsICdjb250ZXh0bWVudScsIHVuZGVmaW5lZF0sXG5cbiAgICAgICAgICAgIFt3aW5kb3csICdibHVyJywgdW5kZWZpbmVkXVxuICAgICAgICBdO1xuXG4gICAgICAgIGZvciAoY29uc3QgW3RhcmdldCwgdHlwZSwgbGlzdGVuZXJPcHRpb25zXSBvZiB0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gdGFyZ2V0ID09PSB3aW5kb3cuZG9jdW1lbnQgPyB0aGlzLmhhbmRsZVdpbmRvd0V2ZW50IDogdGhpcy5oYW5kbGVFdmVudDtcbiAgICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCh0eXBlOiBhbnkpLCAobGlzdGVuZXI6IGFueSksIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGNvbnN0IFt0YXJnZXQsIHR5cGUsIGxpc3RlbmVyT3B0aW9uc10gb2YgdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IHRhcmdldCA9PT0gd2luZG93LmRvY3VtZW50ID8gdGhpcy5oYW5kbGVXaW5kb3dFdmVudCA6IHRoaXMuaGFuZGxlRXZlbnQ7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigodHlwZTogYW55KSwgKGxpc3RlbmVyOiBhbnkpLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2FkZERlZmF1bHRIYW5kbGVycyhvcHRpb25zOiB7IGludGVyYWN0aXZlOiBib29sZWFuLCBwaXRjaFdpdGhSb3RhdGU6IGJvb2xlYW4sIGNsaWNrVG9sZXJhbmNlOiBudW1iZXIgfSkge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGNvbnN0IGVsID0gbWFwLmdldENhbnZhc0NvbnRhaW5lcigpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2FkZCgnbWFwRXZlbnQnLCBuZXcgTWFwRXZlbnRIYW5kbGVyKG1hcCwgb3B0aW9ucykpO1xuXG4gICAgICAgIGNvbnN0IGJveFpvb20gPSBtYXAuYm94Wm9vbSA9IG5ldyBCb3hab29tSGFuZGxlcihtYXAsIG9wdGlvbnMpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2FkZCgnYm94Wm9vbScsIGJveFpvb20pO1xuXG4gICAgICAgIGNvbnN0IHRhcFpvb20gPSBuZXcgVGFwWm9vbUhhbmRsZXIoKTtcbiAgICAgICAgY29uc3QgY2xpY2tab29tID0gbmV3IENsaWNrWm9vbUhhbmRsZXIoKTtcbiAgICAgICAgbWFwLmRvdWJsZUNsaWNrWm9vbSA9IG5ldyBEb3VibGVDbGlja1pvb21IYW5kbGVyKGNsaWNrWm9vbSwgdGFwWm9vbSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fYWRkKCd0YXBab29tJywgdGFwWm9vbSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fYWRkKCdjbGlja1pvb20nLCBjbGlja1pvb20pO1xuXG4gICAgICAgIGNvbnN0IHRhcERyYWdab29tID0gbmV3IFRhcERyYWdab29tSGFuZGxlcigpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2FkZCgndGFwRHJhZ1pvb20nLCB0YXBEcmFnWm9vbSk7XG5cbiAgICAgICAgY29uc3QgdG91Y2hQaXRjaCA9IG1hcC50b3VjaFBpdGNoID0gbmV3IFRvdWNoUGl0Y2hIYW5kbGVyKG1hcCk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fYWRkKCd0b3VjaFBpdGNoJywgdG91Y2hQaXRjaCk7XG5cbiAgICAgICAgY29uc3QgbW91c2VSb3RhdGUgPSBuZXcgTW91c2VSb3RhdGVIYW5kbGVyKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBtb3VzZVBpdGNoID0gbmV3IE1vdXNlUGl0Y2hIYW5kbGVyKG9wdGlvbnMpO1xuICAgICAgICBtYXAuZHJhZ1JvdGF0ZSA9IG5ldyBEcmFnUm90YXRlSGFuZGxlcihvcHRpb25zLCBtb3VzZVJvdGF0ZSwgbW91c2VQaXRjaCk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fYWRkKCdtb3VzZVJvdGF0ZScsIG1vdXNlUm90YXRlLCBbJ21vdXNlUGl0Y2gnXSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fYWRkKCdtb3VzZVBpdGNoJywgbW91c2VQaXRjaCwgWydtb3VzZVJvdGF0ZSddKTtcblxuICAgICAgICBjb25zdCBtb3VzZVBhbiA9IG5ldyBNb3VzZVBhbkhhbmRsZXIob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHRvdWNoUGFuID0gbmV3IFRvdWNoUGFuSGFuZGxlcihtYXAsIG9wdGlvbnMpO1xuICAgICAgICBtYXAuZHJhZ1BhbiA9IG5ldyBEcmFnUGFuSGFuZGxlcihlbCwgbW91c2VQYW4sIHRvdWNoUGFuKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9hZGQoJ21vdXNlUGFuJywgbW91c2VQYW4pO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2FkZCgndG91Y2hQYW4nLCB0b3VjaFBhbiwgWyd0b3VjaFpvb20nLCAndG91Y2hSb3RhdGUnXSk7XG5cbiAgICAgICAgY29uc3QgdG91Y2hSb3RhdGUgPSBuZXcgVG91Y2hSb3RhdGVIYW5kbGVyKCk7XG4gICAgICAgIGNvbnN0IHRvdWNoWm9vbSA9IG5ldyBUb3VjaFpvb21IYW5kbGVyKCk7XG4gICAgICAgIG1hcC50b3VjaFpvb21Sb3RhdGUgPSBuZXcgVG91Y2hab29tUm90YXRlSGFuZGxlcihlbCwgdG91Y2hab29tLCB0b3VjaFJvdGF0ZSwgdGFwRHJhZ1pvb20pO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2FkZCgndG91Y2hSb3RhdGUnLCB0b3VjaFJvdGF0ZSwgWyd0b3VjaFBhbicsICd0b3VjaFpvb20nXSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fYWRkKCd0b3VjaFpvb20nLCB0b3VjaFpvb20sIFsndG91Y2hQYW4nLCAndG91Y2hSb3RhdGUnXSk7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9hZGQoJ2Jsb2NrYWJsZU1hcEV2ZW50JywgbmV3IEJsb2NrYWJsZU1hcEV2ZW50SGFuZGxlcihtYXApKTtcblxuICAgICAgICBjb25zdCBzY3JvbGxab29tID0gbWFwLnNjcm9sbFpvb20gPSBuZXcgU2Nyb2xsWm9vbUhhbmRsZXIobWFwLCB0aGlzKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9hZGQoJ3Njcm9sbFpvb20nLCBzY3JvbGxab29tLCBbJ21vdXNlUGFuJ10pO1xuXG4gICAgICAgIGNvbnN0IGtleWJvYXJkID0gbWFwLmtleWJvYXJkID0gbmV3IEtleWJvYXJkSGFuZGxlcigpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2FkZCgna2V5Ym9hcmQnLCBrZXlib2FyZCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIFsnYm94Wm9vbScsICdkb3VibGVDbGlja1pvb20nLCAndGFwRHJhZ1pvb20nLCAndG91Y2hQaXRjaCcsICdkcmFnUm90YXRlJywgJ2RyYWdQYW4nLCAndG91Y2hab29tUm90YXRlJywgJ3Njcm9sbFpvb20nLCAna2V5Ym9hcmQnXSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJhY3RpdmUgJiYgKG9wdGlvbnM6IGFueSlbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAobWFwOiBhbnkpW25hbWVdLmVuYWJsZSgob3B0aW9uczogYW55KVtuYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYWRkKGhhbmRsZXJOYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEhhbmRsZXIsIGFsbG93ZWQ/OiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzLnB1c2goe2hhbmRsZXJOYW1lLCBoYW5kbGVyLCBhbGxvd2VkfSk7XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzQnlJZFtoYW5kbGVyTmFtZV0gPSBoYW5kbGVyO1xuICAgIH1cblxuICAgIHN0b3AoYWxsb3dFbmRBbmltYXRpb246IGJvb2xlYW4pIHtcbiAgICAgICAgLy8gZG8gbm90aGluZyBpZiB0aGlzIG1ldGhvZCB3YXMgdHJpZ2dlcmVkIGJ5IGEgZ2VzdHVyZSB1cGRhdGVcbiAgICAgICAgaWYgKHRoaXMuX3VwZGF0aW5nQ2FtZXJhKSByZXR1cm47XG5cbiAgICAgICAgZm9yIChjb25zdCB7aGFuZGxlcn0gb2YgdGhpcy5faGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGhhbmRsZXIucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbmVydGlhLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2ZpcmVFdmVudHMoe30sIHt9LCBhbGxvd0VuZEFuaW1hdGlvbik7XG4gICAgICAgIHRoaXMuX2NoYW5nZXMgPSBbXTtcbiAgICB9XG5cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgZm9yIChjb25zdCB7aGFuZGxlcn0gb2YgdGhpcy5faGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyLmlzQWN0aXZlKCkpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpc1pvb21pbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Muem9vbSB8fCB0aGlzLl9tYXAuc2Nyb2xsWm9vbS5pc1pvb21pbmcoKTtcbiAgICB9XG5cbiAgICBpc1JvdGF0aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnJvdGF0ZTtcbiAgICB9XG5cbiAgICBpc01vdmluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhaXNNb3ZpbmcodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcykgfHwgdGhpcy5pc1pvb21pbmcoKTtcbiAgICB9XG5cbiAgICBfaXNEcmFnZ2luZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy5kcmFnO1xuICAgIH1cblxuICAgIF9ibG9ja2VkQnlBY3RpdmUoYWN0aXZlSGFuZGxlcnM6IHsgW3N0cmluZ106IEhhbmRsZXIgfSwgYWxsb3dlZDogQXJyYXk8c3RyaW5nPiwgbXlOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGFjdGl2ZUhhbmRsZXJzKSB7XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gbXlOYW1lKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICghYWxsb3dlZCB8fCBhbGxvd2VkLmluZGV4T2YobmFtZSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGhhbmRsZVdpbmRvd0V2ZW50KGU6IElucHV0RXZlbnQpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudChlLCBgJHtlLnR5cGV9V2luZG93YCk7XG4gICAgfVxuXG4gICAgX2dldE1hcFRvdWNoZXModG91Y2hlczogVG91Y2hMaXN0KTogVG91Y2hMaXN0IHtcbiAgICAgICAgY29uc3QgbWFwVG91Y2hlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdG91Y2hlcykge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKCh0LnRhcmdldDogYW55KTogTm9kZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZWwuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIG1hcFRvdWNoZXMucHVzaCh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKChtYXBUb3VjaGVzOiBhbnkpOiBUb3VjaExpc3QpO1xuICAgIH1cblxuICAgIGhhbmRsZUV2ZW50KGU6IElucHV0RXZlbnQgfCBSZW5kZXJGcmFtZUV2ZW50LCBldmVudE5hbWU/OiBzdHJpbmcpIHtcblxuICAgICAgICB0aGlzLl91cGRhdGluZ0NhbWVyYSA9IHRydWU7XG4gICAgICAgIGFzc2VydChlLnRpbWVTdGFtcCAhPT0gdW5kZWZpbmVkKTtcblxuICAgICAgICBjb25zdCBpc1JlbmRlckZyYW1lID0gZS50eXBlID09PSAncmVuZGVyRnJhbWUnO1xuICAgICAgICBjb25zdCBpbnB1dEV2ZW50ID0gaXNSZW5kZXJGcmFtZSA/IHVuZGVmaW5lZCA6ICgoZTogYW55KTogSW5wdXRFdmVudCk7XG5cbiAgICAgICAgLypcbiAgICAgICAgICogV2UgZG9uJ3QgY2FsbCBlLnByZXZlbnREZWZhdWx0KCkgZm9yIGFueSBldmVudHMgYnkgZGVmYXVsdC5cbiAgICAgICAgICogSGFuZGxlcnMgYXJlIHJlc3BvbnNpYmxlIGZvciBjYWxsaW5nIGl0IHdoZXJlIG5lY2Vzc2FyeS5cbiAgICAgICAgICovXG5cbiAgICAgICAgY29uc3QgbWVyZ2VkSGFuZGxlclJlc3VsdDogSGFuZGxlclJlc3VsdCA9IHtuZWVkc1JlbmRlckZyYW1lOiBmYWxzZX07XG4gICAgICAgIGNvbnN0IGV2ZW50c0luUHJvZ3Jlc3MgPSB7fTtcbiAgICAgICAgY29uc3QgYWN0aXZlSGFuZGxlcnMgPSB7fTtcblxuICAgICAgICBjb25zdCBtYXBUb3VjaGVzID0gZS50b3VjaGVzID8gdGhpcy5fZ2V0TWFwVG91Y2hlcygoKGU6IGFueSk6IFRvdWNoRXZlbnQpLnRvdWNoZXMpIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBwb2ludHMgPSBtYXBUb3VjaGVzID8gRE9NLnRvdWNoUG9zKHRoaXMuX2VsLCBtYXBUb3VjaGVzKSA6XG4gICAgICAgICAgICBpc1JlbmRlckZyYW1lID8gdW5kZWZpbmVkIDogLy8gcmVuZGVyRnJhbWUgZXZlbnQgZG9lc24ndCBoYXZlIGFueSBwb2ludHNcbiAgICAgICAgICAgIERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgKChlOiBhbnkpOiBNb3VzZUV2ZW50KSk7XG5cbiAgICAgICAgZm9yIChjb25zdCB7aGFuZGxlck5hbWUsIGhhbmRsZXIsIGFsbG93ZWR9IG9mIHRoaXMuX2hhbmRsZXJzKSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaXNFbmFibGVkKCkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgZGF0YTogP0hhbmRsZXJSZXN1bHQ7XG4gICAgICAgICAgICBpZiAodGhpcy5fYmxvY2tlZEJ5QWN0aXZlKGFjdGl2ZUhhbmRsZXJzLCBhbGxvd2VkLCBoYW5kbGVyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKChoYW5kbGVyOiBhbnkpW2V2ZW50TmFtZSB8fCBlLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSAoaGFuZGxlcjogYW55KVtldmVudE5hbWUgfHwgZS50eXBlXShlLCBwb2ludHMsIG1hcFRvdWNoZXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lcmdlSGFuZGxlclJlc3VsdChtZXJnZWRIYW5kbGVyUmVzdWx0LCBldmVudHNJblByb2dyZXNzLCBkYXRhLCBoYW5kbGVyTmFtZSwgaW5wdXRFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEubmVlZHNSZW5kZXJGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlclJlbmRlckZyYW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhIHx8IGhhbmRsZXIuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUhhbmRsZXJzW2hhbmRsZXJOYW1lXSA9IGhhbmRsZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWFjdGl2YXRlZEhhbmRsZXJzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzKSB7XG4gICAgICAgICAgICBpZiAoIWFjdGl2ZUhhbmRsZXJzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgZGVhY3RpdmF0ZWRIYW5kbGVyc1tuYW1lXSA9IGlucHV0RXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycyA9IGFjdGl2ZUhhbmRsZXJzO1xuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhkZWFjdGl2YXRlZEhhbmRsZXJzKS5sZW5ndGggfHwgaGFzQ2hhbmdlKG1lcmdlZEhhbmRsZXJSZXN1bHQpKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzLnB1c2goW21lcmdlZEhhbmRsZXJSZXN1bHQsIGV2ZW50c0luUHJvZ3Jlc3MsIGRlYWN0aXZhdGVkSGFuZGxlcnNdKTtcbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJSZW5kZXJGcmFtZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFjdGl2ZUhhbmRsZXJzKS5sZW5ndGggfHwgaGFzQ2hhbmdlKG1lcmdlZEhhbmRsZXJSZXN1bHQpKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuX3N0b3AodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGluZ0NhbWVyYSA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHtjYW1lcmFBbmltYXRpb259ID0gbWVyZ2VkSGFuZGxlclJlc3VsdDtcbiAgICAgICAgaWYgKGNhbWVyYUFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5faW5lcnRpYS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50cyh7fSwge30sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlcyA9IFtdO1xuICAgICAgICAgICAgY2FtZXJhQW5pbWF0aW9uKHRoaXMuX21hcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtZXJnZUhhbmRsZXJSZXN1bHQobWVyZ2VkSGFuZGxlclJlc3VsdDogSGFuZGxlclJlc3VsdCwgZXZlbnRzSW5Qcm9ncmVzczogT2JqZWN0LCBoYW5kbGVyUmVzdWx0OiBIYW5kbGVyUmVzdWx0LCBuYW1lOiBzdHJpbmcsIGU/OiBJbnB1dEV2ZW50KSB7XG4gICAgICAgIGlmICghaGFuZGxlclJlc3VsdCkgcmV0dXJuO1xuXG4gICAgICAgIGV4dGVuZChtZXJnZWRIYW5kbGVyUmVzdWx0LCBoYW5kbGVyUmVzdWx0KTtcblxuICAgICAgICBjb25zdCBldmVudERhdGEgPSB7aGFuZGxlck5hbWU6IG5hbWUsIG9yaWdpbmFsRXZlbnQ6IGhhbmRsZXJSZXN1bHQub3JpZ2luYWxFdmVudCB8fCBlfTtcblxuICAgICAgICAvLyB0cmFjayB3aGljaCBoYW5kbGVyIGNoYW5nZWQgd2hpY2ggY2FtZXJhIHByb3BlcnR5XG4gICAgICAgIGlmIChoYW5kbGVyUmVzdWx0Lnpvb21EZWx0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBldmVudHNJblByb2dyZXNzLnpvb20gPSBldmVudERhdGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZXJSZXN1bHQucGFuRGVsdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZXZlbnRzSW5Qcm9ncmVzcy5kcmFnID0gZXZlbnREYXRhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYW5kbGVyUmVzdWx0LnBpdGNoRGVsdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZXZlbnRzSW5Qcm9ncmVzcy5waXRjaCA9IGV2ZW50RGF0YTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlclJlc3VsdC5iZWFyaW5nRGVsdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZXZlbnRzSW5Qcm9ncmVzcy5yb3RhdGUgPSBldmVudERhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYXBwbHlDaGFuZ2VzKCkge1xuICAgICAgICBjb25zdCBjb21iaW5lZCA9IHt9O1xuICAgICAgICBjb25zdCBjb21iaW5lZEV2ZW50c0luUHJvZ3Jlc3MgPSB7fTtcbiAgICAgICAgY29uc3QgY29tYmluZWREZWFjdGl2YXRlZEhhbmRsZXJzID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBbY2hhbmdlLCBldmVudHNJblByb2dyZXNzLCBkZWFjdGl2YXRlZEhhbmRsZXJzXSBvZiB0aGlzLl9jaGFuZ2VzKSB7XG5cbiAgICAgICAgICAgIGlmIChjaGFuZ2UucGFuRGVsdGEpIGNvbWJpbmVkLnBhbkRlbHRhID0gKGNvbWJpbmVkLnBhbkRlbHRhIHx8IG5ldyBQb2ludCgwLCAwKSkuX2FkZChjaGFuZ2UucGFuRGVsdGEpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZS56b29tRGVsdGEpIGNvbWJpbmVkLnpvb21EZWx0YSA9IChjb21iaW5lZC56b29tRGVsdGEgfHwgMCkgKyBjaGFuZ2Uuem9vbURlbHRhO1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5iZWFyaW5nRGVsdGEpIGNvbWJpbmVkLmJlYXJpbmdEZWx0YSA9IChjb21iaW5lZC5iZWFyaW5nRGVsdGEgfHwgMCkgKyBjaGFuZ2UuYmVhcmluZ0RlbHRhO1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5waXRjaERlbHRhKSBjb21iaW5lZC5waXRjaERlbHRhID0gKGNvbWJpbmVkLnBpdGNoRGVsdGEgfHwgMCkgKyBjaGFuZ2UucGl0Y2hEZWx0YTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UuYXJvdW5kICE9PSB1bmRlZmluZWQpIGNvbWJpbmVkLmFyb3VuZCA9IGNoYW5nZS5hcm91bmQ7XG4gICAgICAgICAgICBpZiAoY2hhbmdlLmFyb3VuZENvb3JkICE9PSB1bmRlZmluZWQpIGNvbWJpbmVkLmFyb3VuZENvb3JkID0gY2hhbmdlLmFyb3VuZENvb3JkO1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5waW5jaEFyb3VuZCAhPT0gdW5kZWZpbmVkKSBjb21iaW5lZC5waW5jaEFyb3VuZCA9IGNoYW5nZS5waW5jaEFyb3VuZDtcbiAgICAgICAgICAgIGlmIChjaGFuZ2Uubm9JbmVydGlhKSBjb21iaW5lZC5ub0luZXJ0aWEgPSBjaGFuZ2Uubm9JbmVydGlhO1xuXG4gICAgICAgICAgICBleHRlbmQoY29tYmluZWRFdmVudHNJblByb2dyZXNzLCBldmVudHNJblByb2dyZXNzKTtcbiAgICAgICAgICAgIGV4dGVuZChjb21iaW5lZERlYWN0aXZhdGVkSGFuZGxlcnMsIGRlYWN0aXZhdGVkSGFuZGxlcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlTWFwVHJhbnNmb3JtKGNvbWJpbmVkLCBjb21iaW5lZEV2ZW50c0luUHJvZ3Jlc3MsIGNvbWJpbmVkRGVhY3RpdmF0ZWRIYW5kbGVycyk7XG4gICAgICAgIHRoaXMuX2NoYW5nZXMgPSBbXTtcbiAgICB9XG5cbiAgICBfdXBkYXRlTWFwVHJhbnNmb3JtKGNvbWJpbmVkUmVzdWx0OiBhbnksIGNvbWJpbmVkRXZlbnRzSW5Qcm9ncmVzczogT2JqZWN0LCBkZWFjdGl2YXRlZEhhbmRsZXJzOiBPYmplY3QpIHtcblxuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGNvbnN0IHRyID0gbWFwLnRyYW5zZm9ybTtcblxuICAgICAgICBjb25zdCBldmVudFN0YXJ0ZWQgPSAodHlwZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3RXZlbnQgPSBjb21iaW5lZEV2ZW50c0luUHJvZ3Jlc3NbdHlwZV07XG4gICAgICAgICAgICByZXR1cm4gbmV3RXZlbnQgJiYgIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbdHlwZV07XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZXZlbnRFbmRlZCA9ICh0eXBlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbdHlwZV07XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQgJiYgIXRoaXMuX2hhbmRsZXJzQnlJZFtldmVudC5oYW5kbGVyTmFtZV0uaXNBY3RpdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB0b1ZlYzMgPSAocDogTWVyY2F0b3JDb29yZGluYXRlKTogVmVjMyA9PiBbcC54LCBwLnksIHAuel07XG5cbiAgICAgICAgaWYgKGV2ZW50RW5kZWQoXCJkcmFnXCIpICYmICFoYXNDaGFuZ2UoY29tYmluZWRSZXN1bHQpKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVab29tID0gdHIuem9vbTtcbiAgICAgICAgICAgIHRyLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSA9IFwic2VhXCI7XG4gICAgICAgICAgICB0ci5yZWNlbnRlck9uVGVycmFpbigpO1xuICAgICAgICAgICAgdHIuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlID0gXCJncm91bmRcIjtcbiAgICAgICAgICAgIC8vIE1hcCB6b29tIG1pZ2h0IGNoYW5nZSBkdXJpbmcgdGhlIHBhbiBvcGVyYXRpb24gZHVlIHRvIHRlcnJhaW4gZWxldmF0aW9uLlxuICAgICAgICAgICAgaWYgKHByZVpvb20gIT09IHRyLnpvb20pIHRoaXMuX21hcC5fdXBkYXRlKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2F0Y2hlcyBkb3VibGUgY2xpY2sgYW5kIGRvdWJsZSB0YXAgem9vbXMgd2hlbiBjYW1lcmEgaXMgY29uc3RyYWluZWQgb3ZlciB0ZXJyYWluXG4gICAgICAgIGlmICh0ci5faXNDYW1lcmFDb25zdHJhaW5lZCkgbWFwLl9zdG9wKHRydWUpO1xuXG4gICAgICAgIGlmICghaGFzQ2hhbmdlKGNvbWJpbmVkUmVzdWx0KSkge1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50cyhjb21iaW5lZEV2ZW50c0luUHJvZ3Jlc3MsIGRlYWN0aXZhdGVkSGFuZGxlcnMsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHtwYW5EZWx0YSwgem9vbURlbHRhLCBiZWFyaW5nRGVsdGEsIHBpdGNoRGVsdGEsIGFyb3VuZCwgYXJvdW5kQ29vcmQsIHBpbmNoQXJvdW5kfSA9IGNvbWJpbmVkUmVzdWx0O1xuXG4gICAgICAgIGlmICh0ci5faXNDYW1lcmFDb25zdHJhaW5lZCkge1xuICAgICAgICAgICAgLy8gQ2F0Y2hlcyB3aGVlbCB6b29tIGV2ZW50cyB3aGVuIGNhbWVyYSBpcyBjb25zdHJhaW5lZCBvdmVyIHRlcnJhaW5cbiAgICAgICAgICAgIGlmICh6b29tRGVsdGEgPiAwKSB6b29tRGVsdGEgPSAwO1xuICAgICAgICAgICAgdHIuX2lzQ2FtZXJhQ29uc3RyYWluZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwaW5jaEFyb3VuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhcm91bmQgPSBwaW5jaEFyb3VuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoem9vbURlbHRhIHx8IGV2ZW50U3RhcnRlZChcImRyYWdcIikpICYmIGFyb3VuZCkge1xuICAgICAgICAgICAgdGhpcy5fZHJhZ09yaWdpbiA9IHRvVmVjMyh0ci5wb2ludENvb3JkaW5hdGUzRChhcm91bmQpKTtcbiAgICAgICAgICAgIC8vIENvbnN0cnVjdCB0aGUgdHJhY2tpbmcgZWxsaXBzb2lkIGV2ZXJ5IHRpbWUgdXNlciBjaGFuZ2VzIHRoZSB6b29tIG9yIGRyYWcgb3JpZ2luLlxuICAgICAgICAgICAgLy8gRGlyZWN0aW9uIG9mIHRoZSByYXkgd2lsbCBkZWZpbmUgc2l6ZSBvZiB0aGUgc2hhcGUgYW5kIGhlbmNlIGRlZmluaW5nIHRoZSBhdmFpbGFibGUgcmFuZ2Ugb2YgbW92ZW1lbnRcbiAgICAgICAgICAgIHRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnNldHVwKHRyLl9jYW1lcmEucG9zaXRpb24sIHRoaXMuX2RyYWdPcmlnaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxsIG1vdmVtZW50IG9mIHRoZSBjYW1lcmEgaXMgZG9uZSByZWxhdGl2ZSB0byB0aGUgc2VhIGxldmVsXG4gICAgICAgIHRyLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSA9IFwic2VhXCI7XG5cbiAgICAgICAgLy8gc3RvcCBhbnkgb25nb2luZyBjYW1lcmEgYW5pbWF0aW9ucyAoZWFzZVRvLCBmbHlUbylcbiAgICAgICAgbWFwLl9zdG9wKHRydWUpO1xuXG4gICAgICAgIGFyb3VuZCA9IGFyb3VuZCB8fCBtYXAudHJhbnNmb3JtLmNlbnRlclBvaW50O1xuICAgICAgICBpZiAoYmVhcmluZ0RlbHRhKSB0ci5iZWFyaW5nICs9IGJlYXJpbmdEZWx0YTtcbiAgICAgICAgaWYgKHBpdGNoRGVsdGEpIHRyLnBpdGNoICs9IHBpdGNoRGVsdGE7XG4gICAgICAgIHRyLl91cGRhdGVDYW1lcmFTdGF0ZSgpO1xuXG4gICAgICAgIC8vIENvbXB1dGUgTWVyY2F0b3IgM0QgY2FtZXJhIG9mZnNldCBiYXNlZCBvbiBzY3JlZW5zcGFjZSBwYW5EZWx0YVxuICAgICAgICBjb25zdCBwYW5WZWMgPSBbMCwgMCwgMF07XG4gICAgICAgIGlmIChwYW5EZWx0YSkge1xuICAgICAgICAgICAgaWYgKHRyLnByb2plY3Rpb24ubmFtZSA9PT0gJ21lcmNhdG9yJykge1xuICAgICAgICAgICAgICAgIGFzc2VydCh0aGlzLl9kcmFnT3JpZ2luLCAnX2RyYWdPcmlnaW4gc2hvdWxkIGhhdmUgYmVlbiBzZXR1cCB3aXRoIGEgcHJldmlvdXMgZHJhZ3N0YXJ0Jyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRQb2ludCA9IHRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnByb2plY3RSYXkodHIuc2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KGFyb3VuZCkuZGlyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRQb2ludCA9IHRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnByb2plY3RSYXkodHIuc2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KGFyb3VuZC5zdWIocGFuRGVsdGEpKS5kaXIpO1xuICAgICAgICAgICAgICAgIHBhblZlY1swXSA9IGVuZFBvaW50WzBdIC0gc3RhcnRQb2ludFswXTtcbiAgICAgICAgICAgICAgICBwYW5WZWNbMV0gPSBlbmRQb2ludFsxXSAtIHN0YXJ0UG9pbnRbMV07XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRQb2ludCA9IHRyLnBvaW50Q29vcmRpbmF0ZShhcm91bmQpO1xuICAgICAgICAgICAgICAgIGlmICh0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSBwYW4gdmVjdG9yIGRpcmVjdGx5IGluIHBpeGVsIGNvb3JkaW5hdGVzIGZvciB0aGUgZ2xvYmUuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJvdGF0ZSB0aGUgZ2xvYmUgYSBiaXQgZmFzdGVyIHdoZW4gZHJhZ2dpbmcgbmVhciBwb2xlcyB0byBjb21wZW5zYXRlXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVudCBwaXhlbC1wZXItbWV0ZXIgcmF0aW9zIChpZS4gcGl4ZWwtdG8tcGh5c2ljYWwtcm90YXRpb24gaXMgbG93ZXIpXG4gICAgICAgICAgICAgICAgICAgIHBhbkRlbHRhID0gcGFuRGVsdGEucm90YXRlKC10ci5hbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdHIuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwgLyB0ci53b3JsZFNpemU7XG4gICAgICAgICAgICAgICAgICAgIHBhblZlY1swXSA9IC1wYW5EZWx0YS54ICogbWVyY2F0b3JTY2FsZShsYXRGcm9tTWVyY2F0b3JZKHN0YXJ0UG9pbnQueSkpICogc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIHBhblZlY1sxXSA9IC1wYW5EZWx0YS55ICogbWVyY2F0b3JTY2FsZSh0ci5jZW50ZXIubGF0KSAqIHNjYWxlO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kUG9pbnQgPSB0ci5wb2ludENvb3JkaW5hdGUoYXJvdW5kLnN1YihwYW5EZWx0YSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFBvaW50ICYmIGVuZFBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYW5WZWNbMF0gPSBlbmRQb2ludC54IC0gc3RhcnRQb2ludC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFuVmVjWzFdID0gZW5kUG9pbnQueSAtIHN0YXJ0UG9pbnQueTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsWm9vbSA9IHRyLnpvb207XG4gICAgICAgIC8vIENvbXB1dGUgTWVyY2F0b3IgM0QgY2FtZXJhIG9mZnNldCBiYXNlZCBvbiBzY3JlZW5zcGFjZSByZXF1ZXN0ZWQgWm9vbURlbHRhXG4gICAgICAgIGNvbnN0IHpvb21WZWMgPSBbMCwgMCwgMF07XG4gICAgICAgIGlmICh6b29tRGVsdGEpIHtcbiAgICAgICAgICAgIC8vIFpvb20gdmFsdWUgaGFzIHRvIGJlIGNvbXB1dGVkIHJlbGF0aXZlIHRvIGEgc2Vjb25kYXJ5IG1hcCBwbGFuZSB0aGF0IGlzIGNyZWF0ZWQgZnJvbSB0aGUgdGVycmFpbiBwb3NpdGlvbiBiZWxvdyB0aGUgY3Vyc29yLlxuICAgICAgICAgICAgLy8gVGhpcyB3YXkgdGhlIHpvb20gaW50ZXJwb2xhdGlvbiBjYW4gYmUga2VwdCBsaW5lYXIgYW5kIGluZGVwZW5kZW50IG9mIHRoZSAocG9zc2libGUpIHRlcnJhaW4gZWxldmF0aW9uXG4gICAgICAgICAgICBjb25zdCBwaWNrZWRQb3NpdGlvbjogVmVjMyA9IGFyb3VuZENvb3JkID8gdG9WZWMzKGFyb3VuZENvb3JkKSA6IHRvVmVjMyh0ci5wb2ludENvb3JkaW5hdGUzRChhcm91bmQpKTtcblxuICAgICAgICAgICAgY29uc3QgYXJvdW5kUmF5ID0ge2RpcjogdmVjMy5ub3JtYWxpemUoW10sIHZlYzMuc3ViKFtdLCBwaWNrZWRQb3NpdGlvbiwgdHIuX2NhbWVyYS5wb3NpdGlvbikpfTtcbiAgICAgICAgICAgIGlmIChhcm91bmRSYXkuZGlyWzJdIDwgMCkge1xuICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgaXMgcmVxdWlyZWQgaWYgdGhlIHJheSBjcmVhdGVkIGZyb20gdGhlIGN1cnNvciBpcyBoZWFkaW5nIHVwLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgc2NlbmFyaW8gaXMgcG9zc2libGUgaWYgdXNlciBpcyB0cnlpbmcgdG8gem9vbSB0b3dhcmRzIGEgZmVhdHVyZSBsaWtlIGEgaGlsbCBvciBhIG1vdW50YWluLlxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgem9vbURlbHRhIHRvIGEgbW92ZW1lbnQgdmVjdG9yIGFzIGlmIHRoZSBjYW1lcmEgd291bGQgYmUgb3JiaXRpbmcgYXJvdW5kIHRoZSBwaWNrZWQgcG9pbnRcbiAgICAgICAgICAgICAgICBjb25zdCBtb3ZlbWVudCA9IHRyLnpvb21EZWx0YVRvTW92ZW1lbnQocGlja2VkUG9zaXRpb24sIHpvb21EZWx0YSk7XG4gICAgICAgICAgICAgICAgdmVjMy5zY2FsZSh6b29tVmVjLCBhcm91bmRSYXkuZGlyLCBtb3ZlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNdXRhdGUgY2FtZXJhIHN0YXRlIHZpYSBDYW1lcmFBUElcbiAgICAgICAgY29uc3QgdHJhbnNsYXRpb24gPSB2ZWMzLmFkZChwYW5WZWMsIHBhblZlYywgem9vbVZlYyk7XG4gICAgICAgIHRyLl90cmFuc2xhdGVDYW1lcmFDb25zdHJhaW5lZCh0cmFuc2xhdGlvbik7XG5cbiAgICAgICAgaWYgKHpvb21EZWx0YSAmJiBNYXRoLmFicyh0ci56b29tIC0gb3JpZ2luYWxab29tKSA+IDAuMDAwMSkge1xuICAgICAgICAgICAgdHIucmVjZW50ZXJPblRlcnJhaW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSA9IFwiZ3JvdW5kXCI7XG5cbiAgICAgICAgdGhpcy5fbWFwLl91cGRhdGUoKTtcbiAgICAgICAgaWYgKCFjb21iaW5lZFJlc3VsdC5ub0luZXJ0aWEpIHRoaXMuX2luZXJ0aWEucmVjb3JkKGNvbWJpbmVkUmVzdWx0KTtcbiAgICAgICAgdGhpcy5fZmlyZUV2ZW50cyhjb21iaW5lZEV2ZW50c0luUHJvZ3Jlc3MsIGRlYWN0aXZhdGVkSGFuZGxlcnMsIHRydWUpO1xuICAgIH1cblxuICAgIF9maXJlRXZlbnRzKG5ld0V2ZW50c0luUHJvZ3Jlc3M6IHsgW3N0cmluZ106IE9iamVjdCB9LCBkZWFjdGl2YXRlZEhhbmRsZXJzOiBPYmplY3QsIGFsbG93RW5kQW5pbWF0aW9uOiBib29sZWFuKSB7XG5cbiAgICAgICAgY29uc3Qgd2FzTW92aW5nID0gaXNNb3ZpbmcodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyk7XG4gICAgICAgIGNvbnN0IG5vd01vdmluZyA9IGlzTW92aW5nKG5ld0V2ZW50c0luUHJvZ3Jlc3MpO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0RXZlbnRzID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBldmVudE5hbWUgaW4gbmV3RXZlbnRzSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgY29uc3Qge29yaWdpbmFsRXZlbnR9ID0gbmV3RXZlbnRzSW5Qcm9ncmVzc1tldmVudE5hbWVdO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ldmVudHNJblByb2dyZXNzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgICAgICAgICBzdGFydEV2ZW50c1tgJHtldmVudE5hbWV9c3RhcnRgXSA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ldmVudHNJblByb2dyZXNzW2V2ZW50TmFtZV0gPSBuZXdFdmVudHNJblByb2dyZXNzW2V2ZW50TmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJlIHN0YXJ0IGV2ZW50cyBvbmx5IGFmdGVyIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgICBpZiAoIXdhc01vdmluZyAmJiBub3dNb3ZpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZXN0YXJ0Jywgbm93TW92aW5nLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHN0YXJ0RXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQobmFtZSwgc3RhcnRFdmVudHNbbmFtZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vd01vdmluZykge1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlJywgbm93TW92aW5nLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBldmVudE5hbWUgaW4gbmV3RXZlbnRzSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgY29uc3Qge29yaWdpbmFsRXZlbnR9ID0gbmV3RXZlbnRzSW5Qcm9ncmVzc1tldmVudE5hbWVdO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KGV2ZW50TmFtZSwgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbmRFdmVudHMgPSB7fTtcblxuICAgICAgICBsZXQgb3JpZ2luYWxFbmRFdmVudDtcbiAgICAgICAgZm9yIChjb25zdCBldmVudE5hbWUgaW4gdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgY29uc3Qge2hhbmRsZXJOYW1lLCBvcmlnaW5hbEV2ZW50fSA9IHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZXZlbnROYW1lXTtcbiAgICAgICAgICAgIGlmICghdGhpcy5faGFuZGxlcnNCeUlkW2hhbmRsZXJOYW1lXS5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZXZlbnROYW1lXTtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVuZEV2ZW50ID0gZGVhY3RpdmF0ZWRIYW5kbGVyc1toYW5kbGVyTmFtZV0gfHwgb3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgICAgICBlbmRFdmVudHNbYCR7ZXZlbnROYW1lfWVuZGBdID0gb3JpZ2luYWxFbmRFdmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBlbmRFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudChuYW1lLCBlbmRFdmVudHNbbmFtZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RpbGxNb3ZpbmcgPSBpc01vdmluZyh0aGlzLl9ldmVudHNJblByb2dyZXNzKTtcbiAgICAgICAgaWYgKGFsbG93RW5kQW5pbWF0aW9uICYmICh3YXNNb3ZpbmcgfHwgbm93TW92aW5nKSAmJiAhc3RpbGxNb3ZpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0aW5nQ2FtZXJhID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGluZXJ0aWFsRWFzZSA9IHRoaXMuX2luZXJ0aWEuX29uTW92ZUVuZCh0aGlzLl9tYXAuZHJhZ1Bhbi5faW5lcnRpYU9wdGlvbnMpO1xuXG4gICAgICAgICAgICBjb25zdCBzaG91bGRTbmFwVG9Ob3J0aCA9IGJlYXJpbmcgPT4gYmVhcmluZyAhPT0gMCAmJiAtdGhpcy5fYmVhcmluZ1NuYXAgPCBiZWFyaW5nICYmIGJlYXJpbmcgPCB0aGlzLl9iZWFyaW5nU25hcDtcblxuICAgICAgICAgICAgaWYgKGluZXJ0aWFsRWFzZSkge1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRTbmFwVG9Ob3J0aChpbmVydGlhbEVhc2UuYmVhcmluZyB8fCB0aGlzLl9tYXAuZ2V0QmVhcmluZygpKSkge1xuICAgICAgICAgICAgICAgICAgICBpbmVydGlhbEVhc2UuYmVhcmluZyA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5lYXNlVG8oaW5lcnRpYWxFYXNlLCB7b3JpZ2luYWxFdmVudDogb3JpZ2luYWxFbmRFdmVudH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ21vdmVlbmQnLCB7b3JpZ2luYWxFdmVudDogb3JpZ2luYWxFbmRFdmVudH0pKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU25hcFRvTm9ydGgodGhpcy5fbWFwLmdldEJlYXJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwLnJlc2V0Tm9ydGgoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91cGRhdGluZ0NhbWVyYSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBfZmlyZUV2ZW50KHR5cGU6IHN0cmluZywgZTogYW55KSB7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCh0eXBlLCBlID8ge29yaWdpbmFsRXZlbnQ6IGV9IDoge30pKTtcbiAgICB9XG5cbiAgICBfcmVxdWVzdEZyYW1lKCk6IG51bWJlciB7XG4gICAgICAgIHRoaXMuX21hcC50cmlnZ2VyUmVwYWludCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLl9yZW5kZXJUYXNrUXVldWUuYWRkKHRpbWVTdGFtcCA9PiB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFdmVudChuZXcgUmVuZGVyRnJhbWVFdmVudCgncmVuZGVyRnJhbWUnLCB7dGltZVN0YW1wfSkpO1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlDaGFuZ2VzKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF90cmlnZ2VyUmVuZGVyRnJhbWUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSB0aGlzLl9yZXF1ZXN0RnJhbWUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGFuZGxlck1hbmFnZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIGJpbmRBbGwsXG4gICAgZXh0ZW5kLFxuICAgIHdhcm5PbmNlLFxuICAgIGNsYW1wLFxuICAgIHdyYXAsXG4gICAgZWFzZSBhcyBkZWZhdWx0RWFzaW5nLFxuICAgIHBpY2ssXG4gICAgZGVnVG9SYWRcbn0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7bnVtYmVyIGFzIGludGVycG9sYXRlfSBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvaW50ZXJwb2xhdGUuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCBMbmdMYXQsIHtlYXJ0aFJhZGl1c30gZnJvbSAnLi4vZ2VvL2xuZ19sYXQuanMnO1xuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuLi9nZW8vbG5nX2xhdF9ib3VuZHMuanMnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHtFdmVudCwgRXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkLmpzJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7RGVidWd9IGZyb20gJy4uL3V0aWwvZGVidWcuanMnO1xuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSwge1xuICAgIG1lcmNhdG9yWmZyb21BbHRpdHVkZSxcbiAgICBtZXJjYXRvclhmcm9tTG5nLFxuICAgIG1lcmNhdG9yWWZyb21MYXQsXG4gICAgbGF0RnJvbU1lcmNhdG9yWSxcbiAgICBsbmdGcm9tTWVyY2F0b3JYXG59IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7XG4gICAgbGF0TG5nVG9FQ0VGLFxuICAgIGVjZWZUb0xhdExuZyxcbiAgICBHTE9CRV9SQURJVVMsXG4gICAgR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYLFxuICAgIEdMT0JFX1pPT01fVEhSRVNIT0xEX01JTlxufSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcbmltcG9ydCB7dmVjMywgdmVjNCwgbWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB0eXBlIHtGcmVlQ2FtZXJhT3B0aW9uc30gZnJvbSAnLi9mcmVlX2NhbWVyYS5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSB7TG5nTGF0TGlrZX0gZnJvbSAnLi4vZ2VvL2xuZ19sYXQuanMnO1xuaW1wb3J0IHR5cGUge0xuZ0xhdEJvdW5kc0xpa2V9IGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcy5qcyc7XG5pbXBvcnQgdHlwZSB7RWxldmF0aW9uUXVlcnlPcHRpb25zfSBmcm9tICcuLi90ZXJyYWluL2VsZXZhdGlvbi5qcyc7XG5pbXBvcnQgdHlwZSB7VGFza0lEfSBmcm9tICcuLi91dGlsL3Rhc2tfcXVldWUuanMnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjay5qcyc7XG5pbXBvcnQgdHlwZSB7UG9pbnRMaWtlfSBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7QWFiYn0gZnJvbSAnLi4vdXRpbC9wcmltaXRpdmVzLmpzJztcbmltcG9ydCB0eXBlIHtQYWRkaW5nT3B0aW9uc30gZnJvbSAnLi4vZ2VvL2VkZ2VfaW5zZXRzLmpzJztcbmltcG9ydCB0eXBlIHtNYXBFdmVudH0gZnJvbSAnLi9ldmVudHMuanMnO1xuXG4vKipcbiAqIEEgaGVscGVyIHR5cGU6IGNvbnZlcnRzIGFsbCBPYmplY3QgdHlwZSB2YWx1ZXMgdG8gbm9uLW1heWJlIHR5cGVzLlxuICovXG50eXBlIFJlcXVpcmVkPFQ+ID0gJE9iak1hcDxULCA8Vj4odjogVikgPT4gJE5vbk1heWJlVHlwZTxWPj47XG5cbi8qKlxuICogT3B0aW9ucyBjb21tb24gdG8ge0BsaW5rIE1hcCNqdW1wVG99LCB7QGxpbmsgTWFwI2Vhc2VUb30sIGFuZCB7QGxpbmsgTWFwI2ZseVRvfSwgY29udHJvbGxpbmcgdGhlIGRlc2lyZWQgbG9jYXRpb24sXG4gKiB6b29tLCBiZWFyaW5nLCBhbmQgcGl0Y2ggb2YgdGhlIGNhbWVyYS4gQWxsIHByb3BlcnRpZXMgYXJlIG9wdGlvbmFsLCBhbmQgd2hlbiBhIHByb3BlcnR5IGlzIG9taXR0ZWQsIHRoZSBjdXJyZW50XG4gKiBjYW1lcmEgdmFsdWUgZm9yIHRoYXQgcHJvcGVydHkgd2lsbCByZW1haW4gdW5jaGFuZ2VkLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENhbWVyYU9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7TG5nTGF0TGlrZX0gY2VudGVyIFRoZSBsb2NhdGlvbiB0byBwbGFjZSBhdCB0aGUgc2NyZWVuIGNlbnRlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6b29tIFRoZSBkZXNpcmVkIHpvb20gbGV2ZWwuXG4gKiBAcHJvcGVydHkge251bWJlcn0gYmVhcmluZyBUaGUgZGVzaXJlZCBiZWFyaW5nIGluIGRlZ3JlZXMuIFRoZSBiZWFyaW5nIGlzIHRoZSBjb21wYXNzIGRpcmVjdGlvbiB0aGF0XG4gKiBpcyBcInVwXCIuIEZvciBleGFtcGxlLCBgYmVhcmluZzogOTBgIG9yaWVudHMgdGhlIG1hcCBzbyB0aGF0IGVhc3QgaXMgdXAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcGl0Y2ggVGhlIGRlc2lyZWQgcGl0Y2ggaW4gZGVncmVlcy4gVGhlIHBpdGNoIGlzIHRoZSBhbmdsZSB0b3dhcmRzIHRoZSBob3Jpem9uXG4gKiBtZWFzdXJlZCBpbiBkZWdyZWVzIHdpdGggYSByYW5nZSBiZXR3ZWVuIDAgYW5kIDg1IGRlZ3JlZXMuIEZvciBleGFtcGxlLCBwaXRjaDogMCBwcm92aWRlcyB0aGUgYXBwZWFyYW5jZVxuICogb2YgbG9va2luZyBzdHJhaWdodCBkb3duIGF0IHRoZSBtYXAsIHdoaWxlIHBpdGNoOiA2MCB0aWx0cyB0aGUgdXNlcidzIHBlcnNwZWN0aXZlIHRvd2FyZHMgdGhlIGhvcml6b24uXG4gKiBJbmNyZWFzaW5nIHRoZSBwaXRjaCB2YWx1ZSBpcyBvZnRlbiB1c2VkIHRvIGRpc3BsYXkgM0Qgb2JqZWN0cy5cbiAqIEBwcm9wZXJ0eSB7TG5nTGF0TGlrZX0gYXJvdW5kIFRoZSBsb2NhdGlvbiBzZXJ2aW5nIGFzIHRoZSBvcmlnaW4gZm9yIGEgY2hhbmdlIGluIGB6b29tYCwgYHBpdGNoYCBhbmQvb3IgYGJlYXJpbmdgLlxuICogVGhpcyBsb2NhdGlvbiB3aWxsIHJlbWFpbiBhdCB0aGUgc2FtZSBzY3JlZW4gcG9zaXRpb24gZm9sbG93aW5nIHRoZSB0cmFuc2Zvcm0uXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgZHJhd2luZyBhdHRlbnRpb24gdG8gYSBsb2NhdGlvbiB0aGF0IGlzIG5vdCBpbiB0aGUgc2NyZWVuIGNlbnRlci5cbiAqIGBjZW50ZXJgIGlzIGlnbm9yZWQgaWYgYGFyb3VuZGAgaXMgaW5jbHVkZWQuXG4gKiBAcHJvcGVydHkge1BhZGRpbmdPcHRpb25zfSBwYWRkaW5nIERpbWVuc2lvbnMgaW4gcGl4ZWxzIGFwcGxpZWQgb24gZWFjaCBzaWRlIG9mIHRoZSB2aWV3cG9ydCBmb3Igc2hpZnRpbmcgdGhlIHZhbmlzaGluZyBwb2ludC5cbiAqIEBleGFtcGxlXG4gKiAvLyBzZXQgdGhlIG1hcCdzIGluaXRpYWwgcGVyc3BlY3RpdmUgd2l0aCBDYW1lcmFPcHRpb25zXG4gKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHtcbiAqICAgICBjb250YWluZXI6ICdtYXAnLFxuICogICAgIHN0eWxlOiAnbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXYxMScsXG4gKiAgICAgY2VudGVyOiBbLTczLjU4MDQsIDQ1LjUzNDgzXSxcbiAqICAgICBwaXRjaDogNjAsXG4gKiAgICAgYmVhcmluZzogLTYwLFxuICogICAgIHpvb206IDEwXG4gKiB9KTtcbiAqIEBzZWUgW0V4YW1wbGU6IFNldCBwaXRjaCBhbmQgYmVhcmluZ10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2V0LXBlcnNwZWN0aXZlLylcbiAqIEBzZWUgW0V4YW1wbGU6IEp1bXAgdG8gYSBzZXJpZXMgb2YgbG9jYXRpb25zXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9qdW1wLXRvLylcbiAqIEBzZWUgW0V4YW1wbGU6IEZseSB0byBhIGxvY2F0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mbHl0by8pXG4gKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGJ1aWxkaW5ncyBpbiAzRF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvM2QtYnVpbGRpbmdzLylcbiAqL1xuZXhwb3J0IHR5cGUgQ2FtZXJhT3B0aW9ucyA9IHtcbiAgICBjZW50ZXI/OiBMbmdMYXRMaWtlLFxuICAgIHpvb20/OiBudW1iZXIsXG4gICAgYmVhcmluZz86IG51bWJlcixcbiAgICBwaXRjaD86IG51bWJlcixcbiAgICBhcm91bmQ/OiBMbmdMYXRMaWtlLFxuICAgIHBhZGRpbmc/OiBQYWRkaW5nT3B0aW9ucyxcbiAgICBvZmZzZXQ/OiBQb2ludExpa2Vcbn07XG5cbmV4cG9ydCB0eXBlIEZ1bGxDYW1lcmFPcHRpb25zID0ge1xuICAgIG1heFpvb206IG51bWJlcixcbiAgICBvZmZzZXQ6IFBvaW50TGlrZSxcbiAgICBwYWRkaW5nOiBSZXF1aXJlZDxQYWRkaW5nT3B0aW9ucz5cbn0gJiBDYW1lcmFPcHRpb25zXG5cbi8qKlxuICogT3B0aW9ucyBjb21tb24gdG8gbWFwIG1vdmVtZW50IG1ldGhvZHMgdGhhdCBpbnZvbHZlIGFuaW1hdGlvbiwgc3VjaCBhcyB7QGxpbmsgTWFwI3BhbkJ5fSBhbmRcbiAqIHtAbGluayBNYXAjZWFzZVRvfSwgY29udHJvbGxpbmcgdGhlIGR1cmF0aW9uIGFuZCBlYXNpbmcgZnVuY3Rpb24gb2YgdGhlIGFuaW1hdGlvbi4gQWxsIHByb3BlcnRpZXNcbiAqIGFyZSBvcHRpb25hbC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmltYXRpb25PcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb24gVGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLCBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBlYXNpbmcgQSBmdW5jdGlvbiB0YWtpbmcgYSB0aW1lIGluIHRoZSByYW5nZSAwLi4xIGFuZCByZXR1cm5pbmcgYSBudW1iZXIgd2hlcmUgMCBpc1xuICogICB0aGUgaW5pdGlhbCBzdGF0ZSBhbmQgMSBpcyB0aGUgZmluYWwgc3RhdGUuXG4gKiBAcHJvcGVydHkge1BvaW50TGlrZX0gb2Zmc2V0IFRoZSB0YXJnZXQgY2VudGVyJ3Mgb2Zmc2V0IHJlbGF0aXZlIHRvIHJlYWwgbWFwIGNvbnRhaW5lciBjZW50ZXIgYXQgdGhlIGVuZCBvZiBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGUgSWYgYGZhbHNlYCwgbm8gYW5pbWF0aW9uIHdpbGwgb2NjdXIuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGVzc2VudGlhbCBJZiBgdHJ1ZWAsIHRoZW4gdGhlIGFuaW1hdGlvbiBpcyBjb25zaWRlcmVkIGVzc2VudGlhbCBhbmQgd2lsbCBub3QgYmUgYWZmZWN0ZWQgYnlcbiAqICAgW2BwcmVmZXJzLXJlZHVjZWQtbW90aW9uYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0BtZWRpYS9wcmVmZXJzLXJlZHVjZWQtbW90aW9uKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlbG9hZE9ubHkgSWYgYHRydWVgLCBpdCB3aWxsIHRyaWdnZXIgdGlsZXMgbG9hZGluZyBhY3Jvc3MgdGhlIGFuaW1hdGlvbiBwYXRoLCBidXQgbm8gYW5pbWF0aW9uIHdpbGwgb2NjdXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gY3VydmUgVGhlIHpvb21pbmcgXCJjdXJ2ZVwiIHRoYXQgd2lsbCBvY2N1ciBhbG9uZyB0aGVcbiAqICAgICBmbGlnaHQgcGF0aC4gQSBoaWdoIHZhbHVlIG1heGltaXplcyB6b29taW5nIGZvciBhbiBleGFnZ2VyYXRlZCBhbmltYXRpb24sIHdoaWxlIGEgbG93XG4gKiAgICAgdmFsdWUgbWluaW1pemVzIHpvb21pbmcgZm9yIGFuIGVmZmVjdCBjbG9zZXIgdG8ge0BsaW5rIE1hcCNlYXNlVG99LiAxLjQyIGlzIHRoZSBhdmVyYWdlXG4gKiAgICAgdmFsdWUgc2VsZWN0ZWQgYnkgcGFydGljaXBhbnRzIGluIHRoZSB1c2VyIHN0dWR5IGRpc2N1c3NlZCBpblxuICogICAgIFt2YW4gV2lqayAoMjAwMyldKGh0dHBzOi8vd3d3Lndpbi50dWUubmwvfnZhbndpamsvem9vbXBhbi5wZGYpLiBBIHZhbHVlIG9mXG4gKiAgICAgYE1hdGgucG93KDYsIDAuMjUpYCB3b3VsZCBiZSBlcXVpdmFsZW50IHRvIHRoZSByb290IG1lYW4gc3F1YXJlZCBhdmVyYWdlIHZlbG9jaXR5LiBBXG4gKiAgICAgdmFsdWUgb2YgMSB3b3VsZCBwcm9kdWNlIGEgY2lyY3VsYXIgbW90aW9uLiBJZiBgbWluWm9vbWAgaXMgc3BlY2lmaWVkLCB0aGlzIG9wdGlvbiB3aWxsIGJlIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWm9vbSBUaGUgemVyby1iYXNlZCB6b29tIGxldmVsIGF0IHRoZSBwZWFrIG9mIHRoZSBmbGlnaHQgcGF0aC4gSWZcbiAqICAgICB0aGlzIG9wdGlvbiBpcyBzcGVjaWZpZWQsIGBjdXJ2ZWAgd2lsbCBiZSBpZ25vcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNwZWVkIFRoZSBhdmVyYWdlIHNwZWVkIG9mIHRoZSBhbmltYXRpb24gZGVmaW5lZCBpbiByZWxhdGlvbiB0b1xuICogICAgIGBjdXJ2ZWAuIEEgc3BlZWQgb2YgMS4yIG1lYW5zIHRoYXQgdGhlIG1hcCBhcHBlYXJzIHRvIG1vdmUgYWxvbmcgdGhlIGZsaWdodCBwYXRoXG4gKiAgICAgYnkgMS4yIHRpbWVzIGBjdXJ2ZWAgc2NyZWVuZnVscyBldmVyeSBzZWNvbmQuIEEgX3NjcmVlbmZ1bF8gaXMgdGhlIG1hcCdzIHZpc2libGUgc3Bhbi5cbiAqICAgICBJdCBkb2VzIG5vdCBjb3JyZXNwb25kIHRvIGEgZml4ZWQgcGh5c2ljYWwgZGlzdGFuY2UsIGJ1dCB2YXJpZXMgYnkgem9vbSBsZXZlbC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzY3JlZW5TcGVlZCBUaGUgYXZlcmFnZSBzcGVlZCBvZiB0aGUgYW5pbWF0aW9uIG1lYXN1cmVkIGluIHNjcmVlbmZ1bHNcbiAqICAgICBwZXIgc2Vjb25kLCBhc3N1bWluZyBhIGxpbmVhciB0aW1pbmcgY3VydmUuIElmIGBzcGVlZGAgaXMgc3BlY2lmaWVkLCB0aGlzIG9wdGlvbiBpcyBpZ25vcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heER1cmF0aW9uIFRoZSBhbmltYXRpb24ncyBtYXhpbXVtIGR1cmF0aW9uLCBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMuXG4gKiAgICAgSWYgZHVyYXRpb24gZXhjZWVkcyBtYXhpbXVtIGR1cmF0aW9uLCBpdCByZXNldHMgdG8gMC5cbiAqIEBzZWUgW0V4YW1wbGU6IFNsb3dseSBmbHkgdG8gYSBsb2NhdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmx5dG8tb3B0aW9ucy8pXG4gKiBAc2VlIFtFeGFtcGxlOiBDdXN0b21pemUgY2FtZXJhIGFuaW1hdGlvbnNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NhbWVyYS1hbmltYXRpb24vKVxuICogQHNlZSBbRXhhbXBsZTogTmF2aWdhdGUgdGhlIG1hcCB3aXRoIGdhbWUtbGlrZSBjb250cm9sc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2FtZS1jb250cm9scy8pXG4qL1xuZXhwb3J0IHR5cGUgQW5pbWF0aW9uT3B0aW9ucyA9IHtcbiAgICBkdXJhdGlvbj86IG51bWJlcixcbiAgICBlYXNpbmc/OiAoXzogbnVtYmVyKSA9PiBudW1iZXIsXG4gICAgb2Zmc2V0PzogUG9pbnRMaWtlLFxuICAgIGFuaW1hdGU/OiBib29sZWFuLFxuICAgIGVzc2VudGlhbD86IGJvb2xlYW4sXG4gICAgcHJlbG9hZE9ubHk/OiBib29sZWFuXG59O1xuXG5leHBvcnQgdHlwZSBFYXNpbmdPcHRpb25zID0gQ2FtZXJhT3B0aW9ucyAmIEFuaW1hdGlvbk9wdGlvbnM7XG5cbmV4cG9ydCB0eXBlIEVsZXZhdGlvbkJveFJheWNhc3QgPSB7XG4gICAgbWluTG5nTGF0OiBMbmdMYXQsXG4gICAgbWF4TG5nTGF0OiBMbmdMYXQsXG4gICAgbWluQWx0aXR1ZGU6IG51bWJlcixcbiAgICBtYXhBbHRpdHVkZTogbnVtYmVyXG59O1xuXG5jb25zdCBmcmVlQ2FtZXJhTm90U3VwcG9ydGVkV2FybmluZyA9ICdtYXAuc2V0RnJlZUNhbWVyYU9wdGlvbnMoLi4uKSBhbmQgbWFwLmdldEZyZWVDYW1lcmFPcHRpb25zKCkgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkIGZvciBub24tbWVyY2F0b3IgcHJvamVjdGlvbnMuJztcblxuLyoqXG4gKiBPcHRpb25zIGZvciBzZXR0aW5nIHBhZGRpbmcgb24gY2FsbHMgdG8gbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZml0Qm91bmRzfSwge0BsaW5rIE1hcCNmaXRTY3JlZW5Db29yZGluYXRlc30sIGFuZCB7QGxpbmsgTWFwI3NldFBhZGRpbmd9LiBBZGp1c3QgdGhlc2Ugb3B0aW9ucyB0byBzZXQgdGhlIGFtb3VudCBvZiBwYWRkaW5nIGluIHBpeGVscyBhZGRlZCB0byB0aGUgZWRnZXMgb2YgdGhlIGNhbnZhcy4gU2V0IGEgdW5pZm9ybSBwYWRkaW5nIG9uIGFsbCBlZGdlcyBvciBpbmRpdmlkdWFsIHZhbHVlcyBmb3IgZWFjaCBlZGdlLiBBbGwgcHJvcGVydGllcyBvZiB0aGlzIG9iamVjdCBtdXN0IGJlXG4gKiBub24tbmVnYXRpdmUgaW50ZWdlcnMuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gUGFkZGluZ09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0b3AgUGFkZGluZyBpbiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIHRoZSBtYXAgY2FudmFzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGJvdHRvbSBQYWRkaW5nIGluIHBpeGVscyBmcm9tIHRoZSBib3R0b20gb2YgdGhlIG1hcCBjYW52YXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGVmdCBQYWRkaW5nIGluIHBpeGVscyBmcm9tIHRoZSBsZWZ0IG9mIHRoZSBtYXAgY2FudmFzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJpZ2h0IFBhZGRpbmcgaW4gcGl4ZWxzIGZyb20gdGhlIHJpZ2h0IG9mIHRoZSBtYXAgY2FudmFzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBiYm94ID0gW1stNzksIDQzXSwgWy03MywgNDVdXTtcbiAqIG1hcC5maXRCb3VuZHMoYmJveCwge1xuICogICAgIHBhZGRpbmc6IHt0b3A6IDEwLCBib3R0b206MjUsIGxlZnQ6IDE1LCByaWdodDogNX1cbiAqIH0pO1xuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBiYm94ID0gW1stNzksIDQzXSwgWy03MywgNDVdXTtcbiAqIG1hcC5maXRCb3VuZHMoYmJveCwge1xuICogICAgIHBhZGRpbmc6IDIwXG4gKiB9KTtcbiAqIEBzZWUgW0V4YW1wbGU6IEZpdCB0byB0aGUgYm91bmRzIG9mIGEgTGluZVN0cmluZ10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvem9vbXRvLWxpbmVzdHJpbmcvKVxuICogQHNlZSBbRXhhbXBsZTogRml0IGEgbWFwIHRvIGEgYm91bmRpbmcgYm94XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9maXRib3VuZHMvKVxuICovXG5cbmNsYXNzIENhbWVyYSBleHRlbmRzIEV2ZW50ZWQge1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIF9tb3Zpbmc6IGJvb2xlYW47XG4gICAgX3pvb21pbmc6IGJvb2xlYW47XG4gICAgX3JvdGF0aW5nOiBib29sZWFuO1xuICAgIF9waXRjaGluZzogYm9vbGVhbjtcbiAgICBfcGFkZGluZzogYm9vbGVhbjtcblxuICAgIF9iZWFyaW5nU25hcDogbnVtYmVyO1xuICAgIF9lYXNlU3RhcnQ6IG51bWJlcjtcbiAgICBfZWFzZU9wdGlvbnM6IHtkdXJhdGlvbjogbnVtYmVyLCBlYXNpbmc6IChfOiBudW1iZXIpID0+IG51bWJlcn07XG4gICAgX2Vhc2VJZDogc3RyaW5nIHwgdm9pZDtcblxuICAgIF9vbkVhc2VGcmFtZTogPyhfOiBudW1iZXIpID0+IFRyYW5zZm9ybSB8IHZvaWQ7XG4gICAgX29uRWFzZUVuZDogPyhlYXNlSWQ/OiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgX2Vhc2VGcmFtZUlkOiA/VGFza0lEO1xuXG4gICAgK19yZXF1ZXN0UmVuZGVyRnJhbWU6ICgoKSA9PiB2b2lkKSA9PiBUYXNrSUQ7XG4gICAgK19jYW5jZWxSZW5kZXJGcmFtZTogKF86IFRhc2tJRCkgPT4gdm9pZDtcblxuICAgICtfcHJlbG9hZFRpbGVzOiAodHJhbnNmb3JtOiBUcmFuc2Zvcm0gfCBBcnJheTxUcmFuc2Zvcm0+LCBjYWxsYmFjaz86IENhbGxiYWNrPGFueT4pID0+IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogVHJhbnNmb3JtLCBvcHRpb25zOiB7YmVhcmluZ1NuYXA6IG51bWJlcn0pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fbW92aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3pvb21pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuX2JlYXJpbmdTbmFwID0gb3B0aW9ucy5iZWFyaW5nU25hcDtcblxuICAgICAgICBiaW5kQWxsKFsnX3JlbmRlckZyYW1lQ2FsbGJhY2snXSwgdGhpcyk7XG5cbiAgICAgICAgLy9hZGRBc3NlcnRpb25zKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKiBAc2VjdGlvbiB7Q2FtZXJhfVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwICovXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBnZW9ncmFwaGljYWwgY2VudGVycG9pbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IFRoZSBtYXAncyBnZW9ncmFwaGljYWwgY2VudGVycG9pbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSZXR1cm4gYSBMbmdMYXQgb2JqZWN0IHN1Y2ggYXMge2xuZzogMCwgbGF0OiAwfS5cbiAgICAgKiBjb25zdCBjZW50ZXIgPSBtYXAuZ2V0Q2VudGVyKCk7XG4gICAgICogLy8gQWNjZXNzIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgdmFsdWVzIGRpcmVjdGx5LlxuICAgICAqIGNvbnN0IHtsbmcsIGxhdH0gPSBtYXAuZ2V0Q2VudGVyKCk7XG4gICAgICogQHNlZSBbVHV0b3JpYWw6IFVzZSBNYXBib3ggR0wgSlMgaW4gYSBSZWFjdCBhcHBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvdHV0b3JpYWxzL3VzZS1tYXBib3gtZ2wtanMtd2l0aC1yZWFjdC8jc3RvcmUtdGhlLW5ldy1jb29yZGluYXRlcylcbiAgICAgKi9cbiAgICBnZXRDZW50ZXIoKTogTG5nTGF0IHsgcmV0dXJuIG5ldyBMbmdMYXQodGhpcy50cmFuc2Zvcm0uY2VudGVyLmxuZywgdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCk7IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBjZW50ZXJwb2ludC4gRXF1aXZhbGVudCB0byBganVtcFRvKHtjZW50ZXI6IGNlbnRlcn0pYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBjZW50ZXIgVGhlIGNlbnRlcnBvaW50IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRDZW50ZXIoWy03NCwgMzhdKTtcbiAgICAgKi9cbiAgICBzZXRDZW50ZXIoY2VudGVyOiBMbmdMYXRMaWtlLCBldmVudERhdGE/OiBPYmplY3QpOiB0aGlzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuanVtcFRvKHtjZW50ZXJ9LCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhbnMgdGhlIG1hcCBieSB0aGUgc3BlY2lmaWVkIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IG9mZnNldCBUaGUgYHhgIGFuZCBgeWAgY29vcmRpbmF0ZXMgYnkgd2hpY2ggdG8gcGFuIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtBbmltYXRpb25PcHRpb25zIHwgbnVsbH0gb3B0aW9ucyBBbiBvcHRpb25zIG9iamVjdCBkZXNjcmliaW5nIHRoZSBkZXN0aW5hdGlvbiBhbmQgYW5pbWF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uLiBXZSBkbyBub3QgcmVjb21tZW5kIHVzaW5nIGBvcHRpb25zLm9mZnNldGAgc2luY2UgdGhpcyB2YWx1ZSB3aWxsIG92ZXJyaWRlIHRoZSB2YWx1ZSBvZiB0aGUgYG9mZnNldGAgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2AgUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5wYW5CeShbLTc0LCAzOF0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gcGFuQnkgd2l0aCBhbiBhbmltYXRpb24gb2YgNSBzZWNvbmRzLlxuICAgICAqIG1hcC5wYW5CeShbLTc0LCAzOF0sIHtkdXJhdGlvbjogNTAwMH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IE5hdmlnYXRlIHRoZSBtYXAgd2l0aCBnYW1lLWxpa2UgY29udHJvbHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2FtZS1jb250cm9scy8pXG4gICAgICovXG4gICAgcGFuQnkob2Zmc2V0OiBQb2ludExpa2UsIG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpOiB0aGlzIHtcbiAgICAgICAgb2Zmc2V0ID0gUG9pbnQuY29udmVydChvZmZzZXQpLm11bHQoLTEpO1xuICAgICAgICByZXR1cm4gdGhpcy5wYW5Ubyh0aGlzLnRyYW5zZm9ybS5jZW50ZXIsIGV4dGVuZCh7b2Zmc2V0fSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFucyB0aGUgbWFwIHRvIHRoZSBzcGVjaWZpZWQgbG9jYXRpb24gd2l0aCBhbiBhbmltYXRlZCB0cmFuc2l0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdExpa2V9IGxuZ2xhdCBUaGUgbG9jYXRpb24gdG8gcGFuIHRoZSBtYXAgdG8uXG4gICAgICogQHBhcmFtIHtBbmltYXRpb25PcHRpb25zIHwgbnVsbH0gb3B0aW9ucyBPcHRpb25zIGRlc2NyaWJpbmcgdGhlIGRlc3RpbmF0aW9uIGFuZCBhbmltYXRpb24gb2YgdGhlIHRyYW5zaXRpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAucGFuVG8oWy03NCwgMzhdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNwZWNpZnkgdGhhdCB0aGUgcGFuVG8gYW5pbWF0aW9uIHNob3VsZCBsYXN0IDUwMDAgbWlsbGlzZWNvbmRzLlxuICAgICAqIG1hcC5wYW5UbyhbLTc0LCAzOF0sIHtkdXJhdGlvbjogNTAwMH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IFVwZGF0ZSBhIGZlYXR1cmUgaW4gcmVhbHRpbWVdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtdXBkYXRlLWZlYXR1cmUvKVxuICAgICAqL1xuICAgIHBhblRvKGxuZ2xhdDogTG5nTGF0TGlrZSwgb3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICByZXR1cm4gdGhpcy5lYXNlVG8oZXh0ZW5kKHtcbiAgICAgICAgICAgIGNlbnRlcjogbG5nbGF0XG4gICAgICAgIH0sIG9wdGlvbnMpLCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMge251bWJlcn0gVGhlIG1hcCdzIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5nZXRab29tKCk7XG4gICAgICovXG4gICAgZ2V0Wm9vbSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0uem9vbTsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwJ3Mgem9vbSBsZXZlbC4gRXF1aXZhbGVudCB0byBganVtcFRvKHt6b29tOiB6b29tfSlgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBUaGUgem9vbSBsZXZlbCB0byBzZXQgKDAtMjApLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Onpvb21zdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZWVuZFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBab29tIHRvIHRoZSB6b29tIGxldmVsIDUgd2l0aG91dCBhbiBhbmltYXRlZCB0cmFuc2l0aW9uXG4gICAgICogbWFwLnNldFpvb20oNSk7XG4gICAgICovXG4gICAgc2V0Wm9vbSh6b29tOiBudW1iZXIsIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLmp1bXBUbyh7em9vbX0sIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFpvb21zIHRoZSBtYXAgdG8gdGhlIHNwZWNpZmllZCB6b29tIGxldmVsLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFRoZSB6b29tIGxldmVsIHRvIHRyYW5zaXRpb24gdG8uXG4gICAgICogQHBhcmFtIHtBbmltYXRpb25PcHRpb25zIHwgbnVsbH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Onpvb21cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Onpvb21lbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gWm9vbSB0byB0aGUgem9vbSBsZXZlbCA1IHdpdGhvdXQgYW4gYW5pbWF0ZWQgdHJhbnNpdGlvblxuICAgICAqIG1hcC56b29tVG8oNSk7XG4gICAgICogLy8gWm9vbSB0byB0aGUgem9vbSBsZXZlbCA4IHdpdGggYW4gYW5pbWF0ZWQgdHJhbnNpdGlvblxuICAgICAqIG1hcC56b29tVG8oOCwge1xuICAgICAqICAgICBkdXJhdGlvbjogMjAwMCxcbiAgICAgKiAgICAgb2Zmc2V0OiBbMTAwLCA1MF1cbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB6b29tVG8oem9vbTogbnVtYmVyLCBvcHRpb25zOiA/IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICByZXR1cm4gdGhpcy5lYXNlVG8oZXh0ZW5kKHtcbiAgICAgICAgICAgIHpvb21cbiAgICAgICAgfSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5jcmVhc2VzIHRoZSBtYXAncyB6b29tIGxldmVsIGJ5IDEuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7QW5pbWF0aW9uT3B0aW9ucyB8IG51bGx9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tZW5kXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHpvb20gdGhlIG1hcCBpbiBvbmUgbGV2ZWwgd2l0aCBhIGN1c3RvbSBhbmltYXRpb24gZHVyYXRpb25cbiAgICAgKiBtYXAuem9vbUluKHtkdXJhdGlvbjogMTAwMH0pO1xuICAgICAqL1xuICAgIHpvb21JbihvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpICsgMSwgb3B0aW9ucywgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVjcmVhc2VzIHRoZSBtYXAncyB6b29tIGxldmVsIGJ5IDEuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7QW5pbWF0aW9uT3B0aW9ucyB8IG51bGx9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tZW5kXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHpvb20gdGhlIG1hcCBvdXQgb25lIGxldmVsIHdpdGggYSBjdXN0b20gYW5pbWF0aW9uIG9mZnNldFxuICAgICAqIG1hcC56b29tT3V0KHtvZmZzZXQ6IFs4MCwgNjBdfSk7XG4gICAgICovXG4gICAgem9vbU91dChvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpIC0gMSwgb3B0aW9ucywgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgY3VycmVudCBiZWFyaW5nLiBUaGUgYmVhcmluZyBpcyB0aGUgY29tcGFzcyBkaXJlY3Rpb24gdGhhdCBpcyBcInVwXCI7IGZvciBleGFtcGxlLCBhIGJlYXJpbmdcbiAgICAgKiBvZiA5MMKwIG9yaWVudHMgdGhlIG1hcCBzbyB0aGF0IGVhc3QgaXMgdXAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBtYXAncyBjdXJyZW50IGJlYXJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBiZWFyaW5nID0gbWFwLmdldEJlYXJpbmcoKTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBOYXZpZ2F0ZSB0aGUgbWFwIHdpdGggZ2FtZS1saWtlIGNvbnRyb2xzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dhbWUtY29udHJvbHMvKVxuICAgICAqL1xuICAgIGdldEJlYXJpbmcoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmJlYXJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwJ3MgYmVhcmluZyAocm90YXRpb24pLiBUaGUgYmVhcmluZyBpcyB0aGUgY29tcGFzcyBkaXJlY3Rpb24gdGhhdCBpcyBcInVwXCI7IGZvciBleGFtcGxlLCBhIGJlYXJpbmdcbiAgICAgKiBvZiA5MMKwIG9yaWVudHMgdGhlIG1hcCBzbyB0aGF0IGVhc3QgaXMgdXAuXG4gICAgICpcbiAgICAgKiBFcXVpdmFsZW50IHRvIGBqdW1wVG8oe2JlYXJpbmc6IGJlYXJpbmd9KWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWFyaW5nIFRoZSBkZXNpcmVkIGJlYXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSb3RhdGUgdGhlIG1hcCB0byA5MCBkZWdyZWVzLlxuICAgICAqIG1hcC5zZXRCZWFyaW5nKDkwKTtcbiAgICAgKi9cbiAgICBzZXRCZWFyaW5nKGJlYXJpbmc6IG51bWJlciwgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIHRoaXMuanVtcFRvKHtiZWFyaW5nfSwgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBwYWRkaW5nIGFwcGxpZWQgYXJvdW5kIHRoZSBtYXAgdmlld3BvcnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIHtQYWRkaW5nT3B0aW9uc30gVGhlIGN1cnJlbnQgcGFkZGluZyBhcm91bmQgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBhZGRpbmcgPSBtYXAuZ2V0UGFkZGluZygpO1xuICAgICAqL1xuICAgIGdldFBhZGRpbmcoKTogUGFkZGluZ09wdGlvbnMgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGFkZGluZzsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcGFkZGluZyBpbiBwaXhlbHMgYXJvdW5kIHRoZSB2aWV3cG9ydC5cbiAgICAgKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gYGp1bXBUbyh7cGFkZGluZzogcGFkZGluZ30pYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtQYWRkaW5nT3B0aW9uc30gcGFkZGluZyBUaGUgZGVzaXJlZCBwYWRkaW5nLiBGb3JtYXQ6IHtsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIHRvcDogbnVtYmVyLCBib3R0b206IG51bWJlcn0uXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTZXRzIGEgbGVmdCBwYWRkaW5nIG9mIDMwMHB4LCBhbmQgYSB0b3AgcGFkZGluZyBvZiA1MHB4XG4gICAgICogbWFwLnNldFBhZGRpbmcoe2xlZnQ6IDMwMCwgdG9wOiA1MH0pO1xuICAgICAqL1xuICAgIHNldFBhZGRpbmcocGFkZGluZzogUGFkZGluZ09wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLmp1bXBUbyh7cGFkZGluZ30sIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhlIG1hcCB0byB0aGUgc3BlY2lmaWVkIGJlYXJpbmcsIHdpdGggYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbi4gVGhlIGJlYXJpbmcgaXMgdGhlIGNvbXBhc3MgZGlyZWN0aW9uXG4gICAgICogdGhhdCBpcyBcXFwidXBcXFwiOyBmb3IgZXhhbXBsZSwgYSBiZWFyaW5nIG9mIDkwwrAgb3JpZW50cyB0aGUgbWFwIHNvIHRoYXQgZWFzdCBpcyB1cC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgVGhlIGRlc2lyZWQgYmVhcmluZy5cbiAgICAgKiBAcGFyYW0ge0Vhc2luZ09wdGlvbnMgfCBudWxsfSBvcHRpb25zIE9wdGlvbnMgZGVzY3JpYmluZyB0aGUgZGVzdGluYXRpb24gYW5kIGFuaW1hdGlvbiBvZiB0aGUgdHJhbnNpdGlvbi5cbiAgICAgKiAgICAgICAgICAgIEFjY2VwdHMge0BsaW5rIENhbWVyYU9wdGlvbnN9IGFuZCB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30uXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAucm90YXRlVG8oMzApO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gcm90YXRlVG8gd2l0aCBhbiBhbmltYXRpb24gb2YgMiBzZWNvbmRzLlxuICAgICAqIG1hcC5yb3RhdGVUbygzMCwge2R1cmF0aW9uOiAyMDAwfSk7XG4gICAgICovXG4gICAgcm90YXRlVG8oYmVhcmluZzogbnVtYmVyLCBvcHRpb25zPzogRWFzaW5nT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhc2VUbyhleHRlbmQoe1xuICAgICAgICAgICAgYmVhcmluZ1xuICAgICAgICB9LCBvcHRpb25zKSwgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSBtYXAgc28gdGhhdCBub3J0aCBpcyB1cCAoMMKwIGJlYXJpbmcpLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7RWFzaW5nT3B0aW9ucyB8IG51bGx9IG9wdGlvbnMgT3B0aW9ucyBkZXNjcmliaW5nIHRoZSBkZXN0aW5hdGlvbiBhbmQgYW5pbWF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uLlxuICAgICAqICAgICAgICAgICAgQWNjZXB0cyB7QGxpbmsgQ2FtZXJhT3B0aW9uc30gYW5kIHtAbGluayBBbmltYXRpb25PcHRpb25zfS5cbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHJlc2V0Tm9ydGggd2l0aCBhbiBhbmltYXRpb24gb2YgMiBzZWNvbmRzLlxuICAgICAqIG1hcC5yZXNldE5vcnRoKHtkdXJhdGlvbjogMjAwMH0pO1xuICAgICAqL1xuICAgIHJlc2V0Tm9ydGgob3B0aW9ucz86IEVhc2luZ09wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLnJvdGF0ZVRvKDAsIGV4dGVuZCh7ZHVyYXRpb246IDEwMDB9LCBvcHRpb25zKSwgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUm90YXRlcyBhbmQgcGl0Y2hlcyB0aGUgbWFwIHNvIHRoYXQgbm9ydGggaXMgdXAgKDDCsCBiZWFyaW5nKSBhbmQgcGl0Y2ggaXMgMMKwLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7RWFzaW5nT3B0aW9ucyB8IG51bGx9IG9wdGlvbnMgT3B0aW9ucyBkZXNjcmliaW5nIHRoZSBkZXN0aW5hdGlvbiBhbmQgYW5pbWF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uLlxuICAgICAqICAgICAgICAgICAgQWNjZXB0cyB7QGxpbmsgQ2FtZXJhT3B0aW9uc30gYW5kIHtAbGluayBBbmltYXRpb25PcHRpb25zfS5cbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHJlc2V0Tm9ydGhQaXRjaCB3aXRoIGFuIGFuaW1hdGlvbiBvZiAyIHNlY29uZHMuXG4gICAgICogbWFwLnJlc2V0Tm9ydGhQaXRjaCh7ZHVyYXRpb246IDIwMDB9KTtcbiAgICAgKi9cbiAgICByZXNldE5vcnRoUGl0Y2gob3B0aW9ucz86IEVhc2luZ09wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLmVhc2VUbyhleHRlbmQoe1xuICAgICAgICAgICAgYmVhcmluZzogMCxcbiAgICAgICAgICAgIHBpdGNoOiAwLFxuICAgICAgICAgICAgZHVyYXRpb246IDEwMDBcbiAgICAgICAgfSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNuYXBzIHRoZSBtYXAgc28gdGhhdCBub3J0aCBpcyB1cCAoMMKwIGJlYXJpbmcpLCBpZiB0aGUgY3VycmVudCBiZWFyaW5nIGlzXG4gICAgICogY2xvc2UgZW5vdWdoIHRvIGl0ICh3aXRoaW4gdGhlIGBiZWFyaW5nU25hcGAgdGhyZXNob2xkKS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtFYXNpbmdPcHRpb25zIHwgbnVsbH0gb3B0aW9ucyBPcHRpb25zIGRlc2NyaWJpbmcgdGhlIGRlc3RpbmF0aW9uIGFuZCBhbmltYXRpb24gb2YgdGhlIHRyYW5zaXRpb24uXG4gICAgICogICAgICAgICAgICBBY2NlcHRzIHtAbGluayBDYW1lcmFPcHRpb25zfSBhbmQge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gc25hcFRvTm9ydGggd2l0aCBhbiBhbmltYXRpb24gb2YgMiBzZWNvbmRzLlxuICAgICAqIG1hcC5zbmFwVG9Ob3J0aCh7ZHVyYXRpb246IDIwMDB9KTtcbiAgICAgKi9cbiAgICBzbmFwVG9Ob3J0aChvcHRpb25zPzogRWFzaW5nT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmdldEJlYXJpbmcoKSkgPCB0aGlzLl9iZWFyaW5nU25hcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzZXROb3J0aChvcHRpb25zLCBldmVudERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGN1cnJlbnQgW3BpdGNoXShodHRwczovL2RvY3MubWFwYm94LmNvbS9oZWxwL2dsb3NzYXJ5L2NhbWVyYS8pICh0aWx0KS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMge251bWJlcn0gVGhlIG1hcCdzIGN1cnJlbnQgcGl0Y2gsIG1lYXN1cmVkIGluIGRlZ3JlZXMgYXdheSBmcm9tIHRoZSBwbGFuZSBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgcGl0Y2ggPSBtYXAuZ2V0UGl0Y2goKTtcbiAgICAgKi9cbiAgICBnZXRQaXRjaCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl0Y2g7IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCdzIFtwaXRjaF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9jYW1lcmEvKSAodGlsdCkuIEVxdWl2YWxlbnQgdG8gYGp1bXBUbyh7cGl0Y2g6IHBpdGNofSlgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl0Y2ggVGhlIHBpdGNoIHRvIHNldCwgbWVhc3VyZWQgaW4gZGVncmVlcyBhd2F5IGZyb20gdGhlIHBsYW5lIG9mIHRoZSBzY3JlZW4gKDAtNjApLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpwaXRjaHN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gc2V0UGl0Y2ggd2l0aCBhbiBhbmltYXRpb24gb2YgMiBzZWNvbmRzLlxuICAgICAqIG1hcC5zZXRQaXRjaCg4MCwge2R1cmF0aW9uOiAyMDAwfSk7XG4gICAgICovXG4gICAgc2V0UGl0Y2gocGl0Y2g6IG51bWJlciwgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIHRoaXMuanVtcFRvKHtwaXRjaH0sIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB7QGxpbmsgQ2FtZXJhT3B0aW9uc30gb2JqZWN0IGZvciB0aGUgaGlnaGVzdCB6b29tIGxldmVsXG4gICAgICogdXAgdG8gYW5kIGluY2x1ZGluZyBgTWFwI2dldE1heFpvb20oKWAgdGhhdCBmaXRzIHRoZSBib3VuZHNcbiAgICAgKiBpbiB0aGUgdmlld3BvcnQgYXQgdGhlIHNwZWNpZmllZCBiZWFyaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdEJvdW5kc0xpa2V9IGJvdW5kcyBDYWxjdWxhdGUgdGhlIGNlbnRlciBmb3IgdGhlc2UgYm91bmRzIGluIHRoZSB2aWV3cG9ydCBhbmQgdXNlXG4gICAgICogICAgICB0aGUgaGlnaGVzdCB6b29tIGxldmVsIHVwIHRvIGFuZCBpbmNsdWRpbmcgYE1hcCNnZXRNYXhab29tKClgIHRoYXQgZml0c1xuICAgICAqICAgICAgaW4gdGhlIHZpZXdwb3J0LiBMbmdMYXRCb3VuZHMgcmVwcmVzZW50IGEgYm94IHRoYXQgaXMgYWx3YXlzIGF4aXMtYWxpZ25lZCB3aXRoIGJlYXJpbmcgMC5cbiAgICAgKiBAcGFyYW0ge0NhbWVyYU9wdGlvbnMgfCBudWxsfSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgUGFkZGluZ09wdGlvbnN9IFtvcHRpb25zLnBhZGRpbmddIFRoZSBhbW91bnQgb2YgcGFkZGluZyBpbiBwaXhlbHMgdG8gYWRkIHRvIHRoZSBnaXZlbiBib3VuZHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJlYXJpbmc9MF0gRGVzaXJlZCBtYXAgYmVhcmluZyBhdCBlbmQgb2YgYW5pbWF0aW9uLCBpbiBkZWdyZWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5waXRjaD0wXSBEZXNpcmVkIG1hcCBwaXRjaCBhdCBlbmQgb2YgYW5pbWF0aW9uLCBpbiBkZWdyZWVzLlxuICAgICAqIEBwYXJhbSB7UG9pbnRMaWtlfSBbb3B0aW9ucy5vZmZzZXQ9WzAsIDBdXSBUaGUgY2VudGVyIG9mIHRoZSBnaXZlbiBib3VuZHMgcmVsYXRpdmUgdG8gdGhlIG1hcCdzIGNlbnRlciwgbWVhc3VyZWQgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhab29tXSBUaGUgbWF4aW11bSB6b29tIGxldmVsIHRvIGFsbG93IHdoZW4gdGhlIGNhbWVyYSB3b3VsZCB0cmFuc2l0aW9uIHRvIHRoZSBzcGVjaWZpZWQgYm91bmRzLlxuICAgICAqIEByZXR1cm5zIHtDYW1lcmFPcHRpb25zIHwgdm9pZH0gSWYgbWFwIGlzIGFibGUgdG8gZml0IHRvIHByb3ZpZGVkIGJvdW5kcywgcmV0dXJucyBgQ2FtZXJhT3B0aW9uc2Agd2l0aFxuICAgICAqICAgICAgYGNlbnRlcmAsIGB6b29tYCwgYW5kIGBiZWFyaW5nYC4gSWYgbWFwIGlzIHVuYWJsZSB0byBmaXQsIG1ldGhvZCB3aWxsIHdhcm4gYW5kIHJldHVybiB1bmRlZmluZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBiYm94ID0gW1stNzksIDQzXSwgWy03MywgNDVdXTtcbiAgICAgKiBjb25zdCBuZXdDYW1lcmFUcmFuc2Zvcm0gPSBtYXAuY2FtZXJhRm9yQm91bmRzKGJib3gsIHtcbiAgICAgKiAgICAgcGFkZGluZzoge3RvcDogMTAsIGJvdHRvbToyNSwgbGVmdDogMTUsIHJpZ2h0OiA1fVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGNhbWVyYUZvckJvdW5kcyhib3VuZHM6IExuZ0xhdEJvdW5kc0xpa2UsIG9wdGlvbnM/OiBDYW1lcmFPcHRpb25zKTogP0Vhc2luZ09wdGlvbnMge1xuICAgICAgICBib3VuZHMgPSBMbmdMYXRCb3VuZHMuY29udmVydChib3VuZHMpO1xuICAgICAgICBjb25zdCBiZWFyaW5nID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5iZWFyaW5nKSB8fCAwO1xuICAgICAgICBjb25zdCBwaXRjaCA9IChvcHRpb25zICYmIG9wdGlvbnMucGl0Y2gpIHx8IDA7XG4gICAgICAgIGNvbnN0IGxuZ2xhdDAgPSBib3VuZHMuZ2V0Tm9ydGhXZXN0KCk7XG4gICAgICAgIGNvbnN0IGxuZ2xhdDEgPSBib3VuZHMuZ2V0U291dGhFYXN0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW1lcmFGb3JCb3VuZHModGhpcy50cmFuc2Zvcm0sIGxuZ2xhdDAsIGxuZ2xhdDEsIGJlYXJpbmcsIHBpdGNoLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBfZXh0ZW5kQ2FtZXJhT3B0aW9ucyhvcHRpb25zPzogQ2FtZXJhT3B0aW9ucyk6IEZ1bGxDYW1lcmFPcHRpb25zIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFBhZGRpbmcgPSB7XG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgfTtcbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgICAgICBwYWRkaW5nOiBkZWZhdWx0UGFkZGluZyxcbiAgICAgICAgICAgIG9mZnNldDogWzAsIDBdLFxuICAgICAgICAgICAgbWF4Wm9vbTogdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbVxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucGFkZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBvcHRpb25zLnBhZGRpbmc7XG4gICAgICAgICAgICBvcHRpb25zLnBhZGRpbmcgPSB7XG4gICAgICAgICAgICAgICAgdG9wOiBwLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogcCxcbiAgICAgICAgICAgICAgICByaWdodDogcCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMucGFkZGluZyA9IGV4dGVuZChkZWZhdWx0UGFkZGluZywgb3B0aW9ucy5wYWRkaW5nKTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKHRyOiBUcmFuc2Zvcm0sIGFhYmI6IEFhYmIpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBhYWJiVyA9IGFhYmIubWF4WzBdIC0gYWFiYi5taW5bMF07XG4gICAgICAgIGNvbnN0IGFhYmJIID0gYWFiYi5tYXhbMV0gLSBhYWJiLm1pblsxXTtcbiAgICAgICAgY29uc3QgYWFiYkFzcGVjdFJhdGlvID0gYWFiYlcgLyBhYWJiSDtcbiAgICAgICAgY29uc3Qgc2VsZWN0WEF4aXMgPSBhYWJiQXNwZWN0UmF0aW8gPiB0ci5hc3BlY3Q7XG5cbiAgICAgICAgY29uc3QgbWluaW11bURpc3RhbmNlID0gc2VsZWN0WEF4aXMgP1xuICAgICAgICAgICAgYWFiYlcgLyAoMiAqIE1hdGgudGFuKHRyLmZvdlggKiAwLjUpICogdHIuYXNwZWN0KSA6XG4gICAgICAgICAgICBhYWJiSCAvICgyICogTWF0aC50YW4odHIuZm92WSAqIDAuNSkgKiB0ci5hc3BlY3QpO1xuXG4gICAgICAgIHJldHVybiBtaW5pbXVtRGlzdGFuY2U7XG4gICAgfVxuXG4gICAgX2NhbWVyYUZvckJvdW5kc09uR2xvYmUodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHAwOiBMbmdMYXRMaWtlLCBwMTogTG5nTGF0TGlrZSwgYmVhcmluZzogbnVtYmVyLCBwaXRjaDogbnVtYmVyLCBvcHRpb25zPzogQ2FtZXJhT3B0aW9ucyk6ID9FYXNpbmdPcHRpb25zIHtcbiAgICAgICAgY29uc3QgdHIgPSB0cmFuc2Zvcm0uY2xvbmUoKTtcbiAgICAgICAgY29uc3QgZU9wdGlvbnMgPSB0aGlzLl9leHRlbmRDYW1lcmFPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICAgIHRyLmJlYXJpbmcgPSBiZWFyaW5nO1xuICAgICAgICB0ci5waXRjaCA9IHBpdGNoO1xuXG4gICAgICAgIGNvbnN0IGNvb3JkMCA9IExuZ0xhdC5jb252ZXJ0KHAwKTtcbiAgICAgICAgY29uc3QgY29vcmQxID0gTG5nTGF0LmNvbnZlcnQocDEpO1xuXG4gICAgICAgIGNvbnN0IG1pZExhdCA9IChjb29yZDAubGF0ICsgY29vcmQxLmxhdCkgKiAwLjU7XG4gICAgICAgIGNvbnN0IG1pZExuZyA9IChjb29yZDAubG5nICsgY29vcmQxLmxuZykgKiAwLjU7XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luID0gbGF0TG5nVG9FQ0VGKG1pZExhdCwgbWlkTG5nKTtcblxuICAgICAgICBjb25zdCB6QXhpcyA9IHZlYzMubm9ybWFsaXplKFtdLCBvcmlnaW4pO1xuICAgICAgICBjb25zdCB4QXhpcyA9IHZlYzMubm9ybWFsaXplKFtdLCB2ZWMzLmNyb3NzKFtdLCB6QXhpcywgWzAsIDEsIDBdKSk7XG4gICAgICAgIGNvbnN0IHlBeGlzID0gdmVjMy5jcm9zcyhbXSwgeEF4aXMsIHpBeGlzKTtcblxuICAgICAgICBjb25zdCBhYWJiT3JpZW50YXRpb24gPSBbXG4gICAgICAgICAgICB4QXhpc1swXSwgeEF4aXNbMV0sIHhBeGlzWzJdLCAwLFxuICAgICAgICAgICAgeUF4aXNbMF0sIHlBeGlzWzFdLCB5QXhpc1syXSwgMCxcbiAgICAgICAgICAgIHpBeGlzWzBdLCB6QXhpc1sxXSwgekF4aXNbMl0sIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgZWNlZkNvb3JkcyA9IFtcbiAgICAgICAgICAgIG9yaWdpbixcblxuICAgICAgICAgICAgbGF0TG5nVG9FQ0VGKGNvb3JkMC5sYXQsIGNvb3JkMC5sbmcpLFxuICAgICAgICAgICAgbGF0TG5nVG9FQ0VGKGNvb3JkMS5sYXQsIGNvb3JkMC5sbmcpLFxuICAgICAgICAgICAgbGF0TG5nVG9FQ0VGKGNvb3JkMS5sYXQsIGNvb3JkMS5sbmcpLFxuICAgICAgICAgICAgbGF0TG5nVG9FQ0VGKGNvb3JkMC5sYXQsIGNvb3JkMS5sbmcpLFxuXG4gICAgICAgICAgICBsYXRMbmdUb0VDRUYobWlkTGF0LCBjb29yZDAubG5nKSxcbiAgICAgICAgICAgIGxhdExuZ1RvRUNFRihtaWRMYXQsIGNvb3JkMS5sbmcpLFxuICAgICAgICAgICAgbGF0TG5nVG9FQ0VGKGNvb3JkMC5sYXQsIG1pZExuZyksXG4gICAgICAgICAgICBsYXRMbmdUb0VDRUYoY29vcmQxLmxhdCwgbWlkTG5nKSxcbiAgICAgICAgXTtcblxuICAgICAgICBsZXQgYWFiYiA9IEFhYmIuZnJvbVBvaW50cyhlY2VmQ29vcmRzLm1hcChwID0+IFt2ZWMzLmRvdCh4QXhpcywgcCksIHZlYzMuZG90KHlBeGlzLCBwKSwgdmVjMy5kb3QoekF4aXMsIHApXSkpO1xuXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHZlYzMudHJhbnNmb3JtTWF0NChbXSwgYWFiYi5jZW50ZXIsIGFhYmJPcmllbnRhdGlvbik7XG5cbiAgICAgICAgaWYgKHZlYzMuc3F1YXJlZExlbmd0aChjZW50ZXIpID09PSAwKSB7XG4gICAgICAgICAgICB2ZWMzLnNldChjZW50ZXIsIDAsIDAsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmVjMy5ub3JtYWxpemUoY2VudGVyLCBjZW50ZXIpO1xuICAgICAgICB2ZWMzLnNjYWxlKGNlbnRlciwgY2VudGVyLCBHTE9CRV9SQURJVVMpO1xuICAgICAgICB0ci5jZW50ZXIgPSBlY2VmVG9MYXRMbmcoY2VudGVyKTtcblxuICAgICAgICBjb25zdCB3b3JsZFRvQ2FtZXJhID0gdHIuZ2V0V29ybGRUb0NhbWVyYU1hdHJpeCgpO1xuICAgICAgICBjb25zdCBjYW1lcmFUb1dvcmxkID0gbWF0NC5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksIHdvcmxkVG9DYW1lcmEpO1xuXG4gICAgICAgIGFhYmIgPSBBYWJiLmFwcGx5VHJhbnNmb3JtKGFhYmIsIG1hdDQubXVsdGlwbHkoW10sIHdvcmxkVG9DYW1lcmEsIGFhYmJPcmllbnRhdGlvbikpO1xuXG4gICAgICAgIHZlYzMudHJhbnNmb3JtTWF0NChjZW50ZXIsIGNlbnRlciwgd29ybGRUb0NhbWVyYSk7XG5cbiAgICAgICAgY29uc3QgYWFiYkhhbGZFeHRlbnRaID0gKGFhYmIubWF4WzJdIC0gYWFiYi5taW5bMl0pICogMC41O1xuICAgICAgICBjb25zdCBmcnVzdHVtRGlzdGFuY2UgPSB0aGlzLl9taW5pbXVtQUFCQkZydXN0dW1EaXN0YW5jZSh0ciwgYWFiYik7XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0WiA9IHZlYzMuc2NhbGUoW10sIFswLCAwLCAxXSwgYWFiYkhhbGZFeHRlbnRaKTtcbiAgICAgICAgY29uc3QgYWFiYkNsb3Nlc3RQb2ludCA9IHZlYzMuYWRkKG9mZnNldFosIGNlbnRlciwgb2Zmc2V0Wik7XG4gICAgICAgIGNvbnN0IG9mZnNldERpc3RhbmNlID0gZnJ1c3R1bURpc3RhbmNlICsgKHRyLnBpdGNoID09PSAwID8gMCA6IHZlYzMuZGlzdGFuY2UoY2VudGVyLCBhYWJiQ2xvc2VzdFBvaW50KSk7XG5cbiAgICAgICAgY29uc3QgZ2xvYmVDZW50ZXIgPSB0ci5nbG9iZUNlbnRlckluVmlld1NwYWNlO1xuICAgICAgICBjb25zdCBub3JtYWwgPSB2ZWMzLnN1YihbXSwgY2VudGVyLCBbZ2xvYmVDZW50ZXJbMF0sIGdsb2JlQ2VudGVyWzFdLCBnbG9iZUNlbnRlclsyXV0pO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShub3JtYWwsIG5vcm1hbCk7XG4gICAgICAgIHZlYzMuc2NhbGUobm9ybWFsLCBub3JtYWwsIG9mZnNldERpc3RhbmNlKTtcblxuICAgICAgICBjb25zdCBjYW1lcmFQb3NpdGlvbiA9IHZlYzMuYWRkKFtdLCBjZW50ZXIsIG5vcm1hbCk7XG5cbiAgICAgICAgdmVjMy50cmFuc2Zvcm1NYXQ0KGNhbWVyYVBvc2l0aW9uLCBjYW1lcmFQb3NpdGlvbiwgY2FtZXJhVG9Xb3JsZCk7XG5cbiAgICAgICAgY29uc3QgbWV0ZXJQZXJFQ0VGID0gZWFydGhSYWRpdXMgLyBHTE9CRV9SQURJVVM7XG4gICAgICAgIGNvbnN0IGFsdGl0dWRlRUNFRiA9IHZlYzMubGVuZ3RoKGNhbWVyYVBvc2l0aW9uKTtcbiAgICAgICAgY29uc3QgYWx0aXR1ZGVNZXRlciA9IGFsdGl0dWRlRUNFRiAqIG1ldGVyUGVyRUNFRiAtIGVhcnRoUmFkaXVzO1xuICAgICAgICBjb25zdCBtZXJjYXRvclogPSBtZXJjYXRvclpmcm9tQWx0aXR1ZGUoTWF0aC5tYXgoYWx0aXR1ZGVNZXRlciwgTnVtYmVyLkVQU0lMT04pLCAwKTtcblxuICAgICAgICBjb25zdCB6b29tID0gTWF0aC5taW4odHIuem9vbUZyb21NZXJjYXRvclpBZGp1c3RlZChtZXJjYXRvclopLCBlT3B0aW9ucy5tYXhab29tKTtcblxuICAgICAgICBjb25zdCBoYWxmWm9vbVRyYW5zaXRpb24gPSAoR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOICsgR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYKSAqIDAuNTtcbiAgICAgICAgaWYgKHpvb20gPiBoYWxmWm9vbVRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIHRyLnNldFByb2plY3Rpb24oe25hbWU6ICdtZXJjYXRvcid9KTtcbiAgICAgICAgICAgIHRyLnpvb20gPSB6b29tO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbWVyYUZvckJvdW5kcyh0ciwgcDAsIHAxLCBiZWFyaW5nLCBwaXRjaCwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge2NlbnRlcjogdHIuY2VudGVyLCB6b29tLCBiZWFyaW5nLCBwaXRjaH07XG4gICAgfVxuXG4gICAgLyoqIEBzZWN0aW9uIHtRdWVyeWluZyBmZWF0dXJlc30gKi9cblxuICAgIC8qKlxuICAgICAqIFF1ZXJpZXMgdGhlIGN1cnJlbnRseSBsb2FkZWQgZGF0YSBmb3IgZWxldmF0aW9uIGF0IGEgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uLiBUaGUgZWxldmF0aW9uIGlzIHJldHVybmVkIGluIGBtZXRlcnNgIHJlbGF0aXZlIHRvIG1lYW4gc2VhLWxldmVsLlxuICAgICAqIFJldHVybnMgYG51bGxgIGlmIGB0ZXJyYWluYCBpcyBkaXNhYmxlZCBvciBpZiB0ZXJyYWluIGRhdGEgZm9yIHRoZSBsb2NhdGlvbiBoYXNuJ3QgYmVlbiBsb2FkZWQgeWV0LlxuICAgICAqXG4gICAgICogSW4gb3JkZXIgdG8gZ3VhcmFudGVlIHRoYXQgdGhlIHRlcnJhaW4gZGF0YSBpcyBsb2FkZWQgZW5zdXJlIHRoYXQgdGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbiBpcyB2aXNpYmxlIGFuZCB3YWl0IGZvciB0aGUgYGlkbGVgIGV2ZW50IHRvIG9jY3VyLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdExpa2V9IGxuZ2xhdCBUaGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIGF0IHdoaWNoIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RWxldmF0aW9uUXVlcnlPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5leGFnZ2VyYXRlZD10cnVlXSBXaGVuIGB0cnVlYCByZXR1cm5zIHRoZSB0ZXJyYWluIGVsZXZhdGlvbiB3aXRoIHRoZSB2YWx1ZSBvZiBgZXhhZ2dlcmF0aW9uYCBmcm9tIHRoZSBzdHlsZSBhbHJlYWR5IGFwcGxpZWQuXG4gICAgICogV2hlbiBgZmFsc2VgLCByZXR1cm5zIHRoZSByYXcgdmFsdWUgb2YgdGhlIHVuZGVybHlpbmcgZGF0YSB3aXRob3V0IHN0eWxpbmcgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyIHwgbnVsbH0gVGhlIGVsZXZhdGlvbiBpbiBtZXRlcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjb29yZGluYXRlID0gWy0xMjIuNDIwNjc5LCAzNy43NzI1MzddO1xuICAgICAqIGNvbnN0IGVsZXZhdGlvbiA9IG1hcC5xdWVyeVRlcnJhaW5FbGV2YXRpb24oY29vcmRpbmF0ZSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogUXVlcnkgdGVycmFpbiBlbGV2YXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3F1ZXJ5LXRlcnJhaW4tZWxldmF0aW9uLylcbiAgICAgKi9cbiAgICBxdWVyeVRlcnJhaW5FbGV2YXRpb24obG5nbGF0OiBMbmdMYXRMaWtlLCBvcHRpb25zOiA/RWxldmF0aW9uUXVlcnlPcHRpb25zKTogP251bWJlciB7XG4gICAgICAgIGNvbnN0IGVsZXZhdGlvbiA9IHRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbjtcbiAgICAgICAgaWYgKGVsZXZhdGlvbikge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7fSwge2V4YWdnZXJhdGVkOiB0cnVlfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gZWxldmF0aW9uLmdldEF0UG9pbnQoTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQobG5nbGF0KSwgbnVsbCwgb3B0aW9ucy5leGFnZ2VyYXRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjZW50ZXIgb2YgdGhlc2UgdHdvIHBvaW50cyBpbiB0aGUgdmlld3BvcnQgYW5kIHVzZVxuICAgICAqIHRoZSBoaWdoZXN0IHpvb20gbGV2ZWwgdXAgdG8gYW5kIGluY2x1ZGluZyBgTWFwI2dldE1heFpvb20oKWAgdGhhdCBmaXRzXG4gICAgICogdGhlIHBvaW50cyBpbiB0aGUgdmlld3BvcnQgYXQgdGhlIHNwZWNpZmllZCBiZWFyaW5nLlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBwMCBGaXJzdCBwb2ludFxuICAgICAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gcDEgU2Vjb25kIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgRGVzaXJlZCBtYXAgYmVhcmluZyBhdCBlbmQgb2YgYW5pbWF0aW9uLCBpbiBkZWdyZWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdGNoIERlc2lyZWQgbWFwIHBpdGNoIGF0IGVuZCBvZiBhbmltYXRpb24sIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0ge0NhbWVyYU9wdGlvbnMgfCBudWxsfSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBQYWRkaW5nT3B0aW9uc30gW29wdGlvbnMucGFkZGluZ10gVGhlIGFtb3VudCBvZiBwYWRkaW5nIGluIHBpeGVscyB0byBhZGQgdG8gdGhlIGdpdmVuIGJvdW5kcy5cbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZX0gW29wdGlvbnMub2Zmc2V0PVswLCAwXV0gVGhlIGNlbnRlciBvZiB0aGUgZ2l2ZW4gYm91bmRzIHJlbGF0aXZlIHRvIHRoZSBtYXAncyBjZW50ZXIsIG1lYXN1cmVkIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Wm9vbV0gVGhlIG1heGltdW0gem9vbSBsZXZlbCB0byBhbGxvdyB3aGVuIHRoZSBjYW1lcmEgd291bGQgdHJhbnNpdGlvbiB0byB0aGUgc3BlY2lmaWVkIGJvdW5kcy5cbiAgICAgKiBAcmV0dXJucyB7Q2FtZXJhT3B0aW9ucyB8IHZvaWR9IElmIG1hcCBpcyBhYmxlIHRvIGZpdCB0byBwcm92aWRlZCBib3VuZHMsIHJldHVybnMgYENhbWVyYU9wdGlvbnNgIHdpdGhcbiAgICAgKiAgICAgIGBjZW50ZXJgLCBgem9vbWAsIGFuZCBgYmVhcmluZ2AuIElmIG1hcCBpcyB1bmFibGUgdG8gZml0LCBtZXRob2Qgd2lsbCB3YXJuIGFuZCByZXR1cm4gdW5kZWZpbmVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcDAgPSBbLTc5LCA0M107XG4gICAgICogdmFyIHAxID0gWy03MywgNDVdO1xuICAgICAqIHZhciBiZWFyaW5nID0gOTA7XG4gICAgICogdmFyIG5ld0NhbWVyYVRyYW5zZm9ybSA9IG1hcC5fY2FtZXJhRm9yQm91bmRzKHAwLCBwMSwgYmVhcmluZywgcGl0Y2gsIHtcbiAgICAgKiAgIHBhZGRpbmc6IHt0b3A6IDEwLCBib3R0b206MjUsIGxlZnQ6IDE1LCByaWdodDogNX1cbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBfY2FtZXJhRm9yQm91bmRzKHRyYW5zZm9ybTogVHJhbnNmb3JtLCBwMDogTG5nTGF0TGlrZSwgcDE6IExuZ0xhdExpa2UsIGJlYXJpbmc6IG51bWJlciwgcGl0Y2g6IG51bWJlciwgb3B0aW9ucz86IENhbWVyYU9wdGlvbnMpOiA/RWFzaW5nT3B0aW9ucyB7XG4gICAgICAgIGlmICh0cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FtZXJhRm9yQm91bmRzT25HbG9iZSh0cmFuc2Zvcm0sIHAwLCBwMSwgYmVhcmluZywgcGl0Y2gsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHIgPSB0cmFuc2Zvcm0uY2xvbmUoKTtcbiAgICAgICAgY29uc3QgZU9wdGlvbnMgPSB0aGlzLl9leHRlbmRDYW1lcmFPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBlZGdlUGFkZGluZyA9IHRyLnBhZGRpbmc7XG5cbiAgICAgICAgdHIuYmVhcmluZyA9IGJlYXJpbmc7XG4gICAgICAgIHRyLnBpdGNoID0gcGl0Y2g7XG5cbiAgICAgICAgY29uc3QgY29vcmQwID0gTG5nTGF0LmNvbnZlcnQocDApO1xuICAgICAgICBjb25zdCBjb29yZDEgPSBMbmdMYXQuY29udmVydChwMSk7XG4gICAgICAgIGNvbnN0IGNvb3JkMiA9IG5ldyBMbmdMYXQoY29vcmQwLmxuZywgY29vcmQxLmxhdCk7XG4gICAgICAgIGNvbnN0IGNvb3JkMyA9IG5ldyBMbmdMYXQoY29vcmQxLmxuZywgY29vcmQwLmxhdCk7XG5cbiAgICAgICAgY29uc3QgcDB3b3JsZCA9IHRyLnByb2plY3QoY29vcmQwKTtcbiAgICAgICAgY29uc3QgcDF3b3JsZCA9IHRyLnByb2plY3QoY29vcmQxKTtcblxuICAgICAgICBjb25zdCB6MCA9IHRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKGNvb3JkMCk7XG4gICAgICAgIGNvbnN0IHoxID0gdGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24oY29vcmQxKTtcbiAgICAgICAgY29uc3QgejIgPSB0aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihjb29yZDIpO1xuICAgICAgICBjb25zdCB6MyA9IHRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKGNvb3JkMyk7XG5cbiAgICAgICAgY29uc3Qgd29ybGRDb29yZHMgPSBbXG4gICAgICAgICAgICBbcDB3b3JsZC54LCBwMHdvcmxkLnksIE1hdGgubWluKHowIHx8IDAsIHoxIHx8IDAsIHoyIHx8IDAsIHozIHx8IDApXSxcbiAgICAgICAgICAgIFtwMXdvcmxkLngsIHAxd29ybGQueSwgTWF0aC5tYXgoejAgfHwgMCwgejEgfHwgMCwgejIgfHwgMCwgejMgfHwgMCldXG4gICAgICAgIF07XG5cbiAgICAgICAgbGV0IGFhYmIgPSBBYWJiLmZyb21Qb2ludHMod29ybGRDb29yZHMpO1xuXG4gICAgICAgIGNvbnN0IHdvcmxkVG9DYW1lcmEgPSB0ci5nZXRXb3JsZFRvQ2FtZXJhTWF0cml4KCk7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRvV29ybGQgPSBtYXQ0LmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSwgd29ybGRUb0NhbWVyYSk7XG5cbiAgICAgICAgYWFiYiA9IEFhYmIuYXBwbHlUcmFuc2Zvcm0oYWFiYiwgd29ybGRUb0NhbWVyYSk7XG5cbiAgICAgICAgY29uc3Qgc2l6ZSA9IHZlYzMuc3ViKFtdLCBhYWJiLm1heCwgYWFiYi5taW4pO1xuXG4gICAgICAgIGNvbnN0IHNjcmVlblBhZEwgPSBlZGdlUGFkZGluZy5sZWZ0IHx8IDA7XG4gICAgICAgIGNvbnN0IHNjcmVlblBhZFIgPSBlZGdlUGFkZGluZy5yaWdodCB8fCAwO1xuICAgICAgICBjb25zdCBzY3JlZW5QYWRCID0gZWRnZVBhZGRpbmcuYm90dG9tIHx8IDA7XG4gICAgICAgIGNvbnN0IHNjcmVlblBhZFQgPSBlZGdlUGFkZGluZy50b3AgfHwgMDtcblxuICAgICAgICBjb25zdCB7bGVmdDogcGFkTCwgcmlnaHQ6IHBhZFIsIHRvcDogcGFkVCwgYm90dG9tOiBwYWRCfSA9IGVPcHRpb25zLnBhZGRpbmc7XG5cbiAgICAgICAgY29uc3QgaGFsZlNjcmVlblBhZFggPSAoc2NyZWVuUGFkTCArIHNjcmVlblBhZFIpICogMC41O1xuICAgICAgICBjb25zdCBoYWxmU2NyZWVuUGFkWSA9IChzY3JlZW5QYWRUICsgc2NyZWVuUGFkQikgKiAwLjU7XG5cbiAgICAgICAgY29uc3Qgc2NhbGVYID0gKHRyLndpZHRoIC0gKHNjcmVlblBhZEwgKyBzY3JlZW5QYWRSICsgcGFkTCArIHBhZFIpKSAvIHNpemVbMF07XG4gICAgICAgIGNvbnN0IHNjYWxlWSA9ICh0ci5oZWlnaHQgLSAoc2NyZWVuUGFkQiArIHNjcmVlblBhZFQgKyBwYWRCICsgcGFkVCkpIC8gc2l6ZVsxXTtcblxuICAgICAgICBjb25zdCB6b29tUmVmID0gTWF0aC5taW4odHIuc2NhbGVab29tKHRyLnNjYWxlICogTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpKSwgZU9wdGlvbnMubWF4Wm9vbSk7XG5cbiAgICAgICAgY29uc3Qgc2NhbGVSYXRpbyA9IHRyLnNjYWxlIC8gdHIuem9vbVNjYWxlKHpvb21SZWYpO1xuXG4gICAgICAgIGFhYmIgPSBuZXcgQWFiYihcbiAgICAgICAgICAgIFthYWJiLm1pblswXSAtIChwYWRMICsgaGFsZlNjcmVlblBhZFgpICogc2NhbGVSYXRpbywgYWFiYi5taW5bMV0gLSAocGFkQiArIGhhbGZTY3JlZW5QYWRZKSAqIHNjYWxlUmF0aW8sIGFhYmIubWluWzJdXSxcbiAgICAgICAgICAgIFthYWJiLm1heFswXSArIChwYWRSICsgaGFsZlNjcmVlblBhZFgpICogc2NhbGVSYXRpbywgYWFiYi5tYXhbMV0gKyAocGFkVCArIGhhbGZTY3JlZW5QYWRZKSAqIHNjYWxlUmF0aW8sIGFhYmIubWF4WzJdXSk7XG5cbiAgICAgICAgY29uc3QgYWFiYkhhbGZFeHRlbnRaID0gc2l6ZVsyXSAqIDAuNTtcbiAgICAgICAgY29uc3QgZnJ1c3R1bURpc3RhbmNlID0gdGhpcy5fbWluaW11bUFBQkJGcnVzdHVtRGlzdGFuY2UodHIsIGFhYmIpO1xuXG4gICAgICAgIGNvbnN0IG5vcm1hbFogPSBbMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KG5vcm1hbFosIG5vcm1hbFosIHdvcmxkVG9DYW1lcmEpO1xuICAgICAgICB2ZWM0Lm5vcm1hbGl6ZShub3JtYWxaLCBub3JtYWxaKTtcblxuICAgICAgICBjb25zdCBvZmZzZXQgPSB2ZWMzLnNjYWxlKFtdLCBub3JtYWxaLCBmcnVzdHVtRGlzdGFuY2UgKyBhYWJiSGFsZkV4dGVudFopO1xuICAgICAgICBjb25zdCBjYW1lcmFQb3NpdGlvbiA9IHZlYzMuYWRkKFtdLCBhYWJiLmNlbnRlciwgb2Zmc2V0KTtcblxuICAgICAgICBjb25zdCBjZW50ZXJPZmZzZXQgPSAodHlwZW9mIGVPcHRpb25zLm9mZnNldC54ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgZU9wdGlvbnMub2Zmc2V0LnkgPT09ICdudW1iZXInKSA/XG4gICAgICAgICAgICBuZXcgUG9pbnQoZU9wdGlvbnMub2Zmc2V0LngsIGVPcHRpb25zLm9mZnNldC55KSA6XG4gICAgICAgICAgICBQb2ludC5jb252ZXJ0KGVPcHRpb25zLm9mZnNldCk7XG5cbiAgICAgICAgY29uc3Qgcm90YXRlZE9mZnNldCA9IGNlbnRlck9mZnNldC5yb3RhdGUoLWRlZ1RvUmFkKGJlYXJpbmcpKTtcblxuICAgICAgICBhYWJiLmNlbnRlclswXSAtPSByb3RhdGVkT2Zmc2V0LnggKiBzY2FsZVJhdGlvO1xuICAgICAgICBhYWJiLmNlbnRlclsxXSArPSByb3RhdGVkT2Zmc2V0LnkgKiBzY2FsZVJhdGlvO1xuXG4gICAgICAgIHZlYzMudHJhbnNmb3JtTWF0NChhYWJiLmNlbnRlciwgYWFiYi5jZW50ZXIsIGNhbWVyYVRvV29ybGQpO1xuICAgICAgICB2ZWMzLnRyYW5zZm9ybU1hdDQoY2FtZXJhUG9zaXRpb24sIGNhbWVyYVBvc2l0aW9uLCBjYW1lcmFUb1dvcmxkKTtcblxuICAgICAgICBjb25zdCBtZXJjYXRvciA9IFthYWJiLmNlbnRlclswXSwgYWFiYi5jZW50ZXJbMV0sIGNhbWVyYVBvc2l0aW9uWzJdICogdHIucGl4ZWxzUGVyTWV0ZXJdO1xuICAgICAgICB2ZWMzLnNjYWxlKG1lcmNhdG9yLCBtZXJjYXRvciwgMS4wIC8gdHIud29ybGRTaXplKTtcblxuICAgICAgICBjb25zdCBsbmcgPSBsbmdGcm9tTWVyY2F0b3JYKG1lcmNhdG9yWzBdKTtcbiAgICAgICAgY29uc3QgbGF0ID0gbGF0RnJvbU1lcmNhdG9yWShtZXJjYXRvclsxXSk7XG5cbiAgICAgICAgY29uc3Qgem9vbSA9IE1hdGgubWluKHRyLl96b29tRnJvbU1lcmNhdG9yWihtZXJjYXRvclsyXSksIGVPcHRpb25zLm1heFpvb20pO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBuZXcgTG5nTGF0KGxuZywgbGF0KTtcblxuICAgICAgICBjb25zdCBoYWxmWm9vbVRyYW5zaXRpb24gPSAoR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOICsgR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYKSAqIDAuNTtcblxuICAgICAgICBpZiAodHIubWVyY2F0b3JGcm9tVHJhbnNpdGlvbiAmJiB6b29tIDwgaGFsZlpvb21UcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICB0ci5zZXRQcm9qZWN0aW9uKHtuYW1lOiAnZ2xvYmUnfSk7XG4gICAgICAgICAgICB0ci56b29tID0gem9vbTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYW1lcmFGb3JCb3VuZHModHIsIHAwLCBwMSwgYmVhcmluZywgcGl0Y2gsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtjZW50ZXIsIHpvb20sIGJlYXJpbmcsIHBpdGNofTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYW5zIGFuZCB6b29tcyB0aGUgbWFwIHRvIGNvbnRhaW4gaXRzIHZpc2libGUgYXJlYSB3aXRoaW4gdGhlIHNwZWNpZmllZCBnZW9ncmFwaGljYWwgYm91bmRzLlxuICAgICAqIElmIGEgcGFkZGluZyBpcyBzZXQgb24gdGhlIG1hcCwgdGhlIGJvdW5kcyBhcmUgZml0IHRvIHRoZSBpbnNldC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtMbmdMYXRCb3VuZHNMaWtlfSBib3VuZHMgQ2VudGVyIHRoZXNlIGJvdW5kcyBpbiB0aGUgdmlld3BvcnQgYW5kIHVzZSB0aGUgaGlnaGVzdFxuICAgICAqICAgICAgem9vbSBsZXZlbCB1cCB0byBhbmQgaW5jbHVkaW5nIGBNYXAjZ2V0TWF4Wm9vbSgpYCB0aGF0IGZpdHMgdGhlbSBpbiB0aGUgdmlld3BvcnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHN1cHBvcnRzIGFsbCBwcm9wZXJ0aWVzIGZyb20ge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9IGFuZCB7QGxpbmsgQ2FtZXJhT3B0aW9uc30gaW4gYWRkaXRpb24gdG8gdGhlIGZpZWxkcyBiZWxvdy5cbiAgICAgKiBAcGFyYW0ge251bWJlciB8IFBhZGRpbmdPcHRpb25zfSBbb3B0aW9ucy5wYWRkaW5nXSBUaGUgYW1vdW50IG9mIHBhZGRpbmcgaW4gcGl4ZWxzIHRvIGFkZCB0byB0aGUgZ2l2ZW4gYm91bmRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5waXRjaD0wXSBEZXNpcmVkIG1hcCBwaXRjaCBhdCBlbmQgb2YgYW5pbWF0aW9uLCBpbiBkZWdyZWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iZWFyaW5nPTBdIERlc2lyZWQgbWFwIGJlYXJpbmcgYXQgZW5kIG9mIGFuaW1hdGlvbiwgaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxpbmVhcj1mYWxzZV0gSWYgYHRydWVgLCB0aGUgbWFwIHRyYW5zaXRpb25zIHVzaW5nXG4gICAgICogICAgIHtAbGluayBNYXAjZWFzZVRvfS4gSWYgYGZhbHNlYCwgdGhlIG1hcCB0cmFuc2l0aW9ucyB1c2luZyB7QGxpbmsgTWFwI2ZseVRvfS4gU2VlXG4gICAgICogICAgIHRob3NlIGZ1bmN0aW9ucyBhbmQge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9IGZvciBpbmZvcm1hdGlvbiBhYm91dCBvcHRpb25zIGF2YWlsYWJsZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5lYXNpbmddIEFuIGVhc2luZyBmdW5jdGlvbiBmb3IgdGhlIGFuaW1hdGVkIHRyYW5zaXRpb24uIFNlZSB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30uXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IFtvcHRpb25zLm9mZnNldD1bMCwgMF1dIFRoZSBjZW50ZXIgb2YgdGhlIGdpdmVuIGJvdW5kcyByZWxhdGl2ZSB0byB0aGUgbWFwJ3MgY2VudGVyLCBtZWFzdXJlZCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFpvb21dIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdG8gYWxsb3cgd2hlbiB0aGUgbWFwIHZpZXcgdHJhbnNpdGlvbnMgdG8gdGhlIHNwZWNpZmllZCBib3VuZHMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudERhdGFdIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgYmJveCA9IFtbLTc5LCA0M10sIFstNzMsIDQ1XV07XG4gICAgICogbWFwLmZpdEJvdW5kcyhiYm94LCB7XG4gICAgICogICAgIHBhZGRpbmc6IHt0b3A6IDEwLCBib3R0b206MjUsIGxlZnQ6IDE1LCByaWdodDogNX1cbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBGaXQgYSBtYXAgdG8gYSBib3VuZGluZyBib3hdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZml0Ym91bmRzLylcbiAgICAgKi9cbiAgICBmaXRCb3VuZHMoYm91bmRzOiBMbmdMYXRCb3VuZHNMaWtlLCBvcHRpb25zPzogRWFzaW5nT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIGNvbnN0IGNhbWVyYVBsYWNlbWVudCA9IHRoaXMuY2FtZXJhRm9yQm91bmRzKGJvdW5kcywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9maXRJbnRlcm5hbChjYW1lcmFQbGFjZW1lbnQsIG9wdGlvbnMsIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFucywgcm90YXRlcyBhbmQgem9vbXMgdGhlIG1hcCB0byB0byBmaXQgdGhlIGJveCBtYWRlIGJ5IHBvaW50cyBwMCBhbmQgcDFcbiAgICAgKiBvbmNlIHRoZSBtYXAgaXMgcm90YXRlZCB0byB0aGUgc3BlY2lmaWVkIGJlYXJpbmcuIFRvIHpvb20gd2l0aG91dCByb3RhdGluZyxcbiAgICAgKiBwYXNzIGluIHRoZSBjdXJyZW50IG1hcCBiZWFyaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZX0gcDAgRmlyc3QgcG9pbnQgb24gc2NyZWVuLCBpbiBwaXhlbCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZX0gcDEgU2Vjb25kIHBvaW50IG9uIHNjcmVlbiwgaW4gcGl4ZWwgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgRGVzaXJlZCBtYXAgYmVhcmluZyBhdCBlbmQgb2YgYW5pbWF0aW9uLCBpbiBkZWdyZWVzLlxuICAgICAqIEBwYXJhbSB7RWFzaW5nT3B0aW9ucyB8IG51bGx9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuXG4gICAgICogICAgIEFjY2VwdHMge0BsaW5rIENhbWVyYU9wdGlvbnN9IGFuZCB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30uXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBQYWRkaW5nT3B0aW9uc30gW29wdGlvbnMucGFkZGluZ10gVGhlIGFtb3VudCBvZiBwYWRkaW5nIGluIHBpeGVscyB0byBhZGQgdG8gdGhlIGdpdmVuIGJvdW5kcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxpbmVhcj1mYWxzZV0gSWYgYHRydWVgLCB0aGUgbWFwIHRyYW5zaXRpb25zIHVzaW5nXG4gICAgICogICAgIHtAbGluayBNYXAjZWFzZVRvfS4gSWYgYGZhbHNlYCwgdGhlIG1hcCB0cmFuc2l0aW9ucyB1c2luZyB7QGxpbmsgTWFwI2ZseVRvfS4gU2VlXG4gICAgICogICAgIHRob3NlIGZ1bmN0aW9ucyBhbmQge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9IGZvciBpbmZvcm1hdGlvbiBhYm91dCBvcHRpb25zIGF2YWlsYWJsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucGl0Y2g9MF0gRGVzaXJlZCBtYXAgcGl0Y2ggYXQgZW5kIG9mIGFuaW1hdGlvbiwgaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5lYXNpbmddIEFuIGVhc2luZyBmdW5jdGlvbiBmb3IgdGhlIGFuaW1hdGVkIHRyYW5zaXRpb24uIFNlZSB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30uXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IFtvcHRpb25zLm9mZnNldD1bMCwgMF1dIFRoZSBjZW50ZXIgb2YgdGhlIGdpdmVuIGJvdW5kcyByZWxhdGl2ZSB0byB0aGUgbWFwJ3MgY2VudGVyLCBtZWFzdXJlZCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFpvb21dIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdG8gYWxsb3cgd2hlbiB0aGUgbWFwIHZpZXcgdHJhbnNpdGlvbnMgdG8gdGhlIHNwZWNpZmllZCBib3VuZHMuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwMCA9IFsyMjAsIDQwMF07XG4gICAgICogY29uc3QgcDEgPSBbNTAwLCA5MDBdO1xuICAgICAqIG1hcC5maXRTY3JlZW5Db29yZGluYXRlcyhwMCwgcDEsIG1hcC5nZXRCZWFyaW5nKCksIHtcbiAgICAgKiAgICAgcGFkZGluZzoge3RvcDogMTAsIGJvdHRvbToyNSwgbGVmdDogMTUsIHJpZ2h0OiA1fVxuICAgICAqIH0pO1xuICAgICAqIEBzZWUgVXNlZCBieSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9XG4gICAgICovXG4gICAgZml0U2NyZWVuQ29vcmRpbmF0ZXMocDA6IFBvaW50TGlrZSwgcDE6IFBvaW50TGlrZSwgYmVhcmluZzogbnVtYmVyLCBvcHRpb25zPzogRWFzaW5nT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIGNvbnN0IHNjcmVlbjAgPSBQb2ludC5jb252ZXJ0KHAwKTtcbiAgICAgICAgY29uc3Qgc2NyZWVuMSA9IFBvaW50LmNvbnZlcnQocDEpO1xuXG4gICAgICAgIGNvbnN0IG1pbiA9IG5ldyBQb2ludChNYXRoLm1pbihzY3JlZW4wLngsIHNjcmVlbjEueCksIE1hdGgubWluKHNjcmVlbjAueSwgc2NyZWVuMS55KSk7XG4gICAgICAgIGNvbnN0IG1heCA9IG5ldyBQb2ludChNYXRoLm1heChzY3JlZW4wLngsIHNjcmVlbjEueCksIE1hdGgubWF4KHNjcmVlbjAueSwgc2NyZWVuMS55KSk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gJ21lcmNhdG9yJyAmJiB0aGlzLnRyYW5zZm9ybS5hbnlDb3JuZXJPZmZFZGdlKHNjcmVlbjAsIHNjcmVlbjEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxuZ2xhdDAgPSB0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uM0QobWluKTtcbiAgICAgICAgY29uc3QgbG5nbGF0MSA9IHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChtYXgpO1xuICAgICAgICBjb25zdCBsbmdsYXQyID0gdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKG5ldyBQb2ludChtaW4ueCwgbWF4LnkpKTtcbiAgICAgICAgY29uc3QgbG5nbGF0MyA9IHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChuZXcgUG9pbnQobWF4LngsIG1pbi55KSk7XG5cbiAgICAgICAgY29uc3QgcDBjb29yZCA9IFtcbiAgICAgICAgICAgIE1hdGgubWluKGxuZ2xhdDAubG5nLCBsbmdsYXQxLmxuZywgbG5nbGF0Mi5sbmcsIGxuZ2xhdDMubG5nKSxcbiAgICAgICAgICAgIE1hdGgubWluKGxuZ2xhdDAubGF0LCBsbmdsYXQxLmxhdCwgbG5nbGF0Mi5sYXQsIGxuZ2xhdDMubGF0KSxcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgcDFjb29yZCA9ICBbXG4gICAgICAgICAgICBNYXRoLm1heChsbmdsYXQwLmxuZywgbG5nbGF0MS5sbmcsIGxuZ2xhdDIubG5nLCBsbmdsYXQzLmxuZyksXG4gICAgICAgICAgICBNYXRoLm1heChsbmdsYXQwLmxhdCwgbG5nbGF0MS5sYXQsIGxuZ2xhdDIubGF0LCBsbmdsYXQzLmxhdCksXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgcGl0Y2ggPSBvcHRpb25zICYmIG9wdGlvbnMucGl0Y2ggPyBvcHRpb25zLnBpdGNoIDogdGhpcy5nZXRQaXRjaCgpO1xuXG4gICAgICAgIGNvbnN0IGNhbWVyYVBsYWNlbWVudCA9IHRoaXMuX2NhbWVyYUZvckJvdW5kcyh0aGlzLnRyYW5zZm9ybSwgcDBjb29yZCwgcDFjb29yZCwgYmVhcmluZywgcGl0Y2gsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZml0SW50ZXJuYWwoY2FtZXJhUGxhY2VtZW50LCBvcHRpb25zLCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIF9maXRJbnRlcm5hbChjYWxjdWxhdGVkT3B0aW9ucz86ID9FYXNpbmdPcHRpb25zLCBvcHRpb25zPzogRWFzaW5nT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIC8vIGNhbWVyYUZvckJvdW5kcyB3YXJucyArIHJldHVybnMgdW5kZWZpbmVkIGlmIHVuYWJsZSB0byBmaXQ6XG4gICAgICAgIGlmICghY2FsY3VsYXRlZE9wdGlvbnMpIHJldHVybiB0aGlzO1xuXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoY2FsY3VsYXRlZE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICAvLyBFeHBsaWNpdGx5IHJlbW92ZSB0aGUgcGFkZGluZyBmaWVsZCBiZWNhdXNlLCBjYWxjdWxhdGVkT3B0aW9ucyBhbHJlYWR5IGFjY291bnRzIGZvciBwYWRkaW5nIGJ5IHNldHRpbmcgem9vbSBhbmQgY2VudGVyIGFjY29yZGluZ2x5LlxuICAgICAgICBkZWxldGUgb3B0aW9ucy5wYWRkaW5nO1xuXG4gICAgICAgIHJldHVybiBvcHRpb25zLmxpbmVhciA/XG4gICAgICAgICAgICB0aGlzLmVhc2VUbyhvcHRpb25zLCBldmVudERhdGEpIDpcbiAgICAgICAgICAgIHRoaXMuZmx5VG8ob3B0aW9ucywgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGFueSBjb21iaW5hdGlvbiBvZiBjZW50ZXIsIHpvb20sIGJlYXJpbmcsIGFuZCBwaXRjaCwgd2l0aG91dFxuICAgICAqIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uIFRoZSBtYXAgd2lsbCByZXRhaW4gaXRzIGN1cnJlbnQgdmFsdWVzIGZvciBhbnlcbiAgICAgKiBkZXRhaWxzIG5vdCBzcGVjaWZpZWQgaW4gYG9wdGlvbnNgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge0NhbWVyYU9wdGlvbnN9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpwaXRjaHN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpyb3RhdGVcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Onpvb21cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnBpdGNoXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tZW5kXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpwaXRjaGVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBqdW1wIHRvIGNvb3JkaW5hdGVzIGF0IGN1cnJlbnQgem9vbVxuICAgICAqIG1hcC5qdW1wVG8oe2NlbnRlcjogWzAsIDBdfSk7XG4gICAgICogLy8ganVtcCB3aXRoIHpvb20sIHBpdGNoLCBhbmQgYmVhcmluZyBvcHRpb25zXG4gICAgICogbWFwLmp1bXBUbyh7XG4gICAgICogICAgIGNlbnRlcjogWzAsIDBdLFxuICAgICAqICAgICB6b29tOiA4LFxuICAgICAqICAgICBwaXRjaDogNDUsXG4gICAgICogICAgIGJlYXJpbmc6IDkwXG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogSnVtcCB0byBhIHNlcmllcyBvZiBsb2NhdGlvbnNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2p1bXAtdG8vKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IFVwZGF0ZSBhIGZlYXR1cmUgaW4gcmVhbHRpbWVdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtdXBkYXRlLWZlYXR1cmUvKVxuICAgICAqL1xuICAgIGp1bXBUbyhvcHRpb25zOiBDYW1lcmFPcHRpb25zICYge3ByZWxvYWRPbmx5PzogJFByb3BlcnR5VHlwZTxBbmltYXRpb25PcHRpb25zLCAncHJlbG9hZE9ubHknPn0sIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICBjb25zdCB0ciA9IG9wdGlvbnMucHJlbG9hZE9ubHkgPyB0aGlzLnRyYW5zZm9ybS5jbG9uZSgpIDogdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIGxldCB6b29tQ2hhbmdlZCA9IGZhbHNlLFxuICAgICAgICAgICAgYmVhcmluZ0NoYW5nZWQgPSBmYWxzZSxcbiAgICAgICAgICAgIHBpdGNoQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICgnem9vbScgaW4gb3B0aW9ucyAmJiB0ci56b29tICE9PSArb3B0aW9ucy56b29tKSB7XG4gICAgICAgICAgICB6b29tQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB0ci56b29tID0gK29wdGlvbnMuem9vbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmNlbnRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0ci5jZW50ZXIgPSBMbmdMYXQuY29udmVydChvcHRpb25zLmNlbnRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ2JlYXJpbmcnIGluIG9wdGlvbnMgJiYgdHIuYmVhcmluZyAhPT0gK29wdGlvbnMuYmVhcmluZykge1xuICAgICAgICAgICAgYmVhcmluZ0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHIuYmVhcmluZyA9ICtvcHRpb25zLmJlYXJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ3BpdGNoJyBpbiBvcHRpb25zICYmIHRyLnBpdGNoICE9PSArb3B0aW9ucy5waXRjaCkge1xuICAgICAgICAgICAgcGl0Y2hDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyLnBpdGNoID0gK29wdGlvbnMucGl0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5wYWRkaW5nICE9IG51bGwgJiYgIXRyLmlzUGFkZGluZ0VxdWFsKG9wdGlvbnMucGFkZGluZykpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gRmxvdyBjYW4ndCBpbmZlciB0aGF0IHBhZGRpbmcgaXMgbm90IG51bGwgaGVyZVxuICAgICAgICAgICAgdHIucGFkZGluZyA9IG9wdGlvbnMucGFkZGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnByZWxvYWRPbmx5KSB7XG4gICAgICAgICAgICB0aGlzLl9wcmVsb2FkVGlsZXModHIpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3Zlc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdtb3ZlJywgZXZlbnREYXRhKSk7XG5cbiAgICAgICAgaWYgKHpvb21DaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd6b29tc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnem9vbScsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCd6b29tZW5kJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmVhcmluZ0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZXN0YXJ0JywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZScsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdyb3RhdGVlbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwaXRjaENoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3BpdGNoc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncGl0Y2gnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncGl0Y2hlbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3ZlZW5kJywgZXZlbnREYXRhKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gb2YgdGhlIGNhbWVyYSBlbnRpdHkuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGZvciBwcm9qZWN0aW9ucyBvdGhlciB0aGFuIG1lcmNhdG9yLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcmV0dXJucyB7RnJlZUNhbWVyYU9wdGlvbnN9IFRoZSBjYW1lcmEgc3RhdGUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYW1lcmEgPSBtYXAuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTtcbiAgICAgKlxuICAgICAqIGNvbnN0IHBvc2l0aW9uID0gWzEzOC43MjY0OSwgMzUuMzM5NzRdO1xuICAgICAqIGNvbnN0IGFsdGl0dWRlID0gMzAwMDtcbiAgICAgKlxuICAgICAqIGNhbWVyYS5wb3NpdGlvbiA9IG1hcGJveGdsLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHBvc2l0aW9uLCBhbHRpdHVkZSk7XG4gICAgICogY2FtZXJhLmxvb2tBdFBvaW50KFsxMzguNzMwMzYsIDM1LjM2MTk3XSk7XG4gICAgICpcbiAgICAgKiBtYXAuc2V0RnJlZUNhbWVyYU9wdGlvbnMoY2FtZXJhKTtcbiAgICAgKi9cbiAgICBnZXRGcmVlQ2FtZXJhT3B0aW9ucygpOiBGcmVlQ2FtZXJhT3B0aW9ucyB7XG4gICAgICAgIGlmICghdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZyZWVDYW1lcmEpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKGZyZWVDYW1lcmFOb3RTdXBwb3J0ZWRXYXJuaW5nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBgRnJlZUNhbWVyYU9wdGlvbnNgIHByb3ZpZGVzIG1vcmUgZGlyZWN0IGFjY2VzcyB0byB0aGUgdW5kZXJseWluZyBjYW1lcmEgZW50aXR5LlxuICAgICAqIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0aGUgc3RhdGUgc2V0IHVzaW5nIHRoaXMgQVBJIG11c3QgYmUgcmVwcmVzZW50YWJsZSB3aXRoXG4gICAgICogYENhbWVyYU9wdGlvbnNgIGFzIHdlbGwuIFBhcmFtZXRlcnMgYXJlIGNsYW1wZWQgaW50byBhIHZhbGlkIHJhbmdlIG9yIGRpc2NhcmRlZCBhcyBpbnZhbGlkXG4gICAgICogaWYgdGhlIGNvbnZlcnNpb24gdG8gdGhlIHBpdGNoIGFuZCBiZWFyaW5nIHByZXNlbnRhdGlvbiBpcyBhbWJpZ3VvdXMuIEZvciBleGFtcGxlIG9yaWVudGF0aW9uXG4gICAgICogY2FuIGJlIGludmFsaWQgaWYgaXQgbGVhZHMgdG8gdGhlIGNhbWVyYSBiZWluZyB1cHNpZGUgZG93biwgdGhlIHF1YXRlcm5pb24gaGFzIHplcm8gbGVuZ3RoLFxuICAgICAqIG9yIHRoZSBwaXRjaCBpcyBvdmVyIHRoZSBtYXhpbXVtIHBpdGNoIGxpbWl0LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBmb3IgcHJvamVjdGlvbnMgb3RoZXIgdGhhbiBtZXJjYXRvci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtGcmVlQ2FtZXJhT3B0aW9uc30gb3B0aW9ucyBgRnJlZUNhbWVyYU9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnBpdGNoc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnJvdGF0ZVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6cGl0Y2hcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Onpvb21lbmRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnBpdGNoZW5kXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNhbWVyYSA9IG1hcC5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpO1xuICAgICAqXG4gICAgICogY29uc3QgcG9zaXRpb24gPSBbMTM4LjcyNjQ5LCAzNS4zMzk3NF07XG4gICAgICogY29uc3QgYWx0aXR1ZGUgPSAzMDAwO1xuICAgICAqXG4gICAgICogY2FtZXJhLnBvc2l0aW9uID0gbWFwYm94Z2wuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQocG9zaXRpb24sIGFsdGl0dWRlKTtcbiAgICAgKiBjYW1lcmEubG9va0F0UG9pbnQoWzEzOC43MzAzNiwgMzUuMzYxOTddKTtcbiAgICAgKlxuICAgICAqIG1hcC5zZXRGcmVlQ2FtZXJhT3B0aW9ucyhjYW1lcmEpO1xuICAgICAqL1xuICAgIHNldEZyZWVDYW1lcmFPcHRpb25zKG9wdGlvbnM6IEZyZWVDYW1lcmFPcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpOiB0aGlzIHtcbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLnRyYW5zZm9ybTtcblxuICAgICAgICBpZiAoIXRyLnByb2plY3Rpb24uc3VwcG9ydHNGcmVlQ2FtZXJhKSB7XG4gICAgICAgICAgICB3YXJuT25jZShmcmVlQ2FtZXJhTm90U3VwcG9ydGVkV2FybmluZyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIGNvbnN0IHByZXZab29tID0gdHIuem9vbTtcbiAgICAgICAgY29uc3QgcHJldlBpdGNoID0gdHIucGl0Y2g7XG4gICAgICAgIGNvbnN0IHByZXZCZWFyaW5nID0gdHIuYmVhcmluZztcblxuICAgICAgICB0ci5zZXRGcmVlQ2FtZXJhT3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICBjb25zdCB6b29tQ2hhbmdlZCA9IHByZXZab29tICE9PSB0ci56b29tO1xuICAgICAgICBjb25zdCBwaXRjaENoYW5nZWQgPSBwcmV2UGl0Y2ggIT09IHRyLnBpdGNoO1xuICAgICAgICBjb25zdCBiZWFyaW5nQ2hhbmdlZCA9IHByZXZCZWFyaW5nICE9PSB0ci5iZWFyaW5nO1xuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCBldmVudERhdGEpKTtcblxuICAgICAgICBpZiAoem9vbUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb21zdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCd6b29tJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3pvb21lbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiZWFyaW5nQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncm90YXRlc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncm90YXRlJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBpdGNoQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncGl0Y2hzdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdwaXRjaCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdwaXRjaGVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnbW92ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGFueSBjb21iaW5hdGlvbiBvZiBgY2VudGVyYCwgYHpvb21gLCBgYmVhcmluZ2AsIGBwaXRjaGAsIGFuZCBgcGFkZGluZ2Agd2l0aCBhbiBhbmltYXRlZCB0cmFuc2l0aW9uXG4gICAgICogYmV0d2VlbiBvbGQgYW5kIG5ldyB2YWx1ZXMuIFRoZSBtYXAgd2lsbCByZXRhaW4gaXRzIGN1cnJlbnQgdmFsdWVzIGZvciBhbnlcbiAgICAgKiBkZXRhaWxzIG5vdCBzcGVjaWZpZWQgaW4gYG9wdGlvbnNgLlxuICAgICAqXG4gICAgICogTm90ZTogVGhlIHRyYW5zaXRpb24gd2lsbCBoYXBwZW4gaW5zdGFudGx5IGlmIHRoZSB1c2VyIGhhcyBlbmFibGVkXG4gICAgICogdGhlIGByZWR1Y2VkIG1vdGlvbmAgYWNjZXNzaWJpbGl0eSBmZWF0dXJlIGVuYWJsZWQgaW4gdGhlaXIgb3BlcmF0aW5nIHN5c3RlbSxcbiAgICAgKiB1bmxlc3MgYG9wdGlvbnNgIGluY2x1ZGVzIGBlc3NlbnRpYWw6IHRydWVgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge0Vhc2luZ09wdGlvbnN9IG9wdGlvbnMgT3B0aW9ucyBkZXNjcmliaW5nIHRoZSBkZXN0aW5hdGlvbiBhbmQgYW5pbWF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uLlxuICAgICAqICAgICAgICAgICAgQWNjZXB0cyB7QGxpbmsgQ2FtZXJhT3B0aW9uc30gYW5kIHtAbGluayBBbmltYXRpb25PcHRpb25zfS5cbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnBpdGNoc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnJvdGF0ZVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6cGl0Y2hcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Onpvb21lbmRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnBpdGNoZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgIFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBFYXNlIHdpdGggZGVmYXVsdCBvcHRpb25zIHRvIG51bGwgaXNsYW5kIGZvciA1IHNlY29uZHMuXG4gICAgICogbWFwLmVhc2VUbyh7Y2VudGVyOiBbMCwgMF0sIHpvb206IDksIGR1cmF0aW9uOiA1MDAwfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBVc2luZyBlYXNlVG8gb3B0aW9ucy5cbiAgICAgKiBtYXAuZWFzZVRvKHtcbiAgICAgKiAgICAgY2VudGVyOiBbMCwgMF0sXG4gICAgICogICAgIHpvb206IDksXG4gICAgICogICAgIHNwZWVkOiAwLjIsXG4gICAgICogICAgIGN1cnZlOiAxLFxuICAgICAqICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgKiAgICAgZWFzaW5nKHQpIHtcbiAgICAgKiAgICAgICAgIHJldHVybiB0O1xuICAgICAqICAgICB9XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogTmF2aWdhdGUgdGhlIG1hcCB3aXRoIGdhbWUtbGlrZSBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nYW1lLWNvbnRyb2xzLylcbiAgICAgKi9cbiAgICBlYXNlVG8ob3B0aW9uczogRWFzaW5nT3B0aW9ucyAmIHtlYXNlSWQ/OiBzdHJpbmd9LCBldmVudERhdGE/OiBPYmplY3QpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fc3RvcChmYWxzZSwgb3B0aW9ucy5lYXNlSWQpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe1xuICAgICAgICAgICAgb2Zmc2V0OiBbMCwgMF0sXG4gICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgICAgICAgICAgZWFzaW5nOiBkZWZhdWx0RWFzaW5nXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGUgPT09IGZhbHNlIHx8ICghb3B0aW9ucy5lc3NlbnRpYWwgJiYgYnJvd3Nlci5wcmVmZXJzUmVkdWNlZE1vdGlvbikpIG9wdGlvbnMuZHVyYXRpb24gPSAwO1xuXG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy50cmFuc2Zvcm0sXG4gICAgICAgICAgICBzdGFydFpvb20gPSB0aGlzLmdldFpvb20oKSxcbiAgICAgICAgICAgIHN0YXJ0QmVhcmluZyA9IHRoaXMuZ2V0QmVhcmluZygpLFxuICAgICAgICAgICAgc3RhcnRQaXRjaCA9IHRoaXMuZ2V0UGl0Y2goKSxcbiAgICAgICAgICAgIHN0YXJ0UGFkZGluZyA9IHRoaXMuZ2V0UGFkZGluZygpLFxuXG4gICAgICAgICAgICB6b29tID0gJ3pvb20nIGluIG9wdGlvbnMgPyArb3B0aW9ucy56b29tIDogc3RhcnRab29tLFxuICAgICAgICAgICAgYmVhcmluZyA9ICdiZWFyaW5nJyBpbiBvcHRpb25zID8gdGhpcy5fbm9ybWFsaXplQmVhcmluZyhvcHRpb25zLmJlYXJpbmcsIHN0YXJ0QmVhcmluZykgOiBzdGFydEJlYXJpbmcsXG4gICAgICAgICAgICBwaXRjaCA9ICdwaXRjaCcgaW4gb3B0aW9ucyA/ICtvcHRpb25zLnBpdGNoIDogc3RhcnRQaXRjaCxcbiAgICAgICAgICAgIHBhZGRpbmcgPSAncGFkZGluZycgaW4gb3B0aW9ucyA/IG9wdGlvbnMucGFkZGluZyA6IHRyLnBhZGRpbmc7XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0QXNQb2ludCA9IFBvaW50LmNvbnZlcnQob3B0aW9ucy5vZmZzZXQpO1xuXG4gICAgICAgIGxldCBwb2ludEF0T2Zmc2V0O1xuICAgICAgICBsZXQgZnJvbTtcbiAgICAgICAgbGV0IGRlbHRhO1xuXG4gICAgICAgIGlmICh0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScpIHtcbiAgICAgICAgICAgIC8vIFBpeGVsIGNvb3JkaW5hdGVzIHdpbGwgYmUgYXBwbGllZCBkaXJlY3RseSB0byB0cmFuc2xhdGUgdGhlIGdsb2JlXG4gICAgICAgICAgICBjb25zdCBjZW50ZXJDb29yZCA9IE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHRyLmNlbnRlcik7XG5cbiAgICAgICAgICAgIGNvbnN0IHJvdGF0ZWRPZmZzZXQgPSBvZmZzZXRBc1BvaW50LnJvdGF0ZSgtdHIuYW5nbGUpO1xuICAgICAgICAgICAgY2VudGVyQ29vcmQueCArPSByb3RhdGVkT2Zmc2V0LnggLyB0ci53b3JsZFNpemU7XG4gICAgICAgICAgICBjZW50ZXJDb29yZC55ICs9IHJvdGF0ZWRPZmZzZXQueSAvIHRyLndvcmxkU2l6ZTtcblxuICAgICAgICAgICAgY29uc3QgbG9jYXRpb25BdE9mZnNldCA9IGNlbnRlckNvb3JkLnRvTG5nTGF0KCk7XG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSBMbmdMYXQuY29udmVydChvcHRpb25zLmNlbnRlciB8fCBsb2NhdGlvbkF0T2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbGl6ZUNlbnRlcihjZW50ZXIpO1xuXG4gICAgICAgICAgICBwb2ludEF0T2Zmc2V0ID0gdHIuY2VudGVyUG9pbnQuYWRkKHJvdGF0ZWRPZmZzZXQpO1xuICAgICAgICAgICAgZnJvbSA9IG5ldyBQb2ludChjZW50ZXJDb29yZC54LCBjZW50ZXJDb29yZC55KS5tdWx0KHRyLndvcmxkU2l6ZSk7XG4gICAgICAgICAgICBkZWx0YSA9IG5ldyBQb2ludChtZXJjYXRvclhmcm9tTG5nKGNlbnRlci5sbmcpLCBtZXJjYXRvcllmcm9tTGF0KGNlbnRlci5sYXQpKS5tdWx0KHRyLndvcmxkU2l6ZSkuc3ViKGZyb20pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRBdE9mZnNldCA9IHRyLmNlbnRlclBvaW50LmFkZChvZmZzZXRBc1BvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uQXRPZmZzZXQgPSB0ci5wb2ludExvY2F0aW9uKHBvaW50QXRPZmZzZXQpO1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gTG5nTGF0LmNvbnZlcnQob3B0aW9ucy5jZW50ZXIgfHwgbG9jYXRpb25BdE9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxpemVDZW50ZXIoY2VudGVyKTtcblxuICAgICAgICAgICAgZnJvbSA9IHRyLnByb2plY3QobG9jYXRpb25BdE9mZnNldCk7XG4gICAgICAgICAgICBkZWx0YSA9IHRyLnByb2plY3QoY2VudGVyKS5zdWIoZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmluYWxTY2FsZSA9IHRyLnpvb21TY2FsZSh6b29tIC0gc3RhcnRab29tKTtcblxuICAgICAgICBsZXQgYXJvdW5kLCBhcm91bmRQb2ludDtcblxuICAgICAgICBpZiAob3B0aW9ucy5hcm91bmQpIHtcbiAgICAgICAgICAgIGFyb3VuZCA9IExuZ0xhdC5jb252ZXJ0KG9wdGlvbnMuYXJvdW5kKTtcbiAgICAgICAgICAgIGFyb3VuZFBvaW50ID0gdHIubG9jYXRpb25Qb2ludChhcm91bmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgem9vbUNoYW5nZWQgPSB0aGlzLl96b29taW5nIHx8ICh6b29tICE9PSBzdGFydFpvb20pO1xuICAgICAgICBjb25zdCBiZWFyaW5nQ2hhbmdlZCA9IHRoaXMuX3JvdGF0aW5nIHx8IChzdGFydEJlYXJpbmcgIT09IGJlYXJpbmcpO1xuICAgICAgICBjb25zdCBwaXRjaENoYW5nZWQgPSB0aGlzLl9waXRjaGluZyB8fCAocGl0Y2ggIT09IHN0YXJ0UGl0Y2gpO1xuICAgICAgICBjb25zdCBwYWRkaW5nQ2hhbmdlZCA9ICF0ci5pc1BhZGRpbmdFcXVhbChwYWRkaW5nKTtcblxuICAgICAgICBjb25zdCBmcmFtZSA9ICh0cikgPT4gKGspID0+IHtcbiAgICAgICAgICAgIGlmICh6b29tQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRyLnpvb20gPSBpbnRlcnBvbGF0ZShzdGFydFpvb20sIHpvb20sIGspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJlYXJpbmdDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdHIuYmVhcmluZyA9IGludGVycG9sYXRlKHN0YXJ0QmVhcmluZywgYmVhcmluZywgayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGl0Y2hDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdHIucGl0Y2ggPSBpbnRlcnBvbGF0ZShzdGFydFBpdGNoLCBwaXRjaCwgayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFkZGluZ0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0ci5pbnRlcnBvbGF0ZVBhZGRpbmcoc3RhcnRQYWRkaW5nLCBwYWRkaW5nLCBrKTtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHBhZGRpbmcgaXMgYmVpbmcgYXBwbGllZCwgVHJhbnNmb3JtI2NlbnRlclBvaW50IGlzIGNoYW5naW5nIGNvbnRpbnVvdXNseSxcbiAgICAgICAgICAgICAgICAvLyB0aHVzIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGUgb2Zmc2V0UG9pbnQgZXZlcnkgZnJhLGVcbiAgICAgICAgICAgICAgICBwb2ludEF0T2Zmc2V0ID0gdHIuY2VudGVyUG9pbnQuYWRkKG9mZnNldEFzUG9pbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXJvdW5kKSB7XG4gICAgICAgICAgICAgICAgdHIuc2V0TG9jYXRpb25BdFBvaW50KGFyb3VuZCwgYXJvdW5kUG9pbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IHRyLnpvb21TY2FsZSh0ci56b29tIC0gc3RhcnRab29tKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gem9vbSA+IHN0YXJ0Wm9vbSA/XG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWluKDIsIGZpbmFsU2NhbGUpIDpcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoMC41LCBmaW5hbFNjYWxlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGVlZHVwID0gTWF0aC5wb3coYmFzZSwgMSAtIGspO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NlbnRlciA9IHRyLnVucHJvamVjdChmcm9tLmFkZChkZWx0YS5tdWx0KGsgKiBzcGVlZHVwKSkubXVsdChzY2FsZSkpO1xuICAgICAgICAgICAgICAgIHRyLnNldExvY2F0aW9uQXRQb2ludCh0ci5yZW5kZXJXb3JsZENvcGllcyA/IG5ld0NlbnRlci53cmFwKCkgOiBuZXdDZW50ZXIsIHBvaW50QXRPZmZzZXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucHJlbG9hZE9ubHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlTW92ZUV2ZW50cyhldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHI7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucHJlbG9hZE9ubHkpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZWRpY3RlZFRyYW5zZm9ybXMgPSB0aGlzLl9lbXVsYXRlKGZyYW1lLCBvcHRpb25zLmR1cmF0aW9uLCB0cik7XG4gICAgICAgICAgICB0aGlzLl9wcmVsb2FkVGlsZXMocHJlZGljdGVkVHJhbnNmb3Jtcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRseSA9IHtcbiAgICAgICAgICAgIG1vdmluZzogdGhpcy5fbW92aW5nLFxuICAgICAgICAgICAgem9vbWluZzogdGhpcy5fem9vbWluZyxcbiAgICAgICAgICAgIHJvdGF0aW5nOiB0aGlzLl9yb3RhdGluZyxcbiAgICAgICAgICAgIHBpdGNoaW5nOiB0aGlzLl9waXRjaGluZ1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX3pvb21pbmcgPSB6b29tQ2hhbmdlZDtcbiAgICAgICAgdGhpcy5fcm90YXRpbmcgPSBiZWFyaW5nQ2hhbmdlZDtcbiAgICAgICAgdGhpcy5fcGl0Y2hpbmcgPSBwaXRjaENoYW5nZWQ7XG4gICAgICAgIHRoaXMuX3BhZGRpbmcgPSBwYWRkaW5nQ2hhbmdlZDtcblxuICAgICAgICB0aGlzLl9lYXNlSWQgPSBvcHRpb25zLmVhc2VJZDtcbiAgICAgICAgdGhpcy5fcHJlcGFyZUVhc2UoZXZlbnREYXRhLCBvcHRpb25zLm5vTW92ZVN0YXJ0LCBjdXJyZW50bHkpO1xuXG4gICAgICAgIHRoaXMuX2Vhc2UoZnJhbWUodHIpLCAoaW50ZXJydXB0aW5nRWFzZUlkPzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICB0ci5yZWNlbnRlck9uVGVycmFpbigpO1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJFYXNlKGV2ZW50RGF0YSwgaW50ZXJydXB0aW5nRWFzZUlkKTtcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX3ByZXBhcmVFYXNlKGV2ZW50RGF0YT86IE9iamVjdCwgbm9Nb3ZlU3RhcnQ6IGJvb2xlYW4sIGN1cnJlbnRseTogT2JqZWN0ID0ge30pIHtcbiAgICAgICAgdGhpcy5fbW92aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlID0gXCJzZWFcIjtcblxuICAgICAgICBpZiAoIW5vTW92ZVN0YXJ0ICYmICFjdXJyZW50bHkubW92aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3Zlc3RhcnQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fem9vbWluZyAmJiAhY3VycmVudGx5Lnpvb21pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb21zdGFydCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yb3RhdGluZyAmJiAhY3VycmVudGx5LnJvdGF0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyb3RhdGVzdGFydCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9waXRjaGluZyAmJiAhY3VycmVudGx5LnBpdGNoaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdwaXRjaHN0YXJ0JywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZmlyZU1vdmVFdmVudHMoZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCBldmVudERhdGEpKTtcbiAgICAgICAgaWYgKHRoaXMuX3pvb21pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb20nLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcm90YXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZScsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9waXRjaGluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncGl0Y2gnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9hZnRlckVhc2UoZXZlbnREYXRhPzogT2JqZWN0LCBlYXNlSWQ/OiBzdHJpbmcpIHtcbiAgICAgICAgLy8gaWYgdGhpcyBlYXNpbmcgaXMgYmVpbmcgc3RvcHBlZCB0byBzdGFydCBhbm90aGVyIGVhc2luZyB3aXRoXG4gICAgICAgIC8vIHRoZSBzYW1lIGlkIHRoZW4gZG9uJ3QgZmlyZSBhbnkgZXZlbnRzIHRvIGF2b2lkIGV4dHJhIHN0YXJ0L3N0b3AgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLl9lYXNlSWQgJiYgZWFzZUlkICYmIHRoaXMuX2Vhc2VJZCA9PT0gZWFzZUlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWFzZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2UgPSBcImdyb3VuZFwiO1xuXG4gICAgICAgIGNvbnN0IHdhc1pvb21pbmcgPSB0aGlzLl96b29taW5nO1xuICAgICAgICBjb25zdCB3YXNSb3RhdGluZyA9IHRoaXMuX3JvdGF0aW5nO1xuICAgICAgICBjb25zdCB3YXNQaXRjaGluZyA9IHRoaXMuX3BpdGNoaW5nO1xuICAgICAgICB0aGlzLl9tb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fem9vbWluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yb3RhdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9waXRjaGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYWRkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHdhc1pvb21pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb21lbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2FzUm90YXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3YXNQaXRjaGluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncGl0Y2hlbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3ZlZW5kJywgZXZlbnREYXRhKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBhbnkgY29tYmluYXRpb24gb2YgY2VudGVyLCB6b29tLCBiZWFyaW5nLCBhbmQgcGl0Y2gsIGFuaW1hdGluZyB0aGUgdHJhbnNpdGlvbiBhbG9uZyBhIGN1cnZlIHRoYXRcbiAgICAgKiBldm9rZXMgZmxpZ2h0LiBUaGUgYW5pbWF0aW9uIHNlYW1sZXNzbHkgaW5jb3Jwb3JhdGVzIHpvb21pbmcgYW5kIHBhbm5pbmcgdG8gaGVscFxuICAgICAqIHRoZSB1c2VyIG1haW50YWluIHRoZWlyIGJlYXJpbmdzIGV2ZW4gYWZ0ZXIgdHJhdmVyc2luZyBhIGdyZWF0IGRpc3RhbmNlLlxuICAgICAqXG4gICAgICogSWYgYSB1c2VyIGhhcyB0aGUgYHJlZHVjZWQgbW90aW9uYCBhY2Nlc3NpYmlsaXR5IGZlYXR1cmUgZW5hYmxlZCBpbiB0aGVpclxuICAgICAqIG9wZXJhdGluZyBzeXN0ZW0sIHRoZSBhbmltYXRpb24gd2lsbCBiZSBza2lwcGVkIGFuZCB0aGlzIHdpbGwgYmVoYXZlXG4gICAgICogZXF1aXZhbGVudGx5IHRvIGBqdW1wVG9gLCB1bmxlc3MgJ29wdGlvbnMnIGluY2x1ZGVzIGBlc3NlbnRpYWw6IHRydWVgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIGRlc2NyaWJpbmcgdGhlIGRlc3RpbmF0aW9uIGFuZCBhbmltYXRpb24gb2YgdGhlIHRyYW5zaXRpb24uXG4gICAgICogICAgIEFjY2VwdHMge0BsaW5rIENhbWVyYU9wdGlvbnN9LCB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30sXG4gICAgICogICAgIGFuZCB0aGUgZm9sbG93aW5nIGFkZGl0aW9uYWwgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY3VydmU9MS40Ml0gVGhlIHpvb21pbmcgXCJjdXJ2ZVwiIHRoYXQgd2lsbCBvY2N1ciBhbG9uZyB0aGVcbiAgICAgKiAgICAgZmxpZ2h0IHBhdGguIEEgaGlnaCB2YWx1ZSBtYXhpbWl6ZXMgem9vbWluZyBmb3IgYW4gZXhhZ2dlcmF0ZWQgYW5pbWF0aW9uLCB3aGlsZSBhIGxvd1xuICAgICAqICAgICB2YWx1ZSBtaW5pbWl6ZXMgem9vbWluZyBmb3IgYW4gZWZmZWN0IGNsb3NlciB0byB7QGxpbmsgTWFwI2Vhc2VUb30uIDEuNDIgaXMgdGhlIGF2ZXJhZ2VcbiAgICAgKiAgICAgdmFsdWUgc2VsZWN0ZWQgYnkgcGFydGljaXBhbnRzIGluIHRoZSB1c2VyIHN0dWR5IGRpc2N1c3NlZCBpblxuICAgICAqICAgICBbdmFuIFdpamsgKDIwMDMpXShodHRwczovL3d3dy53aW4udHVlLm5sL352YW53aWprL3pvb21wYW4ucGRmKS4gQSB2YWx1ZSBvZlxuICAgICAqICAgICBgTWF0aC5wb3coNiwgMC4yNSlgIHdvdWxkIGJlIGVxdWl2YWxlbnQgdG8gdGhlIHJvb3QgbWVhbiBzcXVhcmVkIGF2ZXJhZ2UgdmVsb2NpdHkuIEFcbiAgICAgKiAgICAgdmFsdWUgb2YgMSB3b3VsZCBwcm9kdWNlIGEgY2lyY3VsYXIgbW90aW9uLiBJZiBgb3B0aW9ucy5taW5ab29tYCBpcyBzcGVjaWZpZWQsIHRoaXMgb3B0aW9uIHdpbGwgYmUgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluWm9vbV0gVGhlIHplcm8tYmFzZWQgem9vbSBsZXZlbCBhdCB0aGUgcGVhayBvZiB0aGUgZmxpZ2h0IHBhdGguIElmXG4gICAgICogICAgIHRoaXMgb3B0aW9uIGlzIHNwZWNpZmllZCwgYG9wdGlvbnMuY3VydmVgIHdpbGwgYmUgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3BlZWQ9MS4yXSBUaGUgYXZlcmFnZSBzcGVlZCBvZiB0aGUgYW5pbWF0aW9uIGRlZmluZWQgaW4gcmVsYXRpb24gdG9cbiAgICAgKiAgICAgYG9wdGlvbnMuY3VydmVgLiBBIHNwZWVkIG9mIDEuMiBtZWFucyB0aGF0IHRoZSBtYXAgYXBwZWFycyB0byBtb3ZlIGFsb25nIHRoZSBmbGlnaHQgcGF0aFxuICAgICAqICAgICBieSAxLjIgdGltZXMgYG9wdGlvbnMuY3VydmVgIHNjcmVlbmZ1bHMgZXZlcnkgc2Vjb25kLiBBIF9zY3JlZW5mdWxfIGlzIHRoZSBtYXAncyB2aXNpYmxlIHNwYW4uXG4gICAgICogICAgIEl0IGRvZXMgbm90IGNvcnJlc3BvbmQgdG8gYSBmaXhlZCBwaHlzaWNhbCBkaXN0YW5jZSwgYnV0IHZhcmllcyBieSB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY3JlZW5TcGVlZF0gVGhlIGF2ZXJhZ2Ugc3BlZWQgb2YgdGhlIGFuaW1hdGlvbiBtZWFzdXJlZCBpbiBzY3JlZW5mdWxzXG4gICAgICogICAgIHBlciBzZWNvbmQsIGFzc3VtaW5nIGEgbGluZWFyIHRpbWluZyBjdXJ2ZS4gSWYgYG9wdGlvbnMuc3BlZWRgIGlzIHNwZWNpZmllZCwgdGhpcyBvcHRpb24gaXMgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4RHVyYXRpb25dIFRoZSBhbmltYXRpb24ncyBtYXhpbXVtIGR1cmF0aW9uLCBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICogICAgIElmIGR1cmF0aW9uIGV4Y2VlZHMgbWF4aW11bSBkdXJhdGlvbiwgaXQgcmVzZXRzIHRvIDAuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpwaXRjaHN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpyb3RhdGVcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnBpdGNoXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tZW5kXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpwaXRjaGVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBmbHkgd2l0aCBkZWZhdWx0IG9wdGlvbnMgdG8gbnVsbCBpc2xhbmRcbiAgICAgKiBtYXAuZmx5VG8oe2NlbnRlcjogWzAsIDBdLCB6b29tOiA5fSk7XG4gICAgICogLy8gdXNpbmcgZmx5VG8gb3B0aW9uc1xuICAgICAqIG1hcC5mbHlUbyh7XG4gICAgICogICAgIGNlbnRlcjogWzAsIDBdLFxuICAgICAqICAgICB6b29tOiA5LFxuICAgICAqICAgICBzcGVlZDogMC4yLFxuICAgICAqICAgICBjdXJ2ZTogMSxcbiAgICAgKiAgICAgZWFzaW5nKHQpIHtcbiAgICAgKiAgICAgICAgIHJldHVybiB0O1xuICAgICAqICAgICB9XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRmx5IHRvIGEgbG9jYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmx5dG8vKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IFNsb3dseSBmbHkgdG8gYSBsb2NhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mbHl0by1vcHRpb25zLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBGbHkgdG8gYSBsb2NhdGlvbiBiYXNlZCBvbiBzY3JvbGwgcG9zaXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2Nyb2xsLWZseS10by8pXG4gICAgICovXG4gICAgZmx5VG8ob3B0aW9uczogRWFzaW5nT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIC8vIEZhbGwgdGhyb3VnaCB0byBqdW1wVG8gaWYgdXNlciBoYXMgc2V0IHByZWZlcnMtcmVkdWNlZC1tb3Rpb25cbiAgICAgICAgaWYgKCFvcHRpb25zLmVzc2VudGlhbCAmJiBicm93c2VyLnByZWZlcnNSZWR1Y2VkTW90aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBjb2VyY2VkT3B0aW9ucyA9IHBpY2sob3B0aW9ucywgWydjZW50ZXInLCAnem9vbScsICdiZWFyaW5nJywgJ3BpdGNoJywgJ2Fyb3VuZCddKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmp1bXBUbyhjb2VyY2VkT3B0aW9ucywgZXZlbnREYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgbWV0aG9kIGltcGxlbWVudHMgYW4g4oCcb3B0aW1hbCBwYXRo4oCdIGFuaW1hdGlvbiwgYXMgZGV0YWlsZWQgaW46XG4gICAgICAgIC8vXG4gICAgICAgIC8vIFZhbiBXaWprLCBKYXJrZSBKLjsgTnVpaiwgV2ltIEEuIEEuIOKAnFNtb290aCBhbmQgZWZmaWNpZW50IHpvb21pbmcgYW5kIHBhbm5pbmcu4oCdIElORk9WSVNcbiAgICAgICAgLy8gICDigJkwMy4gcHAuIDE14oCTMjIuIDxodHRwczovL3d3dy53aW4udHVlLm5sL352YW53aWprL3pvb21wYW4ucGRmI3BhZ2U9NT4uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdoZXJlIGFwcGxpY2FibGUsIGxvY2FsIHZhcmlhYmxlIGRvY3VtZW50YXRpb24gYmVnaW5zIHdpdGggdGhlIGFzc29jaWF0ZWQgdmFyaWFibGUgb3JcbiAgICAgICAgLy8gZnVuY3Rpb24gaW4gdmFuIFdpamsgKDIwMDMpLlxuXG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe1xuICAgICAgICAgICAgb2Zmc2V0OiBbMCwgMF0sXG4gICAgICAgICAgICBzcGVlZDogMS4yLFxuICAgICAgICAgICAgY3VydmU6IDEuNDIsXG4gICAgICAgICAgICBlYXNpbmc6IGRlZmF1bHRFYXNpbmdcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLnRyYW5zZm9ybSxcbiAgICAgICAgICAgIHN0YXJ0Wm9vbSA9IHRoaXMuZ2V0Wm9vbSgpLFxuICAgICAgICAgICAgc3RhcnRCZWFyaW5nID0gdGhpcy5nZXRCZWFyaW5nKCksXG4gICAgICAgICAgICBzdGFydFBpdGNoID0gdGhpcy5nZXRQaXRjaCgpLFxuICAgICAgICAgICAgc3RhcnRQYWRkaW5nID0gdGhpcy5nZXRQYWRkaW5nKCk7XG5cbiAgICAgICAgY29uc3Qgem9vbSA9ICd6b29tJyBpbiBvcHRpb25zID8gY2xhbXAoK29wdGlvbnMuem9vbSwgdHIubWluWm9vbSwgdHIubWF4Wm9vbSkgOiBzdGFydFpvb207XG4gICAgICAgIGNvbnN0IGJlYXJpbmcgPSAnYmVhcmluZycgaW4gb3B0aW9ucyA/IHRoaXMuX25vcm1hbGl6ZUJlYXJpbmcob3B0aW9ucy5iZWFyaW5nLCBzdGFydEJlYXJpbmcpIDogc3RhcnRCZWFyaW5nO1xuICAgICAgICBjb25zdCBwaXRjaCA9ICdwaXRjaCcgaW4gb3B0aW9ucyA/ICtvcHRpb25zLnBpdGNoIDogc3RhcnRQaXRjaDtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9ICdwYWRkaW5nJyBpbiBvcHRpb25zID8gb3B0aW9ucy5wYWRkaW5nIDogdHIucGFkZGluZztcblxuICAgICAgICBjb25zdCBzY2FsZSA9IHRyLnpvb21TY2FsZSh6b29tIC0gc3RhcnRab29tKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0QXNQb2ludCA9IFBvaW50LmNvbnZlcnQob3B0aW9ucy5vZmZzZXQpO1xuICAgICAgICBsZXQgcG9pbnRBdE9mZnNldCA9IHRyLmNlbnRlclBvaW50LmFkZChvZmZzZXRBc1BvaW50KTtcbiAgICAgICAgY29uc3QgbG9jYXRpb25BdE9mZnNldCA9IHRyLnBvaW50TG9jYXRpb24ocG9pbnRBdE9mZnNldCk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IExuZ0xhdC5jb252ZXJ0KG9wdGlvbnMuY2VudGVyIHx8IGxvY2F0aW9uQXRPZmZzZXQpO1xuICAgICAgICB0aGlzLl9ub3JtYWxpemVDZW50ZXIoY2VudGVyKTtcblxuICAgICAgICBjb25zdCBmcm9tID0gdHIucHJvamVjdChsb2NhdGlvbkF0T2Zmc2V0KTtcbiAgICAgICAgY29uc3QgZGVsdGEgPSB0ci5wcm9qZWN0KGNlbnRlcikuc3ViKGZyb20pO1xuXG4gICAgICAgIGxldCByaG8gPSBvcHRpb25zLmN1cnZlO1xuXG4gICAgICAgIC8vIHfigoA6IEluaXRpYWwgdmlzaWJsZSBzcGFuLCBtZWFzdXJlZCBpbiBwaXhlbHMgYXQgdGhlIGluaXRpYWwgc2NhbGUuXG4gICAgICAgIGNvbnN0IHcwID0gTWF0aC5tYXgodHIud2lkdGgsIHRyLmhlaWdodCksXG4gICAgICAgICAgICAvLyB34oKBOiBGaW5hbCB2aXNpYmxlIHNwYW4sIG1lYXN1cmVkIGluIHBpeGVscyB3aXRoIHJlc3BlY3QgdG8gdGhlIGluaXRpYWwgc2NhbGUuXG4gICAgICAgICAgICB3MSA9IHcwIC8gc2NhbGUsXG4gICAgICAgICAgICAvLyBMZW5ndGggb2YgdGhlIGZsaWdodCBwYXRoIGFzIHByb2plY3RlZCBvbnRvIHRoZSBncm91bmQgcGxhbmUsIG1lYXN1cmVkIGluIHBpeGVscyBmcm9tXG4gICAgICAgICAgICAvLyB0aGUgd29ybGQgaW1hZ2Ugb3JpZ2luIGF0IHRoZSBpbml0aWFsIHNjYWxlLlxuICAgICAgICAgICAgdTEgPSBkZWx0YS5tYWcoKTtcblxuICAgICAgICBpZiAoJ21pblpvb20nIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pblpvb20gPSBjbGFtcChNYXRoLm1pbihvcHRpb25zLm1pblpvb20sIHN0YXJ0Wm9vbSwgem9vbSksIHRyLm1pblpvb20sIHRyLm1heFpvb20pO1xuICAgICAgICAgICAgLy8gdzxzdWI+bTwvc3ViPjogTWF4aW11bSB2aXNpYmxlIHNwYW4sIG1lYXN1cmVkIGluIHBpeGVscyB3aXRoIHJlc3BlY3QgdG8gdGhlIGluaXRpYWxcbiAgICAgICAgICAgIC8vIHNjYWxlLlxuICAgICAgICAgICAgY29uc3Qgd01heCA9IHcwIC8gdHIuem9vbVNjYWxlKG1pblpvb20gLSBzdGFydFpvb20pO1xuICAgICAgICAgICAgcmhvID0gTWF0aC5zcXJ0KHdNYXggLyB1MSAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gz4HCslxuICAgICAgICBjb25zdCByaG8yID0gcmhvICogcmhvO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBy4bWiOiBSZXR1cm5zIHRoZSB6b29tLW91dCBmYWN0b3IgYXQgb25lIGVuZCBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gaSAwIGZvciB0aGUgYXNjZW50IG9yIDEgZm9yIHRoZSBkZXNjZW50LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcihpKSB7XG4gICAgICAgICAgICBjb25zdCBiID0gKHcxICogdzEgLSB3MCAqIHcwICsgKGkgPyAtMSA6IDEpICogcmhvMiAqIHJobzIgKiB1MSAqIHUxKSAvICgyICogKGkgPyB3MSA6IHcwKSAqIHJobzIgKiB1MSk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5sb2coTWF0aC5zcXJ0KGIgKiBiICsgMSkgLSBiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNpbmgobikgeyByZXR1cm4gKE1hdGguZXhwKG4pIC0gTWF0aC5leHAoLW4pKSAvIDI7IH1cbiAgICAgICAgZnVuY3Rpb24gY29zaChuKSB7IHJldHVybiAoTWF0aC5leHAobikgKyBNYXRoLmV4cCgtbikpIC8gMjsgfVxuICAgICAgICBmdW5jdGlvbiB0YW5oKG4pIHsgcmV0dXJuIHNpbmgobikgLyBjb3NoKG4pOyB9XG5cbiAgICAgICAgLy8gcuKCgDogWm9vbS1vdXQgZmFjdG9yIGR1cmluZyBhc2NlbnQuXG4gICAgICAgIGNvbnN0IHIwID0gcigwKTtcblxuICAgICAgICAvLyB3KHMpOiBSZXR1cm5zIHRoZSB2aXNpYmxlIHNwYW4gb24gdGhlIGdyb3VuZCwgbWVhc3VyZWQgaW4gcGl4ZWxzIHdpdGggcmVzcGVjdCB0byB0aGVcbiAgICAgICAgLy8gaW5pdGlhbCBzY2FsZS4gQXNzdW1lcyBhbiBhbmd1bGFyIGZpZWxkIG9mIHZpZXcgb2YgMiBhcmN0YW4gwr0g4omIIDUzwrAuXG4gICAgICAgIGxldCB3OiAoXzogbnVtYmVyKSA9PiBudW1iZXIgPSBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIChjb3NoKHIwKSAvIGNvc2gocjAgKyByaG8gKiBzKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gdShzKTogUmV0dXJucyB0aGUgZGlzdGFuY2UgYWxvbmcgdGhlIGZsaWdodCBwYXRoIGFzIHByb2plY3RlZCBvbnRvIHRoZSBncm91bmQgcGxhbmUsXG4gICAgICAgIC8vIG1lYXN1cmVkIGluIHBpeGVscyBmcm9tIHRoZSB3b3JsZCBpbWFnZSBvcmlnaW4gYXQgdGhlIGluaXRpYWwgc2NhbGUuXG4gICAgICAgIGxldCB1OiAoXzogbnVtYmVyKSA9PiBudW1iZXIgPSBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIHcwICogKChjb3NoKHIwKSAqIHRhbmgocjAgKyByaG8gKiBzKSAtIHNpbmgocjApKSAvIHJobzIpIC8gdTE7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUzogVG90YWwgbGVuZ3RoIG9mIHRoZSBmbGlnaHQgcGF0aCwgbWVhc3VyZWQgaW4gz4Etc2NyZWVuZnVscy5cbiAgICAgICAgbGV0IFMgPSAocigxKSAtIHIwKSAvIHJobztcblxuICAgICAgICAvLyBXaGVuIHXigoAgPSB14oKBLCB0aGUgb3B0aW1hbCBwYXRoIGRvZXNu4oCZdCByZXF1aXJlIGJvdGggYXNjZW50IGFuZCBkZXNjZW50LlxuICAgICAgICBpZiAoTWF0aC5hYnModTEpIDwgMC4wMDAwMDEgfHwgIWlzRmluaXRlKFMpKSB7XG4gICAgICAgICAgICAvLyBQZXJmb3JtIGEgbW9yZSBvciBsZXNzIGluc3RhbnRhbmVvdXMgdHJhbnNpdGlvbiBpZiB0aGUgcGF0aCBpcyB0b28gc2hvcnQuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModzAgLSB3MSkgPCAwLjAwMDAwMSkgcmV0dXJuIHRoaXMuZWFzZVRvKG9wdGlvbnMsIGV2ZW50RGF0YSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGsgPSB3MSA8IHcwID8gLTEgOiAxO1xuICAgICAgICAgICAgUyA9IE1hdGguYWJzKE1hdGgubG9nKHcxIC8gdzApKSAvIHJobztcblxuICAgICAgICAgICAgdSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiAgICAgICAgICAgIHcgPSBmdW5jdGlvbihzKSB7IHJldHVybiBNYXRoLmV4cChrICogcmhvICogcyk7IH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ2R1cmF0aW9uJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gK29wdGlvbnMuZHVyYXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBWID0gJ3NjcmVlblNwZWVkJyBpbiBvcHRpb25zID8gK29wdGlvbnMuc2NyZWVuU3BlZWQgLyByaG8gOiArb3B0aW9ucy5zcGVlZDtcbiAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSAxMDAwICogUyAvIFY7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5tYXhEdXJhdGlvbiAmJiBvcHRpb25zLmR1cmF0aW9uID4gb3B0aW9ucy5tYXhEdXJhdGlvbikge1xuICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB6b29tQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGJlYXJpbmdDaGFuZ2VkID0gKHN0YXJ0QmVhcmluZyAhPT0gYmVhcmluZyk7XG4gICAgICAgIGNvbnN0IHBpdGNoQ2hhbmdlZCA9IChwaXRjaCAhPT0gc3RhcnRQaXRjaCk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdDaGFuZ2VkID0gIXRyLmlzUGFkZGluZ0VxdWFsKHBhZGRpbmcpO1xuXG4gICAgICAgIGNvbnN0IGZyYW1lID0gKHRyKSA9PiAoaykgPT4ge1xuICAgICAgICAgICAgLy8gczogVGhlIGRpc3RhbmNlIHRyYXZlbGVkIGFsb25nIHRoZSBmbGlnaHQgcGF0aCwgbWVhc3VyZWQgaW4gz4Etc2NyZWVuZnVscy5cbiAgICAgICAgICAgIGNvbnN0IHMgPSBrICogUztcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gMSAvIHcocyk7XG4gICAgICAgICAgICB0ci56b29tID0gayA9PT0gMSA/IHpvb20gOiBzdGFydFpvb20gKyB0ci5zY2FsZVpvb20oc2NhbGUpO1xuXG4gICAgICAgICAgICBpZiAoYmVhcmluZ0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0ci5iZWFyaW5nID0gaW50ZXJwb2xhdGUoc3RhcnRCZWFyaW5nLCBiZWFyaW5nLCBrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwaXRjaENoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0ci5waXRjaCA9IGludGVycG9sYXRlKHN0YXJ0UGl0Y2gsIHBpdGNoLCBrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYWRkaW5nQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRyLmludGVycG9sYXRlUGFkZGluZyhzdGFydFBhZGRpbmcsIHBhZGRpbmcsIGspO1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gcGFkZGluZyBpcyBiZWluZyBhcHBsaWVkLCBUcmFuc2Zvcm0jY2VudGVyUG9pbnQgaXMgY2hhbmdpbmcgY29udGludW91c2x5LFxuICAgICAgICAgICAgICAgIC8vIHRodXMgd2UgbmVlZCB0byByZWNhbGN1bGF0ZSBvZmZzZXRQb2ludCBldmVyeSBmcmFtZVxuICAgICAgICAgICAgICAgIHBvaW50QXRPZmZzZXQgPSB0ci5jZW50ZXJQb2ludC5hZGQob2Zmc2V0QXNQb2ludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0NlbnRlciA9IGsgPT09IDEgPyBjZW50ZXIgOiB0ci51bnByb2plY3QoZnJvbS5hZGQoZGVsdGEubXVsdCh1KHMpKSkubXVsdChzY2FsZSkpO1xuICAgICAgICAgICAgdHIuc2V0TG9jYXRpb25BdFBvaW50KHRyLnJlbmRlcldvcmxkQ29waWVzID8gbmV3Q2VudGVyLndyYXAoKSA6IG5ld0NlbnRlciwgcG9pbnRBdE9mZnNldCk7XG4gICAgICAgICAgICB0ci5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCk7XG5cbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5wcmVsb2FkT25seSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cjtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy5wcmVsb2FkT25seSkge1xuICAgICAgICAgICAgY29uc3QgcHJlZGljdGVkVHJhbnNmb3JtcyA9IHRoaXMuX2VtdWxhdGUoZnJhbWUsIG9wdGlvbnMuZHVyYXRpb24sIHRyKTtcbiAgICAgICAgICAgIHRoaXMuX3ByZWxvYWRUaWxlcyhwcmVkaWN0ZWRUcmFuc2Zvcm1zKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fem9vbWluZyA9IHpvb21DaGFuZ2VkO1xuICAgICAgICB0aGlzLl9yb3RhdGluZyA9IGJlYXJpbmdDaGFuZ2VkO1xuICAgICAgICB0aGlzLl9waXRjaGluZyA9IHBpdGNoQ2hhbmdlZDtcbiAgICAgICAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmdDaGFuZ2VkO1xuXG4gICAgICAgIHRoaXMuX3ByZXBhcmVFYXNlKGV2ZW50RGF0YSwgZmFsc2UpO1xuICAgICAgICB0aGlzLl9lYXNlKGZyYW1lKHRyKSwgKCkgPT4gdGhpcy5fYWZ0ZXJFYXNlKGV2ZW50RGF0YSksIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlzRWFzaW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lYXNlRnJhbWVJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbnkgYW5pbWF0ZWQgdHJhbnNpdGlvbiB1bmRlcndheS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zdG9wKCk7XG4gICAgICovXG4gICAgc3RvcCgpOiB0aGlzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3AoKTtcbiAgICB9XG5cbiAgICBfc3RvcChhbGxvd0dlc3R1cmVzPzogYm9vbGVhbiwgZWFzZUlkPzogc3RyaW5nKTogdGhpcyB7XG4gICAgICAgIGlmICh0aGlzLl9lYXNlRnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZWFzZUZyYW1lSWQpO1xuICAgICAgICAgICAgdGhpcy5fZWFzZUZyYW1lSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl9vbkVhc2VGcmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9vbkVhc2VFbmQpIHtcbiAgICAgICAgICAgIC8vIFRoZSBfb25FYXNlRW5kIGZ1bmN0aW9uIG1pZ2h0IGVtaXQgZXZlbnRzIHdoaWNoIHRyaWdnZXIgbmV3XG4gICAgICAgICAgICAvLyBhbmltYXRpb24sIHdoaWNoIHNldHMgYSBuZXcgX29uRWFzZUVuZC4gRW5zdXJlIHdlIGRvbid0IGRlbGV0ZVxuICAgICAgICAgICAgLy8gaXQgdW5pbnRlbnRpb25hbGx5LlxuICAgICAgICAgICAgY29uc3Qgb25FYXNlRW5kID0gdGhpcy5fb25FYXNlRW5kO1xuICAgICAgICAgICAgdGhpcy5fb25FYXNlRW5kID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgb25FYXNlRW5kLmNhbGwodGhpcywgZWFzZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFsbG93R2VzdHVyZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXJzID0gKHRoaXM6IGFueSkuaGFuZGxlcnM7XG4gICAgICAgICAgICBpZiAoaGFuZGxlcnMpIGhhbmRsZXJzLnN0b3AoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9lYXNlKGZyYW1lOiAoXzogbnVtYmVyKSA9PiBUcmFuc2Zvcm0gfCB2b2lkLFxuICAgICAgICAgIGZpbmlzaDogKCkgPT4gdm9pZCxcbiAgICAgICAgICBvcHRpb25zOiB7YW5pbWF0ZTogYm9vbGVhbiwgZHVyYXRpb246IG51bWJlciwgZWFzaW5nOiAoXzogbnVtYmVyKSA9PiBudW1iZXJ9KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGUgPT09IGZhbHNlIHx8IG9wdGlvbnMuZHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgIGZyYW1lKDEpO1xuICAgICAgICAgICAgZmluaXNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9lYXNlU3RhcnQgPSBicm93c2VyLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5fZWFzZU9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAgICAgdGhpcy5fb25FYXNlRnJhbWUgPSBmcmFtZTtcbiAgICAgICAgICAgIHRoaXMuX29uRWFzZUVuZCA9IGZpbmlzaDtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHRoaXMuX2Vhc2VGcmFtZUlkID0gdGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FsbGJhY2sgZm9yIG1hcC5fcmVxdWVzdFJlbmRlckZyYW1lXG4gICAgX3JlbmRlckZyYW1lQ2FsbGJhY2soKSB7XG4gICAgICAgIGNvbnN0IHQgPSBNYXRoLm1pbigoYnJvd3Nlci5ub3coKSAtIHRoaXMuX2Vhc2VTdGFydCkgLyB0aGlzLl9lYXNlT3B0aW9ucy5kdXJhdGlvbiwgMSk7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fb25FYXNlRnJhbWU7XG4gICAgICAgIGlmIChmcmFtZSkgZnJhbWUodGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKHQpKTtcbiAgICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB0aGlzLl9lYXNlRnJhbWVJZCA9IHRoaXMuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9yZW5kZXJGcmFtZUNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29udmVydCBiZWFyaW5nIHNvIHRoYXQgaXQncyBudW1lcmljYWxseSBjbG9zZSB0byB0aGUgY3VycmVudCBvbmUgc28gdGhhdCBpdCBpbnRlcnBvbGF0ZXMgcHJvcGVybHlcbiAgICBfbm9ybWFsaXplQmVhcmluZyhiZWFyaW5nOiBudW1iZXIsIGN1cnJlbnRCZWFyaW5nOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBiZWFyaW5nID0gd3JhcChiZWFyaW5nLCAtMTgwLCAxODApO1xuICAgICAgICBjb25zdCBkaWZmID0gTWF0aC5hYnMoYmVhcmluZyAtIGN1cnJlbnRCZWFyaW5nKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGJlYXJpbmcgLSAzNjAgLSBjdXJyZW50QmVhcmluZykgPCBkaWZmKSBiZWFyaW5nIC09IDM2MDtcbiAgICAgICAgaWYgKE1hdGguYWJzKGJlYXJpbmcgKyAzNjAgLSBjdXJyZW50QmVhcmluZykgPCBkaWZmKSBiZWFyaW5nICs9IDM2MDtcbiAgICAgICAgcmV0dXJuIGJlYXJpbmc7XG4gICAgfVxuXG4gICAgLy8gSWYgYSBwYXRoIGNyb3NzaW5nIHRoZSBhbnRpbWVyaWRpYW4gd291bGQgYmUgc2hvcnRlciwgZXh0ZW5kIHRoZSBmaW5hbCBjb29yZGluYXRlIHNvIHRoYXRcbiAgICAvLyBpbnRlcnBvbGF0aW5nIGJldHdlZW4gdGhlIHR3byBlbmRwb2ludHMgd2lsbCBjcm9zcyBpdC5cbiAgICBfbm9ybWFsaXplQ2VudGVyKGNlbnRlcjogTG5nTGF0KSB7XG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIGlmICghdHIucmVuZGVyV29ybGRDb3BpZXMgfHwgdHIubWF4Qm91bmRzKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZGVsdGEgPSBjZW50ZXIubG5nIC0gdHIuY2VudGVyLmxuZztcbiAgICAgICAgY2VudGVyLmxuZyArPVxuICAgICAgICAgICAgZGVsdGEgPiAxODAgPyAtMzYwIDpcbiAgICAgICAgICAgIGRlbHRhIDwgLTE4MCA/IDM2MCA6IDA7XG4gICAgfVxuXG4gICAgLy8gZW11bGF0ZXMgZnJhbWUgZnVuY3Rpb24gZm9yIHNvbWUgdHJhbnNmb3JtXG4gICAgX2VtdWxhdGUoZnJhbWU6IEZ1bmN0aW9uLCBkdXJhdGlvbjogbnVtYmVyLCBpbml0aWFsVHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBBcnJheTxUcmFuc2Zvcm0+IHtcbiAgICAgICAgY29uc3QgZnJhbWVSYXRlID0gMTU7XG4gICAgICAgIGNvbnN0IG51bUZyYW1lcyA9IE1hdGguY2VpbChkdXJhdGlvbiAqIGZyYW1lUmF0ZSAvIDEwMDApO1xuXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybXMgPSBbXTtcbiAgICAgICAgY29uc3QgZW11bGF0ZUZyYW1lID0gZnJhbWUoaW5pdGlhbFRyYW5zZm9ybS5jbG9uZSgpKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gbnVtRnJhbWVzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IGVtdWxhdGVGcmFtZShpIC8gbnVtRnJhbWVzKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybXMucHVzaCh0cmFuc2Zvcm0uY2xvbmUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJhbnNmb3JtcztcbiAgICB9XG59XG5cbi8vIEluIGRlYnVnIGJ1aWxkcywgY2hlY2sgdGhhdCBjYW1lcmEgY2hhbmdlIGV2ZW50cyBhcmUgZmlyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuXG4vLyAtIF9fX3N0YXJ0IGV2ZW50cyBuZWVkcyB0byBiZSBmaXJlZCBiZWZvcmUgX19fIGFuZCBfX19lbmQgZXZlbnRzXG4vLyAtIGFub3RoZXIgX19fc3RhcnQgZXZlbnQgY2FuJ3QgYmUgZmlyZWQgYmVmb3JlIGEgX19fZW5kIGV2ZW50IGhhcyBiZWVuIGZpcmVkIGZvciB0aGUgcHJldmlvdXMgb25lXG5mdW5jdGlvbiBhZGRBc3NlcnRpb25zKGNhbWVyYTogQ2FtZXJhKSB7IC8vZXNsaW50LWRpc2FibGUtbGluZVxuICAgIERlYnVnLnJ1bigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGluUHJvZ3Jlc3MgPSB7fTtcblxuICAgICAgICBbJ2RyYWcnLCAnem9vbScsICdyb3RhdGUnLCAncGl0Y2gnLCAnbW92ZSddLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgICAgICBpblByb2dyZXNzW25hbWVdID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGNhbWVyYS5vbigoKGAke25hbWV9c3RhcnRgOiBhbnkpOiBNYXBFdmVudCksICgpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoIWluUHJvZ3Jlc3NbbmFtZV0sIGBcIiR7bmFtZX1zdGFydFwiIGZpcmVkIHR3aWNlIHdpdGhvdXQgYSBcIiR7bmFtZX1lbmRcImApO1xuICAgICAgICAgICAgICAgIGluUHJvZ3Jlc3NbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFzc2VydChpblByb2dyZXNzLm1vdmUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhbWVyYS5vbihuYW1lLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGluUHJvZ3Jlc3NbbmFtZV0pO1xuICAgICAgICAgICAgICAgIGFzc2VydChpblByb2dyZXNzLm1vdmUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhbWVyYS5vbigoKGAke25hbWV9ZW5kYDogYW55KTogTWFwRXZlbnQpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGluUHJvZ3Jlc3MubW92ZSk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGluUHJvZ3Jlc3NbbmFtZV0pO1xuICAgICAgICAgICAgICAgIGluUHJvZ3Jlc3NbbmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDYW5hcnkgdXNlZCB0byB0ZXN0IHdoZXRoZXIgdGhpcyBmdW5jdGlvbiBpcyBzdHJpcHBlZCBpbiBwcm9kIGJ1aWxkXG4gICAgICAgIGNhbmFyeSA9ICdjYW5hcnkgZGVidWcgcnVuJzsgLy9lc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgfSk7XG59XG5cbmxldCBjYW5hcnk7IC8vZXNsaW50LWRpc2FibGUtbGluZVxuXG5leHBvcnQgZGVmYXVsdCBDYW1lcmE7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20uanMnO1xuaW1wb3J0IHtiaW5kQWxsfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi91dGlsL2NvbmZpZy5qcyc7XG5pbXBvcnQge2dldEhhc2hTdHJpbmd9IGZyb20gJy4uL2hhc2guanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAsIHtDb250cm9sUG9zaXRpb259IGZyb20gJy4uL21hcC5qcyc7XG5cbnR5cGUgT3B0aW9ucyA9IHtcbiAgICBjb21wYWN0PzogYm9vbGVhbixcbiAgICBjdXN0b21BdHRyaWJ1dGlvbj86IHN0cmluZyB8IEFycmF5PHN0cmluZz5cbn07XG5cbi8qKlxuICogQW4gYEF0dHJpYnV0aW9uQ29udHJvbGAgY29udHJvbCBwcmVzZW50cyB0aGUgbWFwJ3MgW2F0dHJpYnV0aW9uIGluZm9ybWF0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9oZWxwL2hvdy1tYXBib3gtd29ya3MvYXR0cmlidXRpb24vKS5cbiAqIEFkZCB0aGlzIGNvbnRyb2wgdG8gYSBtYXAgdXNpbmcge0BsaW5rIE1hcCNhZGRDb250cm9sfS5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvbXBhY3RdIElmIGB0cnVlYCwgZm9yY2UgYSBjb21wYWN0IGF0dHJpYnV0aW9uIHRoYXQgc2hvd3MgdGhlIGZ1bGwgYXR0cmlidXRpb24gb24gbW91c2UgaG92ZXIuIElmIGBmYWxzZWAsIGZvcmNlIHRoZSBmdWxsIGF0dHJpYnV0aW9uIGNvbnRyb2wuIFRoZSBkZWZhdWx0IGlzIGEgcmVzcG9uc2l2ZSBhdHRyaWJ1dGlvbiB0aGF0IGNvbGxhcHNlcyB3aGVuIHRoZSBtYXAgaXMgbGVzcyB0aGFuIDY0MCBwaXhlbHMgd2lkZS4gKipBdHRyaWJ1dGlvbiBzaG91bGQgbm90IGJlIGNvbGxhcHNlZCBpZiBpdCBjYW4gY29tZm9ydGFibHkgZml0IG9uIHRoZSBtYXAuIGBjb21wYWN0YCBzaG91bGQgb25seSBiZSB1c2VkIHRvIG1vZGlmeSBkZWZhdWx0IGF0dHJpYnV0aW9uIHdoZW4gbWFwIHNpemUgbWFrZXMgaXQgaW1wb3NzaWJsZSB0byBmaXQgW2RlZmF1bHQgYXR0cmlidXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvaG93LW1hcGJveC13b3Jrcy9hdHRyaWJ1dGlvbi8pIGFuZCB3aGVuIHRoZSBhdXRvbWF0aWMgY29tcGFjdCByZXNpemluZyBmb3IgZGVmYXVsdCBzZXR0aW5ncyBhcmUgbm90IHN1ZmZpY2llbnQqKi5cbiAqIEBwYXJhbSB7c3RyaW5nIHwgQXJyYXk8c3RyaW5nPn0gW29wdGlvbnMuY3VzdG9tQXR0cmlidXRpb25dIFN0cmluZyBvciBzdHJpbmdzIHRvIHNob3cgaW4gYWRkaXRpb24gdG8gYW55IG90aGVyIGF0dHJpYnV0aW9ucy4gWW91IGNhbiBhbHNvIHNldCBhIGN1c3RvbSBhdHRyaWJ1dGlvbiB3aGVuIGluaXRpYWxpemluZyB5b3VyIG1hcCB3aXRoIHtAbGluayBodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLXBhcmFtZXRlcnMgdGhlIGN1c3RvbUF0dHJpYnV0aW9uIG9wdGlvbn0uXG4gKiBAZXhhbXBsZVxuICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7YXR0cmlidXRpb25Db250cm9sOiBmYWxzZX0pXG4gKiAgICAgLmFkZENvbnRyb2wobmV3IG1hcGJveGdsLkF0dHJpYnV0aW9uQ29udHJvbCh7XG4gKiAgICAgICAgIGN1c3RvbUF0dHJpYnV0aW9uOiAnTWFwIGRlc2lnbiBieSBtZSdcbiAqICAgICB9KSk7XG4gKi9cbmNsYXNzIEF0dHJpYnV0aW9uQ29udHJvbCB7XG4gICAgb3B0aW9uczogT3B0aW9ucztcbiAgICBfbWFwOiBNYXA7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2lubmVyQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfY29tcGFjdEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgX2VkaXRMaW5rOiA/SFRNTEFuY2hvckVsZW1lbnQ7XG4gICAgX2F0dHJpYkhUTUw6IHN0cmluZztcbiAgICBzdHlsZUlkOiBzdHJpbmc7XG4gICAgc3R5bGVPd25lcjogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX3RvZ2dsZUF0dHJpYnV0aW9uJyxcbiAgICAgICAgICAgICdfdXBkYXRlRWRpdExpbmsnLFxuICAgICAgICAgICAgJ191cGRhdGVEYXRhJyxcbiAgICAgICAgICAgICdfdXBkYXRlQ29tcGFjdCdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0RGVmYXVsdFBvc2l0aW9uKCk6IENvbnRyb2xQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLXJpZ2h0JztcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgY29tcGFjdCA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuY29tcGFjdDtcblxuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtYXR0cmliJyk7XG4gICAgICAgIHRoaXMuX2NvbXBhY3RCdXR0b24gPSBET00uY3JlYXRlKCdidXR0b24nLCAnbWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9uJywgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgRE9NLmNyZWF0ZSgnc3BhbicsIGBtYXBib3hnbC1jdHJsLWljb25gLCB0aGlzLl9jb21wYWN0QnV0dG9uKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgdGhpcy5fY29tcGFjdEJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fY29tcGFjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX3RvZ2dsZUF0dHJpYnV0aW9uKTtcbiAgICAgICAgdGhpcy5fc2V0RWxlbWVudFRpdGxlKHRoaXMuX2NvbXBhY3RCdXR0b24sICdUb2dnbGVBdHRyaWJ1dGlvbicpO1xuICAgICAgICB0aGlzLl9pbm5lckNvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1jdHJsLWF0dHJpYi1pbm5lcicsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2lubmVyQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgncm9sZScsICdsaXN0Jyk7XG5cbiAgICAgICAgaWYgKGNvbXBhY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jb21wYWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRWRpdExpbmsoKTtcblxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX21hcC5vbignc3R5bGVkYXRhJywgdGhpcy5fdXBkYXRlRGF0YSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdzb3VyY2VkYXRhJywgdGhpcy5fdXBkYXRlRGF0YSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlRWRpdExpbmspO1xuXG4gICAgICAgIGlmIChjb21wYWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHRoaXMuX21hcC5vbigncmVzaXplJywgdGhpcy5fdXBkYXRlQ29tcGFjdCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb21wYWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlKCk7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9tYXAub2ZmKCdzdHlsZWRhdGEnLCB0aGlzLl91cGRhdGVEYXRhKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9tYXAub2ZmKCdzb3VyY2VkYXRhJywgdGhpcy5fdXBkYXRlRGF0YSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZUVkaXRMaW5rKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9tYXAub2ZmKCdyZXNpemUnLCB0aGlzLl91cGRhdGVDb21wYWN0KTtcblxuICAgICAgICB0aGlzLl9tYXAgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgICAgICB0aGlzLl9hdHRyaWJIVE1MID0gKHVuZGVmaW5lZDogYW55KTtcbiAgICB9XG5cbiAgICBfc2V0RWxlbWVudFRpdGxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCB0aXRsZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHN0ciA9IHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoYEF0dHJpYnV0aW9uQ29udHJvbC4ke3RpdGxlfWApO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHN0cik7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd0aXRsZScpO1xuICAgICAgICBpZiAoZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCkgZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgc3RyKTtcbiAgICB9XG5cbiAgICBfdG9nZ2xlQXR0cmlidXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYXBib3hnbC1jb21wYWN0LXNob3cnKSkge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWNvbXBhY3Qtc2hvdycpO1xuICAgICAgICAgICAgdGhpcy5fY29tcGFjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jb21wYWN0LXNob3cnKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBhY3RCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVFZGl0TGluaygpIHtcbiAgICAgICAgbGV0IGVkaXRMaW5rID0gdGhpcy5fZWRpdExpbms7XG4gICAgICAgIGlmICghZWRpdExpbmspIHtcbiAgICAgICAgICAgIGVkaXRMaW5rID0gdGhpcy5fZWRpdExpbmsgPSAodGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5tYXBib3gtaW1wcm92ZS1tYXAnKTogYW55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IFtcbiAgICAgICAgICAgIHtrZXk6ICdvd25lcicsIHZhbHVlOiB0aGlzLnN0eWxlT3duZXJ9LFxuICAgICAgICAgICAge2tleTogJ2lkJywgdmFsdWU6IHRoaXMuc3R5bGVJZH0sXG4gICAgICAgICAgICB7a2V5OiAnYWNjZXNzX3Rva2VuJywgdmFsdWU6IHRoaXMuX21hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuIHx8IGNvbmZpZy5BQ0NFU1NfVE9LRU59XG4gICAgICAgIF07XG5cbiAgICAgICAgaWYgKGVkaXRMaW5rKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbVN0cmluZyA9IHBhcmFtcy5yZWR1Y2UoKGFjYywgbmV4dCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuZXh0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjYyArPSBgJHtuZXh0LmtleX09JHtuZXh0LnZhbHVlfSR7aSA8IHBhcmFtcy5sZW5ndGggLSAxID8gJyYnIDogJyd9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIGA/YCk7XG4gICAgICAgICAgICBlZGl0TGluay5ocmVmID0gYCR7Y29uZmlnLkZFRURCQUNLX1VSTH0vJHtwYXJhbVN0cmluZ30jJHtnZXRIYXNoU3RyaW5nKHRoaXMuX21hcCwgdHJ1ZSl9YDtcbiAgICAgICAgICAgIGVkaXRMaW5rLnJlbCA9ICdub29wZW5lciBub2ZvbGxvdyc7XG4gICAgICAgICAgICB0aGlzLl9zZXRFbGVtZW50VGl0bGUoZWRpdExpbmssICdNYXBGZWVkYmFjaycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZURhdGEoZTogYW55KSB7XG4gICAgICAgIGlmIChlICYmIChlLnNvdXJjZURhdGFUeXBlID09PSAnbWV0YWRhdGEnIHx8IGUuc291cmNlRGF0YVR5cGUgPT09ICd2aXNpYmlsaXR5JyB8fCBlLmRhdGFUeXBlID09PSAnc3R5bGUnKSkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQXR0cmlidXRpb25zKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVFZGl0TGluaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZUF0dHJpYnV0aW9ucygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXAuc3R5bGUpIHJldHVybjtcbiAgICAgICAgbGV0IGF0dHJpYnV0aW9uczogQXJyYXk8c3RyaW5nPiA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldCkge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzaGVldDogYW55ID0gdGhpcy5fbWFwLnN0eWxlLnN0eWxlc2hlZXQ7XG4gICAgICAgICAgICB0aGlzLnN0eWxlT3duZXIgPSBzdHlsZXNoZWV0Lm93bmVyO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlkID0gc3R5bGVzaGVldC5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlcyA9IHRoaXMuX21hcC5zdHlsZS5fc291cmNlQ2FjaGVzO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSBzb3VyY2VDYWNoZXNbaWRdO1xuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLnVzZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLmF0dHJpYnV0aW9uICYmIGF0dHJpYnV0aW9ucy5pbmRleE9mKHNvdXJjZS5hdHRyaWJ1dGlvbikgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdIC0gRmxvdyBjYW4ndCBpbmZlciB0aGF0IGF0dHJpYnV0aW9uIGlzIGEgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9ucy5wdXNoKHNvdXJjZS5hdHRyaWJ1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGFueSBlbnRyaWVzIHRoYXQgYXJlIHN1YnN0cmluZ3Mgb2YgYW5vdGhlciBlbnRyeS5cbiAgICAgICAgLy8gZmlyc3Qgc29ydCBieSBsZW5ndGggc28gdGhhdCBzdWJzdHJpbmdzIGNvbWUgZmlyc3RcbiAgICAgICAgYXR0cmlidXRpb25zLnNvcnQoKGEsIGIpID0+IGEubGVuZ3RoIC0gYi5sZW5ndGgpO1xuICAgICAgICBhdHRyaWJ1dGlvbnMgPSBhdHRyaWJ1dGlvbnMuZmlsdGVyKChhdHRyaWIsIGkpID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGF0dHJpYnV0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGlvbnNbal0uaW5kZXhPZihhdHRyaWIpID49IDApIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbikge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uKSkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9ucyA9IFsuLi50aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24sIC4uLmF0dHJpYnV0aW9uc107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9ucy51bnNoaWZ0KHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiBhdHRyaWJ1dGlvbiBzdHJpbmcgaXMgZGlmZmVyZW50IHRvIG1pbmltaXplIERPTSBjaGFuZ2VzXG4gICAgICAgIGNvbnN0IGF0dHJpYkhUTUwgPSBhdHRyaWJ1dGlvbnMuam9pbignIHwgJyk7XG4gICAgICAgIGlmIChhdHRyaWJIVE1MID09PSB0aGlzLl9hdHRyaWJIVE1MKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fYXR0cmliSFRNTCA9IGF0dHJpYkhUTUw7XG5cbiAgICAgICAgaWYgKGF0dHJpYnV0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lubmVyQ29udGFpbmVyLmlubmVySFRNTCA9IGF0dHJpYkhUTUw7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtYXR0cmliLWVtcHR5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtYXR0cmliLWVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIG9sZCBET00gbm9kZSBmcm9tIF9lZGl0TGlua1xuICAgICAgICB0aGlzLl9lZGl0TGluayA9IG51bGw7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUNvbXBhY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGggPD0gNjQwKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY29tcGFjdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWNvbXBhY3QnLCAnbWFwYm94Z2wtY29tcGFjdC1zaG93Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXR0cmlidXRpb25Db250cm9sO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tLmpzJztcbmltcG9ydCB7YmluZEFsbH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcblxuaW1wb3J0IHR5cGUgTWFwLCB7Q29udHJvbFBvc2l0aW9ufSBmcm9tICcuLi9tYXAuanMnO1xuXG4vKipcbiAqIEEgYExvZ29Db250cm9sYCBpcyBhIGNvbnRyb2wgdGhhdCBhZGRzIHRoZSBNYXBib3ggd2F0ZXJtYXJrXG4gKiB0byB0aGUgbWFwIGFzIHJlcXVpcmVkIGJ5IHRoZSBbdGVybXMgb2Ygc2VydmljZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS90b3MvKSBmb3IgTWFwYm94XG4gKiB2ZWN0b3IgdGlsZXMgYW5kIGNvcmUgc3R5bGVzLlxuICogQWRkIHRoaXMgY29udHJvbCB0byBhIG1hcCB1c2luZyB7QGxpbmsgTWFwI2FkZENvbnRyb2x9LlxuICpcbiAqIEBpbXBsZW1lbnRzIHtJQ29udHJvbH1cbiAqIEBwcml2YXRlXG4qKi9cblxuY2xhc3MgTG9nb0NvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBiaW5kQWxsKFsnX3VwZGF0ZUxvZ28nLCAnX3VwZGF0ZUNvbXBhY3QnXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWN0cmwnKTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gRE9NLmNyZWF0ZSgnYScsICdtYXBib3hnbC1jdHJsLWxvZ28nKTtcbiAgICAgICAgYW5jaG9yLnRhcmdldCA9IFwiX2JsYW5rXCI7XG4gICAgICAgIGFuY2hvci5yZWwgPSBcIm5vb3BlbmVyIG5vZm9sbG93XCI7XG4gICAgICAgIGFuY2hvci5ocmVmID0gXCJodHRwczovL3d3dy5tYXBib3guY29tL1wiO1xuICAgICAgICBhbmNob3Iuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCB0aGlzLl9tYXAuX2dldFVJU3RyaW5nKCdMb2dvQ29udHJvbC5UaXRsZScpKTtcbiAgICAgICAgYW5jaG9yLnNldEF0dHJpYnV0ZShcInJlbFwiLCBcIm5vb3BlbmVyIG5vZm9sbG93XCIpO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQoYW5jaG9yKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9tYXAub24oJ3NvdXJjZWRhdGEnLCB0aGlzLl91cGRhdGVMb2dvKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTG9nbygpO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdyZXNpemUnLCB0aGlzLl91cGRhdGVDb21wYWN0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29tcGFjdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9tYXAub2ZmKCdzb3VyY2VkYXRhJywgdGhpcy5fdXBkYXRlTG9nbyk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9mZigncmVzaXplJywgdGhpcy5fdXBkYXRlQ29tcGFjdCk7XG4gICAgfVxuXG4gICAgZ2V0RGVmYXVsdFBvc2l0aW9uKCk6IENvbnRyb2xQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLWxlZnQnO1xuICAgIH1cblxuICAgIF91cGRhdGVMb2dvKGU6IGFueSkge1xuICAgICAgICBpZiAoIWUgfHwgZS5zb3VyY2VEYXRhVHlwZSA9PT0gJ21ldGFkYXRhJykge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSB0aGlzLl9sb2dvUmVxdWlyZWQoKSA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9nb1JlcXVpcmVkKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIXRoaXMuX21hcC5zdHlsZSkgcmV0dXJuIHRydWU7XG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlcyA9IHRoaXMuX21hcC5zdHlsZS5fc291cmNlQ2FjaGVzO1xuICAgICAgICBpZiAoT2JqZWN0LmVudHJpZXMoc291cmNlQ2FjaGVzKS5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGVzW2lkXS5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoJ21hcGJveF9sb2dvJykgJiYgIXNvdXJjZS5tYXBib3hfbG9nbykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIF91cGRhdGVDb21wYWN0KCkge1xuICAgICAgICBjb25zdCBjb250YWluZXJDaGlsZHJlbiA9IHRoaXMuX2NvbnRhaW5lci5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGNvbnRhaW5lckNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gY29udGFpbmVyQ2hpbGRyZW5bMF07XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoIDwgMjUwKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWNvbXBhY3QnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWNvbXBhY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dvQ29udHJvbDtcbiIsIi8vIEBmbG93IHN0cmljdFxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5leHBvcnQgdHlwZSBUYXNrSUQgPSBudW1iZXI7IC8vIGNhbid0IG1hcmsgb3BhcXVlIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vZmxvd3R5cGUvZmxvdy1yZW1vdmUtdHlwZXMvcHVsbC82MVxudHlwZSBUYXNrID0ge1xuICAgIGNhbGxiYWNrOiAodGltZVN0YW1wOiBudW1iZXIpID0+IHZvaWQ7XG4gICAgaWQ6IFRhc2tJRDtcbiAgICBjYW5jZWxsZWQ6IGJvb2xlYW47XG59O1xuXG5jbGFzcyBUYXNrUXVldWUge1xuICAgIF9xdWV1ZTogQXJyYXk8VGFzaz47XG4gICAgX2lkOiBUYXNrSUQ7XG4gICAgX2NsZWFyZWQ6IGJvb2xlYW47XG4gICAgX2N1cnJlbnRseVJ1bm5pbmc6IEFycmF5PFRhc2s+IHwgZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcigpICB7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgICAgIHRoaXMuX2lkID0gMDtcbiAgICAgICAgdGhpcy5fY2xlYXJlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jdXJyZW50bHlSdW5uaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYWRkKGNhbGxiYWNrOiAodGltZVN0YW1wOiBudW1iZXIpID0+IHZvaWQpOiBUYXNrSUQge1xuICAgICAgICBjb25zdCBpZCA9ICsrdGhpcy5faWQ7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fcXVldWU7XG4gICAgICAgIHF1ZXVlLnB1c2goe2NhbGxiYWNrLCBpZCwgY2FuY2VsbGVkOiBmYWxzZX0pO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuXG4gICAgcmVtb3ZlKGlkOiBUYXNrSUQpIHtcbiAgICAgICAgY29uc3QgcnVubmluZyA9IHRoaXMuX2N1cnJlbnRseVJ1bm5pbmc7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gcnVubmluZyA/IHRoaXMuX3F1ZXVlLmNvbmNhdChydW5uaW5nKSA6IHRoaXMuX3F1ZXVlO1xuICAgICAgICBmb3IgKGNvbnN0IHRhc2sgb2YgcXVldWUpIHtcbiAgICAgICAgICAgIGlmICh0YXNrLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIHRhc2suY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBydW4odGltZVN0YW1wOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIGFzc2VydCghdGhpcy5fY3VycmVudGx5UnVubmluZyk7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fY3VycmVudGx5UnVubmluZyA9IHRoaXMuX3F1ZXVlO1xuXG4gICAgICAgIC8vIFRhc2tzIHF1ZXVlZCBieSBjYWxsYmFja3MgaW4gdGhlIGN1cnJlbnQgcXVldWUgc2hvdWxkIGJlIGV4ZWN1dGVkXG4gICAgICAgIC8vIG9uIHRoZSBuZXh0IHJ1biwgbm90IHRoZSBjdXJyZW50IHJ1bi5cbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRhc2sgb2YgcXVldWUpIHtcbiAgICAgICAgICAgIGlmICh0YXNrLmNhbmNlbGxlZCkgY29udGludWU7XG4gICAgICAgICAgICB0YXNrLmNhbGxiYWNrKHRpbWVTdGFtcCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2xlYXJlZCkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jbGVhcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRseVJ1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRseVJ1bm5pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUYXNrUXVldWU7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0LmpzJztcblxuaW1wb3J0IHR5cGUgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5cbi8qKlxuICogR2l2ZW4gYSBMbmdMYXQsIHByaW9yIHByb2plY3RlZCBwb3NpdGlvbiwgYW5kIGEgdHJhbnNmb3JtLCByZXR1cm4gYSBuZXcgTG5nTGF0IHNoaWZ0ZWRcbiAqIG4gw5cgMzYwwrAgZWFzdCBvciB3ZXN0IGZvciBzb21lIG4g4omlIDAgc3VjaCB0aGF0OlxuICpcbiAqICogdGhlIHByb2plY3RlZCBsb2NhdGlvbiBvZiB0aGUgcmVzdWx0IGlzIG9uIHNjcmVlbiwgaWYgcG9zc2libGUsIGFuZCBzZWNvbmRhcmlseTpcbiAqICogdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcHJvamVjdGVkIGxvY2F0aW9uIG9mIHRoZSByZXN1bHQgYW5kIHRoZSBwcmlvciBwb3NpdGlvblxuICogICBpcyBtaW5pbWl6ZWQuXG4gKlxuICogVGhlIG9iamVjdCBpcyB0byBwcmVzZXJ2ZSBwZXJjZWl2ZWQgb2JqZWN0IGNvbnN0YW5jeSBmb3IgUG9wdXBzIGFuZCBNYXJrZXJzIGFzIG11Y2ggYXNcbiAqIHBvc3NpYmxlOyB0aGV5IHNob3VsZCBhdm9pZCBzaGlmdGluZyBsYXJnZSBkaXN0YW5jZXMgYWNyb3NzIHRoZSBzY3JlZW4sIGV2ZW4gd2hlbiB0aGVcbiAqIG1hcCBjZW50ZXIgY2hhbmdlcyBieSDCsTM2MMKwIGR1ZSB0byBhdXRvbWF0aWMgd3JhcHBpbmcsIGFuZCB3aGVuIGFib3V0IHRvIGdvIG9mZiBzY3JlZW4sXG4gKiBzaG91bGQgd3JhcCBqdXN0IGVub3VnaCB0byBhdm9pZCBkb2luZyBzby5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihsbmdMYXQ6IExuZ0xhdCwgcHJpb3JQb3M6ID9Qb2ludCwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBMbmdMYXQge1xuICAgIGxuZ0xhdCA9IG5ldyBMbmdMYXQobG5nTGF0LmxuZywgbG5nTGF0LmxhdCk7XG5cbiAgICAvLyBGaXJzdCwgdHJ5IHNoaWZ0aW5nIG9uZSB3b3JsZCBpbiBlaXRoZXIgZGlyZWN0aW9uLCBhbmQgc2VlIGlmIGVpdGhlciBpcyBjbG9zZXIgdG8gdGhlXG4gICAgLy8gcHJpb3IgcG9zaXRpb24uIERvbid0IHNoaWZ0IGF3YXkgaWYgaXQgbmV3IHBvc2l0aW9uIGlzIGZ1cnRoZXIgZnJvbSBjZW50ZXIuXG4gICAgLy8gVGhpcyBwcmVzZXJ2ZXMgb2JqZWN0IGNvbnN0YW5jeSB3aGVuIHRoZSBtYXAgY2VudGVyIGlzIGF1dG8td3JhcHBlZCBkdXJpbmcgYW5pbWF0aW9ucyxcbiAgICAvLyBidXQgZG9uJ3QgYWxsb3cgaXQgdG8gcnVuIGF3YXkgb24gaG9yaXpvbiAocG9pbnRzIHRvd2FyZHMgaG9yaXpvbiBnZXQgY2xvc2VyIGFuZCBjbG9zZXIpLlxuICAgIGlmIChwcmlvclBvcykge1xuICAgICAgICBjb25zdCBsZWZ0ICA9IG5ldyBMbmdMYXQobG5nTGF0LmxuZyAtIDM2MCwgbG5nTGF0LmxhdCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gbmV3IExuZ0xhdChsbmdMYXQubG5nICsgMzYwLCBsbmdMYXQubGF0KTtcbiAgICAgICAgLy8gVW5sZXNzIG9mZnNjcmVlbiwga2VlcCB0aGUgbWFya2VyIHdpdGhpbiBzYW1lIHdyYXAgZGlzdGFuY2UgdG8gY2VudGVyLiBUaGlzIGlzIHRvIHByZXZlbnRcbiAgICAgICAgLy8gcnVubmluZyBpdCB0byBpbmZpbml0eSBgbG5nYCBuZWFyIGhvcml6b24gd2hlbiBiZWFyaW5nIGlzIH45MMKwLlxuICAgICAgICBjb25zdCB3aXRoaW5XcmFwID0gIE1hdGguY2VpbChNYXRoLmFicyhsbmdMYXQubG5nIC0gdHJhbnNmb3JtLmNlbnRlci5sbmcpIC8gMzYwKSAqIDM2MDtcbiAgICAgICAgY29uc3QgZGVsdGEgPSB0cmFuc2Zvcm0ubG9jYXRpb25Qb2ludChsbmdMYXQpLmRpc3RTcXIocHJpb3JQb3MpO1xuICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBwcmlvclBvcy54IDwgMCB8fCBwcmlvclBvcy55IDwgMCB8fCBwcmlvclBvcy54ID4gdHJhbnNmb3JtLndpZHRoIHx8IHByaW9yUG9zLnkgPiB0cmFuc2Zvcm0uaGVpZ2h0O1xuICAgICAgICBpZiAodHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQobGVmdCkuZGlzdFNxcihwcmlvclBvcykgPCBkZWx0YSAmJiAob2Zmc2NyZWVuIHx8IE1hdGguYWJzKGxlZnQubG5nIC0gdHJhbnNmb3JtLmNlbnRlci5sbmcpIDwgd2l0aGluV3JhcCkpIHtcbiAgICAgICAgICAgIGxuZ0xhdCA9IGxlZnQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQocmlnaHQpLmRpc3RTcXIocHJpb3JQb3MpIDwgZGVsdGEgJiYgKG9mZnNjcmVlbiB8fCBNYXRoLmFicyhyaWdodC5sbmcgLSB0cmFuc2Zvcm0uY2VudGVyLmxuZykgPCB3aXRoaW5XcmFwKSkge1xuICAgICAgICAgICAgbG5nTGF0ID0gcmlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZWNvbmQsIHdyYXAgdG93YXJkIHRoZSBjZW50ZXIgdW50aWwgdGhlIG5ldyBwb3NpdGlvbiBpcyBvbiBzY3JlZW4sIG9yIHdlIGNhbid0IGdldFxuICAgIC8vIGFueSBjbG9zZXIuXG4gICAgd2hpbGUgKE1hdGguYWJzKGxuZ0xhdC5sbmcgLSB0cmFuc2Zvcm0uY2VudGVyLmxuZykgPiAxODApIHtcbiAgICAgICAgY29uc3QgcG9zID0gdHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQobG5nTGF0KTtcbiAgICAgICAgaWYgKHBvcy54ID49IDAgJiYgcG9zLnkgPj0gMCAmJiBwb3MueCA8PSB0cmFuc2Zvcm0ud2lkdGggJiYgcG9zLnkgPD0gdHJhbnNmb3JtLmhlaWdodCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxuZ0xhdC5sbmcgPiB0cmFuc2Zvcm0uY2VudGVyLmxuZykge1xuICAgICAgICAgICAgbG5nTGF0LmxuZyAtPSAzNjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsbmdMYXQubG5nICs9IDM2MDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsbmdMYXQ7XG59XG4iLCIvLyBAZmxvd1xuXG5leHBvcnQgdHlwZSBBbmNob3IgPVxuICAgIHwgJ2NlbnRlcidcbiAgICB8ICd0b3AnXG4gICAgfCAnYm90dG9tJ1xuICAgIHwgJ2xlZnQnXG4gICAgfCAncmlnaHQnXG4gICAgfCAndG9wLWxlZnQnXG4gICAgfCAndG9wLXJpZ2h0J1xuICAgIHwgJ2JvdHRvbS1sZWZ0J1xuICAgIHwgJ2JvdHRvbS1yaWdodCc7XG5cbmV4cG9ydCBjb25zdCBhbmNob3JUcmFuc2xhdGU6IHtbXzogQW5jaG9yXTogc3RyaW5nfSA9IHtcbiAgICAnY2VudGVyJzogJ3RyYW5zbGF0ZSgtNTAlLC01MCUpJyxcbiAgICAndG9wJzogJ3RyYW5zbGF0ZSgtNTAlLDApJyxcbiAgICAndG9wLWxlZnQnOiAndHJhbnNsYXRlKDAsMCknLFxuICAgICd0b3AtcmlnaHQnOiAndHJhbnNsYXRlKC0xMDAlLDApJyxcbiAgICAnYm90dG9tJzogJ3RyYW5zbGF0ZSgtNTAlLC0xMDAlKScsXG4gICAgJ2JvdHRvbS1sZWZ0JzogJ3RyYW5zbGF0ZSgwLC0xMDAlKScsXG4gICAgJ2JvdHRvbS1yaWdodCc6ICd0cmFuc2xhdGUoLTEwMCUsLTEwMCUpJyxcbiAgICAnbGVmdCc6ICd0cmFuc2xhdGUoMCwtNTAlKScsXG4gICAgJ3JpZ2h0JzogJ3RyYW5zbGF0ZSgtMTAwJSwtNTAlKSdcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vdXRpbC9kb20uanMnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdy5qcyc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0LmpzJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCBzbWFydFdyYXAgZnJvbSAnLi4vdXRpbC9zbWFydF93cmFwLmpzJztcbmltcG9ydCB7YmluZEFsbCwgZXh0ZW5kLCByYWRUb0RlZywgc21vb3Roc3RlcH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7dHlwZSBBbmNob3IsIGFuY2hvclRyYW5zbGF0ZX0gZnJvbSAnLi9hbmNob3IuanMnO1xuaW1wb3J0IHtFdmVudCwgRXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkLmpzJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBQb3B1cCBmcm9tICcuL3BvcHVwLmpzJztcbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tIFwiLi4vZ2VvL2xuZ19sYXQuanNcIjtcbmltcG9ydCB0eXBlIHtNYXBNb3VzZUV2ZW50LCBNYXBUb3VjaEV2ZW50fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgdHlwZSB7UG9pbnRMaWtlfSBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7Z2xvYmVUaWx0QXRMbmdMYXQsIGdsb2JlQ2VudGVyVG9TY3JlZW5Qb2ludCwgaXNMbmdMYXRCZWhpbmRHbG9iZSwgR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYfSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxudHlwZSBPcHRpb25zID0ge1xuICAgIGVsZW1lbnQ/OiBIVE1MRWxlbWVudCxcbiAgICBvZmZzZXQ/OiBQb2ludExpa2UsXG4gICAgYW5jaG9yPzogQW5jaG9yLFxuICAgIGNvbG9yPzogc3RyaW5nLFxuICAgIHNjYWxlPzogbnVtYmVyLFxuICAgIGRyYWdnYWJsZT86IGJvb2xlYW4sXG4gICAgY2xpY2tUb2xlcmFuY2U/OiBudW1iZXIsXG4gICAgcm90YXRpb24/OiBudW1iZXIsXG4gICAgcm90YXRpb25BbGlnbm1lbnQ/OiBzdHJpbmcsXG4gICAgcGl0Y2hBbGlnbm1lbnQ/OiBzdHJpbmcsXG4gICAgb2NjbHVkZWRPcGFjaXR5PzogbnVtYmVyXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXJrZXIgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtvcHRpb25zLmVsZW1lbnRdIERPTSBlbGVtZW50IHRvIHVzZSBhcyBhIG1hcmtlci4gVGhlIGRlZmF1bHQgaXMgYSBsaWdodCBibHVlLCBkcm9wbGV0LXNoYXBlZCBTVkcgbWFya2VyLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFuY2hvcj0nY2VudGVyJ10gQSBzdHJpbmcgaW5kaWNhdGluZyB0aGUgcGFydCBvZiB0aGUgTWFya2VyIHRoYXQgc2hvdWxkIGJlIHBvc2l0aW9uZWQgY2xvc2VzdCB0byB0aGUgY29vcmRpbmF0ZSBzZXQgdmlhIHtAbGluayBNYXJrZXIjc2V0TG5nTGF0fS5cbiAqICAgT3B0aW9ucyBhcmUgYCdjZW50ZXInYCwgYCd0b3AnYCwgYCdib3R0b20nYCwgYCdsZWZ0J2AsIGAncmlnaHQnYCwgYCd0b3AtbGVmdCdgLCBgJ3RvcC1yaWdodCdgLCBgJ2JvdHRvbS1sZWZ0J2AsIGFuZCBgJ2JvdHRvbS1yaWdodCdgLlxuICogQHBhcmFtIHtQb2ludExpa2V9IFtvcHRpb25zLm9mZnNldF0gVGhlIG9mZnNldCBpbiBwaXhlbHMgYXMgYSB7QGxpbmsgUG9pbnRMaWtlfSBvYmplY3QgdG8gYXBwbHkgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQncyBjZW50ZXIuIE5lZ2F0aXZlcyBpbmRpY2F0ZSBsZWZ0IGFuZCB1cC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5jb2xvcj0nIzNGQjFDRSddIFRoZSBjb2xvciB0byB1c2UgZm9yIHRoZSBkZWZhdWx0IG1hcmtlciBpZiBgb3B0aW9ucy5lbGVtZW50YCBpcyBub3QgcHJvdmlkZWQuIFRoZSBkZWZhdWx0IGlzIGxpZ2h0IGJsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gVGhlIHNjYWxlIHRvIHVzZSBmb3IgdGhlIGRlZmF1bHQgbWFya2VyIGlmIGBvcHRpb25zLmVsZW1lbnRgIGlzIG5vdCBwcm92aWRlZC4gVGhlIGRlZmF1bHQgc2NhbGUgY29ycmVzcG9uZHMgdG8gYSBoZWlnaHQgb2YgYDQxcHhgIGFuZCBhIHdpZHRoIG9mIGAyN3B4YC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZHJhZ2dhYmxlPWZhbHNlXSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCBhIG1hcmtlciBpcyBhYmxlIHRvIGJlIGRyYWdnZWQgdG8gYSBuZXcgcG9zaXRpb24gb24gdGhlIG1hcC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jbGlja1RvbGVyYW5jZT0wXSBUaGUgbWF4IG51bWJlciBvZiBwaXhlbHMgYSB1c2VyIGNhbiBzaGlmdCB0aGUgbW91c2UgcG9pbnRlciBkdXJpbmcgYSBjbGljayBvbiB0aGUgbWFya2VyIGZvciBpdCB0byBiZSBjb25zaWRlcmVkIGEgdmFsaWQgY2xpY2sgKGFzIG9wcG9zZWQgdG8gYSBtYXJrZXIgZHJhZykuIFRoZSBkZWZhdWx0IGlzIHRvIGluaGVyaXQgbWFwJ3MgYGNsaWNrVG9sZXJhbmNlYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yb3RhdGlvbj0wXSBUaGUgcm90YXRpb24gYW5nbGUgb2YgdGhlIG1hcmtlciBpbiBkZWdyZWVzLCByZWxhdGl2ZSB0byBpdHMgcmVzcGVjdGl2ZSBgcm90YXRpb25BbGlnbm1lbnRgIHNldHRpbmcuIEEgcG9zaXRpdmUgdmFsdWUgd2lsbCByb3RhdGUgdGhlIG1hcmtlciBjbG9ja3dpc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucGl0Y2hBbGlnbm1lbnQ9J2F1dG8nXSBgJ21hcCdgIGFsaWducyB0aGUgYE1hcmtlcmAgdG8gdGhlIHBsYW5lIG9mIHRoZSBtYXAuIGAndmlld3BvcnQnYCBhbGlnbnMgdGhlIGBNYXJrZXJgIHRvIHRoZSBwbGFuZSBvZiB0aGUgdmlld3BvcnQuIGAnYXV0bydgIGF1dG9tYXRpY2FsbHkgbWF0Y2hlcyB0aGUgdmFsdWUgb2YgYHJvdGF0aW9uQWxpZ25tZW50YC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5yb3RhdGlvbkFsaWdubWVudD0nYXV0byddIFRoZSBhbGlnbm1lbnQgb2YgdGhlIG1hcmtlcidzIHJvdGF0aW9uLmAnbWFwJ2AgaXMgYWxpZ25lZCB3aXRoIHRoZSBtYXAgcGxhbmUsIGNvbnNpc3RlbnQgd2l0aCB0aGUgY2FyZGluYWwgZGlyZWN0aW9ucyBhcyB0aGUgbWFwIHJvdGF0ZXMuIGAndmlld3BvcnQnYCBpcyBzY3JlZW5zcGFjZS1hbGlnbmVkLiBgJ2hvcml6b24nYCBpcyBhbGlnbmVkIGFjY29yZGluZyB0byB0aGUgbmVhcmVzdCBob3Jpem9uLCBvbiBub24tZ2xvYmUgcHJvamVjdGlvbnMgaXQgaXMgZXF1aXZhbGVudCB0byBgJ3ZpZXdwb3J0J2AuIGAnYXV0bydgIGlzIGVxdWl2YWxlbnQgdG8gYCd2aWV3cG9ydCdgLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm9jY2x1ZGVkT3BhY2l0eT0wLjJdIFRoZSBvcGFjaXR5IG9mIGEgbWFya2VyIHRoYXQncyBvY2NsdWRlZCBieSAzRCB0ZXJyYWluLlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBtYXJrZXIuXG4gKiBjb25zdCBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKClcbiAqICAgICAuc2V0TG5nTGF0KFszMC41LCA1MC41XSlcbiAqICAgICAuYWRkVG8obWFwKTtcbiAqIEBleGFtcGxlXG4gKiAvLyBTZXQgbWFya2VyIG9wdGlvbnMuXG4gKiBjb25zdCBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKHtcbiAqICAgICBjb2xvcjogXCIjRkZGRkZGXCIsXG4gKiAgICAgZHJhZ2dhYmxlOiB0cnVlXG4gKiB9KS5zZXRMbmdMYXQoWzMwLjUsIDUwLjVdKVxuICogICAgIC5hZGRUbyhtYXApO1xuICogQHNlZSBbRXhhbXBsZTogQWRkIGN1c3RvbSBpY29ucyB3aXRoIE1hcmtlcnNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY3VzdG9tLW1hcmtlci1pY29ucy8pXG4gKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYSBkcmFnZ2FibGUgTWFya2VyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1tYXJrZXIvKVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJrZXIgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBfbWFwOiA/TWFwO1xuICAgIF9hbmNob3I6IEFuY2hvcjtcbiAgICBfb2Zmc2V0OiBQb2ludDtcbiAgICBfZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgX3BvcHVwOiA/UG9wdXA7XG4gICAgX2xuZ0xhdDogTG5nTGF0O1xuICAgIF9wb3M6ID9Qb2ludDtcbiAgICBfY29sb3I6IHN0cmluZztcbiAgICBfc2NhbGU6IG51bWJlcjtcbiAgICBfZGVmYXVsdE1hcmtlcjogYm9vbGVhbjtcbiAgICBfZHJhZ2dhYmxlOiBib29sZWFuO1xuICAgIF9jbGlja1RvbGVyYW5jZTogbnVtYmVyO1xuICAgIF9pc0RyYWdnaW5nOiBib29sZWFuO1xuICAgIF9zdGF0ZTogJ2luYWN0aXZlJyB8ICdwZW5kaW5nJyB8ICdhY3RpdmUnOyAvLyB1c2VkIGZvciBoYW5kbGluZyBkcmFnIGV2ZW50c1xuICAgIF9wb3NpdGlvbkRlbHRhOiA/UG9pbnQ7XG4gICAgX3BvaW50ZXJkb3duUG9zOiA/UG9pbnQ7XG4gICAgX3JvdGF0aW9uOiBudW1iZXI7XG4gICAgX3BpdGNoQWxpZ25tZW50OiBzdHJpbmc7XG4gICAgX3JvdGF0aW9uQWxpZ25tZW50OiBzdHJpbmc7XG4gICAgX29yaWdpbmFsVGFiSW5kZXg6ID9zdHJpbmc7IC8vIG9yaWdpbmFsIHRhYmluZGV4IG9mIF9lbGVtZW50XG4gICAgX2ZhZGVUaW1lcjogP1RpbWVvdXRJRDtcbiAgICBfdXBkYXRlRnJhbWVJZDogbnVtYmVyO1xuICAgIF91cGRhdGVNb3Zpbmc6ICgpID0+IHZvaWQ7XG4gICAgX29jY2x1ZGVkT3BhY2l0eTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86IE9wdGlvbnMsIGxlZ2FjeU9wdGlvbnM/OiBPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8vIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IC0tIHRoZSBjb25zdHJ1Y3RvciB1c2VkIHRvIGFjY2VwdCB0aGUgZWxlbWVudCBhcyBhXG4gICAgICAgIC8vIHJlcXVpcmVkIGZpcnN0IGFyZ3VtZW50LCBiZWZvcmUgaXQgd2FzIG1hZGUgb3B0aW9uYWwuXG4gICAgICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50IHx8IGxlZ2FjeU9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe2VsZW1lbnQ6IG9wdGlvbnN9LCBsZWdhY3lPcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ191cGRhdGUnLFxuICAgICAgICAgICAgJ19vbk1vdmUnLFxuICAgICAgICAgICAgJ19vblVwJyxcbiAgICAgICAgICAgICdfYWRkRHJhZ0hhbmRsZXInLFxuICAgICAgICAgICAgJ19vbk1hcENsaWNrJyxcbiAgICAgICAgICAgICdfb25LZXlQcmVzcycsXG4gICAgICAgICAgICAnX2NsZWFyRmFkZVRpbWVyJ1xuICAgICAgICBdLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9hbmNob3IgPSAob3B0aW9ucyAmJiBvcHRpb25zLmFuY2hvcikgfHwgJ2NlbnRlcic7XG4gICAgICAgIHRoaXMuX2NvbG9yID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5jb2xvcikgfHwgJyMzRkIxQ0UnO1xuICAgICAgICB0aGlzLl9zY2FsZSA9IChvcHRpb25zICYmIG9wdGlvbnMuc2NhbGUpIHx8IDE7XG4gICAgICAgIHRoaXMuX2RyYWdnYWJsZSA9IChvcHRpb25zICYmIG9wdGlvbnMuZHJhZ2dhYmxlKSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2xpY2tUb2xlcmFuY2UgPSAob3B0aW9ucyAmJiBvcHRpb25zLmNsaWNrVG9sZXJhbmNlKSB8fCAwO1xuICAgICAgICB0aGlzLl9pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ2luYWN0aXZlJztcbiAgICAgICAgdGhpcy5fcm90YXRpb24gPSAob3B0aW9ucyAmJiBvcHRpb25zLnJvdGF0aW9uKSB8fCAwO1xuICAgICAgICB0aGlzLl9yb3RhdGlvbkFsaWdubWVudCA9IChvcHRpb25zICYmIG9wdGlvbnMucm90YXRpb25BbGlnbm1lbnQpIHx8ICdhdXRvJztcbiAgICAgICAgdGhpcy5fcGl0Y2hBbGlnbm1lbnQgPSAob3B0aW9ucyAmJiBvcHRpb25zLnBpdGNoQWxpZ25tZW50ICYmIG9wdGlvbnMucGl0Y2hBbGlnbm1lbnQpIHx8ICdhdXRvJztcbiAgICAgICAgdGhpcy5fdXBkYXRlTW92aW5nID0gKCkgPT4gdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICB0aGlzLl9vY2NsdWRlZE9wYWNpdHkgPSAob3B0aW9ucyAmJiBvcHRpb25zLm9jY2x1ZGVkT3BhY2l0eSkgfHwgMC4yO1xuXG4gICAgICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0TWFya2VyID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBET00uY3JlYXRlKCdkaXYnKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIGRlZmF1bHQgbWFwIG1hcmtlciBTVkdcblxuICAgICAgICAgICAgY29uc3QgREVGQVVMVF9IRUlHSFQgPSA0MTtcbiAgICAgICAgICAgIGNvbnN0IERFRkFVTFRfV0lEVEggPSAyNztcblxuICAgICAgICAgICAgY29uc3Qgc3ZnID0gRE9NLmNyZWF0ZVNWRygnc3ZnJywge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtERUZBVUxUX0hFSUdIVCAqIHRoaXMuX3NjYWxlfXB4YCxcbiAgICAgICAgICAgICAgICB3aWR0aDogYCR7REVGQVVMVF9XSURUSCAqIHRoaXMuX3NjYWxlfXB4YCxcbiAgICAgICAgICAgICAgICB2aWV3Qm94OiBgMCAwICR7REVGQVVMVF9XSURUSH0gJHtERUZBVUxUX0hFSUdIVH1gXG4gICAgICAgICAgICB9LCB0aGlzLl9lbGVtZW50KTtcblxuICAgICAgICAgICAgY29uc3QgZ3JhZGllbnQgPSBET00uY3JlYXRlU1ZHKCdyYWRpYWxHcmFkaWVudCcsIHtpZDogJ3NoYWRvd0dyYWRpZW50J30sIERPTS5jcmVhdGVTVkcoJ2RlZnMnLCB7fSwgc3ZnKSk7XG4gICAgICAgICAgICBET00uY3JlYXRlU1ZHKCdzdG9wJywge29mZnNldDogJzEwJScsICdzdG9wLW9wYWNpdHknOiAwLjR9LCBncmFkaWVudCk7XG4gICAgICAgICAgICBET00uY3JlYXRlU1ZHKCdzdG9wJywge29mZnNldDogJzEwMCUnLCAnc3RvcC1vcGFjaXR5JzogMC4wNX0sIGdyYWRpZW50KTtcbiAgICAgICAgICAgIERPTS5jcmVhdGVTVkcoJ2VsbGlwc2UnLCB7Y3g6IDEzLjUsIGN5OiAzNC44LCByeDogMTAuNSwgcnk6IDUuMjUsIGZpbGw6ICd1cmwoI3NoYWRvd0dyYWRpZW50KSd9LCBzdmcpOyAvLyBzaGFkb3dcblxuICAgICAgICAgICAgRE9NLmNyZWF0ZVNWRygncGF0aCcsIHsgLy8gbWFya2VyIHNoYXBlXG4gICAgICAgICAgICAgICAgZmlsbDogdGhpcy5fY29sb3IsXG4gICAgICAgICAgICAgICAgZDogJ00yNywxMy41QzI3LDE5LjA3IDIwLjI1LDI3IDE0Ljc1LDM0LjVDMTQuMDIsMzUuNSAxMi45OCwzNS41IDEyLjI1LDM0LjVDNi43NSwyNyAwLDE5LjIyIDAsMTMuNUMwLDYuMDQgNi4wNCwwIDEzLjUsMEMyMC45NiwwIDI3LDYuMDQgMjcsMTMuNVonXG4gICAgICAgICAgICB9LCBzdmcpO1xuICAgICAgICAgICAgRE9NLmNyZWF0ZVNWRygncGF0aCcsIHsgLy8gYm9yZGVyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMC4yNSxcbiAgICAgICAgICAgICAgICBkOiAnTTEzLjUsMEM2LjA0LDAgMCw2LjA0IDAsMTMuNUMwLDE5LjIyIDYuNzUsMjcgMTIuMjUsMzQuNUMxMywzNS41MiAxNC4wMiwzNS41IDE0Ljc1LDM0LjVDMjAuMjUsMjcgMjcsMTkuMDcgMjcsMTMuNUMyNyw2LjA0IDIwLjk2LDAgMTMuNSwwWk0xMy41LDFDMjAuNDIsMSAyNiw2LjU4IDI2LDEzLjVDMjYsMTUuOSAyNC41LDE5LjE4IDIyLjIyLDIyLjc0QzE5Ljk1LDI2LjMgMTYuNzEsMzAuMTQgMTMuOTQsMzMuOTFDMTMuNzQsMzQuMTggMTMuNjEsMzQuMzIgMTMuNSwzNC40NEMxMy4zOSwzNC4zMiAxMy4yNiwzNC4xOCAxMy4wNiwzMy45MUMxMC4yOCwzMC4xMyA3LjQxLDI2LjMxIDUuMDIsMjIuNzdDMi42MiwxOS4yMyAxLDE1Ljk1IDEsMTMuNUMxLDYuNTggNi41OCwxIDEzLjUsMVonXG4gICAgICAgICAgICB9LCBzdmcpO1xuXG4gICAgICAgICAgICBET00uY3JlYXRlU1ZHKCdjaXJjbGUnLCB7ZmlsbDogJ3doaXRlJywgY3g6IDEzLjUsIGN5OiAxMy41LCByOiA1LjV9LCBzdmcpOyAvLyBjaXJjbGVcblxuICAgICAgICAgICAgLy8gaWYgbm8gZWxlbWVudCBhbmQgbm8gb2Zmc2V0IG9wdGlvbiBnaXZlbiBhcHBseSBhbiBvZmZzZXQgZm9yIHRoZSBkZWZhdWx0IG1hcmtlclxuICAgICAgICAgICAgLy8gdGhlIC0xNCBhcyB0aGUgeSB2YWx1ZSBvZiB0aGUgZGVmYXVsdCBtYXJrZXIgb2Zmc2V0IHdhcyBkZXRlcm1pbmVkIGFzIGZvbGxvd3NcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyB0aGUgbWFya2VyIHRpcCBpcyBhdCB0aGUgY2VudGVyIG9mIHRoZSBzaGFkb3cgZWxsaXBzZSBmcm9tIHRoZSBkZWZhdWx0IHN2Z1xuICAgICAgICAgICAgLy8gdGhlIHkgdmFsdWUgb2YgdGhlIGNlbnRlciBvZiB0aGUgc2hhZG93IGVsbGlwc2UgcmVsYXRpdmUgdG8gdGhlIHN2ZyB0b3AgbGVmdCBpcyAzNC44XG4gICAgICAgICAgICAvLyBvZmZzZXQgdG8gdGhlIHN2ZyBjZW50ZXIgXCJoZWlnaHQgKDQxIC8gMilcIiBnaXZlcyAzNC44IC0gKDQxIC8gMikgYW5kIHJvdW5kZWQgZm9yIGFuIGludGVnZXIgcGl4ZWwgb2Zmc2V0IGdpdmVzIDE0XG4gICAgICAgICAgICAvLyBuZWdhdGl2ZSBpcyB1c2VkIHRvIG1vdmUgdGhlIG1hcmtlciB1cCBmcm9tIHRoZSBjZW50ZXIgc28gdGhlIHRpcCBpcyBhdCB0aGUgTWFya2VyIGxuZ0xhdFxuICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gUG9pbnQuY29udmVydCgob3B0aW9ucyAmJiBvcHRpb25zLm9mZnNldCkgfHwgWzAsIC0xNF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IFBvaW50LmNvbnZlcnQoKG9wdGlvbnMgJiYgb3B0aW9ucy5vZmZzZXQpIHx8IFswLCAwXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2VsZW1lbnQuaGFzQXR0cmlidXRlKCdhcmlhLWxhYmVsJykpIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ01hcCBtYXJrZXInKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1tYXJrZXInKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZTogRHJhZ0V2ZW50KSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBwcmV2ZW50IGZvY3VzaW5nIG9uIGNsaWNrXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjbGFzc0xpc3QgPSB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdDtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYW5jaG9yVHJhbnNsYXRlKSB7XG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGBtYXBib3hnbC1tYXJrZXItYW5jaG9yLSR7a2V5fWApO1xuICAgICAgICB9XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoYG1hcGJveGdsLW1hcmtlci1hbmNob3ItJHt0aGlzLl9hbmNob3J9YCk7XG5cbiAgICAgICAgdGhpcy5fcG9wdXAgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIHRoZSBgTWFya2VyYCB0byBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWFwfSBtYXAgVGhlIE1hcGJveCBHTCBKUyBtYXAgdG8gYWRkIHRoZSBtYXJrZXIgdG8uXG4gICAgICogQHJldHVybnMge01hcmtlcn0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG1hcmtlciA9IG5ldyBtYXBib3hnbC5NYXJrZXIoKVxuICAgICAqICAgICAuc2V0TG5nTGF0KFszMC41LCA1MC41XSlcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7IC8vIGFkZCB0aGUgbWFya2VyIHRvIHRoZSBtYXBcbiAgICAgKi9cbiAgICBhZGRUbyhtYXA6IE1hcCk6IHRoaXMge1xuICAgICAgICBpZiAobWFwID09PSB0aGlzLl9tYXApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICBtYXAub24oJ21vdmUnLCB0aGlzLl91cGRhdGVNb3ZpbmcpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIG1hcC5vbignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgbWFwLm9uKCdyZW1vdmUnLCB0aGlzLl9jbGVhckZhZGVUaW1lcik7XG4gICAgICAgIG1hcC5fYWRkTWFya2VyKHRoaXMpO1xuICAgICAgICB0aGlzLnNldERyYWdnYWJsZSh0aGlzLl9kcmFnZ2FibGUpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICAvLyBJZiB3ZSBhdHRhY2hlZCB0aGUgYGNsaWNrYCBsaXN0ZW5lciB0byB0aGUgbWFya2VyIGVsZW1lbnQsIHRoZSBwb3B1cFxuICAgICAgICAvLyB3b3VsZCBjbG9zZSBvbmNlIHRoZSBldmVudCBwcm9wb2dhdGVkIHRvIGBtYXBgIGR1ZSB0byB0aGVcbiAgICAgICAgLy8gYFBvcHVwI19vbkNsaWNrQ2xvc2VgIGxpc3RlbmVyLlxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIG1hcC5vbignY2xpY2snLCB0aGlzLl9vbk1hcENsaWNrKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBtYXJrZXIgZnJvbSBhIG1hcC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbWFya2VyID0gbmV3IG1hcGJveGdsLk1hcmtlcigpLmFkZFRvKG1hcCk7XG4gICAgICogbWFya2VyLnJlbW92ZSgpO1xuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcmVtb3ZlKCk6IHRoaXMge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ2NsaWNrJywgdGhpcy5fb25NYXBDbGljayk7XG4gICAgICAgICAgICBtYXAub2ZmKCdtb3ZlJywgdGhpcy5fdXBkYXRlTW92aW5nKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ21vdmVlbmQnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZignbW91c2Vkb3duJywgdGhpcy5fYWRkRHJhZ0hhbmRsZXIpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZigndG91Y2hzdGFydCcsIHRoaXMuX2FkZERyYWdIYW5kbGVyKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ21vdXNldXAnLCB0aGlzLl9vblVwKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ3RvdWNoZW5kJywgdGhpcy5fb25VcCk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub2ZmKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdmUpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZigndG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ3JlbW92ZScsIHRoaXMuX2NsZWFyRmFkZVRpbWVyKTtcbiAgICAgICAgICAgIG1hcC5fcmVtb3ZlTWFya2VyKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fbWFwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NsZWFyRmFkZVRpbWVyKCk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIGlmICh0aGlzLl9wb3B1cCkgdGhpcy5fcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWFya2VyJ3MgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uLlxuICAgICAqXG4gICAgICogVGhlIGxvbmdpdHVkZSBvZiB0aGUgcmVzdWx0IG1heSBkaWZmZXIgYnkgYSBtdWx0aXBsZSBvZiAzNjAgZGVncmVlcyBmcm9tIHRoZSBsb25naXR1ZGUgcHJldmlvdXNseVxuICAgICAqIHNldCBieSBgc2V0TG5nTGF0YCBiZWNhdXNlIGBNYXJrZXJgIHdyYXBzIHRoZSBhbmNob3IgbG9uZ2l0dWRlIGFjcm9zcyBjb3BpZXMgb2YgdGhlIHdvcmxkIHRvIGtlZXBcbiAgICAgKiB0aGUgbWFya2VyIG9uIHNjcmVlbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IEEge0BsaW5rIExuZ0xhdH0gZGVzY3JpYmluZyB0aGUgbWFya2VyJ3MgbG9jYXRpb24uXG4gICAgKiBAZXhhbXBsZVxuICAgICogLy8gU3RvcmUgdGhlIG1hcmtlcidzIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgY29vcmRpbmF0ZXMgaW4gYSB2YXJpYWJsZVxuICAgICogY29uc3QgbG5nTGF0ID0gbWFya2VyLmdldExuZ0xhdCgpO1xuICAgICogLy8gUHJpbnQgdGhlIG1hcmtlcidzIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgdmFsdWVzIGluIHRoZSBjb25zb2xlXG4gICAgKiBjb25zb2xlLmxvZyhgTG9uZ2l0dWRlOiAke2xuZ0xhdC5sbmd9LCBMYXRpdHVkZTogJHtsbmdMYXQubGF0fWApO1xuICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIE1hcmtlcl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLW1hcmtlci8pXG4gICAgKi9cbiAgICBnZXRMbmdMYXQoKTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xuZ0xhdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFNldCB0aGUgbWFya2VyJ3MgZ2VvZ3JhcGhpY2FsIHBvc2l0aW9uIGFuZCBtb3ZlIGl0LlxuICAgICAqXG4gICAgKiBAcGFyYW0ge0xuZ0xhdH0gbG5nbGF0IEEge0BsaW5rIExuZ0xhdH0gZGVzY3JpYmluZyB3aGVyZSB0aGUgbWFya2VyIHNob3VsZCBiZSBsb2NhdGVkLlxuICAgICogQHJldHVybnMge01hcmtlcn0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAqIEBleGFtcGxlXG4gICAgKiAvLyBDcmVhdGUgYSBuZXcgbWFya2VyLCBzZXQgdGhlIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUsIGFuZCBhZGQgaXQgdG8gdGhlIG1hcC5cbiAgICAqIG5ldyBtYXBib3hnbC5NYXJrZXIoKVxuICAgICogICAgIC5zZXRMbmdMYXQoWy02NS4wMTcsIC0xNi40NTddKVxuICAgICogICAgIC5hZGRUbyhtYXApO1xuICAgICogQHNlZSBbRXhhbXBsZTogQWRkIGN1c3RvbSBpY29ucyB3aXRoIE1hcmtlcnNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2N1c3RvbS1tYXJrZXItaWNvbnMvKVxuICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIE1hcmtlcl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLW1hcmtlci8pXG4gICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSBtYXJrZXIgdXNpbmcgYSBwbGFjZSBuYW1lXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tYXJrZXItZnJvbS1nZW9jb2RlLylcbiAgICAqL1xuICAgIHNldExuZ0xhdChsbmdsYXQ6IExuZ0xhdExpa2UpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fbG5nTGF0ID0gTG5nTGF0LmNvbnZlcnQobG5nbGF0KTtcbiAgICAgICAgdGhpcy5fcG9zID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3BvcHVwKSB0aGlzLl9wb3B1cC5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBgTWFya2VyYCdzIEhUTUwgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gUmV0dXJucyB0aGUgbWFya2VyIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBlbGVtZW50ID0gbWFya2VyLmdldEVsZW1lbnQoKTtcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmluZHMgYSB7QGxpbmsgUG9wdXB9IHRvIHRoZSB7QGxpbmsgTWFya2VyfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UG9wdXAgfCBudWxsfSBwb3B1cCBBbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIFBvcHVwfSBjbGFzcy4gSWYgdW5kZWZpbmVkIG9yIG51bGwsIGFueSBwb3B1cFxuICAgICAqIHNldCBvbiB0aGlzIHtAbGluayBNYXJrZXJ9IGluc3RhbmNlIGlzIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKClcbiAgICAgKiAgICAgLnNldExuZ0xhdChbMCwgMF0pXG4gICAgICogICAgIC5zZXRQb3B1cChuZXcgbWFwYm94Z2wuUG9wdXAoKS5zZXRIVE1MKFwiPGgxPkhlbGxvIFdvcmxkITwvaDE+XCIpKSAvLyBhZGQgcG9wdXBcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogQXR0YWNoIGEgcG9wdXAgdG8gYSBtYXJrZXIgaW5zdGFuY2VdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3NldC1wb3B1cC8pXG4gICAgICovXG4gICAgc2V0UG9wdXAocG9wdXA6ID9Qb3B1cCk6IHRoaXMge1xuICAgICAgICBpZiAodGhpcy5fcG9wdXApIHtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5fcG9wdXAgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3JvbGUnKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLl9vbktleVByZXNzKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9vcmlnaW5hbFRhYkluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9wdXApIHtcbiAgICAgICAgICAgIGlmICghKCdvZmZzZXQnIGluIHBvcHVwLm9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFya2VySGVpZ2h0ID0gNDEgLSAoNS44IC8gMik7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFya2VyUmFkaXVzID0gMTMuNTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lYXJPZmZzZXQgPSBNYXRoLnNxcnQoTWF0aC5wb3cobWFya2VyUmFkaXVzLCAyKSAvIDIpO1xuICAgICAgICAgICAgICAgIHBvcHVwLm9wdGlvbnMub2Zmc2V0ID0gdGhpcy5fZGVmYXVsdE1hcmtlciA/IHtcbiAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IFswLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgJ3RvcC1sZWZ0JzogWzAsIDBdLFxuICAgICAgICAgICAgICAgICAgICAndG9wLXJpZ2h0JzogWzAsIDBdLFxuICAgICAgICAgICAgICAgICAgICAnYm90dG9tJzogWzAsIC1tYXJrZXJIZWlnaHRdLFxuICAgICAgICAgICAgICAgICAgICAnYm90dG9tLWxlZnQnOiBbbGluZWFyT2Zmc2V0LCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzICsgbGluZWFyT2Zmc2V0KSAqIC0xXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JvdHRvbS1yaWdodCc6IFstbGluZWFyT2Zmc2V0LCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzICsgbGluZWFyT2Zmc2V0KSAqIC0xXSxcbiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiBbbWFya2VyUmFkaXVzLCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzKSAqIC0xXSxcbiAgICAgICAgICAgICAgICAgICAgJ3JpZ2h0JzogWy1tYXJrZXJSYWRpdXMsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMpICogLTFdXG4gICAgICAgICAgICAgICAgfSA6IHRoaXMuX29mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XG4gICAgICAgICAgICBwb3B1cC5fbWFya2VyID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl9sbmdMYXQpIHRoaXMuX3BvcHVwLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpO1xuXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsVGFiSW5kZXggPSB0aGlzLl9lbGVtZW50LmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fb3JpZ2luYWxUYWJJbmRleCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5fb25LZXlQcmVzcyk7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX29uS2V5UHJlc3MoZTogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBjb25zdCBjb2RlID0gZS5jb2RlO1xuICAgICAgICBjb25zdCBsZWdhY3lDb2RlID0gZS5jaGFyQ29kZSB8fCBlLmtleUNvZGU7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGNvZGUgPT09ICdTcGFjZScpIHx8IChjb2RlID09PSAnRW50ZXInKSB8fFxuICAgICAgICAgICAgKGxlZ2FjeUNvZGUgPT09IDMyKSB8fCAobGVnYWN5Q29kZSA9PT0gMTMpIC8vIHNwYWNlIG9yIGVudGVyXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQb3B1cCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uTWFwQ2xpY2soZTogTWFwTW91c2VFdmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZS5vcmlnaW5hbEV2ZW50LnRhcmdldDtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX3BvcHVwICYmICh0YXJnZXRFbGVtZW50ID09PSBlbGVtZW50IHx8IGVsZW1lbnQuY29udGFpbnMoKHRhcmdldEVsZW1lbnQ6IGFueSkpKSkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQb3B1cCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUge0BsaW5rIFBvcHVwfSBpbnN0YW5jZSB0aGF0IGlzIGJvdW5kIHRvIHRoZSB7QGxpbmsgTWFya2VyfS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gUmV0dXJucyB0aGUgcG9wdXAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKClcbiAgICAgKiAgICAgLnNldExuZ0xhdChbMCwgMF0pXG4gICAgICogICAgIC5zZXRQb3B1cChuZXcgbWFwYm94Z2wuUG9wdXAoKS5zZXRIVE1MKFwiPGgxPkhlbGxvIFdvcmxkITwvaDE+XCIpKVxuICAgICAqICAgICAuYWRkVG8obWFwKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG1hcmtlci5nZXRQb3B1cCgpKTsgLy8gcmV0dXJuIHRoZSBwb3B1cCBpbnN0YW5jZVxuICAgICAqL1xuICAgIGdldFBvcHVwKCk6ID9Qb3B1cCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3B1cDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPcGVucyBvciBjbG9zZXMgdGhlIHtAbGluayBQb3B1cH0gaW5zdGFuY2UgdGhhdCBpcyBib3VuZCB0byB0aGUge0BsaW5rIE1hcmtlcn0sIGRlcGVuZGluZyBvbiB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUge0BsaW5rIFBvcHVwfS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKClcbiAgICAgKiAgICAgLnNldExuZ0xhdChbMCwgMF0pXG4gICAgICogICAgIC5zZXRQb3B1cChuZXcgbWFwYm94Z2wuUG9wdXAoKS5zZXRIVE1MKFwiPGgxPkhlbGxvIFdvcmxkITwvaDE+XCIpKVxuICAgICAqICAgICAuYWRkVG8obWFwKTtcbiAgICAgKlxuICAgICAqIG1hcmtlci50b2dnbGVQb3B1cCgpOyAvLyB0b2dnbGUgcG9wdXAgb3BlbiBvciBjbG9zZWRcbiAgICAgKi9cbiAgICB0b2dnbGVQb3B1cCgpOiB0aGlzIHtcbiAgICAgICAgY29uc3QgcG9wdXAgPSB0aGlzLl9wb3B1cDtcbiAgICAgICAgaWYgKCFwb3B1cCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSBpZiAocG9wdXAuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgIHBvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9tYXApIHtcbiAgICAgICAgICAgIHBvcHVwLmFkZFRvKHRoaXMuX21hcCk7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2JlaGluZFRlcnJhaW4oKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5fcG9zO1xuICAgICAgICBpZiAoIW1hcCB8fCAhcG9zKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IHVucHJvamVjdGVkID0gbWFwLnVucHJvamVjdChwb3MpO1xuICAgICAgICBjb25zdCBjYW1lcmEgPSBtYXAuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTtcbiAgICAgICAgaWYgKCFjYW1lcmEucG9zaXRpb24pIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgY2FtZXJhTG5nTGF0ID0gY2FtZXJhLnBvc2l0aW9uLnRvTG5nTGF0KCk7XG4gICAgICAgIGNvbnN0IHRvQ2xvc2VzdFN1cmZhY2UgPSBjYW1lcmFMbmdMYXQuZGlzdGFuY2VUbyh1bnByb2plY3RlZCk7XG4gICAgICAgIGNvbnN0IHRvTWFya2VyID0gY2FtZXJhTG5nTGF0LmRpc3RhbmNlVG8odGhpcy5fbG5nTGF0KTtcbiAgICAgICAgcmV0dXJuIHRvQ2xvc2VzdFN1cmZhY2UgPCB0b01hcmtlciAqIDAuOTtcblxuICAgIH1cblxuICAgIF9ldmFsdWF0ZU9wYWNpdHkoKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgaWYgKCFtYXApIHJldHVybjtcblxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9wb3M7XG5cbiAgICAgICAgaWYgKCFwb3MgfHwgcG9zLnggPCAwIHx8IHBvcy54ID4gbWFwLnRyYW5zZm9ybS53aWR0aCB8fCBwb3MueSA8IDAgfHwgcG9zLnkgPiBtYXAudHJhbnNmb3JtLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJGYWRlVGltZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYXBMb2NhdGlvbiA9IG1hcC51bnByb2plY3QocG9zKTtcbiAgICAgICAgbGV0IG9wYWNpdHk7XG4gICAgICAgIGlmIChtYXAuX3Nob3dpbmdHbG9iZSgpICYmIGlzTG5nTGF0QmVoaW5kR2xvYmUobWFwLnRyYW5zZm9ybSwgdGhpcy5fbG5nTGF0KSkge1xuICAgICAgICAgICAgb3BhY2l0eSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcGFjaXR5ID0gMSAtIG1hcC5fcXVlcnlGb2dPcGFjaXR5KG1hcExvY2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChtYXAudHJhbnNmb3JtLl90ZXJyYWluRW5hYmxlZCgpICYmIG1hcC5nZXRUZXJyYWluKCkgJiYgdGhpcy5fYmVoaW5kVGVycmFpbigpKSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eSAqPSB0aGlzLl9vY2NsdWRlZE9wYWNpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLm9wYWNpdHkgPSBgJHtvcGFjaXR5fWA7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9IG9wYWNpdHkgPiAwID8gJ2F1dG8nIDogJ25vbmUnO1xuICAgICAgICBpZiAodGhpcy5fcG9wdXApIHtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwLl9zZXRPcGFjaXR5KG9wYWNpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmFkZVRpbWVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBfY2xlYXJGYWRlVGltZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9mYWRlVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9mYWRlVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5fZmFkZVRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVET00oKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuX3BvcztcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBpZiAoIXBvcyB8fCAhbWFwKSB7IHJldHVybjsgfVxuXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuX29mZnNldC5tdWx0KHRoaXMuX3NjYWxlKTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGBcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgke3Bvcy54fXB4LCR7cG9zLnl9cHgpXG4gICAgICAgICAgICAke2FuY2hvclRyYW5zbGF0ZVt0aGlzLl9hbmNob3JdfVxuICAgICAgICAgICAgJHt0aGlzLl9jYWxjdWxhdGVYWVRyYW5zZm9ybSgpfSAke3RoaXMuX2NhbGN1bGF0ZVpUcmFuc2Zvcm0oKX1cbiAgICAgICAgICAgIHRyYW5zbGF0ZSgke29mZnNldC54fXB4LCR7b2Zmc2V0Lnl9cHgpXG4gICAgICAgIGA7XG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZVhZVHJhbnNmb3JtKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuX3BvcztcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBjb25zdCBhbGlnbm1lbnQgPSB0aGlzLmdldFBpdGNoQWxpZ25tZW50KCk7XG5cbiAgICAgICAgLy8gYHZpZXdwb3J0JywgJ2F1dG8nIGFuZCBpbnZhbGlkIGFydWdtZW50cyBkbyBubyBwaXRjaCB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgICAgaWYgKCFtYXAgfHwgIXBvcyB8fCBhbGlnbm1lbnQgIT09ICdtYXAnKSB7XG4gICAgICAgICAgICByZXR1cm4gYGA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gJ21hcCcgYWxpZ25tZW50IG9uIGEgZmxhdCBtYXBcbiAgICAgICAgaWYgKCFtYXAuX3Nob3dpbmdHbG9iZSgpKSB7XG4gICAgICAgICAgICBjb25zdCBwaXRjaCA9IG1hcC5nZXRQaXRjaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHBpdGNoID8gYHJvdGF0ZVgoJHtwaXRjaH1kZWcpYCA6ICcnO1xuICAgICAgICB9XG4gICAgICAgIC8vICdtYXAnIGFsaWdubWVudCBvbiBnbG9iZVxuICAgICAgICBjb25zdCB0aWx0ID0gcmFkVG9EZWcoZ2xvYmVUaWx0QXRMbmdMYXQobWFwLnRyYW5zZm9ybSwgdGhpcy5fbG5nTGF0KSk7XG4gICAgICAgIGNvbnN0IHBvc0Zyb21DZW50ZXIgPSBwb3Muc3ViKGdsb2JlQ2VudGVyVG9TY3JlZW5Qb2ludChtYXAudHJhbnNmb3JtKSk7XG4gICAgICAgIGNvbnN0IG1hbmhhdHRhbkRpc3RhbmNlID0gKE1hdGguYWJzKHBvc0Zyb21DZW50ZXIueCkgKyBNYXRoLmFicyhwb3NGcm9tQ2VudGVyLnkpKTtcbiAgICAgICAgaWYgKG1hbmhhdHRhbkRpc3RhbmNlID09PSAwKSB7IHJldHVybiAnJzsgfVxuXG4gICAgICAgIGNvbnN0IHRpbHRPdmVyRGlzdCA9ICB0aWx0IC8gbWFuaGF0dGFuRGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IHlUaWx0ID0gcG9zRnJvbUNlbnRlci54ICogdGlsdE92ZXJEaXN0O1xuICAgICAgICBjb25zdCB4VGlsdCA9IC1wb3NGcm9tQ2VudGVyLnkgKiB0aWx0T3ZlckRpc3Q7XG4gICAgICAgIHJldHVybiBgcm90YXRlWCgke3hUaWx0fWRlZykgcm90YXRlWSgke3lUaWx0fWRlZylgO1xuXG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZVpUcmFuc2Zvcm0oKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9wb3M7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgaWYgKCFtYXAgfHwgIXBvcykgeyByZXR1cm4gJyc7IH1cblxuICAgICAgICBsZXQgcm90YXRpb24gPSAwO1xuICAgICAgICBjb25zdCBhbGlnbm1lbnQgPSB0aGlzLmdldFJvdGF0aW9uQWxpZ25tZW50KCk7XG4gICAgICAgIGlmIChhbGlnbm1lbnQgPT09ICdtYXAnKSB7XG4gICAgICAgICAgICBpZiAobWFwLl9zaG93aW5nR2xvYmUoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vcnRoID0gbWFwLnByb2plY3QobmV3IExuZ0xhdCh0aGlzLl9sbmdMYXQubG5nLCB0aGlzLl9sbmdMYXQubGF0ICsgLjAwMSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXRoID0gbWFwLnByb2plY3QobmV3IExuZ0xhdCh0aGlzLl9sbmdMYXQubG5nLCB0aGlzLl9sbmdMYXQubGF0IC0gLjAwMSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBzb3V0aC5zdWIobm9ydGgpO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gcmFkVG9EZWcoTWF0aC5hdGFuMihkaWZmLnksIGRpZmYueCkpIC0gOTA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gLW1hcC5nZXRCZWFyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWxpZ25tZW50ID09PSAnaG9yaXpvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IEFMSUdOX1RPX0hPUklaT05fQkVMT1dfWk9PTSA9IDQ7XG4gICAgICAgICAgICBjb25zdCBBTElHTl9UT19TQ1JFRU5fQUJPVkVfWk9PTSA9IDY7XG4gICAgICAgICAgICBhc3NlcnQoQUxJR05fVE9fU0NSRUVOX0FCT1ZFX1pPT00gPD0gR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYLCAnSG9yaXpvbi1vcmllbnRlZCBtYXJrZXIgdHJhbnNpdGlvbiBzaG91bGQgYmUgY29tcGxldGUgd2hlbiBnbG9iZSBzd2l0Y2hlcyB0byBNZXJjYXRvcicpO1xuICAgICAgICAgICAgYXNzZXJ0KEFMSUdOX1RPX0hPUklaT05fQkVMT1dfWk9PTSA8PSBBTElHTl9UT19TQ1JFRU5fQUJPVkVfWk9PTSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNtb290aCA9IHNtb290aHN0ZXAoQUxJR05fVE9fSE9SSVpPTl9CRUxPV19aT09NLCBBTElHTl9UT19TQ1JFRU5fQUJPVkVfWk9PTSwgbWFwLmdldFpvb20oKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNlbnRlclBvaW50ID0gZ2xvYmVDZW50ZXJUb1NjcmVlblBvaW50KG1hcC50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgY2VudGVyUG9pbnQueSArPSBzbW9vdGggKiBtYXAudHJhbnNmb3JtLmhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IHJlbCA9IHBvcy5zdWIoY2VudGVyUG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSByYWRUb0RlZyhNYXRoLmF0YW4yKHJlbC55LCByZWwueCkpO1xuICAgICAgICAgICAgY29uc3QgdXAgPSBhbmdsZSA+IDkwID8gYW5nbGUgLSAyNzAgOiBhbmdsZSArIDkwO1xuICAgICAgICAgICAgcm90YXRpb24gPSB1cCAqICgxIC0gc21vb3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvdGF0aW9uICs9IHRoaXMuX3JvdGF0aW9uO1xuICAgICAgICByZXR1cm4gcm90YXRpb24gPyBgcm90YXRlWigke3JvdGF0aW9ufWRlZylgIDogJyc7XG4gICAgfVxuXG4gICAgX3VwZGF0ZShkZWxheVNuYXA/OiBib29sZWFuKSB7XG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl91cGRhdGVGcmFtZUlkKTtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBpZiAoIW1hcCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChtYXAudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9sbmdMYXQgPSBzbWFydFdyYXAodGhpcy5fbG5nTGF0LCB0aGlzLl9wb3MsIG1hcC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9zID0gbWFwLnByb2plY3QodGhpcy5fbG5nTGF0KTtcblxuICAgICAgICAvLyBiZWNhdXNlIHJvdW5kaW5nIHRoZSBjb29yZGluYXRlcyBhdCBldmVyeSBgbW92ZWAgZXZlbnQgY2F1c2VzIHN0dXR0ZXJlZCB6b29taW5nXG4gICAgICAgIC8vIHdlIG9ubHkgcm91bmQgdGhlbSB3aGVuIF91cGRhdGUgaXMgY2FsbGVkIHdpdGggYG1vdmVlbmRgIG9yIHdoZW4gaXRzIGNhbGxlZCB3aXRoXG4gICAgICAgIC8vIG5vIGFyZ3VtZW50cyAod2hlbiB0aGUgTWFya2VyIGlzIGluaXRpYWxpemVkIG9yIE1hcmtlciNzZXRMbmdMYXQgaXMgaW52b2tlZCkuXG4gICAgICAgIGlmIChkZWxheVNuYXAgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUZyYW1lSWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZWxlbWVudCAmJiB0aGlzLl9wb3MgJiYgdGhpcy5fYW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BvcyA9IHRoaXMuX3Bvcy5yb3VuZCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVET00oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3BvcyA9IHRoaXMuX3Bvcy5yb3VuZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFwLl9yZXF1ZXN0RG9tVGFzaygoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX21hcCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZWxlbWVudCAmJiB0aGlzLl9wb3MgJiYgdGhpcy5fYW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRE9NKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgobWFwLl9zaG93aW5nR2xvYmUoKSB8fCBtYXAuZ2V0VGVycmFpbigpIHx8IG1hcC5nZXRGb2coKSkgJiYgIXRoaXMuX2ZhZGVUaW1lcikge1xuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgICAgICB0aGlzLl9mYWRlVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2V2YWx1YXRlT3BhY2l0eS5iaW5kKHRoaXMpLCA2MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWFya2VyJ3Mgb2Zmc2V0LlxuICAgICAqXG4gICAgICogQHJldHVybnMge1BvaW50fSBUaGUgbWFya2VyJ3Mgc2NyZWVuIGNvb3JkaW5hdGVzIGluIHBpeGVscy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG9mZnNldCA9IG1hcmtlci5nZXRPZmZzZXQoKTtcbiAgICAgKi9cbiAgICBnZXRPZmZzZXQoKTogUG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG9mZnNldCBvZiB0aGUgbWFya2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IG9mZnNldCBUaGUgb2Zmc2V0IGluIHBpeGVscyBhcyBhIHtAbGluayBQb2ludExpa2V9IG9iamVjdCB0byBhcHBseSByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCdzIGNlbnRlci4gTmVnYXRpdmVzIGluZGljYXRlIGxlZnQgYW5kIHVwLlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXJrZXIuc2V0T2Zmc2V0KFswLCAxXSk7XG4gICAgICovXG4gICAgc2V0T2Zmc2V0KG9mZnNldDogUG9pbnRMaWtlKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IFBvaW50LmNvbnZlcnQob2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9vbk1vdmUoZTogTWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnQpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBpZiAoIW1hcCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zID0gdGhpcy5fcG9pbnRlcmRvd25Qb3M7XG4gICAgICAgIGNvbnN0IHBvc0RlbHRhID0gdGhpcy5fcG9zaXRpb25EZWx0YTtcbiAgICAgICAgaWYgKCFzdGFydFBvcyB8fCAhcG9zRGVsdGEpIHJldHVybjtcblxuICAgICAgICBpZiAoIXRoaXMuX2lzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWNrVG9sZXJhbmNlID0gdGhpcy5fY2xpY2tUb2xlcmFuY2UgfHwgbWFwLl9jbGlja1RvbGVyYW5jZTtcbiAgICAgICAgICAgIGlmIChlLnBvaW50LmRpc3Qoc3RhcnRQb3MpIDwgY2xpY2tUb2xlcmFuY2UpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuX2lzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9zID0gZS5wb2ludC5zdWIocG9zRGVsdGEpO1xuICAgICAgICB0aGlzLl9sbmdMYXQgPSBtYXAudW5wcm9qZWN0KHRoaXMuX3Bvcyk7XG4gICAgICAgIHRoaXMuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCk7XG4gICAgICAgIC8vIHN1cHByZXNzIGNsaWNrIGV2ZW50IHNvIHRoYXQgcG9wdXBzIGRvbid0IHRvZ2dsZSBvbiBkcmFnXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgICAgICAvLyBtYWtlIHN1cmUgZHJhZ3N0YXJ0IG9ubHkgZmlyZXMgb24gdGhlIGZpcnN0IG1vdmUgZXZlbnQgYWZ0ZXIgbW91c2Vkb3duLlxuICAgICAgICAvLyB0aGlzIGNhbid0IGJlIG9uIG1vdXNlZG93biBiZWNhdXNlIHRoYXQgZXZlbnQgZG9lc24ndCBuZWNlc3NhcmlseVxuICAgICAgICAvLyBpbXBseSB0aGF0IGEgZHJhZyBpcyBhYm91dCB0byBoYXBwZW4uXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdhY3RpdmUnO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZpcmVkIHdoZW4gZHJhZ2dpbmcgc3RhcnRzLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCBkcmFnc3RhcnRcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBNYXJrZXJcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7TWFya2VyfSBtYXJrZXIgVGhlIG9iamVjdCB0aGF0IGlzIGJlaW5nIGRyYWdnZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RyYWdzdGFydCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGlsZSBkcmFnZ2luZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IGRyYWdcbiAgICAgICAgICogQG1lbWJlcm9mIE1hcmtlclxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtNYXJrZXJ9IG1hcmtlciBUaGUgb2JqZWN0IHRoYXQgaXMgYmVpbmcgZHJhZ2dlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RyYWcnKSk7XG4gICAgfVxuXG4gICAgX29uVXAoKSB7XG4gICAgICAgIC8vIHJldmVydCB0byBub3JtYWwgcG9pbnRlciBldmVudCBoYW5kbGluZ1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uRGVsdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9wb2ludGVyZG93blBvcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lzRHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ21vdXNlbW92ZScsIHRoaXMuX29uTW92ZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub2ZmKCd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb25seSBmaXJlIGRyYWdlbmQgaWYgaXQgd2FzIHByZWNlZGVkIGJ5IGF0IGxlYXN0IG9uZSBkcmFnIGV2ZW50XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBtYXJrZXIgaXMgZmluaXNoZWQgYmVpbmcgZHJhZ2dlZC5cbiAgICAgICAgICAgICpcbiAgICAgICAgICAgICogQGV2ZW50IGRyYWdlbmRcbiAgICAgICAgICAgICogQG1lbWJlcm9mIE1hcmtlclxuICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICAgICogQHByb3BlcnR5IHtNYXJrZXJ9IG1hcmtlciBUaGUgb2JqZWN0IHRoYXQgd2FzIGRyYWdnZWQuXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZHJhZ2VuZCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ2luYWN0aXZlJztcbiAgICB9XG5cbiAgICBfYWRkRHJhZ0hhbmRsZXIoZTogTWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnQpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9wb3M7XG4gICAgICAgIGlmICghbWFwIHx8ICFwb3MpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5fZWxlbWVudC5jb250YWlucygoZS5vcmlnaW5hbEV2ZW50LnRhcmdldDogYW55KSkpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjYWxjdWxhdGUgdGhlIHBpeGVsIGRpc3RhbmNlIGJldHdlZW4gdGhlIGNsaWNrIHBvaW50XG4gICAgICAgICAgICAvLyBhbmQgdGhlIG1hcmtlciBwb3NpdGlvbiwgd2l0aCB0aGUgb2Zmc2V0IGFjY291bnRlZCBmb3IuIFRoZW4gd2VcbiAgICAgICAgICAgIC8vIGNhbiBzdWJ0cmFjdCB0aGlzIGRpc3RhbmNlIGZyb20gdGhlIG1vdXNlbW92ZSBldmVudCdzIHBvc2l0aW9uXG4gICAgICAgICAgICAvLyB0byBjYWxjdWxhdGUgdGhlIG5ldyBtYXJrZXIgcG9zaXRpb24uXG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBkbyB0aGlzLCB0aGUgbWFya2VyICdqdW1wcycgdG8gdGhlIGNsaWNrIHBvc2l0aW9uXG4gICAgICAgICAgICAvLyBjcmVhdGluZyBhIGphcnJpbmcgVVggZWZmZWN0LlxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25EZWx0YSA9IGUucG9pbnQuc3ViKHBvcyk7XG4gICAgICAgICAgICB0aGlzLl9wb2ludGVyZG93blBvcyA9IGUucG9pbnQ7XG5cbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ3BlbmRpbmcnO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdmUpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uKCd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uY2UoJ21vdXNldXAnLCB0aGlzLl9vblVwKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vbmNlKCd0b3VjaGVuZCcsIHRoaXMuX29uVXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGRyYWdnYWJsZWAgcHJvcGVydHkgYW5kIGZ1bmN0aW9uYWxpdHkgb2YgdGhlIG1hcmtlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3VsZEJlRHJhZ2dhYmxlPWZhbHNlXSBUdXJucyBkcmFnIGZ1bmN0aW9uYWxpdHkgb24vb2ZmLlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXJrZXIuc2V0RHJhZ2dhYmxlKHRydWUpO1xuICAgICAqL1xuICAgIHNldERyYWdnYWJsZShzaG91bGRCZURyYWdnYWJsZTogYm9vbGVhbik6IHRoaXMge1xuICAgICAgICB0aGlzLl9kcmFnZ2FibGUgPSAhIXNob3VsZEJlRHJhZ2dhYmxlOyAvLyBjb252ZXJ0IHBvc3NpYmxlIHVuZGVmaW5lZCB2YWx1ZSB0byBmYWxzZVxuXG4gICAgICAgIC8vIGhhbmRsZSBjYXNlIHdoZXJlIG1hcCBtYXkgbm90IGV4aXN0IHlldFxuICAgICAgICAvLyBmb3IgZXhhbXBsZSwgd2hlbiBzZXREcmFnZ2FibGUgaXMgY2FsbGVkIGJlZm9yZSBhZGRUb1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRCZURyYWdnYWJsZSkge1xuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgICAgICBtYXAub24oJ21vdXNlZG93bicsIHRoaXMuX2FkZERyYWdIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICAgICAgbWFwLm9uKCd0b3VjaHN0YXJ0JywgdGhpcy5fYWRkRHJhZ0hhbmRsZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICAgICAgbWFwLm9mZignbW91c2Vkb3duJywgdGhpcy5fYWRkRHJhZ0hhbmRsZXIpO1xuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgICAgICBtYXAub2ZmKCd0b3VjaHN0YXJ0JywgdGhpcy5fYWRkRHJhZ0hhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBtYXJrZXIgY2FuIGJlIGRyYWdnZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWFya2VyIGlzIGRyYWdnYWJsZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGlzTWFya2VyRHJhZ2dhYmxlID0gbWFya2VyLmlzRHJhZ2dhYmxlKCk7XG4gICAgICovXG4gICAgaXNEcmFnZ2FibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcmFnZ2FibGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHJvdGF0aW9uYCBwcm9wZXJ0eSBvZiB0aGUgbWFya2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBUaGUgcm90YXRpb24gYW5nbGUgb2YgdGhlIG1hcmtlciAoY2xvY2t3aXNlLCBpbiBkZWdyZWVzKSwgcmVsYXRpdmUgdG8gaXRzIHJlc3BlY3RpdmUge0BsaW5rIE1hcmtlciNzZXRSb3RhdGlvbkFsaWdubWVudH0gc2V0dGluZy5cbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFya2VyLnNldFJvdGF0aW9uKDQ1KTtcbiAgICAgKi9cbiAgICBzZXRSb3RhdGlvbihyb3RhdGlvbjogbnVtYmVyKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcm90YXRpb24gfHwgMDtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgcm90YXRpb24gYW5nbGUgb2YgdGhlIG1hcmtlciAoaW4gZGVncmVlcykuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgY3VycmVudCByb3RhdGlvbiBhbmdsZSBvZiB0aGUgbWFya2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgcm90YXRpb24gPSBtYXJrZXIuZ2V0Um90YXRpb24oKTtcbiAgICAgKi9cbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHJvdGF0aW9uQWxpZ25tZW50YCBwcm9wZXJ0eSBvZiB0aGUgbWFya2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFthbGlnbm1lbnQ9J2F1dG8nXSBTZXRzIHRoZSBgcm90YXRpb25BbGlnbm1lbnRgIHByb3BlcnR5IG9mIHRoZSBtYXJrZXIuXG4gICAgICogQHJldHVybnMge01hcmtlcn0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcmtlci5zZXRSb3RhdGlvbkFsaWdubWVudCgndmlld3BvcnQnKTtcbiAgICAgKi9cbiAgICBzZXRSb3RhdGlvbkFsaWdubWVudChhbGlnbm1lbnQ6IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLl9yb3RhdGlvbkFsaWdubWVudCA9IGFsaWdubWVudCB8fCAnYXV0byc7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGByb3RhdGlvbkFsaWdubWVudGAgcHJvcGVydHkgb2YgdGhlIG1hcmtlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjdXJyZW50IHJvdGF0aW9uYWwgYWxpZ25tZW50IG9mIHRoZSBtYXJrZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBhbGlnbm1lbnQgPSBtYXJrZXIuZ2V0Um90YXRpb25BbGlnbm1lbnQoKTtcbiAgICAgKi9cbiAgICBnZXRSb3RhdGlvbkFsaWdubWVudCgpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5fcm90YXRpb25BbGlnbm1lbnQgPT09ICdhdXRvJylcbiAgICAgICAgICAgIHJldHVybiAndmlld3BvcnQnO1xuICAgICAgICBpZiAodGhpcy5fcm90YXRpb25BbGlnbm1lbnQgPT09ICdob3Jpem9uJyAmJiB0aGlzLl9tYXAgJiYgIXRoaXMuX21hcC5fc2hvd2luZ0dsb2JlKCkpXG4gICAgICAgICAgICByZXR1cm4gJ3ZpZXdwb3J0JztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uQWxpZ25tZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGBwaXRjaEFsaWdubWVudGAgcHJvcGVydHkgb2YgdGhlIG1hcmtlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYWxpZ25tZW50XSBTZXRzIHRoZSBgcGl0Y2hBbGlnbm1lbnRgIHByb3BlcnR5IG9mIHRoZSBtYXJrZXIuIElmIGFsaWdubWVudCBpcyAnYXV0bycsIGl0IHdpbGwgYXV0b21hdGljYWxseSBtYXRjaCBgcm90YXRpb25BbGlnbm1lbnRgLlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXJrZXIuc2V0UGl0Y2hBbGlnbm1lbnQoJ21hcCcpO1xuICAgICAqL1xuICAgIHNldFBpdGNoQWxpZ25tZW50KGFsaWdubWVudDogc3RyaW5nKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX3BpdGNoQWxpZ25tZW50ID0gYWxpZ25tZW50IHx8ICdhdXRvJztcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgYHBpdGNoQWxpZ25tZW50YCBiZWhhdmlvciBvZiB0aGUgbWFya2VyLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGN1cnJlbnQgcGl0Y2ggYWxpZ25tZW50IG9mIHRoZSBtYXJrZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBhbGlnbm1lbnQgPSBtYXJrZXIuZ2V0UGl0Y2hBbGlnbm1lbnQoKTtcbiAgICAgKi9cbiAgICBnZXRQaXRjaEFsaWdubWVudCgpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5fcGl0Y2hBbGlnbm1lbnQgPT09ICdhdXRvJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Um90YXRpb25BbGlnbm1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcGl0Y2hBbGlnbm1lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYG9jY2x1ZGVkT3BhY2l0eWAgcHJvcGVydHkgb2YgdGhlIG1hcmtlci5cbiAgICAgKiBUaGlzIG9wYWNpdHkgaXMgdXNlZCBvbiB0aGUgbWFya2VyIHdoZW4gdGhlIG1hcmtlciBpcyBvY2NsdWRlZCBieSB0ZXJyYWluLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcGFjaXR5PTAuMl0gU2V0cyB0aGUgYG9jY2x1ZGVkT3BhY2l0eWAgcHJvcGVydHkgb2YgdGhlIG1hcmtlci5cbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFya2VyLnNldE9jY2x1ZGVkT3BhY2l0eSgwLjMpO1xuICAgICAqL1xuICAgIHNldE9jY2x1ZGVkT3BhY2l0eShvcGFjaXR5OiBudW1iZXIpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fb2NjbHVkZWRPcGFjaXR5ID0gb3BhY2l0eSB8fCAwLjI7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGBvY2NsdWRlZE9wYWNpdHlgIG9mIHRoZSBtYXJrZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgb3BhY2l0eSBvZiBhIHRlcnJhaW4gb2NjbHVkZWQgbWFya2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgb3BhY2l0eSA9IG1hcmtlci5nZXRPY2NsdWRlZE9wYWNpdHkoKTtcbiAgICAgKi9cbiAgICBnZXRPY2NsdWRlZE9wYWNpdHkoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29jY2x1ZGVkT3BhY2l0eTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge2V4dGVuZCwgYmluZEFsbH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7RXZlbnQsIEV2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQge01hcE1vdXNlRXZlbnR9IGZyb20gJy4uL3VpL2V2ZW50cy5qcyc7XG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vdXRpbC9kb20uanMnO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuLi9nZW8vbG5nX2xhdC5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93LmpzJztcbmltcG9ydCBzbWFydFdyYXAgZnJvbSAnLi4vdXRpbC9zbWFydF93cmFwLmpzJztcbmltcG9ydCB7dHlwZSBBbmNob3IsIGFuY2hvclRyYW5zbGF0ZX0gZnJvbSAnLi9hbmNob3IuanMnO1xuaW1wb3J0IHtpc0xuZ0xhdEJlaGluZEdsb2JlfSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4vbWFwLmpzJztcbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tICcuLi9nZW8vbG5nX2xhdC5qcyc7XG5pbXBvcnQgdHlwZSB7UG9pbnRMaWtlfSBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB0eXBlIE1hcmtlciBmcm9tICcuL21hcmtlci5qcyc7XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIGNsb3NlQnV0dG9uOiB0cnVlLFxuICAgIGNsb3NlT25DbGljazogdHJ1ZSxcbiAgICBmb2N1c0FmdGVyT3BlbjogdHJ1ZSxcbiAgICBjbGFzc05hbWU6ICcnLFxuICAgIG1heFdpZHRoOiBcIjI0MHB4XCJcbn07XG5cbmV4cG9ydCB0eXBlIE9mZnNldCA9IG51bWJlciB8IFBvaW50TGlrZSB8IHtbXzogQW5jaG9yXTogUG9pbnRMaWtlfTtcblxuZXhwb3J0IHR5cGUgUG9wdXBPcHRpb25zID0ge1xuICAgIGNsb3NlQnV0dG9uPzogYm9vbGVhbixcbiAgICBjbG9zZU9uQ2xpY2s/OiBib29sZWFuLFxuICAgIGNsb3NlT25Nb3ZlPzogYm9vbGVhbixcbiAgICBmb2N1c0FmdGVyT3Blbj86IGJvb2xlYW4sXG4gICAgYW5jaG9yPzogQW5jaG9yLFxuICAgIG9mZnNldD86IE9mZnNldCxcbiAgICBjbGFzc05hbWU/OiBzdHJpbmcsXG4gICAgbWF4V2lkdGg/OiBzdHJpbmdcbn07XG5cbmNvbnN0IGZvY3VzUXVlcnlTZWxlY3RvciA9IFtcbiAgICBcImFbaHJlZl1cIixcbiAgICBcIlt0YWJpbmRleF06bm90KFt0YWJpbmRleD0nLTEnXSlcIixcbiAgICBcIltjb250ZW50ZWRpdGFibGVdOm5vdChbY29udGVudGVkaXRhYmxlPSdmYWxzZSddKVwiLFxuICAgIFwiYnV0dG9uOm5vdChbZGlzYWJsZWRdKVwiLFxuICAgIFwiaW5wdXQ6bm90KFtkaXNhYmxlZF0pXCIsXG4gICAgXCJzZWxlY3Q6bm90KFtkaXNhYmxlZF0pXCIsXG4gICAgXCJ0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSlcIixcbl0uam9pbihcIiwgXCIpO1xuXG4vKipcbiAqIEEgcG9wdXAgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xvc2VCdXR0b249dHJ1ZV0gSWYgYHRydWVgLCBhIGNsb3NlIGJ1dHRvbiB3aWxsIGFwcGVhciBpbiB0aGVcbiAqICAgdG9wIHJpZ2h0IGNvcm5lciBvZiB0aGUgcG9wdXAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsb3NlT25DbGljaz10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBwb3B1cCB3aWxsIGNsb3NlIHdoZW4gdGhlXG4gKiAgIG1hcCBpcyBjbGlja2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbG9zZU9uTW92ZT1mYWxzZV0gSWYgYHRydWVgLCB0aGUgcG9wdXAgd2lsbCBjbG9zZSB3aGVuIHRoZVxuICogICBtYXAgbW92ZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvY3VzQWZ0ZXJPcGVuPXRydWVdIElmIGB0cnVlYCwgdGhlIHBvcHVwIHdpbGwgdHJ5IHRvIGZvY3VzIHRoZVxuICogICBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCBpbnNpZGUgdGhlIHBvcHVwLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFuY2hvcl0gLSBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBwYXJ0IG9mIHRoZSBwb3B1cCB0aGF0IHNob3VsZFxuICogICBiZSBwb3NpdGlvbmVkIGNsb3Nlc3QgdG8gdGhlIGNvb3JkaW5hdGUsIHNldCB2aWEge0BsaW5rIFBvcHVwI3NldExuZ0xhdH0uXG4gKiAgIE9wdGlvbnMgYXJlIGAnY2VudGVyJ2AsIGAndG9wJ2AsIGAnYm90dG9tJ2AsIGAnbGVmdCdgLCBgJ3JpZ2h0J2AsIGAndG9wLWxlZnQnYCxcbiAqICAgYCd0b3AtcmlnaHQnYCwgYCdib3R0b20tbGVmdCdgLCBhbmQgYCdib3R0b20tcmlnaHQnYC4gSWYgdW5zZXQsIHRoZSBhbmNob3Igd2lsbCBiZVxuICogICBkeW5hbWljYWxseSBzZXQgdG8gZW5zdXJlIHRoZSBwb3B1cCBmYWxscyB3aXRoaW4gdGhlIG1hcCBjb250YWluZXIgd2l0aCBhIHByZWZlcmVuY2VcbiAqICAgZm9yIGAnYm90dG9tJ2AuXG4gKiBAcGFyYW0ge251bWJlciB8IFBvaW50TGlrZSB8IE9iamVjdH0gW29wdGlvbnMub2Zmc2V0XSAtXG4gKiAgQSBwaXhlbCBvZmZzZXQgYXBwbGllZCB0byB0aGUgcG9wdXAncyBsb2NhdGlvbiBzcGVjaWZpZWQgYXM6XG4gKiAgIC0gYSBzaW5nbGUgbnVtYmVyIHNwZWNpZnlpbmcgYSBkaXN0YW5jZSBmcm9tIHRoZSBwb3B1cCdzIGxvY2F0aW9uXG4gKiAgIC0gYSB7QGxpbmsgUG9pbnRMaWtlfSBzcGVjaWZ5aW5nIGEgY29uc3RhbnQgb2Zmc2V0XG4gKiAgIC0gYW4gb2JqZWN0IG9mIHtAbGluayBQb2ludH1zIHNwZWNpZmluZyBhbiBvZmZzZXQgZm9yIGVhY2ggYW5jaG9yIHBvc2l0aW9uLlxuICpcbiAqICBOZWdhdGl2ZSBvZmZzZXRzIGluZGljYXRlIGxlZnQgYW5kIHVwLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmNsYXNzTmFtZV0gU3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzcyBuYW1lcyB0byBhZGQgdG8gcG9wdXAgY29udGFpbmVyLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm1heFdpZHRoPScyNDBweCddIC1cbiAqICBBIHN0cmluZyB0aGF0IHNldHMgdGhlIENTUyBwcm9wZXJ0eSBvZiB0aGUgcG9wdXAncyBtYXhpbXVtIHdpZHRoIChmb3IgZXhhbXBsZSwgYCczMDBweCdgKS5cbiAqICBUbyBlbnN1cmUgdGhlIHBvcHVwIHJlc2l6ZXMgdG8gZml0IGl0cyBjb250ZW50LCBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgJ25vbmUnYC5cbiAqICBTZWUgdGhlIE1ETiBkb2N1bWVudGF0aW9uIGZvciB0aGUgbGlzdCBvZiBbYXZhaWxhYmxlIHZhbHVlc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL21heC13aWR0aCkuXG4gKiBAZXhhbXBsZVxuICogY29uc3QgbWFya2VySGVpZ2h0ID0gNTA7XG4gKiBjb25zdCBtYXJrZXJSYWRpdXMgPSAxMDtcbiAqIGNvbnN0IGxpbmVhck9mZnNldCA9IDI1O1xuICogY29uc3QgcG9wdXBPZmZzZXRzID0ge1xuICogICAgICd0b3AnOiBbMCwgMF0sXG4gKiAgICAgJ3RvcC1sZWZ0JzogWzAsIDBdLFxuICogICAgICd0b3AtcmlnaHQnOiBbMCwgMF0sXG4gKiAgICAgJ2JvdHRvbSc6IFswLCAtbWFya2VySGVpZ2h0XSxcbiAqICAgICAnYm90dG9tLWxlZnQnOiBbbGluZWFyT2Zmc2V0LCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzICsgbGluZWFyT2Zmc2V0KSAqIC0xXSxcbiAqICAgICAnYm90dG9tLXJpZ2h0JzogWy1saW5lYXJPZmZzZXQsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMgKyBsaW5lYXJPZmZzZXQpICogLTFdLFxuICogICAgICdsZWZ0JzogW21hcmtlclJhZGl1cywgKG1hcmtlckhlaWdodCAtIG1hcmtlclJhZGl1cykgKiAtMV0sXG4gKiAgICAgJ3JpZ2h0JzogWy1tYXJrZXJSYWRpdXMsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMpICogLTFdXG4gKiB9O1xuICogY29uc3QgcG9wdXAgPSBuZXcgbWFwYm94Z2wuUG9wdXAoe29mZnNldDogcG9wdXBPZmZzZXRzLCBjbGFzc05hbWU6ICdteS1jbGFzcyd9KVxuICogICAgIC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gKiAgICAgLnNldEhUTUwoXCI8aDE+SGVsbG8gV29ybGQhPC9oMT5cIilcbiAqICAgICAuc2V0TWF4V2lkdGgoXCIzMDBweFwiKVxuICogICAgIC5hZGRUbyhtYXApO1xuICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLylcbiAqIEBzZWUgW0V4YW1wbGU6IERpc3BsYXkgYSBwb3B1cCBvbiBob3Zlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1ob3Zlci8pXG4gKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGEgcG9wdXAgb24gY2xpY2tdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24tY2xpY2svKVxuICogQHNlZSBbRXhhbXBsZTogQXR0YWNoIGEgcG9wdXAgdG8gYSBtYXJrZXIgaW5zdGFuY2VdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2V0LXBvcHVwLylcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBfbWFwOiA/TWFwO1xuICAgIG9wdGlvbnM6IFBvcHVwT3B0aW9ucztcbiAgICBfY29udGVudDogP0hUTUxFbGVtZW50O1xuICAgIF9jb250YWluZXI6ID9IVE1MRWxlbWVudDtcbiAgICBfY2xvc2VCdXR0b246ID9IVE1MRWxlbWVudDtcbiAgICBfdGlwOiA/SFRNTEVsZW1lbnQ7XG4gICAgX2xuZ0xhdDogTG5nTGF0O1xuICAgIF90cmFja1BvaW50ZXI6IGJvb2xlYW47XG4gICAgX3BvczogP1BvaW50O1xuICAgIF9hbmNob3I6IEFuY2hvcjtcbiAgICBfY2xhc3NMaXN0OiBTZXQ8c3RyaW5nPjtcbiAgICBfbWFya2VyOiA/TWFya2VyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogUG9wdXBPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZChPYmplY3QuY3JlYXRlKGRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgIGJpbmRBbGwoWydfdXBkYXRlJywgJ19vbkNsb3NlJywgJ3JlbW92ZScsICdfb25Nb3VzZUV2ZW50J10sIHRoaXMpO1xuICAgICAgICB0aGlzLl9jbGFzc0xpc3QgPSBuZXcgU2V0KG9wdGlvbnMgJiYgb3B0aW9ucy5jbGFzc05hbWUgP1xuICAgICAgICAgICAgb3B0aW9ucy5jbGFzc05hbWUudHJpbSgpLnNwbGl0KC9cXHMrLykgOiBbXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgcG9wdXAgdG8gYSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01hcH0gbWFwIFRoZSBNYXBib3ggR0wgSlMgbWFwIHRvIGFkZCB0aGUgcG9wdXAgdG8uXG4gICAgICogQHJldHVybnMge1BvcHVwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbmV3IG1hcGJveGdsLlBvcHVwKClcbiAgICAgKiAgICAgLnNldExuZ0xhdChbMCwgMF0pXG4gICAgICogICAgIC5zZXRIVE1MKFwiPGgxPk51bGwgSXNsYW5kPC9oMT5cIilcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwIG9uIGhvdmVyXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1ob3Zlci8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwIG9uIGNsaWNrXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1jbGljay8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogU2hvdyBwb2x5Z29uIGluZm9ybWF0aW9uIG9uIGNsaWNrXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb2x5Z29uLXBvcHVwLW9uLWNsaWNrLylcbiAgICAgKi9cbiAgICBhZGRUbyhtYXA6IE1hcCk6IHRoaXMge1xuICAgICAgICBpZiAodGhpcy5fbWFwKSB0aGlzLnJlbW92ZSgpO1xuXG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2spIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vbigncHJlY2xpY2snLCB0aGlzLl9vbkNsb3NlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbk1vdmUpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vbignbW92ZScsIHRoaXMuX29uQ2xvc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICBtYXAub24oJ3JlbW92ZScsIHRoaXMucmVtb3ZlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIG1hcC5fYWRkUG9wdXAodGhpcyk7XG4gICAgICAgIHRoaXMuX2ZvY3VzRmlyc3RFbGVtZW50KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RyYWNrUG9pbnRlcikge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlRXZlbnQpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZUV2ZW50KTtcbiAgICAgICAgICAgIG1hcC5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLXRyYWNrLXBvaW50ZXInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vbignbW92ZScsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgcG9wdXAgaXMgb3BlbmVkIG1hbnVhbGx5IG9yIHByb2dyYW1hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IG9wZW5cbiAgICAgICAgICogQG1lbWJlcm9mIFBvcHVwXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge1BvcHVwfSBwb3B1cCBPYmplY3QgdGhhdCB3YXMgb3BlbmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBDcmVhdGUgYSBwb3B1cFxuICAgICAgICAgKiBjb25zdCBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpO1xuICAgICAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCB3aWxsIGZpcmVcbiAgICAgICAgICogLy8gYW55IHRpbWUgdGhlIHBvcHVwIGlzIG9wZW5lZFxuICAgICAgICAgKiBwb3B1cC5vbignb3BlbicsICgpID0+IHtcbiAgICAgICAgICogICAgIGNvbnNvbGUubG9nKCdwb3B1cCB3YXMgb3BlbmVkJyk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnb3BlbicpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBwb3B1cCBpcyBvcGVuLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgcG9wdXAgaXMgb3BlbiwgYGZhbHNlYCBpZiBpdCBpcyBjbG9zZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc1BvcHVwT3BlbiA9IHBvcHVwLmlzT3BlbigpO1xuICAgICAqL1xuICAgIGlzT3BlbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fbWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHBvcHVwIGZyb20gdGhlIG1hcCBpdCBoYXMgYmVlbiBhZGRlZCB0by5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgcG9wdXAgPSBuZXcgbWFwYm94Z2wuUG9wdXAoKS5hZGRUbyhtYXApO1xuICAgICAqIHBvcHVwLnJlbW92ZSgpO1xuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKi9cbiAgICByZW1vdmUoKTogdGhpcyB7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50LnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBpZiAobWFwKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub2ZmKCdtb3ZlJywgdGhpcy5fdXBkYXRlKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ21vdmUnLCB0aGlzLl9vbkNsb3NlKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ3ByZWNsaWNrJywgdGhpcy5fb25DbG9zZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub2ZmKCdjbGljaycsIHRoaXMuX29uQ2xvc2UpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZigncmVtb3ZlJywgdGhpcy5yZW1vdmUpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZUV2ZW50KTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlRXZlbnQpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZignZHJhZycsIHRoaXMuX29uTW91c2VFdmVudCk7XG4gICAgICAgICAgICBpZiAobWFwLl9jYW52YXNDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBtYXAuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC10cmFjay1wb2ludGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXAuX3JlbW92ZVBvcHVwKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fbWFwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIHBvcHVwIGlzIGNsb3NlZCBtYW51YWxseSBvciBwcm9ncmFtYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBjbG9zZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUG9wdXBcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UG9wdXB9IHBvcHVwIE9iamVjdCB0aGF0IHdhcyBjbG9zZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIENyZWF0ZSBhIHBvcHVwXG4gICAgICAgICAqIGNvbnN0IHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKCk7XG4gICAgICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IHdpbGwgZmlyZVxuICAgICAgICAgKiAvLyBhbnkgdGltZSB0aGUgcG9wdXAgaXMgY2xvc2VkXG4gICAgICAgICAqIHBvcHVwLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICogICAgIGNvbnNvbGUubG9nKCdwb3B1cCB3YXMgY2xvc2VkJyk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnY2xvc2UnKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIG9mIHRoZSBwb3B1cCdzIGFuY2hvci5cbiAgICAgKlxuICAgICAqIFRoZSBsb25naXR1ZGUgb2YgdGhlIHJlc3VsdCBtYXkgZGlmZmVyIGJ5IGEgbXVsdGlwbGUgb2YgMzYwIGRlZ3JlZXMgZnJvbSB0aGUgbG9uZ2l0dWRlIHByZXZpb3VzbHlcbiAgICAgKiBzZXQgYnkgYHNldExuZ0xhdGAgYmVjYXVzZSBgUG9wdXBgIHdyYXBzIHRoZSBhbmNob3IgbG9uZ2l0dWRlIGFjcm9zcyBjb3BpZXMgb2YgdGhlIHdvcmxkIHRvIGtlZXBcbiAgICAgKiB0aGUgcG9wdXAgb24gc2NyZWVuLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbiBvZiB0aGUgcG9wdXAncyBhbmNob3IuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBsbmdMYXQgPSBwb3B1cC5nZXRMbmdMYXQoKTtcbiAgICAgKi9cbiAgICBnZXRMbmdMYXQoKTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xuZ0xhdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb24gb2YgdGhlIHBvcHVwJ3MgYW5jaG9yLCBhbmQgbW92ZXMgdGhlIHBvcHVwIHRvIGl0LiBSZXBsYWNlcyB0cmFja1BvaW50ZXIoKSBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gbG5nbGF0IFRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb24gdG8gc2V0IGFzIHRoZSBwb3B1cCdzIGFuY2hvci5cbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBwb3B1cC5zZXRMbmdMYXQoWy0xMjIuNDE5NCwgMzcuNzc0OV0pO1xuICAgICAqL1xuICAgIHNldExuZ0xhdChsbmdsYXQ6IExuZ0xhdExpa2UpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fbG5nTGF0ID0gTG5nTGF0LmNvbnZlcnQobG5nbGF0KTtcbiAgICAgICAgdGhpcy5fcG9zID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90cmFja1BvaW50ZXIgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vbignbW92ZScsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub2ZmKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlRXZlbnQpO1xuICAgICAgICAgICAgbWFwLl9jYW52YXNDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtdHJhY2stcG9pbnRlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhY2tzIHRoZSBwb3B1cCBhbmNob3IgdG8gdGhlIGN1cnNvciBwb3NpdGlvbiBvbiBzY3JlZW5zIHdpdGggYSBwb2ludGVyIGRldmljZSAoaXQgd2lsbCBiZSBoaWRkZW4gb24gdG91Y2hzY3JlZW5zKS4gUmVwbGFjZXMgdGhlIGBzZXRMbmdMYXRgIGJlaGF2aW9yLlxuICAgICAqIEZvciBtb3N0IHVzZSBjYXNlcywgc2V0IGBjbG9zZU9uQ2xpY2tgIGFuZCBgY2xvc2VCdXR0b25gIHRvIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKHtjbG9zZU9uQ2xpY2s6IGZhbHNlLCBjbG9zZUJ1dHRvbjogZmFsc2V9KVxuICAgICAqICAgICAuc2V0SFRNTChcIjxoMT5IZWxsbyBXb3JsZCE8L2gxPlwiKVxuICAgICAqICAgICAudHJhY2tQb2ludGVyKClcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7XG4gICAgICogQHJldHVybnMge1BvcHVwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHRyYWNrUG9pbnRlcigpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fdHJhY2tQb2ludGVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcG9zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgaWYgKG1hcCkge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZignbW92ZScsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub24oJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VFdmVudCk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub24oJ2RyYWcnLCB0aGlzLl9vbk1vdXNlRXZlbnQpO1xuICAgICAgICAgICAgbWFwLl9jYW52YXNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdHJhY2stcG9pbnRlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBgUG9wdXBgJ3MgSFRNTCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDaGFuZ2UgdGhlIGBQb3B1cGAgZWxlbWVudCdzIGZvbnQgc2l6ZVxuICAgICAqIGNvbnN0IHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKClcbiAgICAgKiAgICAgLnNldExuZ0xhdChbLTk2LCAzNy44XSlcbiAgICAgKiAgICAgLnNldEhUTUwoXCI8cD5IZWxsbyBXb3JsZCE8L3A+XCIpXG4gICAgICogICAgIC5hZGRUbyhtYXApO1xuICAgICAqIGNvbnN0IHBvcHVwRWxlbSA9IHBvcHVwLmdldEVsZW1lbnQoKTtcbiAgICAgKiBwb3B1cEVsZW0uc3R5bGUuZm9udFNpemUgPSBcIjI1cHhcIjtcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFJldHVybnMgY29udGFpbmVyIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0RWxlbWVudCgpOiA/SFRNTEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvcHVwJ3MgY29udGVudCB0byBhIHN0cmluZyBvZiB0ZXh0LlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGEgW1RleHRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9UZXh0KSBub2RlIGluIHRoZSBET00sXG4gICAgICogc28gaXQgY2Fubm90IGluc2VydCByYXcgSFRNTC4gVXNlIHRoaXMgbWV0aG9kIGZvciBzZWN1cml0eSBhZ2FpbnN0IFhTU1xuICAgICAqIGlmIHRoZSBwb3B1cCBjb250ZW50IGlzIHVzZXItcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0dWFsIGNvbnRlbnQgZm9yIHRoZSBwb3B1cC5cbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpXG4gICAgICogICAgIC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gICAgICogICAgIC5zZXRUZXh0KCdIZWxsbywgd29ybGQhJylcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7XG4gICAgICovXG4gICAgc2V0VGV4dCh0ZXh0OiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RE9NQ29udGVudCh3aW5kb3cuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvcHVwJ3MgY29udGVudCB0byB0aGUgSFRNTCBwcm92aWRlZCBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHBlcmZvcm0gSFRNTCBmaWx0ZXJpbmcgb3Igc2FuaXRpemF0aW9uLCBhbmQgbXVzdCBiZVxuICAgICAqIHVzZWQgb25seSB3aXRoIHRydXN0ZWQgY29udGVudC4gQ29uc2lkZXIge0BsaW5rIFBvcHVwI3NldFRleHR9IGlmXG4gICAgICogdGhlIGNvbnRlbnQgaXMgYW4gdW50cnVzdGVkIHRleHQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgQSBzdHJpbmcgcmVwcmVzZW50aW5nIEhUTUwgY29udGVudCBmb3IgdGhlIHBvcHVwLlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKClcbiAgICAgKiAgICAgLnNldExuZ0xhdChlLmxuZ0xhdClcbiAgICAgKiAgICAgLnNldEhUTUwoXCI8aDE+SGVsbG8gV29ybGQhPC9oMT5cIilcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwIG9uIGhvdmVyXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1ob3Zlci8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwIG9uIGNsaWNrXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1jbGljay8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQXR0YWNoIGEgcG9wdXAgdG8gYSBtYXJrZXIgaW5zdGFuY2VdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3NldC1wb3B1cC8pXG4gICAgICovXG4gICAgc2V0SFRNTChodG1sOiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgY29uc3QgZnJhZyA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIGNvbnN0IHRlbXAgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpO1xuICAgICAgICBsZXQgY2hpbGQ7XG4gICAgICAgIHRlbXAuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNoaWxkID0gdGVtcC5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKCFjaGlsZCkgYnJlYWs7XG4gICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnNldERPTUNvbnRlbnQoZnJhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcG9wdXAncyBtYXhpbXVtIHdpZHRoLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIG1heGltdW0gd2lkdGggb2YgdGhlIHBvcHVwLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbWF4V2lkdGggPSBwb3B1cC5nZXRNYXhXaWR0aCgpO1xuICAgICAqL1xuICAgIGdldE1heFdpZHRoKCk6ID9zdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyICYmIHRoaXMuX2NvbnRhaW5lci5zdHlsZS5tYXhXaWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb3B1cCdzIG1heGltdW0gd2lkdGguIFRoaXMgaXMgc2V0dGluZyB0aGUgQ1NTIHByb3BlcnR5IGBtYXgtd2lkdGhgLlxuICAgICAqIEF2YWlsYWJsZSB2YWx1ZXMgY2FuIGJlIGZvdW5kIGhlcmU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9tYXgtd2lkdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWF4V2lkdGggQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBmb3IgdGhlIG1heGltdW0gd2lkdGguXG4gICAgICogQHJldHVybnMge1BvcHVwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogcG9wdXAuc2V0TWF4V2lkdGgoJzUwJyk7XG4gICAgICovXG4gICAgc2V0TWF4V2lkdGgobWF4V2lkdGg6IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLm9wdGlvbnMubWF4V2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvcHVwJ3MgY29udGVudCB0byB0aGUgZWxlbWVudCBwcm92aWRlZCBhcyBhIERPTSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBodG1sTm9kZSBBIERPTSBub2RlIHRvIGJlIHVzZWQgYXMgY29udGVudCBmb3IgdGhlIHBvcHVwLlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGNyZWF0ZSBhbiBlbGVtZW50IHdpdGggdGhlIHBvcHVwIGNvbnRlbnRcbiAgICAgKiBjb25zdCBkaXYgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICogZGl2LmlubmVySFRNTCA9ICdIZWxsbywgd29ybGQhJztcbiAgICAgKiBjb25zdCBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpXG4gICAgICogICAgIC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gICAgICogICAgIC5zZXRET01Db250ZW50KGRpdilcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7XG4gICAgICovXG4gICAgc2V0RE9NQ29udGVudChodG1sTm9kZTogTm9kZSk6IHRoaXMge1xuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuX2NvbnRlbnQ7XG4gICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICAvLyBDbGVhciBvdXQgY2hpbGRyZW4gZmlyc3QuXG4gICAgICAgICAgICB3aGlsZSAoY29udGVudC5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQucmVtb3ZlQ2hpbGQoY29udGVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZW50ID0gdGhpcy5fY29udGVudCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1wb3B1cC1jb250ZW50JywgdGhpcy5fY29udGFpbmVyIHx8IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgY2xvc2UgYnV0dG9uIHNob3VsZCBiZSB0aGUgbGFzdCB0YWJiYWJsZSBlbGVtZW50IGluc2lkZSB0aGUgcG9wdXAgZm9yIGEgZ29vZCBrZXlib2FyZCBVWC5cbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChodG1sTm9kZSk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbikge1xuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5fY2xvc2VCdXR0b24gPSBET00uY3JlYXRlKCdidXR0b24nLCAnbWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9uJywgY29udGVudCk7XG4gICAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdDbG9zZSBwb3B1cCcpO1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICcmIzIxNTsnO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbG9zZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHRoaXMuX2ZvY3VzRmlyc3RFbGVtZW50KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBDU1MgY2xhc3MgdG8gdGhlIHBvcHVwIGNvbnRhaW5lciBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBOb24tZW1wdHkgc3RyaW5nIHdpdGggQ1NTIGNsYXNzIG5hbWUgdG8gYWRkIHRvIHBvcHVwIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKCk7XG4gICAgICogcG9wdXAuYWRkQ2xhc3NOYW1lKCdzb21lLWNsYXNzJyk7XG4gICAgICovXG4gICAgYWRkQ2xhc3NOYW1lKGNsYXNzTmFtZTogc3RyaW5nKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX2NsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2xhc3NMaXN0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBDU1MgY2xhc3MgZnJvbSB0aGUgcG9wdXAgY29udGFpbmVyIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIE5vbi1lbXB0eSBzdHJpbmcgd2l0aCBDU1MgY2xhc3MgbmFtZSB0byByZW1vdmUgZnJvbSBwb3B1cCBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCh7Y2xhc3NOYW1lOiAnc29tZSBjbGFzc2VzJ30pO1xuICAgICAqIHBvcHVwLnJlbW92ZUNsYXNzTmFtZSgnc29tZScpO1xuICAgICAqL1xuICAgIHJlbW92ZUNsYXNzTmFtZShjbGFzc05hbWU6IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLl9jbGFzc0xpc3QuZGVsZXRlKGNsYXNzTmFtZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb3B1cCdzIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgUG9pbnRMaWtlIHwgT2JqZWN0fSBvZmZzZXQgU2V0cyB0aGUgcG9wdXAncyBvZmZzZXQuIFRoZSBgT2JqZWN0YCBpcyBvZiB0aGUgZm9sbG93aW5nIHN0cnVjdHVyZVxuICAgICAqIHtcbiAgICAgKiAgICAnY2VudGVyJzogP1BvaW50TGlrZSxcbiAgICAgKiAgICAndG9wJzogP1BvaW50TGlrZSxcbiAgICAgKiAgICAnYm90dG9tJzogP1BvaW50TGlrZSxcbiAgICAgKiAgICAnbGVmdCc6ID9Qb2ludExpa2UsXG4gICAgICogICAgJ3JpZ2h0JzogP1BvaW50TGlrZSxcbiAgICAgKiAgICAndG9wLWxlZnQnOiA/UG9pbnRMaWtlLFxuICAgICAqICAgICd0b3AtcmlnaHQnOiA/UG9pbnRMaWtlLFxuICAgICAqICAgICdib3R0b20tbGVmdCc6ID9Qb2ludExpa2UsXG4gICAgICogICAgJ2JvdHRvbS1yaWdodCc6ID9Qb2ludExpa2VcbiAgICAgKiB9LlxuICAgICAqXG4gICAgICogQHJldHVybnMge1BvcHVwfSBgdGhpc2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBwb3B1cC5zZXRPZmZzZXQoMTApO1xuICAgICAqL1xuICAgIHNldE9mZnNldCAob2Zmc2V0PzogT2Zmc2V0KTogdGhpcyB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgb3IgcmVtb3ZlIHRoZSBnaXZlbiBDU1MgY2xhc3Mgb24gdGhlIHBvcHVwIGNvbnRhaW5lciwgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIGNvbnRhaW5lciBjdXJyZW50bHkgaGFzIHRoYXQgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIE5vbi1lbXB0eSBzdHJpbmcgd2l0aCBDU1MgY2xhc3MgbmFtZSB0byBhZGQvcmVtb3ZlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IElmIHRoZSBjbGFzcyB3YXMgcmVtb3ZlZCByZXR1cm4gYGZhbHNlYC4gSWYgdGhlIGNsYXNzIHdhcyBhZGRlZCwgdGhlbiByZXR1cm4gYHRydWVgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpO1xuICAgICAqIHBvcHVwLnRvZ2dsZUNsYXNzTmFtZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgKi9cbiAgICB0b2dnbGVDbGFzc05hbWUoY2xhc3NOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGZpbmFsU3RhdGU6IGJvb2xlYW47XG4gICAgICAgIGlmICh0aGlzLl9jbGFzc0xpc3QuZGVsZXRlKGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgIGZpbmFsU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIGZpbmFsU3RhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpO1xuICAgICAgICByZXR1cm4gZmluYWxTdGF0ZTtcbiAgICB9XG5cbiAgICBfb25Nb3VzZUV2ZW50KGV2ZW50OiBNYXBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZShldmVudC5wb2ludCk7XG4gICAgfVxuXG4gICAgX2dldEFuY2hvcihib3R0b21ZOiBudW1iZXIpOiBBbmNob3Ige1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuY2hvcikgeyByZXR1cm4gdGhpcy5vcHRpb25zLmFuY2hvcjsgfVxuXG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9wb3M7XG5cbiAgICAgICAgaWYgKCFtYXAgfHwgIWNvbnRhaW5lciB8fCAhcG9zKSByZXR1cm4gJ2JvdHRvbSc7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgaXNUb3AgPSBwb3MueSArIGJvdHRvbVkgPCBoZWlnaHQ7XG4gICAgICAgIGNvbnN0IGlzQm90dG9tID0gcG9zLnkgPiBtYXAudHJhbnNmb3JtLmhlaWdodCAtIGhlaWdodDtcbiAgICAgICAgY29uc3QgaXNMZWZ0ID0gcG9zLnggPCB3aWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGlzUmlnaHQgPSBwb3MueCA+IG1hcC50cmFuc2Zvcm0ud2lkdGggLSB3aWR0aCAvIDI7XG5cbiAgICAgICAgaWYgKGlzVG9wKSB7XG4gICAgICAgICAgICBpZiAoaXNMZWZ0KSByZXR1cm4gJ3RvcC1sZWZ0JztcbiAgICAgICAgICAgIGlmIChpc1JpZ2h0KSByZXR1cm4gJ3RvcC1yaWdodCc7XG4gICAgICAgICAgICByZXR1cm4gJ3RvcCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQm90dG9tKSB7XG4gICAgICAgICAgICBpZiAoaXNMZWZ0KSByZXR1cm4gJ2JvdHRvbS1sZWZ0JztcbiAgICAgICAgICAgIGlmIChpc1JpZ2h0KSByZXR1cm4gJ2JvdHRvbS1yaWdodCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTGVmdCkgcmV0dXJuICdsZWZ0JztcbiAgICAgICAgaWYgKGlzUmlnaHQpIHJldHVybiAncmlnaHQnO1xuXG4gICAgICAgIHJldHVybiAnYm90dG9tJztcbiAgICB9XG5cbiAgICBfdXBkYXRlQ2xhc3NMaXN0KCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY2xhc3NlcyA9IFsuLi50aGlzLl9jbGFzc0xpc3RdO1xuICAgICAgICBjbGFzc2VzLnB1c2goJ21hcGJveGdsLXBvcHVwJyk7XG4gICAgICAgIGlmICh0aGlzLl9hbmNob3IpIHtcbiAgICAgICAgICAgIGNsYXNzZXMucHVzaChgbWFwYm94Z2wtcG9wdXAtYW5jaG9yLSR7dGhpcy5fYW5jaG9yfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90cmFja1BvaW50ZXIpIHtcbiAgICAgICAgICAgIGNsYXNzZXMucHVzaCgnbWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlcicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlKGN1cnNvcj86IFBvaW50KSB7XG4gICAgICAgIGNvbnN0IGhhc1Bvc2l0aW9uID0gdGhpcy5fbG5nTGF0IHx8IHRoaXMuX3RyYWNrUG9pbnRlcjtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5fY29udGVudDtcblxuICAgICAgICBpZiAoIW1hcCB8fCAhaGFzUG9zaXRpb24gfHwgIWNvbnRlbnQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcblxuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLXBvcHVwJywgbWFwLmdldENvbnRhaW5lcigpKTtcbiAgICAgICAgICAgIHRoaXMuX3RpcCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1wb3B1cC10aXAnLCBjb250YWluZXIpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tYXhXaWR0aCAmJiBjb250YWluZXIuc3R5bGUubWF4V2lkdGggIT09IHRoaXMub3B0aW9ucy5tYXhXaWR0aCkge1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLm1heFdpZHRoID0gdGhpcy5vcHRpb25zLm1heFdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hcC50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMgJiYgIXRoaXMuX3RyYWNrUG9pbnRlcikge1xuICAgICAgICAgICAgdGhpcy5fbG5nTGF0ID0gc21hcnRXcmFwKHRoaXMuX2xuZ0xhdCwgdGhpcy5fcG9zLCBtYXAudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fdHJhY2tQb2ludGVyIHx8IGN1cnNvcikge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gdGhpcy5fcG9zID0gdGhpcy5fdHJhY2tQb2ludGVyICYmIGN1cnNvciA/IGN1cnNvciA6IG1hcC5wcm9qZWN0KHRoaXMuX2xuZ0xhdCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG9mZnNldEJvdHRvbSA9IG5vcm1hbGl6ZU9mZnNldCh0aGlzLm9wdGlvbnMub2Zmc2V0KTtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuX2FuY2hvciA9IHRoaXMuX2dldEFuY2hvcihvZmZzZXRCb3R0b20ueSk7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBub3JtYWxpemVPZmZzZXQodGhpcy5vcHRpb25zLm9mZnNldCwgYW5jaG9yKTtcblxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ZWRQb3MgPSBwb3MuYWRkKG9mZnNldCkucm91bmQoKTtcbiAgICAgICAgICAgIG1hcC5fcmVxdWVzdERvbVRhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb250YWluZXIgJiYgYW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSBgJHthbmNob3JUcmFuc2xhdGVbYW5jaG9yXX0gdHJhbnNsYXRlKCR7b2Zmc2V0ZWRQb3MueH1weCwke29mZnNldGVkUG9zLnl9cHgpYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fbWFya2VyICYmIG1hcC5fc2hvd2luZ0dsb2JlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wYWNpdHkgPSBpc0xuZ0xhdEJlaGluZEdsb2JlKG1hcC50cmFuc2Zvcm0sIHRoaXMuX2xuZ0xhdCkgPyAwIDogMTtcbiAgICAgICAgICAgIHRoaXMuX3NldE9wYWNpdHkob3BhY2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVDbGFzc0xpc3QoKTtcbiAgICB9XG5cbiAgICBfZm9jdXNGaXJzdEVsZW1lbnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmZvY3VzQWZ0ZXJPcGVuIHx8ICF0aGlzLl9jb250YWluZXIpIHJldHVybjtcblxuICAgICAgICBjb25zdCBmaXJzdEZvY3VzYWJsZSA9IHRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGZvY3VzUXVlcnlTZWxlY3Rvcik7XG5cbiAgICAgICAgaWYgKGZpcnN0Rm9jdXNhYmxlKSBmaXJzdEZvY3VzYWJsZS5mb2N1cygpO1xuICAgIH1cblxuICAgIF9vbkNsb3NlKCkge1xuICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIF9zZXRPcGFjaXR5KG9wYWNpdHk6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5fY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHl9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gb3BhY2l0eSA/ICdhdXRvJyA6ICdub25lJztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gcmV0dXJucyBhIG5vcm1hbGl6ZWQgb2Zmc2V0IGZvciBhIGdpdmVuIGFuY2hvclxuZnVuY3Rpb24gbm9ybWFsaXplT2Zmc2V0KG9mZnNldDogT2Zmc2V0ID0gbmV3IFBvaW50KDAsIDApLCBhbmNob3I6IEFuY2hvciA9ICdib3R0b20nKTogUG9pbnQge1xuICAgIGlmICh0eXBlb2Ygb2Zmc2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAvLyBpbnB1dCBzcGVjaWZpZXMgYSByYWRpdXMgZnJvbSB3aGljaCB0byBjYWxjdWxhdGUgb2Zmc2V0cyBhdCBhbGwgcG9zaXRpb25zXG4gICAgICAgIGNvbnN0IGNvcm5lck9mZnNldCA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KDAuNSAqIE1hdGgucG93KG9mZnNldCwgMikpKTtcbiAgICAgICAgc3dpdGNoIChhbmNob3IpIHtcbiAgICAgICAgY2FzZSAndG9wJzogcmV0dXJuIG5ldyBQb2ludCgwLCBvZmZzZXQpO1xuICAgICAgICBjYXNlICd0b3AtbGVmdCc6IHJldHVybiBuZXcgUG9pbnQoY29ybmVyT2Zmc2V0LCBjb3JuZXJPZmZzZXQpO1xuICAgICAgICBjYXNlICd0b3AtcmlnaHQnOiByZXR1cm4gbmV3IFBvaW50KC1jb3JuZXJPZmZzZXQsIGNvcm5lck9mZnNldCk7XG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6IHJldHVybiBuZXcgUG9pbnQoMCwgLW9mZnNldCk7XG4gICAgICAgIGNhc2UgJ2JvdHRvbS1sZWZ0JzogcmV0dXJuIG5ldyBQb2ludChjb3JuZXJPZmZzZXQsIC1jb3JuZXJPZmZzZXQpO1xuICAgICAgICBjYXNlICdib3R0b20tcmlnaHQnOiByZXR1cm4gbmV3IFBvaW50KC1jb3JuZXJPZmZzZXQsIC1jb3JuZXJPZmZzZXQpO1xuICAgICAgICBjYXNlICdsZWZ0JzogcmV0dXJuIG5ldyBQb2ludChvZmZzZXQsIDApO1xuICAgICAgICBjYXNlICdyaWdodCc6IHJldHVybiBuZXcgUG9pbnQoLW9mZnNldCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCgwLCAwKTtcbiAgICB9XG5cbiAgICBpZiAob2Zmc2V0IGluc3RhbmNlb2YgUG9pbnQgfHwgQXJyYXkuaXNBcnJheShvZmZzZXQpKSB7XG4gICAgICAgIC8vIGlucHV0IHNwZWNpZmllcyBhIHNpbmdsZSBvZmZzZXQgdG8gYmUgYXBwbGllZCB0byBhbGwgcG9zaXRpb25zXG4gICAgICAgIHJldHVybiBQb2ludC5jb252ZXJ0KG9mZnNldCk7XG4gICAgfVxuXG4gICAgLy8gaW5wdXQgc3BlY2lmaWVzIGFuIG9mZnNldCBwZXIgcG9zaXRpb25cbiAgICAvLyAkRmxvd0ZpeE1lIHdlIGtub3cgb2Zmc2V0IGlzIGFuIG9iamVjdCBhdCB0aGlzIHBvaW50IGJ1dCBGbG93IGNhbid0IHJlZmluZSBpdCBmb3Igc29tZSByZWFzb25cbiAgICByZXR1cm4gUG9pbnQuY29udmVydChvZmZzZXRbYW5jaG9yXSB8fCBbMCwgMF0pO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtlYXNlQ3ViaWNJbk91dH0gZnJvbSAnLi91dGlsLmpzJztcblxuLyoqXG4gKiBBbiBvYmplY3QgZm9yIG1haW50YWluaW5nIGp1c3QgZW5vdWdoIHN0YXRlIHRvIGVhc2UgYSB2YXJpYWJsZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBFYXNlZFZhcmlhYmxlIHtcbiAgICBfc3RhcnQ6IG51bWJlcjtcbiAgICBfZW5kOiBudW1iZXI7XG4gICAgX3N0YXJ0VGltZTogbnVtYmVyO1xuICAgIF9lbmRUaW1lOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsVmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmp1bXBUbyhpbml0aWFsVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV2YWx1YXRlIHRoZSBjdXJyZW50IHZhbHVlLCBnaXZlbiBhIHRpbWVzdGFtcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aW1lU3RhbXAge251bWJlcn0gVGltZSBhdCB3aGljaCB0byBldmFsdWF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IEV2YWx1YXRlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBnZXRWYWx1ZSh0aW1lU3RhbXA6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmICh0aW1lU3RhbXAgPD0gdGhpcy5fc3RhcnRUaW1lKSByZXR1cm4gdGhpcy5fc3RhcnQ7XG4gICAgICAgIGlmICh0aW1lU3RhbXAgPj0gdGhpcy5fZW5kVGltZSkgcmV0dXJuIHRoaXMuX2VuZDtcblxuICAgICAgICBjb25zdCB0ID0gZWFzZUN1YmljSW5PdXQoKHRpbWVTdGFtcCAtIHRoaXMuX3N0YXJ0VGltZSkgLyAodGhpcy5fZW5kVGltZSAtIHRoaXMuX3N0YXJ0VGltZSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnQgKiAoMSAtIHQpICsgdGhpcy5fZW5kICogdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhbiBlYXNlIGlzIGluIHByb2dyZXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRpbWVTdGFtcCB7bnVtYmVyfSBDdXJyZW50IHRpbWUgc3RhbXAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgZWFzZSBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBpc0Vhc2luZyh0aW1lU3RhbXA6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGltZVN0YW1wID49IHRoaXMuX3N0YXJ0VGltZSAmJiB0aW1lU3RhbXAgPD0gdGhpcy5fZW5kVGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHZhbHVlIHdpdGhvdXQgZWFzaW5nIGFuZCBjYW5jZWwgYW55IGluIHByb2dyZXNzIGVhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUge251bWJlcn0gTmV3IHZhbHVlLlxuICAgICAqL1xuICAgIGp1bXBUbyh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0VGltZSA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5fZW5kVGltZSA9IC1JbmZpbml0eTtcblxuICAgICAgICB0aGlzLl9zdGFydCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9lbmQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYW5jZWwgYW55IGluLXByb2dyZXNzIGVhc2UgYW5kIGJlZ2luIGEgbmV3IGVhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUge251bWJlcn0gTmV3IHZhbHVlIHRvIHdoaWNoIHRvIGVhc2UuXG4gICAgICogQHBhcmFtIHRpbWVTdGFtcCB7bnVtYmVyfSBDdXJyZW50IHRpbWUgc3RhbXAuXG4gICAgICogQHBhcmFtIGR1cmF0aW9uIHtudW1iZXJ9IEVhc2UgZHVyYXRpb24sIGluIHNhbWUgdW5pdHMgYXMgdGltZVN0YW1wLlxuICAgICAqL1xuICAgIGVhc2VUbyh2YWx1ZTogbnVtYmVyLCB0aW1lU3RhbXA6IG51bWJlciwgZHVyYXRpb246IG51bWJlcikge1xuICAgICAgICB0aGlzLl9zdGFydCA9IHRoaXMuZ2V0VmFsdWUodGltZVN0YW1wKTtcbiAgICAgICAgdGhpcy5fZW5kID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gdGltZVN0YW1wO1xuICAgICAgICB0aGlzLl9lbmRUaW1lID0gdGltZVN0YW1wICsgZHVyYXRpb247XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFYXNlZFZhcmlhYmxlO1xuIiwiLy8gQGZsb3dcblxuY29uc3QgZGVmYXVsdExvY2FsZSA9IHtcbiAgICAnQXR0cmlidXRpb25Db250cm9sLlRvZ2dsZUF0dHJpYnV0aW9uJzogJ1RvZ2dsZSBhdHRyaWJ1dGlvbicsXG4gICAgJ0F0dHJpYnV0aW9uQ29udHJvbC5NYXBGZWVkYmFjayc6ICdNYXAgZmVlZGJhY2snLFxuICAgICdGdWxsc2NyZWVuQ29udHJvbC5FbnRlcic6ICdFbnRlciBmdWxsc2NyZWVuJyxcbiAgICAnRnVsbHNjcmVlbkNvbnRyb2wuRXhpdCc6ICdFeGl0IGZ1bGxzY3JlZW4nLFxuICAgICdHZW9sb2NhdGVDb250cm9sLkZpbmRNeUxvY2F0aW9uJzogJ0ZpbmQgbXkgbG9jYXRpb24nLFxuICAgICdHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlJzogJ0xvY2F0aW9uIG5vdCBhdmFpbGFibGUnLFxuICAgICdMb2dvQ29udHJvbC5UaXRsZSc6ICdNYXBib3ggbG9nbycsXG4gICAgJ01hcC5UaXRsZSc6ICdNYXAnLFxuICAgICdOYXZpZ2F0aW9uQ29udHJvbC5SZXNldEJlYXJpbmcnOiAnUmVzZXQgYmVhcmluZyB0byBub3J0aCcsXG4gICAgJ05hdmlnYXRpb25Db250cm9sLlpvb21Jbic6ICdab29tIGluJyxcbiAgICAnTmF2aWdhdGlvbkNvbnRyb2wuWm9vbU91dCc6ICdab29tIG91dCcsXG4gICAgJ1Njcm9sbFpvb21CbG9ja2VyLkN0cmxNZXNzYWdlJzogJ1VzZSBjdHJsICsgc2Nyb2xsIHRvIHpvb20gdGhlIG1hcCcsXG4gICAgJ1Njcm9sbFpvb21CbG9ja2VyLkNtZE1lc3NhZ2UnOiAnVXNlIOKMmCArIHNjcm9sbCB0byB6b29tIHRoZSBtYXAnLFxuICAgICdUb3VjaFBhbkJsb2NrZXIuTWVzc2FnZSc6ICdVc2UgdHdvIGZpbmdlcnMgdG8gbW92ZSB0aGUgbWFwJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdExvY2FsZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7dmVyc2lvbn0gZnJvbSAnLi4vLi4vcGFja2FnZS5qc29uJztcbmltcG9ydCB7YXN5bmNBbGwsIGV4dGVuZCwgYmluZEFsbCwgd2Fybk9uY2UsIHVuaXF1ZUlkLCBpc1NhZmFyaVdpdGhBbnRpYWxpYXNpbmdCdWd9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdy5qcyc7XG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vdXRpbC9kb20uanMnO1xuaW1wb3J0IHtnZXRJbWFnZSwgZ2V0SlNPTiwgUmVzb3VyY2VUeXBlfSBmcm9tICcuLi91dGlsL2FqYXguanMnO1xuaW1wb3J0IHtSZXF1ZXN0TWFuYWdlciwgZ2V0TWFwU2Vzc2lvbkFQSSwgcG9zdFBlcmZvcm1hbmNlRXZlbnQsIHBvc3RNYXBMb2FkRXZlbnQsIEFVVEhfRVJSX01TRywgc3RvcmVBdXRoU3RhdGUsIHJlbW92ZUF1dGhTdGF0ZX0gZnJvbSAnLi4vdXRpbC9tYXBib3guanMnO1xuaW1wb3J0IFN0eWxlIGZyb20gJy4uL3N0eWxlL3N0eWxlLmpzJztcbmltcG9ydCBFdmFsdWF0aW9uUGFyYW1ldGVycyBmcm9tICcuLi9zdHlsZS9ldmFsdWF0aW9uX3BhcmFtZXRlcnMuanMnO1xuaW1wb3J0IFBhaW50ZXIgZnJvbSAnLi4vcmVuZGVyL3BhaW50ZXIuanMnO1xuaW1wb3J0IFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcbmltcG9ydCBIYXNoIGZyb20gJy4vaGFzaC5qcyc7XG5pbXBvcnQgSGFuZGxlck1hbmFnZXIgZnJvbSAnLi9oYW5kbGVyX21hbmFnZXIuanMnO1xuaW1wb3J0IENhbWVyYSBmcm9tICcuL2NhbWVyYS5qcyc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0LmpzJztcbmltcG9ydCBMbmdMYXRCb3VuZHMgZnJvbSAnLi4vZ2VvL2xuZ19sYXRfYm91bmRzLmpzJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCBBdHRyaWJ1dGlvbkNvbnRyb2wgZnJvbSAnLi9jb250cm9sL2F0dHJpYnV0aW9uX2NvbnRyb2wuanMnO1xuaW1wb3J0IExvZ29Db250cm9sIGZyb20gJy4vY29udHJvbC9sb2dvX2NvbnRyb2wuanMnO1xuaW1wb3J0IHtzdXBwb3J0ZWR9IGZyb20gJ0BtYXBib3gvbWFwYm94LWdsLXN1cHBvcnRlZCc7XG5pbXBvcnQge1JHQkFJbWFnZX0gZnJvbSAnLi4vdXRpbC9pbWFnZS5qcyc7XG5pbXBvcnQge0V2ZW50LCBFcnJvckV2ZW50fSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IHtNYXBNb3VzZUV2ZW50fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgVGFza1F1ZXVlIGZyb20gJy4uL3V0aWwvdGFza19xdWV1ZS5qcyc7XG5pbXBvcnQgd2VicFN1cHBvcnRlZCBmcm9tICcuLi91dGlsL3dlYnBfc3VwcG9ydGVkLmpzJztcbmltcG9ydCB7UGVyZm9ybWFuY2VVdGlsc30gZnJvbSAnLi4vdXRpbC9wZXJmb3JtYW5jZS5qcyc7XG5pbXBvcnQge1BlcmZvcm1hbmNlTWFya2VycywgTGl2ZVBlcmZvcm1hbmNlVXRpbHN9IGZyb20gJy4uL3V0aWwvbGl2ZV9wZXJmb3JtYW5jZS5qcyc7XG5pbXBvcnQgTWFya2VyIGZyb20gJy4uL3VpL21hcmtlci5qcyc7XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi4vdWkvcG9wdXAuanMnO1xuaW1wb3J0IEVhc2VkVmFyaWFibGUgZnJvbSAnLi4vdXRpbC9lYXNlZF92YXJpYWJsZS5qcyc7XG5pbXBvcnQgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZS5qcyc7XG5pbXBvcnQge0dMT0JFX1pPT01fVEhSRVNIT0xEX01BWH0gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5pbXBvcnQge3NldENhY2hlTGltaXRzfSBmcm9tICcuLi91dGlsL3RpbGVfcmVxdWVzdF9jYWNoZS5qcyc7XG5pbXBvcnQge0RlYnVnfSBmcm9tICcuLi91dGlsL2RlYnVnLmpzJztcblxuaW1wb3J0IHR5cGUge1BvaW50TGlrZX0gZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSB7UmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9ufSBmcm9tICcuLi91dGlsL21hcGJveC5qcyc7XG5pbXBvcnQgdHlwZSB7TG5nTGF0TGlrZX0gZnJvbSAnLi4vZ2VvL2xuZ19sYXQuanMnO1xuaW1wb3J0IHR5cGUge0xuZ0xhdEJvdW5kc0xpa2V9IGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcy5qcyc7XG5pbXBvcnQgdHlwZSB7U3R5bGVPcHRpb25zLCBTdHlsZVNldHRlck9wdGlvbnN9IGZyb20gJy4uL3N0eWxlL3N0eWxlLmpzJztcbmltcG9ydCB0eXBlIHtNYXBFdmVudCwgTWFwRGF0YUV2ZW50fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgdHlwZSB7Q3VzdG9tTGF5ZXJJbnRlcmZhY2V9IGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2N1c3RvbV9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgdHlwZSB7U3R5bGVJbWFnZUludGVyZmFjZSwgU3R5bGVJbWFnZU1ldGFkYXRhfSBmcm9tICcuLi9zdHlsZS9zdHlsZV9pbWFnZS5qcyc7XG5cbmltcG9ydCB0eXBlIFNjcm9sbFpvb21IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9zY3JvbGxfem9vbS5qcyc7XG5pbXBvcnQgdHlwZSBCb3hab29tSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvYm94X3pvb20uanMnO1xuaW1wb3J0IHR5cGUge1RvdWNoUGl0Y2hIYW5kbGVyfSBmcm9tICcuL2hhbmRsZXIvdG91Y2hfem9vbV9yb3RhdGUuanMnO1xuaW1wb3J0IHR5cGUgRHJhZ1JvdGF0ZUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL3NoaW0vZHJhZ19yb3RhdGUuanMnO1xuaW1wb3J0IHR5cGUgRHJhZ1BhbkhhbmRsZXIsIHtEcmFnUGFuT3B0aW9uc30gZnJvbSAnLi9oYW5kbGVyL3NoaW0vZHJhZ19wYW4uanMnO1xuaW1wb3J0IHR5cGUgS2V5Ym9hcmRIYW5kbGVyIGZyb20gJy4vaGFuZGxlci9rZXlib2FyZC5qcyc7XG5pbXBvcnQgdHlwZSBEb3VibGVDbGlja1pvb21IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9zaGltL2RibGNsaWNrX3pvb20uanMnO1xuaW1wb3J0IHR5cGUgVG91Y2hab29tUm90YXRlSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvc2hpbS90b3VjaF96b29tX3JvdGF0ZS5qcyc7XG5pbXBvcnQgZGVmYXVsdExvY2FsZSBmcm9tICcuL2RlZmF1bHRfbG9jYWxlLmpzJztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uL3V0aWwvdGFza19xdWV1ZS5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FuY2VsYWJsZX0gZnJvbSAnLi4vdHlwZXMvY2FuY2VsYWJsZS5qcyc7XG5pbXBvcnQgdHlwZSB7XG4gICAgTGF5ZXJTcGVjaWZpY2F0aW9uLFxuICAgIEZpbHRlclNwZWNpZmljYXRpb24sXG4gICAgU3R5bGVTcGVjaWZpY2F0aW9uLFxuICAgIExpZ2h0U3BlY2lmaWNhdGlvbixcbiAgICBUZXJyYWluU3BlY2lmaWNhdGlvbixcbiAgICBGb2dTcGVjaWZpY2F0aW9uLFxuICAgIFNvdXJjZVNwZWNpZmljYXRpb24sXG4gICAgUHJvamVjdGlvblNwZWNpZmljYXRpb24sXG4gICAgUHJvcGVydHlWYWx1ZVNwZWNpZmljYXRpb24sXG4gICAgVHJhbnNpdGlvblNwZWNpZmljYXRpb25cbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyLmpzJztcbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4uL3NvdXJjZS9zb3VyY2UuanMnO1xuaW1wb3J0IHR5cGUge1F1ZXJ5RmVhdHVyZX0gZnJvbSAnLi4vdXRpbC92ZWN0b3J0aWxlX3RvX2dlb2pzb24uanMnO1xuaW1wb3J0IHR5cGUge1F1ZXJ5UmVzdWx0fSBmcm9tICcuLi9kYXRhL2ZlYXR1cmVfaW5kZXguanMnO1xuXG5leHBvcnQgdHlwZSBDb250cm9sUG9zaXRpb24gPSAndG9wLWxlZnQnIHwgJ3RvcC1yaWdodCcgfCAnYm90dG9tLWxlZnQnIHwgJ2JvdHRvbS1yaWdodCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuaW50ZXJmYWNlIElDb250cm9sIHtcbiAgICArb25BZGQ6IChtYXA6IE1hcCkgPT4gSFRNTEVsZW1lbnQ7XG4gICAgK29uUmVtb3ZlOiAobWFwOiBNYXApID0+IHZvaWQ7XG5cbiAgICArZ2V0RGVmYXVsdFBvc2l0aW9uPzogKCkgPT4gQ29udHJvbFBvc2l0aW9uO1xuICAgICtfc2V0TGFuZ3VhZ2U/OiAobGFuZ3VhZ2U6ID9zdHJpbmcgfCA/c3RyaW5nW10pID0+IHZvaWQ7XG59XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXG5cbmV4cG9ydCBjb25zdCBBVkVSQUdFX0VMRVZBVElPTl9TQU1QTElOR19JTlRFUlZBTCA9IDUwMDsgLy8gbXNcbmV4cG9ydCBjb25zdCBBVkVSQUdFX0VMRVZBVElPTl9FQVNFX1RJTUUgPSAzMDA7IC8vIG1zXG5leHBvcnQgY29uc3QgQVZFUkFHRV9FTEVWQVRJT05fRUFTRV9USFJFU0hPTEQgPSAxOyAvLyBtZXRlcnNcbmV4cG9ydCBjb25zdCBBVkVSQUdFX0VMRVZBVElPTl9DSEFOR0VfVEhSRVNIT0xEID0gMWUtNDsgLy8gbWV0ZXJzXG5cbnR5cGUgTWFwT3B0aW9ucyA9IHtcbiAgICBoYXNoPzogYm9vbGVhbiB8IHN0cmluZyxcbiAgICBpbnRlcmFjdGl2ZT86IGJvb2xlYW4sXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IHN0cmluZyxcbiAgICBiZWFyaW5nU25hcD86IG51bWJlcixcbiAgICBhdHRyaWJ1dGlvbkNvbnRyb2w/OiBib29sZWFuLFxuICAgIGN1c3RvbUF0dHJpYnV0aW9uPzogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPixcbiAgICBsb2dvUG9zaXRpb24/OiBDb250cm9sUG9zaXRpb24sXG4gICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD86IGJvb2xlYW4sXG4gICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyPzogYm9vbGVhbixcbiAgICBhbnRpYWxpYXM/OiBib29sZWFuLFxuICAgIHJlZnJlc2hFeHBpcmVkVGlsZXM/OiBib29sZWFuLFxuICAgIG1heEJvdW5kcz86IExuZ0xhdEJvdW5kc0xpa2UsXG4gICAgc2Nyb2xsWm9vbT86IGJvb2xlYW4sXG4gICAgbWluWm9vbT86ID9udW1iZXIsXG4gICAgbWF4Wm9vbT86ID9udW1iZXIsXG4gICAgbWluUGl0Y2g/OiA/bnVtYmVyLFxuICAgIG1heFBpdGNoPzogP251bWJlcixcbiAgICBib3hab29tPzogYm9vbGVhbixcbiAgICBkcmFnUm90YXRlPzogYm9vbGVhbixcbiAgICBkcmFnUGFuPzogRHJhZ1Bhbk9wdGlvbnMsXG4gICAga2V5Ym9hcmQ/OiBib29sZWFuLFxuICAgIGRvdWJsZUNsaWNrWm9vbT86IGJvb2xlYW4sXG4gICAgdG91Y2hab29tUm90YXRlPzogYm9vbGVhbixcbiAgICB0b3VjaFBpdGNoPzogYm9vbGVhbixcbiAgICBjb29wZXJhdGl2ZUdlc3R1cmVzPzogYm9vbGVhbixcbiAgICB0cmFja1Jlc2l6ZT86IGJvb2xlYW4sXG4gICAgY2VudGVyPzogTG5nTGF0TGlrZSxcbiAgICB6b29tPzogbnVtYmVyLFxuICAgIGJlYXJpbmc/OiBudW1iZXIsXG4gICAgcGl0Y2g/OiBudW1iZXIsXG4gICAgb3B0aW1pemVGb3JUZXJyYWluPzogYm9vbGVhbixcbiAgICByZW5kZXJXb3JsZENvcGllcz86IGJvb2xlYW4sXG4gICAgbWluVGlsZUNhY2hlU2l6ZT86IG51bWJlcixcbiAgICBtYXhUaWxlQ2FjaGVTaXplPzogbnVtYmVyLFxuICAgIHRyYW5zZm9ybVJlcXVlc3Q/OiBSZXF1ZXN0VHJhbnNmb3JtRnVuY3Rpb24sXG4gICAgYWNjZXNzVG9rZW46IHN0cmluZyxcbiAgICB0ZXN0TW9kZTogP2Jvb2xlYW4sXG4gICAgbG9jYWxlPzogT2JqZWN0LFxuICAgIHByb2plY3Rpb24/OiBQcm9qZWN0aW9uU3BlY2lmaWNhdGlvbiB8IHN0cmluZyxcbiAgICBsYW5ndWFnZT86IHN0cmluZyxcbiAgICB3b3JsZHZpZXc/OiBzdHJpbmdcbn07XG5cbmNvbnN0IGRlZmF1bHRNaW5ab29tID0gLTI7XG5jb25zdCBkZWZhdWx0TWF4Wm9vbSA9IDIyO1xuXG4vLyB0aGUgZGVmYXVsdCB2YWx1ZXMsIGJ1dCBhbHNvIHRoZSB2YWxpZCByYW5nZVxuY29uc3QgZGVmYXVsdE1pblBpdGNoID0gMDtcbmNvbnN0IGRlZmF1bHRNYXhQaXRjaCA9IDg1O1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBjZW50ZXI6IFswLCAwXSxcbiAgICB6b29tOiAwLFxuICAgIGJlYXJpbmc6IDAsXG4gICAgcGl0Y2g6IDAsXG5cbiAgICBtaW5ab29tOiBkZWZhdWx0TWluWm9vbSxcbiAgICBtYXhab29tOiBkZWZhdWx0TWF4Wm9vbSxcblxuICAgIG1pblBpdGNoOiBkZWZhdWx0TWluUGl0Y2gsXG4gICAgbWF4UGl0Y2g6IGRlZmF1bHRNYXhQaXRjaCxcblxuICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgIHNjcm9sbFpvb206IHRydWUsXG4gICAgYm94Wm9vbTogdHJ1ZSxcbiAgICBkcmFnUm90YXRlOiB0cnVlLFxuICAgIGRyYWdQYW46IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgZG91YmxlQ2xpY2tab29tOiB0cnVlLFxuICAgIHRvdWNoWm9vbVJvdGF0ZTogdHJ1ZSxcbiAgICB0b3VjaFBpdGNoOiB0cnVlLFxuICAgIGNvb3BlcmF0aXZlR2VzdHVyZXM6IGZhbHNlLFxuICAgIHBlcmZvcm1hbmNlTWV0cmljc0NvbGxlY3Rpb246IHRydWUsXG5cbiAgICBiZWFyaW5nU25hcDogNyxcbiAgICBjbGlja1RvbGVyYW5jZTogMyxcbiAgICBwaXRjaFdpdGhSb3RhdGU6IHRydWUsXG5cbiAgICBoYXNoOiBmYWxzZSxcbiAgICBhdHRyaWJ1dGlvbkNvbnRyb2w6IHRydWUsXG5cbiAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBmYWxzZSxcbiAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxuICAgIHRyYWNrUmVzaXplOiB0cnVlLFxuICAgIG9wdGltaXplRm9yVGVycmFpbjogdHJ1ZSxcbiAgICByZW5kZXJXb3JsZENvcGllczogdHJ1ZSxcbiAgICByZWZyZXNoRXhwaXJlZFRpbGVzOiB0cnVlLFxuICAgIG1pblRpbGVDYWNoZVNpemU6IG51bGwsXG4gICAgbWF4VGlsZUNhY2hlU2l6ZTogbnVsbCxcbiAgICBsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6ICdzYW5zLXNlcmlmJyxcbiAgICBsb2NhbEZvbnRGYW1pbHk6IG51bGwsXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogbnVsbCxcbiAgICBhY2Nlc3NUb2tlbjogbnVsbCxcbiAgICBmYWRlRHVyYXRpb246IDMwMCxcbiAgICBjcm9zc1NvdXJjZUNvbGxpc2lvbnM6IHRydWVcbn07XG5cbi8qKlxuICogVGhlIGBNYXBgIG9iamVjdCByZXByZXNlbnRzIHRoZSBtYXAgb24geW91ciBwYWdlLiBJdCBleHBvc2VzIG1ldGhvZHNcbiAqIGFuZCBwcm9wZXJ0aWVzIHRoYXQgZW5hYmxlIHlvdSB0byBwcm9ncmFtbWF0aWNhbGx5IGNoYW5nZSB0aGUgbWFwLFxuICogYW5kIGZpcmVzIGV2ZW50cyBhcyB1c2VycyBpbnRlcmFjdCB3aXRoIGl0LlxuICpcbiAqIFlvdSBjcmVhdGUgYSBgTWFwYCBieSBzcGVjaWZ5aW5nIGEgYGNvbnRhaW5lcmAgYW5kIG90aGVyIG9wdGlvbnMuXG4gKiBUaGVuIE1hcGJveCBHTCBKUyBpbml0aWFsaXplcyB0aGUgbWFwIG9uIHRoZSBwYWdlIGFuZCByZXR1cm5zIHlvdXIgYE1hcGBcbiAqIG9iamVjdC5cbiAqXG4gKiBAZXh0ZW5kcyBFdmVudGVkXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IG9wdGlvbnMuY29udGFpbmVyIFRoZSBIVE1MIGVsZW1lbnQgaW4gd2hpY2ggTWFwYm94IEdMIEpTIHdpbGwgcmVuZGVyIHRoZSBtYXAsIG9yIHRoZSBlbGVtZW50J3Mgc3RyaW5nIGBpZGAuIFRoZSBzcGVjaWZpZWQgZWxlbWVudCBtdXN0IGhhdmUgbm8gY2hpbGRyZW4uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluWm9vbT0wXSBUaGUgbWluaW11bSB6b29tIGxldmVsIG9mIHRoZSBtYXAgKDAtMjQpLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFpvb209MjJdIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgb2YgdGhlIG1hcCAoMC0yNCkuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluUGl0Y2g9MF0gVGhlIG1pbmltdW0gcGl0Y2ggb2YgdGhlIG1hcCAoMC04NSkuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4UGl0Y2g9ODVdIFRoZSBtYXhpbXVtIHBpdGNoIG9mIHRoZSBtYXAgKDAtODUpLlxuICogQHBhcmFtIHtPYmplY3QgfCBzdHJpbmd9IG9wdGlvbnMuc3R5bGUgVGhlIG1hcCdzIE1hcGJveCBzdHlsZS4gVGhpcyBtdXN0IGJlIGFuIGEgSlNPTiBvYmplY3QgY29uZm9ybWluZyB0b1xuICogdGhlIHNjaGVtYSBkZXNjcmliZWQgaW4gdGhlIFtNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyksIG9yIGEgVVJMXG4gKiB0byBzdWNoIEpTT04uIENhbiBhY2NlcHQgYSBudWxsIHZhbHVlIHRvIGFsbG93IGFkZGluZyBhIHN0eWxlIG1hbnVhbGx5LlxuICpcbiAqIFRvIGxvYWQgYSBzdHlsZSBmcm9tIHRoZSBNYXBib3ggQVBJLCB5b3UgY2FuIHVzZSBhIFVSTCBvZiB0aGUgZm9ybSBgbWFwYm94Oi8vc3R5bGVzLzpvd25lci86c3R5bGVgLFxuICogd2hlcmUgYDpvd25lcmAgaXMgeW91ciBNYXBib3ggYWNjb3VudCBuYW1lIGFuZCBgOnN0eWxlYCBpcyB0aGUgc3R5bGUgSUQuIFlvdSBjYW4gYWxzbyB1c2UgYVxuICogW01hcGJveC1vd25lZCBzdHlsZV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL21hcHMvc3R5bGVzLyNtYXBib3gtc3R5bGVzKTpcbiAqXG4gKiAgKiBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXYxMWBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L291dGRvb3JzLXYxMWBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L2xpZ2h0LXYxMGBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L2RhcmstdjEwYFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvc2F0ZWxsaXRlLXY5YFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvc2F0ZWxsaXRlLXN0cmVldHMtdjExYFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvbmF2aWdhdGlvbi1kYXktdjFgXG4gKiAgKiBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9uYXZpZ2F0aW9uLW5pZ2h0LXYxYC5cbiAqXG4gKiBUaWxlc2V0cyBob3N0ZWQgd2l0aCBNYXBib3ggY2FuIGJlIHN0eWxlLW9wdGltaXplZCBpZiB5b3UgYXBwZW5kIGA/b3B0aW1pemU9dHJ1ZWAgdG8gdGhlIGVuZCBvZiB5b3VyIHN0eWxlIFVSTCwgbGlrZSBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXYxMT9vcHRpbWl6ZT10cnVlYC5cbiAqIExlYXJuIG1vcmUgYWJvdXQgc3R5bGUtb3B0aW1pemVkIHZlY3RvciB0aWxlcyBpbiBvdXIgW0FQSSBkb2N1bWVudGF0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL2FwaS1kb2N1bWVudGF0aW9uL21hcHMvI3JldHJpZXZlLXRpbGVzKS5cbiAqXG4gKiBAcGFyYW0geyhib29sZWFufHN0cmluZyl9IFtvcHRpb25zLmhhc2g9ZmFsc2VdIElmIGB0cnVlYCwgdGhlIG1hcCdzIFtwb3NpdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9jYW1lcmEpICh6b29tLCBjZW50ZXIgbGF0aXR1ZGUsIGNlbnRlciBsb25naXR1ZGUsIGJlYXJpbmcsIGFuZCBwaXRjaCkgd2lsbCBiZSBzeW5jZWQgd2l0aCB0aGUgaGFzaCBmcmFnbWVudCBvZiB0aGUgcGFnZSdzIFVSTC5cbiAqICAgRm9yIGV4YW1wbGUsIGBodHRwOi8vcGF0aC90by9teS9wYWdlLmh0bWwjMi41OS8zOS4yNi81My4wNy8tMjQuMS82MGAuXG4gKiAgIEFuIGFkZGl0aW9uYWwgc3RyaW5nIG1heSBvcHRpb25hbGx5IGJlIHByb3ZpZGVkIHRvIGluZGljYXRlIGEgcGFyYW1ldGVyLXN0eWxlZCBoYXNoLFxuICogICBmb3IgZXhhbXBsZSBodHRwOi8vcGF0aC90by9teS9wYWdlLmh0bWwjbWFwPTIuNTkvMzkuMjYvNTMuMDcvLTI0LjEvNjAmZm9vPWJhciwgd2hlcmUgYGZvb2BcbiAqICAgaXMgYSBjdXN0b20gcGFyYW1ldGVyIGFuZCBgYmFyYCBpcyBhbiBhcmJpdHJhcnkgaGFzaCBkaXN0aW5jdCBmcm9tIHRoZSBtYXAgaGFzaC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaW50ZXJhY3RpdmU9dHJ1ZV0gSWYgYGZhbHNlYCwgbm8gbW91c2UsIHRvdWNoLCBvciBrZXlib2FyZCBsaXN0ZW5lcnMgd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgbWFwLCBzbyBpdCB3aWxsIG5vdCByZXNwb25kIHRvIGludGVyYWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJlYXJpbmdTbmFwPTddIFRoZSB0aHJlc2hvbGQsIG1lYXN1cmVkIGluIGRlZ3JlZXMsIHRoYXQgZGV0ZXJtaW5lcyB3aGVuIHRoZSBtYXAnc1xuICogICBiZWFyaW5nIHdpbGwgc25hcCB0byBub3J0aC4gRm9yIGV4YW1wbGUsIHdpdGggYSBgYmVhcmluZ1NuYXBgIG9mIDcsIGlmIHRoZSB1c2VyIHJvdGF0ZXNcbiAqICAgdGhlIG1hcCB3aXRoaW4gNyBkZWdyZWVzIG9mIG5vcnRoLCB0aGUgbWFwIHdpbGwgYXV0b21hdGljYWxseSBzbmFwIHRvIGV4YWN0IG5vcnRoLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5waXRjaFdpdGhSb3RhdGU9dHJ1ZV0gSWYgYGZhbHNlYCwgdGhlIG1hcCdzIHBpdGNoICh0aWx0KSBjb250cm9sIHdpdGggXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIHdpbGwgYmUgZGlzYWJsZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY2xpY2tUb2xlcmFuY2U9M10gVGhlIG1heCBudW1iZXIgb2YgcGl4ZWxzIGEgdXNlciBjYW4gc2hpZnQgdGhlIG1vdXNlIHBvaW50ZXIgZHVyaW5nIGEgY2xpY2sgZm9yIGl0IHRvIGJlIGNvbnNpZGVyZWQgYSB2YWxpZCBjbGljayAoYXMgb3Bwb3NlZCB0byBhIG1vdXNlIGRyYWcpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2w9dHJ1ZV0gSWYgYHRydWVgLCBhbiB7QGxpbmsgQXR0cmlidXRpb25Db250cm9sfSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBtYXAuXG4gKiBAcGFyYW0ge3N0cmluZyB8IEFycmF5PHN0cmluZz59IFtvcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uPW51bGxdIFN0cmluZyBvciBzdHJpbmdzIHRvIHNob3cgaW4gYW4ge0BsaW5rIEF0dHJpYnV0aW9uQ29udHJvbH0uIE9ubHkgYXBwbGljYWJsZSBpZiBgb3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2xgIGlzIGB0cnVlYC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2dvUG9zaXRpb249J2JvdHRvbS1sZWZ0J10gQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgTWFwYm94IHdvcmRtYXJrIG9uIHRoZSBtYXAuIFZhbGlkIG9wdGlvbnMgYXJlIGB0b3AtbGVmdGAsYHRvcC1yaWdodGAsIGBib3R0b20tbGVmdGAsIGBib3R0b20tcmlnaHRgLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PWZhbHNlXSBJZiBgdHJ1ZWAsIG1hcCBjcmVhdGlvbiB3aWxsIGZhaWwgaWYgdGhlIHBlcmZvcm1hbmNlIG9mIE1hcGJveCBHTCBKUyB3b3VsZCBiZSBkcmFtYXRpY2FsbHkgd29yc2UgdGhhbiBleHBlY3RlZCAoYSBzb2Z0d2FyZSByZW5kZXJlciB3b3VsZCBiZSB1c2VkKS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZSBtYXAncyBjYW52YXMgY2FuIGJlIGV4cG9ydGVkIHRvIGEgUE5HIHVzaW5nIGBtYXAuZ2V0Q2FudmFzKCkudG9EYXRhVVJMKClgLiBUaGlzIGlzIGBmYWxzZWAgYnkgZGVmYXVsdCBhcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZSBnbCBjb250ZXh0IHdpbGwgYmUgY3JlYXRlZCB3aXRoIFtNU0FBIGFudGlhbGlhc2luZ10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTXVsdGlzYW1wbGVfYW50aS1hbGlhc2luZyksIHdoaWNoIGNhbiBiZSB1c2VmdWwgZm9yIGFudGlhbGlhc2luZyBjdXN0b20gbGF5ZXJzLiBUaGlzIGlzIGBmYWxzZWAgYnkgZGVmYXVsdCBhcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNlV2ViR0wyPWZhbHNlXSBUaGlzIGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlLiBJZiB0cnVlIGFuZCBkZXZpY2UncyBjYXBhYmlsaXRpZXMgc3VwcG9ydCBpdCwgV2ViR0wgMiBjb250ZXh0IHdpbGwgYmUgY3JlYXRlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVmcmVzaEV4cGlyZWRUaWxlcz10cnVlXSBJZiBgZmFsc2VgLCB0aGUgbWFwIHdvbid0IGF0dGVtcHQgdG8gcmUtcmVxdWVzdCB0aWxlcyBvbmNlIHRoZXkgZXhwaXJlIHBlciB0aGVpciBIVFRQIGBjYWNoZUNvbnRyb2xgL2BleHBpcmVzYCBoZWFkZXJzLlxuICogQHBhcmFtIHtMbmdMYXRCb3VuZHNMaWtlfSBbb3B0aW9ucy5tYXhCb3VuZHM9bnVsbF0gSWYgc2V0LCB0aGUgbWFwIHdpbGwgYmUgY29uc3RyYWluZWQgdG8gdGhlIGdpdmVuIGJvdW5kcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3R9IFtvcHRpb25zLnNjcm9sbFpvb209dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJzY3JvbGwgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuIEFuIGBPYmplY3RgIHZhbHVlIGlzIHBhc3NlZCBhcyBvcHRpb25zIHRvIHtAbGluayBTY3JvbGxab29tSGFuZGxlciNlbmFibGV9LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5ib3hab29tPXRydWVdIElmIGB0cnVlYCwgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkIChzZWUge0BsaW5rIEJveFpvb21IYW5kbGVyfSkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRyYWdSb3RhdGU9dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQgKHNlZSB7QGxpbmsgRHJhZ1JvdGF0ZUhhbmRsZXJ9KS5cbiAqIEBwYXJhbSB7Ym9vbGVhbiB8IE9iamVjdH0gW29wdGlvbnMuZHJhZ1Bhbj10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC4gQW4gYE9iamVjdGAgdmFsdWUgaXMgcGFzc2VkIGFzIG9wdGlvbnMgdG8ge0BsaW5rIERyYWdQYW5IYW5kbGVyI2VuYWJsZX0uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmtleWJvYXJkPXRydWVdIElmIGB0cnVlYCwga2V5Ym9hcmQgc2hvcnRjdXRzIGFyZSBlbmFibGVkIChzZWUge0BsaW5rIEtleWJvYXJkSGFuZGxlcn0pLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kb3VibGVDbGlja1pvb209dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQgKHNlZSB7QGxpbmsgRG91YmxlQ2xpY2tab29tSGFuZGxlcn0pLlxuICogQHBhcmFtIHtib29sZWFuIHwgT2JqZWN0fSBbb3B0aW9ucy50b3VjaFpvb21Sb3RhdGU9dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJwaW5jaCB0byByb3RhdGUgYW5kIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLiBBbiBgT2JqZWN0YCB2YWx1ZSBpcyBwYXNzZWQgYXMgb3B0aW9ucyB0byB7QGxpbmsgVG91Y2hab29tUm90YXRlSGFuZGxlciNlbmFibGV9LlxuICogQHBhcmFtIHtib29sZWFuIHwgT2JqZWN0fSBbb3B0aW9ucy50b3VjaFBpdGNoPXRydWVdIElmIGB0cnVlYCwgdGhlIFwiZHJhZyB0byBwaXRjaFwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuIEFuIGBPYmplY3RgIHZhbHVlIGlzIHBhc3NlZCBhcyBvcHRpb25zIHRvIHtAbGluayBUb3VjaFBpdGNoSGFuZGxlcn0uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvb3BlcmF0aXZlR2VzdHVyZXNdIElmIGB0cnVlYCwgc2Nyb2xsIHpvb20gd2lsbCByZXF1aXJlIHByZXNzaW5nIHRoZSBjdHJsIG9yIOKMmCBrZXkgd2hpbGUgc2Nyb2xsaW5nIHRvIHpvb20gbWFwLCBhbmQgdG91Y2ggcGFuIHdpbGwgcmVxdWlyZSB1c2luZyB0d28gZmluZ2VycyB3aGlsZSBwYW5uaW5nIHRvIG1vdmUgdGhlIG1hcC4gVG91Y2ggcGl0Y2ggd2lsbCByZXF1aXJlIHRocmVlIGZpbmdlcnMgdG8gYWN0aXZhdGUgaWYgZW5hYmxlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhY2tSZXNpemU9dHJ1ZV0gSWYgYHRydWVgLCB0aGUgbWFwIHdpbGwgYXV0b21hdGljYWxseSByZXNpemUgd2hlbiB0aGUgYnJvd3NlciB3aW5kb3cgcmVzaXplcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbj10cnVlXSBJZiBgdHJ1ZWAsIG1hcGJveC1nbCB3aWxsIGNvbGxlY3QgYW5kIHNlbmQgcGVyZm9ybWFuY2UgbWV0cmljcy5cbiAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gW29wdGlvbnMuY2VudGVyPVswLCAwXV0gVGhlIGluaXRpYWwgZ2VvZ3JhcGhpY2FsIFtjZW50ZXJwb2ludF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9jYW1lcmEjY2VudGVyKSBvZiB0aGUgbWFwLiBJZiBgY2VudGVyYCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBjb25zdHJ1Y3RvciBvcHRpb25zLCBNYXBib3ggR0wgSlMgd2lsbCBsb29rIGZvciBpdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgb2JqZWN0LiBJZiBpdCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBzdHlsZSwgZWl0aGVyLCBpdCB3aWxsIGRlZmF1bHQgdG8gYFswLCAwXWAgTm90ZTogTWFwYm94IEdMIHVzZXMgbG9uZ2l0dWRlLCBsYXRpdHVkZSBjb29yZGluYXRlIG9yZGVyIChhcyBvcHBvc2VkIHRvIGxhdGl0dWRlLCBsb25naXR1ZGUpIHRvIG1hdGNoIEdlb0pTT04uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuem9vbT0wXSBUaGUgaW5pdGlhbCBbem9vbV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9jYW1lcmEjem9vbSkgbGV2ZWwgb2YgdGhlIG1hcC4gSWYgYHpvb21gIGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIGNvbnN0cnVjdG9yIG9wdGlvbnMsIE1hcGJveCBHTCBKUyB3aWxsIGxvb2sgZm9yIGl0IGluIHRoZSBtYXAncyBzdHlsZSBvYmplY3QuIElmIGl0IGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIHN0eWxlLCBlaXRoZXIsIGl0IHdpbGwgZGVmYXVsdCB0byBgMGAuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmVhcmluZz0wXSBUaGUgaW5pdGlhbCBbYmVhcmluZ10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9jYW1lcmEjYmVhcmluZykgKHJvdGF0aW9uKSBvZiB0aGUgbWFwLCBtZWFzdXJlZCBpbiBkZWdyZWVzIGNvdW50ZXItY2xvY2t3aXNlIGZyb20gbm9ydGguIElmIGBiZWFyaW5nYCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBjb25zdHJ1Y3RvciBvcHRpb25zLCBNYXBib3ggR0wgSlMgd2lsbCBsb29rIGZvciBpdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgb2JqZWN0LiBJZiBpdCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBzdHlsZSwgZWl0aGVyLCBpdCB3aWxsIGRlZmF1bHQgdG8gYDBgLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnBpdGNoPTBdIFRoZSBpbml0aWFsIFtwaXRjaF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9jYW1lcmEjcGl0Y2gpICh0aWx0KSBvZiB0aGUgbWFwLCBtZWFzdXJlZCBpbiBkZWdyZWVzIGF3YXkgZnJvbSB0aGUgcGxhbmUgb2YgdGhlIHNjcmVlbiAoMC04NSkuIElmIGBwaXRjaGAgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgY29uc3RydWN0b3Igb3B0aW9ucywgTWFwYm94IEdMIEpTIHdpbGwgbG9vayBmb3IgaXQgaW4gdGhlIG1hcCdzIHN0eWxlIG9iamVjdC4gSWYgaXQgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgc3R5bGUsIGVpdGhlciwgaXQgd2lsbCBkZWZhdWx0IHRvIGAwYC5cbiAqIEBwYXJhbSB7TG5nTGF0Qm91bmRzTGlrZX0gW29wdGlvbnMuYm91bmRzPW51bGxdIFRoZSBpbml0aWFsIGJvdW5kcyBvZiB0aGUgbWFwLiBJZiBgYm91bmRzYCBpcyBzcGVjaWZpZWQsIGl0IG92ZXJyaWRlcyBgY2VudGVyYCBhbmQgYHpvb21gIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZml0Qm91bmRzT3B0aW9uc10gQSB7QGxpbmsgTWFwI2ZpdEJvdW5kc30gb3B0aW9ucyBvYmplY3QgdG8gdXNlIF9vbmx5XyB3aGVuIGZpdHRpbmcgdGhlIGluaXRpYWwgYGJvdW5kc2AgcHJvdmlkZWQgYWJvdmUuXG4gKiBAcGFyYW0geydhdXRvJyB8IHN0cmluZyB8IHN0cmluZ1tdfSBbb3B0aW9ucy5sYW5ndWFnZT1udWxsXSBBIHN0cmluZyB3aXRoIGEgQkNQIDQ3IGxhbmd1YWdlIHRhZywgb3IgYW4gYXJyYXkgb2Ygc3VjaCBzdHJpbmdzIHJlcHJlc2VudGluZyB0aGUgZGVzaXJlZCBsYW5ndWFnZXMgdXNlZCBmb3IgdGhlIG1hcCdzIGxhYmVscyBhbmQgVUkgY29tcG9uZW50cy4gTGFuZ3VhZ2VzIGNhbiBvbmx5IGJlIHNldCBvbiBNYXBib3ggdmVjdG9yIHRpbGUgc291cmNlcy5cbiAqICAgQnkgZGVmYXVsdCwgR0wgSlMgd2lsbCBub3Qgc2V0IGEgbGFuZ3VhZ2Ugc28gdGhhdCB0aGUgbGFuZ3VhZ2Ugb2YgTWFwYm94IHRpbGVzIHdpbGwgYmUgZGV0ZXJtaW5lZCBieSB0aGUgdmVjdG9yIHRpbGUgc291cmNlJ3MgVGlsZUpTT04uXG4gKiAgIFZhbGlkIGxhbmd1YWdlIHN0cmluZ3MgbXVzdCBiZSBhIFtCQ1AtNDcgbGFuZ3VhZ2UgY29kZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSUVURl9sYW5ndWFnZV90YWcjTGlzdF9vZl9zdWJ0YWdzKS4gVW5zdXBwb3J0ZWQgQkNQLTQ3IGNvZGVzIHdpbGwgbm90IGluY2x1ZGUgYW55IHRyYW5zbGF0aW9ucy4gSW52YWxpZCBjb2RlcyB3aWxsIHJlc3VsdCBpbiBhbiByZWNvdmVyYWJsZSBlcnJvci5cbiAqICAgSWYgYSBsYWJlbCBoYXMgbm8gdHJhbnNsYXRpb24gZm9yIHRoZSBzZWxlY3RlZCBsYW5ndWFnZSwgaXQgd2lsbCBkaXNwbGF5IGluIHRoZSBsYWJlbCdzIGxvY2FsIGxhbmd1YWdlLlxuICogICBJZiBvcHRpb24gaXMgc2V0IHRvIGBhdXRvYCwgR0wgSlMgd2lsbCBzZWxlY3QgYSB1c2VyJ3MgcHJlZmVycmVkIGxhbmd1YWdlIGFzIGRldGVybWluZWQgYnkgdGhlIGJyb3dzZXIncyBbYHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2VgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTmF2aWdhdG9yL2xhbmd1YWdlKSBwcm9wZXJ0eS5cbiAqICAgSWYgdGhlIGBsb2NhbGVgIHByb3BlcnR5IGlzIG5vdCBzZXQgc2VwYXJhdGVseSwgdGhpcyBsYW5ndWFnZSB3aWxsIGFsc28gYmUgdXNlZCB0byBsb2NhbGl6ZSB0aGUgVUkgZm9yIHN1cHBvcnRlZCBsYW5ndWFnZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMud29ybGR2aWV3PW51bGxdIFNldHMgdGhlIG1hcCdzIHdvcmxkdmlldy4gQSB3b3JsZHZpZXcgZGV0ZXJtaW5lcyB0aGUgd2F5IHRoYXQgY2VydGFpbiBkaXNwdXRlZCBib3VuZGFyaWVzXG4gICAgICogYXJlIHJlbmRlcmVkLiBCeSBkZWZhdWx0LCBHTCBKUyB3aWxsIG5vdCBzZXQgYSB3b3JsZHZpZXcgc28gdGhhdCB0aGUgd29ybGR2aWV3IG9mIE1hcGJveCB0aWxlcyB3aWxsIGJlIGRldGVybWluZWQgYnkgdGhlIHZlY3RvciB0aWxlIHNvdXJjZSdzIFRpbGVKU09OLlxuICAgICAqIFZhbGlkIHdvcmxkdmlldyBzdHJpbmdzIG11c3QgYmUgYW4gW0lTTyBhbHBoYS0yIGNvdW50cnkgY29kZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzMxNjYtMSNDdXJyZW50X2NvZGVzKS4gVW5zdXBwb3J0ZWRcbiAgICAgKiBJU08gYWxwaGEtMiBjb2RlcyB3aWxsIGZhbGwgYmFjayB0byB0aGUgVGlsZUpTT04ncyBkZWZhdWx0IHdvcmxkdmlldy4gSW52YWxpZCBjb2RlcyB3aWxsIHJlc3VsdCBpbiBhIHJlY292ZXJhYmxlIGVycm9yLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5vcHRpbWl6ZUZvclRlcnJhaW49dHJ1ZV0gV2l0aCB0ZXJyYWluIG9uLCBpZiBgdHJ1ZWAsIHRoZSBtYXAgd2lsbCByZW5kZXIgZm9yIHBlcmZvcm1hbmNlIHByaW9yaXR5LCB3aGljaCBtYXkgbGVhZCB0byBsYXllciByZW9yZGVyaW5nIGFsbG93aW5nIHRvIG1heGltaXplIHBlcmZvcm1hbmNlIChsYXllcnMgdGhhdCBhcmUgZHJhcGVkIG92ZXIgdGVycmFpbiB3aWxsIGJlIGRyYXduIGZpcnN0LCBpbmNsdWRpbmcgZmlsbCwgbGluZSwgYmFja2dyb3VuZCwgaGlsbHNoYWRlIGFuZCByYXN0ZXIpLiBPdGhlcndpc2UsIGlmIHNldCB0byBgZmFsc2VgLCB0aGUgbWFwIHdpbGwgYWx3YXlzIGJlIGRyYXduIGZvciBsYXllciBvcmRlciBwcmlvcml0eS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVuZGVyV29ybGRDb3BpZXM9dHJ1ZV0gSWYgYHRydWVgLCBtdWx0aXBsZSBjb3BpZXMgb2YgdGhlIHdvcmxkIHdpbGwgYmUgcmVuZGVyZWQgc2lkZSBieSBzaWRlIGJleW9uZCAtMTgwIGFuZCAxODAgZGVncmVlcyBsb25naXR1ZGUuIElmIHNldCB0byBgZmFsc2VgOlxuICogLSBXaGVuIHRoZSBtYXAgaXMgem9vbWVkIG91dCBmYXIgZW5vdWdoIHRoYXQgYSBzaW5nbGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIHdvcmxkIGRvZXMgbm90IGZpbGwgdGhlIG1hcCdzIGVudGlyZVxuICogY29udGFpbmVyLCB0aGVyZSB3aWxsIGJlIGJsYW5rIHNwYWNlIGJleW9uZCAxODAgYW5kIC0xODAgZGVncmVlcyBsb25naXR1ZGUuXG4gKiAtIEZlYXR1cmVzIHRoYXQgY3Jvc3MgMTgwIGFuZCAtMTgwIGRlZ3JlZXMgbG9uZ2l0dWRlIHdpbGwgYmUgY3V0IGluIHR3byAod2l0aCBvbmUgcG9ydGlvbiBvbiB0aGUgcmlnaHQgZWRnZSBvZiB0aGVcbiAqIG1hcCBhbmQgdGhlIG90aGVyIG9uIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIG1hcCkgYXQgZXZlcnkgem9vbSBsZXZlbC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5taW5UaWxlQ2FjaGVTaXplPW51bGxdIFRoZSBtaW5pbXVtIG51bWJlciBvZiB0aWxlcyBzdG9yZWQgaW4gdGhlIHRpbGUgY2FjaGUgZm9yIGEgZ2l2ZW4gc291cmNlLiBMYXJnZXIgdmlld3BvcnRzIHVzZSBtb3JlIHRpbGVzIGFuZCBuZWVkIGxhcmdlciBjYWNoZXMuIExhcmdlciB2aWV3cG9ydHMgYXJlIG1vcmUgbGlrZWx5IHRvIGJlIGZvdW5kIG9uIGRldmljZXMgd2l0aCBtb3JlIG1lbW9yeSBhbmQgb24gcGFnZXMgd2hlcmUgdGhlIG1hcCBpcyBtb3JlIGltcG9ydGFudC4gSWYgb21pdHRlZCwgdGhlIGNhY2hlIHdpbGwgYmUgZHluYW1pY2FsbHkgc2l6ZWQgYmFzZWQgb24gdGhlIGN1cnJlbnQgdmlld3BvcnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4VGlsZUNhY2hlU2l6ZT1udWxsXSBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGlsZXMgc3RvcmVkIGluIHRoZSB0aWxlIGNhY2hlIGZvciBhIGdpdmVuIHNvdXJjZS4gSWYgb21pdHRlZCwgdGhlIGNhY2hlIHdpbGwgYmUgZHluYW1pY2FsbHkgc2l6ZWQgYmFzZWQgb24gdGhlIGN1cnJlbnQgdmlld3BvcnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PSdzYW5zLXNlcmlmJ10gRGVmaW5lcyBhIENTUyBmb250LWZhbWlseSBmb3IgbG9jYWxseSBvdmVycmlkaW5nIGdlbmVyYXRpb24gb2YgZ2x5cGhzIGluIHRoZSAnQ0pLIFVuaWZpZWQgSWRlb2dyYXBocycsICdIaXJhZ2FuYScsICdLYXRha2FuYScsICdIYW5ndWwgU3lsbGFibGVzJyBhbmQgJ0NKSyBTeW1ib2xzIGFuZCBQdW5jdHVhdGlvbicgcmFuZ2VzLlxuICogICBJbiB0aGVzZSByYW5nZXMsIGZvbnQgc2V0dGluZ3MgZnJvbSB0aGUgbWFwJ3Mgc3R5bGUgd2lsbCBiZSBpZ25vcmVkLCBleGNlcHQgZm9yIGZvbnQtd2VpZ2h0IGtleXdvcmRzIChsaWdodC9yZWd1bGFyL21lZGl1bS9ib2xkKS5cbiAqICAgU2V0IHRvIGBmYWxzZWAsIHRvIGVuYWJsZSBmb250IHNldHRpbmdzIGZyb20gdGhlIG1hcCdzIHN0eWxlIGZvciB0aGVzZSBnbHlwaCByYW5nZXMuIE5vdGUgdGhhdCBbTWFwYm94IFN0dWRpb10oaHR0cHM6Ly9zdHVkaW8ubWFwYm94LmNvbS8pIHNldHMgdGhpcyB2YWx1ZSB0byBgZmFsc2VgIGJ5IGRlZmF1bHQuXG4gKiAgIFRoZSBwdXJwb3NlIG9mIHRoaXMgb3B0aW9uIGlzIHRvIGF2b2lkIGJhbmR3aWR0aC1pbnRlbnNpdmUgZ2x5cGggc2VydmVyIHJlcXVlc3RzLiBGb3IgYW4gZXhhbXBsZSBvZiB0aGlzIG9wdGlvbiBpbiB1c2UsIHNlZSBbVXNlIGxvY2FsbHkgZ2VuZXJhdGVkIGlkZW9ncmFwaHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbG9jYWwtaWRlb2dyYXBocykuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubG9jYWxGb250RmFtaWx5PWZhbHNlXSBEZWZpbmVzIGEgQ1NTXG4gKiAgIGZvbnQtZmFtaWx5IGZvciBsb2NhbGx5IG92ZXJyaWRpbmcgZ2VuZXJhdGlvbiBvZiBhbGwgZ2x5cGhzLiBGb250IHNldHRpbmdzIGZyb20gdGhlIG1hcCdzIHN0eWxlIHdpbGwgYmUgaWdub3JlZCwgZXhjZXB0IGZvciBmb250LXdlaWdodCBrZXl3b3JkcyAobGlnaHQvcmVndWxhci9tZWRpdW0vYm9sZCkuXG4gKiAgIElmIHNldCwgdGhpcyBvcHRpb24gb3ZlcnJpZGVzIHRoZSBzZXR0aW5nIGluIGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseS5cbiAqIEBwYXJhbSB7UmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0aW9ucy50cmFuc2Zvcm1SZXF1ZXN0PW51bGxdIEEgY2FsbGJhY2sgcnVuIGJlZm9yZSB0aGUgTWFwIG1ha2VzIGEgcmVxdWVzdCBmb3IgYW4gZXh0ZXJuYWwgVVJMLiBUaGUgY2FsbGJhY2sgY2FuIGJlIHVzZWQgdG8gbW9kaWZ5IHRoZSB1cmwsIHNldCBoZWFkZXJzLCBvciBzZXQgdGhlIGNyZWRlbnRpYWxzIHByb3BlcnR5IGZvciBjcm9zcy1vcmlnaW4gcmVxdWVzdHMuXG4gKiAgIEV4cGVjdGVkIHRvIHJldHVybiBhIHtAbGluayBSZXF1ZXN0UGFyYW1ldGVyc30gb2JqZWN0IHdpdGggYSBgdXJsYCBwcm9wZXJ0eSBhbmQgb3B0aW9uYWxseSBgaGVhZGVyc2AgYW5kIGBjcmVkZW50aWFsc2AgcHJvcGVydGllcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nPWZhbHNlXSBJZiBgdHJ1ZWAsIFJlc291cmNlIFRpbWluZyBBUEkgaW5mb3JtYXRpb24gd2lsbCBiZSBjb2xsZWN0ZWQgZm9yIHJlcXVlc3RzIG1hZGUgYnkgR2VvSlNPTiBhbmQgVmVjdG9yIFRpbGUgd2ViIHdvcmtlcnMgKHRoaXMgaW5mb3JtYXRpb24gaXMgbm9ybWFsbHkgaW5hY2Nlc3NpYmxlIGZyb20gdGhlIG1haW4gSmF2YXNjcmlwdCB0aHJlYWQpLiBJbmZvcm1hdGlvbiB3aWxsIGJlIHJldHVybmVkIGluIGEgYHJlc291cmNlVGltaW5nYCBwcm9wZXJ0eSBvZiByZWxldmFudCBgZGF0YWAgZXZlbnRzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZhZGVEdXJhdGlvbj0zMDBdIENvbnRyb2xzIHRoZSBkdXJhdGlvbiBvZiB0aGUgZmFkZS1pbi9mYWRlLW91dCBhbmltYXRpb24gZm9yIGxhYmVsIGNvbGxpc2lvbnMsIGluIG1pbGxpc2Vjb25kcy4gVGhpcyBzZXR0aW5nIGFmZmVjdHMgYWxsIHN5bWJvbCBsYXllcnMuIFRoaXMgc2V0dGluZyBkb2VzIG5vdCBhZmZlY3QgdGhlIGR1cmF0aW9uIG9mIHJ1bnRpbWUgc3R5bGluZyB0cmFuc2l0aW9ucyBvciByYXN0ZXIgdGlsZSBjcm9zcy1mYWRpbmcuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3NzU291cmNlQ29sbGlzaW9ucz10cnVlXSBJZiBgdHJ1ZWAsIHN5bWJvbHMgZnJvbSBtdWx0aXBsZSBzb3VyY2VzIGNhbiBjb2xsaWRlIHdpdGggZWFjaCBvdGhlciBkdXJpbmcgY29sbGlzaW9uIGRldGVjdGlvbi4gSWYgYGZhbHNlYCwgY29sbGlzaW9uIGRldGVjdGlvbiBpcyBydW4gc2VwYXJhdGVseSBmb3IgdGhlIHN5bWJvbHMgaW4gZWFjaCBzb3VyY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYWNjZXNzVG9rZW49bnVsbF0gSWYgc3BlY2lmaWVkLCBtYXAgd2lsbCB1c2UgdGhpcyBbdG9rZW5dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvZ2xvc3NhcnkvYWNjZXNzLXRva2VuLykgaW5zdGVhZCBvZiB0aGUgb25lIGRlZmluZWQgaW4gYG1hcGJveGdsLmFjY2Vzc1Rva2VuYC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5sb2NhbGU9bnVsbF0gQSBwYXRjaCB0byBhcHBseSB0byB0aGUgZGVmYXVsdCBsb2NhbGl6YXRpb24gdGFibGUgZm9yIFVJIHN0cmluZ3Mgc3VjaCBhcyBjb250cm9sIHRvb2x0aXBzLiBUaGUgYGxvY2FsZWAgb2JqZWN0IG1hcHMgbmFtZXNwYWNlZCBVSSBzdHJpbmcgSURzIHRvIHRyYW5zbGF0ZWQgc3RyaW5ncyBpbiB0aGUgdGFyZ2V0IGxhbmd1YWdlO1xuICogIHNlZSBbYHNyYy91aS9kZWZhdWx0X2xvY2FsZS5qc2BdKGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2Jsb2IvbWFpbi9zcmMvdWkvZGVmYXVsdF9sb2NhbGUuanMpIGZvciBhbiBleGFtcGxlIHdpdGggYWxsIHN1cHBvcnRlZCBzdHJpbmcgSURzLiBUaGUgb2JqZWN0IG1heSBzcGVjaWZ5IGFsbCBVSSBzdHJpbmdzICh0aGVyZWJ5IGFkZGluZyBzdXBwb3J0IGZvciBhIG5ldyB0cmFuc2xhdGlvbikgb3Igb25seSBhIHN1YnNldCBvZiBzdHJpbmdzICh0aGVyZWJ5IHBhdGNoaW5nIHRoZSBkZWZhdWx0IHRyYW5zbGF0aW9uIHRhYmxlKS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGVzdE1vZGU9ZmFsc2VdIFNpbGVuY2VzIGVycm9ycyBhbmQgd2FybmluZ3MgZ2VuZXJhdGVkIGR1ZSB0byBhbiBpbnZhbGlkIGFjY2Vzc1Rva2VuLCB1c2VmdWwgd2hlbiB1c2luZyB0aGUgbGlicmFyeSB0byB3cml0ZSB1bml0IHRlc3RzLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uU3BlY2lmaWNhdGlvbn0gW29wdGlvbnMucHJvamVjdGlvbj0nbWVyY2F0b3InXSBUaGUgW3Byb2plY3Rpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3Byb2plY3Rpb24vKSB0aGUgbWFwIHNob3VsZCBiZSByZW5kZXJlZCBpbi5cbiAqIFN1cHBvcnRlZCBwcm9qZWN0aW9ucyBhcmU6XG4gKiAgKiBbQWxiZXJzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BbGJlcnNfcHJvamVjdGlvbikgZXF1YWwtYXJlYSBjb25pYyBwcm9qZWN0aW9uIGFzIGBhbGJlcnNgXG4gKiAgKiBbRXF1YWwgRWFydGhdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VxdWFsX0VhcnRoX3Byb2plY3Rpb24pIGVxdWFsLWFyZWEgcHNldWRvY3lsaW5kcmljYWwgcHJvamVjdGlvbiBhcyBgZXF1YWxFYXJ0aGBcbiAqICAqIFtFcXVpcmVjdGFuZ3VsYXJdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VxdWlyZWN0YW5ndWxhcl9wcm9qZWN0aW9uKSAoUGxhdGUgQ2FycsOpZS9XR1M4NCkgYXMgYGVxdWlyZWN0YW5ndWxhcmBcbiAqICAqIDNkIEdsb2JlIGFzIGBnbG9iZWBcbiAqICAqIFtMYW1iZXJ0IENvbmZvcm1hbCBDb25pY10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGFtYmVydF9jb25mb3JtYWxfY29uaWNfcHJvamVjdGlvbikgYXMgYGxhbWJlcnRDb25mb3JtYWxDb25pY2BcbiAqICAqIFtNZXJjYXRvcl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWVyY2F0b3JfcHJvamVjdGlvbikgY3lsaW5kcmljYWwgbWFwIHByb2plY3Rpb24gYXMgYG1lcmNhdG9yYFxuICogICogW05hdHVyYWwgRWFydGhdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL05hdHVyYWxfRWFydGhfcHJvamVjdGlvbikgcHNldWRvY3lsaW5kcmljYWwgbWFwIHByb2plY3Rpb24gYXMgYG5hdHVyYWxFYXJ0aGBcbiAqICAqIFtXaW5rZWwgVHJpcGVsXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XaW5rZWxfdHJpcGVsX3Byb2plY3Rpb24pIGF6aW11dGhhbCBtYXAgcHJvamVjdGlvbiBhcyBgd2lua2VsVHJpcGVsYFxuICogIENvbmljIHByb2plY3Rpb25zIHN1Y2ggYXMgQWxiZXJzIGFuZCBMYW1iZXJ0IGhhdmUgY29uZmlndXJhYmxlIGBjZW50ZXJgIGFuZCBgcGFyYWxsZWxzYCBwcm9wZXJ0aWVzIHRoYXQgYWxsb3cgZGV2ZWxvcGVycyB0byBkZWZpbmUgdGhlIHJlZ2lvbiBpbiB3aGljaCB0aGUgcHJvamVjdGlvbiBoYXMgbWluaW1hbCBkaXN0b3J0aW9uOyBzZWUgdGhlIGV4YW1wbGUgZm9yIGhvdyB0byBjb25maWd1cmUgdGhlc2UgcHJvcGVydGllcy5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHtcbiAqICAgICBjb250YWluZXI6ICdtYXAnLCAvLyBjb250YWluZXIgSURcbiAqICAgICBjZW50ZXI6IFstMTIyLjQyMDY3OSwgMzcuNzcyNTM3XSwgLy8gc3RhcnRpbmcgcG9zaXRpb24gW2xuZywgbGF0XVxuICogICAgIHpvb206IDEzLCAvLyBzdGFydGluZyB6b29tXG4gKiAgICAgc3R5bGU6ICdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjExJywgLy8gc3R5bGUgVVJMIG9yIHN0eWxlIG9iamVjdFxuICogICAgIGhhc2g6IHRydWUsIC8vIHN5bmMgYGNlbnRlcmAsIGB6b29tYCwgYHBpdGNoYCwgYW5kIGBiZWFyaW5nYCB3aXRoIFVSTFxuICogICAgIC8vIFVzZSBgdHJhbnNmb3JtUmVxdWVzdGAgdG8gbW9kaWZ5IHJlcXVlc3RzIHRoYXQgYmVnaW4gd2l0aCBgaHR0cDovL215SG9zdGAuXG4gKiAgICAgdHJhbnNmb3JtUmVxdWVzdDogKHVybCwgcmVzb3VyY2VUeXBlKSA9PiB7XG4gKiAgICAgICAgIGlmIChyZXNvdXJjZVR5cGUgPT09ICdTb3VyY2UnICYmIHVybC5zdGFydHNXaXRoKCdodHRwOi8vbXlIb3N0JykpIHtcbiAqICAgICAgICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgICAgICAgICAgdXJsOiB1cmwucmVwbGFjZSgnaHR0cCcsICdodHRwcycpLFxuICogICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsnbXktY3VzdG9tLWhlYWRlcic6IHRydWV9LFxuICogICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgIC8vIEluY2x1ZGUgY29va2llcyBmb3IgY3Jvc3Mtb3JpZ2luIHJlcXVlc3RzXG4gKiAgICAgICAgICAgICB9O1xuICogICAgICAgICB9XG4gKiAgICAgfVxuICogfSk7XG4gKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGEgbWFwIG9uIGEgd2VicGFnZV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2ltcGxlLW1hcC8pXG4gKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGEgbWFwIHdpdGggYSBjdXN0b20gc3R5bGVdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2N1c3RvbS1zdHlsZS1pZC8pXG4gKiBAc2VlIFtFeGFtcGxlOiBDaGVjayBpZiBNYXBib3ggR0wgSlMgaXMgc3VwcG9ydGVkXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jaGVjay1mb3Itc3VwcG9ydC8pXG4gKi9cbmNsYXNzIE1hcCBleHRlbmRzIENhbWVyYSB7XG4gICAgc3R5bGU6IFN0eWxlO1xuICAgIHBhaW50ZXI6IFBhaW50ZXI7XG4gICAgaGFuZGxlcnM6ID9IYW5kbGVyTWFuYWdlcjtcblxuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9taXNzaW5nQ1NTQ2FuYXJ5OiBIVE1MRWxlbWVudDtcbiAgICBfY2FudmFzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfY29udHJvbENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbnRyb2xQb3NpdGlvbnM6IHtbXzogc3RyaW5nXTogSFRNTEVsZW1lbnR9O1xuICAgIF9pbnRlcmFjdGl2ZTogP2Jvb2xlYW47XG4gICAgX3Nob3dUaWxlQm91bmRhcmllczogP2Jvb2xlYW47XG4gICAgX3Nob3dUZXJyYWluV2lyZWZyYW1lOiA/Ym9vbGVhbjtcbiAgICBfc2hvd1F1ZXJ5R2VvbWV0cnk6ID9ib29sZWFuO1xuICAgIF9zaG93Q29sbGlzaW9uQm94ZXM6ID9ib29sZWFuO1xuICAgIF9zaG93UGFkZGluZzogP2Jvb2xlYW47XG4gICAgX3Nob3dUaWxlQUFCQnM6ID9ib29sZWFuO1xuICAgIF9zaG93T3ZlcmRyYXdJbnNwZWN0b3I6IGJvb2xlYW47XG4gICAgX3JlcGFpbnQ6ID9ib29sZWFuO1xuICAgIF92ZXJ0aWNlczogP2Jvb2xlYW47XG4gICAgX2NhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgX21pblRpbGVDYWNoZVNpemU6IG51bWJlcjtcbiAgICBfbWF4VGlsZUNhY2hlU2l6ZTogbnVtYmVyO1xuICAgIF9mcmFtZTogP0NhbmNlbGFibGU7XG4gICAgX3JlbmRlck5leHRGcmFtZTogP2Jvb2xlYW47XG4gICAgX3N0eWxlRGlydHk6ID9ib29sZWFuO1xuICAgIF9zb3VyY2VzRGlydHk6ID9ib29sZWFuO1xuICAgIF9wbGFjZW1lbnREaXJ0eTogP2Jvb2xlYW47XG4gICAgX2xvYWRlZDogYm9vbGVhbjtcbiAgICBfZnVsbHlMb2FkZWQ6IGJvb2xlYW47IC8vIGFjY291bnRzIGZvciBwbGFjZW1lbnQgZmluaXNoaW5nIGFzIHdlbGxcbiAgICBfdHJhY2tSZXNpemU6IGJvb2xlYW47XG4gICAgX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcjogYm9vbGVhbjtcbiAgICBfZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogYm9vbGVhbjtcbiAgICBfYW50aWFsaWFzOiBib29sZWFuO1xuICAgIF91c2VXZWJHTDI6IGJvb2xlYW47XG4gICAgX3JlZnJlc2hFeHBpcmVkVGlsZXM6IGJvb2xlYW47XG4gICAgX2hhc2g6IEhhc2g7XG4gICAgX2RlbGVnYXRlZExpc3RlbmVyczogYW55O1xuICAgIF9pc0luaXRpYWxMb2FkOiBib29sZWFuO1xuICAgIF9zaG91bGRDaGVja0FjY2VzczogYm9vbGVhbjtcbiAgICBfZmFkZUR1cmF0aW9uOiBudW1iZXI7XG4gICAgX2Nyb3NzU291cmNlQ29sbGlzaW9uczogYm9vbGVhbjtcbiAgICBfY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFuO1xuICAgIF9vcHRpbWl6ZUZvclRlcnJhaW46IGJvb2xlYW47XG4gICAgX3JlbmRlclRhc2tRdWV1ZTogVGFza1F1ZXVlO1xuICAgIF9kb21SZW5kZXJUYXNrUXVldWU6IFRhc2tRdWV1ZTtcbiAgICBfY29udHJvbHM6IEFycmF5PElDb250cm9sPjtcbiAgICBfbWFya2VyczogQXJyYXk8TWFya2VyPjtcbiAgICBfcG9wdXBzOiBBcnJheTxQb3B1cD47XG4gICAgX2xvZ29Db250cm9sOiBJQ29udHJvbDtcbiAgICBfbWFwSWQ6IG51bWJlcjtcbiAgICBfbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiBzdHJpbmc7XG4gICAgX2xvY2FsRm9udEZhbWlseTogc3RyaW5nO1xuICAgIF9yZXF1ZXN0TWFuYWdlcjogUmVxdWVzdE1hbmFnZXI7XG4gICAgX2xvY2FsZTogT2JqZWN0O1xuICAgIF9yZW1vdmVkOiBib29sZWFuO1xuICAgIF9zcGVlZEluZGV4VGltaW5nOiBib29sZWFuO1xuICAgIF9jbGlja1RvbGVyYW5jZTogbnVtYmVyO1xuICAgIF9jb29wZXJhdGl2ZUdlc3R1cmVzOiBib29sZWFuO1xuICAgIF9zaWxlbmNlQXV0aEVycm9yczogYm9vbGVhbjtcbiAgICBfYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ6IG51bWJlcjtcbiAgICBfYXZlcmFnZUVsZXZhdGlvbkV4YWdnZXJhdGlvbjogbnVtYmVyO1xuICAgIF9hdmVyYWdlRWxldmF0aW9uOiBFYXNlZFZhcmlhYmxlO1xuICAgIF9jb250YWluZXJXaWR0aDogbnVtYmVyO1xuICAgIF9jb250YWluZXJIZWlnaHQ6IG51bWJlcjtcbiAgICBfbGFuZ3VhZ2U6ID9zdHJpbmcgfCA/c3RyaW5nW107XG4gICAgX3dvcmxkdmlldzogP3N0cmluZztcbiAgICBfaW50ZXJhY3Rpb25SYW5nZTogW251bWJlciwgbnVtYmVyXTtcbiAgICBfdmlzaWJpbGl0eUhpZGRlbjogbnVtYmVyO1xuICAgIF9wZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uOiBib29sZWFuO1xuXG4gICAgLy8gYF91c2VFeHBsaWNpdFByb2plY3Rpb25gIGluZGljYXRlcyB0aGF0IGEgcHJvamVjdGlvbiBpcyBzZXQgYnkgYSBjYWxsIHRvIG1hcC5zZXRQcm9qZWN0aW9uKClcbiAgICBfdXNlRXhwbGljaXRQcm9qZWN0aW9uOiBib29sZWFuO1xuXG4gICAgLyoqIEBzZWN0aW9uIHtJbnRlcmFjdGlvbiBoYW5kbGVyc30gKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAncyB7QGxpbmsgU2Nyb2xsWm9vbUhhbmRsZXJ9LCB3aGljaCBpbXBsZW1lbnRzIHpvb21pbmcgaW4gYW5kIG91dCB3aXRoIGEgc2Nyb2xsIHdoZWVsIG9yIHRyYWNrcGFkLlxuICAgICAqIEZpbmQgbW9yZSBkZXRhaWxzIGFuZCBleGFtcGxlcyB1c2luZyBgc2Nyb2xsWm9vbWAgaW4gdGhlIHtAbGluayBTY3JvbGxab29tSGFuZGxlcn0gc2VjdGlvbi5cbiAgICAgKi9cbiAgICBzY3JvbGxab29tOiBTY3JvbGxab29tSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAncyB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9LCB3aGljaCBpbXBsZW1lbnRzIHpvb21pbmcgdXNpbmcgYSBkcmFnIGdlc3R1cmUgd2l0aCB0aGUgU2hpZnQga2V5IHByZXNzZWQuXG4gICAgICogRmluZCBtb3JlIGRldGFpbHMgYW5kIGV4YW1wbGVzIHVzaW5nIGBib3hab29tYCBpbiB0aGUge0BsaW5rIEJveFpvb21IYW5kbGVyfSBzZWN0aW9uLlxuICAgICAqL1xuICAgIGJveFpvb206IEJveFpvb21IYW5kbGVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hcCdzIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0sIHdoaWNoIGltcGxlbWVudHMgcm90YXRpbmcgdGhlIG1hcCB3aGlsZSBkcmFnZ2luZyB3aXRoIHRoZSByaWdodFxuICAgICAqIG1vdXNlIGJ1dHRvbiBvciB3aXRoIHRoZSBDb250cm9sIGtleSBwcmVzc2VkLiBGaW5kIG1vcmUgZGV0YWlscyBhbmQgZXhhbXBsZXMgdXNpbmcgYGRyYWdSb3RhdGVgXG4gICAgICogaW4gdGhlIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0gc2VjdGlvbi5cbiAgICAgKi9cbiAgICBkcmFnUm90YXRlOiBEcmFnUm90YXRlSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAncyB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LCB3aGljaCBpbXBsZW1lbnRzIGRyYWdnaW5nIHRoZSBtYXAgd2l0aCBhIG1vdXNlIG9yIHRvdWNoIGdlc3R1cmUuXG4gICAgICogRmluZCBtb3JlIGRldGFpbHMgYW5kIGV4YW1wbGVzIHVzaW5nIGBkcmFnUGFuYCBpbiB0aGUge0BsaW5rIERyYWdQYW5IYW5kbGVyfSBzZWN0aW9uLlxuICAgICAqL1xuICAgIGRyYWdQYW46IERyYWdQYW5IYW5kbGVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hcCdzIHtAbGluayBLZXlib2FyZEhhbmRsZXJ9LCB3aGljaCBhbGxvd3MgdGhlIHVzZXIgdG8gem9vbSwgcm90YXRlLCBhbmQgcGFuIHRoZSBtYXAgdXNpbmcga2V5Ym9hcmRcbiAgICAgKiBzaG9ydGN1dHMuIEZpbmQgbW9yZSBkZXRhaWxzIGFuZCBleGFtcGxlcyB1c2luZyBga2V5Ym9hcmRgIGluIHRoZSB7QGxpbmsgS2V5Ym9hcmRIYW5kbGVyfSBzZWN0aW9uLlxuICAgICAqL1xuICAgIGtleWJvYXJkOiBLZXlib2FyZEhhbmRsZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFwJ3Mge0BsaW5rIERvdWJsZUNsaWNrWm9vbUhhbmRsZXJ9LCB3aGljaCBhbGxvd3MgdGhlIHVzZXIgdG8gem9vbSBieSBkb3VibGUgY2xpY2tpbmcuXG4gICAgICogRmluZCBtb3JlIGRldGFpbHMgYW5kIGV4YW1wbGVzIHVzaW5nIGBkb3VibGVDbGlja1pvb21gIGluIHRoZSB7QGxpbmsgRG91YmxlQ2xpY2tab29tSGFuZGxlcn0gc2VjdGlvbi5cbiAgICAgKi9cbiAgICBkb3VibGVDbGlja1pvb206IERvdWJsZUNsaWNrWm9vbUhhbmRsZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFwJ3Mge0BsaW5rIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXJ9LCB3aGljaCBhbGxvd3MgdGhlIHVzZXIgdG8gem9vbSBvciByb3RhdGUgdGhlIG1hcCB3aXRoIHRvdWNoIGdlc3R1cmVzLlxuICAgICAqIEZpbmQgbW9yZSBkZXRhaWxzIGFuZCBleGFtcGxlcyB1c2luZyBgdG91Y2hab29tUm90YXRlYCBpbiB0aGUge0BsaW5rIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXJ9IHNlY3Rpb24uXG4gICAgICovXG4gICAgdG91Y2hab29tUm90YXRlOiBUb3VjaFpvb21Sb3RhdGVIYW5kbGVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hcCdzIHtAbGluayBUb3VjaFBpdGNoSGFuZGxlcn0sIHdoaWNoIGFsbG93cyB0aGUgdXNlciB0byBwaXRjaCB0aGUgbWFwIHdpdGggdG91Y2ggZ2VzdHVyZXMuXG4gICAgICogRmluZCBtb3JlIGRldGFpbHMgYW5kIGV4YW1wbGVzIHVzaW5nIGB0b3VjaFBpdGNoYCBpbiB0aGUge0BsaW5rIFRvdWNoUGl0Y2hIYW5kbGVyfSBzZWN0aW9uLlxuICAgICAqL1xuICAgIHRvdWNoUGl0Y2g6IFRvdWNoUGl0Y2hIYW5kbGVyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogTWFwT3B0aW9ucykge1xuICAgICAgICBMaXZlUGVyZm9ybWFuY2VVdGlscy5tYXJrKFBlcmZvcm1hbmNlTWFya2Vycy5jcmVhdGUpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5taW5ab29tICE9IG51bGwgJiYgb3B0aW9ucy5tYXhab29tICE9IG51bGwgJiYgb3B0aW9ucy5taW5ab29tID4gb3B0aW9ucy5tYXhab29tKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluWm9vbWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWluUGl0Y2ggIT0gbnVsbCAmJiBvcHRpb25zLm1heFBpdGNoICE9IG51bGwgJiYgb3B0aW9ucy5taW5QaXRjaCA+IG9wdGlvbnMubWF4UGl0Y2gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLm1pblBpdGNoICE9IG51bGwgJiYgb3B0aW9ucy5taW5QaXRjaCA8IGRlZmF1bHRNaW5QaXRjaCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtaW5QaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAke2RlZmF1bHRNaW5QaXRjaH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLm1heFBpdGNoICE9IG51bGwgJiYgb3B0aW9ucy5tYXhQaXRjaCA+IGRlZmF1bHRNYXhQaXRjaCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtYXhQaXRjaCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byAke2RlZmF1bHRNYXhQaXRjaH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRpc2FibGUgYW50aWFsaWFzIHdpdGggT1MvaU9TIDE1LjQgYW5kIDE1LjUgZHVlIHRvIHJlbmRlcmluZyBidWdcbiAgICAgICAgaWYgKG9wdGlvbnMuYW50aWFsaWFzICYmIGlzU2FmYXJpV2l0aEFudGlhbGlhc2luZ0J1Zyh3aW5kb3cpKSB7XG4gICAgICAgICAgICBvcHRpb25zLmFudGlhbGlhcyA9IGZhbHNlO1xuICAgICAgICAgICAgd2Fybk9uY2UoJ0FudGlhbGlhc2luZyBpcyBkaXNhYmxlZCBmb3IgdGhpcyBXZWJHTCBjb250ZXh0IHRvIGF2b2lkIGJyb3dzZXIgYnVnOiBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMTE2MDknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0ob3B0aW9ucy5taW5ab29tLCBvcHRpb25zLm1heFpvb20sIG9wdGlvbnMubWluUGl0Y2gsIG9wdGlvbnMubWF4UGl0Y2gsIG9wdGlvbnMucmVuZGVyV29ybGRDb3BpZXMpO1xuICAgICAgICBzdXBlcih0cmFuc2Zvcm0sIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2ludGVyYWN0aXZlID0gb3B0aW9ucy5pbnRlcmFjdGl2ZTtcbiAgICAgICAgdGhpcy5fbWluVGlsZUNhY2hlU2l6ZSA9IG9wdGlvbnMubWluVGlsZUNhY2hlU2l6ZTtcbiAgICAgICAgdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSA9IG9wdGlvbnMubWF4VGlsZUNhY2hlU2l6ZTtcbiAgICAgICAgdGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCA9IG9wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDtcbiAgICAgICAgdGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG4gICAgICAgIHRoaXMuX2FudGlhbGlhcyA9IG9wdGlvbnMuYW50aWFsaWFzO1xuICAgICAgICB0aGlzLl91c2VXZWJHTDIgPSBvcHRpb25zLnVzZVdlYkdMMjtcbiAgICAgICAgdGhpcy5fdHJhY2tSZXNpemUgPSBvcHRpb25zLnRyYWNrUmVzaXplO1xuICAgICAgICB0aGlzLl9iZWFyaW5nU25hcCA9IG9wdGlvbnMuYmVhcmluZ1NuYXA7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hFeHBpcmVkVGlsZXMgPSBvcHRpb25zLnJlZnJlc2hFeHBpcmVkVGlsZXM7XG4gICAgICAgIHRoaXMuX2ZhZGVEdXJhdGlvbiA9IG9wdGlvbnMuZmFkZUR1cmF0aW9uO1xuICAgICAgICB0aGlzLl9pc0luaXRpYWxMb2FkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY3Jvc3NTb3VyY2VDb2xsaXNpb25zID0gb3B0aW9ucy5jcm9zc1NvdXJjZUNvbGxpc2lvbnM7XG4gICAgICAgIHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyA9IG9wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nO1xuICAgICAgICB0aGlzLl9vcHRpbWl6ZUZvclRlcnJhaW4gPSBvcHRpb25zLm9wdGltaXplRm9yVGVycmFpbjtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2UgPSB0aGlzLl9wYXJzZUxhbmd1YWdlKG9wdGlvbnMubGFuZ3VhZ2UpO1xuICAgICAgICB0aGlzLl93b3JsZHZpZXcgPSBvcHRpb25zLndvcmxkdmlldztcbiAgICAgICAgdGhpcy5fcmVuZGVyVGFza1F1ZXVlID0gbmV3IFRhc2tRdWV1ZSgpO1xuICAgICAgICB0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUgPSBuZXcgVGFza1F1ZXVlKCk7XG4gICAgICAgIHRoaXMuX2NvbnRyb2xzID0gW107XG4gICAgICAgIHRoaXMuX21hcmtlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fcG9wdXBzID0gW107XG4gICAgICAgIHRoaXMuX21hcElkID0gdW5pcXVlSWQoKTtcbiAgICAgICAgdGhpcy5fbG9jYWxlID0gZXh0ZW5kKHt9LCBkZWZhdWx0TG9jYWxlLCBvcHRpb25zLmxvY2FsZSk7XG4gICAgICAgIHRoaXMuX2NsaWNrVG9sZXJhbmNlID0gb3B0aW9ucy5jbGlja1RvbGVyYW5jZTtcbiAgICAgICAgdGhpcy5fY29vcGVyYXRpdmVHZXN0dXJlcyA9IG9wdGlvbnMuY29vcGVyYXRpdmVHZXN0dXJlcztcbiAgICAgICAgdGhpcy5fcGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbiA9IG9wdGlvbnMucGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbjtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyV2lkdGggPSAwO1xuICAgICAgICB0aGlzLl9jb250YWluZXJIZWlnaHQgPSAwO1xuXG4gICAgICAgIHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0ID0gLUluZmluaXR5O1xuICAgICAgICB0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5fYXZlcmFnZUVsZXZhdGlvbiA9IG5ldyBFYXNlZFZhcmlhYmxlKDApO1xuXG4gICAgICAgIHRoaXMuX2ludGVyYWN0aW9uUmFuZ2UgPSBbK0luZmluaXR5LCAtSW5maW5pdHldO1xuICAgICAgICB0aGlzLl92aXNpYmlsaXR5SGlkZGVuID0gMDtcblxuICAgICAgICB0aGlzLl91c2VFeHBsaWNpdFByb2plY3Rpb24gPSBmYWxzZTsgLy8gRmFsbGJhY2sgdG8gc3R5bGVzaGVldCBieSBkZWZhdWx0XG5cbiAgICAgICAgdGhpcy5fcmVxdWVzdE1hbmFnZXIgPSBuZXcgUmVxdWVzdE1hbmFnZXIob3B0aW9ucy50cmFuc2Zvcm1SZXF1ZXN0LCBvcHRpb25zLmFjY2Vzc1Rva2VuLCBvcHRpb25zLnRlc3RNb2RlKTtcbiAgICAgICAgdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnMgPSAhIW9wdGlvbnMudGVzdE1vZGU7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbnRhaW5lciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcHRpb25zLmNvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb250YWluZXIgJyR7b3B0aW9ucy5jb250YWluZXJ9JyBub3QgZm91bmQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5jb250YWluZXIgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGU6ICdjb250YWluZXInIG11c3QgYmUgYSBTdHJpbmcgb3IgSFRNTEVsZW1lbnQuYCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2Fybk9uY2UoYFRoZSBtYXAgY29udGFpbmVyIGVsZW1lbnQgc2hvdWxkIGJlIGVtcHR5LCBvdGhlcndpc2UgdGhlIG1hcCdzIGludGVyYWN0aXZpdHkgd2lsbCBiZSBuZWdhdGl2ZWx5IGltcGFjdGVkLiBJZiB5b3Ugd2FudCB0byBkaXNwbGF5IGEgbWVzc2FnZSB3aGVuIFdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgTWFwYm94IEdMIFN1cHBvcnRlZCBwbHVnaW4gaW5zdGVhZC5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLm1heEJvdW5kcykge1xuICAgICAgICAgICAgdGhpcy5zZXRNYXhCb3VuZHMob3B0aW9ucy5tYXhCb3VuZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uV2luZG93T25saW5lJyxcbiAgICAgICAgICAgICdfb25XaW5kb3dSZXNpemUnLFxuICAgICAgICAgICAgJ19vblZpc2liaWxpdHlDaGFuZ2UnLFxuICAgICAgICAgICAgJ19vbk1hcFNjcm9sbCcsXG4gICAgICAgICAgICAnX2NvbnRleHRMb3N0JyxcbiAgICAgICAgICAgICdfY29udGV4dFJlc3RvcmVkJ1xuICAgICAgICBdLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9zZXR1cENvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLl9zZXR1cFBhaW50ZXIoKTtcbiAgICAgICAgaWYgKHRoaXMucGFpbnRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMLmApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbignbW92ZScsICgpID0+IHRoaXMuX3VwZGF0ZShmYWxzZSkpO1xuICAgICAgICB0aGlzLm9uKCdtb3ZlZW5kJywgKCkgPT4gdGhpcy5fdXBkYXRlKGZhbHNlKSk7XG4gICAgICAgIHRoaXMub24oJ3pvb20nLCAoKSA9PiB0aGlzLl91cGRhdGUodHJ1ZSkpO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsIHRoaXMuX29uV2luZG93T25saW5lLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMuX29uV2luZG93UmVzaXplLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuX29uV2luZG93UmVzaXplLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IG5ldyBIYW5kbGVyTWFuYWdlcih0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9sb2NhbEZvbnRGYW1pbHkgPSBvcHRpb25zLmxvY2FsRm9udEZhbWlseTtcbiAgICAgICAgdGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5ID0gb3B0aW9ucy5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUob3B0aW9ucy5zdHlsZSwge2xvY2FsRm9udEZhbWlseTogdGhpcy5fbG9jYWxGb250RmFtaWx5LCBsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6IHRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucHJvamVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZXRQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoYXNoTmFtZSA9ICh0eXBlb2Ygb3B0aW9ucy5oYXNoID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLmhhc2gpIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5faGFzaCA9IG9wdGlvbnMuaGFzaCAmJiAobmV3IEhhc2goaGFzaE5hbWUpKS5hZGRUbyh0aGlzKTtcbiAgICAgICAgLy8gZG9uJ3Qgc2V0IHBvc2l0aW9uIGZyb20gb3B0aW9ucyBpZiBzZXQgdGhyb3VnaCBoYXNoXG4gICAgICAgIGlmICghdGhpcy5faGFzaCB8fCAhdGhpcy5faGFzaC5fb25IYXNoQ2hhbmdlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuanVtcFRvKHtcbiAgICAgICAgICAgICAgICBjZW50ZXI6IG9wdGlvbnMuY2VudGVyLFxuICAgICAgICAgICAgICAgIHpvb206IG9wdGlvbnMuem9vbSxcbiAgICAgICAgICAgICAgICBiZWFyaW5nOiBvcHRpb25zLmJlYXJpbmcsXG4gICAgICAgICAgICAgICAgcGl0Y2g6IG9wdGlvbnMucGl0Y2hcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5ib3VuZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZml0Qm91bmRzKG9wdGlvbnMuYm91bmRzLCBleHRlbmQoe30sIG9wdGlvbnMuZml0Qm91bmRzT3B0aW9ucywge2R1cmF0aW9uOiAwfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNpemUoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2wpXG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB0aGlzLmFkZENvbnRyb2wobmV3IEF0dHJpYnV0aW9uQ29udHJvbCh7Y3VzdG9tQXR0cmlidXRpb246IG9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb259KSk7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9sb2dvQ29udHJvbCA9IG5ldyBMb2dvQ29udHJvbCgpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuYWRkQ29udHJvbCh0aGlzLl9sb2dvQ29udHJvbCwgb3B0aW9ucy5sb2dvUG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMub24oJ3N0eWxlLmxvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0udW5tb2RpZmllZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuanVtcFRvKCh0aGlzLnN0eWxlLnN0eWxlc2hlZXQ6IGFueSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignZGF0YScsIChldmVudDogTWFwRGF0YUV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoZXZlbnQuZGF0YVR5cGUgPT09ICdzdHlsZScpO1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudChgJHtldmVudC5kYXRhVHlwZX1kYXRhYCwgZXZlbnQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2RhdGFsb2FkaW5nJywgKGV2ZW50OiBNYXBEYXRhRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoYCR7ZXZlbnQuZGF0YVR5cGV9ZGF0YWxvYWRpbmdgLCBldmVudCkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICogUmV0dXJucyBhIHVuaXF1ZSBudW1iZXIgZm9yIHRoaXMgbWFwIGluc3RhbmNlIHdoaWNoIGlzIHVzZWQgZm9yIHRoZSBNYXBMb2FkRXZlbnRcbiAgICAqIHRvIG1ha2Ugc3VyZSB3ZSBvbmx5IGZpcmUgb25lIGV2ZW50IHBlciBpbnN0YW50aWF0ZWQgbWFwIG9iamVjdC5cbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgX2dldE1hcElkKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXBJZDtcbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge0NvbnRyb2xzfSAqL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbiB7QGxpbmsgSUNvbnRyb2x9IHRvIHRoZSBtYXAsIGNhbGxpbmcgYGNvbnRyb2wub25BZGQodGhpcylgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJQ29udHJvbH0gY29udHJvbCBUaGUge0BsaW5rIElDb250cm9sfSB0byBhZGQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwb3NpdGlvbl0gUG9zaXRpb24gb24gdGhlIG1hcCB0byB3aGljaCB0aGUgY29udHJvbCB3aWxsIGJlIGFkZGVkLlxuICAgICAqIFZhbGlkIHZhbHVlcyBhcmUgYCd0b3AtbGVmdCdgLCBgJ3RvcC1yaWdodCdgLCBgJ2JvdHRvbS1sZWZ0J2AsIGFuZCBgJ2JvdHRvbS1yaWdodCdgLiBEZWZhdWx0cyB0byBgJ3RvcC1yaWdodCdgLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBBZGQgem9vbSBhbmQgcm90YXRpb24gY29udHJvbHMgdG8gdGhlIG1hcC5cbiAgICAgKiBtYXAuYWRkQ29udHJvbChuZXcgbWFwYm94Z2wuTmF2aWdhdGlvbkNvbnRyb2woKSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBtYXAgbmF2aWdhdGlvbiBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9uYXZpZ2F0aW9uLylcbiAgICAgKi9cbiAgICBhZGRDb250cm9sKGNvbnRyb2w6IElDb250cm9sLCBwb3NpdGlvbj86IENvbnRyb2xQb3NpdGlvbik6IHRoaXMge1xuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGNvbnRyb2wuZ2V0RGVmYXVsdFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBjb250cm9sLmdldERlZmF1bHRQb3NpdGlvbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9ICd0b3AtcmlnaHQnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY29udHJvbCB8fCAhY29udHJvbC5vbkFkZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ0ludmFsaWQgYXJndW1lbnQgdG8gbWFwLmFkZENvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy4nKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRyb2xFbGVtZW50ID0gY29udHJvbC5vbkFkZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29udHJvbHMucHVzaChjb250cm9sKTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbkNvbnRhaW5lciA9IHRoaXMuX2NvbnRyb2xQb3NpdGlvbnNbcG9zaXRpb25dO1xuICAgICAgICBpZiAocG9zaXRpb24uaW5kZXhPZignYm90dG9tJykgIT09IC0xKSB7XG4gICAgICAgICAgICBwb3NpdGlvbkNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY29udHJvbEVsZW1lbnQsIHBvc2l0aW9uQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zaXRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoY29udHJvbEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGNvbnRyb2wgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJQ29udHJvbH0gY29udHJvbCBUaGUge0BsaW5rIElDb250cm9sfSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERlZmluZSBhIG5ldyBuYXZpZ2F0aW9uIGNvbnRyb2wuXG4gICAgICogY29uc3QgbmF2aWdhdGlvbiA9IG5ldyBtYXBib3hnbC5OYXZpZ2F0aW9uQ29udHJvbCgpO1xuICAgICAqIC8vIEFkZCB6b29tIGFuZCByb3RhdGlvbiBjb250cm9scyB0byB0aGUgbWFwLlxuICAgICAqIG1hcC5hZGRDb250cm9sKG5hdmlnYXRpb24pO1xuICAgICAqIC8vIFJlbW92ZSB6b29tIGFuZCByb3RhdGlvbiBjb250cm9scyBmcm9tIHRoZSBtYXAuXG4gICAgICogbWFwLnJlbW92ZUNvbnRyb2wobmF2aWdhdGlvbik7XG4gICAgICovXG4gICAgcmVtb3ZlQ29udHJvbChjb250cm9sOiBJQ29udHJvbCk6IHRoaXMge1xuICAgICAgICBpZiAoIWNvbnRyb2wgfHwgIWNvbnRyb2wub25SZW1vdmUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50IHRvIG1hcC5yZW1vdmVDb250cm9sKCkuIEFyZ3VtZW50IG11c3QgYmUgYSBjb250cm9sIHdpdGggb25BZGQgYW5kIG9uUmVtb3ZlIG1ldGhvZHMuJykpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaSA9IHRoaXMuX2NvbnRyb2xzLmluZGV4T2YoY29udHJvbCk7XG4gICAgICAgIGlmIChjaSA+IC0xKSB0aGlzLl9jb250cm9scy5zcGxpY2UoY2ksIDEpO1xuICAgICAgICBjb250cm9sLm9uUmVtb3ZlKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBjb250cm9sIGlzIG9uIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0lDb250cm9sfSBjb250cm9sIFRoZSB7QGxpbmsgSUNvbnRyb2x9IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG1hcCBjb250YWlucyBjb250cm9sLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRGVmaW5lIGEgbmV3IG5hdmlnYXRpb24gY29udHJvbC5cbiAgICAgKiBjb25zdCBuYXZpZ2F0aW9uID0gbmV3IG1hcGJveGdsLk5hdmlnYXRpb25Db250cm9sKCk7XG4gICAgICogLy8gQWRkIHpvb20gYW5kIHJvdGF0aW9uIGNvbnRyb2xzIHRvIHRoZSBtYXAuXG4gICAgICogbWFwLmFkZENvbnRyb2wobmF2aWdhdGlvbik7XG4gICAgICogLy8gQ2hlY2sgdGhhdCB0aGUgbmF2aWdhdGlvbiBjb250cm9sIGV4aXN0cyBvbiB0aGUgbWFwLlxuICAgICAqIGNvbnN0IGFkZGVkID0gbWFwLmhhc0NvbnRyb2wobmF2aWdhdGlvbik7XG4gICAgICogLy8gYWRkZWQgPT09IHRydWVcbiAgICAgKi9cbiAgICBoYXNDb250cm9sKGNvbnRyb2w6IElDb250cm9sKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250cm9scy5pbmRleE9mKGNvbnRyb2wpID4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgY29udGFpbmluZyBIVE1MIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFRoZSBtYXAncyBjb250YWluZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjb250YWluZXIgPSBtYXAuZ2V0Q29udGFpbmVyKCk7XG4gICAgICovXG4gICAgZ2V0Q29udGFpbmVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBIVE1MIGVsZW1lbnQgY29udGFpbmluZyB0aGUgbWFwJ3MgYDxjYW52YXM+YCBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gYWRkIG5vbi1HTCBvdmVybGF5cyB0byB0aGUgbWFwLCB5b3Ugc2hvdWxkIGFwcGVuZCB0aGVtIHRvIHRoaXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdGhlIGVsZW1lbnQgdG8gd2hpY2ggZXZlbnQgYmluZGluZ3MgZm9yIG1hcCBpbnRlcmFjdGl2aXR5IChzdWNoIGFzIHBhbm5pbmcgYW5kIHpvb21pbmcpIGFyZVxuICAgICAqIGF0dGFjaGVkLiBJdCB3aWxsIHJlY2VpdmUgYnViYmxlZCBldmVudHMgZnJvbSBjaGlsZCBlbGVtZW50cyBzdWNoIGFzIHRoZSBgPGNhbnZhcz5gLCBidXQgbm90IGZyb21cbiAgICAgKiBtYXAgY29udHJvbHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFRoZSBjb250YWluZXIgb2YgdGhlIG1hcCdzIGA8Y2FudmFzPmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYW52YXNDb250YWluZXIgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91c2luZy1ib3gtcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAgICAgKi9cbiAgICBnZXRDYW52YXNDb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FudmFzQ29udGFpbmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGA8Y2FudmFzPmAgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MQ2FudmFzRWxlbWVudH0gVGhlIG1hcCdzIGA8Y2FudmFzPmAgZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNhbnZhcyA9IG1hcC5nZXRDYW52YXMoKTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBNZWFzdXJlIGRpc3RhbmNlc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tZWFzdXJlLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGEgcG9wdXAgb24gaG92ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24taG92ZXIvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IENlbnRlciB0aGUgbWFwIG9uIGEgY2xpY2tlZCBzeW1ib2xdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY2VudGVyLW9uLXN5bWJvbC8pXG4gICAgICovXG4gICAgZ2V0Q2FudmFzKCk6IEhUTUxDYW52YXNFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcztcbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge01hcCBjb25zdHJhaW50c30gKi9cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIG1hcCBhY2NvcmRpbmcgdG8gdGhlIGRpbWVuc2lvbnMgb2YgaXRzXG4gICAgICogYGNvbnRhaW5lcmAgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIENoZWNrcyBpZiB0aGUgbWFwIGNvbnRhaW5lciBzaXplIGNoYW5nZWQgYW5kIHVwZGF0ZXMgdGhlIG1hcCBpZiBpdCBoYXMgY2hhbmdlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCBtdXN0IGJlIGNhbGxlZCBhZnRlciB0aGUgbWFwJ3MgYGNvbnRhaW5lcmAgaXMgcmVzaXplZCBwcm9ncmFtbWF0aWNhbGx5XG4gICAgICogb3Igd2hlbiB0aGUgbWFwIGlzIHNob3duIGFmdGVyIGJlaW5nIGluaXRpYWxseSBoaWRkZW4gd2l0aCBDU1MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgcGFzc2VkIHRvIGBtb3Zlc3RhcnRgLCBgbW92ZWAsIGByZXNpemVgLCBhbmQgYG1vdmVlbmRgXG4gICAgICogICBldmVudHMgdGhhdCBnZXQgdHJpZ2dlcmVkIGFzIGEgcmVzdWx0IG9mIHJlc2l6ZS4gVGhpcyBjYW4gYmUgdXNlZnVsIGZvciBkaWZmZXJlbnRpYXRpbmcgdGhlXG4gICAgICogICBzb3VyY2Ugb2YgYW4gZXZlbnQgKGZvciBleGFtcGxlLCB1c2VyLWluaXRpYXRlZCBvciBwcm9ncmFtbWF0aWNhbGx5LXRyaWdnZXJlZCBldmVudHMpLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSZXNpemUgdGhlIG1hcCB3aGVuIHRoZSBtYXAgY29udGFpbmVyIGlzIHNob3duXG4gICAgICogLy8gYWZ0ZXIgYmVpbmcgaW5pdGlhbGx5IGhpZGRlbiB3aXRoIENTUy5cbiAgICAgKiBjb25zdCBtYXBEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyk7XG4gICAgICogaWYgKG1hcERpdi5zdHlsZS52aXNpYmlsaXR5ID09PSB0cnVlKSBtYXAucmVzaXplKCk7XG4gICAgICovXG4gICAgcmVzaXplKGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLl91cGRhdGVDb250YWluZXJEaW1lbnNpb25zKCk7XG5cbiAgICAgICAgLy8gZG8gbm90aGluZyBpZiBjb250YWluZXIgcmVtYWluZWQgdGhlIHNhbWUgc2l6ZVxuICAgICAgICBpZiAodGhpcy5fY29udGFpbmVyV2lkdGggPT09IHRoaXMudHJhbnNmb3JtLndpZHRoICYmIHRoaXMuX2NvbnRhaW5lckhlaWdodCA9PT0gdGhpcy50cmFuc2Zvcm0uaGVpZ2h0KSByZXR1cm4gdGhpcztcblxuICAgICAgICB0aGlzLl9yZXNpemVDYW52YXModGhpcy5fY29udGFpbmVyV2lkdGgsIHRoaXMuX2NvbnRhaW5lckhlaWdodCk7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmVzaXplKHRoaXMuX2NvbnRhaW5lcldpZHRoLCB0aGlzLl9jb250YWluZXJIZWlnaHQpO1xuICAgICAgICB0aGlzLnBhaW50ZXIucmVzaXplKE1hdGguY2VpbCh0aGlzLl9jb250YWluZXJXaWR0aCksIE1hdGguY2VpbCh0aGlzLl9jb250YWluZXJIZWlnaHQpKTtcblxuICAgICAgICBjb25zdCBmaXJlTW92aW5nID0gIXRoaXMuX21vdmluZztcbiAgICAgICAgaWYgKGZpcmVNb3ZpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdtb3ZlJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyZXNpemUnLCBldmVudERhdGEpKTtcblxuICAgICAgICBpZiAoZmlyZU1vdmluZykgdGhpcy5maXJlKG5ldyBFdmVudCgnbW92ZWVuZCcsIGV2ZW50RGF0YSkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBib3VuZHMuIFdoZW4gdGhlIGJlYXJpbmcgb3IgcGl0Y2ggaXMgbm9uLXplcm8sIHRoZSB2aXNpYmxlIHJlZ2lvbiBpcyBub3RcbiAgICAgKiBhbiBheGlzLWFsaWduZWQgcmVjdGFuZ2xlLCBhbmQgdGhlIHJlc3VsdCBpcyB0aGUgc21hbGxlc3QgYm91bmRzIHRoYXQgZW5jb21wYXNzZXMgdGhlIHZpc2libGUgcmVnaW9uLlxuICAgICAqIElmIGEgcGFkZGluZyBpcyBzZXQgb24gdGhlIG1hcCwgdGhlIGJvdW5kcyByZXR1cm5lZCBhcmUgZm9yIHRoZSBpbnNldC5cbiAgICAgKiBXaXRoIGdsb2JlIHByb2plY3Rpb24sIHRoZSBzbWFsbGVzdCBib3VuZHMgZW5jb21wYXNzaW5nIHRoZSB2aXNpYmxlIHJlZ2lvblxuICAgICAqIG1heSBub3QgcHJlY2lzZWx5IHJlcHJlc2VudCB0aGUgdmlzaWJsZSByZWdpb24gZHVlIHRvIHRoZSBlYXJ0aCdzIGN1cnZhdHVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXRCb3VuZHN9IFRoZSBnZW9ncmFwaGljYWwgYm91bmRzIG9mIHRoZSBtYXAgYXMge0BsaW5rIExuZ0xhdEJvdW5kc30uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBib3VuZHMgPSBtYXAuZ2V0Qm91bmRzKCk7XG4gICAgICovXG4gICAgZ2V0Qm91bmRzKCk6IExuZ0xhdEJvdW5kcyB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0Qm91bmRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWF4aW11bSBnZW9ncmFwaGljYWwgYm91bmRzIHRoZSBtYXAgaXMgY29uc3RyYWluZWQgdG8sIG9yIGBudWxsYCBpZiBub25lIHNldC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFRoZSBtYXAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBtYXhCb3VuZHMgPSBtYXAuZ2V0TWF4Qm91bmRzKCk7XG4gICAgICovXG4gICAgZ2V0TWF4Qm91bmRzKCk6IExuZ0xhdEJvdW5kcyB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0TWF4Qm91bmRzKCkgfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIGNsZWFycyB0aGUgbWFwJ3MgZ2VvZ3JhcGhpY2FsIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIFBhbiBhbmQgem9vbSBvcGVyYXRpb25zIGFyZSBjb25zdHJhaW5lZCB3aXRoaW4gdGhlc2UgYm91bmRzLlxuICAgICAqIElmIGEgcGFuIG9yIHpvb20gaXMgcGVyZm9ybWVkIHRoYXQgd291bGRcbiAgICAgKiBkaXNwbGF5IHJlZ2lvbnMgb3V0c2lkZSB0aGVzZSBib3VuZHMsIHRoZSBtYXAgd2lsbFxuICAgICAqIGluc3RlYWQgZGlzcGxheSBhIHBvc2l0aW9uIGFuZCB6b29tIGxldmVsXG4gICAgICogYXMgY2xvc2UgYXMgcG9zc2libGUgdG8gdGhlIG9wZXJhdGlvbidzIHJlcXVlc3Qgd2hpbGUgc3RpbGxcbiAgICAgKiByZW1haW5pbmcgd2l0aGluIHRoZSBib3VuZHMuXG4gICAgICpcbiAgICAgKiBGb3IgYG1lcmNhdG9yYCBwcm9qZWN0aW9uLCB0aGUgdmlld3BvcnQgd2lsbCBiZSBjb25zdHJhaW5lZCB0byB0aGUgYm91bmRzLlxuICAgICAqIEZvciBvdGhlciBwcm9qZWN0aW9ucyBzdWNoIGFzIGBnbG9iZWAsIG9ubHkgdGhlIG1hcCBjZW50ZXIgd2lsbCBiZSBjb25zdHJhaW5lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0Qm91bmRzTGlrZSB8IG51bGwgfCB1bmRlZmluZWR9IGJvdW5kcyBUaGUgbWF4aW11bSBib3VuZHMgdG8gc2V0LiBJZiBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgaXMgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiByZW1vdmVzIHRoZSBtYXAncyBtYXhpbXVtIGJvdW5kcy5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRGVmaW5lIGJvdW5kcyB0aGF0IGNvbmZvcm0gdG8gdGhlIGBMbmdMYXRCb3VuZHNMaWtlYCBvYmplY3QuXG4gICAgICogY29uc3QgYm91bmRzID0gW1xuICAgICAqICAgICBbLTc0LjA0NzI4LCA0MC42ODM5Ml0sIC8vIFt3ZXN0LCBzb3V0aF1cbiAgICAgKiAgICAgWy03My45MTA1OCwgNDAuODc3NjRdICAvLyBbZWFzdCwgbm9ydGhdXG4gICAgICogXTtcbiAgICAgKiAvLyBTZXQgdGhlIG1hcCdzIG1heCBib3VuZHMuXG4gICAgICogbWFwLnNldE1heEJvdW5kcyhib3VuZHMpO1xuICAgICAqL1xuICAgIHNldE1heEJvdW5kcyhib3VuZHM6IExuZ0xhdEJvdW5kc0xpa2UpOiB0aGlzIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2V0TWF4Qm91bmRzKExuZ0xhdEJvdW5kcy5jb252ZXJ0KGJvdW5kcykpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIG1pbmltdW0gem9vbSBsZXZlbC5cbiAgICAgKiBJZiB0aGUgbWFwJ3MgY3VycmVudCB6b29tIGxldmVsIGlzIGxvd2VyIHRoYW4gdGhlIG5ldyBtaW5pbXVtLFxuICAgICAqIHRoZSBtYXAgd2lsbCB6b29tIHRvIHRoZSBuZXcgbWluaW11bS5cbiAgICAgKlxuICAgICAqIEl0IGlzIG5vdCBhbHdheXMgcG9zc2libGUgdG8gem9vbSBvdXQgYW5kIHJlYWNoIHRoZSBzZXQgYG1pblpvb21gLlxuICAgICAqIE90aGVyIGZhY3RvcnMgc3VjaCBhcyBtYXAgaGVpZ2h0IG1heSByZXN0cmljdCB6b29taW5nLiBGb3IgZXhhbXBsZSxcbiAgICAgKiBpZiB0aGUgbWFwIGlzIDUxMnB4IHRhbGwgaXQgd2lsbCBub3QgYmUgcG9zc2libGUgdG8gem9vbSBiZWxvdyB6b29tIDBcbiAgICAgKiBubyBtYXR0ZXIgd2hhdCB0aGUgYG1pblpvb21gIGlzIHNldCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZH0gbWluWm9vbSBUaGUgbWluaW11bSB6b29tIGxldmVsIHRvIHNldCAoLTIgLSAyNCkuXG4gICAgICogICBJZiBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgaXMgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiByZW1vdmVzIHRoZSBjdXJyZW50IG1pbmltdW0gem9vbSBhbmQgaXQgd2lsbCBiZSByZXNldCB0byAtMi5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldE1pblpvb20oMTIuMjUpO1xuICAgICAqL1xuICAgIHNldE1pblpvb20obWluWm9vbT86ID9udW1iZXIpOiB0aGlzIHtcblxuICAgICAgICBtaW5ab29tID0gbWluWm9vbSA9PT0gbnVsbCB8fCBtaW5ab29tID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TWluWm9vbSA6IG1pblpvb207XG5cbiAgICAgICAgaWYgKG1pblpvb20gPj0gZGVmYXVsdE1pblpvb20gJiYgbWluWm9vbSA8PSB0aGlzLnRyYW5zZm9ybS5tYXhab29tKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5taW5ab29tID0gbWluWm9vbTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRab29tKCkgPCBtaW5ab29tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRab29tKG1pblpvb20pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd6b29tc3RhcnQnKSlcbiAgICAgICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCd6b29tJykpXG4gICAgICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnem9vbWVuZCcpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihgbWluWm9vbSBtdXN0IGJlIGJldHdlZW4gJHtkZWZhdWx0TWluWm9vbX0gYW5kIHRoZSBjdXJyZW50IG1heFpvb20sIGluY2x1c2l2ZWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIG1pbmltdW0gYWxsb3dhYmxlIHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGBtaW5ab29tYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG1pblpvb20gPSBtYXAuZ2V0TWluWm9vbSgpO1xuICAgICAqL1xuICAgIGdldE1pblpvb20oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblpvb207IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgb3IgY2xlYXJzIHRoZSBtYXAncyBtYXhpbXVtIHpvb20gbGV2ZWwuXG4gICAgICogSWYgdGhlIG1hcCdzIGN1cnJlbnQgem9vbSBsZXZlbCBpcyBoaWdoZXIgdGhhbiB0aGUgbmV3IG1heGltdW0sXG4gICAgICogdGhlIG1hcCB3aWxsIHpvb20gdG8gdGhlIG5ldyBtYXhpbXVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkfSBtYXhab29tIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdG8gc2V0LlxuICAgICAqICAgSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCB0aGUgZnVuY3Rpb24gcmVtb3ZlcyB0aGUgY3VycmVudCBtYXhpbXVtIHpvb20gKHNldHMgaXQgdG8gMjIpLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TWF4Wm9vbSgxOC43NSk7XG4gICAgICovXG4gICAgc2V0TWF4Wm9vbShtYXhab29tPzogP251bWJlcik6IHRoaXMge1xuXG4gICAgICAgIG1heFpvb20gPSBtYXhab29tID09PSBudWxsIHx8IG1heFpvb20gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRNYXhab29tIDogbWF4Wm9vbTtcblxuICAgICAgICBpZiAobWF4Wm9vbSA+PSB0aGlzLnRyYW5zZm9ybS5taW5ab29tKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tYXhab29tID0gbWF4Wm9vbTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRab29tKCkgPiBtYXhab29tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRab29tKG1heFpvb20pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd6b29tc3RhcnQnKSlcbiAgICAgICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCd6b29tJykpXG4gICAgICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnem9vbWVuZCcpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihgbWF4Wm9vbSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGUgY3VycmVudCBtaW5ab29tYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgbWF4aW11bSBhbGxvd2FibGUgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYG1heFpvb21gLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbWF4Wm9vbSA9IG1hcC5nZXRNYXhab29tKCk7XG4gICAgICovXG4gICAgZ2V0TWF4Wm9vbSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbTsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIG1pbmltdW0gcGl0Y2guXG4gICAgICogSWYgdGhlIG1hcCdzIGN1cnJlbnQgcGl0Y2ggaXMgbG93ZXIgdGhhbiB0aGUgbmV3IG1pbmltdW0sXG4gICAgICogdGhlIG1hcCB3aWxsIHBpdGNoIHRvIHRoZSBuZXcgbWluaW11bS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZH0gbWluUGl0Y2ggVGhlIG1pbmltdW0gcGl0Y2ggdG8gc2V0ICgwLTg1KS4gSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCB0aGUgZnVuY3Rpb24gcmVtb3ZlcyB0aGUgY3VycmVudCBtaW5pbXVtIHBpdGNoIGFuZCByZXNldHMgaXQgdG8gMC5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldE1pblBpdGNoKDUpO1xuICAgICAqL1xuICAgIHNldE1pblBpdGNoKG1pblBpdGNoPzogP251bWJlcik6IHRoaXMge1xuXG4gICAgICAgIG1pblBpdGNoID0gbWluUGl0Y2ggPT09IG51bGwgfHwgbWluUGl0Y2ggPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRNaW5QaXRjaCA6IG1pblBpdGNoO1xuXG4gICAgICAgIGlmIChtaW5QaXRjaCA8IGRlZmF1bHRNaW5QaXRjaCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtaW5QaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAke2RlZmF1bHRNaW5QaXRjaH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaW5QaXRjaCA+PSBkZWZhdWx0TWluUGl0Y2ggJiYgbWluUGl0Y2ggPD0gdGhpcy50cmFuc2Zvcm0ubWF4UGl0Y2gpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1pblBpdGNoID0gbWluUGl0Y2g7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UGl0Y2goKSA8IG1pblBpdGNoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQaXRjaChtaW5QaXRjaCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3BpdGNoc3RhcnQnKSlcbiAgICAgICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdwaXRjaCcpKVxuICAgICAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3BpdGNoZW5kJykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBtaW5QaXRjaCBtdXN0IGJlIGJldHdlZW4gJHtkZWZhdWx0TWluUGl0Y2h9IGFuZCB0aGUgY3VycmVudCBtYXhQaXRjaCwgaW5jbHVzaXZlYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgbWluaW11bSBhbGxvd2FibGUgcGl0Y2guXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGBtaW5QaXRjaGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBtaW5QaXRjaCA9IG1hcC5nZXRNaW5QaXRjaCgpO1xuICAgICAqL1xuICAgIGdldE1pblBpdGNoKCk6IG51bWJlciB7IHJldHVybiB0aGlzLnRyYW5zZm9ybS5taW5QaXRjaDsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIG1heGltdW0gcGl0Y2guXG4gICAgICogSWYgdGhlIG1hcCdzIGN1cnJlbnQgcGl0Y2ggaXMgaGlnaGVyIHRoYW4gdGhlIG5ldyBtYXhpbXVtLFxuICAgICAqIHRoZSBtYXAgd2lsbCBwaXRjaCB0byB0aGUgbmV3IG1heGltdW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlciB8IG51bGwgfCB1bmRlZmluZWR9IG1heFBpdGNoIFRoZSBtYXhpbXVtIHBpdGNoIHRvIHNldC5cbiAgICAgKiAgIElmIGBudWxsYCBvciBgdW5kZWZpbmVkYCBpcyBwcm92aWRlZCwgdGhlIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIGN1cnJlbnQgbWF4aW11bSBwaXRjaCAoc2V0cyBpdCB0byA4NSkuXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRNYXhQaXRjaCg3MCk7XG4gICAgICovXG4gICAgc2V0TWF4UGl0Y2gobWF4UGl0Y2g/OiA/bnVtYmVyKTogdGhpcyB7XG5cbiAgICAgICAgbWF4UGl0Y2ggPSBtYXhQaXRjaCA9PT0gbnVsbCB8fCBtYXhQaXRjaCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdE1heFBpdGNoIDogbWF4UGl0Y2g7XG5cbiAgICAgICAgaWYgKG1heFBpdGNoID4gZGVmYXVsdE1heFBpdGNoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1heFBpdGNoIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvICR7ZGVmYXVsdE1heFBpdGNofWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1heFBpdGNoID49IHRoaXMudHJhbnNmb3JtLm1pblBpdGNoKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaCA9IG1heFBpdGNoO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmdldFBpdGNoKCkgPiBtYXhQaXRjaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UGl0Y2gobWF4UGl0Y2gpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdwaXRjaHN0YXJ0JykpXG4gICAgICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncGl0Y2gnKSlcbiAgICAgICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdwaXRjaGVuZCcpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihgbWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBtYXhpbXVtIGFsbG93YWJsZSBwaXRjaC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYG1heFBpdGNoYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG1heFBpdGNoID0gbWFwLmdldE1heFBpdGNoKCk7XG4gICAgICovXG4gICAgZ2V0TWF4UGl0Y2goKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFBpdGNoOyB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdGF0ZSBvZiBgcmVuZGVyV29ybGRDb3BpZXNgLiBJZiBgdHJ1ZWAsIG11bHRpcGxlIGNvcGllcyBvZiB0aGUgd29ybGQgd2lsbCBiZSByZW5kZXJlZCBzaWRlIGJ5IHNpZGUgYmV5b25kIC0xODAgYW5kIDE4MCBkZWdyZWVzIGxvbmdpdHVkZS4gSWYgc2V0IHRvIGBmYWxzZWA6XG4gICAgICogLSBXaGVuIHRoZSBtYXAgaXMgem9vbWVkIG91dCBmYXIgZW5vdWdoIHRoYXQgYSBzaW5nbGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIHdvcmxkIGRvZXMgbm90IGZpbGwgdGhlIG1hcCdzIGVudGlyZVxuICAgICAqIGNvbnRhaW5lciwgdGhlcmUgd2lsbCBiZSBibGFuayBzcGFjZSBiZXlvbmQgMTgwIGFuZCAtMTgwIGRlZ3JlZXMgbG9uZ2l0dWRlLlxuICAgICAqIC0gRmVhdHVyZXMgdGhhdCBjcm9zcyAxODAgYW5kIC0xODAgZGVncmVlcyBsb25naXR1ZGUgd2lsbCBiZSBjdXQgaW4gdHdvICh3aXRoIG9uZSBwb3J0aW9uIG9uIHRoZSByaWdodCBlZGdlIG9mIHRoZVxuICAgICAqIG1hcCBhbmQgdGhlIG90aGVyIG9uIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIG1hcCkgYXQgZXZlcnkgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGByZW5kZXJXb3JsZENvcGllc2AgYm9vbGVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHdvcmxkQ29waWVzUmVuZGVyZWQgPSBtYXAuZ2V0UmVuZGVyV29ybGRDb3BpZXMoKTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBSZW5kZXIgd29ybGQgY29waWVzXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9yZW5kZXItd29ybGQtY29waWVzLylcbiAgICAgKi9cbiAgICBnZXRSZW5kZXJXb3JsZENvcGllcygpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGF0ZSBvZiBgcmVuZGVyV29ybGRDb3BpZXNgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZW5kZXJXb3JsZENvcGllcyBJZiBgdHJ1ZWAsIG11bHRpcGxlIGNvcGllcyBvZiB0aGUgd29ybGQgd2lsbCBiZSByZW5kZXJlZCBzaWRlIGJ5IHNpZGUgYmV5b25kIC0xODAgYW5kIDE4MCBkZWdyZWVzIGxvbmdpdHVkZS4gSWYgc2V0IHRvIGBmYWxzZWA6XG4gICAgICogLSBXaGVuIHRoZSBtYXAgaXMgem9vbWVkIG91dCBmYXIgZW5vdWdoIHRoYXQgYSBzaW5nbGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIHdvcmxkIGRvZXMgbm90IGZpbGwgdGhlIG1hcCdzIGVudGlyZVxuICAgICAqIGNvbnRhaW5lciwgdGhlcmUgd2lsbCBiZSBibGFuayBzcGFjZSBiZXlvbmQgMTgwIGFuZCAtMTgwIGRlZ3JlZXMgbG9uZ2l0dWRlLlxuICAgICAqIC0gRmVhdHVyZXMgdGhhdCBjcm9zcyAxODAgYW5kIC0xODAgZGVncmVlcyBsb25naXR1ZGUgd2lsbCBiZSBjdXQgaW4gdHdvICh3aXRoIG9uZSBwb3J0aW9uIG9uIHRoZSByaWdodCBlZGdlIG9mIHRoZVxuICAgICAqIG1hcCBhbmQgdGhlIG90aGVyIG9uIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIG1hcCkgYXQgZXZlcnkgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIGB1bmRlZmluZWRgIGlzIHRyZWF0ZWQgYXMgYHRydWVgLCBgbnVsbGAgaXMgdHJlYXRlZCBhcyBgZmFsc2VgLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0UmVuZGVyV29ybGRDb3BpZXModHJ1ZSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogUmVuZGVyIHdvcmxkIGNvcGllc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcmVuZGVyLXdvcmxkLWNvcGllcy8pXG4gICAgICovXG4gICAgc2V0UmVuZGVyV29ybGRDb3BpZXMocmVuZGVyV29ybGRDb3BpZXM/OiA/Ym9vbGVhbik6IHRoaXMge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyA9IHJlbmRlcldvcmxkQ29waWVzO1xuICAgICAgICBpZiAoIXRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBsYW5ndWFnZSwgd2hpY2ggaXMgdXNlZCBmb3IgdHJhbnNsYXRpbmcgbWFwIGxhYmVscyBhbmQgVUkgY29tcG9uZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZCB8IHN0cmluZyB8IHN0cmluZ1tdfSBSZXR1cm5zIHRoZSBtYXAncyBsYW5ndWFnZSBjb2RlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbGFuZ3VhZ2UgPSBtYXAuZ2V0TGFuZ3VhZ2UoKTtcbiAgICAgKi9cbiAgICBnZXRMYW5ndWFnZSgpOiA/c3RyaW5nIHwgP3N0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhbmd1YWdlO1xuICAgIH1cblxuICAgIF9wYXJzZUxhbmd1YWdlKGxhbmd1YWdlPzogJ2F1dG8nIHwgP3N0cmluZyB8ID9zdHJpbmdbXSk6ID9zdHJpbmcgfCA/c3RyaW5nW10ge1xuICAgICAgICBpZiAobGFuZ3VhZ2UgPT09ICdhdXRvJykgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2U7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGxhbmd1YWdlKSkgcmV0dXJuIGxhbmd1YWdlLmxlbmd0aCA9PT0gMCA/XG4gICAgICAgICAgICB1bmRlZmluZWQgOlxuICAgICAgICAgICAgbGFuZ3VhZ2UubWFwKGwgPT4gbCA9PT0gJ2F1dG8nID8gd2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZSA6IGwpO1xuXG4gICAgICAgIHJldHVybiBsYW5ndWFnZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAncyBsYW5ndWFnZSwgd2hpY2ggaXMgdXNlZCBmb3IgdHJhbnNsYXRpbmcgbWFwIGxhYmVscyBhbmQgVUkgY29tcG9uZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsnYXV0bycgfCBzdHJpbmcgfCBzdHJpbmdbXX0gW2xhbmd1YWdlXSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRlc2lyZWQgbGFuZ3VhZ2UgdXNlZCBmb3IgdGhlIG1hcCdzIGxhYmVscyBhbmQgVUkgY29tcG9uZW50cy4gTGFuZ3VhZ2VzIGNhbiBvbmx5IGJlIHNldCBvbiBNYXBib3ggdmVjdG9yIHRpbGUgc291cmNlcy5cbiAgICAgKiAgVmFsaWQgbGFuZ3VhZ2Ugc3RyaW5ncyBtdXN0IGJlIGEgW0JDUC00NyBsYW5ndWFnZSBjb2RlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JRVRGX2xhbmd1YWdlX3RhZyNMaXN0X29mX3N1YnRhZ3MpLiBVbnN1cHBvcnRlZCBCQ1AtNDcgY29kZXMgd2lsbCBub3QgaW5jbHVkZSBhbnkgdHJhbnNsYXRpb25zLiBJbnZhbGlkIGNvZGVzIHdpbGwgcmVzdWx0IGluIGFuIHJlY292ZXJhYmxlIGVycm9yLlxuICAgICAqICBJZiBhIGxhYmVsIGhhcyBubyB0cmFuc2xhdGlvbiBmb3IgdGhlIHNlbGVjdGVkIGxhbmd1YWdlLCBpdCB3aWxsIGRpc3BsYXkgaW4gdGhlIGxhYmVsJ3MgbG9jYWwgbGFuZ3VhZ2UuXG4gICAgICogIElmIHBhcmFtIGlzIHNldCB0byBgYXV0b2AsIEdMIEpTIHdpbGwgc2VsZWN0IGEgdXNlcidzIHByZWZlcnJlZCBsYW5ndWFnZSBhcyBkZXRlcm1pbmVkIGJ5IHRoZSBicm93c2VyJ3MgW2B3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hdmlnYXRvci9sYW5ndWFnZSkgcHJvcGVydHkuXG4gICAgICogIElmIHRoZSBgbG9jYWxlYCBwcm9wZXJ0eSBpcyBub3Qgc2V0IHNlcGFyYXRlbHksIHRoaXMgbGFuZ3VhZ2Ugd2lsbCBhbHNvIGJlIHVzZWQgdG8gbG9jYWxpemUgdGhlIFVJIGZvciBzdXBwb3J0ZWQgbGFuZ3VhZ2VzLlxuICAgICAqICBJZiBwYXJhbSBpcyBzZXQgdG8gYHVuZGVmaW5lZGAgb3IgYG51bGxgLCBpdCB3aWxsIHJlbW92ZSB0aGUgY3VycmVudCBtYXAgbGFuZ3VhZ2UgYW5kIHJlc2V0IHRoZSBsYW5ndWFnZSB1c2VkIGZvciB0cmFuc2xhdGluZyBtYXAgbGFiZWxzIGFuZCBVSSBjb21wb25lbnRzLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TGFuZ3VhZ2UoJ2VzJyk7XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRMYW5ndWFnZShbJ2VuLUdCJywgJ2VuLVVTJ10pO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TGFuZ3VhZ2UoJ2F1dG8nKTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldExhbmd1YWdlKCk7XG4gICAgICovXG4gICAgc2V0TGFuZ3VhZ2UobGFuZ3VhZ2U/OiAnYXV0bycgfCA/c3RyaW5nIHwgP3N0cmluZ1tdKTogdGhpcyB7XG4gICAgICAgIGNvbnN0IG5ld0xhbmd1YWdlID0gdGhpcy5fcGFyc2VMYW5ndWFnZShsYW5ndWFnZSk7XG4gICAgICAgIGlmICghdGhpcy5zdHlsZSB8fCBuZXdMYW5ndWFnZSA9PT0gdGhpcy5fbGFuZ3VhZ2UpIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZSA9IG5ld0xhbmd1YWdlO1xuXG4gICAgICAgIHRoaXMuc3R5bGUuX3JlbG9hZFNvdXJjZXMoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNvbnRyb2wgb2YgdGhpcy5fY29udHJvbHMpIHtcbiAgICAgICAgICAgIGlmIChjb250cm9sLl9zZXRMYW5ndWFnZSkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2wuX3NldExhbmd1YWdlKHRoaXMuX2xhbmd1YWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvZGUgZm9yIHRoZSBtYXAncyB3b3JsZHZpZXcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1hcCdzIHdvcmxkdmlldyBjb2RlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgd29ybGR2aWV3ID0gbWFwLmdldFdvcmxkdmlldygpO1xuICAgICAqL1xuICAgIGdldFdvcmxkdmlldygpOiA/c3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkdmlldztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAncyB3b3JsZHZpZXcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbd29ybGR2aWV3XSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRlc2lyZWQgd29ybGR2aWV3LlxuICAgICAqICBBIHdvcmxkdmlldyBkZXRlcm1pbmVzIHRoZSB3YXkgdGhhdCBjZXJ0YWluIGRpc3B1dGVkIGJvdW5kYXJpZXMgYXJlIHJlbmRlcmVkLlxuICAgICAqICBWYWxpZCB3b3JsZHZpZXcgc3RyaW5ncyBtdXN0IGJlIGFuIFtJU08gYWxwaGEtMiBjb3VudHJ5IGNvZGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT18zMTY2LTEjQ3VycmVudF9jb2RlcykuXG4gICAgICogIFVuc3VwcG9ydGVkIElTTyBhbHBoYS0yIGNvZGVzIHdpbGwgZmFsbCBiYWNrIHRvIHRoZSBUaWxlSlNPTidzIGRlZmF1bHQgd29ybGR2aWV3LiBJbnZhbGlkIGNvZGVzIHdpbGwgcmVzdWx0IGluIGEgcmVjb3ZlcmFibGUgZXJyb3IuXG4gICAgICogIElmIHBhcmFtIGlzIHNldCB0byBgdW5kZWZpbmVkYCBvciBgbnVsbGAsIGl0IHdpbGwgY2F1c2UgdGhlIG1hcCB0byBmYWxsIGJhY2sgdG8gdGhlIFRpbGVKU09OJ3MgZGVmYXVsdCB3b3JsZHZpZXcuXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRXb3JsZFZpZXcoJ0pQJyk7XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRXb3JsZFZpZXcoKTtcbiAgICAgKi9cbiAgICBzZXRXb3JsZHZpZXcod29ybGR2aWV3PzogP3N0cmluZyk6IHRoaXMge1xuICAgICAgICBpZiAoIXRoaXMuc3R5bGUgfHwgd29ybGR2aWV3ID09PSB0aGlzLl93b3JsZHZpZXcpIHJldHVybiB0aGlzO1xuXG4gICAgICAgIHRoaXMuX3dvcmxkdmlldyA9IHdvcmxkdmlldztcbiAgICAgICAgdGhpcy5zdHlsZS5fcmVsb2FkU291cmNlcygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBAc2VjdGlvbiB7UG9pbnQgY29udmVyc2lvbn0gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBbcHJvamVjdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvcHJvamVjdGlvbi8pIG9iamVjdCB0aGF0IGRlZmluZXMgdGhlIGN1cnJlbnQgbWFwIHByb2plY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvamVjdGlvblNwZWNpZmljYXRpb259IFRoZSBbcHJvamVjdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvcHJvamVjdGlvbi8pIGRlZmluaW5nIHRoZSBjdXJyZW50IG1hcCBwcm9qZWN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgcHJvamVjdGlvbiA9IG1hcC5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICovXG4gICAgZ2V0UHJvamVjdGlvbigpOiBQcm9qZWN0aW9uU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5tZXJjYXRvckZyb21UcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4ge25hbWU6IFwiZ2xvYmVcIiwgY2VudGVyOiBbMCwgMF19O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5nZXRQcm9qZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIG1hcCBbcHJvamVjdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvcHJvamVjdGlvbi8pIGhhcyBiZWVuIHNldCB0byBnbG9iZSBBTkQgdGhlIG1hcCBpcyBhdCBhIGxvdyBlbm91Z2ggem9vbSBsZXZlbCB0aGF0IGdsb2JlIHZpZXcgaXMgZW5hYmxlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBnbG9iZS1pcy1hY3RpdmVgIGJvb2xlYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBpZiAobWFwLl9zaG93aW5nR2xvYmUoKSkge1xuICAgICAqICAgICAvLyBkbyBnbG9iZSB0aGluZ3MgaGVyZVxuICAgICAqIH1cbiAgICAgKi9cbiAgICBfc2hvd2luZ0dsb2JlKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAncyBwcm9qZWN0aW9uLiBJZiBjYWxsZWQgd2l0aCBgbnVsbGAgb3IgYHVuZGVmaW5lZGAsIHRoZSBtYXAgd2lsbCByZXNldCB0byBNZXJjYXRvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UHJvamVjdGlvblNwZWNpZmljYXRpb24gfCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBwcm9qZWN0aW9uIFRoZSBwcm9qZWN0aW9uIHRoYXQgdGhlIG1hcCBzaG91bGQgYmUgcmVuZGVyZWQgaW4uXG4gICAgICogVGhpcyBjYW4gYmUgYSBbcHJvamVjdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvcHJvamVjdGlvbi8pIG9iamVjdCBvciBhIHN0cmluZyBvZiB0aGUgcHJvamVjdGlvbidzIG5hbWUuXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRQcm9qZWN0aW9uKCdhbGJlcnMnKTtcbiAgICAgKiBtYXAuc2V0UHJvamVjdGlvbih7XG4gICAgICogICAgIG5hbWU6ICdhbGJlcnMnLFxuICAgICAqICAgICBjZW50ZXI6IFszNSwgNTVdLFxuICAgICAqICAgICBwYXJhbGxlbHM6IFsyMCwgNjBdXG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHdlYiBtYXAgdXNpbmcgYW4gYWx0ZXJuYXRlIHByb2plY3Rpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL21hcC1wcm9qZWN0aW9uLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBVc2UgZGlmZmVyZW50IG1hcCBwcm9qZWN0aW9ucyBmb3Igd2ViIG1hcHNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3Byb2plY3Rpb25zLylcbiAgICAgKi9cbiAgICBzZXRQcm9qZWN0aW9uKHByb2plY3Rpb24/OiA/UHJvamVjdGlvblNwZWNpZmljYXRpb24gfCBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCk7XG5cbiAgICAgICAgaWYgKCFwcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBwcm9qZWN0aW9uID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvamVjdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHByb2plY3Rpb24gPSAoKHtuYW1lOiBwcm9qZWN0aW9ufTogYW55KTogUHJvamVjdGlvblNwZWNpZmljYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXNlRXhwbGljaXRQcm9qZWN0aW9uID0gISFwcm9qZWN0aW9uO1xuICAgICAgICBjb25zdCBzdHlsZXNoZWV0UHJvamVjdGlvbiA9IHRoaXMuc3R5bGUuc3R5bGVzaGVldCA/IHRoaXMuc3R5bGUuc3R5bGVzaGVldC5wcm9qZWN0aW9uIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKHByb2plY3Rpb24sIHN0eWxlc2hlZXRQcm9qZWN0aW9uKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlUHJvamVjdGlvblRyYW5zaXRpb24oKSB7XG4gICAgICAgIC8vIFRoZSBwcm9qZWN0aW9uIGlzbid0IGdsb2JlLCB3ZSBjYW4gc2tpcCB1cGRhdGluZyB0aGUgdHJhbnNpdGlvblxuICAgICAgICBpZiAodGhpcy5nZXRQcm9qZWN0aW9uKCkubmFtZSAhPT0gJ2dsb2JlJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHRyLnByb2plY3Rpb24ubmFtZTtcbiAgICAgICAgbGV0IHByb2plY3Rpb25IYXNDaGFuZ2VkO1xuXG4gICAgICAgIGlmIChwcm9qZWN0aW9uID09PSAnZ2xvYmUnICYmIHRyLnpvb20gPj0gR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYKSB7XG4gICAgICAgICAgICB0ci5zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICBwcm9qZWN0aW9uSGFzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvamVjdGlvbiA9PT0gJ21lcmNhdG9yJyAmJiB0ci56b29tIDwgR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYKSB7XG4gICAgICAgICAgICB0ci5zZXRQcm9qZWN0aW9uKHtuYW1lOiAnZ2xvYmUnfSk7XG4gICAgICAgICAgICBwcm9qZWN0aW9uSGFzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvamVjdGlvbkhhc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLl9mb3JjZVN5bWJvbExheWVyVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24oZXhwbGljaXRQcm9qZWN0aW9uOiA/UHJvamVjdGlvblNwZWNpZmljYXRpb24sIHN0eWxlUHJvamVjdGlvbjogP1Byb2plY3Rpb25TcGVjaWZpY2F0aW9uKTogdGhpcyB7XG4gICAgICAgIC8vIEdpdmVuIGEgc3R5bGVzaGVldCBhbmQgZXZlbnR1YWwgcnVudGltZSBwcm9qZWN0aW9uLCBpbiBvcmRlciBvZiBwcmlvcml0eSwgd2Ugc2VsZWN0OlxuICAgICAgICAvLyAgMS4gdGhlIGV4cGxpY2l0IHByb2plY3Rpb25cbiAgICAgICAgLy8gIDIuIHRoZSBzdHlsZXNoZWV0IHByb2plY3Rpb25cbiAgICAgICAgLy8gIDMuIG1lcmNhdG9yIChmYWxsYmFjaylcbiAgICAgICAgY29uc3QgcHJpb3JpdGl6ZWRQcm9qZWN0aW9uID0gZXhwbGljaXRQcm9qZWN0aW9uIHx8IHN0eWxlUHJvamVjdGlvbiB8fCB7bmFtZTogXCJtZXJjYXRvclwifTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlUHJvamVjdGlvbihwcmlvcml0aXplZFByb2plY3Rpb24pO1xuICAgIH1cblxuICAgIF91cGRhdGVQcm9qZWN0aW9uKHByb2plY3Rpb246IFByb2plY3Rpb25TcGVjaWZpY2F0aW9uKTogdGhpcyB7XG4gICAgICAgIGxldCBwcm9qZWN0aW9uSGFzQ2hhbmdlZDtcblxuICAgICAgICBpZiAocHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnICYmIHRoaXMudHJhbnNmb3JtLnpvb20gPj0gR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYKSB7XG4gICAgICAgICAgICBwcm9qZWN0aW9uSGFzQ2hhbmdlZCA9IHRoaXMudHJhbnNmb3JtLnNldE1lcmNhdG9yRnJvbVRyYW5zaXRpb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2plY3Rpb25IYXNDaGFuZ2VkID0gdGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3R5bGUuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCk7XG5cbiAgICAgICAgaWYgKHByb2plY3Rpb25IYXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLnBhaW50ZXIuY2xlYXJCYWNrZ3JvdW5kVGlsZXMoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzW2lkXS5jbGVhclRpbGVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLl9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHtAbGluayBQb2ludH0gcmVwcmVzZW50aW5nIHBpeGVsIGNvb3JkaW5hdGVzLCByZWxhdGl2ZSB0byB0aGUgbWFwJ3MgYGNvbnRhaW5lcmAsXG4gICAgICogdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBzcGVjaWZpZWQgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uLlxuICAgICAqXG4gICAgICogV2hlbiB0aGUgbWFwIGlzIHBpdGNoZWQgYW5kIGBsbmdsYXRgIGlzIGNvbXBsZXRlbHkgYmVoaW5kIHRoZSBjYW1lcmEsIHRoZXJlIGFyZSBubyBwaXhlbFxuICAgICAqIGNvb3JkaW5hdGVzIGNvcnJlc3BvbmRpbmcgdG8gdGhhdCBsb2NhdGlvbi4gSW4gdGhhdCBjYXNlLFxuICAgICAqIHRoZSBgeGAgYW5kIGB5YCBjb21wb25lbnRzIG9mIHRoZSByZXR1cm5lZCB7QGxpbmsgUG9pbnR9IGFyZSBzZXQgdG8gTnVtYmVyLk1BWF9WQUxVRS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gbG5nbGF0IFRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb24gdG8gcHJvamVjdC5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFRoZSB7QGxpbmsgUG9pbnR9IGNvcnJlc3BvbmRpbmcgdG8gYGxuZ2xhdGAsIHJlbGF0aXZlIHRvIHRoZSBtYXAncyBgY29udGFpbmVyYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNvb3JkaW5hdGUgPSBbLTEyMi40MjA2NzksIDM3Ljc3MjUzN107XG4gICAgICogY29uc3QgcG9pbnQgPSBtYXAucHJvamVjdChjb29yZGluYXRlKTtcbiAgICAgKi9cbiAgICBwcm9qZWN0KGxuZ2xhdDogTG5nTGF0TGlrZSk6IFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQzRChMbmdMYXQuY29udmVydChsbmdsYXQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEge0BsaW5rIExuZ0xhdH0gcmVwcmVzZW50aW5nIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyB0aGF0IGNvcnJlc3BvbmRcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIHBpeGVsIGNvb3JkaW5hdGVzLiBJZiBob3Jpem9uIGlzIHZpc2libGUsIGFuZCBzcGVjaWZpZWQgcGl4ZWwgaXNcbiAgICAgKiBhYm92ZSBob3Jpem9uLCByZXR1cm5zIGEge0BsaW5rIExuZ0xhdH0gY29ycmVzcG9uZGluZyB0byBwb2ludCBvbiBob3Jpem9uLCBuZWFyZXN0XG4gICAgICogdG8gdGhlIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IHBvaW50IFRoZSBwaXhlbCBjb29yZGluYXRlcyB0byB1bnByb2plY3QuXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIHtAbGluayBMbmdMYXR9IGNvcnJlc3BvbmRpbmcgdG8gYHBvaW50YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAqICAgICAvLyBXaGVuIHRoZSBtYXAgaXMgY2xpY2tlZCwgZ2V0IHRoZSBnZW9ncmFwaGljIGNvb3JkaW5hdGUuXG4gICAgICogICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBtYXAudW5wcm9qZWN0KGUucG9pbnQpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHVucHJvamVjdChwb2ludDogUG9pbnRMaWtlKTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChQb2ludC5jb252ZXJ0KHBvaW50KSk7XG4gICAgfVxuXG4gICAgLyoqIEBzZWN0aW9uIHtNb3ZlbWVudCBzdGF0ZX0gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbWFwIGlzIHBhbm5pbmcsIHpvb21pbmcsIHJvdGF0aW5nLCBvciBwaXRjaGluZyBkdWUgdG8gYSBjYW1lcmEgYW5pbWF0aW9uIG9yIHVzZXIgZ2VzdHVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBtYXAgaXMgbW92aW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaXNNb3ZpbmcgPSBtYXAuaXNNb3ZpbmcoKTtcbiAgICAgKi9cbiAgICBpc01vdmluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vdmluZyB8fCAodGhpcy5oYW5kbGVycyAmJiB0aGlzLmhhbmRsZXJzLmlzTW92aW5nKCkpIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbWFwIGlzIHpvb21pbmcgZHVlIHRvIGEgY2FtZXJhIGFuaW1hdGlvbiBvciB1c2VyIGdlc3R1cmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWFwIGlzIHpvb21pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc1pvb21pbmcgPSBtYXAuaXNab29taW5nKCk7XG4gICAgICovXG4gICAgaXNab29taW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fem9vbWluZyB8fCAodGhpcy5oYW5kbGVycyAmJiB0aGlzLmhhbmRsZXJzLmlzWm9vbWluZygpKSB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG1hcCBpcyByb3RhdGluZyBkdWUgdG8gYSBjYW1lcmEgYW5pbWF0aW9uIG9yIHVzZXIgZ2VzdHVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBtYXAgaXMgcm90YXRpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuaXNSb3RhdGluZygpO1xuICAgICAqL1xuICAgIGlzUm90YXRpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGluZyB8fCAodGhpcy5oYW5kbGVycyAmJiB0aGlzLmhhbmRsZXJzLmlzUm90YXRpbmcoKSkgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgX2lzRHJhZ2dpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodGhpcy5oYW5kbGVycyAmJiB0aGlzLmhhbmRsZXJzLl9pc0RyYWdnaW5nKCkpIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIF9jcmVhdGVEZWxlZ2F0ZWRMaXN0ZW5lcih0eXBlOiBNYXBFdmVudCwgbGF5ZXJzOiBBcnJheTxhbnk+LCBsaXN0ZW5lcjogYW55KTogYW55IHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09PSAnbW91c2VvdmVyJykge1xuICAgICAgICAgICAgbGV0IG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlbW92ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRMYXllcnMgPSBsYXllcnMuZmlsdGVyKGxheWVySWQgPT4gdGhpcy5nZXRMYXllcihsYXllcklkKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBmaWx0ZXJlZExheWVycy5sZW5ndGggPyB0aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50LCB7bGF5ZXJzOiBmaWx0ZXJlZExheWVyc30pIDogW107XG4gICAgICAgICAgICAgICAgaWYgKCFmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIW1vdXNlaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgbmV3IE1hcE1vdXNlRXZlbnQodHlwZSwgdGhpcywgZS5vcmlnaW5hbEV2ZW50LCB7ZmVhdHVyZXN9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlb3V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiB7bGF5ZXJzOiBuZXcgU2V0KGxheWVycyksIGxpc3RlbmVyLCBkZWxlZ2F0ZXM6IHttb3VzZW1vdmUsIG1vdXNlb3V0fX07XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21vdXNlbGVhdmUnIHx8IHR5cGUgPT09ICdtb3VzZW91dCcpIHtcbiAgICAgICAgICAgIGxldCBtb3VzZWluID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBtb3VzZW1vdmUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkTGF5ZXJzID0gbGF5ZXJzLmZpbHRlcihsYXllcklkID0+IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gZmlsdGVyZWRMYXllcnMubGVuZ3RoID8gdGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCwge2xheWVyczogZmlsdGVyZWRMYXllcnN9KSA6IFtdO1xuICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb3VzZWluKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgTWFwTW91c2VFdmVudCh0eXBlLCB0aGlzLCBlLm9yaWdpbmFsRXZlbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbW91c2VvdXQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChtb3VzZWluKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgTWFwTW91c2VFdmVudCh0eXBlLCB0aGlzLCBlLm9yaWdpbmFsRXZlbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4ge2xheWVyczogbmV3IFNldChsYXllcnMpLCBsaXN0ZW5lciwgZGVsZWdhdGVzOiB7bW91c2Vtb3ZlLCBtb3VzZW91dH19O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZGVsZWdhdGUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkTGF5ZXJzID0gbGF5ZXJzLmZpbHRlcihsYXllcklkID0+IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gZmlsdGVyZWRMYXllcnMubGVuZ3RoID8gdGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCwge2xheWVyczogZmlsdGVyZWRMYXllcnN9KSA6IFtdO1xuICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGVyZSB3ZSBuZWVkIHRvIG11dGF0ZSB0aGUgb3JpZ2luYWwgZXZlbnQsIHNvIHRoYXQgcHJldmVudERlZmF1bHQgd29ya3MgYXMgZXhwZWN0ZWQuXG4gICAgICAgICAgICAgICAgICAgIGUuZmVhdHVyZXMgPSBmZWF0dXJlcztcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGUuZmVhdHVyZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIHtsYXllcnM6IG5ldyBTZXQobGF5ZXJzKSwgbGlzdGVuZXIsIGRlbGVnYXRlczoge1sodHlwZTogc3RyaW5nKV06IGRlbGVnYXRlfX07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge1dvcmtpbmcgd2l0aCBldmVudHN9ICovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgZm9yIGV2ZW50cyBvZiBhIHNwZWNpZmllZCB0eXBlLFxuICAgICAqIG9wdGlvbmFsbHkgbGltaXRlZCB0byBmZWF0dXJlcyBpbiBhIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlIHRvIGxpc3RlbiBmb3IuIEV2ZW50cyBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkYCBwYXJhbWV0ZXIgYXJlIHRyaWdnZXJlZFxuICAgICAqIHdoZW4gdGhlIGN1cnNvciBlbnRlcnMgYSB2aXNpYmxlIHBvcnRpb24gb2YgdGhlIHNwZWNpZmllZCBsYXllciBmcm9tIG91dHNpZGUgdGhhdCBsYXllciBvciBvdXRzaWRlIHRoZSBtYXAgY2FudmFzLlxuICAgICAqXG4gICAgICogfCBFdmVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBDb21wYXRpYmxlIHdpdGggYGxheWVySWRgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgW2Btb3VzZWRvd25gXSgjbWFwLmV2ZW50Om1vdXNlZG93bikgICAgICAgICAgICAgICAgICAgICAgIHwgeWVzICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYG1vdXNldXBgXSgjbWFwLmV2ZW50Om1vdXNldXApICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB5ZXMgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgbW91c2VvdmVyYF0oI21hcC5ldmVudDptb3VzZW92ZXIpICAgICAgICAgICAgICAgICAgICAgICB8IHllcyAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2Btb3VzZW91dGBdKCNtYXAuZXZlbnQ6bW91c2VvdXQpICAgICAgICAgICAgICAgICAgICAgICAgIHwgeWVzICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYG1vdXNlbW92ZWBdKCNtYXAuZXZlbnQ6bW91c2Vtb3ZlKSAgICAgICAgICAgICAgICAgICAgICAgfCB5ZXMgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgbW91c2VlbnRlcmBdKCNtYXAuZXZlbnQ6bW91c2VlbnRlcikgICAgICAgICAgICAgICAgICAgICB8IHllcyAocmVxdWlyZWQpICAgICAgICAgICAgfFxuICAgICAqIHwgW2Btb3VzZWxlYXZlYF0oI21hcC5ldmVudDptb3VzZWxlYXZlKSAgICAgICAgICAgICAgICAgICAgIHwgeWVzIChyZXF1aXJlZCkgICAgICAgICAgICB8XG4gICAgICogfCBbYHByZWNsaWNrYF0oI21hcC5ldmVudDpwcmVjbGljaykgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgY2xpY2tgXSgjbWFwLmV2ZW50OmNsaWNrKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHllcyAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2BkYmxjbGlja2BdKCNtYXAuZXZlbnQ6ZGJsY2xpY2spICAgICAgICAgICAgICAgICAgICAgICAgIHwgeWVzICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYGNvbnRleHRtZW51YF0oI21hcC5ldmVudDpjb250ZXh0bWVudSkgICAgICAgICAgICAgICAgICAgfCB5ZXMgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgdG91Y2hzdGFydGBdKCNtYXAuZXZlbnQ6dG91Y2hzdGFydCkgICAgICAgICAgICAgICAgICAgICB8IHllcyAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2B0b3VjaGVuZGBdKCNtYXAuZXZlbnQ6dG91Y2hlbmQpICAgICAgICAgICAgICAgICAgICAgICAgIHwgeWVzICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHRvdWNoY2FuY2VsYF0oI21hcC5ldmVudDp0b3VjaGNhbmNlbCkgICAgICAgICAgICAgICAgICAgfCB5ZXMgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgd2hlZWxgXSgjbWFwLmV2ZW50OndoZWVsKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2ByZXNpemVgXSgjbWFwLmV2ZW50OnJlc2l6ZSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHJlbW92ZWBdKCNtYXAuZXZlbnQ6cmVtb3ZlKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgdG91Y2htb3ZlYF0oI21hcC5ldmVudDp0b3VjaG1vdmUpICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2Btb3Zlc3RhcnRgXSgjbWFwLmV2ZW50Om1vdmVzdGFydCkgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYG1vdmVgXSgjbWFwLmV2ZW50Om1vdmUpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgbW92ZWVuZGBdKCNtYXAuZXZlbnQ6bW92ZWVuZCkgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2BkcmFnc3RhcnRgXSgjbWFwLmV2ZW50OmRyYWdzdGFydCkgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYGRyYWdgXSgjbWFwLmV2ZW50OmRyYWcpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgZHJhZ2VuZGBdKCNtYXAuZXZlbnQ6ZHJhZ2VuZCkgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2B6b29tc3RhcnRgXSgjbWFwLmV2ZW50Onpvb21zdGFydCkgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHpvb21gXSgjbWFwLmV2ZW50Onpvb20pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgem9vbWVuZGBdKCNtYXAuZXZlbnQ6em9vbWVuZCkgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2Byb3RhdGVzdGFydGBdKCNtYXAuZXZlbnQ6cm90YXRlc3RhcnQpICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHJvdGF0ZWBdKCNtYXAuZXZlbnQ6cm90YXRlKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgcm90YXRlZW5kYF0oI21hcC5ldmVudDpyb3RhdGVlbmQpICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2BwaXRjaHN0YXJ0YF0oI21hcC5ldmVudDpwaXRjaHN0YXJ0KSAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHBpdGNoYF0oI21hcC5ldmVudDpwaXRjaCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgcGl0Y2hlbmRgXSgjbWFwLmV2ZW50OnBpdGNoZW5kKSAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2Bib3h6b29tc3RhcnRgXSgjbWFwLmV2ZW50OmJveHpvb21zdGFydCkgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYGJveHpvb21lbmRgXSgjbWFwLmV2ZW50OmJveHpvb21lbmQpICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgYm94em9vbWNhbmNlbGBdKCNtYXAuZXZlbnQ6Ym94em9vbWNhbmNlbCkgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2B3ZWJnbGNvbnRleHRsb3N0YF0oI21hcC5ldmVudDp3ZWJnbGNvbnRleHRsb3N0KSAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHdlYmdsY29udGV4dHJlc3RvcmVkYF0oI21hcC5ldmVudDp3ZWJnbGNvbnRleHRyZXN0b3JlZCkgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgbG9hZGBdKCNtYXAuZXZlbnQ6bG9hZCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2ByZW5kZXJgXSgjbWFwLmV2ZW50OnJlbmRlcikgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYGlkbGVgXSgjbWFwLmV2ZW50OmlkbGUpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgZXJyb3JgXSgjbWFwLmV2ZW50OmVycm9yKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2BkYXRhYF0oI21hcC5ldmVudDpkYXRhKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHN0eWxlZGF0YWBdKCNtYXAuZXZlbnQ6c3R5bGVkYXRhKSAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgc291cmNlZGF0YWBdKCNtYXAuZXZlbnQ6c291cmNlZGF0YSkgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2BkYXRhbG9hZGluZ2BdKCNtYXAuZXZlbnQ6ZGF0YWxvYWRpbmcpICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHN0eWxlZGF0YWxvYWRpbmdgXSgjbWFwLmV2ZW50OnN0eWxlZGF0YWxvYWRpbmcpICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgc291cmNlZGF0YWxvYWRpbmdgXSgjbWFwLmV2ZW50OnNvdXJjZWRhdGFsb2FkaW5nKSAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2BzdHlsZWltYWdlbWlzc2luZ2BdKCNtYXAuZXZlbnQ6c3R5bGVpbWFnZW1pc3NpbmcpICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHN0eWxlLmxvYWRgXSgjbWFwLmV2ZW50OnN0eWxlLmxvYWQpICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgQXJyYXk8c3RyaW5nPn0gbGF5ZXJJZHMgKG9wdGlvbmFsKSBUaGUgSUQocykgb2YgYSBzdHlsZSBsYXllcihzKS4gSWYgeW91IHByb3ZpZGUgYSBgbGF5ZXJJZGAsXG4gICAgICogdGhlIGxpc3RlbmVyIHdpbGwgYmUgdHJpZ2dlcmVkIG9ubHkgaWYgaXRzIGxvY2F0aW9uIGlzIHdpdGhpbiBhIHZpc2libGUgZmVhdHVyZSBpbiB0aGVzZSBsYXllcnMsXG4gICAgICogYW5kIHRoZSBldmVudCB3aWxsIGhhdmUgYSBgZmVhdHVyZXNgIHByb3BlcnR5IGNvbnRhaW5pbmcgYW4gYXJyYXkgb2YgdGhlIG1hdGNoaW5nIGZlYXR1cmVzLlxuICAgICAqIElmIHlvdSBkbyBub3QgcHJvdmlkZSBgbGF5ZXJJZHNgLCB0aGUgbGlzdGVuZXIgd2lsbCBiZSB0cmlnZ2VyZWQgYnkgYSBjb3JyZXNwb25kaW5nIGV2ZW50XG4gICAgICogaGFwcGVuaW5nIGFueXdoZXJlIG9uIHRoZSBtYXAsIGFuZCB0aGUgZXZlbnQgd2lsbCBub3QgaGF2ZSBhIGBmZWF0dXJlc2AgcHJvcGVydHkuXG4gICAgICogTm90ZSB0aGF0IG1hbnkgZXZlbnQgdHlwZXMgYXJlIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkc2AgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IHdpbGwgZmlyZVxuICAgICAqIC8vIHdoZW4gdGhlIG1hcCBoYXMgZmluaXNoZWQgbG9hZGluZy5cbiAgICAgKiBtYXAub24oJ2xvYWQnLCAoKSA9PiB7XG4gICAgICogICAgIC8vIEFkZCBhIG5ldyBsYXllci5cbiAgICAgKiAgICAgbWFwLmFkZExheWVyKHtcbiAgICAgKiAgICAgICAgIGlkOiAncG9pbnRzLW9mLWludGVyZXN0JyxcbiAgICAgKiAgICAgICAgIHNvdXJjZToge1xuICAgICAqICAgICAgICAgICAgIHR5cGU6ICd2ZWN0b3InLFxuICAgICAqICAgICAgICAgICAgIHVybDogJ21hcGJveDovL21hcGJveC5tYXBib3gtc3RyZWV0cy12OCdcbiAgICAgKiAgICAgICAgIH0sXG4gICAgICogICAgICAgICAnc291cmNlLWxheWVyJzogJ3BvaV9sYWJlbCcsXG4gICAgICogICAgICAgICB0eXBlOiAnY2lyY2xlJyxcbiAgICAgKiAgICAgICAgIHBhaW50OiB7XG4gICAgICogICAgICAgICAgICAgLy8gTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb24gcGFpbnQgcHJvcGVydGllc1xuICAgICAqICAgICAgICAgfSxcbiAgICAgKiAgICAgICAgIGxheW91dDoge1xuICAgICAqICAgICAgICAgICAgIC8vIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uIGxheW91dCBwcm9wZXJ0aWVzXG4gICAgICogICAgICAgICB9XG4gICAgICogICAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgd2lsbCBmaXJlXG4gICAgICogLy8gd2hlbiBhIGZlYXR1cmUgb24gdGhlIGNvdW50cmllcyBsYXllciBvZiB0aGUgbWFwIGlzIGNsaWNrZWQuXG4gICAgICogbWFwLm9uKCdjbGljaycsICdjb3VudHJpZXMnLCAoZSkgPT4ge1xuICAgICAqICAgICBuZXcgbWFwYm94Z2wuUG9wdXAoKVxuICAgICAqICAgICAgICAgLnNldExuZ0xhdChlLmxuZ0xhdClcbiAgICAgKiAgICAgICAgIC5zZXRIVE1MKGBDb3VudHJ5IG5hbWU6ICR7ZS5mZWF0dXJlc1swXS5wcm9wZXJ0aWVzLm5hbWV9YClcbiAgICAgKiAgICAgICAgIC5hZGRUbyhtYXApO1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgd2lsbCBmaXJlXG4gICAgICogLy8gd2hlbiBhIGZlYXR1cmUgb24gdGhlIGNvdW50cmllcyBvciBiYWNrZ3JvdW5kIGxheWVycyBvZiB0aGUgbWFwIGlzIGNsaWNrZWQuXG4gICAgICogbWFwLm9uKCdjbGljaycsIFsnY291bnRyaWVzJywgJ2JhY2tncm91bmQnXSwgKGUpID0+IHtcbiAgICAgKiAgICAgbmV3IG1hcGJveGdsLlBvcHVwKClcbiAgICAgKiAgICAgICAgIC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gICAgICogICAgICAgICAuc2V0SFRNTChgQ291bnRyeSBuYW1lOiAke2UuZmVhdHVyZXNbMF0ucHJvcGVydGllcy5uYW1lfWApXG4gICAgICogICAgICAgICAuYWRkVG8obWFwKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgM0QgdGVycmFpbiB0byBhIG1hcF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLXRlcnJhaW4vKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IENlbnRlciB0aGUgbWFwIG9uIGEgY2xpY2tlZCBzeW1ib2xdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NlbnRlci1vbi1zeW1ib2wvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IENyZWF0ZSBhIGRyYWdnYWJsZSBtYXJrZXJdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgaG92ZXIgZWZmZWN0XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9ob3Zlci1zdHlsZXMvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IERpc3BsYXkgcG9wdXAgb24gY2xpY2tdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWNsaWNrLylcbiAgICAgKi9cbiAgICBvbih0eXBlOiBNYXBFdmVudCwgbGF5ZXJJZHM6IGFueSwgbGlzdGVuZXI6IGFueSk6IHRoaXMge1xuICAgICAgICBpZiAobGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLm9uKHR5cGUsIGxheWVySWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShsYXllcklkcykpIHtcbiAgICAgICAgICAgIGxheWVySWRzID0gW2xheWVySWRzXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWxlZ2F0ZWRMaXN0ZW5lciA9IHRoaXMuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKHR5cGUsIGxheWVySWRzLCBsaXN0ZW5lcik7XG5cbiAgICAgICAgdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzID0gdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzIHx8IHt9O1xuICAgICAgICB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdHlwZV0gPSB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdHlwZV0gfHwgW107XG4gICAgICAgIHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0eXBlXS5wdXNoKGRlbGVnYXRlZExpc3RlbmVyKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IGluIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlcykge1xuICAgICAgICAgICAgdGhpcy5vbigoZXZlbnQ6IGFueSksIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlc1tldmVudF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBjYWxsZWQgb25seSBvbmNlIHRvIGEgc3BlY2lmaWVkIGV2ZW50IHR5cGUsXG4gICAgICogb3B0aW9uYWxseSBsaW1pdGVkIHRvIGV2ZW50cyBvY2N1cnJpbmcgb24gZmVhdHVyZXMgaW4gYSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yOyBvbmUgb2YgYCdtb3VzZWRvd24nYCwgYCdtb3VzZXVwJ2AsIGAncHJlY2xpY2snYCwgYCdjbGljaydgLCBgJ2RibGNsaWNrJ2AsXG4gICAgICogYCdtb3VzZW1vdmUnYCwgYCdtb3VzZWVudGVyJ2AsIGAnbW91c2VsZWF2ZSdgLCBgJ21vdXNlb3ZlcidgLCBgJ21vdXNlb3V0J2AsIGAnY29udGV4dG1lbnUnYCwgYCd0b3VjaHN0YXJ0J2AsXG4gICAgICogYCd0b3VjaGVuZCdgLCBvciBgJ3RvdWNoY2FuY2VsJ2AuIGBtb3VzZWVudGVyYCBhbmQgYG1vdXNlb3ZlcmAgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgY3Vyc29yIGVudGVyc1xuICAgICAqIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSBzcGVjaWZpZWQgbGF5ZXIgZnJvbSBvdXRzaWRlIHRoYXQgbGF5ZXIgb3Igb3V0c2lkZSB0aGUgbWFwIGNhbnZhcy4gYG1vdXNlbGVhdmVgXG4gICAgICogYW5kIGBtb3VzZW91dGAgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgY3Vyc29yIGxlYXZlcyBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgc3BlY2lmaWVkIGxheWVyLCBvciBsZWF2ZXNcbiAgICAgKiB0aGUgbWFwIGNhbnZhcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IEFycmF5PHN0cmluZz59IGxheWVySWRzIChvcHRpb25hbCkgVGhlIElEKHMpIG9mIGEgc3R5bGUgbGF5ZXIocykuIElmIHlvdSBwcm92aWRlIGBsYXllcklkc2AsXG4gICAgICogdGhlIGxpc3RlbmVyIHdpbGwgYmUgdHJpZ2dlcmVkIG9ubHkgaWYgaXRzIGxvY2F0aW9uIGlzIHdpdGhpbiBhIHZpc2libGUgZmVhdHVyZSBpbiB0aGVzZSBsYXllcnMsXG4gICAgICogYW5kIHRoZSBldmVudCB3aWxsIGhhdmUgYSBgZmVhdHVyZXNgIHByb3BlcnR5IGNvbnRhaW5pbmcgYW4gYXJyYXkgb2YgdGhlIG1hdGNoaW5nIGZlYXR1cmVzLlxuICAgICAqIElmIHlvdSBkbyBub3QgcHJvdmlkZSBgbGF5ZXJJZHNgLCB0aGUgbGlzdGVuZXIgd2lsbCBiZSB0cmlnZ2VyZWQgYnkgYSBjb3JyZXNwb25kaW5nIGV2ZW50XG4gICAgICogaGFwcGVuaW5nIGFueXdoZXJlIG9uIHRoZSBtYXAsIGFuZCB0aGUgZXZlbnQgd2lsbCBub3QgaGF2ZSBhIGBmZWF0dXJlc2AgcHJvcGVydHkuXG4gICAgICogTm90ZSB0aGF0IG1hbnkgZXZlbnQgdHlwZXMgYXJlIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkc2AgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIExvZyB0aGUgY29vcmRpbmF0ZXMgb2YgYSB1c2VyJ3MgZmlyc3QgbWFwIHRvdWNoLlxuICAgICAqIG1hcC5vbmNlKCd0b3VjaHN0YXJ0JywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFRoZSBmaXJzdCBtYXAgdG91Y2ggd2FzIGF0OiAke2UubG5nbGF0fWApO1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gTG9nIHRoZSBjb29yZGluYXRlcyBvZiBhIHVzZXIncyBmaXJzdCBtYXAgdG91Y2hcbiAgICAgKiAvLyBvbiBhIHNwZWNpZmljIGxheWVyLlxuICAgICAqIG1hcC5vbmNlKCd0b3VjaHN0YXJ0JywgJ215LXBvaW50LWxheWVyJywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFRoZSBmaXJzdCBtYXAgdG91Y2ggb24gdGhlIHBvaW50IGxheWVyIHdhcyBhdDogJHtlLmxuZ2xhdH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIExvZyB0aGUgY29vcmRpbmF0ZXMgb2YgYSB1c2VyJ3MgZmlyc3QgbWFwIHRvdWNoXG4gICAgICogLy8gb24gc3BlY2lmaWMgbGF5ZXJzLlxuICAgICAqIG1hcC5vbmNlKCd0b3VjaHN0YXJ0JywgWydteS1wb2ludC1sYXllcicsICdteS1wb2ludC1sYXllci0yJ10sIChlKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBUaGUgZmlyc3QgbWFwIHRvdWNoIG9uIHRoZSBwb2ludCBsYXllciB3YXMgYXQ6ICR7ZS5sbmdsYXR9YCk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IEFuaW1hdGUgdGhlIGNhbWVyYSBhcm91bmQgYSBwb2ludCB3aXRoIDNEIHRlcnJhaW5dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ZyZWUtY2FtZXJhLXBvaW50LylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBQbGF5IG1hcCBsb2NhdGlvbnMgYXMgYSBzbGlkZXNob3ddKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BsYXliYWNrLWxvY2F0aW9ucy8pXG4gICAgICovXG4gICAgb25jZSh0eXBlOiBNYXBFdmVudCwgbGF5ZXJJZHM6IGFueSwgbGlzdGVuZXI6IGFueSk6IHRoaXMgfCBQcm9taXNlPEV2ZW50PiB7XG5cbiAgICAgICAgaWYgKGxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5vbmNlKHR5cGUsIGxheWVySWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShsYXllcklkcykpIHtcbiAgICAgICAgICAgIGxheWVySWRzID0gW2xheWVySWRzXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWxlZ2F0ZWRMaXN0ZW5lciA9IHRoaXMuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKHR5cGUsIGxheWVySWRzLCBsaXN0ZW5lcik7XG5cbiAgICAgICAgZm9yIChjb25zdCBldmVudCBpbiBkZWxlZ2F0ZWRMaXN0ZW5lci5kZWxlZ2F0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMub25jZSgoZXZlbnQ6IGFueSksIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlc1tldmVudF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBwcmV2aW91c2x5IGFkZGVkIHdpdGgge0BsaW5rIE1hcCNvbn0sXG4gICAgICogb3B0aW9uYWxseSBsaW1pdGVkIHRvIGxheWVyLXNwZWNpZmljIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlIHByZXZpb3VzbHkgdXNlZCB0byBpbnN0YWxsIHRoZSBsaXN0ZW5lci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IEFycmF5PHN0cmluZz59IGxheWVySWRzIChvcHRpb25hbCkgVGhlIGxheWVyIElEKHMpIHByZXZpb3VzbHkgdXNlZCB0byBpbnN0YWxsIHRoZSBsaXN0ZW5lci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgZnVuY3Rpb24gcHJldmlvdXNseSBpbnN0YWxsZWQgYXMgYSBsaXN0ZW5lci5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgZnVuY3Rpb24gdG8gcHJpbnQgY29vcmRpbmF0ZXMgd2hpbGUgYSBtb3VzZSBpcyBtb3ZpbmcuXG4gICAgICogZnVuY3Rpb24gb25Nb3ZlKGUpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFRoZSBtb3VzZSBpcyBtb3Zpbmc6ICR7ZS5sbmdMYXR9YCk7XG4gICAgICogfVxuICAgICAqIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIHRvIHVuYmluZCB0aGUgYG1vdXNlbW92ZWAgZXZlbnQuXG4gICAgICogZnVuY3Rpb24gb25VcChlKSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBUaGUgZmluYWwgY29vcmRpbmF0ZXMgYXJlOiAke2UubG5nTGF0fWApO1xuICAgICAqICAgICBtYXAub2ZmKCdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgICAqIH1cbiAgICAgKiAvLyBXaGVuIGEgY2xpY2sgb2NjdXJzLCBiaW5kIGJvdGggZnVuY3Rpb25zIHRvIG1vdXNlIGV2ZW50cy5cbiAgICAgKiBtYXAub24oJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICogICAgIG1hcC5vbignbW91c2Vtb3ZlJywgb25Nb3ZlKTtcbiAgICAgKiAgICAgbWFwLm9uY2UoJ21vdXNldXAnLCBvblVwKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYSBkcmFnZ2FibGUgcG9pbnRdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICovXG4gICAgb2ZmKHR5cGU6IE1hcEV2ZW50LCBsYXllcklkczogYW55LCBsaXN0ZW5lcjogYW55KTogdGhpcyB7XG4gICAgICAgIGlmIChsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIub2ZmKHR5cGUsIGxheWVySWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxheWVySWRzID0gbmV3IFNldChBcnJheS5pc0FycmF5KGxheWVySWRzKSA/IGxheWVySWRzIDogW2xheWVySWRzXSk7XG4gICAgICAgIGNvbnN0IGFyZUxheWVyQXJyYXlzRXF1YWwgPSAoaGFzaDEsIGhhc2gyKSA9PiB7XG4gICAgICAgICAgICBpZiAoaGFzaDEuc2l6ZSAhPT0gaGFzaDIuc2l6ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gYXQtbGVhc3QgMSBhcnIgaGFzIGR1cGxpY2F0ZSB2YWx1ZShzKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb21wYXJpbmcgdmFsdWVzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGhhc2gxKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNoMi5oYXModmFsdWUpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZW1vdmVEZWxlZ2F0ZWRMaXN0ZW5lcnMgPSAobGlzdGVuZXJzOiBBcnJheTxhbnk+KSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGVnYXRlZExpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZWRMaXN0ZW5lci5saXN0ZW5lciA9PT0gbGlzdGVuZXIgJiYgYXJlTGF5ZXJBcnJheXNFcXVhbChkZWxlZ2F0ZWRMaXN0ZW5lci5sYXllcnMsIGxheWVySWRzKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IGluIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmYoKGV2ZW50OiBhbnkpLCBkZWxlZ2F0ZWRMaXN0ZW5lci5kZWxlZ2F0ZXNbZXZlbnRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZGVsZWdhdGVkTGlzdGVuZXJzID0gdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzID8gdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3R5cGVdIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoZGVsZWdhdGVkTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZW1vdmVEZWxlZ2F0ZWRMaXN0ZW5lcnMoZGVsZWdhdGVkTGlzdGVuZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBAc2VjdGlvbiB7UXVlcnlpbmcgZmVhdHVyZXN9ICovXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIFtHZW9KU09OXShodHRwOi8vZ2VvanNvbi5vcmcvKVxuICAgICAqIFtGZWF0dXJlIG9iamVjdHNdKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3OTQ2I3NlY3Rpb24tMy4yKVxuICAgICAqIHJlcHJlc2VudGluZyB2aXNpYmxlIGZlYXR1cmVzIHRoYXQgc2F0aXNmeSB0aGUgcXVlcnkgcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UG9pbnRMaWtlfEFycmF5PFBvaW50TGlrZT59IFtnZW9tZXRyeV0gLSBUaGUgZ2VvbWV0cnkgb2YgdGhlIHF1ZXJ5IHJlZ2lvbiBpbiBwaXhlbHM6XG4gICAgICogZWl0aGVyIGEgc2luZ2xlIHBvaW50IG9yIGJvdHRvbSBsZWZ0IGFuZCB0b3AgcmlnaHQgcG9pbnRzIGRlc2NyaWJpbmcgYSBib3VuZGluZyBib3gsIHdoZXJlIHRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcCBsZWZ0LlxuICAgICAqIE9taXR0aW5nIHRoaXMgcGFyYW1ldGVyIChieSBjYWxsaW5nIHtAbGluayBNYXAjcXVlcnlSZW5kZXJlZEZlYXR1cmVzfSB3aXRoIHplcm8gYXJndW1lbnRzLFxuICAgICAqIG9yIHdpdGggb25seSBhbiBgb3B0aW9uc2AgYXJndW1lbnQpIGlzIGVxdWl2YWxlbnQgdG8gcGFzc2luZyBhIGJvdW5kaW5nIGJveCBlbmNvbXBhc3NpbmcgdGhlIGVudGlyZVxuICAgICAqIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBPbmx5IHZhbHVlcyB3aXRoaW4gdGhlIGV4aXN0aW5nIHZpZXdwb3J0IGFyZSBzdXBwb3J0ZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtvcHRpb25zLmxheWVyc10gQW4gYXJyYXkgb2YgW3N0eWxlIGxheWVyIElEc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvI2xheWVyLWlkKSBmb3IgdGhlIHF1ZXJ5IHRvIGluc3BlY3QuXG4gICAgICogICBPbmx5IGZlYXR1cmVzIHdpdGhpbiB0aGVzZSBsYXllcnMgd2lsbCBiZSByZXR1cm5lZC4gSWYgdGhpcyBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkLCBhbGwgbGF5ZXJzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5maWx0ZXJdIEEgW2ZpbHRlcl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvbGF5ZXJzLyNmaWx0ZXIpXG4gICAgICogICB0byBsaW1pdCBxdWVyeSByZXN1bHRzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudmFsaWRhdGU9dHJ1ZV0gV2hldGhlciB0byBjaGVjayBpZiB0aGUgW29wdGlvbnMuZmlsdGVyXSBjb25mb3JtcyB0byB0aGUgTWFwYm94IEdMIFN0eWxlIFNwZWNpZmljYXRpb24uIERpc2FibGluZyB2YWxpZGF0aW9uIGlzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRoYXQgc2hvdWxkIG9ubHkgYmUgdXNlZCBpZiB5b3UgaGF2ZSBwcmV2aW91c2x5IHZhbGlkYXRlZCB0aGUgdmFsdWVzIHlvdSB3aWxsIGJlIHBhc3NpbmcgdG8gdGhpcyBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fSBBbiBhcnJheSBvZiBbR2VvSlNPTl0oaHR0cDovL2dlb2pzb24ub3JnLylcbiAgICAgKiBbZmVhdHVyZSBvYmplY3RzXShodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzk0NiNzZWN0aW9uLTMuMikuXG4gICAgICpcbiAgICAgKiBUaGUgYHByb3BlcnRpZXNgIHZhbHVlIG9mIGVhY2ggcmV0dXJuZWQgZmVhdHVyZSBvYmplY3QgY29udGFpbnMgdGhlIHByb3BlcnRpZXMgb2YgaXRzIHNvdXJjZSBmZWF0dXJlLiBGb3IgR2VvSlNPTiBzb3VyY2VzLCBvbmx5XG4gICAgICogc3RyaW5nIGFuZCBudW1lcmljIHByb3BlcnR5IHZhbHVlcyBhcmUgc3VwcG9ydGVkLiBgbnVsbGAsIGBBcnJheWAsIGFuZCBgT2JqZWN0YCB2YWx1ZXMgYXJlIG5vdCBzdXBwb3J0ZWQuXG4gICAgICpcbiAgICAgKiBFYWNoIGZlYXR1cmUgaW5jbHVkZXMgdG9wLWxldmVsIGBsYXllcmAsIGBzb3VyY2VgLCBhbmQgYHNvdXJjZUxheWVyYCBwcm9wZXJ0aWVzLiBUaGUgYGxheWVyYCBwcm9wZXJ0eSBpcyBhbiBvYmplY3RcbiAgICAgKiByZXByZXNlbnRpbmcgdGhlIHN0eWxlIGxheWVyIHRvICB3aGljaCB0aGUgZmVhdHVyZSBiZWxvbmdzLiBMYXlvdXQgYW5kIHBhaW50IHByb3BlcnRpZXMgaW4gdGhpcyBvYmplY3QgY29udGFpbiB2YWx1ZXNcbiAgICAgKiB3aGljaCBhcmUgZnVsbHkgZXZhbHVhdGVkIGZvciB0aGUgZ2l2ZW4gem9vbSBsZXZlbCBhbmQgZmVhdHVyZS5cbiAgICAgKlxuICAgICAqIE9ubHkgZmVhdHVyZXMgdGhhdCBhcmUgY3VycmVudGx5IHJlbmRlcmVkIGFyZSBpbmNsdWRlZC4gU29tZSBmZWF0dXJlcyB3aWxsICoqbm90KiogYmUgaW5jbHVkZWQsIGxpa2U6XG4gICAgICpcbiAgICAgKiAtIEZlYXR1cmVzIGZyb20gbGF5ZXJzIHdob3NlIGB2aXNpYmlsaXR5YCBwcm9wZXJ0eSBpcyBgXCJub25lXCJgLlxuICAgICAqIC0gRmVhdHVyZXMgZnJvbSBsYXllcnMgd2hvc2Ugem9vbSByYW5nZSBleGNsdWRlcyB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqIC0gU3ltYm9sIGZlYXR1cmVzIHRoYXQgaGF2ZSBiZWVuIGhpZGRlbiBkdWUgdG8gdGV4dCBvciBpY29uIGNvbGxpc2lvbi5cbiAgICAgKlxuICAgICAqIEZlYXR1cmVzIGZyb20gYWxsIG90aGVyIGxheWVycyBhcmUgaW5jbHVkZWQsIGluY2x1ZGluZyBmZWF0dXJlcyB0aGF0IG1heSBoYXZlIG5vIHZpc2libGVcbiAgICAgKiBjb250cmlidXRpb24gdG8gdGhlIHJlbmRlcmVkIHJlc3VsdDsgZm9yIGV4YW1wbGUsIGJlY2F1c2UgdGhlIGxheWVyJ3Mgb3BhY2l0eSBvciBjb2xvciBhbHBoYSBjb21wb25lbnQgaXMgc2V0IHRvXG4gICAgICogMC5cbiAgICAgKlxuICAgICAqIFRoZSB0b3Btb3N0IHJlbmRlcmVkIGZlYXR1cmUgYXBwZWFycyBmaXJzdCBpbiB0aGUgcmV0dXJuZWQgYXJyYXksIGFuZCBzdWJzZXF1ZW50IGZlYXR1cmVzIGFyZSBzb3J0ZWQgYnlcbiAgICAgKiBkZXNjZW5kaW5nIHotb3JkZXIuIEZlYXR1cmVzIHRoYXQgYXJlIHJlbmRlcmVkIG11bHRpcGxlIHRpbWVzIChkdWUgdG8gd3JhcHBpbmcgYWNyb3NzIHRoZSBhbnRpbWVyaWRpYW4gYXQgbG93XG4gICAgICogem9vbSBsZXZlbHMpIGFyZSByZXR1cm5lZCBvbmx5IG9uY2UgKHRob3VnaCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY2F2ZWF0KS5cbiAgICAgKlxuICAgICAqIEJlY2F1c2UgZmVhdHVyZXMgY29tZSBmcm9tIHRpbGVkIHZlY3RvciBkYXRhIG9yIEdlb0pTT04gZGF0YSB0aGF0IGlzIGNvbnZlcnRlZCB0byB0aWxlcyBpbnRlcm5hbGx5LCBmZWF0dXJlXG4gICAgICogZ2VvbWV0cmllcyBtYXkgYmUgc3BsaXQgb3IgZHVwbGljYXRlZCBhY3Jvc3MgdGlsZSBib3VuZGFyaWVzIGFuZCwgYXMgYSByZXN1bHQsIGZlYXR1cmVzIG1heSBhcHBlYXIgbXVsdGlwbGVcbiAgICAgKiB0aW1lcyBpbiBxdWVyeSByZXN1bHRzLiBGb3IgZXhhbXBsZSwgc3VwcG9zZSB0aGVyZSBpcyBhIGhpZ2h3YXkgcnVubmluZyB0aHJvdWdoIHRoZSBib3VuZGluZyByZWN0YW5nbGUgb2YgYSBxdWVyeS5cbiAgICAgKiBUaGUgcmVzdWx0cyBvZiB0aGUgcXVlcnkgd2lsbCBiZSB0aG9zZSBwYXJ0cyBvZiB0aGUgaGlnaHdheSB0aGF0IGxpZSB3aXRoaW4gdGhlIG1hcCB0aWxlcyBjb3ZlcmluZyB0aGUgYm91bmRpbmdcbiAgICAgKiByZWN0YW5nbGUsIGV2ZW4gaWYgdGhlIGhpZ2h3YXkgZXh0ZW5kcyBpbnRvIG90aGVyIHRpbGVzLCBhbmQgdGhlIHBvcnRpb24gb2YgdGhlIGhpZ2h3YXkgd2l0aGluIGVhY2ggbWFwIHRpbGVcbiAgICAgKiB3aWxsIGJlIHJldHVybmVkIGFzIGEgc2VwYXJhdGUgZmVhdHVyZS4gU2ltaWxhcmx5LCBhIHBvaW50IGZlYXR1cmUgbmVhciBhIHRpbGUgYm91bmRhcnkgbWF5IGFwcGVhciBpbiBtdWx0aXBsZVxuICAgICAqIHRpbGVzIGR1ZSB0byB0aWxlIGJ1ZmZlcmluZy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRmluZCBhbGwgZmVhdHVyZXMgYXQgYSBwb2ludFxuICAgICAqIGNvbnN0IGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgKiAgIFsyMCwgMzVdLFxuICAgICAqICAge2xheWVyczogWydteS1sYXllci1uYW1lJ119XG4gICAgICogKTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRmluZCBhbGwgZmVhdHVyZXMgd2l0aGluIGEgc3RhdGljIGJvdW5kaW5nIGJveFxuICAgICAqIGNvbnN0IGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgKiAgIFtbMTAsIDIwXSwgWzMwLCA1MF1dLFxuICAgICAqICAge2xheWVyczogWydteS1sYXllci1uYW1lJ119XG4gICAgICogKTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRmluZCBhbGwgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94IGFyb3VuZCBhIHBvaW50XG4gICAgICogY29uc3Qgd2lkdGggPSAxMDtcbiAgICAgKiBjb25zdCBoZWlnaHQgPSAyMDtcbiAgICAgKiBjb25zdCBmZWF0dXJlcyA9IG1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoW1xuICAgICAqICAgICBbcG9pbnQueCAtIHdpZHRoIC8gMiwgcG9pbnQueSAtIGhlaWdodCAvIDJdLFxuICAgICAqICAgICBbcG9pbnQueCArIHdpZHRoIC8gMiwgcG9pbnQueSArIGhlaWdodCAvIDJdXG4gICAgICogXSwge2xheWVyczogWydteS1sYXllci1uYW1lJ119KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gUXVlcnkgYWxsIHJlbmRlcmVkIGZlYXR1cmVzIGZyb20gYSBzaW5nbGUgbGF5ZXJcbiAgICAgKiBjb25zdCBmZWF0dXJlcyA9IG1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoe2xheWVyczogWydteS1sYXllci1uYW1lJ119KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBHZXQgZmVhdHVyZXMgdW5kZXIgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBIaWdobGlnaHQgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3VzaW5nLWJveC1xdWVyeXJlbmRlcmVkZmVhdHVyZXMvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IEZpbHRlciBmZWF0dXJlcyB3aXRoaW4gbWFwIHZpZXddKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLWZlYXR1cmVzLXdpdGhpbi1tYXAtdmlldy8pXG4gICAgICovXG4gICAgcXVlcnlSZW5kZXJlZEZlYXR1cmVzKGdlb21ldHJ5PzogUG9pbnRMaWtlIHwgW1BvaW50TGlrZSwgUG9pbnRMaWtlXSwgb3B0aW9ucz86IE9iamVjdCk6IEFycmF5PFF1ZXJ5UmVzdWx0PiB7XG4gICAgICAgIC8vIFRoZSBmaXJzdCBwYXJhbWV0ZXIgY2FuIGJlIG9taXR0ZWQgZW50aXJlbHksIG1ha2luZyB0aGlzIGVmZmVjdGl2ZWx5IGFuIG92ZXJsb2FkZWQgbWV0aG9kXG4gICAgICAgIC8vIHdpdGggdHdvIHNpZ25hdHVyZXM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICBxdWVyeVJlbmRlcmVkRmVhdHVyZXMoZ2VvbWV0cnk6IFBvaW50TGlrZSB8IFtQb2ludExpa2UsIFBvaW50TGlrZV0sIG9wdGlvbnM/OiBPYmplY3QpXG4gICAgICAgIC8vICAgICBxdWVyeVJlbmRlcmVkRmVhdHVyZXMob3B0aW9ucz86IE9iamVjdClcbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlcmUgbm8gd2F5IHRvIGV4cHJlc3MgdGhhdCBpbiBhIHdheSB0aGF0J3MgY29tcGF0aWJsZSB3aXRoIGJvdGggZmxvdyBhbmQgZG9jdW1lbnRhdGlvbi5qcy5cbiAgICAgICAgLy8gUmVsYXRlZDogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzE1NTZcblxuICAgICAgICBpZiAoIXRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zID09PSB1bmRlZmluZWQgJiYgZ2VvbWV0cnkgIT09IHVuZGVmaW5lZCAmJiAhKGdlb21ldHJ5IGluc3RhbmNlb2YgUG9pbnQpICYmICFBcnJheS5pc0FycmF5KGdlb21ldHJ5KSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IChnZW9tZXRyeTogT2JqZWN0KTtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cnkgfHwgWyhbMCwgMF06IFBvaW50TGlrZSksIChbdGhpcy50cmFuc2Zvcm0ud2lkdGgsIHRoaXMudHJhbnNmb3JtLmhlaWdodF06IFBvaW50TGlrZSldO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhnZW9tZXRyeSwgb3B0aW9ucywgdGhpcy50cmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgW0dlb0pTT05dKGh0dHA6Ly9nZW9qc29uLm9yZy8pXG4gICAgICogW0ZlYXR1cmUgb2JqZWN0c10oaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzc5NDYjc2VjdGlvbi0zLjIpXG4gICAgICogcmVwcmVzZW50aW5nIGZlYXR1cmVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHZlY3RvciB0aWxlIG9yIEdlb0pTT04gc291cmNlIHRoYXQgc2F0aXNmeSB0aGUgcXVlcnkgcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VJZCBUaGUgSUQgb2YgdGhlIHZlY3RvciB0aWxlIG9yIEdlb0pTT04gc291cmNlIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1ldGVyc10gT3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYXJhbWV0ZXJzLnNvdXJjZUxheWVyXSBUaGUgbmFtZSBvZiB0aGUgW3NvdXJjZSBsYXllcl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9zb3VyY2UtbGF5ZXIvKVxuICAgICAqICAgdG8gcXVlcnkuICpGb3IgdmVjdG9yIHRpbGUgc291cmNlcywgdGhpcyBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQuKiBGb3IgR2VvSlNPTiBzb3VyY2VzLCBpdCBpcyBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJhbWV0ZXJzLmZpbHRlcl0gQSBbZmlsdGVyXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy9sYXllcnMvI2ZpbHRlcilcbiAgICAgKiAgIHRvIGxpbWl0IHF1ZXJ5IHJlc3VsdHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcGFyYW1ldGVycy52YWxpZGF0ZT10cnVlXSBXaGV0aGVyIHRvIGNoZWNrIGlmIHRoZSBbcGFyYW1ldGVycy5maWx0ZXJdIGNvbmZvcm1zIHRvIHRoZSBNYXBib3ggR0wgU3R5bGUgU3BlY2lmaWNhdGlvbi4gRGlzYWJsaW5nIHZhbGlkYXRpb24gaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdGhhdCBzaG91bGQgb25seSBiZSB1c2VkIGlmIHlvdSBoYXZlIHByZXZpb3VzbHkgdmFsaWRhdGVkIHRoZSB2YWx1ZXMgeW91IHdpbGwgYmUgcGFzc2luZyB0byB0aGlzIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5PE9iamVjdD59IEFuIGFycmF5IG9mIFtHZW9KU09OXShodHRwOi8vZ2VvanNvbi5vcmcvKVxuICAgICAqIFtGZWF0dXJlIG9iamVjdHNdKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3OTQ2I3NlY3Rpb24tMy4yKS5cbiAgICAgKlxuICAgICAqIEluIGNvbnRyYXN0IHRvIHtAbGluayBNYXAjcXVlcnlSZW5kZXJlZEZlYXR1cmVzfSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIGFsbCBmZWF0dXJlcyBtYXRjaGluZyB0aGUgcXVlcnkgcGFyYW1ldGVycyxcbiAgICAgKiB3aGV0aGVyIG9yIG5vdCB0aGV5IGFyZSByZW5kZXJlZCBieSB0aGUgY3VycmVudCBzdHlsZSAoaW4gb3RoZXIgd29yZHMsIGFyZSB2aXNpYmxlKS4gVGhlIGRvbWFpbiBvZiB0aGUgcXVlcnkgaW5jbHVkZXMgYWxsIGN1cnJlbnRseS1sb2FkZWRcbiAgICAgKiB2ZWN0b3IgdGlsZXMgYW5kIEdlb0pTT04gc291cmNlIHRpbGVzOiB0aGlzIGZ1bmN0aW9uIGRvZXMgbm90IGNoZWNrIHRpbGVzIG91dHNpZGUgdGhlIGN1cnJlbnRseVxuICAgICAqIHZpc2libGUgdmlld3BvcnQuXG4gICAgICpcbiAgICAgKiBCZWNhdXNlIGZlYXR1cmVzIGNvbWUgZnJvbSB0aWxlZCB2ZWN0b3IgZGF0YSBvciBHZW9KU09OIGRhdGEgdGhhdCBpcyBjb252ZXJ0ZWQgdG8gdGlsZXMgaW50ZXJuYWxseSwgZmVhdHVyZVxuICAgICAqIGdlb21ldHJpZXMgbWF5IGJlIHNwbGl0IG9yIGR1cGxpY2F0ZWQgYWNyb3NzIHRpbGUgYm91bmRhcmllcyBhbmQsIGFzIGEgcmVzdWx0LCBmZWF0dXJlcyBtYXkgYXBwZWFyIG11bHRpcGxlXG4gICAgICogdGltZXMgaW4gcXVlcnkgcmVzdWx0cy4gRm9yIGV4YW1wbGUsIHN1cHBvc2UgdGhlcmUgaXMgYSBoaWdod2F5IHJ1bm5pbmcgdGhyb3VnaCB0aGUgYm91bmRpbmcgcmVjdGFuZ2xlIG9mIGEgcXVlcnkuXG4gICAgICogVGhlIHJlc3VsdHMgb2YgdGhlIHF1ZXJ5IHdpbGwgYmUgdGhvc2UgcGFydHMgb2YgdGhlIGhpZ2h3YXkgdGhhdCBsaWUgd2l0aGluIHRoZSBtYXAgdGlsZXMgY292ZXJpbmcgdGhlIGJvdW5kaW5nXG4gICAgICogcmVjdGFuZ2xlLCBldmVuIGlmIHRoZSBoaWdod2F5IGV4dGVuZHMgaW50byBvdGhlciB0aWxlcywgYW5kIHRoZSBwb3J0aW9uIG9mIHRoZSBoaWdod2F5IHdpdGhpbiBlYWNoIG1hcCB0aWxlXG4gICAgICogd2lsbCBiZSByZXR1cm5lZCBhcyBhIHNlcGFyYXRlIGZlYXR1cmUuIFNpbWlsYXJseSwgYSBwb2ludCBmZWF0dXJlIG5lYXIgYSB0aWxlIGJvdW5kYXJ5IG1heSBhcHBlYXIgaW4gbXVsdGlwbGVcbiAgICAgKiB0aWxlcyBkdWUgdG8gdGlsZSBidWZmZXJpbmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEZpbmQgYWxsIGZlYXR1cmVzIGluIG9uZSBzb3VyY2UgbGF5ZXIgaW4gYSB2ZWN0b3Igc291cmNlXG4gICAgICogY29uc3QgZmVhdHVyZXMgPSBtYXAucXVlcnlTb3VyY2VGZWF0dXJlcygneW91ci1zb3VyY2UtaWQnLCB7XG4gICAgICogICAgIHNvdXJjZUxheWVyOiAneW91ci1zb3VyY2UtbGF5ZXInXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBIaWdobGlnaHQgZmVhdHVyZXMgY29udGFpbmluZyBzaW1pbGFyIGRhdGFdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcXVlcnktc2ltaWxhci1mZWF0dXJlcy8pXG4gICAgICovXG4gICAgcXVlcnlTb3VyY2VGZWF0dXJlcyhzb3VyY2VJZDogc3RyaW5nLCBwYXJhbWV0ZXJzOiA/e3NvdXJjZUxheWVyOiA/c3RyaW5nLCBmaWx0ZXI6ID9BcnJheTxhbnk+LCB2YWxpZGF0ZT86IGJvb2xlYW59KTogQXJyYXk8UXVlcnlGZWF0dXJlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlSWQsIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIC8qKiBAc2VjdGlvbiB7V29ya2luZyB3aXRoIHN0eWxlc30gKi9cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG1hcCdzIE1hcGJveCBzdHlsZSBvYmplY3Qgd2l0aCBhIG5ldyB2YWx1ZS5cbiAgICAgKlxuICAgICAqIElmIGEgc3R5bGUgaXMgYWxyZWFkeSBzZXQgd2hlbiB0aGlzIGlzIHVzZWQgYW5kIHRoZSBgZGlmZmAgb3B0aW9uIGlzIHNldCB0byBgdHJ1ZWAsIHRoZSBtYXAgcmVuZGVyZXIgd2lsbCBhdHRlbXB0IHRvIGNvbXBhcmUgdGhlIGdpdmVuIHN0eWxlXG4gICAgICogYWdhaW5zdCB0aGUgbWFwJ3MgY3VycmVudCBzdGF0ZSBhbmQgcGVyZm9ybSBvbmx5IHRoZSBjaGFuZ2VzIG5lY2Vzc2FyeSB0byBtYWtlIHRoZSBtYXAgc3R5bGUgbWF0Y2ggdGhlIGRlc2lyZWQgc3RhdGUuIENoYW5nZXMgaW4gc3ByaXRlc1xuICAgICAqIChpbWFnZXMgdXNlZCBmb3IgaWNvbnMgYW5kIHBhdHRlcm5zKSBhbmQgZ2x5cGhzIChmb250cyBmb3IgbGFiZWwgdGV4dCkgKipjYW5ub3QqKiBiZSBkaWZmZWQuIElmIHRoZSBzcHJpdGVzIG9yIGZvbnRzIHVzZWQgaW4gdGhlIGN1cnJlbnRcbiAgICAgKiBzdHlsZSBhbmQgdGhlIGdpdmVuIHN0eWxlIGFyZSBkaWZmZXJlbnQgaW4gYW55IHdheSwgdGhlIG1hcCByZW5kZXJlciB3aWxsIGZvcmNlIGEgZnVsbCB1cGRhdGUsIHJlbW92aW5nIHRoZSBjdXJyZW50IHN0eWxlIGFuZCBidWlsZGluZ1xuICAgICAqIHRoZSBnaXZlbiBvbmUgZnJvbSBzY3JhdGNoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBzdHJpbmd8IG51bGx9IHN0eWxlIEEgSlNPTiBvYmplY3QgY29uZm9ybWluZyB0byB0aGUgc2NoZW1hIGRlc2NyaWJlZCBpbiB0aGVcbiAgICAgKiAgIFtNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyksIG9yIGEgVVJMIHRvIHN1Y2ggSlNPTi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZGlmZj10cnVlXSBJZiBmYWxzZSwgZm9yY2UgYSAnZnVsbCcgdXBkYXRlLCByZW1vdmluZyB0aGUgY3VycmVudCBzdHlsZVxuICAgICAqICAgYW5kIGJ1aWxkaW5nIHRoZSBnaXZlbiBvbmUgaW5zdGVhZCBvZiBhdHRlbXB0aW5nIGEgZGlmZi1iYXNlZCB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT0nc2Fucy1zZXJpZiddIERlZmluZXMgYSBDU1NcbiAgICAgKiAgIGZvbnQtZmFtaWx5IGZvciBsb2NhbGx5IG92ZXJyaWRpbmcgZ2VuZXJhdGlvbiBvZiBnbHlwaHMgaW4gdGhlICdDSksgVW5pZmllZCBJZGVvZ3JhcGhzJywgJ0hpcmFnYW5hJywgJ0thdGFrYW5hJyBhbmQgJ0hhbmd1bCBTeWxsYWJsZXMnIHJhbmdlcy5cbiAgICAgKiAgIEluIHRoZXNlIHJhbmdlcywgZm9udCBzZXR0aW5ncyBmcm9tIHRoZSBtYXAncyBzdHlsZSB3aWxsIGJlIGlnbm9yZWQsIGV4Y2VwdCBmb3IgZm9udC13ZWlnaHQga2V5d29yZHMgKGxpZ2h0L3JlZ3VsYXIvbWVkaXVtL2JvbGQpLlxuICAgICAqICAgU2V0IHRvIGBmYWxzZWAsIHRvIGVuYWJsZSBmb250IHNldHRpbmdzIGZyb20gdGhlIG1hcCdzIHN0eWxlIGZvciB0aGVzZSBnbHlwaCByYW5nZXMuXG4gICAgICogICBGb3JjZXMgYSBmdWxsIHVwZGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0U3R5bGUoXCJtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjExXCIpO1xuICAgICAqXG4gICAgICogQHNlZSBbRXhhbXBsZTogQ2hhbmdlIGEgbWFwJ3Mgc3R5bGVdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2V0c3R5bGUvKVxuICAgICAqL1xuICAgIHNldFN0eWxlKHN0eWxlOiBTdHlsZVNwZWNpZmljYXRpb24gfCBzdHJpbmcgfCBudWxsLCBvcHRpb25zPzoge2RpZmY/OiBib29sZWFufSAmIFN0eWxlT3B0aW9ucyk6IHRoaXMge1xuICAgICAgICBvcHRpb25zID0gZXh0ZW5kKHt9LCB7bG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiB0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksIGxvY2FsRm9udEZhbWlseTogdGhpcy5fbG9jYWxGb250RmFtaWx5fSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKChvcHRpb25zLmRpZmYgIT09IGZhbHNlICYmXG4gICAgICAgICAgICBvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSA9PT0gdGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5ICYmXG4gICAgICAgICAgICBvcHRpb25zLmxvY2FsRm9udEZhbWlseSA9PT0gdGhpcy5fbG9jYWxGb250RmFtaWx5KSAmJiB0aGlzLnN0eWxlICYmIHN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLl9kaWZmU3R5bGUoc3R5bGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHkgPSBvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsRm9udEZhbWlseSA9IG9wdGlvbnMubG9jYWxGb250RmFtaWx5O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZVN0eWxlKHN0eWxlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRVSVN0cmluZyhrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHN0ciA9IHRoaXMuX2xvY2FsZVtrZXldO1xuICAgICAgICBpZiAoc3RyID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBVSSBzdHJpbmcgJyR7a2V5fSdgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVN0eWxlKHN0eWxlOiBTdHlsZVNwZWNpZmljYXRpb24gfCBzdHJpbmcgfCBudWxsLCAgb3B0aW9ucz86IHtkaWZmPzogYm9vbGVhbn0gJiBTdHlsZU9wdGlvbnMpOiB0aGlzIHtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudChudWxsKTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuX3JlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5zdHlsZSA9ICh1bmRlZmluZWQ6IGFueSk7IC8vIHdlIGxhenktaW5pdCBpdCBzbyBpdCdzIG5ldmVyIHVuZGVmaW5lZCB3aGVuIGFjY2Vzc2VkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUgPSBuZXcgU3R5bGUodGhpcywgb3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcywge3N0eWxlOiB0aGlzLnN0eWxlfSk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5sb2FkVVJMKHN0eWxlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5sb2FkSlNPTihzdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlVGVycmFpbigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfbGF6eUluaXRFbXB0eVN0eWxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUgPSBuZXcgU3R5bGUodGhpcywge30pO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KHRoaXMsIHtzdHlsZTogdGhpcy5zdHlsZX0pO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5sb2FkRW1wdHkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kaWZmU3R5bGUoc3R5bGU6IFN0eWxlU3BlY2lmaWNhdGlvbiB8IHN0cmluZywgIG9wdGlvbnM/OiB7ZGlmZj86IGJvb2xlYW59ICYgU3R5bGVPcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSB0aGlzLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTChzdHlsZSk7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh1cmwsIFJlc291cmNlVHlwZS5TdHlsZSk7XG4gICAgICAgICAgICBnZXRKU09OKHJlcXVlc3QsIChlcnJvcjogP0Vycm9yLCBqc29uOiA/T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnJvcikpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoanNvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVEaWZmKGpzb24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZURpZmYoc3R5bGUsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZURpZmYoc3R5bGU6IFN0eWxlU3BlY2lmaWNhdGlvbiwgIG9wdGlvbnM/OiB7ZGlmZj86IGJvb2xlYW59ICYgU3R5bGVPcHRpb25zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZS5zZXRTdGF0ZShzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcGVyZm9ybSBzdHlsZSBkaWZmOiAke2UubWVzc2FnZSB8fCBlLmVycm9yIHx8IGV9LiAgUmVidWlsZGluZyB0aGUgc3R5bGUgZnJvbSBzY3JhdGNoLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdHlsZShzdHlsZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBNYXBib3ggW3N0eWxlXShodHRwczovL2RvY3MubWFwYm94LmNvbS9oZWxwL2dsb3NzYXJ5L3N0eWxlLykgb2JqZWN0LCBhIEpTT04gb2JqZWN0IHdoaWNoIGNhbiBiZSB1c2VkIHRvIHJlY3JlYXRlIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBtYXAncyBzdHlsZSBKU09OIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLm9uKCdsb2FkJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zdCBzdHlsZUpzb24gPSBtYXAuZ2V0U3R5bGUoKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqL1xuICAgIGdldFN0eWxlKCk6ID9TdHlsZVNwZWNpZmljYXRpb24ge1xuICAgICAgICBpZiAodGhpcy5zdHlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuc2VyaWFsaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCdzIHN0eWxlIGlzIGZ1bGx5IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBzdHlsZSBpcyBmdWxseSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHN0eWxlTG9hZFN0YXR1cyA9IG1hcC5pc1N0eWxlTG9hZGVkKCk7XG4gICAgICovXG4gICAgaXNTdHlsZUxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0eWxlKSB7XG4gICAgICAgICAgICB3YXJuT25jZSgnVGhlcmUgaXMgbm8gc3R5bGUgYWRkZWQgdG8gdGhlIG1hcC4nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5sb2FkZWQoKTtcbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge1NvdXJjZXN9ICovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgc291cmNlIHRvIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIHNvdXJjZSB0byBhZGQuIE11c3Qgbm90IGNvbmZsaWN0IHdpdGggZXhpc3Rpbmcgc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LCBjb25mb3JtaW5nIHRvIHRoZVxuICAgICAqIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uJ3MgW3NvdXJjZSBkZWZpbml0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzKSBvclxuICAgICAqIHtAbGluayBDYW52YXNTb3VyY2VPcHRpb25zfS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmFkZFNvdXJjZSgnbXktZGF0YScsIHtcbiAgICAgKiAgICAgdHlwZTogJ3ZlY3RvcicsXG4gICAgICogICAgIHVybDogJ21hcGJveDovL215dXNlcm5hbWUudGlsZXNldGlkJ1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmFkZFNvdXJjZSgnbXktZGF0YScsIHtcbiAgICAgKiAgICAgXCJ0eXBlXCI6IFwiZ2VvanNvblwiLFxuICAgICAqICAgICBcImRhdGFcIjoge1xuICAgICAqICAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICAgICAqICAgICAgICAgXCJnZW9tZXRyeVwiOiB7XG4gICAgICogICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUG9pbnRcIixcbiAgICAgKiAgICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6IFstNzcuMDMyMywgMzguOTEzMV1cbiAgICAgKiAgICAgICAgIH0sXG4gICAgICogICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAqICAgICAgICAgICAgIFwidGl0bGVcIjogXCJNYXBib3ggRENcIixcbiAgICAgKiAgICAgICAgICAgICBcIm1hcmtlci1zeW1ib2xcIjogXCJtb251bWVudFwiXG4gICAgICogICAgICAgICB9XG4gICAgICogICAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIEV4YW1wbGU6IFZlY3RvciBzb3VyY2U6IFtTaG93IGFuZCBoaWRlIGxheWVyc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdG9nZ2xlLWxheWVycy8pXG4gICAgICogQHNlZSBFeGFtcGxlOiBHZW9KU09OIHNvdXJjZTogW0FkZCBsaXZlIHJlYWx0aW1lIGRhdGFdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtZ2VvanNvbi8pXG4gICAgICogQHNlZSBFeGFtcGxlOiBSYXN0ZXIgREVNIHNvdXJjZTogW0FkZCBoaWxsc2hhZGluZ10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvaGlsbHNoYWRlLylcbiAgICAgKi9cbiAgICBhZGRTb3VyY2UoaWQ6IHN0cmluZywgc291cmNlOiBTb3VyY2VTcGVjaWZpY2F0aW9uKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpO1xuICAgICAgICB0aGlzLnN0eWxlLmFkZFNvdXJjZShpZCwgc291cmNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHNvdXJjZSBpcyBsb2FkZWQuIFJldHVybnMgYHRydWVgIGlmIHRoZSBzb3VyY2Ugd2l0aFxuICAgICAqIHRoZSBnaXZlbiBJRCBpbiB0aGUgbWFwJ3Mgc3R5bGUgaGFzIG5vIG91dHN0YW5kaW5nIG5ldHdvcmsgcmVxdWVzdHMsIG90aGVyd2lzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgc291cmNlIHRvIGJlIGNoZWNrZWQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IEEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb3VyY2VMb2FkZWQgPSBtYXAuaXNTb3VyY2VMb2FkZWQoJ2JhdGh5bWV0cnktZGF0YScpO1xuICAgICAqL1xuICAgIGlzU291cmNlTG9hZGVkKGlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zdHlsZSAmJiB0aGlzLnN0eWxlLl9pc1NvdXJjZUNhY2hlTG9hZGVkKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgYWxsIHRpbGVzIGluIHRoZSB2aWV3cG9ydCBmcm9tIGFsbCBzb3VyY2VzIG9uXG4gICAgICogdGhlIHN0eWxlIGFyZSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciBhbGwgdGlsZXMgYXJlIGxvYWRlZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHRpbGVzTG9hZGVkID0gbWFwLmFyZVRpbGVzTG9hZGVkKCk7XG4gICAgICovXG5cbiAgICBhcmVUaWxlc0xvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgc291cmNlcyA9IHRoaXMuc3R5bGUgJiYgdGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZXNbaWRdO1xuICAgICAgICAgICAgY29uc3QgdGlsZXMgPSBzb3VyY2UuX3RpbGVzO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0IGluIHRpbGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRpbGVzW3RdO1xuICAgICAgICAgICAgICAgIGlmICghKHRpbGUuc3RhdGUgPT09ICdsb2FkZWQnIHx8IHRpbGUuc3RhdGUgPT09ICdlcnJvcmVkJykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgW2N1c3RvbSBzb3VyY2UgdHlwZV0oI0N1c3RvbSBTb3VyY2VzKSwgbWFraW5nIGl0IGF2YWlsYWJsZSBmb3IgdXNlIHdpdGhcbiAgICAgKiB7QGxpbmsgTWFwI2FkZFNvdXJjZX0uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc291cmNlIHR5cGU7IHNvdXJjZSBkZWZpbml0aW9uIG9iamVjdHMgdXNlIHRoaXMgbmFtZSBpbiB0aGUgYHt0eXBlOiAuLi59YCBmaWVsZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBTb3VyY2VUeXBlIEEge0BsaW5rIFNvdXJjZX0gY29uc3RydWN0b3IuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIHdoZW4gdGhlIHNvdXJjZSB0eXBlIGlzIHJlYWR5IG9yIHdpdGggYW4gZXJyb3IgYXJndW1lbnQgaWYgdGhlcmUgaXMgYW4gZXJyb3IuXG4gICAgICovXG4gICAgYWRkU291cmNlVHlwZShuYW1lOiBzdHJpbmcsIFNvdXJjZVR5cGU6IGFueSwgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpO1xuICAgICAgICB0aGlzLnN0eWxlLmFkZFNvdXJjZVR5cGUobmFtZSwgU291cmNlVHlwZSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBzb3VyY2UgZnJvbSB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBzb3VyY2UgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAucmVtb3ZlU291cmNlKCdiYXRoeW1ldHJ5LWRhdGEnKTtcbiAgICAgKi9cbiAgICByZW1vdmVTb3VyY2UoaWQ6IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZVNvdXJjZShpZCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVRlcnJhaW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzb3VyY2Ugd2l0aCB0aGUgc3BlY2lmaWVkIElEIGluIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG9mdGVuIHVzZWQgdG8gdXBkYXRlIGEgc291cmNlIHVzaW5nIHRoZSBpbnN0YW5jZSBtZW1iZXJzIGZvciB0aGUgcmVsZXZhbnRcbiAgICAgKiBzb3VyY2UgdHlwZSBhcyBkZWZpbmVkIGluIFtTb3VyY2VzXSgjc291cmNlcykuXG4gICAgICogRm9yIGV4YW1wbGUsIHNldHRpbmcgdGhlIGBkYXRhYCBmb3IgYSBHZW9KU09OIHNvdXJjZSBvciB1cGRhdGluZyB0aGUgYHVybGAgYW5kIGBjb29yZGluYXRlc2BcbiAgICAgKiBvZiBhbiBpbWFnZSBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBzb3VyY2UgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHs/T2JqZWN0fSBUaGUgc3R5bGUgc291cmNlIHdpdGggdGhlIHNwZWNpZmllZCBJRCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgSURcbiAgICAgKiBjb3JyZXNwb25kcyB0byBubyBleGlzdGluZyBzb3VyY2VzLlxuICAgICAqIFRoZSBzaGFwZSBvZiB0aGUgb2JqZWN0IHZhcmllcyBieSBzb3VyY2UgdHlwZS5cbiAgICAgKiBBIGxpc3Qgb2Ygb3B0aW9ucyBmb3IgZWFjaCBzb3VyY2UgdHlwZSBpcyBhdmFpbGFibGUgb24gdGhlIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uJ3NcbiAgICAgKiBbU291cmNlc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvc291cmNlcy8pIHBhZ2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb3VyY2VPYmplY3QgPSBtYXAuZ2V0U291cmNlKCdwb2ludHMnKTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYSBkcmFnZ2FibGUgcG9pbnRdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQW5pbWF0ZSBhIHBvaW50XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hbmltYXRlLXBvaW50LWFsb25nLWxpbmUvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IEFkZCBsaXZlIHJlYWx0aW1lIGRhdGFdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtZ2VvanNvbi8pXG4gICAgICovXG4gICAgZ2V0U291cmNlKGlkOiBzdHJpbmcpOiA/U291cmNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0U291cmNlKGlkKTtcbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge0ltYWdlc30gKi9cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc2RvYy9yZXF1aXJlLXJldHVybnNcbiAgICAvKipcbiAgICAgKiBBZGQgYW4gaW1hZ2UgdG8gdGhlIHN0eWxlLiBUaGlzIGltYWdlIGNhbiBiZSBkaXNwbGF5ZWQgb24gdGhlIG1hcCBsaWtlIGFueSBvdGhlciBpY29uIGluIHRoZSBzdHlsZSdzXG4gICAgICogW3Nwcml0ZV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvc3ByaXRlLykgdXNpbmcgdGhlIGltYWdlJ3MgSUQgd2l0aFxuICAgICAqIFtgaWNvbi1pbWFnZWBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNsYXlvdXQtc3ltYm9sLWljb24taW1hZ2UpLFxuICAgICAqIFtgYmFja2dyb3VuZC1wYXR0ZXJuYF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvI3BhaW50LWJhY2tncm91bmQtYmFja2dyb3VuZC1wYXR0ZXJuKSxcbiAgICAgKiBbYGZpbGwtcGF0dGVybmBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNwYWludC1maWxsLWZpbGwtcGF0dGVybiksXG4gICAgICogb3IgW2BsaW5lLXBhdHRlcm5gXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy8jcGFpbnQtbGluZS1saW5lLXBhdHRlcm4pLlxuICAgICAqIEEge0BsaW5rIE1hcC5ldmVudDplcnJvcn0gZXZlbnQgd2lsbCBiZSBmaXJlZCBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIHNwYWNlIGluIHRoZSBzcHJpdGUgdG8gYWRkIHRoaXMgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBpbWFnZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnQgfCBJbWFnZUJpdG1hcCB8IEltYWdlRGF0YSB8IHt3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgZGF0YTogKFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheSl9IHwgU3R5bGVJbWFnZUludGVyZmFjZX0gaW1hZ2UgVGhlIGltYWdlIGFzIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWBcbiAgICAgKiBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5waXhlbFJhdGlvIFRoZSByYXRpbyBvZiBwaXhlbHMgaW4gdGhlIGltYWdlIHRvIHBoeXNpY2FsIHBpeGVscyBvbiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5zZGYgV2hldGhlciB0aGUgaW1hZ2Ugc2hvdWxkIGJlIGludGVycHJldGVkIGFzIGFuIFNERiBpbWFnZS5cbiAgICAgKiBAcGFyYW0ge1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdfSBvcHRpb25zLmNvbnRlbnQgYFt4MSwgeTEsIHgyLCB5Ml1gICBJZiBgaWNvbi10ZXh0LWZpdGAgaXMgdXNlZCBpbiBhIGxheWVyIHdpdGggdGhpcyBpbWFnZSwgdGhpcyBvcHRpb24gZGVmaW5lcyB0aGUgcGFydCBvZiB0aGUgaW1hZ2UgdGhhdCBjYW4gYmUgY292ZXJlZCBieSB0aGUgY29udGVudCBpbiBgdGV4dC1maWVsZGAuXG4gICAgICogQHBhcmFtIHtBcnJheTxbbnVtYmVyLCBudW1iZXJdPn0gb3B0aW9ucy5zdHJldGNoWCBgW1t4MSwgeDJdLCAuLi5dYCBJZiBgaWNvbi10ZXh0LWZpdGAgaXMgdXNlZCBpbiBhIGxheWVyIHdpdGggdGhpcyBpbWFnZSwgdGhpcyBvcHRpb24gZGVmaW5lcyB0aGUgcGFydChzKSBvZiB0aGUgaW1hZ2UgdGhhdCBjYW4gYmUgc3RyZXRjaGVkIGhvcml6b250YWxseS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PFtudW1iZXIsIG51bWJlcl0+fSBvcHRpb25zLnN0cmV0Y2hZIGBbW3kxLCB5Ml0sIC4uLl1gIElmIGBpY29uLXRleHQtZml0YCBpcyB1c2VkIGluIGEgbGF5ZXIgd2l0aCB0aGlzIGltYWdlLCB0aGlzIG9wdGlvbiBkZWZpbmVzIHRoZSBwYXJ0KHMpIG9mIHRoZSBpbWFnZSB0aGF0IGNhbiBiZSBzdHJldGNoZWQgdmVydGljYWxseS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSWYgdGhlIHN0eWxlJ3Mgc3ByaXRlIGRvZXMgbm90IGFscmVhZHkgY29udGFpbiBhbiBpbWFnZSB3aXRoIElEICdjYXQnLFxuICAgICAqIC8vIGFkZCB0aGUgaW1hZ2UgJ2NhdC1pY29uLnBuZycgdG8gdGhlIHN0eWxlJ3Mgc3ByaXRlIHdpdGggdGhlIElEICdjYXQnLlxuICAgICAqIG1hcC5sb2FkSW1hZ2UoJ2h0dHBzOi8vdXBsb2FkLndpa2ltZWRpYS5vcmcvd2lraXBlZGlhL2NvbW1vbnMvdGh1bWIvNi82MC9DYXRfc2lsaG91ZXR0ZS5zdmcvNDAwcHgtQ2F0X3NpbGhvdWV0dGUuc3ZnLnBuZycsIChlcnJvciwgaW1hZ2UpID0+IHtcbiAgICAgKiAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgKiAgICAgaWYgKCFtYXAuaGFzSW1hZ2UoJ2NhdCcpKSBtYXAuYWRkSW1hZ2UoJ2NhdCcsIGltYWdlKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIC8vIEFkZCBhIHN0cmV0Y2hhYmxlIGltYWdlIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBgaWNvbi10ZXh0LWZpdGBcbiAgICAgKiAvLyBJbiB0aGlzIGV4YW1wbGUsIHRoZSBpbWFnZSBpcyA2MDBweCB3aWRlIGJ5IDQwMHB4IGhpZ2guXG4gICAgICogbWFwLmxvYWRJbWFnZSgnaHR0cHM6Ly91cGxvYWQud2lraW1lZGlhLm9yZy93aWtpcGVkaWEvY29tbW9ucy84Lzg5L0JsYWNrX2FuZF9XaGl0ZV9Cb3hlZF8lMjhib3JkZXJlZCUyOS5wbmcnLCAoZXJyb3IsIGltYWdlKSA9PiB7XG4gICAgICogICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICogICAgIGlmICghbWFwLmhhc0ltYWdlKCdib3JkZXItaW1hZ2UnKSkge1xuICAgICAqICAgICAgICAgbWFwLmFkZEltYWdlKCdib3JkZXItaW1hZ2UnLCBpbWFnZSwge1xuICAgICAqICAgICAgICAgICAgIGNvbnRlbnQ6IFsxNiwgMTYsIDMwMCwgMzg0XSwgLy8gcGxhY2UgdGV4dCBvdmVyIGxlZnQgaGFsZiBvZiBpbWFnZSwgYXZvaWRpbmcgdGhlIDE2cHggYm9yZGVyXG4gICAgICogICAgICAgICAgICAgc3RyZXRjaFg6IFtbMTYsIDU4NF1dLCAvLyBzdHJldGNoIGV2ZXJ5dGhpbmcgaG9yaXpvbnRhbGx5IGV4Y2VwdCB0aGUgMTZweCBib3JkZXJcbiAgICAgKiAgICAgICAgICAgICBzdHJldGNoWTogW1sxNiwgMzg0XV0sIC8vIHN0cmV0Y2ggZXZlcnl0aGluZyB2ZXJ0aWNhbGx5IGV4Y2VwdCB0aGUgMTZweCBib3JkZXJcbiAgICAgKiAgICAgICAgIH0pO1xuICAgICAqICAgICB9XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKlxuICAgICAqIEBzZWUgRXhhbXBsZTogVXNlIGBIVE1MSW1hZ2VFbGVtZW50YDogW0FkZCBhbiBpY29uIHRvIHRoZSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLWltYWdlLylcbiAgICAgKiBAc2VlIEV4YW1wbGU6IFVzZSBgSW1hZ2VEYXRhYDogW0FkZCBhIGdlbmVyYXRlZCBpY29uIHRvIHRoZSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLWltYWdlLWdlbmVyYXRlZC8pXG4gICAgICovXG4gICAgYWRkSW1hZ2UoaWQ6IHN0cmluZyxcbiAgICAgICAgICAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudCB8IEltYWdlQml0bWFwIHwgSW1hZ2VEYXRhIHwge3dpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBkYXRhOiBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXl9IHwgU3R5bGVJbWFnZUludGVyZmFjZSxcbiAgICAgICAgICAgICB7cGl4ZWxSYXRpbyA9IDEsIHNkZiA9IGZhbHNlLCBzdHJldGNoWCwgc3RyZXRjaFksIGNvbnRlbnR9OiAkU2hhcGU8U3R5bGVJbWFnZU1ldGFkYXRhPiA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpO1xuICAgICAgICBjb25zdCB2ZXJzaW9uID0gMDtcblxuICAgICAgICBpZiAoaW1hZ2UgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEltYWdlRWxlbWVudCB8fCAod2luZG93LkltYWdlQml0bWFwICYmIGltYWdlIGluc3RhbmNlb2Ygd2luZG93LkltYWdlQml0bWFwKSkge1xuICAgICAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHQsIGRhdGF9ID0gYnJvd3Nlci5nZXRJbWFnZURhdGEoaW1hZ2UpO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5hZGRJbWFnZShpZCwge2RhdGE6IG5ldyBSR0JBSW1hZ2Uoe3dpZHRoLCBoZWlnaHR9LCBkYXRhKSwgcGl4ZWxSYXRpbywgc3RyZXRjaFgsIHN0cmV0Y2hZLCBjb250ZW50LCBzZGYsIHZlcnNpb259KTtcbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZS53aWR0aCA9PT0gdW5kZWZpbmVkIHx8IGltYWdlLmhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAuYWRkSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAsICcgK1xuICAgICAgICAgICAgICAgICdvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYCBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgJykpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGltYWdlO1xuICAgICAgICAgICAgY29uc3QgdXNlckltYWdlID0gKChpbWFnZTogYW55KTogU3R5bGVJbWFnZUludGVyZmFjZSk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdXNlckltYWdlLmRhdGE7XG5cbiAgICAgICAgICAgIHRoaXMuc3R5bGUuYWRkSW1hZ2UoaWQsIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBuZXcgUkdCQUltYWdlKHt3aWR0aCwgaGVpZ2h0fSwgbmV3IFVpbnQ4QXJyYXkoZGF0YSkpLFxuICAgICAgICAgICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgc3RyZXRjaFgsXG4gICAgICAgICAgICAgICAgc3RyZXRjaFksXG4gICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgICBzZGYsXG4gICAgICAgICAgICAgICAgdmVyc2lvbixcbiAgICAgICAgICAgICAgICB1c2VySW1hZ2VcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodXNlckltYWdlLm9uQWRkKSB7XG4gICAgICAgICAgICAgICAgdXNlckltYWdlLm9uQWRkKHRoaXMsIGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc2RvYy9yZXF1aXJlLXJldHVybnNcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYW4gZXhpc3RpbmcgaW1hZ2UgaW4gYSBzdHlsZS4gVGhpcyBpbWFnZSBjYW4gYmUgZGlzcGxheWVkIG9uIHRoZSBtYXAgbGlrZSBhbnkgb3RoZXIgaWNvbiBpbiB0aGUgc3R5bGUnc1xuICAgICAqIFtzcHJpdGVdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvZ2xvc3Nhcnkvc3ByaXRlLykgdXNpbmcgdGhlIGltYWdlJ3MgSUQgd2l0aFxuICAgICAqIFtgaWNvbi1pbWFnZWBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNsYXlvdXQtc3ltYm9sLWljb24taW1hZ2UpLFxuICAgICAqIFtgYmFja2dyb3VuZC1wYXR0ZXJuYF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvI3BhaW50LWJhY2tncm91bmQtYmFja2dyb3VuZC1wYXR0ZXJuKSxcbiAgICAgKiBbYGZpbGwtcGF0dGVybmBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNwYWludC1maWxsLWZpbGwtcGF0dGVybiksXG4gICAgICogb3IgW2BsaW5lLXBhdHRlcm5gXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy8jcGFpbnQtbGluZS1saW5lLXBhdHRlcm4pLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgaW1hZ2UuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50IHwgSW1hZ2VCaXRtYXAgfCBJbWFnZURhdGEgfCBTdHlsZUltYWdlSW50ZXJmYWNlfSBpbWFnZSBUaGUgaW1hZ2UgYXMgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBbYEltYWdlRGF0YWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JbWFnZURhdGEpLCBbYEltYWdlQml0bWFwYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ltYWdlQml0bWFwKSBvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYFxuICAgICAqIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICogLy8gTG9hZCBhbiBpbWFnZSBmcm9tIGFuIGV4dGVybmFsIFVSTC5cbiAgICAgKiBtYXAubG9hZEltYWdlKCdodHRwOi8vcGxhY2VraXR0ZW4uY29tLzUwLzUwJywgKGVycm9yLCBpbWFnZSkgPT4ge1xuICAgICAqICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAqICAgICAvLyBJZiBhbiBpbWFnZSB3aXRoIHRoZSBJRCAnY2F0JyBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgc3R5bGUncyBzcHJpdGUsXG4gICAgICogICAgIC8vIHJlcGxhY2UgdGhhdCBpbWFnZSB3aXRoIGEgbmV3IGltYWdlLCAnb3RoZXItY2F0LWljb24ucG5nJy5cbiAgICAgKiAgICAgaWYgKG1hcC5oYXNJbWFnZSgnY2F0JykpIG1hcC51cGRhdGVJbWFnZSgnY2F0JywgaW1hZ2UpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHVwZGF0ZUltYWdlKGlkOiBzdHJpbmcsXG4gICAgICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50IHwgSW1hZ2VCaXRtYXAgfCBJbWFnZURhdGEgfCB7d2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGRhdGE6IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gfCBTdHlsZUltYWdlSW50ZXJmYWNlKSB7XG5cbiAgICAgICAgY29uc3QgZXhpc3RpbmdJbWFnZSA9IHRoaXMuc3R5bGUuZ2V0SW1hZ2UoaWQpO1xuICAgICAgICBpZiAoIWV4aXN0aW5nSW1hZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ1RoZSBtYXAgaGFzIG5vIGltYWdlIHdpdGggdGhhdCBpZC4gSWYgeW91IGFyZSBhZGRpbmcgYSBuZXcgaW1hZ2UgdXNlIGBtYXAuYWRkSW1hZ2UoLi4uKWAgaW5zdGVhZC4nKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IChpbWFnZSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSW1hZ2VFbGVtZW50IHx8ICh3aW5kb3cuSW1hZ2VCaXRtYXAgJiYgaW1hZ2UgaW5zdGFuY2VvZiB3aW5kb3cuSW1hZ2VCaXRtYXApKSA/IGJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGltYWdlKSA6IGltYWdlO1xuICAgICAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBpbWFnZURhdGE7XG4gICAgICAgIC8vIEZsb3cgY2FuJ3QgcmVmaW5lIHRoZSB0eXBlIGVub3VnaCB0byBleGNsdWRlIEltYWdlQml0bWFwXG4gICAgICAgIGNvbnN0IGRhdGEgPSAoKGltYWdlRGF0YTogYW55KS5kYXRhOiBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXkpO1xuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkIHx8IGhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAudXBkYXRlSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAsICcgK1xuICAgICAgICAgICAgICAgICdvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYCBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgJykpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCAhPT0gZXhpc3RpbmdJbWFnZS5kYXRhLndpZHRoIHx8IGhlaWdodCAhPT0gZXhpc3RpbmdJbWFnZS5kYXRhLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgVGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHVwZGF0ZWQgaW1hZ2UgKCR7d2lkdGh9LCAke2hlaWdodH0pXG4gICAgICAgICAgICAgICAgbXVzdCBiZSB0aGF0IHNhbWUgYXMgdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgdGhlIGltYWdlXG4gICAgICAgICAgICAgICAgKCR7ZXhpc3RpbmdJbWFnZS5kYXRhLndpZHRofSwgJHtleGlzdGluZ0ltYWdlLmRhdGEuaGVpZ2h0fSlgKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29weSA9ICEoaW1hZ2UgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEltYWdlRWxlbWVudCB8fCAod2luZG93LkltYWdlQml0bWFwICYmIGltYWdlIGluc3RhbmNlb2Ygd2luZG93LkltYWdlQml0bWFwKSk7XG4gICAgICAgIGV4aXN0aW5nSW1hZ2UuZGF0YS5yZXBsYWNlKGRhdGEsIGNvcHkpO1xuXG4gICAgICAgIHRoaXMuc3R5bGUudXBkYXRlSW1hZ2UoaWQsIGV4aXN0aW5nSW1hZ2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIHdoZXRoZXIgb3Igbm90IGFuIGltYWdlIHdpdGggYSBzcGVjaWZpYyBJRCBleGlzdHMgaW4gdGhlIHN0eWxlLiBUaGlzIGNoZWNrcyBib3RoIGltYWdlc1xuICAgICAqIGluIHRoZSBzdHlsZSdzIG9yaWdpbmFsIFtzcHJpdGVdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvZ2xvc3Nhcnkvc3ByaXRlLykgYW5kIGFueSBpbWFnZXNcbiAgICAgKiB0aGF0IGhhdmUgYmVlbiBhZGRlZCBhdCBydW50aW1lIHVzaW5nIHtAbGluayBNYXAjYWRkSW1hZ2V9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgaW1hZ2UgZXhpc3RzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ2hlY2sgaWYgYW4gaW1hZ2Ugd2l0aCB0aGUgSUQgJ2NhdCcgZXhpc3RzIGluXG4gICAgICogLy8gdGhlIHN0eWxlJ3Mgc3ByaXRlLlxuICAgICAqIGNvbnN0IGNhdEljb25FeGlzdHMgPSBtYXAuaGFzSW1hZ2UoJ2NhdCcpO1xuICAgICAqL1xuICAgIGhhc0ltYWdlKGlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBpbWFnZSBpZCcpKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISF0aGlzLnN0eWxlLmdldEltYWdlKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gaW1hZ2UgZnJvbSBhIHN0eWxlLiBUaGlzIGNhbiBiZSBhbiBpbWFnZSBmcm9tIHRoZSBzdHlsZSdzIG9yaWdpbmFsXG4gICAgICogW3Nwcml0ZV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9zcHJpdGUvKSBvciBhbnkgaW1hZ2VzXG4gICAgICogdGhhdCBoYXZlIGJlZW4gYWRkZWQgYXQgcnVudGltZSB1c2luZyB7QGxpbmsgTWFwI2FkZEltYWdlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIGltYWdlLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJZiBhbiBpbWFnZSB3aXRoIHRoZSBJRCAnY2F0JyBleGlzdHMgaW5cbiAgICAgKiAvLyB0aGUgc3R5bGUncyBzcHJpdGUsIHJlbW92ZSBpdC5cbiAgICAgKiBpZiAobWFwLmhhc0ltYWdlKCdjYXQnKSkgbWFwLnJlbW92ZUltYWdlKCdjYXQnKTtcbiAgICAgKi9cbiAgICByZW1vdmVJbWFnZShpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3R5bGUucmVtb3ZlSW1hZ2UoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWQgYW4gaW1hZ2UgZnJvbSBhbiBleHRlcm5hbCBVUkwgdG8gYmUgdXNlZCB3aXRoIHtAbGluayBNYXAjYWRkSW1hZ2V9LiBFeHRlcm5hbFxuICAgICAqIGRvbWFpbnMgbXVzdCBzdXBwb3J0IFtDT1JTXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0FjY2Vzc19jb250cm9sX0NPUlMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIG9mIHRoZSBpbWFnZSBmaWxlLiBJbWFnZSBmaWxlIG11c3QgYmUgaW4gcG5nLCB3ZWJwLCBvciBqcGcgZm9ybWF0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIEV4cGVjdGluZyBgY2FsbGJhY2soZXJyb3IsIGRhdGEpYC4gQ2FsbGVkIHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWQgb3Igd2l0aCBhbiBlcnJvciBhcmd1bWVudCBpZiB0aGVyZSBpcyBhbiBlcnJvci5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gTG9hZCBhbiBpbWFnZSBmcm9tIGFuIGV4dGVybmFsIFVSTC5cbiAgICAgKiBtYXAubG9hZEltYWdlKCdodHRwOi8vcGxhY2VraXR0ZW4uY29tLzUwLzUwJywgKGVycm9yLCBpbWFnZSkgPT4ge1xuICAgICAqICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAqICAgICAvLyBBZGQgdGhlIGxvYWRlZCBpbWFnZSB0byB0aGUgc3R5bGUncyBzcHJpdGUgd2l0aCB0aGUgSUQgJ2tpdHRlbicuXG4gICAgICogICAgIG1hcC5hZGRJbWFnZSgna2l0dGVuJywgaW1hZ2UpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHNlZSBbRXhhbXBsZTogQWRkIGFuIGljb24gdG8gdGhlIG1hcF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hZGQtaW1hZ2UvKVxuICAgICAqL1xuICAgIGxvYWRJbWFnZSh1cmw6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGdldEltYWdlKHRoaXMuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuSW1hZ2UpLCAoZXJyLCBpbWcpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgaW1nIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJbWFnZUVsZW1lbnQgPyBicm93c2VyLmdldEltYWdlRGF0YShpbWcpIDogaW1nKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIGFuIEFycmF5IG9mIHN0cmluZ3MgY29udGFpbmluZyB0aGUgSURzIG9mIGFsbCBpbWFnZXMgY3VycmVudGx5IGF2YWlsYWJsZSBpbiB0aGUgbWFwLlxuICAgICogVGhpcyBpbmNsdWRlcyBib3RoIGltYWdlcyBmcm9tIHRoZSBzdHlsZSdzIG9yaWdpbmFsIFtzcHJpdGVdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvZ2xvc3Nhcnkvc3ByaXRlLylcbiAgICAqIGFuZCBhbnkgaW1hZ2VzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIGF0IHJ1bnRpbWUgdXNpbmcge0BsaW5rIE1hcCNhZGRJbWFnZX0uXG4gICAgKlxuICAgICogQHJldHVybnMge0FycmF5PHN0cmluZz59IEFuIEFycmF5IG9mIHN0cmluZ3MgY29udGFpbmluZyB0aGUgbmFtZXMgb2YgYWxsIHNwcml0ZXMvaW1hZ2VzIGN1cnJlbnRseSBhdmFpbGFibGUgaW4gdGhlIG1hcC5cbiAgICAqXG4gICAgKiBAZXhhbXBsZVxuICAgICogY29uc3QgYWxsSW1hZ2VzID0gbWFwLmxpc3RJbWFnZXMoKTtcbiAgICAqXG4gICAgKi9cbiAgICBsaXN0SW1hZ2VzKCk6IEFycmF5PHN0cmluZz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5saXN0SW1hZ2VzKCk7XG4gICAgfVxuXG4gICAgLyoqIEBzZWN0aW9uIHtMYXllcnN9ICovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgW01hcGJveCBzdHlsZSBsYXllcl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvI2xheWVycylcbiAgICAgKiB0byB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBBIGxheWVyIGRlZmluZXMgaG93IGRhdGEgZnJvbSBhIHNwZWNpZmllZCBzb3VyY2Ugd2lsbCBiZSBzdHlsZWQuIFJlYWQgbW9yZSBhYm91dCBsYXllciB0eXBlc1xuICAgICAqIGFuZCBhdmFpbGFibGUgcGFpbnQgYW5kIGxheW91dCBwcm9wZXJ0aWVzIGluIHRoZSBbTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNsYXllcnMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBDdXN0b21MYXllckludGVyZmFjZX0gbGF5ZXIgVGhlIGxheWVyIHRvIGFkZCwgY29uZm9ybWluZyB0byBlaXRoZXIgdGhlIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uJ3MgW2xheWVyIGRlZmluaXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNsYXllcnMpIG9yLCBsZXNzIGNvbW1vbmx5LCB0aGUge0BsaW5rIEN1c3RvbUxheWVySW50ZXJmYWNlfSBzcGVjaWZpY2F0aW9uLlxuICAgICAqIFRoZSBNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbidzIGxheWVyIGRlZmluaXRpb24gaXMgYXBwcm9wcmlhdGUgZm9yIG1vc3QgbGF5ZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyLmlkIEEgdW5pcXVlIGlkZW50aWZpZXIgdGhhdCB5b3UgZGVmaW5lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllci50eXBlIFRoZSB0eXBlIG9mIGxheWVyIChmb3IgZXhhbXBsZSBgZmlsbGAgb3IgYHN5bWJvbGApLlxuICAgICAqIEEgbGlzdCBvZiBsYXllciB0eXBlcyBpcyBhdmFpbGFibGUgaW4gdGhlIFtNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvbGF5ZXJzLyN0eXBlKS5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGFsc28gYmUgYGN1c3RvbWAuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUge0BsaW5rIEN1c3RvbUxheWVySW50ZXJmYWNlfS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IE9iamVjdH0gW2xheWVyLnNvdXJjZV0gVGhlIGRhdGEgc291cmNlIGZvciB0aGUgbGF5ZXIuXG4gICAgICogUmVmZXJlbmNlIGEgc291cmNlIHRoYXQgaGFzIF9hbHJlYWR5IGJlZW4gZGVmaW5lZF8gdXNpbmcgdGhlIHNvdXJjZSdzIHVuaXF1ZSBpZC5cbiAgICAgKiBSZWZlcmVuY2UgYSBfbmV3IHNvdXJjZV8gdXNpbmcgYSBzb3VyY2Ugb2JqZWN0IChhcyBkZWZpbmVkIGluIHRoZSBbTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvKSkgZGlyZWN0bHkuXG4gICAgICogVGhpcyBpcyAqKnJlcXVpcmVkKiogZm9yIGFsbCBgbGF5ZXIudHlwZWAgb3B0aW9ucyBfZXhjZXB0XyBmb3IgYGN1c3RvbWAgYW5kIGBiYWNrZ3JvdW5kYC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xheWVyLnNvdXJjZUxheWVyXSAob3B0aW9uYWwpIFRoZSBuYW1lIG9mIHRoZSBbc291cmNlIGxheWVyXShodHRwczovL2RvY3MubWFwYm94LmNvbS9oZWxwL2dsb3NzYXJ5L3NvdXJjZS1sYXllci8pIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGBsYXllci5zb3VyY2VgIHRvIHVzZSBmb3IgdGhpcyBzdHlsZSBsYXllci5cbiAgICAgKiBUaGlzIGlzIG9ubHkgYXBwbGljYWJsZSBmb3IgdmVjdG9yIHRpbGUgc291cmNlcyBhbmQgaXMgKipyZXF1aXJlZCoqIHdoZW4gYGxheWVyLnNvdXJjZWAgaXMgb2YgdGhlIHR5cGUgYHZlY3RvcmAuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2xheWVyLmZpbHRlcl0gKG9wdGlvbmFsKSBBbiBleHByZXNzaW9uIHNwZWNpZnlpbmcgY29uZGl0aW9ucyBvbiBzb3VyY2UgZmVhdHVyZXMuXG4gICAgICogT25seSBmZWF0dXJlcyB0aGF0IG1hdGNoIHRoZSBmaWx0ZXIgYXJlIGRpc3BsYXllZC5cbiAgICAgKiBUaGUgTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb24gaW5jbHVkZXMgbW9yZSBpbmZvcm1hdGlvbiBvbiB0aGUgbGltaXRhdGlvbnMgb2YgdGhlIFtgZmlsdGVyYF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvbGF5ZXJzLyNmaWx0ZXIpIHBhcmFtZXRlclxuICAgICAqIGFuZCBhIGNvbXBsZXRlIGxpc3Qgb2YgYXZhaWxhYmxlIFtleHByZXNzaW9uc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvZXhwcmVzc2lvbnMvKS5cbiAgICAgKiBJZiBubyBmaWx0ZXIgaXMgcHJvdmlkZWQsIGFsbCBmZWF0dXJlcyBpbiB0aGUgc291cmNlIChvciBzb3VyY2UgbGF5ZXIgZm9yIHZlY3RvciB0aWxlc2V0cykgd2lsbCBiZSBkaXNwbGF5ZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtsYXllci5wYWludF0gKG9wdGlvbmFsKSBQYWludCBwcm9wZXJ0aWVzIGZvciB0aGUgbGF5ZXIuXG4gICAgICogQXZhaWxhYmxlIHBhaW50IHByb3BlcnRpZXMgdmFyeSBieSBgbGF5ZXIudHlwZWAuXG4gICAgICogQSBmdWxsIGxpc3Qgb2YgcGFpbnQgcHJvcGVydGllcyBmb3IgZWFjaCBsYXllciB0eXBlIGlzIGF2YWlsYWJsZSBpbiB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy9sYXllcnMvKS5cbiAgICAgKiBJZiBubyBwYWludCBwcm9wZXJ0aWVzIGFyZSBzcGVjaWZpZWQsIGRlZmF1bHQgdmFsdWVzIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2xheWVyLmxheW91dF0gKG9wdGlvbmFsKSBMYXlvdXQgcHJvcGVydGllcyBmb3IgdGhlIGxheWVyLlxuICAgICAqIEF2YWlsYWJsZSBsYXlvdXQgcHJvcGVydGllcyB2YXJ5IGJ5IGBsYXllci50eXBlYC5cbiAgICAgKiBBIGZ1bGwgbGlzdCBvZiBsYXlvdXQgcHJvcGVydGllcyBmb3IgZWFjaCBsYXllciB0eXBlIGlzIGF2YWlsYWJsZSBpbiB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy9sYXllcnMvKS5cbiAgICAgKiBJZiBubyBsYXlvdXQgcHJvcGVydGllcyBhcmUgc3BlY2lmaWVkLCBkZWZhdWx0IHZhbHVlcyB3aWxsIGJlIHVzZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsYXllci5tYXh6b29tXSAob3B0aW9uYWwpIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBsYXllci5cbiAgICAgKiBBdCB6b29tIGxldmVscyBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gdGhlIG1heHpvb20sIHRoZSBsYXllciB3aWxsIGJlIGhpZGRlbi5cbiAgICAgKiBUaGUgdmFsdWUgY2FuIGJlIGFueSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIGAyNGAgKGluY2x1c2l2ZSkuXG4gICAgICogSWYgbm8gbWF4em9vbSBpcyBwcm92aWRlZCwgdGhlIGxheWVyIHdpbGwgYmUgdmlzaWJsZSBhdCBhbGwgem9vbSBsZXZlbHMgZm9yIHdoaWNoIHRoZXJlIGFyZSB0aWxlcyBhdmFpbGFibGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsYXllci5taW56b29tXSAob3B0aW9uYWwpIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBsYXllci5cbiAgICAgKiBBdCB6b29tIGxldmVscyBsZXNzIHRoYW4gdGhlIG1pbnpvb20sIHRoZSBsYXllciB3aWxsIGJlIGhpZGRlbi5cbiAgICAgKiBUaGUgdmFsdWUgY2FuIGJlIGFueSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIGAyNGAgKGluY2x1c2l2ZSkuXG4gICAgICogSWYgbm8gbWluem9vbSBpcyBwcm92aWRlZCwgdGhlIGxheWVyIHdpbGwgYmUgdmlzaWJsZSBhdCBhbGwgem9vbSBsZXZlbHMgZm9yIHdoaWNoIHRoZXJlIGFyZSB0aWxlcyBhdmFpbGFibGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtsYXllci5tZXRhZGF0YV0gKG9wdGlvbmFsKSBBcmJpdHJhcnkgcHJvcGVydGllcyB1c2VmdWwgdG8gdHJhY2sgd2l0aCB0aGUgbGF5ZXIsIGJ1dCBkbyBub3QgaW5mbHVlbmNlIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xheWVyLnJlbmRlcmluZ01vZGVdIFRoaXMgaXMgb25seSBhcHBsaWNhYmxlIGZvciBsYXllcnMgd2l0aCB0aGUgdHlwZSBgY3VzdG9tYC5cbiAgICAgKiBTZWUge0BsaW5rIEN1c3RvbUxheWVySW50ZXJmYWNlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2JlZm9yZUlkXSBUaGUgSUQgb2YgYW4gZXhpc3RpbmcgbGF5ZXIgdG8gaW5zZXJ0IHRoZSBuZXcgbGF5ZXIgYmVmb3JlLFxuICAgICAqIHJlc3VsdGluZyBpbiB0aGUgbmV3IGxheWVyIGFwcGVhcmluZyB2aXN1YWxseSBiZW5lYXRoIHRoZSBleGlzdGluZyBsYXllci5cbiAgICAgKiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzcGVjaWZpZWQsIHRoZSBsYXllciB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGxheWVycyBhcnJheVxuICAgICAqIGFuZCBhcHBlYXIgdmlzdWFsbHkgYWJvdmUgYWxsIG90aGVyIGxheWVycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEFkZCBhIGNpcmNsZSBsYXllciB3aXRoIGEgdmVjdG9yIHNvdXJjZVxuICAgICAqIG1hcC5hZGRMYXllcih7XG4gICAgICogICAgIGlkOiAncG9pbnRzLW9mLWludGVyZXN0JyxcbiAgICAgKiAgICAgc291cmNlOiB7XG4gICAgICogICAgICAgICB0eXBlOiAndmVjdG9yJyxcbiAgICAgKiAgICAgICAgIHVybDogJ21hcGJveDovL21hcGJveC5tYXBib3gtc3RyZWV0cy12OCdcbiAgICAgKiAgICAgfSxcbiAgICAgKiAgICAgJ3NvdXJjZS1sYXllcic6ICdwb2lfbGFiZWwnLFxuICAgICAqICAgICB0eXBlOiAnY2lyY2xlJyxcbiAgICAgKiAgICAgcGFpbnQ6IHtcbiAgICAgKiAgICAgLy8gTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb24gcGFpbnQgcHJvcGVydGllc1xuICAgICAqICAgICB9LFxuICAgICAqICAgICBsYXlvdXQ6IHtcbiAgICAgKiAgICAgLy8gTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb24gbGF5b3V0IHByb3BlcnRpZXNcbiAgICAgKiAgICAgfVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEZWZpbmUgYSBzb3VyY2UgYmVmb3JlIHVzaW5nIGl0IHRvIGNyZWF0ZSBhIG5ldyBsYXllclxuICAgICAqIG1hcC5hZGRTb3VyY2UoJ3N0YXRlLWRhdGEnLCB7XG4gICAgICogICAgIHR5cGU6ICdnZW9qc29uJyxcbiAgICAgKiAgICAgZGF0YTogJ3BhdGgvdG8vZGF0YS5nZW9qc29uJ1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogbWFwLmFkZExheWVyKHtcbiAgICAgKiAgICAgaWQ6ICdzdGF0ZXMnLFxuICAgICAqICAgICAvLyBSZWZlcmVuY2VzIHRoZSBHZW9KU09OIHNvdXJjZSBkZWZpbmVkIGFib3ZlXG4gICAgICogICAgIC8vIGFuZCBkb2VzIG5vdCByZXF1aXJlIGEgYHNvdXJjZS1sYXllcmBcbiAgICAgKiAgICAgc291cmNlOiAnc3RhdGUtZGF0YScsXG4gICAgICogICAgIHR5cGU6ICdzeW1ib2wnLFxuICAgICAqICAgICBsYXlvdXQ6IHtcbiAgICAgKiAgICAgICAgIC8vIFNldCB0aGUgbGFiZWwgY29udGVudCB0byB0aGVcbiAgICAgKiAgICAgICAgIC8vIGZlYXR1cmUncyBgbmFtZWAgcHJvcGVydHlcbiAgICAgKiAgICAgICAgICd0ZXh0LWZpZWxkJzogWydnZXQnLCAnbmFtZSddXG4gICAgICogICAgIH1cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQWRkIGEgbmV3IHN5bWJvbCBsYXllciBiZWZvcmUgYW4gZXhpc3RpbmcgbGF5ZXJcbiAgICAgKiBtYXAuYWRkTGF5ZXIoe1xuICAgICAqICAgICBpZDogJ3N0YXRlcycsXG4gICAgICogICAgIC8vIFJlZmVyZW5jZXMgYSBzb3VyY2UgdGhhdCdzIGFscmVhZHkgYmVlbiBkZWZpbmVkXG4gICAgICogICAgIHNvdXJjZTogJ3N0YXRlLWRhdGEnLFxuICAgICAqICAgICB0eXBlOiAnc3ltYm9sJyxcbiAgICAgKiAgICAgbGF5b3V0OiB7XG4gICAgICogICAgICAgICAvLyBTZXQgdGhlIGxhYmVsIGNvbnRlbnQgdG8gdGhlXG4gICAgICogICAgICAgICAvLyBmZWF0dXJlJ3MgYG5hbWVgIHByb3BlcnR5XG4gICAgICogICAgICAgICAndGV4dC1maWVsZCc6IFsnZ2V0JywgJ25hbWUnXVxuICAgICAqICAgICB9XG4gICAgICogLy8gQWRkIHRoZSBsYXllciBiZWZvcmUgdGhlIGV4aXN0aW5nIGBjaXRpZXNgIGxheWVyXG4gICAgICogfSwgJ2NpdGllcycpO1xuICAgICAqXG4gICAgICogQHNlZSBbRXhhbXBsZTogU2VsZWN0IGZlYXR1cmVzIGFyb3VuZCBhIGNsaWNrZWQgcG9pbnRdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3F1ZXJ5cmVuZGVyZWRmZWF0dXJlcy1hcm91bmQtcG9pbnQvKSAoZmlsbCBsYXllcilcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSBuZXcgbGF5ZXIgYmVsb3cgbGFiZWxzXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nZW9qc29uLWxheWVyLWluLXN0YWNrLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYW5kIHN0eWxlIGNsdXN0ZXJzXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jbHVzdGVyLykgKGNpcmNsZSBsYXllcilcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSB2ZWN0b3IgdGlsZSBzb3VyY2VdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3ZlY3Rvci1zb3VyY2UvKSAobGluZSBsYXllcilcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSBXTVMgbGF5ZXJdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3dtcy8pIChyYXN0ZXIgbGF5ZXIpXG4gICAgICovXG4gICAgYWRkTGF5ZXIobGF5ZXI6IExheWVyU3BlY2lmaWNhdGlvbiB8IEN1c3RvbUxheWVySW50ZXJmYWNlLCBiZWZvcmVJZD86IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKTtcbiAgICAgICAgdGhpcy5zdHlsZS5hZGRMYXllcihsYXllciwgYmVmb3JlSWQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGEgbGF5ZXIgdG8gYSBkaWZmZXJlbnQgei1wb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIG1vdmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiZWZvcmVJZF0gVGhlIElEIG9mIGFuIGV4aXN0aW5nIGxheWVyIHRvIGluc2VydCB0aGUgbmV3IGxheWVyIGJlZm9yZS4gV2hlbiB2aWV3aW5nIHRoZSBtYXAsIHRoZSBgaWRgIGxheWVyIHdpbGwgYXBwZWFyIGJlbmVhdGggdGhlIGBiZWZvcmVJZGAgbGF5ZXIuIElmIGBiZWZvcmVJZGAgaXMgb21pdHRlZCwgdGhlIGxheWVyIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIGVuZCBvZiB0aGUgbGF5ZXJzIGFycmF5IGFuZCBhcHBlYXIgYWJvdmUgYWxsIG90aGVyIGxheWVycyBvbiB0aGUgbWFwLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIE1vdmUgYSBsYXllciB3aXRoIElEICdwb2x5Z29uJyBiZWZvcmUgdGhlIGxheWVyIHdpdGggSUQgJ2NvdW50cnktbGFiZWwnLiBUaGUgYHBvbHlnb25gIGxheWVyIHdpbGwgYXBwZWFyIGJlbmVhdGggdGhlIGBjb3VudHJ5LWxhYmVsYCBsYXllciBvbiB0aGUgbWFwLlxuICAgICAqIG1hcC5tb3ZlTGF5ZXIoJ3BvbHlnb24nLCAnY291bnRyeS1sYWJlbCcpO1xuICAgICAqL1xuICAgIG1vdmVMYXllcihpZDogc3RyaW5nLCBiZWZvcmVJZD86IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLnN0eWxlLm1vdmVMYXllcihpZCwgYmVmb3JlSWQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxheWVyIHdpdGggdGhlIGdpdmVuIElEIGZyb20gdGhlIG1hcCdzIHN0eWxlLlxuICAgICAqXG4gICAgICogSWYgbm8gc3VjaCBsYXllciBleGlzdHMsIGFuIGBlcnJvcmAgZXZlbnQgaXMgZmlyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgdGhlIGxheWVyIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6ZXJyb3JcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSWYgYSBsYXllciB3aXRoIElEICdzdGF0ZS1kYXRhJyBleGlzdHMsIHJlbW92ZSBpdC5cbiAgICAgKiBpZiAobWFwLmdldExheWVyKCdzdGF0ZS1kYXRhJykpIG1hcC5yZW1vdmVMYXllcignc3RhdGUtZGF0YScpO1xuICAgICAqL1xuICAgIHJlbW92ZUxheWVyKGlkOiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5zdHlsZS5yZW1vdmVMYXllcihpZCk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGF5ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIElEIGluIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7P09iamVjdH0gVGhlIGxheWVyIHdpdGggdGhlIHNwZWNpZmllZCBJRCwgb3IgYHVuZGVmaW5lZGBcbiAgICAgKiAgIGlmIHRoZSBJRCBjb3JyZXNwb25kcyB0byBubyBleGlzdGluZyBsYXllcnMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHN0YXRlRGF0YUxheWVyID0gbWFwLmdldExheWVyKCdzdGF0ZS1kYXRhJyk7XG4gICAgICpcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBGaWx0ZXIgc3ltYm9scyBieSB0b2dnbGluZyBhIGxpc3RdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLW1hcmtlcnMvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IEZpbHRlciBzeW1ib2xzIGJ5IHRleHQgaW5wdXRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLW1hcmtlcnMtYnktaW5wdXQvKVxuICAgICAqL1xuICAgIGdldExheWVyKGlkOiBzdHJpbmcpOiA/U3R5bGVMYXllciB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldExheWVyKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB6b29tIGV4dGVudCBmb3IgdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci4gVGhlIHpvb20gZXh0ZW50IGluY2x1ZGVzIHRoZVxuICAgICAqIFttaW5pbXVtIHpvb20gbGV2ZWxdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNsYXllci1taW56b29tKVxuICAgICAqIGFuZCBbbWF4aW11bSB6b29tIGxldmVsXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy8jbGF5ZXItbWF4em9vbSkpXG4gICAgICogYXQgd2hpY2ggdGhlIGxheWVyIHdpbGwgYmUgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBOb3RlOiBGb3Igc3R5bGUgbGF5ZXJzIHVzaW5nIHZlY3RvciBzb3VyY2VzLCBzdHlsZSBsYXllcnMgY2Fubm90IGJlIHJlbmRlcmVkIGF0IHpvb20gbGV2ZWxzIGxvd2VyIHRoYW4gdGhlXG4gICAgICogbWluaW11bSB6b29tIGxldmVsIG9mIHRoZSBfc291cmNlIGxheWVyXyBiZWNhdXNlIHRoZSBkYXRhIGRvZXMgbm90IGV4aXN0IGF0IHRob3NlIHpvb20gbGV2ZWxzLiBJZiB0aGUgbWluaW11bVxuICAgICAqIHpvb20gbGV2ZWwgb2YgdGhlIHNvdXJjZSBsYXllciBpcyBoaWdoZXIgdGhhbiB0aGUgbWluaW11bSB6b29tIGxldmVsIGRlZmluZWQgaW4gdGhlIHN0eWxlIGxheWVyLCB0aGUgc3R5bGVcbiAgICAgKiBsYXllciB3aWxsIG5vdCBiZSByZW5kZXJlZCBhdCBhbGwgem9vbSBsZXZlbHMgaW4gdGhlIHpvb20gcmFuZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXJJZCBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIHdoaWNoIHRoZSB6b29tIGV4dGVudCB3aWxsIGJlIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbnpvb20gVGhlIG1pbmltdW0gem9vbSB0byBzZXQgKDAtMjQpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXh6b29tIFRoZSBtYXhpbXVtIHpvb20gdG8gc2V0ICgwLTI0KS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TGF5ZXJab29tUmFuZ2UoJ215LWxheWVyJywgMiwgNSk7XG4gICAgICpcbiAgICAgKi9cbiAgICBzZXRMYXllclpvb21SYW5nZShsYXllcklkOiBzdHJpbmcsIG1pbnpvb206IG51bWJlciwgbWF4em9vbTogbnVtYmVyKTogdGhpcyB7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0TGF5ZXJab29tUmFuZ2UobGF5ZXJJZCwgbWluem9vbSwgbWF4em9vbSk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZmlsdGVyIGZvciB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogRmlsdGVycyBjb250cm9sIHdoaWNoIGZlYXR1cmVzIGEgc3R5bGUgbGF5ZXIgcmVuZGVycyBmcm9tIGl0cyBzb3VyY2UuXG4gICAgICogQW55IGZlYXR1cmUgZm9yIHdoaWNoIHRoZSBmaWx0ZXIgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYHRydWVgIHdpbGwgYmVcbiAgICAgKiByZW5kZXJlZCBvbiB0aGUgbWFwLiBUaG9zZSB0aGF0IGFyZSBmYWxzZSB3aWxsIGJlIGhpZGRlbi5cbiAgICAgKlxuICAgICAqIFVzZSBgc2V0RmlsdGVyYCB0byBzaG93IGEgc3Vic2V0IG9mIHlvdXIgc291cmNlIGRhdGEuXG4gICAgICpcbiAgICAgKiBUbyBjbGVhciB0aGUgZmlsdGVyLCBwYXNzIGBudWxsYCBvciBgdW5kZWZpbmVkYCBhcyB0aGUgc2Vjb25kIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllcklkIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gd2hpY2ggdGhlIGZpbHRlciB3aWxsIGJlIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtBcnJheSB8IG51bGwgfCB1bmRlZmluZWR9IGZpbHRlciBUaGUgZmlsdGVyLCBjb25mb3JtaW5nIHRvIHRoZSBNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbidzXG4gICAgICogICBbZmlsdGVyIGRlZmluaXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL2xheWVycy8jZmlsdGVyKS4gIElmIGBudWxsYCBvciBgdW5kZWZpbmVkYCBpcyBwcm92aWRlZCwgdGhlIGZ1bmN0aW9uIHJlbW92ZXMgYW55IGV4aXN0aW5nIGZpbHRlciBmcm9tIHRoZSBsYXllci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudmFsaWRhdGU9dHJ1ZV0gV2hldGhlciB0byBjaGVjayBpZiB0aGUgZmlsdGVyIGNvbmZvcm1zIHRvIHRoZSBNYXBib3ggR0wgU3R5bGUgU3BlY2lmaWNhdGlvbi4gRGlzYWJsaW5nIHZhbGlkYXRpb24gaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdGhhdCBzaG91bGQgb25seSBiZSB1c2VkIGlmIHlvdSBoYXZlIHByZXZpb3VzbHkgdmFsaWRhdGVkIHRoZSB2YWx1ZXMgeW91IHdpbGwgYmUgcGFzc2luZyB0byB0aGlzIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGRpc3BsYXkgb25seSBmZWF0dXJlcyB3aXRoIHRoZSAnbmFtZScgcHJvcGVydHkgJ1VTQSdcbiAgICAgKiBtYXAuc2V0RmlsdGVyKCdteS1sYXllcicsIFsnPT0nLCBbJ2dldCcsICduYW1lJ10sICdVU0EnXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBkaXNwbGF5IG9ubHkgZmVhdHVyZXMgd2l0aCBmaXZlIG9yIG1vcmUgJ2F2YWlsYWJsZS1zcG90cydcbiAgICAgKiBtYXAuc2V0RmlsdGVyKCdiaWtlLWRvY2tzJywgWyc+PScsIFsnZ2V0JywgJ2F2YWlsYWJsZS1zcG90cyddLCA1XSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyByZW1vdmUgdGhlIGZpbHRlciBmb3IgdGhlICdiaWtlLWRvY2tzJyBzdHlsZSBsYXllclxuICAgICAqIG1hcC5zZXRGaWx0ZXIoJ2Jpa2UtZG9ja3MnLCBudWxsKTtcbiAgICAgKlxuICAgICAqIEBzZWUgW0V4YW1wbGU6IEZpbHRlciBmZWF0dXJlcyB3aXRoaW4gbWFwIHZpZXddKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLWZlYXR1cmVzLXdpdGhpbi1tYXAtdmlldy8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIGNvbnRhaW5pbmcgc2ltaWxhciBkYXRhXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3F1ZXJ5LXNpbWlsYXItZmVhdHVyZXMvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IENyZWF0ZSBhIHRpbWVsaW5lIGFuaW1hdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90aW1lbGluZS1hbmltYXRpb24vKVxuICAgICAqIEBzZWUgW1R1dG9yaWFsOiBTaG93IGNoYW5nZXMgb3ZlciB0aW1lXShodHRwczovL2RvY3MubWFwYm94LmNvbS9oZWxwL3R1dG9yaWFscy9zaG93LWNoYW5nZXMtb3Zlci10aW1lLylcbiAgICAgKi9cbiAgICBzZXRGaWx0ZXIobGF5ZXJJZDogc3RyaW5nLCBmaWx0ZXI6ID9GaWx0ZXJTcGVjaWZpY2F0aW9uLCAgb3B0aW9uczogU3R5bGVTZXR0ZXJPcHRpb25zID0ge30pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRGaWx0ZXIobGF5ZXJJZCwgZmlsdGVyLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBmaWx0ZXIgYXBwbGllZCB0byB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVySWQgVGhlIElEIG9mIHRoZSBzdHlsZSBsYXllciB3aG9zZSBmaWx0ZXIgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGxheWVyJ3MgZmlsdGVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZmlsdGVyID0gbWFwLmdldEZpbHRlcignbXlMYXllcicpO1xuICAgICAqL1xuICAgIGdldEZpbHRlcihsYXllcklkOiBzdHJpbmcpOiA/RmlsdGVyU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldEZpbHRlcihsYXllcklkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIHBhaW50IHByb3BlcnR5IGluIHRoZSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXJJZCBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIHNldCB0aGUgcGFpbnQgcHJvcGVydHkgaW4uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHBhaW50IHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgcGFpbnQgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqICAgTXVzdCBiZSBvZiBhIHR5cGUgYXBwcm9wcmlhdGUgZm9yIHRoZSBwcm9wZXJ0eSwgYXMgZGVmaW5lZCBpbiB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLykuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnZhbGlkYXRlPXRydWVdIFdoZXRoZXIgdG8gY2hlY2sgaWYgYHZhbHVlYCBjb25mb3JtcyB0byB0aGUgTWFwYm94IEdMIFN0eWxlIFNwZWNpZmljYXRpb24uIERpc2FibGluZyB2YWxpZGF0aW9uIGlzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRoYXQgc2hvdWxkIG9ubHkgYmUgdXNlZCBpZiB5b3UgaGF2ZSBwcmV2aW91c2x5IHZhbGlkYXRlZCB0aGUgdmFsdWVzIHlvdSB3aWxsIGJlIHBhc3NpbmcgdG8gdGhpcyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldFBhaW50UHJvcGVydHkoJ215LWxheWVyJywgJ2ZpbGwtY29sb3InLCAnI2ZhYWZlZScpO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IENoYW5nZSBhIGxheWVyJ3MgY29sb3Igd2l0aCBidXR0b25zXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NvbG9yLXN3aXRjaGVyLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGp1c3QgYSBsYXllcidzIG9wYWNpdHldKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRqdXN0LWxheWVyLW9wYWNpdHkvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IENyZWF0ZSBhIGRyYWdnYWJsZSBwb2ludF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHNldFBhaW50UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksIG9wdGlvbnM6IFN0eWxlU2V0dGVyT3B0aW9ucyA9IHt9KTogdGhpcyB7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0UGFpbnRQcm9wZXJ0eShsYXllcklkLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBwYWludCBwcm9wZXJ0eSBpbiB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVySWQgVGhlIElEIG9mIHRoZSBsYXllciB0byBnZXQgdGhlIHBhaW50IHByb3BlcnR5IGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgYSBwYWludCBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSBvZiB0aGUgc3BlY2lmaWVkIHBhaW50IHByb3BlcnR5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgcGFpbnRQcm9wZXJ0eSA9IG1hcC5nZXRQYWludFByb3BlcnR5KCdteVN5bWJvbExheWVyJywgJ2ljb24tY29sb3InKTtcbiAgICAgKi9cbiAgICBnZXRQYWludFByb3BlcnR5KGxheWVySWQ6IHN0cmluZywgbmFtZTogc3RyaW5nKTogdm9pZCB8IFRyYW5zaXRpb25TcGVjaWZpY2F0aW9uIHwgUHJvcGVydHlWYWx1ZVNwZWNpZmljYXRpb248bWl4ZWQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0UGFpbnRQcm9wZXJ0eShsYXllcklkLCBuYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIGxheW91dCBwcm9wZXJ0eSBpbiB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVySWQgVGhlIElEIG9mIHRoZSBsYXllciB0byBzZXQgdGhlIGxheW91dCBwcm9wZXJ0eSBpbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbGF5b3V0IHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgbGF5b3V0IHByb3BlcnR5LiBNdXN0IGJlIG9mIGEgdHlwZSBhcHByb3ByaWF0ZSBmb3IgdGhlIHByb3BlcnR5LCBhcyBkZWZpbmVkIGluIHRoZSBbTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvKS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudmFsaWRhdGU9dHJ1ZV0gV2hldGhlciB0byBjaGVjayBpZiBgdmFsdWVgIGNvbmZvcm1zIHRvIHRoZSBNYXBib3ggR0wgU3R5bGUgU3BlY2lmaWNhdGlvbi4gRGlzYWJsaW5nIHZhbGlkYXRpb24gaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdGhhdCBzaG91bGQgb25seSBiZSB1c2VkIGlmIHlvdSBoYXZlIHByZXZpb3VzbHkgdmFsaWRhdGVkIHRoZSB2YWx1ZXMgeW91IHdpbGwgYmUgcGFzc2luZyB0byB0aGlzIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TGF5b3V0UHJvcGVydHkoJ215LWxheWVyJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IFNob3cgYW5kIGhpZGUgbGF5ZXJzXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90b2dnbGUtbGF5ZXJzLylcbiAgICAgKi9cbiAgICBzZXRMYXlvdXRQcm9wZXJ0eShsYXllcklkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSwgb3B0aW9uczogU3R5bGVTZXR0ZXJPcHRpb25zID0ge30pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRMYXlvdXRQcm9wZXJ0eShsYXllcklkLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBsYXlvdXQgcHJvcGVydHkgaW4gdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllcklkIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gZ2V0IHRoZSBsYXlvdXQgcHJvcGVydHkgZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbGF5b3V0IHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIG9mIHRoZSBzcGVjaWZpZWQgbGF5b3V0IHByb3BlcnR5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbGF5b3V0UHJvcGVydHkgPSBtYXAuZ2V0TGF5b3V0UHJvcGVydHkoJ215U3ltYm9sTGF5ZXInLCAnaWNvbi1hbmNob3InKTtcbiAgICAgKi9cbiAgICBnZXRMYXlvdXRQcm9wZXJ0eShsYXllcklkOiBzdHJpbmcsIG5hbWU6IHN0cmluZyk6ID9Qcm9wZXJ0eVZhbHVlU3BlY2lmaWNhdGlvbjxtaXhlZD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5nZXRMYXlvdXRQcm9wZXJ0eShsYXllcklkLCBuYW1lKTtcbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge1N0eWxlIHByb3BlcnRpZXN9ICovXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhbnkgY29tYmluYXRpb24gb2YgbGlnaHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtMaWdodFNwZWNpZmljYXRpb259IGxpZ2h0IExpZ2h0IHByb3BlcnRpZXMgdG8gc2V0LiBNdXN0IGNvbmZvcm0gdG8gdGhlIFtMaWdodCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNsaWdodCkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnZhbGlkYXRlPXRydWVdIFdoZXRoZXIgdG8gY2hlY2sgaWYgdGhlIGZpbHRlciBjb25mb3JtcyB0byB0aGUgTWFwYm94IEdMIFN0eWxlIFNwZWNpZmljYXRpb24uIERpc2FibGluZyB2YWxpZGF0aW9uIGlzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRoYXQgc2hvdWxkIG9ubHkgYmUgdXNlZCBpZiB5b3UgaGF2ZSBwcmV2aW91c2x5IHZhbGlkYXRlZCB0aGUgdmFsdWVzIHlvdSB3aWxsIGJlIHBhc3NpbmcgdG8gdGhpcyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldExpZ2h0KHtcbiAgICAgKiAgICAgXCJhbmNob3JcIjogXCJ2aWV3cG9ydFwiLFxuICAgICAqICAgICBcImNvbG9yXCI6IFwiYmx1ZVwiLFxuICAgICAqICAgICBcImludGVuc2l0eVwiOiAwLjVcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBzZXRMaWdodChsaWdodDogTGlnaHRTcGVjaWZpY2F0aW9uLCBvcHRpb25zOiBTdHlsZVNldHRlck9wdGlvbnMgPSB7fSk6IHRoaXMge1xuICAgICAgICB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKTtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRMaWdodChsaWdodCwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGxpZ2h0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMaWdodFNwZWNpZmljYXRpb259IExpZ2h0IHByb3BlcnRpZXMgb2YgdGhlIHN0eWxlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbGlnaHQgPSBtYXAuZ2V0TGlnaHQoKTtcbiAgICAgKi9cbiAgICBnZXRMaWdodCgpOiBMaWdodFNwZWNpZmljYXRpb24ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5nZXRMaWdodCgpO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc2RvYy9yZXF1aXJlLXJldHVybnNcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0ZXJyYWluIHByb3BlcnR5IG9mIHRoZSBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGVycmFpblNwZWNpZmljYXRpb259IHRlcnJhaW4gVGVycmFpbiBwcm9wZXJ0aWVzIHRvIHNldC4gTXVzdCBjb25mb3JtIHRvIHRoZSBbVGVycmFpbiBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy90ZXJyYWluLykuXG4gICAgICogSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCBmdW5jdGlvbiByZW1vdmVzIHRlcnJhaW4uXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5hZGRTb3VyY2UoJ21hcGJveC1kZW0nLCB7XG4gICAgICogICAgICd0eXBlJzogJ3Jhc3Rlci1kZW0nLFxuICAgICAqICAgICAndXJsJzogJ21hcGJveDovL21hcGJveC5tYXBib3gtdGVycmFpbi1kZW0tdjEnLFxuICAgICAqICAgICAndGlsZVNpemUnOiA1MTIsXG4gICAgICogICAgICdtYXh6b29tJzogMTRcbiAgICAgKiB9KTtcbiAgICAgKiAvLyBhZGQgdGhlIERFTSBzb3VyY2UgYXMgYSB0ZXJyYWluIGxheWVyIHdpdGggZXhhZ2dlcmF0ZWQgaGVpZ2h0XG4gICAgICogbWFwLnNldFRlcnJhaW4oeydzb3VyY2UnOiAnbWFwYm94LWRlbScsICdleGFnZ2VyYXRpb24nOiAxLjV9KTtcbiAgICAgKi9cbiAgICBzZXRUZXJyYWluKHRlcnJhaW46IFRlcnJhaW5TcGVjaWZpY2F0aW9uKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpO1xuICAgICAgICBpZiAoIXRlcnJhaW4gJiYgdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5yZXF1aXJlc0RyYXBpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuc2V0VGVycmFpbkZvckRyYXBpbmcoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuc2V0VGVycmFpbih0ZXJyYWluKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdCA9IC1JbmZpbml0eTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0ZXJyYWluIHNwZWNpZmljYXRpb24gb3IgYG51bGxgIGlmIHRlcnJhaW4gaXNuJ3Qgc2V0IG9uIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7VGVycmFpblNwZWNpZmljYXRpb24gfCBudWxsfSBUZXJyYWluIHNwZWNpZmljYXRpb24gcHJvcGVydGllcyBvZiB0aGUgc3R5bGUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCB0ZXJyYWluID0gbWFwLmdldFRlcnJhaW4oKTtcbiAgICAgKi9cbiAgICBnZXRUZXJyYWluKCk6ID9UZXJyYWluU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlID8gdGhpcy5zdHlsZS5nZXRUZXJyYWluKCkgOiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGZvZyBwcm9wZXJ0eSBvZiB0aGUgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0ZvZ1NwZWNpZmljYXRpb259IGZvZyBUaGUgZm9nIHByb3BlcnRpZXMgdG8gc2V0LiBNdXN0IGNvbmZvcm0gdG8gdGhlIFtGb2cgU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvZm9nLykuXG4gICAgICogSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCB0aGlzIGZ1bmN0aW9uIGNhbGwgcmVtb3ZlcyB0aGUgZm9nIGZyb20gdGhlIG1hcC5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldEZvZyh7XG4gICAgICogICAgIFwicmFuZ2VcIjogWzAuOCwgOF0sXG4gICAgICogICAgIFwiY29sb3JcIjogXCIjZGM5ZjlmXCIsXG4gICAgICogICAgIFwiaG9yaXpvbi1ibGVuZFwiOiAwLjUsXG4gICAgICogICAgIFwiaGlnaC1jb2xvclwiOiBcIiMyNDViZGVcIixcbiAgICAgKiAgICAgXCJzcGFjZS1jb2xvclwiOiBcIiMwMDAwMDBcIixcbiAgICAgKiAgICAgXCJzdGFyLWludGVuc2l0eVwiOiAwLjE1XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogQWRkIGZvZyB0byBhIG1hcF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLWZvZy8pXG4gICAgICovXG4gICAgc2V0Rm9nKGZvZzogRm9nU3BlY2lmaWNhdGlvbik6IHRoaXMge1xuICAgICAgICB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKTtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRGb2coZm9nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBmb2cgc3BlY2lmaWNhdGlvbiBvciBgbnVsbGAgaWYgZm9nIGlzIG5vdCBzZXQgb24gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtGb2dTcGVjaWZpY2F0aW9ufSBGb2cgc3BlY2lmaWNhdGlvbiBwcm9wZXJ0aWVzIG9mIHRoZSBzdHlsZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGZvZyA9IG1hcC5nZXRGb2coKTtcbiAgICAgKi9cbiAgICBnZXRGb2coKTogP0ZvZ1NwZWNpZmljYXRpb24ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZSA/IHRoaXMuc3R5bGUuZ2V0Rm9nKCkgOiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZvZyBvcGFjaXR5IGZvciBhIGdpdmVuIGxvY2F0aW9uLlxuICAgICAqXG4gICAgICogQW4gb3BhY2l0eSBvZiAwIG1lYW5zIHRoYXQgdGhlcmUgaXMgbm8gZm9nIGNvbnRyaWJ1dGlvbiBmb3IgdGhlIGdpdmVuIGxvY2F0aW9uXG4gICAgICogd2hpbGUgYSBmb2cgb3BhY2l0eSBvZiAxLjAgbWVhbnMgdGhlIGxvY2F0aW9uIGlzIGZ1bGx5IG9ic2N1cmVkIGJ5IHRoZSBmb2cgZWZmZWN0LlxuICAgICAqXG4gICAgICogSWYgdGhlcmUgaXMgbm8gZm9nIHNldCBvbiB0aGUgbWFwLCB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIDAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdExpa2V9IGxuZ2xhdCBUaGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIHRvIGV2YWx1YXRlIHRoZSBmb2cgb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gQSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50aW5nIHRoZSBmb2cgb3BhY2l0eSwgd2hlcmUgMSBtZWFucyBmdWxseSB3aXRoaW4sIGFuZCAwIG1lYW5zIG5vdCBhZmZlY3RlZCBieSB0aGUgZm9nIGVmZmVjdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9xdWVyeUZvZ09wYWNpdHkobG5nbGF0OiBMbmdMYXRMaWtlKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0eWxlIHx8ICF0aGlzLnN0eWxlLmZvZykgcmV0dXJuIDAuMDtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZm9nLmdldE9wYWNpdHlBdExhdExuZyhMbmdMYXQuY29udmVydChsbmdsYXQpLCB0aGlzLnRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgLyoqIEBzZWN0aW9uIHtGZWF0dXJlIHN0YXRlfSAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHN0YXRlYCBvZiBhIGZlYXR1cmUuXG4gICAgICogQSBmZWF0dXJlJ3MgYHN0YXRlYCBpcyBhIHNldCBvZiB1c2VyLWRlZmluZWQga2V5LXZhbHVlIHBhaXJzIHRoYXQgYXJlIGFzc2lnbmVkIHRvIGEgZmVhdHVyZSBhdCBydW50aW1lLlxuICAgICAqIFdoZW4gdXNpbmcgdGhpcyBtZXRob2QsIHRoZSBgc3RhdGVgIG9iamVjdCBpcyBtZXJnZWQgd2l0aCBhbnkgZXhpc3Rpbmcga2V5LXZhbHVlIHBhaXJzIGluIHRoZSBmZWF0dXJlJ3Mgc3RhdGUuXG4gICAgICogRmVhdHVyZXMgYXJlIGlkZW50aWZpZWQgYnkgdGhlaXIgYGlkYCBhdHRyaWJ1dGUsIHdoaWNoIGNhbiBiZSBhbnkgbnVtYmVyIG9yIHN0cmluZy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBzb3VyY2VzIHRoYXQgaGF2ZSBhIGBpZGAgYXR0cmlidXRlLiBUaGUgYGlkYCBhdHRyaWJ1dGUgY2FuIGJlIGRlZmluZWQgaW4gdGhyZWUgd2F5czpcbiAgICAgKiAtIEZvciB2ZWN0b3Igb3IgR2VvSlNPTiBzb3VyY2VzLCBpbmNsdWRpbmcgYW4gYGlkYCBhdHRyaWJ1dGUgaW4gdGhlIG9yaWdpbmFsIGRhdGEgZmlsZS5cbiAgICAgKiAtIEZvciB2ZWN0b3Igb3IgR2VvSlNPTiBzb3VyY2VzLCB1c2luZyB0aGUgW2Bwcm9tb3RlSWRgXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy9zb3VyY2VzLyN2ZWN0b3ItcHJvbW90ZUlkKSBvcHRpb24gYXQgdGhlIHRpbWUgdGhlIHNvdXJjZSBpcyBkZWZpbmVkLlxuICAgICAqIC0gRm9yIEdlb0pTT04gc291cmNlcywgdXNpbmcgdGhlIFtgZ2VuZXJhdGVJZGBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvI2dlb2pzb24tZ2VuZXJhdGVJZCkgb3B0aW9uIHRvIGF1dG8tYXNzaWduIGFuIGBpZGAgYmFzZWQgb24gdGhlIGZlYXR1cmUncyBpbmRleCBpbiB0aGUgc291cmNlIGRhdGEuIElmIHlvdSBjaGFuZ2UgZmVhdHVyZSBkYXRhIHVzaW5nIGBtYXAuZ2V0U291cmNlKCdzb21lIGlkJykuc2V0RGF0YSguLi4pYCwgeW91IG1heSBuZWVkIHRvIHJlLWFwcGx5IHN0YXRlIHRha2luZyBpbnRvIGFjY291bnQgdXBkYXRlZCBgaWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIF9Ob3RlOiBZb3UgY2FuIHVzZSB0aGUgW2BmZWF0dXJlLXN0YXRlYCBleHByZXNzaW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy9leHByZXNzaW9ucy8jZmVhdHVyZS1zdGF0ZSkgdG8gYWNjZXNzIHRoZSB2YWx1ZXMgaW4gYSBmZWF0dXJlJ3Mgc3RhdGUgb2JqZWN0IGZvciB0aGUgcHVycG9zZXMgb2Ygc3R5bGluZ18uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZmVhdHVyZSBGZWF0dXJlIGlkZW50aWZpZXIuIEZlYXR1cmUgb2JqZWN0cyByZXR1cm5lZCBmcm9tXG4gICAgICoge0BsaW5rIE1hcCNxdWVyeVJlbmRlcmVkRmVhdHVyZXN9IG9yIGV2ZW50IGhhbmRsZXJzIGNhbiBiZSB1c2VkIGFzIGZlYXR1cmUgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IGZlYXR1cmUuaWQgVW5pcXVlIGlkIG9mIHRoZSBmZWF0dXJlLiBDYW4gYmUgYW4gaW50ZWdlciBvciBhIHN0cmluZywgYnV0IHN1cHBvcnRzIHN0cmluZyB2YWx1ZXMgb25seSB3aGVuIHRoZSBbYHByb21vdGVJZGBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvI3ZlY3Rvci1wcm9tb3RlSWQpIG9wdGlvbiBoYXMgYmVlbiBhcHBsaWVkIHRvIHRoZSBzb3VyY2Ugb3IgdGhlIHN0cmluZyBjYW4gYmUgY2FzdCB0byBhbiBpbnRlZ2VyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmZWF0dXJlLnNvdXJjZSBUaGUgaWQgb2YgdGhlIHZlY3RvciBvciBHZW9KU09OIHNvdXJjZSBmb3IgdGhlIGZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmZWF0dXJlLnNvdXJjZUxheWVyXSAob3B0aW9uYWwpICpGb3IgdmVjdG9yIHRpbGUgc291cmNlcywgYHNvdXJjZUxheWVyYCBpcyByZXF1aXJlZCouXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIEEgc2V0IG9mIGtleS12YWx1ZSBwYWlycy4gVGhlIHZhbHVlcyBzaG91bGQgYmUgdmFsaWQgSlNPTiB0eXBlcy5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBUaGUgbWFwIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFdoZW4gdGhlIG1vdXNlIG1vdmVzIG92ZXIgdGhlIGBteS1sYXllcmAgbGF5ZXIsIHVwZGF0ZVxuICAgICAqIC8vIHRoZSBmZWF0dXJlIHN0YXRlIGZvciB0aGUgZmVhdHVyZSB1bmRlciB0aGUgbW91c2VcbiAgICAgKiBtYXAub24oJ21vdXNlbW92ZScsICdteS1sYXllcicsIChlKSA9PiB7XG4gICAgICogICAgIGlmIChlLmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgKiAgICAgICAgIG1hcC5zZXRGZWF0dXJlU3RhdGUoe1xuICAgICAqICAgICAgICAgICAgIHNvdXJjZTogJ215LXNvdXJjZScsXG4gICAgICogICAgICAgICAgICAgc291cmNlTGF5ZXI6ICdteS1zb3VyY2UtbGF5ZXInLFxuICAgICAqICAgICAgICAgICAgIGlkOiBlLmZlYXR1cmVzWzBdLmlkLFxuICAgICAqICAgICAgICAgfSwge1xuICAgICAqICAgICAgICAgICAgIGhvdmVyOiB0cnVlXG4gICAgICogICAgICAgICB9KTtcbiAgICAgKiAgICAgfVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgaG92ZXIgZWZmZWN0XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9ob3Zlci1zdHlsZXMvKVxuICAgICAqIEBzZWUgW1R1dG9yaWFsOiBDcmVhdGUgaW50ZXJhY3RpdmUgaG92ZXIgZWZmZWN0cyB3aXRoIE1hcGJveCBHTCBKU10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC90dXRvcmlhbHMvY3JlYXRlLWludGVyYWN0aXZlLWhvdmVyLWVmZmVjdHMtd2l0aC1tYXBib3gtZ2wtanMvKVxuICAgICAqL1xuICAgIHNldEZlYXR1cmVTdGF0ZShmZWF0dXJlOiB7IHNvdXJjZTogc3RyaW5nOyBzb3VyY2VMYXllcj86IHN0cmluZzsgaWQ6IHN0cmluZyB8IG51bWJlcjsgfSwgc3RhdGU6IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLnN0eWxlLnNldEZlYXR1cmVTdGF0ZShmZWF0dXJlLCBzdGF0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganNkb2MvcmVxdWlyZS1yZXR1cm5zXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgYHN0YXRlYCBvZiBhIGZlYXR1cmUsIHNldHRpbmcgaXQgYmFjayB0byB0aGUgZGVmYXVsdCBiZWhhdmlvci5cbiAgICAgKiBJZiBvbmx5IGEgYGZlYXR1cmUuc291cmNlYCBpcyBzcGVjaWZpZWQsIGl0IHdpbGwgcmVtb3ZlIHRoZSBzdGF0ZSBmb3IgYWxsIGZlYXR1cmVzIGZyb20gdGhhdCBzb3VyY2UuXG4gICAgICogSWYgYGZlYXR1cmUuaWRgIGlzIGFsc28gc3BlY2lmaWVkLCBpdCB3aWxsIHJlbW92ZSBhbGwga2V5cyBmb3IgdGhhdCBmZWF0dXJlJ3Mgc3RhdGUuXG4gICAgICogSWYgYGtleWAgaXMgYWxzbyBzcGVjaWZpZWQsIGl0IHJlbW92ZXMgb25seSB0aGF0IGtleSBmcm9tIHRoYXQgZmVhdHVyZSdzIHN0YXRlLlxuICAgICAqIEZlYXR1cmVzIGFyZSBpZGVudGlmaWVkIGJ5IHRoZWlyIGBmZWF0dXJlLmlkYCBhdHRyaWJ1dGUsIHdoaWNoIGNhbiBiZSBhbnkgbnVtYmVyIG9yIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmZWF0dXJlIElkZW50aWZpZXIgb2Ygd2hlcmUgdG8gcmVtb3ZlIHN0YXRlLiBJdCBjYW4gYmUgYSBzb3VyY2UsIGEgZmVhdHVyZSwgb3IgYSBzcGVjaWZpYyBrZXkgb2YgZmVhdHVyZS5cbiAgICAgKiBGZWF0dXJlIG9iamVjdHMgcmV0dXJuZWQgZnJvbSB7QGxpbmsgTWFwI3F1ZXJ5UmVuZGVyZWRGZWF0dXJlc30gb3IgZXZlbnQgaGFuZGxlcnMgY2FuIGJlIHVzZWQgYXMgZmVhdHVyZSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gZmVhdHVyZS5pZCBVbmlxdWUgaWQgb2YgdGhlIGZlYXR1cmUuIENhbiBiZSBhbiBpbnRlZ2VyIG9yIGEgc3RyaW5nLCBidXQgc3VwcG9ydHMgc3RyaW5nIHZhbHVlcyBvbmx5IHdoZW4gdGhlIFtgcHJvbW90ZUlkYF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvc291cmNlcy8jdmVjdG9yLXByb21vdGVJZCkgb3B0aW9uIGhhcyBiZWVuIGFwcGxpZWQgdG8gdGhlIHNvdXJjZSBvciB0aGUgc3RyaW5nIGNhbiBiZSBjYXN0IHRvIGFuIGludGVnZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZlYXR1cmUuc291cmNlIFRoZSBpZCBvZiB0aGUgdmVjdG9yIG9yIEdlb0pTT04gc291cmNlIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZlYXR1cmUuc291cmNlTGF5ZXJdIChvcHRpb25hbCkgRm9yIHZlY3RvciB0aWxlIHNvdXJjZXMsIGBzb3VyY2VMYXllcmAgaXMgcmVxdWlyZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAob3B0aW9uYWwpIFRoZSBrZXkgaW4gdGhlIGZlYXR1cmUgc3RhdGUgdG8gcmVzZXQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFJlc2V0IHRoZSBlbnRpcmUgc3RhdGUgb2JqZWN0IGZvciBhbGwgZmVhdHVyZXNcbiAgICAgKiAvLyBpbiB0aGUgYG15LXNvdXJjZWAgc291cmNlXG4gICAgICogbWFwLnJlbW92ZUZlYXR1cmVTdGF0ZSh7XG4gICAgICogICAgIHNvdXJjZTogJ215LXNvdXJjZSdcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gV2hlbiB0aGUgbW91c2UgbGVhdmVzIHRoZSBgbXktbGF5ZXJgIGxheWVyLFxuICAgICAqIC8vIHJlc2V0IHRoZSBlbnRpcmUgc3RhdGUgb2JqZWN0IGZvciB0aGVcbiAgICAgKiAvLyBmZWF0dXJlIHVuZGVyIHRoZSBtb3VzZVxuICAgICAqIG1hcC5vbignbW91c2VsZWF2ZScsICdteS1sYXllcicsIChlKSA9PiB7XG4gICAgICogICAgIG1hcC5yZW1vdmVGZWF0dXJlU3RhdGUoe1xuICAgICAqICAgICAgICAgc291cmNlOiAnbXktc291cmNlJyxcbiAgICAgKiAgICAgICAgIHNvdXJjZUxheWVyOiAnbXktc291cmNlLWxheWVyJyxcbiAgICAgKiAgICAgICAgIGlkOiBlLmZlYXR1cmVzWzBdLmlkXG4gICAgICogICAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBXaGVuIHRoZSBtb3VzZSBsZWF2ZXMgdGhlIGBteS1sYXllcmAgbGF5ZXIsXG4gICAgICogLy8gcmVzZXQgb25seSB0aGUgYGhvdmVyYCBrZXktdmFsdWUgcGFpciBpbiB0aGVcbiAgICAgKiAvLyBzdGF0ZSBmb3IgdGhlIGZlYXR1cmUgdW5kZXIgdGhlIG1vdXNlXG4gICAgICogbWFwLm9uKCdtb3VzZWxlYXZlJywgJ215LWxheWVyJywgKGUpID0+IHtcbiAgICAgKiAgICAgbWFwLnJlbW92ZUZlYXR1cmVTdGF0ZSh7XG4gICAgICogICAgICAgICBzb3VyY2U6ICdteS1zb3VyY2UnLFxuICAgICAqICAgICAgICAgc291cmNlTGF5ZXI6ICdteS1zb3VyY2UtbGF5ZXInLFxuICAgICAqICAgICAgICAgaWQ6IGUuZmVhdHVyZXNbMF0uaWRcbiAgICAgKiAgICAgfSwgJ2hvdmVyJyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAqL1xuICAgIHJlbW92ZUZlYXR1cmVTdGF0ZShmZWF0dXJlOiB7IHNvdXJjZTogc3RyaW5nOyBzb3VyY2VMYXllcj86IHN0cmluZzsgaWQ/OiBzdHJpbmcgfCBudW1iZXI7IH0sIGtleT86IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZUZlYXR1cmVTdGF0ZShmZWF0dXJlLCBrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYHN0YXRlYCBvZiBhIGZlYXR1cmUuXG4gICAgICogQSBmZWF0dXJlJ3MgYHN0YXRlYCBpcyBhIHNldCBvZiB1c2VyLWRlZmluZWQga2V5LXZhbHVlIHBhaXJzIHRoYXQgYXJlIGFzc2lnbmVkIHRvIGEgZmVhdHVyZSBhdCBydW50aW1lLlxuICAgICAqIEZlYXR1cmVzIGFyZSBpZGVudGlmaWVkIGJ5IHRoZWlyIGBpZGAgYXR0cmlidXRlLCB3aGljaCBjYW4gYmUgYW55IG51bWJlciBvciBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBfTm90ZTogVG8gYWNjZXNzIHRoZSB2YWx1ZXMgaW4gYSBmZWF0dXJlJ3Mgc3RhdGUgb2JqZWN0IGZvciB0aGUgcHVycG9zZXMgb2Ygc3R5bGluZyB0aGUgZmVhdHVyZSwgdXNlIHRoZSBbYGZlYXR1cmUtc3RhdGVgIGV4cHJlc3Npb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL2V4cHJlc3Npb25zLyNmZWF0dXJlLXN0YXRlKV8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZmVhdHVyZSBGZWF0dXJlIGlkZW50aWZpZXIuIEZlYXR1cmUgb2JqZWN0cyByZXR1cm5lZCBmcm9tXG4gICAgICoge0BsaW5rIE1hcCNxdWVyeVJlbmRlcmVkRmVhdHVyZXN9IG9yIGV2ZW50IGhhbmRsZXJzIGNhbiBiZSB1c2VkIGFzIGZlYXR1cmUgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IGZlYXR1cmUuaWQgVW5pcXVlIGlkIG9mIHRoZSBmZWF0dXJlLiBDYW4gYmUgYW4gaW50ZWdlciBvciBhIHN0cmluZywgYnV0IHN1cHBvcnRzIHN0cmluZyB2YWx1ZXMgb25seSB3aGVuIHRoZSBbYHByb21vdGVJZGBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvI3ZlY3Rvci1wcm9tb3RlSWQpIG9wdGlvbiBoYXMgYmVlbiBhcHBsaWVkIHRvIHRoZSBzb3VyY2Ugb3IgdGhlIHN0cmluZyBjYW4gYmUgY2FzdCB0byBhbiBpbnRlZ2VyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmZWF0dXJlLnNvdXJjZSBUaGUgaWQgb2YgdGhlIHZlY3RvciBvciBHZW9KU09OIHNvdXJjZSBmb3IgdGhlIGZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmZWF0dXJlLnNvdXJjZUxheWVyXSAob3B0aW9uYWwpICpGb3IgdmVjdG9yIHRpbGUgc291cmNlcywgYHNvdXJjZUxheWVyYCBpcyByZXF1aXJlZCouXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgc3RhdGUgb2YgdGhlIGZlYXR1cmU6IGEgc2V0IG9mIGtleS12YWx1ZSBwYWlycyB0aGF0IHdhcyBhc3NpZ25lZCB0byB0aGUgZmVhdHVyZSBhdCBydW50aW1lLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBXaGVuIHRoZSBtb3VzZSBtb3ZlcyBvdmVyIHRoZSBgbXktbGF5ZXJgIGxheWVyLFxuICAgICAqIC8vIGdldCB0aGUgZmVhdHVyZSBzdGF0ZSBmb3IgdGhlIGZlYXR1cmUgdW5kZXIgdGhlIG1vdXNlXG4gICAgICogbWFwLm9uKCdtb3VzZW1vdmUnLCAnbXktbGF5ZXInLCAoZSkgPT4ge1xuICAgICAqICAgICBpZiAoZS5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICogICAgICAgICBtYXAuZ2V0RmVhdHVyZVN0YXRlKHtcbiAgICAgKiAgICAgICAgICAgICBzb3VyY2U6ICdteS1zb3VyY2UnLFxuICAgICAqICAgICAgICAgICAgIHNvdXJjZUxheWVyOiAnbXktc291cmNlLWxheWVyJyxcbiAgICAgKiAgICAgICAgICAgICBpZDogZS5mZWF0dXJlc1swXS5pZFxuICAgICAqICAgICAgICAgfSk7XG4gICAgICogICAgIH1cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqL1xuICAgIGdldEZlYXR1cmVTdGF0ZShmZWF0dXJlOiB7IHNvdXJjZTogc3RyaW5nOyBzb3VyY2VMYXllcj86IHN0cmluZzsgaWQ6IHN0cmluZyB8IG51bWJlcjsgfSk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldEZlYXR1cmVTdGF0ZShmZWF0dXJlKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlQ29udGFpbmVyRGltZW5zaW9ucygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jb250YWluZXIpIHJldHVybjtcblxuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCB8fCA0MDA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgfHwgMzAwO1xuXG4gICAgICAgIGxldCB0cmFuc2Zvcm1WYWx1ZXM7XG4gICAgICAgIGxldCB0cmFuc2Zvcm1TY2FsZVdpZHRoO1xuICAgICAgICBsZXQgdHJhbnNmb3JtU2NhbGVIZWlnaHQ7XG4gICAgICAgIGxldCBlbDogP0VsZW1lbnQgPSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIHdoaWxlIChlbCAmJiAoIXRyYW5zZm9ybVNjYWxlV2lkdGggfHwgIXRyYW5zZm9ybVNjYWxlSGVpZ2h0KSkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtTWF0cml4ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1NYXRyaXggJiYgdHJhbnNmb3JtTWF0cml4ICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1WYWx1ZXMgPSB0cmFuc2Zvcm1NYXRyaXgubWF0Y2goL21hdHJpeC4qXFwoKC4rKVxcKS8pWzFdLnNwbGl0KCcsICcpO1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1WYWx1ZXNbMF0gJiYgdHJhbnNmb3JtVmFsdWVzWzBdICE9PSAnMCcgJiYgdHJhbnNmb3JtVmFsdWVzWzBdICE9PSAnMScpIHRyYW5zZm9ybVNjYWxlV2lkdGggPSB0cmFuc2Zvcm1WYWx1ZXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybVZhbHVlc1szXSAmJiB0cmFuc2Zvcm1WYWx1ZXNbM10gIT09ICcwJyAmJiB0cmFuc2Zvcm1WYWx1ZXNbM10gIT09ICcxJykgdHJhbnNmb3JtU2NhbGVIZWlnaHQgPSB0cmFuc2Zvcm1WYWx1ZXNbM107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb250YWluZXJXaWR0aCA9IHRyYW5zZm9ybVNjYWxlV2lkdGggPyBNYXRoLmFicyh3aWR0aCAvIHRyYW5zZm9ybVNjYWxlV2lkdGgpIDogd2lkdGg7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lckhlaWdodCA9IHRyYW5zZm9ybVNjYWxlSGVpZ2h0ID8gTWF0aC5hYnMoaGVpZ2h0IC8gdHJhbnNmb3JtU2NhbGVIZWlnaHQpIDogaGVpZ2h0O1xuICAgIH1cblxuICAgIF9kZXRlY3RNaXNzaW5nQ1NTKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjb21wdXRlZENvbG9yID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5fbWlzc2luZ0NTU0NhbmFyeSkuZ2V0UHJvcGVydHlWYWx1ZSgnYmFja2dyb3VuZC1jb2xvcicpO1xuICAgICAgICBpZiAoY29tcHV0ZWRDb2xvciAhPT0gJ3JnYigyNTAsIDEyOCwgMTE0KScpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKCdUaGlzIHBhZ2UgYXBwZWFycyB0byBiZSBtaXNzaW5nIENTUyBkZWNsYXJhdGlvbnMgZm9yICcgK1xuICAgICAgICAgICAgICAgICdNYXBib3ggR0wgSlMsIHdoaWNoIG1heSBjYXVzZSB0aGUgbWFwIHRvIGRpc3BsYXkgaW5jb3JyZWN0bHkuICcgK1xuICAgICAgICAgICAgICAgICdQbGVhc2UgZW5zdXJlIHlvdXIgcGFnZSBpbmNsdWRlcyBtYXBib3gtZ2wuY3NzLCBhcyBkZXNjcmliZWQgJyArXG4gICAgICAgICAgICAgICAgJ2luIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS8uJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLW1hcCcpO1xuXG4gICAgICAgIGNvbnN0IG1pc3NpbmdDU1NDYW5hcnkgPSB0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5ID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWNhbmFyeScsIGNvbnRhaW5lcik7XG4gICAgICAgIG1pc3NpbmdDU1NDYW5hcnkuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICB0aGlzLl9kZXRlY3RNaXNzaW5nQ1NTKCk7XG5cbiAgICAgICAgY29uc3QgY2FudmFzQ29udGFpbmVyID0gdGhpcy5fY2FudmFzQ29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWNhbnZhcy1jb250YWluZXInLCBjb250YWluZXIpO1xuICAgICAgICBpZiAodGhpcy5faW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIGNhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1pbnRlcmFjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2FudmFzID0gRE9NLmNyZWF0ZSgnY2FudmFzJywgJ21hcGJveGdsLWNhbnZhcycsIGNhbnZhc0NvbnRhaW5lcik7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLl9jb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuX2NvbnRleHRSZXN0b3JlZCwgZmFsc2UpO1xuICAgICAgICB0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzLl9nZXRVSVN0cmluZygnTWFwLlRpdGxlJykpO1xuICAgICAgICB0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3JlZ2lvbicpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbnRhaW5lckRpbWVuc2lvbnMoKTtcbiAgICAgICAgdGhpcy5fcmVzaXplQ2FudmFzKHRoaXMuX2NvbnRhaW5lcldpZHRoLCB0aGlzLl9jb250YWluZXJIZWlnaHQpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRyb2xDb250YWluZXIgPSB0aGlzLl9jb250cm9sQ29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWNvbnRyb2wtY29udGFpbmVyJywgY29udGFpbmVyKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gdGhpcy5fY29udHJvbFBvc2l0aW9ucyA9IHt9O1xuICAgICAgICBbJ3RvcC1sZWZ0JywgJ3RvcC1yaWdodCcsICdib3R0b20tbGVmdCcsICdib3R0b20tcmlnaHQnXS5mb3JFYWNoKChwb3NpdGlvbk5hbWUpID0+IHtcbiAgICAgICAgICAgIHBvc2l0aW9uc1twb3NpdGlvbk5hbWVdID0gRE9NLmNyZWF0ZSgnZGl2JywgYG1hcGJveGdsLWN0cmwtJHtwb3NpdGlvbk5hbWV9YCwgY29udHJvbENvbnRhaW5lcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX29uTWFwU2Nyb2xsLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgX3Jlc2l6ZUNhbnZhcyh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwaXhlbFJhdGlvID0gYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG5cbiAgICAgICAgLy8gUmVxdWVzdCB0aGUgcmVxdWlyZWQgY2FudmFzIHNpemUgKHJvdW5kZWQgdXApIHRha2luZyB0aGUgcGl4ZWxyYXRpbyBpbnRvIGFjY291bnQuXG4gICAgICAgIHRoaXMuX2NhbnZhcy53aWR0aCA9IHBpeGVsUmF0aW8gKiBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICB0aGlzLl9jYW52YXMuaGVpZ2h0ID0gcGl4ZWxSYXRpbyAqIE1hdGguY2VpbChoZWlnaHQpO1xuXG4gICAgICAgIC8vIE1haW50YWluIHRoZSBzYW1lIGNhbnZhcyBzaXplLCBwb3RlbnRpYWxseSBkb3duc2NhbGluZyBpdCBmb3IgSGlEUEkgZGlzcGxheXNcbiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgICB9XG5cbiAgICBfYWRkTWFya2VyKG1hcmtlcjogTWFya2VyKSB7XG4gICAgICAgIHRoaXMuX21hcmtlcnMucHVzaChtYXJrZXIpO1xuICAgIH1cblxuICAgIF9yZW1vdmVNYXJrZXIobWFya2VyOiBNYXJrZXIpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9tYXJrZXJzLmluZGV4T2YobWFya2VyKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fbWFya2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2FkZFBvcHVwKHBvcHVwOiBQb3B1cCkge1xuICAgICAgICB0aGlzLl9wb3B1cHMucHVzaChwb3B1cCk7XG4gICAgfVxuXG4gICAgX3JlbW92ZVBvcHVwKHBvcHVwOiBQb3B1cCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3BvcHVwcy5pbmRleE9mKHBvcHVwKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fcG9wdXBzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBQYWludGVyKCkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gZXh0ZW5kKHt9LCBzdXBwb3J0ZWQud2ViR0xDb250ZXh0QXR0cmlidXRlcywge1xuICAgICAgICAgICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogdGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCxcbiAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgYW50aWFsaWFzOiB0aGlzLl9hbnRpYWxpYXMgfHwgZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZ2wyID0gdGhpcy5fdXNlV2ViR0wyICYmICgodGhpcy5fY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbDJcIiwgYXR0cmlidXRlcyk6IGFueSk6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCk7XG4gICAgICAgIGNvbnN0IGdsID0gZ2wyIHx8XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBhdHRyaWJ1dGVzKSB8fFxuICAgICAgICAgICAgdGhpcy5fY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMJykpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl91c2VXZWJHTDIgJiYgIWdsMikge1xuICAgICAgICAgICAgd2Fybk9uY2UoJ0ZhaWxlZCB0byBjcmVhdGUgV2ViR0wgMiBjb250ZXh0LiBVc2luZyBXZWJHTCAxLicpO1xuICAgICAgICB9XG4gICAgICAgIHN0b3JlQXV0aFN0YXRlKGdsLCB0cnVlKTtcblxuICAgICAgICB0aGlzLnBhaW50ZXIgPSBuZXcgUGFpbnRlcihnbCwgdGhpcy50cmFuc2Zvcm0sICEhZ2wyKTtcbiAgICAgICAgdGhpcy5vbignZGF0YScsIChldmVudDogTWFwRGF0YUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YVR5cGUgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWludGVyLnNldFRpbGVMb2FkZWRGbGFnKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB3ZWJwU3VwcG9ydGVkLnRlc3RTdXBwb3J0KGdsKTtcbiAgICB9XG5cbiAgICBfY29udGV4dExvc3QoZXZlbnQ6IGFueSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy5fZnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3dlYmdsY29udGV4dGxvc3QnLCB7b3JpZ2luYWxFdmVudDogZXZlbnR9KSk7XG4gICAgfVxuXG4gICAgX2NvbnRleHRSZXN0b3JlZChldmVudDogYW55KSB7XG4gICAgICAgIHRoaXMuX3NldHVwUGFpbnRlcigpO1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB7b3JpZ2luYWxFdmVudDogZXZlbnR9KSk7XG4gICAgfVxuXG4gICAgX29uTWFwU2Nyb2xsKGV2ZW50OiBhbnkpOiA/Ym9vbGVhbiB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQgIT09IHRoaXMuX2NvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgICAgIC8vIFJldmVydCBhbnkgc2Nyb2xsIHdoaWNoIHdvdWxkIG1vdmUgdGhlIGNhbnZhcyBvdXRzaWRlIG9mIHRoZSB2aWV3XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5zY3JvbGxUb3AgPSAwO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuc2Nyb2xsTGVmdCA9IDA7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge0xpZmVjeWNsZX0gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIGlzIGZ1bGx5IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIFJldHVybnMgYGZhbHNlYCBpZiB0aGUgc3R5bGUgaXMgbm90IHlldCBmdWxseSBsb2FkZWQsXG4gICAgICogb3IgaWYgdGhlcmUgaGFzIGJlZW4gYSBjaGFuZ2UgdG8gdGhlIHNvdXJjZXMgb3Igc3R5bGUgdGhhdFxuICAgICAqIGhhcyBub3QgeWV0IGZ1bGx5IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXAgaXMgZnVsbHkgbG9hZGVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaXNMb2FkZWQgPSBtYXAubG9hZGVkKCk7XG4gICAgICovXG4gICAgbG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gIXRoaXMuX3N0eWxlRGlydHkgJiYgIXRoaXMuX3NvdXJjZXNEaXJ0eSAmJiAhIXRoaXMuc3R5bGUgJiYgdGhpcy5zdHlsZS5sb2FkZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhpcyBtYXAncyBzdHlsZSBhbmQgc291cmNlcywgYW5kIHJlLXJlbmRlciB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB1cGRhdGVTdHlsZSBtYXJrIHRoZSBtYXAncyBzdHlsZSBmb3IgcmVwcm9jZXNzaW5nIGFzXG4gICAgICogd2VsbCBhcyBpdHMgc291cmNlc1xuICAgICAqIEByZXR1cm5zIHtNYXB9IHRoaXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGUodXBkYXRlU3R5bGU/OiBib29sZWFuKTogdGhpcyB7XG4gICAgICAgIGlmICghdGhpcy5zdHlsZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgdGhpcy5fc3R5bGVEaXJ0eSA9IHRoaXMuX3N0eWxlRGlydHkgfHwgdXBkYXRlU3R5bGU7XG4gICAgICAgIHRoaXMuX3NvdXJjZXNEaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMudHJpZ2dlclJlcGFpbnQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRoYXQgdGhlIGdpdmVuIGNhbGxiYWNrIGJlIGV4ZWN1dGVkIGR1cmluZyB0aGUgbmV4dCByZW5kZXJcbiAgICAgKiBmcmFtZS4gIFNjaGVkdWxlIGEgcmVuZGVyIGZyYW1lIGlmIG9uZSBpcyBub3QgYWxyZWFkeSBzY2hlZHVsZWQuXG4gICAgICogQHJldHVybnMgQW4gaWQgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGxiYWNrXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgX3JlcXVlc3RSZW5kZXJGcmFtZShjYWxsYmFjazogKCkgPT4gdm9pZCk6IFRhc2tJRCB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmFkZChjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIF9jYW5jZWxSZW5kZXJGcmFtZShpZDogVGFza0lEKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5yZW1vdmUoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdGhhdCB0aGUgZ2l2ZW4gY2FsbGJhY2sgYmUgZXhlY3V0ZWQgZHVyaW5nIHRoZSBuZXh0IHJlbmRlciBmcmFtZSBpZiB0aGUgbWFwIGlzIG5vdFxuICAgICAqIGlkbGUuIE90aGVyd2lzZSBpdCBpcyBleGVjdXRlZCBpbW1lZGlhdGVseSwgdG8gYXZvaWQgdHJpZ2dlcmluZyBhIG5ldyByZW5kZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVxdWVzdERvbVRhc2soY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICAgICAgLy8gVGhpcyBjb25kaXRpb24gbWVhbnMgdGhhdCB0aGUgbWFwIGlzIGlkbGU6IHRoZSBjYWxsYmFjayBuZWVkcyB0byBiZSBjYWxsZWQgcmlnaHQgbm93IGFzXG4gICAgICAgIC8vIHRoZXJlIHdvbid0IGJlIGEgdHJpZ2dlcmVkIHJlbmRlciB0byBydW4gdGhlIHF1ZXVlLlxuICAgICAgICBpZiAoIXRoaXMubG9hZGVkKCkgfHwgKHRoaXMubG9hZGVkKCkgJiYgIXRoaXMuaXNNb3ZpbmcoKSkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgd2hlbiBhIChyZS0pcmVuZGVyIG9mIHRoZSBtYXAgaXMgcmVxdWlyZWQ6XG4gICAgICogLSBUaGUgc3R5bGUgaGFzIGNoYW5nZWQgKGBzZXRQYWludFByb3BlcnR5KClgLCBldGMuKVxuICAgICAqIC0gU291cmNlIGRhdGEgaGFzIGNoYW5nZWQgKGZvciBleGFtcGxlLCB0aWxlcyBoYXZlIGZpbmlzaGVkIGxvYWRpbmcpXG4gICAgICogLSBUaGUgbWFwIGhhcyBpcyBtb3ZpbmcgKG9yIGp1c3QgZmluaXNoZWQgbW92aW5nKVxuICAgICAqIC0gQSB0cmFuc2l0aW9uIGlzIGluIHByb2dyZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFpbnRTdGFydFRpbWVTdGFtcCAgVGhlIHRpbWUgd2hlbiB0aGUgYW5pbWF0aW9uIGZyYW1lIGJlZ2FuIGV4ZWN1dGluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtNYXB9IHRoaXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXIocGFpbnRTdGFydFRpbWVTdGFtcDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IG0gPSBQZXJmb3JtYW5jZVV0aWxzLmJlZ2luTWVhc3VyZSgncmVuZGVyJyk7XG5cbiAgICAgICAgbGV0IGdwdVRpbWVyO1xuICAgICAgICBjb25zdCBleHRUaW1lclF1ZXJ5ID0gdGhpcy5wYWludGVyLmNvbnRleHQuZXh0VGltZXJRdWVyeTtcbiAgICAgICAgY29uc3QgZnJhbWVTdGFydFRpbWUgPSBicm93c2VyLm5vdygpO1xuICAgICAgICBpZiAodGhpcy5saXN0ZW5zKCdncHUtdGltaW5nLWZyYW1lJykpIHtcbiAgICAgICAgICAgIGdwdVRpbWVyID0gZXh0VGltZXJRdWVyeS5jcmVhdGVRdWVyeUVYVCgpO1xuICAgICAgICAgICAgZXh0VGltZXJRdWVyeS5iZWdpblF1ZXJ5RVhUKGV4dFRpbWVyUXVlcnkuVElNRV9FTEFQU0VEX0VYVCwgZ3B1VGltZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQSBjdXN0b20gbGF5ZXIgbWF5IGhhdmUgdXNlZCB0aGUgY29udGV4dCBhc3luY2hyb25vdXNseS4gTWFyayB0aGUgc3RhdGUgYXMgZGlydHkuXG4gICAgICAgIHRoaXMucGFpbnRlci5jb250ZXh0LnNldERpcnR5KCk7XG4gICAgICAgIHRoaXMucGFpbnRlci5zZXRCYXNlU3RhdGUoKTtcblxuICAgICAgICBpZiAodGhpcy5pc01vdmluZygpIHx8IHRoaXMuaXNSb3RhdGluZygpIHx8IHRoaXMuaXNab29taW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMF0gPSBNYXRoLm1pbih0aGlzLl9pbnRlcmFjdGlvblJhbmdlWzBdLCB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJhY3Rpb25SYW5nZVsxXSA9IE1hdGgubWF4KHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMV0sIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJUYXNrUXVldWUucnVuKHBhaW50U3RhcnRUaW1lU3RhbXApO1xuICAgICAgICB0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUucnVuKHBhaW50U3RhcnRUaW1lU3RhbXApO1xuICAgICAgICAvLyBBIHRhc2sgcXVldWUgY2FsbGJhY2sgbWF5IGhhdmUgZmlyZWQgYSB1c2VyIGV2ZW50IHdoaWNoIG1heSBoYXZlIHJlbW92ZWQgdGhlIG1hcFxuICAgICAgICBpZiAodGhpcy5fcmVtb3ZlZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZVByb2plY3Rpb25UcmFuc2l0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgZmFkZUR1cmF0aW9uID0gdGhpcy5faXNJbml0aWFsTG9hZCA/IDAgOiB0aGlzLl9mYWRlRHVyYXRpb247XG5cbiAgICAgICAgLy8gSWYgdGhlIHN0eWxlIGhhcyBjaGFuZ2VkLCB0aGUgbWFwIGlzIGJlaW5nIHpvb21lZCwgb3IgYSB0cmFuc2l0aW9uIG9yIGZhZGUgaXMgaW4gcHJvZ3Jlc3M6XG4gICAgICAgIC8vICAtIEFwcGx5IHN0eWxlIGNoYW5nZXMgKGluIGEgYmF0Y2gpXG4gICAgICAgIC8vICAtIFJlY2FsY3VsYXRlIHBhaW50IHByb3BlcnRpZXMuXG4gICAgICAgIGlmICh0aGlzLnN0eWxlICYmIHRoaXMuX3N0eWxlRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlRGlydHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMudHJhbnNmb3JtLnpvb207XG4gICAgICAgICAgICBjb25zdCBwaXRjaCA9IHRoaXMudHJhbnNmb3JtLnBpdGNoO1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gYnJvd3Nlci5ub3coKTtcblxuICAgICAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IG5ldyBFdmFsdWF0aW9uUGFyYW1ldGVycyh6b29tLCB7XG4gICAgICAgICAgICAgICAgbm93LFxuICAgICAgICAgICAgICAgIGZhZGVEdXJhdGlvbixcbiAgICAgICAgICAgICAgICBwaXRjaCxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB0aGlzLnN0eWxlLmdldFRyYW5zaXRpb24oKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc3R5bGUudXBkYXRlKHBhcmFtZXRlcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZm9nSXNUcmFuc2l0aW9uaW5nID0gdGhpcy5zdHlsZSAmJiB0aGlzLnN0eWxlLmZvZyAmJiB0aGlzLnN0eWxlLmZvZy5oYXNUcmFuc2l0aW9uKCk7XG5cbiAgICAgICAgaWYgKGZvZ0lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5fbWFya2Vyc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc291cmNlc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGFyZSBpbiBfcmVuZGVyIGZvciBhbnkgcmVhc29uIG90aGVyIHRoYW4gYW4gaW4tcHJvZ3Jlc3MgcGFpbnRcbiAgICAgICAgLy8gdHJhbnNpdGlvbiwgdXBkYXRlIHNvdXJjZSBjYWNoZXMgdG8gY2hlY2sgZm9yIGFuZCBsb2FkIGFueSB0aWxlcyB3ZVxuICAgICAgICAvLyBuZWVkIGZvciB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICAgICAgbGV0IGF2ZXJhZ2VFbGV2YXRpb25DaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnN0eWxlICYmIHRoaXMuX3NvdXJjZXNEaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlc0RpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnBhaW50ZXIuX3VwZGF0ZUZvZyh0aGlzLnN0eWxlKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRlcnJhaW4oKTsgLy8gVGVycmFpbiBERU0gc291cmNlIHVwZGF0ZXMgaGVyZSBhbmQgc2tpcHMgdXBkYXRlIGluIHN0eWxlLl91cGRhdGVTb3VyY2VzLlxuICAgICAgICAgICAgYXZlcmFnZUVsZXZhdGlvbkNoYW5nZWQgPSB0aGlzLl91cGRhdGVBdmVyYWdlRWxldmF0aW9uKGZyYW1lU3RhcnRUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuX3VwZGF0ZVNvdXJjZXModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9ucyBvZiBtYXJrZXJzIGFuZCBwb3B1cHMgb24gZW5hYmxpbmcvZGlzYWJsaW5nIHRlcnJhaW5cbiAgICAgICAgICAgIHRoaXMuX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF2ZXJhZ2VFbGV2YXRpb25DaGFuZ2VkID0gdGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihmcmFtZVN0YXJ0VGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wbGFjZW1lbnREaXJ0eSA9IHRoaXMuc3R5bGUgJiYgdGhpcy5zdHlsZS5fdXBkYXRlUGxhY2VtZW50KHRoaXMucGFpbnRlci50cmFuc2Zvcm0sIHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzLCBmYWRlRHVyYXRpb24sIHRoaXMuX2Nyb3NzU291cmNlQ29sbGlzaW9ucyk7XG5cbiAgICAgICAgLy8gQWN0dWFsbHkgZHJhd1xuICAgICAgICBpZiAodGhpcy5zdHlsZSkge1xuICAgICAgICAgICAgdGhpcy5wYWludGVyLnJlbmRlcih0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICAgICAgc2hvd1RpbGVCb3VuZGFyaWVzOiB0aGlzLnNob3dUaWxlQm91bmRhcmllcyxcbiAgICAgICAgICAgICAgICBzaG93VGVycmFpbldpcmVmcmFtZTogdGhpcy5zaG93VGVycmFpbldpcmVmcmFtZSxcbiAgICAgICAgICAgICAgICBzaG93T3ZlcmRyYXdJbnNwZWN0b3I6IHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvcixcbiAgICAgICAgICAgICAgICBzaG93UXVlcnlHZW9tZXRyeTogISF0aGlzLl9zaG93UXVlcnlHZW9tZXRyeSxcbiAgICAgICAgICAgICAgICBzaG93VGlsZUFBQkJzOiB0aGlzLnNob3dUaWxlQUFCQnMsXG4gICAgICAgICAgICAgICAgcm90YXRpbmc6IHRoaXMuaXNSb3RhdGluZygpLFxuICAgICAgICAgICAgICAgIHpvb21pbmc6IHRoaXMuaXNab29taW5nKCksXG4gICAgICAgICAgICAgICAgbW92aW5nOiB0aGlzLmlzTW92aW5nKCksXG4gICAgICAgICAgICAgICAgZmFkZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGlzSW5pdGlhbExvYWQ6IHRoaXMuX2lzSW5pdGlhbExvYWQsXG4gICAgICAgICAgICAgICAgc2hvd1BhZGRpbmc6IHRoaXMuc2hvd1BhZGRpbmcsXG4gICAgICAgICAgICAgICAgZ3B1VGltaW5nOiAhIXRoaXMubGlzdGVucygnZ3B1LXRpbWluZy1sYXllcicpLFxuICAgICAgICAgICAgICAgIGdwdVRpbWluZ0RlZmVycmVkUmVuZGVyOiAhIXRoaXMubGlzdGVucygnZ3B1LXRpbWluZy1kZWZlcnJlZC1yZW5kZXInKSxcbiAgICAgICAgICAgICAgICBzcGVlZEluZGV4VGltaW5nOiB0aGlzLnNwZWVkSW5kZXhUaW1pbmcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JlbmRlcicpKTtcblxuICAgICAgICBpZiAodGhpcy5sb2FkZWQoKSAmJiAhdGhpcy5fbG9hZGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgUGVyZm9ybWFuY2VVdGlscy5tYXJrKFBlcmZvcm1hbmNlTWFya2Vycy5sb2FkKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2xvYWQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdHlsZSAmJiAodGhpcy5zdHlsZS5oYXNUcmFuc2l0aW9ucygpKSkge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdHlsZSAmJiAhdGhpcy5fcGxhY2VtZW50RGlydHkpIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIG5vIGZhZGUgb3BlcmF0aW9ucyBhcmUgaW4gcHJvZ3Jlc3MsIHdlIGNhbiByZWxlYXNlXG4gICAgICAgICAgICAvLyBhbGwgdGlsZXMgaGVsZCBmb3IgZmFkaW5nLiBJZiB3ZSBkaWRuJ3QgZG8gdGhpcywgdGhlIHRpbGVzXG4gICAgICAgICAgICAvLyB3b3VsZCBqdXN0IHNpdCBpbiB0aGUgU291cmNlQ2FjaGVzIHVudGlsIHRoZSBuZXh0IHJlbmRlclxuICAgICAgICAgICAgdGhpcy5zdHlsZS5fcmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdwdVRpbWVyKSB7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJDUFVUaW1lID0gYnJvd3Nlci5ub3coKSAtIGZyYW1lU3RhcnRUaW1lO1xuICAgICAgICAgICAgZXh0VGltZXJRdWVyeS5lbmRRdWVyeUVYVChleHRUaW1lclF1ZXJ5LlRJTUVfRUxBUFNFRF9FWFQsIGdwdVRpbWVyKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlckdQVVRpbWUgPSBleHRUaW1lclF1ZXJ5LmdldFF1ZXJ5T2JqZWN0RVhUKGdwdVRpbWVyLCBleHRUaW1lclF1ZXJ5LlFVRVJZX1JFU1VMVF9FWFQpIC8gKDEwMDAgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICBleHRUaW1lclF1ZXJ5LmRlbGV0ZVF1ZXJ5RVhUKGdwdVRpbWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdncHUtdGltaW5nLWZyYW1lJywge1xuICAgICAgICAgICAgICAgICAgICBjcHVUaW1lOiByZW5kZXJDUFVUaW1lLFxuICAgICAgICAgICAgICAgICAgICBncHVUaW1lOiByZW5kZXJHUFVUaW1lXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZS5tYXJrKCdmcmFtZS1ncHUnLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogZnJhbWVTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3B1VGltZTogcmVuZGVyR1BVVGltZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCA1MCk7IC8vIFdhaXQgNTBtcyB0byBnaXZlIHRpbWUgZm9yIGFsbCBHUFUgY2FsbHMgdG8gZmluaXNoIGJlZm9yZSBxdWVyeWluZ1xuICAgICAgICB9XG5cbiAgICAgICAgUGVyZm9ybWFuY2VVdGlscy5lbmRNZWFzdXJlKG0pO1xuXG4gICAgICAgIGlmICh0aGlzLmxpc3RlbnMoJ2dwdS10aW1pbmctbGF5ZXInKSkge1xuICAgICAgICAgICAgLy8gUmVzZXR0aW5nIHRoZSBQYWludGVyJ3MgcGVyLWxheWVyIHRpbWluZyBxdWVyaWVzIGhlcmUgYWxsb3dzIHVzIHRvIGlzb2xhdGVcbiAgICAgICAgICAgIC8vIHRoZSBxdWVyaWVzIHRvIGluZGl2aWR1YWwgZnJhbWVzLlxuICAgICAgICAgICAgY29uc3QgZnJhbWVMYXllclF1ZXJpZXMgPSB0aGlzLnBhaW50ZXIuY29sbGVjdEdwdVRpbWVycygpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZExheWVyVGltZXMgPSB0aGlzLnBhaW50ZXIucXVlcnlHcHVUaW1lcnMoZnJhbWVMYXllclF1ZXJpZXMpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZ3B1LXRpbWluZy1sYXllcicsIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJUaW1lczogcmVuZGVyZWRMYXllclRpbWVzXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSwgNTApOyAvLyBXYWl0IDUwbXMgdG8gZ2l2ZSB0aW1lIGZvciBhbGwgR1BVIGNhbGxzIHRvIGZpbmlzaCBiZWZvcmUgcXVlcnlpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxpc3RlbnMoJ2dwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmVycmVkUmVuZGVyUXVlcmllcyA9IHRoaXMucGFpbnRlci5jb2xsZWN0RGVmZXJyZWRSZW5kZXJHcHVRdWVyaWVzKCk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdwdVRpbWUgPSB0aGlzLnBhaW50ZXIucXVlcnlHcHVUaW1lRGVmZXJyZWRSZW5kZXIoZGVmZXJyZWRSZW5kZXJRdWVyaWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdncHUtdGltaW5nLWRlZmVycmVkLXJlbmRlcicsIHtncHVUaW1lfSkpO1xuICAgICAgICAgICAgfSwgNTApOyAvLyBXYWl0IDUwbXMgdG8gZ2l2ZSB0aW1lIGZvciBhbGwgR1BVIGNhbGxzIHRvIGZpbmlzaCBiZWZvcmUgcXVlcnlpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNjaGVkdWxlIGFub3RoZXIgcmVuZGVyIGZyYW1lIGlmIGl0J3MgbmVlZGVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBFdmVuIHRob3VnaCBgX3N0eWxlRGlydHlgIGFuZCBgX3NvdXJjZXNEaXJ0eWAgYXJlIHJlc2V0IGluIHRoaXNcbiAgICAgICAgLy8gbWV0aG9kLCBzeW5jaHJvbm91cyBldmVudHMgZmlyZWQgZHVyaW5nIFN0eWxlI3VwZGF0ZSBvclxuICAgICAgICAvLyBTdHlsZSNfdXBkYXRlU291cmNlcyBjb3VsZCBoYXZlIGNhdXNlZCB0aGVtIHRvIGJlIHNldCBhZ2Fpbi5cbiAgICAgICAgY29uc3Qgc29tZXRoaW5nRGlydHkgPSB0aGlzLl9zb3VyY2VzRGlydHkgfHwgdGhpcy5fc3R5bGVEaXJ0eSB8fCB0aGlzLl9wbGFjZW1lbnREaXJ0eSB8fCBhdmVyYWdlRWxldmF0aW9uQ2hhbmdlZDtcbiAgICAgICAgaWYgKHNvbWV0aGluZ0RpcnR5IHx8IHRoaXMuX3JlcGFpbnQpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclJlcGFpbnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHdpbGxJZGxlID0gIXRoaXMuaXNNb3ZpbmcoKSAmJiB0aGlzLmxvYWRlZCgpO1xuICAgICAgICAgICAgaWYgKHdpbGxJZGxlKSB7XG4gICAgICAgICAgICAgICAgLy8gQmVmb3JlIGlkbGluZywgd2UgcGVyZm9ybSBvbmUgbGFzdCBzYW1wbGUgc28gdGhhdCBpZiB0aGUgYXZlcmFnZSBlbGV2YXRpb25cbiAgICAgICAgICAgICAgICAvLyBkb2VzIG5vdCBleGFjdGx5IG1hdGNoIHRoZSB0ZXJyYWluLCB3ZSBza2lwIGlkbGUgYW5kIGVhc2UgaXQgdG8gaXRzIGZpbmFsIHN0YXRlLlxuICAgICAgICAgICAgICAgIGF2ZXJhZ2VFbGV2YXRpb25DaGFuZ2VkID0gdGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihmcmFtZVN0YXJ0VGltZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdmVyYWdlRWxldmF0aW9uQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlclJlcGFpbnQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckZyYW1lKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAod2lsbElkbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnaWRsZScpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNJbml0aWFsTG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayB0aGUgb3B0aW9ucyB0byBzZWUgaWYgbmVlZCB0byBjYWxjdWxhdGUgdGhlIHNwZWVkIGluZGV4XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNwZWVkSW5kZXhUaW1pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWVkSW5kZXhOdW1iZXIgPSB0aGlzLl9jYWxjdWxhdGVTcGVlZEluZGV4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdzcGVlZGluZGV4Y29tcGxldGVkJywge3NwZWVkSW5kZXg6IHNwZWVkSW5kZXhOdW1iZXJ9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwZWVkSW5kZXhUaW1pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9sb2FkZWQgJiYgIXRoaXMuX2Z1bGx5TG9hZGVkICYmICFzb21ldGhpbmdEaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbHlMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgTGl2ZVBlcmZvcm1hbmNlVXRpbHMubWFyayhQZXJmb3JtYW5jZU1hcmtlcnMuZnVsbExvYWQpO1xuICAgICAgICAgICAgLy8gRm9sbG93aW5nIGxpbmVzIGFyZSBiaWxsaW5nIGFuZCBtZXRyaWNzIHJlbGF0ZWQgY29kZS4gRG8gbm90IGNoYW5nZS4gU2VlIExJQ0VOU0UudHh0XG4gICAgICAgICAgICBpZiAodGhpcy5fcGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHBvc3RQZXJmb3JtYW5jZUV2ZW50KHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbiwge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5wYWludGVyLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMucGFpbnRlci5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uUmFuZ2U6IHRoaXMuX2ludGVyYWN0aW9uUmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlIaWRkZW46IHRoaXMuX3Zpc2liaWxpdHlIaWRkZW4sXG4gICAgICAgICAgICAgICAgICAgIHRlcnJhaW5FbmFibGVkOiAhIXRoaXMucGFpbnRlci5zdHlsZS5nZXRUZXJyYWluKCksXG4gICAgICAgICAgICAgICAgICAgIGZvZ0VuYWJsZWQ6ICEhdGhpcy5wYWludGVyLnN0eWxlLmdldEZvZygpLFxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uOiB0aGlzLmdldFByb2plY3Rpb24oKS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB6b29tOiB0aGlzLnRyYW5zZm9ybS56b29tLFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlcjogdGhpcy5wYWludGVyLmNvbnRleHQucmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgICAgIHZlbmRvcjogdGhpcy5wYWludGVyLmNvbnRleHQudmVuZG9yXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hdXRoZW50aWNhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKHNob3VsZFdyYXA/OiBib29sZWFuKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWFya2VyIG9mIHRoaXMuX21hcmtlcnMpIHtcbiAgICAgICAgICAgIC8vIFdyYXAgbWFya2VyIGxvY2F0aW9uIHdoZW4gdG9nZ2xpbmcgdG8gYSBwcm9qZWN0aW9uIHdpdGhvdXQgd29ybGQgY29waWVzXG4gICAgICAgICAgICBpZiAoc2hvdWxkV3JhcCAmJiAhdGhpcy5nZXRSZW5kZXJXb3JsZENvcGllcygpKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyLl9sbmdMYXQgPSBtYXJrZXIuX2xuZ0xhdC53cmFwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXJrZXIuX3VwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcG9wdXAgb2YgdGhpcy5fcG9wdXBzKSB7XG4gICAgICAgICAgICAvLyBXcmFwIHBvcHVwIGxvY2F0aW9uIHdoZW4gdG9nZ2xpbmcgdG8gYSBwcm9qZWN0aW9uIHdpdGhvdXQgd29ybGQgY29waWVzIGFuZCB0cmFjayBwb2ludGVyIHNldCB0byBmYWxzZVxuICAgICAgICAgICAgaWYgKHNob3VsZFdyYXAgJiYgIXRoaXMuZ2V0UmVuZGVyV29ybGRDb3BpZXMoKSAmJiAhcG9wdXAuX3RyYWNrUG9pbnRlcikge1xuICAgICAgICAgICAgICAgIHBvcHVwLl9sbmdMYXQgPSBwb3B1cC5fbG5nTGF0LndyYXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcHVwLl91cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgYXZlcmFnZSB2aXNpYmxlIGVsZXZhdGlvbiBieSBzYW1wbGluZyB0ZXJyYWluXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBlbGV2YXRpb24gaGFzIGNoYW5nZWQgZnJvbSB0aGUgbGFzdCBzYW1wbGluZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VwZGF0ZUF2ZXJhZ2VFbGV2YXRpb24odGltZVN0YW1wOiBudW1iZXIsIGlnbm9yZVRpbWVvdXQ6IGJvb2xlYW4gPSBmYWxzZSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhcHBseVVwZGF0ZSA9IHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZShmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIXRoaXMucGFpbnRlci5hdmVyYWdlRWxldmF0aW9uTmVlZHNFYXNpbmcoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb24gIT09IDApIHJldHVybiBhcHBseVVwZGF0ZSgwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRpbWVvdXRFbGFwc2VkID0gaWdub3JlVGltZW91dCB8fCB0aW1lU3RhbXAgLSB0aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdCA+IEFWRVJBR0VfRUxFVkFUSU9OX1NBTVBMSU5HX0lOVEVSVkFMO1xuXG4gICAgICAgIGlmICh0aW1lb3V0RWxhcHNlZCAmJiAhdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5pc0Vhc2luZyh0aW1lU3RhbXApKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RWxldmF0aW9uID0gdGhpcy50cmFuc2Zvcm0uYXZlcmFnZUVsZXZhdGlvbjtcbiAgICAgICAgICAgIGxldCBuZXdFbGV2YXRpb24gPSB0aGlzLnRyYW5zZm9ybS5zYW1wbGVBdmVyYWdlRWxldmF0aW9uKCk7XG4gICAgICAgICAgICBsZXQgZXhhZ2dlcmF0aW9uQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbikge1xuICAgICAgICAgICAgICAgIGV4YWdnZXJhdGlvbkNoYW5nZWQgPSB0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkgIT09IHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25FeGFnZ2VyYXRpb247XG4gICAgICAgICAgICAgICAgLy8gJEZsb3dJZ25vcmVbaW5jb21wYXRpYmxlLXVzZV1cbiAgICAgICAgICAgICAgICB0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uID0gdGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOZXcgZWxldmF0aW9uIGlzIE5hTiBpZiBubyB0ZXJyYWluIHRpbGVzIHdlcmUgYXZhaWxhYmxlXG4gICAgICAgICAgICBpZiAoaXNOYU4obmV3RWxldmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIG5ld0VsZXZhdGlvbiA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERvbid0IGFjdGl2YXRlIHRoZSB0aW1lb3V0IGlmIG5vIGRhdGEgd2FzIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgIHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0ID0gdGltZVN0YW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWxldmF0aW9uQ2hhbmdlID0gTWF0aC5hYnMoY3VycmVudEVsZXZhdGlvbiAtIG5ld0VsZXZhdGlvbik7XG5cbiAgICAgICAgICAgIGlmIChlbGV2YXRpb25DaGFuZ2UgPiBBVkVSQUdFX0VMRVZBVElPTl9FQVNFX1RIUkVTSE9MRCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0luaXRpYWxMb2FkIHx8IGV4YWdnZXJhdGlvbkNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8obmV3RWxldmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5VXBkYXRlKG5ld0VsZXZhdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5lYXNlVG8obmV3RWxldmF0aW9uLCB0aW1lU3RhbXAsIEFWRVJBR0VfRUxFVkFUSU9OX0VBU0VfVElNRSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGV2YXRpb25DaGFuZ2UgPiBBVkVSQUdFX0VMRVZBVElPTl9DSEFOR0VfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8obmV3RWxldmF0aW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwbHlVcGRhdGUobmV3RWxldmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmlzRWFzaW5nKHRpbWVTdGFtcCkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseVVwZGF0ZSh0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmdldFZhbHVlKHRpbWVTdGFtcCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKioqKiBTVEFSVCBXQVJOSU5HIC0gUkVNT1ZBTCBPUiBNT0RJRklDQVRJT04gT0YgVEhFXG4gICAgKiBGT0xMT1dJTkcgQ09ERSBWSU9MQVRFUyBUSEUgTUFQQk9YIFRFUk1TIE9GIFNFUlZJQ0UgICoqKioqKlxuICAgICogVGhlIGZvbGxvd2luZyBjb2RlIGlzIHVzZWQgdG8gYWNjZXNzIE1hcGJveCdzIEFQSXMuIFJlbW92YWwgb3IgbW9kaWZpY2F0aW9uXG4gICAgKiBvZiB0aGlzIGNvZGUgY2FuIHJlc3VsdCBpbiBoaWdoZXIgZmVlcyBhbmQvb3JcbiAgICAqIHRlcm1pbmF0aW9uIG9mIHlvdXIgYWNjb3VudCB3aXRoIE1hcGJveC5cbiAgICAqXG4gICAgKiBVbmRlciB0aGUgTWFwYm94IFRlcm1zIG9mIFNlcnZpY2UsIHlvdSBtYXkgbm90IHVzZSB0aGlzIGNvZGUgdG8gYWNjZXNzIE1hcGJveFxuICAgICogTWFwcGluZyBBUElzIG90aGVyIHRoYW4gdGhyb3VnaCBNYXBib3ggU0RLcy5cbiAgICAqXG4gICAgKiBUaGUgTWFwcGluZyBBUElzIGRvY3VtZW50YXRpb24gaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2FwaS9tYXBzLyNtYXBzXG4gICAgKiBhbmQgdGhlIE1hcGJveCBUZXJtcyBvZiBTZXJ2aWNlIGFyZSBhdmFpbGFibGUgYXQgaHR0cHM6Ly93d3cubWFwYm94LmNvbS90b3MvXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgX2F1dGhlbnRpY2F0ZSgpIHtcbiAgICAgICAgZ2V0TWFwU2Vzc2lvbkFQSSh0aGlzLl9nZXRNYXBJZCgpLCB0aGlzLl9yZXF1ZXN0TWFuYWdlci5fc2t1VG9rZW4sIHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbiwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIC8vIHRocm93aW5nIGFuIGVycm9yIGhlcmUgd2lsbCBjYXVzZSB0aGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIGFnYWluIHVubmVjZXNzYXJpbHlcbiAgICAgICAgICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgPT09IEFVVEhfRVJSX01TRyB8fCAoZXJyOiBhbnkpLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5wYWludGVyLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlQXV0aFN0YXRlKGdsLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sb2dvQ29udHJvbCBpbnN0YW5jZW9mIExvZ29Db250cm9sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dvQ29udHJvbC5fdXBkYXRlTG9nbygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChnbCkgZ2wuY2xlYXIoZ2wuREVQVEhfQlVGRkVSX0JJVCB8IGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5TVEVOQ0lMX0JVRkZFUl9CSVQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ0EgdmFsaWQgTWFwYm94IGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZCB0byB1c2UgTWFwYm94IEdMIEpTLiBUbyBjcmVhdGUgYW4gYWNjb3VudCBvciBhIG5ldyBhY2Nlc3MgdG9rZW4sIHZpc2l0IGh0dHBzOi8vYWNjb3VudC5tYXBib3guY29tLycpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwb3N0TWFwTG9hZEV2ZW50KHRoaXMuX2dldE1hcElkKCksIHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbiwgdGhpcy5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuLCAoKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgLyoqKioqIEVORCBXQVJOSU5HIC0gUkVNT1ZBTCBPUiBNT0RJRklDQVRJT04gT0YgVEhFXG4gICAgUFJFQ0VESU5HIENPREUgVklPTEFURVMgVEhFIE1BUEJPWCBURVJNUyBPRiBTRVJWSUNFICAqKioqKiovXG5cbiAgICBfdXBkYXRlVGVycmFpbigpIHtcbiAgICAgICAgLy8gUmVjYWxjdWxhdGUgaWYgZW5hYmxlZC9kaXNhYmxlZCBhbmQgY2FsY3VsYXRlIGVsZXZhdGlvbiBjb3Zlci4gQXMgY2FtZXJhIGlzIHVzaW5nIGVsZXZhdGlvbiB0aWxlcyBiZWZvcmVcbiAgICAgICAgLy8gcmVuZGVyIChhbmQgZGVmZXJyZWQgdXBkYXRlIGFmdGVyIHpvb20gcmVjYWxjdWxhdGlvbiksIHRoaXMgbmVlZHMgdG8gYmUgY2FsbGVkIHdoZW4gcmVtb3ZpbmcgdGVycmFpbiBzb3VyY2UuXG4gICAgICAgIGNvbnN0IGFkYXB0Q2FtZXJhQWx0aXR1ZGUgPSB0aGlzLl9pc0RyYWdnaW5nKCk7XG4gICAgICAgIHRoaXMucGFpbnRlci51cGRhdGVUZXJyYWluKHRoaXMuc3R5bGUsIGFkYXB0Q2FtZXJhQWx0aXR1ZGUpO1xuICAgIH1cblxuICAgIF9jYWxjdWxhdGVTcGVlZEluZGV4KCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGZpbmFsRnJhbWUgPSB0aGlzLnBhaW50ZXIuY2FudmFzQ29weSgpO1xuICAgICAgICBjb25zdCBjYW52YXNDb3B5SW5zdGFuY2VzID0gdGhpcy5wYWludGVyLmdldENhbnZhc0NvcGllc0FuZFRpbWVzdGFtcHMoKTtcbiAgICAgICAgY2FudmFzQ29weUluc3RhbmNlcy50aW1lU3RhbXBzLnB1c2gocGVyZm9ybWFuY2Uubm93KCkpO1xuXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5wYWludGVyLmNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnN0IGZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVhZCh0ZXh0dXJlKSB7XG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRleHR1cmUsIDApO1xuICAgICAgICAgICAgY29uc3QgcGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoZ2wuZHJhd2luZ0J1ZmZlcldpZHRoICogZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCAqIDQpO1xuICAgICAgICAgICAgZ2wucmVhZFBpeGVscygwLCAwLCBnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHBpeGVscyk7XG4gICAgICAgICAgICByZXR1cm4gcGl4ZWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhc1BpeGVsQ29tcGFyaXNvbihyZWFkKGZpbmFsRnJhbWUpLCBjYW52YXNDb3B5SW5zdGFuY2VzLmNhbnZhc0NvcGllcy5tYXAocmVhZCksIGNhbnZhc0NvcHlJbnN0YW5jZXMudGltZVN0YW1wcyk7XG4gICAgfVxuXG4gICAgX2NhbnZhc1BpeGVsQ29tcGFyaXNvbihmaW5hbEZyYW1lOiBVaW50OEFycmF5LCBhbGxGcmFtZXM6IFVpbnQ4QXJyYXlbXSwgdGltZVN0YW1wczogbnVtYmVyW10pOiBudW1iZXIge1xuICAgICAgICBsZXQgZmluYWxTY29yZSA9IHRpbWVTdGFtcHNbMV0gLSB0aW1lU3RhbXBzWzBdO1xuICAgICAgICBjb25zdCBudW1QaXhlbHMgPSBmaW5hbEZyYW1lLmxlbmd0aCAvIDQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxGcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lID0gYWxsRnJhbWVzW2ldO1xuICAgICAgICAgICAgbGV0IGNudCA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZyYW1lLmxlbmd0aDsgaiArPSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lW2pdID09PSBmaW5hbEZyYW1lW2pdICYmXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lW2ogKyAxXSA9PT0gZmluYWxGcmFtZVtqICsgMV0gJiZcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVbaiArIDJdID09PSBmaW5hbEZyYW1lW2ogKyAyXSAmJlxuICAgICAgICAgICAgICAgICAgICBmcmFtZVtqICsgM10gPT09IGZpbmFsRnJhbWVbaiArIDNdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNudCA9IGNudCArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9jYWxjdWxhdGUgdGhlICUgdmlzdWFsIGNvbXBsZXRlbmVzc1xuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSB0aW1lU3RhbXBzW2kgKyAyXSAtIHRpbWVTdGFtcHNbaSArIDFdO1xuICAgICAgICAgICAgY29uc3QgdmlzdWFsQ29tcGxldG5lc3MgPSBjbnQgLyBudW1QaXhlbHM7XG4gICAgICAgICAgICBmaW5hbFNjb3JlICs9ICBpbnRlcnZhbCAqICgxIC0gdmlzdWFsQ29tcGxldG5lc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaW5hbFNjb3JlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIGFuZCByZWxlYXNlIGFsbCBpbnRlcm5hbCByZXNvdXJjZXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbWFwLlxuICAgICAqXG4gICAgICogVGhpcyBpbmNsdWRlcyBET00gZWxlbWVudHMsIGV2ZW50IGJpbmRpbmdzLCB3ZWIgd29ya2VycywgYW5kIFdlYkdMIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCB3aGVuIHlvdSBhcmUgZG9uZSB1c2luZyB0aGUgbWFwIGFuZCB3aXNoIHRvIGVuc3VyZSB0aGF0IGl0IG5vXG4gICAgICogbG9uZ2VyIGNvbnN1bWVzIGJyb3dzZXIgcmVzb3VyY2VzLiBBZnRlcndhcmRzLCB5b3UgbXVzdCBub3QgY2FsbCBhbnkgb3RoZXJcbiAgICAgKiBtZXRob2RzIG9uIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5yZW1vdmUoKTtcbiAgICAgKi9cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNoKSB0aGlzLl9oYXNoLnJlbW92ZSgpO1xuXG4gICAgICAgIGZvciAoY29uc3QgY29udHJvbCBvZiB0aGlzLl9jb250cm9scykgY29udHJvbC5vblJlbW92ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29udHJvbHMgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy5fZnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5jbGVhcigpO1xuICAgICAgICB0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUuY2xlYXIoKTtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFpbnRlci5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmhhbmRsZXJzKSB0aGlzLmhhbmRsZXJzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zZXRTdHlsZShudWxsKTtcblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9vbldpbmRvd1Jlc2l6ZSwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5fb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgdGhpcy5fb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCB0aGlzLl9vbldpbmRvd09ubGluZSwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IHRoaXMucGFpbnRlci5jb250ZXh0LmdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG4gICAgICAgIGlmIChleHRlbnNpb24pIGV4dGVuc2lvbi5sb3NlQ29udGV4dCgpO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLl9jb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuX2NvbnRleHRSZXN0b3JlZCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuX2NhbnZhc0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fY29udHJvbENvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fbWlzc2luZ0NTU0NhbmFyeS5yZW1vdmUoKTtcblxuICAgICAgICB0aGlzLl9jYW52YXMgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgICAgICB0aGlzLl9jYW52YXNDb250YWluZXIgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgICAgICB0aGlzLl9jb250cm9sQ29udGFpbmVyID0gKHVuZGVmaW5lZDogYW55KTtcbiAgICAgICAgdGhpcy5fbWlzc2luZ0NTU0NhbmFyeSA9ICh1bmRlZmluZWQ6IGFueSk7XG5cbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLW1hcCcpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vbk1hcFNjcm9sbCwgZmFsc2UpO1xuXG4gICAgICAgIFBlcmZvcm1hbmNlVXRpbHMuY2xlYXJNZXRyaWNzKCk7XG4gICAgICAgIHJlbW92ZUF1dGhTdGF0ZSh0aGlzLnBhaW50ZXIuY29udGV4dC5nbCk7XG4gICAgICAgIHRoaXMuX3JlbW92ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyZW1vdmUnKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB0aGUgcmVuZGVyaW5nIG9mIGEgc2luZ2xlIGZyYW1lLiBVc2UgdGhpcyBtZXRob2Qgd2l0aCBjdXN0b20gbGF5ZXJzIHRvXG4gICAgICogcmVwYWludCB0aGUgbWFwIHdoZW4gdGhlIGxheWVyJ3MgcHJvcGVydGllcyBvciBwcm9wZXJ0aWVzIGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICAgKiBsYXllcidzIHNvdXJjZSBjaGFuZ2UuIENhbGxpbmcgdGhpcyBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgdGhlXG4gICAgICogbmV4dCBmcmFtZSBpcyByZW5kZXJlZCB3aWxsIHN0aWxsIHJlc3VsdCBpbiBvbmx5IGEgc2luZ2xlIGZyYW1lIGJlaW5nIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAudHJpZ2dlclJlcGFpbnQoKTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSAzRCBtb2RlbF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLTNkLW1vZGVsLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgYW4gYW5pbWF0ZWQgaWNvbiB0byB0aGUgbWFwXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hZGQtaW1hZ2UtYW5pbWF0ZWQvKVxuICAgICAqL1xuICAgIHRyaWdnZXJSZXBhaW50KCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyRnJhbWUodHJ1ZSk7XG4gICAgfVxuXG4gICAgX3RyaWdnZXJGcmFtZShyZW5kZXI6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyTmV4dEZyYW1lID0gdGhpcy5fcmVuZGVyTmV4dEZyYW1lIHx8IHJlbmRlcjtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGUgJiYgIXRoaXMuX2ZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZSA9IGJyb3dzZXIuZnJhbWUoKHBhaW50U3RhcnRUaW1lU3RhbXA6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmVuZGVyRnJhbWUgPSAhIXRoaXMuX3JlbmRlck5leHRGcmFtZTtcbiAgICAgICAgICAgICAgICBQZXJmb3JtYW5jZVV0aWxzLmZyYW1lKHBhaW50U3RhcnRUaW1lU3RhbXAsIGlzUmVuZGVyRnJhbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJOZXh0RnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChpc1JlbmRlckZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcihwYWludFN0YXJ0VGltZVN0YW1wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZWxvYWRzIGFsbCB0aWxlcyB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIGZvciBvbmUgb3IgYSBzZXJpZXMgb2YgdHJhbnNmb3JtYXRpb25zXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYHRoaXNgIHwgUHJvbWlzZS5cbiAgICAgKi9cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgX3ByZWxvYWRUaWxlcyh0cmFuc2Zvcm06IFRyYW5zZm9ybSB8IEFycmF5PFRyYW5zZm9ybT4pOiB0aGlzIHtcbiAgICAgICAgY29uc3Qgc291cmNlczogQXJyYXk8U291cmNlQ2FjaGU+ID0gdGhpcy5zdHlsZSA/IChPYmplY3QudmFsdWVzKHRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcyk6IGFueSkgOiBbXTtcbiAgICAgICAgYXN5bmNBbGwoc291cmNlcywgKHNvdXJjZSwgZG9uZSkgPT4gc291cmNlLl9wcmVsb2FkVGlsZXModHJhbnNmb3JtLCBkb25lKSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyUmVwYWludCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfb25XaW5kb3dPbmxpbmUoKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cblxuICAgIF9vbldpbmRvd1Jlc2l6ZShldmVudDogRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYWNrUmVzaXplKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSh7b3JpZ2luYWxFdmVudDogZXZlbnR9KS5fdXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25WaXNpYmlsaXR5Q2hhbmdlKCkge1xuICAgICAgICBpZiAod2luZG93LmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgIHRoaXMuX3Zpc2liaWxpdHlIaWRkZW4rKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBAc2VjdGlvbiB7RGVidWcgZmVhdHVyZXN9ICovXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCB3aWxsIHJlbmRlciBhbiBvdXRsaW5lXG4gICAgICogYXJvdW5kIGVhY2ggdGlsZSBhbmQgdGhlIHRpbGUgSUQuIFRoZXNlIHRpbGUgYm91bmRhcmllcyBhcmUgdXNlZnVsIGZvclxuICAgICAqIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIFRoZSB1bmNvbXByZXNzZWQgZmlsZSBzaXplIG9mIHRoZSBmaXJzdCB2ZWN0b3Igc291cmNlIGlzIGRyYXduIGluIHRoZSB0b3AgbGVmdFxuICAgICAqIGNvcm5lciBvZiBlYWNoIHRpbGUsIG5leHQgdG8gdGhlIHRpbGUgSUQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBzaG93VGlsZUJvdW5kYXJpZXNcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2hvd1RpbGVCb3VuZGFyaWVzID0gdHJ1ZTtcbiAgICAgKi9cbiAgICBnZXQgc2hvd1RpbGVCb3VuZGFyaWVzKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXM7IH1cbiAgICBzZXQgc2hvd1RpbGVCb3VuZGFyaWVzKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXMgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dUaWxlQm91bmRhcmllcyA9IHZhbHVlO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCB3aWxsIHJlbmRlciBhIHdpcmVmcmFtZVxuICAgICAqIG9uIHRvcCBvZiB0aGUgZGlzcGxheWVkIHRlcnJhaW4uIFVzZWZ1bCBmb3IgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogVGhlIHdpcmVmcmFtZSBpcyBhbHdheXMgcmVkIGFuZCBpcyBkcmF3biBvbmx5IHdoZW4gdGVycmFpbiBpcyBhY3RpdmUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBzaG93VGVycmFpbldpcmVmcmFtZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zaG93VGVycmFpbldpcmVmcmFtZSA9IHRydWU7XG4gICAgICovXG4gICAgZ2V0IHNob3dUZXJyYWluV2lyZWZyYW1lKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93VGVycmFpbldpcmVmcmFtZTsgfVxuICAgIHNldCBzaG93VGVycmFpbldpcmVmcmFtZSh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWUgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dUZXJyYWluV2lyZWZyYW1lID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgc3BlZWRpbmRleCBtZXRyaWMgY2FsY3VsYXRpb24gaXMgb24gb3Igb2ZmXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNwZWVkSW5kZXhUaW1pbmdcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc3BlZWRJbmRleFRpbWluZyA9IHRydWU7XG4gICAgICovXG4gICAgZ2V0IHNwZWVkSW5kZXhUaW1pbmcoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3NwZWVkSW5kZXhUaW1pbmc7IH1cbiAgICBzZXQgc3BlZWRJbmRleFRpbWluZyh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5fc3BlZWRJbmRleFRpbWluZyA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgdGhpcy5fc3BlZWRJbmRleFRpbWluZyA9IHZhbHVlO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCB3aWxsIHZpc3VhbGl6ZVxuICAgICAqIHRoZSBwYWRkaW5nIG9mZnNldHMuXG4gICAgICpcbiAgICAgKiBAbmFtZSBzaG93UGFkZGluZ1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKi9cbiAgICBnZXQgc2hvd1BhZGRpbmcoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3Nob3dQYWRkaW5nOyB9XG4gICAgc2V0IHNob3dQYWRkaW5nKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93UGFkZGluZyA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgdGhpcy5fc2hvd1BhZGRpbmcgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbmQgc2V0cyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXAgd2lsbCByZW5kZXIgYm94ZXNcbiAgICAgKiBhcm91bmQgYWxsIHN5bWJvbHMgaW4gdGhlIGRhdGEgc291cmNlLCByZXZlYWxpbmcgd2hpY2ggc3ltYm9sc1xuICAgICAqIHdlcmUgcmVuZGVyZWQgb3Igd2hpY2ggd2VyZSBoaWRkZW4gZHVlIHRvIGNvbGxpc2lvbnMuXG4gICAgICogVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEBuYW1lIHNob3dDb2xsaXNpb25Cb3hlc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKi9cbiAgICBnZXQgc2hvd0NvbGxpc2lvbkJveGVzKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM7IH1cbiAgICBzZXQgc2hvd0NvbGxpc2lvbkJveGVzKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyA9IHZhbHVlO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgdHVybiBjb2xsaXNpb24gYm94ZXMgb24gd2UgaGF2ZSB0byBnZW5lcmF0ZSB0aGVtIGZvciBleGlzdGluZyB0aWxlc1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSB0dXJuIHRoZW0gb2ZmLCB0aGVyZSdzIG5vIGNvc3QgdG8gbGVhdmluZyBleGlzdGluZyBib3hlcyBpbiBwbGFjZVxuICAgICAgICAgICAgdGhpcy5zdHlsZS5fZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjYWxsIGFuIHVwZGF0ZSB0byByZW1vdmUgY29sbGlzaW9uIGJveGVzXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIHNob3VsZCBjb2xvci1jb2RlXG4gICAgICogZWFjaCBmcmFnbWVudCB0byBzaG93IGhvdyBtYW55IHRpbWVzIGl0IGhhcyBiZWVuIHNoYWRlZC5cbiAgICAgKiBXaGl0ZSBmcmFnbWVudHMgaGF2ZSBiZWVuIHNoYWRlZCA4IG9yIG1vcmUgdGltZXMuXG4gICAgICogQmxhY2sgZnJhZ21lbnRzIGhhdmUgYmVlbiBzaGFkZWQgMCB0aW1lcy5cbiAgICAgKiBUaGlzIGluZm9ybWF0aW9uIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogQG5hbWUgc2hvd092ZXJkcmF3XG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqL1xuICAgIGdldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvcjsgfVxuICAgIHNldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIHdpbGxcbiAgICAgKiBjb250aW51b3VzbHkgcmVwYWludC4gVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VmdWwgZm9yIGFuYWx5emluZyBwZXJmb3JtYW5jZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHJlcGFpbnRcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICovXG4gICAgZ2V0IHJlcGFpbnQoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3JlcGFpbnQ7IH1cbiAgICBzZXQgcmVwYWludCh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5fcmVwYWludCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcGFpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclJlcGFpbnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBzaG93IHZlcnRpY2VzXG4gICAgZ2V0IHZlcnRpY2VzKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl92ZXJ0aWNlczsgfVxuICAgIHNldCB2ZXJ0aWNlcyh2YWx1ZTogYm9vbGVhbikgeyB0aGlzLl92ZXJ0aWNlcyA9IHZhbHVlOyB0aGlzLl91cGRhdGUoKTsgfVxuXG4gICAgLyoqXG4gICAgKiBEaXNwbGF5IHRpbGUgQUFCQnMgZm9yIGRlYnVnZ2luZ1xuICAgICpcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGdldCBzaG93VGlsZUFBQkJzKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93VGlsZUFBQkJzOyB9XG4gICAgc2V0IHNob3dUaWxlQUFCQnModmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dUaWxlQUFCQnMgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dUaWxlQUFCQnMgPSB2YWx1ZTtcbiAgICAgICAgaWYgKCF2YWx1ZSkgeyBEZWJ1Zy5jbGVhckFhYmJzKCk7IHJldHVybjsgfVxuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBmb3IgY2FjaGUgYnJvd3NlciB0ZXN0c1xuICAgIF9zZXRDYWNoZUxpbWl0cyhsaW1pdDogbnVtYmVyLCBjaGVja1RocmVzaG9sZDogbnVtYmVyKSB7XG4gICAgICAgIHNldENhY2hlTGltaXRzKGxpbWl0LCBjaGVja1RocmVzaG9sZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnNpb24gb2YgTWFwYm94IEdMIEpTIGluIHVzZSBhcyBzcGVjaWZpZWQgaW4gcGFja2FnZS5qc29uLCBDSEFOR0VMT0cubWQsIGFuZCB0aGUgR2l0SHViIHJlbGVhc2UuXG4gICAgICpcbiAgICAgKiBAbmFtZSB2ZXJzaW9uXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEB2YXIge3N0cmluZ30gdmVyc2lvblxuICAgICAqL1xuXG4gICAgZ2V0IHZlcnNpb24oKTogc3RyaW5nIHsgcmV0dXJuIHZlcnNpb247IH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFwO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgaW50ZXJhY3RpdmUgY29udHJvbHMgYWRkZWQgdG8gdGhlIG1hcC4gVGhpcyBpcyBhXG4gKiBzcGVjaWZpY2F0aW9uIGZvciBpbXBsZW1lbnRlcnMgdG8gbW9kZWw6IGl0IGlzIG5vdFxuICogYW4gZXhwb3J0ZWQgbWV0aG9kIG9yIGNsYXNzLlxuICpcbiAqIENvbnRyb2xzIG11c3QgaW1wbGVtZW50IGBvbkFkZGAgYW5kIGBvblJlbW92ZWAsIGFuZCBtdXN0IG93biBhblxuICogZWxlbWVudCwgd2hpY2ggaXMgb2Z0ZW4gYSBgZGl2YCBlbGVtZW50LiBUbyB1c2UgTWFwYm94IEdMIEpTJ3NcbiAqIGRlZmF1bHQgY29udHJvbCBzdHlsaW5nLCBhZGQgdGhlIGBtYXBib3hnbC1jdHJsYCBjbGFzcyB0byB5b3VyIGNvbnRyb2wnc1xuICogbm9kZS5cbiAqXG4gKiBAaW50ZXJmYWNlIElDb250cm9sXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udHJvbCBpbXBsZW1lbnRlZCBhcyBFUzYgY2xhc3NcbiAqIGNsYXNzIEhlbGxvV29ybGRDb250cm9sIHtcbiAqICAgICBvbkFkZChtYXApIHtcbiAqICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICogICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTmFtZSA9ICdtYXBib3hnbC1jdHJsJztcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyLnRleHRDb250ZW50ID0gJ0hlbGxvLCB3b3JsZCc7XG4gKiAgICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gKiAgICAgfVxuICpcbiAqICAgICBvblJlbW92ZSgpIHtcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKTtcbiAqICAgICAgICAgdGhpcy5fbWFwID0gdW5kZWZpbmVkO1xuICogICAgIH1cbiAqIH1cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udHJvbCBpbXBsZW1lbnRlZCBhcyBFUzUgcHJvdG90eXBpY2FsIGNsYXNzXG4gKiBmdW5jdGlvbiBIZWxsb1dvcmxkQ29udHJvbCgpIHsgfVxuICpcbiAqIEhlbGxvV29ybGRDb250cm9sLnByb3RvdHlwZS5vbkFkZCA9IGZ1bmN0aW9uKG1hcCkge1xuICogICAgIHRoaXMuX21hcCA9IG1hcDtcbiAqICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NOYW1lID0gJ21hcGJveGdsLWN0cmwnO1xuICogICAgIHRoaXMuX2NvbnRhaW5lci50ZXh0Q29udGVudCA9ICdIZWxsbywgd29ybGQnO1xuICogICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gKiB9O1xuICpcbiAqIEhlbGxvV29ybGRDb250cm9sLnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAqICAgICB0aGlzLl9jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuICogICAgIHRoaXMuX21hcCA9IHVuZGVmaW5lZDtcbiAqIH07XG4gKi9cblxuLyoqXG4gKiBSZWdpc3RlciBhIGNvbnRyb2wgb24gdGhlIG1hcCBhbmQgZ2l2ZSBpdCBhIGNoYW5jZSB0byByZWdpc3RlciBldmVudCBsaXN0ZW5lcnNcbiAqIGFuZCByZXNvdXJjZXMuIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB7QGxpbmsgTWFwI2FkZENvbnRyb2x9XG4gKiBpbnRlcm5hbGx5LlxuICpcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIElDb250cm9sXG4gKiBAaW5zdGFuY2VcbiAqIEBuYW1lIG9uQWRkXG4gKiBAcGFyYW0ge01hcH0gbWFwIFRoZSBNYXAgdGhpcyBjb250cm9sIHdpbGwgYmUgYWRkZWQgdG8uXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFRoZSBjb250cm9sJ3MgY29udGFpbmVyIGVsZW1lbnQuIFRoaXMgc2hvdWxkXG4gKiBiZSBjcmVhdGVkIGJ5IHRoZSBjb250cm9sIGFuZCByZXR1cm5lZCBieSBvbkFkZCB3aXRob3V0IGJlaW5nIGF0dGFjaGVkXG4gKiB0byB0aGUgRE9NOiB0aGUgbWFwIHdpbGwgaW5zZXJ0IHRoZSBjb250cm9sJ3MgZWxlbWVudCBpbnRvIHRoZSBET01cbiAqIGFzIG5lY2Vzc2FyeS5cbiAqL1xuXG4vKipcbiAqIFVucmVnaXN0ZXIgYSBjb250cm9sIG9uIHRoZSBtYXAgYW5kIGdpdmUgaXQgYSBjaGFuY2UgdG8gZGV0YWNoIGV2ZW50IGxpc3RlbmVyc1xuICogYW5kIHJlc291cmNlcy4gVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHtAbGluayBNYXAjcmVtb3ZlQ29udHJvbH1cbiAqIGludGVybmFsbHkuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgSUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgb25SZW1vdmVcbiAqIEBwYXJhbSB7TWFwfSBtYXAgVGhlIE1hcCB0aGlzIGNvbnRyb2wgd2lsbCBiZSByZW1vdmVkIGZyb20uXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfSBUaGVyZSBpcyBubyByZXF1aXJlZCByZXR1cm4gdmFsdWUgZm9yIHRoaXMgbWV0aG9kLlxuICovXG5cbi8qKlxuICogT3B0aW9uYWxseSBwcm92aWRlIGEgZGVmYXVsdCBwb3NpdGlvbiBmb3IgdGhpcyBjb250cm9sLiBJZiB0aGlzIG1ldGhvZFxuICogaXMgaW1wbGVtZW50ZWQgYW5kIHtAbGluayBNYXAjYWRkQ29udHJvbH0gaXMgY2FsbGVkIHdpdGhvdXQgdGhlIGBwb3NpdGlvbmBcbiAqIHBhcmFtZXRlciwgdGhlIHZhbHVlIHJldHVybmVkIGJ5IGdldERlZmF1bHRQb3NpdGlvbiB3aWxsIGJlIHVzZWQgYXMgdGhlXG4gKiBjb250cm9sJ3MgcG9zaXRpb24uXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgSUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgZ2V0RGVmYXVsdFBvc2l0aW9uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIGNvbnRyb2wgcG9zaXRpb24sIG9uZSBvZiB0aGUgdmFsdWVzIHZhbGlkIGluIGFkZENvbnRyb2wuXG4gKi9cblxuLyoqXG4gKiBBIFtgUG9pbnRgIGdlb21ldHJ5XShodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L3BvaW50LWdlb21ldHJ5KSBvYmplY3QsIHdoaWNoIGhhc1xuICogYHhgIGFuZCBgeWAgcHJvcGVydGllcyByZXByZXNlbnRpbmcgc2NyZWVuIGNvb3JkaW5hdGVzIGluIHBpeGVscy5cbiAqXG4gKiBAdHlwZWRlZiB7UG9pbnR9IFBvaW50XG4gKiBAZXhhbXBsZVxuICogY29uc3QgcG9pbnQgPSBuZXcgbWFwYm94Z2wuUG9pbnQoLTc3LCAzOCk7XG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBQb2ludH0gb3IgYW4gYXJyYXkgb2YgdHdvIG51bWJlcnMgcmVwcmVzZW50aW5nIGB4YCBhbmQgYHlgIHNjcmVlbiBjb29yZGluYXRlcyBpbiBwaXhlbHMuXG4gKlxuICogQHR5cGVkZWYgeyhQb2ludCB8IEFycmF5PG51bWJlcj4pfSBQb2ludExpa2VcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBwMSA9IG5ldyBtYXBib3hnbC5Qb2ludCgtNzcsIDM4KTsgLy8gYSBQb2ludExpa2Ugd2hpY2ggaXMgYSBQb2ludFxuICogY29uc3QgcDIgPSBbLTc3LCAzOF07IC8vIGEgUG9pbnRMaWtlIHdoaWNoIGlzIGFuIGFycmF5IG9mIHR3byBudW1iZXJzXG4gKi9cbiIsIi8vIEBmbG93XG5cbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi91dGlsL2RvbS5qcyc7XG5pbXBvcnQge2V4dGVuZCwgYmluZEFsbH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7TW91c2VSb3RhdGVIYW5kbGVyLCBNb3VzZVBpdGNoSGFuZGxlcn0gZnJvbSAnLi4vaGFuZGxlci9tb3VzZS5qcyc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uLy4uL3V0aWwvd2luZG93LmpzJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxudHlwZSBPcHRpb25zID0ge1xuICAgIHNob3dDb21wYXNzPzogYm9vbGVhbixcbiAgICBzaG93Wm9vbT86IGJvb2xlYW4sXG4gICAgdmlzdWFsaXplUGl0Y2g/OiBib29sZWFuXG59O1xuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogT3B0aW9ucyA9IHtcbiAgICBzaG93Q29tcGFzczogdHJ1ZSxcbiAgICBzaG93Wm9vbTogdHJ1ZSxcbiAgICB2aXN1YWxpemVQaXRjaDogZmFsc2Vcbn07XG5cbi8qKlxuICogQSBgTmF2aWdhdGlvbkNvbnRyb2xgIGNvbnRyb2wgY29udGFpbnMgem9vbSBidXR0b25zIGFuZCBhIGNvbXBhc3MuXG4gKiBBZGQgdGhpcyBjb250cm9sIHRvIGEgbWFwIHVzaW5nIHtAbGluayBNYXAjYWRkQ29udHJvbH0uXG4gKlxuICogQGltcGxlbWVudHMge0lDb250cm9sfVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaG93Q29tcGFzcz10cnVlXSBJZiBgdHJ1ZWAgdGhlIGNvbXBhc3MgYnV0dG9uIGlzIGluY2x1ZGVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaG93Wm9vbT10cnVlXSBJZiBgdHJ1ZWAgdGhlIHpvb20taW4gYW5kIHpvb20tb3V0IGJ1dHRvbnMgYXJlIGluY2x1ZGVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy52aXN1YWxpemVQaXRjaD1mYWxzZV0gSWYgYHRydWVgIHRoZSBwaXRjaCBpcyB2aXN1YWxpemVkIGJ5IHJvdGF0aW5nIFgtYXhpcyBvZiBjb21wYXNzLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG5hdiA9IG5ldyBtYXBib3hnbC5OYXZpZ2F0aW9uQ29udHJvbCgpO1xuICogbWFwLmFkZENvbnRyb2wobmF2LCAndG9wLWxlZnQnKTtcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBuYXYgPSBuZXcgbWFwYm94Z2wuTmF2aWdhdGlvbkNvbnRyb2woe1xuICogICAgIHZpc3VhbGl6ZVBpdGNoOiB0cnVlXG4gKiB9KTtcbiAqIG1hcC5hZGRDb250cm9sKG5hdiwgJ2JvdHRvbS1yaWdodCcpO1xuICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBtYXAgbmF2aWdhdGlvbiBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9uYXZpZ2F0aW9uLylcbiAqIEBzZWUgW0V4YW1wbGU6IEFkZCBhIHRoaXJkIHBhcnR5IHZlY3RvciB0aWxlIHNvdXJjZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90aGlyZC1wYXJ0eS8pXG4gKi9cbmNsYXNzIE5hdmlnYXRpb25Db250cm9sIHtcbiAgICBfbWFwOiA/TWFwO1xuICAgIG9wdGlvbnM6IE9wdGlvbnM7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX3pvb21JbkJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgX3pvb21PdXRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xuICAgIF9jb21wYXNzOiBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICBfY29tcGFzc0ljb246IEhUTUxFbGVtZW50O1xuICAgIF9oYW5kbGVyOiA/TW91c2VSb3RhdGVXcmFwcGVyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwJyk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlOiBNb3VzZUV2ZW50KSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1pvb20pIHtcbiAgICAgICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgICAgICdfc2V0QnV0dG9uVGl0bGUnLFxuICAgICAgICAgICAgICAgICdfdXBkYXRlWm9vbUJ1dHRvbnMnXG4gICAgICAgICAgICBdLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX3pvb21JbkJ1dHRvbiA9IHRoaXMuX2NyZWF0ZUJ1dHRvbignbWFwYm94Z2wtY3RybC16b29tLWluJywgKGUpID0+IHsgaWYgKHRoaXMuX21hcCkgdGhpcy5fbWFwLnpvb21Jbih7fSwge29yaWdpbmFsRXZlbnQ6IGV9KTsgfSk7XG4gICAgICAgICAgICBET00uY3JlYXRlKCdzcGFuJywgYG1hcGJveGdsLWN0cmwtaWNvbmAsIHRoaXMuX3pvb21JbkJ1dHRvbikuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgICAgICB0aGlzLl96b29tT3V0QnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKCdtYXBib3hnbC1jdHJsLXpvb20tb3V0JywgKGUpID0+IHsgaWYgKHRoaXMuX21hcCkgdGhpcy5fbWFwLnpvb21PdXQoe30sIHtvcmlnaW5hbEV2ZW50OiBlfSk7IH0pO1xuICAgICAgICAgICAgRE9NLmNyZWF0ZSgnc3BhbicsIGBtYXBib3hnbC1jdHJsLWljb25gLCB0aGlzLl96b29tT3V0QnV0dG9uKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDb21wYXNzKSB7XG4gICAgICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICAgICAnX3JvdGF0ZUNvbXBhc3NBcnJvdydcbiAgICAgICAgICAgIF0sIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fY29tcGFzcyA9IHRoaXMuX2NyZWF0ZUJ1dHRvbignbWFwYm94Z2wtY3RybC1jb21wYXNzJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXApIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5yZXNldE5vcnRoUGl0Y2goe30sIHtvcmlnaW5hbEV2ZW50OiBlfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLnJlc2V0Tm9ydGgoe30sIHtvcmlnaW5hbEV2ZW50OiBlfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9jb21wYXNzSWNvbiA9IERPTS5jcmVhdGUoJ3NwYW4nLCAnbWFwYm94Z2wtY3RybC1pY29uJywgdGhpcy5fY29tcGFzcyk7XG4gICAgICAgICAgICB0aGlzLl9jb21wYXNzSWNvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVab29tQnV0dG9ucygpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBpZiAoIW1hcCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuICAgICAgICBjb25zdCBpc01heCA9IHpvb20gPT09IG1hcC5nZXRNYXhab29tKCk7XG4gICAgICAgIGNvbnN0IGlzTWluID0gem9vbSA9PT0gbWFwLmdldE1pblpvb20oKTtcbiAgICAgICAgdGhpcy5fem9vbUluQnV0dG9uLmRpc2FibGVkID0gaXNNYXg7XG4gICAgICAgIHRoaXMuX3pvb21PdXRCdXR0b24uZGlzYWJsZWQgPSBpc01pbjtcbiAgICAgICAgdGhpcy5fem9vbUluQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIGlzTWF4LnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLl96b29tT3V0QnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIGlzTWluLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIF9yb3RhdGVDb21wYXNzQXJyb3coKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgaWYgKCFtYXApIHJldHVybjtcblxuICAgICAgICBjb25zdCByb3RhdGUgPSB0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2ggP1xuICAgICAgICAgICAgYHNjYWxlKCR7MSAvIE1hdGgucG93KE1hdGguY29zKG1hcC50cmFuc2Zvcm0ucGl0Y2ggKiAoTWF0aC5QSSAvIDE4MCkpLCAwLjUpfSkgcm90YXRlWCgke21hcC50cmFuc2Zvcm0ucGl0Y2h9ZGVnKSByb3RhdGVaKCR7bWFwLnRyYW5zZm9ybS5hbmdsZSAqICgxODAgLyBNYXRoLlBJKX1kZWcpYCA6XG4gICAgICAgICAgICBgcm90YXRlKCR7bWFwLnRyYW5zZm9ybS5hbmdsZSAqICgxODAgLyBNYXRoLlBJKX1kZWcpYDtcblxuICAgICAgICBtYXAuX3JlcXVlc3REb21UYXNrKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb21wYXNzSWNvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBhc3NJY29uLnN0eWxlLnRyYW5zZm9ybSA9IHJvdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Wm9vbSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fem9vbUluQnV0dG9uLCAnWm9vbUluJyk7XG4gICAgICAgICAgICB0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tT3V0QnV0dG9uLCAnWm9vbU91dCcpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uKCd6b29tJywgdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDb21wYXNzKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl9jb21wYXNzLCAnUmVzZXRCZWFyaW5nJyk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoKSB7XG4gICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgICAgIG1hcC5vbigncGl0Y2gnLCB0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uKCdyb3RhdGUnLCB0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpO1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KCk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVyID0gbmV3IE1vdXNlUm90YXRlV3JhcHBlcihtYXAsIHRoaXMuX2NvbXBhc3MsIHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBpZiAoIW1hcCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1pvb20pIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ3pvb20nLCB0aGlzLl91cGRhdGVab29tQnV0dG9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Q29tcGFzcykge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCkge1xuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgICAgICBtYXAub2ZmKCdwaXRjaCcsIHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub2ZmKCdyb3RhdGUnLCB0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXIpIHRoaXMuX2hhbmRsZXIub2ZmKCk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBfY3JlYXRlQnV0dG9uKGNsYXNzTmFtZTogc3RyaW5nLCBmbjogKCkgPT4gbWl4ZWQpOiBIVE1MQnV0dG9uRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGEgPSBET00uY3JlYXRlKCdidXR0b24nLCBjbGFzc05hbWUsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIGEudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm4pO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG5cbiAgICBfc2V0QnV0dG9uVGl0bGUoYnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCwgdGl0bGU6IHN0cmluZykge1xuICAgICAgICBpZiAoIXRoaXMuX21hcCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzdHIgPSB0aGlzLl9tYXAuX2dldFVJU3RyaW5nKGBOYXZpZ2F0aW9uQ29udHJvbC4ke3RpdGxlfWApO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgc3RyKTtcbiAgICAgICAgaWYgKGJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCkgYnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBzdHIpO1xuICAgIH1cbn1cblxuY2xhc3MgTW91c2VSb3RhdGVXcmFwcGVyIHtcblxuICAgIG1hcDogTWFwO1xuICAgIF9jbGlja1RvbGVyYW5jZTogbnVtYmVyO1xuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIG1vdXNlUm90YXRlOiBNb3VzZVJvdGF0ZUhhbmRsZXI7XG4gICAgbW91c2VQaXRjaDogTW91c2VQaXRjaEhhbmRsZXI7XG4gICAgX3N0YXJ0UG9zOiA/UG9pbnQ7XG4gICAgX2xhc3RQb3M6ID9Qb2ludDtcblxuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwLCBlbGVtZW50OiBIVE1MRWxlbWVudCwgcGl0Y2g/OiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5fY2xpY2tUb2xlcmFuY2UgPSAxMDtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5tb3VzZVJvdGF0ZSA9IG5ldyBNb3VzZVJvdGF0ZUhhbmRsZXIoe2NsaWNrVG9sZXJhbmNlOiBtYXAuZHJhZ1JvdGF0ZS5fbW91c2VSb3RhdGUuX2NsaWNrVG9sZXJhbmNlfSk7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICBpZiAocGl0Y2gpIHRoaXMubW91c2VQaXRjaCA9IG5ldyBNb3VzZVBpdGNoSGFuZGxlcih7Y2xpY2tUb2xlcmFuY2U6IG1hcC5kcmFnUm90YXRlLl9tb3VzZVBpdGNoLl9jbGlja1RvbGVyYW5jZX0pO1xuXG4gICAgICAgIGJpbmRBbGwoWydtb3VzZWRvd24nLCAnbW91c2Vtb3ZlJywgJ21vdXNldXAnLCAndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnLCAndG91Y2hlbmQnLCAncmVzZXQnXSwgdGhpcyk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm1vdXNlZG93bik7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy50b3VjaHN0YXJ0LCB7cGFzc2l2ZTogZmFsc2V9KTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMudG91Y2htb3ZlKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy50b3VjaGVuZCk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMucmVzZXQpO1xuICAgIH1cblxuICAgIGRvd24oZTogTW91c2VFdmVudCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIHRoaXMubW91c2VSb3RhdGUubW91c2Vkb3duKGUsIHBvaW50KTtcbiAgICAgICAgaWYgKHRoaXMubW91c2VQaXRjaCkgdGhpcy5tb3VzZVBpdGNoLm1vdXNlZG93bihlLCBwb2ludCk7XG4gICAgICAgIERPTS5kaXNhYmxlRHJhZygpO1xuICAgIH1cblxuICAgIG1vdmUoZTogTW91c2VFdmVudCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMubWFwO1xuICAgICAgICBjb25zdCByID0gdGhpcy5tb3VzZVJvdGF0ZS5tb3VzZW1vdmVXaW5kb3coZSwgcG9pbnQpO1xuICAgICAgICBjb25zdCBkZWx0YSA9IHIgJiYgci5iZWFyaW5nRGVsdGE7XG4gICAgICAgIGlmIChkZWx0YSkgbWFwLnNldEJlYXJpbmcobWFwLmdldEJlYXJpbmcoKSArIGRlbHRhKTtcbiAgICAgICAgaWYgKHRoaXMubW91c2VQaXRjaCkge1xuICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMubW91c2VQaXRjaC5tb3VzZW1vdmVXaW5kb3coZSwgcG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBwICYmIHAucGl0Y2hEZWx0YTtcbiAgICAgICAgICAgIGlmIChkZWx0YSkgbWFwLnNldFBpdGNoKG1hcC5nZXRQaXRjaCgpICsgZGVsdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2ZmKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd24pO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMudG91Y2hzdGFydCwge3Bhc3NpdmU6IGZhbHNlfSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLnRvdWNobW92ZSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMudG91Y2hlbmQpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLnJlc2V0KTtcbiAgICAgICAgdGhpcy5vZmZUZW1wKCk7XG4gICAgfVxuXG4gICAgb2ZmVGVtcCgpIHtcbiAgICAgICAgRE9NLmVuYWJsZURyYWcoKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5tb3VzZW1vdmUpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tb3VzZXVwKTtcbiAgICB9XG5cbiAgICBtb3VzZWRvd24oZTogTW91c2VFdmVudCkge1xuICAgICAgICB0aGlzLmRvd24oZXh0ZW5kKHt9LCBlLCB7Y3RybEtleTogdHJ1ZSwgcHJldmVudERlZmF1bHQ6ICgpID0+IGUucHJldmVudERlZmF1bHQoKX0pLCBET00ubW91c2VQb3ModGhpcy5lbGVtZW50LCBlKSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMubW91c2Vtb3ZlKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMubW91c2V1cCk7XG4gICAgfVxuXG4gICAgbW91c2Vtb3ZlKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tb3ZlKGUsIERPTS5tb3VzZVBvcyh0aGlzLmVsZW1lbnQsIGUpKTtcbiAgICB9XG5cbiAgICBtb3VzZXVwKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tb3VzZVJvdGF0ZS5tb3VzZXVwV2luZG93KGUpO1xuICAgICAgICBpZiAodGhpcy5tb3VzZVBpdGNoKSB0aGlzLm1vdXNlUGl0Y2gubW91c2V1cFdpbmRvdyhlKTtcbiAgICAgICAgdGhpcy5vZmZUZW1wKCk7XG4gICAgfVxuXG4gICAgdG91Y2hzdGFydChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGlmIChlLnRhcmdldFRvdWNoZXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydFBvcyA9IHRoaXMuX2xhc3RQb3MgPSBET00udG91Y2hQb3ModGhpcy5lbGVtZW50LCBlLnRhcmdldFRvdWNoZXMpWzBdO1xuICAgICAgICAgICAgdGhpcy5kb3duKCgoe3R5cGU6ICdtb3VzZWRvd24nLCBidXR0b246IDAsIGN0cmxLZXk6IHRydWUsIHByZXZlbnREZWZhdWx0OiAoKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9OiBhbnkpOiBNb3VzZUV2ZW50KSwgdGhpcy5fc3RhcnRQb3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG91Y2htb3ZlKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RQb3MgPSBET00udG91Y2hQb3ModGhpcy5lbGVtZW50LCBlLnRhcmdldFRvdWNoZXMpWzBdO1xuICAgICAgICAgICAgdGhpcy5tb3ZlKCgoe3ByZXZlbnREZWZhdWx0OiAoKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9OiBhbnkpOiBNb3VzZUV2ZW50KSwgdGhpcy5fbGFzdFBvcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b3VjaGVuZChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGlmIChlLnRhcmdldFRvdWNoZXMubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICB0aGlzLl9zdGFydFBvcyAmJlxuICAgICAgICAgICAgdGhpcy5fbGFzdFBvcyAmJlxuICAgICAgICAgICAgdGhpcy5fc3RhcnRQb3MuZGlzdCh0aGlzLl9sYXN0UG9zKSA8IHRoaXMuX2NsaWNrVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMubW91c2VSb3RhdGUucmVzZXQoKTtcbiAgICAgICAgaWYgKHRoaXMubW91c2VQaXRjaCkgdGhpcy5tb3VzZVBpdGNoLnJlc2V0KCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zdGFydFBvcztcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xhc3RQb3M7XG4gICAgICAgIHRoaXMub2ZmVGVtcCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmF2aWdhdGlvbkNvbnRyb2w7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge0V2ZW50LCBFdmVudGVkfSBmcm9tICcuLi8uLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tLmpzJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vLi4vdXRpbC93aW5kb3cuanMnO1xuaW1wb3J0IHtleHRlbmQsIGJpbmRBbGwsIHdhcm5PbmNlfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IE1hcmtlciBmcm9tICcuLi9tYXJrZXIuanMnO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuLi8uLi9nZW8vbG5nX2xhdC5qcyc7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSAnLi4vLi4vdXRpbC90aHJvdHRsZS5qcyc7XG5pbXBvcnQge21lcmNhdG9yWmZyb21BbHRpdHVkZX0gZnJvbSAnLi4vLi4vZ2VvL21lcmNhdG9yX2Nvb3JkaW5hdGUuanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwLmpzJztcbmltcG9ydCB0eXBlIHtBbmltYXRpb25PcHRpb25zLCBDYW1lcmFPcHRpb25zfSBmcm9tICcuLi9jYW1lcmEuanMnO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gICAgcG9zaXRpb25PcHRpb25zOiBQb3NpdGlvbk9wdGlvbnMsXG4gICAgZml0Qm91bmRzT3B0aW9uczogQW5pbWF0aW9uT3B0aW9ucyAmIENhbWVyYU9wdGlvbnMsXG4gICAgdHJhY2tVc2VyTG9jYXRpb246IGJvb2xlYW4sXG4gICAgc2hvd0FjY3VyYWN5Q2lyY2xlOiBib29sZWFuLFxuICAgIHNob3dVc2VyTG9jYXRpb246IGJvb2xlYW4sXG4gICAgc2hvd1VzZXJIZWFkaW5nOiBib29sZWFuLFxuICAgIGdlb2xvY2F0aW9uOiBHZW9sb2NhdGlvbixcbn07XG5cbnR5cGUgRGV2aWNlT3JpZW50YXRpb25FdmVudCA9IHtcbiAgICBhYnNvbHV0ZTogYm9vbGVhbixcbiAgICBhbHBoYTogbnVtYmVyLFxuICAgIGJldGE6IG51bWJlcixcbiAgICBnYW1tYTogbnVtYmVyLFxuICAgIHJlcXVlc3RQZXJtaXNzaW9uOiBQcm9taXNlPFN0cmluZz4sXG4gICAgd2Via2l0Q29tcGFzc0hlYWRpbmc/OiBudW1iZXIsXG59XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIHBvc2l0aW9uT3B0aW9uczoge1xuICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlLFxuICAgICAgICBtYXhpbXVtQWdlOiAwLFxuICAgICAgICB0aW1lb3V0OiA2MDAwIC8qIDYgc2VjICovXG4gICAgfSxcbiAgICBmaXRCb3VuZHNPcHRpb25zOiB7XG4gICAgICAgIG1heFpvb206IDE1XG4gICAgfSxcbiAgICB0cmFja1VzZXJMb2NhdGlvbjogZmFsc2UsXG4gICAgc2hvd0FjY3VyYWN5Q2lyY2xlOiB0cnVlLFxuICAgIHNob3dVc2VyTG9jYXRpb246IHRydWUsXG4gICAgc2hvd1VzZXJIZWFkaW5nOiBmYWxzZVxufTtcblxuLyoqXG4gKiBBIGBHZW9sb2NhdGVDb250cm9sYCBjb250cm9sIHByb3ZpZGVzIGEgYnV0dG9uIHRoYXQgdXNlcyB0aGUgYnJvd3NlcidzIGdlb2xvY2F0aW9uXG4gKiBBUEkgdG8gbG9jYXRlIHRoZSB1c2VyIG9uIHRoZSBtYXAuXG4gKiBBZGQgdGhpcyBjb250cm9sIHRvIGEgbWFwIHVzaW5nIHtAbGluayBNYXAjYWRkQ29udHJvbH0uXG4gKlxuICogTm90IGFsbCBicm93c2VycyBzdXBwb3J0IGdlb2xvY2F0aW9uLFxuICogYW5kIHNvbWUgdXNlcnMgbWF5IGRpc2FibGUgdGhlIGZlYXR1cmUuIEdlb2xvY2F0aW9uIHN1cHBvcnQgZm9yIG1vZGVyblxuICogYnJvd3NlcnMgaW5jbHVkaW5nIENocm9tZSByZXF1aXJlcyBzaXRlcyB0byBiZSBzZXJ2ZWQgb3ZlciBIVFRQUy4gSWZcbiAqIGdlb2xvY2F0aW9uIHN1cHBvcnQgaXMgbm90IGF2YWlsYWJsZSwgdGhlIEdlb2xvY2F0ZUNvbnRyb2wgd2lsbCBzaG93XG4gKiBhcyBkaXNhYmxlZC5cbiAqXG4gKiBUaGUgW3pvb20gbGV2ZWxdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvZ2xvc3Nhcnkvem9vbS1sZXZlbC8pIGFwcGxpZWQgZGVwZW5kcyBvbiB0aGUgYWNjdXJhY3kgb2YgdGhlIGdlb2xvY2F0aW9uIHByb3ZpZGVkIGJ5IHRoZSBkZXZpY2UuXG4gKlxuICogVGhlIEdlb2xvY2F0ZUNvbnRyb2wgaGFzIHR3byBtb2Rlcy4gSWYgYHRyYWNrVXNlckxvY2F0aW9uYCBpcyBgZmFsc2VgIChkZWZhdWx0KSB0aGUgY29udHJvbCBhY3RzIGFzIGEgYnV0dG9uLCB3aGljaCB3aGVuIHByZXNzZWQgd2lsbCBzZXQgdGhlIG1hcCdzIGNhbWVyYSB0byB0YXJnZXQgdGhlIHVzZXIgbG9jYXRpb24uIElmIHRoZSB1c2VyIG1vdmVzLCB0aGUgbWFwIHdvbid0IHVwZGF0ZS4gVGhpcyBpcyBtb3N0IHN1aXRlZCBmb3IgdGhlIGRlc2t0b3AuIElmIGB0cmFja1VzZXJMb2NhdGlvbmAgaXMgYHRydWVgIHRoZSBjb250cm9sIGFjdHMgYXMgYSB0b2dnbGUgYnV0dG9uIHRoYXQgd2hlbiBhY3RpdmUgdGhlIHVzZXIncyBsb2NhdGlvbiBpcyBhY3RpdmVseSBtb25pdG9yZWQgZm9yIGNoYW5nZXMuIEluIHRoaXMgbW9kZSB0aGUgR2VvbG9jYXRlQ29udHJvbCBoYXMgdGhyZWUgaW50ZXJhY3Rpb24gc3RhdGVzOlxuICogKiBhY3RpdmUgLSBUaGUgbWFwJ3MgY2FtZXJhIGF1dG9tYXRpY2FsbHkgdXBkYXRlcyBhcyB0aGUgdXNlcidzIGxvY2F0aW9uIGNoYW5nZXMsIGtlZXBpbmcgdGhlIGxvY2F0aW9uIGRvdCBpbiB0aGUgY2VudGVyLiBUaGlzIGlzIHRoZSBpbml0aWFsIHN0YXRlLCBhbmQgdGhlIHN0YXRlIHVwb24gY2xpY2tpbmcgdGhlIGBHZW9sb2NhdGVDb250cm9sYCBidXR0b24uXG4gKiAqIHBhc3NpdmUgLSBUaGUgdXNlcidzIGxvY2F0aW9uIGRvdCBhdXRvbWF0aWNhbGx5IHVwZGF0ZXMsIGJ1dCB0aGUgbWFwJ3MgY2FtZXJhIGRvZXMgbm90LiBPY2N1cnMgdXBvbiB0aGUgdXNlciBpbml0aWF0aW5nIGEgbWFwIG1vdmVtZW50LlxuICogKiBkaXNhYmxlZCAtIE9jY3VycyBpZiBnZW9sb2NhdGlvbiBpcyBub3QgYXZhaWxhYmxlLCBkaXNhYmxlZCwgb3IgZGVuaWVkLlxuICpcbiAqIFRoZXNlIGludGVyYWN0aW9uIHN0YXRlcyBjYW4ndCBiZSBjb250cm9sbGVkIHByb2dyYW1tYXRpY2FsbHkuIEluc3RlYWQsIHRoZXkgYXJlIHNldCBiYXNlZCBvbiB1c2VyIGludGVyYWN0aW9ucy5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucG9zaXRpb25PcHRpb25zPXtlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlLCB0aW1lb3V0OiA2MDAwfV0gQSBHZW9sb2NhdGlvbiBBUEkgW1Bvc2l0aW9uT3B0aW9uc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Bvc2l0aW9uT3B0aW9ucykgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmZpdEJvdW5kc09wdGlvbnM9e21heFpvb206IDE1fV0gQSB7QGxpbmsgTWFwI2ZpdEJvdW5kc30gb3B0aW9ucyBvYmplY3QgdG8gdXNlIHdoZW4gdGhlIG1hcCBpcyBwYW5uZWQgYW5kIHpvb21lZCB0byB0aGUgdXNlcidzIGxvY2F0aW9uLiBUaGUgZGVmYXVsdCBpcyB0byB1c2UgYSBgbWF4Wm9vbWAgb2YgMTUgdG8gbGltaXQgaG93IGZhciB0aGUgbWFwIHdpbGwgem9vbSBpbiBmb3IgdmVyeSBhY2N1cmF0ZSBsb2NhdGlvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMudHJhY2tVc2VyTG9jYXRpb249ZmFsc2VdIElmIGB0cnVlYCB0aGUgR2VvbG9jYXRlQ29udHJvbCBiZWNvbWVzIGEgdG9nZ2xlIGJ1dHRvbiBhbmQgd2hlbiBhY3RpdmUgdGhlIG1hcCB3aWxsIHJlY2VpdmUgdXBkYXRlcyB0byB0aGUgdXNlcidzIGxvY2F0aW9uIGFzIGl0IGNoYW5nZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlPXRydWVdIEJ5IGRlZmF1bHQsIGlmIGBzaG93VXNlckxvY2F0aW9uYCBpcyBgdHJ1ZWAsIGEgdHJhbnNwYXJlbnQgY2lyY2xlIHdpbGwgYmUgZHJhd24gYXJvdW5kIHRoZSB1c2VyIGxvY2F0aW9uIGluZGljYXRpbmcgdGhlIGFjY3VyYWN5ICg5NSUgY29uZmlkZW5jZSBsZXZlbCkgb2YgdGhlIHVzZXIncyBsb2NhdGlvbi4gU2V0IHRvIGBmYWxzZWAgdG8gZGlzYWJsZS4gQWx3YXlzIGRpc2FibGVkIHdoZW4gYHNob3dVc2VyTG9jYXRpb25gIGlzIGBmYWxzZWAuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbj10cnVlXSBCeSBkZWZhdWx0IGEgZG90IHdpbGwgYmUgc2hvd24gb24gdGhlIG1hcCBhdCB0aGUgdXNlcidzIGxvY2F0aW9uLiBTZXQgdG8gYGZhbHNlYCB0byBkaXNhYmxlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnNob3dVc2VySGVhZGluZz1mYWxzZV0gSWYgYHRydWVgIGFuIGFycm93IHdpbGwgYmUgZHJhd24gbmV4dCB0byB0aGUgdXNlciBsb2NhdGlvbiBkb3QgaW5kaWNhdGluZyB0aGUgZGV2aWNlJ3MgaGVhZGluZy4gVGhpcyBvbmx5IGhhcyBhZmZlY3Qgd2hlbiBgdHJhY2tVc2VyTG9jYXRpb25gIGlzIGB0cnVlYC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5nZW9sb2NhdGlvbj13aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uXSBgd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbmAgYnkgZGVmYXVsdDsgeW91IGNhbiBwcm92aWRlIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIHRvIGN1c3RvbWl6ZSBnZW9sb2NhdGlvbiBoYW5kbGluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZENvbnRyb2wobmV3IG1hcGJveGdsLkdlb2xvY2F0ZUNvbnRyb2woe1xuICogICAgIHBvc2l0aW9uT3B0aW9uczoge1xuICogICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWVcbiAqICAgICB9LFxuICogICAgIHRyYWNrVXNlckxvY2F0aW9uOiB0cnVlLFxuICogICAgIHNob3dVc2VySGVhZGluZzogdHJ1ZVxuICogfSkpO1xuICogQHNlZSBbRXhhbXBsZTogTG9jYXRlIHRoZSB1c2VyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xvY2F0ZS11c2VyLylcbiAqL1xuY2xhc3MgR2VvbG9jYXRlQ29udHJvbCBleHRlbmRzIEV2ZW50ZWQge1xuICAgIF9tYXA6IE1hcDtcbiAgICBvcHRpb25zOiBPcHRpb25zO1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9kb3RFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBfY2lyY2xlRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgX2dlb2xvY2F0ZUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgX2dlb2xvY2F0aW9uV2F0Y2hJRDogbnVtYmVyO1xuICAgIF90aW1lb3V0SWQ6ID9UaW1lb3V0SUQ7XG4gICAgX3dhdGNoU3RhdGU6ICdPRkYnIHwgJ0FDVElWRV9MT0NLJyB8ICdXQUlUSU5HX0FDVElWRScgfCAnQUNUSVZFX0VSUk9SJyB8ICdCQUNLR1JPVU5EJyB8ICdCQUNLR1JPVU5EX0VSUk9SJztcbiAgICBfbGFzdEtub3duUG9zaXRpb246IGFueTtcbiAgICBfdXNlckxvY2F0aW9uRG90TWFya2VyOiBNYXJrZXI7XG4gICAgX2FjY3VyYWN5Q2lyY2xlTWFya2VyOiBNYXJrZXI7XG4gICAgX2FjY3VyYWN5OiBudW1iZXI7XG4gICAgX3NldHVwOiBib29sZWFuOyAvLyBzZXQgdG8gdHJ1ZSBvbmNlIHRoZSBjb250cm9sIGhhcyBiZWVuIHNldHVwXG4gICAgX2hlYWRpbmc6ID9udW1iZXI7XG4gICAgX3VwZGF0ZU1hcmtlclJvdGF0aW9uVGhyb3R0bGVkOiBGdW5jdGlvbjtcblxuICAgIF9udW1iZXJPZldhdGNoZXM6IG51bWJlcjtcbiAgICBfbm9UaW1lb3V0OiBib29sZWFuO1xuICAgIF9zdXBwb3J0c0dlb2xvY2F0aW9uOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogJFNoYXBlPE9wdGlvbnM+KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGNvbnN0IGdlb2xvY2F0aW9uID0gd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHtnZW9sb2NhdGlvbn0sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25TdWNjZXNzJyxcbiAgICAgICAgICAgICdfb25FcnJvcicsXG4gICAgICAgICAgICAnX29uWm9vbScsXG4gICAgICAgICAgICAnX2ZpbmlzaCcsXG4gICAgICAgICAgICAnX3NldHVwVUknLFxuICAgICAgICAgICAgJ191cGRhdGVDYW1lcmEnLFxuICAgICAgICAgICAgJ191cGRhdGVNYXJrZXInLFxuICAgICAgICAgICAgJ191cGRhdGVNYXJrZXJSb3RhdGlvbicsXG4gICAgICAgICAgICAnX29uRGV2aWNlT3JpZW50YXRpb24nXG4gICAgICAgIF0sIHRoaXMpO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fdXBkYXRlTWFya2VyUm90YXRpb25UaHJvdHRsZWQgPSB0aHJvdHRsZSh0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvbiwgMjApO1xuICAgICAgICB0aGlzLl9udW1iZXJPZldhdGNoZXMgPSAwO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKTogSFRNTEVsZW1lbnQge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsIGBtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBgKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9jaGVja0dlb2xvY2F0aW9uU3VwcG9ydCh0aGlzLl9zZXR1cFVJKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgLy8gY2xlYXIgdGhlIGdlb2xvY2F0aW9uIHdhdGNoIGlmIGV4aXN0c1xuICAgICAgICBpZiAodGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCk7XG4gICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYXIgdGhlIG1hcmtlcnMgZnJvbSB0aGUgbWFwXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiAmJiB0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSAmJiB0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9mZignem9vbScsIHRoaXMuX29uWm9vbSk7XG4gICAgICAgIHRoaXMuX21hcCA9ICh1bmRlZmluZWQ6IGFueSk7XG4gICAgICAgIHRoaXMuX251bWJlck9mV2F0Y2hlcyA9IDA7XG4gICAgICAgIHRoaXMuX25vVGltZW91dCA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9jaGVja0dlb2xvY2F0aW9uU3VwcG9ydChjYWxsYmFjazogYm9vbGVhbiA9PiB2b2lkKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZVN1cHBvcnQgPSAoc3VwcG9ydGVkID0gISF0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb24gPSBzdXBwb3J0ZWQ7XG4gICAgICAgICAgICBjYWxsYmFjayhzdXBwb3J0ZWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLl9zdXBwb3J0c0dlb2xvY2F0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb24pO1xuXG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93Lm5hdmlnYXRvci5wZXJtaXNzaW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBuYXZpZ2F0b3IucGVybWlzc2lvbnMgaGFzIGluY29tcGxldGUgYnJvd3NlciBzdXBwb3J0IGh0dHA6Ly9jYW5pdXNlLmNvbS8jZmVhdD1wZXJtaXNzaW9ucy1hcGlcbiAgICAgICAgICAgIC8vIFRlc3QgZm9yIHRoZSBjYXNlIHdoZXJlIGEgYnJvd3NlciBkaXNhYmxlcyBHZW9sb2NhdGlvbiBiZWNhdXNlIG9mIGFuIGluc2VjdXJlIG9yaWdpbjtcbiAgICAgICAgICAgIC8vIGluIHNvbWUgZW52aXJvbm1lbnRzIGxpa2UgaU9TMTYgV2ViVmlldywgcGVybWlzc2lvbnMgcmVqZWN0IHF1ZXJpZXMgYnV0IHN0aWxsIHN1cHBvcnQgZ2VvbG9jYXRpb25cbiAgICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe25hbWU6ICdnZW9sb2NhdGlvbid9KVxuICAgICAgICAgICAgICAgIC50aGVuKHAgPT4gdXBkYXRlU3VwcG9ydChwLnN0YXRlICE9PSAnZGVuaWVkJykpXG4gICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHVwZGF0ZVN1cHBvcnQoKSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZVN1cHBvcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBHZW9sb2NhdGlvbiBBUEkgUG9zaXRpb24gaXMgb3V0c2lkZSB0aGUgbWFwJ3MgbWF4Ym91bmRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb3NpdGlvbn0gcG9zaXRpb24gdGhlIEdlb2xvY2F0aW9uIEFQSSBQb3NpdGlvblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBwb3NpdGlvbiBpcyBvdXRzaWRlIHRoZSBtYXAncyBtYXhib3VuZHMsIG90aGVyd2lzZSByZXR1cm5zIGBmYWxzZWAuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaXNPdXRPZk1hcE1heEJvdW5kcyhwb3NpdGlvbjogUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5fbWFwLmdldE1heEJvdW5kcygpO1xuICAgICAgICBjb25zdCBjb29yZGluYXRlcyA9IHBvc2l0aW9uLmNvb3JkcztcblxuICAgICAgICByZXR1cm4gISFib3VuZHMgJiYgKFxuICAgICAgICAgICAgY29vcmRpbmF0ZXMubG9uZ2l0dWRlIDwgYm91bmRzLmdldFdlc3QoKSB8fFxuICAgICAgICAgICAgY29vcmRpbmF0ZXMubG9uZ2l0dWRlID4gYm91bmRzLmdldEVhc3QoKSB8fFxuICAgICAgICAgICAgY29vcmRpbmF0ZXMubGF0aXR1ZGUgPCBib3VuZHMuZ2V0U291dGgoKSB8fFxuICAgICAgICAgICAgY29vcmRpbmF0ZXMubGF0aXR1ZGUgPiBib3VuZHMuZ2V0Tm9ydGgoKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIF9zZXRFcnJvclN0YXRlKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3dhdGNoU3RhdGUpIHtcbiAgICAgICAgY2FzZSAnV0FJVElOR19BQ1RJVkUnOlxuICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdBQ1RJVkVfRVJST1InO1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0FDVElWRV9MT0NLJzpcbiAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQUNUSVZFX0VSUk9SJztcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3InKTtcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAvLyB0dXJuIG1hcmtlciBncmV5XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQkFDS0dST1VORCc6XG4gICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0JBQ0tHUk9VTkRfRVJST1InO1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yJyk7XG4gICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgLy8gdHVybiBtYXJrZXIgZ3JleVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0FDVElWRV9FUlJPUic6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSwgYFVuZXhwZWN0ZWQgd2F0Y2hTdGF0ZSAke3RoaXMuX3dhdGNoU3RhdGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBHZW9sb2NhdGlvbiBBUEkgcmV0dXJucyBhIG5ldyBsb2NhdGlvbiwgdXBkYXRlIHRoZSBHZW9sb2NhdGVDb250cm9sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb3NpdGlvbn0gcG9zaXRpb24gdGhlIEdlb2xvY2F0aW9uIEFQSSBQb3NpdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uU3VjY2Vzcyhwb3NpdGlvbjogUG9zaXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXApIHtcbiAgICAgICAgICAgIC8vIGNvbnRyb2wgaGFzIHNpbmNlIGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzT3V0T2ZNYXBNYXhCb3VuZHMocG9zaXRpb24pKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRFcnJvclN0YXRlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ291dG9mbWF4Ym91bmRzJywgcG9zaXRpb24pKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgdGhpcy5fZmluaXNoKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIC8vIGtlZXAgYSByZWNvcmQgb2YgdGhlIHBvc2l0aW9uIHNvIHRoYXQgaWYgdGhlIHN0YXRlIGlzIEJBQ0tHUk9VTkQgYW5kIHRoZSB1c2VyXG4gICAgICAgICAgICAvLyBjbGlja3MgdGhlIGJ1dHRvbiwgd2UgY2FuIG1vdmUgdG8gQUNUSVZFX0xPQ0sgaW1tZWRpYXRlbHkgd2l0aG91dCB3YWl0aW5nIGZvclxuICAgICAgICAgICAgLy8gd2F0Y2hQb3NpdGlvbiB0byB0cmlnZ2VyIF9vblN1Y2Nlc3NcbiAgICAgICAgICAgIHRoaXMuX2xhc3RLbm93blBvc2l0aW9uID0gcG9zaXRpb247XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fd2F0Y2hTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnV0FJVElOR19BQ1RJVkUnOlxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0xPQ0snOlxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0VSUk9SJzpcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0FDVElWRV9MT0NLJztcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EJzpcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkRfRVJST1InOlxuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQkFDS0dST1VORCc7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgYFVuZXhwZWN0ZWQgd2F0Y2hTdGF0ZSAke3RoaXMuX3dhdGNoU3RhdGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBzaG93VXNlckxvY2F0aW9uIGFuZCB0aGUgd2F0Y2ggc3RhdGUgaXNuJ3Qgb2ZmIHRoZW4gdXBkYXRlIHRoZSBtYXJrZXIgbG9jYXRpb25cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uICYmIHRoaXMuX3dhdGNoU3RhdGUgIT09ICdPRkYnKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVNYXJrZXIocG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgaW4gbm9ybWFsIG1vZGUgKG5vdCB3YXRjaCBtb2RlKSwgb3IgaWYgaW4gd2F0Y2ggbW9kZSBhbmQgdGhlIHN0YXRlIGlzIGFjdGl2ZSB3YXRjaFxuICAgICAgICAvLyB0aGVuIHVwZGF0ZSB0aGUgY2FtZXJhXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uIHx8IHRoaXMuX3dhdGNoU3RhdGUgPT09ICdBQ1RJVkVfTE9DSycpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNhbWVyYShwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2dlb2xvY2F0ZScsIHBvc2l0aW9uKSk7XG4gICAgICAgIHRoaXMuX2ZpbmlzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgY2FtZXJhIGxvY2F0aW9uIHRvIGNlbnRlciBvbiB0aGUgY3VycmVudCBwb3NpdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb3NpdGlvbn0gcG9zaXRpb24gdGhlIEdlb2xvY2F0aW9uIEFQSSBQb3NpdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VwZGF0ZUNhbWVyYShwb3NpdGlvbjogUG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gbmV3IExuZ0xhdChwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLCBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBwb3NpdGlvbi5jb29yZHMuYWNjdXJhY3k7XG4gICAgICAgIGNvbnN0IGJlYXJpbmcgPSB0aGlzLl9tYXAuZ2V0QmVhcmluZygpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gZXh0ZW5kKHtiZWFyaW5nfSwgdGhpcy5vcHRpb25zLmZpdEJvdW5kc09wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX21hcC5maXRCb3VuZHMoY2VudGVyLnRvQm91bmRzKHJhZGl1cyksIG9wdGlvbnMsIHtcbiAgICAgICAgICAgIGdlb2xvY2F0ZVNvdXJjZTogdHJ1ZSAvLyB0YWcgdGhpcyBjYW1lcmEgY2hhbmdlIHNvIGl0IHdvbid0IGNhdXNlIHRoZSBjb250cm9sIHRvIGNoYW5nZSB0byBiYWNrZ3JvdW5kIHN0YXRlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgdXNlciBsb2NhdGlvbiBkb3QgTWFya2VyIHRvIHRoZSBjdXJyZW50IHBvc2l0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1Bvc2l0aW9ufSBbcG9zaXRpb25dIHRoZSBHZW9sb2NhdGlvbiBBUEkgUG9zaXRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVNYXJrZXIocG9zaXRpb246ID9Qb3NpdGlvbikge1xuICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IG5ldyBMbmdMYXQocG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlKTtcbiAgICAgICAgICAgIHRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnNldExuZ0xhdChjZW50ZXIpLmFkZFRvKHRoaXMuX21hcCk7XG4gICAgICAgICAgICB0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0TG5nTGF0KGNlbnRlcikuYWRkVG8odGhpcy5fbWFwKTtcbiAgICAgICAgICAgIHRoaXMuX2FjY3VyYWN5ID0gcG9zaXRpb24uY29vcmRzLmFjY3VyYWN5O1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uICYmIHRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDaXJjbGVSYWRpdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZUNpcmNsZVJhZGl1cygpIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuX2NpcmNsZUVsZW1lbnQpO1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGNvbnN0IHRyID0gbWFwLnRyYW5zZm9ybTtcblxuICAgICAgICBjb25zdCBwaXhlbHNQZXJNZXRlciA9IG1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLjAsIHRyLl9jZW50ZXIubGF0KSAqIHRyLndvcmxkU2l6ZTtcbiAgICAgICAgYXNzZXJ0KHBpeGVsc1Blck1ldGVyICE9PSAwLjApO1xuICAgICAgICBjb25zdCBjaXJjbGVEaWFtZXRlciA9IE1hdGguY2VpbCgyLjAgKiB0aGlzLl9hY2N1cmFjeSAqIHBpeGVsc1Blck1ldGVyKTtcblxuICAgICAgICB0aGlzLl9jaXJjbGVFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7Y2lyY2xlRGlhbWV0ZXJ9cHhgO1xuICAgICAgICB0aGlzLl9jaXJjbGVFbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke2NpcmNsZURpYW1ldGVyfXB4YDtcbiAgICB9XG5cbiAgICBfb25ab29tKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24gJiYgdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2lyY2xlUmFkaXVzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIHVzZXIgbG9jYXRpb24gZG90IE1hcmtlciByb3RhdGlvbiB0byB0aGUgY3VycmVudCBoZWFkaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVNYXJrZXJSb3RhdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlciAmJiB0eXBlb2YgdGhpcy5faGVhZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRSb3RhdGlvbih0aGlzLl9oZWFkaW5nKTtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcnKTtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRSb3RhdGlvbigwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkVycm9yKGVycm9yOiBQb3NpdGlvbkVycm9yKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICAgICAgICAvLyBjb250cm9sIGhhcyBzaW5jZSBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gUEVSTUlTU0lPTl9ERU5JRURcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ09GRic7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5fbWFwLl9nZXRVSVN0cmluZygnR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aXRsZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCkgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aXRsZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJXYXRjaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IuY29kZSA9PT0gMyAmJiB0aGlzLl9ub1RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHJlcHJlc2VudHMgYSBmb3JjZWQgZXJyb3Igc3RhdGVcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHdhcyB0cmlnZ2VyZWQgdG8gZm9yY2UgaW1tZWRpYXRlIGdlb2xvY2F0aW9uIHdoZW4gYSB3YXRjaCBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICAgICAgICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzgyMTRcbiAgICAgICAgICAgICAgICAvLyBhbmQgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL2dlb2xvY2F0aW9uLWFwaS8jZXhhbXBsZS01LWZvcmNpbmctdGhlLXVzZXItYWdlbnQtdG8tcmV0dXJuLWEtZnJlc2gtY2FjaGVkLXBvc2l0aW9uXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRFcnJvclN0YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fd2F0Y2hTdGF0ZSAhPT0gJ09GRicgJiYgdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2Vycm9yJywgZXJyb3IpKTtcblxuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9XG5cbiAgICBfZmluaXNoKCkge1xuICAgICAgICBpZiAodGhpcy5fdGltZW91dElkKSB7IGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpOyB9XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBfc2V0dXBVSShzdXBwb3J0ZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX21hcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGNvbnRyb2wgd2FzIHJlbW92ZWQgZnJvbSB0aGUgbWFwIGJlZm9yZSBnZW9sb2NhdGlvblxuICAgICAgICAgICAgLy8gc3VwcG9ydCB3YXMgZGV0ZXJtaW5lZC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZTogTW91c2VFdmVudCkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uID0gRE9NLmNyZWF0ZSgnYnV0dG9uJywgYG1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlYCwgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgRE9NLmNyZWF0ZSgnc3BhbicsIGBtYXBib3hnbC1jdHJsLWljb25gLCB0aGlzLl9nZW9sb2NhdGVCdXR0b24pLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXG4gICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG5cbiAgICAgICAgaWYgKHN1cHBvcnRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKCdHZW9sb2NhdGlvbiBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUgc28gdGhlIEdlb2xvY2F0ZUNvbnRyb2wgd2lsbCBiZSBkaXNhYmxlZC4nKTtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5fbWFwLl9nZXRVSVN0cmluZygnR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZScpO1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aXRsZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkKSB0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKCd0aXRsZScsIHRpdGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5fbWFwLl9nZXRVSVN0cmluZygnR2VvbG9jYXRlQ29udHJvbC5GaW5kTXlMb2NhdGlvbicpO1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRpdGxlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQpIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdGl0bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ09GRic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGVuIHNob3dVc2VyTG9jYXRpb24gaXMgZW5hYmxlZCwga2VlcCB0aGUgR2VvbG9jYXRlIGJ1dHRvbiBkaXNhYmxlZCB1bnRpbCB0aGUgZGV2aWNlIGxvY2F0aW9uIG1hcmtlciBpcyBzZXR1cCBvbiB0aGUgbWFwXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fZG90RWxlbWVudCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC11c2VyLWxvY2F0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLl9kb3RFbGVtZW50LmFwcGVuZENoaWxkKERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdCcpKTtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuYXBwZW5kQ2hpbGQoRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZycpKTtcblxuICAgICAgICAgICAgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyID0gbmV3IE1hcmtlcih7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5fZG90RWxlbWVudCxcbiAgICAgICAgICAgICAgICByb3RhdGlvbkFsaWdubWVudDogJ21hcCcsXG4gICAgICAgICAgICAgICAgcGl0Y2hBbGlnbm1lbnQ6ICdtYXAnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fY2lyY2xlRWxlbWVudCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC11c2VyLWxvY2F0aW9uLWFjY3VyYWN5LWNpcmNsZScpO1xuICAgICAgICAgICAgdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIgPSBuZXcgTWFya2VyKHtlbGVtZW50OiB0aGlzLl9jaXJjbGVFbGVtZW50LCBwaXRjaEFsaWdubWVudDogJ21hcCd9KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdPRkYnO1xuXG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB0aGlzLl9tYXAub24oJ3pvb20nLCB0aGlzLl9vblpvb20pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRyaWdnZXIuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5fc2V0dXAgPSB0cnVlO1xuXG4gICAgICAgIC8vIHdoZW4gdGhlIGNhbWVyYSBpcyBjaGFuZ2VkIChhbmQgaXQncyBub3QgYXMgYSByZXN1bHQgb2YgdGhlIEdlb2xvY2F0aW9uIENvbnRyb2wpIGNoYW5nZVxuICAgICAgICAvLyB0aGUgd2F0Y2ggbW9kZSB0byBiYWNrZ3JvdW5kIHdhdGNoLCBzbyB0aGF0IHRoZSBtYXJrZXIgaXMgdXBkYXRlZCBidXQgbm90IHRoZSBjYW1lcmEuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vbignbW92ZXN0YXJ0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbVJlc2l6ZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgJiYgZXZlbnQub3JpZ2luYWxFdmVudC50eXBlID09PSAncmVzaXplJztcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50Lmdlb2xvY2F0ZVNvdXJjZSAmJiB0aGlzLl93YXRjaFN0YXRlID09PSAnQUNUSVZFX0xPQ0snICYmICFmcm9tUmVzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQkFDS0dST1VORCc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd0cmFja3VzZXJsb2NhdGlvbmVuZCcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICogUHJvZ3JhbW1hdGljYWxseSByZXF1ZXN0IGFuZCBtb3ZlIHRoZSBtYXAgdG8gdGhlIHVzZXIncyBsb2NhdGlvbi5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgIGlmIGNhbGxlZCBiZWZvcmUgY29udHJvbCB3YXMgYWRkZWQgdG8gYSBtYXAsIG90aGVyd2lzZSByZXR1cm5zIGB0cnVlYC5cbiAgICAqIENhbGxlZCBvbiBhIGRldmljZW9yaWVudGF0aW9uIGV2ZW50LlxuICAgICpcbiAgICAqIEBwYXJhbSBkZXZpY2VPcmllbnRhdGlvbkV2ZW50IHtEZXZpY2VPcmllbnRhdGlvbkV2ZW50fVxuICAgICogQHByaXZhdGVcbiAgICAqIEBleGFtcGxlXG4gICAgKiAvLyBJbml0aWFsaXplIHRoZSBHZW9sb2NhdGVDb250cm9sLlxuICAgICogdmFyIGdlb2xvY2F0ZSA9IG5ldyBtYXBib3hnbC5HZW9sb2NhdGVDb250cm9sKHtcbiAgICAqICBwb3NpdGlvbk9wdGlvbnM6IHtcbiAgICAqICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZVxuICAgICogIH0sXG4gICAgKiAgdHJhY2tVc2VyTG9jYXRpb246IHRydWVcbiAgICAqIH0pO1xuICAgICogLy8gQWRkIHRoZSBjb250cm9sIHRvIHRoZSBtYXAuXG4gICAgKiBtYXAuYWRkQ29udHJvbChnZW9sb2NhdGUpO1xuICAgICogbWFwLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgKiAgIGdlb2xvY2F0ZS50cmlnZ2VyKCk7XG4gICAgKiB9KTtcbiAgICAqL1xuICAgIF9vbkRldmljZU9yaWVudGF0aW9uKGRldmljZU9yaWVudGF0aW9uRXZlbnQ6IERldmljZU9yaWVudGF0aW9uRXZlbnQpIHtcbiAgICAgICAgLy8gYWJzb2x1dGUgaXMgdHJ1ZSBpZiB0aGUgb3JpZW50YXRpb24gZGF0YSBpcyBwcm92aWRlZCBhcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBFYXJ0aCdzIGNvb3JkaW5hdGUgZnJhbWUgYW5kIHRoZSBkZXZpY2UncyBjb29yZGluYXRlIGZyYW1lLCBvciBmYWxzZSBpZiB0aGUgb3JpZW50YXRpb24gZGF0YSBpcyBiZWluZyBwcm92aWRlZCBpbiByZWZlcmVuY2UgdG8gc29tZSBhcmJpdHJhcnksIGRldmljZS1kZXRlcm1pbmVkIGNvb3JkaW5hdGUgZnJhbWUuXG4gICAgICAgIGlmICh0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIpIHtcbiAgICAgICAgICAgIGlmIChkZXZpY2VPcmllbnRhdGlvbkV2ZW50LndlYmtpdENvbXBhc3NIZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gU2FmYXJpXG4gICAgICAgICAgICAgICAgdGhpcy5faGVhZGluZyA9IGRldmljZU9yaWVudGF0aW9uRXZlbnQud2Via2l0Q29tcGFzc0hlYWRpbmc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRldmljZU9yaWVudGF0aW9uRXZlbnQuYWJzb2x1dGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBub24tU2FmYXJpIGFscGhhIGluY3JlYXNlcyBjb3VudGVyIGNsb2Nrd2lzZSBhcm91bmQgdGhlIHogYXhpc1xuICAgICAgICAgICAgICAgIHRoaXMuX2hlYWRpbmcgPSBkZXZpY2VPcmllbnRhdGlvbkV2ZW50LmFscGhhICogLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvblRocm90dGxlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciBhIGdlb2xvY2F0aW9uIGV2ZW50LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBnZW9sb2NhdGUgY29udHJvbC5cbiAgICAgKiBjb25zdCBnZW9sb2NhdGUgPSBuZXcgbWFwYm94Z2wuR2VvbG9jYXRlQ29udHJvbCh7XG4gICAgICogICAgIHBvc2l0aW9uT3B0aW9uczoge1xuICAgICAqICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlXG4gICAgICogICAgIH0sXG4gICAgICogICAgIHRyYWNrVXNlckxvY2F0aW9uOiB0cnVlXG4gICAgICogfSk7XG4gICAgICogLy8gQWRkIHRoZSBjb250cm9sIHRvIHRoZSBtYXAuXG4gICAgICogbWFwLmFkZENvbnRyb2woZ2VvbG9jYXRlKTtcbiAgICAgKiBtYXAub24oJ2xvYWQnLCAoKSA9PiB7XG4gICAgICogICAgIGdlb2xvY2F0ZS50cmlnZ2VyKCk7XG4gICAgICogfSk7XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYCBpZiBjYWxsZWQgYmVmb3JlIGNvbnRyb2wgd2FzIGFkZGVkIHRvIGEgbWFwLCBvdGhlcndpc2UgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICovXG4gICAgdHJpZ2dlcigpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zZXR1cCkge1xuICAgICAgICAgICAgd2Fybk9uY2UoJ0dlb2xvY2F0ZSBjb250cm9sIHRyaWdnZXJlZCBiZWZvcmUgYWRkZWQgdG8gYSBtYXAnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgd2F0Y2hTdGF0ZSBhbmQgZG8gYW55IG91dGdvaW5nIHN0YXRlIGNsZWFudXBcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fd2F0Y2hTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnT0ZGJzpcbiAgICAgICAgICAgICAgICAvLyB0dXJuIG9uIHRoZSBHZW9sb2NhdGVDb250cm9sXG4gICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdXQUlUSU5HX0FDVElWRSc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd0cmFja3VzZXJsb2NhdGlvbnN0YXJ0JykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnV0FJVElOR19BQ1RJVkUnOlxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0xPQ0snOlxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0VSUk9SJzpcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkRfRVJST1InOlxuICAgICAgICAgICAgICAgIC8vIHR1cm4gb2ZmIHRoZSBHZW9sb2NhdGUgQ29udHJvbFxuICAgICAgICAgICAgICAgIHRoaXMuX251bWJlck9mV2F0Y2hlcy0tO1xuICAgICAgICAgICAgICAgIHRoaXMuX25vVGltZW91dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnT0ZGJztcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvcicpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgndHJhY2t1c2VybG9jYXRpb25lbmQnKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EJzpcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0FDVElWRV9MT0NLJztcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgICAgIC8vIHNldCBjYW1lcmEgdG8gbGFzdCBrbm93biBsb2NhdGlvblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sYXN0S25vd25Qb3NpdGlvbikgdGhpcy5fdXBkYXRlQ2FtZXJhKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3RyYWNrdXNlcmxvY2F0aW9uc3RhcnQnKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgYFVuZXhwZWN0ZWQgd2F0Y2hTdGF0ZSAke3RoaXMuX3dhdGNoU3RhdGV9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGluY29taW5nIHN0YXRlIHNldHVwXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3dhdGNoU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ1dBSVRJTkdfQUNUSVZFJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FDVElWRV9MT0NLJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBQ1RJVkVfRVJST1InOlxuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQkFDS0dST1VORCc6XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkRfRVJST1InOlxuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3InKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ09GRic6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgYFVuZXhwZWN0ZWQgd2F0Y2hTdGF0ZSAke3RoaXMuX3dhdGNoU3RhdGV9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1hbmFnZSBnZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uIC8gZ2VvbG9jYXRpb24uY2xlYXJXYXRjaFxuICAgICAgICAgICAgaWYgKHRoaXMuX3dhdGNoU3RhdGUgPT09ICdPRkYnICYmIHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYXIgd2F0Y2hQb3NpdGlvbiBhcyB3ZSd2ZSBjaGFuZ2VkIHRvIGFuIE9GRiBzdGF0ZVxuICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyV2F0Y2goKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBlbmFibGUgd2F0Y2hQb3NpdGlvbiBzaW5jZSB3YXRjaFN0YXRlIGlzIG5vdCBPRkYgYW5kIHRoZXJlIGlzIG5vIHdhdGNoUG9zaXRpb24gYWxyZWFkeSBydW5uaW5nXG5cbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsICd0cnVlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9udW1iZXJPZldhdGNoZXMrKztcbiAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb25PcHRpb25zO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9udW1iZXJPZldhdGNoZXMgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uT3B0aW9ucyA9IHttYXhpbXVtQWdlOjYwMDAwMCwgdGltZW91dDowfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbm9UaW1lb3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbk9wdGlvbnMgPSB0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ub1RpbWVvdXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgPSB0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25TdWNjZXNzLCB0aGlzLl9vbkVycm9yLCBwb3NpdGlvbk9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VXNlckhlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24odGhpcy5fb25TdWNjZXNzLCB0aGlzLl9vbkVycm9yLCB0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zKTtcblxuICAgICAgICAgICAgLy8gVGhpcyB0aW1lb3V0IGVuc3VyZXMgdGhhdCB3ZSBzdGlsbCBjYWxsIGZpbmlzaCgpIGV2ZW4gaWZcbiAgICAgICAgICAgIC8vIHRoZSB1c2VyIGRlY2xpbmVzIHRvIHNoYXJlIHRoZWlyIGxvY2F0aW9uIGluIEZpcmVmb3hcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHNldFRpbWVvdXQodGhpcy5fZmluaXNoLCAxMDAwMCAvKiAxMHNlYyAqLyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lcigpIHtcbiAgICAgICAgY29uc3QgYWRkTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoJ29uZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZScgaW4gd2luZG93KSB7XG4gICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VvcmllbnRhdGlvbmFic29sdXRlJywgdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLCB0aGlzLl9vbkRldmljZU9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5EZXZpY2VNb3Rpb25FdmVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgICAgdHlwZW9mIHdpbmRvdy5EZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgRGV2aWNlT3JpZW50YXRpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgPT09ICdncmFudGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkTGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkTGlzdGVuZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jbGVhcldhdGNoKCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbik7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uYWJzb2x1dGUnLCB0aGlzLl9vbkRldmljZU9yaWVudGF0aW9uKTtcblxuICAgICAgICB0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCAnZmFsc2UnKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1hcmtlcihudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2VvbG9jYXRlQ29udHJvbDtcblxuLyogR2VvbG9jYXRlQ29udHJvbCBXYXRjaCBTdGF0ZXNcbiAqIFRoaXMgaXMgdGhlIHByaXZhdGUgc3RhdGUgb2YgdGhlIGNvbnRyb2wuXG4gKlxuICogT0ZGXG4gKiAgICBvZmYvaW5hY3RpdmVcbiAqIFdBSVRJTkdfQUNUSVZFXG4gKiAgICBHZW9sb2NhdGVDb250cm9sIHdhcyBjbGlja2VkIGJ1dCBzdGlsbCB3YWl0aW5nIGZvciBHZW9sb2NhdGlvbiBBUEkgcmVzcG9uc2Ugd2l0aCB1c2VyIGxvY2F0aW9uXG4gKiBBQ1RJVkVfTE9DS1xuICogICAgU2hvd2luZyB0aGUgdXNlciBsb2NhdGlvbiBhcyBhIGRvdCBBTkQgdHJhY2tpbmcgdGhlIGNhbWVyYSB0byBiZSBmaXhlZCB0byB0aGVpciBsb2NhdGlvbi4gSWYgdGhlaXIgbG9jYXRpb24gY2hhbmdlcyB0aGUgbWFwIG1vdmVzIHRvIGZvbGxvdy5cbiAqIEFDVElWRV9FUlJPUlxuICogICAgVGhlcmUgd2FzIGVuIGVycm9yIGZyb20gdGhlIEdlb2xvY2F0aW9uIEFQSSB3aGlsZSB0cnlpbmcgdG8gc2hvdyBhbmQgdHJhY2sgdGhlIHVzZXIgbG9jYXRpb24uXG4gKiBCQUNLR1JPVU5EXG4gKiAgICBTaG93aW5nIHRoZSB1c2VyIGxvY2F0aW9uIGFzIGEgZG90IGJ1dCB0aGUgY2FtZXJhIGRvZXNuJ3QgZm9sbG93IHRoZWlyIGxvY2F0aW9uIGFzIGl0IGNoYW5nZXMuXG4gKiBCQUNLR1JPVU5EX0VSUk9SXG4gKiAgICBUaGVyZSB3YXMgYW4gZXJyb3IgZnJvbSB0aGUgR2VvbG9jYXRpb24gQVBJIHdoaWxlIHRyeWluZyB0byBzaG93IChidXQgbm90IHRyYWNrKSB0aGUgdXNlciBsb2NhdGlvbi5cbiAqL1xuXG4vKipcbiAqIEZpcmVkIG9uIGVhY2ggR2VvbG9jYXRpb24gQVBJIHBvc2l0aW9uIHVwZGF0ZSB0aGF0IHJldHVybmVkIGFzIHN1Y2Nlc3MuXG4gKlxuICogQGV2ZW50IGdlb2xvY2F0ZVxuICogQG1lbWJlcm9mIEdlb2xvY2F0ZUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQHByb3BlcnR5IHtQb3NpdGlvbn0gZGF0YSBUaGUgcmV0dXJuZWQgW1Bvc2l0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9zaXRpb24pIG9iamVjdCBmcm9tIHRoZSBjYWxsYmFjayBpbiBbR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HZW9sb2NhdGlvbi9nZXRDdXJyZW50UG9zaXRpb24pIG9yIFtHZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HZW9sb2NhdGlvbi93YXRjaFBvc2l0aW9uKS5cbiAqIEBleGFtcGxlXG4gKiAvLyBJbml0aWFsaXplIHRoZSBHZW9sb2NhdGVDb250cm9sLlxuICogY29uc3QgZ2VvbG9jYXRlID0gbmV3IG1hcGJveGdsLkdlb2xvY2F0ZUNvbnRyb2woe1xuICogICAgIHBvc2l0aW9uT3B0aW9uczoge1xuICogICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWVcbiAqICAgICB9LFxuICogICAgIHRyYWNrVXNlckxvY2F0aW9uOiB0cnVlXG4gKiB9KTtcbiAqIC8vIEFkZCB0aGUgY29udHJvbCB0byB0aGUgbWFwLlxuICogbWFwLmFkZENvbnRyb2woZ2VvbG9jYXRlKTtcbiAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gKiAvLyB3aGVuIGEgZ2VvbG9jYXRlIGV2ZW50IG9jY3Vycy5cbiAqIGdlb2xvY2F0ZS5vbignZ2VvbG9jYXRlJywgKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdBIGdlb2xvY2F0ZSBldmVudCBoYXMgb2NjdXJyZWQuJyk7XG4gKiB9KTtcbiAqXG4gKi9cblxuLyoqXG4gKiBGaXJlZCBvbiBlYWNoIEdlb2xvY2F0aW9uIEFQSSBwb3NpdGlvbiB1cGRhdGUgdGhhdCByZXR1cm5lZCBhcyBhbiBlcnJvci5cbiAqXG4gKiBAZXZlbnQgZXJyb3JcbiAqIEBtZW1iZXJvZiBHZW9sb2NhdGVDb250cm9sXG4gKiBAaW5zdGFuY2VcbiAqIEBwcm9wZXJ0eSB7UG9zaXRpb25FcnJvcn0gZGF0YSBUaGUgcmV0dXJuZWQgW1Bvc2l0aW9uRXJyb3JdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb3NpdGlvbkVycm9yKSBvYmplY3QgZnJvbSB0aGUgY2FsbGJhY2sgaW4gW0dlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvR2VvbG9jYXRpb24vZ2V0Q3VycmVudFBvc2l0aW9uKSBvciBbR2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbigpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvR2VvbG9jYXRpb24vd2F0Y2hQb3NpdGlvbikuXG4gKiBAZXhhbXBsZVxuICogLy8gSW5pdGlhbGl6ZSB0aGUgR2VvbG9jYXRlQ29udHJvbC5cbiAqIGNvbnN0IGdlb2xvY2F0ZSA9IG5ldyBtYXBib3hnbC5HZW9sb2NhdGVDb250cm9sKHtcbiAqICAgICBwb3NpdGlvbk9wdGlvbnM6IHtcbiAqICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlXG4gKiAgICAgfSxcbiAqICAgICB0cmFja1VzZXJMb2NhdGlvbjogdHJ1ZVxuICogfSk7XG4gKiAvLyBBZGQgdGhlIGNvbnRyb2wgdG8gdGhlIG1hcC5cbiAqIG1hcC5hZGRDb250cm9sKGdlb2xvY2F0ZSk7XG4gKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICogLy8gd2hlbiBhbiBlcnJvciBldmVudCBvY2N1cnMuXG4gKiBnZW9sb2NhdGUub24oJ2Vycm9yJywgKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdBbiBlcnJvciBldmVudCBoYXMgb2NjdXJyZWQuJyk7XG4gKiB9KTtcbiAqXG4gKi9cblxuLyoqXG4gKiBGaXJlZCBvbiBlYWNoIEdlb2xvY2F0aW9uIEFQSSBwb3NpdGlvbiB1cGRhdGUgdGhhdCByZXR1cm5lZCBhcyBzdWNjZXNzIGJ1dCB1c2VyIHBvc2l0aW9uIGlzIG91dCBvZiBtYXAgYG1heEJvdW5kc2AuXG4gKlxuICogQGV2ZW50IG91dG9mbWF4Ym91bmRzXG4gKiBAbWVtYmVyb2YgR2VvbG9jYXRlQ29udHJvbFxuICogQGluc3RhbmNlXG4gKiBAcHJvcGVydHkge1Bvc2l0aW9ufSBkYXRhIFRoZSByZXR1cm5lZCBbUG9zaXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb3NpdGlvbikgb2JqZWN0IGZyb20gdGhlIGNhbGxiYWNrIGluIFtHZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dlb2xvY2F0aW9uL2dldEN1cnJlbnRQb3NpdGlvbikgb3IgW0dlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dlb2xvY2F0aW9uL3dhdGNoUG9zaXRpb24pLlxuICogQGV4YW1wbGVcbiAqIC8vIEluaXRpYWxpemUgdGhlIEdlb2xvY2F0ZUNvbnRyb2wuXG4gKiBjb25zdCBnZW9sb2NhdGUgPSBuZXcgbWFwYm94Z2wuR2VvbG9jYXRlQ29udHJvbCh7XG4gKiAgICAgcG9zaXRpb25PcHRpb25zOiB7XG4gKiAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZVxuICogICAgIH0sXG4gKiAgICAgdHJhY2tVc2VyTG9jYXRpb246IHRydWVcbiAqIH0pO1xuICogLy8gQWRkIHRoZSBjb250cm9sIHRvIHRoZSBtYXAuXG4gKiBtYXAuYWRkQ29udHJvbChnZW9sb2NhdGUpO1xuICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAqIC8vIHdoZW4gYW4gb3V0b2ZtYXhib3VuZHMgZXZlbnQgb2NjdXJzLlxuICogZ2VvbG9jYXRlLm9uKCdvdXRvZm1heGJvdW5kcycsICgpID0+IHtcbiAqICAgICBjb25zb2xlLmxvZygnQW4gb3V0b2ZtYXhib3VuZHMgZXZlbnQgaGFzIG9jY3VycmVkLicpO1xuICogfSk7XG4gKlxuICovXG5cbi8qKlxuICogRmlyZWQgd2hlbiB0aGUgR2VvbG9jYXRlQ29udHJvbCBjaGFuZ2VzIHRvIHRoZSBhY3RpdmUgbG9jayBzdGF0ZSwgd2hpY2ggaGFwcGVucyBlaXRoZXIgdXBvbiBmaXJzdCBvYnRhaW5pbmcgYSBzdWNjZXNzZnVsIEdlb2xvY2F0aW9uIEFQSSBwb3NpdGlvbiBmb3IgdGhlIHVzZXIgKGEgZ2VvbG9jYXRlIGV2ZW50IHdpbGwgZm9sbG93KSwgb3Igd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGdlb2xvY2F0ZSBidXR0b24gd2hlbiBpbiB0aGUgYmFja2dyb3VuZCBzdGF0ZSwgd2hpY2ggdXNlcyB0aGUgbGFzdCBrbm93biBwb3NpdGlvbiB0byByZWNlbnRlciB0aGUgbWFwIGFuZCBlbnRlciBhY3RpdmUgbG9jayBzdGF0ZSAobm8gZ2VvbG9jYXRlIGV2ZW50IHdpbGwgZm9sbG93IHVubGVzcyB0aGUgdXNlcnMncyBsb2NhdGlvbiBjaGFuZ2VzKS5cbiAqXG4gKiBAZXZlbnQgdHJhY2t1c2VybG9jYXRpb25zdGFydFxuICogQG1lbWJlcm9mIEdlb2xvY2F0ZUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQGV4YW1wbGVcbiAqIC8vIEluaXRpYWxpemUgdGhlIEdlb2xvY2F0ZUNvbnRyb2wuXG4gKiBjb25zdCBnZW9sb2NhdGUgPSBuZXcgbWFwYm94Z2wuR2VvbG9jYXRlQ29udHJvbCh7XG4gKiAgICAgcG9zaXRpb25PcHRpb25zOiB7XG4gKiAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZVxuICogICAgIH0sXG4gKiAgICAgdHJhY2tVc2VyTG9jYXRpb246IHRydWVcbiAqIH0pO1xuICogLy8gQWRkIHRoZSBjb250cm9sIHRvIHRoZSBtYXAuXG4gKiBtYXAuYWRkQ29udHJvbChnZW9sb2NhdGUpO1xuICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAqIC8vIHdoZW4gYSB0cmFja3VzZXJsb2NhdGlvbnN0YXJ0IGV2ZW50IG9jY3Vycy5cbiAqIGdlb2xvY2F0ZS5vbigndHJhY2t1c2VybG9jYXRpb25zdGFydCcsICgpID0+IHtcbiAqICAgICBjb25zb2xlLmxvZygnQSB0cmFja3VzZXJsb2NhdGlvbnN0YXJ0IGV2ZW50IGhhcyBvY2N1cnJlZC4nKTtcbiAqIH0pO1xuICpcbiAqL1xuXG4vKipcbiAqIEZpcmVkIHdoZW4gdGhlIEdlb2xvY2F0ZUNvbnRyb2wgY2hhbmdlcyB0byB0aGUgYmFja2dyb3VuZCBzdGF0ZSwgd2hpY2ggaGFwcGVucyB3aGVuIGEgdXNlciBjaGFuZ2VzIHRoZSBjYW1lcmEgZHVyaW5nIGFuIGFjdGl2ZSBwb3NpdGlvbiBsb2NrLiBUaGlzIG9ubHkgYXBwbGllcyB3aGVuIHRyYWNrVXNlckxvY2F0aW9uIGlzIHRydWUuIEluIHRoZSBiYWNrZ3JvdW5kIHN0YXRlLCB0aGUgZG90IG9uIHRoZSBtYXAgd2lsbCB1cGRhdGUgd2l0aCBsb2NhdGlvbiB1cGRhdGVzIGJ1dCB0aGUgY2FtZXJhIHdpbGwgbm90LlxuICpcbiAqIEBldmVudCB0cmFja3VzZXJsb2NhdGlvbmVuZFxuICogQG1lbWJlcm9mIEdlb2xvY2F0ZUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQGV4YW1wbGVcbiAqIC8vIEluaXRpYWxpemUgdGhlIEdlb2xvY2F0ZUNvbnRyb2wuXG4gKiBjb25zdCBnZW9sb2NhdGUgPSBuZXcgbWFwYm94Z2wuR2VvbG9jYXRlQ29udHJvbCh7XG4gKiAgICAgcG9zaXRpb25PcHRpb25zOiB7XG4gKiAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZVxuICogICAgIH0sXG4gKiAgICAgdHJhY2tVc2VyTG9jYXRpb246IHRydWVcbiAqIH0pO1xuICogLy8gQWRkIHRoZSBjb250cm9sIHRvIHRoZSBtYXAuXG4gKiBtYXAuYWRkQ29udHJvbChnZW9sb2NhdGUpO1xuICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAqIC8vIHdoZW4gYSB0cmFja3VzZXJsb2NhdGlvbmVuZCBldmVudCBvY2N1cnMuXG4gKiBnZW9sb2NhdGUub24oJ3RyYWNrdXNlcmxvY2F0aW9uZW5kJywgKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdBIHRyYWNrdXNlcmxvY2F0aW9uZW5kIGV2ZW50IGhhcyBvY2N1cnJlZC4nKTtcbiAqIH0pO1xuICpcbiAqL1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tLmpzJztcbmltcG9ydCB7ZXh0ZW5kLCBiaW5kQWxsfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAsIHtDb250cm9sUG9zaXRpb259IGZyb20gJy4uL21hcC5qcyc7XG5cbnR5cGUgVW5pdCA9ICdpbXBlcmlhbCcgfCAnbWV0cmljJyB8ICduYXV0aWNhbCc7XG5cbnR5cGUgT3B0aW9ucyA9IHtcbiAgICBtYXhXaWR0aD86IG51bWJlcixcbiAgICB1bml0PzogVW5pdDtcbn07XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zOiBPcHRpb25zID0ge1xuICAgIG1heFdpZHRoOiAxMDAsXG4gICAgdW5pdDogJ21ldHJpYydcbn07XG5cbi8qKlxuICogQSBgU2NhbGVDb250cm9sYCBjb250cm9sIGRpc3BsYXlzIHRoZSByYXRpbyBvZiBhIGRpc3RhbmNlIG9uIHRoZSBtYXAgdG8gdGhlIGNvcnJlc3BvbmRpbmcgZGlzdGFuY2Ugb24gdGhlIGdyb3VuZC5cbiAqIEFkZCB0aGlzIGNvbnRyb2wgdG8gYSBtYXAgdXNpbmcge0BsaW5rIE1hcCNhZGRDb250cm9sfS5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2lkdGg9JzEwMCddIFRoZSBtYXhpbXVtIGxlbmd0aCBvZiB0aGUgc2NhbGUgY29udHJvbCBpbiBwaXhlbHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudW5pdD0nbWV0cmljJ10gVW5pdCBvZiB0aGUgZGlzdGFuY2UgKGAnaW1wZXJpYWwnYCwgYCdtZXRyaWMnYCBvciBgJ25hdXRpY2FsJ2ApLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHNjYWxlID0gbmV3IG1hcGJveGdsLlNjYWxlQ29udHJvbCh7XG4gKiAgICAgbWF4V2lkdGg6IDgwLFxuICogICAgIHVuaXQ6ICdpbXBlcmlhbCdcbiAqIH0pO1xuICogbWFwLmFkZENvbnRyb2woc2NhbGUpO1xuICpcbiAqIHNjYWxlLnNldFVuaXQoJ21ldHJpYycpO1xuICovXG5jbGFzcyBTY2FsZUNvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfbGFuZ3VhZ2U6ID9zdHJpbmcgfCA/c3RyaW5nW107XG4gICAgb3B0aW9uczogT3B0aW9ucztcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gU29tZSBvbGQgYnJvd3NlcnMgKGUuZy4sIFNhZmFyaSA8IDE0LjEpIGRvbid0IHN1cHBvcnQgdGhlIFwidW5pdFwiIHN0eWxlLlxuICAgICAgICAvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCB0byBkaXNwbGF5IHRoZSBzY2FsZSB3aXRob3V0IHByb3BlciBpbnRlcm5hdGlvbmFsaXphdGlvbiBzdXBwb3J0LlxuICAgICAgICBpZiAoIWlzTnVtYmVyRm9ybWF0U3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIC8vICRGbG93SWdub3JlW2Nhbm5vdC13cml0ZV1cbiAgICAgICAgICAgIHRoaXMuX3NldFNjYWxlID0gbGVnYWN5U2V0U2NhbGUuYmluZCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ191cGRhdGUnLFxuICAgICAgICAgICAgJ19zZXRTY2FsZScsXG4gICAgICAgICAgICAnc2V0VW5pdCdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0RGVmYXVsdFBvc2l0aW9uKCk6IENvbnRyb2xQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLWxlZnQnO1xuICAgIH1cblxuICAgIF91cGRhdGUoKSB7XG4gICAgICAgIC8vIEEgaG9yaXpvbnRhbCBzY2FsZSBpcyBpbWFnaW5lZCB0byBiZSBwcmVzZW50IGF0IGNlbnRlciBvZiB0aGUgbWFwXG4gICAgICAgIC8vIGNvbnRhaW5lciB3aXRoIG1heGltdW0gbGVuZ3RoIChEZWZhdWx0KSBhcyAxMDBweC5cbiAgICAgICAgLy8gVXNpbmcgc3BoZXJpY2FsIGxhdyBvZiBjb3NpbmVzIGFwcHJveGltYXRpb24sIHRoZSByZWFsIGRpc3RhbmNlIGlzXG4gICAgICAgIC8vIGZvdW5kIGJldHdlZW4gdGhlIHR3byBjb29yZGluYXRlcy5cbiAgICAgICAgY29uc3QgbWF4V2lkdGggPSB0aGlzLm9wdGlvbnMubWF4V2lkdGggfHwgMTAwO1xuXG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgY29uc3QgeSA9IG1hcC5fY29udGFpbmVySGVpZ2h0IC8gMjtcbiAgICAgICAgY29uc3QgeCA9IChtYXAuX2NvbnRhaW5lcldpZHRoIC8gMikgLSBtYXhXaWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBtYXAudW5wcm9qZWN0KFt4LCB5XSk7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gbWFwLnVucHJvamVjdChbeCArIG1heFdpZHRoLCB5XSk7XG4gICAgICAgIGNvbnN0IG1heE1ldGVycyA9IGxlZnQuZGlzdGFuY2VUbyhyaWdodCk7XG4gICAgICAgIC8vIFRoZSByZWFsIGRpc3RhbmNlIGNvcnJlc3BvbmRpbmcgdG8gMTAwcHggc2NhbGUgbGVuZ3RoIGlzIHJvdW5kZWQgb2ZmIHRvXG4gICAgICAgIC8vIG5lYXIgcHJldHR5IG51bWJlciBhbmQgdGhlIHNjYWxlIGxlbmd0aCBmb3IgdGhlIHNhbWUgaXMgZm91bmQgb3V0LlxuICAgICAgICAvLyBEZWZhdWx0IHVuaXQgb2YgdGhlIHNjYWxlIGlzIGJhc2VkIG9uIFVzZXIncyBsb2NhbGUuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudW5pdCA9PT0gJ2ltcGVyaWFsJykge1xuICAgICAgICAgICAgY29uc3QgbWF4RmVldCA9IDMuMjgwOCAqIG1heE1ldGVycztcbiAgICAgICAgICAgIGlmIChtYXhGZWV0ID4gNTI4MCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heE1pbGVzID0gbWF4RmVldCAvIDUyODA7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0U2NhbGUobWF4V2lkdGgsIG1heE1pbGVzLCAnbWlsZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRTY2FsZShtYXhXaWR0aCwgbWF4RmVldCwgJ2Zvb3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMudW5pdCA9PT0gJ25hdXRpY2FsJykge1xuICAgICAgICAgICAgY29uc3QgbWF4TmF1dGljYWxzID0gbWF4TWV0ZXJzIC8gMTg1MjtcbiAgICAgICAgICAgIHRoaXMuX3NldFNjYWxlKG1heFdpZHRoLCBtYXhOYXV0aWNhbHMsICduYXV0aWNhbC1taWxlJyk7XG4gICAgICAgIH0gZWxzZSBpZiAobWF4TWV0ZXJzID49IDEwMDApIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFNjYWxlKG1heFdpZHRoLCBtYXhNZXRlcnMgLyAxMDAwLCAna2lsb21ldGVyJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRTY2FsZShtYXhXaWR0aCwgbWF4TWV0ZXJzLCAnbWV0ZXInKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZXRTY2FsZShtYXhXaWR0aDogbnVtYmVyLCBtYXhEaXN0YW5jZTogbnVtYmVyLCB1bml0OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBnZXRSb3VuZE51bShtYXhEaXN0YW5jZSk7XG4gICAgICAgIGNvbnN0IHJhdGlvID0gZGlzdGFuY2UgLyBtYXhEaXN0YW5jZTtcblxuICAgICAgICB0aGlzLl9tYXAuX3JlcXVlc3REb21UYXNrKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke21heFdpZHRoICogcmF0aW99cHhgO1xuXG4gICAgICAgICAgICAvLyBJbnRsLk51bWJlckZvcm1hdCBkb2Vzbid0IHN1cHBvcnQgbmF1dGljYWwtbWlsZSBhcyBhIHVuaXQsXG4gICAgICAgICAgICAvLyBzbyB3ZSBhcmUgaGFyZGNvZGluZyBgbm1gIGFzIGEgdW5pdCBzeW1ib2wgZm9yIGFsbCBsb2NhbGVzXG4gICAgICAgICAgICBpZiAodW5pdCA9PT0gJ25hdXRpY2FsLW1pbGUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IGAke2Rpc3RhbmNlfSZuYnNwO25tYDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICRGbG93Rml4TWUg4oCUIGZsb3cgdjAuMTQyLjAgZG9lc24ndCBzdXBwb3J0IG9wdGlvbmFsIGBsb2NhbGVzYCBhcmd1bWVudCBhbmQgYHVuaXRgIHN0eWxlIG9wdGlvblxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCh0aGlzLl9sYW5ndWFnZSwge3N0eWxlOiAndW5pdCcsIHVuaXREaXNwbGF5OiAnc2hvcnQnLCB1bml0fSkuZm9ybWF0KGRpc3RhbmNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2UgPSBtYXAuZ2V0TGFuZ3VhZ2UoKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1zY2FsZScsIG1hcC5nZXRDb250YWluZXIoKSk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5kaXIgPSAnYXV0byc7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9tYXAub24oJ21vdmUnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZScsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgIHRoaXMuX21hcCA9ICh1bmRlZmluZWQ6IGFueSk7XG4gICAgfVxuXG4gICAgX3NldExhbmd1YWdlKGxhbmd1YWdlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzY2FsZSdzIHVuaXQgb2YgdGhlIGRpc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsnaW1wZXJpYWwnIHwgJ21ldHJpYycgfCAnbmF1dGljYWwnfSB1bml0IFVuaXQgb2YgdGhlIGRpc3RhbmNlIChgJ2ltcGVyaWFsJ2AsIGAnbWV0cmljJ2Agb3IgYCduYXV0aWNhbCdgKS5cbiAgICAgKi9cbiAgICBzZXRVbml0KHVuaXQ6IFVuaXQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjYWxlQ29udHJvbDtcblxuZnVuY3Rpb24gaXNOdW1iZXJGb3JtYXRTdXBwb3J0ZWQoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gJEZsb3dJZ25vcmVcbiAgICAgICAgbmV3IEludGwuTnVtYmVyRm9ybWF0KCdlbicsIHtzdHlsZTogJ3VuaXQnLCB1bml0RGlzcGxheTogJ25hcnJvdycsIHVuaXQ6ICdtZXRlcid9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoXykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsZWdhY3lTZXRTY2FsZShtYXhXaWR0aDogbnVtYmVyLCBtYXhEaXN0YW5jZTogbnVtYmVyLCB1bml0OiBzdHJpbmcpIHtcbiAgICBjb25zdCBkaXN0YW5jZSA9IGdldFJvdW5kTnVtKG1heERpc3RhbmNlKTtcbiAgICBjb25zdCByYXRpbyA9IGRpc3RhbmNlIC8gbWF4RGlzdGFuY2U7XG5cbiAgICBjb25zdCB1bml0QWJiciA9IHtcbiAgICAgICAga2lsb21ldGVyOiAna20nLFxuICAgICAgICBtZXRlcjogJ20nLFxuICAgICAgICBtaWxlOiAnbWknLFxuICAgICAgICBmb290OiAnZnQnLFxuICAgICAgICAnbmF1dGljYWwtbWlsZSc6ICdubScsXG4gICAgfVt1bml0XTtcblxuICAgIHRoaXMuX21hcC5fcmVxdWVzdERvbVRhc2soKCkgPT4ge1xuICAgICAgICB0aGlzLl9jb250YWluZXIuc3R5bGUud2lkdGggPSBgJHttYXhXaWR0aCAqIHJhdGlvfXB4YDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IGAke2Rpc3RhbmNlfSZuYnNwOyR7dW5pdEFiYnJ9YDtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVjaW1hbFJvdW5kTnVtKGQpIHtcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIE1hdGguY2VpbCgtTWF0aC5sb2coZCkgLyBNYXRoLkxOMTApKTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChkICogbXVsdGlwbGllcikgLyBtdWx0aXBsaWVyO1xufVxuXG5mdW5jdGlvbiBnZXRSb3VuZE51bShudW0pIHtcbiAgICBjb25zdCBwb3cxMCA9IE1hdGgucG93KDEwLCAoYCR7TWF0aC5mbG9vcihudW0pfWApLmxlbmd0aCAtIDEpO1xuICAgIGxldCBkID0gbnVtIC8gcG93MTA7XG5cbiAgICBkID0gZCA+PSAxMCA/IDEwIDpcbiAgICAgICAgZCA+PSA1ID8gNSA6XG4gICAgICAgIGQgPj0gMyA/IDMgOlxuICAgICAgICBkID49IDIgPyAyIDpcbiAgICAgICAgZCA+PSAxID8gMSA6IGdldERlY2ltYWxSb3VuZE51bShkKTtcblxuICAgIHJldHVybiBwb3cxMCAqIGQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1BlcmZvcm1hbmNlVXRpbHN9IGZyb20gJy4vdXRpbC9wZXJmb3JtYW5jZS5qcyc7XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7c3VwcG9ydGVkfSBmcm9tICdAbWFwYm94L21hcGJveC1nbC1zdXBwb3J0ZWQnO1xuXG5pbXBvcnQge3ZlcnNpb259IGZyb20gJy4uL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgTWFwIGZyb20gJy4vdWkvbWFwLmpzJztcbmltcG9ydCBOYXZpZ2F0aW9uQ29udHJvbCBmcm9tICcuL3VpL2NvbnRyb2wvbmF2aWdhdGlvbl9jb250cm9sLmpzJztcbmltcG9ydCBHZW9sb2NhdGVDb250cm9sIGZyb20gJy4vdWkvY29udHJvbC9nZW9sb2NhdGVfY29udHJvbC5qcyc7XG5pbXBvcnQgQXR0cmlidXRpb25Db250cm9sIGZyb20gJy4vdWkvY29udHJvbC9hdHRyaWJ1dGlvbl9jb250cm9sLmpzJztcbmltcG9ydCBTY2FsZUNvbnRyb2wgZnJvbSAnLi91aS9jb250cm9sL3NjYWxlX2NvbnRyb2wuanMnO1xuaW1wb3J0IEZ1bGxzY3JlZW5Db250cm9sIGZyb20gJy4vdWkvY29udHJvbC9mdWxsc2NyZWVuX2NvbnRyb2wuanMnO1xuaW1wb3J0IFBvcHVwIGZyb20gJy4vdWkvcG9wdXAuanMnO1xuaW1wb3J0IE1hcmtlciBmcm9tICcuL3VpL21hcmtlci5qcyc7XG5pbXBvcnQgU3R5bGUgZnJvbSAnLi9zdHlsZS9zdHlsZS5qcyc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4vZ2VvL2xuZ19sYXQuanMnO1xuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuL2dlby9sbmdfbGF0X2JvdW5kcy5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgTWVyY2F0b3JDb29yZGluYXRlIGZyb20gJy4vZ2VvL21lcmNhdG9yX2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHtFdmVudGVkfSBmcm9tICcuL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vdXRpbC9jb25maWcuanMnO1xuaW1wb3J0IHtEZWJ1Z30gZnJvbSAnLi91dGlsL2RlYnVnLmpzJztcbmltcG9ydCB7aXNTYWZhcml9IGZyb20gJy4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7c2V0UlRMVGV4dFBsdWdpbiwgZ2V0UlRMVGV4dFBsdWdpblN0YXR1c30gZnJvbSAnLi9zb3VyY2UvcnRsX3RleHRfcGx1Z2luLmpzJztcbmltcG9ydCBXb3JrZXJQb29sIGZyb20gJy4vdXRpbC93b3JrZXJfcG9vbC5qcyc7XG5pbXBvcnQge3ByZXdhcm0sIGNsZWFyUHJld2FybWVkUmVzb3VyY2VzfSBmcm9tICcuL3V0aWwvZ2xvYmFsX3dvcmtlcl9wb29sLmpzJztcbmltcG9ydCB7Y2xlYXJUaWxlQ2FjaGV9IGZyb20gJy4vdXRpbC90aWxlX3JlcXVlc3RfY2FjaGUuanMnO1xuaW1wb3J0IHtXb3JrZXJQZXJmb3JtYW5jZVV0aWxzfSBmcm9tICcuL3V0aWwvd29ya2VyX3BlcmZvcm1hbmNlX3V0aWxzLmpzJztcbmltcG9ydCB7RnJlZUNhbWVyYU9wdGlvbnN9IGZyb20gJy4vdWkvZnJlZV9jYW1lcmEuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi91dGlsL2Jyb3dzZXIuanMnO1xuXG5jb25zdCBleHBvcnRlZCA9IHtcbiAgICB2ZXJzaW9uLFxuICAgIHN1cHBvcnRlZCxcbiAgICBzZXRSVExUZXh0UGx1Z2luLFxuICAgIGdldFJUTFRleHRQbHVnaW5TdGF0dXMsXG4gICAgTWFwLFxuICAgIE5hdmlnYXRpb25Db250cm9sLFxuICAgIEdlb2xvY2F0ZUNvbnRyb2wsXG4gICAgQXR0cmlidXRpb25Db250cm9sLFxuICAgIFNjYWxlQ29udHJvbCxcbiAgICBGdWxsc2NyZWVuQ29udHJvbCxcbiAgICBQb3B1cCxcbiAgICBNYXJrZXIsXG4gICAgU3R5bGUsXG4gICAgTG5nTGF0LFxuICAgIExuZ0xhdEJvdW5kcyxcbiAgICBQb2ludCxcbiAgICBNZXJjYXRvckNvb3JkaW5hdGUsXG4gICAgRnJlZUNhbWVyYU9wdGlvbnMsXG4gICAgRXZlbnRlZCxcbiAgICBjb25maWcsXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgcmVzb3VyY2VzIGxpa2UgV2ViV29ya2VycyB0aGF0IGNhbiBiZSBzaGFyZWQgYWNyb3NzIG1hcHMgdG8gbG93ZXIgbG9hZFxuICAgICAqIHRpbWVzIGluIHNvbWUgc2l0dWF0aW9ucy4gW2BtYXBib3hnbC53b3JrZXJVcmxgXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpL3Byb3BlcnRpZXMvI3dvcmtlcnVybClcbiAgICAgKiBhbmQgW2BtYXBib3hnbC53b3JrZXJDb3VudGBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvcHJvcGVydGllcy8jd29ya2VyY291bnQpLCBpZiBiZWluZ1xuICAgICAqIHVzZWQsIG11c3QgYmUgc2V0IGJlZm9yZSBgcHJld2FybSgpYCBpcyBjYWxsZWQgdG8gaGF2ZSBhbiBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgbGlmZWN5Y2xlIG9mIHRoZXNlIHJlc291cmNlcyBpcyBtYW5hZ2VkIGF1dG9tYXRpY2FsbHksIGFuZCB0aGV5IGFyZVxuICAgICAqIGxhemlseSBpbml0aWFsaXplZCB3aGVuIGEgYE1hcGAgaXMgZmlyc3QgY3JlYXRlZC4gSW52b2tpbmcgYHByZXdhcm0oKWAgY3JlYXRlcyB0aGVzZVxuICAgICAqIHJlc291cmNlcyBhaGVhZCBvZiB0aW1lIGFuZCBlbnN1cmVzIHRoZXkgYXJlIG5vdCBjbGVhcmVkIHdoZW4gdGhlIGxhc3QgYE1hcGBcbiAgICAgKiBpcyByZW1vdmVkIGZyb20gdGhlIHBhZ2UuIFRoaXMgYWxsb3dzIHRoZW0gdG8gYmUgcmUtdXNlZCBieSBuZXcgYE1hcGAgaW5zdGFuY2VzIHRoYXRcbiAgICAgKiBhcmUgY3JlYXRlZCBsYXRlci4gVGhleSBjYW4gYmUgbWFudWFsbHkgY2xlYXJlZCBieSBjYWxsaW5nXG4gICAgICogW2BtYXBib3hnbC5jbGVhclByZXdhcm1lZFJlc291cmNlcygpYF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS9wcm9wZXJ0aWVzLyNjbGVhcnByZXdhcm1lZHJlc291cmNlcykuXG4gICAgICogVGhpcyBpcyBvbmx5IG5lY2Vzc2FyeSBpZiB5b3VyIHdlYiBwYWdlIHJlbWFpbnMgYWN0aXZlIGJ1dCBzdG9wcyB1c2luZyBtYXBzIGFsdG9nZXRoZXIuXG4gICAgICogYHByZXdhcm0oKWAgaXMgaWRlbXBvdGVudCBhbmQgaGFzIGd1YXJkcyBhZ2FpbnN0IGJlaW5nIGV4ZWN1dGVkIG11bHRpcGxlIHRpbWVzLFxuICAgICAqIGFuZCBhbnkgcmVzb3VyY2VzIGFsbG9jYXRlZCBieSBgcHJld2FybSgpYCBhcmUgY3JlYXRlZCBzeW5jaHJvbm91c2x5LlxuICAgICAqXG4gICAgICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIHdoZW4gdXNpbmcgTWFwYm94IEdMIEpTIG1hcHMgaW4gYSBzaW5nbGUgcGFnZSBhcHAsXG4gICAgICogaW4gd2hpY2ggYSB1c2VyIG5hdmlnYXRlcyBiZXR3ZWVuIHZhcmlvdXMgdmlld3MsIHJlc3VsdGluZyBpblxuICAgICAqIGNvbnN0YW50IGNyZWF0aW9uIGFuZCBkZXN0cnVjdGlvbiBvZiBgTWFwYCBpbnN0YW5jZXMuXG4gICAgICpcbiAgICAgKiBAZnVuY3Rpb24gcHJld2FybVxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwYm94Z2wucHJld2FybSgpO1xuICAgICAqL1xuICAgIHByZXdhcm0sXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHVwIHJlc291cmNlcyB0aGF0IGhhdmUgcHJldmlvdXNseSBiZWVuIGNyZWF0ZWQgYnkgW2BtYXBib3hnbC5wcmV3YXJtKCldKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvcHJvcGVydGllcy8jcHJld2FybSlgLlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIGlzIHR5cGljYWxseSBub3QgbmVjZXNzYXJ5LiBZb3Ugc2hvdWxkIG9ubHkgY2FsbCB0aGlzIGZ1bmN0aW9uXG4gICAgICogaWYgeW91IGV4cGVjdCB0aGUgdXNlciBvZiB5b3VyIGFwcCB0byBub3QgcmV0dXJuIHRvIGEgTWFwIHZpZXcgYXQgYW55IHBvaW50XG4gICAgICogaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEBmdW5jdGlvbiBjbGVhclByZXdhcm1lZFJlc291cmNlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwYm94Z2wuY2xlYXJQcmV3YXJtZWRSZXNvdXJjZXMoKTtcbiAgICAgKi9cbiAgICBjbGVhclByZXdhcm1lZFJlc291cmNlcyxcblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgdGhlIG1hcCdzIFthY2Nlc3MgdG9rZW5dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vaGVscC9kZWZpbmUtYWNjZXNzLXRva2VuLykuXG4gICAgICpcbiAgICAgKiBAdmFyIHtzdHJpbmd9IGFjY2Vzc1Rva2VuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGN1cnJlbnRseSBzZXQgYWNjZXNzIHRva2VuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwYm94Z2wuYWNjZXNzVG9rZW4gPSBteUFjY2Vzc1Rva2VuO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IERpc3BsYXkgYSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2ltcGxlLW1hcC8pXG4gICAgICovXG4gICAgZ2V0IGFjY2Vzc1Rva2VuKCk6ID9zdHJpbmcge1xuICAgICAgICByZXR1cm4gY29uZmlnLkFDQ0VTU19UT0tFTjtcbiAgICB9LFxuXG4gICAgc2V0IGFjY2Vzc1Rva2VuKHRva2VuOiBzdHJpbmcpIHtcbiAgICAgICAgY29uZmlnLkFDQ0VTU19UT0tFTiA9IHRva2VuO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIHRoZSBtYXAncyBkZWZhdWx0IEFQSSBVUkwgZm9yIHJlcXVlc3RpbmcgdGlsZXMsIHN0eWxlcywgc3ByaXRlcywgYW5kIGdseXBocy5cbiAgICAgKlxuICAgICAqIEB2YXIge3N0cmluZ30gYmFzZUFwaVVybFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjdXJyZW50IGJhc2UgQVBJIFVSTC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcGJveGdsLmJhc2VBcGlVcmwgPSAnaHR0cHM6Ly9hcGkubWFwYm94LmNvbSc7XG4gICAgICovXG4gICAgZ2V0IGJhc2VBcGlVcmwoKTogP3N0cmluZyB7XG4gICAgICAgIHJldHVybiBjb25maWcuQVBJX1VSTDtcbiAgICB9LFxuXG4gICAgc2V0IGJhc2VBcGlVcmwodXJsOiBzdHJpbmcpIHtcbiAgICAgICAgY29uZmlnLkFQSV9VUkwgPSB1cmw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgdGhlIG51bWJlciBvZiB3ZWIgd29ya2VycyBpbnN0YW50aWF0ZWQgb24gYSBwYWdlIHdpdGggTWFwYm94IEdMIEpTIG1hcHMuXG4gICAgICogQnkgZGVmYXVsdCwgaXQgaXMgc2V0IHRvIDIuXG4gICAgICogTWFrZSBzdXJlIHRvIHNldCB0aGlzIHByb3BlcnR5IGJlZm9yZSBjcmVhdGluZyBhbnkgbWFwIGluc3RhbmNlcyBmb3IgaXQgdG8gaGF2ZSBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAdmFyIHtzdHJpbmd9IHdvcmtlckNvdW50XG4gICAgICogQHJldHVybnMge251bWJlcn0gTnVtYmVyIG9mIHdvcmtlcnMgY3VycmVudGx5IGNvbmZpZ3VyZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXBib3hnbC53b3JrZXJDb3VudCA9IDQ7XG4gICAgICovXG4gICAgZ2V0IHdvcmtlckNvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBXb3JrZXJQb29sLndvcmtlckNvdW50O1xuICAgIH0sXG5cbiAgICBzZXQgd29ya2VyQ291bnQoY291bnQ6IG51bWJlcikge1xuICAgICAgICBXb3JrZXJQb29sLndvcmtlckNvdW50ID0gY291bnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGltYWdlcyAocmFzdGVyIHRpbGVzLCBzcHJpdGVzLCBpY29ucykgdG8gbG9hZCBpbiBwYXJhbGxlbC5cbiAgICAgKiAxNiBieSBkZWZhdWx0LiBUaGVyZSBpcyBubyBtYXhpbXVtIHZhbHVlLCBidXQgdGhlIG51bWJlciBvZiBpbWFnZXMgYWZmZWN0cyBwZXJmb3JtYW5jZSBpbiByYXN0ZXItaGVhdnkgbWFwcy5cbiAgICAgKlxuICAgICAqIEB2YXIge3N0cmluZ30gbWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzXG4gICAgICogQHJldHVybnMge251bWJlcn0gTnVtYmVyIG9mIHBhcmFsbGVsIHJlcXVlc3RzIGN1cnJlbnRseSBjb25maWd1cmVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwYm94Z2wubWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzID0gMTA7XG4gICAgICovXG4gICAgZ2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gY29uZmlnLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUztcbiAgICB9LFxuXG4gICAgc2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cyhudW1SZXF1ZXN0czogbnVtYmVyKSB7XG4gICAgICAgIGNvbmZpZy5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFMgPSBudW1SZXF1ZXN0cztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGJyb3dzZXIgc3RvcmFnZSB1c2VkIGJ5IHRoaXMgbGlicmFyeS4gVXNpbmcgdGhpcyBtZXRob2QgZmx1c2hlcyB0aGUgTWFwYm94IHRpbGVcbiAgICAgKiBjYWNoZSB0aGF0IGlzIG1hbmFnZWQgYnkgdGhpcyBsaWJyYXJ5LiBUaWxlcyBtYXkgc3RpbGwgYmUgY2FjaGVkIGJ5IHRoZSBicm93c2VyXG4gICAgICogaW4gc29tZSBjYXNlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgQVBJIGlzIHN1cHBvcnRlZCBvbiBicm93c2VycyB3aGVyZSB0aGUgW2BDYWNoZWAgQVBJXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FjaGUpXG4gICAgICogaXMgc3VwcG9ydGVkIGFuZCBlbmFibGVkLiBUaGlzIGluY2x1ZGVzIGFsbCBtYWpvciBicm93c2VycyB3aGVuIHBhZ2VzIGFyZSBzZXJ2ZWQgb3ZlclxuICAgICAqIGBodHRwczovL2AsIGV4Y2VwdCBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBNb2JpbGUuXG4gICAgICpcbiAgICAgKiBXaGVuIGNhbGxlZCBpbiB1bnN1cHBvcnRlZCBicm93c2VycyBvciBlbnZpcm9ubWVudHMgKHByaXZhdGUgb3IgaW5jb2duaXRvIG1vZGUpLCB0aGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGVycm9yIGFyZ3VtZW50LlxuICAgICAqXG4gICAgICogQGZ1bmN0aW9uIGNsZWFyU3RvcmFnZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCB3aXRoIGFuIGVycm9yIGFyZ3VtZW50IGlmIHRoZXJlIGlzIGFuIGVycm9yLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwYm94Z2wuY2xlYXJTdG9yYWdlKCk7XG4gICAgICovXG4gICAgY2xlYXJTdG9yYWdlKGNhbGxiYWNrPzogKGVycjogP0Vycm9yKSA9PiB2b2lkKSB7XG4gICAgICAgIGNsZWFyVGlsZUNhY2hlKGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGFuIGludGVyZmFjZSBmb3IgbG9hZGluZyBtYXBib3gtZ2wncyBXZWJXb3JrZXIgYnVuZGxlIGZyb20gYSBzZWxmLWhvc3RlZCBVUkwuXG4gICAgICogVGhpcyBuZWVkcyB0byBiZSBzZXQgb25seSBvbmNlLCBhbmQgYmVmb3JlIGFueSBjYWxsIHRvIGBuZXcgbWFwYm94Z2wuTWFwKC4uKWAgdGFrZXMgcGxhY2UuXG4gICAgICogVGhpcyBpcyB1c2VmdWwgaWYgeW91ciBzaXRlIG5lZWRzIHRvIG9wZXJhdGUgaW4gYSBzdHJpY3QgQ1NQIChDb250ZW50IFNlY3VyaXR5IFBvbGljeSkgZW52aXJvbm1lbnRcbiAgICAgKiB3aGVyZWluIHlvdSBhcmUgbm90IGFsbG93ZWQgdG8gbG9hZCBKYXZhU2NyaXB0IGNvZGUgZnJvbSBhIFtgQmxvYmAgVVJMXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVVJML2NyZWF0ZU9iamVjdFVSTCksIHdoaWNoIGlzIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBTZWUgb3VyIGRvY3VtZW50YXRpb24gb24gW0NTUCBEaXJlY3RpdmVzXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpLyNjc3AtZGlyZWN0aXZlcykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEB2YXIge3N0cmluZ30gd29ya2VyVXJsXG4gICAgICogQHJldHVybnMge3N0cmluZ30gQSBVUkwgaG9zdGluZyBhIEphdmFTY3JpcHQgYnVuZGxlIGZvciBtYXBib3gtZ2wncyBXZWJXb3JrZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8c2NyaXB0IHNyYz0naHR0cHM6Ly9hcGkubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvdjIuMy4xL21hcGJveC1nbC1jc3AuanMnPjwvc2NyaXB0PlxuICAgICAqIDxzY3JpcHQ+XG4gICAgICogbWFwYm94Z2wud29ya2VyVXJsID0gXCJodHRwczovL2FwaS5tYXBib3guY29tL21hcGJveC1nbC1qcy92Mi4zLjEvbWFwYm94LWdsLWNzcC13b3JrZXIuanNcIjtcbiAgICAgKiAuLi5cbiAgICAgKiA8L3NjcmlwdD5cbiAgICAgKi9cbiAgICB3b3JrZXJVcmw6ICcnLFxuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZXMgYW4gaW50ZXJmYWNlIGZvciBleHRlcm5hbCBtb2R1bGUgYnVuZGxlcnMgc3VjaCBhcyBXZWJwYWNrIG9yIFJvbGx1cCB0byBwYWNrYWdlXG4gICAgICogbWFwYm94LWdsJ3MgV2ViV29ya2VyIGludG8gYSBzZXBhcmF0ZSBjbGFzcyBhbmQgaW50ZWdyYXRlIGl0IHdpdGggdGhlIGxpYnJhcnkuXG4gICAgICpcbiAgICAgKiBUYWtlcyBwcmVjZWRlbmNlIG92ZXIgYG1hcGJveGdsLndvcmtlclVybGAuXG4gICAgICpcbiAgICAgKiBAdmFyIHtPYmplY3R9IHdvcmtlckNsYXNzXG4gICAgICogQHJldHVybnMge09iamVjdCB8IG51bGx9IEEgY2xhc3MgdGhhdCBpbXBsZW1lbnRzIHRoZSBgV29ya2VyYCBpbnRlcmZhY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBpbXBvcnQgbWFwYm94Z2wgZnJvbSAnbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLWNzcC5qcyc7XG4gICAgICogaW1wb3J0IE1hcGJveEdMV29ya2VyIGZyb20gJ21hcGJveC1nbC9kaXN0L21hcGJveC1nbC1jc3Atd29ya2VyLmpzJztcbiAgICAgKlxuICAgICAqIG1hcGJveGdsLndvcmtlckNsYXNzID0gTWFwYm94R0xXb3JrZXI7XG4gICAgICovXG4gICAgd29ya2VyQ2xhc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0aW1lIHVzZWQgYnkgTWFwYm94IEdMIEpTIGludGVybmFsbHkgZm9yIGFsbCBhbmltYXRpb25zLiBVc2VmdWwgZm9yIGdlbmVyYXRpbmcgdmlkZW9zIGZyb20gTWFwYm94IEdMIEpTLlxuICAgICAqXG4gICAgICogQHZhciB7bnVtYmVyfSB0aW1lXG4gICAgICovXG4gICAgc2V0Tm93OiBicm93c2VyLnNldE5vdyxcblxuICAgIC8qKlxuICAgICAqIFJlc3RvcmVzIHRoZSBpbnRlcm5hbCBhbmltYXRpb24gdGltaW5nIHRvIGZvbGxvdyByZWd1bGFyIGNvbXB1dGVyIHRpbWUgKGBwZXJmb3JtYW5jZS5ub3coKWApLlxuICAgICAqL1xuICAgIHJlc3RvcmVOb3c6IGJyb3dzZXIucmVzdG9yZU5vd1xufTtcblxuLy9UaGlzIGdldHMgYXV0b21hdGljYWxseSBzdHJpcHBlZCBvdXQgaW4gcHJvZHVjdGlvbiBidWlsZHMuXG5EZWJ1Zy5leHRlbmQoZXhwb3J0ZWQsIHtpc1NhZmFyaSwgZ2V0UGVyZm9ybWFuY2VNZXRyaWNzOiBQZXJmb3JtYW5jZVV0aWxzLmdldFBlcmZvcm1hbmNlTWV0cmljcywgZ2V0UGVyZm9ybWFuY2VNZXRyaWNzQXN5bmM6IFdvcmtlclBlcmZvcm1hbmNlVXRpbHMuZ2V0UGVyZm9ybWFuY2VNZXRyaWNzQXN5bmN9KTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2ZXJzaW9uIG9mIE1hcGJveCBHTCBKUyBpbiB1c2UgYXMgc3BlY2lmaWVkIGluIGBwYWNrYWdlLmpzb25gLFxuICogYENIQU5HRUxPRy5tZGAsIGFuZCB0aGUgR2l0SHViIHJlbGVhc2UuXG4gKlxuICogQHZhciB7c3RyaW5nfSB2ZXJzaW9uXG4gKiBAZXhhbXBsZVxuICogY29uc29sZS5sb2coYE1hcGJveCBHTCBKUyB2JHttYXBib3hnbC52ZXJzaW9ufWApO1xuICovXG5cbi8qKlxuICogVGVzdCB3aGV0aGVyIHRoZSBicm93c2VyIFtzdXBwb3J0cyBNYXBib3ggR0wgSlNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vaGVscC9tYXBib3gtYnJvd3Nlci1zdXBwb3J0LyNtYXBib3gtZ2wtanMpLlxuICpcbiAqIEBmdW5jdGlvbiBzdXBwb3J0ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1mYWxzZV0gSWYgYHRydWVgLFxuICogICB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gYGZhbHNlYCBpZiB0aGUgcGVyZm9ybWFuY2Ugb2YgTWFwYm94IEdMIEpTIHdvdWxkXG4gKiAgIGJlIGRyYW1hdGljYWxseSB3b3JzZSB0aGFuIGV4cGVjdGVkIChmb3IgZXhhbXBsZSwgYSBzb2Z0d2FyZSBXZWJHTCByZW5kZXJlclxuICogICB3b3VsZCBiZSB1c2VkKS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBAZXhhbXBsZVxuICogLy8gU2hvdyBhbiBhbGVydCBpZiB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IE1hcGJveCBHTFxuICogaWYgKCFtYXBib3hnbC5zdXBwb3J0ZWQoKSkge1xuICogICAgIGFsZXJ0KCdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBNYXBib3ggR0wnKTtcbiAqIH1cbiAqIEBzZWUgW0V4YW1wbGU6IENoZWNrIGZvciBicm93c2VyIHN1cHBvcnRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY2hlY2stZm9yLXN1cHBvcnQvKVxuICovXG5cbi8qKlxuICogU2V0cyB0aGUgbWFwJ3MgW1JUTCB0ZXh0IHBsdWdpbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvcGx1Z2lucy8jbWFwYm94LWdsLXJ0bC10ZXh0KS5cbiAqIE5lY2Vzc2FyeSBmb3Igc3VwcG9ydGluZyB0aGUgQXJhYmljIGFuZCBIZWJyZXcgbGFuZ3VhZ2VzLCB3aGljaCBhcmUgd3JpdHRlbiByaWdodC10by1sZWZ0LiBNYXBib3ggU3R1ZGlvIGxvYWRzIHRoaXMgcGx1Z2luIGJ5IGRlZmF1bHQuXG4gKlxuICogQGZ1bmN0aW9uIHNldFJUTFRleHRQbHVnaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5VUkwgVVJMIHBvaW50aW5nIHRvIHRoZSBNYXBib3ggUlRMIHRleHQgcGx1Z2luIHNvdXJjZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCB3aXRoIGFuIGVycm9yIGFyZ3VtZW50IGlmIHRoZXJlIGlzIGFuIGVycm9yLCBvciBubyBhcmd1bWVudHMgaWYgdGhlIHBsdWdpbiBsb2FkcyBzdWNjZXNzZnVsbHkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGxhenkgSWYgc2V0IHRvIGB0cnVlYCwgTWFwYm94R0wgd2lsbCBkZWZlciBsb2FkaW5nIHRoZSBwbHVnaW4gdW50aWwgcmlnaHQtdG8tbGVmdCB0ZXh0IGlzIGVuY291bnRlcmVkLCBhbmRcbiAqICAgIHJpZ2h0LXRvLWxlZnQgdGV4dCB3aWxsIGJlIHJlbmRlcmVkIG9ubHkgYWZ0ZXIgdGhlIHBsdWdpbiBmaW5pc2hlcyBsb2FkaW5nLlxuICogQGV4YW1wbGVcbiAqIG1hcGJveGdsLnNldFJUTFRleHRQbHVnaW4oJ2h0dHBzOi8vYXBpLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3BsdWdpbnMvbWFwYm94LWdsLXJ0bC10ZXh0L3YwLjIuMC9tYXBib3gtZ2wtcnRsLXRleHQuanMnKTtcbiAqIEBzZWUgW0V4YW1wbGU6IEFkZCBzdXBwb3J0IGZvciByaWdodC10by1sZWZ0IHNjcmlwdHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbWFwYm94LWdsLXJ0bC10ZXh0LylcbiAqL1xuXG4vKipcbiAgKiBHZXRzIHRoZSBtYXAncyBbUlRMIHRleHQgcGx1Z2luXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9wbHVnaW5zLyNtYXBib3gtZ2wtcnRsLXRleHQpIHN0YXR1cy5cbiAgKiBUaGUgc3RhdHVzIGNhbiBiZSBgdW5hdmFpbGFibGVgIChub3QgcmVxdWVzdGVkIG9yIHJlbW92ZWQpLCBgbG9hZGluZ2AsIGBsb2FkZWRgLCBvciBgZXJyb3JgLlxuICAqIElmIHRoZSBzdGF0dXMgaXMgYGxvYWRlZGAgYW5kIHRoZSBwbHVnaW4gaXMgcmVxdWVzdGVkIGFnYWluLCBhbiBlcnJvciB3aWxsIGJlIHRocm93bi5cbiAgKlxuICAqIEBmdW5jdGlvbiBnZXRSVExUZXh0UGx1Z2luU3RhdHVzXG4gICogQGV4YW1wbGVcbiAgKiBjb25zdCBwbHVnaW5TdGF0dXMgPSBtYXBib3hnbC5nZXRSVExUZXh0UGx1Z2luU3RhdHVzKCk7XG4gICovXG5cbmV4cG9ydCBkZWZhdWx0IGV4cG9ydGVkO1xuXG4vLyBjYW5hcnkgYXNzZXJ0OiB1c2VkIHRvIGNvbmZpcm0gdGhhdCBhc3NlcnRzIGhhdmUgYmVlbiByZW1vdmVkIGZyb20gcHJvZHVjdGlvbiBidWlsZFxuYXNzZXJ0KHRydWUsICdjYW5hcnkgYXNzZXJ0Jyk7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20uanMnO1xuXG5pbXBvcnQge2JpbmRBbGwsIHdhcm5PbmNlfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdy5qcyc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAuanMnO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gICAgY29udGFpbmVyPzogSFRNTEVsZW1lbnRcbn07XG5cbi8qKlxuICogQSBgRnVsbHNjcmVlbkNvbnRyb2xgIGNvbnRyb2wgY29udGFpbnMgYSBidXR0b24gZm9yIHRvZ2dsaW5nIHRoZSBtYXAgaW4gYW5kIG91dCBvZiBmdWxsc2NyZWVuIG1vZGUuIFNlZSB0aGUgYHJlcXVlc3RGdWxsU2NyZWVuYCBbY29tcGF0aWJpbGl0eSB0YWJsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvcmVxdWVzdEZ1bGxTY3JlZW4jYnJvd3Nlcl9jb21wYXRpYmlsaXR5KSBmb3Igc3VwcG9ydGVkIGJyb3dzZXJzLlxuICogQWRkIHRoaXMgY29udHJvbCB0byBhIG1hcCB1c2luZyB7QGxpbmsgTWFwI2FkZENvbnRyb2x9LlxuICpcbiAqIEBpbXBsZW1lbnRzIHtJQ29udHJvbH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtvcHRpb25zLmNvbnRhaW5lcl0gYGNvbnRhaW5lcmAgaXMgdGhlIFtjb21wYXRpYmxlIERPTSBlbGVtZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9yZXF1ZXN0RnVsbFNjcmVlbiNDb21wYXRpYmxlX2VsZW1lbnRzKSB3aGljaCBzaG91bGQgYmUgbWFkZSBmdWxsIHNjcmVlbi4gQnkgZGVmYXVsdCwgdGhlIG1hcCBjb250YWluZXIgZWxlbWVudCB3aWxsIGJlIG1hZGUgZnVsbCBzY3JlZW4uXG4gKlxuICogQGV4YW1wbGVcbiAqIG1hcC5hZGRDb250cm9sKG5ldyBtYXBib3hnbC5GdWxsc2NyZWVuQ29udHJvbCh7Y29udGFpbmVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyl9KSk7XG4gKiBAc2VlIFtFeGFtcGxlOiBWaWV3IGEgZnVsbHNjcmVlbiBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZnVsbHNjcmVlbi8pXG4gKi9cblxuY2xhc3MgRnVsbHNjcmVlbkNvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfY29udHJvbENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2Z1bGxzY3JlZW46IGJvb2xlYW47XG4gICAgX2Z1bGxzY3JlZW5jaGFuZ2U6IHN0cmluZztcbiAgICBfZnVsbHNjcmVlbkJ1dHRvbjogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2Z1bGxzY3JlZW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNvbnRhaW5lciBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3YXJuT25jZSgnRnVsbCBzY3JlZW4gY29udHJvbCBcXCdjb250YWluZXJcXCcgbXVzdCBiZSBhIERPTSBlbGVtZW50LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbkNsaWNrRnVsbHNjcmVlbicsXG4gICAgICAgICAgICAnX2NoYW5nZUljb24nXG4gICAgICAgIF0sIHRoaXMpO1xuICAgICAgICBpZiAoJ29uZnVsbHNjcmVlbmNoYW5nZScgaW4gd2luZG93LmRvY3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxsc2NyZWVuY2hhbmdlID0gJ2Z1bGxzY3JlZW5jaGFuZ2UnO1xuICAgICAgICB9IGVsc2UgaWYgKCdvbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnIGluIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbmNoYW5nZSA9ICd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKTogSFRNTEVsZW1lbnQge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIGlmICghdGhpcy5fY29udGFpbmVyKSB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuX2NvbnRyb2xDb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCBgbWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwYCk7XG4gICAgICAgIGlmICh0aGlzLl9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldHVwVUkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHdhcm5PbmNlKCdUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY29udHJvbENvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5fY29udHJvbENvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fbWFwID0gKG51bGw6IGFueSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSwgdGhpcy5fY2hhbmdlSWNvbik7XG4gICAgfVxuXG4gICAgX2NoZWNrRnVsbHNjcmVlblN1cHBvcnQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIShcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZCB8fFxuICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZFxuICAgICAgICApO1xuICAgIH1cblxuICAgIF9zZXR1cFVJKCkge1xuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLl9mdWxsc2NyZWVuQnV0dG9uID0gRE9NLmNyZWF0ZSgnYnV0dG9uJywgKGBtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW5gKSwgdGhpcy5fY29udHJvbENvbnRhaW5lcik7XG4gICAgICAgIERPTS5jcmVhdGUoJ3NwYW4nLCBgbWFwYm94Z2wtY3RybC1pY29uYCwgYnV0dG9uKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgdGhpcy5fdXBkYXRlVGl0bGUoKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGlja0Z1bGxzY3JlZW4pO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UsIHRoaXMuX2NoYW5nZUljb24pO1xuICAgIH1cblxuICAgIF91cGRhdGVUaXRsZSgpIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLl9nZXRUaXRsZSgpO1xuICAgICAgICB0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgdGl0bGUpO1xuICAgICAgICBpZiAodGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCkgdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdGl0bGUpO1xuICAgIH1cblxuICAgIF9nZXRUaXRsZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLl9nZXRVSVN0cmluZyh0aGlzLl9pc0Z1bGxzY3JlZW4oKSA/ICdGdWxsc2NyZWVuQ29udHJvbC5FeGl0JyA6ICdGdWxsc2NyZWVuQ29udHJvbC5FbnRlcicpO1xuICAgIH1cblxuICAgIF9pc0Z1bGxzY3JlZW4oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mdWxsc2NyZWVuO1xuICAgIH1cblxuICAgIF9jaGFuZ2VJY29uKCkge1xuICAgICAgICBjb25zdCBmdWxsc2NyZWVuRWxlbWVudCA9XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgfHxcbiAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKChmdWxsc2NyZWVuRWxlbWVudCA9PT0gdGhpcy5fY29udGFpbmVyKSAhPT0gdGhpcy5fZnVsbHNjcmVlbikge1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbiA9ICF0aGlzLl9mdWxsc2NyZWVuO1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKGBtYXBib3hnbC1jdHJsLXNocmlua2ApO1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKGBtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW5gKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRpdGxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25DbGlja0Z1bGxzY3JlZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Z1bGxzY3JlZW4oKSkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2NvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKHRoaXMuX2NvbnRhaW5lcjogYW55KS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgKHRoaXMuX2NvbnRhaW5lcjogYW55KS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGdWxsc2NyZWVuQ29udHJvbDtcbiIsImNvbnN0IGFjY2Vzc1Rva2VuID0gKFxuICAgIHByb2Nlc3MuZW52Lk1hcGJveEFjY2Vzc1Rva2VuIHx8XG4gICAgcHJvY2Vzcy5lbnYuTUFQQk9YX0FDQ0VTU19UT0tFTiB8fFxuICAgIGdldFVSTFBhcmFtZXRlcignYWNjZXNzX3Rva2VuJykgfHxcbiAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzVG9rZW4nKSB8fFxuICAgICdway5leUoxSWpvaWJXRndZbTk0TFdkc0xXcHpJaXdpWVNJNkltTnJhbTl5YkdJMWFqRXhZalF5ZUd4bGVtcHBiMnB3WWpJaWZRLkxHeTVVR05Jc1hVWmRZTXZmWVJpQVEnXG4pO1xuXG5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzVG9rZW4nLCBhY2Nlc3NUb2tlbik7XG5cbmV4cG9ydCBkZWZhdWx0IGFjY2Vzc1Rva2VuO1xuXG5mdW5jdGlvbiBnZXRVUkxQYXJhbWV0ZXIobmFtZSkge1xuICAgIGNvbnN0IHJlZ2V4cCA9IG5ldyBSZWdFeHAoYFs/Jl0ke25hbWV9PShbXiYjXSopYCwgJ2knKTtcbiAgICBjb25zdCBvdXRwdXQgPSByZWdleHAuZXhlYyh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgcmV0dXJuIG91dHB1dCAmJiBvdXRwdXRbMV07XG59XG4iLCIvLyBAZmxvd1xuLy8gQWNjb3JkaW5nIHRvIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9QZXJmb3JtYW5jZS9ub3csXG4vLyBwZXJmb3JtYW5jZS5ub3coKSBzaG91bGQgYmUgYWNjdXJhdGUgdG8gMC4wMDVtcy4gU2V0IHRoZSBtaW5pbXVtIHJ1bm5pbmdcbi8vIHRpbWUgZm9yIGEgc2luZ2xlIG1lYXN1cmVtZW50IGF0IDVtcywgc28gdGhhdCB0aGUgZXJyb3IgZHVlIHRvIHRpbWVyXG4vLyBwcmVjaXNpb24gaXMgPCAwLjElLlxuY29uc3QgbWluVGltZUZvck1lYXN1cmVtZW50ID0gMC4wMDUgKiAxMDAwO1xuXG5leHBvcnQgdHlwZSBNZWFzdXJlbWVudCA9IHtcbiAgICBpdGVyYXRpb25zOiBudW1iZXIsXG4gICAgdGltZTogbnVtYmVyXG59O1xuXG5jbGFzcyBCZW5jaG1hcmsge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX21lYXN1cmVBc3luYyA9IHRoaXMuX21lYXN1cmVBc3luYy5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBgc2V0dXBgIG1ldGhvZCBpcyBpbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGJ5IHN1YmNsYXNzZXMuIEl0IHdpbGwgYmUgY2FsbGVkIG9uY2UsIHByaW9yIHRvXG4gICAgICogcnVubmluZyBhbnkgYmVuY2htYXJrIGl0ZXJhdGlvbnMsIGFuZCBtYXkgc2V0IHN0YXRlIG9uIGB0aGlzYCB3aGljaCB0aGUgYmVuY2htYXJrIGxhdGVyIGFjY2Vzc2VzLlxuICAgICAqIElmIHRoZSBzZXR1cCBpbnZvbHZlcyBhbiBhc3luY2hyb25vdXMgc3RlcCwgYHNldHVwYCBtYXkgcmV0dXJuIGEgcHJvbWlzZS5cbiAgICAgKi9cbiAgICBzZXR1cCgpOiBQcm9taXNlPHZvaWQ+IHwgdm9pZCB7fVxuXG4gICAgLyoqXG4gICAgICogVGhlIGBiZW5jaGAgbWV0aG9kIGlzIGludGVuZGVkIHRvIGJlIG92ZXJyaWRkZW4gYnkgc3ViY2xhc3Nlcy4gSXQgc2hvdWxkIGNvbnRhaW4gdGhlIGNvZGUgdG8gYmVcbiAgICAgKiBiZW5jaG1hcmtlZC4gSXQgbWF5IGFjY2VzcyBzdGF0ZSBvbiBgdGhpc2Agc2V0IGJ5IHRoZSBgc2V0dXBgIGZ1bmN0aW9uIChidXQgc2hvdWxkIG5vdCBtb2RpZnkgdGhpc1xuICAgICAqIHN0YXRlKS4gSXQgd2lsbCBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHRoZSB0b3RhbCBudW1iZXIgdG8gYmUgZGV0ZXJtaW5lZCBieSB0aGUgaGFybmVzcy4gSWZcbiAgICAgKiB0aGUgYmVuY2htYXJrIGludm9sdmVzIGFuIGFzeW5jaHJvbm91cyBzdGVwLCBgYmVuY2hgIG1heSByZXR1cm4gYSBwcm9taXNlLlxuICAgICAqL1xuICAgIGJlbmNoKCk6IFByb21pc2U8dm9pZD4gfCB2b2lkIHt9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYHRlYXJkb3duYCBtZXRob2QgaXMgaW50ZW5kZWQgdG8gYmUgb3ZlcnJpZGRlbiBieSBzdWJjbGFzc2VzLiBJdCB3aWxsIGJlIGNhbGxlZCBvbmNlLCBhZnRlclxuICAgICAqIHJ1bm5pbmcgYWxsIGJlbmNobWFyayBpdGVyYXRpb25zLCBhbmQgbWF5IHBlcmZvcm0gYW55IG5lY2Vzc2FyeSBjbGVhbnVwLiBJZiBjbGVhbmluZyB1cCBpbnZvbHZlc1xuICAgICAqIGFuIGFzeW5jaHJvbm91cyBzdGVwLCBgdGVhcmRvd25gIG1heSByZXR1cm4gYSBwcm9taXNlLlxuICAgICAqL1xuICAgIHRlYXJkb3duKCk6IFByb21pc2U8dm9pZD4gfCB2b2lkIHt9XG5cbiAgICBfbWVhc3VyZUFzeW5jOiAoKSA9PiBQcm9taXNlPEFycmF5PE1lYXN1cmVtZW50Pj47XG4gICAgX2VsYXBzZWQ6IG51bWJlcjtcbiAgICBfbWVhc3VyZW1lbnRzOiBBcnJheTxNZWFzdXJlbWVudD47XG4gICAgX2l0ZXJhdGlvbnNQZXJNZWFzdXJlbWVudDogbnVtYmVyO1xuICAgIF9zdGFydDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogUnVuIHRoZSBiZW5jaG1hcmsgYnkgZXhlY3V0aW5nIGBzZXR1cGAgb25jZSwgc2FtcGxpbmcgdGhlIGV4ZWN1dGlvbiB0aW1lIG9mIGBiZW5jaGAgc29tZSBudW1iZXIgb2ZcbiAgICAgKiB0aW1lcywgYW5kIHRoZW4gZXhlY3V0aW5nIGB0ZWFyZG93bmAuIFlpZWxkcyBhbiBhcnJheSBvZiBleGVjdXRpb24gdGltZXMuXG4gICAgICovXG4gICAgcnVuKCk6IFByb21pc2U8P0FycmF5PE1lYXN1cmVtZW50Pj4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuc2V0dXAoKSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuX2JlZ2luKCkpXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGJlbmNoIHJ1biB3aWxsIGJyZWFrIGhlcmUgYnV0IHNob3VsZCBhdCBsZWFzdCBwcm92aWRlIGhlbHBmdWwgaW5mb3JtYXRpb246XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9kb25lKCk6IGJvb2xlYW4ge1xuICAgICAgICAvLyAyMTAgc2FtcGxlcyA9PiAyMCBvYnNlcnZhdGlvbnMgZm9yIHJlZ3Jlc3Npb25cbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsYXBzZWQgPj0gNTAwICYmIHRoaXMuX21lYXN1cmVtZW50cy5sZW5ndGggPiAyMTA7XG4gICAgfVxuXG4gICAgX2JlZ2luKCk6IFByb21pc2U8QXJyYXk8TWVhc3VyZW1lbnQ+PiB7XG4gICAgICAgIHRoaXMuX21lYXN1cmVtZW50cyA9IFtdO1xuICAgICAgICB0aGlzLl9lbGFwc2VkID0gMDtcbiAgICAgICAgdGhpcy5faXRlcmF0aW9uc1Blck1lYXN1cmVtZW50ID0gMTtcbiAgICAgICAgdGhpcy5fc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgICBjb25zdCBiZW5jaCA9IHRoaXMuYmVuY2goKTtcbiAgICAgICAgaWYgKGJlbmNoIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGJlbmNoLnRoZW4odGhpcy5fbWVhc3VyZUFzeW5jKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fbWVhc3VyZVN5bmMoKTogYW55KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tZWFzdXJlU3luYygpOiBQcm9taXNlPEFycmF5PE1lYXN1cmVtZW50Pj4ge1xuICAgICAgICAvLyBBdm9pZCBQcm9taXNlIG92ZXJoZWFkIGZvciBzeW5jIGJlbmNobWFya3MuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLl9zdGFydDtcbiAgICAgICAgICAgIHRoaXMuX2VsYXBzZWQgKz0gdGltZTtcbiAgICAgICAgICAgIGlmICh0aW1lIDwgbWluVGltZUZvck1lYXN1cmVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXRlcmF0aW9uc1Blck1lYXN1cmVtZW50Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX21lYXN1cmVtZW50cy5wdXNoKHt0aW1lLCBpdGVyYXRpb25zOiB0aGlzLl9pdGVyYXRpb25zUGVyTWVhc3VyZW1lbnR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9kb25lKCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5faXRlcmF0aW9uc1Blck1lYXN1cmVtZW50OyBpID4gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iZW5jaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmQoKTtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW2R1cGxpY2F0ZS1jbGFzcy1tZW1iZXJdXG4gICAgX21lYXN1cmVBc3luYygpOiBQcm9taXNlPEFycmF5PE1lYXN1cmVtZW50Pj4ge1xuICAgICAgICBjb25zdCB0aW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLl9zdGFydDtcbiAgICAgICAgdGhpcy5fZWxhcHNlZCArPSB0aW1lO1xuICAgICAgICBpZiAodGltZSA8IG1pblRpbWVGb3JNZWFzdXJlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5faXRlcmF0aW9uc1Blck1lYXN1cmVtZW50Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9tZWFzdXJlbWVudHMucHVzaCh7dGltZSwgaXRlcmF0aW9uczogdGhpcy5faXRlcmF0aW9uc1Blck1lYXN1cmVtZW50fSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RvbmUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VuZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9ydW5Bc3luYyh0aGlzLl9pdGVyYXRpb25zUGVyTWVhc3VyZW1lbnQpLnRoZW4odGhpcy5fbWVhc3VyZUFzeW5jKTtcbiAgICB9XG5cbiAgICBfcnVuQXN5bmMobjogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGJlbmNoID0gKCh0aGlzLmJlbmNoKCk6IGFueSk6IFByb21pc2U8dm9pZD4pO1xuICAgICAgICBpZiAobiA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGJlbmNoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGJlbmNoLnRoZW4oKCkgPT4gdGhpcy5fcnVuQXN5bmMobiAtIDEpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9lbmQoKTogUHJvbWlzZTxBcnJheTxNZWFzdXJlbWVudD4+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnRlYXJkb3duKCkpLnRoZW4oKCkgPT4gdGhpcy5fbWVhc3VyZW1lbnRzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJlbmNobWFyaztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIHtTdHlsZVNwZWNpZmljYXRpb259IGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL3R5cGVzLmpzJztcbmltcG9ydCB7UmVxdWVzdE1hbmFnZXJ9IGZyb20gJy4uLy4uL3NyYy91dGlsL21hcGJveC5qcyc7XG5cbmNvbnN0IHJlcXVlc3RNYW5hZ2VyID0gbmV3IFJlcXVlc3RNYW5hZ2VyKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZldGNoU3R5bGUodmFsdWU6IHN0cmluZyB8IFN0eWxlU3BlY2lmaWNhdGlvbik6IFByb21pc2U8U3R5bGVTcGVjaWZpY2F0aW9uPiB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICBmZXRjaChyZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTCh2YWx1ZSkpLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKSA6XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSk7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUHJvdG9idWYgZnJvbSAncGJmJztcbmltcG9ydCB7VmVjdG9yVGlsZX0gZnJvbSAnQG1hcGJveC92ZWN0b3ItdGlsZSc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCBkZXJlZiBmcm9tICcuLi8uLi9zcmMvc3R5bGUtc3BlYy9kZXJlZi5qcyc7XG5pbXBvcnQgU3R5bGUgZnJvbSAnLi4vLi4vc3JjL3N0eWxlL3N0eWxlLmpzJztcbmltcG9ydCB7RXZlbnRlZH0gZnJvbSAnLi4vLi4vc3JjL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQge1JlcXVlc3RNYW5hZ2VyfSBmcm9tICcuLi8uLi9zcmMvdXRpbC9tYXBib3guanMnO1xuaW1wb3J0IFdvcmtlclRpbGUgZnJvbSAnLi4vLi4vc3JjL3NvdXJjZS93b3JrZXJfdGlsZS5qcyc7XG5pbXBvcnQgU3R5bGVMYXllckluZGV4IGZyb20gJy4uLy4uL3NyYy9zdHlsZS9zdHlsZV9sYXllcl9pbmRleC5qcyc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZVNwZWNpZmljYXRpb259IGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL3R5cGVzLmpzJztcbmltcG9ydCB0eXBlIHtXb3JrZXJUaWxlUmVzdWx0fSBmcm9tICcuLi8uLi9zcmMvc291cmNlL3dvcmtlcl9zb3VyY2UuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uLy4uL3NyYy9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgdHlwZSB7VGlsZUpTT059IGZyb20gJy4uLy4uL3NyYy90eXBlcy90aWxlanNvbi5qcyc7XG5pbXBvcnQge2dldFByb2plY3Rpb259IGZyb20gJy4uLy4uL3NyYy9nZW8vcHJvamVjdGlvbi9pbmRleC5qcyc7XG5cbmNsYXNzIFN0dWJNYXAgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBfcmVxdWVzdE1hbmFnZXI6IFJlcXVlc3RNYW5hZ2VyO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RNYW5hZ2VyID0gbmV3IFJlcXVlc3RNYW5hZ2VyKCk7XG4gICAgfVxufVxuXG5jb25zdCBtYXBTdHViID0gbmV3IFN0dWJNYXAoKTtcblxuZnVuY3Rpb24gY3JlYXRlU3R5bGUoc3R5bGVKU09OOiBTdHlsZVNwZWNpZmljYXRpb24pOiBQcm9taXNlPFN0eWxlPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBuZXcgU3R5bGUoKG1hcFN0dWI6IGFueSkpO1xuICAgICAgICBzdHlsZS5sb2FkSlNPTihzdHlsZUpTT04pO1xuICAgICAgICBzdHlsZVxuICAgICAgICAgICAgLm9uKCdzdHlsZS5sb2FkJywgKCkgPT4gcmVzb2x2ZShzdHlsZSkpXG4gICAgICAgICAgICAub24oJ2Vycm9yJywgcmVqZWN0KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZmV0Y2hUaWxlSlNPTihyZXF1ZXN0TWFuYWdlcjogUmVxdWVzdE1hbmFnZXIsIHNvdXJjZVVSTDogc3RyaW5nKTogUHJvbWlzZTxUaWxlSlNPTj4ge1xuICAgIHJldHVybiBmZXRjaChyZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTb3VyY2VVUkwoc291cmNlVVJMKSlcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZVBhcnNlciB7XG4gICAgc3R5bGVKU09OOiBTdHlsZVNwZWNpZmljYXRpb247XG4gICAgdGlsZUpTT046IFRpbGVKU09OO1xuICAgIHNvdXJjZUlEOiBzdHJpbmc7XG4gICAgbGF5ZXJJbmRleDogU3R5bGVMYXllckluZGV4O1xuICAgIGljb25zOiBPYmplY3Q7XG4gICAgZ2x5cGhzOiBPYmplY3Q7XG4gICAgc3R5bGU6IFN0eWxlO1xuICAgIGFjdG9yOiB7IHNlbmQ6IEZ1bmN0aW9uIH07XG5cbiAgICBjb25zdHJ1Y3RvcihzdHlsZUpTT046IFN0eWxlU3BlY2lmaWNhdGlvbiwgc291cmNlSUQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnN0eWxlSlNPTiA9IHN0eWxlSlNPTjtcbiAgICAgICAgdGhpcy5zb3VyY2VJRCA9IHNvdXJjZUlEO1xuICAgICAgICB0aGlzLmxheWVySW5kZXggPSBuZXcgU3R5bGVMYXllckluZGV4KGRlcmVmKHRoaXMuc3R5bGVKU09OLmxheWVycykpO1xuICAgICAgICB0aGlzLmdseXBocyA9IHt9O1xuICAgICAgICB0aGlzLmljb25zID0ge307XG4gICAgfVxuXG4gICAgbG9hZEltYWdlcyhwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KHBhcmFtcyk7XG4gICAgICAgIGlmICh0aGlzLmljb25zW2tleV0pIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHRoaXMuaWNvbnNba2V5XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLmdldEltYWdlcygnJywgcGFyYW1zLCAoZXJyLCBpY29ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaWNvbnNba2V5XSA9IGljb25zO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgaWNvbnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkR2x5cGhzKHBhcmFtczogT2JqZWN0LCBjYWxsYmFjazogRnVuY3Rpb24pIHtcbiAgICAgICAgY29uc3Qga2V5ID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zKTtcbiAgICAgICAgaWYgKHRoaXMuZ2x5cGhzW2tleV0pIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHRoaXMuZ2x5cGhzW2tleV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5nZXRHbHlwaHMoJycsIHBhcmFtcywgKGVyciwgZ2x5cGhzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5nbHlwaHNba2V5XSA9IGdseXBocztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIsIGdseXBocyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldHVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSB0aGlzO1xuICAgICAgICB0aGlzLmFjdG9yID0ge1xuICAgICAgICAgICAgc2VuZChhY3Rpb24sIHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ2dldEltYWdlcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlci5sb2FkSW1hZ2VzKHBhcmFtcywgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2dldEdseXBocycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlci5sb2FkR2x5cGhzKHBhcmFtcywgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgY3JlYXRlU3R5bGUodGhpcy5zdHlsZUpTT04pLFxuICAgICAgICAgICAgZmV0Y2hUaWxlSlNPTihtYXBTdHViLl9yZXF1ZXN0TWFuYWdlciwgKHRoaXMuc3R5bGVKU09OLnNvdXJjZXNbdGhpcy5zb3VyY2VJRF06IGFueSkudXJsKVxuICAgICAgICBdKS50aGVuKChbc3R5bGUsIHRpbGVKU09OXTogW1N0eWxlLCBUaWxlSlNPTl0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgIHRoaXMudGlsZUpTT04gPSB0aWxlSlNPTjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZmV0Y2hUaWxlKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6IFByb21pc2U8e3wgYnVmZmVyOiBBcnJheUJ1ZmZlciwgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEIHx9PiB7XG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLnN0eWxlLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVKU09OLnRpbGVzKSkpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxuICAgICAgICAgICAgLnRoZW4oYnVmZmVyID0+ICh7dGlsZUlELCBidWZmZXJ9KSk7XG4gICAgfVxuXG4gICAgcGFyc2VUaWxlKHRpbGU6IHt0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIGJ1ZmZlcjogQXJyYXlCdWZmZXJ9LCByZXR1cm5EZXBlbmRlbmNpZXM/OiBib29sZWFuKTogUHJvbWlzZTw/V29ya2VyVGlsZVJlc3VsdD4ge1xuICAgICAgICBjb25zdCB3b3JrZXJUaWxlID0gbmV3IFdvcmtlclRpbGUoe1xuICAgICAgICAgICAgdGlsZUlEOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgIHRpbGVab29tOiB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgICAgIHpvb206IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaLFxuICAgICAgICAgICAgdGlsZVNpemU6IDUxMixcbiAgICAgICAgICAgIG92ZXJzY2FsaW5nOiAxLFxuICAgICAgICAgICAgc2hvd0NvbGxpc2lvbkJveGVzOiBmYWxzZSxcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5zb3VyY2VJRCxcbiAgICAgICAgICAgIHVpZDogMCxcbiAgICAgICAgICAgIG1heFpvb206IDIyLFxuICAgICAgICAgICAgcGl4ZWxSYXRpbzogMSxcbiAgICAgICAgICAgIHJlcXVlc3Q6IHt1cmw6ICcnfSxcbiAgICAgICAgICAgIGFuZ2xlOiAwLFxuICAgICAgICAgICAgcGl0Y2g6IDAsXG4gICAgICAgICAgICBjYW1lcmFUb0NlbnRlckRpc3RhbmNlOiAwLFxuICAgICAgICAgICAgY2FtZXJhVG9UaWxlRGlzdGFuY2U6IDAsXG4gICAgICAgICAgICByZXR1cm5EZXBlbmRlbmNpZXMsXG4gICAgICAgICAgICBwcm9tb3RlSWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGlzU3ltYm9sVGlsZTogZmFsc2UsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBnZXRQcm9qZWN0aW9uKHtuYW1lOiAnbWVyY2F0b3InfSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdmVjdG9yVGlsZSA9IG5ldyBWZWN0b3JUaWxlKG5ldyBQcm90b2J1Zih0aWxlLmJ1ZmZlcikpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB3b3JrZXJUaWxlLnBhcnNlKHZlY3RvclRpbGUsIHRoaXMubGF5ZXJJbmRleCwgW10sICh0aGlzLmFjdG9yOiBhbnkpLCAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUge1N0eWxlU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vLi4vc3JjL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuaW1wb3J0IEJlbmNobWFyayBmcm9tICcuLi9saWIvYmVuY2htYXJrLmpzJztcbmltcG9ydCBmZXRjaFN0eWxlIGZyb20gJy4uL2xpYi9mZXRjaF9zdHlsZS5qcyc7XG5pbXBvcnQgVGlsZVBhcnNlciBmcm9tICcuLi9saWIvdGlsZV9wYXJzZXIuanMnO1xuaW1wb3J0IHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi8uLi9zcmMvc291cmNlL3RpbGVfaWQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXlvdXQgZXh0ZW5kcyBCZW5jaG1hcmsge1xuICAgIHRpbGVzOiBBcnJheTx7dGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCBidWZmZXI6IEFycmF5QnVmZmVyfT47XG4gICAgcGFyc2VyOiBUaWxlUGFyc2VyO1xuICAgIHN0eWxlOiBzdHJpbmcgfCBTdHlsZVNwZWNpZmljYXRpb247XG4gICAgdGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD47XG5cbiAgICBjb25zdHJ1Y3RvcihzdHlsZTogc3RyaW5nIHwgU3R5bGVTcGVjaWZpY2F0aW9uLCB0aWxlSURzOiA/QXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLnRpbGVJRHMgPSB0aWxlSURzIHx8IFtcbiAgICAgICAgICAgIG5ldyBPdmVyc2NhbGVkVGlsZUlEKDEyLCAwLCAxMiwgNjU1LCAxNTgzKSxcbiAgICAgICAgICAgIG5ldyBPdmVyc2NhbGVkVGlsZUlEKDgsIDAsIDgsIDQwLCA5OCksXG4gICAgICAgICAgICBuZXcgT3ZlcnNjYWxlZFRpbGVJRCg0LCAwLCA0LCAzLCA2KSxcbiAgICAgICAgICAgIG5ldyBPdmVyc2NhbGVkVGlsZUlEKDAsIDAsIDAsIDAsIDApXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgc2V0dXAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBmZXRjaFN0eWxlKHRoaXMuc3R5bGUpXG4gICAgICAgICAgICAudGhlbigoc3R5bGVKU09OKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZXIgPSBuZXcgVGlsZVBhcnNlcihzdHlsZUpTT04sICdjb21wb3NpdGUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZXIuc2V0dXAoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMudGlsZUlEcy5tYXAodGlsZUlEID0+IHRoaXMucGFyc2VyLmZldGNoVGlsZSh0aWxlSUQpKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHRpbGVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWxlcyA9IHRpbGVzO1xuICAgICAgICAgICAgICAgIC8vIHBhcnNlIHRpbGVzIG9uY2UgdG8gcG9wdWxhdGUgZ2x5cGgvaWNvbiBjYWNoZVxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh0aWxlcy5tYXAodGlsZSA9PiB0aGlzLnBhcnNlci5wYXJzZVRpbGUodGlsZSkpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgYmVuY2goKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIGZvciAoY29uc3QgdGlsZSBvZiB0aGlzLnRpbGVzKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZXIucGFyc2VUaWxlKHRpbGUpLnRoZW4oKCkgPT4ge30pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IE1hcCBmcm9tICcuLi8uLi9zcmMvdWkvbWFwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG9wdGlvbnM6IGFueSk6IFByb21pc2U8TWFwPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuc3R1YlJlbmRlciA9IG9wdGlvbnMuc3R1YlJlbmRlciA9PSBudWxsID8gdHJ1ZSA6IG9wdGlvbnMuc3R1YlJlbmRlcjtcbiAgICAgICAgICAgIG9wdGlvbnMuc2hvd01hcCA9IG9wdGlvbnMuc2hvd01hcCA9PSBudWxsID8gZmFsc2UgOiBvcHRpb25zLnNob3dNYXA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7b3B0aW9ucy53aWR0aCB8fCA1MTJ9cHhgO1xuICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7b3B0aW9ucy5oZWlnaHQgfHwgNTEyfXB4YDtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLm1hcmdpbiA9ICcwIGF1dG8nO1xuICAgICAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnNob3dNYXApIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgIH1cbiAgICAgICAgKGRvY3VtZW50LmJvZHk6IGFueSkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgc3R5bGU6ICdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjEwJ1xuICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgbWFwXG4gICAgICAgICAgICAub24ob3B0aW9ucy5pZGxlID8gJ2lkbGUnIDogJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3R1YlJlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdHViIG91dCBgX3JlcmVuZGVyYDsgYmVuY2htYXJrcyBuZWVkIHRvIGJlIHRoZSBvbmx5IHRyaWdnZXIgb2YgYF9yZW5kZXJgIGZyb20gaGVyZSBvbiBvdXQuXG4gICAgICAgICAgICAgICAgICAgIChtYXA6IGFueSkudHJpZ2dlclJlcGFpbnQgPSAoKSA9PiB7fTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgcGVuZGluZyByZXJlbmRlciwgY2FuY2VsIGl0LlxuICAgICAgICAgICAgICAgICAgICBpZiAobWFwLl9mcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLl9mcmFtZS5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5fZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUobWFwKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ2Vycm9yJywgKGUpID0+IHJlamVjdChlLmVycm9yKSlcbiAgICAgICAgICAgIC5vbigncmVtb3ZlJywgKCkgPT4gY29udGFpbmVyLnJlbW92ZSgpKTtcbiAgICB9KTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBCZW5jaG1hcmsgZnJvbSAnLi4vbGliL2JlbmNobWFyay5qcyc7XG5pbXBvcnQgY3JlYXRlTWFwIGZyb20gJy4uL2xpYi9jcmVhdGVfbWFwLmpzJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi8uLi9zcmMvdWkvbWFwLmpzJztcblxuY29uc3Qgd2lkdGggPSAxMDI0O1xuY29uc3QgaGVpZ2h0ID0gNzY4O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWludCBleHRlbmRzIEJlbmNobWFyayB7XG4gICAgc3R5bGU6IHN0cmluZztcbiAgICBsb2NhdGlvbnM6IEFycmF5PE9iamVjdD47XG4gICAgbWFwczogQXJyYXk8TWFwPjtcblxuICAgIGNvbnN0cnVjdG9yKHN0eWxlOiBzdHJpbmcsIGxvY2F0aW9uczogQXJyYXk8T2JqZWN0Pikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMubG9jYXRpb25zID0gbG9jYXRpb25zO1xuICAgIH1cblxuICAgIHNldHVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5sb2NhdGlvbnMubWFwKGxvY2F0aW9uID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVNYXAoe1xuICAgICAgICAgICAgICAgIHpvb206IGxvY2F0aW9uLnpvb20sXG4gICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGNlbnRlcjogbG9jYXRpb24uY2VudGVyLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB0aGlzLnN0eWxlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpXG4gICAgICAgICAgICAudGhlbihtYXBzID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcHMgPSBtYXBzO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBiZW5jaCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBtYXAgb2YgdGhpcy5tYXBzKSB7XG4gICAgICAgICAgICBtYXAuX3N0eWxlRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgbWFwLl9zb3VyY2VzRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgbWFwLl9yZW5kZXIoRGF0ZS5ub3coKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0ZWFyZG93bigpIHtcbiAgICAgICAgZm9yIChjb25zdCBtYXAgb2YgdGhpcy5tYXBzKSB7XG4gICAgICAgICAgICBtYXAucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgQmVuY2htYXJrIGZyb20gJy4uL2xpYi9iZW5jaG1hcmsuanMnO1xuaW1wb3J0IGNyZWF0ZU1hcCBmcm9tICcuLi9saWIvY3JlYXRlX21hcC5qcyc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vLi4vc3JjL3VpL21hcC5qcyc7XG5cbmNvbnN0IHdpZHRoID0gMTAyNDtcbmNvbnN0IGhlaWdodCA9IDc2ODtcblxuY29uc3QgcG9pbnRzID0gW107XG5jb25zdCBkID0gNDtcbmZvciAobGV0IHggPSAwOyB4IDwgZDsgeCsrKSB7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBkOyB5KyspIHtcbiAgICAgICAgcG9pbnRzLnB1c2goW1xuICAgICAgICAgICAgKHggLyBkKSAqIHdpZHRoLFxuICAgICAgICAgICAgKHkgLyBkKSAqIGhlaWdodFxuICAgICAgICBdKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXJ5UG9pbnQgZXh0ZW5kcyBCZW5jaG1hcmsge1xuICAgIHN0eWxlOiBzdHJpbmc7XG4gICAgbG9jYXRpb25zOiBBcnJheTxPYmplY3Q+O1xuICAgIG1hcHM6IEFycmF5PE1hcD47XG5cbiAgICBjb25zdHJ1Y3RvcihzdHlsZTogc3RyaW5nLCBsb2NhdGlvbnM6IEFycmF5PE9iamVjdD4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLmxvY2F0aW9ucyA9IGxvY2F0aW9ucztcbiAgICB9XG5cbiAgICBzZXR1cCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMubG9jYXRpb25zLm1hcChsb2NhdGlvbiA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTWFwKHtcbiAgICAgICAgICAgICAgICB6b29tOiBsb2NhdGlvbi56b29tLFxuICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICBjZW50ZXI6IGxvY2F0aW9uLmNlbnRlcixcbiAgICAgICAgICAgICAgICBzdHlsZTogdGhpcy5zdHlsZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKVxuICAgICAgICAgICAgLnRoZW4obWFwcyA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXBzID0gbWFwcztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmVuY2goKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWFwIG9mIHRoaXMubWFwcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBwb2ludHMpIHtcbiAgICAgICAgICAgICAgICBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHBvaW50LCB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0ZWFyZG93bigpIHtcbiAgICAgICAgZm9yIChjb25zdCBtYXAgb2YgdGhpcy5tYXBzKSB7XG4gICAgICAgICAgICBtYXAucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgbWFwYm94Z2wgZnJvbSAnLi4vLi4vc3JjL2luZGV4LmpzJztcbmltcG9ydCBhY2Nlc3NUb2tlbiBmcm9tICcuLi9saWIvYWNjZXNzX3Rva2VuLmpzJztcbmltcG9ydCBsb2NhdGlvbnNXaXRoVGlsZUlEIGZyb20gJy4uL2xpYi9sb2NhdGlvbnNfd2l0aF90aWxlX2lkLmpzJztcbmltcG9ydCBzdHlsZUJlbmNobWFya0xvY2F0aW9ucyBmcm9tICcuLi9kYXRhL3N0eWxlLWJlbmNobWFyay1sb2NhdGlvbnMuanNvbic7XG5pbXBvcnQgU3R5bGVMYXllckNyZWF0ZSBmcm9tICcuLi9iZW5jaG1hcmtzL3N0eWxlX2xheWVyX2NyZWF0ZS5qcyc7XG5pbXBvcnQgVmFsaWRhdGUgZnJvbSAnLi4vYmVuY2htYXJrcy9zdHlsZV92YWxpZGF0ZS5qcyc7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2JlbmNobWFya3MvbGF5b3V0LmpzJztcbmltcG9ydCBQYWludCBmcm9tICcuLi9iZW5jaG1hcmtzL3BhaW50LmpzJztcbmltcG9ydCBRdWVyeVBvaW50IGZyb20gJy4uL2JlbmNobWFya3MvcXVlcnlfcG9pbnQuanMnO1xuaW1wb3J0IFF1ZXJ5Qm94IGZyb20gJy4uL2JlbmNobWFya3MvcXVlcnlfYm94LmpzJztcbmltcG9ydCBnZXRXb3JrZXJQb29sIGZyb20gJy4uLy4uL3NyYy91dGlsL2dsb2JhbF93b3JrZXJfcG9vbC5qcyc7XG5cbmNvbnN0IGxvY2F0aW9ucyA9IGxvY2F0aW9uc1dpdGhUaWxlSUQoc3R5bGVCZW5jaG1hcmtMb2NhdGlvbnMuZmVhdHVyZXMpO1xuXG5tYXBib3hnbC5hY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuO1xuXG5jb25zdCBiZW5jaG1hcmtzID0gd2luZG93LmJlbmNobWFya3MgPSBbXTtcblxuZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgQmVuY2htYXJrLCBsb2NhdGlvbnMsIGxvY2F0aW9uKSB7XG4gICAgY29uc3QgdmVyc2lvbnMgPSBbXTtcblxuICAgIGZvciAoY29uc3Qgc3R5bGUgb2YgcHJvY2Vzcy5lbnYuTUFQQk9YX1NUWUxFUykge1xuICAgICAgICB2ZXJzaW9ucy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IHN0eWxlLm5hbWUgfHwgc3R5bGUucmVwbGFjZSgnbWFwYm94Oi8vc3R5bGVzLycsICcnKSxcbiAgICAgICAgICAgIGJlbmNoOiBuZXcgQmVuY2htYXJrKHN0eWxlLCBsb2NhdGlvbnMpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBiZW5jaG1hcmtzLnB1c2goe25hbWUsIHZlcnNpb25zLCBsb2NhdGlvbn0pO1xufVxuXG5yZWdpc3RlcignU3R5bGVMYXllckNyZWF0ZScsIFN0eWxlTGF5ZXJDcmVhdGUpO1xucmVnaXN0ZXIoJ1ZhbGlkYXRlJywgVmFsaWRhdGUpO1xubG9jYXRpb25zLmZvckVhY2gobG9jYXRpb24gPT4gcmVnaXN0ZXIoJ0xheW91dCcsIExheW91dCwgbG9jYXRpb24udGlsZUlELCBsb2NhdGlvbikpO1xubG9jYXRpb25zLmZvckVhY2gobG9jYXRpb24gPT4gcmVnaXN0ZXIoJ1BhaW50JywgUGFpbnQsIFtsb2NhdGlvbl0sIGxvY2F0aW9uKSk7XG5yZWdpc3RlcignUXVlcnlQb2ludCcsIFF1ZXJ5UG9pbnQsIGxvY2F0aW9ucyk7XG5yZWdpc3RlcignUXVlcnlCb3gnLCBRdWVyeUJveCwgbG9jYXRpb25zKTtcblxuUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgLy8gRW5zdXJlIHRoZSBnbG9iYWwgd29ya2VyIHBvb2wgaXMgbmV2ZXIgZHJhaW5lZC4gQnJvd3NlcnMgaGF2ZSByZXNvdXJjZSBsaW1pdHNcbiAgICAvLyBvbiB0aGUgbWF4IG51bWJlciBvZiB3b3JrZXJzIHRoYXQgY2FuIGJlIGNyZWF0ZWQgcGVyIHBhZ2UuXG4gICAgLy8gV2UgZG8gdGhpcyBhc3luYyB0byBhdm9pZCBjcmVhdGluZyB3b3JrZXJzIGJlZm9yZSB0aGUgd29ya2VyIGJ1bmRsZSBibG9iXG4gICAgLy8gVVJMIGhhcyBiZWVuIHNldCB1cCwgd2hpY2ggaGFwcGVucyBhZnRlciB0aGlzIG1vZHVsZSBpcyBleGVjdXRlZC5cbiAgICBnZXRXb3JrZXJQb29sKCkuYWNxdWlyZSgtMSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbWFwYm94Z2w7XG4iLCJpbXBvcnQgTWVyY2F0b3JDb29yZGluYXRlIGZyb20gJy4uLy4uL3NyYy9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uLy4uL3NyYy9zb3VyY2UvdGlsZV9pZC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvY2F0aW9uc1dpdGhUaWxlSUQobG9jYXRpb25zKSB7XG4gICAgcmV0dXJuIGxvY2F0aW9ucy5tYXAoZmVhdHVyZSA9PiB7XG4gICAgICAgIGNvbnN0IHtjb29yZGluYXRlc30gPSBmZWF0dXJlLmdlb21ldHJ5O1xuICAgICAgICBjb25zdCB7em9vbX0gPSBmZWF0dXJlLnByb3BlcnRpZXM7XG4gICAgICAgIGNvbnN0IHt4LCB5fSA9IE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHtcbiAgICAgICAgICAgIGxuZzogY29vcmRpbmF0ZXNbMF0sXG4gICAgICAgICAgICBsYXQ6IGNvb3JkaW5hdGVzWzFdXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5wb3coMiwgem9vbSk7XG4gICAgICAgIGNvbnN0IHRpbGVYID0gTWF0aC5mbG9vcih4ICogc2NhbGUpO1xuICAgICAgICBjb25zdCB0aWxlWSA9IE1hdGguZmxvb3IoeSAqIHNjYWxlKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IGZlYXR1cmUucHJvcGVydGllc1sncGxhY2VfbmFtZSddLFxuICAgICAgICAgICAgdGlsZUlEOiBbbmV3IE92ZXJzY2FsZWRUaWxlSUQoem9vbSwgMCwgem9vbSwgdGlsZVgsIHRpbGVZKV0sXG4gICAgICAgICAgICB6b29tLFxuICAgICAgICAgICAgY2VudGVyOiBjb29yZGluYXRlc1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUge1N0eWxlU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vLi4vc3JjL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuaW1wb3J0IEJlbmNobWFyayBmcm9tICcuLi9saWIvYmVuY2htYXJrLmpzJztcbmltcG9ydCBjcmVhdGVTdHlsZUxheWVyIGZyb20gJy4uLy4uL3NyYy9zdHlsZS9jcmVhdGVfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IGRlcmVmIGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL2RlcmVmLmpzJztcbmltcG9ydCBmZXRjaFN0eWxlIGZyb20gJy4uL2xpYi9mZXRjaF9zdHlsZS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0eWxlTGF5ZXJDcmVhdGUgZXh0ZW5kcyBCZW5jaG1hcmsge1xuICAgIHN0eWxlOiBzdHJpbmcgfCBTdHlsZVNwZWNpZmljYXRpb247XG4gICAgbGF5ZXJzOiBBcnJheTxPYmplY3Q+O1xuXG4gICAgY29uc3RydWN0b3Ioc3R5bGU6IHN0cmluZyB8IFN0eWxlU3BlY2lmaWNhdGlvbikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgfVxuXG4gICAgc2V0dXAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBmZXRjaFN0eWxlKHRoaXMuc3R5bGUpXG4gICAgICAgICAgICAudGhlbihqc29uID0+IHsgdGhpcy5sYXllcnMgPSBkZXJlZihqc29uLmxheWVycyk7IH0pO1xuICAgIH1cblxuICAgIGJlbmNoKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGxheWVyIG9mIHRoaXMubGF5ZXJzKSB7XG4gICAgICAgICAgICBjcmVhdGVTdHlsZUxheWVyKGxheWVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIHtTdHlsZVNwZWNpZmljYXRpb259IGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL3R5cGVzLmpzJztcbmltcG9ydCBCZW5jaG1hcmsgZnJvbSAnLi4vbGliL2JlbmNobWFyay5qcyc7XG5pbXBvcnQge3ZhbGlkYXRlU3R5bGV9IGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL3ZhbGlkYXRlX3N0eWxlLm1pbi5qcyc7XG5pbXBvcnQgZmV0Y2hTdHlsZSBmcm9tICcuLi9saWIvZmV0Y2hfc3R5bGUuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHlsZVZhbGlkYXRlIGV4dGVuZHMgQmVuY2htYXJrIHtcbiAgICBzdHlsZTogc3RyaW5nIHwgU3R5bGVTcGVjaWZpY2F0aW9uO1xuICAgIGpzb246IFN0eWxlU3BlY2lmaWNhdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKHN0eWxlOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgIH1cblxuICAgIHNldHVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gZmV0Y2hTdHlsZSh0aGlzLnN0eWxlKVxuICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7IHRoaXMuanNvbiA9IGpzb247IH0pO1xuICAgIH1cblxuICAgIGJlbmNoKCkge1xuICAgICAgICB2YWxpZGF0ZVN0eWxlKHRoaXMuanNvbik7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IEJlbmNobWFyayBmcm9tICcuLi9saWIvYmVuY2htYXJrLmpzJztcbmltcG9ydCBjcmVhdGVNYXAgZnJvbSAnLi4vbGliL2NyZWF0ZV9tYXAuanMnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uLy4uL3NyYy91aS9tYXAuanMnO1xuXG5jb25zdCB3aWR0aCA9IDEwMjQ7XG5jb25zdCBoZWlnaHQgPSA3Njg7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXJ5Qm94IGV4dGVuZHMgQmVuY2htYXJrIHtcbiAgICBzdHlsZTogc3RyaW5nO1xuICAgIGxvY2F0aW9uczogQXJyYXk8T2JqZWN0PjtcbiAgICBtYXBzOiBBcnJheTxNYXA+O1xuXG4gICAgY29uc3RydWN0b3Ioc3R5bGU6IHN0cmluZywgbG9jYXRpb25zOiBBcnJheTxPYmplY3Q+KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbnMgPSBsb2NhdGlvbnM7XG4gICAgfVxuXG4gICAgc2V0dXAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh0aGlzLmxvY2F0aW9ucy5tYXAobG9jYXRpb24gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU1hcCh7XG4gICAgICAgICAgICAgICAgem9vbTogbG9jYXRpb24uem9vbSxcbiAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgICAgY2VudGVyOiBsb2NhdGlvbi5jZW50ZXIsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHRoaXMuc3R5bGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSlcbiAgICAgICAgICAgIC50aGVuKG1hcHMgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwcyA9IG1hcHM7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGJlbmNoKCkge1xuICAgICAgICBjb25zdCBwID0gWzAsIDBdO1xuICAgICAgICBmb3IgKGNvbnN0IG1hcCBvZiB0aGlzLm1hcHMpIHtcbiAgICAgICAgICAgIG1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMocCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0ZWFyZG93bigpIHtcbiAgICAgICAgZm9yIChjb25zdCBtYXAgb2YgdGhpcy5tYXBzKSB7XG4gICAgICAgICAgICBtYXAucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiZGVlcEVxdWFsIiwiYSIsImIiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJpIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsImV4cG9ydHMiLCJzdXBwb3J0ZWQiLCJpc1N1cHBvcnRlZCIsIm9wdGlvbnMiLCJ3aW5kb3ciLCJkb2N1bWVudCIsInByb3RvdHlwZSIsImV2ZXJ5IiwiZmlsdGVyIiwiZm9yRWFjaCIsImluZGV4T2YiLCJsYXN0SW5kZXhPZiIsIm1hcCIsInNvbWUiLCJyZWR1Y2UiLCJyZWR1Y2VSaWdodCIsIkZ1bmN0aW9uIiwiYmluZCIsImNyZWF0ZSIsImdldFByb3RvdHlwZU9mIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImlzU2VhbGVkIiwiaXNGcm96ZW4iLCJpc0V4dGVuc2libGUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJkZWZpbmVQcm9wZXJ0eSIsImRlZmluZVByb3BlcnRpZXMiLCJzZWFsIiwiZnJlZXplIiwicHJldmVudEV4dGVuc2lvbnMiLCJKU09OIiwid29ya2VyIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwid29ya2VyVVJMIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiV29ya2VyIiwiZSIsInRlcm1pbmF0ZSIsInJldm9rZU9iamVjdFVSTCIsImlzV29ya2VyU3VwcG9ydGVkIiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJjYW52YXMiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsImlzQ2FudmFzR2V0SW1hZ2VEYXRhU3VwcG9ydGVkIiwidW5kZWZpbmVkIiwiaXNXZWJHTFN1cHBvcnRlZENhY2hlIiwiZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsInNoYWRlciIsImdsIiwiYXR0cmlidXRlcyIsIndlYkdMQ29udGV4dEF0dHJpYnV0ZXMiLCJnZXRXZWJHTENvbnRleHQiLCJjcmVhdGVTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiaXNDb250ZXh0TG9zdCIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImlzV2ViR0xTdXBwb3J0ZWQiLCJkb2N1bWVudE1vZGUiLCJub3RTdXBwb3J0ZWRSZWFzb24iLCJ0YWdOYW1lIiwiY2xhc3NOYW1lIiwiY29udGFpbmVyIiwiZWwiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVNWRyIsImNyZWF0ZUVsZW1lbnROUyIsIm5hbWUiLCJzZXRBdHRyaWJ1dGVOUyIsImFudGlhbGlhcyIsImFscGhhIiwic3RlbmNpbCIsImRlcHRoIiwiZG9jU3R5bGUiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsInNlbGVjdFByb3AiLCJ1c2VyU2VsZWN0IiwiZGlzYWJsZURyYWciLCJlbmFibGVEcmFnIiwic3VwcHJlc3NDbGlja0xpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3VwcHJlc3NDbGljayIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRUaW1lb3V0IiwibW91c2VQb3MiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2V0U2NhbGVkUG9pbnQiLCJ0b3VjaFBvcyIsInRvdWNoZXMiLCJwb2ludHMiLCJwdXNoIiwibW91c2VCdXR0b24iLCJJbnN0YWxsVHJpZ2dlciIsImJ1dHRvbiIsImN0cmxLZXkiLCJuYXZpZ2F0b3IiLCJwbGF0Zm9ybSIsInRvVXBwZXJDYXNlIiwic2NhbGluZyIsIm9mZnNldFdpZHRoIiwiUG9pbnQiLCJjbGllbnRYIiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJpbnZlcnQiLCJvdXQiLCJhMCIsImExIiwiYTIiLCJhMyIsImRldCIsInJlbmRlclN0eWxlSW1hZ2UiLCJpbWFnZSIsInVzZXJJbWFnZSIsInJlbmRlciIsImRhdGEiLCJyZXBsYWNlIiwiVWludDhBcnJheSIsImJ1ZmZlciIsIkltYWdlTWFuYWdlciIsIkV2ZW50ZWQiLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwidGhpcyIsImltYWdlcyIsInVwZGF0ZWRJbWFnZXMiLCJjYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWUiLCJsb2FkZWQiLCJyZXF1ZXN0b3JzIiwicGF0dGVybnMiLCJhdGxhc0ltYWdlIiwiUkdCQUltYWdlIiwiZGlydHkiLCJpc0xvYWRlZCIsInNldExvYWRlZCIsImlkcyIsImNhbGxiYWNrIiwiX25vdGlmeSIsImhhc0ltYWdlIiwiaWQiLCJnZXRJbWFnZSIsImFkZEltYWdlIiwiX3ZhbGlkYXRlIiwidmFsaWQiLCJfdmFsaWRhdGVTdHJldGNoIiwic3RyZXRjaFgiLCJmaXJlIiwiRXJyb3JFdmVudCIsIkVycm9yIiwic3RyZXRjaFkiLCJfdmFsaWRhdGVDb250ZW50IiwiY29udGVudCIsInN0cmV0Y2giLCJzaXplIiwibGFzdCIsInBhcnQiLCJ1cGRhdGVJbWFnZSIsInZlcnNpb24iLCJyZW1vdmVJbWFnZSIsIm9uUmVtb3ZlIiwibGlzdEltYWdlcyIsImdldEltYWdlcyIsImhhc0FsbERlcGVuZGVuY2llcyIsInJlc3BvbnNlIiwiRXZlbnQiLCJjbG9uZSIsInBpeGVsUmF0aW8iLCJzZGYiLCJoYXNSZW5kZXJDYWxsYmFjayIsIkJvb2xlYW4iLCJ3YXJuT25jZSIsImdldFBpeGVsU2l6ZSIsImdldFBhdHRlcm4iLCJwYXR0ZXJuIiwicG9zaXRpb24iLCJiaW4iLCJ3IiwicGFkZGluZyIsImgiLCJ4IiwieSIsIkltYWdlUG9zaXRpb24iLCJfdXBkYXRlUGF0dGVybkF0bGFzIiwiYXRsYXNUZXh0dXJlIiwidXBkYXRlIiwiVGV4dHVyZSIsIlJHQkEiLCJMSU5FQVIiLCJDTEFNUF9UT19FREdFIiwiYmlucyIsInBvdHBhY2siLCJkc3QiLCJyZXNpemUiLCJzcmMiLCJjb3B5IiwiYmVnaW5GcmFtZSIsImRpc3BhdGNoUmVuZGVyQ2FsbGJhY2tzIiwicHJvcGVydGllcyIsIlByb3BlcnRpZXMiLCJhbmNob3IiLCJEYXRhQ29uc3RhbnRQcm9wZXJ0eSIsInN0eWxlU3BlYyIsImxpZ2h0Iiwic3BlY2lmaWNhdGlvbiIsInBvc3NpYmx5RXZhbHVhdGUiLCJ2YWx1ZSIsInBhcmFtZXRlcnMiLCJzcGhlcmljYWxUb0NhcnRlc2lhbiIsInIiLCJhemltdXRoYWwiLCJwb2xhciIsImRlZ1RvUmFkIiwicCIsIk1hdGgiLCJjb3MiLCJzaW4iLCJ6IiwiZXhwcmVzc2lvbiIsImV2YWx1YXRlIiwiaW50ZXJwb2xhdGUiLCJ0IiwibnVtYmVyIiwiY29sb3IiLCJpbnRlbnNpdHkiLCJUUkFOU0lUSU9OX1NVRkZJWCIsIkxpZ2h0IiwibGlnaHRPcHRpb25zIiwiX3RyYW5zaXRpb25hYmxlIiwiVHJhbnNpdGlvbmFibGUiLCJzZXRMaWdodCIsIl90cmFuc2l0aW9uaW5nIiwidW50cmFuc2l0aW9uZWQiLCJnZXRMaWdodCIsInNlcmlhbGl6ZSIsInZhbGlkYXRlTGlnaHQiLCJlbmRzV2l0aCIsInNldFRyYW5zaXRpb24iLCJzbGljZSIsInNldFZhbHVlIiwidXBkYXRlVHJhbnNpdGlvbnMiLCJ0cmFuc2l0aW9uZWQiLCJoYXNUcmFuc2l0aW9uIiwicmVjYWxjdWxhdGUiLCJ2YWxpZGF0ZSIsImVtaXRWYWxpZGF0aW9uRXJyb3JzIiwiY2FsbCIsInZhbGlkYXRlU3R5bGUiLCJleHRlbmQiLCJnbHlwaHMiLCJzcHJpdGUiLCJzcGVjIiwic291cmNlIiwidGVycmFpbiIsImV4YWdnZXJhdGlvbiIsIlRlcnJhaW4iLCJ0ZXJyYWluT3B0aW9ucyIsImRyYXBlUmVuZGVyTW9kZSIsInNldCIsImdldCIsImdldEZvZ09wYWNpdHkiLCJzdGF0ZSIsInBvcyIsInBpdGNoIiwiZm92IiwiZm9nUGl0Y2hPcGFjaXR5Iiwic21vb3Roc3RlcCIsInN0YXJ0IiwiZW5kIiwiZ2V0Rm92QWRqdXN0ZWRGb2dSYW5nZSIsInZlYzMiLCJmYWxsb2ZmIiwibWluIiwiZXhwIiwic2hpZnQiLCJ0YW4iLCJyYW5nZSIsImZvZ1Byb3BlcnRpZXMiLCJmb2ciLCJGb2ciLCJmb2dPcHRpb25zIiwidHJhbnNmb3JtIiwiX3RyYW5zZm9ybSIsInRyIiwiaXNHbG9iZSIsInByb2plY3Rpb24iLCJ0cmFuc2l0aW9uVCIsImdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24iLCJ6b29tIiwiZ2xvYmVGaXhlZEZvZ1JhbmdlIiwiaG9yaXpvbkJsZW5kIiwidmFsaWRhdGVGb2ciLCJkZWZhdWx0IiwiZ2V0T3BhY2l0eSIsInN1cHBvcnRzRm9nIiwiZm9nQ29sb3IiLCJnZXRPcGFjaXR5QXRMYXRMbmciLCJsbmdMYXQiLCJtZXRlcnMiLCJNZXJjYXRvckNvb3JkaW5hdGUiLCJmcm9tTG5nTGF0IiwiZWxldmF0aW9uIiwiZ2V0QXRQb2ludE9yWmVybyIsIm1lcmNhdG9yRm9nTWF0cml4IiwiX2ZvdiIsImdldEZvZ09wYWNpdHlBdExuZ0xhdCIsImdldEZvdkFkanVzdGVkUmFuZ2UiLCJEaXNwYXRjaGVyIiwid29ya2VyUG9vbCIsInBhcmVudCIsImFjdG9ycyIsImN1cnJlbnRBY3RvciIsInVuaXF1ZUlkIiwid29ya2VycyIsImFjcXVpcmUiLCJhY3RvciIsIkFjdG9yIiwicmVhZHkiLCJicm9hZGNhc3QiLCJjYiIsImFzeW5jQWxsIiwiZG9uZSIsInNlbmQiLCJnZXRBY3RvciIsInJlbW92ZSIsInJlbGVhc2UiLCJwaXhlbHNUb1RpbGVVbml0cyIsInRpbGUiLCJwaXhlbFZhbHVlIiwiRVhURU5UIiwidGlsZVNpemUiLCJwb3ciLCJ0aWxlSUQiLCJvdmVyc2NhbGVkWiIsIlF1ZXJ5R2VvbWV0cnkiLCJzY3JlZW5Cb3VuZHMiLCJjYW1lcmFQb2ludCIsImFib3ZlSG9yaXpvbiIsIl9zY3JlZW5SYXljYXN0Q2FjaGUiLCJfY2FtZXJhUmF5Y2FzdENhY2hlIiwiaXNBYm92ZUhvcml6b24iLCJzY3JlZW5HZW9tZXRyeSIsImJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkiLCJzY3JlZW5HZW9tZXRyeU1lcmNhdG9yIiwiX2J1ZmZlcmVkU2NyZWVuTWVyY2F0b3IiLCJzdGF0aWMiLCJnZW9tZXRyeSIsInB0IiwiY29udmVydCIsImlzUG9pbnRBYm92ZUhvcml6b24iLCJ0bCIsImJyIiwicG9seWdvbml6ZUJvdW5kcyIsImdldENhbWVyYVBvaW50IiwiaXNQb2ludFF1ZXJ5IiwiYnVmZmVyZWRDYW1lcmFHZW9tZXRyeSIsIm1heCIsImFkZCIsImNhbWVyYVBvbHlnb24iLCJzcGxpY2UiLCJidWZmZXJDb252ZXhQb2x5Z29uIiwiYnVmZmVyZWRDYW1lcmFHZW9tZXRyeUdsb2JlIiwiY2FtUG9zIiwiY29udGFpbnNUaWxlIiwidXNlM0QiLCJjYW1lcmFXcmFwIiwiYmlhcyIsInF1ZXJ5UGFkZGluZyIsIl9waXhlbHNQZXJNZXJjYXRvclBpeGVsIiwiY2FjaGVkUXVlcnkiLCJfYnVmZmVyZWRDYW1lcmFNZXJjYXRvciIsIndyYXAiLCJ1bndyYXBwZWQiLCJnZW9tZXRyeUZvclRpbGVDaGVjayIsInBvbHlnb24iLCJnZXRUaWxlUG9pbnQiLCJ0aWxlVHJhbnNmb3JtIiwicG9seWdvbkludGVyc2VjdHNCb3giLCJ0aWxlc3BhY2VWZWMzcyIsImdldFRpbGVWZWMzIiwidGlsZXNwYWNlR2VvbWV0cnkiLCJ2IiwiY2FtZXJhTWVyY2F0b3IiLCJnZXRGcmVlQ2FtZXJhT3B0aW9ucyIsInRpbGVzcGFjZUNhbWVyYVBvc2l0aW9uIiwidGlsZXNwYWNlUmF5cyIsInRpbGVWZWMiLCJkaXIiLCJzdWIiLCJSYXkiLCJwaXhlbFRvVGlsZVVuaXRzRmFjdG9yIiwicXVlcnlHZW9tZXRyeSIsImJ1ZmZlcmVkVGlsZXNwYWNlR2VvbWV0cnkiLCJidWZmZXJlZFRpbGVzcGFjZUJvdW5kcyIsImJvdW5kcyIsImdldEJvdW5kcyIsImNsYW1wIiwiY2FjaGVLZXkiLCJwb2x5IiwiX3Byb2plY3RBbmRSZXNhbXBsZSIsInBvaW50Q29vcmRpbmF0ZTNEIiwicG9sZVBvbHlnb24iLCJtYXRyaXgiLCJtYXQ0IiwicGl4ZWxNYXRyaXgiLCJnbG9iZU1hdHJpeCIsIm5vcnRoUG9sZSIsIkdMT0JFX1JBRElVUyIsInNvdXRoUG9sZSIsImNlbnRlciIsInZlYzQiLCJzY3JlZW5OcCIsInNjcmVlblNwIiwiY29udGFpbnNOcCIsInBvbHlnb25Db250YWluc1BvaW50IiwiY29udGFpbnNTcCIsInJlc3VsdCIsImRpcmVjdGlvbiIsImlkeCIsImZpbmRFZGdlQ3Jvc3NpbmdBbnRpbWVyaWRpYW4iLCJwYXJ0QSIsInJlc2FtcGxlUG9seWdvbiIsInBhcnRCIiwicG9pbnRHZW9tZXRyeSIsInJlc2FtcGxlZCIsImludGVyc2VjdGlvblkiLCJtaWQiLCJwcm9qZWN0UG9seWdvbkNvdmVyaW5nUG9sZXMiLCJtYXhYIiwic3RhcnRFZGdlIiwiZWRnZSIsImFicyIsImNhbWVyYVgiLCJtZXJjYXRvclhmcm9tTG5nIiwibG5nIiwidW53cmFwUXVlcnlQb2x5Z29uIiwicmVzYW1wbGUiLCJtYyIsIm1lcmNhdG9yWCIsImxvYWRUaWxlSlNPTiIsInJlcXVlc3RNYW5hZ2VyIiwibGFuZ3VhZ2UiLCJ3b3JsZHZpZXciLCJlcnIiLCJ0aWxlSlNPTiIsInVybCIsInRpbGVzIiwicGljayIsInZlY3Rvcl9sYXllcnMiLCJ2ZWN0b3JMYXllcnMiLCJ2ZWN0b3JMYXllcklkcyIsImxheWVyIiwiY2Fub25pY2FsaXplVGlsZXNldCIsImdldEpTT04iLCJ0cmFuc2Zvcm1SZXF1ZXN0Iiwibm9ybWFsaXplU291cmNlVVJMIiwiUmVzb3VyY2VUeXBlIiwiU291cmNlIiwiYnJvd3NlciIsImZyYW1lIiwiVGlsZUJvdW5kcyIsIm1pbnpvb20iLCJtYXh6b29tIiwiTG5nTGF0Qm91bmRzIiwidmFsaWRhdGVCb3VuZHMiLCJjb250YWlucyIsIndvcmxkU2l6ZSIsImxldmVsIiwiZmxvb3IiLCJnZXRXZXN0IiwibWVyY2F0b3JZZnJvbUxhdCIsImdldE5vcnRoIiwiY2VpbCIsImdldEVhc3QiLCJnZXRTb3V0aCIsIkluZGV4QnVmZmVyIiwiYXJyYXkiLCJkeW5hbWljRHJhdyIsImNyZWF0ZUJ1ZmZlciIsInVuYmluZFZBTyIsImJpbmRFbGVtZW50QnVmZmVyIiwiYnVmZmVyRGF0YSIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwiYXJyYXlCdWZmZXIiLCJEWU5BTUlDX0RSQVciLCJTVEFUSUNfRFJBVyIsImRlc3Ryb3kiLCJ1cGRhdGVEYXRhIiwiYnVmZmVyU3ViRGF0YSIsImRlbGV0ZUJ1ZmZlciIsIkF0dHJpYnV0ZVR5cGUiLCJJbnQ4IiwiVWludDgiLCJJbnQxNiIsIlVpbnQxNiIsIkludDMyIiwiVWludDMyIiwiRmxvYXQzMiIsIlZlcnRleEJ1ZmZlciIsIml0ZW1TaXplIiwiYnl0ZXNQZXJFbGVtZW50IiwiYmluZFZlcnRleEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsImVuYWJsZUF0dHJpYnV0ZXMiLCJwcm9ncmFtIiwiaiIsImF0dHJpYkluZGV4IiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJzZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyIsInZlcnRleE9mZnNldCIsIm1lbWJlciIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJjb21wb25lbnRzIiwib2Zmc2V0IiwiQmFzZVZhbHVlIiwiZ2V0RGVmYXVsdCIsImN1cnJlbnQiLCJzZXREZWZhdWx0IiwiQ2xlYXJDb2xvciIsIkNvbG9yIiwidHJhbnNwYXJlbnQiLCJjIiwiZyIsImNsZWFyQ29sb3IiLCJDbGVhckRlcHRoIiwiY2xlYXJEZXB0aCIsIkNsZWFyU3RlbmNpbCIsImNsZWFyU3RlbmNpbCIsIkNvbG9yTWFzayIsImNvbG9yTWFzayIsIkRlcHRoTWFzayIsImRlcHRoTWFzayIsIlN0ZW5jaWxNYXNrIiwic3RlbmNpbE1hc2siLCJTdGVuY2lsRnVuYyIsImZ1bmMiLCJBTFdBWVMiLCJyZWYiLCJtYXNrIiwic3RlbmNpbEZ1bmMiLCJTdGVuY2lsT3AiLCJLRUVQIiwic3RlbmNpbE9wIiwiU3RlbmNpbFRlc3QiLCJlbmFibGUiLCJTVEVOQ0lMX1RFU1QiLCJkaXNhYmxlIiwiRGVwdGhSYW5nZSIsImRlcHRoUmFuZ2UiLCJEZXB0aFRlc3QiLCJERVBUSF9URVNUIiwiRGVwdGhGdW5jIiwiTEVTUyIsImRlcHRoRnVuYyIsIkJsZW5kIiwiQkxFTkQiLCJCbGVuZEZ1bmMiLCJPTkUiLCJaRVJPIiwiYmxlbmRGdW5jIiwiQmxlbmRDb2xvciIsImJsZW5kQ29sb3IiLCJCbGVuZEVxdWF0aW9uIiwiRlVOQ19BREQiLCJibGVuZEVxdWF0aW9uIiwiQ3VsbEZhY2UiLCJDVUxMX0ZBQ0UiLCJDdWxsRmFjZVNpZGUiLCJCQUNLIiwiY3VsbEZhY2UiLCJGcm9udEZhY2UiLCJDQ1ciLCJmcm9udEZhY2UiLCJQcm9ncmFtIiwidXNlUHJvZ3JhbSIsIkFjdGl2ZVRleHR1cmVVbml0IiwiVEVYVFVSRTAiLCJhY3RpdmVUZXh0dXJlIiwiVmlld3BvcnQiLCJkcmF3aW5nQnVmZmVyV2lkdGgiLCJkcmF3aW5nQnVmZmVySGVpZ2h0Iiwidmlld3BvcnQiLCJCaW5kRnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsIkJpbmRSZW5kZXJidWZmZXIiLCJiaW5kUmVuZGVyYnVmZmVyIiwiUkVOREVSQlVGRkVSIiwiQmluZFRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJCaW5kVmVydGV4QnVmZmVyIiwiYmluZEJ1ZmZlciIsIkJpbmRFbGVtZW50QnVmZmVyIiwiQmluZFZlcnRleEFycmF5T0VTIiwidmFvIiwiZXh0VmVydGV4QXJyYXlPYmplY3QiLCJiaW5kVmVydGV4QXJyYXlPRVMiLCJQaXhlbFN0b3JlVW5wYWNrIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfQUxJR05NRU5UIiwiUGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJQaXhlbFN0b3JlVW5wYWNrRmxpcFkiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwiRnJhbWVidWZmZXJBdHRhY2htZW50IiwiQ29sb3JBdHRhY2htZW50Iiwic2V0RGlydHkiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsIkNPTE9SX0FUVEFDSE1FTlQwIiwiRGVwdGhBdHRhY2htZW50IiwiYXR0YWNobWVudCIsIkRFUFRIX0FUVEFDSE1FTlQiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRlcHRoU3RlbmNpbEF0dGFjaG1lbnQiLCJERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQiLCJGcmFtZWJ1ZmZlciIsImhhc0RlcHRoIiwiZmJvIiwiZnJhbWVidWZmZXIiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImNvbG9yQXR0YWNobWVudCIsImRlcHRoQXR0YWNobWVudCIsInRleHR1cmUiLCJkZWxldGVUZXh0dXJlIiwicmVuZGVyYnVmZmVyIiwiZGVsZXRlUmVuZGVyYnVmZmVyIiwiZGVsZXRlRnJhbWVidWZmZXIiLCJDb250ZXh0IiwiaXNXZWJHTDIiLCJnZXRFeHRlbnNpb24iLCJnbDIiLCJjcmVhdGVWZXJ0ZXhBcnJheU9FUyIsImNyZWF0ZVZlcnRleEFycmF5IiwiZGVsZXRlVmVydGV4QXJyYXlPRVMiLCJkZWxldGVWZXJ0ZXhBcnJheSIsImJpbmRWZXJ0ZXhBcnJheSIsInN0ZW5jaWxUZXN0IiwiZGVwdGhUZXN0IiwiYmxlbmQiLCJjdWxsRmFjZVNpZGUiLCJwaXhlbFN0b3JlVW5wYWNrIiwicGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEiLCJwaXhlbFN0b3JlVW5wYWNrRmxpcFkiLCJleHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMiLCJleHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXgiLCJnZXRQYXJhbWV0ZXIiLCJNQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJleHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNGb3JjZU9mZiIsImV4dFN0YW5kYXJkRGVyaXZhdGl2ZXNGb3JjZU9mZiIsImV4dERlYnVnUmVuZGVyZXJJbmZvIiwicmVuZGVyZXIiLCJVTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCIsInZlbmRvciIsIlVOTUFTS0VEX1ZFTkRPUl9XRUJHTCIsImV4dFRleHR1cmVIYWxmRmxvYXQiLCJleHRSZW5kZXJUb1RleHR1cmVIYWxmRmxvYXQiLCJleHRTdGFuZGFyZERlcml2YXRpdmVzIiwiZXh0VGltZXJRdWVyeSIsIm1heFRleHR1cmVTaXplIiwiTUFYX1RFWFRVUkVfU0laRSIsImNyZWF0ZUluZGV4QnVmZmVyIiwiY3JlYXRlVmVydGV4QnVmZmVyIiwiY3JlYXRlUmVuZGVyYnVmZmVyIiwic3RvcmFnZUZvcm1hdCIsInJibyIsInJlbmRlcmJ1ZmZlclN0b3JhZ2UiLCJjbGVhciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwiU1RFTkNJTF9CVUZGRVJfQklUIiwic2V0Q3VsbEZhY2UiLCJjdWxsRmFjZU1vZGUiLCJtb2RlIiwic2V0RGVwdGhNb2RlIiwiZGVwdGhNb2RlIiwic2V0U3RlbmNpbE1vZGUiLCJzdGVuY2lsTW9kZSIsInRlc3QiLCJmYWlsIiwiZGVwdGhGYWlsIiwicGFzcyIsInNldENvbG9yTW9kZSIsImNvbG9yTW9kZSIsImJsZW5kRnVuY3Rpb24iLCJDb2xvck1vZGUiLCJSZXBsYWNlIiwiVmVjdG9yVGlsZVNvdXJjZSIsImRpc3BhdGNoZXIiLCJldmVudGVkUGFyZW50Iiwic2NoZW1lIiwicmVwYXJzZU92ZXJzY2FsZWQiLCJpc1RpbGVDbGlwcGVkIiwiX2xvYWRlZCIsIl9vcHRpb25zIiwiX2NvbGxlY3RSZXNvdXJjZVRpbWluZyIsImNvbGxlY3RSZXNvdXJjZVRpbWluZyIsInNldEV2ZW50ZWRQYXJlbnQiLCJfdGlsZVdvcmtlcnMiLCJfZGVkdXBlZCIsIkRlZHVwZWRSZXF1ZXN0IiwibG9hZCIsImRhdGFUeXBlIiwiX2xhbmd1YWdlIiwiam9pbiIsIl93b3JsZHZpZXciLCJfdGlsZUpTT05SZXF1ZXN0IiwiX3JlcXVlc3RNYW5hZ2VyIiwiY29uc29sZSIsIndhcm4iLCJ0aWxlQm91bmRzIiwicG9zdFR1cm5zdGlsZUV2ZW50IiwiX2N1c3RvbUFjY2Vzc1Rva2VuIiwic291cmNlRGF0YVR5cGUiLCJoYXNUaWxlIiwiY2Fub25pY2FsIiwib25BZGQiLCJyZWxvYWQiLCJjYW5jZWxUaWxlSlNPTlJlcXVlc3QiLCJfY2xlYXJTb3VyY2UiLCJzZXRUaWxlcyIsInNldFVybCIsImxvYWRUaWxlIiwibm9ybWFsaXplVGlsZVVSTCIsInBhcmFtcyIsInJlcXVlc3QiLCJUaWxlIiwidWlkIiwidGlsZVpvb20iLCJvdmVyc2NhbGVGYWN0b3IiLCJleHBvcnRlZCIsImRldmljZVBpeGVsUmF0aW8iLCJzaG93Q29sbGlzaW9uQm94ZXMiLCJwcm9tb3RlSWQiLCJpc1N5bWJvbFRpbGUiLCJyZWxvYWRDYWxsYmFjayIsImNhbmNlbCIsImxvYWRWZWN0b3JUaWxlIiwiZGVkdXBlZCIsImNhY2hlQ29udHJvbCIsImV4cGlyZXMiLCJyYXdEYXRhIiwiYWJvcnRlZCIsInN0YXR1cyIsInJlc291cmNlVGltaW5nIiwiX3JlZnJlc2hFeHBpcmVkVGlsZXMiLCJzZXRFeHBpcnlEYXRhIiwibG9hZFZlY3RvckRhdGEiLCJwYWludGVyIiwiY2FjaGVFbnRyeVBvc3NpYmx5QWRkZWQiLCJhYm9ydFRpbGUiLCJ1bmxvYWRUaWxlIiwidW5sb2FkVmVjdG9yRGF0YSIsImFmdGVyVXBkYXRlIiwiUmFzdGVyVGlsZVNvdXJjZSIsInJvdW5kWm9vbSIsInVzZTJ4IiwiZXJyb3IiLCJzZXRUZXh0dXJlIiwic2F2ZVRpbGVUZXh0dXJlIiwic3VwcG9ydHNPZmZzY3JlZW5DYW52YXMiLCJiYXNpc1RvUG9pbnRzIiwieDEiLCJ5MSIsIngyIiwieTIiLCJ4MyIsInkzIiwieDQiLCJ5NCIsIm0iLCJzIiwibWEiLCJtYXQzIiwic3giLCJzeSIsInN6IiwidHJhbnNmb3JtTWF0MyIsInRyYW5zcG9zZSIsIkltYWdlU291cmNlIiwiY29vcmRpbmF0ZXMiLCJfZGlydHkiLCJuZXdDb29yZGluYXRlcyIsIl9pbWFnZVJlcXVlc3QiLCJJbWFnZSIsIkhUTUxJbWFnZUVsZW1lbnQiLCJfZmluaXNoTG9hZGluZyIsInNldENvb3JkaW5hdGVzIiwiX2JvdW5kc0FycmF5IiwiY29ybmVyQ29vcmRzIiwiY29vcmRzIiwibWluWCIsIkluZmluaXR5IiwibWluWSIsIm1heFkiLCJjb29yZCIsImRNYXgiLCJsb2ciLCJMTjIiLCJ0aWxlc0F0Wm9vbSIsIkNhbm9uaWNhbFRpbGVJRCIsImdldENvb3JkaW5hdGVzQ2VudGVyVGlsZUlEIiwiX2NsZWFyIiwiX3ByZXBhcmVEYXRhIiwidGlsZVRyIiwiYmwiLCJwcm9qZWN0ZWRDb29yZCIsInByb2plY3QiLCJfcm91bmQiLCJwZXJzcGVjdGl2ZVRyYW5zZm9ybSIsIm11bHRpcGx5JDEiLCJhZGpvaW50IiwiZ2V0UGVyc3BlY3RpdmVUcmFuc2Zvcm0iLCJib3VuZHNBcnJheSIsIlJhc3RlckJvdW5kc0FycmF5IiwiU3RydWN0QXJyYXlMYXlvdXQ0aTgiLCJlbXBsYWNlQmFjayIsImJvdW5kc0J1ZmZlciIsImJvdW5kc0F0dHJpYnV0ZXMiLCJtZW1iZXJzIiwiYm91bmRzU2VnbWVudHMiLCJTZWdtZW50VmVjdG9yIiwic2ltcGxlU2VnbWVudCIsInByZXBhcmUiLCJlcXVhbHMiLCJTdHJpbmciLCJidWNrZXRzIiwic291cmNlVHlwZXMiLCJ2ZWN0b3IiLCJyYXN0ZXIiLCJlbmNvZGluZyIsImRlbSIsIm9uRGVzZXJpYWxpemUiLCJuZWVkc0hpbGxzaGFkZVByZXBhcmUiLCJuZWVkc0RFTVRleHR1cmVVcGxvYWQiLCJpbWciLCJ0cmFuc2ZlciIsIkltYWdlQml0bWFwIiwiT2Zmc2NyZWVuQ2FudmFzIiwiY3JlYXRlSW1hZ2VCaXRtYXAiLCJwcmV2UG93ZXJPZlR3byIsIm5laWdoYm9yaW5nVGlsZXMiLCJfZ2V0TmVpZ2hib3JpbmdUaWxlcyIsInJhd0ltYWdlRGF0YSIsImRpbSIsInB4IiwicHh3IiwibngiLCJueHciLCJPdmVyc2NhbGVkVGlsZUlEIiwiYmFja2ZpbGxlZCIsImRlbVRleHR1cmUiLCJnZW9qc29uIiwiX2RhdGEiLCJhdHRyaWJ1dGlvbiIsInNjYWxlIiwid29ya2VyT3B0aW9ucyIsImNsdXN0ZXIiLCJnZW9qc29uVnRPcHRpb25zIiwidG9sZXJhbmNlIiwiZXh0ZW50IiwibWF4Wm9vbSIsImxpbmVNZXRyaWNzIiwiZ2VuZXJhdGVJZCIsInN1cGVyY2x1c3Rlck9wdGlvbnMiLCJjbHVzdGVyTWF4Wm9vbSIsIm1pblBvaW50cyIsImNsdXN0ZXJNaW5Qb2ludHMiLCJyYWRpdXMiLCJjbHVzdGVyUmFkaXVzIiwiY2x1c3RlclByb3BlcnRpZXMiLCJzZXREYXRhIiwiX3VwZGF0ZVdvcmtlckRhdGEiLCJnZXRDbHVzdGVyRXhwYW5zaW9uWm9vbSIsImNsdXN0ZXJJZCIsImdldENsdXN0ZXJDaGlsZHJlbiIsImdldENsdXN0ZXJMZWF2ZXMiLCJsaW1pdCIsIl9wZW5kaW5nTG9hZCIsIl9jb2FsZXNjZSIsInJlc29sdmVVUkwiLCJzdHJpbmdpZnkiLCJfbWV0YWRhdGFGaXJlZCIsIm1lc3NhZ2UiLCJ2aWRlbyIsInVybHMiLCJnZXRWaWRlbyIsImxvb3AiLCJzZXRBdHRyaWJ1dGUiLCJ0cmlnZ2VyUmVwYWludCIsInBsYXkiLCJwYXVzZSIsInNlZWsiLCJzZWNvbmRzIiwic2Vla2FibGVSYW5nZSIsInNlZWthYmxlIiwiVmFsaWRhdGlvbkVycm9yIiwiY3VycmVudFRpbWUiLCJyZWFkeVN0YXRlIiwicGF1c2VkIiwidGV4U3ViSW1hZ2UyRCIsIlVOU0lHTkVEX0JZVEUiLCJ2aWRlb1dpZHRoIiwidmlkZW9IZWlnaHQiLCJsIiwiYW5pbWF0ZSIsIkhUTUxDYW52YXNFbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJfaGFzSW52YWxpZERpbWVuc2lvbnMiLCJfcGxheWluZyIsImdldENhbnZhcyIsInByZW11bHRpcGx5IiwiaXNOYU4iLCJjdXN0b20iLCJpbXBsZW1lbnRhdGlvbiIsIl9kYXRhVHlwZSIsIl9kaXNwYXRjaGVyIiwiX2ltcGxlbWVudGF0aW9uIiwiX3VwZGF0ZSIsImNsZWFyVGlsZXMiLCJfY2xlYXJUaWxlcyIsImNvdmVyaW5nVGlsZXMiLCJfY292ZXJpbmdUaWxlcyIsIl9tYXAiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzaWduYWwiLCJ0aGVuIiwibG9hZFRpbGVEYXRhIiwiSW1hZ2VEYXRhIiwiaXNSYXN0ZXIiLCJjYXRjaCIsImNvZGUiLCJhYm9ydCIsInVubG9hZFRpbGVEYXRhIiwiYmluZEFsbCIsImdldFBpeGVsUG9zTWF0cml4IiwidHJhbnNsYXRlIiwiY2FsY3VsYXRlUHJvak1hdHJpeCIsInRvVW53cmFwcGVkIiwiRmxvYXQzMkFycmF5IiwiZnJvbSIsInF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyIsInNvdXJjZUNhY2hlIiwic3R5bGVMYXllcnMiLCJzZXJpYWxpemVkTGF5ZXJzIiwidXNlM0RRdWVyeSIsInZpc3VhbGl6ZVF1ZXJ5R2VvbWV0cnkiLCJ0aWxlUmVzdWx0cyIsInRpbGVzSW4iLCJzb3J0Iiwic29ydFRpbGVzSW4iLCJyZW5kZXJlZEZlYXR1cmVMYXllcnMiLCJ0aWxlUmVzdWx0Iiwid3JhcHBlZFRpbGVJRCIsIndyYXBwZWQiLCJxdWVyeVJlc3VsdHMiLCJfc3RhdGUiLCJ3cmFwcGVkSURMYXllck1hcCIsIndyYXBwZWRJRCIsIndyYXBwZWRJRExheWVycyIsImxheWVySUQiLCJ0aWxlRmVhdHVyZXMiLCJ3cmFwcGVkSURGZWF0dXJlcyIsInJlc3VsdEZlYXR1cmVzIiwidGlsZUZlYXR1cmUiLCJmZWF0dXJlSW5kZXgiLCJtZXJnZVJlbmRlcmVkRmVhdHVyZUxheWVycyIsImZlYXR1cmVXcmFwcGVyIiwiZmVhdHVyZSIsInNvdXJjZUxheWVyIiwiZ2V0RmVhdHVyZVN0YXRlIiwicXVlcnlTb3VyY2VGZWF0dXJlcyIsImdldFJlbmRlcmFibGVJZHMiLCJnZXRUaWxlQnlJRCIsImRhdGFUaWxlcyIsImRhdGFJRCIsImlkQSIsImlkQiIsIldlYldvcmtlciIsIm1hcGJveGdsIiwid29ya2VyQ2xhc3MiLCJ3b3JrZXJVcmwiLCJQUkVMT0FEX1BPT0xfSUQiLCJXb3JrZXJQb29sIiwiYWN0aXZlIiwibWFwSWQiLCJ3b3JrZXJDb3VudCIsIm51bUFjdGl2ZSIsImlzUHJlbG9hZGVkIiwiZ2xvYmFsV29ya2VyUG9vbCIsImdldEdsb2JhbFdvcmtlclBvb2wiLCJkZXJlZiIsImsiLCJyZWZQcm9wZXJ0aWVzIiwiZGVyZWZMYXllcnMiLCJsYXllcnMiLCJvcGVyYXRpb25zIiwic2V0U3R5bGUiLCJhZGRMYXllciIsInJlbW92ZUxheWVyIiwic2V0UGFpbnRQcm9wZXJ0eSIsInNldExheW91dFByb3BlcnR5Iiwic2V0RmlsdGVyIiwiYWRkU291cmNlIiwicmVtb3ZlU291cmNlIiwic2V0R2VvSlNPTlNvdXJjZURhdGEiLCJzZXRMYXllclpvb21SYW5nZSIsInNldExheWVyUHJvcGVydHkiLCJzZXRDZW50ZXIiLCJzZXRab29tIiwic2V0QmVhcmluZyIsInNldFBpdGNoIiwic2V0U3ByaXRlIiwic2V0R2x5cGhzIiwic2V0VGVycmFpbiIsInNldEZvZyIsInNldFByb2plY3Rpb24iLCJzb3VyY2VJZCIsImFmdGVyIiwiY29tbWFuZHMiLCJjb21tYW5kIiwiYXJncyIsInNvdXJjZXNSZW1vdmVkIiwidXBkYXRlU291cmNlIiwiY2FuVXBkYXRlR2VvSlNPTiIsImJlZm9yZSIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsImlzRXF1YWwiLCJkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMiLCJsYXllcklkIiwia2xhc3MiLCJwbHVja0lkIiwiaW5kZXhCeUlkIiwiZ3JvdXAiLCJQYXRoSW50ZXJwb2xhdG9yIiwicG9pbnRzXyIsInBhZGRpbmdfIiwicmVzZXQiLCJfZGlzdGFuY2VzIiwiZGlzdCIsInBhZGRlZExlbmd0aCIsImxlcnAiLCJjdXJyZW50SW5kZXgiLCJkaXN0T2ZDdXJyZW50SWR4IiwiZGlzdFRvVGFyZ2V0IiwiaWR4T2ZQcmV2UG9pbnQiLCJkaXN0T2ZQcmV2SWR4Iiwic2VnbWVudExlbmd0aCIsInNlZ21lbnRUIiwibXVsdCIsIkdyaWRJbmRleCIsImNlbGxTaXplIiwiYm94Q2VsbHMiLCJjaXJjbGVDZWxscyIsInhDZWxsQ291bnQiLCJ5Q2VsbENvdW50IiwiY2lyY2xlS2V5cyIsImJveEtleXMiLCJiYm94ZXMiLCJjaXJjbGVzIiwieFNjYWxlIiwieVNjYWxlIiwiYm94VWlkIiwiY2lyY2xlVWlkIiwia2V5c0xlbmd0aCIsImluc2VydCIsIl9mb3JFYWNoQ2VsbCIsIl9pbnNlcnRCb3hDZWxsIiwiaW5zZXJ0Q2lyY2xlIiwiX2luc2VydENpcmNsZUNlbGwiLCJjZWxsSW5kZXgiLCJfcXVlcnkiLCJoaXRUZXN0IiwicHJlZGljYXRlIiwiX3F1ZXJ5Q2VsbCIsInNlZW5VaWRzIiwiYm94IiwiY2lyY2xlIiwiX3F1ZXJ5Q2lyY2xlIiwiX3F1ZXJ5Q2VsbENpcmNsZSIsInF1ZXJ5IiwiaGl0VGVzdENpcmNsZSIsInF1ZXJ5QXJncyIsImJveENlbGwiLCJjaXJjbGVDZWxsIiwiX2NpcmNsZUFuZFJlY3RDb2xsaWRlIiwiX2NpcmNsZXNDb2xsaWRlIiwiZm4iLCJhcmcxIiwiYXJnMiIsImN4MSIsIl9jb252ZXJ0VG9YQ2VsbENvb3JkIiwiY3kxIiwiX2NvbnZlcnRUb1lDZWxsQ29vcmQiLCJjeDIiLCJjeTIiLCJyMSIsInIyIiwiZHgiLCJkeSIsImJvdGhSYWRpaSIsImNpcmNsZVgiLCJjaXJjbGVZIiwiaGFsZlJlY3RXaWR0aCIsImRpc3RYIiwiaGFsZlJlY3RIZWlnaHQiLCJkaXN0WSIsIm1heFRhbmdlbnQiLCJQSSIsImdldExhYmVsUGxhbmVNYXRyaXhGb3JSZW5kZXJpbmciLCJwb3NNYXRyaXgiLCJwaXRjaFdpdGhNYXAiLCJyb3RhdGVXaXRoTWFwIiwibG0iLCJjYWxjdWxhdGVHbG9iZUxhYmVsTWF0cml4IiwibWF0MiIsImFuZ2xlIiwibGFiZWxQbGFuZU1hdHJpeCIsImdldExhYmVsUGxhbmVNYXRyaXhGb3JQbGFjZW1lbnQiLCJnZXRHbENvb3JkTWF0cml4IiwiZ2xDb29yZE1hdHJpeCIsInh5VHJhbnNmb3JtTWF0NCIsImdldFBlcnNwZWN0aXZlUmF0aW8iLCJjYW1lcmFUb0NlbnRlckRpc3RhbmNlIiwic2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhIiwiaXNWaXNpYmxlIiwiYW5jaG9yUG9zIiwiY2xpcHBpbmdCdWZmZXIiLCJ1cGRhdGVMaW5lTGFiZWxzIiwiYnVja2V0IiwiaXNUZXh0Iiwia2VlcFVwcmlnaHQiLCJnZXRFbGV2YXRpb24iLCJzaXplRGF0YSIsInRleHRTaXplRGF0YSIsImljb25TaXplRGF0YSIsInBhcnRpYWxseUV2YWx1YXRlZFNpemUiLCJzeW1ib2xTaXplIiwiZHluYW1pY0xheW91dFZlcnRleEFycmF5IiwidGV4dCIsImljb24iLCJnbG9iZUV4dFZlcnRleEFycmF5IiwibGluZVZlcnRleEFycmF5IiwicGxhY2VkU3ltYm9scyIsInBsYWNlZFN5bWJvbEFycmF5IiwiYXNwZWN0UmF0aW8iLCJwcmV2V3JpdGluZ01vZGUiLCJ1c2VWZXJ0aWNhbCIsInN5bWJvbCIsIm51bUdseXBocyIsIndyaXRpbmdNb2RlIiwiV3JpdGluZ01vZGUiLCJ2ZXJ0aWNhbCIsImhvcml6b250YWwiLCJoaWRkZW4iLCJoaWRlR2x5cGhzIiwidGlsZUFuY2hvclBvaW50IiwidGlsZUFuY2hvclgiLCJ0aWxlQW5jaG9yWSIsInByb2plY3RUaWxlUG9pbnQiLCJkeiIsInBlcnNwZWN0aXZlUmF0aW8iLCJmb250U2l6ZSIsImV2YWx1YXRlU2l6ZUZvckZlYXR1cmUiLCJwaXRjaFNjYWxlZEZvbnRTaXplIiwibGFiZWxQbGFuZUFuY2hvclBvaW50IiwicHJvamVjdGlvbkNhY2hlIiwiZ2V0RWxldmF0aW9uRm9yUGxhY2VtZW50IiwicGxhY2VVbmZsaXBwZWQiLCJwbGFjZUdseXBoc0Fsb25nTGluZSIsImdseXBoT2Zmc2V0QXJyYXkiLCJuZWVkc0ZsaXBwaW5nIiwibm90RW5vdWdoUm9vbSIsImR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIiLCJnbG9iZUV4dFZlcnRleEJ1ZmZlciIsInBsYWNlRmlyc3RBbmRMYXN0R2x5cGgiLCJmb250U2NhbGUiLCJsaW5lT2Zmc2V0WCIsImxpbmVPZmZzZXRZIiwiZmxpcCIsImFuY2hvclBvaW50IiwicmV0dXJuUGF0aEluVGlsZUNvb3JkcyIsImxpbmVTdGFydEluZGV4IiwiZ2x5cGhTdGFydEluZGV4Iiwic2VnbWVudCIsImdseXBoRW5kSW5kZXgiLCJsaW5lRW5kSW5kZXgiLCJsaW5lTGVuZ3RoIiwiZmlyc3RHbHlwaE9mZnNldCIsImdldG9mZnNldFgiLCJsYXN0R2x5cGhPZmZzZXQiLCJmaXJzdFBsYWNlZEdseXBoIiwicGxhY2VHbHlwaEFsb25nTGluZSIsImxhc3RQbGFjZWRHbHlwaCIsImZpcnN0IiwicmVxdWlyZXNPcmllbnRhdGlvbkNoYW5nZSIsImZsaXBTdGF0ZSIsImlzSW5GbGlwUmV0YWluUmFuZ2UiLCJhZGRHbHlwaCIsImdseXBoIiwidXgiLCJ1eSIsInV6IiwidXAiLCJ1cGRhdGVHbG9iZVZlcnRleE5vcm1hbCIsInBvaW50IiwiYWRkRHluYW1pY0F0dHJpYnV0ZXMiLCJmaXJzdEFuZExhc3RHbHlwaCIsIngwIiwieTAiLCJ6MCIsInoxIiwib3JpZW50YXRpb25DaGFuZ2UiLCJnbHlwaEluZGV4IiwidGlsZVZlcnRleEluZGV4IiwidGlsZVNlZ21lbnRFbmQiLCJnZXR4IiwiZ2V0eSIsInByb2plY3RlZFZlcnRleCIsInByb2plY3RUcnVuY2F0ZWRMaW5lU2VnbWVudCIsInNpbmdsZUdseXBoIiwiZWxldmF0ZVBvaW50QW5kUHJvamVjdCIsInByZXZpb3VzVGlsZVBvaW50IiwiY3VycmVudFRpbGVQb2ludCIsInByZXZpb3VzUHJvamVjdGVkUG9pbnQiLCJtaW5pbXVtTGVuZ3RoIiwicHJvamVjdGlvbk1hdHJpeCIsInByb2plY3RlZFVuaXQiLCJfdW5pdCIsIl9hZGQiLCJzY2FsZUFuZEFkZCIsIm9mZnNldFgiLCJhbmNob3JTZWdtZW50IiwiZW5kR2x5cGgiLCJyZXByb2plY3Rpb24iLCJjb21iaW5lZE9mZnNldFgiLCJwcmV2IiwiZGlzdGFuY2VUb1ByZXYiLCJjdXJyZW50U2VnbWVudERpc3RhbmNlIiwiYWJzT2Zmc2V0WCIsInBhdGhWZXJ0aWNlcyIsInRpbGVQYXRoIiwiY3VycmVudFZlcnRleCIsInByZXZWZXJ0ZXgiLCJnZXRUcnVuY2F0ZWRMaW5lU2VnbWVudCIsImRpc3RhbmNlIiwic2VnbWVudEludGVycG9sYXRpb25UIiwidGlsZVBvaW50IiwiX211bHQiLCJwcmV2VG9DdXJyZW50IiwibGFiZWxQbGFuZVBvaW50IiwiYXhpc1oiLCJkaWZmWCIsImRpZmZZIiwidXBWZWN0b3IiLCJheGlzWCIsImF4aXNZIiwiY3Jvc3MiLCJkb3QiLCJvZmZzZXREaXIiLCJzZWdtZW50QW5nbGUiLCJhdGFuMiIsInBhdGgiLCJudW0iLCJmbG9hdDMyIiwiZmlsbCIsInZpZXdwb3J0UGFkZGluZyIsIkNvbGxpc2lvbkluZGV4IiwiZm9nU3RhdGUiLCJncmlkIiwiR3JpZCIsImlnbm9yZWRHcmlkIiwicGl0Y2hmYWN0b3IiLCJfcGl0Y2giLCJzY3JlZW5SaWdodEJvdW5kYXJ5Iiwic2NyZWVuQm90dG9tQm91bmRhcnkiLCJncmlkUmlnaHRCb3VuZGFyeSIsImdyaWRCb3R0b21Cb3VuZGFyeSIsInBsYWNlQ29sbGlzaW9uQm94IiwiY29sbGlzaW9uQm94IiwiYWxsb3dPdmVybGFwIiwidGV4dFBpeGVsUmF0aW8iLCJjb2xsaXNpb25Hcm91cFByZWRpY2F0ZSIsImFuY2hvclgiLCJwcm9qZWN0ZWRBbmNob3JYIiwiYW5jaG9yWSIsInByb2plY3RlZEFuY2hvclkiLCJhbmNob3JaIiwicHJvamVjdGVkQW5jaG9yWiIsImdldFByb2plY3Rpb24iLCJ1cFNjYWxlIiwidXBWZWN0b3JTY2FsZSIsImxhdCIsIm1ldGVyc1RvVGlsZSIsInByb2plY3RlZFBvaW50IiwicHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8iLCJ0aWxlVG9WaWV3cG9ydCIsInRsWCIsInRsWSIsImJyWCIsImJyWSIsImlzQ2xpcHBlZCIsIm9jY2x1ZGVkIiwiaXNJbnNpZGVHcmlkIiwib2Zmc2NyZWVuIiwiaXNPZmZzY3JlZW4iLCJwbGFjZUNvbGxpc2lvbkNpcmNsZXMiLCJsYWJlbFRvU2NyZWVuTWF0cml4Iiwic2hvd0NvbGxpc2lvbkNpcmNsZXMiLCJjaXJjbGVQaXhlbERpYW1ldGVyIiwidGV4dFBpeGVsUGFkZGluZyIsInBsYWNlZENvbGxpc2lvbkNpcmNsZXMiLCJnZXRBdFRpbGVPZmZzZXRGdW5jIiwidGlsZVVuaXRBbmNob3JQb2ludCIsInNjcmVlbkFuY2hvclBvaW50IiwibGFiZWxQbGFuZUZvbnRTY2FsZSIsIk9ORV9FTSIsInN5bWJvbFByb2plY3Rpb24iLCJjb2xsaXNpb25EZXRlY3RlZCIsImluR3JpZCIsImVudGlyZWx5T2Zmc2NyZWVuIiwic2NyZWVuUGxhbmVNaW4iLCJzY3JlZW5QbGFuZU1heCIsImludGVycG9sYXRvciIsImZpcnN0TGVuIiwicHJvamVjdGVkUGF0aCIsImNpcmNsZURpc3QiLCJpbmRleCIsInNlZ21lbnRzIiwibWlueCIsIm1heHgiLCJtaW55IiwibWF4eSIsImNsaXBMaW5lIiwic2VnIiwibnVtQ2lyY2xlcyIsImNpcmNsZVBvc2l0aW9uIiwiY2VudGVyWCIsImNlbnRlclkiLCJxdWVyeVJlbmRlcmVkU3ltYm9scyIsInZpZXdwb3J0UXVlcnlHZW9tZXRyeSIsImdyaWRQb2ludCIsImZlYXR1cmVzIiwiY29uY2F0Iiwic2VlbkZlYXR1cmVzIiwiZmVhdHVyZUtleSIsImJ1Y2tldEluc3RhbmNlSWQiLCJiYm94IiwiaW50ZXJzZWN0aW9uVGVzdHMiLCJwb2x5Z29uSW50ZXJzZWN0c1BvbHlnb24iLCJpbnNlcnRDb2xsaXNpb25Cb3giLCJpZ25vcmVQbGFjZW1lbnQiLCJjb2xsaXNpb25Hcm91cElEIiwiaW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcyIsImNvbGxpc2lvbkNpcmNsZXMiLCJjaGVja09jY2x1c2lvbiIsImJ1Y2tldFByb2plY3Rpb24iLCJiZWhpbmRGb2ciLCJmb2dPcGFjaXR5IiwidGlsZUlkIiwibWF0IiwiY2FsY3VsYXRlRm9nVGlsZU1hdHJpeCIsImdldEZvZ09wYWNpdHlBdFRpbGVDb29yZCIsImdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UiLCJnZXRWaWV3cG9ydE1hdHJpeCIsInJlY29uc3RydWN0VGlsZU1hdHJpeCIsInRpbGVNYXRyaXgiLCJjcmVhdGVUaWxlTWF0cml4IiwicHJvak1hdHJpeCIsImdldENvbGxpc2lvbkRlYnVnVGlsZVByb2plY3Rpb25NYXRyaXgiLCJnZXRTeW1ib2xUaWxlUHJvamVjdGlvbk1hdHJpeCIsIk9wYWNpdHlTdGF0ZSIsInByZXZTdGF0ZSIsImluY3JlbWVudCIsInBsYWNlZCIsInNraXBGYWRlIiwib3BhY2l0eSIsImlzSGlkZGVuIiwiSm9pbnRPcGFjaXR5U3RhdGUiLCJwbGFjZWRUZXh0IiwicGxhY2VkSWNvbiIsImNsaXBwZWQiLCJKb2ludFBsYWNlbWVudCIsIkNvbGxpc2lvbkNpcmNsZUFycmF5IiwiaW52UHJvak1hdHJpeCIsInZpZXdwb3J0TWF0cml4IiwiUmV0YWluZWRRdWVyeURhdGEiLCJzb3VyY2VMYXllckluZGV4IiwiYnVja2V0SW5kZXgiLCJDb2xsaXNpb25Hcm91cHMiLCJjcm9zc1NvdXJjZUNvbGxpc2lvbnMiLCJtYXhHcm91cElEIiwiY29sbGlzaW9uR3JvdXBzIiwic291cmNlSUQiLCJJRCIsIm5leHRHcm91cElEIiwiY2FsY3VsYXRlVmFyaWFibGVMYXlvdXRTaGlmdCIsInRleHRPZmZzZXQiLCJ0ZXh0U2NhbGUiLCJob3Jpem9udGFsQWxpZ24iLCJ2ZXJ0aWNhbEFsaWduIiwiZ2V0QW5jaG9yQWxpZ25tZW50Iiwic2hpZnRYIiwic2hpZnRZIiwiZXZhbHVhdGVWYXJpYWJsZU9mZnNldCIsIm9mZnNldFNoaWZ0IiwiX3JvdGF0ZSIsIlBsYWNlbWVudCIsImZhZGVEdXJhdGlvbiIsInByZXZQbGFjZW1lbnQiLCJjb2xsaXNpb25JbmRleCIsInBsYWNlbWVudHMiLCJvcGFjaXRpZXMiLCJ2YXJpYWJsZU9mZnNldHMiLCJzdGFsZSIsImNvbW1pdFRpbWUiLCJyZXRhaW5lZFF1ZXJ5RGF0YSIsImNvbGxpc2lvbkNpcmNsZUFycmF5cyIsInBsYWNlZE9yaWVudGF0aW9ucyIsImdldEJ1Y2tldFBhcnRzIiwicmVzdWx0cyIsInN0eWxlTGF5ZXIiLCJzb3J0QWNyb3NzVGlsZXMiLCJzeW1ib2xCdWNrZXQiLCJnZXRCdWNrZXQiLCJidWNrZXRGZWF0dXJlSW5kZXgiLCJsYXRlc3RGZWF0dXJlSW5kZXgiLCJsYXllcklkcyIsImxheW91dCIsImNvbGxpc2lvbkJveEFycmF5IiwidW53cmFwcGVkVGlsZUlEIiwiY29tcGlsZUZpbHRlciIsImR5bmFtaWNGaWx0ZXIiLCJkeW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlIiwicGl4ZWxzVG9UaWxlcyIsImNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4IiwidGV4dExhYmVsUGxhbmVNYXRyaXgiLCJnbE1hdHJpeCIsIm11bHRpcGx5IiwiY2xpcHBpbmdEYXRhIiwiaG9sZGluZ0ZvckZhZGUiLCJwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZSIsImV2YWx1YXRlU2l6ZUZvclpvb20iLCJwYXJ0aWFsbHlFdmFsdWF0ZWRJY29uU2l6ZSIsImNvbGxpc2lvbkdyb3VwIiwic29ydEtleVJhbmdlcyIsInNvcnRLZXkiLCJzeW1ib2xJbnN0YW5jZVN0YXJ0Iiwic3ltYm9sSW5zdGFuY2VFbmQiLCJzeW1ib2xJbnN0YW5jZXMiLCJhdHRlbXB0QW5jaG9yUGxhY2VtZW50IiwidGV4dEJveCIsInRleHRBbGxvd092ZXJsYXAiLCJzeW1ib2xJbnN0YW5jZSIsImJveEluZGV4Iiwib3JpZW50YXRpb24iLCJpY29uQm94IiwidGV4dFNpemUiLCJpY29uU2l6ZSIsInRleHRPZmZzZXQwIiwidGV4dE9mZnNldDEiLCJjcm9zc1RpbGVJRCIsInBsYWNlZEdseXBoQm94ZXMiLCJnZXRTeW1ib2xJbnN0YW5jZUljb25TaXplIiwicGxhY2VkSWNvblN5bWJvbEluZGV4IiwicHJldkFuY2hvciIsIm1hcmtVc2VkSnVzdGlmaWNhdGlvbiIsImFsbG93VmVydGljYWxQbGFjZW1lbnQiLCJtYXJrVXNlZE9yaWVudGF0aW9uIiwicGxhY2VMYXllckJ1Y2tldFBhcnQiLCJidWNrZXRQYXJ0Iiwic2VlbkNyb3NzVGlsZUlEcyIsInVwZGF0ZUNvbGxpc2lvbkJveElmTmVjZXNzYXJ5IiwidGV4dE9wdGlvbmFsIiwiaWNvbk9wdGlvbmFsIiwiaWNvbkFsbG93T3ZlcmxhcCIsImhhc0ljb25UZXh0Rml0Iiwiek9yZGVyQnlWaWV3cG9ydFkiLCJhbHdheXNTaG93VGV4dCIsImhhc0ljb25EYXRhIiwiYWx3YXlzU2hvd0ljb24iLCJoYXNUZXh0RGF0YSIsImNvbGxpc2lvbkFycmF5cyIsImRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMiLCJ1cGRhdGVDb2xsaXNpb25EZWJ1Z0J1ZmZlcnMiLCJwbGFjZVN5bWJvbCIsIm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyIsImdsb2JhbHMiLCJsb2FkRmVhdHVyZSIsImxheW91dFZlcnRleEFycmF5T2Zmc2V0IiwiZmlsdGVyRnVuYyIsImNhbGN1bGF0ZURpc3RhbmNlVGlsZURhdGEiLCJwbGFjZVRleHQiLCJwbGFjZUljb24iLCJ0ZXh0T2NjbHVkZWQiLCJpY29uT2NjbHVkZWQiLCJwbGFjZWRWZXJ0aWNhbFRleHQiLCJwbGFjZWRHbHlwaENpcmNsZXMiLCJwbGFjZWRJY29uQm94ZXMiLCJ0ZXh0RmVhdHVyZUluZGV4IiwidmVydGljYWxUZXh0RmVhdHVyZUluZGV4IiwiaWNvbkZlYXR1cmVJbmRleCIsInVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzIiwidXBkYXRlQm94RGF0YSIsImdldEF0VGlsZU9mZnNldCIsInVwZGF0ZVByZXZpb3VzT3JpZW50YXRpb25JZk5vdFBsYWNlZCIsImlzUGxhY2VkIiwicHJldmlvdXNPcmllbnRhdGlvbiIsInByZXZQbGFjZWRPcmllbnRhdGlvbiIsInBsYWNlVGV4dEZvclBsYWNlbWVudE1vZGVzIiwicGxhY2VIb3Jpem9udGFsRm4iLCJwbGFjZVZlcnRpY2FsRm4iLCJ2ZXJ0aWNhbFRleHRCb3giLCJwbGFjZW1lbnRNb2RlIiwid3JpdGluZ01vZGVzIiwiYW5jaG9ycyIsInByZXZPZmZzZXRzIiwidW5zaGlmdCIsInBsYWNlQm94Rm9yVmFyaWFibGVBbmNob3JzIiwiY29sbGlzaW9uVGV4dEJveCIsImNvbGxpc2lvbkljb25Cb3giLCJnZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplIiwidmFyaWFibGVJY29uQm94IiwicGxhY2VkQm94IiwicGxhY2VtZW50QXR0ZW1wdHMiLCJ2ZXJ0aWNhbEljb25Cb3giLCJwcmV2T3JpZW50YXRpb24iLCJwcmV2T2Zmc2V0IiwicGxhY2VCb3giLCJwbGFjZWRGZWF0dXJlIiwicGxhY2VkU3ltYm9sIiwiY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4IiwidmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgiLCJjb2xsaXNpb25DaXJjbGVEaWFtZXRlciIsInBsYWNlSWNvbkZlYXR1cmUiLCJzaGlmdFBvaW50IiwiaWNvblNjYWxlIiwiaWNvbldpdGhvdXRUZXh0IiwibnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXMiLCJ0ZXh0V2l0aG91dEljb24iLCJudW1JY29uVmVydGljZXMiLCJjaXJjbGVBcnJheSIsIm5vdEdsb2JlIiwianVzdFJlbG9hZGVkIiwic3ltYm9sSW5kZXhlcyIsImdldFNvcnRlZFN5bWJvbEluZGV4ZXMiLCJzeW1ib2xJbmRleCIsInBsYWNlZEFuY2hvciIsImxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgiLCJyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCIsInJpZ2h0IiwianVzdGlmaWNhdGlvbiIsImdldEFuY2hvckp1c3RpZmljYXRpb24iLCJhdXRvSW5kZXgiLCJob3Jpem9udGFsT3JpZW50YXRpb24iLCJob3Jpem9udGFsT25seSIsInZlcnRpY2FsT3JpZW50YXRpb24iLCJwbGFjZWRPcmllbnRhdGlvbiIsImNvbW1pdCIsIm5vdyIsInpvb21BdExhc3RSZWNlbmN5Q2hlY2siLCJwbGFjZW1lbnRDaGFuZ2VkIiwicHJldlpvb21BZGp1c3RtZW50Iiwiem9vbUFkanVzdG1lbnQiLCJzeW1ib2xGYWRlQ2hhbmdlIiwicHJldk9wYWNpdGllcyIsInByZXZPcmllbnRhdGlvbnMiLCJqb2ludFBsYWNlbWVudCIsInByZXZPcGFjaXR5Iiwiam9pbnRPcGFjaXR5IiwibGFzdFBsYWNlbWVudENoYW5nZVRpbWUiLCJ1cGRhdGVMYXllck9wYWNpdGllcyIsInVwZGF0ZUJ1Y2tldE9wYWNpdGllcyIsIm9wYWNpdHlWZXJ0ZXhBcnJheSIsImhhc0ljb25Db2xsaXNpb25Cb3hEYXRhIiwiaWNvbkNvbGxpc2lvbkJveCIsImNvbGxpc2lvblZlcnRleEFycmF5IiwiaGFzVGV4dENvbGxpc2lvbkJveERhdGEiLCJ0ZXh0Q29sbGlzaW9uQm94IiwiaGFzQ2xpcHBpbmciLCJkdXBsaWNhdGVPcGFjaXR5U3RhdGUiLCJ2YXJpYWJsZVBsYWNlbWVudCIsImRlZmF1bHRPcGFjaXR5U3RhdGUiLCJhZGRPcGFjaXRpZXMiLCJpY29uT3JUZXh0IiwibnVtVmVydGljZXMiLCJ2aXNpYmxlSW5zdGFuY2VDb3VudCIsIm9wYWNpdHlTdGF0ZSIsImhhc1RleHQiLCJoYXNJY29uIiwiaG9yaXpvbnRhbEhpZGRlbiIsInZlcnRpY2FsSGlkZGVuIiwicGFja2VkT3BhY2l0eSIsInBhY2tPcGFjaXR5IiwiUEFDS0VEX0hJRERFTl9PUEFDSVRZIiwic3ltYm9sSGlkZGVuIiwiaG9yaXpvbnRhbEhpZGRlblZhbHVlIiwidmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXgiLCJpY29uSGlkZGVuIiwibnVtVmVydGljYWxJY29uVmVydGljZXMiLCJ1c2VkIiwidmFyaWFibGVPZmZzZXQiLCJ1cGRhdGVDb2xsaXNpb25WZXJ0aWNlcyIsInZlcnRpY2FsSWNvblVzZWQiLCJmdWxseUNsaXBwZWQiLCJzb3J0RmVhdHVyZXMiLCJmZWF0dXJlU29ydE9yZGVyIiwib3BhY2l0eVZlcnRleEJ1ZmZlciIsImNvbGxpc2lvblZlcnRleEJ1ZmZlciIsImluc3RhbmNlIiwicGxhY2VtZW50SW52UHJvak1hdHJpeCIsInBsYWNlbWVudFZpZXdwb3J0TWF0cml4IiwiY29sbGlzaW9uQ2lyY2xlQXJyYXkiLCJoYXNUcmFuc2l0aW9ucyIsInN0aWxsUmVjZW50IiwiZHVyYXRpb25BZGp1c3RtZW50Iiwic2V0U3RhbGUiLCJub3RVc2VkIiwic2hpZnQyNSIsInNoaWZ0MjQiLCJzaGlmdDE3Iiwic2hpZnQxNiIsInNoaWZ0OSIsInNoaWZ0OCIsInNoaWZ0MSIsInRhcmdldEJpdCIsIm9wYWNpdHlCaXRzIiwiTGF5ZXJQbGFjZW1lbnQiLCJfc29ydEFjcm9zc1RpbGVzIiwiY29uc3RhbnRPciIsIl9jdXJyZW50VGlsZUluZGV4IiwiX2N1cnJlbnRQYXJ0SW5kZXgiLCJfc2VlbkNyb3NzVGlsZUlEcyIsIl9idWNrZXRQYXJ0cyIsImNvbnRpbnVlUGxhY2VtZW50IiwicGxhY2VtZW50Iiwic2hvdWxkUGF1c2VQbGFjZW1lbnQiLCJidWNrZXRQYXJ0cyIsIlBhdXNlYWJsZVBsYWNlbWVudCIsIm9yZGVyIiwiZm9yY2VGdWxsUGxhY2VtZW50IiwiX2N1cnJlbnRQbGFjZW1lbnRJbmRleCIsIl9mb3JjZUZ1bGxQbGFjZW1lbnQiLCJfc2hvd0NvbGxpc2lvbkJveGVzIiwiX2RvbmUiLCJpc0RvbmUiLCJsYXllclRpbGVzIiwic3RhcnRUaW1lIiwiZWxhcHNlZFRpbWUiLCJwbGFjZW1lbnRab29tIiwiX2luUHJvZ3Jlc3NMYXllciIsInJvdW5kaW5nRmFjdG9yIiwiVGlsZUxheWVySW5kZXgiLCJpbmRleGVkU3ltYm9sSW5zdGFuY2VzIiwiZ2V0U2NhbGVkQ29vcmRpbmF0ZXMiLCJjaGlsZFRpbGVJRCIsImZpbmRNYXRjaGVzIiwibmV3VGlsZUlEIiwiem9vbUNyb3NzVGlsZUlEcyIsImluZGV4ZWRJbnN0YW5jZXMiLCJzY2FsZWRTeW1ib2xDb29yZCIsInRoaXNUaWxlU3ltYm9sIiwiQ3Jvc3NUaWxlSURzIiwibWF4Q3Jvc3NUaWxlSUQiLCJnZW5lcmF0ZSIsIkNyb3NzVGlsZVN5bWJvbExheWVySW5kZXgiLCJpbmRleGVzIiwidXNlZENyb3NzVGlsZUlEcyIsImhhbmRsZVdyYXBKdW1wIiwid3JhcERlbHRhIiwicm91bmQiLCJ6b29tSW5kZXhlcyIsIm5ld1pvb21JbmRleCIsInVud3JhcFRvIiwiYWRkQnVja2V0IiwiY3Jvc3NUaWxlSURzIiwicmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzIiwiTnVtYmVyIiwiY2hpbGRJbmRleCIsImlzQ2hpbGRPZiIsInBhcmVudEluZGV4Iiwic2NhbGVkVG8iLCJyZW1vdmVkQnVja2V0IiwicmVtb3ZlU3RhbGVCdWNrZXRzIiwiY3VycmVudElEcyIsInRpbGVzQ2hhbmdlZCIsInRpbGVLZXkiLCJDcm9zc1RpbGVTeW1ib2xJbmRleCIsImxheWVySW5kZXhlcyIsIm1heEJ1Y2tldEluc3RhbmNlSWQiLCJidWNrZXRzSW5DdXJyZW50UGxhY2VtZW50IiwibGF5ZXJJbmRleCIsInN5bWJvbEJ1Y2tldHNDaGFuZ2VkIiwiY3VycmVudEJ1Y2tldElEcyIsInBydW5lVW51c2VkTGF5ZXJzIiwidXNlZExheWVycyIsInVzZWRMYXllck1hcCIsInVzZWRMYXllciIsImV2ZW50ZWQiLCJlcnJvcnMiLCJfZW1pdFZhbGlkYXRpb25FcnJvcnMiLCJpZGVudGlmaWVyIiwic3VwcG9ydGVkRGlmZk9wZXJhdGlvbnMiLCJkaWZmT3BlcmF0aW9ucyIsImlnbm9yZWREaWZmT3BlcmF0aW9ucyIsImVtcHR5Iiwic291cmNlcyIsImRyYXBlZExheWVycyIsImxpbmUiLCJiYWNrZ3JvdW5kIiwiaGlsbHNoYWRlIiwiU3R5bGUiLCJnZXRXb3JrZXJQb29sIiwiaW1hZ2VNYW5hZ2VyIiwiZ2x5cGhNYW5hZ2VyIiwiR2x5cGhNYW5hZ2VyIiwibG9jYWxGb250RmFtaWx5IiwiTG9jYWxHbHlwaE1vZGUiLCJhbGwiLCJsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHkiLCJpZGVvZ3JhcGhzIiwibm9uZSIsImNyb3NzVGlsZVN5bWJvbEluZGV4IiwiX2xheWVycyIsIl9udW0zRExheWVycyIsIl9udW1TeW1ib2xMYXllcnMiLCJfbnVtQ2lyY2xlTGF5ZXJzIiwiX3NlcmlhbGl6ZWRMYXllcnMiLCJfc291cmNlQ2FjaGVzIiwiX290aGVyU291cmNlQ2FjaGVzIiwiX3N5bWJvbFNvdXJjZUNhY2hlcyIsIl9hdmFpbGFibGVJbWFnZXMiLCJfb3JkZXIiLCJfZHJhcGVkRmlyc3RPcmRlciIsIl9tYXJrZXJzTmVlZFVwZGF0ZSIsIl9yZXNldFVwZGF0ZXMiLCJnZXRSZWZlcnJlciIsInNlbGYiLCJfcnRsVGV4dFBsdWdpbkNhbGxiYWNrIiwicmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZSIsImV2ZW50IiwicGx1Z2luU3RhdHVzIiwicGx1Z2luVVJMIiwidHJpZ2dlclBsdWdpbkNvbXBsZXRpb25FdmVudCIsImVsZW0iLCJzb3VyY2VDYWNoZVR5cGUiLCJnZXRTb3VyY2UiLCJvbiIsIl92YWxpZGF0ZUxheWVyIiwibG9hZFVSTCIsImlzTWFwYm94VVJMIiwibm9ybWFsaXplU3R5bGVVUkwiLCJhY2Nlc3NUb2tlbiIsIl9yZXF1ZXN0IiwianNvbiIsIl9sb2FkIiwibG9hZEpTT04iLCJsb2FkRW1wdHkiLCJfdXBkYXRlTGF5ZXJDb3VudCIsImNvdW50IiwiaXMzRCIsInN0eWxlc2hlZXQiLCJfdXBkYXRlTWFwUHJvamVjdGlvbiIsIl9jaGFuZ2VkIiwiX2xvYWRTcHJpdGUiLCJzZXRVUkwiLCJjcmVhdGVTdHlsZUxheWVyIiwiX3NlcmlhbGl6ZUxheWVycyIsInRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSIsIl9jcmVhdGVUZXJyYWluIiwiX2NyZWF0ZUZvZyIsIl91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzIiwiYXBwbHlQcm9qZWN0aW9uVXBkYXRlIiwicHJvamVjdGlvbk9wdGlvbnMiLCJyZXF1aXJlc0RyYXBpbmciLCJnZXRUZXJyYWluIiwic2V0VGVycmFpbkZvckRyYXBpbmciLCJfdXNlRXhwbGljaXRQcm9qZWN0aW9uIiwiX3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uIiwiX3Nwcml0ZVJlcXVlc3QiLCJiYXNlVVJMIiwiZm9ybWF0IiwianNvblJlcXVlc3QiLCJub3JtYWxpemVTcHJpdGVVUkwiLCJTcHJpdGVKU09OIiwibWF5YmVDb21wbGV0ZSIsImltYWdlUmVxdWVzdCIsIlNwcml0ZUltYWdlIiwibG9hZFNwcml0ZSIsIl91cGRhdGVkU291cmNlcyIsIl9vcHRpbWl6ZUZvclRlcnJhaW4iLCJpc0xheWVyRHJhcGVkIiwiX2NoZWNrTG9hZGVkIiwiY2hhbmdlZCIsInVwZGF0ZWRJZHMiLCJfdXBkYXRlZExheWVycyIsInJlbW92ZWRJZHMiLCJfcmVtb3ZlZExheWVycyIsIl91cGRhdGVXb3JrZXJMYXllcnMiLCJhY3Rpb24iLCJfcmVsb2FkU291cmNlIiwiX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcyIsIl91cGRhdGVkUGFpbnRQcm9wcyIsInNvdXJjZXNVc2VkQmVmb3JlIiwiX2dldExheWVyU291cmNlQ2FjaGUiLCJwcm9ncmFtSWRzIiwiZ2V0UHJvZ3JhbUlkcyIsInByb2dyYW1Db25maWd1cmF0aW9uIiwiZ2V0UHJvZ3JhbUNvbmZpZ3VyYXRpb24iLCJwcm9ncmFtSWQiLCJfdXBkYXRlTWFya2Vyc09wYWNpdHkiLCJjaGFuZ2VkSW1hZ2VzIiwiX2NoYW5nZWRJbWFnZXMiLCJyZWxvYWRUaWxlc0ZvckRlcGVuZGVuY2llcyIsInNldFN0YXRlIiwibmV4dFN0YXRlIiwiY2hhbmdlcyIsImJlYXJpbmciLCJ0cmFuc2l0aW9uIiwicmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcyIsImRpZmZTb3VyY2VzIiwiYmVmb3JlTGF5ZXJzIiwiYmVmb3JlVGVycmFpbiIsImJlZm9yZU9yZGVyIiwiYWZ0ZXJPcmRlciIsImJlZm9yZUluZGV4IiwiYWZ0ZXJJbmRleCIsInRyYWNrZXIiLCJjbGVhbiIsImQiLCJiZWZvcmVMYXllciIsImFmdGVyTGF5ZXIiLCJpbnNlcnRCZWZvcmVMYXllcklkIiwicGFpbnQiLCJkaWZmTGF5ZXJzIiwiZGlmZlN0eWxlcyIsIm9wIiwidW5pbXBsZW1lbnRlZE9wcyIsImFwcGx5IiwiX2FmdGVySW1hZ2VVcGRhdGVkIiwidmFsaWRhdGVTb3VyY2UiLCJzb3VyY2VJbnN0YW5jZSIsImNyZWF0ZVNvdXJjZSIsImlzU291cmNlTG9hZGVkIiwiX2lzU291cmNlQ2FjaGVMb2FkZWQiLCJhZGRTb3VyY2VDYWNoZSIsIm9ubHlTeW1ib2xzIiwic291cmNlQ2FjaGVJZCIsIlNvdXJjZUNhY2hlIiwic291cmNlQ2FjaGVzIiwiX2dldFNvdXJjZUNhY2hlcyIsIl9nZXRTb3VyY2VDYWNoZSIsIl9nZXRTb3VyY2VzIiwibGF5ZXJPYmplY3QiLCJnZXRMYXllciIsInZhbGlkYXRlQ3VzdG9tU3R5bGVMYXllciIsInZhbGlkYXRlTGF5ZXIiLCJhcnJheUluZGV4IiwiX2xheWVyT3JkZXJDaGFuZ2VkIiwicmVtb3ZlZCIsIl91cGRhdGVMYXllciIsIm1vdmVMYXllciIsIm5ld0luZGV4IiwiaGFzTGF5ZXIiLCJoYXNMYXllclR5cGUiLCJ2YWxpZGF0ZUZpbHRlciIsImxheWVyVHlwZSIsImdldEZpbHRlciIsImdldExheW91dFByb3BlcnR5IiwiZ2V0UGFpbnRQcm9wZXJ0eSIsInNldEZlYXR1cmVTdGF0ZSIsInRhcmdldCIsInNvdXJjZVR5cGUiLCJyZW1vdmVGZWF0dXJlU3RhdGUiLCJnZXRUcmFuc2l0aW9uIiwiZHVyYXRpb24iLCJkZWxheSIsImNhY2hlSWQiLCJmaWx0ZXJPYmplY3QiLCJtZXRhZGF0YSIsImludmFsaWRhdGVDb21waWxlZEZpbHRlciIsIl9mbGF0dGVuQW5kU29ydFJlbmRlcmVkRmVhdHVyZXMiLCJzb3VyY2VSZXN1bHRzIiwiaXNMYXllcjNEIiwiZmVhdHVyZXMzRCIsInNvdXJjZVJlc3VsdCIsImxheWVyRmVhdHVyZXMiLCJpbnRlcnNlY3Rpb25aIiwidG9wbW9zdDNEIiwicG9wIiwiaW5jbHVkZWRTb3VyY2VzIiwiYXZhaWxhYmxlSW1hZ2VzIiwiaGFzM0RMYXllciIsImhhczNETGF5ZXJzIiwicXVlcnlHZW9tZXRyeVN0cnVjdCIsImNyZWF0ZUZyb21TY3JlZW5Qb2ludHMiLCJfc2hvd1F1ZXJ5R2VvbWV0cnkiLCJnZXRMYXllclNvdXJjZUNhY2hlIiwicmVuZGVyZWRTeW1ib2xzIiwiYnVja2V0UXVlcnlEYXRhIiwicXVlcnlEYXRhIiwiYnVja2V0U3ltYm9scyIsImxvb2t1cFN5bWJvbEZlYXR1cmVzIiwibGF5ZXJTeW1ib2xzIiwic29ydGVkQSIsInN5bWJvbEZlYXR1cmUiLCJsYXllck5hbWUiLCJhZGRTb3VyY2VUeXBlIiwiU291cmNlVHlwZSIsImdldFNvdXJjZVR5cGUiLCJzZXRTb3VyY2VUeXBlIiwid29ya2VyU291cmNlVVJMIiwiX3NldFRyYW5zaXRpb25QYXJhbWV0ZXJzIiwiX2ZvcmNlM0RMYXllclVwZGF0ZSIsInZhbGlkYXRlVGVycmFpbiIsImN1cnJTcGVjIiwiX21hcmtlcnMiLCJfcmVxdWVzdERvbVRhc2siLCJtYXJrZXIiLCJfZXZhbHVhdGVPcGFjaXR5IiwiZ2V0Rm9nIiwidHJhbnNpdGlvbk9wdGlvbnMiLCJkcmFwZWQiLCJub25EcmFwZWQiLCJfZm9yY2VTeW1ib2xMYXllclVwZGF0ZSIsInByb3BzIiwiX3JlbW92ZSIsInJ0bFRleHRQbHVnaW5FdmVudGVkIiwib2ZmIiwicmVzdW1lIiwiX3JlbG9hZFNvdXJjZXMiLCJfdXBkYXRlU291cmNlcyIsIl9nZW5lcmF0ZUNvbGxpc2lvbkJveGVzIiwiX3VwZGF0ZVBsYWNlbWVudCIsInBsYWNlbWVudENvbW1pdHRlZCIsImlzTGVzc1RoYW4iLCJsYXllckJ1Y2tldHNDaGFuZ2VkIiwicGF1c2VhYmxlUGxhY2VtZW50IiwiX3JlbGVhc2VTeW1ib2xGYWRlVGlsZXMiLCJyZWxlYXNlU3ltYm9sRmFkZVRpbGVzIiwiaWNvbnMiLCJzZXREZXBlbmRlbmNpZXMiLCJnZXRHbHlwaHMiLCJzdGFja3MiLCJnZXRSZXNvdXJjZSIsIm1ha2VSZXF1ZXN0Iiwic2MiLCJoYXNTeW1ib2xMYXllcnMiLCJoYXNDaXJjbGVMYXllcnMiLCJfY2xlYXJXb3JrZXJDYWNoZXMiLCJwcmVsdWRlVGVycmFpbiIsInByZWx1ZGVGb2ciLCJjb21tb25EZWZpbmVzIiwicGFyc2VVc2VkUHJlcHJvY2Vzc29yRGVmaW5lcyIsInByZWx1ZGVDb21tb24iLCJwcmVsdWRlVGVycmFpblZlcnQiLCJwcmVsdWRlRm9nVmVydCIsInByZWx1ZGVGb2dGcmFnIiwiY29tcGlsZSIsInByZWx1ZGUiLCJwcmVsdWRlQ29tbW9uU291cmNlIiwicHJlbHVkZUZyYWdQcmVjaXNpb25RdWFsaWZpZXJzIiwic2hhZGVycyIsImJhY2tncm91bmRQYXR0ZXJuIiwiY2xpcHBpbmdNYXNrIiwiaGVhdG1hcCIsImhlYXRtYXBUZXh0dXJlIiwiY29sbGlzaW9uQ2lyY2xlIiwiZGVidWciLCJmaWxsT3V0bGluZSIsImZpbGxPdXRsaW5lUGF0dGVybiIsImZpbGxQYXR0ZXJuIiwiZmlsbEV4dHJ1c2lvbiIsImZpbGxFeHRydXNpb25QYXR0ZXJuIiwiaGlsbHNoYWRlUHJlcGFyZSIsImxpbmVQYXR0ZXJuIiwic3ltYm9sSWNvbiIsInN5bWJvbFNERiIsInN5bWJvbFRleHRBbmRJY29uIiwidGVycmFpblJhc3RlciIsInRlcnJhaW5EZXB0aCIsInNreWJveCIsInNreWJveFZlcnQiLCJza3lib3hHcmFkaWVudCIsInNreWJveENhcHR1cmUiLCJnbG9iZVJhc3RlciIsImdsb2JlQXRtb3NwaGVyZSIsImRlZmluZXMiLCJsaW5lcyIsInNwbGl0IiwidHJpbSIsImluY2x1ZGVzIiwibmV3RGVmaW5lcyIsImRlZmluZSIsImZyYWdtZW50U291cmNlIiwidmVydGV4U291cmNlIiwicHJhZ21hUmVnZXgiLCJzdGF0aWNBdHRyaWJ1dGVzIiwibWF0Y2giLCJmcmFnbWVudFByYWdtYXMiLCJ1c2VkRGVmaW5lcyIsIm9wZXJhdGlvbiIsInByZWNpc2lvbiIsImF0dHJUeXBlIiwidW5wYWNrVHlwZSIsIlZlcnRleEFycmF5T2JqZWN0IiwiYm91bmRQcm9ncmFtIiwiYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXIiLCJib3VuZFBhaW50VmVydGV4QnVmZmVycyIsImJvdW5kSW5kZXhCdWZmZXIiLCJib3VuZFZlcnRleE9mZnNldCIsImJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnMiLCJsYXlvdXRWZXJ0ZXhCdWZmZXIiLCJwYWludFZlcnRleEJ1ZmZlcnMiLCJpbmRleEJ1ZmZlciIsImR5bmFtaWNWZXJ0ZXhCdWZmZXJzIiwicGFpbnRCdWZmZXJzRGlmZmVyIiwiZHluYW1pY0J1ZmZlcnNEaWZmZXIiLCJmcmVzaEJpbmQiLCJkeW5hbWljQnVmZmVyIiwibnVtUHJldkF0dHJpYnV0ZXMiLCJudW1OZXh0QXR0cmlidXRlcyIsIm51bUF0dHJpYnV0ZXMiLCJjdXJyZW50TnVtQXR0cmlidXRlcyIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEJ1ZmZlciIsImdldFRpbGVMYXRSYW5nZSIsInRvTG5nTGF0IiwicmVuZGVySGlsbHNoYWRlIiwicHJlcGFyZURyYXdUaWxlIiwidW5pZm9ybVZhbHVlcyIsInNoYWRvdyIsImhpZ2hsaWdodCIsImFjY2VudCIsImFsaWduIiwibW92aW5nIiwidV9tYXRyaXgiLCJ1X2ltYWdlIiwidV9sYXRyYW5nZSIsInVfbGlnaHQiLCJ1X3NoYWRvdyIsInVfaGlnaGxpZ2h0IiwidV9hY2NlbnQiLCJoaWxsc2hhZGVVbmlmb3JtVmFsdWVzIiwicHJlcGFyZURyYXdQcm9ncmFtIiwidGlsZUJvdW5kc0J1ZmZlciIsInRpbGVCb3VuZHNJbmRleEJ1ZmZlciIsInRpbGVCb3VuZHNTZWdtZW50cyIsImdldFRpbGVCb3VuZHNCdWZmZXJzIiwiZHJhdyIsIlRSSUFOR0xFUyIsIkN1bGxGYWNlTW9kZSIsImRpc2FibGVkIiwicHJlcGFyZURFTVRleHR1cmUiLCJnZXRUaWxlVGV4dHVyZSIsInN0cmlkZSIsInBpeGVsRGF0YSIsImdldFBpeGVscyIsInByZXBhcmVIaWxsc2hhZGUiLCJURVhUVVJFMSIsIk5FQVJFU1QiLCJyZW5kZXJUZXh0dXJlIiwiZ2V0TWVyY2F0b3JUaWxlQm91bmRzQnVmZmVycyIsInVfZGltZW5zaW9uIiwidV96b29tIiwidV91bnBhY2siLCJ1bnBhY2tWZWN0b3IiLCJoaWxsc2hhZGVVbmlmb3JtUHJlcGFyZVZhbHVlcyIsInRlcnJhaW5SYXN0ZXJVbmlmb3JtcyIsIlVuaWZvcm1NYXRyaXg0ZiIsInVfaW1hZ2UwIiwiVW5pZm9ybTFpIiwidV9za2lydF9oZWlnaHQiLCJVbmlmb3JtMWYiLCJ0ZXJyYWluUmFzdGVyVW5pZm9ybVZhbHVlcyIsInNraXJ0SGVpZ2h0IiwiZ2xvYmVSYXN0ZXJVbmlmb3JtVmFsdWVzIiwiZ2xvYmVNZXJjYXRvck1hdHJpeCIsIm5vcm1hbGl6ZU1hdHJpeCIsInpvb21UcmFuc2l0aW9uIiwibWVyY0NlbnRlciIsImZydXN0dW1EaXJUbCIsImZydXN0dW1EaXJUciIsImZydXN0dW1EaXJCciIsImZydXN0dW1EaXJCbCIsImdsb2JlUG9zaXRpb24iLCJnbG9iZVJhZGl1cyIsImdyaWRNYXRyaXgiLCJ1X3Byb2pfbWF0cml4IiwidV9nbG9iZV9tYXRyaXgiLCJ1X25vcm1hbGl6ZV9tYXRyaXgiLCJ1X21lcmNfbWF0cml4IiwidV96b29tX3RyYW5zaXRpb24iLCJ1X21lcmNfY2VudGVyIiwidV9mcnVzdHVtX3RsIiwidV9mcnVzdHVtX3RyIiwidV9mcnVzdHVtX2JyIiwidV9mcnVzdHVtX2JsIiwidV9nbG9iZV9wb3MiLCJ1X2dsb2JlX3JhZGl1cyIsInVfdmlld3BvcnQiLCJ1X2dyaWRfbWF0cml4IiwiZGVtVGlsZUNoYW5nZWQiLCJuZXh0IiwiaGFzRGF0YSIsInZlcnRleE1vcnBoaW5nIiwibmV3TW9ycGhpbmciLCJ0byIsInF1ZXVlZCIsInBoYXNlIiwiZ2V0TW9ycGhWYWx1ZXNGb3JQcm94eSIsIl92YWxpZE9wIiwiX25leHRPcCIsInNoYWRlckRlZmluZXMiLCJpc0VkZ2VUaWxlIiwiY2lkIiwicmVuZGVyV29ybGRDb3BpZXMiLCJudW1UaWxlcyIsImNsaXBwaW5nTWFza1VuaWZvcm1WYWx1ZXMiLCJyYXN0ZXJGYWRlIiwicGFyZW50VGlsZSIsInNpbmNlVGlsZSIsInRpbWVBZGRlZCIsInNpbmNlUGFyZW50IiwiaWRlYWxaIiwiY292ZXJpbmdab29tTGV2ZWwiLCJmYWRlSW4iLCJjaGlsZE9wYWNpdHkiLCJyZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiIsIm1peCIsIk1vY2tTb3VyY2VDYWNoZSIsInNvdXJjZVNwZWMiLCJzb3VyY2VEaXNwYXRjaGVyIiwiX3NvdXJjZUxvYWRlZCIsIl9sb2FkVGlsZSIsIlByb3h5U291cmNlQ2FjaGUiLCJyZW5kZXJDYWNoZSIsInJlbmRlckNhY2hlUG9vbCIsInByb3h5Q2FjaGVkRkJPIiwidXBkYXRlRm9yVGVycmFpbiIsImZyZWV6ZVRpbGVDb3ZlcmFnZSIsImluY29taW5nIiwiX3NvdXJjZSIsImFjYyIsIl90aWxlcyIsImZyZWVGQk8iLCJmYm9zIiwiZmJvSWRzIiwidmFsdWVzIiwiZGVhbGxvY1JlbmRlckNhY2hlIiwiZmIiLCJQcm94aWVkVGlsZUlEIiwicHJveHlUaWxlS2V5IiwiRWxldmF0aW9uIiwidGVycmFpblRpbGVGb3JUaWxlIiwicHJldlRlcnJhaW5UaWxlRm9yVGlsZSIsInRyaWFuZ2xlR3JpZEFycmF5IiwidHJpYW5nbGVHcmlkSW5kaWNlcyIsInNraXJ0SW5kaWNlc09mZnNldCIsIlBvc0FycmF5IiwiaW5kZXhBcnJheSIsIlRyaWFuZ2xlSW5kZXhBcnJheSIsInJlc2VydmUiLCJzdGVwIiwiZ3JpZEJvdW5kIiwiYm91bmQiLCJ4aSIsInlpIiwicXVhZCIsImNyZWF0ZUdyaWQiLCJncmlkQnVmZmVyIiwicG9zQXR0cmlidXRlcyIsImdyaWRJbmRleEJ1ZmZlciIsImdyaWRTZWdtZW50cyIsImdyaWROb1NraXJ0U2VnbWVudHMiLCJwcm94eUNvb3JkcyIsInByb3hpZWRDb29yZHMiLCJfdmlzaWJsZURlbVRpbGVzIiwiX2RyYXBlZFJlbmRlckJhdGNoZXMiLCJfc291cmNlVGlsZXNPdmVybGFwIiwicHJveHlTb3VyY2VDYWNoZSIsIm9ydGhvTWF0cml4IiwiX292ZXJsYXBTdGVuY2lsTW9kZSIsIlN0ZW5jaWxNb2RlIiwiR0VRVUFMIiwiUkVQTEFDRSIsIl9wcmV2aW91c1pvb20iLCJwb29sIiwiX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZSIsIl90aWxlc0RpcnR5IiwiX3VzZVZlcnRleE1vcnBoaW5nIiwiX2V4YWdnZXJhdGlvbiIsIl9tb2NrU291cmNlQ2FjaGUiLCJfb25TdHlsZURhdGFFdmVudCIsIl9jaGVja1JlbmRlckNhY2hlRWZmaWNpZW5jeSIsIl9zdHlsZSIsIl9jbGVhckxpbmVMYXllcnNGcm9tUmVuZGVyQ2FjaGUiLCJhZGFwdENhbWVyYUFsdGl0dWRlIiwiZW5hYmxlZCIsInRlcnJhaW5Qcm9wcyIsInVwZGF0ZVNvdXJjZUNhY2hlIiwic2NhbGVkRGVtVGlsZVNpemUiLCJnZXRTY2FsZWREZW1UaWxlU2l6ZSIsInJlc2V0VGlsZUxvb2t1cENhY2hlIiwidXNlZEZvclRlcnJhaW4iLCJfaW5pdGlhbGl6aW5nIiwidXBkYXRlRWxldmF0aW9uIiwiX2VtcHR5REVNVGV4dHVyZURpcnR5IiwiX2Rpc2FibGUiLCJzb3VyY2VDYWNoZUlEIiwicmVuZGVyQ2FjaGVJbmZvIiwicmVuZGVyQ2FjaGVFZmZpY2llbmN5IiwiZWZmaWNpZW5jeSIsImZpcnN0VW5kcmFwZWRMYXllciIsIl9jbGVhclJlbmRlckNhY2hlRm9yVGlsZSIsIl9pbnZhbGlkYXRlUmVuZGVyQ2FjaGUiLCJfc2hhcmVkRGVwdGhTdGVuY2lsIiwiX2VtcHR5REVNVGV4dHVyZSIsIl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZSIsIl9kZXB0aEZCTyIsIl9kZXB0aFRleHR1cmUiLCJpc1VzaW5nTW9ja1NvdXJjZSIsInZpc2libGVEZW1UaWxlcyIsImRyYXBlQnVmZmVyU2l6ZSIsInVzZVZlcnRleE1vcnBoaW5nIiwidXBkYXRlVGlsZUJpbmRpbmciLCJzb3VyY2VzQ29vcmRzIiwicHNjIiwiX2NlbnRlckFsdGl0dWRlIiwiZ2V0SWRzIiwidGlsZUlEcyIsImNhbWVyYUNvb3JkaW5hdGUiLCJwb2ludENvb3JkaW5hdGUiLCJhUG9pbnQiLCJiUG9pbnQiLCJjYW1lcmFTY2FsZWQiLCJkaXN0U3FyIiwic29ydEJ5RGlzdGFuY2VUb0NhbWVyYSIsInByZXZpb3VzUHJveHlUb1NvdXJjZSIsInByb3h5VG9Tb3VyY2UiLCJfc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8iLCJfYXNzaWduVGVycmFpblRpbGVzIiwiX3ByZXBhcmVERU1UZXh0dXJlcyIsIl9zZXR1cERyYXBlZFJlbmRlckJhdGNoZXMiLCJfaW5pdEZCT1Bvb2wiLCJfc2V0dXBSZW5kZXJDYWNoZSIsInJlbmRlcmluZ1RvVGV4dHVyZSIsIl91cGRhdGVUaW1lc3RhbXAiLCJ2aXNpYmxlS2V5cyIsImRlbVRpbGUiLCJfZmluZFRpbGVDb3ZlcmluZ1RpbGVJRCIsIl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zIiwicHJveHlUaWxlIiwidW5pZm9ybXMiLCJ1bmlmb3JtU3VmZml4IiwicHJveHlJZCIsImRlbVNjYWxlQnkiLCJzdWZmaXgiLCJlbXB0eURFTVRleHR1cmUiLCJfdXBkYXRlRW1wdHlERU1UZXh0dXJlIiwiZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUiLCJvZiIsIl9nZXRMb2FkZWRBcmVhTWluaW11bSIsIm5vbnplcm8iLCJ0cmVlIiwibWluaW11bXMiLCJURVhUVVJFMiIsIkRFTURhdGEiLCJwYWNrIiwic2V0dXBFbGV2YXRpb25EcmF3IiwidV9kZW0iLCJ1X2RlbV9wcmV2IiwidV9kZW1fdW5wYWNrIiwiZ2V0VW5wYWNrVmVjdG9yIiwidV9kZW1fdGwiLCJ1X2RlbV90bF9wcmV2IiwidV9kZW1fc2NhbGUiLCJ1X2RlbV9zY2FsZV9wcmV2IiwidV9kZW1fc2l6ZSIsInVfZGVtX2xlcnAiLCJ1X2RlcHRoIiwidV9kZXB0aF9zaXplX2ludiIsInVfZXhhZ2dlcmF0aW9uIiwicHJldkRlbVRpbGUiLCJtb3JwaGluZ1BoYXNlIiwibW9ycGhpbmciLCJzcmNUaWxlIiwic3JjRGVtVGlsZSIsImRzdFRpbGUiLCJkc3REZW1UaWxlIiwiVEVYVFVSRTQiLCJURVhUVVJFMyIsInVzZURlcHRoRm9yT2NjbHVzaW9uIiwidXNlTWV0ZXJUb0RlbSIsIm1ldGVyVG9ERU0iLCJtZXJjYXRvclpmcm9tQWx0aXR1ZGUiLCJsYWJlbFBsYW5lTWF0cml4SW52Iiwic2V0VGVycmFpblVuaWZvcm1WYWx1ZXMiLCJnbG9iZVVuaWZvcm1zIiwiZ2xvYmVVbmlmb3JtVmFsdWVzIiwidXNlRGVub3JtYWxpemVkVXBWZWN0b3JTY2FsZSIsInNldEdsb2JlVW5pZm9ybVZhbHVlcyIsInVfdGlsZV90bF91cCIsInVfdGlsZV90cl91cCIsInVfdGlsZV9icl91cCIsInVfdGlsZV9ibF91cCIsInVfdGlsZV91cF9zY2FsZSIsImdsb2JlTWV0ZXJzVG9FY2VmIiwicmVuZGVyVG9CYWNrQnVmZmVyIiwiYWNjdW11bGF0ZWREcmFwZXMiLCJncHVUaW1pbmdEZWZlcnJlZFJlbmRlclN0YXJ0IiwicHJvZ3JhbU1vZGUiLCJzaG93V2lyZWZyYW1lIiwic2hvd1RlcnJhaW5XaXJlZnJhbWUiLCJ1c2VDdXN0b21BbnRpYWxpYXNpbmciLCJnbG9iZVVzZUN1c3RvbUFudGlBbGlhc2luZyIsInNldFNoYWRlck1vZGUiLCJpc1dpcmVmcmFtZSIsImNvbG9yTW9kZUZvclJlbmRlclBhc3MiLCJEZXB0aE1vZGUiLCJMRVFVQUwiLCJSZWFkV3JpdGUiLCJkZXB0aFJhbmdlRm9yM0QiLCJjYWxjdWxhdGVHbG9iZU1lcmNhdG9yTWF0cml4IiwibWVyY2F0b3JDZW50ZXIiLCJiYXRjaGVzIiwic2hhcmVkQnVmZmVycyIsImdsb2JlU2hhcmVkQnVmZmVycyIsImVsZXZhdGlvbk9wdGlvbnMiLCJza2lydEhlaWdodFZhbHVlIiwicHJpbWl0aXZlIiwiTElORVMiLCJnZXRUaWxlIiwibmV4dERlbVRpbGUiLCJtb3JwaCIsInNoYWRlck1vZGUiLCJlYXNlQ3ViaWNJbk91dCIsInRpbGVDb3JuZXJzVG9Cb3VuZHMiLCJsYXRpdHVkaW5hbExvZCIsImdldExhdGl0dWRpbmFsTG9kIiwiZ2V0Q2VudGVyIiwiZ2V0R3JpZE1hdHJpeCIsImdsb2JlTm9ybWFsaXplRUNFRiIsImdsb2JlVGlsZUJvdW5kcyIsImZydXN0dW1Db3JuZXJzIiwiVEwiLCJUUiIsIkJSIiwiQkwiLCJnbG9iZUNlbnRlckluVmlld1NwYWNlIiwiZ2V0V2lyZWZhbWVCdWZmZXJzIiwiZ2V0R3JpZEJ1ZmZlcnMiLCJiYWNrQ0NXIiwidG9wQ2FwIiwiYm90dG9tQ2FwIiwibm9ydGhQb2xlQnVmZmVyIiwic291dGhQb2xlQnVmZmVyIiwiZ2V0UG9sZUJ1ZmZlcnMiLCJwb2xlTWF0cml4IiwiZ2xvYmVQb2xlTWF0cml4Rm9yVGlsZSIsImRyYXdQb2xlIiwiZHJhd1RlcnJhaW5Gb3JHbG9iZSIsIm1vZGVzIiwic2tpcnQiLCJnZXRXaXJlZmFtZUJ1ZmZlciIsIkxJTkVBUl9NSVBNQVBfTkVBUkVTVCIsImRyYXdUZXJyYWluUmFzdGVyIiwiZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXJFbmQiLCJyZW5kZXJCYXRjaCIsInN0YXJ0TGF5ZXJJbmRleCIsInByb3hpZXMiLCJkcmFwZWRMYXllckJhdGNoIiwicG9vbEluZGV4IiwicHJveHkiLCJyZW5kZXJDYWNoZUluZGV4IiwidXNlUmVuZGVyQ2FjaGUiLCJ0ZXgiLCJjdXJyZW50U3RlbmNpbFNvdXJjZSIsInJlbmRlcmVkVG9UaWxlIiwiX3NldHVwU3RlbmNpbCIsInJlbmRlckxheWVyIiwicG9zdFJlbmRlciIsImxheWVyQ291bnQiLCJ1bmNhY2hlYWJsZUxheWVyQ291bnQiLCJkcmFwZWRMYXllckNvdW50IiwicmVhY2hlZFVuZHJhcGVkTGF5ZXIiLCJnZXRNaW5FbGV2YXRpb25CZWxvd01TTCIsInJheWNhc3QiLCJwcmVwYXJlZFRpbGVzIiwicmF5Y2FzdFJvb3QiLCJNQVhfVkFMVUUiLCJvYmoiLCJfY3JlYXRlRkJPIiwiYnVmZmVyU2l6ZSIsIkRFUFRIX1NURU5DSUwiLCJfc3RlbmNpbFJlZiIsInRleFBhcmFtZXRlcmYiLCJURVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCIsIl9zaG91bGREaXNhYmxlUmVuZGVyQ2FjaGUiLCJzaG91bGRSZWRyYXBlIiwiaGFzVmVjdG9yU291cmNlIiwiY2xlYXJTb3VyY2VDYWNoZXMiLCJ3aWR0aEV4cHJlc3Npb24iLCJab29tRGVwZW5kZW50RXhwcmVzc2lvbiIsIl9jbGVhclJhc3RlckxheWVyc0Zyb21SZW5kZXJDYWNoZSIsImhhc1Jhc3RlclNvdXJjZSIsImZhZGUiLCJmaW5kTG9hZGVkUGFyZW50IiwiYmF0Y2hTdGFydCIsImN1cnJlbnRMYXllciIsImVxdWFsIiwicHJldlRpbGVzIiwicHJveHlGQk8iLCJzb3J0ZWRSZW5kZXJCYXRjaGVzIiwiYmF0Y2hBIiwiYmF0Y2hCIiwiYmF0Y2giLCJfb3ZlcmxhcFN0ZW5jaWxUeXBlIiwic3RlbmNpbFJhbmdlIiwiRVFVQUwiLCJHUkVBVEVSIiwiX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzIiwiY2xpcE9yTWFza092ZXJsYXBTdGVuY2lsVHlwZSIsInN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcCIsIl90aWxlQ2xpcHBpbmdNYXNrSURzIiwidGlsZUV4dGVudEJ1ZmZlciIsInF1YWRUcmlhbmdsZUluZGV4QnVmZmVyIiwidGlsZUV4dGVudFNlZ21lbnRzIiwic2NyZWVuUG9pbnQiLCJmYXIiLCJwaXhlbE1hdHJpeEludmVyc2UiLCJzY2FsZSQxIiwiY2FtZXJhIiwiX2NhbWVyYSIsIm1lcmNhdG9yWlNjYWxlIiwiZGlzdGFuY2VBbG9uZ1JheSIsImRyYXdEZXB0aCIsIkRFUFRIX0NPTVBPTkVOVDE2IiwidW5ibGVuZGVkIiwiZHJhd1RlcnJhaW5EZXB0aCIsInNvdXJjZUNvb3JkcyIsIl9zZXR1cFByb3hpZWRDb29yZHNGb3JJbWFnZVNvdXJjZSIsInByb3h5cyIsInByb3h5VGlsZUlEIiwicHJveGllZCIsIl9jcmVhdGVQcm94aWVkSWQiLCJoYXNPdmVybGFwIiwiaW1hZ2VTb3VyY2UiLCJfZGl2IiwiYWFiYiIsInRpbGVPdXRzaWRlSW1hZ2UiLCJpbWFnZVRpbGVJRCIsIml4IiwiaXkiLCJyZWN5Y2xlIiwicmVjeWNsZWQiLCJmaW5kIiwieE9mZnNldCIsInlPZmZzZXQiLCJsb29rdXAiLCJzb3VyY2VUaWxlSUQiLCJkb3duc2NhbGUiLCJwYXRoVG9Mb29rdXAiLCJjYWxjdWxhdGVTY2FsZWRLZXkiLCJmaW5kREVNVGlsZUZvciIsInNvdXJjZVRpbGVzIiwid2lyZWZyYW1lU2VnbWVudHMiLCJ3aXJlZnJhbWVHcmlkSW5kaWNlcyIsIkxpbmVJbmRleEFycmF5IiwiR1JJRF9ESU0iLCJjcmVhdGVXaXJlZnJhbWVHcmlkIiwid2lyZWZyYW1lSW5kZXhCdWZmZXIiLCJjb25maWd1cmF0aW9uIiwiZml4ZWRVbmlmb3JtcyIsImZpeGVkRGVmaW5lcyIsImNyZWF0ZVByb2dyYW0iLCJzdGF0aWNBdHRySW5mbyIsInRva2VuIiwiZ2V0VG9rZW5pemVkQXR0cmlidXRlcyIsImR5bmFtaWNBdHRySW5mbyIsImdldEJpbmRlckF0dHJpYnV0ZXMiLCJhbGxBdHRySW5mbyIsImZyYWdtZW50U2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwiZmFpbGVkVG9DcmVhdGUiLCJhdHRhY2hTaGFkZXIiLCJ2ZXJ0ZXhTaGFkZXIiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsImRlbGV0ZVNoYWRlciIsImJpbmRlclVuaWZvcm1zIiwiZ2V0VW5pZm9ybXMiLCJ0ZXJyYWluVW5pZm9ybXMiLCJVbmlmb3JtNGYiLCJVbmlmb3JtMmYiLCJ1X21ldGVyX3RvX2RlbSIsInVfbGFiZWxfcGxhbmVfbWF0cml4X2ludiIsIlVuaWZvcm0zZiIsImZvZ1VuaWZvcm1zIiwidV9mb2dfbWF0cml4IiwidV9mb2dfcmFuZ2UiLCJ1X2ZvZ19jb2xvciIsInVfZm9nX2hvcml6b25fYmxlbmQiLCJ1X2ZvZ190ZW1wb3JhbF9vZmZzZXQiLCJ1X2dsb2JlX3RyYW5zaXRpb24iLCJ1X2lzX2dsb2JlIiwidGVycmFpblVuaWZvcm1WYWx1ZXMiLCJzZXRGb2dVbmlmb3JtVmFsdWVzIiwiZm9nVW5pZm9ybXNWYWx1ZXMiLCJkcmF3TW9kZSIsImN1cnJlbnRQcm9wZXJ0aWVzIiwiZHluYW1pY0xheW91dEJ1ZmZlcnMiLCJzZXRVbmlmb3JtcyIsInByaW1pdGl2ZVNpemUiLCJMSU5FX1NUUklQIiwidmFvcyIsImdldFBhaW50VmVydGV4QnVmZmVycyIsImRyYXdFbGVtZW50cyIsInByaW1pdGl2ZUxlbmd0aCIsIlVOU0lHTkVEX1NIT1JUIiwicHJpbWl0aXZlT2Zmc2V0IiwicGF0dGVyblVuaWZvcm1WYWx1ZXMiLCJ0aWxlU2l6ZUF0TmVhcmVzdFpvb20iLCJwaXhlbFgiLCJwaXhlbFkiLCJ1X3RleHNpemUiLCJpbWFnZUF0bGFzVGV4dHVyZSIsInVfdGlsZV91bml0c190b19waXhlbHMiLCJ1X3BpeGVsX2Nvb3JkX3VwcGVyIiwidV9waXhlbF9jb29yZF9sb3dlciIsImlkZW50aXR5TWF0cml4IiwiZmlsbEV4dHJ1c2lvblVuaWZvcm1WYWx1ZXMiLCJzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50IiwiYW9JbnRlbnNpdHlSYWRpdXMiLCJlZGdlUmFkaXVzIiwiaGVpZ2h0TGlmdCIsImludk1hdHJpeCIsIl9scCIsImxpZ2h0UG9zIiwibGlnaHRNYXQiLCJsaWdodENvbG9yIiwidV9saWdodHBvcyIsInVfbGlnaHRpbnRlbnNpdHkiLCJ1X2xpZ2h0Y29sb3IiLCJ1X3ZlcnRpY2FsX2dyYWRpZW50IiwidV9vcGFjaXR5IiwidV90aWxlX2lkIiwidV9pbnZfcm90X21hdHJpeCIsInVfdXBfZGlyIiwidV9oZWlnaHRfbGlmdCIsInVfYW8iLCJ1X2VkZ2VfcmFkaXVzIiwiZmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3JtVmFsdWVzIiwiaGVpZ2h0RmFjdG9yVW5pZm9ybSIsInVfaGVpZ2h0X2ZhY3RvciIsImZpbGxVbmlmb3JtVmFsdWVzIiwiZmlsbFBhdHRlcm5Vbmlmb3JtVmFsdWVzIiwiZmlsbE91dGxpbmVVbmlmb3JtVmFsdWVzIiwiZHJhd2luZ0J1ZmZlclNpemUiLCJ1X3dvcmxkIiwiZmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybVZhbHVlcyIsImNpcmNsZVVuaWZvcm1WYWx1ZXMiLCJleHRydWRlU2NhbGUiLCJnbG9iZVBpeGVsc1RvVGlsZVVuaXRzIiwicGl4ZWxzVG9HTFVuaXRzIiwidV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIiwidHJhbnNsYXRlUG9zTWF0cml4IiwidV9kZXZpY2VfcGl4ZWxfcmF0aW8iLCJ1X2V4dHJ1ZGVfc2NhbGUiLCJjaXJjbGVEZWZpbmVzVmFsdWVzIiwiY29sbGlzaW9uVW5pZm9ybVZhbHVlcyIsImRlYnVnVW5pZm9ybVZhbHVlcyIsInNjYWxlUmF0aW8iLCJ1X2NvbG9yIiwidV9vdmVybGF5IiwidV9vdmVybGF5X3NjYWxlIiwiaGVhdG1hcFVuaWZvcm1WYWx1ZXMiLCJ1X2ludGVuc2l0eSIsImxpbmVVbmlmb3JtVmFsdWVzIiwiaW1hZ2VIZWlnaHQiLCJ0cmltT2Zmc2V0IiwiY2FsY3VsYXRlTWF0cml4IiwidV9waXhlbHNfdG9fdGlsZV91bml0cyIsInVfdW5pdHNfdG9fcGl4ZWxzIiwidV9kYXNoX2ltYWdlIiwidV9ncmFkaWVudF9pbWFnZSIsInVfaW1hZ2VfaGVpZ2h0IiwiaGFzRGFzaCIsImxpbmVBdGxhc1RleHR1cmUiLCJjYWxjdWxhdGVUaWxlUmF0aW8iLCJ1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkIiwidV90cmltX29mZnNldCIsImxpbmVQYXR0ZXJuVW5pZm9ybVZhbHVlcyIsImRhc2hQcm9wZXJ0eVZhbHVlIiwia2luZCIsInJhc3RlclVuaWZvcm1WYWx1ZXMiLCJwYXJlbnRUTCIsInBhcmVudFNjYWxlQnkiLCJ1X3RsX3BhcmVudCIsInVfc2NhbGVfcGFyZW50IiwidV9mYWRlX3QiLCJ1X2ltYWdlMSIsInVfYnJpZ2h0bmVzc19sb3ciLCJ1X2JyaWdodG5lc3NfaGlnaCIsInVfc2F0dXJhdGlvbl9mYWN0b3IiLCJzYXR1cmF0aW9uIiwidV9jb250cmFzdF9mYWN0b3IiLCJjb250cmFzdCIsInVfc3Bpbl93ZWlnaHRzIiwic3BpbldlaWdodHMiLCJ1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybSIsInNxcnQiLCJzeW1ib2xJY29uVW5pZm9ybVZhbHVlcyIsImZ1bmN0aW9uVHlwZSIsInJvdGF0ZUluU2hhZGVyIiwidGV4U2l6ZSIsInVfaXNfc2l6ZV96b29tX2NvbnN0YW50IiwidV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQiLCJ1X3NpemVfdCIsInVTaXplVCIsInVfc2l6ZSIsInVTaXplIiwidV9yb3RhdGVfc3ltYm9sIiwidV9hc3BlY3RfcmF0aW8iLCJ1X2ZhZGVfY2hhbmdlIiwidV9sYWJlbF9wbGFuZV9tYXRyaXgiLCJ1X2Nvb3JkX21hdHJpeCIsInVfaXNfdGV4dCIsInVfcGl0Y2hfd2l0aF9tYXAiLCJ1X3RleHR1cmUiLCJ1X2NhbWVyYV9mb3J3YXJkIiwidV9lY2VmX29yaWdpbiIsInVfdGlsZV9tYXRyaXgiLCJ1X3VwX3ZlY3RvciIsImZvcndhcmQiLCJnbG9iZUVDRUZPcmlnaW4iLCJzeW1ib2xTREZVbmlmb3JtVmFsdWVzIiwiaXNIYWxvIiwidV9nYW1tYV9zY2FsZSIsInVfaXNfaGFsbyIsInN5bWJvbFRleHRBbmRJY29uVW5pZm9ybVZhbHVlcyIsInRleFNpemVTREYiLCJ0ZXhTaXplSWNvbiIsInVfdGV4c2l6ZV9pY29uIiwidV90ZXh0dXJlX2ljb24iLCJiYWNrZ3JvdW5kVW5pZm9ybVZhbHVlcyIsImJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybVZhbHVlcyIsImltYWdlUG9zIiwidG9TdHJpbmciLCJ1X3BhdHRlcm5fdGwiLCJ1X3BhdHRlcm5fYnIiLCJ1X3BhdHRlcm5fc2l6ZSIsImRpc3BsYXlTaXplIiwiYmdQYXR0ZXJuVW5pZm9ybVZhbHVlcyIsInByb2dyYW1Vbmlmb3JtcyIsIlVuaWZvcm1NYXRyaXgyZiIsInVfaW52X21hdHJpeCIsInVfdmlld3BvcnRfc2l6ZSIsIlVuaWZvcm1Db2xvciIsInVfY29sb3JfcmFtcCIsInVfc3VuX2RpcmVjdGlvbiIsInVfY3ViZW1hcCIsInVfdGVtcG9yYWxfb2Zmc2V0IiwidV9jZW50ZXJfZGlyZWN0aW9uIiwidV9yYWRpdXMiLCJ1X21hdHJpeF8zZiIsIlVuaWZvcm1NYXRyaXgzZiIsInVfc3VuX2ludGVuc2l0eSIsInVfY29sb3JfdGludF9yIiwidV9jb2xvcl90aW50X20iLCJ1X2x1bWluYW5jZSIsInVfaG9yaXpvbiIsInVfdHJhbnNpdGlvbiIsInVfZmFkZW91dF9yYW5nZSIsInVfaGlnaF9jb2xvciIsInVfc3BhY2VfY29sb3IiLCJ1X3N0YXJfaW50ZW5zaXR5IiwidV9zdGFyX2RlbnNpdHkiLCJ1X3N0YXJfc2l6ZSIsInVfaG9yaXpvbl9hbmdsZSIsInVfcm90YXRpb25fbWF0cml4IiwicXVhZFRyaWFuZ2xlcyIsImRyYXdDb2xsaXNpb25EZWJ1ZyIsInRyYW5zbGF0ZUFuY2hvciIsInRpbGVCYXRjaGVzIiwiY2lyY2xlQ291bnQiLCJjaXJjbGVPZmZzZXQiLCJidWZmZXJzIiwiaW52VHJhbnNmb3JtIiwibXVsIiwiY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0IiwiY2lyY2xlUHJvZ3JhbSIsInZlcnRleERhdGEiLCJDb2xsaXNpb25DaXJjbGVMYXlvdXRBcnJheSIsIl90cmltIiwiY2lyY2xlSWR4IiwiY29sbGlzaW9uIiwiZW1wbGFjZSIsInF1YWRDb3VudCIsInRyaUNvdW50IiwiUXVhZFRyaWFuZ2xlQXJyYXkiLCJ1aW50MTYiLCJjcmVhdGVRdWFkVHJpYW5nbGVzIiwiY29sbGlzaW9uQ2lyY2xlTGF5b3V0IiwiaWRlbnRpdHlNYXQ0IiwiY2FsY3VsYXRlVmFyaWFibGVSZW5kZXJTaGlmdCIsInJlbmRlclRleHRTaXplIiwidXBkYXRlVmFyaWFibGVBbmNob3JzRm9yQnVja2V0IiwidGlsZVNjYWxlIiwidXBkYXRlVGV4dEZpdEljb24iLCJkeW5hbWljVGV4dExheW91dFZlcnRleEFycmF5IiwiZHluYW1pY0ljb25MYXlvdXRWZXJ0ZXhBcnJheSIsInBsYWNlZFRleHRTaGlmdHMiLCJza2lwT3JpZW50YXRpb24iLCJ0aWxlUGl4ZWxSYXRpbyIsImFzc29jaWF0ZWRJY29uSW5kZXgiLCJwbGFjZWRJY29ucyIsImdldFN5bWJvbFByb2dyYW1OYW1lIiwiaXNTREYiLCJpY29uc0luVGV4dCIsImRyYXdMYXllclN5bWJvbHMiLCJyb3RhdGlvbkFsaWdubWVudCIsInBpdGNoQWxpZ25tZW50IiwiYWxvbmdMaW5lIiwiaGFzU29ydEtleSIsInNvcnRGZWF0dXJlc0J5S2V5IiwiZGVwdGhNb2RlRm9yU3VibGF5ZXIiLCJSZWFkT25seSIsImlzR2xvYmVQcm9qZWN0aW9uIiwidGlsZVJlbmRlclN0YXRlIiwibWVyY2F0b3JDYW1lcmFVcCIsImdsb2JlQ2FtZXJhVXAiLCJtZXJjYXRvckZyb21UcmFuc2l0aW9uIiwidmlld01hdHJpeCIsImdldFdvcmxkVG9DYW1lcmEiLCJ2aWV3VG9FY2VmIiwiY2FtZXJhVXBWZWN0b3IiLCJjb21wdXRlR2xvYmVDYW1lcmFVcCIsInByb2dyYW1Db25maWd1cmF0aW9ucyIsInNkZkljb25zIiwidHJhbnNmb3JtZWQiLCJhdGxhc0ludGVycG9sYXRpb24iLCJhdGxhc0ludGVycG9sYXRpb25JY29uIiwiYXRsYXNUZXh0dXJlSWNvbiIsImdseXBoQXRsYXNUZXh0dXJlIiwiem9vbURlcGVuZGVudFNpemUiLCJyb3RhdGluZyIsInpvb21pbmciLCJpY29uU2NhbGVkIiwiaWNvbnNOZWVkTGluZWFyIiwiYnVja2V0SXNHbG9iZVByb2plY3Rpb24iLCJnbG9iZVRvTWVyY2F0b3IiLCJsYWJlbFBsYW5lTWF0cml4UmVuZGVyaW5nIiwiaGFzVmFyaWFibGVBbmNob3JzIiwibGFiZWxQbGFuZU1hdHJpeFBsYWNlbWVudCIsInByb2plY3RlZFBvc09uTGFiZWxTcGFjZSIsInVMYWJlbFBsYW5lTWF0cml4IiwidWdsQ29vcmRNYXRyaXgiLCJjcmVhdGVJbnZlcnNpb25NYXRyaXgiLCJiYXNlRGVmaW5lcyIsInRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQiLCJoYXNIYWxvIiwiY2FuT3ZlcmxhcCIsIm9sZFNlZ21lbnRzIiwic2VnbWVudFN0YXRlIiwiZHJhd1N5bWJvbEVsZW1lbnRzIiwiZHluYW1pY0J1ZmZlcnMiLCJkcmF3RmlsbFRpbGVzIiwiaXNPdXRsaW5lIiwicGF0dGVyblByb3BlcnR5IiwicHJvZ3JhbU5hbWUiLCJwYXR0ZXJuc0xvYWRlZCIsInVwZGF0ZVBhaW50QnVmZmVycyIsImNvbnN0YW50UGF0dGVybiIsImltYWdlQXRsYXMiLCJwb3NUbyIsInBhdHRlcm5Qb3NpdGlvbnMiLCJzZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMiLCJpbmRleEJ1ZmZlcjIiLCJzZWdtZW50czIiLCJzdGVuY2lsTW9kZUZvckNsaXBwaW5nIiwiZHJhd0V4dHJ1c2lvblRpbGVzIiwiYW8iLCJmaWxsRXh0cnVzaW9uSGVpZ2h0TGlmdCIsImVuYWJsZVRlcnJhaW4iLCJmbGF0Um9vZnNVcGRhdGUiLCJjZW50cm9pZFZlcnRleEJ1ZmZlciIsImF0dHJJbmRleCIsInZlcnRleEF0dHJpYjJmIiwibGF5b3V0VmVydGV4RXh0QnVmZmVyIiwibmVpZ2hib3JDb29yZCIsImdldExvYWRlZEJ1Y2tldCIsIm5pZCIsIm4iLCJ6b29tTGV2ZWxzIiwicHJvamVjdGVkVG9Cb3JkZXIiLCJ4am9pbiIsInlqb2luIiwicHJvamVjdENvbWJpbmVkU3BhblRvQm9yZGVyIiwiY2VudHJvaWQiLCJuZWlnaGJvckRFTVRpbGUiLCJuZWlnaGJvclRpbGVJRCIsImZsYXRCYXNlIiwidmVydGljYWxFZGdlIiwibWF4T2Zmc2V0RnJvbUJvcmRlciIsImNvb3JkMyIsInRoaXJkUG9pbnQiLCJnZXRGb3JUaWxlUG9pbnRzIiwiYm9yZGVycyIsIm5CdWNrZXQiLCJGaWxsRXh0cnVzaW9uQnVja2V0IiwiYm9yZGVyRG9uZVdpdGhOZWlnaGJvcloiLCJpYiIsInVwZGF0ZU5laWdoYm9yIiwiaWEiLCJwYXJ0YSIsImZlYXR1cmVzT25Cb3JkZXIiLCJwYXJ0QUJvcmRlclJhbmdlIiwicGFydGIiLCJlbmNvZGVDZW50cm9pZCIsInNhdmVJYiIsImludGVyc2VjdHNDb3VudCIsInNwYW4iLCJuZWVkc0NlbnRyb2lkVXBkYXRlIiwiY2VudHJvaWRWZXJ0ZXhBcnJheSIsInVwbG9hZENlbnRyb2lkIiwidG9wQ29sb3IiLCJidG1Db2xvciIsImxlZnRDb2xvciIsInJpZ2h0Q29sb3IiLCJjZW50ZXJDb2xvciIsImRyYXdEZWJ1Z1RpbGUiLCJkZWZpbmVzVmFsdWVzIiwidHJhbnNpdGlvblRpbGVBQUJCaW5FQ0VGIiwiZGVjb2RlIiwiZ2xvYmVEZW5vcm1hbGl6ZUVDRUYiLCJlbXB0eVRleHR1cmUiLCJfbWFrZUdsb2JlVGlsZURlYnVnQnVmZmVycyIsIl9tYWtlRGVidWdUaWxlQm91bmRzQnVmZmVycyIsImRlYnVnQnVmZmVyIiwiX3RpbGVEZWJ1Z0J1ZmZlciIsImRlYnVnSW5kZXhCdWZmZXIiLCJfdGlsZURlYnVnSW5kZXhCdWZmZXIiLCJkZWJ1Z1NlZ21lbnRzIiwiX3RpbGVEZWJ1Z1NlZ21lbnRzIiwicmVkIiwiX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyIiwidGlsZVJhd0RhdGEiLCJsYXRlc3RSYXdUaWxlRGF0YSIsInRpbGVTaXplS2IiLCJieXRlTGVuZ3RoIiwidGlsZUxhYmVsIiwiaW5pdERlYnVnT3ZlcmxheUNhbnZhcyIsImRlYnVnT3ZlcmxheUNhbnZhcyIsImN0eDJkIiwiY2xlYXJSZWN0Iiwic2hhZG93Q29sb3IiLCJzaGFkb3dCbHVyIiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGUiLCJ0ZXh0QmFzZWxpbmUiLCJmb250IiwiZmlsbFRleHQiLCJzdHJva2VUZXh0IiwiZGVidWdPdmVybGF5VGV4dHVyZSIsImRyYXdUZXh0VG9PdmVybGF5IiwiZGVidWdUZXh0QnVmZmVyIiwiX3RpbGVEZWJ1Z1RleHRCdWZmZXIiLCJkZWJ1Z1RleHRJbmRleEJ1ZmZlciIsIl90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXIiLCJkZWJ1Z1RleHRTZWdtZW50cyIsIl90aWxlRGVidWdUZXh0U2VnbWVudHMiLCJhbHBoYUJsZW5kZWQiLCJfZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyIiwiZHJhd0hvcml6b250YWxMaW5lIiwiZHJhd0RlYnVnU1NSZWN0IiwiZHJhd1ZlcnRpY2FsTGluZSIsIlNDSVNTT1JfVEVTVCIsInNjaXNzb3IiLCJza3lib3hBdHRyaWJ1dGVzIiwiY3JlYXRlTGF5b3V0IiwiYWRkVmVydGV4IiwidmVydGV4QXJyYXkiLCJTa3lib3hHZW9tZXRyeSIsIlNreWJveFZlcnRleEFycmF5IiwiaW5kaWNlcyIsImRyYXdTa3lib3hGYWNlIiwiZmFjZVJvdGF0ZSIsInN1bkRpcmVjdGlvbiIsImF0bW9zcGhlcmVDb2xvciIsImF0bW9zcGhlcmVIYWxvQ29sb3IiLCJzdW5JbnRlbnNpdHkiLCJza3lib3hDYXB0dXJlVW5pZm9ybVZhbHVlcyIsImZyb21NYXQ0IiwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YIiwic2t5Ym94VGV4dHVyZSIsImZyb250Q1ciLCJza3lib3hHZW9tZXRyeSIsImF0bW9zcGhlcmVMYXlvdXQiLCJBdG1vc3BoZXJlQnVmZmVyIiwidmVydGljZXMiLCJBdG1vc3BoZXJlVmVydGV4QXJyYXkiLCJ0cmlhbmdsZXMiLCJyZW5kZXJQYXNzIiwidXBkYXRlVmFyaWFibGVBbmNob3JzIiwic3Ryb2tlV2lkdGgiLCJzdHJva2VPcGFjaXR5Iiwic2VnbWVudHNSZW5kZXJTdGF0ZXMiLCJzZWdtZW50c1N0YXRlIiwiaGVhdG1hcEZibyIsImNyZWF0ZVRleHR1cmUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsInRleEltYWdlMkQiLCJSR0JBMTZGIiwiSEFMRl9GTE9BVCIsIkhBTEZfRkxPQVRfT0VTIiwiYmluZFRleHR1cmVUb0ZyYW1lYnVmZmVyIiwiY3VsbE1vZGUiLCJmcm9udENDVyIsImhhc1JlbmRlcmFibGVQYXJlbnQiLCJjb2xvclJhbXBUZXh0dXJlIiwiY29sb3JSYW1wIiwidGV4dHVyZVVuaXQiLCJjb2xvclJhbXBVbml0IiwiaGVhdG1hcFRleHR1cmVVbmlmb3JtVmFsdWVzIiwidmlld3BvcnRCdWZmZXIiLCJ2aWV3cG9ydFNlZ21lbnRzIiwicmVuZGVyVGV4dHVyZVRvTWFwIiwiZGFzaGFycmF5UHJvcGVydHkiLCJkYXNoYXJyYXkiLCJjYXBQcm9wZXJ0eSIsImdyYWRpZW50IiwiaGFzUGF0dGVybiIsImhhc09wYWNpdHkiLCJsaW5lRGVmaW5lc1ZhbHVlcyIsInVzZVN0ZW5jaWxNYXNrUmVuZGVyUGFzcyIsImNvbnN0YW50RGFzaCIsImNvbnN0YW50Q2FwIiwibGluZUF0bGFzIiwiZ2V0RGFzaCIsInRyaW1TdGFydCIsInRyaW1FbmQiLCJmYWtlT2Zmc2V0U2hpZnQiLCJsaW5lQ2xpcHNBcnJheSIsImxheWVyR3JhZGllbnQiLCJncmFkaWVudHMiLCJncmFkaWVudFRleHR1cmUiLCJncmFkaWVudFZlcnNpb24iLCJ0ZXh0dXJlUmVzb2x1dGlvbiIsInN0ZXBJbnRlcnBvbGFudCIsInNvdXJjZU1heFpvb20iLCJwb3RlbnRpYWxPdmVyem9vbSIsIm5leHRQb3dlck9mVHdvIiwibWF4TGluZUxlbmd0aCIsInJlbmRlckNvbG9yUmFtcCIsImdyYWRpZW50RXhwcmVzc2lvbiIsImV2YWx1YXRpb25LZXkiLCJyZXNvbHV0aW9uIiwiY2xpcHMiLCJSRVBFQVQiLCJyZW5kZXJMaW5lIiwibGF5b3V0VmVydGV4QnVmZmVyMiIsInN0ZW5jaWxJZCIsIklOVkVSVCIsInJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MiLCJvcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyIiwic3RlbmNpbE1vZGVGb3IzRCIsInN0ZW5jaWxNb2RlcyIsInN0ZW5jaWxDb25maWdGb3JPdmVybGFwIiwiaXNJbml0aWFsTG9hZCIsIm1pblRpbGVaIiwicmFzdGVyRmFkZUR1cmF0aW9uIiwicmVnaXN0ZXJGYWRlRHVyYXRpb24iLCJ0ZXh0dXJlRmlsdGVyIiwidXNlTWlwbWFwIiwiaXNQYXR0ZXJuTWlzc2luZyIsImJhY2tncm91bmRUaWxlcyIsImdldEJhY2tncm91bmRUaWxlcyIsInNreSIsInRyYW5zaXRpb25PcGFjaXR5IiwidGVtcG9yYWxPZmZzZXQiLCJmcmFtZUNvdW50ZXIiLCJuZWVkc1NreWJveENhcHR1cmUiLCJza3lib3hGYm8iLCJURVhUVVJFX0NVQkVfTUFQIiwiRmxvYXQ2NEFycmF5IiwiaWRlbnRpdHkiLCJyb3RhdGVZIiwicm90YXRlWCIsImNhcHR1cmVTa3lib3giLCJtYXJrU2t5Ym94VmFsaWQiLCJjdWJlbWFwIiwic2t5Ym94VW5pZm9ybVZhbHVlcyIsInNreWJveE1hdHJpeCIsImJhY2tDVyIsImRyYXdTa3lib3hGcm9tQ2FwdHVyZSIsImNlbnRlckRpcmVjdGlvbiIsInNreWJveEdyYWRpZW50VW5pZm9ybVZhbHVlcyIsImRyYXdTa3lib3hHcmFkaWVudCIsInVuc3VwcG9ydGVkTGF5ZXJzIiwicHJlcmVuZGVyIiwic2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cyIsInBvaW50TWVyYyIsImN1c3RvbUxheWVyTWF0cml4IiwiZ2xvYmVUb01lcmNhdG9yTWF0cml4IiwicGl4ZWxzUGVyTWV0ZXJSYXRpbyIsInNldEJhc2VTdGF0ZSIsInJlbmRlclRvVGlsZSIsInJlbmRlcmluZ01vZGUiLCJQYWludGVyIiwiX3RpbGVUZXh0dXJlcyIsImZyYW1lQ29waWVzIiwibG9hZFRpbWVTdGFtcHMiLCJzZXR1cCIsIm51bVN1YmxheWVycyIsIm1heFVuZGVyem9vbWluZyIsIm1heE92ZXJ6b29taW5nIiwiZGVwdGhFcHNpbG9uIiwiZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcyIsImdwdVRpbWVycyIsIl9iYWNrZ3JvdW5kVGlsZXMiLCJ1cGRhdGVUZXJyYWluIiwic3VwcG9ydHNUZXJyYWluIiwiX3RlcnJhaW4iLCJfdXBkYXRlRm9nIiwiZm9nQ3VsbERpc3RTcSIsImZvZ0N1bGxEaXN0IiwiX3RlcnJhaW5FbmFibGVkIiwidGlsZUV4dGVudEFycmF5IiwiZGVidWdBcnJheSIsInZpZXdwb3J0QXJyYXkiLCJ0aWxlQm91bmRzQXJyYXkiLCJUaWxlQm91bmRzQXJyYXkiLCJtZXJjYXRvckJvdW5kc0J1ZmZlciIsIm1lcmNhdG9yQm91bmRzU2VnbWVudHMiLCJxdWFkVHJpYW5nbGVJbmRpY2VzIiwidGlsZUxpbmVTdHJpcEluZGljZXMiLCJMaW5lU3RyaXBJbmRleEFycmF5IiwiaWRlbnRpdHlNYXQiLCJzdGVuY2lsQ2xlYXJNb2RlIiwicGVyZm9ybWFuY2UiLCJhdG1vc3BoZXJlQnVmZmVyIiwiX21ha2VUaWxlQm91bmRzQnVmZmVycyIsIl90aWxlQm91bmRzQnVmZmVyIiwiX3RpbGVCb3VuZHNJbmRleEJ1ZmZlciIsIl90aWxlQm91bmRzU2VnbWVudHMiLCJuZXh0U3RlbmNpbElEIiwiZGlydHlTdGVuY2lsQ2xpcHBpbmdNYXNrcyIsIk5PVEVRVUFMIiwic3RlbmNpbFZhbHVlcyIsInpUb1N0ZW5jaWxNb2RlIiwiX3Nob3dPdmVyZHJhd0luc3BlY3RvciIsIkNPTlNUQU5UX0NPTE9SIiwib3BhcXVlUGFzc0N1dG9mZiIsImNvb3Jkc0FzY2VuZGluZyIsImNvb3Jkc0Rlc2NlbmRpbmciLCJjb29yZHNEZXNjZW5kaW5nU3ltYm9sIiwiZ2V0VmlzaWJsZUNvb3JkaW5hdGVzIiwicmV2ZXJzZSIsIkdsb2JlU2hhcmVkQnVmZmVycyIsImlzTWFwQXV0aGVudGljYXRlZCIsImhhc09mZnNjcmVlblBhc3MiLCJpc1NreSIsInNob3dPdmVyZHJhd0luc3BlY3RvciIsImJsYWNrIiwidG9BcnJheTAxIiwiaGlnaENvbG9yIiwic3BhY2VDb2xvciIsInRvQXJyYXkwMVByZW11bHRpcGxpZWRBbHBoYSIsInF1YXQiLCJfY2VudGVyIiwicm90YXRlWCQxIiwicm90YXRpb25NYXRyaXgiLCJzdGFySW50ZW5zaXR5IiwibWFwVmFsdWUiLCJtaW5Ib3Jpem9uQmxlbmQiLCJnbG9iZUNlbnRlckRpc3RhbmNlIiwiZGlzdGFuY2VUb0hvcml6b24iLCJob3Jpem9uQW5nbGUiLCJhY29zIiwiaG9yaXpvbiIsImZhZGVvdXRSYW5nZSIsImF0bW9zcGhlcmVVbmlmb3JtVmFsdWVzIiwiZHJhd0F0bW9zcGhlcmUiLCJpc0hvcml6b25WaXNpYmxlIiwic2hvd1RpbGVCb3VuZGFyaWVzIiwic2hvd1F1ZXJ5R2VvbWV0cnkiLCJzaG93VGlsZUFBQkJzIiwic2VsZWN0ZWRTb3VyY2UiLCJzaG93UGFkZGluZyIsImJvdHRvbSIsImNlbnRlclBvaW50IiwiZHJhd0Nyb3NzaGFpciIsImRyYXdEZWJ1Z1BhZGRpbmciLCJNQVhfU0FGRV9JTlRFR0VSIiwidGlsZUxvYWRlZCIsInNwZWVkSW5kZXhUaW1pbmciLCJzYXZlQ2FudmFzQ29weSIsImdwdVRpbWluZ1N0YXJ0IiwiZ3B1VGltaW5nRW5kIiwiZ3B1VGltaW5nIiwiZXh0IiwibGF5ZXJUaW1lciIsImNhbGxzIiwiY3B1VGltZSIsImNyZWF0ZVF1ZXJ5RVhUIiwiYmVnaW5RdWVyeUVYVCIsIlRJTUVfRUxBUFNFRF9FWFQiLCJncHVUaW1pbmdEZWZlcnJlZFJlbmRlciIsImVuZFF1ZXJ5RVhUIiwiY29sbGVjdEdwdVRpbWVycyIsImN1cnJlbnRMYXllclRpbWVycyIsImNvbGxlY3REZWZlcnJlZFJlbmRlckdwdVF1ZXJpZXMiLCJjdXJyZW50UXVlcmllcyIsInF1ZXJ5R3B1VGltZXJzIiwiZ3B1VGltZXIiLCJncHVUaW1lIiwiZ2V0UXVlcnlPYmplY3RFWFQiLCJRVUVSWV9SRVNVTFRfRVhUIiwiZGVsZXRlUXVlcnlFWFQiLCJxdWVyeUdwdVRpbWVEZWZlcnJlZFJlbmRlciIsImdwdVF1ZXJpZXMiLCJpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzIiwic2luQSIsImNvc0EiLCJ0cmFuc2xhdGlvbiIsInRyYW5zbGF0ZWRNYXRyaXgiLCJ0ZXh0dXJlcyIsImN1cnJlbnRHbG9iYWxEZWZpbmVzIiwicnR0IiwiemVyb0V4YWdnZXJhdGlvbiIsImNhY2hlIiwiYWxsRGVmaW5lcyIsImZvZ1VuaWZvcm1WYWx1ZXMiLCJzZXRUaWxlTG9hZGVkRmxhZyIsImZsYWciLCJjYW52YXNDb3B5IiwiY29weVRleEltYWdlMkQiLCJnZXRDYW52YXNDb3BpZXNBbmRUaW1lc3RhbXBzIiwiY2FudmFzQ29waWVzIiwidGltZVN0YW1wcyIsImF2ZXJhZ2VFbGV2YXRpb25OZWVkc0Vhc2luZyIsIl9lbGV2YXRpb24iLCJvbGRUaWxlcyIsIm5ld1RpbGVzIiwiY2xlYXJCYWNrZ3JvdW5kVGlsZXMiLCJFZGdlSW5zZXRzIiwib3RoZXIiLCJ0b0pTT04iLCJ1cGRhdGVUcmFuc2Zvcm1PcmllbnRhdGlvbiIsImdldENvbHVtbiIsInNldENvbHVtbiIsIm9yaWVudGF0aW9uRnJvbVBpdGNoQmVhcmluZyIsIm9yaWVudGF0aW9uRnJvbUZyYW1lIiwieHlGb3J3YXJkIiwieHlVcCIsInh5RGlyIiwic2NhbGUkMiIsImxlbiIsIkZyZWVDYW1lcmFPcHRpb25zIiwiX3Bvc2l0aW9uIiwibWVyY2F0b3JDb29yZGluYXRlIiwiX3JlbmRlcldvcmxkQ29waWVzIiwibG9va0F0UG9pbnQiLCJsb2NhdGlvbiIsImFsdGl0dWRlIiwic2V0UGl0Y2hCZWFyaW5nIiwiRnJlZUNhbWVyYSIsIm1lcmNhdG9yUG9zaXRpb24iLCJjb2wiLCJfb3JpZW50YXRpb24iLCJpZGVudGl0eSQxIiwiZ2V0UGl0Y2hCZWFyaW5nIiwiZiIsImdldENhbWVyYVRvV29ybGQiLCJwaXhlbHNQZXJNZXRlciIsImNhbWVyYVRvV29ybGQiLCJnZXRXb3JsZFRvQ2FtZXJhUG9zaXRpb24iLCJ1bmlmb3JtU2NhbGUiLCJpbnZQb3NpdGlvbiIsImludk9yaWVudGF0aW9uIiwiZ2V0Q2FtZXJhVG9DbGlwUGVyc3BlY3RpdmUiLCJmb3Z5IiwibmVhcloiLCJmYXJaIiwicGVyc3BlY3RpdmUiLCJnZXREaXN0YW5jZVRvRWxldmF0aW9uIiwiZWxldmF0aW9uTWV0ZXJzIiwibGF0RnJvbU1lcmNhdG9yWSIsImdldFByb2plY3Rpb25BZGp1c3RtZW50cyIsIndpdGhvdXRSb3RhdGlvbiIsImludGVycFQiLCJnZXRQcm9qZWN0aW9uSW50ZXJwb2xhdGlvblQiLCJsb2MiLCJsb2N3IiwiTG5nTGF0IiwibG9jZSIsInB3IiwicGUiLCJhbmdsZUFkanVzdCIsIm1jMiIsImxvYzIiLCJwMiIsIm1jMyIsImxvYzMiLCJwMyIsImRlbHRhMyIsInJvdGF0ZSIsIm1jNCIsImxvYzQiLCJwNCIsImRlbHRhNCIsInVucm90YXRlIiwic2hlYXIiLCJnZXRTaGVhckFkanVzdG1lbnQiLCJzY2FsZUFkanVzdG1lbnQiLCJnZXRTY2FsZUFkanVzdG1lbnQiLCJnZXRab29tQWRqdXN0bWVudCIsInpvb21BZGp1c3RtZW50T3JpZ2luIiwibWF4U2l6ZSIsInJhbmdlQWRqdXN0bWVudCIsIk1BWF9NRVJDQVRPUl9MQVRJVFVERSIsImxvYzEiLCJwMSIsIm0xIiwibTIiLCJwZHgiLCJwZHkiLCJtZHgiLCJtZHkiLCJUcmFuc2Zvcm0iLCJtaW5ab29tIiwibWluUGl0Y2giLCJtYXhQaXRjaCIsIl9taW5ab29tIiwiX21heFpvb20iLCJfbWluUGl0Y2giLCJfbWF4UGl0Y2giLCJzZXRNYXhCb3VuZHMiLCJfbmVhcloiLCJfZmFyWiIsIl91bm1vZGlmaWVkIiwiX2VkZ2VJbnNldHMiLCJfcHJvak1hdHJpeENhY2hlIiwiX2FsaWduZWRQcm9qTWF0cml4Q2FjaGUiLCJfZm9nVGlsZU1hdHJpeENhY2hlIiwiX2Rpc3RhbmNlVGlsZURhdGFDYWNoZSIsIl9hdmVyYWdlRWxldmF0aW9uIiwiY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlIiwiX2hvcml6b25TaGlmdCIsIl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uIiwiX3NldFpvb20iLCJfc2VhTGV2ZWxab29tIiwiX2NhbGNNYXRyaWNlcyIsIl91cGRhdGVDYW1lcmFPblRlcnJhaW4iLCJjb25zdHJhaW5DYW1lcmFPdmVyVGVycmFpbiIsImNlbnRlckFsdGl0dWRlQ2hhbmdlZCIsIl9jb25zdHJhaW5DYW1lcmEiLCJvbGRQcm9qZWN0aW9uIiwicHJvamVjdGlvbkhhc0NoYW5nZWQiLCJzZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uIiwic3VwcG9ydHNXb3JsZENvcGllcyIsImNhbWVyYVdvcmxkU2l6ZUZvckZvZyIsIkVQU0lMT04iLCJfd29ybGRTaXplRnJvbVpvb20iLCJfem9vbUZyb21NZXJjYXRvcloiLCJjYW1lcmFXb3JsZFNpemUiLCJjYW1lcmFQaXhlbHNQZXJNZXRlciIsImNlbnRlck9mZnNldCIsIl9zdWIiLCJyb3RhdGlvbiIsInJhZCIsImFzcGVjdCIsImZvdlgiLCJmb3ZZIiwiZm9jYWxMZW5ndGgiLCJhdGFuIiwiYXZlcmFnZUVsZXZhdGlvbiIsIl9jYWxjRm9nTWF0cmljZXMiLCJfem9vbSIsIl91cGRhdGVTZWFMZXZlbFpvb20iLCJfY29uc3RyYWluIiwiem9vbVNjYWxlIiwiem9vbUZyYWN0aW9uIiwiaXNEYXRhQXZhaWxhYmxlQXRQb2ludCIsImxvY2F0aW9uQ29vcmRpbmF0ZSIsInNhbXBsZUF2ZXJhZ2VFbGV2YXRpb24iLCJlbGV2YXRpb25TYW1wbGVQb2ludHMiLCJob3Jpem9uTGluZUZyb21Ub3AiLCJlbGV2YXRpb25TdW0iLCJ3ZWlnaHRTdW0iLCJoaXQiLCJ3ZWlnaHQiLCJoeXBvdCIsIk5hTiIsIl91cGRhdGVab29tRnJvbUVsZXZhdGlvbiIsInNlYUxldmVsWm9vbSIsImVsZXZhdGlvbkF0Q2VudGVyIiwibWVyY2F0b3JFbGV2YXRpb24iLCJfbWVyY2F0b3JaZnJvbVpvb20iLCJtaW5IZWlnaHQiLCJjb21wdXRlWm9vbVJlbGF0aXZlVG8iLCJjZW50ZXJPblRhcmdldEFsdGl0dWRlIiwicmF5SW50ZXJzZWN0aW9uQ29vcmRpbmF0ZSIsInBvaW50UmF5SW50ZXJzZWN0aW9uIiwidG9BbHRpdHVkZSIsInRhcmdldFBvc2l0aW9uIiwic2V0RnJlZUNhbWVyYU9wdGlvbnMiLCJfdXBkYXRlQ2FtZXJhU3RhdGUiLCJfc2V0Q2FtZXJhT3JpZW50YXRpb24iLCJuZXdQb3NpdGlvbiIsImV4YWN0RXF1YWxzJDEiLCJfc2V0Q2FtZXJhUG9zaXRpb24iLCJfdXBkYXRlU3RhdGVGcm9tQ2FtZXJhIiwicmVjZW50ZXJPblRlcnJhaW4iLCJsZW5ndGgkMSIsInRyYW5zZm9ybVF1YXQiLCJ1cGRhdGVkT3JpZW50YXRpb24iLCJtaW5Xb3JsZFNpemUiLCJtYXhXb3JsZFNpemUiLCJkaXN0VG9DZW50ZXIiLCJmb3ZBYm92ZUNlbnRlciIsImlzUGFkZGluZ0VxdWFsIiwiaW50ZXJwb2xhdGVQYWRkaW5nIiwic2NhbGVab29tIiwiZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzIiwiVW53cmFwcGVkVGlsZUlEIiwidXRsIiwidXRyIiwidWJsIiwidWJyIiwidzAiLCJ3MSIsImV4dHJhV29ybGRDb3B5IiwiYWN0dWFsWiIsInVzZUVsZXZhdGlvbkRhdGEiLCJpc1RlcnJhaW5ERU0iLCJpc01lcmNhdG9yIiwiY2VudGVyQ29vcmQiLCJjZW50ZXJMYXRpdHVkZSIsInpJbk1ldGVycyIsImNhbWVyYUZydXN0dW0iLCJGcnVzdHVtIiwiZnJvbUludlByb2plY3Rpb25NYXRyaXgiLCJjYW1lcmFDb29yZCIsIm1ldGVyVG9UaWxlIiwiY2FtZXJhQWx0aXR1ZGUiLCJ6b29tU3BsaXREaXN0YW5jZSIsImlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSIsIm1heFJhbmdlIiwibWluUmFuZ2UiLCJyZWxhdGl2ZVNjYWxlQXRNZXJjYXRvckNvb3JkIiwibWNFYXN0IiwibWNTb3V0aCIsImxsIiwibGxFYXN0IiwibGxTb3V0aCIsInBFYXN0IiwicFNvdXRoIiwibmV3Um9vdFRpbGUiLCJ0aWxlQUFCQiIsIm1pbloiLCJtYXhaIiwiZnVsbHlWaXNpYmxlIiwic3RhY2siLCJzcXVhcmUiLCJjYW1lcmFIZWlnaHRTcXIiLCJnZXRBQUJCRnJvbUVsZXZhdGlvbiIsIml0IiwibWlubWF4IiwiZ2V0TWluTWF4Rm9yVGlsZSIsInNob3VsZFNwbGl0IiwiZGlzdGFuY2VYIiwiZGlzdGFuY2VZIiwiZHpTcXIiLCJ0aWxlU2NhbGVBZGp1c3RtZW50IiwiZGlzdGFuY2VaIiwibWluTGF0IiwibWF4TGF0IiwiY2xvc2VzdExhdCIsInJlbGF0aXZlVGlsZVNjYWxlIiwiY2lyY3VtZmVyZW5jZUF0TGF0aXR1ZGUiLCJfbWVyY2F0b3JTY2FsZVJhdGlvIiwiR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOIiwicmVsYXRpdmVTY2FsZSIsImRpc3RhbmNlU3FyIiwiZGlzdFRvU3BsaXRTcXIiLCJkU3FyIiwiZGlzdFRvU3BsaXRTY2FsZSIsImludGVyc2VjdFJlc3VsdCIsImludGVyc2VjdHMiLCJjaGlsZFgiLCJjaGlsZFkiLCJjaGlsZCIsInF1YWRyYW50IiwiZGlzdGFuY2VTcSIsImVudHJ5IiwiZm9nVGlsZU1hdHJpeCIsInNxRGlzdCIsImdldEFBQkJQb2ludFNxdWFyZURpc3QiLCJvdmVySG9yaXpvbkxpbmUiLCJjb3JuZXJGYXIiLCJmdXJ0aGVzdFRpbGVDb3JuZXIiLCJ3b3JsZEZhciIsInVubW9kaWZpZWQiLCJsbmdsYXQiLCJwcm9qZWN0ZWRMbmdMYXQiLCJ1bnByb2plY3QiLCJzZXRMb2NhdGlvbkF0UG9pbnQiLCJzZXRMb2NhdGlvbiIsImNvb3JkaW5hdGVMb2NhdGlvbiIsImxvY2F0aW9uUG9pbnQiLCJsb2NhdGlvblBvaW50M0QiLCJwb2ludExvY2F0aW9uIiwicG9pbnRMb2NhdGlvbjNEIiwidGFyZ2V0WiIsInAwIiwic2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5IiwicmF5SW50ZXJzZWN0aW9uIiwic2FtcGxlcyIsInRocmVzaG9sZCIsInJDYXN0IiwiX2Nvb3JkaW5hdGVQb2ludCIsInNhbXBsZVRlcnJhaW5JbjNEIiwiX2dldEJvdW5kc05vblJlY3Rhbmd1bGFyIiwid2VzdCIsImVhc3QiLCJzb3V0aCIsIm5vcnRoIiwibWF4RXJyIiwibWluUmVjdXJzaW9ucyIsInByb2Nlc3NTZWdtZW50IiwiYXgiLCJheSIsImJ4IiwiYnkiLCJteCIsIm15Iiwibm9ydGhQb2xlSXNWaXNpYmxlIiwic291dGhQb2xlSXNWaXNpYmxlIiwicG9sZXNJblZpZXdwb3J0IiwiX2dldEJvdW5kc1JlY3Rhbmd1bGFyIiwidG9wTGVmdCIsInRvcFJpZ2h0IiwiYm90dG9tUmlnaHQiLCJib3R0b21MZWZ0Iiwic2xvcGUiLCJfZ2V0Qm91bmRzUmVjdGFuZ3VsYXJUZXJyYWluIiwibWF4aW11bXMiLCJjbGFtcFRvVG9wIiwiZ2V0TWF4Qm91bmRzIiwibWF4Qm91bmRzIiwibWluTG5nIiwibWF4TG5nIiwid29ybGRNaW5YIiwid29ybGRNYXhYIiwid29ybGRNaW5ZIiwid29ybGRNYXhZIiwiY2FsY3VsYXRlUG9zTWF0cml4IiwiZGlzdGFuY2VEYXRhS2V5Iiwid2luZG93U2NhbGVGYWN0b3IiLCJjd3MiLCJ0WCIsInRZIiwiYlgiLCJiWSIsImZvZ1RpbGVNYXRyaXhLZXkiLCJ3b3JsZFRvRm9nTWF0cml4IiwiYWxpZ25lZCIsInByb2pNYXRyaXhLZXkiLCJtZXJjYXRvck1hdHJpeCIsImFsaWduZWRQcm9qTWF0cml4IiwiX3BpeGVsc1RvVGlsZVVuaXRzQ2FjaGUiLCJpbnZlcnNlQWRqdXN0bWVudE1hdHJpeCIsInYxIiwidjAiLCJnZXRQaXhlbHNUb1RpbGVVbml0c01hdHJpeCIsInBpeGVsc1RvTWVyYyIsImZyb21TY2FsaW5nIiwibWVyY1BpeGVsc1Blck1ldGVyIiwiX2NvbXB1dGVDYW1lcmFQb3NpdGlvbiIsIm1ldGVyc1RvTWVyYyIsIm5ld0NlbnRlciIsIm1heEFsdGl0dWRlIiwiZWxldmF0aW9uQXRDYW1lcmEiLCJ0ZXJyYWluRWxldmF0aW9uIiwiX21pbmltdW1IZWlnaHRPdmVyVGVycmFpbiIsImNhbWVyYUhlaWdodCIsImNhbWVyYVRvQ2VudGVyIiwicHJldkRpc3RUb0NhbWVyYSIsIm5ld0Rpc3RUb0NhbWVyYSIsIl9pc0NhbWVyYUNvbnN0cmFpbmVkIiwiX2NvbnN0cmFpbmluZyIsIncyIiwiaDIiLCJfbWluWm9vbUZvckJvdW5kcyIsIl9tYXhDYW1lcmFCb3VuZHNEaXN0YW5jZSIsIkdMT0JFX1NDQUxFX01BVENIX0xBVElUVURFIiwicHJvamVjdGlvblQiLCJwaXhlbFNwYWNlQ29udmVyc2lvbiIsImZhcnRoZXN0UGl4ZWxEaXN0YW5jZSIsInpVbml0IiwiekF4aXNVbml0Iiwid29ybGRUb0NhbWVyYSIsImNhbWVyYVRvQ2xpcCIsImFkanVzdG1lbnRzIiwiZ2V0UHJvamVjdGlvbkFkanVzdG1lbnRJbnZlcnRlZCIsImNsaXBUb0NhbWVyYSIsIkZydXN0dW1Db3JuZXJzIiwidmlldyIsInNreWJveEhvcml6b25TaGlmdCIsInhTaGlmdCIsInlTaGlmdCIsImFuZ2xlQ29zIiwiYW5nbGVTaW4iLCJhbGlnbmVkTSIsImNhbGN1bGF0ZUdsb2JlTWF0cml4IiwiZ2xvYmVDZW50ZXIiLCJ0cmFuc2Zvcm1NYXQ0IiwiY2FtZXJhUG9zIiwibWV0ZXJzVG9QaXhlbCIsInRhcmdldFBpeGVsc1Blck1ldGVyIiwiX3RyYW5zbGF0ZUNhbWVyYUNvbnN0cmFpbmVkIiwiZGVsdGFaIiwiY2VudGVyQWx0aXR1ZGUiLCJNQVhfRFJBUEVfT1ZFUlpPT00iLCJ6b29tRnJvbU1lcmNhdG9yWkFkanVzdGVkIiwibWVyY2F0b3JaIiwiem9vbUxvdyIsInpvb21IaWdoIiwiR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYIiwibWluWm9vbURpZmYiLCJ6b29tTWlkIiwibmV3Wm9vbSIsImRpZmYiLCJhbnlDb3JuZXJPZmZFZGdlIiwiY29ybmVycyIsIm1pbldYIiwibWF4V1giLCJjb3JuZXIiLCJjb29yZGluYXRlIiwicmFkVG9EZWciLCJ6b29tRGVsdGFUb01vdmVtZW50Iiwiem9vbURlbHRhIiwicmVsYXRpdmVab29tIiwicHJvamVjdENsYW1wZWQiLCJwcm9qZWN0aW9uU2NhbGVyIiwiZ2V0V29ybGRUb0NhbWVyYU1hdHJpeCIsInRocm90dGxlIiwidGltZSIsInBlbmRpbmciLCJ0aW1lcklkIiwibGF0ZXIiLCJIYXNoIiwiaGFzaE5hbWUiLCJfaGFzaE5hbWUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJfdXBkYXRlSGFzaCIsIl91cGRhdGVIYXNoVW50aHJvdHRsZWQiLCJhZGRUbyIsIl9vbkhhc2hDaGFuZ2UiLCJjbGVhclRpbWVvdXQiLCJnZXRIYXNoU3RyaW5nIiwiaGFzaCIsImZvdW5kIiwicGFydHMiLCJfZ2V0Q3VycmVudEhhc2giLCJrZXl2YWwiLCJkcmFnUm90YXRlIiwiaXNFbmFibGVkIiwidG91Y2hab29tUm90YXRlIiwiZ2V0QmVhcmluZyIsImp1bXBUbyIsImhyZWYiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwibWFwRmVlZGJhY2siLCJnZXRab29tIiwiTE4xMCIsImdldFBpdGNoIiwiZGVmYXVsdEluZXJ0aWFPcHRpb25zIiwibGluZWFyaXR5IiwiZWFzaW5nIiwiYmV6aWVyIiwiZGVmYXVsdFBhbkluZXJ0aWFPcHRpb25zIiwiZGVjZWxlcmF0aW9uIiwibWF4U3BlZWQiLCJkZWZhdWx0Wm9vbUluZXJ0aWFPcHRpb25zIiwiZGVmYXVsdEJlYXJpbmdJbmVydGlhT3B0aW9ucyIsImRlZmF1bHRQaXRjaEluZXJ0aWFPcHRpb25zIiwiSGFuZGxlckluZXJ0aWEiLCJfaW5lcnRpYUJ1ZmZlciIsInJlY29yZCIsInNldHRpbmdzIiwiX2RyYWluSW5lcnRpYUJ1ZmZlciIsImluZXJ0aWEiLCJfb25Nb3ZlRW5kIiwicGFuSW5lcnRpYU9wdGlvbnMiLCJwcmVmZXJzUmVkdWNlZE1vdGlvbiIsImRlbHRhcyIsInBhbiIsInBpbmNoQXJvdW5kIiwiYXJvdW5kIiwiYmVhcmluZ0RlbHRhIiwicGl0Y2hEZWx0YSIsInBhbkRlbHRhIiwiZWFzZU9wdGlvbnMiLCJtYWciLCJjYWxjdWxhdGVFYXNpbmciLCJhbW91bnQiLCJleHRlbmREdXJhdGlvbiIsIm5vTW92ZVN0YXJ0IiwiaW5lcnRpYUR1cmF0aW9uIiwiaW5lcnRpYU9wdGlvbnMiLCJzcGVlZCIsIk1hcE1vdXNlRXZlbnQiLCJfZGVmYXVsdFByZXZlbnRlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJvcmlnaW5hbEV2ZW50IiwiRE9NIiwiZ2V0Q2FudmFzQ29udGFpbmVyIiwiTWFwVG91Y2hFdmVudCIsImNoYW5nZWRUb3VjaGVzIiwibG5nTGF0cyIsImN1cnIiLCJhcnIiLCJkaXYiLCJNYXBXaGVlbEV2ZW50IiwiTWFwRXZlbnRIYW5kbGVyIiwiX2NsaWNrVG9sZXJhbmNlIiwiY2xpY2tUb2xlcmFuY2UiLCJfbW91c2Vkb3duUG9zIiwid2hlZWwiLCJfZmlyZVByZXZlbnRhYmxlIiwibW91c2Vkb3duIiwibW91c2V1cCIsInByZWNsaWNrIiwic3ludGgiLCJjbGljayIsImRibGNsaWNrIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJ0b3VjaHN0YXJ0IiwidG91Y2htb3ZlIiwidG91Y2hlbmQiLCJ0b3VjaGNhbmNlbCIsIm1hcEV2ZW50IiwiaXNBY3RpdmUiLCJCbG9ja2FibGVNYXBFdmVudEhhbmRsZXIiLCJfZGVsYXlDb250ZXh0TWVudSIsIl9jb250ZXh0TWVudUV2ZW50IiwibW91c2Vtb3ZlIiwiY29udGV4dG1lbnUiLCJsaXN0ZW5zIiwiQm94Wm9vbUhhbmRsZXIiLCJfZWwiLCJfY29udGFpbmVyIiwiZ2V0Q29udGFpbmVyIiwiX2VuYWJsZWQiLCJfYWN0aXZlIiwic2hpZnRLZXkiLCJfc3RhcnRQb3MiLCJfbGFzdFBvcyIsIm1vdXNlbW92ZVdpbmRvdyIsIl9ib3giLCJjbGFzc0xpc3QiLCJfZmlyZUV2ZW50IiwibW91c2V1cFdpbmRvdyIsImNhbWVyYUFuaW1hdGlvbiIsImZpdFNjcmVlbkNvb3JkaW5hdGVzIiwibGluZWFyIiwia2V5ZG93biIsImtleUNvZGUiLCJibHVyIiwiaW5kZXhUb3VjaGVzIiwiU2luZ2xlVGFwUmVjb2duaXplciIsIm51bVRvdWNoZXMiLCJtYXBUb3VjaGVzIiwidGltZVN0YW1wIiwic3VtIiwiZ2V0Q2VudHJvaWQiLCJuZXdUb3VjaGVzIiwicHJldlBvcyIsIlRhcFJlY29nbml6ZXIiLCJzaW5nbGVUYXAiLCJudW1UYXBzIiwibGFzdFRpbWUiLCJsYXN0VGFwIiwidGFwIiwic29vbkVub3VnaCIsImNsb3NlRW5vdWdoIiwiVGFwWm9vbUhhbmRsZXIiLCJfem9vbUluIiwiX3pvb21PdXQiLCJ6b29tSW5Qb2ludCIsInpvb21PdXRQb2ludCIsImVhc2VUbyIsIkJVVFRPTlNfRkxBR1MiLCJNb3VzZUhhbmRsZXIiLCJfbW92ZWQiLCJfbGFzdFBvaW50IiwiX2V2ZW50QnV0dG9uIiwiX2NvcnJlY3RCdXR0b24iLCJfbW92ZSIsImxhc3RQb2ludCIsImV2ZW50QnV0dG9uIiwiYnV0dG9ucyIsImJ1dHRvblN0aWxsUHJlc3NlZCIsIk1vdXNlUGFuSGFuZGxlciIsIk1vdXNlUm90YXRlSGFuZGxlciIsIk1vdXNlUGl0Y2hIYW5kbGVyIiwiVG91Y2hQYW5IYW5kbGVyIiwiX21pblRvdWNoZXMiLCJfdG91Y2hlcyIsIl9zdW0iLCJfY2FsY3VsYXRlVHJhbnNmb3JtIiwiX2Nvb3BlcmF0aXZlR2VzdHVyZXMiLCJpc01vdmluZyIsImlzRnVsbHNjcmVlbiIsIl9zaG93VG91Y2hQYW5CbG9ja2VyQWxlcnQiLCJfYWxlcnRDb250YWluZXIiLCJ2aXNpYmlsaXR5IiwiX2FsZXJ0VGltZXIiLCJjYW5jZWxhYmxlIiwidG91Y2hQb2ludFN1bSIsInRvdWNoRGVsdGFTdW0iLCJ0b3VjaERlbHRhQ291bnQiLCJwcmV2UG9pbnQiLCJfYWRkVG91Y2hQYW5CbG9ja2VyIiwidGV4dENvbnRlbnQiLCJfZ2V0VUlTdHJpbmciLCJjbGllbnRXaWR0aCIsIlR3b1RvdWNoSGFuZGxlciIsIl9maXJzdFR3b1RvdWNoZXMiLCJfc3RhcnQiLCJmaXJzdFRvdWNoZXMiLCJnZXRUb3VjaEJ5SWQiLCJfYXJvdW5kQ2VudGVyIiwiZ2V0Wm9vbURlbHRhIiwibGFzdERpc3RhbmNlIiwiVG91Y2hab29tSGFuZGxlciIsIl9kaXN0YW5jZSIsIl9zdGFydERpc3RhbmNlIiwiZ2V0QmVhcmluZ0RlbHRhIiwiYW5nbGVXaXRoIiwiVG91Y2hSb3RhdGVIYW5kbGVyIiwiX21pbkRpYW1ldGVyIiwiX3N0YXJ0VmVjdG9yIiwiX3ZlY3RvciIsImxhc3RWZWN0b3IiLCJfaXNCZWxvd1RocmVzaG9sZCIsInN0YXJ0VmVjdG9yIiwiYmVhcmluZ0RlbHRhU2luY2VTdGFydCIsImlzVmVydGljYWwiLCJUb3VjaFBpdGNoSGFuZGxlciIsIl92YWxpZCIsIl9maXJzdE1vdmUiLCJfbGFzdFBvaW50cyIsImxhc3RQb2ludHMiLCJ2ZWN0b3JBIiwidmVjdG9yQiIsImdlc3R1cmVCZWdpbnNWZXJ0aWNhbGx5IiwibW92ZWRBIiwibW92ZWRCIiwiaXNTYW1lRGlyZWN0aW9uIiwiZGVmYXVsdE9wdGlvbnMiLCJwYW5TdGVwIiwiYmVhcmluZ1N0ZXAiLCJwaXRjaFN0ZXAiLCJLZXlib2FyZEhhbmRsZXIiLCJzdGVwT3B0aW9ucyIsIl9wYW5TdGVwIiwiX2JlYXJpbmdTdGVwIiwiX3BpdGNoU3RlcCIsIl9yb3RhdGlvbkRpc2FibGVkIiwiYWx0S2V5IiwibWV0YUtleSIsInpvb21EaXIiLCJiZWFyaW5nRGlyIiwicGl0Y2hEaXIiLCJ4RGlyIiwieURpciIsImVhc2VJZCIsImVhc2VPdXQiLCJkaXNhYmxlUm90YXRpb24iLCJlbmFibGVSb3RhdGlvbiIsIndoZWVsWm9vbURlbHRhIiwiU2Nyb2xsWm9vbUhhbmRsZXIiLCJoYW5kbGVyIiwiX2hhbmRsZXIiLCJfZGVsdGEiLCJfZGVmYXVsdFpvb21SYXRlIiwiX3doZWVsWm9vbVJhdGUiLCJzZXRab29tUmF0ZSIsInpvb21SYXRlIiwic2V0V2hlZWxab29tUmF0ZSIsIndoZWVsWm9vbVJhdGUiLCJfZmluaXNoVGltZW91dCIsImlzWm9vbWluZyIsIl96b29taW5nIiwiX2FkZFNjcm9sbFpvb21CbG9ja2VyIiwiX3Nob3dCbG9ja2VyQWxlcnQiLCJkZWx0YU1vZGUiLCJXaGVlbEV2ZW50IiwiRE9NX0RFTFRBX0xJTkUiLCJkZWx0YVkiLCJ0aW1lRGVsdGEiLCJfbGFzdFdoZWVsRXZlbnRUaW1lIiwiX3R5cGUiLCJfbGFzdFZhbHVlIiwiX3RpbWVvdXQiLCJfb25UaW1lb3V0IiwiX2xhc3RXaGVlbEV2ZW50IiwiaW5pdGlhbEV2ZW50IiwiX2ZyYW1lSWQiLCJfYXJvdW5kUG9pbnQiLCJfYXJvdW5kQ29vcmQiLCJfdGFyZ2V0Wm9vbSIsIl90cmlnZ2VyUmVuZGVyRnJhbWUiLCJyZW5kZXJGcmFtZSIsIl9wcmV2RWFzZSIsIl9lYXNpbmciLCJzdGFydGluZ1pvb20iLCJzdGFydFpvb20iLCJzdGFydFNjYWxlIiwiZnJvbVNjYWxlIiwiX3N0YXJ0Wm9vbSIsIl9zbW9vdGhPdXRFYXNpbmciLCJ0YXJnZXRab29tIiwiZmluaXNoZWQiLCJub0luZXJ0aWEiLCJuZWVkc1JlbmRlckZyYW1lIiwiYXJvdW5kQ29vcmQiLCJfZWFzZSIsImVhc2UiLCJ1c2VyQWdlbnQiLCJEb3VibGVDbGlja1pvb21IYW5kbGVyIiwiY2xpY2tab29tIiwiVGFwWm9vbSIsIl9jbGlja1pvb20iLCJfdGFwWm9vbSIsIkNsaWNrWm9vbUhhbmRsZXIiLCJUYXBEcmFnWm9vbUhhbmRsZXIiLCJfdGFwIiwiX3N3aXBlUG9pbnQiLCJfc3dpcGVUb3VjaCIsIl90YXBUaW1lIiwibmV3U3dpcGVQb2ludCIsIkRyYWdQYW5IYW5kbGVyIiwibW91c2VQYW4iLCJ0b3VjaFBhbiIsIl9tb3VzZVBhbiIsIl90b3VjaFBhbiIsIl9pbmVydGlhT3B0aW9ucyIsIkRyYWdSb3RhdGVIYW5kbGVyIiwibW91c2VSb3RhdGUiLCJtb3VzZVBpdGNoIiwiX3BpdGNoV2l0aFJvdGF0ZSIsInBpdGNoV2l0aFJvdGF0ZSIsIl9tb3VzZVJvdGF0ZSIsIl9tb3VzZVBpdGNoIiwiVG91Y2hab29tUm90YXRlSGFuZGxlciIsInRvdWNoWm9vbSIsInRvdWNoUm90YXRlIiwidGFwRHJhZ1pvb20iLCJfdG91Y2hab29tIiwiX3RvdWNoUm90YXRlIiwiX3RhcERyYWdab29tIiwiZHJhZyIsIlJlbmRlckZyYW1lRXZlbnQiLCJUcmFja2luZ0VsbGlwc29pZCIsImNvbnN0YW50cyIsInBvaW50T25TdXJmYWNlIiwiY2VudGVyVG9TdXJmYWNlIiwicHJvamVjdFJheSIsImludGVyc2VjdGlvbiIsImhhc0NoYW5nZSIsIkhhbmRsZXJNYW5hZ2VyIiwiX2hhbmRsZXJzIiwiX2hhbmRsZXJzQnlJZCIsIl9jaGFuZ2VzIiwiX2luZXJ0aWEiLCJfYmVhcmluZ1NuYXAiLCJiZWFyaW5nU25hcCIsIl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzIiwiX3RyYWNraW5nRWxsaXBzb2lkIiwiX2RyYWdPcmlnaW4iLCJfZXZlbnRzSW5Qcm9ncmVzcyIsIl9hZGREZWZhdWx0SGFuZGxlcnMiLCJfbGlzdGVuZXJzIiwicGFzc2l2ZSIsImNhcHR1cmUiLCJsaXN0ZW5lck9wdGlvbnMiLCJoYW5kbGVXaW5kb3dFdmVudCIsImhhbmRsZUV2ZW50IiwiYm94Wm9vbSIsInRhcFpvb20iLCJkb3VibGVDbGlja1pvb20iLCJ0b3VjaFBpdGNoIiwiZHJhZ1BhbiIsInNjcm9sbFpvb20iLCJrZXlib2FyZCIsImludGVyYWN0aXZlIiwiaGFuZGxlck5hbWUiLCJhbGxvd2VkIiwic3RvcCIsImFsbG93RW5kQW5pbWF0aW9uIiwiX3VwZGF0aW5nQ2FtZXJhIiwiX2ZpcmVFdmVudHMiLCJpc1JvdGF0aW5nIiwiX2lzRHJhZ2dpbmciLCJfYmxvY2tlZEJ5QWN0aXZlIiwiYWN0aXZlSGFuZGxlcnMiLCJteU5hbWUiLCJfZ2V0TWFwVG91Y2hlcyIsImV2ZW50TmFtZSIsImlzUmVuZGVyRnJhbWUiLCJpbnB1dEV2ZW50IiwibWVyZ2VkSGFuZGxlclJlc3VsdCIsImV2ZW50c0luUHJvZ3Jlc3MiLCJtZXJnZUhhbmRsZXJSZXN1bHQiLCJkZWFjdGl2YXRlZEhhbmRsZXJzIiwiX3N0b3AiLCJoYW5kbGVyUmVzdWx0IiwiZXZlbnREYXRhIiwiX2FwcGx5Q2hhbmdlcyIsImNvbWJpbmVkIiwiY29tYmluZWRFdmVudHNJblByb2dyZXNzIiwiY29tYmluZWREZWFjdGl2YXRlZEhhbmRsZXJzIiwiY2hhbmdlIiwiX3VwZGF0ZU1hcFRyYW5zZm9ybSIsImNvbWJpbmVkUmVzdWx0IiwidG9WZWMzIiwiZXZlbnRFbmRlZCIsInByZVpvb20iLCJldmVudFN0YXJ0ZWQiLCJwYW5WZWMiLCJzdGFydFBvaW50IiwiZW5kUG9pbnQiLCJtZXJjYXRvclNjYWxlIiwib3JpZ2luYWxab29tIiwiem9vbVZlYyIsInBpY2tlZFBvc2l0aW9uIiwiYXJvdW5kUmF5Iiwibm9ybWFsaXplIiwibW92ZW1lbnQiLCJuZXdFdmVudHNJblByb2dyZXNzIiwid2FzTW92aW5nIiwibm93TW92aW5nIiwic3RhcnRFdmVudHMiLCJlbmRFdmVudHMiLCJvcmlnaW5hbEVuZEV2ZW50Iiwic3RpbGxNb3ZpbmciLCJpbmVydGlhbEVhc2UiLCJzaG91bGRTbmFwVG9Ob3J0aCIsInJlc2V0Tm9ydGgiLCJfcmVxdWVzdEZyYW1lIiwiX3JlbmRlclRhc2tRdWV1ZSIsImZyZWVDYW1lcmFOb3RTdXBwb3J0ZWRXYXJuaW5nIiwiQ2FtZXJhIiwiX21vdmluZyIsInBhbkJ5IiwicGFuVG8iLCJ6b29tVG8iLCJ6b29tSW4iLCJ6b29tT3V0IiwiZ2V0UGFkZGluZyIsInNldFBhZGRpbmciLCJyb3RhdGVUbyIsInJlc2V0Tm9ydGhQaXRjaCIsInNuYXBUb05vcnRoIiwiY2FtZXJhRm9yQm91bmRzIiwibG5nbGF0MCIsImdldE5vcnRoV2VzdCIsImxuZ2xhdDEiLCJnZXRTb3V0aEVhc3QiLCJfY2FtZXJhRm9yQm91bmRzIiwiX2V4dGVuZENhbWVyYU9wdGlvbnMiLCJkZWZhdWx0UGFkZGluZyIsIl9taW5pbXVtQUFCQkZydXN0dW1EaXN0YW5jZSIsImFhYmJXIiwiYWFiYkgiLCJfY2FtZXJhRm9yQm91bmRzT25HbG9iZSIsImVPcHRpb25zIiwiY29vcmQwIiwiY29vcmQxIiwibWlkTGF0IiwibWlkTG5nIiwib3JpZ2luIiwibGF0TG5nVG9FQ0VGIiwiekF4aXMiLCJ4QXhpcyIsInlBeGlzIiwiYWFiYk9yaWVudGF0aW9uIiwiZWNlZkNvb3JkcyIsIkFhYmIiLCJmcm9tUG9pbnRzIiwic3F1YXJlZExlbmd0aCIsImVjZWZUb0xhdExuZyIsImFwcGx5VHJhbnNmb3JtIiwiYWFiYkhhbGZFeHRlbnRaIiwiZnJ1c3R1bURpc3RhbmNlIiwib2Zmc2V0WiIsImFhYmJDbG9zZXN0UG9pbnQiLCJvZmZzZXREaXN0YW5jZSIsIm5vcm1hbCIsImNhbWVyYVBvc2l0aW9uIiwibWV0ZXJQZXJFQ0VGIiwiZWFydGhSYWRpdXMiLCJhbHRpdHVkZUVDRUYiLCJxdWVyeVRlcnJhaW5FbGV2YXRpb24iLCJleGFnZ2VyYXRlZCIsImdldEF0UG9pbnQiLCJlZGdlUGFkZGluZyIsImNvb3JkMiIsInAwd29ybGQiLCJwMXdvcmxkIiwiejIiLCJ6MyIsIndvcmxkQ29vcmRzIiwic2NyZWVuUGFkTCIsInNjcmVlblBhZFIiLCJzY3JlZW5QYWRCIiwic2NyZWVuUGFkVCIsInBhZEwiLCJwYWRSIiwicGFkVCIsInBhZEIiLCJoYWxmU2NyZWVuUGFkWCIsImhhbGZTY3JlZW5QYWRZIiwiem9vbVJlZiIsIm5vcm1hbFoiLCJyb3RhdGVkT2Zmc2V0IiwibWVyY2F0b3IiLCJsbmdGcm9tTWVyY2F0b3JYIiwiZml0Qm91bmRzIiwiY2FtZXJhUGxhY2VtZW50IiwiX2ZpdEludGVybmFsIiwic2NyZWVuMCIsInNjcmVlbjEiLCJsbmdsYXQyIiwibG5nbGF0MyIsInAwY29vcmQiLCJwMWNvb3JkIiwiY2FsY3VsYXRlZE9wdGlvbnMiLCJmbHlUbyIsInByZWxvYWRPbmx5Iiwiem9vbUNoYW5nZWQiLCJiZWFyaW5nQ2hhbmdlZCIsInBpdGNoQ2hhbmdlZCIsIl9wcmVsb2FkVGlsZXMiLCJzdXBwb3J0c0ZyZWVDYW1lcmEiLCJwcmV2Wm9vbSIsInByZXZQaXRjaCIsInByZXZCZWFyaW5nIiwiZGVmYXVsdEVhc2luZyIsImVzc2VudGlhbCIsInN0YXJ0QmVhcmluZyIsInN0YXJ0UGl0Y2giLCJzdGFydFBhZGRpbmciLCJfbm9ybWFsaXplQmVhcmluZyIsIm9mZnNldEFzUG9pbnQiLCJwb2ludEF0T2Zmc2V0IiwiZGVsdGEiLCJsb2NhdGlvbkF0T2Zmc2V0IiwiX25vcm1hbGl6ZUNlbnRlciIsImZpbmFsU2NhbGUiLCJhcm91bmRQb2ludCIsIl9yb3RhdGluZyIsIl9waXRjaGluZyIsInBhZGRpbmdDaGFuZ2VkIiwiYmFzZSIsInNwZWVkdXAiLCJfZmlyZU1vdmVFdmVudHMiLCJwcmVkaWN0ZWRUcmFuc2Zvcm1zIiwiX2VtdWxhdGUiLCJjdXJyZW50bHkiLCJwaXRjaGluZyIsIl9wYWRkaW5nIiwiX2Vhc2VJZCIsIl9wcmVwYXJlRWFzZSIsImludGVycnVwdGluZ0Vhc2VJZCIsIl9hZnRlckVhc2UiLCJ3YXNab29taW5nIiwid2FzUm90YXRpbmciLCJ3YXNQaXRjaGluZyIsImNvZXJjZWRPcHRpb25zIiwiY3VydmUiLCJyaG8iLCJ1MSIsIndNYXgiLCJyaG8yIiwic2luaCIsImNvc2giLCJyMCIsInUiLCJTIiwiaXNGaW5pdGUiLCJzY3JlZW5TcGVlZCIsIm1heER1cmF0aW9uIiwiaXNFYXNpbmciLCJfZWFzZUZyYW1lSWQiLCJhbGxvd0dlc3R1cmVzIiwiX2NhbmNlbFJlbmRlckZyYW1lIiwiX29uRWFzZUZyYW1lIiwiX29uRWFzZUVuZCIsIm9uRWFzZUVuZCIsImhhbmRsZXJzIiwiZmluaXNoIiwiX2Vhc2VTdGFydCIsIl9lYXNlT3B0aW9ucyIsIl9yZXF1ZXN0UmVuZGVyRnJhbWUiLCJfcmVuZGVyRnJhbWVDYWxsYmFjayIsImN1cnJlbnRCZWFyaW5nIiwiaW5pdGlhbFRyYW5zZm9ybSIsIm51bUZyYW1lcyIsInRyYW5zZm9ybXMiLCJlbXVsYXRlRnJhbWUiLCJBdHRyaWJ1dGlvbkNvbnRyb2wiLCJnZXREZWZhdWx0UG9zaXRpb24iLCJjb21wYWN0IiwiX2NvbXBhY3RCdXR0b24iLCJfdG9nZ2xlQXR0cmlidXRpb24iLCJfc2V0RWxlbWVudFRpdGxlIiwiX2lubmVyQ29udGFpbmVyIiwiX3VwZGF0ZUF0dHJpYnV0aW9ucyIsIl91cGRhdGVFZGl0TGluayIsIl91cGRhdGVEYXRhIiwiX3VwZGF0ZUNvbXBhY3QiLCJfYXR0cmliSFRNTCIsImVsZW1lbnQiLCJ0aXRsZSIsInN0ciIsInJlbW92ZUF0dHJpYnV0ZSIsImZpcnN0RWxlbWVudENoaWxkIiwiZWRpdExpbmsiLCJfZWRpdExpbmsiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGVPd25lciIsInN0eWxlSWQiLCJjb25maWciLCJBQ0NFU1NfVE9LRU4iLCJwYXJhbVN0cmluZyIsIkZFRURCQUNLX1VSTCIsInJlbCIsImF0dHJpYnV0aW9ucyIsIm93bmVyIiwiYXR0cmliIiwiY3VzdG9tQXR0cmlidXRpb24iLCJhdHRyaWJIVE1MIiwiaW5uZXJIVE1MIiwiTG9nb0NvbnRyb2wiLCJkaXNwbGF5IiwiX3VwZGF0ZUxvZ28iLCJfbG9nb1JlcXVpcmVkIiwiZW50cmllcyIsIm1hcGJveF9sb2dvIiwiY29udGFpbmVyQ2hpbGRyZW4iLCJjaGlsZHJlbiIsIlRhc2tRdWV1ZSIsIl9xdWV1ZSIsIl9pZCIsIl9jbGVhcmVkIiwiX2N1cnJlbnRseVJ1bm5pbmciLCJjYW5jZWxsZWQiLCJydW5uaW5nIiwicXVldWUiLCJ0YXNrIiwicnVuIiwic21hcnRXcmFwIiwicHJpb3JQb3MiLCJ3aXRoaW5XcmFwIiwiYW5jaG9yVHJhbnNsYXRlIiwiTWFya2VyIiwibGVnYWN5T3B0aW9ucyIsIkhUTUxFbGVtZW50IiwiX2FuY2hvciIsIl9jb2xvciIsIl9zY2FsZSIsIl9kcmFnZ2FibGUiLCJkcmFnZ2FibGUiLCJfcm90YXRpb24iLCJfcm90YXRpb25BbGlnbm1lbnQiLCJfcGl0Y2hBbGlnbm1lbnQiLCJfdXBkYXRlTW92aW5nIiwiX29jY2x1ZGVkT3BhY2l0eSIsIm9jY2x1ZGVkT3BhY2l0eSIsIl9lbGVtZW50IiwiX29mZnNldCIsIl9kZWZhdWx0TWFya2VyIiwiREVGQVVMVF9IRUlHSFQiLCJERUZBVUxUX1dJRFRIIiwic3ZnIiwidmlld0JveCIsImN4IiwiY3kiLCJyeCIsInJ5IiwiaGFzQXR0cmlidXRlIiwiX3BvcHVwIiwiX2NsZWFyRmFkZVRpbWVyIiwiX2FkZE1hcmtlciIsInNldERyYWdnYWJsZSIsIl9vbk1hcENsaWNrIiwiX2FkZERyYWdIYW5kbGVyIiwiX29uVXAiLCJfb25Nb3ZlIiwiX3JlbW92ZU1hcmtlciIsImdldExuZ0xhdCIsIl9sbmdMYXQiLCJzZXRMbmdMYXQiLCJfcG9zIiwiZ2V0RWxlbWVudCIsInNldFBvcHVwIiwicG9wdXAiLCJfb25LZXlQcmVzcyIsIl9vcmlnaW5hbFRhYkluZGV4IiwibWFya2VySGVpZ2h0IiwibWFya2VyUmFkaXVzIiwibGluZWFyT2Zmc2V0IiwiX21hcmtlciIsImdldEF0dHJpYnV0ZSIsImxlZ2FjeUNvZGUiLCJjaGFyQ29kZSIsInRvZ2dsZVBvcHVwIiwidGFyZ2V0RWxlbWVudCIsImdldFBvcHVwIiwiaXNPcGVuIiwiX2JlaGluZFRlcnJhaW4iLCJ1bnByb2plY3RlZCIsImNhbWVyYUxuZ0xhdCIsImRpc3RhbmNlVG8iLCJtYXBMb2NhdGlvbiIsIl9zaG93aW5nR2xvYmUiLCJpc0xuZ0xhdEJlaGluZEdsb2JlIiwiX3F1ZXJ5Rm9nT3BhY2l0eSIsInBvaW50ZXJFdmVudHMiLCJfc2V0T3BhY2l0eSIsIl9mYWRlVGltZXIiLCJfdXBkYXRlRE9NIiwiX2NhbGN1bGF0ZVhZVHJhbnNmb3JtIiwiX2NhbGN1bGF0ZVpUcmFuc2Zvcm0iLCJhbGlnbm1lbnQiLCJnZXRQaXRjaEFsaWdubWVudCIsInRpbHQiLCJnbG9iZVRpbHRBdExuZ0xhdCIsInBvc0Zyb21DZW50ZXIiLCJnbG9iZUNlbnRlclRvU2NyZWVuUG9pbnQiLCJtYW5oYXR0YW5EaXN0YW5jZSIsInRpbHRPdmVyRGlzdCIsImdldFJvdGF0aW9uQWxpZ25tZW50Iiwic21vb3RoIiwiZGVsYXlTbmFwIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJfdXBkYXRlRnJhbWVJZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImdldE9mZnNldCIsInNldE9mZnNldCIsInN0YXJ0UG9zIiwiX3BvaW50ZXJkb3duUG9zIiwicG9zRGVsdGEiLCJfcG9zaXRpb25EZWx0YSIsIm9uY2UiLCJzaG91bGRCZURyYWdnYWJsZSIsImlzRHJhZ2dhYmxlIiwic2V0Um90YXRpb24iLCJnZXRSb3RhdGlvbiIsInNldFJvdGF0aW9uQWxpZ25tZW50Iiwic2V0UGl0Y2hBbGlnbm1lbnQiLCJzZXRPY2NsdWRlZE9wYWNpdHkiLCJnZXRPY2NsdWRlZE9wYWNpdHkiLCJjbG9zZUJ1dHRvbiIsImNsb3NlT25DbGljayIsImZvY3VzQWZ0ZXJPcGVuIiwibWF4V2lkdGgiLCJmb2N1c1F1ZXJ5U2VsZWN0b3IiLCJub3JtYWxpemVPZmZzZXQiLCJjb3JuZXJPZmZzZXQiLCJFYXNlZFZhcmlhYmxlIiwiaW5pdGlhbFZhbHVlIiwiZ2V0VmFsdWUiLCJfc3RhcnRUaW1lIiwiX2VuZFRpbWUiLCJfZW5kIiwiZGVmYXVsdExvY2FsZSIsImNvb3BlcmF0aXZlR2VzdHVyZXMiLCJwZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uIiwiYXR0cmlidXRpb25Db250cm9sIiwicHJlc2VydmVEcmF3aW5nQnVmZmVyIiwidHJhY2tSZXNpemUiLCJvcHRpbWl6ZUZvclRlcnJhaW4iLCJyZWZyZXNoRXhwaXJlZFRpbGVzIiwibWluVGlsZUNhY2hlU2l6ZSIsIm1heFRpbGVDYWNoZVNpemUiLCJNYXAiLCJMaXZlUGVyZm9ybWFuY2VVdGlscyIsIm1hcmsiLCJQZXJmb3JtYW5jZU1hcmtlcnMiLCJpc1NhZmFyaVdpdGhBbnRpYWxpYXNpbmdCdWciLCJfaW50ZXJhY3RpdmUiLCJfbWluVGlsZUNhY2hlU2l6ZSIsIl9tYXhUaWxlQ2FjaGVTaXplIiwiX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQiLCJfcHJlc2VydmVEcmF3aW5nQnVmZmVyIiwiX2FudGlhbGlhcyIsIl91c2VXZWJHTDIiLCJ1c2VXZWJHTDIiLCJfdHJhY2tSZXNpemUiLCJfZmFkZUR1cmF0aW9uIiwiX2lzSW5pdGlhbExvYWQiLCJfY3Jvc3NTb3VyY2VDb2xsaXNpb25zIiwiX3BhcnNlTGFuZ3VhZ2UiLCJfZG9tUmVuZGVyVGFza1F1ZXVlIiwiX2NvbnRyb2xzIiwiX3BvcHVwcyIsIl9tYXBJZCIsIl9sb2NhbGUiLCJsb2NhbGUiLCJfcGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbiIsIl9jb250YWluZXJXaWR0aCIsIl9jb250YWluZXJIZWlnaHQiLCJfYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQiLCJfYXZlcmFnZUVsZXZhdGlvbkV4YWdnZXJhdGlvbiIsIl9pbnRlcmFjdGlvblJhbmdlIiwiX3Zpc2liaWxpdHlIaWRkZW4iLCJSZXF1ZXN0TWFuYWdlciIsInRlc3RNb2RlIiwiX3NpbGVuY2VBdXRoRXJyb3JzIiwiY2hpbGROb2RlcyIsIl9zZXR1cENvbnRhaW5lciIsIl9zZXR1cFBhaW50ZXIiLCJfb25XaW5kb3dPbmxpbmUiLCJfb25XaW5kb3dSZXNpemUiLCJfb25WaXNpYmlsaXR5Q2hhbmdlIiwiX2xvY2FsRm9udEZhbWlseSIsIl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHkiLCJfaGFzaCIsImZpdEJvdW5kc09wdGlvbnMiLCJhZGRDb250cm9sIiwiX2xvZ29Db250cm9sIiwibG9nb1Bvc2l0aW9uIiwiX2dldE1hcElkIiwiY29udHJvbCIsImNvbnRyb2xFbGVtZW50IiwicG9zaXRpb25Db250YWluZXIiLCJfY29udHJvbFBvc2l0aW9ucyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDb250cm9sIiwiY2kiLCJoYXNDb250cm9sIiwiX2NhbnZhc0NvbnRhaW5lciIsIl9jYW52YXMiLCJfdXBkYXRlQ29udGFpbmVyRGltZW5zaW9ucyIsIl9yZXNpemVDYW52YXMiLCJmaXJlTW92aW5nIiwic2V0TWluWm9vbSIsImdldE1pblpvb20iLCJzZXRNYXhab29tIiwiZ2V0TWF4Wm9vbSIsInNldE1pblBpdGNoIiwiZ2V0TWluUGl0Y2giLCJzZXRNYXhQaXRjaCIsImdldE1heFBpdGNoIiwiZ2V0UmVuZGVyV29ybGRDb3BpZXMiLCJzZXRSZW5kZXJXb3JsZENvcGllcyIsIl9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlIiwiZ2V0TGFuZ3VhZ2UiLCJzZXRMYW5ndWFnZSIsIm5ld0xhbmd1YWdlIiwiX3NldExhbmd1YWdlIiwiZ2V0V29ybGR2aWV3Iiwic2V0V29ybGR2aWV3IiwiX2xhenlJbml0RW1wdHlTdHlsZSIsIl91cGRhdGVQcm9qZWN0aW9uVHJhbnNpdGlvbiIsImV4cGxpY2l0UHJvamVjdGlvbiIsInN0eWxlUHJvamVjdGlvbiIsIl91cGRhdGVQcm9qZWN0aW9uIiwiX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyIiwibGlzdGVuZXIiLCJtb3VzZWluIiwiZmlsdGVyZWRMYXllcnMiLCJTZXQiLCJkZWxlZ2F0ZXMiLCJkZWxlZ2F0ZSIsImRlbGVnYXRlZExpc3RlbmVyIiwiX2RlbGVnYXRlZExpc3RlbmVycyIsImFyZUxheWVyQXJyYXlzRXF1YWwiLCJoYXNoMSIsImhhc2gyIiwiaGFzIiwiZGVsZWdhdGVkTGlzdGVuZXJzIiwibGlzdGVuZXJzIiwicmVtb3ZlRGVsZWdhdGVkTGlzdGVuZXJzIiwiX2RpZmZTdHlsZSIsIl91cGRhdGVTdHlsZSIsIl91cGRhdGVUZXJyYWluIiwiX3VwZGF0ZURpZmYiLCJnZXRTdHlsZSIsImlzU3R5bGVMb2FkZWQiLCJhcmVUaWxlc0xvYWRlZCIsImV4aXN0aW5nSW1hZ2UiLCJsb2FkSW1hZ2UiLCJiZWZvcmVJZCIsInRyYW5zZm9ybVZhbHVlcyIsInRyYW5zZm9ybVNjYWxlV2lkdGgiLCJ0cmFuc2Zvcm1TY2FsZUhlaWdodCIsInRyYW5zZm9ybU1hdHJpeCIsImdldENvbXB1dGVkU3R5bGUiLCJwYXJlbnRFbGVtZW50IiwiX2RldGVjdE1pc3NpbmdDU1MiLCJfbWlzc2luZ0NTU0NhbmFyeSIsImdldFByb3BlcnR5VmFsdWUiLCJjYW52YXNDb250YWluZXIiLCJfY29udGV4dExvc3QiLCJfY29udGV4dFJlc3RvcmVkIiwiY29udHJvbENvbnRhaW5lciIsIl9jb250cm9sQ29udGFpbmVyIiwicG9zaXRpb25zIiwicG9zaXRpb25OYW1lIiwiX29uTWFwU2Nyb2xsIiwiX2FkZFBvcHVwIiwiX3JlbW92ZVBvcHVwIiwic3RvcmVBdXRoU3RhdGUiLCJ3ZWJwU3VwcG9ydGVkIiwidGVzdFN1cHBvcnQiLCJfZnJhbWUiLCJzY3JvbGxUb3AiLCJzY3JvbGxMZWZ0IiwiX3N0eWxlRGlydHkiLCJfc291cmNlc0RpcnR5IiwidXBkYXRlU3R5bGUiLCJfcmVuZGVyIiwicGFpbnRTdGFydFRpbWVTdGFtcCIsImZyYW1lU3RhcnRUaW1lIiwiX3JlbW92ZWQiLCJFdmFsdWF0aW9uUGFyYW1ldGVycyIsImF2ZXJhZ2VFbGV2YXRpb25DaGFuZ2VkIiwiX3VwZGF0ZUF2ZXJhZ2VFbGV2YXRpb24iLCJfcGxhY2VtZW50RGlydHkiLCJyZW5kZXJDUFVUaW1lIiwicmVuZGVyR1BVVGltZSIsImRldGFpbCIsImZyYW1lTGF5ZXJRdWVyaWVzIiwicmVuZGVyZWRMYXllclRpbWVzIiwibGF5ZXJUaW1lcyIsImRlZmVycmVkUmVuZGVyUXVlcmllcyIsInNvbWV0aGluZ0RpcnR5IiwiX3JlcGFpbnQiLCJ3aWxsSWRsZSIsIl90cmlnZ2VyRnJhbWUiLCJzcGVlZEluZGV4TnVtYmVyIiwiX2NhbGN1bGF0ZVNwZWVkSW5kZXgiLCJzcGVlZEluZGV4IiwiX2Z1bGx5TG9hZGVkIiwiZnVsbExvYWQiLCJwb3N0UGVyZm9ybWFuY2VFdmVudCIsImludGVyYWN0aW9uUmFuZ2UiLCJ2aXNpYmlsaXR5SGlkZGVuIiwidGVycmFpbkVuYWJsZWQiLCJmb2dFbmFibGVkIiwiX2F1dGhlbnRpY2F0ZSIsInNob3VsZFdyYXAiLCJfdHJhY2tQb2ludGVyIiwiaWdub3JlVGltZW91dCIsImFwcGx5VXBkYXRlIiwiY3VycmVudEVsZXZhdGlvbiIsIm5ld0VsZXZhdGlvbiIsImV4YWdnZXJhdGlvbkNoYW5nZWQiLCJlbGV2YXRpb25DaGFuZ2UiLCJnZXRNYXBTZXNzaW9uQVBJIiwiX3NrdVRva2VuIiwiQVVUSF9FUlJfTVNHIiwicG9zdE1hcExvYWRFdmVudCIsImZpbmFsRnJhbWUiLCJjYW52YXNDb3B5SW5zdGFuY2VzIiwicmVhZCIsInBpeGVscyIsInJlYWRQaXhlbHMiLCJfY2FudmFzUGl4ZWxDb21wYXJpc29uIiwiYWxsRnJhbWVzIiwiZmluYWxTY29yZSIsIm51bVBpeGVscyIsImNudCIsInZpc3VhbENvbXBsZXRuZXNzIiwiZXh0ZW5zaW9uIiwibG9zZUNvbnRleHQiLCJyZW1vdmVBdXRoU3RhdGUiLCJfcmVuZGVyTmV4dEZyYW1lIiwidmlzaWJpbGl0eVN0YXRlIiwiX3Nob3dUaWxlQm91bmRhcmllcyIsIl9zaG93VGVycmFpbldpcmVmcmFtZSIsIl9zcGVlZEluZGV4VGltaW5nIiwiX3Nob3dQYWRkaW5nIiwicmVwYWludCIsIl92ZXJ0aWNlcyIsIl9zaG93VGlsZUFBQkJzIiwiX3NldENhY2hlTGltaXRzIiwiY2hlY2tUaHJlc2hvbGQiLCJzZXRDYWNoZUxpbWl0cyIsInNob3dDb21wYXNzIiwic2hvd1pvb20iLCJ2aXN1YWxpemVQaXRjaCIsIk1vdXNlUm90YXRlV3JhcHBlciIsImRvd24iLCJtb3ZlIiwib2ZmVGVtcCIsInRhcmdldFRvdWNoZXMiLCJwb3NpdGlvbk9wdGlvbnMiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJtYXhpbXVtQWdlIiwidGltZW91dCIsInRyYWNrVXNlckxvY2F0aW9uIiwic2hvd0FjY3VyYWN5Q2lyY2xlIiwic2hvd1VzZXJMb2NhdGlvbiIsInNob3dVc2VySGVhZGluZyIsInVuaXQiLCJsZWdhY3lTZXRTY2FsZSIsIm1heERpc3RhbmNlIiwiZ2V0Um91bmROdW0iLCJyYXRpbyIsInVuaXRBYmJyIiwia2lsb21ldGVyIiwibWV0ZXIiLCJtaWxlIiwiZm9vdCIsInBvdzEwIiwibXVsdGlwbGllciIsImdldERlY2ltYWxSb3VuZE51bSIsInNldFJUTFRleHRQbHVnaW4iLCJnZXRSVExUZXh0UGx1Z2luU3RhdHVzIiwiTmF2aWdhdGlvbkNvbnRyb2wiLCJfem9vbUluQnV0dG9uIiwiX2NyZWF0ZUJ1dHRvbiIsIl96b29tT3V0QnV0dG9uIiwiX2NvbXBhc3MiLCJfY29tcGFzc0ljb24iLCJfdXBkYXRlWm9vbUJ1dHRvbnMiLCJpc01heCIsImlzTWluIiwiX3JvdGF0ZUNvbXBhc3NBcnJvdyIsIl9zZXRCdXR0b25UaXRsZSIsIkdlb2xvY2F0ZUNvbnRyb2wiLCJnZW9sb2NhdGlvbiIsIl91cGRhdGVNYXJrZXJSb3RhdGlvblRocm90dGxlZCIsIl91cGRhdGVNYXJrZXJSb3RhdGlvbiIsIl9udW1iZXJPZldhdGNoZXMiLCJfY2hlY2tHZW9sb2NhdGlvblN1cHBvcnQiLCJfc2V0dXBVSSIsIl9nZW9sb2NhdGlvbldhdGNoSUQiLCJjbGVhcldhdGNoIiwiX3VzZXJMb2NhdGlvbkRvdE1hcmtlciIsIl9hY2N1cmFjeUNpcmNsZU1hcmtlciIsIl9vblpvb20iLCJfbm9UaW1lb3V0IiwidXBkYXRlU3VwcG9ydCIsIl9zdXBwb3J0c0dlb2xvY2F0aW9uIiwicGVybWlzc2lvbnMiLCJfaXNPdXRPZk1hcE1heEJvdW5kcyIsImxvbmdpdHVkZSIsImxhdGl0dWRlIiwiX3NldEVycm9yU3RhdGUiLCJfd2F0Y2hTdGF0ZSIsIl9nZW9sb2NhdGVCdXR0b24iLCJfb25TdWNjZXNzIiwiX3VwZGF0ZU1hcmtlciIsIl9maW5pc2giLCJfbGFzdEtub3duUG9zaXRpb24iLCJfdXBkYXRlQ2FtZXJhIiwiX2RvdEVsZW1lbnQiLCJhY2N1cmFjeSIsInRvQm91bmRzIiwiZ2VvbG9jYXRlU291cmNlIiwiX2FjY3VyYWN5IiwiX3VwZGF0ZUNpcmNsZVJhZGl1cyIsImNpcmNsZURpYW1ldGVyIiwiX2NpcmNsZUVsZW1lbnQiLCJfaGVhZGluZyIsIl9vbkVycm9yIiwiX2NsZWFyV2F0Y2giLCJfdGltZW91dElkIiwidHJpZ2dlciIsIl9zZXR1cCIsIl9vbkRldmljZU9yaWVudGF0aW9uIiwiZGV2aWNlT3JpZW50YXRpb25FdmVudCIsIndlYmtpdENvbXBhc3NIZWFkaW5nIiwiYWJzb2x1dGUiLCJ3YXRjaFBvc2l0aW9uIiwiX2FkZERldmljZU9yaWVudGF0aW9uTGlzdGVuZXIiLCJnZXRDdXJyZW50UG9zaXRpb24iLCJhZGRMaXN0ZW5lciIsIkRldmljZU1vdGlvbkV2ZW50IiwicmVxdWVzdFBlcm1pc3Npb24iLCJEZXZpY2VPcmllbnRhdGlvbkV2ZW50IiwiU2NhbGVDb250cm9sIiwiSW50bCIsIk51bWJlckZvcm1hdCIsInVuaXREaXNwbGF5IiwiXyIsImlzTnVtYmVyRm9ybWF0U3VwcG9ydGVkIiwiX3NldFNjYWxlIiwibWF4TWV0ZXJzIiwibWF4RmVldCIsInNldFVuaXQiLCJGdWxsc2NyZWVuQ29udHJvbCIsIl9mdWxsc2NyZWVuIiwiX2Z1bGxzY3JlZW5jaGFuZ2UiLCJfY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCIsIl9jaGFuZ2VJY29uIiwiZnVsbHNjcmVlbkVuYWJsZWQiLCJ3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCIsIl9mdWxsc2NyZWVuQnV0dG9uIiwiX3VwZGF0ZVRpdGxlIiwiX29uQ2xpY2tGdWxsc2NyZWVuIiwiX2dldFRpdGxlIiwiX2lzRnVsbHNjcmVlbiIsImZ1bGxzY3JlZW5FbGVtZW50Iiwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnQiLCJ0b2dnbGUiLCJleGl0RnVsbHNjcmVlbiIsIndlYmtpdENhbmNlbEZ1bGxTY3JlZW4iLCJyZXF1ZXN0RnVsbHNjcmVlbiIsIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIiwiUG9wdXAiLCJfY2xhc3NMaXN0IiwiX29uQ2xvc2UiLCJjbG9zZU9uTW92ZSIsIl9mb2N1c0ZpcnN0RWxlbWVudCIsIl9vbk1vdXNlRXZlbnQiLCJfY29udGVudCIsInRyYWNrUG9pbnRlciIsInNldFRleHQiLCJzZXRET01Db250ZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJzZXRIVE1MIiwiaHRtbCIsImZyYWciLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwidGVtcCIsImdldE1heFdpZHRoIiwic2V0TWF4V2lkdGgiLCJodG1sTm9kZSIsImhhc0NoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsIl9jbG9zZUJ1dHRvbiIsImFkZENsYXNzTmFtZSIsIl91cGRhdGVDbGFzc0xpc3QiLCJyZW1vdmVDbGFzc05hbWUiLCJkZWxldGUiLCJ0b2dnbGVDbGFzc05hbWUiLCJmaW5hbFN0YXRlIiwiX2dldEFuY2hvciIsImJvdHRvbVkiLCJvZmZzZXRIZWlnaHQiLCJpc0xlZnQiLCJpc1JpZ2h0IiwiY2xhc3NlcyIsImN1cnNvciIsIl90aXAiLCJvZmZzZXRCb3R0b20iLCJvZmZzZXRlZFBvcyIsImZpcnN0Rm9jdXNhYmxlIiwiZm9jdXMiLCJwcmV3YXJtIiwiY2xlYXJQcmV3YXJtZWRSZXNvdXJjZXMiLCJiYXNlQXBpVXJsIiwiQVBJX1VSTCIsIm1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cyIsIk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUyIsIm51bVJlcXVlc3RzIiwiY2xlYXJTdG9yYWdlIiwiY2xlYXJUaWxlQ2FjaGUiLCJzZXROb3ciLCJyZXN0b3JlTm93Iiwib3V0cHV0IiwiUmVnRXhwIiwiZXhlYyIsImdldFVSTFBhcmFtZXRlciIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwiQmVuY2htYXJrIiwiX21lYXN1cmVBc3luYyIsImJlbmNoIiwidGVhcmRvd24iLCJfYmVnaW4iLCJfZWxhcHNlZCIsIl9tZWFzdXJlbWVudHMiLCJfaXRlcmF0aW9uc1Blck1lYXN1cmVtZW50IiwiX21lYXN1cmVTeW5jIiwiaXRlcmF0aW9ucyIsIl9ydW5Bc3luYyIsImZldGNoU3R5bGUiLCJmZXRjaCIsIm1hcFN0dWIiLCJmZXRjaFRpbGVKU09OIiwic291cmNlVVJMIiwiVGlsZVBhcnNlciIsInN0eWxlSlNPTiIsIlN0eWxlTGF5ZXJJbmRleCIsImxvYWRJbWFnZXMiLCJsb2FkR2x5cGhzIiwicGFyc2VyIiwicmVqZWN0IiwiZmV0Y2hUaWxlIiwicGFyc2VUaWxlIiwicmV0dXJuRGVwZW5kZW5jaWVzIiwid29ya2VyVGlsZSIsIldvcmtlclRpbGUiLCJvdmVyc2NhbGluZyIsImNhbWVyYVRvVGlsZURpc3RhbmNlIiwidmVjdG9yVGlsZSIsIlZlY3RvclRpbGUiLCJQcm90b2J1ZiIsInBiZiIsInBhcnNlIiwiTGF5b3V0IiwicHJvbWlzZSIsImNyZWF0ZU1hcCIsInN0dWJSZW5kZXIiLCJzaG93TWFwIiwibWFyZ2luIiwiYm9keSIsImFzc2lnbiIsImlkbGUiLCJQYWludCIsImxvY2F0aW9ucyIsIm1hcHMiLCJEYXRlIiwidGlsZVgiLCJ0aWxlWSIsImRlc2NyaXB0aW9uIiwiYmVuY2htYXJrcyIsInJlZ2lzdGVyIiwidmVyc2lvbnMiLCJwcm9jZXNzIl0sIm1hcHBpbmdzIjoiOENBT0EsU0FBU0EsRUFBVUMsRUFBV0MsR0FDMUIsR0FBSUMsTUFBTUMsUUFBUUgsR0FBSSxDQUNsQixJQUFLRSxNQUFNQyxRQUFRRixJQUFNRCxFQUFFSSxTQUFXSCxFQUFFRyxPQUFRLE9BQU8sRUFDdkQsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlM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

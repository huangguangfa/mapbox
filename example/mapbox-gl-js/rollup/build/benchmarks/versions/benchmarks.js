define(["./shared"],(function(e){"use strict";function t(e,i){if(Array.isArray(e)){if(!Array.isArray(i)||e.length!==i.length)return!1;for(let o=0;o<e.length;o++)if(!t(e[o],i[o]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==i){if("object"!=typeof i)return!1;if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const o in e)if(!t(e[o],i[o]))return!1;return!0}return e===i}var i=o;function o(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,i=new Blob([""],{type:"text/javascript"}),o=URL.createObjectURL(i);try{t=new Worker(o),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(o),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var i=t.getImageData(0,0,1,1);return i&&i.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,i=function(e){var t=document.createElement("canvas"),i=Object.create(o.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=e,t.getContext("webgl",i)||t.getContext("experimental-webgl",i)}(e);if(!i)return!1;try{t=i.createShader(i.VERTEX_SHADER)}catch(e){return!1}return!(!t||i.isContextLost())&&(i.shaderSource(t,"void main() {}"),i.compileShader(t),!0===i.getShaderParameter(t,i.COMPILE_STATUS))}(t)),r[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var r={};function n(t,i,o){const r=e.window.document.createElement(t);return void 0!==i&&(r.className=i),o&&o.appendChild(r),r}function s(t,i,o){const r=e.window.document.createElementNS("http://www.w3.org/2000/svg",t);for(const e of Object.keys(i))r.setAttributeNS(null,e,i[e]);return o&&o.appendChild(r),r}o.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const a=e.window.document&&e.window.document.documentElement.style,l=a&&void 0!==a.userSelect?"userSelect":"WebkitUserSelect";let c;function h(){a&&l&&(c=a[l],a[l]="none")}function u(){a&&l&&(a[l]=c)}function d(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",d,!0)}function _(){e.window.addEventListener("click",d,!0),e.window.setTimeout((()=>{e.window.removeEventListener("click",d,!0)}),0)}function p(e,t){const i=e.getBoundingClientRect();return g(e,i,t)}function m(e,t){const i=e.getBoundingClientRect(),o=[];for(let r=0;r<t.length;r++)o.push(g(e,i,t[r]));return o}function f(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button}function g(t,i,o){const r=t.offsetWidth===i.width?1:t.offsetWidth/i.width;return new e.pointGeometry((o.clientX-i.left)*r,(o.clientY-i.top)*r)}function y(e,t){var i=t[0],o=t[1],r=t[2],n=t[3],s=i*n-r*o;return s?(e[0]=n*(s=1/s),e[1]=-o*s,e[2]=-r*s,e[3]=i*s,e):null}function v(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class x extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}hasImage(e){return!!this.getImage(e)}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(t,i){let o=!0;return this._validateStretch(i.stretchX,i.data&&i.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),o=!1),this._validateStretch(i.stretchY,i.data&&i.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),o=!1),this._validateContent(i.content,i)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),o=!1),o}_validateStretch(e,t){if(!e)return!0;let i=0;for(const o of e){if(o[0]<i||o[1]<o[0]||t<o[1])return!1;i=o[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let i=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(i=!1);this.isLoaded()||i?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,i){const o={};for(const i of t){this.images[i]||this.fire(new e.Event("styleimagemissing",{id:i}));const t=this.images[i];t?o[i]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${i}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}i(null,o)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const i=this.patterns[t],o=this.getImage(t);if(!o)return null;if(i&&i.position.version===o.version)return i.position;if(i)i.position.version=o.version;else{const i={w:o.data.width+2,h:o.data.height+2,x:0,y:0},r=new e.ImagePosition(i,o);this.patterns[t]={bin:i,position:r}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const i=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,i.RGBA),this.atlasTexture&&this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:i,h:o}=e.potpack(t),r=this.atlasImage;r.resize({width:i||1,height:o||1});for(const t in this.patterns){const{bin:i}=this.patterns[t],o=i.x+1,n=i.y+1,s=this.images[t].data,a=s.width,l=s.height;e.RGBAImage.copy(s,r,{x:0,y:0},{x:o,y:n},{width:a,height:l}),e.RGBAImage.copy(s,r,{x:0,y:l-1},{x:o,y:n-1},{width:a,height:1}),e.RGBAImage.copy(s,r,{x:0,y:0},{x:o,y:n+l},{width:a,height:1}),e.RGBAImage.copy(s,r,{x:a-1,y:0},{x:o-1,y:n},{width:1,height:l}),e.RGBAImage.copy(s,r,{x:0,y:0},{x:o+a,y:n},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];v(e)&&this.updateImage(t,e)}}}const b=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,i){return function([t,i,o]){const r=e.degToRad(i+90),n=e.degToRad(o);return{x:t*Math.cos(r)*Math.sin(n),y:t*Math.sin(r)*Math.sin(n),z:t*Math.cos(n),azimuthal:i,polar:o}}(t.expression.evaluate(i))}interpolate(t,i,o){return{x:e.number(t.x,i.x,o),y:e.number(t.y,i.y,o),z:e.number(t.z,i.z,o),azimuthal:e.number(t.azimuthal,i.azimuthal,o),polar:e.number(t.polar,i.polar,o)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),w="-transition";class T extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(b),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,i={}){if(!this._validate(e.validateLight,t,i))for(const i in t){const o=t[i];e.endsWith(i,w)?this._transitionable.setTransition(i.slice(0,-w.length),o):this._transitionable.setValue(i,o)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,i,o){return(!o||!1!==o.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}const E=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),C="-transition";class M extends e.Evented{constructor(t,i){super(),this._transitionable=new e.Transitionable(E),this.set(t),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=i}get(){return this._transitionable.serialize()}set(t){for(const i in t){const o=t[i];e.endsWith(i,C)?this._transitionable.setTransition(i.slice(0,-C.length),o):this._transitionable.setValue(i,o)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}}function I(t,i,o,r){const n=e.smoothstep(45,65,o),[s,a]=S(t,r),l=e.length(i);let c=1-Math.min(1,Math.exp((l-s)/(a-s)*-6));return c*=c*c,c=Math.min(1,1.00747*c),c*n*t.alpha}function S(e,t){const i=.5/Math.tan(.5*t);return[e.range[0]+i,e.range[1]+i]}const D=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"high-color":new e.DataConstantProperty(e.spec.fog["high-color"]),"space-color":new e.DataConstantProperty(e.spec.fog["space-color"]),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"]),"star-intensity":new e.DataConstantProperty(e.spec.fog["star-intensity"])}),z="-transition";class L extends e.Evented{constructor(t,i){super(),this._transitionable=new e.Transitionable(D),this.set(t),this._transitioning=this._transitionable.untransitioned(),this._transform=i}get state(){const t=this._transform,i="globe"===t.projection.name,o=e.globeToMercatorTransition(t.zoom),r=this.properties.get("range"),n=[.5,3];return{range:i?[e.number(n[0],r[0],o),e.number(n[1],r[1],o)]:r,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(t,i={}){if(!this._validate(e.validateFog,t,i)){for(const i of Object.keys(e.spec.fog))t&&void 0===t[i]&&(t[i]=e.spec.fog[i].default);for(const i in t){const o=t[i];e.endsWith(i,z)?this._transitionable.setTransition(i.slice(0,-z.length),o):this._transitionable.setValue(i,o)}}}getOpacity(t){if(!this._transform.projection.supportsFog)return 0;const i=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:e.smoothstep(45,65,t))*i.a}getOpacityAtLatLng(t,i){return this._transform.projection.supportsFog?function(t,i,o){const r=e.MercatorCoordinate.fromLngLat(i),n=o.elevation?o.elevation.getAtPointOrZero(r):0,s=[r.x,r.y,n];return e.transformMat4(s,s,o.mercatorFogMatrix),I(t,s,o.pitch,o._fov)}(this.state,t,i):0}getFovAdjustedRange(e){return this._transform.projection.supportsFog?S(this.state,e):[0,1]}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,i,o){return(!o||!1!==o.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class P{constructor(t,i){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const o=this.workerPool.acquire(this.id);for(let e=0;e<o.length;e++){const t=new P.Actor(o[e],i,this.id);t.name=`Worker ${e}`,this.actors.push(t)}this.ready=!1,this.broadcast("checkIfReady",null,(()=>{this.ready=!0}))}broadcast(t,i,o){e.asyncAll(this.actors,((e,o)=>{e.send(t,i,o)}),o=o||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((e=>{e.remove()})),this.actors=[],this.workerPool.release(this.id)}}function A(t,i,o){return i*(e.EXTENT/(t.tileSize*Math.pow(2,o-t.tileID.overscaledZ)))}P.Actor=e.Actor;class R{constructor(e,t,i,o){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=i,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,o)}static createFromScreenPoints(t,i){let o,r;if(t instanceof e.pointGeometry||"number"==typeof t[0]){const n=e.pointGeometry.convert(t);o=[n],r=i.isPointAboveHorizon(n)}else{const n=e.pointGeometry.convert(t[0]),s=e.pointGeometry.convert(t[1]);o=[n,s],r=e.polygonizeBounds(n,s).every((e=>i.isPointAboveHorizon(e)))}return new R(o,i.getCameraPoint(),r,i)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const i=this.screenBounds[0],o=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(i,o,0,!1);return this.cameraPoint.y>o.y&&(this.cameraPoint.x>i.x&&this.cameraPoint.x<o.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=o.x?r[2]=this.cameraPoint:this.cameraPoint.x<=i.x&&(r[3]=this.cameraPoint)),e.bufferConvexPolygon(r,t)}bufferedCameraGeometryGlobe(t){const i=this.screenBounds[0],o=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(i,o,t),n=this.cameraPoint.clone();switch(3*((n.y>i.y)+(n.y>o.y))+((n.x>i.x)+(n.x>o.x))){case 0:r[0]=n,r[4]=n.clone();break;case 1:r.splice(1,0,n);break;case 2:r[1]=n;break;case 3:r.splice(4,0,n);break;case 5:r.splice(2,0,n);break;case 6:r[3]=n;break;case 7:r.splice(3,0,n);break;case 8:r[2]=n}return r}containsTile(t,i,o,r=0){const n=t.queryPadding/i._pixelsPerMercatorPixel+1,s=o?this._bufferedCameraMercator(n,i):this._bufferedScreenMercator(n,i);let a=t.tileID.wrap+(s.unwrapped?r:0);const l=s.polygon.map((i=>e.getTilePoint(t.tileTransform,i,a)));if(!e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT))return;a=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?r:0);const c=this.screenGeometryMercator.polygon.map((i=>e.getTileVec3(t.tileTransform,i,a))),h=c.map((t=>new e.pointGeometry(t[0],t[1]))),u=i.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),d=e.getTileVec3(t.tileTransform,u,a),_=c.map((t=>{const i=e.sub(t,t,d);return e.normalize(i,i),new e.Ray(d,i)})),p=A(t,1,i.zoom)*i._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:h,tilespaceRays:_,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(m=e.getBounds(l),m.min.x=e.clamp(m.min.x,0,e.EXTENT),m.min.y=e.clamp(m.min.y,0,e.EXTENT),m.max.x=e.clamp(m.max.x,0,e.EXTENT),m.max.y=e.clamp(m.max.y,0,e.EXTENT),m),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:p};var m}_bufferedScreenMercator(e,t){const i=F(e);if(this._screenRaycastCache[i])return this._screenRaycastCache[i];{let o;return o="globe"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._screenRaycastCache[i]=o,o}}_bufferedCameraMercator(e,t){const i=F(e);if(this._cameraRaycastCache[i])return this._cameraRaycastCache[i];{let o;return o="globe"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._cameraRaycastCache[i]=o,o}}_projectAndResample(t,i){const o=function(t,i){const o=e.multiply([],i.pixelMatrix,i.globeMatrix),r=[0,-e.GLOBE_RADIUS,0,1],n=[0,e.GLOBE_RADIUS,0,1],s=[0,0,0,1];e.transformMat4$1(r,r,o),e.transformMat4$1(n,n,o),e.transformMat4$1(s,s,o);const a=new e.pointGeometry(r[0]/r[3],r[1]/r[3]),l=new e.pointGeometry(n[0]/n[3],n[1]/n[3]),c=e.polygonContainsPoint(t,a)&&r[3]<s[3],h=e.polygonContainsPoint(t,l)&&n[3]<s[3];if(!c&&!h)return null;const u=function(e,t,i){for(let o=1;o<e.length;o++){const r=k(t.pointCoordinate3D(e[o-1]).x),n=k(t.pointCoordinate3D(e[o]).x);if(i<0){if(r<n)return{idx:o,t:-r/(n-1-r)}}else if(n<r)return{idx:o,t:(1-r)/(n+1-r)}}return null}(t,i,c?-1:1);if(!u)return null;const{idx:d,t:_}=u;let p=d>1?O(t.slice(0,d),i):[],m=d<t.length?O(t.slice(d),i):[];p=p.map((t=>new e.pointGeometry(k(t.x),t.y))),m=m.map((t=>new e.pointGeometry(k(t.x),t.y)));const f=[...p];0===f.length&&f.push(m[m.length-1]);const g=e.number(f[f.length-1].y,(0===m.length?p[0]:m[0]).y,_);let y;return y=c?[new e.pointGeometry(0,g),new e.pointGeometry(0,0),new e.pointGeometry(1,0),new e.pointGeometry(1,g)]:[new e.pointGeometry(1,g),new e.pointGeometry(1,1),new e.pointGeometry(0,1),new e.pointGeometry(0,g)],f.push(...y),0===m.length?f.push(p[0]):f.push(...m),{polygon:f.map((t=>new e.MercatorCoordinate(t.x,t.y))),unwrapped:!1}}(t,i);if(o)return o;const r=function(t,i){let o=!1,r=-1/0,n=0;for(let e=0;e<t.length-1;e++)t[e].x>r&&(r=t[e].x,n=e);for(let e=0;e<t.length-1;e++){const i=(n+e)%(t.length-1),r=t[i],s=t[i+1];Math.abs(r.x-s.x)>.5&&(r.x<s.x?(r.x+=1,0===i&&(t[t.length-1].x+=1)):(s.x+=1,i+1===t.length-1&&(t[0].x+=1)),o=!0)}const s=e.mercatorXfromLng(i.center.lng);return o&&s<Math.abs(s-1)&&t.forEach((e=>{e.x-=1})),{polygon:t,unwrapped:o}}(O(t,i).map((t=>new e.pointGeometry(k(t.x),t.y))),i);return{polygon:r.polygon.map((t=>new e.MercatorCoordinate(t.x,t.y))),unwrapped:r.unwrapped}}}function O(t,i){return e.resample(t,(e=>{const t=i.pointCoordinate3D(e);e.x=t.x,e.y=t.y}),1/256)}function k(e){return e<0?1+e%1:e%1}function F(e){return 100*e|0}function B(t,i,o,r,n){const s=function(o,r){if(o)return n(o);if(r){t.url&&r.tiles&&t.tiles&&delete t.tiles;const o=e.pick(e.extend(r,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);r.vector_layers&&(o.vectorLayers=r.vector_layers,o.vectorLayerIds=o.vectorLayers.map((e=>e.id))),o.tiles=i.canonicalizeTileset(o,t.url),n(null,o)}};return t.url?e.getJSON(i.transformRequest(i.normalizeSourceURL(t.url,null,o,r),e.ResourceType.Source),s):e.exported.frame((()=>s(null,t)))}class U{constructor(t,i,o){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=i||0,this.maxzoom=o||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const i=Math.pow(2,t.z),o=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*i),r=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*i),n=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*i),s=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*i);return t.x>=o&&t.x<n&&t.y>=r&&t.y<s}}class N{constructor(e,t,i){this.context=e;const o=e.gl;this.buffer=o.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),o.bufferData(o.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const G={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class j{constructor(e,t,i,o){this.length=t.length,this.attributes=i,this.itemSize=t.bytesPerElement,this.dynamicDraw=o,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let i=0;i<this.attributes.length;i++){const o=t.attributes[this.attributes[i].name];void 0!==o&&e.enableVertexAttribArray(o)}}setVertexAttribPointers(e,t,i){for(let o=0;o<this.attributes.length;o++){const r=this.attributes[o],n=t.attributes[r.name];void 0!==n&&e.vertexAttribPointer(n,r.components,e[G[r.type]],!1,this.itemSize,r.offset+this.itemSize*(i||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Z{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class V extends Z{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class W extends Z{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class X extends Z{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class q extends Z{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class $ extends Z{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class H extends Z{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Y extends Z{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class J extends Z{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class K extends Z{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class Q extends Z{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class ee extends Z{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class te extends Z{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class ie extends Z{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class oe extends Z{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class re extends Z{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class ne extends Z{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class se extends Z{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class ae extends Z{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class le extends Z{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class ce extends Z{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class he extends Z{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class ue extends Z{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class de extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class _e extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class pe extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class me extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class fe extends Z{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ge extends Z{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class ye extends Z{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class ve extends Z{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class xe extends Z{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class be extends Z{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class we extends be{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class Te extends be{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Ee extends Te{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Ce{constructor(e,t,i,o){this.context=e,this.width=t,this.height=i;const r=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,r),o&&(this.depthAttachment=new Te(e,r))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class Me{constructor(e,t=!1){if(this.gl=e,this.isWebGL2=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),t){const t=e;this.extVertexArrayObject={createVertexArrayOES:t.createVertexArray.bind(e),deleteVertexArrayOES:t.deleteVertexArray.bind(e),bindVertexArrayOES:t.bindVertexArray.bind(e)}}this.clearColor=new V(this),this.clearDepth=new W(this),this.clearStencil=new X(this),this.colorMask=new q(this),this.depthMask=new $(this),this.stencilMask=new H(this),this.stencilFunc=new Y(this),this.stencilOp=new J(this),this.stencilTest=new K(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ie(this),this.blendFunc=new oe(this),this.blendColor=new re(this),this.blendEquation=new ne(this),this.cullFace=new se(this),this.cullFaceSide=new ae(this),this.frontFace=new le(this),this.program=new ce(this),this.activeTexture=new he(this),this.viewport=new ue(this),this.bindFramebuffer=new de(this),this.bindRenderbuffer=new _e(this),this.bindTexture=new pe(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new fe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ge(this),this.pixelStoreUnpack=new ye(this),this.pixelStoreUnpackPremultiplyAlpha=new ve(this),this.pixelStoreUnpackFlipY=new xe(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=e.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),t||(this.extTextureHalfFloat=e.getExtension("OES_texture_half_float")),(t||this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=t||e.getExtension("OES_standard_derivatives"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new N(this,e,t)}createVertexBuffer(e,t,i){return new j(this,e,t,i)}createRenderbuffer(e,t,i){const o=this.gl,r=o.createRenderbuffer();return this.bindRenderbuffer.set(r),o.renderbufferStorage(o.RENDERBUFFER,e,t,i),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,i){return new Ce(this,e,t,i)}clear({color:e,depth:t,stencil:i}){const o=this.gl;let r=0;e&&(r|=o.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(r|=o.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==i&&(r|=o.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),o.clear(r)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(i){t(i.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Ie extends e.Evented{constructor(t,i,o,r){if(super(),this.id=t,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(i,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r),this._tileWorkers={},this._deduped=new e.DedupedRequest}load(t){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"}));const i=Array.isArray(this.map._language)?this.map._language.join():this.map._language,o=this.map._worldview;this._tileJSONRequest=B(this._options,this.map._requestManager,i,o,((r,n)=>{this._tileJSONRequest=null,this._loaded=!0,r?(i&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${i}`),o&&2!==o.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${o}`),this.fire(new e.ErrorEvent(r))):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new U(n.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(n.tiles,this.map._requestManager._customAccessToken),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(r)}))}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}reload(){this.cancelTileJSONRequest(),this.load((()=>this.map.style._clearSource(this.id)))}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return e.extend({},this._options)}loadTile(t,i){const o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(o,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=i:t.request=t.actor.send("reloadTile",r,n.bind(this));else if(t.actor=this._tileWorkers[o]=this._tileWorkers[o]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",r,n.bind(this),void 0,!0);else{const i=e.loadVectorTile.call({deduped:this._deduped},r,((e,i)=>{e||!i?n.call(this,e):(r.data={cacheControl:i.cacheControl,expires:i.expires,rawData:i.rawData.slice(0)},t.actor&&t.actor.send("loadTile",r,n.bind(this),void 0,!0))}),!0);t.request={cancel:i}}function n(o,r){return delete t.request,t.aborted?i(null):o&&404!==o.status?i(o):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),i(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Se extends e.Evented{constructor(t,i,o,r){super(),this.id=t,this.dispatcher=o,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},i),e.extend(this,e.pick(i,["url","scheme","tileSize"]))}load(t){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,null,null,((i,o)=>{this._tileJSONRequest=null,this._loaded=!0,i?this.fire(new e.ErrorEvent(i)):o&&(e.extend(this,o),o.bounds&&(this.tileBounds=new U(o.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(o.tiles),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(i)}))}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}reload(){this.cancelTileJSONRequest(),this.load((()=>this.map.style._clearSource(this.id)))}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,i){const o=e.exported.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),o,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),((o,r,n,s)=>(delete t.request,t.aborted?(t.state="unloaded",i(null)):o?(t.state="errored",i(o)):r?(this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:n,expires:s}),t.setTexture(r,this.map.painter),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),void i(null)):i(null))))}static loadTileData(e,t,i){e.setTexture(t,i)}static unloadTileData(e,t){e.texture&&t.saveTileTexture(e.texture)}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}let De;function ze(t,i,o,r,n,s,a,l){const c=[t,o,n,i,r,s,1,1,1],h=[a,l,1],u=e.adjoint([],c),[d,_,p]=e.transformMat3(h,h,e.transpose(u,u));return e.multiply$1(c,[d,0,0,0,_,0,0,0,p],c)}class Le extends e.Evented{constructor(e,t,i,o){super(),this.id=e,this.dispatcher=i,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(o),this.options=t,this._dirty=!1}load(t,i){this._loaded=i||!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),((i,o)=>{if(this._imageRequest=null,this._loaded=!0,i)this.fire(new e.ErrorEvent(i));else if(o){const{HTMLImageElement:i}=e.window;this.image=o instanceof i?e.exported.getImageData(o):o,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,t&&(this.coordinates=t),this._finishLoading()}}))}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(t){this.coordinates=t,this._boundsArray=void 0;const i=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){let i=1/0,o=1/0,r=-1/0,n=-1/0;for(const e of t)i=Math.min(i,e.x),o=Math.min(o,e.y),r=Math.max(r,e.x),n=Math.max(n,e.y);const s=Math.max(r-i,n-o),a=Math.max(0,Math.floor(-Math.log(s)/Math.LN2)),l=Math.pow(2,a);return new e.CanonicalTileID(a,Math.floor((i+r)/2*l),Math.floor((o+n)/2*l))}(i),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(t){for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}if(this._boundsArray)return;const i=e.tileTransform(this.tileID,this.map.transform.projection),[o,r,n,s]=this.coordinates.map((t=>{const o=i.projection.project(t[0],t[1]);return e.getTilePoint(i,o)._round()}));this.perspectiveTransform=function(t,i,o,r,n,s,a,l,c,h){const u=ze(0,0,t,0,0,i,t,i),d=ze(o,r,n,s,a,l,c,h);return e.multiply$1(d,e.adjoint(u,u),d),[d[6]/d[8]*t/e.EXTENT,d[7]/d[8]*i/e.EXTENT]}(this.width,this.height,o.x,o.y,r.x,r.y,s.x,s.y,n.x,n.y);const a=this._boundsArray=new e.StructArrayLayout4i8;a.emplaceBack(o.x,o.y,0,0),a.emplaceBack(r.x,r.y,e.EXTENT,0),a.emplaceBack(s.x,s.y,0,e.EXTENT),a.emplaceBack(n.x,n.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(a,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,i=t.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(t)}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Pe={vector:Ie,raster:Se,"raster-dem":class extends Se{constructor(t,i,o,r){super(t,i,o,r),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox"}loadTile(t,i){const o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(e,o){e&&(t.state="errored",i(e)),o&&(t.dem=o,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",i(null))}t.request=e.getImage(this.map._requestManager.transformRequest(o,e.ResourceType.Tile),function(o,n,s,a){if(delete t.request,t.aborted)t.state="unloaded",i(null);else if(o)t.state="errored",i(o);else if(n){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:s,expires:a});const i=e.window.ImageBitmap&&n instanceof e.window.ImageBitmap&&(null==De&&(De=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),De),o=1-(n.width-e.prevPowerOfTwo(n.width))/2;o<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const l=i?n:e.exported.getImageData(n,o),c={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:l,encoding:this.encoding,padding:o};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",c,r.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(t){const i=t.canonical,o=Math.pow(2,i.z),r=(i.x-1+o)%o,n=0===i.x?t.wrap-1:t.wrap,s=(i.x+1+o)%o,a=i.x+1===o?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,n,i.z,r,i.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,a,i.z,s,i.y).key]={backfilled:!1},i.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,n,i.z,r,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,a,i.z,s,i.y-1).key]={backfilled:!1}),i.y+1<o&&(l[new e.OverscaledTileID(t.overscaledZ,n,i.z,r,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,a,i.z,s,i.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}},geojson:class extends e.Evented{constructor(t,i,o,r){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=o.getActor(),this.setEventedParent(r),this._data=i.data,this._options=e.extend({},i),this._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;const n=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*n,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*n,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?i.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==i.clusterRadius?i.clusterRadius:50)*n,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions)}onAdd(e){this.map=e,this.setData(this._data)}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,i,o){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:i},o),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;const t=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(t.request=this.map._requestManager.transformRequest(e.exported.resolveURL(i),e.ResourceType.Source),t.request.collectResourceTiming=this._collectResourceTiming):t.data=JSON.stringify(i),this._pendingLoad=this.actor.send(`${this.type}.loadData`,t,((t,i)=>{if(this._loaded=!0,this._pendingLoad=null,t)this.fire(new e.ErrorEvent(t));else{const t={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&i&&i.resourceTiming&&i.resourceTiming[this.id]&&(t.resourceTiming=i.resourceTiming[this.id]),this.fire(new e.Event("data",t)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)}))}loaded(){return this._loaded}loadTile(t,i){const o=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(o,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},((e,r)=>(delete t.request,t.unloadVectorData(),t.aborted?i(null):e?i(e):(t.loadVectorData(r,this.map.painter,"reloadTile"===o),i(null)))),void 0,"loadTile"===o)}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Le{constructor(e,t,i,o){super(e,t,i,o),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const i of t.urls)this.urls.push(this.map._requestManager.transformRequest(i,e.ResourceType.Source).url);e.getVideo(this.urls,((t,i)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):i&&(this.video=i,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const i=this.video.seekable;t<i.start(0)||t>i.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,i=t.gl;this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Le,canvas:class extends Le{constructor(t,i,o,r){super(t,i,o,r),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>"number"!=typeof e))))||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "canvas"'))),this.options=i,this.animate=void 0===i.animate||i.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const i=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(i,this.canvas,i.gl.RGBA,{premultiply:!0}),this._prepareData(i)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}},custom:class extends e.Evented{constructor(t,i,o,r){super(),this.id=t,this.type="custom",this._dataType="raster",this._dispatcher=o,this._implementation=i,this.setEventedParent(r),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new e.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new e.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new U(this._implementation.bounds,this.minzoom,this.maxzoom)),i.update=this._update.bind(this),i.clearTiles=this._clearTiles.bind(this),i.coveringTiles=this._coveringTiles.bind(this),e.extend(this,e.pick(i,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(t){this._map=t,this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load()}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e)}hasTile(e){if(this._implementation.hasTile){const{x:t,y:i,z:o}=e.canonical;return this._implementation.hasTile({x:t,y:i,z:o})}return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,i){const{x:o,y:r,z:n}=t.tileID.canonical,s=new e.window.AbortController;t.request=Promise.resolve(this._implementation.loadTile({x:o,y:r,z:n},{signal:s.signal})).then(function(o){return delete t.request,t.aborted?(t.state="unloaded",i(null)):void 0===o?(t.state="errored",i(null)):null===o?(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",i(null)):function(t){return t instanceof e.window.ImageData||t instanceof e.window.HTMLCanvasElement||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLImageElement}(o)?(this.loadTileData(t,o),t.state="loaded",void i(null)):(t.state="errored",i(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch((e=>{20!==e.code&&(t.state="errored",i(e))})),t.request.cancel=()=>s.abort()}loadTileData(e,t){Se.loadTileData(e,t,this._map.painter)}unloadTileData(e){Se.unloadTileData(e,this._map.painter)}unloadTile(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){const{x:t,y:i,z:o}=e.tileID.canonical;this._implementation.unloadTile({x:t,y:i,z:o})}t()}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z})))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Ae=function(t,i,o,r){const n=new Pe[i.type](t,i,o,r);if(n.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${n.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],n),n};function Re(t,i){const o=e.identity([]);return e.scale(o,o,[.5*t.width,.5*-t.height,1]),e.translate(o,o,[1,-1,0]),e.multiply(o,o,t.calculateProjMatrix(i.toUnwrapped())),Float32Array.from(o)}function Oe(e,t,i,o,r,n,s,a=!1){const l=e.tilesIn(o,s,a);l.sort(Fe);const c=[];for(const o of l)c.push({wrappedTileID:o.tile.tileID.wrapped().key,queryResults:o.tile.queryRenderedFeatures(t,i,e._state,o,r,n,Re(e.transform,o.tile.tileID),a)});const h=function(e){const t={},i={};for(const o of e){const e=o.queryResults,r=o.wrappedTileID,n=i[r]=i[r]||{};for(const i in e){const o=e[i],r=n[i]=n[i]||{},s=t[i]=t[i]||[];for(const e of o)r[e.featureIndex]||(r[e.featureIndex]=!0,s.push(e))}}return t}(c);for(const t in h)h[t].forEach((t=>{const i=t.feature,o=i.layer;o&&"background"!==o.type&&"sky"!==o.type&&(i.source=o.source,o["source-layer"]&&(i.sourceLayer=o["source-layer"]),i.state=void 0!==i.id?e.getFeatureState(o["source-layer"],i.id):{})}));return h}function ke(e,t){const i=e.getRenderableIds().map((t=>e.getTileByID(t))),o=[],r={};for(let e=0;e<i.length;e++){const n=i[e],s=n.tileID.canonical.key;r[s]||(r[s]=!0,n.querySourceFeatures(o,t))}return o}function Fe(e,t){const i=e.tileID,o=t.tileID;return i.overscaledZ-o.overscaledZ||i.canonical.y-o.canonical.y||i.wrap-o.wrap||i.canonical.x-o.canonical.x}function Be(){return null!=gn.workerClass?new gn.workerClass:new e.window.Worker(gn.workerUrl)}const Ue="mapboxgl_preloaded_worker_pool";class Ne{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Ne.workerCount;)this.workers.push(new Be);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Ue]}numActive(){return Object.keys(this.active).length}}let Ge;function je(){return Ge||(Ge=new Ne),Ge}function Ze(t,i){const o={};for(const e in t)"ref"!==e&&(o[e]=t[e]);return e.refProperties.forEach((e=>{e in i&&(o[e]=i[e])})),o}function Ve(e){e=e.slice();const t=Object.create(null);for(let i=0;i<e.length;i++)t[e[i].id]=e[i];for(let i=0;i<e.length;i++)"ref"in e[i]&&(e[i]=Ze(e[i],t[e[i].ref]));return e}Ne.workerCount=2;const We={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Xe(e,t,i){i.push({command:We.addSource,args:[e,t[e]]})}function qe(e,t,i){t.push({command:We.removeSource,args:[e]}),i[e]=!0}function $e(e,t,i,o){qe(e,i,o),Xe(e,t,i)}function He(e,i,o){let r;for(r in e[o])if(e[o].hasOwnProperty(r)&&"data"!==r&&!t(e[o][r],i[o][r]))return!1;for(r in i[o])if(i[o].hasOwnProperty(r)&&"data"!==r&&!t(e[o][r],i[o][r]))return!1;return!0}function Ye(e,i,o,r,n,s){let a;for(a in i=i||{},e=e||{})e.hasOwnProperty(a)&&(t(e[a],i[a])||o.push({command:s,args:[r,a,i[a],n]}));for(a in i)i.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(t(e[a],i[a])||o.push({command:s,args:[r,a,i[a],n]}))}function Je(e){return e.id}function Ke(e,t){return e[t.id]=t,e}class Qe{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let i=1,o=this._distances[i];const r=t*this.paddedLength+this.padding;for(;o<r&&i<this._distances.length;)o=this._distances[++i];const n=i-1,s=this._distances[n],a=o-s,l=a>0?(r-s)/a:0;return this.points[n].mult(1-l).add(this.points[i].mult(l))}}class et{constructor(e,t,i){const o=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/i),this.yCellCount=Math.ceil(t/i);for(let e=0;e<this.xCellCount*this.yCellCount;e++)o.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,i,o,r){this._forEachCell(t,i,o,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(o),this.bboxes.push(r)}insertCircle(e,t,i,o){this._forEachCell(t-o,i-o,t+o,i+o,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(i),this.circles.push(o)}_insertBoxCell(e,t,i,o,r,n){this.boxCells[r].push(n)}_insertCircleCell(e,t,i,o,r,n){this.circleCells[r].push(n)}_query(e,t,i,o,r,n){if(i<0||e>this.width||o<0||t>this.height)return!r&&[];const s=[];if(e<=0&&t<=0&&this.width<=i&&this.height<=o){if(r)return!0;for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],i=this.circles[3*e+1],o=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:t-o,y1:i-o,x2:t+o,y2:i+o})}return n?s.filter(n):s}return this._forEachCell(e,t,i,o,this._queryCell,s,{hitTest:r,seenUids:{box:{},circle:{}}},n),r?s.length>0:s}_queryCircle(e,t,i,o,r){const n=e-i,s=e+i,a=t-i,l=t+i;if(s<0||n>this.width||l<0||a>this.height)return!o&&[];const c=[];return this._forEachCell(n,a,s,l,this._queryCellCircle,c,{hitTest:o,circle:{x:e,y:t,radius:i},seenUids:{box:{},circle:{}}},r),o?c.length>0:c}query(e,t,i,o,r){return this._query(e,t,i,o,!1,r)}hitTest(e,t,i,o,r){return this._query(e,t,i,o,!0,r)}hitTestCircle(e,t,i,o){return this._queryCircle(e,t,i,!0,o)}_queryCell(e,t,i,o,r,n,s,a){const l=s.seenUids,c=this.boxCells[r];if(null!==c){const r=this.bboxes;for(const h of c)if(!l.box[h]){l.box[h]=!0;const c=4*h;if(e<=r[c+2]&&t<=r[c+3]&&i>=r[c+0]&&o>=r[c+1]&&(!a||a(this.boxKeys[h]))){if(s.hitTest)return n.push(!0),!0;n.push({key:this.boxKeys[h],x1:r[c],y1:r[c+1],x2:r[c+2],y2:r[c+3]})}}}const h=this.circleCells[r];if(null!==h){const r=this.circles;for(const c of h)if(!l.circle[c]){l.circle[c]=!0;const h=3*c;if(this._circleAndRectCollide(r[h],r[h+1],r[h+2],e,t,i,o)&&(!a||a(this.circleKeys[c]))){if(s.hitTest)return n.push(!0),!0;{const e=r[h],t=r[h+1],i=r[h+2];n.push({key:this.circleKeys[c],x1:e-i,y1:t-i,x2:e+i,y2:t+i})}}}}}_queryCellCircle(e,t,i,o,r,n,s,a){const l=s.circle,c=s.seenUids,h=this.boxCells[r];if(null!==h){const e=this.bboxes;for(const t of h)if(!c.box[t]){c.box[t]=!0;const i=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[i+0],e[i+1],e[i+2],e[i+3])&&(!a||a(this.boxKeys[t])))return n.push(!0),!0}}const u=this.circleCells[r];if(null!==u){const e=this.circles;for(const t of u)if(!c.circle[t]){c.circle[t]=!0;const i=3*t;if(this._circlesCollide(e[i],e[i+1],e[i+2],l.x,l.y,l.radius)&&(!a||a(this.circleKeys[t])))return n.push(!0),!0}}}_forEachCell(e,t,i,o,r,n,s,a){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),h=this._convertToXCellCoord(i),u=this._convertToYCellCoord(o);for(let d=l;d<=h;d++)for(let l=c;l<=u;l++)if(r.call(this,e,t,i,o,this.xCellCount*l+d,n,s,a))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,i,o,r,n){const s=o-e,a=r-t,l=i+n;return l*l>s*s+a*a}_circleAndRectCollide(e,t,i,o,r,n,s){const a=(n-o)/2,l=Math.abs(e-(o+a));if(l>a+i)return!1;const c=(s-r)/2,h=Math.abs(t-(r+c));if(h>c+i)return!1;if(l<=a||h<=c)return!0;const u=l-a,d=h-c;return u*u+d*d<=i*i}}const tt=Math.tan(85*Math.PI/180);function it(t,i,o,r,n,s,a){const l=e.create();if(o)if("globe"===s.name){const t=e.calculateGlobeLabelMatrix(n,i);e.multiply(l,l,t)}else{const t=y([],a);l[0]=t[0],l[1]=t[1],l[4]=t[2],l[5]=t[3],r||e.rotateZ(l,l,n.angle)}else e.multiply(l,n.labelPlaneMatrix,t);return l}function ot(e,t,i,o,r,n,s){const a=it(e,t,i,o,r,n,s);return"globe"===n.name&&i||(a[2]=a[6]=a[10]=a[14]=0),a}function rt(t,i,o,r,n,s,a){if(o){if("globe"===s.name){const l=it(t,i,o,r,n,s,a);return e.invert(l,l),e.multiply(l,t,l),l}{const i=e.clone(t),o=e.identity([]);return o[0]=a[0],o[1]=a[1],o[4]=a[2],o[5]=a[3],e.multiply(i,i,o),r||e.rotateZ(i,i,-n.angle),i}}return n.glCoordMatrix}function nt(t,i,o,r){const n=[t,i,o,1];o?e.transformMat4$1(n,n,r):ft(n,n,r);const s=n[3];return n[0]/=s,n[1]/=s,n[2]/=s,n}function st(e,t){return Math.min(.5+e/t*.5,1.5)}function at(e,t){const i=e[0]/e[3],o=e[1]/e[3];return i>=-t[0]&&i<=t[0]&&o>=-t[1]&&o<=t[1]}function lt(t,i,o,r,n,s,a,l,c,h){const u=o.transform,d=r?t.textSizeData:t.iconSizeData,_=e.evaluateSizeForZoom(d,o.transform.zoom),p="globe"===u.projection.name,m=[256/o.width*2+1,256/o.height*2+1],f=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;f.clear();let g=null;p&&(g=r?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);const y=t.lineVertexArray,v=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,x=o.transform.width/o.transform.height;let b,w=!1;for(let r=0;r<v.length;r++){const p=v.get(r),{numGlyphs:T,writingMode:E}=p;if(E!==e.WritingMode.vertical||w||b===e.WritingMode.horizontal||(w=!0),b=E,(p.hidden||E===e.WritingMode.vertical)&&!w){mt(T,f);continue}w=!1;const C=new e.pointGeometry(p.tileAnchorX,p.tileAnchorY);let{x:M,y:I,z:S}=u.projection.projectTilePoint(C.x,C.y,h.canonical);if(c){const[e,t,i]=c(C);M+=e,I+=t,S+=i}const D=[M,I,S,1];if(e.transformMat4$1(D,D,i),!at(D,m)){mt(T,f);continue}const z=st(o.transform.cameraToCenterDistance,D[3]),L=e.evaluateSizeForFeature(d,_,p),P=a?L/z:L*z,A=nt(M,I,S,n);if(A[3]<=0){mt(T,f);continue}let R={};const O=a?null:c,k=ut(p,P,!1,l,i,n,s,t.glyphOffsetArray,y,f,g,A,C,R,x,O,u.projection,h,a);w=k.useVertical,O&&k.needsFlipping&&(R={}),(k.notEnoughRoom||w||k.needsFlipping&&ut(p,P,!0,l,i,n,s,t.glyphOffsetArray,y,f,g,A,C,R,x,O,u.projection,h,a).notEnoughRoom)&&mt(T,f)}r?(t.text.dynamicLayoutVertexBuffer.updateData(f),g&&t.text.globeExtVertexBuffer.updateData(g)):(t.icon.dynamicLayoutVertexBuffer.updateData(f),g&&t.icon.globeExtVertexBuffer.updateData(g))}function ct(e,t,i,o,r,n,s,a,l,c,h,u,d,_,p,m){const{lineStartIndex:f,glyphStartIndex:g,segment:y}=a,v=g+a.numGlyphs,x=f+a.lineLength,b=t.getoffsetX(g),w=t.getoffsetX(v-1),T=pt(e*b,i,o,r,n,s,y,f,x,l,c,h,u,d,!0,_,p,m);if(!T)return null;const E=pt(e*w,i,o,r,n,s,y,f,x,l,c,h,u,d,!0,_,p,m);return E?{first:T,last:E}:null}function ht(t,i,o,r){return t===e.WritingMode.horizontal&&Math.abs(r)>Math.abs(o)?{useVertical:!0}:t===e.WritingMode.vertical?r>0?{needsFlipping:!0}:null:0!==i&&function(e,t){return 0===e||Math.abs(t/e)>tt}(o,r)?1===i?{needsFlipping:!0}:null:o<0?{needsFlipping:!0}:null}function ut(t,i,o,r,n,s,a,l,c,h,u,d,_,p,m,f,g,y,v){const x=i/24,b=t.lineOffsetX*x,w=t.lineOffsetY*x,{lineStartIndex:T,glyphStartIndex:E,numGlyphs:C,segment:M,writingMode:I,flipState:S}=t,D=T+t.lineLength,z=t=>{if(u){const[i,o,r]=t.up,n=h.length;e.updateGlobeVertexNormal(u,n+0,i,o,r),e.updateGlobeVertexNormal(u,n+1,i,o,r),e.updateGlobeVertexNormal(u,n+2,i,o,r),e.updateGlobeVertexNormal(u,n+3,i,o,r)}const[i,o,r]=t.point;e.addDynamicAttributes(h,i,o,r,t.angle)};if(C>1){const e=ct(x,l,b,w,o,d,_,t,c,s,p,f,!1,g,y,v);if(!e)return{notEnoughRoom:!0};if(r&&!o){let[i,o,r]=e.first.point,[n,s,l]=e.last.point;[i,o]=nt(i,o,r,a),[n,s]=nt(n,s,l,a);const c=ht(I,S,(n-i)*m,s-o);if(t.flipState=c&&c.needsFlipping?1:2,c)return c}z(e.first);for(let e=E+1;e<E+C-1;e++){const t=pt(x*l.getoffsetX(e),b,w,o,d,_,M,T,D,c,s,p,f,!1,!1,g,y,v);if(!t)return h.length-=4*(e-E),{notEnoughRoom:!0};z(t)}z(e.last)}else{if(r&&!o){const i=nt(_.x,_.y,0,n),o=T+M+1,r=new e.pointGeometry(c.getx(o),c.gety(o)),s=nt(r.x,r.y,0,n),a=s[3]>0?s:_t(_,r,i,1,n,void 0,g,y.canonical),l=ht(I,S,(a[0]-i[0])*m,a[1]-i[1]);if(t.flipState=l&&l.needsFlipping?1:2,l)return l}const i=pt(x*l.getoffsetX(E),b,w,o,d,_,M,T,D,c,s,p,f,!1,!1,g,y,v);if(!i)return{notEnoughRoom:!0};z(i)}return{}}function dt(e,t,i,o,r){const{x:n,y:s,z:a}=o.projectTilePoint(e.x,e.y,t);if(!r)return nt(n,s,a,i);const[l,c,h]=r(e);return nt(n+l,s+c,a+h,i)}function _t(t,i,o,r,n,s,a,l){const c=dt(t.sub(i)._unit()._add(t),l,n,a,s);return e.sub(c,o,c),e.normalize(c,c),e.scaleAndAdd(c,o,c,r)}function pt(t,i,o,r,n,s,a,l,c,h,u,d,_,p,m,f,g,y){const v=r?t-i:t+i;let x=v>0?1:-1,b=0;r&&(x*=-1,b=Math.PI),x<0&&(b+=Math.PI);let w=l+a+(x>0?0:1)|0,T=n,E=n,C=0,M=0;const I=Math.abs(v),S=[],D=[];let z=s,L=z;const P=()=>_t(L,z,E,I-C+1,u,_,f,g.canonical);for(;C+M<=I;){if(w+=x,w<l||w>=c)return null;if(E=T,L=z,S.push(E),p&&D.push(L),z=new e.pointGeometry(h.getx(w),h.gety(w)),T=d[w],!T){const e=dt(z,g.canonical,u,f,_);T=e[3]>0?d[w]=e:P()}C+=M,M=e.distance(E,T)}m&&_&&(d[w]&&(T=P(),M=e.distance(E,T)),d[w]=T);const A=(I-C)/M,R=z.sub(L)._mult(A)._add(L),O=e.sub([],T,E),k=e.scaleAndAdd([],E,O,A);let F=[0,0,1],B=O[0],U=O[1];if(y&&(F=f.upVector(g.canonical,R.x,R.y),0!==F[0]||0!==F[1]||1!==F[2])){const t=[F[2],0,-F[0]],i=e.cross([],F,t);e.normalize(t,t),e.normalize(i,i),B=e.dot(O,t),U=e.dot(O,i)}if(o){const t=e.cross([],F,O);e.normalize(t,t),e.scaleAndAdd(k,k,t,o*x)}const N=b+Math.atan2(U,B);return S.push(k),p&&D.push(R),{point:k,angle:N,path:S,tilePath:D,up:F}}function mt(e,t){const i=t.length,o=i+4*e;t.resize(o),t.float32.fill(-1/0,4*i,4*o)}function ft(e,t,i){const o=t[0],r=t[1];return e[0]=i[0]*o+i[4]*r+i[12],e[1]=i[1]*o+i[5]*r+i[13],e[3]=i[3]*o+i[7]*r+i[15],e}const gt=100;class yt{constructor(e,t,i=new et(e.width+200,e.height+200,25),o=new et(e.width+200,e.height+200,25)){this.transform=e,this.grid=i,this.ignoredGrid=o,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+gt,this.screenBottomBoundary=e.height+gt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t}placeCollisionBox(e,t,i,o,r,n,s,a){let l=i.projectedAnchorX,c=i.projectedAnchorY,h=i.projectedAnchorZ;const u=i.elevation,d=i.tileID,_=e.getProjection();if(u&&d){const[e,t,o]=_.upVector(d.canonical,i.tileAnchorX,i.tileAnchorY),r=_.upVectorScale(d.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=e*u*r,c+=t*u*r,h+=o*u*r}const p=this.projectAndGetPerspectiveRatio(s,l,c,h,i.tileID,"globe"===_.name||!!u||this.transform.pitch>0,_),m=n*p.perspectiveRatio,f=(i.x1*t+o.x-i.padding)*m+p.point.x,g=(i.y1*t+o.y-i.padding)*m+p.point.y,y=(i.x2*t+o.x+i.padding)*m+p.point.x,v=(i.y2*t+o.y+i.padding)*m+p.point.y,x=p.perspectiveRatio<=.55||p.occluded;return!this.isInsideGrid(f,g,y,v)||!r&&this.grid.hitTest(f,g,y,v,a)||x?{box:[],offscreen:!1,occluded:p.occluded}:{box:[f,g,y,v],offscreen:this.isOffscreen(f,g,y,v),occluded:!1}}placeCollisionCircles(t,i,o,r,n,s,a,l,c,h,u,d,_,p,m){const f=[],g=this.transform.elevation,y=t.getProjection(),v=g?g.getAtTileOffsetFunc(m,this.transform.center.lat,this.transform.worldSize,y):null,x=new e.pointGeometry(o.tileAnchorX,o.tileAnchorY);let{x:b,y:w,z:T}=y.projectTilePoint(x.x,x.y,m.canonical);if(v){const[e,t,i]=v(x);b+=e,w+=t,T+=i}const E="globe"===y.name,C=this.projectAndGetPerspectiveRatio(a,b,w,T,m,E||!!g||this.transform.pitch>0,y),{perspectiveRatio:M}=C,I=(u?s/M:s*M)/e.ONE_EM,S=nt(b,w,T,l),D=C.signedDistanceFromCamera>0?ct(I,n,o.lineOffsetX*I,o.lineOffsetY*I,!1,S,x,o,r,l,{},g&&!u?v:null,u&&!!g,y,m,u):null;let z=!1,L=!1,P=!0;if(D&&!C.occluded){const t=.5*_*M+p,o=new e.pointGeometry(-100,-100),r=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),n=new Qe,{first:s,last:a}=D,l=s.path.length;let u=[];for(let e=l-1;e>=1;e--)u.push(s.path[e]);for(let e=1;e<a.path.length;e++)u.push(a.path[e]);const m=2.5*t;c&&(u=u.map((([e,t,i],o)=>(v&&!E&&(i=v(o<l-1?s.tilePath[l-1-o]:a.tilePath[o-l+2])[2]),nt(e,t,i,c)))),u.some((e=>e[3]<=0))&&(u=[]));let g=[];if(u.length>0){let t=1/0,i=-1/0,n=1/0,s=-1/0;for(const e of u)t=Math.min(t,e[0]),n=Math.min(n,e[1]),i=Math.max(i,e[0]),s=Math.max(s,e[1]);i>=o.x&&t<=r.x&&s>=o.y&&n<=r.y&&(g=[u.map((t=>new e.pointGeometry(t[0],t[1])))],(t<o.x||i>r.x||n<o.y||s>r.y)&&(g=e.clipLine(g,o.x,o.y,r.x,r.y)))}for(const e of g){n.reset(e,.25*t);let o=0;o=n.length<=.5*t?1:Math.ceil(n.paddedLength/m)+1;for(let e=0;e<o;e++){const r=e/Math.max(o-1,1),s=n.lerp(r),a=s.x+gt,l=s.y+gt;f.push(a,l,t,0);const c=a-t,u=l-t,_=a+t,p=l+t;if(P=P&&this.isOffscreen(c,u,_,p),L=L||this.isInsideGrid(c,u,_,p),!i&&this.grid.hitTestCircle(a,l,t,d)&&(z=!0,!h))return{circles:[],offscreen:!1,collisionDetected:z,occluded:!1}}}}return{circles:!h&&z||!L?[]:f,offscreen:P,collisionDetected:z,occluded:C.occluded}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const i=[];let o=1/0,r=1/0,n=-1/0,s=-1/0;for(const a of t){const t=new e.pointGeometry(a.x+gt,a.y+gt);o=Math.min(o,t.x),r=Math.min(r,t.y),n=Math.max(n,t.x),s=Math.max(s,t.y),i.push(t)}const a=this.grid.query(o,r,n,s).concat(this.ignoredGrid.query(o,r,n,s)),l={},c={};for(const t of a){const o=t.key;if(void 0===l[o.bucketInstanceId]&&(l[o.bucketInstanceId]={}),l[o.bucketInstanceId][o.featureIndex])continue;const r=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(i,r)&&(l[o.bucketInstanceId][o.featureIndex]=!0,void 0===c[o.bucketInstanceId]&&(c[o.bucketInstanceId]=[]),c[o.bucketInstanceId].push(o.featureIndex))}return c}insertCollisionBox(e,t,i,o,r){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:o,collisionGroupID:r},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,i,o,r){const n=t?this.ignoredGrid:this.grid,s={bucketInstanceId:i,featureIndex:o,collisionGroupID:r};for(let t=0;t<e.length;t+=4)n.insertCircle(s,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(t,i,o,r,n,s,a){const l=[i,o,r,1];let c=!1;if(r||this.transform.pitch>0){e.transformMat4$1(l,l,t);const s="globe"===a.name;if(this.fogState&&n&&!s){const t=function(t,i,o,r,n,s){const a=s.calculateFogTileMatrix(n),l=[i,o,r];return e.transformMat4(l,l,a),I(t,l,s.pitch,s._fov)}(this.fogState,i,o,r,n.toUnwrapped(),this.transform);c=t>.9}}else ft(l,l,t);const h=l[3];return{point:new e.pointGeometry((l[0]/h+1)/2*this.transform.width+gt,(-l[1]/h+1)/2*this.transform.height+gt),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(a)/h*.5,1.5),signedDistanceFromCamera:h,occluded:s&&l[2]>h||c}}isOffscreen(e,t,i,o){return i<gt||e>=this.screenRightBoundary||o<gt||t>this.screenBottomBoundary}isInsideGrid(e,t,i,o){return i>=0&&e<this.gridRightBoundary&&o>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function vt(t,i,o){const r=i.createTileMatrix(t,t.worldSize,o.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,r)}function xt(e,t,i){if(t.projection.name===i.projection.name)return e.projMatrix;const o=i.clone();return o.setProjection(t.projection),vt(o,t.getProjection(),e)}function bt(e,t,i){return t.name===i.projection.name?e.projMatrix:vt(i,t,e)}class wt{constructor(e,t,i,o){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):o&&i?1:0,this.placed=i}isHidden(){return 0===this.opacity&&!this.placed}}class Tt{constructor(e,t,i,o,r,n=!1){this.text=new wt(e?e.text:null,t,i,r),this.icon=new wt(e?e.icon:null,t,o,r),this.clipped=n}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Et{constructor(e,t,i,o=!1){this.text=e,this.icon=t,this.skipFade=i,this.clipped=o}}class Ct{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class Mt{constructor(e,t,i,o,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=i,this.bucketIndex=o,this.tileID=r}}class It{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function St(t,i,o,r,n){const{horizontalAlign:s,verticalAlign:a}=e.getAnchorAlignment(t),l=-(s-.5)*i,c=-(a-.5)*o,h=e.evaluateVariableOffset(t,r);return new e.pointGeometry(l+h[0]*n,c+h[1]*n)}function Dt(t,i,o,r,n){const s=new e.pointGeometry(t,i);return o&&s._rotate(r?n:-n),s}class zt{constructor(e,t,i,o,r){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new yt(this.transform,r),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new It(i),this.collisionCircleArrays={},this.prevPlacement=o,o&&(o.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,i,o,r){const n=o.getBucket(i),s=o.latestFeatureIndex;if(!n||!s||i.id!==n.layerIds[0])return;const a=n.layers[0].layout,l=o.collisionBoxArray,c=Math.pow(2,this.transform.zoom-o.tileID.overscaledZ),h=o.tileSize/e.EXTENT,u=o.tileID.toUnwrapped();this.transform.setProjection(n.projection);const d=(_=o.tileID,p=n.getProjection(),m=this.transform,p.name===this.projection?m.calculateProjMatrix(_.toUnwrapped()):vt(m,p,_));var _,p,m;const f="map"===a.get("text-pitch-alignment"),g="map"===a.get("text-rotation-alignment");i.compileFilter();const y=i.dynamicFilter(),v=i.dynamicFilterNeedsFeature(),x=this.transform.calculatePixelsToTileUnitsMatrix(o),b=ot(d,o.tileID.canonical,f,g,this.transform,n.getProjection(),x);let w=null;if(f){const t=rt(d,o.tileID.canonical,f,g,this.transform,n.getProjection(),x);w=e.multiply([],this.transform.labelPlaneMatrix,t)}let T=null;y&&o.latestFeatureIndex&&(T={unwrappedTileID:u,dynamicFilter:y,dynamicFilterNeedsFeature:v,featureIndex:o.latestFeatureIndex}),this.retainedQueryData[n.bucketInstanceId]=new Mt(n.bucketInstanceId,s,n.sourceLayerIndex,n.index,o.tileID);const E={bucket:n,layout:a,posMatrix:d,textLabelPlaneMatrix:b,labelToScreenMatrix:w,clippingData:T,scale:c,textPixelRatio:h,holdingForFade:o.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(n.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(n.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(n.sourceID)};if(r)for(const e of n.sortKeyRanges){const{sortKey:i,symbolInstanceStart:o,symbolInstanceEnd:r}=e;t.push({sortKey:i,symbolInstanceStart:o,symbolInstanceEnd:r,parameters:E})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:n.symbolInstances.length,parameters:E})}attemptAnchorPlacement(e,t,i,o,r,n,s,a,l,c,h,u,d,_,p,m,f,g){const{textOffset0:y,textOffset1:v,crossTileID:x}=u,b=[y,v],w=St(e,i,o,b,r),T=this.collisionIndex.placeCollisionBox(_,r,t,Dt(w.x,w.y,n,s,this.transform.angle),h,a,l,c.predicate);if(m){const e=_.getSymbolInstanceIconSize(g,this.transform.zoom,u.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(_,e,m,Dt(w.x,w.y,n,s,this.transform.angle),h,a,l,c.predicate).box.length)return}if(T.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[x]&&this.prevPlacement.placements[x]&&this.prevPlacement.placements[x].text&&(t=this.prevPlacement.variableOffsets[x].anchor),this.variableOffsets[x]={textOffset:b,width:i,height:o,anchor:e,textScale:r,prevAnchor:t},this.markUsedJustification(_,e,u,p),_.allowVerticalPlacement&&(this.markUsedOrientation(_,p,u),this.placedOrientations[x]=p),{shift:w,placedGlyphBoxes:T}}}placeLayerBucketPart(t,i,o,r){const{bucket:n,layout:s,posMatrix:a,textLabelPlaneMatrix:l,labelToScreenMatrix:c,clippingData:h,textPixelRatio:u,holdingForFade:d,collisionBoxArray:_,partiallyEvaluatedTextSize:p,partiallyEvaluatedIconSize:m,collisionGroup:f}=t.parameters,g=s.get("text-optional"),y=s.get("icon-optional"),v=s.get("text-allow-overlap"),x=s.get("icon-allow-overlap"),b="map"===s.get("text-rotation-alignment"),w="map"===s.get("text-pitch-alignment"),T="none"!==s.get("icon-text-fit"),E="viewport-y"===s.get("symbol-z-order");this.transform.setProjection(n.projection);let C=v&&(x||!n.hasIconData()||y),M=x&&(v||!n.hasTextData()||g);!n.collisionArrays&&_&&n.deserializeCollisionBoxes(_),o&&r&&n.updateCollisionDebugBuffers(this.transform.zoom,_);const I=(t,r,_)=>{const{crossTileID:E,numVerticalGlyphVertices:I}=t;if(h){const o={zoom:this.transform.zoom,pitch:this.transform.pitch};let r=null;if(h.dynamicFilterNeedsFeature){const e=this.retainedQueryData[n.bucketInstanceId];r=h.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:e.bucketIndex,sourceLayerIndex:e.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,h.dynamicFilter)(o,r,this.retainedQueryData[n.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),this.transform.calculateDistanceTileData(h.unwrappedTileID)))return this.placements[E]=new Et(!1,!1,!1,!0),void(i[E]=!0)}if(i[E])return;if(d)return void(this.placements[E]=new Et(!1,!1,!1));let S=!1,D=!1,z=!0,L=!1,P=!1,A=null,R={box:null,offscreen:null,occluded:null},O={box:null,offscreen:null,occluded:null},k=null,F=null,B=null,U=0,N=0,G=0;_.textFeatureIndex?U=_.textFeatureIndex:t.useRuntimeCollisionCircles&&(U=t.featureIndex),_.verticalTextFeatureIndex&&(N=_.verticalTextFeatureIndex);const j=e=>{e.tileID=this.retainedQueryData[n.bucketInstanceId].tileID;const t=this.transform.elevation;(t||e.elevation)&&(e.elevation=t?t.getAtTileOffset(e.tileID,e.tileAnchorX,e.tileAnchorY):0)},Z=_.textBox;if(Z){j(Z);const i=i=>{let o=e.WritingMode.horizontal;if(n.allowVerticalPlacement&&!i&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[E];e&&(this.placedOrientations[E]=e,o=e,this.markUsedOrientation(n,o,t))}return o},o=(t,i)=>{if(n.allowVerticalPlacement&&I>0&&_.verticalTextBox){for(const o of n.writingModes)if(o===e.WritingMode.vertical?(R=i(),O=R):R=t(),R&&R.box&&R.box.length)break}else R=t()};if(s.get("text-variable-anchor")){let l=s.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[E]){const e=this.prevPlacement.variableOffsets[E];l.indexOf(e.anchor)>0&&(l=l.filter((t=>t!==e.anchor)),l.unshift(e.anchor))}const c=(e,i,o)=>{const s=n.getSymbolInstanceTextSize(p,t,this.transform.zoom,r),c=(e.x2-e.x1)*s+2*e.padding,h=(e.y2-e.y1)*s+2*e.padding,d=T&&!x?i:null;d&&j(d);let _={box:[],offscreen:!1,occluded:!1};const g=v?2*l.length:l.length;for(let i=0;i<g;++i){const g=this.attemptAnchorPlacement(l[i%l.length],e,c,h,s,b,w,u,a,f,i>=l.length,t,r,n,o,d,p,m);if(g&&(_=g.placedGlyphBoxes,_&&_.box&&_.box.length)){S=!0,A=g.shift;break}}return _};o((()=>c(Z,_.iconBox,e.WritingMode.horizontal)),(()=>{const t=_.verticalTextBox;return t&&j(t),n.allowVerticalPlacement&&!(R&&R.box&&R.box.length)&&I>0&&t?c(t,_.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),R&&(S=R.box,z=R.offscreen,L=R.occluded);const h=i(R&&R.box);if(!S&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[E];e&&(this.variableOffsets[E]=e,this.markUsedJustification(n,e.anchor,t,h))}}else{const s=(i,o)=>{const s=n.getSymbolInstanceTextSize(p,t,this.transform.zoom,r),l=this.collisionIndex.placeCollisionBox(n,s,i,new e.pointGeometry(0,0),v,u,a,f.predicate);return l&&l.box&&l.box.length&&(this.markUsedOrientation(n,o,t),this.placedOrientations[E]=o),l};o((()=>s(Z,e.WritingMode.horizontal)),(()=>{const t=_.verticalTextBox;return n.allowVerticalPlacement&&I>0&&t?(j(t),s(t,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),i(R&&R.box&&R.box.length)}}if(k=R,S=k&&k.box&&k.box.length>0,z=k&&k.offscreen,L=k&&k.occluded,t.useRuntimeCollisionCircles){const i=n.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),r=e.evaluateSizeForFeature(n.textSizeData,p,i),h=s.get("text-padding");F=this.collisionIndex.placeCollisionCircles(n,v,i,n.lineVertexArray,n.glyphOffsetArray,r,a,l,c,o,w,f.predicate,t.collisionCircleDiameter*r/e.ONE_EM,h,this.retainedQueryData[n.bucketInstanceId].tileID),S=v||F.circles.length>0&&!F.collisionDetected,z=z&&F.offscreen,L=F.occluded}if(_.iconFeatureIndex&&(G=_.iconFeatureIndex),_.iconBox){const i=i=>{j(i);const o=T&&A?Dt(A.x,A.y,b,w,this.transform.angle):new e.pointGeometry(0,0),r=n.getSymbolInstanceIconSize(m,this.transform.zoom,t.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(n,r,i,o,x,u,a,f.predicate)};O&&O.box&&O.box.length&&_.verticalIconBox?(B=i(_.verticalIconBox),D=B.box.length>0):(B=i(_.iconBox),D=B.box.length>0),z=z&&B.offscreen,P=B.occluded}const V=g||0===t.numHorizontalGlyphVertices&&0===I,W=y||0===t.numIconVertices;if(V||W?W?V||(D=D&&S):S=D&&S:D=S=D&&S,S&&k&&k.box&&this.collisionIndex.insertCollisionBox(k.box,s.get("text-ignore-placement"),n.bucketInstanceId,O&&O.box&&N?N:U,f.ID),D&&B&&this.collisionIndex.insertCollisionBox(B.box,s.get("icon-ignore-placement"),n.bucketInstanceId,G,f.ID),F&&(S&&this.collisionIndex.insertCollisionCircles(F.circles,s.get("text-ignore-placement"),n.bucketInstanceId,U,f.ID),o)){const e=n.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new Ct);for(let e=0;e<F.circles.length;e+=4)t.circles.push(F.circles[e+0]),t.circles.push(F.circles[e+1]),t.circles.push(F.circles[e+2]),t.circles.push(F.collisionDetected?1:0)}const X="globe"!==n.projection.name;C=C&&(X||!L),M=M&&(X||!P),this.placements[E]=new Et(S||C,D||M,z||n.justReloaded),i[E]=!0};if(E){const e=n.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const i=e[t];I(n.symbolInstances.get(i),i,n.collisionArrays[i])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)I(n.symbolInstances.get(e),e,n.collisionArrays[e]);if(o&&n.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[n.bucketInstanceId];e.invert(t.invProjMatrix,a),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}n.justReloaded=!1}markUsedJustification(t,i,o,r){const{leftJustifiedTextSymbolIndex:n,centerJustifiedTextSymbolIndex:s,rightJustifiedTextSymbolIndex:a,verticalPlacedTextSymbolIndex:l,crossTileID:c}=o,h=e.getAnchorJustification(i),u=r===e.WritingMode.vertical?l:"left"===h?n:"center"===h?s:"right"===h?a:-1;n>=0&&(t.text.placedSymbolArray.get(n).crossTileID=u>=0&&n!==u?0:c),s>=0&&(t.text.placedSymbolArray.get(s).crossTileID=u>=0&&s!==u?0:c),a>=0&&(t.text.placedSymbolArray.get(a).crossTileID=u>=0&&a!==u?0:c),l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=u>=0&&l!==u?0:c)}markUsedOrientation(t,i,o){const r=i===e.WritingMode.horizontal||i===e.WritingMode.horizontalOnly?i:0,n=i===e.WritingMode.vertical?i:0,{leftJustifiedTextSymbolIndex:s,centerJustifiedTextSymbolIndex:a,rightJustifiedTextSymbolIndex:l,verticalPlacedTextSymbolIndex:c}=o,h=t.text.placedSymbolArray;s>=0&&(h.get(s).placedOrientation=r),a>=0&&(h.get(a).placedOrientation=r),l>=0&&(h.get(l).placedOrientation=r),c>=0&&(h.get(c).placedOrientation=n)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let i=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const o=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},n=t?t.variableOffsets:{},s=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],n=r[e];n?(this.opacities[e]=new Tt(n,o,t.text,t.icon,null,t.clipped),i=i||t.text!==n.text.placed||t.icon!==n.icon.placed):(this.opacities[e]=new Tt(null,o,t.text,t.icon,t.skipFade,t.clipped),i=i||t.text||t.icon)}for(const e in r){const t=r[e];if(!this.opacities[e]){const r=new Tt(t,o,!1,!1);r.isHidden()||(this.opacities[e]=r,i=i||t.text.placed||t.icon.placed)}}for(const e in n)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=n[e]);for(const e in s)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=s[e]);i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const i={};for(const o of t){const t=o.getBucket(e);t&&o.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,i,o.collisionBoxArray)}}updateBucketOpacities(t,i,o){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const r=t.layers[0].layout,n=!!t.layers[0].dynamicFilter(),s=new Tt(null,0,!1,!1,!0),a=r.get("text-allow-overlap"),l=r.get("icon-allow-overlap"),c=r.get("text-variable-anchor"),h="map"===r.get("text-rotation-alignment"),u="map"===r.get("text-pitch-alignment"),d="none"!==r.get("icon-text-fit"),_=new Tt(null,0,a&&(l||!t.hasIconData()||r.get("icon-optional")),l&&(a||!t.hasTextData()||r.get("text-optional")),!0);!t.collisionArrays&&o&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(o);const p=(e,t,i)=>{for(let o=0;o<t/4;o++)e.opacityVertexArray.emplaceBack(i)};let m=0;for(let o=0;o<t.symbolInstances.length;o++){const r=t.symbolInstances.get(o),{numHorizontalGlyphVertices:a,numVerticalGlyphVertices:l,crossTileID:f,numIconVertices:g}=r;let y=this.opacities[f];i[f]?y=s:y||(y=_,this.opacities[f]=y),i[f]=!0;const v=a>0||l>0,x=g>0,b=this.placedOrientations[f],w=b===e.WritingMode.vertical,T=b===e.WritingMode.horizontal||b===e.WritingMode.horizontalOnly;if(!v&&!x||y.isHidden()||m++,v){const e=Ut(y.text);p(t.text,a,w?Nt:e),p(t.text,l,T?Nt:e);const i=y.text.isHidden(),{leftJustifiedTextSymbolIndex:o,centerJustifiedTextSymbolIndex:n,rightJustifiedTextSymbolIndex:s,verticalPlacedTextSymbolIndex:c}=r,h=t.text.placedSymbolArray,u=i||w?1:0;o>=0&&(h.get(o).hidden=u),n>=0&&(h.get(n).hidden=u),s>=0&&(h.get(s).hidden=u),c>=0&&(h.get(c).hidden=i||T?1:0);const d=this.variableOffsets[f];d&&this.markUsedJustification(t,d.anchor,r,b);const _=this.placedOrientations[f];_&&(this.markUsedJustification(t,"left",r,_),this.markUsedOrientation(t,_,r))}if(x){const e=Ut(y.icon),{placedIconSymbolIndex:i,verticalPlacedIconSymbolIndex:o}=r,n=t.icon.placedSymbolArray,s=y.icon.isHidden()?1:0;i>=0&&(p(t.icon,g,w?Nt:e),n.get(i).hidden=s),o>=0&&(p(t.icon,r.numVerticalIconVertices,T?Nt:e),n.get(o).hidden=s)}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const i=t.collisionArrays[o];if(i){let o=new e.pointGeometry(0,0),r=!0;if(i.textBox||i.verticalTextBox){if(c){const e=this.variableOffsets[f];e?(o=St(e.anchor,e.width,e.height,e.textOffset,e.textScale),h&&o._rotate(u?this.transform.angle:-this.transform.angle)):r=!1}n&&(r=!y.clipped),i.textBox&&Lt(t.textCollisionBox.collisionVertexArray,y.text.placed,!r||w,o.x,o.y),i.verticalTextBox&&Lt(t.textCollisionBox.collisionVertexArray,y.text.placed,!r||T,o.x,o.y)}const s=r&&Boolean(!T&&i.verticalIconBox);i.iconBox&&Lt(t.iconCollisionBox.collisionVertexArray,y.icon.placed,s,d?o.x:0,d?o.y:0),i.verticalIconBox&&Lt(t.iconCollisionBox.collisionVertexArray,y.icon.placed,!s,d?o.x:0,d?o.y:0)}}}if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const i=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*i>e}setStale(){this.stale=!0}}function Lt(e,t,i,o,r){e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0)}const Pt=Math.pow(2,25),At=Math.pow(2,24),Rt=Math.pow(2,17),Ot=Math.pow(2,16),kt=Math.pow(2,9),Ft=Math.pow(2,8),Bt=Math.pow(2,1);function Ut(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,i=Math.floor(127*e.opacity);return i*Pt+t*At+i*Rt+t*Ot+i*kt+t*Ft+i*Bt+t}const Nt=0;class Gt{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,i,o,r){const n=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(n,o,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,n.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<n.length;){const e=n[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,i,0===e.symbolInstanceStart),this._currentPartIndex++,r())return!0}return!1}}class jt{constructor(e,t,i,o,r,n,s,a){this.placement=new zt(e,r,n,s,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=o,this._done=!1}isDone(){return this._done}continuePlacement(t,i,o){const r=e.exported.now(),n=()=>{const t=e.exported.now()-r;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=i[t[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=r)&&(!e.maxzoom||e.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new Gt(e)),this._inProgressLayer.continuePlacement(o[e.source],this.placement,this._showCollisionBoxes,e,n))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Zt=512/e.EXTENT/2;class Vt{constructor(e,t,i){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(let i=0;i<t.length;i++){const o=t.get(i),r=o.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,e)})}}getScaledCoordinates(t,i){const o=Zt/Math.pow(2,i.canonical.z-this.tileID.canonical.z);return{x:Math.floor((i.canonical.x*e.EXTENT+t.tileAnchorX)*o),y:Math.floor((i.canonical.y*e.EXTENT+t.tileAnchorY)*o)}}findMatches(e,t,i){const o=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let r=0;r<e.length;r++){const n=e.get(r);if(n.crossTileID)continue;const s=this.indexedSymbolInstances[n.key];if(!s)continue;const a=this.getScaledCoordinates(n,t);for(const e of s)if(Math.abs(e.coord.x-a.x)<=o&&Math.abs(e.coord.y-a.y)<=o&&!i[e.crossTileID]){i[e.crossTileID]=!0,n.crossTileID=e.crossTileID;break}}}}class Wt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Xt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const i=this.indexes[e],o={};for(const e in i){const r=i[e];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),o[r.tileID.key]=r}this.indexes[e]=o}this.lng=e}addBucket(e,t,i){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const o=this.usedCrossTileIDs[e.overscaledZ];for(const i in this.indexes){const r=this.indexes[i];if(Number(i)>e.overscaledZ)for(const i in r){const n=r[i];n.tileID.isChildOf(e)&&n.findMatches(t.symbolInstances,e,o)}else{const n=r[e.scaledTo(Number(i)).key];n&&n.findMatches(t.symbolInstances,e,o)}}for(let e=0;e<t.symbolInstances.length;e++){const r=t.symbolInstances.get(e);r.crossTileID||(r.crossTileID=i.generate(),o[r.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Vt(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const i in t.indexedSymbolInstances)for(const o of t.indexedSymbolInstances[i])delete this.usedCrossTileIDs[e][o.crossTileID]}removeStaleBuckets(e){let t=!1;for(const i in this.indexes){const o=this.indexes[i];for(const r in o)e[o[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,o[r]),delete o[r],t=!0)}return t}}class qt{constructor(){this.layerIndexes={},this.crossTileIDs=new Wt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,i,o){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Xt);let n=!1;const s={};"globe"!==o.name&&r.handleWrapJump(i);for(const i of t){const t=i.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(i.tileID,t,this.crossTileIDs)&&(n=!0),s[t.bucketInstanceId]=!0)}return r.removeStaleBuckets(s)&&(n=!0),n}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}const $t=(t,i)=>e.emitValidationErrors(t,i&&i.filter((e=>"source.canvas"!==e.identifier))),Ht=e.pick(We,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Yt=e.pick(We,["setCenter","setZoom","setBearing","setPitch"]),Jt={version:8,layers:[],sources:{}},Kt={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Qt extends e.Evented{constructor(t,i={}){super(),this.map=t,this.dispatcher=new P(je(),this),this.imageManager=new x,this.imageManager.setEventedParent(this),this.glyphManager=new e.GlyphManager(t._requestManager,i.localFontFamily?e.LocalGlyphMode.all:i.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,i.localFontFamily||i.localIdeographFontFamily),this.crossTileSymbolIndex=new qt,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const o=this;this._rtlTextPluginCallback=Qt.registerForPluginStateChange((t=>{o.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},((t,i)=>{if(e.triggerPluginCompletionEvent(t),i&&i.every((e=>e)))for(const e in o._sourceCaches){const t=o._sourceCaches[e],i=t.getSource().type;"vector"!==i&&"geojson"!==i||t.reload()}}))})),this.on("data",(e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const i=this._layers[e];i.source===t.id&&this._validateLayer(i)}}))}loadURL(t,i={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const o="boolean"==typeof i.validate?i.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,i.accessToken);const r=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(r,((t,i)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):i&&this._load(i,o)}))}loadJSON(t,i={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((()=>{this._request=null,this._load(t,!1!==i.validate)}))}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Jt,!1)}_updateLayerCount(e,t){const i=t?1:-1;e.is3D()&&(this._num3DLayers+=i),"circle"===e.type&&(this._numCircleLayers+=i),"symbol"===e.type&&(this._numSymbolLayers+=i)}_load(t,i){if(i&&$t(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection();for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);const o=Ve(this.stylesheet.layers);this._order=o.map((e=>e.id)),this._layers={},this._serializedLayers={};for(const t of o){const i=e.createStyleLayer(t);i.setEventedParent(this,{layer:{id:i.id}}),this._layers[i.id]=i,this._serializedLayers[i.id]=i.serialize(),this._updateLayerCount(i,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(t){this._spriteRequest=function(t,i,o){let r,n,s;const a=e.exported.devicePixelRatio>1?"@2x":"";let l=e.getJSON(i.transformRequest(i.normalizeSpriteURL(t,a,".json"),e.ResourceType.SpriteJSON),((e,t)=>{l=null,s||(s=e,r=t,h())})),c=e.getImage(i.transformRequest(i.normalizeSpriteURL(t,a,".png"),e.ResourceType.SpriteImage),((e,t)=>{c=null,s||(s=e,n=t,h())}));function h(){if(s)o(s);else if(r&&n){const t=e.exported.getImageData(n),i={};for(const o in r){const{width:n,height:s,x:a,y:l,sdf:c,pixelRatio:h,stretchX:u,stretchY:d,content:_}=r[o],p=new e.RGBAImage({width:n,height:s});e.RGBAImage.copy(t,p,{x:a,y:l},{x:0,y:0},{width:n,height:s}),i[o]={data:p,pixelRatio:h,sdf:c,stretchX:u,stretchY:d,content:_}}o(null,i)}}return{cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,((t,i)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(i)for(const e in i)this.imageManager.addImage(e,i[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new e.Event("data",{dataType:"style"}))}))}_validateLayer(t){const i=this.getSource(t.source);if(!i)return;const o=t.sourceLayer;o&&("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(o))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${o}" does not exist on source "${i.id}" as specified by style layer "${t.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const i of e){const e=this._layers[i];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(e){return!!this.terrain&&("function"==typeof e.isLayerDraped?e.isLayerDraped():Kt[e.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(t){if(!this._loaded)return;const i=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(e.length||i.length)&&this._updateWorkerLayers(e,i);for(const e in this._updatedSources){const t=this._updatedSources[e];"reload"===t?this._reloadSource(e):"clear"===t&&this._clearSource(e)}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}const o={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];o[e]=t.used,t.used=!1}for(const e of this._order){const i=this._layers[e];if(i.recalculate(t,this._availableImages),!i.isHidden(t.zoom)){const e=this._getLayerSourceCache(i);e&&(e.used=!0)}const o=this.map.painter;if(o){const e=i.getProgramIds();if(!e)continue;const r=i.getProgramConfiguration(t.zoom);for(const t of e)o.useProgram(t,r)}}for(const t in o){const i=this._sourceCaches[t];o[t]!==i.used&&i.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:i.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),i&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(i){if(this._checkLoaded(),$t(this,e.validateStyle(i)))return!1;(i=e.clone$1(i)).layers=Ve(i.layers);const o=function(e,i){if(!e)return[{command:We.setStyle,args:[i]}];let o=[];try{if(!t(e.version,i.version))return[{command:We.setStyle,args:[i]}];t(e.center,i.center)||o.push({command:We.setCenter,args:[i.center]}),t(e.zoom,i.zoom)||o.push({command:We.setZoom,args:[i.zoom]}),t(e.bearing,i.bearing)||o.push({command:We.setBearing,args:[i.bearing]}),t(e.pitch,i.pitch)||o.push({command:We.setPitch,args:[i.pitch]}),t(e.sprite,i.sprite)||o.push({command:We.setSprite,args:[i.sprite]}),t(e.glyphs,i.glyphs)||o.push({command:We.setGlyphs,args:[i.glyphs]}),t(e.transition,i.transition)||o.push({command:We.setTransition,args:[i.transition]}),t(e.light,i.light)||o.push({command:We.setLight,args:[i.light]}),t(e.fog,i.fog)||o.push({command:We.setFog,args:[i.fog]}),t(e.projection,i.projection)||o.push({command:We.setProjection,args:[i.projection]});const r={},n=[];!function(e,i,o,r){let n;for(n in i=i||{},e=e||{})e.hasOwnProperty(n)&&(i.hasOwnProperty(n)||qe(n,o,r));for(n in i){if(!i.hasOwnProperty(n))continue;const s=i[n];e.hasOwnProperty(n)?t(e[n],s)||("geojson"===e[n].type&&"geojson"===s.type&&He(e,i,n)?o.push({command:We.setGeoJSONSourceData,args:[n,s.data]}):$e(n,i,o,r)):Xe(n,i,o)}}(e.sources,i.sources,n,r);const s=[];e.layers&&e.layers.forEach((e=>{e.source&&r[e.source]?o.push({command:We.removeLayer,args:[e.id]}):s.push(e)}));let a=e.terrain;a&&r[a.source]&&(o.push({command:We.setTerrain,args:[void 0]}),a=void 0),o=o.concat(n),t(a,i.terrain)||o.push({command:We.setTerrain,args:[i.terrain]}),function(e,i,o){i=i||[];const r=(e=e||[]).map(Je),n=i.map(Je),s=e.reduce(Ke,{}),a=i.reduce(Ke,{}),l=r.slice(),c=Object.create(null);let h,u,d,_,p,m,f;for(h=0,u=0;h<r.length;h++)d=r[h],a.hasOwnProperty(d)?u++:(o.push({command:We.removeLayer,args:[d]}),l.splice(l.indexOf(d,u),1));for(h=0,u=0;h<n.length;h++)d=n[n.length-1-h],l[l.length-1-h]!==d&&(s.hasOwnProperty(d)?(o.push({command:We.removeLayer,args:[d]}),l.splice(l.lastIndexOf(d,l.length-u),1)):u++,m=l[l.length-h],o.push({command:We.addLayer,args:[a[d],m]}),l.splice(l.length-h,0,d),c[d]=!0);for(h=0;h<n.length;h++)if(d=n[h],_=s[d],p=a[d],!c[d]&&!t(_,p))if(t(_.source,p.source)&&t(_["source-layer"],p["source-layer"])&&t(_.type,p.type)){for(f in Ye(_.layout,p.layout,o,d,null,We.setLayoutProperty),Ye(_.paint,p.paint,o,d,null,We.setPaintProperty),t(_.filter,p.filter)||o.push({command:We.setFilter,args:[d,p.filter]}),t(_.minzoom,p.minzoom)&&t(_.maxzoom,p.maxzoom)||o.push({command:We.setLayerZoomRange,args:[d,p.minzoom,p.maxzoom]}),_)_.hasOwnProperty(f)&&"layout"!==f&&"paint"!==f&&"filter"!==f&&"metadata"!==f&&"minzoom"!==f&&"maxzoom"!==f&&(0===f.indexOf("paint.")?Ye(_[f],p[f],o,d,f.slice(6),We.setPaintProperty):t(_[f],p[f])||o.push({command:We.setLayerProperty,args:[d,f,p[f]]}));for(f in p)p.hasOwnProperty(f)&&!_.hasOwnProperty(f)&&"layout"!==f&&"paint"!==f&&"filter"!==f&&"metadata"!==f&&"minzoom"!==f&&"maxzoom"!==f&&(0===f.indexOf("paint.")?Ye(_[f],p[f],o,d,f.slice(6),We.setPaintProperty):t(_[f],p[f])||o.push({command:We.setLayerProperty,args:[d,f,p[f]]}))}else o.push({command:We.removeLayer,args:[d]}),m=l[l.lastIndexOf(d)+1],o.push({command:We.addLayer,args:[p,m]})}(s,i.layers,o)}catch(e){console.warn("Unable to compute style diff:",e),o=[{command:We.setStyle,args:[i]}]}return o}(this.serialize(),i).filter((e=>!(e.command in Yt)));if(0===o.length)return!1;const r=o.filter((e=>!(e.command in Ht)));if(r.length>0)throw new Error(`Unimplemented: ${r.map((e=>e.command)).join(", ")}.`);return o.forEach((e=>{"setTransition"!==e.command&&"setProjection"!==e.command&&this[e.command].apply(this,e.args)})),this.stylesheet=i,this._updateMapProjection(),!0}addImage(t,i){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(t,i),this._afterImageUpdated(t),this)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(t,i,o={}){if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!i.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(e.validateSource,`sources.${t}`,i,null,o))return;this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);const r=Ae(t,i,this.dispatcher,this);r.setEventedParent(this,(()=>({isSourceLoaded:this._isSourceCacheLoaded(t),source:r.serialize(),sourceId:t})));const n=i=>{const o=(i?"symbol:":"other:")+t,n=this._sourceCaches[o]=new e.SourceCache(o,r,i);(i?this._symbolSourceCaches:this._otherSourceCaches)[t]=n,n.style=this,n.onAdd(this.map)};n(!1),"vector"!==i.type&&"geojson"!==i.type||n(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0}removeSource(t){this._checkLoaded();const i=this.getSource(t);if(!i)throw new Error("There is no source with this ID");for(const i in this._layers)if(this._layers[i].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${i}" is using it.`)));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while terrain is using it.`)));const o=this._getSourceCaches(t);for(const t of o)delete this._sourceCaches[t.id],delete this._updatedSources[t.id],t.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t.getSource().id})),t.setEventedParent(null),t.clearTiles();return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],i.setEventedParent(null),i.onRemove&&i.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}_getSources(){const e=[];for(const t in this._otherSourceCaches){const i=this._getSourceCache(t);i&&e.push(i.getSource())}return e}addLayer(t,i,o={}){this._checkLoaded();const r=t.id;if(this.getLayer(r))return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${r}" already exists on this map`)));let n;if("custom"===t.type){if($t(this,e.validateCustomStyleLayer(t)))return;n=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(r,t.source),t=e.clone$1(t),t=e.extend(t,{source:r})),this._validate(e.validateLayer,`layers.${r}`,t,{arrayIndex:-1},o))return;n=e.createStyleLayer(t),this._validateLayer(n),n.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[n.id]=n.serialize(),this._updateLayerCount(n,!0)}const s=i?this._order.indexOf(i):this._order.length;if(i&&-1===s)return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${i}" does not exist on this map.`)));this._order.splice(s,0,r),this._layerOrderChanged=!0,this._layers[r]=n;const a=this._getLayerSourceCache(n);if(this._removedLayers[r]&&n.source&&a&&"custom"!==n.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==n.type?this._updatedSources[n.source]="clear":(this._updatedSources[n.source]="reload",a.pause())}this._updateLayer(n),n.onAdd&&n.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(t,i){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===i)return;const o=this._order.indexOf(t);this._order.splice(o,1);const r=i?this._order.indexOf(i):this._order.length;i&&-1===r?this.fire(new e.ErrorEvent(new Error(`Layer with id "${i}" does not exist on this map.`))):(this._order.splice(r,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(t){this._checkLoaded();const i=this._layers[t];if(!i)return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be removed.`)));i.setEventedParent(null),this._updateLayerCount(i,!1);const o=this._order.indexOf(t);this._order.splice(o,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=i,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],i.onRemove&&i.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return!0;return!1}setLayerZoomRange(t,i,o){this._checkLoaded();const r=this.getLayer(t);r?r.minzoom===i&&r.maxzoom===o||(null!=i&&(r.minzoom=i),null!=o&&(r.maxzoom=o),this._updateLayer(r)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(i,o,r={}){this._checkLoaded();const n=this.getLayer(i);if(n){if(!t(n.filter,o))return null==o?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(e.validateFilter,`layers.${n.id}.filter`,o,{layerType:n.type},r)||(n.filter=e.clone$1(o),this._updateLayer(n)))}else this.fire(new e.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be filtered.`)))}getFilter(t){const i=this.getLayer(t);return i&&e.clone$1(i.filter)}setLayoutProperty(i,o,r,n={}){this._checkLoaded();const s=this.getLayer(i);s?t(s.getLayoutProperty(o),r)||(s.setLayoutProperty(o,r,n),this._updateLayer(s)):this.fire(new e.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(t,i){const o=this.getLayer(t);if(o)return o.getLayoutProperty(i);this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style.`)))}setPaintProperty(i,o,r,n={}){this._checkLoaded();const s=this.getLayer(i);s?t(s.getPaintProperty(o),r)||(s.setPaintProperty(o,r,n)&&this._updateLayer(s),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new e.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(e,t){const i=this.getLayer(e);return i&&i.getPaintProperty(t)}setFeatureState(t,i){this._checkLoaded();const o=t.source,r=t.sourceLayer,n=this.getSource(o);if(!n)return void this.fire(new e.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)));const s=n.type;if("geojson"===s&&r)return void this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===s&&!r)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));const a=this._getSourceCaches(o);for(const e of a)e.setFeatureState(r,t.id,i)}removeFeatureState(t,i){this._checkLoaded();const o=t.source,r=this.getSource(o);if(!r)return void this.fire(new e.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)));const n=r.type,s="vector"===n?t.sourceLayer:void 0;if("vector"===n&&!s)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(i&&"string"!=typeof t.id&&"number"!=typeof t.id)return void this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const a=this._getSourceCaches(o);for(const e of a)e.removeFeatureState(s,t.id,i)}getFeatureState(t){this._checkLoaded();const i=t.source,o=t.sourceLayer,r=this.getSource(i);if(r){if("vector"!==r.type||o)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(i)[0].getFeatureState(o,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const e in this._sourceCaches){const i=this._sourceCaches[e].getSource();t[i.id]||(t[i.id]=i.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,i={},o=[];for(let r=this._order.length-1;r>=0;r--){const n=this._order[r];if(t(n)){i[n]=r;for(const t of e){const e=t[n];if(e)for(const t of e)o.push(t)}}}o.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const r=[];for(let n=this._order.length-1;n>=0;n--){const s=this._order[n];if(t(s))for(let e=o.length-1;e>=0;e--){const t=o[e].feature;if(i[t.layer.id]<n)break;r.push(t),o.pop()}else for(const t of e){const e=t[s];if(e)for(const t of e)r.push(t.feature)}}return r}queryRenderedFeatures(t,i,o){i&&i.filter&&this._validate(e.validateFilter,"queryRenderedFeatures.filter",i.filter,null,i);const r={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of i.layers){const i=this._layers[t];if(!i)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];r[i.source]=!0}}const n=[];i.availableImages=this._availableImages;const s=i&&i.layers?i.layers.some((e=>{const t=this.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),a=R.createFromScreenPoints(t,o);for(const e in this._sourceCaches){const t=this._sourceCaches[e].getSource().id;i.layers&&!r[t]||n.push(Oe(this._sourceCaches[e],this._layers,this._serializedLayers,a,i,o,s,!!this.map._showQueryGeometry))}return this.placement&&n.push(function(e,t,i,o,r,n,s){const a={},l=n.queryRenderedSymbols(o),c=[];for(const e of Object.keys(l).map(Number))c.push(s[e]);c.sort(Fe);for(const i of c){const o=i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId],t,i.bucketIndex,i.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in o){const t=a[e]=a[e]||[],r=o[e];r.sort(((e,t)=>{const o=i.featureSortOrder;if(o){const i=o.indexOf(e.featureIndex);return o.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(const e of r)t.push(e)}}for(const t in a)a[t].forEach((o=>{const r=o.feature,n=i(e[t]);if(!n)return;const s=n.getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=s}));return a}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),a.screenGeometry,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(n)}querySourceFeatures(t,i){i&&i.filter&&this._validate(e.validateFilter,"querySourceFeatures.filter",i.filter,null,i);const o=this._getSourceCaches(t);let r=[];for(const e of o)r=r.concat(ke(e,i));return r}addSourceType(e,t,i){return Qt.getSourceType(e)?i(new Error(`A source type called "${e}" already exists.`)):(Qt.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},i):i(null,null))}getLight(){return this.light.getLight()}setLight(e,i={}){this._checkLoaded();const o=this.light.getLight();let r=!1;for(const i in e)if(!t(e[i],o[i])){r=!0;break}if(!r)return;const n=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,i),this.light.updateTransitions(n)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(i,o=1){if(this._checkLoaded(),!i)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let r=i;if(1===o){if("object"==typeof r.source){const t="terrain-dem-src";this.addSource(t,r.source),r=e.clone$1(r),r=e.extend(r,{source:t})}if(this._validate(e.validateTerrain,"terrain",r))return}if(!this.terrain||this.terrain&&o!==this.terrain.drapeRenderMode){if(!r)return;this._createTerrain(r,o)}else{const i=this.terrain,o=i.get();for(const t of Object.keys(e.spec.terrain))!r.hasOwnProperty(t)&&e.spec.terrain[t].default&&(r[t]=e.spec.terrain[t].default);for(const e in r)if(!t(r[e],o[e])){i.set(r),this.stylesheet.terrain=r;const e=this._setTransitionParameters({duration:0});i.updateTransitions(e);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(e){const t=this.fog=new L(e,this.map.transform);this.stylesheet.fog=e;const i=this._setTransitionParameters({duration:0});t.updateTransitions(i)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask((()=>{for(const e of this.map._markers)e._evaluateOpacity()}))}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const i=this.fog,o=i.get();0===Object.keys(e).length&&i.set(e);for(const r in e)if(!t(e[r],o[r])){i.set(e),this.stylesheet.fog=e;const t=this._setTransitionParameters({duration:0});i.updateTransitions(t);break}}else this._createFog(e);this._markersNeedUpdate=!0}_setTransitionParameters(t){return{now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const e=this._order.filter((e=>this.isLayerDraped(this._layers[e]))),t=this._order.filter((e=>!this.isLayerDraped(this._layers[e])));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t)}_createTerrain(e,t){const i=this.terrain=new M(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const o=this._setTransitionParameters({duration:0});i.updateTransitions(o)}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"symbol"===t.type&&this._updateLayer(t)}}_validate(t,i,o,r,n={}){return(!n||!1!==n.validate)&&$t(this,t.call(e.validateStyle,e.extend({key:i,style:this.serialize(),value:o,styleSpec:e.spec},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){const t=this._getSourceCaches(e);for(const e of t)e.clearTiles()}_reloadSource(e){const t=this._getSourceCaches(e);for(const e of t)e.resume(),e.reload()}_reloadSources(){for(const e of this._getSources())e.reload&&e.reload()}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload()}}_updatePlacement(t,i,o,r,n=!1){let s=!1,a=!1;const l={};for(const e of this._order){const i=this._layers[e];if("symbol"!==i.type)continue;if(!l[i.source]){const e=this._getLayerSourceCache(i);if(!e)continue;l[i.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)))}const o=this.crossTileSymbolIndex.addLayer(i,l[i.source],t.center.lng,t.projection);s=s||o}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),n=n||this._layerOrderChanged||0===o,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(n||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new jt(t,this._order,n,i,o,r,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),a=!0),s&&this.pauseablePlacement.placement.setStale()),a||s)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,i){this.imageManager.getImages(t.icons,i),this._updateTilesForChangedImages();const o=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons)};o(this._otherSourceCaches[t.source]),o(this._symbolSourceCaches[t.source])}getGlyphs(e,t,i){this.glyphManager.getGlyphs(t.stacks,i)}getResource(t,i,o){return e.makeRequest(i,o)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(t){const i=this._getSourceCaches(t);return 0===i.length?(this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`))),!1):i.every((e=>e.loaded()))}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Qt.getSourceType=function(e){return Pe[e]},Qt.setSourceType=function(e,t){Pe[e]=t},Qt.registerForPluginStateChange=e.registerForPluginStateChange;var ei="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",ti="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",ii="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\nconst float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)\n{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nreturn currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",oi="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",ri="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let ni={},si={};const ai=[];di(ei,ai),di(ii,ai),di(oi,ai),di(ri,ai),ni=_i("",ii),si=_i(ri,oi);const li=_i("\n#if __VERSION__ >=300\n#define varying in\n#define gl_FragColor glFragColor\n#define texture2D texture\n#define textureCube texture\nout vec4 glFragColor;\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\n#if __VERSION__ >=300\n#define attribute in\n#define varying out\n#define texture2D texture\n#endif\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),ci=ei,hi="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var ui={background:_i("uniform vec4 u_color;uniform float u_opacity;\n#ifdef LIGHTING_3D_MODE\nvarying vec4 v_color;\n#endif\nvoid main() {vec4 out_color;\n#ifdef LIGHTING_3D_MODE\nout_color=v_color;\n#else\nout_color=u_color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#ifdef LIGHTING_3D_MODE\nuniform vec4 u_color;varying vec4 v_color;\n#endif\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(u_color);\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:_i("uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:_i("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:_i("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:_i("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:_i("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:_i("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:_i("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:_i("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:_i("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:_i("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:_i("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:_i("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:_i("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat NdotL=0.0;float colorvalue=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(color,NdotL);\n#else\nv_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef LIGHTING_3D_MODE\nv_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));\n#else\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:_i("uniform vec2 u_texsize;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color,v_NdotL)*u_opacity;\n#else\nout_color=out_color*v_lighting;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_NdotL=NdotL;\n#else\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#endif \n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:_i("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:_i("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef LIGHTING_3D_MODE\ngl_FragColor=apply_lighting(gl_FragColor);\n#endif\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:_i("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\nhighp vec4 out_color;\n#ifdef RENDER_LINE_GRADIENT\nout_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nout_color=color;\n#endif\nfloat trimmed=1.0;\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}\n#endif\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:_i("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\ncolor=apply_lighting(color);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:_i("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:_i("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:_i("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:_i("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:_i("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#else\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=wireframeOffset;\n#endif\nv_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\nv_fog_pos=fog_position(decodedPos);\n#else\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:_i("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:_i("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ti),skyboxGradient:_i("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ti),skyboxCapture:_i("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:_i("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;\n#ifdef GLOBE_POLES\nvec3 up_vector=globe_derived_up_vector;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifndef GLOBE_POLES\nglobe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;\n#endif\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:_i("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function di(e,t){const i=e.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let e of i)if(e=e.trim(),"#"===e[0]&&e.includes("if")&&!e.includes("endif")){e=e.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const i=e.split(" ");for(const e of i)t.includes(e)||t.push(e)}}function _i(e,t){const i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,o=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),r={},n=[...ai];return di(e,n),di(t,n),{fragmentSource:e=e.replace(i,((e,t,i,o,n)=>(r[n]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${n}\nvarying ${i} ${o} ${n};\n#else\nuniform ${i} ${o} u_${n};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${n}\n    ${i} ${o} ${n} = u_${n};\n#endif\n`))),vertexSource:t=t.replace(i,((e,t,i,o,n)=>{const s="float"===o?"vec2":"vec4",a=n.match(/color/)?"color":s;return r[n]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${n}\nuniform lowp float u_${n}_t;\nattribute ${i} ${s} a_${n};\nvarying ${i} ${o} ${n};\n#else\nuniform ${i} ${o} u_${n};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${n}\n    ${n} = a_${n};\n#else\n    ${i} ${o} ${n} = u_${n};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${n}\n    ${n} = unpack_mix_${a}(a_${n}, u_${n}_t);\n#else\n    ${i} ${o} ${n} = u_${n};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${n}\nuniform lowp float u_${n}_t;\nattribute ${i} ${s} a_${n};\n#else\nuniform ${i} ${o} u_${n};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${n}\n    ${i} ${o} ${n} = a_${n};\n#else\n    ${i} ${o} ${n} = u_${n};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${n}\n    ${i} ${o} ${n} = unpack_mix_${a}(a_${n}, u_${n}_t);\n#else\n    ${i} ${o} ${n} = u_${n};\n#endif\n`})),staticAttributes:o,usedDefines:n}}class pi{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(e,t,i,o,r,n,s){this.context=e;let a=this.boundPaintVertexBuffers.length!==o.length;for(let e=0;!a&&e<o.length;e++)this.boundPaintVertexBuffers[e]!==o[e]&&(a=!0);let l=this.boundDynamicVertexBuffers.length!==s.length;for(let e=0;!l&&e<s.length;e++)this.boundDynamicVertexBuffers[e]!==s[e]&&(l=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==i||a||l||this.boundIndexBuffer!==r||this.boundVertexOffset!==n)this.freshBind(t,i,o,r,n,s);else{e.bindVertexArrayOES.set(this.vao);for(const e of s)e&&e.bind();r&&r.dynamicDraw&&r.bind()}}freshBind(e,t,i,o,r,n){let s;const a=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=o,this.boundVertexOffset=r,this.boundDynamicVertexBuffers=n;else{s=l.currentNumAttributes||0;for(let e=a;e<s;e++)c.disableVertexAttribArray(e)}t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of i)t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of n)t&&(t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r));o&&o.bind(),l.currentNumAttributes=a}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function mi(t,i){const o=Math.pow(2,i.canonical.z),r=i.canonical.y;return[new e.MercatorCoordinate(0,r/o).toLngLat().lat,new e.MercatorCoordinate(0,(r+1)/o).toLngLat().lat]}function fi(t,i,o,r,n,s,a){const l=t.context,c=l.gl,h=o.fbo;if(!h)return;t.prepareDrawTile();const u=t.useProgram("hillshade");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,h.colorAttachment.get());const d=((e,t,i,o)=>{const r=i.paint.get("hillshade-shadow-color"),n=i.paint.get("hillshade-highlight-color"),s=i.paint.get("hillshade-accent-color");let a=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(a-=e.transform.angle);const l=!e.options.moving;return{u_matrix:o||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:mi(0,t.tileID),u_light:[i.paint.get("hillshade-exaggeration"),a],u_shadow:r,u_highlight:n,u_accent:s}})(t,o,r,t.terrain?i.projMatrix:null);t.prepareDrawProgram(l,u,i.toUnwrapped());const{tileBoundsBuffer:_,tileBoundsIndexBuffer:p,tileBoundsSegments:m}=t.getTileBoundsBuffers(o);u.draw(l,c.TRIANGLES,n,s,a,e.CullFaceMode.disabled,d,r.id,_,p,m)}function gi(t,i,o){if(!i.needsDEMTextureUpload)return;const r=t.context,n=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||t.getTileTexture(o.stride);const s=o.getPixels();i.demTexture?i.demTexture.update(s,{premultiply:!1}):i.demTexture=new e.Texture(r,s,n.RGBA,{premultiply:!1}),i.needsDEMTextureUpload=!1}function yi(t,i,o,r,n,s){const a=t.context,l=a.gl;if(!i.dem)return;const c=i.dem;if(a.activeTexture.set(l.TEXTURE1),gi(t,i,c),!i.demTexture)return;i.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const h=c.dim;a.activeTexture.set(l.TEXTURE0);let u=i.fbo;if(!u){const t=new e.Texture(a,{width:h,height:h,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),u=i.fbo=a.createFramebuffer(h,h,!0),u.colorAttachment.set(t.texture)}a.bindFramebuffer.set(u.framebuffer),a.viewport.set([0,0,h,h]);const{tileBoundsBuffer:d,tileBoundsIndexBuffer:_,tileBoundsSegments:p}=t.getMercatorTileBoundsBuffers();t.useProgram("hillshadePrepare").draw(a,l.TRIANGLES,r,n,s,e.CullFaceMode.disabled,((t,i)=>{const o=i.stride,r=e.create();return e.ortho(r,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(r,r,[0,-e.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[o,o],u_zoom:t.overscaledZ,u_unpack:i.unpackVector}})(i.tileID,c),o.id,d,_,p),i.needsHillshadePrepare=!1}const vi=t=>({u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}),xi=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),bi=(e,t,i,o,r,n,s,a,l,c,h,u,d,_,p)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(o),u_merc_matrix:i,u_zoom_transition:r,u_merc_center:n,u_image0:0,u_frustum_tl:s,u_frustum_tr:a,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:h,u_globe_radius:u,u_viewport:d,u_grid_matrix:p?Float32Array.from(p):new Float32Array(9),u_skirt_height:_});function wi(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const Ti=new class{constructor(){this.operations={}}newMorphing(e,t,i,o,r){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==i.tileID.key&&(t.queued=i)}else this.operations[e]={startTime:o,phase:0,duration:r,from:t,to:i,queued:null}}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const i=this.operations[t];for(i.phase=(e-i.startTime)/i.duration;i.phase>=1||!this._validOp(i);)if(!this._nextOp(i,e)){delete this.operations[t];break}}}_nextOp(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},Ei={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Ci(e){return 6*Math.pow(1.5,22-e)}function Mi(e,t){const i=1<<e.z;return!t&&(0===e.x||e.x===i-1)||0===e.y||e.y===i-1}const Ii=e=>({u_matrix:e});function Si(t,i,o,r,n){if(n>0){const s=e.exported.now(),a=(s-t.timeAdded)/n,l=i?(s-i.timeAdded)/n:-1,c=o.getSource(),h=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),u=!i||Math.abs(i.tileID.overscaledZ-h)>Math.abs(t.tileID.overscaledZ-h),d=u&&t.refreshedUponExpiration?1:e.clamp(u?a:1-l,0,1);return t.refreshedUponExpiration&&a>=1&&(t.refreshedUponExpiration=!1),i?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}class Di extends e.SourceCache{constructor(e){const t={type:"raster-dem",maxzoom:e.transform.maxZoom},i=new P(je(),null),o=Ae("mock-dem",t,i,e.style);super("mock-dem",o,!1),o.setEventedParent(this),this._sourceLoaded=!0}_loadTile(e,t){e.state="loaded",t(null)}}class zi extends e.SourceCache{constructor(e){const t=Ae("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new P(je(),null),e.style);super("proxy",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(t,i,o){if(t.freezeTileCoverage)return;this.transform=t;const r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((i,o)=>{if(i[o.key]="",!this._tiles[o.key]){const i=new e.Tile(o,this._source.tileSize*o.overscaleFactor(),t.tileZoom);i.state="loaded",this._tiles[o.key]=i}return i}),{});for(const e in this._tiles)e in r||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e])}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const i=Object.values(t);this.renderCachePool.push(...i),delete this.proxyCachedFBO[e]}}deallocRenderCache(){this.renderCache.forEach((e=>e.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Li extends e.OverscaledTileID{constructor(e,t,i){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=i}}class Pi extends e.Elevation{constructor(t,i){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[o,r,n]=function(t){const i=new e.StructArrayLayout2i4,o=new e.StructArrayLayout3ui6,r=131;i.reserve(17161),o.reserve(33800);const n=e.EXTENT/128,s=e.EXTENT+n/2,a=s+n;for(let t=-n;t<a;t+=n)for(let o=-n;o<a;o+=n){const r=o<0||o>s||t<0||t>s?24575:0,n=e.clamp(Math.round(o),0,e.EXTENT),a=e.clamp(Math.round(t),0,e.EXTENT);i.emplaceBack(n+r,a)}const l=(e,t)=>{const i=t*r+e;o.emplaceBack(i+1,i,i+r),o.emplaceBack(i+r,i+r+1,i+1)};for(let e=1;e<129;e++)for(let t=1;t<129;t++)l(t,e);return[0,129].forEach((e=>{for(let t=0;t<130;t++)l(t,e),l(e,t)})),[i,o,32768]}(),s=t.context;this.gridBuffer=s.createVertexBuffer(o,e.posAttributes.members),this.gridIndexBuffer=s.createIndexBuffer(r),this.gridSegments=e.SegmentVector.simpleSegment(0,0,o.length,r.length),this.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,o.length,n),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new zi(i.map),this.orthoMatrix=e.create(),e.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,e.EXTENT,0,e.EXTENT,0,1);const a=s.gl;this._overlapStencilMode=new e.StencilMode({func:a.GEQUAL,mask:255},0,255,a.KEEP,a.KEEP,a.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=i,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Di(i.map)}set style(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",(()=>{this._clearLineLayersFromRenderCache()}))}update(t,i,o){if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;const r=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(r.get("source")),this._exaggeration=r.get("exaggeration");const n=()=>{this.sourceCache.used&&e.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const t=this.getScaledDemTileSize();this.sourceCache.update(i,t,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,n(),this._initializing=!0),n(),i.updateElevation(!0,o),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(i),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(e){this._findCoveringTileCache[e]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce(`Terrain render cache efficiency is not optimal (${t.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${t.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((e=>e.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}set useVertexMorphing(e){this._useVertexMorphing=e}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const i=this.proxySourceCache,o=this.painter.transform;this._initializing&&(this._initializing=0===o._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(o.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=i.getIds().map((e=>{const t=i.getTileByID(e).tileID;return t.projMatrix=o.calculateProjMatrix(t.toUnwrapped()),t}));!function(t,i){const o=i.transform.pointCoordinate(i.transform.getCameraPoint()),r=new e.pointGeometry(o.x,o.y);t.sort(((t,i)=>{if(i.overscaledZ-t.overscaledZ)return i.overscaledZ-t.overscaledZ;const o=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),n=new e.pointGeometry(i.canonical.x+(1<<i.canonical.z)*i.wrap,i.canonical.y),s=r.mult(1<<t.canonical.z);return s.x-=.5,s.y-=.5,s.distSqr(o)-s.distSqr(n)}))}(r,this.painter),this._previousZoom=o.zoom;const n=this.proxyToSource||{};this.proxyToSource={},r.forEach((e=>{this.proxyToSource[e.key]={}})),this.terrainTileForTile={};const s=this._style._sourceCaches;for(const e in s){const i=s[e];if(!i.used)continue;if(i!==this.sourceCache&&this.resetTileLookupCache(i.id),this._setupProxiedCoordsForOrtho(i,t[e],n),i.usedForTerrain)continue;const o=t[e];i.getSource().reparseOverscaled&&this._assignTerrainTiles(o)}this.proxiedCoords[i.id]=r.map((e=>new Li(e,e.key,this.orthoMatrix))),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(n),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();const a={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const i=t.tileID.key;i in a||(this._visibleDemTiles.push(t),a[i]=i)}}_assignTerrainTiles(e){this._initializing||e.forEach((e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t)}))}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const i in this.terrainTileForTile){const o=this.terrainTileForTile[i],r=o.dem;!r||o.demTexture&&!o.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),gi(this.painter,o,r))}}_prepareDemTileUniforms(e,t,i,o){if(!t||null==t.demTexture)return!1;const r=e.tileID.canonical,n=Math.pow(2,t.tileID.canonical.z-r.z),s=o||"";return i[`u_dem_tl${s}`]=[r.x*n%1,r.y*n%1],i[`u_dem_scale${s}`]=n,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const t=this.painter.context,i=t.gl;if(!this._emptyDepthBufferTexture){const o=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,o,i.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce(((t,i)=>{if(!i.dem)return t;const o=i.dem.tree.minimums[0];return o>0&&e++,t+o}),0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,i=t.gl;t.activeTexture.set(i.TEXTURE2);const o=this._getLoadedAreaMinimum(),r=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(o,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let n=this._emptyDEMTexture;return n?n.update(r,{premultiply:!1}):n=this._emptyDEMTexture=new e.Texture(t,r,i.RGBA,{premultiply:!1}),n}setupElevationDraw(t,i,o){const r=this.painter.context,n=r.gl,s=(a=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(a),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var a;s.u_dem_size=this.sourceCache.getSource().tileSize,s.u_exaggeration=this.exaggeration();let l=null,c=null,h=1;if(o&&o.morphing&&this._useVertexMorphing){const e=o.morphing.srcDemTile,i=o.morphing.dstDemTile;h=o.morphing.phase,e&&i&&(this._prepareDemTileUniforms(t,e,s,"_prev")&&(c=e),this._prepareDemTileUniforms(t,i,s)&&(l=i))}if(c&&l?(r.activeTexture.set(n.TEXTURE2),l.demTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE,n.NEAREST),r.activeTexture.set(n.TEXTURE4),c.demTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE,n.NEAREST),s.u_dem_lerp=h):(l=this.terrainTileForTile[t.tileID.key],r.activeTexture.set(n.TEXTURE2),(this._prepareDemTileUniforms(t,l,s)?l.demTexture:this.emptyDEMTexture).bind(n.NEAREST,n.CLAMP_TO_EDGE)),r.activeTexture.set(n.TEXTURE3),o&&o.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE),this._depthFBO&&(s.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE),s.u_depth_size_inv=[1,1]),o&&o.useMeterToDem&&l){const t=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;s.u_meter_to_dem=t}if(o&&o.labelPlaneMatrixInv&&(s.u_label_plane_matrix_inv=o.labelPlaneMatrixInv),i.setTerrainUniformValues(r,s),"globe"===this.painter.transform.projection.name){const e=this.globeUniformValues(this.painter.transform,t.tileID.canonical,o&&o.useDenormalizedUpVectorScale);i.setGlobeUniformValues(r,e)}}globeUniformValues(t,i,o){const r=t.projection;return{u_tile_tl_up:r.upVector(i,0,0),u_tile_tr_up:r.upVector(i,e.EXTENT,0),u_tile_br_up:r.upVector(i,e.EXTENT,e.EXTENT),u_tile_bl_up:r.upVector(i,0,e.EXTENT),u_tile_up_scale:o?e.globeMetersToEcef(1):r.upVectorScale(i,t.center.lat,t.worldSize).metersToTile}}renderToBackBuffer(t){const i=this.painter,o=this.painter.context;0!==t.length&&(o.bindFramebuffer.set(null),o.viewport.set([0,0,i.width,i.height]),i.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,i,o,r,n){if("globe"===t.transform.projection.name)!function(t,i,o,r,n){const s=t.context,a=s.gl;let l,c;const h=t.options.showTerrainWireframe?2:0,u=t.transform,d=e.globeUseCustomAntiAliasing(t,s,u),_=(e,i)=>{if(c===e)return;const o=[Ei[e],"PROJECTION_GLOBE_VIEW"];d&&o.push("CUSTOM_ANTIALIASING"),i&&o.push(Ei[h]),l=t.useProgram("globeRaster",null,o),c=e},p=t.colorModeForRenderPass(),m=new e.DepthMode(a.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Ti.update(n);const f=e.calculateGlobeMercatorMatrix(u),g=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],y=h?[!1,!0]:[!1],v=t.globeSharedBuffers,x=[u.width*e.exported.devicePixelRatio,u.height*e.exported.devicePixelRatio],b=Float32Array.from(u.globeMatrix),w={useDenormalizedUpVectorScale:!0};if(y.forEach((h=>{const u=t.transform,d=Ci(u.zoom)*i.exaggeration();c=-1;const y=h?a.LINES:a.TRIANGLES;for(const c of r){const r=o.getTile(c),T=e.StencilMode.disabled,E=i.prevTerrainTileForTile[c.key],C=i.terrainTileForTile[c.key];wi(E,C)&&Ti.newMorphing(c.key,E,C,n,250),s.activeTexture.set(a.TEXTURE0),r.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE);const M=Ti.getMorphValuesForProxy(c.key),I=M?1:0;M&&e.extend$1(w,{morphing:{srcDemTile:M.from,dstDemTile:M.to,phase:e.easeCubicInOut(M.phase)}});const S=e.tileCornersToBounds(c.canonical),D=e.getLatitudinalLod(S.getCenter().lat),z=e.getGridMatrix(c.canonical,S,D,u.worldSize/u._pixelsPerMercatorPixel),L=e.globeNormalizeECEF(e.globeTileBounds(c.canonical)),P=bi(u.projMatrix,b,f,L,e.globeToMercatorTransition(u.zoom),g,u.frustumCorners.TL,u.frustumCorners.TR,u.frustumCorners.BR,u.frustumCorners.BL,u.globeCenterInViewSpace,u.globeRadius,x,d,z);if(_(I,h),i.setupElevationDraw(r,l,w),t.prepareDrawProgram(s,l,c.toUnwrapped()),v){const[i,o,r]=h?v.getWirefameBuffers(t.context,D):v.getGridBuffers(D,0!==d);l.draw(s,y,m,T,p,e.CullFaceMode.backCCW,P,"globe_raster",i,o,r)}}})),v){const n=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];d&&n.push("CUSTOM_ANTIALIASING"),l=t.useProgram("globeRaster",null,n);for(const n of r){const{x:r,y:c,z:h}=n.canonical,d=0===c,_=c===(1<<h)-1,[f,y,b,T]=v.getPoleBuffers(h);if(T&&(d||_)){const c=o.getTile(n);s.activeTexture.set(a.TEXTURE0),c.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE);let v=e.globePoleMatrixForTile(h,r,u);const E=e.globeNormalizeECEF(e.globeTileBounds(n.canonical)),C=(t,i)=>t.draw(s,a.TRIANGLES,m,e.StencilMode.disabled,p,e.CullFaceMode.disabled,bi(u.projMatrix,v,v,E,0,g,u.frustumCorners.TL,u.frustumCorners.TR,u.frustumCorners.BR,u.frustumCorners.BL,u.globeCenterInViewSpace,u.globeRadius,x,0),"globe_pole_raster",i,b,T);i.setupElevationDraw(c,l,w),t.prepareDrawProgram(s,l,n.toUnwrapped()),d&&C(l,f),_&&(v=e.scale(e.create(),v,[1,-1,1]),C(l,y))}}}}(t,i,o,r,n);else{const s=t.context,a=s.gl;let l,c;const h=t.options.showTerrainWireframe?2:0,u=(e,i)=>{if(c===e)return;const o=[Ei[e]];i&&o.push(Ei[h]),l=t.useProgram("terrainRaster",null,o),c=e},d=t.colorModeForRenderPass(),_=new e.DepthMode(a.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Ti.update(n);const p=t.transform,m=Ci(p.zoom)*i.exaggeration();(h?[!1,!0]:[!1]).forEach((h=>{c=-1;const f=h?a.LINES:a.TRIANGLES,[g,y]=h?i.getWirefameBuffer():[i.gridIndexBuffer,i.gridSegments];for(const c of r){const r=o.getTile(c),v=e.StencilMode.disabled,x=i.prevTerrainTileForTile[c.key],b=i.terrainTileForTile[c.key];wi(x,b)&&Ti.newMorphing(c.key,x,b,n,250),s.activeTexture.set(a.TEXTURE0),r.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);const w=Ti.getMorphValuesForProxy(c.key),T=w?1:0;let E;w&&(E={morphing:{srcDemTile:w.from,dstDemTile:w.to,phase:e.easeCubicInOut(w.phase)}});const C=xi(c.projMatrix,Mi(c.canonical,p.renderWorldCopies)?m/10:m);u(T,h),i.setupElevationDraw(r,l,E),t.prepareDrawProgram(s,l,c.toUnwrapped()),l.draw(s,f,_,v,d,e.CullFaceMode.backCCW,C,"terrain_raster",i.gridBuffer,g,y)}}))}}(i,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,i.gpuTimingDeferredRenderEnd(),t.splice(0,t.length))}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const i=this.painter,o=this.painter.context,r=this.proxySourceCache,n=this.proxiedCoords[r.id],s=this._drapedRenderBatches.shift(),a=[],l=i.style.order;let c=0;for(const h of n){const n=r.getTileByID(h.proxyTileKey),u=r.proxyCachedFBO[h.key]?r.proxyCachedFBO[h.key][t]:void 0,d=void 0!==u?r.renderCache[u]:this.pool[c++],_=void 0!==u;if(n.texture=d.tex,_&&!d.dirty){a.push(n.tileID);continue}let p;o.bindFramebuffer.set(d.fb.framebuffer),this.renderedToTile=!1,d.dirty&&(o.clear({color:e.Color.transparent,stencil:0}),d.dirty=!1);for(let e=s.start;e<=s.end;++e){const t=i.style._layers[l[e]];if(t.isHidden(i.transform.zoom))continue;const r=i.style._getLayerSourceCache(t),n=r?this.proxyToSource[h.key][r.id]:[h];if(!n)continue;const s=n;o.viewport.set([0,0,d.fb.width,d.fb.height]),p!==(r?r.id:null)&&(this._setupStencil(d,n,t,r),p=r?r.id:null),i.renderLayer(i,r,t,s)}this.renderedToTile?(d.dirty=!0,a.push(n.tileID)):_||--c,5===c&&(c=0,this.renderToBackBuffer(a))}return this.renderToBackBuffer(a),this.renderingToTexture=!1,o.bindFramebuffer.set(null),o.viewport.set([0,0,i.width,i.height]),s.end+1}postRender(){}renderCacheEfficiency(e){const t=e.order.length;if(0===t)return{efficiency:100};let i,o=0,r=0,n=!1;for(let s=0;s<t;++s){const t=e._layers[e.order[s]];this._style.isLayerDraped(t)?(n&&++o,++r):n||(n=!0,i=t.id)}return 0===r?{efficiency:100}:{efficiency:100*(1-o/r),firstUndrapedLayer:i}}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter((e=>e.dem)).forEach((t=>{e=Math.min(e,t.dem.tree.minimums[0])})),0===e?e:(e-30)*this._exaggeration}raycast(e,t,i){if(!this._visibleDemTiles)return null;const o=this._visibleDemTiles.filter((e=>e.dem)).map((o=>{const r=o.tileID,n=1<<r.overscaledZ,{x:s,y:a}=r.canonical,l=s/n,c=(s+1)/n,h=a/n,u=(a+1)/n;return{minx:l,miny:h,maxx:c,maxy:u,t:o.dem.tree.raycastRoot(l,h,c,u,e,t,i),tile:o}}));o.sort(((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)));for(const r of o){if(null==r.t)return null;const o=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,e,t,i);if(null!=o)return o}return null}_createFBO(){const t=this.painter.context,i=t.gl,o=this.drapeBufferSize;t.activeTexture.set(i.TEXTURE0);const r=new e.Texture(t,{width:o[0],height:o[1],data:null},i.RGBA);r.bind(i.LINEAR,i.CLAMP_TO_EDGE);const n=t.createFramebuffer(o[0],o[1],!1);return n.colorAttachment.set(r.texture),n.depthAttachment=new Ee(t,n.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,o[0],o[1]),this._stencilRef=0,n.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):n.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&i.texParameterf(i.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:n,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e].hasTransition())return!0;return this._style.order.some((e=>{const t=this._style._layers[e],i=t.isHidden(this.painter.transform.zoom);return"custom"===t.type?!i&&t.shouldRedrape():!i&&t.hasTransition()}))}_clearLineLayersFromRenderCache(){let t=!1;for(const e of this._style._getSources())if(e instanceof Ie){t=!0;break}if(!t)return;const i={};for(let t=0;t<this._style.order.length;++t){const o=this._style._layers[this._style.order[t]],r=this._style._getLayerSourceCache(o);if(r&&!i[r.id]&&!o.isHidden(this.painter.transform.zoom)&&"line"===o.type&&o.widthExpression()instanceof e.ZoomDependentExpression){i[r.id]=!0;for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][r.id];if(t)for(const e of t)this._clearRenderCacheForTile(r.id,e)}}}}_clearRasterLayersFromRenderCache(){let e=!1;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Se){e=!0;break}if(!e)return;const t={};for(let e=0;e<this._style.order.length;++e){const i=this._style._layers[this._style.order[e]],o=this._style._getLayerSourceCache(i);if(!o||t[o.id])continue;if(i.isHidden(this.painter.transform.zoom)||"raster"!==i.type)continue;const r=i.paint.get("raster-fade-duration");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][o.id];if(t)for(const e of t){const t=Si(o.getTile(e),o.findLoadedParent(e,0),o,this.painter.transform,r);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(o.id,e)}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const i=[];let o,r=0,n=this._style._layers[e[r]];for(;!this._style.isLayerDraped(n)&&n.isHidden(this.painter.transform.zoom)&&++r<t;)n=this._style._layers[e[r]];for(;r<t;++r){const t=this._style._layers[e[r]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===o&&(o=r):void 0!==o&&(i.push({start:o,end:r-1}),o=void 0))}void 0!==o&&i.push({start:o,end:r-1}),this._drapedRenderBatches=i}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let i=0;i<e.length;++i){const o=Object.values(e[i]);t.renderCachePool.push(...o)}}return}this._clearRasterLayersFromRenderCache();const i=this.proxyCoords,o=this._tilesDirty;for(let r=i.length-1;r>=0;r--){const n=i[r];if(t.getTileByID(n.key),void 0!==t.proxyCachedFBO[n.key]){const i=e[n.key],r=this.proxyToSource[n.key];let s=0;for(const e in r){const t=r[e],n=i[e];if(!n||n.length!==t.length||t.some(((t,i)=>t!==n[i]||o[e]&&o[e].hasOwnProperty(t.key)))){s=-1;break}++s}for(const e in t.proxyCachedFBO[n.key])t.renderCache[t.proxyCachedFBO[n.key][e]].dirty=s<0||s!==Object.values(i).length}}const r=[...this._drapedRenderBatches];r.sort(((e,t)=>t.end-t.start-(e.end-e.start)));for(const e of r)for(const o of i){if(t.proxyCachedFBO[o.key])continue;let i=t.renderCachePool.pop();void 0===i&&t.renderCache.length<50&&(i=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==i&&(t.proxyCachedFBO[o.key]={},t.proxyCachedFBO[o.key][e.start]=i,t.renderCache[i].dirty=!0)}this._tilesDirty={}}_setupStencil(e,t,i,o){if(!o||!this._sourceTilesOverlap[o.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,n=r.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let s;if(i.isTileClipped())s=t.length,this._overlapStencilMode.test={func:n.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);s=1,this._overlapStencilMode.test={func:n.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+s>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=s,this._overlapStencilMode.ref=this._stencilRef,i.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}_renderTileClippingMasks(t,i){const o=this.painter,r=this.painter.context,n=r.gl;o._tileClippingMaskIDs={},r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const s=o.useProgram("clippingMask");for(const a of t){const t=o._tileClippingMaskIDs[a.key]=--i;s.draw(r,n.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:n.ALWAYS,mask:0},t,255,n.KEEP,n.KEEP,n.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Ii(a.projMatrix),"$clipping",o.tileExtentBuffer,o.quadTriangleIndexBuffer,o.tileExtentSegments)}}pointCoordinate(t){const i=this.painter.transform;if(t.x<0||t.x>i.width||t.y<0||t.y>i.height)return null;const o=[t.x,t.y,1,1];e.transformMat4$1(o,o,i.pixelMatrixInverse),e.scale$1(o,o,1/o[3]),o[0]/=i.worldSize,o[1]/=i.worldSize;const r=i._camera.position,n=e.mercatorZfromAltitude(1,i.center.lat),s=[r[0],r[1],r[2]/n,0],a=e.subtract([],o.slice(0,3),s);e.normalize(a,a);const l=this.raycast(s,a,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(s,s,a,l),s[3]=s[2],s[2]*=n,s):null}drawDepth(){const t=this.painter,i=t.context,o=this.proxySourceCache,r=Math.ceil(t.width),n=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===n||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const t=i.gl,o=i.createFramebuffer(r,n,!0);i.activeTexture.set(t.TEXTURE0);const s=new e.Texture(i,{width:r,height:n,data:null},t.RGBA);s.bind(t.NEAREST,t.CLAMP_TO_EDGE),o.colorAttachment.set(s.texture);const a=i.createRenderbuffer(i.gl.DEPTH_COMPONENT16,r,n);o.depthAttachment.set(a),this._depthFBO=o,this._depthTexture=s}i.bindFramebuffer.set(this._depthFBO.framebuffer),i.viewport.set([0,0,r,n]),function(t,i,o,r){if("globe"===t.transform.projection.name)return;const n=t.context,s=n.gl;n.clear({depth:1});const a=t.useProgram("terrainDepth"),l=new e.DepthMode(s.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D);for(const t of r){const r=o.getTile(t),c=xi(t.projMatrix,0);i.setupElevationDraw(r,a),a.draw(n,s.TRIANGLES,l,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,c,"terrain_depth",i.gridBuffer,i.gridIndexBuffer,i.gridNoSkirtSegments)}}(t,this,o,this.proxyCoords)}_setupProxiedCoordsForOrtho(e,t,i){if(e.getSource()instanceof Le)return this._setupProxiedCoordsForImageSource(e,t,i);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const o=this.proxiedCoords[e.id]=[],r=this.proxyCoords;for(let t=0;t<r.length;t++){const n=r[t],s=this._findTileCoveringTileID(n,e);if(s){const t=this._createProxiedId(n,s,i[n.key]&&i[n.key][e.id]);o.push(t),this.proxyToSource[n.key][e.id]=[t]}}let n=!1;for(let r=0;r<t.length;r++){const s=e.getTile(t[r]);if(!s||!s.hasData())continue;const a=this._findTileCoveringTileID(s.tileID,this.proxySourceCache);if(a&&a.tileID.canonical.z!==s.tileID.canonical.z){const t=this.proxyToSource[a.tileID.key][e.id],r=this._createProxiedId(a.tileID,s,i[a.tileID.key]&&i[a.tileID.key][e.id]);t?t.splice(t.length-1,0,r):this.proxyToSource[a.tileID.key][e.id]=[r],o.push(r),n=!0}}this._sourceTilesOverlap[e.id]=n}_setupProxiedCoordsForImageSource(t,i,o){if(!t.getSource().loaded())return;const r=this.proxiedCoords[t.id]=[],n=this.proxyCoords,s=t.getSource(),a=new e.pointGeometry(s.tileID.x,s.tileID.y)._div(1<<s.tileID.z),l=s.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce(((e,t)=>(e.min.x=Math.min(e.min.x,t.x-a.x),e.min.y=Math.min(e.min.y,t.y-a.y),e.max.x=Math.max(e.max.x,t.x-a.x),e.max.y=Math.max(e.max.y,t.y-a.y),e)),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(t,i)=>{const o=t.wrap+t.canonical.x/(1<<t.canonical.z),r=t.canonical.y/(1<<t.canonical.z),n=e.EXTENT/(1<<t.canonical.z),s=i.wrap+i.canonical.x/(1<<i.canonical.z),a=i.canonical.y/(1<<i.canonical.z);return o+n<s+l.min.x||o>s+l.max.x||r+n<a+l.min.y||r>a+l.max.y};for(let e=0;e<n.length;e++){const s=n[e];for(let e=0;e<i.length;e++){const n=t.getTile(i[e]);if(!n||!n.hasData())continue;if(c(s,n.tileID))continue;const a=this._createProxiedId(s,n,o[s.key]&&o[s.key][t.id]),l=this.proxyToSource[s.key][t.id];l?l.push(a):this.proxyToSource[s.key][t.id]=[a],r.push(a)}}}_createProxiedId(t,i,o){let r=this.orthoMatrix;if(o){const e=o.find((e=>e.key===i.tileID.key));if(e)return e}if(i.tileID.key!==t.key){const o=t.canonical.z-i.tileID.canonical.z;let n,s,a;r=e.create();const l=i.tileID.wrap-t.wrap<<t.overscaledZ;o>0?(n=e.EXTENT>>o,s=n*((i.tileID.canonical.x<<o)-t.canonical.x+l),a=n*((i.tileID.canonical.y<<o)-t.canonical.y)):(n=e.EXTENT<<-o,s=e.EXTENT*(i.tileID.canonical.x-(t.canonical.x+l<<-o)),a=e.EXTENT*(i.tileID.canonical.y-(t.canonical.y<<-o))),e.ortho(r,0,n,0,n,0,1),e.translate(r,r,[s,a,0])}return new Li(i.tileID,t.key,r)}_findTileCoveringTileID(t,i){let o=i.getTile(t);if(o&&o.hasData())return o;const r=this._findCoveringTileCache[i.id],n=r[t.key];if(o=n?i.getTileByID(n):null,o&&o.hasData()||null===n)return o;let s=o?o.tileID:t,a=s.overscaledZ;const l=i.getSource().minzoom,c=[];if(!n){const r=i.getSource().maxzoom;if(t.canonical.z>=r){const o=t.canonical.z-r;i.getSource().reparseOverscaled?(a=Math.max(t.canonical.z+2,i.transform.tileZoom),s=new e.OverscaledTileID(a,t.wrap,r,t.canonical.x>>o,t.canonical.y>>o)):0!==o&&(a=r,s=new e.OverscaledTileID(a,t.wrap,r,t.canonical.x>>o,t.canonical.y>>o))}s.key!==t.key&&(c.push(s.key),o=i.getTile(s))}const h=e=>{c.forEach((t=>{r[t]=e})),c.length=0};for(a-=1;a>=l&&(!o||!o.hasData());a--){o&&h(o.tileID.key);const e=s.calculateScaledKey(a);if(o=i.getTileByID(e),o&&o.hasData())break;const t=r[e];if(null===t)break;void 0===t?c.push(e):o=i.getTileByID(t)}return h(o?o.tileID.key:null),o&&o.hasData()?o:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(e,t){let i=this._tilesDirty[e];i||(i=this._tilesDirty[e]={}),i[t.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const t=function(t){let i=0;const o=new e.StructArrayLayout2ui4,r=131;for(let e=1;e<129;e++){for(let t=1;t<129;t++)i=e*r+t,o.emplaceBack(i,i+1),o.emplaceBack(i,i+r),o.emplaceBack(i+1,i+r),128===e&&o.emplaceBack(i+r,i+r+1);o.emplaceBack(i+1,i+1+r)}return o}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Ai{static cacheKey(e,t,i,o){let r=`${t}${o?o.cacheKey:""}`;for(const t of i)e.usedDefines.includes(t)&&(r+=`/${t}`);return r}constructor(t,i,o,r,n,s){const a=t.gl;this.program=a.createProgram();const l=function(e){const t=[];for(let i=0;i<e.length;i++){if(null===e[i])continue;const o=e[i].split(" ");t.push(o.pop())}return t}(o.staticAttributes),c=r?r.getBinderAttributes():[],h=l.concat(c);let u=r?r.defines():[];u=u.concat(s.map((e=>`#define ${e}`)));const d=t.isWebGL2?"#version 300 es\n":"",_=d+u.concat(t.extStandardDerivatives&&0===d.length?"#extension GL_OES_standard_derivatives : enable\n".concat(hi):hi,hi,ci,li.fragmentSource,si.fragmentSource,o.fragmentSource).join("\n"),p=d+u.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",ci,li.vertexSource,si.vertexSource,ni.vertexSource,o.vertexSource).join("\n"),m=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);a.shaderSource(m,_),a.compileShader(m),a.attachShader(this.program,m);const f=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(f,p),a.compileShader(f),a.attachShader(this.program,f),this.attributes={},this.numAttributes=h.length;for(let e=0;e<this.numAttributes;e++)h[e]&&(a.bindAttribLocation(this.program,e,h[e]),this.attributes[h[e]]=e);a.linkProgram(this.program),a.deleteShader(f),a.deleteShader(m),this.fixedUniforms=n(t),this.binderUniforms=r?r.getUniforms(t):[],s.includes("TERRAIN")&&(this.terrainUniforms=(t=>({u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t)}))(t)),s.includes("GLOBE")&&(this.globeUniforms=(t=>({u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}))(t)),s.includes("FOG")&&(this.fogUniforms=(t=>({u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}))(t))}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const i=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e]&&i[e].set(this.program,e,t[e])}}setGlobeUniformValues(e,t){if(!this.globeUniforms)return;const i=this.globeUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e]&&i[e].set(this.program,e,t[e])}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const i=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e])}}draw(e,t,i,o,r,n,s,a,l,c,h,u,d,_,p){const m=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(i),e.setStencilMode(o),e.setColorMode(r),e.setCullFace(n);for(const e of Object.keys(this.fixedUniforms))this.fixedUniforms[e].set(this.program,e,s[e]);_&&_.setUniforms(this.program,e,this.binderUniforms,u,{zoom:d});const f={[m.LINES]:2,[m.TRIANGLES]:3,[m.LINE_STRIP]:1}[t];for(const i of h.get()){const o=i.vaos||(i.vaos={});(o[a]||(o[a]=new pi)).bind(e,this,l,_?_.getPaintVertexBuffers():[],c,i.vertexOffset,p||[]),m.drawElements(t,i.primitiveLength*f,m.UNSIGNED_SHORT,i.primitiveOffset*f*2)}}}function Ri(e,t){const i=Math.pow(2,t.tileID.overscaledZ),o=t.tileSize*Math.pow(2,e.transform.tileZoom)/i,r=o*(t.tileID.canonical.x+t.tileID.wrap*i),n=o*t.tileID.canonical.y;return{u_image:0,u_texsize:t.imageAtlasTexture.size,u_tile_units_to_pixels:1/A(t,1,e.transform.tileZoom),u_pixel_coord_upper:[r>>16,n>>16],u_pixel_coord_lower:[65535&r,65535&n]}}const Oi=e.create(),ki=(t,i,o,r,n,s,a,l,c,h,u)=>{const d=i.style.light,_=d.properties.get("position"),p=[_.x,_.y,_.z],m=e.create$1();"viewport"===d.properties.get("anchor")&&(e.fromRotation(m,-i.transform.angle),e.transformMat3(p,p,m));const f=d.properties.get("color"),g=i.transform,y={u_matrix:t,u_lightpos:p,u_lightintensity:d.properties.get("intensity"),u_lightcolor:[f.r,f.g,f.b],u_vertical_gradient:+o,u_opacity:r,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Oi,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:n,u_edge_radius:s};return"globe"===g.projection.name&&(y.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],y.u_zoom_transition=c,y.u_inv_rot_matrix=u,y.u_merc_center=h,y.u_up_dir=g.projection.upVector(new e.CanonicalTileID(0,0,0),h[0]*e.EXTENT,h[1]*e.EXTENT),y.u_height_lift=l),y},Fi=(t,i,o,r,n,s,a,l,c,h,u,d)=>{const _=ki(t,i,o,r,n,s,a,c,h,u,d),p={u_height_factor:-Math.pow(2,a.overscaledZ)/l.tileSize/8};return e.extend(_,Ri(i,l),p)},Bi=e=>({u_matrix:e}),Ui=(t,i,o)=>e.extend(Bi(t),Ri(i,o)),Ni=(e,t)=>({u_matrix:e,u_world:t}),Gi=(t,i,o,r)=>e.extend(Ui(t,i,o),{u_world:r}),ji=e.create(),Zi=(t,i,o,r,n,s)=>{const a=t.transform,l="globe"===a.projection.name;let c;if("map"===s.paint.get("circle-pitch-alignment"))if(l){const t=e.globePixelsToTileUnits(a.zoom,i.canonical)*a._pixelsPerMercatorPixel;c=Float32Array.from([t,0,0,t])}else c=a.calculatePixelsToTileUnitsMatrix(o);else c=new Float32Array([a.pixelsToGLUnits[0],0,0,a.pixelsToGLUnits[1]]);const h={u_camera_to_center_distance:a.cameraToCenterDistance,u_matrix:t.translatePosMatrix(i.projMatrix,o,s.paint.get("circle-translate"),s.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:c,u_inv_rot_matrix:ji,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(l){h.u_inv_rot_matrix=r,h.u_merc_center=n,h.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],h.u_zoom_transition=e.globeToMercatorTransition(a.zoom);const t=n[0]*e.EXTENT,o=n[1]*e.EXTENT;h.u_up_dir=a.projection.upVector(new e.CanonicalTileID(0,0,0),t,o)}return h},Vi=e=>{const t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},Wi=(t,i,o,r)=>{const n=e.EXTENT/o.tileSize;return{u_matrix:t,u_camera_to_center_distance:i.getCameraToCenterDistance(r),u_extrude_scale:[i.pixelsToGLUnits[0]/n,i.pixelsToGLUnits[1]/n]}},Xi=(e,t,i=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:i}),qi=e.create(),$i=(t,i,o,r,n,s,a)=>{const l=t.transform,c="globe"===l.projection.name,h=c?e.globePixelsToTileUnits(l.zoom,i.canonical)*l._pixelsPerMercatorPixel:A(o,1,s),u={u_matrix:i.projMatrix,u_extrude_scale:h,u_intensity:a,u_inv_rot_matrix:qi,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){u.u_inv_rot_matrix=r,u.u_merc_center=n,u.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],u.u_zoom_transition=e.globeToMercatorTransition(l.zoom);const t=n[0]*e.EXTENT,o=n[1]*e.EXTENT;u.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),t,o)}return u},Hi=(e,t,i,o,r,n,s)=>{const a=e.transform,l=a.calculatePixelsToTileUnitsMatrix(t);return{u_matrix:Ki(e,t,i,o),u_pixels_to_tile_units:l,u_device_pixel_ratio:n,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:r,u_texsize:Qi(i)?t.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Ji(t,e.transform),u_alpha_discard_threshold:0,u_trim_offset:s}},Yi=(e,t,i,o,r)=>{const n=e.transform;return{u_matrix:Ki(e,t,i,o),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:n.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:r,u_image:0,u_tile_units_to_pixels:Ji(t,n),u_units_to_pixels:[1/n.pixelsToGLUnits[0],1/n.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Ji(e,t){return 1/A(e,1,t.tileZoom)}function Ki(e,t,i,o){return e.translatePosMatrix(o||t.tileID.projMatrix,t,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}function Qi(e){const t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}const eo=(e,t,i,o,r,n)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:i,u_fade_t:o.mix,u_opacity:o.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(a=r.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(s=r.paint.get("raster-contrast"),s>0?1/(1-s):1+s),u_spin_weights:to(r.paint.get("raster-hue-rotate")),u_perspective_transform:n};var s,a};function to(e){e*=Math.PI/180;const t=Math.sin(e),i=Math.cos(e);return[(2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3]}const io=e.create(),oo=(t,i,o,r,n,s,a,l,c,h,u,d,_,p,m,f)=>{const g=n.transform,y={u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:g.cameraToCenterDistance,u_rotate_symbol:+o,u_aspect_ratio:g.width/g.height,u_fade_change:n.options.fadeDuration?n.symbolFadeChange:1,u_matrix:s,u_label_plane_matrix:a,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+r,u_texsize:h,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:io,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:io,u_up_vector:[0,-1,0]};return"globe"===f.name&&(y.u_tile_id=[u.canonical.x,u.canonical.y,1<<u.canonical.z],y.u_zoom_transition=d,y.u_inv_rot_matrix=p,y.u_merc_center=_,y.u_camera_forward=g._camera.forward(),y.u_ecef_origin=e.globeECEFOrigin(g.globeMatrix,u.toUnwrapped()),y.u_tile_matrix=Float32Array.from(g.globeMatrix),y.u_up_vector=m),y},ro=(t,i,o,r,n,s,a,l,c,h,u,d,_,p,m,f,g)=>e.extend(oo(t,i,o,r,n,s,a,l,c,h,d,_,p,m,f,g),{u_gamma_scale:r?n.transform.cameraToCenterDistance*Math.cos(n.terrain?0:n.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+u}),no=(t,i,o,r,n,s,a,l,c,h,u,d,_,p,m,f)=>e.extend(ro(t,i,o,r,n,s,a,l,!0,c,!0,u,d,_,p,m,f),{u_texsize_icon:h,u_texture_icon:1}),so=(e,t,i)=>({u_matrix:e,u_opacity:t,u_color:i}),ao=(t,i,o,r,n)=>e.extend(function(e,t,i){const o=t.imageManager.getPattern(e.toString()),{width:r,height:n}=t.imageManager.getPixelSize(),s=Math.pow(2,i.tileID.overscaledZ),a=i.tileSize*Math.pow(2,t.transform.tileZoom)/s,l=a*(i.tileID.canonical.x+i.tileID.wrap*s),c=a*i.tileID.canonical.y;return{u_image:0,u_pattern_tl:o.tl,u_pattern_br:o.br,u_texsize:[r,n],u_pattern_size:o.displaySize,u_tile_units_to_pixels:1/A(i,1,t.transform.tileZoom),u_pixel_coord_upper:[l>>16,c>>16],u_pixel_coord_lower:[65535&l,65535&c]}}(r,o,n),{u_matrix:t,u_opacity:i}),lo={fillExtrusion:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}),fillExtrusionPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}),fill:t=>({u_matrix:new e.UniformMatrix4f(t)}),fillPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),fillOutline:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}),fillOutlinePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),circle:t=>({u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),collisionBox:t=>({u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}),collisionCircle:t=>({u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}),debug:t=>({u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}),clippingMask:t=>({u_matrix:new e.UniformMatrix4f(t)}),heatmap:t=>({u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),heatmapTexture:t=>({u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}),hillshade:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}),hillshadePrepare:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}),line:t=>({u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}),linePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}),raster:t=>({u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}),symbolIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}),symbolSDF:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}),symbolTextAndIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}),background:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}),backgroundPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl:new e.Uniform2f(t),u_pattern_br:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_pattern_size:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),terrainRaster:vi,terrainDepth:vi,skybox:t=>({u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxGradient:t=>({u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxCapture:t=>({u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}),globeRaster:t=>({u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_skirt_height:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}),globeAtmosphere:t=>({u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)})};let co;function ho(t,i,o,r,n,s,a){const l=t.context,c=l.gl,h=t.transform,u=t.useProgram("collisionBox"),d=[];let _=0,p=0;for(let m=0;m<r.length;m++){const f=r[m],g=i.getTile(f),y=g.getBucket(o);if(!y)continue;const v=xt(f,y,h);let x=v;0===n[0]&&0===n[1]||(x=t.translatePosMatrix(v,g,n,s));const b=a?y.textCollisionBox:y.iconCollisionBox,w=y.collisionCircleArray;if(w.length>0){const t=e.create(),i=x;e.mul(t,y.placementInvProjMatrix,h.glCoordMatrix),e.mul(t,t,y.placementViewportMatrix),d.push({circleArray:w,circleOffset:p,transform:i,invTransform:t,projection:y.getProjection()}),_+=w.length/4,p=_}b&&(t.terrain&&t.terrain.setupElevationDraw(g,u),u.draw(l,c.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,Wi(x,h,g,y.getProjection()),o.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,h.zoom,null,[b.collisionVertexBuffer,b.collisionVertexBufferExt]))}if(!a||!d.length)return;const m=t.useProgram("collisionCircle"),f=new e.StructArrayLayout2f1f2i16;f.resize(4*_),f._trim();let g=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){const i=4*t,o=e.circleArray[i+0],r=e.circleArray[i+1],n=e.circleArray[i+2],s=e.circleArray[i+3];f.emplace(g++,o,r,n,s,0),f.emplace(g++,o,r,n,s,1),f.emplace(g++,o,r,n,s,2),f.emplace(g++,o,r,n,s,3)}(!co||co.length<2*_)&&(co=function(t){const i=2*t,o=new e.StructArrayLayout3ui6;o.resize(i),o._trim();for(let e=0;e<i;e++){const t=6*e;o.uint16[t+0]=4*e+0,o.uint16[t+1]=4*e+1,o.uint16[t+2]=4*e+2,o.uint16[t+3]=4*e+2,o.uint16[t+4]=4*e+3,o.uint16[t+5]=4*e+0}return o}(_));const y=l.createIndexBuffer(co,!0),v=l.createVertexBuffer(f,e.collisionCircleLayout.members,!0);for(const i of d){const r={u_matrix:i.transform,u_inv_matrix:i.invTransform,u_camera_to_center_distance:(x=h).getCameraToCenterDistance(i.projection),u_viewport_size:[x.width,x.height]};m.draw(l,c.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,r,o.id,v,y,e.SegmentVector.simpleSegment(0,2*i.circleOffset,i.circleArray.length,i.circleArray.length/2),null,h.zoom)}var x;v.destroy(),y.destroy()}const uo=e.create();function _o({width:t,height:i,anchor:o,textOffset:r,textScale:n},s){const{horizontalAlign:a,verticalAlign:l}=e.getAnchorAlignment(o),c=-(a-.5)*t,h=-(l-.5)*i,u=e.evaluateVariableOffset(o,r);return new e.pointGeometry((c/n+u[0])*s,(h/n+u[1])*s)}function po(t,i,o,r,n,s,a,l,c,h,u){const d=t.text.placedSymbolArray,_=t.text.dynamicLayoutVertexArray,p=t.icon.dynamicLayoutVertexArray,m={},f=t.getProjection(),g=bt(l,f,s),y=s.elevation,v=f.upVectorScale(l.canonical,s.center.lat,s.worldSize).metersToTile;_.clear();for(let p=0;p<d.length;p++){const x=d.get(p),{tileAnchorX:b,tileAnchorY:w,numGlyphs:T}=x,E=t.allowVerticalPlacement&&!x.placedOrientation,C=x.hidden||!x.crossTileID||E?null:r[x.crossTileID];if(C){let r=0,d=0,p=0;if(y){const e=y?y.getAtTileOffset(l,b,w):0,[t,i,o]=f.upVector(l.canonical,b,w);r=e*t*v,d=e*i*v,p=e*o*v}let[E,M,I,S]=nt(x.projectedAnchorX+r,x.projectedAnchorY+d,x.projectedAnchorZ+p,o?g:a);const D=st(s.getCameraToCenterDistance(f),S);let z=n.evaluateSizeForFeature(t.textSizeData,h,x)*D/e.ONE_EM;o&&(z*=t.tilePixelRatio/c);const L=_o(C,z);o?(({x:E,y:M,z:I}=f.projectTilePoint(b+L.x,w+L.y,l.canonical)),[E,M,I]=nt(E+r,M+d,I+p,a)):(i&&L._rotate(-s.angle),E+=L.x,M+=L.y,I=0);const P=t.allowVerticalPlacement&&x.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<T;t++)e.addDynamicAttributes(_,E,M,I,P);u&&x.associatedIconIndex>=0&&(m[x.associatedIconIndex]={x:E,y:M,z:I,angle:P})}else mt(T,_)}if(u){p.clear();const i=t.icon.placedSymbolArray;for(let t=0;t<i.length;t++){const o=i.get(t),{numGlyphs:r}=o,n=m[t];if(o.hidden||!n)mt(r,p);else{const{x:t,y:i,z:o,angle:s}=n;for(let n=0;n<r;n++)e.addDynamicAttributes(p,t,i,o,s)}}t.icon.dynamicLayoutVertexBuffer.updateData(p)}t.text.dynamicLayoutVertexBuffer.updateData(_)}function mo(e,t,i){return i.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function fo(t,i,o,r,n,s,a,l,c,h,u,d){const _=t.context,p=_.gl,m=t.transform,f="map"===l,g="map"===c,y=f&&"point"!==o.layout.get("symbol-placement"),v=f&&!g&&!y,x=void 0!==o.layout.get("symbol-sort-key").constantOr(1);let b=!1;const w=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),T=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],E=o.layout.get("text-variable-anchor"),C="globe"===m.projection.name,M=[],I=[0,-1,0];let S=I;!C&&!m.mercatorFromTransition||f||(S=function(t){const i=t._camera.getWorldToCamera(t.worldSize,1),o=e.multiply([],i,t.globeMatrix);e.invert(o,o);const r=[0,0,0],n=[0,1,0,0];return e.transformMat4$1(n,n,o),r[0]=n[0],r[1]=n[1],r[2]=n[2],e.normalize(r,r),r}(m));for(const l of r){const r=i.getTile(l),c=r.getBucket(o);if(!c)continue;if("mercator"===c.projection.name&&C)continue;const u=n?c.text:c.icon;if(!u||c.fullyClipped||!u.segments.get().length)continue;const d=u.programConfigurations.get(o.id),_=n||c.sdfIcons,w=n?c.textSizeData:c.iconSizeData,D=g||0!==m.pitch,z=e.evaluateSizeForZoom(w,m.zoom);let L,P,A,R,O=[0,0],k=null;if(n){if(P=r.glyphAtlasTexture,A=p.LINEAR,L=r.glyphAtlasTexture.size,c.iconsInText){O=r.imageAtlasTexture.size,k=r.imageAtlasTexture;const e="composite"===w.kind||"camera"===w.kind;R=D||t.options.rotating||t.options.zooming||e?p.LINEAR:p.NEAREST}}else{const e=1!==o.layout.get("icon-size").constantOr(0)||c.iconsNeedLinear;P=r.imageAtlasTexture,A=_||t.options.rotating||t.options.zooming||e||D?p.LINEAR:p.NEAREST,L=r.imageAtlasTexture.size}const F="globe"===c.projection.name,B=F?S:I,U=F?e.globeToMercatorTransition(m.zoom):0,N=bt(l,c.getProjection(),m),G=m.calculatePixelsToTileUnitsMatrix(r),j=it(N,r.tileID.canonical,g,f,m,c.getProjection(),G),Z=t.terrain&&g&&y?e.invert(e.create(),j):uo,V=rt(N,r.tileID.canonical,g,f,m,c.getProjection(),G),W=E&&c.hasTextData(),X="none"!==o.layout.get("icon-text-fit")&&W&&c.hasIconData();if(y){const e=m.elevation,i=e?e.getAtTileOffsetFunc(l,m.center.lat,m.worldSize,c.getProjection()):null,o=ot(N,r.tileID.canonical,g,f,m,c.getProjection(),G);lt(c,N,t,n,o,V,g,h,i,l)}const q=y||n&&E||X,$=t.translatePosMatrix(N,r,s,a),H=q?uo:j,Y=t.translatePosMatrix(V,r,s,a,!0),J=c.getProjection().createInversionMatrix(m,l.canonical),K=[];t.terrainRenderModeElevated()&&g&&K.push("PITCH_WITH_MAP_TERRAIN"),F&&K.push("PROJECTION_GLOBE_VIEW"),q&&K.push("PROJECTED_POS_ON_VIEWPORT");const Q=_&&0!==o.paint.get(n?"text-halo-width":"icon-halo-width").constantOr(1);let ee;ee=_?c.iconsInText?no(w.kind,z,v,g,t,$,H,Y,L,O,l,U,T,J,B,c.getProjection()):ro(w.kind,z,v,g,t,$,H,Y,n,L,!0,l,U,T,J,B,c.getProjection()):oo(w.kind,z,v,g,t,$,H,Y,n,L,l,U,T,J,B,c.getProjection());const te={program:t.useProgram(mo(_,n,c),d,K),buffers:u,uniformValues:ee,atlasTexture:P,atlasTextureIcon:k,atlasInterpolation:A,atlasInterpolationIcon:R,isSDF:_,hasHalo:Q,tile:r,labelPlaneMatrixInv:Z};if(x&&c.canOverlap){b=!0;const t=u.segments.get();for(const i of t)M.push({segments:new e.SegmentVector([i]),sortKey:i.sortKey,state:te})}else M.push({segments:u.segments,sortKey:0,state:te})}b&&M.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of M){const i=e.state;if(t.terrain&&t.terrain.setupElevationDraw(i.tile,i.program,{useDepthForOcclusion:!C,labelPlaneMatrixInv:i.labelPlaneMatrixInv}),_.activeTexture.set(p.TEXTURE0),i.atlasTexture.bind(i.atlasInterpolation,p.CLAMP_TO_EDGE),i.atlasTextureIcon&&(_.activeTexture.set(p.TEXTURE1),i.atlasTextureIcon&&i.atlasTextureIcon.bind(i.atlasInterpolationIcon,p.CLAMP_TO_EDGE)),i.isSDF){const r=i.uniformValues;i.hasHalo&&(r.u_is_halo=1,go(i.buffers,e.segments,o,t,i.program,w,u,d,r)),r.u_is_halo=0}go(i.buffers,e.segments,o,t,i.program,w,u,d,i.uniformValues)}}function go(t,i,o,r,n,s,a,l,c){const h=r.context,u=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];n.draw(h,h.gl.TRIANGLES,s,a,l,e.CullFaceMode.disabled,c,o.id,t.layoutVertexBuffer,t.indexBuffer,i,o.paint,r.transform.zoom,t.programConfigurations.get(o.id),u)}function yo(t,i,o,r,n,s,a){const l=t.context.gl,c=o.paint.get("fill-pattern"),h=c&&c.constantOr(1);let u,d,_,p,m;a?(d=h&&!o.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",u=l.LINES):(d=h?"fillPattern":"fill",u=l.TRIANGLES);for(const f of r){const r=i.getTile(f);if(h&&!r.patternsLoaded())continue;const g=r.getBucket(o);if(!g)continue;t.prepareDrawTile();const y=g.programConfigurations.get(o.id),v=t.useProgram(d,y);h&&(t.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePaintBuffers());const x=c.constantOr(null);if(x&&r.imageAtlas){const e=r.imageAtlas.patternPositions[x.toString()];e&&y.setConstantPatternPositions(e)}const b=t.translatePosMatrix(f.projMatrix,r,o.paint.get("fill-translate"),o.paint.get("fill-translate-anchor"));if(a){p=g.indexBuffer2,m=g.segments2;const e=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];_="fillOutlinePattern"===d&&h?Gi(b,t,r,e):Ni(b,e)}else p=g.indexBuffer,m=g.segments,_=h?Ui(b,t,r):Bi(b);t.prepareDrawProgram(t.context,v,f.toUnwrapped()),v.draw(t.context,u,n,t.stencilModeForClipping(f),s,e.CullFaceMode.disabled,_,o.id,g.layoutVertexBuffer,p,m,o.paint,t.transform.zoom,y)}}function vo(t,i,o,r,n,s,a){const l=t.context,c=l.gl,h=t.transform,u=o.paint.get("fill-extrusion-pattern"),d=u.constantOr(1),_=o.paint.get("fill-extrusion-opacity"),p=[o.paint.get("fill-extrusion-ambient-occlusion-intensity"),o.paint.get("fill-extrusion-ambient-occlusion-radius")],m=o.layout.get("fill-extrusion-edge-radius"),f="globe"===h.projection.name?e.fillExtrusionHeightLift():0,g="globe"===h.projection.name,y=g?e.globeToMercatorTransition(h.zoom):0,v=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],x=[];g&&x.push("PROJECTION_GLOBE_VIEW"),p[0]>0&&x.push("FAUX_AO");for(const b of r){const r=i.getTile(b),w=r.getBucket(o);if(!w||w.projection.name!==h.projection.name)continue;const T=w.programConfigurations.get(o.id),E=t.useProgram(d?"fillExtrusionPattern":"fillExtrusion",T,x);if(t.terrain){const e=t.terrain;if(t.style.terrainSetForDrapingOnly())e.setupElevationDraw(r,E,{useMeterToDem:!0});else{if(!w.enableTerrain)continue;if(e.setupElevationDraw(r,E,{useMeterToDem:!0}),xo(l,i,b,w,o,e),!w.centroidVertexBuffer){const e=E.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0)}}}d&&(t.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),T.updatePaintBuffers());const C=u.constantOr(null);if(C&&r.imageAtlas){const e=r.imageAtlas.patternPositions[C.toString()];e&&T.setConstantPatternPositions(e)}const M=t.translatePosMatrix(b.projMatrix,r,o.paint.get("fill-extrusion-translate"),o.paint.get("fill-extrusion-translate-anchor")),I=h.projection.createInversionMatrix(h,b.canonical),S=o.paint.get("fill-extrusion-vertical-gradient"),D=d?Fi(M,t,S,_,p,m,b,r,f,y,v,I):ki(M,t,S,_,p,m,b,f,y,v,I);t.prepareDrawProgram(l,E,b.toUnwrapped());const z=[];t.terrain&&z.push(w.centroidVertexBuffer),g&&z.push(w.layoutVertexExtBuffer),E.draw(l,l.gl.TRIANGLES,n,s,a,e.CullFaceMode.backCCW,D,o.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,o.paint,t.transform.zoom,T,z)}}function xo(t,i,o,r,n,s){const a=[t=>{let i=t.canonical.x-1,o=t.wrap;return i<0&&(i=(1<<t.canonical.z)-1,o--),new e.OverscaledTileID(t.overscaledZ,o,t.canonical.z,i,t.canonical.y)},t=>{let i=t.canonical.x+1,o=t.wrap;return i===1<<t.canonical.z&&(i=0,o++),new e.OverscaledTileID(t.overscaledZ,o,t.canonical.z,i,t.canonical.y)},t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)],l=e=>{const t=i.getSource().minzoom,o=e=>{const t=i.getTileByID(e);if(t&&t.hasData())return t.getBucket(n)},r=[0,-1,1];for(const i of r){if(e.overscaledZ+i<t)continue;const r=o(e.calculateScaledKey(e.overscaledZ+i));if(r)return r}},c=[0,0,0],h=(t,i)=>(c[0]=Math.min(t.min.y,i.min.y),c[1]=Math.max(t.max.y,i.max.y),c[2]=e.EXTENT-i.min.x>t.max.x?i.min.x-e.EXTENT:t.max.x,c),u=(t,i)=>(c[0]=Math.min(t.min.x,i.min.x),c[1]=Math.max(t.max.x,i.max.x),c[2]=e.EXTENT-i.min.y>t.max.y?i.min.y-e.EXTENT:t.max.y,c),d=[(e,t)=>h(e,t),(e,t)=>h(t,e),(e,t)=>u(e,t),(e,t)=>u(t,e)],_=new e.pointGeometry(0,0);let p,m,f;const g=(t,i,r,n,a)=>{const l=[[n?r:t,n?t:r,0],[n?r:i,n?i:r,0]],c=a<0?e.EXTENT+a:a,h=[n?c:(t+i)/2,n?(t+i)/2:c,0];return 0===r&&a<0||0!==r&&a>0?s.getForTilePoints(f,[h],!0,m):l.push(h),s.getForTilePoints(o,l,!0,p),Math.max(l[0][2],l[1][2],h[2])/s.exaggeration()};for(let t=0;t<4;t++){const i=(t<2?1:5)-t,n=r.borders[t];if(0===n.length)continue;const c=f=a[t](o),h=l(c);if(!(h&&h instanceof e.FillExtrusionBucket&&h.enableTerrain))continue;if(r.borderDoneWithNeighborZ[t]===h.canonical.z&&h.borderDoneWithNeighborZ[i]===r.canonical.z)continue;if(m=s.findDEMTileFor(c),!m||!m.dem)continue;if(!p){const e=s.findDEMTileFor(o);if(!e||!e.dem)return;p=e}const u=h.borders[i];let y=0;const v=h.borderDoneWithNeighborZ[i]!==r.canonical.z;if(r.canonical.z===h.canonical.z){for(let o=0;o<n.length;o++){const s=r.featuresOnBorder[n[o]],a=s.borders[t];let l;for(;y<u.length&&(l=h.featuresOnBorder[u[y]],!(l.borders[i][1]>a[0]+3));)v&&h.encodeCentroid(void 0,l,!1),y++;if(l&&y<u.length){const o=y;let n=0;for(;!(l.borders[i][0]>a[1]-3)&&(n++,++y!==u.length);)l=h.featuresOnBorder[u[y]];if(l=h.featuresOnBorder[u[o]],s.intersectsCount()>1||l.intersectsCount()>1||1!==n){1!==n&&(y=o),r.encodeCentroid(void 0,s,!1),v&&h.encodeCentroid(void 0,l,!1);continue}const c=d[t](s,l),p=t%2?e.EXTENT-1:0;_.x=g(c[0],Math.min(e.EXTENT-1,c[1]),p,t<2,c[2]),_.y=0,r.encodeCentroid(_,s,!1),v&&h.encodeCentroid(_,l,!1)}else r.encodeCentroid(void 0,s,!1)}r.borderDoneWithNeighborZ[t]=h.canonical.z,r.needsCentroidUpdate=!0,v&&(h.borderDoneWithNeighborZ[i]=r.canonical.z,h.needsCentroidUpdate=!0)}else{for(const e of n)r.encodeCentroid(void 0,r.featuresOnBorder[e],!1);if(v){for(const e of u)h.encodeCentroid(void 0,h.featuresOnBorder[e],!1);h.borderDoneWithNeighborZ[i]=r.canonical.z,h.needsCentroidUpdate=!0}r.borderDoneWithNeighborZ[t]=h.canonical.z,r.needsCentroidUpdate=!0}}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(t)}const bo=new e.Color(1,0,0,1),wo=new e.Color(0,1,0,1),To=new e.Color(0,0,1,1),Eo=new e.Color(1,0,1,1),Co=new e.Color(0,1,1,1);function Mo(t,i,o){const r=t.context,n=t.transform,s=r.gl,a="globe"===n.projection.name,l=a?["PROJECTION_GLOBE_VIEW"]:null;let c=o.projMatrix;if(a&&e.globeToMercatorTransition(n.zoom)>0){const t=e.transitionTileAABBinECEF(o.canonical,n),i=e.globeDenormalizeECEF(t);c=e.multiply(new Float32Array(16),n.globeMatrix,i),e.multiply(c,n.projMatrix,c)}const h=t.useProgram("debug",null,l),u=i.getTileByID(o.key);t.terrain&&t.terrain.setupElevationDraw(u,h);const d=e.DepthMode.disabled,_=e.StencilMode.disabled,p=t.colorModeForRenderPass(),m="$debug";r.activeTexture.set(s.TEXTURE0),t.emptyTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),a?u._makeGlobeTileDebugBuffers(t.context,n):u._makeDebugTileBoundsBuffers(t.context,n.projection);const f=u._tileDebugBuffer||t.debugBuffer,g=u._tileDebugIndexBuffer||t.debugIndexBuffer,y=u._tileDebugSegments||t.debugSegments;h.draw(r,s.LINE_STRIP,d,_,p,e.CullFaceMode.disabled,Xi(c,e.Color.red),m,f,g,y,null,null,null,[u._globeTileDebugBorderBuffer]);const v=u.latestRawTileData,x=Math.floor((v&&v.byteLength||0)/1024),b=i.getTile(o).tileSize,w=512/Math.min(b,512)*(o.overscaledZ/n.zoom)*.5;let T=o.canonical.toString();o.overscaledZ!==o.canonical.z&&(T+=` => ${o.overscaledZ}`),T+=` ${x}kb`,function(e,t){e.initDebugOverlayCanvas();const i=e.debugOverlayCanvas,o=e.context.gl,r=e.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,i.width,i.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(i),e.debugOverlayTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE)}(t,T);const E=u._tileDebugTextBuffer||t.debugBuffer,C=u._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,M=u._tileDebugTextSegments||t.debugSegments;h.draw(r,s.TRIANGLES,d,_,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,Xi(c,e.Color.transparent,w),m,E,C,M,null,null,null,[u._globeTileDebugTextBuffer])}function Io(e,t,i,o){Do(e,0,t+i/2,e.transform.width,i,o)}function So(e,t,i,o){Do(e,t-i/2,0,i,e.transform.height,o)}function Do(t,i,o,r,n,s){const a=t.context,l=a.gl;l.enable(l.SCISSOR_TEST),l.scissor(i*e.exported.devicePixelRatio,o*e.exported.devicePixelRatio,r*e.exported.devicePixelRatio,n*e.exported.devicePixelRatio),a.clear({color:s}),l.disable(l.SCISSOR_TEST)}const zo=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Lo}=zo;function Po(e,t,i,o){e.emplaceBack(t,i,o)}class Ao{constructor(t){this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,Po(this.vertexArray,-1,-1,1),Po(this.vertexArray,1,-1,1),Po(this.vertexArray,-1,1,1),Po(this.vertexArray,1,1,1),Po(this.vertexArray,-1,-1,-1),Po(this.vertexArray,1,-1,-1),Po(this.vertexArray,-1,1,-1),Po(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,Lo),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}}function Ro(t,i,o,r,n,s){const a=t.gl,l=i.paint.get("sky-atmosphere-color"),c=i.paint.get("sky-atmosphere-halo-color"),h=i.paint.get("sky-atmosphere-sun-intensity"),u=((e,t,i,o,r)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:i,u_color_tint_r:[o.r,o.g,o.b,o.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(e.fromMat4(e.create$1(),r),n,h,l,c);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+s,i.skyboxTexture,0),o.draw(t,a.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,u,"skyboxCapture",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}const Oo=e.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class ko{constructor(t){const i=new e.StructArrayLayout5f20;i.emplaceBack(-1,1,1,0,0),i.emplaceBack(1,1,1,1,0),i.emplaceBack(1,-1,1,1,1),i.emplaceBack(-1,-1,1,0,1);const o=new e.StructArrayLayout3ui6;o.emplaceBack(0,1,2),o.emplaceBack(2,3,0),this.vertexBuffer=t.createVertexBuffer(i,Oo.members),this.indexBuffer=t.createIndexBuffer(o),this.segments=e.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Fo={symbol:function(t,i,o,r,n){if("translucent"!==t.renderPass)return;const s=e.StencilMode.disabled,a=t.colorModeForRenderPass();o.layout.get("text-variable-anchor")&&function(t,i,o,r,n,s,a){const l=i.transform,c="map"===n,h="map"===s;for(const i of t){const t=r.getTile(i),n=t.getBucket(o);if(!n||!n.text||!n.text.segments.get().length)continue;const s=e.evaluateSizeForZoom(n.textSizeData,l.zoom),u=bt(i,n.getProjection(),l),d=l.calculatePixelsToTileUnitsMatrix(t),_=it(u,t.tileID.canonical,h,c,l,n.getProjection(),d),p="none"!==o.layout.get("icon-text-fit")&&n.hasIconData();if(s){const o=Math.pow(2,l.zoom-t.tileID.overscaledZ);po(n,c,h,a,e.symbolSize,l,_,i,o,s,p)}}}(r,t,o,i,o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),n),0!==o.paint.get("icon-opacity").constantOr(1)&&fo(t,i,o,r,!1,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),o.layout.get("icon-rotation-alignment"),o.layout.get("icon-pitch-alignment"),o.layout.get("icon-keep-upright"),s,a),0!==o.paint.get("text-opacity").constantOr(1)&&fo(t,i,o,r,!0,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),o.layout.get("text-keep-upright"),s,a),i.map.showCollisionBoxes&&(ho(t,i,o,r,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),!0),ho(t,i,o,r,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),!1))},circle:function(t,i,o,r){if("translucent"!==t.renderPass)return;const n=o.paint.get("circle-opacity"),s=o.paint.get("circle-stroke-width"),a=o.paint.get("circle-stroke-opacity"),l=void 0!==o.layout.get("circle-sort-key").constantOr(1);if(0===n.constantOr(1)&&(0===s.constantOr(1)||0===a.constantOr(1)))return;const c=t.context,h=c.gl,u=t.transform,d=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),_=e.StencilMode.disabled,p=t.colorModeForRenderPass(),m="globe"===u.projection.name,f=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],g=[];for(let n=0;n<r.length;n++){const s=r[n],a=i.getTile(s),c=a.getBucket(o);if(!c||c.projection.name!==u.projection.name)continue;const h=c.programConfigurations.get(o.id),d=Vi(o);m&&d.push("PROJECTION_GLOBE_VIEW");const _=t.useProgram("circle",h,d),p=c.layoutVertexBuffer,y=c.globeExtVertexBuffer,v=c.indexBuffer,x=u.projection.createInversionMatrix(u,s.canonical),b={programConfiguration:h,program:_,layoutVertexBuffer:p,globeExtVertexBuffer:y,indexBuffer:v,uniformValues:Zi(t,s,a,x,f,o),tile:a};if(l){const t=c.segments.get();for(const i of t)g.push({segments:new e.SegmentVector([i]),sortKey:i.sortKey,state:b})}else g.push({segments:c.segments,sortKey:0,state:b})}l&&g.sort(((e,t)=>e.sortKey-t.sortKey));const y={useDepthForOcclusion:!m};for(const i of g){const{programConfiguration:r,program:n,layoutVertexBuffer:s,globeExtVertexBuffer:a,indexBuffer:l,uniformValues:m,tile:f}=i.state,g=i.segments;t.terrain&&t.terrain.setupElevationDraw(f,n,y),t.prepareDrawProgram(c,n,f.tileID.toUnwrapped()),n.draw(c,h.TRIANGLES,d,_,p,e.CullFaceMode.disabled,m,o.id,s,l,g,o.paint,u.zoom,r,[a])}},heatmap:function(t,i,o,r){if(0!==o.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const n=t.context,s=n.gl,a=e.StencilMode.disabled,l=new e.ColorMode([s.ONE,s.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,i,o){const r=e.gl,n=t.width*o,s=t.height*o;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,n,s]);let a=i.heatmapFbo;if(!a||a&&(a.width!==n||a.height!==s)){a&&a.destroy();const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),a=i.heatmapFbo=e.createFramebuffer(n,s,!1),function(e,t,i,o,r,n){const s=e.gl;s.texImage2D(s.TEXTURE_2D,0,e.isWebGL2&&e.extRenderToTextureHalfFloat?s.RGBA16F:s.RGBA,r,n,0,s.RGBA,e.extRenderToTextureHalfFloat?e.isWebGL2?s.HALF_FLOAT:e.extTextureHalfFloat.HALF_FLOAT_OES:s.UNSIGNED_BYTE,null),o.colorAttachment.set(i)}(e,0,t,a,n,s)}else r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),e.bindFramebuffer.set(a.framebuffer)}(n,t,o,"globe"===t.transform.projection.name?.5:.25),n.clear({color:e.Color.transparent});const c=t.transform,h="globe"===c.projection.name,u=h?["PROJECTION_GLOBE_VIEW"]:null,d=h?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,_=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)];for(let p=0;p<r.length;p++){const m=r[p];if(i.hasRenderableParent(m))continue;const f=i.getTile(m),g=f.getBucket(o);if(!g||g.projection.name!==c.projection.name)continue;const y=g.programConfigurations.get(o.id),v=t.useProgram("heatmap",y,u),{zoom:x}=t.transform;t.terrain&&t.terrain.setupElevationDraw(f,v),t.prepareDrawProgram(n,v,m.toUnwrapped());const b=c.projection.createInversionMatrix(c,m.canonical);v.draw(n,s.TRIANGLES,e.DepthMode.disabled,a,l,d,$i(t,m,f,b,_,x,o.paint.get("heatmap-intensity")),o.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,o.paint,t.transform.zoom,y,h?[g.globeExtVertexBuffer]:null)}n.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,i){const o=t.context,r=o.gl,n=i.heatmapFbo;if(!n)return;o.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.colorAttachment.get()),o.activeTexture.set(r.TEXTURE1);let s=i.colorRampTexture;s||(s=i.colorRampTexture=new e.Texture(o,i.colorRamp,r.RGBA)),s.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(o,r.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,((e,t,i,o)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}))(0,i),i.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,i.paint,t.transform.zoom)}(t,o))},line:function(t,i,o,r){if("translucent"!==t.renderPass)return;const n=o.paint.get("line-opacity"),s=o.paint.get("line-width");if(0===n.constantOr(1)||0===s.constantOr(1))return;const a=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,h=o.paint.get("line-dasharray"),u=h.constantOr(1),d=o.layout.get("line-cap"),_=o.paint.get("line-pattern"),p=_.constantOr(1),m=o.paint.get("line-gradient"),f=p?"linePattern":"line",g=t.context,y=g.gl,v=(e=>{const t=[];Qi(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT");const i=e.paint.get("line-trim-offset");0===i[0]&&0===i[1]||t.push("RENDER_LINE_TRIM_OFFSET");const o=e.paint.get("line-pattern").constantOr(1),r=1!==e.paint.get("line-opacity").constantOr(1);return!o&&r&&t.push("RENDER_LINE_ALPHA_DISCARD"),t})(o);let x=v.includes("RENDER_LINE_ALPHA_DISCARD");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(x=!1);for(const n of r){const r=i.getTile(n);if(p&&!r.patternsLoaded())continue;const s=r.getBucket(o);if(!s)continue;t.prepareDrawTile();const b=s.programConfigurations.get(o.id),w=t.useProgram(f,b,v),T=_.constantOr(null);if(T&&r.imageAtlas){const e=r.imageAtlas.patternPositions[T.toString()];e&&b.setConstantPatternPositions(e)}const E=h.constantOr(null),C=d.constantOr(null);if(!p&&E&&C&&r.lineAtlas){const e=r.lineAtlas.getDash(E,C);e&&b.setConstantPatternPositions(e)}let[M,I]=o.paint.get("line-trim-offset");if("round"===C||"square"===C){const e=1;M!==I&&(0===M&&(M-=e),1===I&&(I+=e))}const S=t.terrain?n.projMatrix:null,D=p?Yi(t,r,o,S,c):Hi(t,r,o,S,s.lineClipsArray.length,c,[M,I]);if(m){const r=s.gradients[o.id];let a=r.texture;if(o.gradientVersion!==r.version){let l=256;if(o.stepInterpolant){const o=i.getSource().maxzoom,r=n.canonical.z===o?Math.ceil(1<<t.transform.maxZoom-n.canonical.z):1;l=e.clamp(e.nextPowerOfTwo(s.maxLineLength/e.EXTENT*1024*r),256,g.maxTextureSize)}r.gradient=e.renderColorRamp({expression:o.gradientExpression(),evaluationKey:"lineProgress",resolution:l,image:r.gradient||void 0,clips:s.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new e.Texture(g,r.gradient,y.RGBA),r.version=o.gradientVersion,a=r.texture}g.activeTexture.set(y.TEXTURE1),a.bind(o.stepInterpolant?y.NEAREST:y.LINEAR,y.CLAMP_TO_EDGE)}u&&(g.activeTexture.set(y.TEXTURE0),r.lineAtlasTexture.bind(y.LINEAR,y.REPEAT),b.updatePaintBuffers()),p&&(g.activeTexture.set(y.TEXTURE0),r.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),b.updatePaintBuffers()),t.prepareDrawProgram(g,w,n.toUnwrapped());const z=i=>{w.draw(g,y.TRIANGLES,a,i,l,e.CullFaceMode.disabled,D,o.id,s.layoutVertexBuffer,s.indexBuffer,s.segments,o.paint,t.transform.zoom,b,[s.layoutVertexBuffer2])};if(x){const i=t.stencilModeForClipping(n).ref;0===i&&t.terrain&&g.clear({stencil:0});const o={func:y.EQUAL,mask:255};D.u_alpha_discard_threshold=.8,z(new e.StencilMode(o,i,255,y.KEEP,y.KEEP,y.INVERT)),D.u_alpha_discard_threshold=0,z(new e.StencilMode(o,i,255,y.KEEP,y.KEEP,y.KEEP))}else z(t.stencilModeForClipping(n))}x&&(t.resetStencilClippingMasks(),t.terrain&&g.clear({stencil:0}))},fill:function(t,i,o,r){const n=o.paint.get("fill-color"),s=o.paint.get("fill-opacity");if(0===s.constantOr(1))return;const a=t.colorModeForRenderPass(),l=o.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===n.constantOr(e.Color.transparent).a&&1===s.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const n=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);yo(t,i,o,r,n,a,!1)}if("translucent"===t.renderPass&&o.paint.get("fill-antialias")){const n=t.depthModeForSublayer(o.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);yo(t,i,o,r,n,a,!0)}},"fill-extrusion":function(t,i,o,r){const n=o.paint.get("fill-extrusion-opacity");if(0!==n&&"translucent"===t.renderPass){const s=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==n||o.paint.get("fill-extrusion-pattern").constantOr(1))vo(t,i,o,r,s,e.StencilMode.disabled,e.ColorMode.disabled),vo(t,i,o,r,s,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else{const n=t.colorModeForRenderPass();vo(t,i,o,r,s,e.StencilMode.disabled,n)}}},hillshade:function(t,i,o,r){if("offscreen"!==t.renderPass&&"translucent"!==t.renderPass)return;const n=t.context,s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),a=t.colorModeForRenderPass(),l=t.terrain&&t.terrain.renderingToTexture,[c,h]="translucent"!==t.renderPass||l?[{},r]:t.stencilConfigForOverlap(r);for(const r of h){const n=i.getTile(r);if(n.needsHillshadePrepare&&"offscreen"===t.renderPass)yi(t,n,o,s,e.StencilMode.disabled,a);else if("translucent"===t.renderPass){const e=l&&t.terrain?t.terrain.stencilModeForRTTOverlap(r):c[r.overscaledZ];fi(t,r,n,o,s,e,a)}}n.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks()},raster:function(t,i,o,r,n,s){if("translucent"!==t.renderPass)return;if(0===o.paint.get("raster-opacity"))return;if(!r.length)return;const a=t.context,l=a.gl,c=i.getSource(),h=t.useProgram("raster"),u=t.colorModeForRenderPass(),d=t.terrain&&t.terrain.renderingToTexture,[_,p]=c instanceof Le||d?[{},r]:t.stencilConfigForOverlap(r),m=p[p.length-1].overscaledZ,f=!t.options.moving;for(const r of p){const n=d?e.DepthMode.disabled:t.depthModeForSublayer(r.overscaledZ-m,1===o.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,l.LESS),p=r.toUnwrapped(),g=i.getTile(r);if(d&&(!g||!g.hasData()))continue;const y=d?r.projMatrix:t.transform.calculateProjMatrix(p,f),v=t.terrain&&d?t.terrain.stencilModeForRTTOverlap(r):_[r.overscaledZ],x=s?0:o.paint.get("raster-fade-duration");g.registerFadeDuration(x);const b=i.findLoadedParent(r,0),w=Si(g,b,i,t.transform,x);let T,E;t.terrain&&t.terrain.prepareDrawTile();const C="nearest"===o.paint.get("raster-resampling")?l.NEAREST:l.LINEAR;a.activeTexture.set(l.TEXTURE0),g.texture.bind(C,l.CLAMP_TO_EDGE),a.activeTexture.set(l.TEXTURE1),b?(b.texture.bind(C,l.CLAMP_TO_EDGE),T=Math.pow(2,b.tileID.overscaledZ-g.tileID.overscaledZ),E=[g.tileID.canonical.x*T%1,g.tileID.canonical.y*T%1]):g.texture.bind(C,l.CLAMP_TO_EDGE),g.texture.useMipmap&&a.extTextureFilterAnisotropic&&t.transform.pitch>20&&l.texParameterf(l.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax);const M=eo(y,E||[0,0],T||1,w,o,c instanceof Le?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(a,h,p),c instanceof Le)c.boundsBuffer&&c.boundsSegments&&h.draw(a,l.TRIANGLES,n,e.StencilMode.disabled,u,e.CullFaceMode.disabled,M,o.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else{const{tileBoundsBuffer:i,tileBoundsIndexBuffer:r,tileBoundsSegments:s}=t.getTileBoundsBuffers(g);h.draw(a,l.TRIANGLES,n,v,u,e.CullFaceMode.disabled,M,o.id,i,r,s)}}t.resetStencilClippingMasks()},background:function(t,i,o,r){const n=o.paint.get("background-color"),s=o.paint.get("background-opacity");if(0===s)return;const a=t.context,l=a.gl,c=t.transform,h=c.tileSize,u=o.paint.get("background-pattern");if(t.isPatternMissing(u))return;const d=!u&&1===n.a&&1===s&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass!==d)return;const _=e.StencilMode.disabled,p=t.depthModeForSublayer(0,"opaque"===d?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),m=t.colorModeForRenderPass(),f=t.useProgram(u?"backgroundPattern":"background");let g,y=r;y||(g=t.getBackgroundTiles(),y=Object.values(g).map((e=>e.tileID))),u&&(a.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));for(const d of y){const y=d.toUnwrapped(),v=r?d.projMatrix:t.transform.calculateProjMatrix(y);t.prepareDrawTile();const x=i?i.getTile(d):g?g[d.key]:new e.Tile(d,h,c.zoom,t),b=u?ao(v,s,t,u,{tileID:d,tileSize:h}):so(v,s,n);t.prepareDrawProgram(a,f,y);const{tileBoundsBuffer:w,tileBoundsIndexBuffer:T,tileBoundsSegments:E}=t.getTileBoundsBuffers(x);f.draw(a,l.TRIANGLES,p,_,m,e.CullFaceMode.disabled,b,o.id,w,T,E)}},sky:function(t,i,o){const r=t.transform,n="mercator"===r.projection.name||"globe"===r.projection.name?1:e.smoothstep(7,8,r.zoom),s=o.paint.get("sky-opacity")*n;if(0===s)return;const a=t.context,l=o.paint.get("sky-type"),c=new e.DepthMode(a.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),h=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?o.needsSkyboxCapture(t)&&(function(t,i,o,r){const n=t.context,s=n.gl;let a=i.skyboxFbo;if(!a){a=i.skyboxFbo=n.createFramebuffer(32,32,!1),i.skyboxGeometry=new Ao(n),i.skyboxTexture=n.gl.createTexture(),s.bindTexture(s.TEXTURE_CUBE_MAP,i.skyboxTexture),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MIN_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MAG_FILTER,s.LINEAR);for(let e=0;e<6;++e)s.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,s.RGBA,32,32,0,s.RGBA,s.UNSIGNED_BYTE,null)}n.bindFramebuffer.set(a.framebuffer),n.viewport.set([0,0,32,32]);const l=i.getCenter(t,!0),c=t.useProgram("skyboxCapture"),h=new Float64Array(16);e.identity(h),e.rotateY(h,h,.5*-Math.PI),Ro(n,i,c,h,l,0),e.identity(h),e.rotateY(h,h,.5*Math.PI),Ro(n,i,c,h,l,1),e.identity(h),e.rotateX(h,h,.5*-Math.PI),Ro(n,i,c,h,l,2),e.identity(h),e.rotateX(h,h,.5*Math.PI),Ro(n,i,c,h,l,3),e.identity(h),Ro(n,i,c,h,l,4),e.identity(h),e.rotateY(h,h,Math.PI),Ro(n,i,c,h,l,5),n.viewport.set([0,0,t.width,t.height])}(t,o),o.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,i,o,r,n){const s=t.context,a=s.gl,l=t.transform,c=t.useProgram("skybox");s.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_CUBE_MAP,i.skyboxTexture);const h=((e,t,i,o,r)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:o,u_temporal_offset:r}))(l.skyboxMatrix,i.getCenter(t,!1),0,r,n);t.prepareDrawProgram(s,c),c.draw(s,a.TRIANGLES,o,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,h,"skybox",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}(t,o,c,s,h):"gradient"===l&&"sky"===t.renderPass&&function(t,i,o,r,n){const s=t.context,a=s.gl,l=t.transform,c=t.useProgram("skyboxGradient");i.skyboxGeometry||(i.skyboxGeometry=new Ao(s)),s.activeTexture.set(a.TEXTURE0);let h=i.colorRampTexture;h||(h=i.colorRampTexture=new e.Texture(s,i.colorRamp,a.RGBA)),h.bind(a.LINEAR,a.CLAMP_TO_EDGE);const u=((t,i,o,r,n)=>({u_matrix:t,u_color_ramp:0,u_center_direction:i,u_radius:e.degToRad(o),u_opacity:r,u_temporal_offset:n}))(l.skyboxMatrix,i.getCenter(t,!1),i.paint.get("sky-gradient-radius"),r,n);t.prepareDrawProgram(s,c),c.draw(s,a.TRIANGLES,o,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,u,"skyboxGradient",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}(t,o,c,s,h)},debug:function(e,t,i){for(let o=0;o<i.length;o++)Mo(e,t,i[o])},custom:function(t,i,o,r){const n=t.context,s=o.implementation;if(!t.transform.projection.unsupportedLayers||!t.transform.projection.unsupportedLayers.includes("custom")||t.terrain&&(t.terrain.renderingToTexture||"offscreen"===t.renderPass)&&o.isLayerDraped()){if("offscreen"===t.renderPass){const i=s.prerender;if(i){if(t.setCustomLayerDefaults(),n.setColorMode(t.colorModeForRenderPass()),"globe"===t.transform.projection.name){const o=t.transform.pointMerc;i.call(s,n.gl,t.transform.customLayerMatrix(),t.transform.getProjection(),t.transform.globeToMercatorMatrix(),e.globeToMercatorTransition(t.transform.zoom),[o.x,o.y],t.transform.pixelsPerMeterRatio)}else i.call(s,n.gl,t.transform.customLayerMatrix());n.setDirty(),t.setBaseState()}}else if("translucent"===t.renderPass){if(t.terrain&&t.terrain.renderingToTexture){const i=s.renderToTile;if(i){const o=r[0].canonical,a=new e.MercatorCoordinate(o.x+r[0].wrap*(1<<o.z),o.y,o.z);n.setDepthMode(e.DepthMode.disabled),n.setStencilMode(e.StencilMode.disabled),n.setColorMode(t.colorModeForRenderPass()),t.setCustomLayerDefaults(),i.call(s,n.gl,a),n.setDirty(),t.setBaseState()}return}t.setCustomLayerDefaults(),n.setColorMode(t.colorModeForRenderPass()),n.setStencilMode(e.StencilMode.disabled);const i="3d"===s.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);if(n.setDepthMode(i),"globe"===t.transform.projection.name){const i=t.transform.pointMerc;s.render(n.gl,t.transform.customLayerMatrix(),t.transform.getProjection(),t.transform.globeToMercatorMatrix(),e.globeToMercatorTransition(t.transform.zoom),[i.x,i.y],t.transform.pixelsPerMeterRatio)}else s.render(n.gl,t.transform.customLayerMatrix());n.setDirty(),t.setBaseState(),n.bindFramebuffer.set(null)}}else e.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class Bo{constructor(t,i,o=!1){this.context=new Me(t,o),this.transform=i,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new qt,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(e,t){const i=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(i||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Pi(this,e));const o=this._terrain;this.transform.elevation=i?o:null,o.update(e,this.transform,t)}_updateFog(e){const t=e.fog;if(!t||"globe"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[i,o]=t.getFovAdjustedRange(this.transform._fov);if(i>o)return void(this.transform.fogCullDistSq=null);const r=i+.78*(o-i);this.transform.fogCullDistSq=r*r}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,i){if(this.width=t*e.exported.devicePixelRatio,this.height=i*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._layers[e].resize()}setup(){const t=this.context,i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(e.EXTENT,0),i.emplaceBack(0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(e.EXTENT,0),o.emplaceBack(0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(o,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const r=new e.StructArrayLayout2i4;r.emplaceBack(-1,-1),r.emplaceBack(1,-1),r.emplaceBack(-1,1),r.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const n=new e.StructArrayLayout4i8;n.emplaceBack(0,0,0,0),n.emplaceBack(e.EXTENT,0,e.EXTENT,0),n.emplaceBack(0,e.EXTENT,0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(n,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s);const a=new e.StructArrayLayout1ui2;for(const e of[0,1,3,2,0])a.emplaceBack(e);this.debugIndexBuffer=t.createIndexBuffer(a),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();const l=this.context.gl;this.stencilClearMode=new e.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new ko(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const t=this.context,i=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(t,i.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Ii(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(t,i,o){if(!i||this.currentStencilSource===i.id||!t.isTileClipped()||!o||0===o.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of o)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=i.id;const r=this.context,n=r.gl;this.nextStencilID+o.length>256&&this.clearStencil(),r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const s=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const t of o){const o=i.getTile(t),a=this._tileClippingMaskIDs[t.key]=this.nextStencilID++,{tileBoundsBuffer:l,tileBoundsIndexBuffer:c,tileBoundsSegments:h}=this.getTileBoundsBuffers(o);s.draw(r,n.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:n.ALWAYS,mask:0},a,255,n.KEEP,n.KEEP,n.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Ii(t.projMatrix),"$clipping",l,c,h)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,i=this.context.gl;return new e.StencilMode({func:i.NOTEQUAL,mask:255},t,255,i.KEEP,i.KEEP,i.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const i=this.context.gl;return new e.StencilMode({func:i.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,i.KEEP,i.KEEP,i.REPLACE)}stencilConfigForOverlap(t){const i=this.context.gl,o=t.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),r=o[o.length-1].overscaledZ,n=o[0].overscaledZ-r+1;if(n>1){this.currentStencilSource=void 0,this.nextStencilID+n>256&&this.clearStencil();const t={};for(let o=0;o<n;o++)t[o+r]=new e.StencilMode({func:i.GEQUAL,mask:255},o+this.nextStencilID,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID+=n,[t,o]}return[{[r]:e.StencilMode.disabled},o]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const i=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(i,i,i,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}depthModeForSublayer(t,i,o){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(o||this.context.gl.LEQUAL,i,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,i){this.style=t,this.options=i,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const o=this.style.order,r=this.style._sourceCaches;for(const e in r){const t=r[e];t.used&&t.prepare(this.context)}const n={},s={},a={};for(const e in r){const t=r[e];n[e]=t.getVisibleCoordinates(),s[e]=n[e].slice().reverse(),a[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<o.length;e++)if(this.style._layers[o[e]].is3D()){this.opaquePassCutoff=e;break}if(this.terrain&&(this.terrain.updateTileBinding(a),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),!e.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const e of o){const i=this.style._layers[e],o=t._getLayerSourceCache(i);if(!i.hasOffscreenPass()||i.isHidden(this.transform.zoom))continue;const r=o?s[o.id]:void 0;("custom"===i.type||i.isSky()||r&&r.length)&&this.renderLayer(this,o,i,r)}this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon];const l=this.terrain;if(l&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&l.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:i.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=o.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[o[this.currentLayer]],i=t._getLayerSourceCache(e);if(e.isSky())continue;const r=i?s[i.id]:void 0;this._renderTileClippingMasks(e,i,r),this.renderLayer(this,i,e,r)}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,i){const o=t.context,r=o.gl,n=t.transform,s=new e.DepthMode(r.LEQUAL,e.DepthMode.ReadOnly,[0,1]),a=t.useProgram("globeAtmosphere",null,"globe"===n.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),l=e.globeToMercatorTransition(n.zoom),c=i.properties.get("color").toArray01(),h=i.properties.get("high-color").toArray01(),u=i.properties.get("space-color").toArray01PremultipliedAlpha(),d=e.identity$1([]);e.rotateY$1(d,d,-e.degToRad(n._center.lng)),e.rotateX$1(d,d,e.degToRad(n._center.lat)),e.rotateZ$1(d,d,n.angle),e.rotateX$1(d,d,-n._pitch);const _=e.fromQuat(new Float32Array(16),d),p=e.mapValue(i.properties.get("star-intensity"),0,1,0,.25),m=5e-4,f=e.mapValue(i.properties.get("horizon-blend"),0,1,m,.25),g=e.globeUseCustomAntiAliasing(t,o,n)&&f===m?n.worldSize/(2*Math.PI*1.025)-1:n.globeRadius,y=t.frameCounter/1e3%1,v=e.length(n.globeCenterInViewSpace),x=Math.sqrt(Math.pow(v,2)-Math.pow(g,2)),b=Math.acos(x/v),w=((t,i,o,r,n,s,a,l,c,h,u,d,_,p)=>({u_frustum_tl:t,u_frustum_tr:i,u_frustum_br:o,u_frustum_bl:r,u_horizon:n,u_transition:s,u_fadeout_range:a,u_color:l,u_high_color:c,u_space_color:h,u_star_intensity:u,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:d,u_horizon_angle:_,u_rotation_matrix:p}))(n.frustumCorners.TL,n.frustumCorners.TR,n.frustumCorners.BR,n.frustumCorners.BL,n.frustumCorners.horizon,l,f,c,h,u,p,y,b,_);t.prepareDrawProgram(o,a);const T=t.atmosphereBuffer;T&&a.draw(o,r.TRIANGLES,s,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,"skybox",T.vertexBuffer,T.indexBuffer,T.segments)}(this,this.style.fog),this.renderPass="sky",(e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<o.length;this.currentLayer++){const e=this.style._layers[o[this.currentLayer]],i=t._getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,i,e,i?s[i.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<o.length;){const e=this.style._layers[o[this.currentLayer]],i=t._getLayerSourceCache(e);if(e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(e)){if(e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const r=i?("symbol"===e.type?a:s)[i.id]:void 0;this._renderTileClippingMasks(e,i,i?n[i.id]:void 0),this.renderLayer(this,i,e,r),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let i=null;e.values(this.style._layers).forEach((e=>{const o=t._getLayerSourceCache(e);o&&!e.isHidden(this.transform.zoom)&&(!i||i.getSource().maxzoom<o.getSource().maxzoom)&&(i=o)})),i&&this.options.showTileBoundaries&&Fo.debug(this,i,i.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Io(e,e.transform.height-(t.top||0),3,bo),Io(e,t.bottom||0,3,wo),So(e,t.left||0,3,To),So(e,e.transform.width-(t.right||0),3,Eo);const i=e.transform.centerPoint;!function(e,t,i,o){Do(e,t-1,i-10,2,20,o),Do(e,t-10,i-1,20,2,o)}(e,i.x,e.transform.height-i.y,Co)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}renderLayer(e,t,i,o){i.isHidden(this.transform.zoom)||("background"===i.type||"sky"===i.type||"custom"===i.type||o&&o.length)&&(this.id=i.id,this.gpuTimingStart(i),(!e.transform.projection.unsupportedLayers||!e.transform.projection.unsupportedLayers.includes(i.type)||e.terrain&&"custom"===i.type)&&Fo[i.type](e,t,i,o,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let i=this.gpuTimers[e.id];i||(i=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),i.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,i.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const i in e){const o=e[i],r=this.context.extTimerQuery,n=r.getQueryObjectEXT(o.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(o.query),t[i]=n}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery;let i=0;for(const o of e)i+=t.getQueryObjectEXT(o,t.QUERY_RESULT_EXT)/1e6,t.deleteQueryEXT(o);return i}translatePosMatrix(t,i,o,r,n){if(!o[0]&&!o[1])return t;const s=n?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(s){const e=Math.sin(s),t=Math.cos(s);o=[o[0]*t-o[1]*e,o[0]*e+o[1]*t]}const a=[n?o[0]:A(i,o[0],this.transform.zoom),n?o[1]:A(i,o[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,a),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){return null===e||void 0!==e&&!this.imageManager.getPattern(e.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=this.terrain&&0===this.terrain.exaggeration(),i=this.style&&this.style.fog,o=[];return this.terrainRenderModeElevated()&&o.push("TERRAIN"),"globe"===this.transform.projection.name&&o.push("GLOBE"),t&&o.push("ZERO_EXAGGERATION"),i&&!e&&0!==i.getOpacity(this.transform.pitch)&&o.push("FOG"),e&&o.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&o.push("OVERDRAW_INSPECTOR"),o}useProgram(e,t,i){this.cache=this.cache||{};const o=i||[],r=this.currentGlobalDefines().concat(o),n=Ai.cacheKey(ui[e],e,r,t);return this.cache[n]||(this.cache[n]=new Ai(this.context,e,ui[e],t,lo[e],r)),this.cache[n]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(t,i,o){if(this.terrain&&this.terrain.renderingToTexture)return;const r=this.style.fog;if(r){const n=r.getOpacity(this.transform.pitch),s=((t,i,o,r,n,s,a,l,c,h,u)=>{const d=t.transform,_=i.properties.get("color").toArray01();_[3]=r;const p=t.frameCounter/1e3%1;return{u_fog_matrix:o?d.calculateFogTileMatrix(o):t.identityMat,u_fog_range:i.getFovAdjustedRange(d._fov),u_fog_color:_,u_fog_horizon_blend:i.properties.get("horizon-blend"),u_fog_temporal_offset:p,u_frustum_tl:n,u_frustum_tr:s,u_frustum_br:a,u_frustum_bl:l,u_globe_pos:c,u_globe_radius:h,u_viewport:u,u_globe_transition:e.globeToMercatorTransition(d.zoom),u_is_globe:+("globe"===d.projection.name)}})(this,r,o,n,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);i.setFogUniformValues(t,s)}}setTileLoadedFlag(e){this.tileLoaded=e}saveCanvasCopy(){const e=this.canvasCopy();e&&(this.frameCopies.push(e),this.tileLoaded=!1)}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const t=this._backgroundTiles,i=this._backgroundTiles={},o=this.transform.coveringTiles({tileSize:512});for(const r of o)i[r.key]=t[r.key]||new e.Tile(r,512,this.transform.tileZoom,this);return i}clearBackgroundTiles(){this._backgroundTiles={}}}class Uo{constructor(e=0,t=0,i=0,o=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(i)||i<0||isNaN(o)||o<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=i,this.right=o}interpolate(t,i,o){return null!=i.top&&null!=t.top&&(this.top=e.number(t.top,i.top,o)),null!=i.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,i.bottom,o)),null!=i.left&&null!=t.left&&(this.left=e.number(t.left,i.left,o)),null!=i.right&&null!=t.right&&(this.right=e.number(t.right,i.right,o)),this}getCenter(t,i){const o=e.clamp((this.left+t-this.right)/2,0,t),r=e.clamp((this.top+i-this.bottom)/2,0,i);return new e.pointGeometry(o,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Uo(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function No(t,i){const o=e.getColumn(t,3);e.fromQuat(t,i),e.setColumn(t,3,o)}function Go(t,i){const o=e.identity$1([]);return e.rotateZ$1(o,o,-i),e.rotateX$1(o,o,-t),o}function jo(t,i){const o=[t[0],t[1],0],r=[i[0],i[1],0];if(e.length(o)>=1e-15){const t=e.normalize([],o);e.scale$2(r,t,e.dot(r,t)),i[0]=r[0],i[1]=r[1]}const n=e.cross([],i,t);if(e.len(n)<1e-15)return null;const s=Math.atan2(-n[1],n[0]);return Go(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),s)}class Zo{constructor(e,t){this.position=e,this.orientation=t}get position(){return this._position}set position(t){if(t){const i=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(i.x=e.wrap(i.x,0,1)),this._position=i}else this._position=null}lookAtPoint(t,i){if(this.orientation=null,!this.position)return;const o=this.position,r=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,n=e.MercatorCoordinate.fromLngLat(t,r),s=[n.x-o.x,n.y-o.y,n.z-o.z];i||(i=[0,0,1]),i[2]=Math.abs(i[2]),this.orientation=jo(s,i)}setPitchBearing(t,i){this.orientation=Go(e.degToRad(t),e.degToRad(-i))}}class Vo{constructor(t,i){this._transform=e.identity([]),this.orientation=i,this.position=t}get mercatorPosition(){const t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}get position(){const t=e.getColumn(this._transform,3);return[t[0],t[1],t[2]]}set position(t){var i;t&&e.setColumn(this._transform,3,[(i=t)[0],i[1],i[2],1])}get orientation(){return this._orientation}set orientation(t){this._orientation=t||e.identity$1([]),t&&No(this._transform,this._orientation)}getPitchBearing(){const e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Go(e,t),No(this._transform,this._orientation)}forward(){const t=e.getColumn(this._transform,2);return[-t[0],-t[1],-t[2]]}up(){const t=e.getColumn(this._transform,1);return[-t[0],-t[1],-t[2]]}right(){const t=e.getColumn(this._transform,0);return[t[0],t[1],t[2]]}getCameraToWorld(t,i){const o=new Float64Array(16);return e.invert(o,this.getWorldToCamera(t,i)),o}getWorldToCameraPosition(t,i,o){const r=this.position;e.scale$2(r,r,-t);const n=new Float64Array(16);return e.fromScaling(n,[o,o,o]),e.translate(n,n,r),n[10]*=i,n}getWorldToCamera(t,i){const o=new Float64Array(16),r=new Float64Array(4),n=this.position;return e.conjugate(r,this._orientation),e.scale$2(n,n,-t),e.fromQuat(o,r),e.translate(o,o,n),o[1]*=-1,o[5]*=-1,o[9]*=-1,o[13]*=-1,o[8]*=i,o[9]*=i,o[10]*=i,o[11]*=i,o}getCameraToClipPerspective(t,i,o,r){const n=new Float64Array(16);return e.perspective(n,t,i,o,r),n}getDistanceToElevation(t,i=!1){const o=0===t?0:e.mercatorZfromAltitude(t,i?e.latFromMercatorY(this.position[1]):this.position[1]),r=this.forward();return(o-this.position[2])/r[2]}clone(){return new Vo([...this.position],[...this.orientation])}}function Wo(t,i){const o=qo(t.projection,t.zoom,t.width,t.height),r=function(t,i,o,r,n){const s=new e.LngLat(o.lng-180*$o,o.lat),a=new e.LngLat(o.lng+180*$o,o.lat),l=t.project(s.lng,s.lat),c=t.project(a.lng,a.lat),h=-Math.atan2(c.y-l.y,c.x-l.x),u=e.MercatorCoordinate.fromLngLat(o);u.y=e.clamp(u.y,-.999975,.999975);const d=u.toLngLat(),_=t.project(d.lng,d.lat),p=e.MercatorCoordinate.fromLngLat(d);p.x+=$o;const m=p.toLngLat(),f=t.project(m.lng,m.lat),g=Yo(f.x-_.x,f.y-_.y,h),y=e.MercatorCoordinate.fromLngLat(d);y.y+=$o;const v=y.toLngLat(),x=t.project(v.lng,v.lat),b=Yo(x.x-_.x,x.y-_.y,h),w=Math.abs(g.x)/Math.abs(b.y),T=e.identity([]);e.rotateZ(T,T,-h*(1-(n?0:r)));const E=e.identity([]);return e.scale(E,E,[1,1-(1-w)*r,1]),E[4]=-b.x/b.y*r,e.rotateZ(E,E,h),e.multiply(E,T,E),E}(t.projection,0,t.center,o,i),n=Xo(t);return e.scale(r,r,[n,n,1]),r}function Xo(t){const i=t.projection,o=qo(t.projection,t.zoom,t.width,t.height),r=Ho(i,t.center),n=Ho(i,e.LngLat.convert(i.center));return Math.pow(2,r*o+(1-o)*n)}function qo(t,i,o,r,n=1/0){const s=t.range;if(!s)return 0;const a=Math.min(n,Math.max(o,r)),l=Math.log(a/1024)/Math.LN2;return e.smoothstep(s[0]+l,s[1]+l,i)}const $o=1/4e4;function Ho(t,i){const o=e.clamp(i.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),r=new e.LngLat(i.lng-180*$o,o),n=new e.LngLat(i.lng+180*$o,o),s=t.project(r.lng,o),a=t.project(n.lng,o),l=e.MercatorCoordinate.fromLngLat(r),c=e.MercatorCoordinate.fromLngLat(n),h=a.x-s.x,u=a.y-s.y,d=c.x-l.x,_=c.y-l.y,p=Math.sqrt((d*d+_*_)/(h*h+u*u));return Math.log(p)/Math.LN2}function Yo(e,t,i){const o=Math.cos(i),r=Math.sin(i);return{x:e*o-t*r,y:e*r+t*o}}class Jo{constructor(t,i,o,r,n,s,a){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=i||22,this._minPitch=null==o?0:o,this._maxPitch=null==r?60:r,this.setProjection(s),this.setMaxBounds(a),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Uo,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Vo,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const e=new Jo(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(e,t=!1){const i=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||i)&&this._updateCameraOnTerrain(),(e||i)&&this._constrainCamera(t),this._calcMatrices()}getProjection(){return e.pick(this.projection,["name","center","parallels"])}setProjection(i){this.projectionOptions=i||{name:"mercator"};const o=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);const r=!t(o,this.getProjection());return r&&this._calcMatrices(),this.mercatorFromTransition=!1,r}setMercatorFromTransition(){const t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=e.getProjection({name:"mercator"});const i=t!==this.projection.name;return i&&this._calcMatrices(),i}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return e.wrap(this.rotation,-180,180)}set bearing(e){this.rotation=e}get rotation(){return-this.angle/Math.PI*180}set rotation(t){const i=-t*Math.PI/180;var o;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=(o=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(o[1]=0,o[2]=0),o[0]=1,o[3]=1,o),function(e,t,i){var o=t[0],r=t[1],n=t[2],s=t[3],a=Math.sin(i),l=Math.cos(i);e[0]=o*l+n*a,e[1]=r*l+s*a,e[2]=o*-a+n*l,e[3]=r*-a+s*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const i=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=e.degToRad(t),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,i=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],o=this.horizonLineFromTop();let r=0,n=0;for(let s=0;s<i.length;s++){const a=new e.pointGeometry(i[s][0]*this.width,o+i[s][1]*(this.height-o)),l=t.pointCoordinate(a);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);r+=l[3]*c,n+=c}return 0===n?NaN:r/n}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),i=this.pixelsPerMeter/this.worldSize*t,o=this._mercatorZfromZoom(e),r=this._mercatorZfromZoom(this._maxZoom),n=Math.max(o-i,r);this._setZoom(this._zoomFromMercatorZ(n))}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}computeZoomRelativeTo(t){const i=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let o;o=t.z<this._camera.position[2]?[i.x,i.y,i.z]:[t.x,t.y,t.z];const r=e.length(e.sub([],this._camera.position,o));return e.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let i=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(i=this._setCameraOrientation(t.orientation)),t.position){const o=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(o,this._camera.position)||(this._setCameraPosition(o),i=!0)}i&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,i=new Zo;return i.position=new e.MercatorCoordinate(t[0],t[1],t[2]),i.orientation=this._camera.orientation,i._elevation=this.elevation,i._renderWorldCopies=this.renderWorldCopies,i}_setCameraOrientation(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);const i=e.transformQuat([],[0,0,-1],t),o=e.transformQuat([],[0,-1,0],t);if(o[2]<0)return!1;const r=jo(i,o);return!!r&&(this._camera.orientation=r,!0)}_setCameraPosition(t){const i=this.zoomScale(this.minZoom)*this.tileSize,o=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;t[2]=e.clamp(t[2],r/o,r/i),this._camera.position=t}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,i){this._unmodified=!1,this._edgeInsets.interpolate(e,t,i),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const i=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies){const o=this.pointCoordinate(new e.pointGeometry(0,0)),r=this.pointCoordinate(new e.pointGeometry(this.width,0)),n=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),s=this.pointCoordinate(new e.pointGeometry(0,this.height)),a=Math.floor(Math.min(o.x,r.x,n.x,s.x)),l=Math.floor(Math.max(o.x,r.x,n.x,s.x)),c=1;for(let o=a-c;o<=l+c;o++)0!==o&&i.push(new e.UnwrappedTileID(o,t))}return i}coveringTiles(t){let i=this.coveringZoomLevel(t);const o=i,r=this.elevation&&!t.isTerrainDEM,n="mercator"===this.projection.name;if(void 0!==t.minzoom&&i<t.minzoom)return[];void 0!==t.maxzoom&&i>t.maxzoom&&(i=t.maxzoom);const s=this.locationCoordinate(this.center),a=this.center.lat,l=1<<i,c=[l*s.x,l*s.y,0],h="globe"===this.projection.name,u=!h,d=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,i,u),_=h?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),p=l*e.mercatorZfromAltitude(1,this.center.lat),m=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),f=[l*_.x,l*_.y,m*(u?1:p)],g=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),y=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?i:0,v=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,x=t.isTerrainDEM?-v:this._elevation?this._elevation.getMinElevationBelowMSL():0,b=this.projection.isReprojectedInTileSpace?Xo(this):1,w=t=>{const i=1/4e4,o=new e.MercatorCoordinate(t.x+i,t.y,t.z),r=new e.MercatorCoordinate(t.x,t.y+i,t.z),n=t.toLngLat(),s=o.toLngLat(),a=r.toLngLat(),l=this.locationCoordinate(n),c=this.locationCoordinate(s),h=this.locationCoordinate(a),u=Math.hypot(c.x-l.x,c.y-l.y),d=Math.hypot(h.x-l.x,h.y-l.y);return Math.sqrt(u*d)*b/i},T=t=>{const i=v,o=x;return{aabb:e.tileAABB(this,l,0,0,0,t,o,i,this.projection),zoom:0,x:0,y:0,minZ:o,maxZ:i,wrap:t,fullyVisible:!1}},E=[];let C=[];const M=i,I=t.reparseOverscaled?o:i,S=e=>e*e,D=S((m-this._centerAltitude)*p),z=e=>{if(!this._elevation||!e.tileID||!n)return;const t=this._elevation.getMinMaxForTile(e.tileID),i=e.aabb;t?(i.min[2]=t.min,i.max[2]=t.max,i.center[2]=(i.min[2]+i.max[2])/2):(e.shouldSplit=L(e),e.shouldSplit||(i.min[2]=i.max[2]=i.center[2]=this._centerAltitude))},L=t=>{if(t.zoom<y)return!0;if(t.zoom===M)return!1;if(null!=t.shouldSplit)return t.shouldSplit;const i=t.aabb.distanceX(f),n=t.aabb.distanceY(f);let s=D,l=1;if(h){s=S(t.aabb.distanceZ(f));const i=Math.pow(2,t.zoom),o=e.latFromMercatorY((t.y+1)/i),r=e.latFromMercatorY(t.y/i),n=Math.min(Math.max(a,o),r),c=e.circumferenceAtLatitude(n)/e.circumferenceAtLatitude(a);if(l=n===a?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,c/this._mercatorScaleRatio),this.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===M-1&&c>=.9)return!0}else if(r&&(s=S(t.aabb.distanceZ(f)*p)),this.projection.isReprojectedInTileSpace&&o<=5){const i=Math.pow(2,t.zoom),o=w(new e.MercatorCoordinate((t.x+.5)/i,(t.y+.5)/i));l=o>.85?1:o}const c=i*i+n*n+s,u=S((1<<M-t.zoom)*g*l*((e,t)=>{if(t*S(.707)<e)return 1;const i=Math.sqrt(t/e);return i/(1.4144271570014144+(Math.pow(1.1,i-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(s,D),c));return c<u};if(this.renderWorldCopies)for(let e=1;e<=3;e++)E.push(T(-e)),E.push(T(e));for(E.push(T(0));E.length>0;){const o=E.pop(),s=o.x,a=o.y;let u=o.fullyVisible;if(!u){const e=o.aabb.intersects(d);if(0===e)continue;u=2===e}if(o.zoom!==M&&L(o))for(let t=0;t<4;t++){const i=(s<<1)+t%2,c=(a<<1)+(t>>1),d={aabb:n?o.aabb.quadrant(t):e.tileAABB(this,l,o.zoom+1,i,c,o.wrap,o.minZ,o.maxZ,this.projection),zoom:o.zoom+1,x:i,y:c,wrap:o.wrap,fullyVisible:u,tileID:void 0,shouldSplit:void 0,minZ:o.minZ,maxZ:o.maxZ};r&&!h&&(d.tileID=new e.OverscaledTileID(o.zoom+1===M?I:o.zoom+1,o.wrap,o.zoom+1,i,c),z(d)),E.push(d)}else{const r=o.zoom===M?I:o.zoom;if(t.minzoom&&t.minzoom>r)continue;const n=c[0]-(.5+s+(o.wrap<<o.zoom))*(1<<i-o.zoom),l=c[1]-.5-a,h=o.tileID?o.tileID:new e.OverscaledTileID(r,o.wrap,o.zoom,s,a);C.push({tileID:h,distanceSq:n*n+l*l})}}if(this.fogCullDistSq){const i=this.fogCullDistSq,o=this.horizonLineFromTop();C=C.filter((r=>{const n=[0,0,0,1],s=[e.EXTENT,e.EXTENT,0,1],a=this.calculateFogTileMatrix(r.tileID.toUnwrapped());e.transformMat4$1(n,n,a),e.transformMat4$1(s,s,a);const l=e.getAABBPointSquareDist(n,s);if(0===l)return!0;let c=!1;const h=this._elevation;if(h&&l>i&&0!==o){const i=this.calculateProjMatrix(r.tileID.toUnwrapped());let n;t.isTerrainDEM||(n=h.getMinMaxForTile(r.tileID)),n||(n={min:x,max:v});const s=e.furthestTileCorner(this.rotation),a=[s[0]*e.EXTENT,s[1]*e.EXTENT,n.max];e.transformMat4(a,a,i),c=(1-a[1])*this.height*.5<o}return l<i||c}))}return C.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const i=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),o=this.projection.project(t.lng,i);return new e.pointGeometry(o.x*this.worldSize,o.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/e.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(t,i){let o,r;const n=this.centerPoint;if("globe"===this.projection.name){const e=this.worldSize;o=(i.x-n.x)/e,r=(i.y-n.y)/e}else{const e=this.pointCoordinate(i),t=this.pointCoordinate(n);o=e.x-t.x,r=e.y-t.y}const s=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(s.x-o,s.y-r))}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t,i){const o=i?e.mercatorZfromAltitude(i,t.lat):void 0,r=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(r.x,r.y,o)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(t,i){const o=null!=i?i:this._centerAltitude,r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4$1(r,r,this.pixelMatrixInverse),e.transformMat4$1(n,n,this.pixelMatrixInverse);const s=n[3];e.scale$1(r,r,1/r[3]),e.scale$1(n,n,1/s);const a=r[2],l=n[2];return{p0:r,p1:n,t:a===l?0:(o-a)/(l-a)}}screenPointToMercatorRay(t){const i=[t.x,t.y,0,1],o=[t.x,t.y,1,1];return e.transformMat4$1(i,i,this.pixelMatrixInverse),e.transformMat4$1(o,o,this.pixelMatrixInverse),e.scale$1(i,i,1/i[3]),e.scale$1(o,o,1/o[3]),i[2]=e.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,o[2]=e.mercatorZfromAltitude(o[2],this._center.lat)*this.worldSize,e.scale$1(i,i,1/this.worldSize),e.scale$1(o,o,1/this.worldSize),new e.Ray([i[0],i[1],i[2]],e.normalize([],e.sub([],o,i)))}rayIntersectionCoordinate(t){const{p0:i,p1:o,t:r}=t,n=e.mercatorZfromAltitude(i[2],this._center.lat),s=e.mercatorZfromAltitude(o[2],this._center.lat);return new e.MercatorCoordinate(e.number(i[0],o[0],r)/this.worldSize,e.number(i[1],o[1],r)/this.worldSize,e.number(n,s,r))}pointCoordinate(e,t=this._centerAltitude){return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);let i=this.projection.pointCoordinate3D(this,t.x,t.y);if(i)return new e.MercatorCoordinate(i[0],i[1],i[2]);let o=0,r=this.horizonLineFromTop();if(t.y>r)return this.pointCoordinate(t);const n=.02*r,s=t.clone();for(let t=0;t<10&&r-o>n;t++){s.y=e.number(o,r,.66);const t=this.projection.pointCoordinate3D(this,s.x,s.y);t?(r=s.y,i=t):o=s.y}return i?new e.MercatorCoordinate(i[0],i[1],i[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}_coordinatePoint(t,i){const o=i&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,r=[t.x*this.worldSize,t.y*this.worldSize,o+t.toAltitude(),1];return e.transformMat4$1(r,r,this.pixelMatrix),r[3]>0?new e.pointGeometry(r[0]/r[3],r[1]/r[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:t,left:i}=this._edgeInsets,o=this.height-this._edgeInsets.bottom,r=this.width-this._edgeInsets.right,n=this.pointLocation3D(new e.pointGeometry(i,t)),s=this.pointLocation3D(new e.pointGeometry(r,t)),a=this.pointLocation3D(new e.pointGeometry(r,o)),l=this.pointLocation3D(new e.pointGeometry(i,o));let c=Math.min(n.lng,s.lng,a.lng,l.lng),h=Math.max(n.lng,s.lng,a.lng,l.lng),u=Math.min(n.lat,s.lat,a.lat,l.lat),d=Math.max(n.lat,s.lat,a.lat,l.lat);const _=Math.pow(2,-this.zoom)/16*270,p="globe"===this.projection.name?1:4,m=(t,i,o,r,n)=>{const s=(t+o)/2,a=(i+r)/2,l=new e.pointGeometry(s,a),{lng:f,lat:g}=this.pointLocation3D(l),y=Math.max(0,c-f,u-g,f-h,g-d);c=Math.min(c,f),h=Math.max(h,f),u=Math.min(u,g),d=Math.max(d,g),(n<p||y>_)&&(m(t,i,s,a,n+1),m(s,a,o,r,n+1))};if(m(i,t,r,t,1),m(r,t,r,o,1),m(r,o,i,o,1),m(i,o,i,t,1),"globe"===this.projection.name){const[t,i]=e.polesInViewport(this);t?(d=90,h=180,c=-180):i&&(u=-90,h=180,c=-180)}return new e.LngLatBounds(new e.LngLat(c,u),new e.LngLat(h,d))}_getBoundsRectangular(t,i){const{top:o,left:r}=this._edgeInsets,n=this.height-this._edgeInsets.bottom,s=this.width-this._edgeInsets.right,a=new e.pointGeometry(r,o),l=new e.pointGeometry(s,o),c=new e.pointGeometry(s,n),h=new e.pointGeometry(r,n);let u=this.pointCoordinate(a,t),d=this.pointCoordinate(l,t);const _=this.pointCoordinate(c,i),p=this.pointCoordinate(h,i),m=(e,t)=>(t.y-e.y)/(t.x-e.x);return u.y>1&&d.y>=0?u=new e.MercatorCoordinate((1-p.y)/m(p,u)+p.x,1):u.y<0&&d.y<=1&&(u=new e.MercatorCoordinate(-p.y/m(p,u)+p.x,0)),d.y>1&&u.y>=0?d=new e.MercatorCoordinate((1-_.y)/m(_,d)+_.x,1):d.y<0&&u.y<=1&&(d=new e.MercatorCoordinate(-_.y/m(_,d)+_.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(u)).extend(this.coordinateLocation(d)).extend(this.coordinateLocation(p)).extend(this.coordinateLocation(_))}_getBoundsRectangularTerrain(){const e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBoundsRectangular(0,0);const t=e.visibleDemTiles.reduce(((e,t)=>{if(t.dem){const i=t.dem.tree;e.min=Math.min(e.min,i.minimums[0]),e.max=Math.max(e.max,i.maximums[0])}return e}),{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return"mercator"===this.projection.name||"equirectangular"===this.projection.name?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,i=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,i):i}getMaxBounds(){return this.maxBounds}setMaxBounds(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(t){const i=t.key,o=this._distanceTileDataCache;if(o[i])return o[i];const r=t.canonical,n=1/this.height,s=this.cameraWorldSize,a=s/this.zoomScale(r.z),l=(r.x+Math.pow(2,r.z)*t.wrap)*a,c=r.y*a,h=this.point;h.x*=s/this.worldSize,h.y*=s/this.worldSize;const u=this.angle,d=Math.sin(-u),_=-Math.cos(-u);return o[i]={bearing:[d,_],center:[(h.x-l)*n,(h.y-c)*n],scale:a/e.EXTENT*n},o[i]}calculateFogTileMatrix(t){const i=t.key,o=this._fogTileMatrixCache;if(o[i])return o[i];const r=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,t);return e.multiply(r,this.worldToFogMatrix,r),o[i]=new Float32Array(r),o[i]}calculateProjMatrix(t,i=!1){const o=t.key,r=i?this._alignedProjMatrixCache:this._projMatrixCache;if(r[o])return r[o];const n=this.calculatePosMatrix(t,this.worldSize);return e.multiply(n,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:i?this.alignedProjMatrix:this.projMatrix,n),r[o]=new Float32Array(n),r[o]}calculatePixelsToTileUnitsMatrix(t){const i=t.tileID.key,o=this._pixelsToTileUnitsCache;if(o[i])return o[i];const r=function(t,i){const{scale:o}=t.tileTransform,r=o*e.EXTENT/(t.tileSize*Math.pow(2,i.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return n=new Float32Array(4),l=(s=i.inverseAdjustmentMatrix)[1],c=s[2],h=s[3],d=(a=[r,r])[1],n[0]=s[0]*(u=a[0]),n[1]=l*u,n[2]=c*d,n[3]=h*d,n;var n,s,a,l,c,h,u,d}(t,this);return o[i]=r,o[i]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if("globe"===this.projection.name){const t=1/this.worldSize,i=e.fromScaling([],[t,t,t]);return e.multiply(i,i,this.globeMatrix),i}}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const t=this._elevation;this._updateCameraState();const i=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,o=this._computeCameraPosition(i),r=this._camera.forward(),n=e.mercatorZfromAltitude(1,this._center.lat);o[2]/=n,r[2]/=n,e.normalize(r,r);const s=t.raycast(o,r,t.exaggeration());if(s){const t=e.scaleAndAdd([],o,r,s),i=new e.MercatorCoordinate(t[0],t[1],e.mercatorZfromAltitude(t[2],e.latFromMercatorY(t[1]))),a=(i.z+e.length([i.x-o[0],i.y-o[1],i.z-o[2]*n]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(a),this._centerAltitude=i.toAltitude(),this._center=this.coordinateLocation(i),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(t=!1){if(!this._elevation)return;const i=this._elevation,o=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(o),n=i.getAtPointOrZero(new e.MercatorCoordinate(...r)),s=this.pixelsPerMeter/this.worldSize*n,a=this._minimumHeightOverTerrain(),l=r[2]-s;if(l<=a)if(l<0||t){const t=this.locationCoordinate(this._center,this._centerAltitude),i=[r[0],r[1],t.z-r[2]],o=e.length(i);i[2]-=(a-l)/this._pixelsPerMercatorPixel;const n=e.length(i);if(0===n)return;e.scale$2(i,i,o/n*this._pixelsPerMercatorPixel),this._camera.position=[r[0],r[1],t.z*this._pixelsPerMercatorPixel-i[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const t="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){const i=this.center;return i.lat=e.clamp(i.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(i.lng=e.clamp(i.lng,this.minLng,this.maxLng)),this.center=i,void(this._constraining=!1)}const i=this._unmodified,{x:o,y:r}=this.point;let n=0,s=o,a=r;const l=this.width/2,c=this.height/2,h=this.worldMinY*this.scale,u=this.worldMaxY*this.scale;if(r-c<h&&(a=h+c),r+c>u&&(a=u-c),u-h<this.height&&(n=Math.max(n,this.height/(u-h)),a=(u+h)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,i=this.worldSize/2-(e+t)/2;s=(o+i+this.worldSize)%this.worldSize-i,s-l<e&&(s=e+l),s+l>t&&(s=t-l),t-e<this.width&&(n=Math.max(n,this.width/(t-e)),s=(t+e)/2)}s===o&&a===r||(this.center=this.unproject(new e.pointGeometry(s,a))),n&&(this.zoom+=this.scaleZoom(n)),this._constrainCamera(),this._unmodified=i,this._constraining=!1}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,i=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));const o=qo(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,o),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const r="meters"===this.projection.zAxisUnit?i:1,n=this._camera.getWorldToCamera(this.worldSize,r),s=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);s[8]=2*-t.x/this.width,s[9]=2*t.y/this.height;let a=e.mul([],s,n);if(this.projection.isReprojectedInTileSpace){const t=this.locationCoordinate(this.center),i=e.identity([]);e.translate(i,i,[t.x*this.worldSize,t.y*this.worldSize,0]),e.multiply(i,i,Wo(this)),e.translate(i,i,[-t.x*this.worldSize,-t.y*this.worldSize,0]),e.multiply(a,a,i),this.inverseAdjustmentMatrix=function(e){const t=Wo(e,!0);return y([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],a,[this.worldSize,this.worldSize,this.worldSize/r,1]),this.projMatrix=a,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);const l=e.invert([],s);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(l,this.horizonLineFromTop(),this.height);const c=new Float32Array(16);e.identity(c),e.scale(c,c,[1,-1,1]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle);const h=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),u=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;h[8]=2*-t.x/this.width,h[9]=2*(t.y+u)/this.height,this.skyboxMatrix=e.multiply(c,h,c);const d=this.point,_=d.x,p=d.y,m=this.width%2/2,f=this.height%2/2,g=Math.cos(this.angle),v=Math.sin(this.angle),x=_-Math.round(_)+g*m+v*f,b=p-Math.round(p)+g*f+v*m,w=new Float64Array(a);if(e.translate(w,w,[x>.5?x-1:x,b>.5?b-1:b,0]),this.alignedProjMatrix=w,a=e.create(),e.scale(a,a,[this.width/2,-this.height/2,1]),e.translate(a,a,[1,-1,0]),this.labelPlaneMatrix=a,a=e.create(),e.scale(a,a,[1,-1,1]),e.translate(a,a,[-1,-1,0]),e.scale(a,a,[2/this.width,2/this.height,1]),this.glCoordMatrix=a,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},a=e.invert(new Float64Array(16),this.pixelMatrix),!a)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=a,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);const t=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(t,t,n),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=a;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSizeForFog,i=this.cameraPixelsPerMeter,o=this._camera.position,r=1/this.height/this._pixelsPerMercatorPixel,n=[t,t,i];e.scale$2(n,n,r),e.scale$2(o,o,-1),e.multiply$2(o,o,n);const s=e.create();e.translate(s,s,o),e.scale(s,s,n),this.mercatorFogMatrix=s,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,i,r)}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,i=this._camera.forward(),o=this.point,r=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return[o.x/this.worldSize-i[0]*r,o.y/this.worldSize-i[1]*r,e/this.worldSize*this._centerAltitude-i[2]*r]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(t){const i=this._maxCameraBoundsDistance()*Math.cos(this._pitch),o=this._camera.position[2],r=t[2];let n=1;this.projection.wrap&&(this.center=this.center.wrap()),r>0&&(n=Math.min((i-o)/r,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,n),this._updateStateFromCamera()}_updateStateFromCamera(){const t=this._camera.position,i=this._camera.forward(),{pitch:o,bearing:r}=this._camera.getPitchBearing(),n=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,s=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),a=Math.max((t[2]-n)/Math.cos(o),s),l=this._zoomFromMercatorZ(a);e.scaleAndAdd(t,t,i,a),this._pitch=e.clamp(o,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(r,-Math.PI,Math.PI),this._setZoom(e.clamp(l,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}zoomFromMercatorZAdjusted(t){let i=0,o=e.GLOBE_ZOOM_THRESHOLD_MAX,r=0,n=1/0;for(;o-i>1e-6&&o>i;){const e=i+.5*(o-i),s=this.tileSize*Math.pow(2,e),a=this.getCameraToCenterDistance(this.projection,e,s),l=this.scaleZoom(a/(t*this.tileSize)),c=Math.abs(e-l);c<n&&(n=c,r=e),e<l?i=e:o=e}return r}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(t,i){const o=Math.min(t.x,i.x),r=Math.max(t.x,i.x),n=Math.min(t.y,i.y),s=Math.max(t.y,i.y);if(n<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const a=[new e.pointGeometry(o,n),new e.pointGeometry(r,s),new e.pointGeometry(o,s),new e.pointGeometry(r,n)],l=this.renderWorldCopies?-3:0,c=this.renderWorldCopies?4:1;for(const e of a){const t=this.pointRayIntersection(e);if(t.t<0)return!0;const i=this.rayIntersectionCoordinate(t);if(i.x<l||i.y<0||i.x>c||i.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}zoomDeltaToMovement(t,i){const o=e.length(e.sub([],this._camera.position,t)),r=this._zoomFromMercatorZ(o)+i;return o-this._mercatorZfromZoom(r)}getCameraPoint(){if("globe"===this.projection.name){const t=function([t,i,o],r){const n=[t,i,o,1];e.transformMat4$1(n,n,r);const s=n[3]=Math.max(n[3],1e-6);return n[0]/=s,n[1]/=s,n[2]/=s,n}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.pointGeometry(t[0],t[1])}{const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}}getCameraToCenterDistance(e,t=this.zoom,i=this.worldSize){const o=qo(e,t,this.width,this.height,1024),r=e.pixelSpaceConversion(this.center.lat,i,o);return.5/Math.tan(.5*this._fov)*this.height*r}getWorldToCameraMatrix(){const t=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&e.multiply(t,t,this.globeMatrix),t}}function Ko(e,t){let i=!1,o=null;const r=()=>{o=null,i&&(e(),o=setTimeout(r,t),i=!1)};return()=>(i=!0,o||r(),o)}class Qo{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ko(this._updateHashUnthrottled.bind(this),300)}addTo(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),t.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const t=this._map;if(!t)return"";const i=er(t);if(this._hashName){const t=this._hashName;let o=!1;const r=e.window.location.hash.slice(1).split("&").map((e=>{const r=e.split("=")[0];return r===t?(o=!0,`${r}=${i}`):e})).filter((e=>e));return o||r.push(`${t}=${i}`),`#${r.join("&")}`}return`#${i}`}_getCurrentHash(){const t=e.window.location.hash.replace("#","");if(this._hashName){let e;return t.split("&").map((e=>e.split("="))).forEach((t=>{t[0]===this._hashName&&(e=t)})),(e&&e[1]||"").split("/")}return t.split("/")}_onHashChange(){const e=this._map;if(!e)return!1;const t=this._getCurrentHash();if(t.length>=3&&!t.some((e=>isNaN(e)))){const i=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:i,pitch:+(t[4]||0)}),!0}return!1}_updateHashUnthrottled(){const t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}function er(e,t){const i=e.getCenter(),o=Math.round(100*e.getZoom())/100,r=Math.ceil((o*Math.LN2+Math.log(512/360/.5))/Math.LN10),n=Math.pow(10,r),s=Math.round(i.lng*n)/n,a=Math.round(i.lat*n)/n,l=e.getBearing(),c=e.getPitch();let h=t?`/${s}/${a}/${o}`:`${o}/${a}/${s}`;return(l||c)&&(h+="/"+Math.round(10*l)/10),c&&(h+=`/${Math.round(c)}`),h}const tr={linearity:.3,easing:e.bezier(0,0,.3,1)},ir=e.extend({deceleration:2500,maxSpeed:1400},tr),or=e.extend({deceleration:20,maxSpeed:1400},tr),rr=e.extend({deceleration:1e3,maxSpeed:360},tr),nr=e.extend({deceleration:1e3,maxSpeed:90},tr);class sr{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,i=e.exported.now();for(;t.length>0&&i-t[0].time>160;)t.shift()}_onMoveEnd(t){if(e.exported.prefersReducedMotion)return;if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)i.zoom+=e.zoomDelta||0,i.bearing+=e.bearingDelta||0,i.pitch+=e.pitchDelta||0,e.panDelta&&i.pan._add(e.panDelta),e.around&&(i.around=e.around),e.pinchAround&&(i.pinchAround=e.pinchAround);const o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(i.pan.mag()){const n=lr(i.pan.mag(),o,e.extend({},ir,t||{}));r.offset=i.pan.mult(n.amount/i.pan.mag()),r.center=this._map.transform.center,ar(r,n)}if(i.zoom){const e=lr(i.zoom,o,or);r.zoom=this._map.transform.zoom+e.amount,ar(r,e)}if(i.bearing){const t=lr(i.bearing,o,rr);r.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),ar(r,t)}if(i.pitch){const e=lr(i.pitch,o,nr);r.pitch=this._map.transform.pitch+e.amount,ar(r,e)}if(r.zoom||r.bearing){const e=void 0===i.pinchAround?i.around:i.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),r.noMoveStart=!0,r}}function ar(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function lr(t,i,o){const{maxSpeed:r,linearity:n,deceleration:s}=o,a=e.clamp(t*n/(i/1e3),-r,r),l=Math.abs(a)/(s*n);return{easing:o.easing,duration:1e3*l,amount:a*(l/2)}}class cr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,o,r={}){const n=p(i.getCanvasContainer(),o),s=i.unproject(n);super(t,e.extend({point:n,lngLat:s,originalEvent:o},r)),this._defaultPrevented=!1,this.target=i}}class hr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,o){const r="touchend"===t?o.changedTouches:o.touches,n=m(i.getCanvasContainer(),r),s=n.map((e=>i.unproject(e))),a=n.reduce(((e,t,i,o)=>e.add(t.div(o.length))),new e.pointGeometry(0,0));super(t,{points:n,point:a,lngLats:s,lngLat:i.unproject(a),originalEvent:o}),this._defaultPrevented=!1}}class ur extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i){super(e,{originalEvent:i}),this._defaultPrevented=!1}}class dr{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){this._mousedownPos=void 0}wheel(e){return this._firePreventable(new ur(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new cr(e.type,this._map,e))}mouseup(e){this._map.fire(new cr(e.type,this._map,e))}preclick(t){const i=e.extend({},t);i.type="preclick",this._map.fire(new cr(i.type,this._map,i))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new cr(e.type,this._map,e)))}dblclick(e){return this._firePreventable(new cr(e.type,this._map,e))}mouseover(e){this._map.fire(new cr(e.type,this._map,e))}mouseout(e){this._map.fire(new cr(e.type,this._map,e))}touchstart(e){return this._firePreventable(new hr(e.type,this._map,e))}touchmove(e){this._map.fire(new hr(e.type,this._map,e))}touchend(e){this._map.fire(new hr(e.type,this._map,e))}touchcancel(e){this._map.fire(new hr(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class _r{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(e){this._map.fire(new cr(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new cr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new cr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class pr{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(h(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const i=t,o=this._startPos,r=this._lastPos;if(!o||!r||r.equals(i)||!this._box&&i.dist(o)<this._clickTolerance)return;this._lastPos=i,this._box||(this._box=n("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const s=Math.min(o.x,i.x),a=Math.max(o.x,i.x),l=Math.min(o.y,i.y),c=Math.max(o.y,i.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform=`translate(${s}px,${l}px)`,this._box.style.width=a-s+"px",this._box.style.height=c-l+"px")}))}mouseupWindow(t,i){if(!this._active)return;const o=this._startPos,r=i;if(o&&0===t.button){if(this.reset(),_(),o.x!==r.x||o.y!==r.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(o,r,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",t)}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),u(),delete this._startPos,delete this._lastPos}_fireEvent(t,i){return this._map.fire(new e.Event(t,{originalEvent:i}))}}function mr(e,t){const i={};for(let o=0;o<e.length;o++)i[e[o].identifier]=t[o];return i}class fr{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(t,i,o){(this.centroid||o.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),o.length===this.numTouches&&(this.centroid=function(t){const i=new e.pointGeometry(0,0);for(const e of t)i._add(e);return i.div(t.length)}(i),this.touches=mr(o,i)))}touchmove(e,t,i){if(this.aborted||!this.centroid)return;const o=mr(i,t);for(const e in this.touches){const t=this.touches[e],i=o[e];(!i||i.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,i){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class gr{constructor(e){this.singleTap=new fr(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(e,t,i){this.singleTap.touchstart(e,t,i)}touchmove(e,t,i){this.singleTap.touchmove(e,t,i)}touchend(e,t,i){const o=this.singleTap.touchend(e,t,i);if(o){const t=e.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(o)<30;if(t&&i||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=o,this.count===this.numTaps)return this.reset(),o}}}class yr{constructor(){this._zoomIn=new gr({numTouches:1,numTaps:2}),this._zoomOut=new gr({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,i){this._zoomIn.touchstart(e,t,i),this._zoomOut.touchstart(e,t,i)}touchmove(e,t,i){this._zoomIn.touchmove(e,t,i),this._zoomOut.touchmove(e,t,i)}touchend(e,t,i){const o=this._zoomIn.touchend(e,t,i),r=this._zoomOut.touchend(e,t,i);return o?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(o)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const vr={0:1,2:2};class xr{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const i=f(e);this._correctButton(e,i)&&(this._lastPoint=t,this._eventButton=i)}mousemoveWindow(e,t){const i=this._lastPoint;if(i)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const i=vr[t];return void 0===e.buttons||(e.buttons&i)!==i}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(i)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(i,t)}mouseupWindow(e){this._lastPoint&&f(e)===this._eventButton&&(this._moved&&_(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class br extends xr{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class wr extends xr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=.8*(t.x-e.x);if(i)return this._active=!0,{bearingDelta:i}}contextmenu(e){e.preventDefault()}}class Tr extends xr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=-.5*(t.y-e.y);if(i)return this._active=!0,{pitchDelta:i}}contextmenu(e){e.preventDefault()}}class Er{constructor(t,i){this._map=t,this._el=t.getCanvasContainer(),this._minTouches=1,this._clickTolerance=i.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}touchstart(e,t,i){return this._calculateTransform(e,t,i)}touchmove(t,i,o){if(this._active&&!(o.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===o.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,i,o)}}touchend(e,t,i){this._calculateTransform(e,t,i),this._active&&i.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,i,o){o.length>0&&(this._active=!0);const r=mr(o,i),n=new e.pointGeometry(0,0),s=new e.pointGeometry(0,0);let a=0;for(const e in r){const t=r[e],i=this._touches[e];i&&(n._add(t),s._add(t.sub(i)),a++,r[e]=t)}if(this._touches=r,a<this._minTouches||!s.mag())return;const l=s.div(a);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:n.div(a),panDelta:l}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=n("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")}),500)}}class Cr{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(e){}_move(e,t,i){return{}}touchstart(e,t,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,i){const o=this._firstTwoTouches;if(!o)return;e.preventDefault();const[r,n]=o,s=Mr(i,t,r),a=Mr(i,t,n);if(!s||!a)return;const l=this._aroundCenter?null:s.add(a).div(2);return this._move([s,a],l,e)}touchend(e,t,i){if(!this._firstTwoTouches)return;const[o,r]=this._firstTwoTouches,n=Mr(i,t,o),s=Mr(i,t,r);n&&s||(this._active&&_(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Mr(e,t,i){for(let o=0;o<e.length;o++)if(e[o].identifier===i)return t[o]}function Ir(e,t){return Math.log(e/t)/Math.LN2}class Sr extends Cr{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const i=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Ir(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ir(this._distance,i),pinchAround:t}}}function Dr(e,t){return 180*e.angleWith(t)/Math.PI}class zr extends Cr{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const i=this._vector;if(this._vector=e[0].sub(e[1]),i&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Dr(this._vector,i),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,i=this._startVector;if(!i)return!1;const o=Dr(e,i);return Math.abs(o)<t}}function Lr(e){return Math.abs(e.y)>Math.abs(e.x)}class Pr extends Cr{constructor(e){super(),this._map=e}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(e){this._lastPoints=e,Lr(e[0].sub(e[1]))&&(this._valid=!1)}_move(t,i,o){const r=this._lastPoints;if(!r)return;const n=t[0].sub(r[0]),s=t[1].sub(r[1]);return this._map._cooperativeGestures&&!e.isFullscreen()&&o.touches.length<3||(this._valid=this.gestureBeginsVertically(n,s,o.timeStamp),!this._valid)?void 0:(this._lastPoints=t,this._active=!0,{pitchDelta:(n.y+s.y)/2*-.5})}gestureBeginsVertically(e,t,i){if(void 0!==this._valid)return this._valid;const o=e.mag()>=2,r=t.mag()>=2;if(!o&&!r)return;if(!o||!r)return null==this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;const n=e.y>0==t.y>0;return Lr(e)&&Lr(t)&&n}}const Ar={panStep:100,bearingStep:15,pitchStep:10};class Rr{constructor(){const e=Ar;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,i=0,o=0,r=0,n=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?i=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?i=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?o=1:(e.preventDefault(),n=-1);break;case 40:e.shiftKey?o=-1:(e.preventDefault(),n=1);break;default:return}return this._rotationDisabled&&(i=0,o=0),{cameraAnimation:s=>{const a=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:Or,zoom:t?Math.round(a)+t*(e.shiftKey?2:1):a,bearing:s.getBearing()+i*this._bearingStep,pitch:s.getPitch()+o*this._pitchStep,offset:[-r*this._panStep,-n*this._panStep],center:s.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Or(e){return e*(2-e)}const kr=4.000244140625;class Fr{constructor(t,i){this._map=t,this._el=t.getCanvasContainer(),this._handler=i,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let i=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const o=e.exported.now(),r=o-(this._lastWheelEventTime||0);this._lastWheelEventTime=o,0!==i&&i%kr==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),t.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=t,this._delta-=i,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=p(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;"wheel"===this._type&&t.projection.wrap&&(t._center.lng>=180||t._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const i=()=>t._terrainEnabled()&&this._aroundCoord?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>kr?this._wheelZoomRate:this._defaultZoomRate;let o=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==o&&(o=1/o);const r=i(),n=Math.pow(2,r),s="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):n;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(s*o))),"wheel"===this._type&&(this._startZoom=r,this._easing=this._smoothOutEasing(200)),this._delta=0}const o="number"==typeof this._targetZoom?this._targetZoom:i(),r=this._startZoom,n=this._easing;let s,a=!1;if("wheel"===this._type&&r&&n){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),i=n(t);s=e.number(r,o,i),t<1?this._frameId||(this._frameId=!0):a=!0}else s=o,a=!0;return this._active=!0,a&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!a,zoomDelta:s-i(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let i=e.ease;if(this._prevEase){const t=this._prevEase,o=(e.exported.now()-t.start)/t.duration,r=t.easing(o+.01)-t.easing(o),n=.27/Math.sqrt(r*r+1e-4)*.01,s=Math.sqrt(.0729-n*n);i=e.bezier(n,s,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:i},i}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=n("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")}),200)}}class Br{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ur{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(e,t){return e.preventDefault(),{cameraAnimation:i=>{i.easeTo({duration:300,zoom:i.getZoom()+(e.shiftKey?-1:1),around:i.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Nr{constructor(){this._tap=new gr({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(e,t,i){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?i.length>0&&(this._swipePoint=t[0],this._swipeTouch=i[0].identifier):this._tap.touchstart(e,t,i))}touchmove(e,t,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;const o=t[0],r=o.y-this._swipePoint.y;return this._swipePoint=o,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,i)}touchend(e,t,i){this._tapTime?this._swipePoint&&0===i.length&&this.reset():this._tap.touchend(e,t,i)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Gr{constructor(e,t,i){this._el=e,this._mousePan=t,this._touchPan=i}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class jr{constructor(e,t,i){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=i}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Zr{constructor(e,t,i,o){this._el=e,this._touchZoom=t,this._touchRotate=i,this._tapDragZoom=o,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Vr=e=>e.zoom||e.drag||e.pitch||e.rotate;class Wr extends e.Event{}class Xr{constructor(){this.constants=[1,1,.01],this.radius=0}setup(t,i){const o=e.sub([],i,t);this.radius=e.length(o[2]<0?e.div([],o,this.constants):[o[0],o[1],0])}projectRay(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);const i=e.scale$2([],t,this.radius);if(i[2]>0){const t=e.scale$2([],[0,0,1],e.dot(i,[0,0,1])),o=e.scale$2([],e.normalize([],[i[0],i[1],0]),this.radius),r=e.add([],i,e.scale$2([],e.sub([],e.add([],o,t),i),2));i[0]=r[0],i[1]=r[1]}return i}}function qr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class $r{constructor(t,i){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new sr(t),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Xr,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(i),e.bindAll(["handleEvent","handleWindowEvent"],this);const o=this._el;this._listeners=[[o,"touchstart",{passive:!0}],[o,"touchmove",{passive:!1}],[o,"touchend",void 0],[o,"touchcancel",void 0],[o,"mousedown",void 0],[o,"mousemove",void 0],[o,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[o,"mouseover",void 0],[o,"mouseout",void 0],[o,"dblclick",void 0],[o,"click",void 0],[o,"keydown",{capture:!1}],[o,"keyup",void 0],[o,"wheel",{passive:!1}],[o,"contextmenu",void 0],[e.window,"blur",void 0]];for(const[t,i,o]of this._listeners)t.addEventListener(i,t===e.window.document?this.handleWindowEvent:this.handleEvent,o)}destroy(){for(const[t,i,o]of this._listeners)t.removeEventListener(i,t===e.window.document?this.handleWindowEvent:this.handleEvent,o)}_addDefaultHandlers(e){const t=this._map,i=t.getCanvasContainer();this._add("mapEvent",new dr(t,e));const o=t.boxZoom=new pr(t,e);this._add("boxZoom",o);const r=new yr,n=new Ur;t.doubleClickZoom=new Br(n,r),this._add("tapZoom",r),this._add("clickZoom",n);const s=new Nr;this._add("tapDragZoom",s);const a=t.touchPitch=new Pr(t);this._add("touchPitch",a);const l=new wr(e),c=new Tr(e);t.dragRotate=new jr(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const h=new br(e),u=new Er(t,e);t.dragPan=new Gr(i,h,u),this._add("mousePan",h),this._add("touchPan",u,["touchZoom","touchRotate"]);const d=new zr,_=new Sr;t.touchZoomRotate=new Zr(i,_,d,s),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",_,["touchPan","touchRotate"]),this._add("blockableMapEvent",new _r(t));const p=t.scrollZoom=new Fr(t,this);this._add("scrollZoom",p,["mousePan"]);const m=t.keyboard=new Rr;this._add("keyboard",m);for(const i of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[i]&&t[i].enable(e[i])}_add(e,t,i){this._handlers.push({handlerName:e,handler:t,allowed:i}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Vr(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(e,t,i){for(const o in e)if(o!==i&&(!t||t.indexOf(o)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,`${e.type}Window`)}_getMapTouches(e){const t=[];for(const i of e)this._el.contains(i.target)&&t.push(i);return t}handleEvent(e,t){this._updatingCamera=!0;const i="renderFrame"===e.type,o=i?void 0:e,r={needsRenderFrame:!1},n={},s={},a=e.touches?this._getMapTouches(e.touches):void 0,l=a?m(this._el,a):i?void 0:p(this._el,e);for(const{handlerName:i,handler:c,allowed:h}of this._handlers){if(!c.isEnabled())continue;let u;this._blockedByActive(s,h,i)?c.reset():c[t||e.type]&&(u=c[t||e.type](e,l,a),this.mergeHandlerResult(r,n,u,i,o),u&&u.needsRenderFrame&&this._triggerRenderFrame()),(u||c.isActive())&&(s[i]=c)}const c={};for(const e in this._previousActiveHandlers)s[e]||(c[e]=o);this._previousActiveHandlers=s,(Object.keys(c).length||qr(r))&&(this._changes.push([r,n,c]),this._triggerRenderFrame()),(Object.keys(s).length||qr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=r;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map))}mergeHandlerResult(t,i,o,r,n){if(!o)return;e.extend(t,o);const s={handlerName:r,originalEvent:o.originalEvent||n};void 0!==o.zoomDelta&&(i.zoom=s),void 0!==o.panDelta&&(i.drag=s),void 0!==o.pitchDelta&&(i.pitch=s),void 0!==o.bearingDelta&&(i.rotate=s)}_applyChanges(){const t={},i={},o={};for(const[r,n,s]of this._changes)r.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(r.panDelta)),r.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(t.around=r.around),void 0!==r.aroundCoord&&(t.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(t.pinchAround=r.pinchAround),r.noInertia&&(t.noInertia=r.noInertia),e.extend(i,n),e.extend(o,s);this._updateMapTransform(t,i,o),this._changes=[]}_updateMapTransform(t,i,o){const r=this._map,n=r.transform,s=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!qr(t)){const e=n.zoom;n.cameraElevationReference="sea",n.recenterOnTerrain(),n.cameraElevationReference="ground",e!==n.zoom&&this._map._update(!0)}if(n._isCameraConstrained&&r._stop(!0),!qr(t))return void this._fireEvents(i,o,!0);let{panDelta:a,zoomDelta:l,bearingDelta:c,pitchDelta:h,around:u,aroundCoord:d,pinchAround:_}=t;n._isCameraConstrained&&(l>0&&(l=0),n._isCameraConstrained=!1),void 0!==_&&(u=_),(l||(e=>i.drag&&!this._eventsInProgress.drag)())&&u&&(this._dragOrigin=s(n.pointCoordinate3D(u)),this._trackingEllipsoid.setup(n._camera.position,this._dragOrigin)),n.cameraElevationReference="sea",r._stop(!0),u=u||r.transform.centerPoint,c&&(n.bearing+=c),h&&(n.pitch+=h),n._updateCameraState();const p=[0,0,0];if(a)if("mercator"===n.projection.name){const e=this._trackingEllipsoid.projectRay(n.screenPointToMercatorRay(u).dir),t=this._trackingEllipsoid.projectRay(n.screenPointToMercatorRay(u.sub(a)).dir);p[0]=t[0]-e[0],p[1]=t[1]-e[1]}else{const t=n.pointCoordinate(u);if("globe"===n.projection.name){a=a.rotate(-n.angle);const i=n._pixelsPerMercatorPixel/n.worldSize;p[0]=-a.x*e.mercatorScale(e.latFromMercatorY(t.y))*i,p[1]=-a.y*e.mercatorScale(n.center.lat)*i}else{const e=n.pointCoordinate(u.sub(a));t&&e&&(p[0]=e.x-t.x,p[1]=e.y-t.y)}}const m=n.zoom,f=[0,0,0];if(l){const t=s(d||n.pointCoordinate3D(u)),i={dir:e.normalize([],e.sub([],t,n._camera.position))};if(i.dir[2]<0){const o=n.zoomDeltaToMovement(t,l);e.scale$2(f,i.dir,o)}}const g=e.add(p,p,f);n._translateCameraConstrained(g),l&&Math.abs(n.zoom-m)>1e-4&&n.recenterOnTerrain(),n.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(i,o,!0)}_fireEvents(t,i,o){const r=Vr(this._eventsInProgress),n=Vr(t),s={};for(const e in t){const{originalEvent:i}=t[e];this._eventsInProgress[e]||(s[`${e}start`]=i),this._eventsInProgress[e]=t[e]}!r&&n&&this._fireEvent("movestart",n.originalEvent);for(const e in s)this._fireEvent(e,s[e]);n&&this._fireEvent("move",n.originalEvent);for(const e in t){const{originalEvent:i}=t[e];this._fireEvent(e,i)}const a={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:o}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=i[t]||o,a[`${e}end`]=l)}for(const e in a)this._fireEvent(e,a[e]);const c=Vr(this._eventsInProgress);if(o&&(r||n)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),i=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(i(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),i(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,i){this._map.fire(new e.Event(t,i?{originalEvent:i}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{this._frameId=void 0,this.handleEvent(new Wr("renderFrame",{timeStamp:e})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Hr="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Yr extends e.Evented{constructor(t,i){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=i.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,i,o){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},i),o)}panTo(t,i,o){return this.easeTo(e.extend({center:t},i),o)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,i,o){return this.easeTo(e.extend({zoom:t},i),o)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,i,o){return this.easeTo(e.extend({bearing:t},i),o)}resetNorth(t,i){return this.rotateTo(0,e.extend({duration:1e3},t),i),this}resetNorthPitch(t,i){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),i),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,i){t=e.LngLatBounds.convert(t);const o=i&&i.bearing||0,r=i&&i.pitch||0,n=t.getNorthWest(),s=t.getSouthEast();return this._cameraForBounds(this.transform,n,s,o,r,i)}_extendCameraOptions(t){const i={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e}}return t.padding=e.extend(i,t.padding),t}_minimumAABBFrustumDistance(e,t){const i=t.max[0]-t.min[0],o=t.max[1]-t.min[1];return i/o>e.aspect?i/(2*Math.tan(.5*e.fovX)*e.aspect):o/(2*Math.tan(.5*e.fovY)*e.aspect)}_cameraForBoundsOnGlobe(t,i,o,r,n,s){const a=t.clone(),l=this._extendCameraOptions(s);a.bearing=r,a.pitch=n;const c=e.LngLat.convert(i),h=e.LngLat.convert(o),u=.5*(c.lat+h.lat),d=.5*(c.lng+h.lng),_=e.latLngToECEF(u,d),p=e.normalize([],_),m=e.normalize([],e.cross([],p,[0,1,0])),f=e.cross([],m,p),g=[m[0],m[1],m[2],0,f[0],f[1],f[2],0,p[0],p[1],p[2],0,0,0,0,1],y=[_,e.latLngToECEF(c.lat,c.lng),e.latLngToECEF(h.lat,c.lng),e.latLngToECEF(h.lat,h.lng),e.latLngToECEF(c.lat,h.lng),e.latLngToECEF(u,c.lng),e.latLngToECEF(u,h.lng),e.latLngToECEF(c.lat,d),e.latLngToECEF(h.lat,d)];let v=e.Aabb.fromPoints(y.map((t=>[e.dot(m,t),e.dot(f,t),e.dot(p,t)])));const x=e.transformMat4([],v.center,g);0===e.squaredLength(x)&&e.set(x,0,0,1),e.normalize(x,x),e.scale$2(x,x,e.GLOBE_RADIUS),a.center=e.ecefToLatLng(x);const b=a.getWorldToCameraMatrix(),w=e.invert(new Float64Array(16),b);v=e.Aabb.applyTransform(v,e.multiply([],b,g)),e.transformMat4(x,x,b);const T=.5*(v.max[2]-v.min[2]),E=this._minimumAABBFrustumDistance(a,v),C=e.scale$2([],[0,0,1],T),M=e.add(C,x,C),I=E+(0===a.pitch?0:e.distance(x,M)),S=a.globeCenterInViewSpace,D=e.sub([],x,[S[0],S[1],S[2]]);e.normalize(D,D),e.scale$2(D,D,I);const z=e.add([],x,D);e.transformMat4(z,z,w);const L=e.earthRadius/e.GLOBE_RADIUS,P=e.length(z),A=e.mercatorZfromAltitude(Math.max(P*L-e.earthRadius,Number.EPSILON),0),R=Math.min(a.zoomFromMercatorZAdjusted(A),l.maxZoom);return R>.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(a.setProjection({name:"mercator"}),a.zoom=R,this._cameraForBounds(a,i,o,r,n,s)):{center:a.center,zoom:R,bearing:r,pitch:n}}queryTerrainElevation(t,i){const o=this.transform.elevation;return o?(i=e.extend({},{exaggerated:!0},i),o.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,i.exaggerated)):null}_cameraForBounds(t,i,o,r,n,s){if("globe"===t.projection.name)return this._cameraForBoundsOnGlobe(t,i,o,r,n,s);const a=t.clone(),l=this._extendCameraOptions(s),c=a.padding;a.bearing=r,a.pitch=n;const h=e.LngLat.convert(i),u=e.LngLat.convert(o),d=new e.LngLat(h.lng,u.lat),_=new e.LngLat(u.lng,h.lat),p=a.project(h),m=a.project(u),f=this.queryTerrainElevation(h),g=this.queryTerrainElevation(u),y=this.queryTerrainElevation(d),v=this.queryTerrainElevation(_),x=[[p.x,p.y,Math.min(f||0,g||0,y||0,v||0)],[m.x,m.y,Math.max(f||0,g||0,y||0,v||0)]];let b=e.Aabb.fromPoints(x);const w=a.getWorldToCameraMatrix(),T=e.invert(new Float64Array(16),w);b=e.Aabb.applyTransform(b,w);const E=e.sub([],b.max,b.min),C=c.left||0,M=c.right||0,I=c.bottom||0,S=c.top||0,{left:D,right:z,top:L,bottom:P}=l.padding,A=.5*(C+M),R=.5*(S+I),O=Math.min(a.scaleZoom(a.scale*Math.min((a.width-(C+M+D+z))/E[0],(a.height-(I+S+P+L))/E[1])),l.maxZoom),k=a.scale/a.zoomScale(O);b=new e.Aabb([b.min[0]-(D+A)*k,b.min[1]-(P+R)*k,b.min[2]],[b.max[0]+(z+A)*k,b.max[1]+(L+R)*k,b.max[2]]);const F=.5*E[2],B=this._minimumAABBFrustumDistance(a,b),U=[0,0,1,0];e.transformMat4$1(U,U,w),e.normalize$2(U,U);const N=e.scale$2([],U,B+F),G=e.add([],b.center,N),j=("number"==typeof l.offset.x&&"number"==typeof l.offset.y?new e.pointGeometry(l.offset.x,l.offset.y):e.pointGeometry.convert(l.offset)).rotate(-e.degToRad(r));b.center[0]-=j.x*k,b.center[1]+=j.y*k,e.transformMat4(b.center,b.center,T),e.transformMat4(G,G,T);const Z=[b.center[0],b.center[1],G[2]*a.pixelsPerMeter];e.scale$2(Z,Z,1/a.worldSize);const V=e.lngFromMercatorX(Z[0]),W=e.latFromMercatorY(Z[1]),X=Math.min(a._zoomFromMercatorZ(Z[2]),l.maxZoom),q=new e.LngLat(V,W);return a.mercatorFromTransition&&X<.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(a.setProjection({name:"globe"}),a.zoom=X,this._cameraForBounds(a,i,o,r,n,s)):{center:q,zoom:X,bearing:r,pitch:n}}fitBounds(e,t,i){const o=this.cameraForBounds(e,t);return this._fitInternal(o,t,i)}fitScreenCoordinates(t,i,o,r,n){const s=e.pointGeometry.convert(t),a=e.pointGeometry.convert(i),l=new e.pointGeometry(Math.min(s.x,a.x),Math.min(s.y,a.y)),c=new e.pointGeometry(Math.max(s.x,a.x),Math.max(s.y,a.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(s,a))return this;const h=this.transform.pointLocation3D(l),u=this.transform.pointLocation3D(c),d=this.transform.pointLocation3D(new e.pointGeometry(l.x,c.y)),_=this.transform.pointLocation3D(new e.pointGeometry(c.x,l.y)),p=[Math.min(h.lng,u.lng,d.lng,_.lng),Math.min(h.lat,u.lat,d.lat,_.lat)],m=[Math.max(h.lng,u.lng,d.lng,_.lng),Math.max(h.lat,u.lat,d.lat,_.lat)],f=r&&r.pitch?r.pitch:this.getPitch(),g=this._cameraForBounds(this.transform,p,m,o,f,r);return this._fitInternal(g,r,n)}_fitInternal(t,i,o){return t?(delete(i=e.extend(t,i)).padding,i.linear?this.easeTo(i,o):this.flyTo(i,o)):this}jumpTo(t,i){this.stop();const o=t.preloadOnly?this.transform.clone():this.transform;let r=!1,n=!1,s=!1;return"zoom"in t&&o.zoom!==+t.zoom&&(r=!0,o.zoom=+t.zoom),void 0!==t.center&&(o.center=e.LngLat.convert(t.center)),"bearing"in t&&o.bearing!==+t.bearing&&(n=!0,o.bearing=+t.bearing),"pitch"in t&&o.pitch!==+t.pitch&&(s=!0,o.pitch=+t.pitch),null==t.padding||o.isPaddingEqual(t.padding)||(o.padding=t.padding),t.preloadOnly?(this._preloadTiles(o),this):(this.fire(new e.Event("movestart",i)).fire(new e.Event("move",i)),r&&this.fire(new e.Event("zoomstart",i)).fire(new e.Event("zoom",i)).fire(new e.Event("zoomend",i)),n&&this.fire(new e.Event("rotatestart",i)).fire(new e.Event("rotate",i)).fire(new e.Event("rotateend",i)),s&&this.fire(new e.Event("pitchstart",i)).fire(new e.Event("pitch",i)).fire(new e.Event("pitchend",i)),this.fire(new e.Event("moveend",i)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||e.warnOnce(Hr),this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,i){const o=this.transform;if(!o.projection.supportsFreeCamera)return e.warnOnce(Hr),this;this.stop();const r=o.zoom,n=o.pitch,s=o.bearing;o.setFreeCameraOptions(t);const a=r!==o.zoom,l=n!==o.pitch,c=s!==o.bearing;return this.fire(new e.Event("movestart",i)).fire(new e.Event("move",i)),a&&this.fire(new e.Event("zoomstart",i)).fire(new e.Event("zoom",i)).fire(new e.Event("zoomend",i)),c&&this.fire(new e.Event("rotatestart",i)).fire(new e.Event("rotate",i)).fire(new e.Event("rotateend",i)),l&&this.fire(new e.Event("pitchstart",i)).fire(new e.Event("pitch",i)).fire(new e.Event("pitchend",i)),this.fire(new e.Event("moveend",i)),this}easeTo(t,i){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const o=this.transform,r=this.getZoom(),n=this.getBearing(),s=this.getPitch(),a=this.getPadding(),l="zoom"in t?+t.zoom:r,c="bearing"in t?this._normalizeBearing(t.bearing,n):n,h="pitch"in t?+t.pitch:s,u="padding"in t?t.padding:o.padding,d=e.pointGeometry.convert(t.offset);let _,p,m;if("globe"===o.projection.name){const i=e.MercatorCoordinate.fromLngLat(o.center),r=d.rotate(-o.angle);i.x+=r.x/o.worldSize,i.y+=r.y/o.worldSize;const n=i.toLngLat(),s=e.LngLat.convert(t.center||n);this._normalizeCenter(s),_=o.centerPoint.add(r),p=new e.pointGeometry(i.x,i.y).mult(o.worldSize),m=new e.pointGeometry(e.mercatorXfromLng(s.lng),e.mercatorYfromLat(s.lat)).mult(o.worldSize).sub(p)}else{_=o.centerPoint.add(d);const i=o.pointLocation(_),r=e.LngLat.convert(t.center||i);this._normalizeCenter(r),p=o.project(i),m=o.project(r).sub(p)}const f=o.zoomScale(l-r);let g,y;t.around&&(g=e.LngLat.convert(t.around),y=o.locationPoint(g));const v=this._zooming||l!==r,x=this._rotating||n!==c,b=this._pitching||h!==s,w=!o.isPaddingEqual(u),T=o=>T=>{if(v&&(o.zoom=e.number(r,l,T)),x&&(o.bearing=e.number(n,c,T)),b&&(o.pitch=e.number(s,h,T)),w&&(o.interpolatePadding(a,u,T),_=o.centerPoint.add(d)),g)o.setLocationAtPoint(g,y);else{const e=o.zoomScale(o.zoom-r),t=l>r?Math.min(2,f):Math.max(.5,f),i=Math.pow(t,1-T),n=o.unproject(p.add(m.mult(T*i)).mult(e));o.setLocationAtPoint(o.renderWorldCopies?n.wrap():n,_)}return t.preloadOnly||this._fireMoveEvents(i),o};if(t.preloadOnly){const e=this._emulate(T,t.duration,o);return this._preloadTiles(e),this}const E={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=v,this._rotating=x,this._pitching=b,this._padding=w,this._easeId=t.easeId,this._prepareEase(i,t.noMoveStart,E),this._ease(T(o),(e=>{o.recenterOnTerrain(),this._afterEase(i,e)}),t),this}_prepareEase(t,i,o={}){this._moving=!0,this.transform.cameraElevationReference="sea",i||o.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!o.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!o.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!o.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,i){if(this._easeId&&i&&this._easeId===i)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const o=this._zooming,r=this._rotating,n=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,o&&this.fire(new e.Event("zoomend",t)),r&&this.fire(new e.Event("rotateend",t)),n&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,i){if(!t.essential&&e.exported.prefersReducedMotion){const o=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(o,i)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const o=this.transform,r=this.getZoom(),n=this.getBearing(),s=this.getPitch(),a=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):r,c="bearing"in t?this._normalizeBearing(t.bearing,n):n,h="pitch"in t?+t.pitch:s,u="padding"in t?t.padding:o.padding,d=o.zoomScale(l-r),_=e.pointGeometry.convert(t.offset);let p=o.centerPoint.add(_);const m=o.pointLocation(p),f=e.LngLat.convert(t.center||m);this._normalizeCenter(f);const g=o.project(m),y=o.project(f).sub(g);let v=t.curve;const x=Math.max(o.width,o.height),b=x/d,w=y.mag();if("minZoom"in t){const i=e.clamp(Math.min(t.minZoom,r,l),o.minZoom,o.maxZoom),n=x/o.zoomScale(i-r);v=Math.sqrt(n/w*2)}const T=v*v;function E(e){const t=(b*b-x*x+(e?-1:1)*T*T*w*w)/(2*(e?b:x)*T*w);return Math.log(Math.sqrt(t*t+1)-t)}function C(e){return(Math.exp(e)-Math.exp(-e))/2}function M(e){return(Math.exp(e)+Math.exp(-e))/2}const I=E(0);let S=function(e){return M(I)/M(I+v*e)},D=function(e){return x*((M(I)*(C(t=I+v*e)/M(t))-C(I))/T)/w;var t},z=(E(1)-I)/v;if(Math.abs(w)<1e-6||!isFinite(z)){if(Math.abs(x-b)<1e-6)return this.easeTo(t,i);const e=b<x?-1:1;z=Math.abs(Math.log(b/x))/v,D=function(){return 0},S=function(t){return Math.exp(e*v*t)}}t.duration="duration"in t?+t.duration:1e3*z/("screenSpeed"in t?+t.screenSpeed/v:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);const L=n!==c,P=h!==s,A=!o.isPaddingEqual(u),R=o=>d=>{const m=d*z,v=1/S(m);o.zoom=1===d?l:r+o.scaleZoom(v),L&&(o.bearing=e.number(n,c,d)),P&&(o.pitch=e.number(s,h,d)),A&&(o.interpolatePadding(a,u,d),p=o.centerPoint.add(_));const x=1===d?f:o.unproject(g.add(y.mult(D(m))).mult(v));return o.setLocationAtPoint(o.renderWorldCopies?x.wrap():x,p),o._updateCameraOnTerrain(),t.preloadOnly||this._fireMoveEvents(i),o};if(t.preloadOnly){const e=this._emulate(R,t.duration,o);return this._preloadTiles(e),this}return this._zooming=!0,this._rotating=L,this._pitching=P,this._padding=A,this._prepareEase(i,!1),this._ease(R(o),(()=>this._afterEase(i)),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,i,o){!1===o.animate||0===o.duration?(t(1),i()):(this._easeStart=e.exported.now(),this._easeOptions=o,this._onEaseFrame=t,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),i=this._onEaseFrame;i&&i(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,i){t=e.wrap(t,-180,180);const o=Math.abs(t-i);return Math.abs(t-360-i)<o&&(t-=360),Math.abs(t+360-i)<o&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.maxBounds)return;const i=e.lng-t.center.lng;e.lng+=i>180?-360:i<-180?360:0}_emulate(e,t,i){const o=Math.ceil(15*t/1e3),r=[],n=e(i.clone());for(let e=0;e<=o;e++){const t=n(e/o);r.push(t.clone())}return r}}class Jr{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=n("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n("button","mapboxgl-ctrl-attrib-button",this._container),n("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const i=this._map._getUIString(`AttributionControl.${t}`);e.setAttribute("aria-label",i),e.removeAttribute("title"),e.firstElementChild&&e.firstElementChild.setAttribute("title",i)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));const i=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){const o=i.reduce(((e,t,o)=>(t.value&&(e+=`${t.key}=${t.value}${o<i.length-1?"&":""}`),e)),"?");t.href=`${e.config.FEEDBACK_URL}/${o}#${er(this._map,!0)}`,t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style._sourceCaches;for(const i in t){const o=t[i];if(o.used){const t=o.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,i)=>{for(let o=i+1;o<e.length;o++)if(e[o].indexOf(t)>=0)return!1;return!0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const i=e.join(" | ");i!==this._attribHTML&&(this._attribHTML=i,e.length?(this._innerContainer.innerHTML=i,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Kr{constructor(){e.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(e){this._map=e,this._container=n("div","mapboxgl-ctrl");const t=n("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(const t in e){const i=e[t].getSource();if(i.hasOwnProperty("mapbox_logo")&&!i.mapbox_logo)return!1}return!0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}class Qr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,i=t?this._queue.concat(t):this._queue;for(const t of i)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const i of t)if(!i.cancelled&&(i.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function en(t,i,o){if(t=new e.LngLat(t.lng,t.lat),i){const r=new e.LngLat(t.lng-360,t.lat),n=new e.LngLat(t.lng+360,t.lat),s=360*Math.ceil(Math.abs(t.lng-o.center.lng)/360),a=o.locationPoint(t).distSqr(i),l=i.x<0||i.y<0||i.x>o.width||i.y>o.height;o.locationPoint(r).distSqr(i)<a&&(l||Math.abs(r.lng-o.center.lng)<s)?t=r:o.locationPoint(n).distSqr(i)<a&&(l||Math.abs(n.lng-o.center.lng)<s)&&(t=n)}for(;Math.abs(t.lng-o.center.lng)>180;){const e=o.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=o.width&&e.y<=o.height)break;t.lng>o.center.lng?t.lng-=360:t.lng+=360}return t}const tn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class on extends e.Evented{constructor(t,i){if(super(),(t instanceof e.window.HTMLElement||i)&&(t=e.extend({element:t},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=t&&t.occludedOpacity||.2,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=n("div");const i=41,o=27,r=s("svg",{display:"block",height:i*this._scale+"px",width:o*this._scale+"px",viewBox:`0 0 ${o} ${i}`},this._element),a=s("radialGradient",{id:"shadowGradient"},s("defs",{},r));s("stop",{offset:"10%","stop-opacity":.4},a),s("stop",{offset:"100%","stop-opacity":.05},a),s("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},r),s("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},r),s("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},r),s("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},r),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(e=>{e.preventDefault()})),this._element.addEventListener("mousedown",(e=>{e.preventDefault()}));const o=this._element.classList;for(const e in tn)o.remove(`mapboxgl-marker-anchor-${e}`);o.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._updateMoving),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on("click",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off("click",this._onMapClick),e.off("move",this._updateMoving),e.off("moveend",this._update),e.off("mousedown",this._addDragHandler),e.off("touchstart",this._addDragHandler),e.off("mouseup",this._onUp),e.off("touchend",this._onUp),e.off("mousemove",this._onMove),e.off("touchmove",this._onMove),e.off("remove",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,i=13.5,o=Math.sqrt(Math.pow(i,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[o,-1*(t-i+o)],"bottom-right":[-o,-1*(t-i+o)],left:[i,-1*(t-i)],right:[-i,-1*(t-i)]}:this._offset}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(e){const t=e.code,i=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==i&&13!==i||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,i=this._element;this._popup&&(t===i||i.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const e=this._map,t=this._pos;if(!e||!t)return!1;const i=e.unproject(t),o=e.getFreeCameraOptions();if(!o.position)return!1;const r=o.position.toLngLat();return r.distanceTo(i)<.9*r.distanceTo(this._lngLat)}_evaluateOpacity(){const t=this._map;if(!t)return;const i=this._pos;if(!i||i.x<0||i.x>t.transform.width||i.y<0||i.y>t.transform.height)return void this._clearFadeTimer();const o=t.unproject(i);let r;t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?r=0:(r=1-t._queryFogOpacity(o),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(r*=this._occludedOpacity)),this._element.style.opacity=`${r}`,this._element.style.pointerEvents=r>0?"auto":"none",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${e.x}px,${e.y}px)\n            ${tn[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${t.x}px,${t.y}px)\n        `}_calculateXYTransform(){const t=this._pos,i=this._map,o=this.getPitchAlignment();if(!i||!t||"map"!==o)return"";if(!i._showingGlobe()){const e=i.getPitch();return e?`rotateX(${e}deg)`:""}const r=e.radToDeg(e.globeTiltAtLngLat(i.transform,this._lngLat)),n=t.sub(e.globeCenterToScreenPoint(i.transform)),s=Math.abs(n.x)+Math.abs(n.y);if(0===s)return"";const a=r/s;return`rotateX(${-n.y*a}deg) rotateY(${n.x*a}deg)`}_calculateZTransform(){const t=this._pos,i=this._map;if(!i||!t)return"";let o=0;const r=this.getRotationAlignment();if("map"===r)if(i._showingGlobe()){const t=i.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),r=i.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(t);o=e.radToDeg(Math.atan2(r.y,r.x))-90}else o=-i.getBearing();else if("horizon"===r){const r=e.smoothstep(4,6,i.getZoom()),n=e.globeCenterToScreenPoint(i.transform);n.y+=r*i.transform.height;const s=t.sub(n),a=e.radToDeg(Math.atan2(s.y,s.x));o=(a>90?a-270:a+90)*(1-r)}return o+=this._rotation,o?`rotateZ(${o}deg)`:""}_update(t){e.window.cancelAnimationFrame(this._updateFrameId);const i=this._map;i&&(i.transform.renderWorldCopies&&(this._lngLat=en(this._lngLat,this._pos,i.transform)),this._pos=i.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())})):this._pos=this._pos.round(),i._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(i._showingGlobe()||i.getTerrain()||i.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})))}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){const i=this._map;if(!i)return;const o=this._pointerdownPos,r=this._positionDelta;if(o&&r){if(!this._isDragging){const e=this._clickTolerance||i._clickTolerance;if(t.point.dist(o)<e)return;this._isDragging=!0}this._pos=t.point.sub(r),this._lngLat=i.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const t=this._map;t&&(t.off("mousemove",this._onMove),t.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){const t=this._map,i=this._pos;t&&i&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(i),this._pointerdownPos=e.point,this._state="pending",t.on("mousemove",this._onMove),t.on("touchmove",this._onMove),t.once("mouseup",this._onUp),t.once("touchend",this._onUp))}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on("mousedown",this._addDragHandler),t.on("touchstart",this._addDragHandler)):(t.off("mousedown",this._addDragHandler),t.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(e){return this._occludedOpacity=e||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const rn={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},nn=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function sn(t=new e.pointGeometry(0,0),i="bottom"){if("number"==typeof t){const o=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(i){case"top":return new e.pointGeometry(0,t);case"top-left":return new e.pointGeometry(o,o);case"top-right":return new e.pointGeometry(-o,o);case"bottom":return new e.pointGeometry(0,-t);case"bottom-left":return new e.pointGeometry(o,-o);case"bottom-right":return new e.pointGeometry(-o,-o);case"left":return new e.pointGeometry(t,0);case"right":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[i]||[0,0])}class an{constructor(e){this.jumpTo(e)}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const i=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-i)+this._end*i}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}easeTo(e,t,i){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+i}}const ln={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use  + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},cn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};class hn extends Yr{constructor(t){if(e.LivePerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},cn,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Jo(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._interactive=t.interactive,this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._useWebGL2=t.useWebGL2,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._collectResourceTiming=t.collectResourceTiming,this._optimizeForTerrain=t.optimizeForTerrain,this._language=this._parseLanguage(t.language),this._worldview=t.worldview,this._renderTaskQueue=new Qr,this._domRenderTaskQueue=new Qr,this._controls=[],this._markers=[],this._popups=[],this._mapId=e.uniqueId(),this._locale=e.extend({},ln,t.locale),this._clickTolerance=t.clickTolerance,this._cooperativeGestures=t.cooperativeGestures,this._performanceMetricsCollection=t.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new an(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),this._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(this._container.childNodes.length>0&&e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new $r(this,t),this._localFontFamily=t.localFontFamily,this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),t.projection&&this.setProjection(t.projection),this._hash=t.hash&&new Qo("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),t.attributionControl&&this.addControl(new Jr({customAttribution:t.customAttribution})),this._logoControl=new Kr,this.addControl(this._logoControl,t.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(t=>{this._update("style"===t.dataType),this.fire(new e.Event(`${t.dataType}data`,t))})),this.on("dataloading",(t=>{this.fire(new e.Event(`${t.dataType}dataloading`,t))}))}_getMapId(){return this._mapId}addControl(t,i){if(void 0===i&&(i=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const o=t.onAdd(this);this._controls.push(t);const r=this._controlPositions[i];return-1!==i.indexOf("bottom")?r.insertBefore(o,r.firstChild):r.appendChild(o),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(t);return i>-1&&this._controls.splice(i,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const i=!this._moving;return i&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),i&&this.fire(new e.Event("moveend",t)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(t){return"auto"===t?e.window.navigator.language:Array.isArray(t)?0===t.length?void 0:t.map((t=>"auto"===t?e.window.navigator.language:t)):t}setLanguage(e){const t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style._reloadSources();for(const e of this._controls)e._setLanguage&&e._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?"string"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const t=this.transform,i=t.projection.name;let o;"globe"===i&&t.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(t.setMercatorFromTransition(),o=!0):"mercator"===i&&t.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(t.setProjection({name:"globe"}),o=!0),o&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:"mercator"})}_updateProjection(t){let i;if(i="globe"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),i){this.painter.clearBackgroundTiles();for(const e in this.style._sourceCaches)this.style._sourceCaches[e].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(e,t,i){if("mouseenter"===e||"mouseover"===e){let o=!1;const r=r=>{const n=t.filter((e=>this.getLayer(e))),s=n.length?this.queryRenderedFeatures(r.point,{layers:n}):[];s.length?o||(o=!0,i.call(this,new cr(e,this,r.originalEvent,{features:s}))):o=!1},n=()=>{o=!1};return{layers:new Set(t),listener:i,delegates:{mousemove:r,mouseout:n}}}if("mouseleave"===e||"mouseout"===e){let o=!1;const r=r=>{const n=t.filter((e=>this.getLayer(e)));(n.length?this.queryRenderedFeatures(r.point,{layers:n}):[]).length?o=!0:o&&(o=!1,i.call(this,new cr(e,this,r.originalEvent)))},n=t=>{o&&(o=!1,i.call(this,new cr(e,this,t.originalEvent)))};return{layers:new Set(t),listener:i,delegates:{mousemove:r,mouseout:n}}}{const o=e=>{const o=t.filter((e=>this.getLayer(e))),r=o.length?this.queryRenderedFeatures(e.point,{layers:o}):[];r.length&&(e.features=r,i.call(this,e),delete e.features)};return{layers:new Set(t),listener:i,delegates:{[e]:o}}}}on(e,t,i){if(void 0===i)return super.on(e,t);Array.isArray(t)||(t=[t]);const o=this._createDelegatedListener(e,t,i);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(o);for(const e in o.delegates)this.on(e,o.delegates[e]);return this}once(e,t,i){if(void 0===i)return super.once(e,t);Array.isArray(t)||(t=[t]);const o=this._createDelegatedListener(e,t,i);for(const e in o.delegates)this.once(e,o.delegates[e]);return this}off(e,t,i){if(void 0===i)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);const o=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0},r=this._delegatedListeners?this._delegatedListeners[e]:void 0;return r&&(e=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.listener===i&&o(n.layers,t)){for(const e in n.delegates)this.off(e,n.delegates[e]);return e.splice(r,1),this}}})(r),this}queryRenderedFeatures(t,i){return this.style?(void 0!==i||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(i=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],i=i||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,i){return!1!==(i=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&i.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._localFontFamily=i.localFontFamily,this._updateStyle(t,i))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new Qt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Qt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,i){if("string"==typeof t){const o=this._requestManager.normalizeStyleURL(t),r=this._requestManager.transformRequest(o,e.ResourceType.Style);e.getJSON(r,((t,o)=>{t?this.fire(new e.ErrorEvent(t)):o&&this._updateDiff(o,i)}))}else"object"==typeof t&&this._updateDiff(t,i)}_updateDiff(t,i){try{this.style.setState(t)&&this._update(!0)}catch(o){e.warnOnce(`Unable to perform style diff: ${o.message||o.error||o}.  Rebuilding the style from scratch.`),this._updateStyle(t,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(e.warnOnce("There is no style added to the map."),!1)}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){return!!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const i=e[t]._tiles;for(const e in i){const t=i[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,i){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,i)}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,i,{pixelRatio:o=1,sdf:r=!1,stretchX:n,stretchY:s,content:a}={}){if(this._lazyInitEmptyStyle(),i instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&i instanceof e.window.ImageBitmap){const{width:l,height:c,data:h}=e.exported.getImageData(i);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},h),pixelRatio:o,stretchX:n,stretchY:s,content:a,sdf:r,version:0})}else if(void 0===i.width||void 0===i.height)this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:l,height:c}=i,h=i;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(h.data)),pixelRatio:o,stretchX:n,stretchY:s,content:a,sdf:r,version:0,userImage:h}),h.onAdd&&h.onAdd(this,t)}}updateImage(t,i){const o=this.style.getImage(t);if(!o)return void this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=i instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&i instanceof e.window.ImageBitmap?e.exported.getImageData(i):i,{width:n,height:s}=r;void 0!==n&&void 0!==s?n===o.data.width&&s===o.data.height?(o.data.replace(r.data,!(i instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&i instanceof e.window.ImageBitmap)),this.style.updateImage(t,o)):this.fire(new e.ErrorEvent(new Error(`The width and height of the updated image (${n}, ${s})\n                must be that same as the previous version of the image\n                (${o.data.width}, ${o.data.height})`))):this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,i){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),((t,o)=>{i(t,o instanceof e.window.HTMLImageElement?e.exported.getImageData(o):o)}))}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,i){return this.style.setLayerZoomRange(e,t,i),this._update(!0)}setFilter(e,t,i={}){return this.style.setFilter(e,t,i),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,i,o={}){return this.style.setPaintProperty(e,t,i,o),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,i,o={}){return this.style.setLayoutProperty(e,t,i,o),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}_updateContainerDimensions(){if(!this._container)return;const t=this._container.getBoundingClientRect().width||400,i=this._container.getBoundingClientRect().height||300;let o,r,n,s=this._container;for(;s&&(!r||!n);){const t=e.window.getComputedStyle(s).transform;t&&"none"!==t&&(o=t.match(/matrix.*\((.+)\)/)[1].split(", "),o[0]&&"0"!==o[0]&&"1"!==o[0]&&(r=o[0]),o[3]&&"0"!==o[3]&&"1"!==o[3]&&(n=o[3])),s=s.parentElement}this._containerWidth=r?Math.abs(t/r):t,this._containerHeight=n?Math.abs(i/n):i}_detectMissingCSS(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=n("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();const t=this._canvasContainer=n("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=n("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const i=this._controlContainer=n("div","mapboxgl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((e=>{o[e]=n("div",`mapboxgl-ctrl-${e}`,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(t,i){const o=e.exported.devicePixelRatio||1;this._canvas.width=o*Math.ceil(t),this._canvas.height=o*Math.ceil(i),this._canvas.style.width=`${t}px`,this._canvas.style.height=`${i}px`}_addMarker(e){this._markers.push(e)}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}_addPopup(e){this._popups.push(e)}_removePopup(e){const t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1)}_setupPainter(){const t=e.extend({},i.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),o=this._useWebGL2&&this._canvas.getContext("webgl2",t),r=o||this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);r?(this._useWebGL2&&!o&&e.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),e.storeAuthState(r,!0),this.painter=new Bo(r,this.transform,!!o),this.on("data",(e=>{"source"===e.dataType&&this.painter.setTileLoadedFlag(!0)})),e.exported$1.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}_render(t){let i;const o=this.painter.context.extTimerQuery,r=e.exported.now();if(this.listens("gpu-timing-frame")&&(i=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,i)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],e.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],e.window.performance.now())),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),this._removed)return;this._updateProjectionTransition();const n=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,i=this.transform.pitch,o=e.exported.now(),r=new e.EvaluationParameters(t,{now:o,fadeDuration:n,pitch:i,transition:this.style.getTransition()});this.style.update(r)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let s=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),s=this._updateAverageElevation(r),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):s=this._updateAverageElevation(r),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,n,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:n,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),i){const t=e.exported.now()-r;o.endQueryEXT(o.TIME_ELAPSED_EXT,i),setTimeout((()=>{const n=o.getQueryObjectEXT(i,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(i),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:n})),e.window.performance.mark("frame-gpu",{startTime:r,detail:{gpuTime:n}})}),50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout((()=>{const i=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:i}))}),50)}if(this.listens("gpu-timing-deferred-render")){const t=this.painter.collectDeferredRenderGpuQueries();setTimeout((()=>{const i=this.painter.queryGpuTimeDeferredRender(t);this.fire(new e.Event("gpu-timing-deferred-render",{gpuTime:i}))}),50)}const a=this._sourcesDirty||this._styleDirty||this._placementDirty||s;if(a||this._repaint)this.triggerRepaint();else{const t=!this.isMoving()&&this.loaded();if(t&&(s=this._updateAverageElevation(r,!0)),s)this.triggerRepaint();else if(this._triggerFrame(!1),t&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:t})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||a||(this._fullyLoaded=!0,e.LivePerformanceUtils.mark(e.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&e.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(e){for(const t of this._markers)e&&!this.getRenderWorldCopies()&&(t._lngLat=t._lngLat.wrap()),t._update();for(const t of this._popups)!e||this.getRenderWorldCopies()||t._trackPointer||(t._lngLat=t._lngLat.wrap()),t._update()}_updateAverageElevation(e,t=!1){const i=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&i(0);if((t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let o=this.transform.sampleAverageElevation(),r=!1;this.transform.elevation&&(r=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(o)?o=0:this._averageElevationLastSampledAt=e;const n=Math.abs(t-o);if(n>1){if(this._isInitialLoad||r)return this._averageElevation.jumpTo(o),i(o);this._averageElevation.easeTo(o,e,300)}else if(n>1e-4)return this._averageElevation.jumpTo(o),i(o)}return!!this._averageElevation.isEasing(e)&&i(this._averageElevation.getValue(e))}_authenticate(){e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(t=>{if(t&&(t.message===e.AUTH_ERR_MSG||401===t.status)){const t=this.painter.context.gl;e.storeAuthState(t,!1),this._logoControl instanceof Kr&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}))}_updateTerrain(){const e=this._isDragging();this.painter.updateTerrain(this.style,e)}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const i=this.painter.context.gl,o=i.createFramebuffer();function r(e){i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0);const t=new Uint8Array(i.drawingBufferWidth*i.drawingBufferHeight*4);return i.readPixels(0,0,i.drawingBufferWidth,i.drawingBufferHeight,i.RGBA,i.UNSIGNED_BYTE,t),t}return i.bindFramebuffer(i.FRAMEBUFFER,o),this._canvasPixelComparison(r(e),t.canvasCopies.map(r),t.timeStamps)}_canvasPixelComparison(e,t,i){let o=i[1]-i[0];const r=e.length/4;for(let n=0;n<t.length;n++){const s=t[n];let a=0;for(let t=0;t<s.length;t+=4)s[t]===e[t]&&s[t+1]===e[t+1]&&s[t+2]===e[t+2]&&s[t+3]===e[t+3]&&(a+=1);o+=(i[n+2]-i[n+1])*(1-a/r)}return o}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1),e.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame((e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e)})))}_preloadTiles(t){const i=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(i,((e,i)=>e._preloadTiles(t,i)),(()=>{this.triggerRepaint()})),this}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}_onVisibilityChange(){"hidden"===e.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update())}_setCacheLimits(t,i){e.setCacheLimits(t,i)}get version(){return e.version}}const un={showCompass:!0,showZoom:!0,visualizePitch:!1};class dn{constructor(t,i,o=!1){this._clickTolerance=10,this.element=i,this.mouseRotate=new wr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,o&&(this.mousePitch=new Tr({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),i.addEventListener("mousedown",this.mousedown),i.addEventListener("touchstart",this.touchstart,{passive:!1}),i.addEventListener("touchmove",this.touchmove),i.addEventListener("touchend",this.touchend),i.addEventListener("touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),h()}move(e,t){const i=this.map,o=this.mouseRotate.mousemoveWindow(e,t),r=o&&o.bearingDelta;if(r&&i.setBearing(i.getBearing()+r),this.mousePitch){const o=this.mousePitch.mousemoveWindow(e,t),r=o&&o.pitchDelta;r&&i.setPitch(i.getPitch()+r)}}off(){const e=this.element;e.removeEventListener("mousedown",this.mousedown),e.removeEventListener("touchstart",this.touchstart,{passive:!1}),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){u(),e.window.removeEventListener("mousemove",this.mousemove),e.window.removeEventListener("mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),p(this.element,t)),e.window.addEventListener("mousemove",this.mousemove),e.window.addEventListener("mouseup",this.mouseup)}mousemove(e){this.move(e,p(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=m(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=m(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const _n={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},pn={maxWidth:100,unit:"metric"};function mn(e,t,i){const o=fn(t),r=o/t,n={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[i];this._map._requestDomTask((()=>{this._container.style.width=e*r+"px",this._container.innerHTML=`${o}&nbsp;${n}`}))}function fn(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let i=e/t;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(i),t*i}const gn={version:e.version,supported:i,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:hn,NavigationControl:class{constructor(t){this.options=e.extend({},un,t),this._container=n("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(e=>{this._map&&this._map.zoomIn({},{originalEvent:e})})),n("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(e=>{this._map&&this._map.zoomOut({},{originalEvent:e})})),n("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}))})),this._compassIcon=n("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),i=t===e.getMaxZoom(),o=t===e.getMinZoom();this._zoomInButton.disabled=i,this._zoomOutButton.disabled=o,this._zoomInButton.setAttribute("aria-disabled",i.toString()),this._zoomOutButton.setAttribute("aria-disabled",o.toString())}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${e.transform.pitch}deg) rotateZ(${e.transform.angle*(180/Math.PI)}deg)`:`rotate(${e.transform.angle*(180/Math.PI)}deg)`;e._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=t)}))}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&e.on("pitch",this._rotateCompassArrow),e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new dn(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off("pitch",this._rotateCompassArrow),e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(e,t){const i=n("button",e,this._container);return i.type="button",i.addEventListener("click",t),i}_setButtonTitle(e,t){if(!this._map)return;const i=this._map._getUIString(`NavigationControl.${t}`);e.setAttribute("aria-label",i),e.firstElementChild&&e.firstElementChild.setAttribute("title",i)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({geolocation:e.window.navigator.geolocation},_n,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Ko(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(e){return this._map=e,this._container=n("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(t){const i=(e=!!this.options.geolocation)=>{this._supportsGeolocation=e,t(e)};void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((e=>i("denied"!==e.state))).catch((()=>i())):i()}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),i=e.coords;return!!t&&(i.longitude<t.getWest()||i.longitude>t.getEast()||i.latitude<t.getSouth()||i.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const i=new e.LngLat(t.coords.longitude,t.coords.latitude),o=t.coords.accuracy,r=this._map.getBearing(),n=e.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(o),n,{geolocateSource:!0})}_updateMarker(t){if(t){const i=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const t=this._map.transform,i=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,o=Math.ceil(2*this._accuracy*i);this._circleElement.style.width=`${o}px`,this._circleElement.style.height=`${o}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(void 0!==this._map){if(this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this._geolocateButton=n("button","mapboxgl-ctrl-geolocate",this._container),n("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n("div","mapboxgl-user-location"),this._dotElement.appendChild(n("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(n("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new on({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=n("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new on({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))}))}}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const t=()=>{e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((e=>{"granted"===e&&t()})).catch(console.error):t()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Jr,ScaleControl:class{constructor(t){this.options=e.extend({},pn,t),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch(e){return!1}}()||(this._setScale=mn.bind(this)),e.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const e=this.options.maxWidth||100,t=this._map,i=t._containerHeight/2,o=t._containerWidth/2-e/2,r=t.unproject([o,i]),n=t.unproject([o+e,i]),s=r.distanceTo(n);if("imperial"===this.options.unit){const t=3.2808*s;t>5280?this._setScale(e,t/5280,"mile"):this._setScale(e,t,"foot")}else"nautical"===this.options.unit?this._setScale(e,s/1852,"nautical-mile"):s>=1e3?this._setScale(e,s/1e3,"kilometer"):this._setScale(e,s,"meter")}_setScale(e,t,i){const o=fn(t),r=o/t;this._map._requestDomTask((()=>{this._container.style.width=e*r+"px",this._container.innerHTML="nautical-mile"!==i?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:i}).format(o):`${o}&nbsp;nm`}))}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=n("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(e){this._language=e,this._update()}setUnit(e){this.options.unit=e,this._update()}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=n("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}_setupUI(){const t=this._fullscreenButton=n("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(rn),t),e.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[])}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on("preclick",this._onClose),this.options.closeOnMove&&t.on("move",this._onClose),t.on("remove",this.remove),this._update(),t._addPopup(this),this._focusFirstElement(),this._trackPointer?(t.on("mousemove",this._onMouseEvent),t.on("mouseup",this._onMouseEvent),t._canvasContainer.classList.add("mapboxgl-track-pointer")):t.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const t=this._map;return t&&(t.off("move",this._update),t.off("move",this._onClose),t.off("preclick",this._onClose),t.off("click",this._onClose),t.off("remove",this.remove),t.off("mousemove",this._onMouseEvent),t.off("mouseup",this._onMouseEvent),t.off("drag",this._onMouseEvent),t._canvasContainer&&t._canvasContainer.classList.remove("mapboxgl-track-pointer"),t._removePopup(this),this._map=void 0),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();const i=this._map;return i&&(i.on("move",this._update),i.off("mousemove",this._onMouseEvent),i._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off("move",this._update),e.on("mousemove",this._onMouseEvent),e.on("drag",this._onMouseEvent),e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(t){return this.setDOMContent(e.window.document.createTextNode(t))}setHTML(t){const i=e.window.document.createDocumentFragment(),o=e.window.document.createElement("body");let r;for(o.innerHTML=t;r=o.firstChild,r;)i.appendChild(r);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=n("div","mapboxgl-popup-content",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=n("button","mapboxgl-popup-close-button",t);e.type="button",e.setAttribute("aria-label","Close popup"),e.setAttribute("aria-hidden","true"),e.innerHTML="&#215;",e.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point)}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,i=this._container,o=this._pos;if(!t||!i||!o)return"bottom";const r=i.offsetWidth,n=i.offsetHeight,s=o.x<r/2,a=o.x>t.transform.width-r/2;if(o.y+e<n)return s?"top-left":a?"top-right":"top";if(o.y>t.transform.height-n){if(s)return"bottom-left";if(a)return"bottom-right"}return s?"left":a?"right":"bottom"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push("mapboxgl-popup"),this._anchor&&t.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),e.className=t.join(" ")}_update(t){const i=this._map,o=this._content;if(!i||!this._lngLat&&!this._trackPointer||!o)return;let r=this._container;if(r||(r=this._container=n("div","mapboxgl-popup",i.getContainer()),this._tip=n("div","mapboxgl-popup-tip",r),r.appendChild(o)),this.options.maxWidth&&r.style.maxWidth!==this.options.maxWidth&&(r.style.maxWidth=this.options.maxWidth),i.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=en(this._lngLat,this._pos,i.transform)),!this._trackPointer||t){const e=this._pos=this._trackPointer&&t?t:i.project(this._lngLat),o=sn(this.options.offset),r=this._anchor=this._getAnchor(o.y),n=sn(this.options.offset,r),s=e.add(n).round();i._requestDomTask((()=>{this._container&&r&&(this._container.style.transform=`${tn[r]} translate(${s.x}px,${s.y}px)`)}))}if(!this._marker&&i._showingGlobe()){const t=e.isLngLatBehindGlobe(i.transform,this._lngLat)?0:1;this._setOpacity(t)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(nn);e&&e.focus()}_onClose(){this.remove()}_setOpacity(e){this._container&&(this._container.style.opacity=`${e}`),this._content&&(this._content.style.pointerEvents=e?"auto":"none")}},Marker:on,Style:Qt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:Zo,Evented:e.Evented,config:e.config,prewarm:function(){je().acquire(Ue)},clearPrewarmedResources:function(){const e=Ge;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Ue),Ge=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Ne.workerCount},set workerCount(e){Ne.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow},yn=function(e){const t=new RegExp("[?&]access_token=([^&#]*)","i").exec(window.location.href);return t&&t[1]}()||localStorage.getItem("accessToken")||"pk.eyJ1IjoibWFwYm94LWdsLWpzIiwiYSI6ImNram9ybGI1ajExYjQyeGxlemppb2pwYjIifQ.LGy5UGNIsXUZdYMvfYRiAQ";localStorage.setItem("accessToken",yn);class vn{constructor(){this._measureAsync=this._measureAsync.bind(this)}setup(){}bench(){}teardown(){}run(){return Promise.resolve(this.setup()).then((()=>this._begin())).catch((e=>{console.error(e)}))}_done(){return this._elapsed>=500&&this._measurements.length>210}_begin(){this._measurements=[],this._elapsed=0,this._iterationsPerMeasurement=1,this._start=performance.now();const e=this.bench();return e instanceof Promise?e.then(this._measureAsync):this._measureSync()}_measureSync(){for(;;){const e=performance.now()-this._start;if(this._elapsed+=e,e<5?this._iterationsPerMeasurement++:this._measurements.push({time:e,iterations:this._iterationsPerMeasurement}),this._done())break;this._start=performance.now();for(let e=this._iterationsPerMeasurement;e>0;--e)this.bench()}return this._end()}_measureAsync(){const e=performance.now()-this._start;return this._elapsed+=e,e<5?this._iterationsPerMeasurement++:this._measurements.push({time:e,iterations:this._iterationsPerMeasurement}),this._done()?this._end():(this._start=performance.now(),this._runAsync(this._iterationsPerMeasurement).then(this._measureAsync))}_runAsync(e){const t=this.bench();return 1===e?t:t.then((()=>this._runAsync(e-1)))}_end(){return Promise.resolve(this.teardown()).then((()=>this._measurements))}}const xn=new e.RequestManager;function bn(e){return"string"==typeof e?fetch(xn.normalizeStyleURL(e)).then((e=>e.json())):Promise.resolve(e)}const wn=new class extends e.Evented{constructor(){super(),this._requestManager=new e.RequestManager}};function Tn(e,t){return fetch(e.normalizeSourceURL(t)).then((e=>e.json()))}class En{constructor(t,i){this.styleJSON=t,this.sourceID=i,this.layerIndex=new e.StyleLayerIndex(Ve(this.styleJSON.layers)),this.glyphs={},this.icons={}}loadImages(e,t){const i=JSON.stringify(e);this.icons[i]?t(null,this.icons[i]):this.style.getImages("",e,((e,o)=>{this.icons[i]=o,t(e,o)}))}loadGlyphs(e,t){const i=JSON.stringify(e);this.glyphs[i]?t(null,this.glyphs[i]):this.style.getGlyphs("",e,((e,o)=>{this.glyphs[i]=o,t(e,o)}))}setup(){const e=this;return this.actor={send(t,i,o){setTimeout((()=>{"getImages"===t?e.loadImages(i,o):"getGlyphs"===t&&e.loadGlyphs(i,o)}),0)}},Promise.all([(t=this.styleJSON,new Promise(((e,i)=>{const o=new Qt(wn);o.loadJSON(t),o.on("style.load",(()=>e(o))).on("error",i)}))),Tn(wn._requestManager,this.styleJSON.sources[this.sourceID].url)]).then((([e,t])=>{this.style=e,this.tileJSON=t}));var t}fetchTile(e){return fetch(this.style.map._requestManager.normalizeTileURL(e.canonical.url(this.tileJSON.tiles))).then((e=>e.arrayBuffer())).then((t=>({tileID:e,buffer:t})))}parseTile(t,i){const o=new e.WorkerTile({tileID:t.tileID,tileZoom:t.tileID.overscaledZ,zoom:t.tileID.overscaledZ,tileSize:512,overscaling:1,showCollisionBoxes:!1,source:this.sourceID,uid:0,maxZoom:22,pixelRatio:1,request:{url:""},angle:0,pitch:0,cameraToCenterDistance:0,cameraToTileDistance:0,returnDependencies:i,promoteId:void 0,isSymbolTile:!1,projection:e.getProjection({name:"mercator"})}),r=new e.VectorTile(new e.pbf(t.buffer));return new Promise(((e,t)=>{o.parse(r,this.layerIndex,[],this.actor,((i,o)=>{i?t(i):e(o)}))}))}}class Cn extends vn{constructor(t,i){super(),this.style=t,this.tileIDs=i||[new e.OverscaledTileID(12,0,12,655,1583),new e.OverscaledTileID(8,0,8,40,98),new e.OverscaledTileID(4,0,4,3,6),new e.OverscaledTileID(0,0,0,0,0)]}setup(){return bn(this.style).then((e=>(this.parser=new En(e,"composite"),this.parser.setup()))).then((()=>Promise.all(this.tileIDs.map((e=>this.parser.fetchTile(e)))))).then((e=>(this.tiles=e,Promise.all(e.map((e=>this.parser.parseTile(e))))))).then((()=>{}))}bench(){let e=Promise.resolve();for(const t of this.tiles)e=e.then((()=>this.parser.parseTile(t).then((()=>{}))));return e}}function Mn(e){return new Promise(((t,i)=>{e&&(e.stubRender=null==e.stubRender||e.stubRender,e.showMap=null!=e.showMap&&e.showMap);const o=document.createElement("div");o.style.width=`${e.width||512}px`,o.style.height=`${e.height||512}px`,o.style.margin="0 auto",o.style.display="block",e.showMap||(o.style.visibility="hidden"),document.body.appendChild(o);const r=new hn(Object.assign({container:o,style:"mapbox://styles/mapbox/streets-v10"},e));r.on(e.idle?"idle":"load",(()=>{e.stubRender&&(r.triggerRepaint=()=>{},r._frame&&(r._frame.cancel(),r._frame=null)),t(r)})).on("error",(e=>i(e.error))).on("remove",(()=>o.remove()))}))}function In(e){return JSON.parse(JSON.stringify(e,((e,t)=>ArrayBuffer.isView(t)?{}:t))||"{}")}var Sn={version:8,name:"Empty",sources:{composite:{url:"mapbox://mapbox.mapbox-streets-v7",type:"vector"}},sprite:"mapbox://sprites/mapbox/light-v9",glyphs:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",layers:[]};function Dn(e){const t=[];for(let i=0;i<50;i++)t.push(Object.assign({},e,{id:e.id+i}));return t}function zn(e){const t=[];for(let i=0;i<50;i++)t.push(Object.assign({},e,{id:e.id+i}));return t}class Ln extends vn{constructor(e){super(),this.center=e}setup(){return fetch("/bench/data/naturalearth-land.json").then((e=>e.json())).then((e=>(this.numFeatures=e.features.length,Object.assign({},Sn,{sources:{land:{type:"geojson",data:e,maxzoom:23}},layers:zn({id:"layer",type:"fill",source:"land",paint:{"fill-color":["case",["boolean",["feature-state","bench"],!1],["rgb",21,210,210],["rgb",233,233,233]]}})})))).then((e=>Mn({zoom:4,width:1024,height:768,center:this.center,style:e}).then((e=>{this.map=e})).catch((e=>{console.error(e)}))))}bench(){this.map._styleDirty=!0,this.map._sourcesDirty=!0,this.map._render()}teardown(){this.map.remove()}}function Pn(e){const t=[];for(let i=0;i<50;i++)t.push(Object.assign({},e,{id:e.id+i}));return t}class An extends vn{setup(){return Mn({zoom:16,width:1024,height:768,center:[-77.032194,38.912753],style:this.layerStyle}).then((e=>{this.map=e})).catch((e=>{console.error(e)}))}bench(){this.map._render()}teardown(){this.map.remove()}}const Rn=[];for(let e=0;e<4;e++)for(let t=0;t<4;t++)Rn.push([e/4*1024,t/4*768]);function On(e){return"object"==typeof e?["literal",e]:e}function kn(e,t){let i=e.stops;if(!i)return function(e,t){const i=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",i]:i;if("enum"===t.type)return["match",i,Object.keys(t.values),i,e.default];{const o=["color"===t.type?"to-color":t.type,i,On(e.default)];return"array"===t.type&&o.splice(1,0,t.value,t.length||null),o}}(e,t);const o=i&&"object"==typeof i[0][0],r=o||void 0!==e.property,n=o||!r;return i=i.map((e=>!r&&t.tokens&&"string"==typeof e[1]?[e[0],Zn(e[1])]:[e[0],On(e[1])])),o?function(e,t,i){const o={},r={},n=[];for(let t=0;t<i.length;t++){const s=i[t],a=s[0].zoom;void 0===o[a]&&(o[a]={zoom:a,type:e.type,property:e.property,default:e.default},r[a]=[],n.push(a)),r[a].push([s[0].value,s[1]])}if("exponential"===jn({},t)){const i=[Fn(e),["linear"],["zoom"]];for(const e of n)Gn(i,e,Un(o[e],t,r[e]),!1);return i}{const e=["step",["zoom"]];for(const i of n)Gn(e,i,Un(o[i],t,r[i]),!0);return Nn(e),e}}(e,t,i):n?function(e,t,i,o=["zoom"]){const r=jn(e,t);let n,s=!1;if("interval"===r)n=["step",o],s=!0;else{if("exponential"!==r)throw new Error(`Unknown zoom function type "${r}"`);{const t=void 0!==e.base?e.base:1;n=[Fn(e),1===t?["linear"]:["exponential",t],o]}}for(const e of i)Gn(n,e[0],e[1],s);return Nn(n),n}(e,t,i):Un(e,t,i)}function Fn(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Bn(e,t){const i=On((r=t.default,void 0!==(o=e.default)?o:void 0!==r?r:void 0));var o,r;return void 0===i&&"resolvedImage"===t.type?"":i}function Un(e,t,i){const o=jn(e,t),r=["get",e.property];if("categorical"===o&&"boolean"==typeof i[0][0]){const o=["case"];for(const e of i)o.push(["==",r,e[0]],e[1]);return o.push(Bn(e,t)),o}if("categorical"===o){const o=["match",r];for(const e of i)Gn(o,e[0],e[1],!1);return o.push(Bn(e,t)),o}if("interval"===o){const t=["step",["number",r]];for(const e of i)Gn(t,e[0],e[1],!0);return Nn(t),void 0===e.default?t:["case",["==",["typeof",r],"number"],t,On(e.default)]}if("exponential"===o){const t=void 0!==e.base?e.base:1,o=[Fn(e),1===t?["linear"]:["exponential",t],["number",r]];for(const e of i)Gn(o,e[0],e[1],!1);return void 0===e.default?o:["case",["==",["typeof",r],"number"],o,On(e.default)]}throw new Error(`Unknown property function type ${o}`)}function Nn(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function Gn(e,t,i,o){e.length>3&&t===e[e.length-2]||(o&&2===e.length||e.push(t),e.push(i))}function jn(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function Zn(e){const t=["concat"],i=/{([^{}]+)}/g;let o=0;for(let r=i.exec(e);null!==r;r=i.exec(e)){const n=e.slice(o,i.lastIndex-r[0].length);o=i.lastIndex,n.length>0&&t.push(n),t.push(["get",r[1]])}if(1===t.length)return e;if(o<e.length)t.push(e.slice(o));else if(2===t.length)return["to-string",t[1]];return t}class Vn extends vn{constructor(e){super(),this.style=e}setup(){return bn(this.style).then((t=>{this.data=[];for(const i of t.layers){if(!i.type)continue;const t=function(t,i){const o=kn(t,i),r=e.createFunction(t,i),n=e.createPropertyExpression(o,i);if("error"===n.result)throw new Error(n.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return{propertySpec:i,rawValue:t,rawExpression:o,compiledFunction:r,compiledExpression:n.value}};for(const o in i.paint)e.isFunction(i.paint[o])&&this.data.push(t(i.paint[o],e.spec[`paint_${i.type}`][o]));for(const o in i.layout)e.isFunction(i.layout[o])&&this.data.push(t(i.layout[o],e.spec[`layout_${i.type}`][o]))}}))}}var Wn=[{filter:["==",["get","class"],"crop"],layer:"landcover"},{filter:["==",["get","class"],"grass"],layer:"landcover"},{filter:["==",["get","class"],"scrub"],layer:"landcover"},{filter:["==",["get","class"],"wood"],layer:"landcover"},{filter:["==",["get","class"],"snow"],layer:"landcover"},{filter:["==",["get","class"],"hospital"],layer:"landuse"},{filter:["==",["get","class"],"school"],layer:"landuse"},{filter:["==",["get","class"],"park"],layer:"landuse"},{filter:["==",["get","class"],"pitch"],layer:"landuse"},{filter:["==",["get","class"],"pitch"],layer:"landuse"},{filter:["==",["get","class"],"cemetery"],layer:"landuse"},{filter:["==",["get","class"],"industrial"],layer:"landuse"},{filter:["==",["get","class"],"sand"],layer:"landuse"},{filter:["==",["get","level"],94],layer:"hillshade"},{filter:["==",["get","level"],90],layer:"hillshade"},{filter:["==",["get","level"],89],layer:"hillshade"},{filter:["==",["get","level"],78],layer:"hillshade"},{filter:["==",["get","level"],67],layer:"hillshade"},{filter:["==",["get","level"],56],layer:"hillshade"},{filter:["all",["match",["get","class"],["river","canal"],!0,!1]],layer:"waterway"},{filter:["all",["==",["get","class"],"land"],["==",["geometry-type"],"Polygon"]],layer:"barrier_line"},{filter:["all",["==",["get","class"],"land"],["==",["geometry-type"],"LineString"]],layer:"barrier_line"},{filter:["all",["==",["get","type"],"apron"],["==",["geometry-type"],"Polygon"]],layer:"aeroway"},{filter:["all",["==",["get","class"],"street_limited"],["==",["geometry-type"],"Polygon"]],layer:"tunnel"},{filter:["==",["get","class"],"path"],layer:"tunnel"},{filter:["all",["==",["get","class"],"street"],["==",["geometry-type"],"LineString"]],layer:"tunnel"},{filter:["all",["==",["get","class"],"street_limited"],["==",["geometry-type"],"LineString"]],layer:"tunnel"},{filter:["==",["get","class"],"motorway_link"],layer:"tunnel"},{filter:["match",["get","class"],["service","driveway"],!0,!1],layer:"tunnel"},{filter:["all",["==",["get","class"],"street_limited"],["!=",["get","type"],"construction"],["==",["geometry-type"],"LineString"]],layer:"tunnel"},{filter:["==",["get","class"],"street"],layer:"tunnel"},{filter:["all",["==",["get","class"],"main"],["!=",["get","type"],"trunk"]],layer:"tunnel"},{filter:["all",["==",["get","class"],"main"],["==",["get","type"],"trunk"]],layer:"tunnel"},{filter:["==",["get","class"],"motorway"],layer:"tunnel"},{filter:["all",["==",["get","class"],"street_limited"],["==",["get","type"],"construction"],["==",["geometry-type"],"LineString"]],layer:"tunnel"},{filter:["all",["==",["get","oneway"],1],["match",["get","class"],["main","street","street_limited"],!0,!1],["!=",["get","type"],"trunk"]],layer:"tunnel"},{filter:["all",["==",["get","oneway"],1],["==",["get","type"],"trunk"]],layer:"tunnel"},{filter:["match",["get","class"],["major_rail","minor_rail"],!0,!1],layer:"tunnel"},{filter:["all",["==",["get","oneway"],1],["match",["get","class"],["motorway","motorway_link"],!0,!1]],layer:"tunnel"},{filter:["==",["get","class"],"path"],layer:"road"},{filter:["all",["==",["get","class"],"street"],["==",["geometry-type"],"LineString"]],layer:"road"},{filter:["all",["==",["get","class"],"street_limited"],["==",["geometry-type"],"LineString"]],layer:"road"},{filter:["match",["get","class"],["service","driveway"],!0,!1],layer:"road"},{filter:["all",["==",["get","class"],"street_limited"],["!=",["get","type"],"construction"],["==",["geometry-type"],"LineString"]],layer:"road"},{filter:["==",["get","class"],"street"],layer:"road"},{filter:["all",["==",["get","class"],"main"],["==",["get","type"],"trunk"]],layer:"road"},{filter:["==",["get","class"],"motorway"],layer:"road"},{filter:["all",["==",["get","oneway"],1],["match",["get","class"],["main","street","street_limited"],!0,!1],["!=",["get","type"],"trunk"]],layer:"road"},{filter:["all",["==",["get","oneway"],1],["==",["get","type"],"trunk"]],layer:"road"},{filter:["match",["get","class"],["major_rail","minor_rail"],!0,!1],layer:"road"},{filter:["all",["==",["get","class"],"street_limited"],["==",["get","type"],"construction"],["==",["geometry-type"],"LineString"]],layer:"road"},{filter:["all",["==",["get","oneway"],1],["match",["get","class"],["motorway","motorway_link"],!0,!1]],layer:"road"},{filter:["all",["==",["get","class"],"street_limited"],["==",["geometry-type"],"Polygon"]],layer:"bridge"},{filter:["==",["get","class"],"path"],layer:"bridge"},{filter:["all",["==",["get","class"],"street"],["==",["geometry-type"],"LineString"]],layer:"bridge"},{filter:["all",["==",["get","class"],"street_limited"],["==",["geometry-type"],"LineString"]],layer:"bridge"},{filter:["==",["get","class"],"motorway_link"],layer:"bridge"},{filter:["match",["get","class"],["service","driveway"],!0,!1],layer:"bridge"},{filter:["all",["==",["get","class"],"street_limited"],["!=",["get","type"],"construction"],["==",["geometry-type"],"LineString"]],layer:"bridge"},{filter:["==",["get","class"],"street"],layer:"bridge"},{filter:["all",["==",["get","oneway"],1],["match",["get","class"],["main","street","street_limited"],!0,!1],["!=",["get","type"],"trunk"]],layer:"bridge"},{filter:["any",["==",["get","class"],"motorway"],["==",["get","type"],"trunk"]],layer:"bridge"},{filter:["match",["get","class"],["service","driveway"],!0,!1],layer:"bridge"},{filter:["all",["==",["get","class"],"street_limited"],["==",["get","type"],"construction"],["==",["geometry-type"],"LineString"]],layer:"bridge"},{filter:["all",["==",["get","class"],"street_limited"],["!=",["get","type"],"construction"],["==",["geometry-type"],"LineString"]],layer:"bridge"},{filter:["==",["get","class"],"street"],layer:"bridge"},{filter:["all",["==",["get","class"],"main"],["!=",["get","type"],"trunk"]],layer:"bridge"},{filter:["all",["==",["get","class"],"main"],["==",["get","type"],"trunk"]],layer:"bridge"},{filter:["all",["==",["get","oneway"],1],["==",["get","type"],"trunk"]],layer:"bridge"},{filter:["==",["get","class"],"motorway"],layer:"bridge"},{filter:["match",["get","class"],["major_rail","minor_rail"],!0,!1],layer:"bridge"},{filter:["==",["get","class"],"aerialway"],layer:"bridge"},{filter:["all",["==",["get","oneway"],1],["match",["get","class"],["motorway","motorway_link"],!0,!1]],layer:"bridge"},{filter:["==",["get","class"],"hedge"],layer:"barrier_line"},{filter:["==",["get","class"],"fence"],layer:"barrier_line"},{filter:["==",["get","class"],"gate"],layer:"barrier_line"},{filter:["all",[">=",["get","admin_level"],3],["==",["get","maritime"],0]],layer:"admin"},{filter:["all",[">=",["get","admin_level"],3],["==",["get","maritime"],0]],layer:"admin"},{filter:["!=",["get","index"],5],layer:"contour"},{filter:["==",["get","index"],5],layer:"contour"},{filter:["==",["get","class"],"river"],layer:"waterway_label"},{filter:["all",["match",["get","maki"],["rail-light","rail-metro","rail","airport","airfield","heliport","rocket","park","golf","cemetery","zoo","campsite","swimming","dog-park"],!1,!0],["==",["get","scalerank"],4],[">=",["get","localrank"],15]],layer:"poi_label"},{filter:["all",["match",["get","maki"],["rail-light","rail-metro","rail","airport","airfield","heliport","rocket","park","golf","cemetery","zoo","campsite","swimming","dog-park"],!1,!0],["==",["get","scalerank"],4],["<=",["get","localrank"],14]],layer:"poi_label"},{filter:["all",["match",["get","maki"],["park","cemetery","golf","zoo","playground"],!0,!1],["==",["get","scalerank"],4]],layer:"poi_label"},{filter:["all",["match",["get","maki"],["rail-light","rail-metro","rail","airport","airfield","heliport","rocket","park","golf","cemetery","zoo","campsite","swimming","dog-park"],!1,!0],["==",["get","scalerank"],3]],layer:"poi_label"},{filter:["all",["match",["get","maki"],["park","cemetery","golf","zoo"],!0,!1],["==",["get","scalerank"],3]],layer:"poi_label"},{filter:["all",["match",["get","class"],["motorway","main","street_limited","street"],!1,!0],["==",["geometry-type"],"LineString"]],layer:"road_label"},{filter:["all",["match",["get","class"],["street","street_limited"],!1,!0],["==",["geometry-type"],"LineString"]],layer:"road_label"},{filter:["match",["get","class"],["main","motorway"],!0,!1],layer:"road_label"},{filter:["all",["match",["get","shield"],["us-interstate","us-interstate-business","us-interstate-duplex"],!1,!0],["<=",["get","reflen"],6]],layer:"road_label"},{filter:["all",["match",["get","shield"],["us-interstate","us-interstate-business","us-interstate-duplex"],!0,!1],["<=",["get","reflen"],6]],layer:"road_label"},{filter:["all",["match",["get","maki"],["rail-light","rail-metro","rail","airport","airfield","heliport","rocket","park","golf","cemetery","zoo","campsite","swimming","dog-park"],!1,!0],["==",["get","scalerank"],2]],layer:"poi_label"},{filter:["all",["match",["get","maki"],["park","golf","cemetery","zoo","campsite","swimming","dog-park"],!0,!1],["==",["get","scalerank"],2]],layer:"poi_label"},{filter:["==",["get","type"],"Rail Station"],layer:"poi_label"},{filter:["<=",["get","area"],1e4],layer:"water_label"},{filter:["all",["match",["get","maki"],["park","golf","cemetery","zoo","campsite","swimming","dog-park"],!0,!1],["<=",["get","scalerank"],1]],layer:"poi_label"},{filter:["all",["match",["get","maki"],["rail-light","rail-metro","rail","airport","airfield","heliport","rocket","park","golf","cemetery","zoo","campsite","swimming","dog-park"],!1,!0],["<=",["get","scalerank"],1],["!=",["get","type"],"Island"]],layer:"poi_label"},{filter:["==",["get","type"],"Islet"],layer:"poi_label"},{filter:["==",["get","type"],"Island"],layer:"poi_label"},{filter:["all",["match",["get","scalerank"],[0,1,2,3,4,5],!1,!0],["==",["get","type"],"city"]],layer:"place_label"},{filter:["all",["match",["get","scalerank"],[3,4,5],!0,!1],["==",["get","type"],"city"],["match",["get","ldir"],["S","SE","SW","E"],!0,!1]],layer:"place_label"},{filter:["all",["match",["get","scalerank"],[3,4,5],!0,!1],["==",["get","type"],"city"],["match",["get","ldir"],["N","NE","NW","W"],!0,!1]],layer:"place_label"}];const Xn=[{type:"Feature",geometry:{type:"Point",coordinates:[-95.392,29.799]},properties:{place_name:"Roads, Houston, z12",zoom:12,tags:["road"]}},{type:"Feature",geometry:{type:"Point",coordinates:[-95.381,29.749]},properties:{place_name:"Roads, Houston, z13",zoom:13,tags:["road","poi_label","landuse"]}},{type:"Feature",geometry:{type:"Point",coordinates:[-73.985,40.758]},properties:{place_name:"High zoom labels, buildings, roads, New York City, z16",zoom:16,tags:["poi_label","building","road"]}},{type:"Feature",geometry:{type:"Point",coordinates:[-73.985,40.758]},properties:{place_name:"High zoom labels, buildings, roads, New York City, z17, overzoomed",zoom:17,tags:["poi_label","road","building"]}},{type:"Feature",geometry:{type:"Point",coordinates:[139.76,35.695]},properties:{place_name:"High zoom cjk labels, when using local lang, buildings, roads, Tokyo, z16",zoom:16,tags:["poi_label","building","road"]}},{type:"Feature",geometry:{type:"Point",coordinates:[139.76,35.695]},properties:{place_name:"High zoom cjk labels, when using local lang, buildings, roads, Tokyo, z17, overzoomed",zoom:17,tags:["poi_label","road","building"]}},{type:"Feature",geometry:{type:"Point",coordinates:[27.602,61.521]},properties:{place_name:"Water, Finland, z10",zoom:10,tags:["water"]}},{type:"Feature",geometry:{type:"Point",coordinates:[2.21,48.745]},properties:{place_name:"Landuse and roads, Paris, z11",zoom:11,tags:["place_label:settlement","road","landuse","poi_label","hillshade"]}},{type:"Feature",geometry:{type:"Point",coordinates:[-118.314,33.996]},properties:{place_name:"Buildings, LA, z16",zoom:16,tags:["building","road"]}},{type:"Feature",geometry:{type:"Point",coordinates:[2.316,48.867]},properties:{place_name:"High zoom roads, paths, landuse, labels, Paris, 15",zoom:15,tags:["road","road:pedestrian","poi_label","landuse","transit_stop_label"]}},{type:"Feature",geometry:{type:"Point",coordinates:[2.316,48.867]},properties:{place_name:"High zoom pedestrian polygon fills, roads, paths, landuse, labels, Paris, z16",zoom:16,tags:["landuse","road","road:pedestrian","poi_label","road:path"]}},{type:"Feature",geometry:{type:"Point",coordinates:[8.835,46.317]},properties:{place_name:"Hillshading, Switzerland, z9",zoom:9,tags:["hillshade","place_label"]}},{type:"Feature",geometry:{type:"Point",coordinates:[8.835,46.317]},properties:{place_name:"Hillshading and contours, Switzerland, z12",zoom:12,tags:["hillshade"]}},{type:"Feature",geometry:{type:"Point",coordinates:[8.416,51.056]},properties:{place_name:"Landcover, Germany z6",zoom:6,tags:["landcover","place_label:settlement","road","admin"]}},{type:"Feature",geometry:{type:"Point",coordinates:[7.762,50.322]},properties:{place_name:"Landcover, Germany z8",zoom:8,tags:["place_label:settlement","road","hillshade"]}}].map((t=>{const{coordinates:i}=t.geometry,{zoom:o}=t.properties,{x:r,y:n}=e.MercatorCoordinate.fromLngLat({lng:i[0],lat:i[1]}),s=Math.pow(2,o),a=Math.floor(r*s),l=Math.floor(n*s);return{description:t.properties.place_name,tileID:[new e.OverscaledTileID(o,0,o,a,l)],zoom:o,center:i}}));function qn(e,t){window.mapboxglBenchmarks[e]=window.mapboxglBenchmarks[e]||{},window.mapboxglBenchmarks[e]["main a090df0"]=t}gn.accessToken=yn,window.mapboxglBenchmarks=window.mapboxglBenchmarks||{};const $n="mapbox://styles/mapbox/streets-v10",Hn=[-77.032194,38.912753],Yn=[4,8,11,13,15,17].map((e=>({center:Hn,zoom:e})));return qn("Paint",new class extends vn{constructor(e,t){super(),this.style=e,this.locations=t}setup(){return Promise.all(this.locations.map((e=>Mn({zoom:e.zoom,width:1024,height:768,center:e.center,style:this.style})))).then((e=>{this.maps=e})).catch((e=>{console.error(e)}))}bench(){for(const e of this.maps)e._styleDirty=!0,e._sourcesDirty=!0,e._render(Date.now())}teardown(){for(const e of this.maps)e.remove()}}($n,Yn)),qn("QueryPoint",new class extends vn{constructor(e,t){super(),this.style=e,this.locations=t}setup(){return Promise.all(this.locations.map((e=>Mn({zoom:e.zoom,width:1024,height:768,center:e.center,style:this.style})))).then((e=>{this.maps=e})).catch((e=>{console.error(e)}))}bench(){for(const e of this.maps)for(const t of Rn)e.queryRenderedFeatures(t,{})}teardown(){for(const e of this.maps)e.remove()}}($n,Yn)),qn("QueryBox",new class extends vn{constructor(e,t){super(),this.style=e,this.locations=t}setup(){return Promise.all(this.locations.map((e=>Mn({zoom:e.zoom,width:1024,height:768,center:e.center,style:this.style})))).then((e=>{this.maps=e})).catch((e=>{console.error(e)}))}bench(){const e=[0,0];for(const t of this.maps)t.queryRenderedFeatures(e)}teardown(){for(const e of this.maps)e.remove()}}($n,Yn)),qn("Layout",new Cn($n)),qn("Placement",new class extends vn{constructor(e,t){super(),this.style=e,this.locations=t}setup(){return Promise.all(this.locations.map((e=>Mn({zoom:e.zoom,width:1024,height:768,center:e.center,style:this.style,idle:!0})))).then((e=>{this.maps=e})).catch((e=>{console.error(e)}))}bench(){for(const e of this.maps)e.style._updatePlacement(e.transform,!1,300,!0,!0)}teardown(){for(const e of this.maps)e.remove()}}($n,Yn)),qn("Validate",new class extends vn{constructor(e){super(),this.style=e}setup(){return bn(this.style).then((e=>{this.json=e}))}bench(){e.validateStyle(this.json)}}($n)),qn("StyleLayerCreate",new class extends vn{constructor(e){super(),this.style=e}setup(){return bn(this.style).then((e=>{this.layers=Ve(e.layers)}))}bench(){for(const t of this.layers)e.createStyleLayer(t)}}($n)),qn("FunctionCreate",new class extends Vn{bench(){for(const{rawValue:t,propertySpec:i}of this.data)e.createFunction(t,i)}}($n)),qn("FunctionEvaluate",new class extends Vn{bench(){for(const{compiledFunction:e}of this.data)e.evaluate({zoom:0})}}($n)),qn("ExpressionCreate",new class extends Vn{bench(){for(const{rawExpression:t,propertySpec:i}of this.data)e.createPropertyExpression(t,i)}}($n)),qn("ExpressionEvaluate",new class extends Vn{bench(){for(const{compiledExpression:e}of this.data)e.evaluate({zoom:0})}}($n)),qn("WorkerTransfer",new class extends vn{constructor(e){super(),this.style=e}setup(){const t=window.URL.createObjectURL(new Blob(["\n        onmessage = (e) => {\n            postMessage(e.data);\n        };\n        "],{type:"text/javascript"}));this.worker=new Worker(t);const i=[new e.OverscaledTileID(8,0,8,73,97),new e.OverscaledTileID(11,0,11,585,783),new e.OverscaledTileID(11,0,11,596,775),new e.OverscaledTileID(13,0,13,2412,3079)];return bn(this.style).then((e=>(this.parser=new En(e,"composite"),this.parser.setup()))).then((()=>Promise.all(i.map((e=>this.parser.fetchTile(e)))))).then((e=>Promise.all(e.map((e=>this.parser.parseTile(e)))))).then((t=>{const i=t.concat(e.values(this.parser.icons)).concat(e.values(this.parser.glyphs)).map((t=>e.serialize(t,[])));this.payloadJSON=i.map(In),this.payloadTiles=i.slice(0,t.length)}))}sendPayload(e){return new Promise((t=>{this.worker.onmessage=()=>t(),this.worker.postMessage(e)}))}bench(){let t=Promise.resolve();for(const e of this.payloadJSON)t=t.then((()=>this.sendPayload(e)));return t.then((()=>{for(const t of this.payloadTiles)e.deserialize(t)}))}}($n)),qn("PaintStates",new class extends vn{constructor(e){super(),this.center=e}setup(){return fetch("/bench/data/naturalearth-land.json").then((e=>e.json())).then((e=>(this.numFeatures=e.features.length,Object.assign({},Sn,{sources:{land:{type:"geojson",data:e,maxzoom:23}},layers:Dn({id:"layer",type:"fill",source:"land",paint:{"fill-color":["case",["boolean",["feature-state","bench"],!1],["rgb",21,210,210],["rgb",233,233,233]]}})})))).then((e=>Mn({zoom:4,width:1024,height:768,center:this.center,style:e}).then((e=>{this.map=e})).catch((e=>{console.error(e)}))))}bench(){this.map._styleDirty=!0,this.map._sourcesDirty=!0,this.map._render();for(let e=0;e<this.numFeatures;e+=50)this.map.setFeatureState({source:"land",id:e},{bench:!0});this.map._render()}teardown(){this.map.remove()}}(Hn)),qn("PropertyLevelRemove",new class extends Ln{bench(){for(let e=0;e<this.numFeatures;e+=50)this.map.setFeatureState({source:"land",id:e},{bench:!0});for(let e=0;e<this.numFeatures;e+=50)this.map.removeFeatureState({source:"land",id:e},"bench");this.map._render()}}(Hn)),qn("FeatureLevelRemove",new class extends Ln{bench(){for(let e=0;e<this.numFeatures;e+=50)this.map.setFeatureState({source:"land",id:e},{bench:!0});for(let e=0;e<this.numFeatures;e+=50)this.map.removeFeatureState({source:"land",id:e});this.map._render()}}(Hn)),qn("SourceLevelRemove",new class extends Ln{bench(){for(let e=0;e<this.numFeatures;e+=50)this.map.setFeatureState({source:"land",id:e},{bench:!0});for(let e=0;e<this.numFeatures;e+=50)this.map.removeFeatureState({source:"land",id:e});this.map._render()}}(Hn)),qn("LayerBackground",new class extends An{constructor(){super(),this.layerStyle=Object.assign({},Sn,{layers:Pn({id:"backgroundlayer",type:"background"})})}}),qn("LayerCircle",new class extends An{constructor(){super(),this.layerStyle=Object.assign({},Sn,{layers:Pn({id:"circlelayer",type:"circle",source:"composite","source-layer":"poi_label"})})}}),qn("LayerFill",new class extends An{constructor(){super(),this.layerStyle=Object.assign({},Sn,{layers:Pn({id:"filllayer",type:"fill",source:"composite","source-layer":"building",paint:{"fill-color":"black","fill-outline-color":"red"}})})}}),qn("LayerFillExtrusion",new class extends An{constructor(){super(),this.layerStyle=Object.assign({},Sn,{layers:Pn({id:"fillextrusionlayer",type:"fill-extrusion",source:"composite","source-layer":"building",paint:{"fill-extrusion-height":30}})})}}),qn("LayerHeatmap",new class extends An{setup(){return fetch("/bench/data/naturalearth-land.json").then((e=>e.json())).then((e=>{this.layerStyle=Object.assign({},Sn,{sources:{heatmap:{type:"geojson",data:e,maxzoom:23}},layers:Pn({id:"layer",type:"heatmap",source:"heatmap",paint:{"heatmap-radius":50,"heatmap-weight":{stops:[[0,.5],[4,2]]},"heatmap-intensity":.9,"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"]}})})})).then((()=>super.setup()))}}),qn("LayerHillshade",new class extends An{constructor(){super(),this.layerStyle=Object.assign({},Sn,{sources:{"terrain-rgb":{type:"raster-dem",url:"mapbox://mapbox.terrain-rgb"}},layers:Pn({id:"layer",type:"hillshade",source:"terrain-rgb"})})}}),qn("LayerLine",new class extends An{constructor(){super(),this.layerStyle=Object.assign({},Sn,{layers:Pn({id:"linelayer",type:"line",source:"composite","source-layer":"road"})})}}),qn("LayerRaster",new class extends An{constructor(){super(),this.layerStyle=Object.assign({},Sn,{sources:{satellite:{url:"mapbox://mapbox.satellite",type:"raster",tileSize:256}},layers:Pn({id:"rasterlayer",type:"raster",source:"satellite"})})}}),qn("LayerSymbol",new class extends An{constructor(){super(),this.layerStyle=Object.assign({},Sn,{layers:Pn({id:"symbollayer",type:"symbol",source:"composite","source-layer":"poi_label",layout:{"icon-image":"dot-11","text-field":"{name_en}"}})})}}),qn("LayerSymbolWithIcons",new class extends An{constructor(){super(),this.layerStyle=Object.assign({},Sn,{layers:Pn({id:"symbollayer",type:"symbol",source:"composite","source-layer":"poi_label",layout:{"icon-image":"dot-11","text-field":["format",["get","name_en"],["image","dot-11"]]}})})}}),qn("LayerTextWithVariableAnchor",new class extends An{constructor(){super(),this.layerStyle=Object.assign({},Sn,{layers:Pn({id:"symbollayer",type:"symbol",source:"composite","source-layer":"poi_label",layout:{"text-field":"Test Test Test","text-justify":"auto","text-variable-anchor":["center","top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]}})})}}),qn("LayerSymbolWithSortKey",new class extends An{constructor(){super(),this.layerStyle=Object.assign({},Sn,{layers:this.generateSortKeyLayers()})}generateSortKeyLayers(){const e=[];for(let t=0;t<50;t++)e.push({id:`symbollayer${t}`,type:"symbol",source:"composite","source-layer":"poi_label",layout:{"symbol-sort-key":t,"text-field":"{name_en}"}});return e}}),qn("Load",new class extends vn{bench(){return Mn({style:{version:8,sources:{},layers:[]}}).then((e=>e.remove())).catch((e=>{console.error(e)}))}}),qn("LayoutDDS",new class extends vn{setup(){const t=[new e.OverscaledTileID(15,0,15,9373,12535)],i={version:8,sources:{mapbox:{type:"vector",url:"mapbox://mapbox.mapbox-streets-v7"}},layers:[]},o=[{id:"road",type:"line",source:"mapbox","source-layer":"road",paint:{"line-width":3,"line-color":{type:"categorical",property:"class",stops:[[{zoom:0,value:"motorway"},"#0000FF"],[{zoom:0,value:"trunk"},"#000FF0"],[{zoom:0,value:"primary"},"#00FF00"],[{zoom:0,value:"secondary"},"#0FF000"],[{zoom:0,value:"street"},"#FF0000"],[{zoom:17,value:"motorway"},"#000088"],[{zoom:17,value:"trunk"},"#000880"],[{zoom:17,value:"primary"},"#008800"],[{zoom:17,value:"secondary"},"#088000"],[{zoom:17,value:"street"},"#880000"]],default:"#444444"}}},{id:"poi",type:"circle",source:"mapbox","source-layer":"poi_label",paint:{"circle-radius":{base:2,property:"scalerank",stops:[[{zoom:0,value:0},1],[{zoom:0,value:10},5],[{zoom:17,value:0},20],[{zoom:17,value:10},50]]},"circle-color":{base:1.25,property:"localrank",stops:[[{zoom:0,value:0},"#002222"],[{zoom:0,value:10},"#220022"],[{zoom:17,value:0},"#008888"],[{zoom:17,value:10},"#880088"]]}}}];for(;i.layers.length<2;)for(const e of o)i.layers.push(Object.assign({},e,{id:e.id+i.layers.length}));return this.parser=new En(i,"mapbox"),this.parser.setup().then((()=>Promise.all(t.map((e=>this.parser.fetchTile(e)))))).then((e=>(this.tiles=e,Promise.all(e.map((e=>this.parser.parseTile(e))))))).then((()=>{}))}bench(){let e=Promise.resolve();for(const t of this.tiles)e=e.then((()=>this.parser.parseTile(t).then((()=>{}))));return e}}),qn("SymbolLayout",new class extends Cn{constructor(e,t){super(e,t),this.parsedTiles=[]}setup(){return super.setup().then((()=>Promise.all(this.tiles.map((e=>this.parser.parseTile(e,!0).then((e=>{this.parsedTiles.push(e)}))))).then((()=>{}))))}bench(){let t=Promise.resolve();for(const i of this.parsedTiles)t=t.then((()=>{for(const t of i.buckets)t instanceof e.SymbolBucket&&e.performSymbolLayout(t,i.glyphMap,i.glyphPositions,i.iconMap,i.imageAtlas.iconPositions,!1,this.parser.style.listImages(),i.tileID.canonical,i.tileZoom,e.getProjection({name:"mercator"}))}));return t}}($n,Xn.map((e=>e.tileID[0])))),qn("FilterCreate",new class extends vn{bench(){for(const t of Wn)e.createFilter(t.filter)}}),qn("FilterEvaluate",new class extends vn{setup(){return fetch("/bench/data/785.vector.pbf").then((e=>e.arrayBuffer())).then((t=>{const i=new e.VectorTile(new e.pbf(t));this.layers=[];for(const t in i.layers){const o=i.layers[t];if(!o.length)continue;const r=[];for(let e=0;e<o.length;e++)r.push(o.feature(e));const n=[];for(const i of Wn)i.layer===t&&n.push(e.createFilter(i.filter));this.layers.push({features:r,filters:n})}}))}bench(){for(const e of this.layers)for(const t of e.filters)for(const i of e.features)t({zoom:0},i)}}),qn("HillshadeLoad",new class extends vn{constructor(){super(),this.style={version:8,name:"Hillshade-only",center:[-112.81596278901452,37.251160384573595],zoom:11.560975632435424,bearing:0,pitch:0,sources:{"mapbox://mapbox.terrain-rgb":{url:"mapbox://mapbox.terrain-rgb",type:"raster-dem",tileSize:256}},layers:[{id:"mapbox-terrain-rgb",type:"hillshade",source:"mapbox://mapbox.terrain-rgb",layout:{},paint:{}}]}}bench(){return Mn({width:1024,height:1024,style:this.style,stubRender:!1,showMap:!0,idle:!0}).then((e=>{e.remove()}))}}),Promise.resolve().then((()=>{je().acquire(-1)})),gn}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmVuY2htYXJrcy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3N0eWxlLXNwZWMvdXRpbC9kZWVwX2VxdWFsLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLXN1cHBvcnRlZC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91dGlsL2RvbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDIuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUvc3R5bGVfaW1hZ2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL2ltYWdlX21hbmFnZXIuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUvbGlnaHQuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUvdGVycmFpbi5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zdHlsZS9mb2dfaGVscGVycy5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zdHlsZS9mb2cuanMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbC9kaXNwYXRjaGVyLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cy5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zdHlsZS9xdWVyeV9nZW9tZXRyeS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zb3VyY2UvbG9hZF90aWxlanNvbi5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zb3VyY2UvdGlsZV9ib3VuZHMuanMiLCIuLi8uLi8uLi8uLi9zcmMvZ2wvaW5kZXhfYnVmZmVyLmpzIiwiLi4vLi4vLi4vLi4vc3JjL2dsL3ZlcnRleF9idWZmZXIuanMiLCIuLi8uLi8uLi8uLi9zcmMvZ2wvdmFsdWUuanMiLCIuLi8uLi8uLi8uLi9zcmMvZ2wvZnJhbWVidWZmZXIuanMiLCIuLi8uLi8uLi8uLi9zcmMvZ2wvY29udGV4dC5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zb3VyY2UvdmVjdG9yX3RpbGVfc291cmNlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3NvdXJjZS9yYXN0ZXJfdGlsZV9zb3VyY2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbC9vZmZzY3JlZW5fY2FudmFzX3N1cHBvcnRlZC5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zb3VyY2UvaW1hZ2Vfc291cmNlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3NvdXJjZS9zb3VyY2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvc291cmNlL3Jhc3Rlcl9kZW1fdGlsZV9zb3VyY2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvc291cmNlL2dlb2pzb25fc291cmNlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3NvdXJjZS92aWRlb19zb3VyY2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvc291cmNlL2NhbnZhc19zb3VyY2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvc291cmNlL2N1c3RvbV9zb3VyY2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvc291cmNlL3F1ZXJ5X2ZlYXR1cmVzLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWwvYnJvd3Nlci93ZWJfd29ya2VyLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWwvd29ya2VyX3Bvb2wuanMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbC9nbG9iYWxfd29ya2VyX3Bvb2wuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUtc3BlYy9kZXJlZi5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zdHlsZS1zcGVjL2RpZmYuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3ltYm9sL3BhdGhfaW50ZXJwb2xhdG9yLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3N5bWJvbC9ncmlkX2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vc3JjL3N5bWJvbC9wcm9qZWN0aW9uLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3N5bWJvbC9jb2xsaXNpb25faW5kZXguanMiLCIuLi8uLi8uLi8uLi9zcmMvZ2VvL3Byb2plY3Rpb24vcHJvamVjdGlvbl91dGlsLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3N5bWJvbC9wbGFjZW1lbnQuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUvcGF1c2VhYmxlX3BsYWNlbWVudC5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zeW1ib2wvY3Jvc3NfdGlsZV9zeW1ib2xfaW5kZXguanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUvc3R5bGUuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUtc3BlYy9lbXB0eS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zdHlsZS9sb2FkX3Nwcml0ZS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9zaGFkZXJzL3NoYWRlcnMuanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3ZlcnRleF9hcnJheV9vYmplY3QuanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vaGlsbHNoYWRlX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL2RyYXdfaGlsbHNoYWRlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3RlcnJhaW4vdGVycmFpbl9yYXN0ZXJfcHJvZ3JhbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy90ZXJyYWluL2dsb2JlX3Jhc3Rlcl9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3RlcnJhaW4vZHJhd190ZXJyYWluX3Jhc3Rlci5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9jbGlwcGluZ19tYXNrX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Jhc3Rlcl9mYWRlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3RlcnJhaW4vdGVycmFpbi5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvZm9nLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL3BhdHRlcm4uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vZmlsbF9leHRydXNpb25fcHJvZ3JhbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9maWxsX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vY2lyY2xlX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vY29sbGlzaW9uX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vZGVidWdfcHJvZ3JhbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9oZWF0bWFwX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL3Byb2dyYW0vbGluZV9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL3Jhc3Rlcl9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL3N5bWJvbF9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL2JhY2tncm91bmRfcHJvZ3JhbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvcHJvZ3JhbS9wcm9ncmFtX3VuaWZvcm1zLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL3NreWJveF9wcm9ncmFtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9wcm9ncmFtL3NreWJveF9jYXB0dXJlX3Byb2dyYW0uanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL2RyYXdfY29sbGlzaW9uX2RlYnVnLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X3N5bWJvbC5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19maWxsLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X2ZpbGxfZXh0cnVzaW9uLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X2RlYnVnLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9za3lib3hfYXR0cmlidXRlcy5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvc2t5Ym94X2dlb21ldHJ5LmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X3NreS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvYXRtb3NwaGVyZV9hdHRyaWJ1dGVzLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9hdG1vc3BoZXJlX2J1ZmZlci5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvcGFpbnRlci5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19jaXJjbGUuanMiLCIuLi8uLi8uLi8uLi9zcmMvcmVuZGVyL2RyYXdfaGVhdG1hcC5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19saW5lLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X3Jhc3Rlci5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19iYWNrZ3JvdW5kLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3JlbmRlci9kcmF3X2N1c3RvbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9yZW5kZXIvZHJhd19hdG1vc3BoZXJlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL2dlby9lZGdlX2luc2V0cy5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9mcmVlX2NhbWVyYS5qcyIsIi4uLy4uLy4uLy4uL3NyYy9nZW8vcHJvamVjdGlvbi9hZGp1c3RtZW50cy5qcyIsIi4uLy4uLy4uLy4uL3NyYy9nZW8vdHJhbnNmb3JtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWwvdGhyb3R0bGUuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFzaC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9oYW5kbGVyX2luZXJ0aWEuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvZXZlbnRzLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvbWFwX2V2ZW50LmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvYm94X3pvb20uanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci9oYW5kbGVyX3V0aWwuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci90YXBfcmVjb2duaXplci5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9oYW5kbGVyL3RhcF96b29tLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvbW91c2UuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci90b3VjaF9wYW4uanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci90b3VjaF96b29tX3JvdGF0ZS5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9oYW5kbGVyL2tleWJvYXJkLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvc2Nyb2xsX3pvb20uanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci9zaGltL2RibGNsaWNrX3pvb20uanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci9jbGlja196b29tLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvdGFwX2RyYWdfem9vbS5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9oYW5kbGVyL3NoaW0vZHJhZ19wYW4uanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvaGFuZGxlci9zaGltL2RyYWdfcm90YXRlLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2hhbmRsZXIvc2hpbS90b3VjaF96b29tX3JvdGF0ZS5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9oYW5kbGVyX21hbmFnZXIuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvY2FtZXJhLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2NvbnRyb2wvYXR0cmlidXRpb25fY29udHJvbC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9jb250cm9sL2xvZ29fY29udHJvbC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91dGlsL3Rhc2tfcXVldWUuanMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbC9zbWFydF93cmFwLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3VpL2FuY2hvci5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9tYXJrZXIuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvcG9wdXAuanMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbC9lYXNlZF92YXJpYWJsZS5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9kZWZhdWx0X2xvY2FsZS5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9tYXAuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvY29udHJvbC9uYXZpZ2F0aW9uX2NvbnRyb2wuanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvY29udHJvbC9nZW9sb2NhdGVfY29udHJvbC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91aS9jb250cm9sL3NjYWxlX2NvbnRyb2wuanMiLCIuLi8uLi8uLi8uLi9zcmMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9zcmMvdWkvY29udHJvbC9mdWxsc2NyZWVuX2NvbnRyb2wuanMiLCIuLi8uLi8uLi8uLi9iZW5jaC9saWIvYWNjZXNzX3Rva2VuLmpzIiwiLi4vLi4vLi4vLi4vYmVuY2gvbGliL2JlbmNobWFyay5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2xpYi9mZXRjaF9zdHlsZS5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2xpYi90aWxlX3BhcnNlci5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2JlbmNobWFya3MvbGF5b3V0LmpzIiwiLi4vLi4vLi4vLi4vYmVuY2gvbGliL2NyZWF0ZV9tYXAuanMiLCIuLi8uLi8uLi8uLi9iZW5jaC9iZW5jaG1hcmtzL3dvcmtlcl90cmFuc2Zlci5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2JlbmNobWFya3MvcGFpbnRfc3RhdGVzLmpzIiwiLi4vLi4vLi4vLi4vYmVuY2gvYmVuY2htYXJrcy9yZW1vdmVfcGFpbnRfc3RhdGUuanMiLCIuLi8uLi8uLi8uLi9iZW5jaC9iZW5jaG1hcmtzL2xheWVycy5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2JlbmNobWFya3MvcXVlcnlfcG9pbnQuanMiLCIuLi8uLi8uLi8uLi9zcmMvc3R5bGUtc3BlYy9mdW5jdGlvbi9jb252ZXJ0LmpzIiwiLi4vLi4vLi4vLi4vYmVuY2gvYmVuY2htYXJrcy9leHByZXNzaW9ucy5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL3ZlcnNpb25zL2JlbmNobWFya3MuanMiLCIuLi8uLi8uLi8uLi9iZW5jaC9saWIvbG9jYXRpb25zX3dpdGhfdGlsZV9pZC5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2JlbmNobWFya3MvcGFpbnQuanMiLCIuLi8uLi8uLi8uLi9iZW5jaC9iZW5jaG1hcmtzL3F1ZXJ5X2JveC5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2JlbmNobWFya3MvcGxhY2VtZW50LmpzIiwiLi4vLi4vLi4vLi4vYmVuY2gvYmVuY2htYXJrcy9zdHlsZV92YWxpZGF0ZS5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2JlbmNobWFya3Mvc3R5bGVfbGF5ZXJfY3JlYXRlLmpzIiwiLi4vLi4vLi4vLi4vYmVuY2gvYmVuY2htYXJrcy9tYXBfbG9hZC5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2JlbmNobWFya3MvbGF5b3V0X2Rkcy5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2JlbmNobWFya3Mvc3ltYm9sX2xheW91dC5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2JlbmNobWFya3MvZmlsdGVyX2NyZWF0ZS5qcyIsIi4uLy4uLy4uLy4uL2JlbmNoL2JlbmNobWFya3MvZmlsdGVyX2V2YWx1YXRlLmpzIiwiLi4vLi4vLi4vLi4vYmVuY2gvYmVuY2htYXJrcy9oaWxsc2hhZGVfbG9hZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuXG4vKipcbiAqIERlZXBseSBjb21wYXJlcyB0d28gb2JqZWN0IGxpdGVyYWxzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRlZXBFcXVhbChhOiA/bWl4ZWQsIGI6ID9taXhlZCk6IGJvb2xlYW4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShiKSB8fCBhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWRlZXBFcXVhbChhW2ldLCBiW2ldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnICYmIGEgIT09IG51bGwgJiYgYiAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoISh0eXBlb2YgYiA9PT0gJ29iamVjdCcpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYSkge1xuICAgICAgICAgICAgaWYgKCFkZWVwRXF1YWwoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBhID09PSBiO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkZWVwRXF1YWw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuc3VwcG9ydGVkID0gaXNTdXBwb3J0ZWQ7XG5leHBvcnRzLm5vdFN1cHBvcnRlZFJlYXNvbiA9IG5vdFN1cHBvcnRlZFJlYXNvbjtcblxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBNYXBib3ggR0wgSlNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ZmFsc2VdIFJldHVybiBgZmFsc2VgXG4gKiAgIGlmIHRoZSBwZXJmb3JtYW5jZSBvZiBNYXBib3ggR0wgSlMgd291bGQgYmUgZHJhbWF0aWNhbGx5IHdvcnNlIHRoYW5cbiAqICAgZXhwZWN0ZWQgKGkuZS4gYSBzb2Z0d2FyZSByZW5kZXJlciBpcyB3b3VsZCBiZSB1c2VkKVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNTdXBwb3J0ZWQob3B0aW9ucykge1xuICAgIHJldHVybiAhbm90U3VwcG9ydGVkUmVhc29uKG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBub3RTdXBwb3J0ZWRSZWFzb24ob3B0aW9ucykge1xuICAgIGlmICghaXNCcm93c2VyKCkpIHJldHVybiAnbm90IGEgYnJvd3Nlcic7XG4gICAgaWYgKCFpc0FycmF5U3VwcG9ydGVkKCkpIHJldHVybiAnaW5zdWZmaWNlbnQgQXJyYXkgc3VwcG9ydCc7XG4gICAgaWYgKCFpc0Z1bmN0aW9uU3VwcG9ydGVkKCkpIHJldHVybiAnaW5zdWZmaWNpZW50IEZ1bmN0aW9uIHN1cHBvcnQnO1xuICAgIGlmICghaXNPYmplY3RTdXBwb3J0ZWQoKSkgcmV0dXJuICdpbnN1ZmZpY2llbnQgT2JqZWN0IHN1cHBvcnQnO1xuICAgIGlmICghaXNKU09OU3VwcG9ydGVkKCkpIHJldHVybiAnaW5zdWZmaWNpZW50IEpTT04gc3VwcG9ydCc7XG4gICAgaWYgKCFpc1dvcmtlclN1cHBvcnRlZCgpKSByZXR1cm4gJ2luc3VmZmljaWVudCB3b3JrZXIgc3VwcG9ydCc7XG4gICAgaWYgKCFpc1VpbnQ4Q2xhbXBlZEFycmF5U3VwcG9ydGVkKCkpIHJldHVybiAnaW5zdWZmaWNpZW50IFVpbnQ4Q2xhbXBlZEFycmF5IHN1cHBvcnQnO1xuICAgIGlmICghaXNBcnJheUJ1ZmZlclN1cHBvcnRlZCgpKSByZXR1cm4gJ2luc3VmZmljaWVudCBBcnJheUJ1ZmZlciBzdXBwb3J0JztcbiAgICBpZiAoIWlzQ2FudmFzR2V0SW1hZ2VEYXRhU3VwcG9ydGVkKCkpIHJldHVybiAnaW5zdWZmaWNpZW50IENhbnZhcy9nZXRJbWFnZURhdGEgc3VwcG9ydCc7XG4gICAgaWYgKCFpc1dlYkdMU3VwcG9ydGVkQ2FjaGVkKG9wdGlvbnMgJiYgb3B0aW9ucy5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0KSkgcmV0dXJuICdpbnN1ZmZpY2llbnQgV2ViR0wgc3VwcG9ydCc7XG4gICAgaWYgKCFpc05vdElFKCkpIHJldHVybiAnaW5zdWZmaWNpZW50IEVDTUFTY3JpcHQgNiBzdXBwb3J0Jztcbn1cblxuZnVuY3Rpb24gaXNCcm93c2VyKCkge1xuICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIEFycmF5LnByb3RvdHlwZSAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZXZlcnkgJiZcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLmZpbHRlciAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YgJiZcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLm1hcCAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuc29tZSAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAmJlxuICAgICAgICBBcnJheS5pc0FycmF5XG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvblN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdFN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBPYmplY3Qua2V5cyAmJlxuICAgICAgICBPYmplY3QuY3JlYXRlICYmXG4gICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJlxuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyAmJlxuICAgICAgICBPYmplY3QuaXNTZWFsZWQgJiZcbiAgICAgICAgT2JqZWN0LmlzRnJvemVuICYmXG4gICAgICAgIE9iamVjdC5pc0V4dGVuc2libGUgJiZcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJlxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiZcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgJiZcbiAgICAgICAgT2JqZWN0LnNlYWwgJiZcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSAmJlxuICAgICAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnNcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc0pTT05TdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICdKU09OJyBpbiB3aW5kb3cgJiYgJ3BhcnNlJyBpbiBKU09OICYmICdzdHJpbmdpZnknIGluIEpTT047XG59XG5cbmZ1bmN0aW9uIGlzV29ya2VyU3VwcG9ydGVkKCkge1xuICAgIGlmICghKCdXb3JrZXInIGluIHdpbmRvdyAmJiAnQmxvYicgaW4gd2luZG93ICYmICdVUkwnIGluIHdpbmRvdykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBibG9iID0gbmV3IEJsb2IoWycnXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KTtcbiAgICB2YXIgd29ya2VyVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICB2YXIgc3VwcG9ydGVkO1xuICAgIHZhciB3b3JrZXI7XG5cbiAgICB0cnkge1xuICAgICAgICB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlclVSTCk7XG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAod29ya2VyKSB7XG4gICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICB9XG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCh3b3JrZXJVUkwpO1xuXG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuLy8gSUUxMSBvbmx5IHN1cHBvcnRzIGBVaW50OENsYW1wZWRBcnJheWAgYXMgb2YgdmVyc2lvblxuLy8gW0tCMjkyOTQzN10oaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20vZW4tdXMva2IvMjkyOTQzNylcbmZ1bmN0aW9uIGlzVWludDhDbGFtcGVkQXJyYXlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICdVaW50OENsYW1wZWRBcnJheScgaW4gd2luZG93O1xufVxuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1zdXBwb3J0ZWQvaXNzdWVzLzE5XG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXc7XG59XG5cbi8vIFNvbWUgYnJvd3NlcnMgb3IgYnJvd3NlciBleHRlbnNpb25zIGJsb2NrIGFjY2VzcyB0byBjYW52YXMgZGF0YSB0byBwcmV2ZW50IGZpbmdlcnByaW50aW5nLlxuLy8gTWFwYm94IEdMIHVzZXMgdGhpcyBBUEkgdG8gbG9hZCBzcHJpdGVzIGFuZCBpbWFnZXMgaW4gZ2VuZXJhbC5cbmZ1bmN0aW9uIGlzQ2FudmFzR2V0SW1hZ2VEYXRhU3VwcG9ydGVkKCkge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gMTtcbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKTtcbiAgICByZXR1cm4gaW1hZ2VEYXRhICYmIGltYWdlRGF0YS53aWR0aCA9PT0gY2FudmFzLndpZHRoO1xufVxuXG52YXIgaXNXZWJHTFN1cHBvcnRlZENhY2hlID0ge307XG5mdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkQ2FjaGVkKGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQpIHtcblxuICAgIGlmIChpc1dlYkdMU3VwcG9ydGVkQ2FjaGVbZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpc1dlYkdMU3VwcG9ydGVkQ2FjaGVbZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdF0gPSBpc1dlYkdMU3VwcG9ydGVkKGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQpO1xuICAgIH1cblxuICAgIHJldHVybiBpc1dlYkdMU3VwcG9ydGVkQ2FjaGVbZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdF07XG59XG5cbmlzU3VwcG9ydGVkLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMgPSB7XG4gICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICBhbHBoYTogdHJ1ZSxcbiAgICBzdGVuY2lsOiB0cnVlLFxuICAgIGRlcHRoOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBnZXRXZWJHTENvbnRleHQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCkge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIHZhciBhdHRyaWJ1dGVzID0gT2JqZWN0LmNyZWF0ZShpc1N1cHBvcnRlZC53ZWJHTENvbnRleHRBdHRyaWJ1dGVzKTtcbiAgICBhdHRyaWJ1dGVzLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQgPSBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgYXR0cmlidXRlcykgfHxcbiAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGF0dHJpYnV0ZXMpXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZChmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0KSB7XG4gICAgdmFyIGdsID0gZ2V0V2ViR0xDb250ZXh0KGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQpO1xuICAgIGlmICghZ2wpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFRyeSBjb21waWxpbmcgYSBzaGFkZXIgYW5kIGdldCBpdHMgY29tcGlsZSBzdGF0dXMuIFNvbWUgYnJvd3NlcnMgbGlrZSBCcmF2ZSBibG9jayB0aGlzIEFQSVxuICAgIC8vIHRvIHByZXZlbnQgZmluZ2VycHJpbnRpbmcuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBtZWFucyB0aGF0IE1hcGJveCBHTCB3b24ndCB3b3JrLlxuICAgIHZhciBzaGFkZXI7XG4gICAgdHJ5IHtcbiAgICAgICAgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gc29tZSBvbGRlciBicm93c2VycyB0aHJvdyBhbiBleGNlcHRpb24gdGhhdCBgY3JlYXRlU2hhZGVyYCBpcyBub3QgZGVmaW5lZFxuICAgICAgICAvLyBzbyBoYW5kbGUgdGhpcyBzZXBhcmF0ZWx5IGZyb20gdGhlIGNhc2Ugd2hlcmUgYnJvd3NlcnMgYmxvY2sgYGNyZWF0ZVNoYWRlcmBcbiAgICAgICAgLy8gZm9yIHNlY3VyaXR5IHJlYXNvbnNcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghc2hhZGVyIHx8IGdsLmlzQ29udGV4dExvc3QoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsICd2b2lkIG1haW4oKSB7fScpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICByZXR1cm4gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpID09PSB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc05vdElFKCkge1xuICAgIHJldHVybiAhZG9jdW1lbnQuZG9jdW1lbnRNb2RlO1xufVxuIiwiLy8gQGZsb3cgc3RyaWN0XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuL3dpbmRvdy5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbi8vIHJlZmluZSB0aGUgcmV0dXJuIHR5cGUgYmFzZWQgb24gdGFnTmFtZSwgZS5nLiAnYnV0dG9uJyAtPiBIVE1MQnV0dG9uRWxlbWVudFxuLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZTxUOiBzdHJpbmc+KHRhZ05hbWU6IFQsIGNsYXNzTmFtZTogP3N0cmluZywgY29udGFpbmVyPzogSFRNTEVsZW1lbnQpOiAkQ2FsbDx0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCwgVD4ge1xuICAgIGNvbnN0IGVsID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkKSBlbC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgaWYgKGNvbnRhaW5lcikgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICByZXR1cm4gZWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTVkcodGFnTmFtZTogc3RyaW5nLCBhdHRyaWJ1dGVzOiB7W3N0cmluZ106IHN0cmluZyB8IG51bWJlcn0sIGNvbnRhaW5lcj86IEVsZW1lbnQpOiBFbGVtZW50IHtcbiAgICBjb25zdCBlbCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgdGFnTmFtZSk7XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIG5hbWUsIGF0dHJpYnV0ZXNbbmFtZV0pO1xuICAgIH1cbiAgICBpZiAoY29udGFpbmVyKSBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIHJldHVybiBlbDtcbn1cblxuY29uc3QgZG9jU3R5bGUgPSB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtcbmNvbnN0IHNlbGVjdFByb3AgPSBkb2NTdHlsZSAmJiBkb2NTdHlsZS51c2VyU2VsZWN0ICE9PSB1bmRlZmluZWQgPyAndXNlclNlbGVjdCcgOiAnV2Via2l0VXNlclNlbGVjdCc7XG5sZXQgdXNlclNlbGVjdDtcblxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVEcmFnKCkge1xuICAgIGlmIChkb2NTdHlsZSAmJiBzZWxlY3RQcm9wKSB7XG4gICAgICAgIHVzZXJTZWxlY3QgPSBkb2NTdHlsZVtzZWxlY3RQcm9wXTtcbiAgICAgICAgZG9jU3R5bGVbc2VsZWN0UHJvcF0gPSAnbm9uZSc7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlRHJhZygpIHtcbiAgICBpZiAoZG9jU3R5bGUgJiYgc2VsZWN0UHJvcCkge1xuICAgICAgICBkb2NTdHlsZVtzZWxlY3RQcm9wXSA9IHVzZXJTZWxlY3Q7XG4gICAgfVxufVxuXG4vLyBTdXBwcmVzcyB0aGUgbmV4dCBjbGljaywgYnV0IG9ubHkgaWYgaXQncyBpbW1lZGlhdGUuXG5mdW5jdGlvbiBzdXBwcmVzc0NsaWNrTGlzdGVuZXIoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN1cHByZXNzQ2xpY2tMaXN0ZW5lciwgdHJ1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdXBwcmVzc0NsaWNrKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN1cHByZXNzQ2xpY2tMaXN0ZW5lciwgdHJ1ZSk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdXBwcmVzc0NsaWNrTGlzdGVuZXIsIHRydWUpO1xuICAgIH0sIDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91c2VQb3MoZWw6IEhUTUxFbGVtZW50LCBlOiBNb3VzZUV2ZW50IHwgV2hlZWxFdmVudCk6IFBvaW50IHtcbiAgICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIGdldFNjYWxlZFBvaW50KGVsLCByZWN0LCBlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvdWNoUG9zKGVsOiBIVE1MRWxlbWVudCwgdG91Y2hlczogVG91Y2hMaXN0KTogQXJyYXk8UG9pbnQ+IHtcbiAgICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIHBvaW50cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBvaW50cy5wdXNoKGdldFNjYWxlZFBvaW50KGVsLCByZWN0LCB0b3VjaGVzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VzZUJ1dHRvbihlOiBNb3VzZUV2ZW50KTogbnVtYmVyIHtcbiAgICBhc3NlcnQoZS50eXBlID09PSAnbW91c2Vkb3duJyB8fCBlLnR5cGUgPT09ICdtb3VzZXVwJyk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuSW5zdGFsbFRyaWdnZXIgIT09ICd1bmRlZmluZWQnICYmIGUuYnV0dG9uID09PSAyICYmIGUuY3RybEtleSAmJlxuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtLnRvVXBwZXJDYXNlKCkuaW5kZXhPZignTUFDJykgPj0gMCkge1xuICAgICAgICAvLyBGaXggZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8zMTMxOlxuICAgICAgICAvLyBGaXJlZm94IChkZXRlY3RlZCBieSBJbnN0YWxsVHJpZ2dlcikgb24gTWFjIGRldGVybWluZXMgZS5idXR0b24gPSAyIHdoZW5cbiAgICAgICAgLy8gdXNpbmcgQ29udHJvbCArIGxlZnQgY2xpY2tcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBlLmJ1dHRvbjtcbn1cblxuZnVuY3Rpb24gZ2V0U2NhbGVkUG9pbnQoZWw6IEhUTUxFbGVtZW50LCByZWN0OiBDbGllbnRSZWN0LCBlOiBNb3VzZUV2ZW50IHwgV2hlZWxFdmVudCB8IFRvdWNoKSB7XG4gICAgLy8gVW50aWwgd2UgZ2V0IHN1cHBvcnQgZm9yIHBvaW50ZXIgZXZlbnRzIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50KVxuICAgIC8vIHdlIHVzZSB0aGlzIGRpcnR5IHRyaWNrIHdoaWNoIHdvdWxkIG5vdCB3b3JrIGZvciB0aGUgY2FzZSBvZiByb3RhdGVkIHRyYW5zZm9ybXMsIGJ1dCB3b3JrcyB3ZWxsIGZvclxuICAgIC8vIHRoZSBjYXNlIG9mIHNpbXBsZSBzY2FsaW5nLlxuICAgIC8vIE5vdGU6IGBlbC5vZmZzZXRXaWR0aCA9PT0gcmVjdC53aWR0aGAgZWxpbWluYXRlcyB0aGUgYDAvMGAgY2FzZS5cbiAgICBjb25zdCBzY2FsaW5nID0gZWwub2Zmc2V0V2lkdGggPT09IHJlY3Qud2lkdGggPyAxIDogZWwub2Zmc2V0V2lkdGggLyByZWN0LndpZHRoO1xuICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgIChlLmNsaWVudFggLSByZWN0LmxlZnQpICogc2NhbGluZyxcbiAgICAgICAgKGUuY2xpZW50WSAtIHJlY3QudG9wKSAqIHNjYWxpbmdcbiAgICApO1xufVxuIiwiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG4vKipcbiAqIDJ4MiBNYXRyaXhcbiAqIEBtb2R1bGUgbWF0MlxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQyXG4gKlxuICogQHJldHVybnMge21hdDJ9IGEgbmV3IDJ4MiBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICB9XG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzNdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQyIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgbWF0cml4XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgbWF0cml4IHRvIGNsb25lXG4gKiBAcmV0dXJucyB7bWF0Mn0gYSBuZXcgMngyIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDIgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQyIHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdDIgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHJldHVybnMge21hdDJ9IG91dCBBIG5ldyAyeDIgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0xMCwgbTExKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0xMDtcbiAgb3V0WzNdID0gbTExO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQyIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTEwLCBtMTEpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0xMDtcbiAgb3V0WzNdID0gbTExO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc3Bvc2UgdGhlIHZhbHVlcyBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlXG4gIC8vIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTEgPSBhWzFdO1xuICAgIG91dFsxXSA9IGFbMl07XG4gICAgb3V0WzJdID0gYTE7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzJdO1xuICAgIG91dFsyXSA9IGFbMV07XG4gICAgb3V0WzNdID0gYVszXTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEludmVydHMgYSBtYXQyXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHZhciBkZXQgPSBhMCAqIGEzIC0gYTIgKiBhMTtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSBhMyAqIGRldDtcbiAgb3V0WzFdID0gLWExICogZGV0O1xuICBvdXRbMl0gPSAtYTIgKiBkZXQ7XG4gIG91dFszXSA9IGEwICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcbiAgLy8gQ2FjaGluZyB0aGlzIHZhbHVlIGlzIG5lc3NlY2FyeSBpZiBvdXQgPT0gYVxuICB2YXIgYTAgPSBhWzBdO1xuICBvdXRbMF0gPSBhWzNdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIG91dFszXSA9IGEwO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge051bWJlcn0gZGV0ZXJtaW5hbnQgb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHJldHVybiBhWzBdICogYVszXSAtIGFbMl0gKiBhWzFdO1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQyJ3NcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgb3V0WzBdID0gYTAgKiBiMCArIGEyICogYjE7XG4gIG91dFsxXSA9IGExICogYjAgKyBhMyAqIGIxO1xuICBvdXRbMl0gPSBhMCAqIGIyICsgYTIgKiBiMztcbiAgb3V0WzNdID0gYTEgKiBiMiArIGEzICogYjM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXQyIGJ5IHRoZSBnaXZlbiBhbmdsZVxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBhMCAqIGMgKyBhMiAqIHM7XG4gIG91dFsxXSA9IGExICogYyArIGEzICogcztcbiAgb3V0WzJdID0gYTAgKiAtcyArIGEyICogYztcbiAgb3V0WzNdID0gYTEgKiAtcyArIGEzICogYztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQyIGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMyXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiB0aGUgdmVjMiB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIHYwID0gdlswXSxcbiAgICAgIHYxID0gdlsxXTtcbiAgb3V0WzBdID0gYTAgKiB2MDtcbiAgb3V0WzFdID0gYTEgKiB2MDtcbiAgb3V0WzJdID0gYTIgKiB2MTtcbiAgb3V0WzNdID0gYTMgKiB2MTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gYW5nbGVcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQyLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDIucm90YXRlKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgbWF0MiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAtcztcbiAgb3V0WzNdID0gYztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQyLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDIuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCBtYXQyIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gdlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJtYXQyKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0MlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguaHlwb3QoYVswXSwgYVsxXSwgYVsyXSwgYVszXSk7XG59XG4vKipcbiAqIFJldHVybnMgTCwgRCBhbmQgVSBtYXRyaWNlcyAoTG93ZXIgdHJpYW5ndWxhciwgRGlhZ29uYWwgYW5kIFVwcGVyIHRyaWFuZ3VsYXIpIGJ5IGZhY3Rvcml6aW5nIHRoZSBpbnB1dCBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBMIHRoZSBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IEQgdGhlIGRpYWdvbmFsIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IFUgdGhlIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgaW5wdXQgbWF0cml4IHRvIGZhY3Rvcml6ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBMRFUoTCwgRCwgVSwgYSkge1xuICBMWzJdID0gYVsyXSAvIGFbMF07XG4gIFVbMF0gPSBhWzBdO1xuICBVWzFdID0gYVsxXTtcbiAgVVszXSA9IGFbM10gLSBMWzJdICogVVsxXTtcbiAgcmV0dXJuIFtMLCBELCBVXTtcbn1cbi8qKlxuICogQWRkcyB0d28gbWF0MidzXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICBvdXRbM10gPSBhWzNdICsgYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM107XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSk7XG59XG4vKipcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gbWF0MidzIGFmdGVyIG11bHRpcGx5aW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWUuXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIncyBlbGVtZW50cyBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQyLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQyLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCIvLyBAZmxvd1xuXG5pbXBvcnQge1JHQkFJbWFnZX0gZnJvbSAnLi4vdXRpbC9pbWFnZS5qcyc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAuanMnO1xuXG5leHBvcnQgdHlwZSBTdHlsZUltYWdlRGF0YSA9IHtcbiAgICBkYXRhOiBSR0JBSW1hZ2UsXG4gICAgdmVyc2lvbjogbnVtYmVyLFxuICAgIGhhc1JlbmRlckNhbGxiYWNrPzogYm9vbGVhbixcbiAgICB1c2VySW1hZ2U/OiBTdHlsZUltYWdlSW50ZXJmYWNlXG59O1xuXG5leHBvcnQgdHlwZSBTdHlsZUltYWdlTWV0YWRhdGEgPSB7XG4gICAgcGl4ZWxSYXRpbzogbnVtYmVyLFxuICAgIHNkZjogYm9vbGVhbixcbiAgICBzdHJldGNoWD86IEFycmF5PFtudW1iZXIsIG51bWJlcl0+LFxuICAgIHN0cmV0Y2hZPzogQXJyYXk8W251bWJlciwgbnVtYmVyXT4sXG4gICAgY29udGVudD86IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdXG59O1xuXG5leHBvcnQgdHlwZSBTdHlsZUltYWdlID0gU3R5bGVJbWFnZURhdGEgJiBTdHlsZUltYWdlTWV0YWRhdGE7XG5cbmV4cG9ydCB0eXBlIFN0eWxlSW1hZ2VJbnRlcmZhY2UgPSB7XG4gICAgd2lkdGg6IG51bWJlcixcbiAgICBoZWlnaHQ6IG51bWJlcixcbiAgICBkYXRhOiBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXksXG4gICAgcmVuZGVyPzogKCkgPT4gYm9vbGVhbixcbiAgICBvbkFkZD86IChtYXA6IE1hcCwgaWQ6IHN0cmluZykgPT4gdm9pZCxcbiAgICBvblJlbW92ZT86ICgpID0+IHZvaWRcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJTdHlsZUltYWdlKGltYWdlOiBTdHlsZUltYWdlKTogYm9vbGVhbiB7XG4gICAgY29uc3Qge3VzZXJJbWFnZX0gPSBpbWFnZTtcbiAgICBpZiAodXNlckltYWdlICYmIHVzZXJJbWFnZS5yZW5kZXIpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IHVzZXJJbWFnZS5yZW5kZXIoKTtcbiAgICAgICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgICAgICAgIGltYWdlLmRhdGEucmVwbGFjZShuZXcgVWludDhBcnJheSh1c2VySW1hZ2UuZGF0YS5idWZmZXIpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBzdHlsZSBpbWFnZXMuIFRoaXMgaXMgYSBzcGVjaWZpY2F0aW9uIGZvclxuICogaW1wbGVtZW50ZXJzIHRvIG1vZGVsOiBpdCBpcyBub3QgYW4gZXhwb3J0ZWQgbWV0aG9kIG9yIGNsYXNzLlxuICpcbiAqIEltYWdlcyBpbXBsZW1lbnRpbmcgdGhpcyBpbnRlcmZhY2UgY2FuIGJlIHJlZHJhd24gZm9yIGV2ZXJ5IGZyYW1lLiBUaGV5IGNhbiBiZSB1c2VkIHRvIGFuaW1hdGVcbiAqIGljb25zIGFuZCBwYXR0ZXJucyBvciBtYWtlIHRoZW0gcmVzcG9uZCB0byB1c2VyIGlucHV0LiBTdHlsZSBpbWFnZXMgY2FuIGltcGxlbWVudCBhXG4gKiB7QGxpbmsgU3R5bGVJbWFnZUludGVyZmFjZSNyZW5kZXJ9IG1ldGhvZC4gVGhlIG1ldGhvZCBpcyBjYWxsZWQgZXZlcnkgZnJhbWUgYW5kXG4gKiBjYW4gYmUgdXNlZCB0byB1cGRhdGUgdGhlIGltYWdlLlxuICpcbiAqIEBpbnRlcmZhY2UgU3R5bGVJbWFnZUludGVyZmFjZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIFdpZHRoIGluIHBpeGVscy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IGluIHBpeGVscy5cbiAqIEBwcm9wZXJ0eSB7VWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSBkYXRhIEJ5dGUgYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBpbWFnZS4gVG8gZW5zdXJlIHNwYWNlIGZvciBhbGwgZm91ciBjaGFubmVscyBpbiBhbiBSR0JBIGNvbG9yLCBzaXplIG11c3QgYmUgd2lkdGggw5cgaGVpZ2h0IMOXIDQuXG4gKlxuICogQHNlZSBbRXhhbXBsZTogQWRkIGFuIGFuaW1hdGVkIGljb24gdG8gdGhlIG1hcC5dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2FkZC1pbWFnZS1hbmltYXRlZC8pXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGZsYXNoaW5nU3F1YXJlID0ge1xuICogICAgIHdpZHRoOiA2NCxcbiAqICAgICBoZWlnaHQ6IDY0LFxuICogICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KDY0ICogNjQgKiA0KSxcbiAqXG4gKiAgICAgb25BZGQobWFwKSB7XG4gKiAgICAgICAgIHRoaXMubWFwID0gbWFwO1xuICogICAgIH0sXG4gKlxuICogICAgIHJlbmRlcigpIHtcbiAqICAgICAgICAgLy8ga2VlcCByZXBhaW50aW5nIHdoaWxlIHRoZSBpY29uIGlzIG9uIHRoZSBtYXBcbiAqICAgICAgICAgdGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKTtcbiAqXG4gKiAgICAgICAgIC8vIGFsdGVybmF0ZSBiZXR3ZWVuIGJsYWNrIGFuZCB3aGl0ZSBiYXNlZCBvbiB0aGUgdGltZVxuICogICAgICAgICBjb25zdCB2YWx1ZSA9IE1hdGgucm91bmQoRGF0ZS5ub3coKSAvIDEwMDApICUgMiA9PT0gMCAgPyAyNTUgOiAwO1xuICpcbiAqICAgICAgICAgLy8gY2hlY2sgaWYgaW1hZ2UgbmVlZHMgdG8gYmUgY2hhbmdlZFxuICogICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMucHJldmlvdXNWYWx1ZSkge1xuICogICAgICAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gdmFsdWU7XG4gKlxuICogICAgICAgICAgICAgY29uc3QgYnl0ZXNQZXJQaXhlbCA9IDQ7XG4gKiAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICogICAgICAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5oZWlnaHQ7IHkrKykge1xuICogICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAoeSAqIHRoaXMud2lkdGggKyB4KSAqIGJ5dGVzUGVyUGl4ZWw7XG4gKiAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtvZmZzZXQgKyAwXSA9IHZhbHVlO1xuICogICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFbb2Zmc2V0ICsgMV0gPSB2YWx1ZTtcbiAqICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhW29mZnNldCArIDJdID0gdmFsdWU7XG4gKiAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtvZmZzZXQgKyAzXSA9IDI1NTtcbiAqICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICB9XG4gKlxuICogICAgICAgICAgICAgLy8gcmV0dXJuIHRydWUgdG8gaW5kaWNhdGUgdGhhdCB0aGUgaW1hZ2UgY2hhbmdlZFxuICogICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gKiAgICAgICAgIH1cbiAqICAgICB9XG4gKiB9O1xuICpcbiAqIG1hcC5hZGRJbWFnZSgnZmxhc2hpbmdfc3F1YXJlJywgZmxhc2hpbmdTcXVhcmUpO1xuICovXG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIG9uY2UgYmVmb3JlIGV2ZXJ5IGZyYW1lIHdoZXJlIHRoZSBpY29uIHdpbGwgYmUgdXNlZC5cbiAqIFRoZSBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdXBkYXRlIHRoZSBpbWFnZSdzIGBkYXRhYCBtZW1iZXIgd2l0aCBhIG5ldyBpbWFnZS5cbiAqXG4gKiBJZiB0aGUgbWV0aG9kIHVwZGF0ZXMgdGhlIGltYWdlIGl0IG11c3QgcmV0dXJuIGB0cnVlYCB0byBjb21taXQgdGhlIGNoYW5nZS5cbiAqIElmIHRoZSBtZXRob2QgcmV0dXJucyBgZmFsc2VgIG9yIG5vdGhpbmcgdGhlIGltYWdlIGlzIGFzc3VtZWQgdG8gbm90IGhhdmUgY2hhbmdlZC5cbiAqXG4gKiBJZiB1cGRhdGVzIGFyZSBpbmZyZXF1ZW50IGl0IG1heWJlIGVhc2llciB0byB1c2Uge0BsaW5rIE1hcCN1cGRhdGVJbWFnZX0gdG8gdXBkYXRlXG4gKiB0aGUgaW1hZ2UgaW5zdGVhZCBvZiBpbXBsZW1lbnRpbmcgdGhpcyBtZXRob2QuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgU3R5bGVJbWFnZUludGVyZmFjZVxuICogQGluc3RhbmNlXG4gKiBAbmFtZSByZW5kZXJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGlzIG1ldGhvZCB1cGRhdGVkIHRoZSBpbWFnZS4gYGZhbHNlYCBpZiB0aGUgaW1hZ2Ugd2FzIG5vdCBjaGFuZ2VkLlxuICovXG5cbi8qKlxuICogT3B0aW9uYWwgbWV0aG9kIGNhbGxlZCB3aGVuIHRoZSBsYXllciBoYXMgYmVlbiBhZGRlZCB0byB0aGUgTWFwIHdpdGgge0BsaW5rIE1hcCNhZGRJbWFnZX0uXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgU3R5bGVJbWFnZUludGVyZmFjZVxuICogQGluc3RhbmNlXG4gKiBAbmFtZSBvbkFkZFxuICogQHBhcmFtIHtNYXB9IG1hcCBUaGUgTWFwIHRoaXMgY3VzdG9tIGxheWVyIHdhcyBqdXN0IGFkZGVkIHRvLlxuICovXG5cbi8qKlxuICogT3B0aW9uYWwgbWV0aG9kIGNhbGxlZCB3aGVuIHRoZSBpY29uIGlzIHJlbW92ZWQgZnJvbSB0aGUgbWFwIHdpdGgge0BsaW5rIE1hcCNyZW1vdmVJbWFnZX0uXG4gKiBUaGlzIGdpdmVzIHRoZSBpbWFnZSBhIGNoYW5jZSB0byBjbGVhbiB1cCByZXNvdXJjZXMgYW5kIGV2ZW50IGxpc3RlbmVycy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBTdHlsZUltYWdlSW50ZXJmYWNlXG4gKiBAaW5zdGFuY2VcbiAqIEBuYW1lIG9uUmVtb3ZlXG4gKi9cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBwb3RwYWNrIGZyb20gJ3BvdHBhY2snO1xuXG5pbXBvcnQge0V2ZW50LCBFcnJvckV2ZW50LCBFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IHtSR0JBSW1hZ2V9IGZyb20gJy4uL3V0aWwvaW1hZ2UuanMnO1xuaW1wb3J0IHtJbWFnZVBvc2l0aW9ufSBmcm9tICcuL2ltYWdlX2F0bGFzLmpzJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZS5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQge3JlbmRlclN0eWxlSW1hZ2V9IGZyb20gJy4uL3N0eWxlL3N0eWxlX2ltYWdlLmpzJztcbmltcG9ydCB7d2Fybk9uY2V9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZUltYWdlfSBmcm9tICcuLi9zdHlsZS9zdHlsZV9pbWFnZS5qcyc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQuanMnO1xuaW1wb3J0IHR5cGUge0Jpbn0gZnJvbSAncG90cGFjayc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrLmpzJztcbmltcG9ydCB0eXBlIHtTaXplfSBmcm9tICcuLi91dGlsL2ltYWdlLmpzJztcblxudHlwZSBQYXR0ZXJuID0ge1xuICAgIGJpbjogQmluLFxuICAgIHBvc2l0aW9uOiBJbWFnZVBvc2l0aW9uXG59O1xuXG4vLyBXaGVuIGNvcGllZCBpbnRvIHRoZSBhdGxhcyB0ZXh0dXJlLCBpbWFnZSBkYXRhIGlzIHBhZGRlZCBieSBvbmUgcGl4ZWwgb24gZWFjaCBzaWRlLiBJY29uXG4vLyBpbWFnZXMgYXJlIHBhZGRlZCB3aXRoIGZ1bGx5IHRyYW5zcGFyZW50IHBpeGVscywgd2hpbGUgcGF0dGVybiBpbWFnZXMgYXJlIHBhZGRlZCB3aXRoIGFcbi8vIGNvcHkgb2YgdGhlIGltYWdlIGRhdGEgd3JhcHBlZCBmcm9tIHRoZSBvcHBvc2l0ZSBzaWRlLiBJbiBib3RoIGNhc2VzLCB0aGlzIGVuc3VyZXMgdGhlXG4vLyBjb3JyZWN0IGJlaGF2aW9yIG9mIEdMX0xJTkVBUiB0ZXh0dXJlIHNhbXBsaW5nIG1vZGUuXG5jb25zdCBwYWRkaW5nID0gMTtcblxuLypcbiAgICBJbWFnZU1hbmFnZXIgZG9lcyB0aHJlZSB0aGluZ3M6XG5cbiAgICAgICAgMS4gVHJhY2tzIHJlcXVlc3RzIGZvciBpY29uIGltYWdlcyBmcm9tIHRpbGUgd29ya2VycyBhbmQgc2VuZHMgcmVzcG9uc2VzIHdoZW4gdGhlIHJlcXVlc3RzIGFyZSBmdWxmaWxsZWQuXG4gICAgICAgIDIuIEJ1aWxkcyBhIHRleHR1cmUgYXRsYXMgZm9yIHBhdHRlcm4gaW1hZ2VzLlxuICAgICAgICAzLiBSZXJlbmRlcnMgcmVuZGVyYWJsZSBpbWFnZXMgb25jZSBwZXIgZnJhbWVcblxuICAgIFRoZXNlIGFyZSBkaXNwYXJhdGUgcmVzcG9uc2liaWxpdGllcyBhbmQgc2hvdWxkIGV2ZW50dWFsbHkgYmUgaGFuZGxlZCBieSBkaWZmZXJlbnQgY2xhc3Nlcy4gV2hlbiB3ZSBpbXBsZW1lbnRcbiAgICBkYXRhLWRyaXZlbiBzdXBwb3J0IGZvciBgKi1wYXR0ZXJuYCwgd2UnbGwgbGlrZWx5IHVzZSBwZXItYnVja2V0IHBhdHRlcm4gYXRsYXNlcywgYW5kIHRoYXQgd291bGQgYmUgYSBnb29kIHRpbWVcbiAgICB0byByZWZhY3RvciB0aGlzLlxuKi9cbmNsYXNzIEltYWdlTWFuYWdlciBleHRlbmRzIEV2ZW50ZWQge1xuICAgIGltYWdlczoge1tfOiBzdHJpbmddOiBTdHlsZUltYWdlfTtcbiAgICB1cGRhdGVkSW1hZ2VzOiB7W186IHN0cmluZ106IGJvb2xlYW59O1xuICAgIGNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZToge1tfOiBzdHJpbmddOiBib29sZWFufTtcbiAgICBsb2FkZWQ6IGJvb2xlYW47XG4gICAgcmVxdWVzdG9yczogQXJyYXk8e2lkczogQXJyYXk8c3RyaW5nPiwgY2FsbGJhY2s6IENhbGxiYWNrPHtbXzogc3RyaW5nXTogU3R5bGVJbWFnZX0+fT47XG5cbiAgICBwYXR0ZXJuczoge1tfOiBzdHJpbmddOiBQYXR0ZXJufTtcbiAgICBhdGxhc0ltYWdlOiBSR0JBSW1hZ2U7XG4gICAgYXRsYXNUZXh0dXJlOiA/VGV4dHVyZTtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmltYWdlcyA9IHt9O1xuICAgICAgICB0aGlzLnVwZGF0ZWRJbWFnZXMgPSB7fTtcbiAgICAgICAgdGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWUgPSB7fTtcbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0b3JzID0gW107XG5cbiAgICAgICAgdGhpcy5wYXR0ZXJucyA9IHt9O1xuICAgICAgICB0aGlzLmF0bGFzSW1hZ2UgPSBuZXcgUkdCQUltYWdlKHt3aWR0aDogMSwgaGVpZ2h0OiAxfSk7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIGlzTG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkZWQ7XG4gICAgfVxuXG4gICAgc2V0TG9hZGVkKGxvYWRlZDogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5sb2FkZWQgPT09IGxvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2FkZWQgPSBsb2FkZWQ7XG5cbiAgICAgICAgaWYgKGxvYWRlZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB7aWRzLCBjYWxsYmFja30gb2YgdGhpcy5yZXF1ZXN0b3JzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbm90aWZ5KGlkcywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0b3JzID0gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYXNJbWFnZShpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuZ2V0SW1hZ2UoaWQpO1xuICAgIH1cblxuICAgIGdldEltYWdlKGlkOiBzdHJpbmcpOiA/U3R5bGVJbWFnZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlc1tpZF07XG4gICAgfVxuXG4gICAgYWRkSW1hZ2UoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLmltYWdlc1tpZF0pO1xuICAgICAgICBpZiAodGhpcy5fdmFsaWRhdGUoaWQsIGltYWdlKSkge1xuICAgICAgICAgICAgdGhpcy5pbWFnZXNbaWRdID0gaW1hZ2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdmFsaWRhdGUoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLl92YWxpZGF0ZVN0cmV0Y2goaW1hZ2Uuc3RyZXRjaFgsIGltYWdlLmRhdGEgJiYgaW1hZ2UuZGF0YS53aWR0aCkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYEltYWdlIFwiJHtpZH1cIiBoYXMgaW52YWxpZCBcInN0cmV0Y2hYXCIgdmFsdWVgKSkpO1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3ZhbGlkYXRlU3RyZXRjaChpbWFnZS5zdHJldGNoWSwgaW1hZ2UuZGF0YSAmJiBpbWFnZS5kYXRhLmhlaWdodCkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYEltYWdlIFwiJHtpZH1cIiBoYXMgaW52YWxpZCBcInN0cmV0Y2hZXCIgdmFsdWVgKSkpO1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3ZhbGlkYXRlQ29udGVudChpbWFnZS5jb250ZW50LCBpbWFnZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYEltYWdlIFwiJHtpZH1cIiBoYXMgaW52YWxpZCBcImNvbnRlbnRcIiB2YWx1ZWApKSk7XG4gICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZDtcbiAgICB9XG5cbiAgICBfdmFsaWRhdGVTdHJldGNoKHN0cmV0Y2g6ID9BcnJheTxbbnVtYmVyLCBudW1iZXJdPiB8IHZvaWQsIHNpemU6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIXN0cmV0Y2gpIHJldHVybiB0cnVlO1xuICAgICAgICBsZXQgbGFzdCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBzdHJldGNoKSB7XG4gICAgICAgICAgICBpZiAocGFydFswXSA8IGxhc3QgfHwgcGFydFsxXSA8IHBhcnRbMF0gfHwgc2l6ZSA8IHBhcnRbMV0pIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGxhc3QgPSBwYXJ0WzFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIF92YWxpZGF0ZUNvbnRlbnQoY29udGVudDogP1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdIHwgdm9pZCwgaW1hZ2U6IFN0eWxlSW1hZ2UpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFjb250ZW50KSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoICE9PSA0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjb250ZW50WzBdIDwgMCB8fCBpbWFnZS5kYXRhLndpZHRoIDwgY29udGVudFswXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY29udGVudFsxXSA8IDAgfHwgaW1hZ2UuZGF0YS5oZWlnaHQgPCBjb250ZW50WzFdKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjb250ZW50WzJdIDwgMCB8fCBpbWFnZS5kYXRhLndpZHRoIDwgY29udGVudFsyXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY29udGVudFszXSA8IDAgfHwgaW1hZ2UuZGF0YS5oZWlnaHQgPCBjb250ZW50WzNdKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjb250ZW50WzJdIDwgY29udGVudFswXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY29udGVudFszXSA8IGNvbnRlbnRbMV0pIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdXBkYXRlSW1hZ2UoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpIHtcbiAgICAgICAgY29uc3Qgb2xkSW1hZ2UgPSB0aGlzLmltYWdlc1tpZF07XG4gICAgICAgIGFzc2VydChvbGRJbWFnZSk7XG4gICAgICAgIGFzc2VydChvbGRJbWFnZS5kYXRhLndpZHRoID09PSBpbWFnZS5kYXRhLndpZHRoKTtcbiAgICAgICAgYXNzZXJ0KG9sZEltYWdlLmRhdGEuaGVpZ2h0ID09PSBpbWFnZS5kYXRhLmhlaWdodCk7XG4gICAgICAgIGltYWdlLnZlcnNpb24gPSBvbGRJbWFnZS52ZXJzaW9uICsgMTtcbiAgICAgICAgdGhpcy5pbWFnZXNbaWRdID0gaW1hZ2U7XG4gICAgICAgIHRoaXMudXBkYXRlZEltYWdlc1tpZF0gPSB0cnVlO1xuICAgIH1cblxuICAgIHJlbW92ZUltYWdlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuaW1hZ2VzW2lkXSk7XG4gICAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5pbWFnZXNbaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5pbWFnZXNbaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5wYXR0ZXJuc1tpZF07XG5cbiAgICAgICAgaWYgKGltYWdlLnVzZXJJbWFnZSAmJiBpbWFnZS51c2VySW1hZ2Uub25SZW1vdmUpIHtcbiAgICAgICAgICAgIGltYWdlLnVzZXJJbWFnZS5vblJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGlzdEltYWdlcygpOiBBcnJheTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaW1hZ2VzKTtcbiAgICB9XG5cbiAgICBnZXRJbWFnZXMoaWRzOiBBcnJheTxzdHJpbmc+LCBjYWxsYmFjazogQ2FsbGJhY2s8e1tfOiBzdHJpbmddOiBTdHlsZUltYWdlfT4pIHtcbiAgICAgICAgLy8gSWYgdGhlIHNwcml0ZSBoYXMgYmVlbiBsb2FkZWQsIG9yIGlmIGFsbCB0aGUgaWNvbiBkZXBlbmRlbmNpZXMgYXJlIGFscmVhZHkgcHJlc2VudFxuICAgICAgICAvLyAoaS5lLiBpZiB0aGV5J3ZlIGJlZW4gYWRkZWQgdmlhIHJ1bnRpbWUgc3R5bGluZyksIHRoZW4gbm90aWZ5IHRoZSByZXF1ZXN0b3IgaW1tZWRpYXRlbHkuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgZGVsYXkgbm90aWZpY2F0aW9uIHVudGlsIHRoZSBzcHJpdGUgaXMgbG9hZGVkLiBBdCB0aGF0IHBvaW50LCBpZiBhbnkgb2YgdGhlXG4gICAgICAgIC8vIGRlcGVuZGVuY2llcyBhcmUgc3RpbGwgdW5hdmFpbGFibGUsIHdlJ2xsIGp1c3QgYXNzdW1lIHRoZXkgYXJlIHBlcm1hbmVudGx5IG1pc3NpbmcuXG4gICAgICAgIGxldCBoYXNBbGxEZXBlbmRlbmNpZXMgPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuaXNMb2FkZWQoKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBpZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW1hZ2VzW2lkXSkge1xuICAgICAgICAgICAgICAgICAgICBoYXNBbGxEZXBlbmRlbmNpZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNMb2FkZWQoKSB8fCBoYXNBbGxEZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX25vdGlmeShpZHMsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdG9ycy5wdXNoKHtpZHMsIGNhbGxiYWNrfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbm90aWZ5KGlkczogQXJyYXk8c3RyaW5nPiwgY2FsbGJhY2s6IENhbGxiYWNrPHtbXzogc3RyaW5nXTogU3R5bGVJbWFnZX0+KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBpZHMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pbWFnZXNbaWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnc3R5bGVpbWFnZW1pc3NpbmcnLCB7aWR9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuaW1hZ2VzW2lkXTtcbiAgICAgICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgICAgIC8vIENsb25lIHRoZSBpbWFnZSBzbyB0aGF0IG91ciBvd24gY29weSBvZiBpdHMgQXJyYXlCdWZmZXIgZG9lc24ndCBnZXQgdHJhbnNmZXJyZWQuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbaWRdID0ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBpbWFnZS5kYXRhLmNsb25lKCksXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW86IGltYWdlLnBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgICAgIHNkZjogaW1hZ2Uuc2RmLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBpbWFnZS52ZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICBzdHJldGNoWDogaW1hZ2Uuc3RyZXRjaFgsXG4gICAgICAgICAgICAgICAgICAgIHN0cmV0Y2hZOiBpbWFnZS5zdHJldGNoWSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogaW1hZ2UuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgaGFzUmVuZGVyQ2FsbGJhY2s6IEJvb2xlYW4oaW1hZ2UudXNlckltYWdlICYmIGltYWdlLnVzZXJJbWFnZS5yZW5kZXIpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2Fybk9uY2UoYEltYWdlIFwiJHtpZH1cIiBjb3VsZCBub3QgYmUgbG9hZGVkLiBQbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGFkZGVkIHRoZSBpbWFnZSB3aXRoIG1hcC5hZGRJbWFnZSgpIG9yIGEgXCJzcHJpdGVcIiBwcm9wZXJ0eSBpbiB5b3VyIHN0eWxlLiBZb3UgY2FuIHByb3ZpZGUgbWlzc2luZyBpbWFnZXMgYnkgbGlzdGVuaW5nIGZvciB0aGUgXCJzdHlsZWltYWdlbWlzc2luZ1wiIG1hcCBldmVudC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvLyBQYXR0ZXJuIHN0dWZmXG5cbiAgICBnZXRQaXhlbFNpemUoKTogU2l6ZSB7XG4gICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IHRoaXMuYXRsYXNJbWFnZTtcbiAgICAgICAgcmV0dXJuIHt3aWR0aCwgaGVpZ2h0fTtcbiAgICB9XG5cbiAgICBnZXRQYXR0ZXJuKGlkOiBzdHJpbmcpOiA/SW1hZ2VQb3NpdGlvbiB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLnBhdHRlcm5zW2lkXTtcblxuICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0SW1hZ2UoaWQpO1xuICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXR0ZXJuICYmIHBhdHRlcm4ucG9zaXRpb24udmVyc2lvbiA9PT0gaW1hZ2UudmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4ucG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXBhdHRlcm4pIHtcbiAgICAgICAgICAgIGNvbnN0IHcgPSBpbWFnZS5kYXRhLndpZHRoICsgcGFkZGluZyAqIDI7XG4gICAgICAgICAgICBjb25zdCBoID0gaW1hZ2UuZGF0YS5oZWlnaHQgKyBwYWRkaW5nICogMjtcbiAgICAgICAgICAgIGNvbnN0IGJpbiA9IHt3LCBoLCB4OiAwLCB5OiAwfTtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gbmV3IEltYWdlUG9zaXRpb24oYmluLCBpbWFnZSk7XG4gICAgICAgICAgICB0aGlzLnBhdHRlcm5zW2lkXSA9IHtiaW4sIHBvc2l0aW9ufTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhdHRlcm4ucG9zaXRpb24udmVyc2lvbiA9IGltYWdlLnZlcnNpb247XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVQYXR0ZXJuQXRsYXMoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5wYXR0ZXJuc1tpZF0ucG9zaXRpb247XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgaWYgKCF0aGlzLmF0bGFzVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5hdGxhc1RleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmF0bGFzSW1hZ2UsIGdsLlJHQkEpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuYXRsYXNUZXh0dXJlLnVwZGF0ZSh0aGlzLmF0bGFzSW1hZ2UpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmF0bGFzVGV4dHVyZSkgcmV0dXJuOyAvLyBGbG93IGNhbid0IGluZmVyIHRoYXQgYXRsYXNUZXh0dXJlIGlzIGRlZmluZWQgaGVyZVxuICAgICAgICB0aGlzLmF0bGFzVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVBhdHRlcm5BdGxhcygpIHtcbiAgICAgICAgY29uc3QgYmlucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMucGF0dGVybnMpIHtcbiAgICAgICAgICAgIGJpbnMucHVzaCh0aGlzLnBhdHRlcm5zW2lkXS5iaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge3csIGh9ID0gcG90cGFjayhiaW5zKTtcblxuICAgICAgICBjb25zdCBkc3QgPSB0aGlzLmF0bGFzSW1hZ2U7XG4gICAgICAgIGRzdC5yZXNpemUoe3dpZHRoOiB3IHx8IDEsIGhlaWdodDogaCB8fCAxfSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnBhdHRlcm5zKSB7XG4gICAgICAgICAgICBjb25zdCB7YmlufSA9IHRoaXMucGF0dGVybnNbaWRdO1xuICAgICAgICAgICAgY29uc3QgeCA9IGJpbi54ICsgcGFkZGluZztcbiAgICAgICAgICAgIGNvbnN0IHkgPSBiaW4ueSArIHBhZGRpbmc7XG4gICAgICAgICAgICBjb25zdCBzcmMgPSB0aGlzLmltYWdlc1tpZF0uZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IHcgPSBzcmMud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoID0gc3JjLmhlaWdodDtcblxuICAgICAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHt4OiAwLCB5OiAwfSwge3gsIHl9LCB7d2lkdGg6IHcsIGhlaWdodDogaH0pO1xuXG4gICAgICAgICAgICAvLyBBZGQgMSBwaXhlbCB3cmFwcGVkIHBhZGRpbmcgb24gZWFjaCBzaWRlIG9mIHRoZSBpbWFnZS5cbiAgICAgICAgICAgIFJHQkFJbWFnZS5jb3B5KHNyYywgZHN0LCB7eDogMCwgeTogaCAtIDF9LCB7eCwgeTogeSAtIDF9LCB7d2lkdGg6IHcsIGhlaWdodDogMX0pOyAvLyBUXG4gICAgICAgICAgICBSR0JBSW1hZ2UuY29weShzcmMsIGRzdCwge3g6IDAsIHk6ICAgICAwfSwge3gsIHk6IHkgKyBofSwge3dpZHRoOiB3LCBoZWlnaHQ6IDF9KTsgLy8gQlxuICAgICAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHt4OiB3IC0gMSwgeTogMH0sIHt4OiB4IC0gMSwgeX0sIHt3aWR0aDogMSwgaGVpZ2h0OiBofSk7IC8vIExcbiAgICAgICAgICAgIFJHQkFJbWFnZS5jb3B5KHNyYywgZHN0LCB7eDogMCwgICAgIHk6IDB9LCB7eDogeCArIHcsIHl9LCB7d2lkdGg6IDEsIGhlaWdodDogaH0pOyAvLyBSXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBiZWdpbkZyYW1lKCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZSA9IHt9O1xuICAgIH1cblxuICAgIGRpc3BhdGNoUmVuZGVyQ2FsbGJhY2tzKGlkczogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuXG4gICAgICAgICAgICAvLyB0aGUgY2FsbGJhY2sgZm9yIHRoZSBpbWFnZSB3YXMgYWxyZWFkeSBkaXNwYXRjaGVkIGZvciBhIGRpZmZlcmVudCBmcmFtZVxuICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW2lkXSkgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZVtpZF0gPSB0cnVlO1xuXG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuaW1hZ2VzW2lkXTtcbiAgICAgICAgICAgIGFzc2VydChpbWFnZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSByZW5kZXJTdHlsZUltYWdlKGltYWdlKTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbWFnZShpZCwgaW1hZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbWFnZU1hbmFnZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgc3R5bGVTcGVjIGZyb20gJy4uL3N0eWxlLXNwZWMvcmVmZXJlbmNlL2xhdGVzdC5qcyc7XG5cbmltcG9ydCB7ZW5kc1dpdGgsIGV4dGVuZCwgZGVnVG9SYWR9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQge0V2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQge1xuICAgIHZhbGlkYXRlU3R5bGUsXG4gICAgdmFsaWRhdGVMaWdodCxcbiAgICBlbWl0VmFsaWRhdGlvbkVycm9yc1xufSBmcm9tICcuL3ZhbGlkYXRlX3N0eWxlLmpzJztcbmltcG9ydCBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3IuanMnO1xuaW1wb3J0IHtudW1iZXIgYXMgaW50ZXJwb2xhdGV9IGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9pbnRlcnBvbGF0ZS5qcyc7XG5pbXBvcnQge1Byb3BlcnRpZXMsIFRyYW5zaXRpb25hYmxlLCBUcmFuc2l0aW9uaW5nLCBQb3NzaWJseUV2YWx1YXRlZCwgRGF0YUNvbnN0YW50UHJvcGVydHl9IGZyb20gJy4vcHJvcGVydGllcy5qcyc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZVByb3BlcnR5U3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy9zdHlsZS1zcGVjLmpzJztcbmltcG9ydCB0eXBlIEV2YWx1YXRpb25QYXJhbWV0ZXJzIGZyb20gJy4vZXZhbHVhdGlvbl9wYXJhbWV0ZXJzLmpzJztcbmltcG9ydCB0eXBlIHtTdHlsZVNldHRlck9wdGlvbnN9IGZyb20gJy4uL3N0eWxlL3N0eWxlLmpzJztcbmltcG9ydCB0eXBlIHtcbiAgICBQcm9wZXJ0eSxcbiAgICBQcm9wZXJ0eVZhbHVlLFxuICAgIFRyYW5zaXRpb25QYXJhbWV0ZXJzXG59IGZyb20gJy4vcHJvcGVydGllcy5qcyc7XG5cbmltcG9ydCB0eXBlIHtMaWdodFNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuXG5leHBvcnQgdHlwZSBMaWdodFBvc2l0aW9uID0ge1xuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgejogbnVtYmVyLFxuICAgIGF6aW11dGhhbDogbnVtYmVyLFxuICAgIHBvbGFyOiBudW1iZXIsXG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHNwaGVyaWNhbCBjb29yZGluYXRlcyB0byBjYXJ0ZXNpYW4gTGlnaHRQb3NpdGlvbiBjb29yZGluYXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHNwaGVyaWNhbCBTcGhlcmljYWwgY29vcmRpbmF0ZXMsIGluIFtyYWRpYWwsIGF6aW11dGhhbCwgcG9sYXJdXG4gKiBAcmV0dXJuIExpZ2h0UG9zaXRpb24gY2FydGVzaWFuIGNvb3JkaW5hdGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGhlcmljYWxUb0NhcnRlc2lhbihbciwgYXppbXV0aGFsLCBwb2xhcl06IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSk6IExpZ2h0UG9zaXRpb24ge1xuICAgIC8vIFdlIGFic3RyYWN0IFwibm9ydGhcIi9cInVwXCIgKGNvbXBhc3Mtd2lzZSkgdG8gYmUgMMKwIHdoZW4gcmVhbGx5IHRoaXMgaXMgOTDCsCAoz4AvMik6XG4gICAgLy8gY29ycmVjdCBmb3IgdGhhdCBoZXJlXG4gICAgY29uc3QgYSA9IGRlZ1RvUmFkKGF6aW11dGhhbCArIDkwKSwgcCA9IGRlZ1RvUmFkKHBvbGFyKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHIgKiBNYXRoLmNvcyhhKSAqIE1hdGguc2luKHApLFxuICAgICAgICB5OiByICogTWF0aC5zaW4oYSkgKiBNYXRoLnNpbihwKSxcbiAgICAgICAgejogciAqIE1hdGguY29zKHApLFxuICAgICAgICBhemltdXRoYWwsIHBvbGFyXG4gICAgfTtcbn1cblxuY2xhc3MgTGlnaHRQb3NpdGlvblByb3BlcnR5IGltcGxlbWVudHMgUHJvcGVydHk8W251bWJlciwgbnVtYmVyLCBudW1iZXJdLCBMaWdodFBvc2l0aW9uPiB7XG4gICAgc3BlY2lmaWNhdGlvbjogU3R5bGVQcm9wZXJ0eVNwZWNpZmljYXRpb247XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2F0aW9uID0gc3R5bGVTcGVjLmxpZ2h0LnBvc2l0aW9uO1xuICAgIH1cblxuICAgIHBvc3NpYmx5RXZhbHVhdGUodmFsdWU6IFByb3BlcnR5VmFsdWU8W251bWJlciwgbnVtYmVyLCBudW1iZXJdLCBMaWdodFBvc2l0aW9uPiwgcGFyYW1ldGVyczogRXZhbHVhdGlvblBhcmFtZXRlcnMpOiBMaWdodFBvc2l0aW9uIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICByZXR1cm4gc3BoZXJpY2FsVG9DYXJ0ZXNpYW4odmFsdWUuZXhwcmVzc2lvbi5ldmFsdWF0ZShwYXJhbWV0ZXJzKSk7XG4gICAgfVxuXG4gICAgaW50ZXJwb2xhdGUoYTogTGlnaHRQb3NpdGlvbiwgYjogTGlnaHRQb3NpdGlvbiwgdDogbnVtYmVyKTogTGlnaHRQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBpbnRlcnBvbGF0ZShhLngsIGIueCwgdCksXG4gICAgICAgICAgICB5OiBpbnRlcnBvbGF0ZShhLnksIGIueSwgdCksXG4gICAgICAgICAgICB6OiBpbnRlcnBvbGF0ZShhLnosIGIueiwgdCksXG4gICAgICAgICAgICBhemltdXRoYWw6IGludGVycG9sYXRlKGEuYXppbXV0aGFsLCBiLmF6aW11dGhhbCwgdCksXG4gICAgICAgICAgICBwb2xhcjogaW50ZXJwb2xhdGUoYS5wb2xhciwgYi5wb2xhciwgdCksXG4gICAgICAgIH07XG4gICAgfVxufVxuXG50eXBlIFByb3BzID0ge3xcbiAgICBcImFuY2hvclwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxcIm1hcFwiIHwgXCJ2aWV3cG9ydFwiPixcbiAgICBcInBvc2l0aW9uXCI6IExpZ2h0UG9zaXRpb25Qcm9wZXJ0eSxcbiAgICBcImNvbG9yXCI6IERhdGFDb25zdGFudFByb3BlcnR5PENvbG9yPixcbiAgICBcImludGVuc2l0eVwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxudW1iZXI+LFxufH07XG5cbmNvbnN0IHByb3BlcnRpZXM6IFByb3BlcnRpZXM8UHJvcHM+ID0gbmV3IFByb3BlcnRpZXMoe1xuICAgIFwiYW5jaG9yXCI6IG5ldyBEYXRhQ29uc3RhbnRQcm9wZXJ0eShzdHlsZVNwZWMubGlnaHQuYW5jaG9yKSxcbiAgICBcInBvc2l0aW9uXCI6IG5ldyBMaWdodFBvc2l0aW9uUHJvcGVydHkoKSxcbiAgICBcImNvbG9yXCI6IG5ldyBEYXRhQ29uc3RhbnRQcm9wZXJ0eShzdHlsZVNwZWMubGlnaHQuY29sb3IpLFxuICAgIFwiaW50ZW5zaXR5XCI6IG5ldyBEYXRhQ29uc3RhbnRQcm9wZXJ0eShzdHlsZVNwZWMubGlnaHQuaW50ZW5zaXR5KSxcbn0pO1xuXG5jb25zdCBUUkFOU0lUSU9OX1NVRkZJWCA9ICctdHJhbnNpdGlvbic7XG5cbi8qXG4gKiBSZXByZXNlbnRzIHRoZSBsaWdodCB1c2VkIHRvIGxpZ2h0IGV4dHJ1ZGVkIGZlYXR1cmVzLlxuICovXG5jbGFzcyBMaWdodCBleHRlbmRzIEV2ZW50ZWQge1xuICAgIF90cmFuc2l0aW9uYWJsZTogVHJhbnNpdGlvbmFibGU8UHJvcHM+O1xuICAgIF90cmFuc2l0aW9uaW5nOiBUcmFuc2l0aW9uaW5nPFByb3BzPjtcbiAgICBwcm9wZXJ0aWVzOiBQb3NzaWJseUV2YWx1YXRlZDxQcm9wcz47XG5cbiAgICBjb25zdHJ1Y3RvcihsaWdodE9wdGlvbnM/OiBMaWdodFNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmFibGUgPSBuZXcgVHJhbnNpdGlvbmFibGUocHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMuc2V0TGlnaHQobGlnaHRPcHRpb25zKTtcbiAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmluZyA9IHRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCk7XG4gICAgfVxuXG4gICAgZ2V0TGlnaHQoKTogTGlnaHRTcGVjaWZpY2F0aW9uIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKTogYW55KTtcbiAgICB9XG5cbiAgICBzZXRMaWdodChsaWdodD86IExpZ2h0U3BlY2lmaWNhdGlvbiwgb3B0aW9uczogU3R5bGVTZXR0ZXJPcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlTGlnaHQsIGxpZ2h0LCBvcHRpb25zKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGxpZ2h0KSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGxpZ2h0W25hbWVdO1xuICAgICAgICAgICAgaWYgKGVuZHNXaXRoKG5hbWUsIFRSQU5TSVRJT05fU1VGRklYKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24obmFtZS5zbGljZSgwLCAtVFJBTlNJVElPTl9TVUZGSVgubGVuZ3RoKSwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRWYWx1ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzOiBUcmFuc2l0aW9uUGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uaW5nID0gdGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKHBhcmFtZXRlcnMsIHRoaXMuX3RyYW5zaXRpb25pbmcpO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKTtcbiAgICB9XG5cbiAgICByZWNhbGN1bGF0ZShwYXJhbWV0ZXJzOiBFdmFsdWF0aW9uUGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUocGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgX3ZhbGlkYXRlKHZhbGlkYXRlOiBGdW5jdGlvbiwgdmFsdWU6IG1peGVkLCBvcHRpb25zPzoge3ZhbGlkYXRlPzogYm9vbGVhbn0pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy52YWxpZGF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZS5jYWxsKHZhbGlkYXRlU3R5bGUsIGV4dGVuZCh7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8yNDA3XG4gICAgICAgICAgICBzdHlsZToge2dseXBoczogdHJ1ZSwgc3ByaXRlOiB0cnVlfSxcbiAgICAgICAgICAgIHN0eWxlU3BlY1xuICAgICAgICB9KSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlnaHQ7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgc3R5bGVTcGVjIGZyb20gJy4uL3N0eWxlLXNwZWMvcmVmZXJlbmNlL2xhdGVzdC5qcyc7XG5pbXBvcnQge2VuZHNXaXRofSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IHtFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IHtQcm9wZXJ0aWVzLCBUcmFuc2l0aW9uYWJsZSwgVHJhbnNpdGlvbmluZywgUG9zc2libHlFdmFsdWF0ZWQsIERhdGFDb25zdGFudFByb3BlcnR5fSBmcm9tICcuL3Byb3BlcnRpZXMuanMnO1xuXG5pbXBvcnQgdHlwZSBFdmFsdWF0aW9uUGFyYW1ldGVycyBmcm9tICcuL2V2YWx1YXRpb25fcGFyYW1ldGVycy5qcyc7XG5pbXBvcnQgdHlwZSB7VHJhbnNpdGlvblBhcmFtZXRlcnN9IGZyb20gJy4vcHJvcGVydGllcy5qcyc7XG5pbXBvcnQgdHlwZSB7VGVycmFpblNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuXG50eXBlIFByb3BzID0ge3xcbiAgICBcInNvdXJjZVwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxzdHJpbmc+LFxuICAgIFwiZXhhZ2dlcmF0aW9uXCI6IERhdGFDb25zdGFudFByb3BlcnR5PG51bWJlcj4sXG58fTtcblxuZXhwb3J0IGNvbnN0IERyYXBlUmVuZGVyTW9kZSA9IHtcbiAgICBkZWZlcnJlZDogMCxcbiAgICBlbGV2YXRlZDogMVxufTtcblxuY29uc3QgcHJvcGVydGllczogUHJvcGVydGllczxQcm9wcz4gPSBuZXcgUHJvcGVydGllcyh7XG4gICAgXCJzb3VyY2VcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy50ZXJyYWluLnNvdXJjZSksXG4gICAgXCJleGFnZ2VyYXRpb25cIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy50ZXJyYWluLmV4YWdnZXJhdGlvbiksXG59KTtcblxuY29uc3QgVFJBTlNJVElPTl9TVUZGSVggPSAnLXRyYW5zaXRpb24nO1xuXG5jbGFzcyBUZXJyYWluIGV4dGVuZHMgRXZlbnRlZCB7XG4gICAgX3RyYW5zaXRpb25hYmxlOiBUcmFuc2l0aW9uYWJsZTxQcm9wcz47XG4gICAgX3RyYW5zaXRpb25pbmc6IFRyYW5zaXRpb25pbmc8UHJvcHM+O1xuICAgIHByb3BlcnRpZXM6IFBvc3NpYmx5RXZhbHVhdGVkPFByb3BzPjtcbiAgICBkcmFwZVJlbmRlck1vZGU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHRlcnJhaW5PcHRpb25zOiBUZXJyYWluU3BlY2lmaWNhdGlvbiwgZHJhcGVSZW5kZXJNb2RlOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmFibGUgPSBuZXcgVHJhbnNpdGlvbmFibGUocHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMuc2V0KHRlcnJhaW5PcHRpb25zKTtcbiAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmluZyA9IHRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCk7XG4gICAgICAgIHRoaXMuZHJhcGVSZW5kZXJNb2RlID0gZHJhcGVSZW5kZXJNb2RlO1xuICAgIH1cblxuICAgIGdldCgpOiBUZXJyYWluU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiAodGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCk6IGFueSk7XG4gICAgfVxuXG4gICAgc2V0KHRlcnJhaW46IFRlcnJhaW5TcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0ZXJyYWluKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRlcnJhaW5bbmFtZV07XG4gICAgICAgICAgICBpZiAoZW5kc1dpdGgobmFtZSwgVFJBTlNJVElPTl9TVUZGSVgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihuYW1lLnNsaWNlKDAsIC1UUkFOU0lUSU9OX1NVRkZJWC5sZW5ndGgpLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFZhbHVlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVRyYW5zaXRpb25zKHBhcmFtZXRlcnM6IFRyYW5zaXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25pbmcgPSB0aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQocGFyYW1ldGVycywgdGhpcy5fdHJhbnNpdGlvbmluZyk7XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpO1xuICAgIH1cblxuICAgIHJlY2FsY3VsYXRlKHBhcmFtZXRlcnM6IEV2YWx1YXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShwYXJhbWV0ZXJzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRlcnJhaW47XG4iLCIvLyBAZmxvd1xuaW1wb3J0IHt2ZWMzfSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSBmcm9tICcuLi9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQge3Ntb290aHN0ZXB9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgdHlwZSBMbmdMYXQgZnJvbSAnLi4vZ2VvL2xuZ19sYXQuanMnO1xuaW1wb3J0IHR5cGUge1Vud3JhcHBlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0uanMnO1xuXG5leHBvcnQgY29uc3QgRk9HX1BJVENIX1NUQVJUID0gNDU7XG5leHBvcnQgY29uc3QgRk9HX1BJVENIX0VORCA9IDY1O1xuZXhwb3J0IGNvbnN0IEZPR19TWU1CT0xfQ0xJUFBJTkdfVEhSRVNIT0xEID0gMC45O1xuXG5leHBvcnQgdHlwZSBGb2dTdGF0ZSA9IHtcbiAgICByYW5nZTogW251bWJlciwgbnVtYmVyXSxcbiAgICBob3Jpem9uQmxlbmQ6IG51bWJlcixcbiAgICBhbHBoYTogbnVtYmVyXG59O1xuXG4vLyBBcyBkZWZpbmVkIGluIF9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsI2ZvZ19vcGFjaXR5XG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9nT3BhY2l0eShzdGF0ZTogRm9nU3RhdGUsIHBvczogQXJyYXk8bnVtYmVyPiwgcGl0Y2g6IG51bWJlciwgZm92OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IGZvZ1BpdGNoT3BhY2l0eSA9IHNtb290aHN0ZXAoRk9HX1BJVENIX1NUQVJULCBGT0dfUElUQ0hfRU5ELCBwaXRjaCk7XG4gICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gZ2V0Rm92QWRqdXN0ZWRGb2dSYW5nZShzdGF0ZSwgZm92KTtcblxuICAgIC8vIFRoZSBvdXRwdXQgb2YgdGhpcyBmdW5jdGlvbiBtdXN0IG1hdGNoIF9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXG4gICAgLy8gRm9yIGZ1cnRoZXIgZGV0YWlscywgcmVmZXIgdG8gdGhlIGltcGxlbWVudGF0aW9uIGluIHRoZSBzaGFkZXIgY29kZVxuICAgIGNvbnN0IGRlY2F5ID0gNjtcbiAgICBjb25zdCBkZXB0aCA9IHZlYzMubGVuZ3RoKHBvcyk7XG4gICAgY29uc3QgZm9nUmFuZ2UgPSAoZGVwdGggLSBzdGFydCkgLyAoZW5kIC0gc3RhcnQpO1xuICAgIGxldCBmYWxsb2ZmID0gMS4wIC0gTWF0aC5taW4oMSwgTWF0aC5leHAoLWRlY2F5ICogZm9nUmFuZ2UpKTtcblxuICAgIGZhbGxvZmYgKj0gZmFsbG9mZiAqIGZhbGxvZmY7XG4gICAgZmFsbG9mZiA9IE1hdGgubWluKDEuMCwgMS4wMDc0NyAqIGZhbGxvZmYpO1xuXG4gICAgcmV0dXJuIGZhbGxvZmYgKiBmb2dQaXRjaE9wYWNpdHkgKiBzdGF0ZS5hbHBoYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZvdkFkanVzdGVkRm9nUmFuZ2Uoc3RhdGU6IEZvZ1N0YXRlLCBmb3Y6IG51bWJlcik6IFtudW1iZXIsIG51bWJlcl0ge1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gY29tcHV0ZXMgYSBzaGlmdGVkIGZvZyByYW5nZSBzbyB0aGF0IHRoZSBhcHBlYXJhbmNlIGlzIHVuY2hhbmdlZFxuICAgIC8vIHdoZW4gdGhlIGZvdiBjaGFuZ2VzLiBXZSBkZWZpbmUgcmFuZ2U9MCBzdGFydGluZyBhdCB0aGUgY2FtZXJhIHBvc2l0aW9uIGdpdmVuXG4gICAgLy8gdGhlIGRlZmF1bHQgZm92LiBXZSBhdm9pZCBzdGFydGluZyB0aGUgZm9nIHJhbmdlIGF0IHRoZSBjYW1lcmEgY2VudGVyIHNvIHRoYXRcbiAgICAvLyByYW5nZXMgYXJlbid0IGdlbmVyYWxseSBuZWdhdGl2ZSB1bmxlc3MgdGhlIEZPViBpcyBtb2RpZmllZC5cbiAgICBjb25zdCBzaGlmdCA9IDAuNSAvIE1hdGgudGFuKGZvdiAqIDAuNSk7XG4gICAgcmV0dXJuIFtzdGF0ZS5yYW5nZVswXSArIHNoaWZ0LCBzdGF0ZS5yYW5nZVsxXSArIHNoaWZ0XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZvZ09wYWNpdHlBdFRpbGVDb29yZChzdGF0ZTogRm9nU3RhdGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIsIHRpbGVJZDogVW53cmFwcGVkVGlsZUlELCB0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IG51bWJlciB7XG4gICAgY29uc3QgbWF0ID0gdHJhbnNmb3JtLmNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgodGlsZUlkKTtcbiAgICBjb25zdCBwb3MgPSBbeCwgeSwgel07XG4gICAgdmVjMy50cmFuc2Zvcm1NYXQ0KHBvcywgcG9zLCBtYXQpO1xuXG4gICAgcmV0dXJuIGdldEZvZ09wYWNpdHkoc3RhdGUsIHBvcywgdHJhbnNmb3JtLnBpdGNoLCB0cmFuc2Zvcm0uX2Zvdik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb2dPcGFjaXR5QXRMbmdMYXQoc3RhdGU6IEZvZ1N0YXRlLCBsbmdMYXQ6IExuZ0xhdCwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBudW1iZXIge1xuICAgIGNvbnN0IG1ldGVycyA9IE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KGxuZ0xhdCk7XG4gICAgY29uc3QgZWxldmF0aW9uID0gdHJhbnNmb3JtLmVsZXZhdGlvbiA/IHRyYW5zZm9ybS5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhtZXRlcnMpIDogMDtcbiAgICBjb25zdCBwb3MgPSBbbWV0ZXJzLngsIG1ldGVycy55LCBlbGV2YXRpb25dO1xuICAgIHZlYzMudHJhbnNmb3JtTWF0NChwb3MsIHBvcywgdHJhbnNmb3JtLm1lcmNhdG9yRm9nTWF0cml4KTtcblxuICAgIHJldHVybiBnZXRGb2dPcGFjaXR5KHN0YXRlLCBwb3MsIHRyYW5zZm9ybS5waXRjaCwgdHJhbnNmb3JtLl9mb3YpO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHN0eWxlU3BlYyBmcm9tICcuLi9zdHlsZS1zcGVjL3JlZmVyZW5jZS9sYXRlc3QuanMnO1xuaW1wb3J0IHtlbmRzV2l0aCwgZXh0ZW5kLCBzbW9vdGhzdGVwfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IHtFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IHt2YWxpZGF0ZVN0eWxlLCB2YWxpZGF0ZUZvZywgZW1pdFZhbGlkYXRpb25FcnJvcnN9IGZyb20gJy4vdmFsaWRhdGVfc3R5bGUuanMnO1xuaW1wb3J0IHtQcm9wZXJ0aWVzLCBUcmFuc2l0aW9uYWJsZSwgVHJhbnNpdGlvbmluZywgUG9zc2libHlFdmFsdWF0ZWQsIERhdGFDb25zdGFudFByb3BlcnR5fSBmcm9tICcuL3Byb3BlcnRpZXMuanMnO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvci5qcyc7XG5pbXBvcnQge0ZPR19QSVRDSF9TVEFSVCwgRk9HX1BJVENIX0VORCwgZ2V0Rm9nT3BhY2l0eUF0TG5nTGF0LCBnZXRGb3ZBZGp1c3RlZEZvZ1JhbmdlfSBmcm9tICcuL2ZvZ19oZWxwZXJzLmpzJztcbmltcG9ydCB0eXBlIHtGb2dTcGVjaWZpY2F0aW9ufSBmcm9tICcuLi9zdHlsZS1zcGVjL3R5cGVzLmpzJztcbmltcG9ydCB0eXBlIEV2YWx1YXRpb25QYXJhbWV0ZXJzIGZyb20gJy4vZXZhbHVhdGlvbl9wYXJhbWV0ZXJzLmpzJztcbmltcG9ydCB0eXBlIHtUcmFuc2l0aW9uUGFyYW1ldGVyc30gZnJvbSAnLi9wcm9wZXJ0aWVzLmpzJztcbmltcG9ydCB0eXBlIExuZ0xhdCBmcm9tICcuLi9nZW8vbG5nX2xhdC5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSB7U3R5bGVTZXR0ZXJPcHRpb25zfSBmcm9tICcuLi9zdHlsZS9zdHlsZS5qcyc7XG5pbXBvcnQgdHlwZSB7Rm9nU3RhdGV9IGZyb20gJy4vZm9nX2hlbHBlcnMuanMnO1xuaW1wb3J0IHtudW1iZXIgYXMgaW50ZXJwb2xhdGV9IGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9pbnRlcnBvbGF0ZS5qcyc7XG5pbXBvcnQge2dsb2JlVG9NZXJjYXRvclRyYW5zaXRpb259IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL2dsb2JlX3V0aWwuanMnO1xuXG50eXBlIFByb3BzID0ge3xcbiAgICBcInJhbmdlXCI6IERhdGFDb25zdGFudFByb3BlcnR5PFtudW1iZXIsIG51bWJlcl0+LFxuICAgIFwiY29sb3JcIjogRGF0YUNvbnN0YW50UHJvcGVydHk8Q29sb3I+LFxuICAgIFwiaGlnaC1jb2xvclwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxDb2xvcj4sXG4gICAgXCJzcGFjZS1jb2xvclwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxDb2xvcj4sXG4gICAgXCJob3Jpem9uLWJsZW5kXCI6IERhdGFDb25zdGFudFByb3BlcnR5PG51bWJlcj4sXG4gICAgXCJzdGFyLWludGVuc2l0eVwiOiBEYXRhQ29uc3RhbnRQcm9wZXJ0eTxudW1iZXI+LFxufH07XG5cbmNvbnN0IGZvZ1Byb3BlcnRpZXM6IFByb3BlcnRpZXM8UHJvcHM+ID0gbmV3IFByb3BlcnRpZXMoe1xuICAgIFwicmFuZ2VcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5mb2cucmFuZ2UpLFxuICAgIFwiY29sb3JcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5mb2cuY29sb3IpLFxuICAgIFwiaGlnaC1jb2xvclwiOiBuZXcgRGF0YUNvbnN0YW50UHJvcGVydHkoc3R5bGVTcGVjLmZvZ1tcImhpZ2gtY29sb3JcIl0pLFxuICAgIFwic3BhY2UtY29sb3JcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5mb2dbXCJzcGFjZS1jb2xvclwiXSksXG4gICAgXCJob3Jpem9uLWJsZW5kXCI6IG5ldyBEYXRhQ29uc3RhbnRQcm9wZXJ0eShzdHlsZVNwZWMuZm9nW1wiaG9yaXpvbi1ibGVuZFwiXSksXG4gICAgXCJzdGFyLWludGVuc2l0eVwiOiBuZXcgRGF0YUNvbnN0YW50UHJvcGVydHkoc3R5bGVTcGVjLmZvZ1tcInN0YXItaW50ZW5zaXR5XCJdKSxcbn0pO1xuXG5jb25zdCBUUkFOU0lUSU9OX1NVRkZJWCA9ICctdHJhbnNpdGlvbic7XG5cbmNsYXNzIEZvZyBleHRlbmRzIEV2ZW50ZWQge1xuICAgIF90cmFuc2l0aW9uYWJsZTogVHJhbnNpdGlvbmFibGU8UHJvcHM+O1xuICAgIF90cmFuc2l0aW9uaW5nOiBUcmFuc2l0aW9uaW5nPFByb3BzPjtcbiAgICBwcm9wZXJ0aWVzOiBQb3NzaWJseUV2YWx1YXRlZDxQcm9wcz47XG5cbiAgICAvLyBBbHRlcm5hdGUgcHJvamVjdGlvbnMgZG8gbm90IHlldCBzdXBwb3J0IGZvZy5cbiAgICAvLyBIb2xkIG9uIHRvIHRyYW5zZm9ybSBzbyB0aGF0IHdlIGtub3cgd2hldGhlciBhIHByb2plY3Rpb24gaXMgc2V0LlxuICAgIF90cmFuc2Zvcm06IFRyYW5zZm9ybTtcblxuICAgIGNvbnN0cnVjdG9yKGZvZ09wdGlvbnM/OiBGb2dTcGVjaWZpY2F0aW9uLCB0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uYWJsZSA9IG5ldyBUcmFuc2l0aW9uYWJsZShmb2dQcm9wZXJ0aWVzKTtcbiAgICAgICAgdGhpcy5zZXQoZm9nT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25pbmcgPSB0aGlzLl90cmFuc2l0aW9uYWJsZS51bnRyYW5zaXRpb25lZCgpO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgfVxuXG4gICAgZ2V0IHN0YXRlKCk6IEZvZ1N0YXRlIHtcbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLl90cmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGlzR2xvYmUgPSB0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZSc7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25UID0gZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0ci56b29tKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnByb3BlcnRpZXMuZ2V0KCdyYW5nZScpO1xuICAgICAgICBjb25zdCBnbG9iZUZpeGVkRm9nUmFuZ2UgPSBbMC41LCAzXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJhbmdlOiBpc0dsb2JlID8gW1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRlKGdsb2JlRml4ZWRGb2dSYW5nZVswXSwgcmFuZ2VbMF0sIHRyYW5zaXRpb25UKSxcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZShnbG9iZUZpeGVkRm9nUmFuZ2VbMV0sIHJhbmdlWzFdLCB0cmFuc2l0aW9uVClcbiAgICAgICAgICAgIF0gOiByYW5nZSxcbiAgICAgICAgICAgIGhvcml6b25CbGVuZDogdGhpcy5wcm9wZXJ0aWVzLmdldCgnaG9yaXpvbi1ibGVuZCcpLFxuICAgICAgICAgICAgYWxwaGE6IHRoaXMucHJvcGVydGllcy5nZXQoJ2NvbG9yJykuYVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldCgpOiBGb2dTcGVjaWZpY2F0aW9uIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKTogYW55KTtcbiAgICB9XG5cbiAgICBzZXQoZm9nPzogRm9nU3BlY2lmaWNhdGlvbiwgb3B0aW9uczogU3R5bGVTZXR0ZXJPcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlRm9nLCBmb2csIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmtleXMoc3R5bGVTcGVjLmZvZykpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHVzZSBkZWZhdWx0IHN0eWxlIHNwZWNpZmljYXRpb24gd2hlbiB0aGUgcHJvcGVydGllcyB3YXNuJ3Qgc2V0XG4gICAgICAgICAgICBpZiAoZm9nICYmIGZvZ1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZm9nW25hbWVdID0gc3R5bGVTcGVjLmZvZ1tuYW1lXS5kZWZhdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGZvZykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBmb2dbbmFtZV07XG4gICAgICAgICAgICBpZiAoZW5kc1dpdGgobmFtZSwgVFJBTlNJVElPTl9TVUZGSVgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihuYW1lLnNsaWNlKDAsIC1UUkFOU0lUSU9OX1NVRkZJWC5sZW5ndGgpLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFZhbHVlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldE9wYWNpdHkocGl0Y2g6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmICghdGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2cpIHJldHVybiAwO1xuXG4gICAgICAgIGNvbnN0IGZvZ0NvbG9yID0gKHRoaXMucHJvcGVydGllcyAmJiB0aGlzLnByb3BlcnRpZXMuZ2V0KCdjb2xvcicpKSB8fCAxLjA7XG4gICAgICAgIGNvbnN0IGlzR2xvYmUgPSB0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuICAgICAgICBjb25zdCBwaXRjaEZhY3RvciA9IGlzR2xvYmUgPyAxLjAgOiBzbW9vdGhzdGVwKEZPR19QSVRDSF9TVEFSVCwgRk9HX1BJVENIX0VORCwgcGl0Y2gpO1xuICAgICAgICByZXR1cm4gcGl0Y2hGYWN0b3IgKiBmb2dDb2xvci5hO1xuICAgIH1cblxuICAgIGdldE9wYWNpdHlBdExhdExuZyhsbmdMYXQ6IExuZ0xhdCwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBudW1iZXIge1xuICAgICAgICBpZiAoIXRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nKSByZXR1cm4gMDtcblxuICAgICAgICByZXR1cm4gZ2V0Rm9nT3BhY2l0eUF0TG5nTGF0KHRoaXMuc3RhdGUsIGxuZ0xhdCwgdHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICBnZXRGb3ZBZGp1c3RlZFJhbmdlKGZvdjogbnVtYmVyKTogW251bWJlciwgbnVtYmVyXSB7XG4gICAgICAgIC8vIFdlIGNhbiByZXR1cm4gYW55IGFyYml0cmFyeSByYW5nZSBiZWNhdXNlIHdlIGV4cGVjdCBvcGFjaXR5PTAgdG8gY2xlYW4gaXQgdXBcbiAgICAgICAgaWYgKCF0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZykgcmV0dXJuIFswLCAxXTtcblxuICAgICAgICByZXR1cm4gZ2V0Rm92QWRqdXN0ZWRGb2dSYW5nZSh0aGlzLnN0YXRlLCBmb3YpO1xuICAgIH1cblxuICAgIHVwZGF0ZVRyYW5zaXRpb25zKHBhcmFtZXRlcnM6IFRyYW5zaXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25pbmcgPSB0aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQocGFyYW1ldGVycywgdGhpcy5fdHJhbnNpdGlvbmluZyk7XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpO1xuICAgIH1cblxuICAgIHJlY2FsY3VsYXRlKHBhcmFtZXRlcnM6IEV2YWx1YXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBfdmFsaWRhdGUodmFsaWRhdGU6IEZ1bmN0aW9uLCB2YWx1ZTogbWl4ZWQsIG9wdGlvbnM/OiB7dmFsaWRhdGU/OiBib29sZWFufSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnZhbGlkYXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsIHZhbGlkYXRlLmNhbGwodmFsaWRhdGVTdHlsZSwgZXh0ZW5kKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgc3R5bGU6IHtnbHlwaHM6IHRydWUsIHNwcml0ZTogdHJ1ZX0sXG4gICAgICAgICAgICBzdHlsZVNwZWNcbiAgICAgICAgfSkpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvZztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7dW5pcXVlSWQsIGFzeW5jQWxsfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IEFjdG9yIGZyb20gJy4vYWN0b3IuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSBXb3JrZXJQb29sIGZyb20gJy4vd29ya2VyX3Bvb2wuanMnO1xuXG4vKipcbiAqIFJlc3BvbnNpYmxlIGZvciBzZW5kaW5nIG1lc3NhZ2VzIGZyb20gYSB7QGxpbmsgU291cmNlfSB0byBhbiBhc3NvY2lhdGVkXG4gKiB7QGxpbmsgV29ya2VyU291cmNlfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBEaXNwYXRjaGVyIHtcbiAgICB3b3JrZXJQb29sOiBXb3JrZXJQb29sO1xuICAgIGFjdG9yczogQXJyYXk8QWN0b3I+O1xuICAgIGN1cnJlbnRBY3RvcjogbnVtYmVyO1xuICAgIGlkOiBudW1iZXI7XG4gICAgcmVhZHk6IGJvb2xlYW47XG5cbiAgICAvLyBleHBvc2VkIHRvIGFsbG93IHN0dWJiaW5nIGluIHVuaXQgdGVzdHNcbiAgICBzdGF0aWMgQWN0b3I6IENsYXNzPEFjdG9yPjtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmtlclBvb2w6IFdvcmtlclBvb2wsIHBhcmVudDogYW55KSB7XG4gICAgICAgIHRoaXMud29ya2VyUG9vbCA9IHdvcmtlclBvb2w7XG4gICAgICAgIHRoaXMuYWN0b3JzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudEFjdG9yID0gMDtcbiAgICAgICAgdGhpcy5pZCA9IHVuaXF1ZUlkKCk7XG4gICAgICAgIGNvbnN0IHdvcmtlcnMgPSB0aGlzLndvcmtlclBvb2wuYWNxdWlyZSh0aGlzLmlkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB3b3JrZXIgPSB3b3JrZXJzW2ldO1xuICAgICAgICAgICAgY29uc3QgYWN0b3IgPSBuZXcgRGlzcGF0Y2hlci5BY3Rvcih3b3JrZXIsIHBhcmVudCwgdGhpcy5pZCk7XG4gICAgICAgICAgICBhY3Rvci5uYW1lID0gYFdvcmtlciAke2l9YDtcbiAgICAgICAgICAgIHRoaXMuYWN0b3JzLnB1c2goYWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydCh0aGlzLmFjdG9ycy5sZW5ndGgpO1xuXG4gICAgICAgIC8vIHRyYWNrIHdoZXRoZXIgYWxsIHdvcmtlcnMgYXJlIGluc3RhbnRpYXRlZCBhbmQgcmVhZHkgdG8gcmVjZWl2ZSBtZXNzYWdlcztcbiAgICAgICAgLy8gdXNlZCBmb3Igb3B0aW1pemF0aW9ucyBvbiBpbml0aWFsIG1hcCBsb2FkXG4gICAgICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5icm9hZGNhc3QoJ2NoZWNrSWZSZWFkeScsIG51bGwsICgpID0+IHsgdGhpcy5yZWFkeSA9IHRydWU7IH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJyb2FkY2FzdCBhIG1lc3NhZ2UgdG8gYWxsIFdvcmtlcnMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBicm9hZGNhc3QodHlwZTogc3RyaW5nLCBkYXRhOiBtaXhlZCwgY2I/OiBGdW5jdGlvbikge1xuICAgICAgICBhc3NlcnQodGhpcy5hY3RvcnMubGVuZ3RoKTtcbiAgICAgICAgY2IgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgYXN5bmNBbGwodGhpcy5hY3RvcnMsIChhY3RvciwgZG9uZSkgPT4ge1xuICAgICAgICAgICAgYWN0b3Iuc2VuZCh0eXBlLCBkYXRhLCBkb25lKTtcbiAgICAgICAgfSwgY2IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjcXVpcmVzIGFuIGFjdG9yIHRvIGRpc3BhdGNoIG1lc3NhZ2VzIHRvLiBUaGUgYWN0b3JzIGFyZSBkaXN0cmlidXRlZCBpbiByb3VuZC1yb2JpbiBmYXNoaW9uLlxuICAgICAqIEByZXR1cm5zIHtBY3Rvcn0gQW4gYWN0b3Igb2JqZWN0IGJhY2tlZCBieSBhIHdlYiB3b3JrZXIgZm9yIHByb2Nlc3NpbmcgbWVzc2FnZXMuXG4gICAgICovXG4gICAgZ2V0QWN0b3IoKTogQWN0b3Ige1xuICAgICAgICBhc3NlcnQodGhpcy5hY3RvcnMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50QWN0b3IgPSAodGhpcy5jdXJyZW50QWN0b3IgKyAxKSAlIHRoaXMuYWN0b3JzLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0b3JzW3RoaXMuY3VycmVudEFjdG9yXTtcbiAgICB9XG5cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuYWN0b3JzLmZvckVhY2goKGFjdG9yKSA9PiB7IGFjdG9yLnJlbW92ZSgpOyB9KTtcbiAgICAgICAgdGhpcy5hY3RvcnMgPSBbXTtcbiAgICAgICAgdGhpcy53b3JrZXJQb29sLnJlbGVhc2UodGhpcy5pZCk7XG4gICAgfVxufVxuXG5EaXNwYXRjaGVyLkFjdG9yID0gQWN0b3I7XG5cbmV4cG9ydCBkZWZhdWx0IERpc3BhdGNoZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge21hdDJ9IGZyb20gJ2dsLW1hdHJpeCc7XG5cbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQuanMnO1xuXG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkLmpzJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB0eXBlIHtUaWxlVHJhbnNmb3JtfSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi90aWxlX3RyYW5zZm9ybS5qcyc7XG5cbi8qKlxuICogQ29udmVydHMgYSBwaXhlbCB2YWx1ZSBhdCBhIHRoZSBnaXZlbiB6b29tIGxldmVsIHRvIHRpbGUgdW5pdHMuXG4gKlxuICogVGhlIHNoYWRlcnMgbW9zdGx5IGNhbGN1bGF0ZSBldmVyeXRoaW5nIGluIHRpbGUgdW5pdHMgc28gc3R5bGVcbiAqIHByb3BlcnRpZXMgbmVlZCB0byBiZSBjb252ZXJ0ZWQgZnJvbSBwaXhlbHMgdG8gdGlsZSB1bml0cyB1c2luZyB0aGlzLlxuICpcbiAqIEZvciBleGFtcGxlLCBhIHRyYW5zbGF0aW9uIGJ5IDMwIHBpeGVscyBhdCB6b29tIDYuNSB3aWxsIGJlIGFcbiAqIHRyYW5zbGF0aW9uIGJ5IHBpeGVsc1RvVGlsZVVuaXRzKDMwLCA2LjUpIHRpbGUgdW5pdHMuXG4gKlxuICogQHJldHVybnMgdmFsdWUgaW4gdGlsZSB1bml0c1xuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odGlsZTogaW50ZXJmYWNlIHt0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHRpbGVTaXplOiBudW1iZXJ9LCBwaXhlbFZhbHVlOiBudW1iZXIsIHo6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHBpeGVsVmFsdWUgKiAoRVhURU5UIC8gKHRpbGUudGlsZVNpemUgKiBNYXRoLnBvdygyLCB6IC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0aWxlOiBpbnRlcmZhY2Uge3RpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgdGlsZVNpemU6IG51bWJlciwgK3RpbGVUcmFuc2Zvcm06IFRpbGVUcmFuc2Zvcm19LCB0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IEZsb2F0MzJBcnJheSB7XG4gICAgY29uc3Qge3NjYWxlfSA9IHRpbGUudGlsZVRyYW5zZm9ybTtcbiAgICBjb25zdCBzID0gc2NhbGUgKiBFWFRFTlQgLyAodGlsZS50aWxlU2l6ZSAqIE1hdGgucG93KDIsIHRyYW5zZm9ybS56b29tIC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFogKyB0aWxlLnRpbGVJRC5jYW5vbmljYWwueikpO1xuICAgIHJldHVybiBtYXQyLnNjYWxlKG5ldyBGbG9hdDMyQXJyYXkoNCksIHRyYW5zZm9ybS5pbnZlcnNlQWRqdXN0bWVudE1hdHJpeCwgW3MsIHNdKTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7Z2V0Qm91bmRzLCBjbGFtcCwgcG9seWdvbml6ZUJvdW5kcywgYnVmZmVyQ29udmV4UG9seWdvbn0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7cG9seWdvbkludGVyc2VjdHNCb3gsIHBvbHlnb25Db250YWluc1BvaW50fSBmcm9tICcuLi91dGlsL2ludGVyc2VjdGlvbl90ZXN0cy5qcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50LmpzJztcbmltcG9ydCB0eXBlIHtQb2ludExpa2V9IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZS5qcyc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzLmpzJztcbmltcG9ydCB7dmVjMywgdmVjNCwgbWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7UmF5fSBmcm9tICcuLi91dGlsL3ByaW1pdGl2ZXMuanMnO1xuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSwge21lcmNhdG9yWGZyb21Mbmd9IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQge2dldFRpbGVQb2ludCwgZ2V0VGlsZVZlYzN9IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3RpbGVfdHJhbnNmb3JtLmpzJztcbmltcG9ydCByZXNhbXBsZSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9yZXNhbXBsZS5qcyc7XG5pbXBvcnQge0dMT0JFX1JBRElVU30gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5pbXBvcnQge251bWJlciBhcyBpbnRlcnBvbGF0ZX0gZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2ludGVycG9sYXRlLmpzJztcblxudHlwZSBDYWNoZWRQb2x5Z29uID0ge1xuICAgIC8vIFF1ZXJ5IHJlY3RhbmdsZSBwcm9qZWN0ZWQgb24gdGhlIG1hcCBwbGFuZVxuICAgIHBvbHlnb246IE1lcmNhdG9yQ29vcmRpbmF0ZVtdO1xuXG4gICAgLy8gQSBmbGFnIHRlbGxpbmd3aGV0aGVyIHRoZSBxdWVyeSBwb2x5Z29uIG1pZ2h0IHNwYW4gYWNyb3NzIG1lcmNhdG9yIGJvdW5kYXJpZXMgWzAsIDFdXG4gICAgdW53cmFwcGVkOiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBBIGRhdGEtY2xhc3MgdGhhdCByZXByZXNlbnRzIGEgc2NyZWVuc3BhY2UgcXVlcnkgZnJvbSBgTWFwI3F1ZXJ5UmVuZGVyZWRGZWF0dXJlc2AuXG4gKiBBbGwgdGhlIGludGVybmFsIGdlb21ldHJpZXMgYW5kIGRhdGEgYXJlIGludGVudGVkIHRvIGJlIGltbXV0YWJsZSBhbmQgcmVhZC1vbmx5LlxuICogSXRzIGxpZmV0aW1lIGlzIG9ubHkgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgcXVlcnkgYW5kIGZpeGVkIHN0YXRlIG9mIHRoZSBtYXAgd2hpbGUgdGhlIHF1ZXJ5IGlzIGJlaW5nIHByb2Nlc3NlZC5cbiAqXG4gKiBAY2xhc3MgUXVlcnlHZW9tZXRyeVxuICovXG5leHBvcnQgY2xhc3MgUXVlcnlHZW9tZXRyeSB7XG4gICAgc2NyZWVuQm91bmRzOiBQb2ludFtdO1xuICAgIGNhbWVyYVBvaW50OiBQb2ludDtcbiAgICBzY3JlZW5HZW9tZXRyeTogUG9pbnRbXTtcbiAgICBzY3JlZW5HZW9tZXRyeU1lcmNhdG9yOiBDYWNoZWRQb2x5Z29uO1xuXG4gICAgX3NjcmVlblJheWNhc3RDYWNoZTogeyBbXzogbnVtYmVyXTogQ2FjaGVkUG9seWdvbn07XG4gICAgX2NhbWVyYVJheWNhc3RDYWNoZTogeyBbXzogbnVtYmVyXTogQ2FjaGVkUG9seWdvbn07XG5cbiAgICBpc0Fib3ZlSG9yaXpvbjogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHNjcmVlbkJvdW5kczogUG9pbnRbXSwgY2FtZXJhUG9pbnQ6IFBvaW50LCBhYm92ZUhvcml6b246IGJvb2xlYW4sIHRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XG4gICAgICAgIHRoaXMuc2NyZWVuQm91bmRzID0gc2NyZWVuQm91bmRzO1xuICAgICAgICB0aGlzLmNhbWVyYVBvaW50ID0gY2FtZXJhUG9pbnQ7XG4gICAgICAgIHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5pc0Fib3ZlSG9yaXpvbiA9IGFib3ZlSG9yaXpvbjtcblxuICAgICAgICB0aGlzLnNjcmVlbkdlb21ldHJ5ID0gdGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KDApO1xuICAgICAgICB0aGlzLnNjcmVlbkdlb21ldHJ5TWVyY2F0b3IgPSB0aGlzLl9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKDAsIHRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmFjdG9yeSBtZXRob2QgdG8gaGVscCBjb250cnVjdCBhbiBpbnN0YW5jZSAgd2hpbGUgYWNjb3VudGluZyBmb3IgY3VycmVudCBtYXAgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsoUG9pbnRMaWtlIHwgW1BvaW50TGlrZSwgUG9pbnRMaWtlXSl9IGdlb21ldHJ5IFRoZSBxdWVyeSBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge1RyYW5zZm9ybX0gdHJhbnNmb3JtIFRoZSBjdXJyZW50IG1hcCB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMge1F1ZXJ5R2VvbWV0cnl9IEFuIGluc3RhbmNlIG9mIHRoZSBRdWVyeUdlb21ldHJ5IGNsYXNzLlxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVGcm9tU2NyZWVuUG9pbnRzKGdlb21ldHJ5OiBQb2ludExpa2UgfCBbUG9pbnRMaWtlLCBQb2ludExpa2VdLCB0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IFF1ZXJ5R2VvbWV0cnkge1xuICAgICAgICBsZXQgc2NyZWVuR2VvbWV0cnk7XG4gICAgICAgIGxldCBhYm92ZUhvcml6b247XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZTogRmxvdyBjYW4ndCByZWZpbmUgdGhhdCB0aGlzIHdpbGwgYmUgUG9pbnRMaWtlIGJ1dCB3ZSBjYW5cbiAgICAgICAgaWYgKGdlb21ldHJ5IGluc3RhbmNlb2YgUG9pbnQgfHwgdHlwZW9mIGdlb21ldHJ5WzBdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgY29uc3QgcHQgPSBQb2ludC5jb252ZXJ0KGdlb21ldHJ5KTtcbiAgICAgICAgICAgIHNjcmVlbkdlb21ldHJ5ID0gW3B0XTtcbiAgICAgICAgICAgIGFib3ZlSG9yaXpvbiA9IHRyYW5zZm9ybS5pc1BvaW50QWJvdmVIb3Jpem9uKHB0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgIGNvbnN0IHRsID0gUG9pbnQuY29udmVydChnZW9tZXRyeVswXSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICBjb25zdCBiciA9IFBvaW50LmNvbnZlcnQoZ2VvbWV0cnlbMV0pO1xuICAgICAgICAgICAgc2NyZWVuR2VvbWV0cnkgPSBbdGwsIGJyXTtcbiAgICAgICAgICAgIGFib3ZlSG9yaXpvbiA9IHBvbHlnb25pemVCb3VuZHModGwsIGJyKS5ldmVyeSgocCkgPT4gdHJhbnNmb3JtLmlzUG9pbnRBYm92ZUhvcml6b24ocCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeUdlb21ldHJ5KHNjcmVlbkdlb21ldHJ5LCB0cmFuc2Zvcm0uZ2V0Q2FtZXJhUG9pbnQoKSwgYWJvdmVIb3Jpem9uLCB0cmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgaW5pdGlhbCBxdWVyeSBieSB0aGUgdXNlciB3YXMgYSBzaW5nbGUgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGluaXRpYWwgcXVlcnkgZ2VvbWV0cnkgd2FzIGEgc2luZ2xlIHBvaW50LlxuICAgICAqL1xuICAgIGlzUG9pbnRRdWVyeSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aCA9PT0gMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEdWUgdG8gZGF0YS1kcml2ZW4gc3R5bGluZyBmZWF0dXJlcyBkbyBub3QgdW5pZm9ybSBzaXplKGVnIGBjaXJjbGUtcmFkaXVzYCkgYW5kIGNhbiBiZSBvZmZzZXQgZGlmZmVybnRseVxuICAgICAqIGZyb20gdGhlaXIgb3JpZ2luYWwgbG9jYXRpb24oZm9yIGV4YW1wbGUgd2l0aCBgKi10cmFuc2xhdGVgKS4gVGhpcyBtZWFucyB3ZSBoYXZlIHRvIGV4cGFuZCBvdXIgcXVlcnkgcmVnaW9uIGZvclxuICAgICAqIGVhY2ggdGlsZSB0byBhY2NvdW50IGZvciB2YXJpYXRpb24gaW4gdGhlc2UgcHJvcGVydGllcy5cbiAgICAgKiBFYWNoIHRpbGUgY2FsY3VsYXRlcyBhIHRpbGUgbGV2ZWwgbWF4IHBhZGRpbmcgdmFsdWUgKGluIHNjcmVlbnNwYWNlIHBpeGVscykgd2hlbiBpdHMgcGFyc2VkLCB0aGlzIGZ1bmN0aW9uXG4gICAgICogbGV0cyB1cyBjYWxjdWxhdGUgYSBidWZmZXJlZCB2ZXJzaW9uIG9mIHRoZSBzY3JlZW5zcGFjZSBxdWVyeSBnZW9tZXRyeSBmb3IgZWFjaCB0aWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJ1ZmZlciBUaGUgdGlsZSBwYWRkaW5nIGluIHNjcmVlbnNwYWNlIHBpeGVscy5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnRbXX0gVGhlIGJ1ZmZlcmVkIHF1ZXJ5IGdlb21ldHJ5LlxuICAgICAqL1xuICAgIGJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkoYnVmZmVyOiBudW1iZXIpOiBQb2ludFtdIHtcbiAgICAgICAgcmV0dXJuIHBvbHlnb25pemVCb3VuZHMoXG4gICAgICAgICAgICB0aGlzLnNjcmVlbkJvdW5kc1swXSxcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aCA9PT0gMSA/IHRoaXMuc2NyZWVuQm91bmRzWzBdIDogdGhpcy5zY3JlZW5Cb3VuZHNbMV0sXG4gICAgICAgICAgICBidWZmZXJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBtYXAgaXMgcGl0Y2hlZCwgc29tZSBvZiB0aGUgM0QgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgYSBxdWVyeSB3aWxsIG5vdCBpbnRlcnNlY3RcbiAgICAgKiB0aGUgcXVlcnkgYXQgdGhlIHN1cmZhY2Ugb2YgdGhlIGVhcnRoLiBJbnN0ZWFkIHRoZSBmZWF0dXJlIG1heSBiZSBjbG9zZXIgYW5kIG9ubHkgaW50ZXJzZWN0XG4gICAgICogdGhlIHF1ZXJ5IGJlY2F1c2UgaXQgZXh0cnVkZXMgaW50byB0aGUgYWlyLlxuICAgICAqXG4gICAgICogVGhpcyByZXR1cm5zIGEgZ2VvbWV0cnkgdGhhdCBpcyBhIGNvbnZleCBwb2x5Z29uIHRoYXQgZW5jb21wYXNzZXMgdGhlIHF1ZXJ5IGZydXN0dW0gYW5kIHRoZSBwb2ludCB1bmRlcm5lYXRoIHRoZSBjYW1lcmEuXG4gICAgICogU2ltaWxhciB0byBgYnVmZmVyZWRTY3JlZW5HZW9tZXRyeWAsIGJ1ZmZlcmluZyBpcyBhZGRlZCB0byBhY2NvdW50IGZvciB2YXJpYXRpb24gaW4gcGFpbnQgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIENhc2UgMTogcG9pbnQgdW5kZXJuZWF0aCBjYW1lcmEgaXMgZXhhY3RseSBiZWhpbmQgcXVlcnkgdm9sdW1lXG4gICAgICogICAgICAgICAgICAgICstLS0tLS0tLS0tK1xuICAgICAqICAgICAgICAgICAgICB8ICAgICAgICAgIHxcbiAgICAgKiAgICAgICAgICAgICAgfCAgICAgICAgICB8XG4gICAgICogICAgICAgICAgICAgIHwgICAgICAgICAgfFxuICAgICAqICAgICAgICAgICAgICArICAgICAgICAgICtcbiAgICAgKiAgICAgICAgICAgICAgIFggICAgICAgIFhcbiAgICAgKiAgICAgICAgICAgICAgICBYICAgICAgWFxuICAgICAqICAgICAgICAgICAgICAgICBYICAgIFhcbiAgICAgKiAgICAgICAgICAgICAgICAgIFggIFhcbiAgICAgKiAgICAgICAgICAgICAgICAgICBYWC5cbiAgICAgKlxuICAgICAqIENhc2UgMjogcG9pbnQgaXMgYmVoaW5kIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgKiAgICAgICAgICAgICAgKy0tLS0tLS0tLS0rXG4gICAgICogICAgICAgICAgICAgIHwgICAgICAgICAgWFxuICAgICAqICAgICAgICAgICAgICB8ICAgICAgICAgICBYXG4gICAgICogICAgICAgICAgICAgIHwgICAgICAgICAgIFhYXG4gICAgICogICAgICAgICAgICAgICsgICAgICAgICAgICBYXG4gICAgICogICAgICAgICAgICAgIFhYWCAgICAgICAgICBYWFxuICAgICAqICAgICAgICAgICAgICAgICBYWFhYICAgICAgIFhcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgWFhYICAgICBYWFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgWFggICBYXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBYWFguXG4gICAgICpcbiAgICAgKiBDYXNlIDM6IHBvaW50IGlzIGJlaGluZCBhbmQgdG8gdGhlIGxlZnRcbiAgICAgKiAgICAgICAgICAgICAgKy0tLS0tLS0tLS0rXG4gICAgICogICAgICAgICAgICAgWCAgICAgICAgICAgfFxuICAgICAqICAgICAgICAgICAgIFggICAgICAgICAgIHxcbiAgICAgKiAgICAgICAgICAgIFhYICAgICAgICAgICB8XG4gICAgICogICAgICAgICAgICBYICAgICAgICAgICAgK1xuICAgICAqICAgICAgICAgICBYICAgICAgICAgIFhYWFhcbiAgICAgKiAgICAgICAgICBYWCAgICAgICBYWFhcbiAgICAgKiAgICAgICAgICBYICAgIFhYWFhcbiAgICAgKiAgICAgICAgIFggWFhYWFxuICAgICAqICAgICAgICAgWFhYLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJ1ZmZlciBUaGUgdGlsZSBwYWRkaW5nIGluIHNjcmVlbnNwYWNlIHBpeGVscy5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnRbXX0gVGhlIGJ1ZmZlcmVkIHF1ZXJ5IGdlb21ldHJ5LlxuICAgICAqL1xuICAgIGJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnkoYnVmZmVyOiBudW1iZXIpOiBQb2ludFtdIHtcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5zY3JlZW5Cb3VuZHNbMF07XG4gICAgICAgIGNvbnN0IG1heCA9IHRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aCA9PT0gMSA/IHRoaXMuc2NyZWVuQm91bmRzWzBdLmFkZChuZXcgUG9pbnQoMSwgMSkpIDogdGhpcy5zY3JlZW5Cb3VuZHNbMV07XG4gICAgICAgIGNvbnN0IGNhbWVyYVBvbHlnb24gPSBwb2x5Z29uaXplQm91bmRzKG1pbiwgbWF4LCAwLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gT25seSBuZWVkIHRvIGFjY291bnQgZm9yIHBvaW50IHVuZGVybmVhdGggY2FtZXJhIGlmIGl0cyBiZWhpbmQgcXVlcnkgdm9sdW1lXG4gICAgICAgIGlmICh0aGlzLmNhbWVyYVBvaW50LnkgPiBtYXgueSkge1xuICAgICAgICAgICAgLy9jYXNlIDE6IGluc2VydCBwb2ludCBpbiB0aGUgbWlkZGxlXG4gICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFQb2ludC54ID4gbWluLnggJiYgdGhpcy5jYW1lcmFQb2ludC54IDwgbWF4LngpIHtcbiAgICAgICAgICAgICAgICBjYW1lcmFQb2x5Z29uLnNwbGljZSgzLCAwLCB0aGlzLmNhbWVyYVBvaW50KTtcbiAgICAgICAgICAgIC8vY2FzZSAyOiByZXBsYWNlIGJ0bSByaWdodCBwb2ludFxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbWVyYVBvaW50LnggPj0gbWF4LngpIHtcbiAgICAgICAgICAgICAgICBjYW1lcmFQb2x5Z29uWzJdID0gdGhpcy5jYW1lcmFQb2ludDtcbiAgICAgICAgICAgIC8vY2FzZSAzOiByZXBsYWNlIGJ0bSBsZWZ0IHBvaW50XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FtZXJhUG9pbnQueCA8PSBtaW4ueCkge1xuICAgICAgICAgICAgICAgIGNhbWVyYVBvbHlnb25bM10gPSB0aGlzLmNhbWVyYVBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlckNvbnZleFBvbHlnb24oY2FtZXJhUG9seWdvbiwgYnVmZmVyKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGVzIGEgY29udmV4IHBvbHlnb24gaW4gc2NyZWVuIGNvb3JkaW5hdGVzIHRoYXQgZW5jb21wYXNzZXMgdGhlIHF1ZXJ5IGZydXN0dW0gYW5kXG4gICAgLy8gdGhlIGNhbWVyYSBsb2NhdGlvbiBhdCBnbG9iZSdzIHN1cmZhY2UuIENhbWVyYSBwb2ludCBjYW4gYmUgYXQgYW55IHNpZGUgb2YgdGhlIHF1ZXJ5IHBvbHlnb24gYXNcbiAgICAvLyBvcHBvc2VkIHRvIGBidWZmZXJlZENhbWVyYUdlb21ldHJ5YCB3aGljaCByZXN0cmljdHMgdGhlIGxvY2F0aW9uIHRvIHVuZGVybmVhdGggdGhlIHBvbHlnb24uXG4gICAgYnVmZmVyZWRDYW1lcmFHZW9tZXRyeUdsb2JlKGJ1ZmZlcjogbnVtYmVyKTogUG9pbnRbXSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IHRoaXMuc2NyZWVuQm91bmRzWzBdO1xuICAgICAgICBjb25zdCBtYXggPSB0aGlzLnNjcmVlbkJvdW5kcy5sZW5ndGggPT09IDEgPyB0aGlzLnNjcmVlbkJvdW5kc1swXS5hZGQobmV3IFBvaW50KDEsIDEpKSA6IHRoaXMuc2NyZWVuQm91bmRzWzFdO1xuXG4gICAgICAgIC8vIFBhZGRpbmcgaXMgYWRkZWQgdG8gdGhlIHF1ZXJ5IHBvbHlnb24gYmVmb3JlIGluY2x1c2lvbiBvZiB0aGUgY2FtZXJhIGxvY2F0aW9uLlxuICAgICAgICAvLyBPdGhlcndpc2UgdGhlIGJ1ZmZlcmVkIChuYXJyb3cpIHBvbHlnb24gY291bGQgcGVuZXRyYXRlIHRoZSBnbG9iZSBjcmVhdGluZyBhIGxvdCBvZiBmYWxzZSBwb3NpdGl2ZXNcbiAgICAgICAgY29uc3QgY2FtZXJhUG9seWdvbiA9IHBvbHlnb25pemVCb3VuZHMobWluLCBtYXgsIGJ1ZmZlcik7XG5cbiAgICAgICAgY29uc3QgY2FtUG9zID0gdGhpcy5jYW1lcmFQb2ludC5jbG9uZSgpO1xuICAgICAgICBjb25zdCBjb2x1bW4gPSAoY2FtUG9zLnggPiBtaW4ueCkgKyAoY2FtUG9zLnggPiBtYXgueCk7XG4gICAgICAgIGNvbnN0IHJvdyA9IChjYW1Qb3MueSA+IG1pbi55KSArIChjYW1Qb3MueSA+IG1heC55KTtcbiAgICAgICAgY29uc3Qgc2VjdG9yID0gcm93ICogMyArIGNvbHVtbjtcblxuICAgICAgICBzd2l0Y2ggKHNlY3Rvcikge1xuICAgICAgICBjYXNlIDA6ICAgICAvLyByZXBsYWNlIHRvcC1sZWZ0IHBvaW50IChjbG9zZWQgcG9seWdvbilcbiAgICAgICAgICAgIGNhbWVyYVBvbHlnb25bMF0gPSBjYW1Qb3M7XG4gICAgICAgICAgICBjYW1lcmFQb2x5Z29uWzRdID0gY2FtUG9zLmNsb25lKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOiAgICAgLy8gaW5zZXJ0IHBvaW50IGluIHRoZSBtaWRkbGUgb2YgdG9wLWxlZnQgYW5kIHRvcC1yaWdodFxuICAgICAgICAgICAgY2FtZXJhUG9seWdvbi5zcGxpY2UoMSwgMCwgY2FtUG9zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6ICAgICAvLyByZXBsYWNlIHRvcC1yaWdodCBwb2ludFxuICAgICAgICAgICAgY2FtZXJhUG9seWdvblsxXSA9IGNhbVBvcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6ICAgICAvLyBpbnNlcnQgcG9pbnQgaW4gdGhlIG1pZGRsZSBvZiB0b3AtbGVmdCBhbmQgYm90dG9tLWxlZnRcbiAgICAgICAgICAgIGNhbWVyYVBvbHlnb24uc3BsaWNlKDQsIDAsIGNhbVBvcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OiAgICAgLy8gaW5zZXJ0IHBvaW50IGluIHRoZSBtaWRkbGUgb2YgdG9wLXJpZ2h0IGFuZCBib3R0b20tcmlnaHRcbiAgICAgICAgICAgIGNhbWVyYVBvbHlnb24uc3BsaWNlKDIsIDAsIGNhbVBvcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OiAgICAgLy8gcmVwbGFjZSBib3R0b20tbGVmdCBwb2ludFxuICAgICAgICAgICAgY2FtZXJhUG9seWdvblszXSA9IGNhbVBvcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDc6ICAgICAvLyBpbnNlcnQgcG9pbnQgaW4gdGhlIG1pZGRsZSBvZiBib3R0b20tbGVmdCBhbmQgYm90dG9tLXJpZ2h0XG4gICAgICAgICAgICBjYW1lcmFQb2x5Z29uLnNwbGljZSgzLCAwLCBjYW1Qb3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgODogICAgIC8vIHJlcGxhY2UgYm90dG9tLXJpZ2h0IHBvaW50XG4gICAgICAgICAgICBjYW1lcmFQb2x5Z29uWzJdID0gY2FtUG9zO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FtZXJhUG9seWdvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSB0aWxlIGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBxdWVyeSBnZW9tZXRyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGlsZX0gdGlsZSBUaGUgdGlsZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge1RyYW5zZm9ybX0gdHJhbnNmb3JtIFRoZSBjdXJyZW50IG1hcCB0cmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHtib29sZWFufSB1c2UzRCBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRvIHF1ZXJ5IDNEIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjYW1lcmFXcmFwIEEgd3JhcCB2YWx1ZSBmb3Igb2Zmc2V0dGluZyB0aGUgY2FtZXJhIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHs/VGlsZXNwYWNlUXVlcnlHZW9tZXRyeX0gUmV0dXJucyBgdW5kZWZpbmVkYCBpZiB0aGUgdGlsZSBkb2VzIG5vdCBpbnRlcnNlY3QuXG4gICAgICovXG4gICAgY29udGFpbnNUaWxlKHRpbGU6IFRpbGUsIHRyYW5zZm9ybTogVHJhbnNmb3JtLCB1c2UzRDogYm9vbGVhbiwgY2FtZXJhV3JhcDogbnVtYmVyID0gMCk6ID9UaWxlc3BhY2VRdWVyeUdlb21ldHJ5IHtcbiAgICAgICAgLy8gVGhlIGJ1ZmZlciBhcm91bmQgdGhlIHF1ZXJ5IGdlb21ldHJ5IGlzIGFwcGxpZWQgaW4gc2NyZWVuLXNwYWNlLlxuICAgICAgICAvLyB0cmFuc2Zvcm0uX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwgaXMgdXNlZCB0byBjb21wZW5zYXRlIGFueSBleHRyYSBzY2FsaW5nIGFwcGxpZWQgZnJvbSB0aGUgY3VycmVudGx5IGFjdGl2ZSBwcm9qZWN0aW9uLlxuICAgICAgICAvLyBGbG9hdGluZyBwb2ludCBlcnJvcnMgd2hlbiBwcm9qZWN0aW5nIGludG8gdGlsZXNwYWNlIGNvdWxkIGxlYXZlIGEgZmVhdHVyZVxuICAgICAgICAvLyBvdXRzaWRlIHRoZSBxdWVyeSB2b2x1bWUgZXZlbiBpZiBpdCBsb29rcyBsaWtlIGl0IG92ZXJsYXBzIHZpc3VhbGx5LCBhIDFweCBiaWFzIHZhbHVlIG92ZXJjb21lcyB0aGF0LlxuICAgICAgICBjb25zdCBiaWFzID0gMTtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRpbGUucXVlcnlQYWRkaW5nIC8gdHJhbnNmb3JtLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsICsgYmlhcztcblxuICAgICAgICBjb25zdCBjYWNoZWRRdWVyeSA9IHVzZTNEID9cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcmVkQ2FtZXJhTWVyY2F0b3IocGFkZGluZywgdHJhbnNmb3JtKSA6XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKHBhZGRpbmcsIHRyYW5zZm9ybSk7XG5cbiAgICAgICAgbGV0IHdyYXAgPSB0aWxlLnRpbGVJRC53cmFwICsgKGNhY2hlZFF1ZXJ5LnVud3JhcHBlZCA/IGNhbWVyYVdyYXAgOiAwKTtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnlGb3JUaWxlQ2hlY2sgPSBjYWNoZWRRdWVyeS5wb2x5Z29uLm1hcCgocCkgPT4gZ2V0VGlsZVBvaW50KHRpbGUudGlsZVRyYW5zZm9ybSwgcCwgd3JhcCkpO1xuXG4gICAgICAgIGlmICghcG9seWdvbkludGVyc2VjdHNCb3goZ2VvbWV0cnlGb3JUaWxlQ2hlY2ssIDAsIDAsIEVYVEVOVCwgRVhURU5UKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdyYXAgPSB0aWxlLnRpbGVJRC53cmFwICsgKHRoaXMuc2NyZWVuR2VvbWV0cnlNZXJjYXRvci51bndyYXBwZWQgPyBjYW1lcmFXcmFwIDogMCk7XG4gICAgICAgIGNvbnN0IHRpbGVzcGFjZVZlYzNzID0gdGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yLnBvbHlnb24ubWFwKChwKSA9PiBnZXRUaWxlVmVjMyh0aWxlLnRpbGVUcmFuc2Zvcm0sIHAsIHdyYXApKTtcbiAgICAgICAgY29uc3QgdGlsZXNwYWNlR2VvbWV0cnkgPSB0aWxlc3BhY2VWZWMzcy5tYXAoKHYpID0+IG5ldyBQb2ludCh2WzBdLCB2WzFdKSk7XG5cbiAgICAgICAgY29uc3QgY2FtZXJhTWVyY2F0b3IgPSB0cmFuc2Zvcm0uZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKS5wb3NpdGlvbiB8fCBuZXcgTWVyY2F0b3JDb29yZGluYXRlKDAsIDAsIDApO1xuICAgICAgICBjb25zdCB0aWxlc3BhY2VDYW1lcmFQb3NpdGlvbiA9IGdldFRpbGVWZWMzKHRpbGUudGlsZVRyYW5zZm9ybSwgY2FtZXJhTWVyY2F0b3IsIHdyYXApO1xuICAgICAgICBjb25zdCB0aWxlc3BhY2VSYXlzID0gdGlsZXNwYWNlVmVjM3MubWFwKCh0aWxlVmVjKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkaXIgPSB2ZWMzLnN1Yih0aWxlVmVjLCB0aWxlVmVjLCB0aWxlc3BhY2VDYW1lcmFQb3NpdGlvbik7XG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShkaXIsIGRpcik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJheSh0aWxlc3BhY2VDYW1lcmFQb3NpdGlvbiwgZGlyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHBpeGVsVG9UaWxlVW5pdHNGYWN0b3IgPSBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCB0cmFuc2Zvcm0uem9vbSkgKiB0cmFuc2Zvcm0uX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnk6IHRoaXMsXG4gICAgICAgICAgICB0aWxlc3BhY2VHZW9tZXRyeSxcbiAgICAgICAgICAgIHRpbGVzcGFjZVJheXMsXG4gICAgICAgICAgICBidWZmZXJlZFRpbGVzcGFjZUdlb21ldHJ5OiBnZW9tZXRyeUZvclRpbGVDaGVjayxcbiAgICAgICAgICAgIGJ1ZmZlcmVkVGlsZXNwYWNlQm91bmRzOiBjbGFtcEJvdW5kc1RvVGlsZUV4dGVudHMoZ2V0Qm91bmRzKGdlb21ldHJ5Rm9yVGlsZUNoZWNrKSksXG4gICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgdGlsZUlEOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgIHBpeGVsVG9UaWxlVW5pdHNGYWN0b3JcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGVzZSBtZXRob2RzIGFkZCBjYWNoaW5nIG9uIHRvcCBvZiB0aGUgdGVycmFpbiByYXljYXN0aW5nIHByb3ZpZGVkIGJ5IGBUcmFuc2Zvcm0jcG9pbnRDb29yZGluYXRlM2RgLlxuICAgICAqIFRpbGVzIGNvbWUgd2l0aCBkaWZmZXJlbnQgdmFsdWVzIG9mIHBhZGRpbmcsIGhvd2V2ZXIgaXRzIHZlcnkgbGlrZWx5IHRoYXQgbXVsdGlwbGUgdGlsZXMgc2hhcmUgdGhlIHNhbWUgdmFsdWUgb2YgcGFkZGluZ1xuICAgICAqIGJhc2VkIG9uIHRoZSBzdHlsZS4gSW4gdGhhdCBjYXNlIHdlIHdhbnQgdG8gcmV1c2UgdGhlIHJlc3VsdCBmcm9tIGEgcHJldmlvdXNseSBjb21wdXRlZCB0ZXJyYWluIHJheWNhc3QuXG4gICAgICovXG5cbiAgICBfYnVmZmVyZWRTY3JlZW5NZXJjYXRvcihwYWRkaW5nOiBudW1iZXIsIHRyYW5zZm9ybTogVHJhbnNmb3JtKTogQ2FjaGVkUG9seWdvbiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGNhY2hlS2V5KHBhZGRpbmcpO1xuICAgICAgICBpZiAodGhpcy5fc2NyZWVuUmF5Y2FzdENhY2hlW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBwb2x5OiBDYWNoZWRQb2x5Z29uO1xuXG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICAgICAgICAgIHBvbHkgPSB0aGlzLl9wcm9qZWN0QW5kUmVzYW1wbGUodGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KHBhZGRpbmcpLCB0cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb2x5ID0ge1xuICAgICAgICAgICAgICAgICAgICBwb2x5Z29uOiB0aGlzLmJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkocGFkZGluZykubWFwKChwKSA9PiB0cmFuc2Zvcm0ucG9pbnRDb29yZGluYXRlM0QocCkpLFxuICAgICAgICAgICAgICAgICAgICB1bndyYXBwZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVba2V5XSA9IHBvbHk7XG4gICAgICAgICAgICByZXR1cm4gcG9seTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9idWZmZXJlZENhbWVyYU1lcmNhdG9yKHBhZGRpbmc6IG51bWJlciwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBDYWNoZWRQb2x5Z29uIHtcbiAgICAgICAgY29uc3Qga2V5ID0gY2FjaGVLZXkocGFkZGluZyk7XG4gICAgICAgIGlmICh0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGVba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtrZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHBvbHk6IENhY2hlZFBvbHlnb247XG5cbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICAgICAgcG9seSA9IHRoaXMuX3Byb2plY3RBbmRSZXNhbXBsZSh0aGlzLmJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnlHbG9iZShwYWRkaW5nKSwgdHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9seSA9IHtcbiAgICAgICAgICAgICAgICAgICAgcG9seWdvbjogdGhpcy5idWZmZXJlZENhbWVyYUdlb21ldHJ5KHBhZGRpbmcpLm1hcCgocCkgPT4gdHJhbnNmb3JtLnBvaW50Q29vcmRpbmF0ZTNEKHApKSxcbiAgICAgICAgICAgICAgICAgICAgdW53cmFwcGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlW2tleV0gPSBwb2x5O1xuICAgICAgICAgICAgcmV0dXJuIHBvbHk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHJvamVjdEFuZFJlc2FtcGxlKHBvbHlnb246IFBvaW50W10sIHRyYW5zZm9ybTogVHJhbnNmb3JtKTogQ2FjaGVkUG9seWdvbiB7XG4gICAgICAgIC8vIEhhbmRsZSBhIHNwZWNpYWwgY2FzZSB3aGVyZSBlaXRoZXIgbm9ydGggb3Igc291dGggcG9sZSBpcyBpbnNpZGUgdGhlIHF1ZXJ5IHBvbHlnb25cbiAgICAgICAgY29uc3QgcG9sZVBvbHlnb246ID9DYWNoZWRQb2x5Z29uID0gcHJvamVjdFBvbHlnb25Db3ZlcmluZ1BvbGVzKHBvbHlnb24sIHRyYW5zZm9ybSk7XG5cbiAgICAgICAgaWYgKHBvbGVQb2x5Z29uKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9sZVBvbHlnb247XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXNhbXBsZSB0aGUgcG9seWdvbiBieSBhZGRpbmcgaW50ZXJtZWRpYXRlIHBvaW50cyBzbyB0aGF0IHN0cmFpZ2h0IGxpbmVzIG9mIHRoZSBzaGFwZVxuICAgICAgICAvLyBhcmUgY29ycmVjdGx5IHByb2plY3RlZCBvbiB0aGUgc3VyZmFjZSBvZiB0aGUgZ2xvYmUuXG4gICAgICAgIGNvbnN0IHJlc2FtcGxlZCA9IHVud3JhcFF1ZXJ5UG9seWdvbihyZXNhbXBsZVBvbHlnb24ocG9seWdvbiwgdHJhbnNmb3JtKS5tYXAocCA9PiBuZXcgUG9pbnQod3JhcChwLngpLCBwLnkpKSwgdHJhbnNmb3JtKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9seWdvbjogcmVzYW1wbGVkLnBvbHlnb24ubWFwKHAgPT4gbmV3IE1lcmNhdG9yQ29vcmRpbmF0ZShwLngsIHAueSkpLFxuICAgICAgICAgICAgdW53cmFwcGVkOiByZXNhbXBsZWQudW53cmFwcGVkXG4gICAgICAgIH07XG4gICAgfVxufVxuXG4vLyBDaGVja3Mgd2hldGhlciB0aGUgcHJvdmlkZWQgcG9seWdvbiBpcyBjcm9zc2luZyB0aGUgYW50aW1lcmlkaWFuIGxpbmUgYW5kIHVud3JhcHMgaXQgaWYgbmVjZXNzYXJ5LlxuLy8gVGhlIHJlc3VsdGluZyBwb2x5Z29uIGlzIGNvbnRpbnVvdXNcbmV4cG9ydCBmdW5jdGlvbiB1bndyYXBRdWVyeVBvbHlnb24ocG9seWdvbjogUG9pbnRbXSwgdHI6IFRyYW5zZm9ybSk6IHtwb2x5Z29uOiBQb2ludFtdLCB1bndyYXBwZWQ6IGJvb2xlYW59IHtcbiAgICBsZXQgdW53cmFwcGVkID0gZmFsc2U7XG5cbiAgICAvLyBUcmF2ZXJzZSBlZGdlcyBvZiB0aGUgcG9seWdvbiBhbmQgdW53cmFwIHZlcnRpY2VzIHRoYXQgYXJlIGNyb3NzaW5nIHRoZSBhbnRpbWVyaWRpYW4uXG4gICAgbGV0IG1heFggPSAtSW5maW5pdHk7XG4gICAgbGV0IHN0YXJ0RWRnZSA9IDA7XG5cbiAgICBmb3IgKGxldCBlID0gMDsgZSA8IHBvbHlnb24ubGVuZ3RoIC0gMTsgZSsrKSB7XG4gICAgICAgIGlmIChwb2x5Z29uW2VdLnggPiBtYXhYKSB7XG4gICAgICAgICAgICBtYXhYID0gcG9seWdvbltlXS54O1xuICAgICAgICAgICAgc3RhcnRFZGdlID0gZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9seWdvbi5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWRnZSA9IChzdGFydEVkZ2UgKyBpKSAlIChwb2x5Z29uLmxlbmd0aCAtIDEpO1xuICAgICAgICBjb25zdCBhID0gcG9seWdvbltlZGdlXTtcbiAgICAgICAgY29uc3QgYiA9IHBvbHlnb25bZWRnZSArIDFdO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhhLnggLSBiLngpID4gMC41KSB7XG4gICAgICAgICAgICAvLyBBIHN0cmFpZ2h0IGxpbmUgZHJhd24gb24gdGhlIGdsb2JlIGNhbid0IGhhdmUgbG9uZ2VyIGxlbmd0aCB0aGFuIDAuNSBvbiB0aGUgeC1heGlzXG4gICAgICAgICAgICAvLyB3aXRob3V0IGNyb3NzaW5nIHRoZSBhbnRpbWVyaWRpYW5cbiAgICAgICAgICAgIGlmIChhLnggPCBiLngpIHtcbiAgICAgICAgICAgICAgICBhLnggKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmIChlZGdlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGFuZCBsYXN0IHBvaW50cyBhcmUgZHVwbGljYXRlIGZvciBjbG9zZWQgcG9seWdvbnNcbiAgICAgICAgICAgICAgICAgICAgcG9seWdvbltwb2x5Z29uLmxlbmd0aCAtIDFdLnggKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGIueCArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVkZ2UgKyAxID09PSBwb2x5Z29uLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9seWdvblswXS54ICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1bndyYXBwZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2FtZXJhWCA9IG1lcmNhdG9yWGZyb21MbmcodHIuY2VudGVyLmxuZyk7XG4gICAgaWYgKHVud3JhcHBlZCAmJiBjYW1lcmFYIDwgTWF0aC5hYnMoY2FtZXJhWCAtIDEpKSB7XG4gICAgICAgIHBvbHlnb24uZm9yRWFjaChwID0+IHsgcC54IC09IDE7IH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHBvbHlnb24sXG4gICAgICAgIHVud3JhcHBlZFxuICAgIH07XG59XG5cbi8vIFNwZWNpYWwgZnVuY3Rpb24gZm9yIGhhbmRsaW5nIHNjZW5hcmlvcyB3aGVyZSBvbmUgb2YgdGhlIHBvbGVzIGlzIGluc2lkZSB0aGUgcXVlcnkgcG9seWdvbi5cbi8vIEZpbmRpbmcgcHJvamVjdGlvbiBvZiB0aGVzZSBraW5kIG9mIHBvbHlnb25zIGlzIG1vcmUgaW52b2x2aW5nIGFzIHByb2plY3RpbmcganVzdCB0aGUgY29ybmVycyB3aWxsXG4vLyBwcm9kdWNlIGEgZGVnZW5lcmF0ZSAoc2VsZi1pbnRlcnNlY3RpbmcsIG5vbi1jb250aW51b3VzLCBldGMuKSBwb2x5Z29uIGluIG1lcmNhdG9yIGNvb3JkaW5hdGVzXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdFBvbHlnb25Db3ZlcmluZ1BvbGVzKHBvbHlnb246IFBvaW50W10sIHRyOiBUcmFuc2Zvcm0pOiA/Q2FjaGVkUG9seWdvbiB7XG4gICAgY29uc3QgbWF0cml4ID0gbWF0NC5tdWx0aXBseShbXSwgdHIucGl4ZWxNYXRyaXgsIHRyLmdsb2JlTWF0cml4KTtcblxuICAgIC8vIFRyYW5zZm9ybSBub3J0aCBhbmQgc291dGggcG9sZSBjb29yZGluYXRlcyB0byB0aGUgc2NyZWVuIHRvIHNlZSBpZiB0aGV5J3JlXG4gICAgLy8gaW5zaWRlIHRoZSBxdWVyeSBwb2x5Z29uXG4gICAgY29uc3Qgbm9ydGhQb2xlID0gWzAsIC1HTE9CRV9SQURJVVMsIDAsIDFdO1xuICAgIGNvbnN0IHNvdXRoUG9sZSA9IFswLCBHTE9CRV9SQURJVVMsIDAsIDFdO1xuICAgIGNvbnN0IGNlbnRlciA9IFswLCAwLCAwLCAxXTtcblxuICAgIHZlYzQudHJhbnNmb3JtTWF0NChub3J0aFBvbGUsIG5vcnRoUG9sZSwgbWF0cml4KTtcbiAgICB2ZWM0LnRyYW5zZm9ybU1hdDQoc291dGhQb2xlLCBzb3V0aFBvbGUsIG1hdHJpeCk7XG4gICAgdmVjNC50cmFuc2Zvcm1NYXQ0KGNlbnRlciwgY2VudGVyLCBtYXRyaXgpO1xuXG4gICAgY29uc3Qgc2NyZWVuTnAgPSBuZXcgUG9pbnQobm9ydGhQb2xlWzBdIC8gbm9ydGhQb2xlWzNdLCBub3J0aFBvbGVbMV0gLyBub3J0aFBvbGVbM10pO1xuICAgIGNvbnN0IHNjcmVlblNwID0gbmV3IFBvaW50KHNvdXRoUG9sZVswXSAvIHNvdXRoUG9sZVszXSwgc291dGhQb2xlWzFdIC8gc291dGhQb2xlWzNdKTtcbiAgICBjb25zdCBjb250YWluc05wID0gcG9seWdvbkNvbnRhaW5zUG9pbnQocG9seWdvbiwgc2NyZWVuTnApICYmIG5vcnRoUG9sZVszXSA8IGNlbnRlclszXTtcbiAgICBjb25zdCBjb250YWluc1NwID0gcG9seWdvbkNvbnRhaW5zUG9pbnQocG9seWdvbiwgc2NyZWVuU3ApICYmIHNvdXRoUG9sZVszXSA8IGNlbnRlclszXTtcblxuICAgIGlmICghY29udGFpbnNOcCAmJiAhY29udGFpbnNTcCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBQcm9qZWN0IGNvcm5lciBwb2ludHMgb2YgdGhlIHBvbHlnb24gYW5kIHRyYXZlcnNlIHRoZSByaW5nIHRvIGZpbmQgdGhlIGVkZ2UgdGhhdCdzXG4gICAgLy8gY3Jvc3NpbmcgdGhlIHplcm8gbG9uZ2l0dWRlIGJvcmRlci5cbiAgICBjb25zdCByZXN1bHQgPSBmaW5kRWRnZUNyb3NzaW5nQW50aW1lcmlkaWFuKHBvbHlnb24sIHRyLCBjb250YWluc05wID8gLTEgOiAxKTtcblxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFN0YXJ0IGNvbnN0cnVjdGluZyB0aGUgbmV3IHBvbHlnb24gYnkgcmVzYW1wbGluZyBlZGdlcyB1bnRpbCB0aGUgY3Jvc3NpbmcgZWRnZVxuICAgIGNvbnN0IHtpZHgsIHR9ID0gcmVzdWx0O1xuICAgIGxldCBwYXJ0QSA9IGlkeCA+IDEgPyByZXNhbXBsZVBvbHlnb24ocG9seWdvbi5zbGljZSgwLCBpZHgpLCB0cikgOiBbXTtcbiAgICBsZXQgcGFydEIgPSBpZHggPCBwb2x5Z29uLmxlbmd0aCA/IHJlc2FtcGxlUG9seWdvbihwb2x5Z29uLnNsaWNlKGlkeCksIHRyKSA6IFtdO1xuXG4gICAgcGFydEEgPSBwYXJ0QS5tYXAocCA9PiBuZXcgUG9pbnQod3JhcChwLngpLCBwLnkpKTtcbiAgICBwYXJ0QiA9IHBhcnRCLm1hcChwID0+IG5ldyBQb2ludCh3cmFwKHAueCksIHAueSkpO1xuXG4gICAgLy8gUmVzYW1wbGUgZmlyc3Qgc2VjdGlvbiBvZiB0aGUgcmluZyAodXAgdG8gdGhlIGVkZ2UgdGhhdCBjcm9zc2VzIHRoZSAwLWxpbmUpXG4gICAgY29uc3QgcmVzYW1wbGVkID0gWy4uLnBhcnRBXTtcblxuICAgIGlmIChyZXNhbXBsZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlc2FtcGxlZC5wdXNoKHBhcnRCW3BhcnRCLmxlbmd0aCAtIDFdKTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIGxvY2F0aW9uIG9mIHRoZSBjcm9zc2luZyBieSBpbnRlcnBvbGF0aW5nIG1lcmNhdG9yIGNvb3JkaW5hdGVzLlxuICAgIC8vIFRoaXMgd2lsbCBwcm9kdWNlIHNsaWdodGx5IG9mZiByZXN1bHQgYXMgdGhlIGNyb3NzaW5nIGVkZ2UgaXMgbm90IGFjdHVhbGx5XG4gICAgLy8gbGluZWFyIG9uIHRoZSBnbG9iZS5cbiAgICBjb25zdCBhID0gcmVzYW1wbGVkW3Jlc2FtcGxlZC5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBiID0gcGFydEIubGVuZ3RoID09PSAwID8gcGFydEFbMF0gOiBwYXJ0QlswXTtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25ZID0gaW50ZXJwb2xhdGUoYS55LCBiLnksIHQpO1xuXG4gICAgbGV0IG1pZDtcblxuICAgIGlmIChjb250YWluc05wKSB7XG4gICAgICAgIG1pZCA9IFtcbiAgICAgICAgICAgIG5ldyBQb2ludCgwLCBpbnRlcnNlY3Rpb25ZKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCgwLCAwKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCgxLCAwKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCgxLCBpbnRlcnNlY3Rpb25ZKVxuICAgICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1pZCA9IFtcbiAgICAgICAgICAgIG5ldyBQb2ludCgxLCBpbnRlcnNlY3Rpb25ZKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCgxLCAxKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCgwLCAxKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCgwLCBpbnRlcnNlY3Rpb25ZKVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIHJlc2FtcGxlZC5wdXNoKC4uLm1pZCk7XG5cbiAgICAvLyBSZXNhbXBsZSB0byB0aGUgc2Vjb25kIHNlY3Rpb24gb2YgdGhlIHJpbmdcbiAgICBpZiAocGFydEIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlc2FtcGxlZC5wdXNoKHBhcnRBWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXNhbXBsZWQucHVzaCguLi5wYXJ0Qik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9seWdvbjogcmVzYW1wbGVkLm1hcChwID0+IG5ldyBNZXJjYXRvckNvb3JkaW5hdGUocC54LCBwLnkpKSxcbiAgICAgICAgdW53cmFwcGVkOiBmYWxzZVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHJlc2FtcGxlUG9seWdvbihwb2x5Z29uOiBQb2ludFtdLCB0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IFBvaW50W10ge1xuICAgIC8vIENob29zZSBhIHRvbGVyYW5jZSB2YWx1ZSBmb3IgdGhlIHJlc2FtcGxpbmcgbG9naWMgdGhhdCBwcm9kdWNlcyBzdWZmaWNpZW50bHlcbiAgICAvLyBhY2N1cmF0ZSBwb2x5Z29ucyB3aXRob3V0IGNyZWF0aW5nIHRvbyBtYW55IHBvaW50cy4gVGhlIHZhbHVlIDEgLyAyNTYgd2FzIGNob3NlblxuICAgIC8vIGJhc2VkIG9uIGVtcGlyaWNhbCB0ZXN0aW5nXG4gICAgY29uc3QgdG9sZXJhbmNlID0gMS4wIC8gMjU2LjA7XG4gICAgcmV0dXJuIHJlc2FtcGxlKFxuICAgICAgICBwb2x5Z29uLFxuICAgICAgICBwID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1jID0gdHJhbnNmb3JtLnBvaW50Q29vcmRpbmF0ZTNEKHApO1xuICAgICAgICAgICAgcC54ID0gbWMueDtcbiAgICAgICAgICAgIHAueSA9IG1jLnk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvbGVyYW5jZSk7XG59XG5cbmZ1bmN0aW9uIHdyYXAobWVyY2F0b3JYOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBtZXJjYXRvclggPCAwID8gMSArIChtZXJjYXRvclggJSAxKSA6IG1lcmNhdG9yWCAlIDE7XG59XG5cbmZ1bmN0aW9uIGZpbmRFZGdlQ3Jvc3NpbmdBbnRpbWVyaWRpYW4ocG9seWdvbjogUG9pbnRbXSwgdHI6IFRyYW5zZm9ybSwgZGlyZWN0aW9uOiBudW1iZXIpOiA/e2lkeDogbnVtYmVyLCB0OiBudW1iZXJ9IHtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvbHlnb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYSA9IHdyYXAodHIucG9pbnRDb29yZGluYXRlM0QocG9seWdvbltpIC0gMV0pLngpO1xuICAgICAgICBjb25zdCBiID0gd3JhcCh0ci5wb2ludENvb3JkaW5hdGUzRChwb2x5Z29uW2ldKS54KTtcblxuICAgICAgICAvLyBkaXJlY3Rpb24gPCAwOiBtZXJjYXRvciBjb29yZGluYXRlIDAgd2lsbCBiZSBjcm9zc2VkIGZyb20gbGVmdFxuICAgICAgICAvLyBkaXJlY3Rpb24gPiAwOiBtZXJjYXRvciBjb29yZGluYXRlIDEgd2lsbCBiZSBjcm9zc2VkIGZyb20gcmlnaHRcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA8IDApIHtcbiAgICAgICAgICAgIGlmIChhIDwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7aWR4OiBpLCB0OiAtYSAvIChiIC0gMSAtIGEpfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChiIDwgYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7aWR4OiBpLCB0OiAoMSAtIGEpIC8gKGIgKyAxIC0gYSl9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8vUGFkZGluZyBpcyBpbiBzY3JlZW4gcGl4ZWxzIGFuZCBpcyBvbmx5IHVzZWQgYXMgYSBjb2Fyc2UgY2hlY2ssIHNvIDIgZGVjaW1hbCBwbGFjZXMgb2YgcHJlY2lzaW9uIHNob3VsZCBiZSBnb29kIGVub3VnaCBmb3IgYSBjYWNoZS5cbmZ1bmN0aW9uIGNhY2hlS2V5KHBhZGRpbmc6IG51bWJlcik6IG51bWJlciAge1xuICAgIHJldHVybiAocGFkZGluZyAqIDEwMCkgfCAwO1xufVxuXG5leHBvcnQgdHlwZSBUaWxlc3BhY2VRdWVyeUdlb21ldHJ5ID0ge1xuICAgIHF1ZXJ5R2VvbWV0cnk6IFF1ZXJ5R2VvbWV0cnksXG4gICAgdGlsZXNwYWNlR2VvbWV0cnk6IFBvaW50W10sXG4gICAgdGlsZXNwYWNlUmF5czogUmF5W10sXG4gICAgYnVmZmVyZWRUaWxlc3BhY2VHZW9tZXRyeTogUG9pbnRbXSxcbiAgICBidWZmZXJlZFRpbGVzcGFjZUJvdW5kczogeyBtaW46IFBvaW50LCBtYXg6IFBvaW50fSxcbiAgICB0aWxlOiBUaWxlLFxuICAgIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCxcbiAgICBwaXhlbFRvVGlsZVVuaXRzRmFjdG9yOiBudW1iZXJcbn07XG5cbmZ1bmN0aW9uIGNsYW1wQm91bmRzVG9UaWxlRXh0ZW50cyhib3VuZHM6IHttaW46IFBvaW50LCBtYXg6IFBvaW50fSk6IHttaW46IFBvaW50LCBtYXg6IFBvaW50fSB7XG4gICAgYm91bmRzLm1pbi54ID0gY2xhbXAoYm91bmRzLm1pbi54LCAwLCBFWFRFTlQpO1xuICAgIGJvdW5kcy5taW4ueSA9IGNsYW1wKGJvdW5kcy5taW4ueSwgMCwgRVhURU5UKTtcblxuICAgIGJvdW5kcy5tYXgueCA9IGNsYW1wKGJvdW5kcy5tYXgueCwgMCwgRVhURU5UKTtcbiAgICBib3VuZHMubWF4LnkgPSBjbGFtcChib3VuZHMubWF4LnksIDAsIEVYVEVOVCk7XG4gICAgcmV0dXJuIGJvdW5kcztcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7cGljaywgZXh0ZW5kfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuXG5pbXBvcnQge2dldEpTT04sIFJlc291cmNlVHlwZX0gZnJvbSAnLi4vdXRpbC9hamF4LmpzJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5cbmltcG9ydCB0eXBlIHtSZXF1ZXN0TWFuYWdlcn0gZnJvbSAnLi4vdXRpbC9tYXBib3guanMnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjay5qcyc7XG5pbXBvcnQgdHlwZSB7VGlsZUpTT059IGZyb20gJy4uL3R5cGVzL3RpbGVqc29uLmpzJztcbmltcG9ydCB0eXBlIHtDYW5jZWxhYmxlfSBmcm9tICcuLi90eXBlcy9jYW5jZWxhYmxlLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob3B0aW9uczogYW55LCByZXF1ZXN0TWFuYWdlcjogUmVxdWVzdE1hbmFnZXIsIGxhbmd1YWdlOiA/c3RyaW5nLCB3b3JsZHZpZXc6ID9zdHJpbmcsIGNhbGxiYWNrOiBDYWxsYmFjazxUaWxlSlNPTj4pOiBDYW5jZWxhYmxlIHtcbiAgICBjb25zdCBsb2FkZWQgPSBmdW5jdGlvbihlcnI6ID9FcnJvciwgdGlsZUpTT046ID9PYmplY3QpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH0gZWxzZSBpZiAodGlsZUpTT04pIHtcbiAgICAgICAgICAgIC8vIFByZWZlciBUaWxlSlNPTiB0aWxlcywgaWYgYm90aCBVUkwgYW5kIHRpbGVzIG9wdGlvbnMgYXJlIHNldFxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXJsICYmIHRpbGVKU09OLnRpbGVzICYmIG9wdGlvbnMudGlsZXMpIGRlbGV0ZSBvcHRpb25zLnRpbGVzO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IHBpY2soXG4gICAgICAgICAgICAgICAgLy8gZXhwbGljaXQgc291cmNlIG9wdGlvbnMgdGFrZSBwcmVjZWRlbmNlIG92ZXIgVGlsZUpTT05cbiAgICAgICAgICAgICAgICBleHRlbmQodGlsZUpTT04sIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIFsndGlsZXMnLCAnbWluem9vbScsICdtYXh6b29tJywgJ2F0dHJpYnV0aW9uJywgJ21hcGJveF9sb2dvJywgJ2JvdW5kcycsICdzY2hlbWUnLCAndGlsZVNpemUnLCAnZW5jb2RpbmcnXVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKHRpbGVKU09OLnZlY3Rvcl9sYXllcnMpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQudmVjdG9yTGF5ZXJzID0gdGlsZUpTT04udmVjdG9yX2xheWVycztcbiAgICAgICAgICAgICAgICByZXN1bHQudmVjdG9yTGF5ZXJJZHMgPSByZXN1bHQudmVjdG9yTGF5ZXJzLm1hcCgobGF5ZXIpID0+IHsgcmV0dXJuIGxheWVyLmlkOyB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0LnRpbGVzID0gcmVxdWVzdE1hbmFnZXIuY2Fub25pY2FsaXplVGlsZXNldChyZXN1bHQsIG9wdGlvbnMudXJsKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMudXJsKSB7XG4gICAgICAgIHJldHVybiBnZXRKU09OKHJlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QocmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU291cmNlVVJMKG9wdGlvbnMudXJsLCBudWxsLCBsYW5ndWFnZSwgd29ybGR2aWV3KSwgUmVzb3VyY2VUeXBlLlNvdXJjZSksIGxvYWRlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJyb3dzZXIuZnJhbWUoKCkgPT4gbG9hZGVkKG51bGwsIG9wdGlvbnMpKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTG5nTGF0Qm91bmRzIGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcy5qcyc7XG5pbXBvcnQge21lcmNhdG9yWGZyb21MbmcsIG1lcmNhdG9yWWZyb21MYXR9IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcblxuaW1wb3J0IHR5cGUge0Nhbm9uaWNhbFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkLmpzJztcblxuY2xhc3MgVGlsZUJvdW5kcyB7XG4gICAgYm91bmRzOiBMbmdMYXRCb3VuZHM7XG4gICAgbWluem9vbTogbnVtYmVyO1xuICAgIG1heHpvb206IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGJvdW5kczogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sIG1pbnpvb206ID9udW1iZXIsIG1heHpvb206ID9udW1iZXIpIHtcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBMbmdMYXRCb3VuZHMuY29udmVydCh0aGlzLnZhbGlkYXRlQm91bmRzKGJvdW5kcykpO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSBtaW56b29tIHx8IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IG1heHpvb20gfHwgMjQ7XG4gICAgfVxuXG4gICAgdmFsaWRhdGVCb3VuZHMoYm91bmRzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSk6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBib3VuZHMgcHJvcGVydHkgY29udGFpbnMgdmFsaWQgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZXNcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGJvdW5kcykgfHwgYm91bmRzLmxlbmd0aCAhPT0gNCkgcmV0dXJuIFstMTgwLCAtOTAsIDE4MCwgOTBdO1xuICAgICAgICByZXR1cm4gW01hdGgubWF4KC0xODAsIGJvdW5kc1swXSksIE1hdGgubWF4KC05MCwgYm91bmRzWzFdKSwgTWF0aC5taW4oMTgwLCBib3VuZHNbMl0pLCBNYXRoLm1pbig5MCwgYm91bmRzWzNdKV07XG4gICAgfVxuXG4gICAgY29udGFpbnModGlsZUlEOiBDYW5vbmljYWxUaWxlSUQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgd29ybGRTaXplID0gTWF0aC5wb3coMiwgdGlsZUlELnopO1xuICAgICAgICBjb25zdCBsZXZlbCA9IHtcbiAgICAgICAgICAgIG1pblg6IE1hdGguZmxvb3IobWVyY2F0b3JYZnJvbUxuZyh0aGlzLmJvdW5kcy5nZXRXZXN0KCkpICogd29ybGRTaXplKSxcbiAgICAgICAgICAgIG1pblk6IE1hdGguZmxvb3IobWVyY2F0b3JZZnJvbUxhdCh0aGlzLmJvdW5kcy5nZXROb3J0aCgpKSAqIHdvcmxkU2l6ZSksXG4gICAgICAgICAgICBtYXhYOiBNYXRoLmNlaWwobWVyY2F0b3JYZnJvbUxuZyh0aGlzLmJvdW5kcy5nZXRFYXN0KCkpICogd29ybGRTaXplKSxcbiAgICAgICAgICAgIG1heFk6IE1hdGguY2VpbChtZXJjYXRvcllmcm9tTGF0KHRoaXMuYm91bmRzLmdldFNvdXRoKCkpICogd29ybGRTaXplKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoaXQgPSB0aWxlSUQueCA+PSBsZXZlbC5taW5YICYmIHRpbGVJRC54IDwgbGV2ZWwubWF4WCAmJiB0aWxlSUQueSA+PSBsZXZlbC5taW5ZICYmIHRpbGVJRC55IDwgbGV2ZWwubWF4WTtcbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVCb3VuZHM7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSB7U3RydWN0QXJyYXl9IGZyb20gJy4uL3V0aWwvc3RydWN0X2FycmF5LmpzJztcbmltcG9ydCB0eXBlIHtUcmlhbmdsZUluZGV4QXJyYXksIExpbmVJbmRleEFycmF5LCBMaW5lU3RyaXBJbmRleEFycmF5fSBmcm9tICcuLi9kYXRhL2luZGV4X2FycmF5X3R5cGUuanMnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0LmpzJztcblxuY2xhc3MgSW5kZXhCdWZmZXIge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgYnVmZmVyOiA/V2ViR0xCdWZmZXI7XG4gICAgZHluYW1pY0RyYXc6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBhcnJheTogVHJpYW5nbGVJbmRleEFycmF5IHwgTGluZUluZGV4QXJyYXkgfCBMaW5lU3RyaXBJbmRleEFycmF5LCBkeW5hbWljRHJhdz86IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEcmF3ID0gQm9vbGVhbihkeW5hbWljRHJhdyk7XG5cbiAgICAgICAgLy8gVGhlIGJvdW5kIGluZGV4IGJ1ZmZlciBpcyBwYXJ0IG9mIHZlcnRleCBhcnJheSBvYmplY3Qgc3RhdGUuIFdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gbW9kaWZ5IHdoYXRldmVyIFZBTyBoYXBwZW5zIHRvIGJlIGN1cnJlbnRseSBib3VuZCwgc28gbWFrZSBzdXJlIHRoZSBkZWZhdWx0XG4gICAgICAgIC8vIHZlcnRleCBhcnJheSBwcm92aWRlZCBieSB0aGUgY29udGV4dCBpcyBib3VuZCBpbnN0ZWFkLlxuICAgICAgICB0aGlzLmNvbnRleHQudW5iaW5kVkFPKCk7XG5cbiAgICAgICAgY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBhcnJheS5hcnJheUJ1ZmZlciwgdGhpcy5keW5hbWljRHJhdyA/IGdsLkRZTkFNSUNfRFJBVyA6IGdsLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICBpZiAoIXRoaXMuZHluYW1pY0RyYXcpIHtcbiAgICAgICAgICAgIGFycmF5LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJpbmQoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO1xuICAgIH1cblxuICAgIHVwZGF0ZURhdGEoYXJyYXk6IFN0cnVjdEFycmF5KSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBhc3NlcnQodGhpcy5keW5hbWljRHJhdyk7XG4gICAgICAgIC8vIFRoZSByaWdodCBWQU8gd2lsbCBnZXQgdGhpcyBidWZmZXIgcmUtYm91bmQgbGF0ZXIgaW4gVmVydGV4QXJyYXlPYmplY3QjYmluZFxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzU2MjBcbiAgICAgICAgdGhpcy5jb250ZXh0LnVuYmluZFZBTygpO1xuICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgMCwgYXJyYXkuYXJyYXlCdWZmZXIpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBpZiAodGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5idWZmZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4QnVmZmVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSB7XG4gICAgU3RydWN0QXJyYXksXG4gICAgU3RydWN0QXJyYXlNZW1iZXJcbn0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXkuanMnO1xuXG5pbXBvcnQgdHlwZSBQcm9ncmFtIGZyb20gJy4uL3JlbmRlci9wcm9ncmFtLmpzJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dC5qcyc7XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ30gQXR0cmlidXRlVHlwZVxuICogQHByaXZhdGVcbiAqIEByZWFkb25seVxuICovXG5jb25zdCBBdHRyaWJ1dGVUeXBlID0ge1xuICAgIEludDg6ICAgJ0JZVEUnLFxuICAgIFVpbnQ4OiAgJ1VOU0lHTkVEX0JZVEUnLFxuICAgIEludDE2OiAgJ1NIT1JUJyxcbiAgICBVaW50MTY6ICdVTlNJR05FRF9TSE9SVCcsXG4gICAgSW50MzI6ICAnSU5UJyxcbiAgICBVaW50MzI6ICdVTlNJR05FRF9JTlQnLFxuICAgIEZsb2F0MzI6ICdGTE9BVCdcbn07XG5cbi8qKlxuICogVGhlIGBWZXJ0ZXhCdWZmZXJgIGNsYXNzIHR1cm5zIGEgYFN0cnVjdEFycmF5YCBpbnRvIGEgV2ViR0wgYnVmZmVyLiBFYWNoIG1lbWJlciBvZiB0aGUgU3RydWN0QXJyYXknc1xuICogU3RydWN0IHR5cGUgaXMgY29udmVydGVkIHRvIGEgV2ViR0wgYXRyaWJ1dGUuXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBWZXJ0ZXhCdWZmZXIge1xuICAgIGxlbmd0aDogbnVtYmVyO1xuICAgIGF0dHJpYnV0ZXM6ICRSZWFkT25seUFycmF5PFN0cnVjdEFycmF5TWVtYmVyPjtcbiAgICBpdGVtU2l6ZTogbnVtYmVyO1xuICAgIGR5bmFtaWNEcmF3OiA/Ym9vbGVhbjtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGJ1ZmZlcjogP1dlYkdMQnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGR5bmFtaWNEcmF3IFdoZXRoZXIgdGhpcyBidWZmZXIgd2lsbCBiZSByZXBlYXRlZGx5IHVwZGF0ZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBhcnJheTogU3RydWN0QXJyYXksIGF0dHJpYnV0ZXM6ICRSZWFkT25seUFycmF5PFN0cnVjdEFycmF5TWVtYmVyPiwgZHluYW1pY0RyYXc/OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgICAgICB0aGlzLml0ZW1TaXplID0gYXJyYXkuYnl0ZXNQZXJFbGVtZW50O1xuICAgICAgICB0aGlzLmR5bmFtaWNEcmF3ID0gZHluYW1pY0RyYXc7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBjb250ZXh0LmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKTtcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGFycmF5LmFycmF5QnVmZmVyLCB0aGlzLmR5bmFtaWNEcmF3ID8gZ2wuRFlOQU1JQ19EUkFXIDogZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIGlmICghdGhpcy5keW5hbWljRHJhdykge1xuICAgICAgICAgICAgYXJyYXkuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmluZCgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVEYXRhKGFycmF5OiBTdHJ1Y3RBcnJheSkge1xuICAgICAgICBhc3NlcnQoYXJyYXkubGVuZ3RoID09PSB0aGlzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YShnbC5BUlJBWV9CVUZGRVIsIDAsIGFycmF5LmFycmF5QnVmZmVyKTtcbiAgICB9XG5cbiAgICBlbmFibGVBdHRyaWJ1dGVzKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHByb2dyYW06IFByb2dyYW08Kj4pIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWJlciA9IHRoaXMuYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYkluZGV4OiBudW1iZXIgfCB2b2lkID0gcHJvZ3JhbS5hdHRyaWJ1dGVzW21lbWJlci5uYW1lXTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0cmliSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBhdHRyaWJ1dGUgcG9pbnRlcnMgaW4gYSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSBnbCBUaGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0gcHJvZ3JhbSBUaGUgYWN0aXZlIFdlYkdMIHByb2dyYW0uXG4gICAgICogQHBhcmFtIHZlcnRleE9mZnNldCBJbmRleCBvZiB0aGUgc3RhcnRpbmcgdmVydGV4IG9mIHRoZSBzZWdtZW50LlxuICAgICAqL1xuICAgIHNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHByb2dyYW06IFByb2dyYW08Kj4sIHZlcnRleE9mZnNldDogP251bWJlcikge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgbWVtYmVyID0gdGhpcy5hdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgY29uc3QgYXR0cmliSW5kZXg6IG51bWJlciB8IHZvaWQgPSBwcm9ncmFtLmF0dHJpYnV0ZXNbbWVtYmVyLm5hbWVdO1xuXG4gICAgICAgICAgICBpZiAoYXR0cmliSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYkluZGV4LFxuICAgICAgICAgICAgICAgICAgICBtZW1iZXIuY29tcG9uZW50cyxcbiAgICAgICAgICAgICAgICAgICAgKGdsOiBhbnkpW0F0dHJpYnV0ZVR5cGVbbWVtYmVyLnR5cGVdXSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbVNpemUsXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlci5vZmZzZXQgKyAodGhpcy5pdGVtU2l6ZSAqICh2ZXJ0ZXhPZmZzZXQgfHwgMCkpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIEdMIGJ1ZmZlciBib3VuZCB0byB0aGUgZ2l2ZW4gV2ViR0wgY29udGV4dC5cbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyKSB7XG4gICAgICAgICAgICBnbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVmZmVyO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZXJ0ZXhCdWZmZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yLmpzJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHR5cGUge1xuICAgIEJsZW5kRnVuY1R5cGUsXG4gICAgQmxlbmRFcXVhdGlvblR5cGUsXG4gICAgQ29sb3JNYXNrVHlwZSxcbiAgICBEZXB0aFJhbmdlVHlwZSxcbiAgICBEZXB0aE1hc2tUeXBlLFxuICAgIFN0ZW5jaWxGdW5jVHlwZSxcbiAgICBTdGVuY2lsT3BUeXBlLFxuICAgIERlcHRoRnVuY1R5cGUsXG4gICAgVGV4dHVyZVVuaXRUeXBlLFxuICAgIFZpZXdwb3J0VHlwZSxcbiAgICBDdWxsRmFjZU1vZGVUeXBlLFxuICAgIEZyb250RmFjZVR5cGUsXG59IGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlPFQ+IHtcbiAgICBjdXJyZW50OiBUO1xuICAgIGRlZmF1bHQ6IFQ7XG4gICAgZGlydHk6IGJvb2xlYW47XG4gICAgZ2V0KCk6IFQ7XG4gICAgc2V0RGVmYXVsdCgpOiB2b2lkO1xuICAgIHNldCh2YWx1ZTogVCk6IHZvaWQ7XG59XG5cbmNsYXNzIEJhc2VWYWx1ZTxUPiBpbXBsZW1lbnRzIFZhbHVlPFQ+IHtcbiAgICBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xuICAgIGN1cnJlbnQ6IFQ7XG4gICAgZGVmYXVsdDogVDtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5nbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRoaXMuZ2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQoKTogVCB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQ7XG4gICAgfVxuICAgIHNldCh2YWx1ZTogVCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIC8vIG92ZXJyaWRkZW4gaW4gY2hpbGQgY2xhc3NlcztcbiAgICB9XG5cbiAgICBnZXREZWZhdWx0KCk6IFQge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0OyAvLyBvdmVycmlkZW4gaW4gY2hpbGQgY2xhc3Nlc1xuICAgIH1cbiAgICBzZXREZWZhdWx0KCkge1xuICAgICAgICB0aGlzLnNldCh0aGlzLmRlZmF1bHQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsZWFyQ29sb3IgZXh0ZW5kcyBCYXNlVmFsdWU8Q29sb3I+IHtcbiAgICBnZXREZWZhdWx0KCk6IENvbG9yIHtcbiAgICAgICAgcmV0dXJuIENvbG9yLnRyYW5zcGFyZW50O1xuICAgIH1cbiAgICBzZXQodjogQ29sb3IpIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHYuciA9PT0gYy5yICYmIHYuZyA9PT0gYy5nICYmIHYuYiA9PT0gYy5iICYmIHYuYSA9PT0gYy5hICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2wuY2xlYXJDb2xvcih2LnIsIHYuZywgdi5iLCB2LmEpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2xlYXJEZXB0aCBleHRlbmRzIEJhc2VWYWx1ZTxudW1iZXI+IHtcbiAgICBnZXREZWZhdWx0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBzZXQodjogbnVtYmVyKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5jbGVhckRlcHRoKHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2xlYXJTdGVuY2lsIGV4dGVuZHMgQmFzZVZhbHVlPG51bWJlcj4ge1xuICAgIGdldERlZmF1bHQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHNldCh2OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLmNsZWFyU3RlbmNpbCh2KTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbG9yTWFzayBleHRlbmRzIEJhc2VWYWx1ZTxDb2xvck1hc2tUeXBlPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBDb2xvck1hc2tUeXBlIHtcbiAgICAgICAgcmV0dXJuIFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXTtcbiAgICB9XG4gICAgc2V0KHY6IENvbG9yTWFza1R5cGUpIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHZbMF0gPT09IGNbMF0gJiYgdlsxXSA9PT0gY1sxXSAmJiB2WzJdID09PSBjWzJdICYmIHZbM10gPT09IGNbM10gJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5jb2xvck1hc2sodlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXB0aE1hc2sgZXh0ZW5kcyBCYXNlVmFsdWU8RGVwdGhNYXNrVHlwZT4ge1xuICAgIGdldERlZmF1bHQoKTogRGVwdGhNYXNrVHlwZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzZXQodjogRGVwdGhNYXNrVHlwZSk6IHZvaWQge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2wuZGVwdGhNYXNrKHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RlbmNpbE1hc2sgZXh0ZW5kcyBCYXNlVmFsdWU8bnVtYmVyPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gMHhGRjtcbiAgICB9XG4gICAgc2V0KHY6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2wuc3RlbmNpbE1hc2sodik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGVuY2lsRnVuYyBleHRlbmRzIEJhc2VWYWx1ZTxTdGVuY2lsRnVuY1R5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IFN0ZW5jaWxGdW5jVHlwZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmdW5jOiB0aGlzLmdsLkFMV0FZUyxcbiAgICAgICAgICAgIHJlZjogMCxcbiAgICAgICAgICAgIG1hc2s6IDB4RkZcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc2V0KHY6IFN0ZW5jaWxGdW5jVHlwZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodi5mdW5jID09PSBjLmZ1bmMgJiYgdi5yZWYgPT09IGMucmVmICYmIHYubWFzayA9PT0gYy5tYXNrICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIC8vIEFzc3VtZSBVTlNJR05FRF9JTlRfMjRfOCBzdG9yYWdlLCB3aXRoIDggYml0cyBkZWRpY2F0ZWQgdG8gc3RlbmNpbC5cbiAgICAgICAgLy8gUGxlYXNlIHJldmlzZSB5b3VyIHN0ZW5jaWwgdmFsdWVzIGlmIHRoaXMgdGhyZXNob2xkIGlzIHRyaWdnZXJlZC5cbiAgICAgICAgYXNzZXJ0KHYucmVmID49IDAgJiYgdi5yZWYgPD0gMjU1KTtcbiAgICAgICAgdGhpcy5nbC5zdGVuY2lsRnVuYyh2LmZ1bmMsIHYucmVmLCB2Lm1hc2spO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RlbmNpbE9wIGV4dGVuZHMgQmFzZVZhbHVlPFN0ZW5jaWxPcFR5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IFN0ZW5jaWxPcFR5cGUge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHJldHVybiBbZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUF07XG4gICAgfVxuICAgIHNldCh2OiBTdGVuY2lsT3BUeXBlKSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdID09PSBjWzBdICYmIHZbMV0gPT09IGNbMV0gJiYgdlsyXSA9PT0gY1syXSAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLnN0ZW5jaWxPcCh2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0ZW5jaWxUZXN0IGV4dGVuZHMgQmFzZVZhbHVlPGJvb2xlYW4+IHtcbiAgICBnZXREZWZhdWx0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNldCh2OiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlcHRoUmFuZ2UgZXh0ZW5kcyBCYXNlVmFsdWU8RGVwdGhSYW5nZVR5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IERlcHRoUmFuZ2VUeXBlIHtcbiAgICAgICAgcmV0dXJuIFswLCAxXTtcbiAgICB9XG4gICAgc2V0KHY6IERlcHRoUmFuZ2VUeXBlKSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdID09PSBjWzBdICYmIHZbMV0gPT09IGNbMV0gJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5kZXB0aFJhbmdlKHZbMF0sIHZbMV0pO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhUZXN0IGV4dGVuZHMgQmFzZVZhbHVlPGJvb2xlYW4+IHtcbiAgICBnZXREZWZhdWx0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNldCh2OiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhGdW5jIGV4dGVuZHMgQmFzZVZhbHVlPERlcHRoRnVuY1R5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IERlcHRoRnVuY1R5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5nbC5MRVNTO1xuICAgIH1cbiAgICBzZXQodjogRGVwdGhGdW5jVHlwZSkge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2wuZGVwdGhGdW5jKHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmxlbmQgZXh0ZW5kcyBCYXNlVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGdldERlZmF1bHQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc2V0KHY6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5CTEVORCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsZW5kRnVuYyBleHRlbmRzIEJhc2VWYWx1ZTxCbGVuZEZ1bmNUeXBlPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBCbGVuZEZ1bmNUeXBlIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICByZXR1cm4gW2dsLk9ORSwgZ2wuWkVST107XG4gICAgfVxuICAgIHNldCh2OiBCbGVuZEZ1bmNUeXBlKSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdID09PSBjWzBdICYmIHZbMV0gPT09IGNbMV0gJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5ibGVuZEZ1bmModlswXSwgdlsxXSk7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbGVuZENvbG9yIGV4dGVuZHMgQmFzZVZhbHVlPENvbG9yPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBDb2xvciB7XG4gICAgICAgIHJldHVybiBDb2xvci50cmFuc3BhcmVudDtcbiAgICB9XG4gICAgc2V0KHY6IENvbG9yKSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2LnIgPT09IGMuciAmJiB2LmcgPT09IGMuZyAmJiB2LmIgPT09IGMuYiAmJiB2LmEgPT09IGMuYSAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLmJsZW5kQ29sb3Iodi5yLCB2LmcsIHYuYiwgdi5hKTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsZW5kRXF1YXRpb24gZXh0ZW5kcyBCYXNlVmFsdWU8QmxlbmRFcXVhdGlvblR5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IEJsZW5kRXF1YXRpb25UeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2wuRlVOQ19BREQ7XG4gICAgfVxuICAgIHNldCh2OiBCbGVuZEVxdWF0aW9uVHlwZSkge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2wuYmxlbmRFcXVhdGlvbih2KTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEN1bGxGYWNlIGV4dGVuZHMgQmFzZVZhbHVlPGJvb2xlYW4+IHtcbiAgICBnZXREZWZhdWx0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNldCh2OiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkNVTExfRkFDRSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLkNVTExfRkFDRSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEN1bGxGYWNlU2lkZSBleHRlbmRzIEJhc2VWYWx1ZTxDdWxsRmFjZU1vZGVUeXBlPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBDdWxsRmFjZU1vZGVUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2wuQkFDSztcbiAgICB9XG4gICAgc2V0KHY6IEN1bGxGYWNlTW9kZVR5cGUpIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLmN1bGxGYWNlKHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRnJvbnRGYWNlIGV4dGVuZHMgQmFzZVZhbHVlPEZyb250RmFjZVR5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IEZyb250RmFjZVR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5nbC5DQ1c7XG4gICAgfVxuICAgIHNldCh2OiBGcm9udEZhY2VUeXBlKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5mcm9udEZhY2Uodik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9ncmFtIGV4dGVuZHMgQmFzZVZhbHVlPD9XZWJHTFByb2dyYW0+IHtcbiAgICBnZXREZWZhdWx0KCk6IFdlYkdMUHJvZ3JhbSB8IG51bGwge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2V0KHY6ID9XZWJHTFByb2dyYW0pIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0odik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBY3RpdmVUZXh0dXJlVW5pdCBleHRlbmRzIEJhc2VWYWx1ZTxUZXh0dXJlVW5pdFR5cGU+IHtcbiAgICBnZXREZWZhdWx0KCk6IFRleHR1cmVVbml0VHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdsLlRFWFRVUkUwO1xuICAgIH1cbiAgICBzZXQodjogVGV4dHVyZVVuaXRUeXBlKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdGhpcy5nbC5hY3RpdmVUZXh0dXJlKHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmlld3BvcnQgZXh0ZW5kcyBCYXNlVmFsdWU8Vmlld3BvcnRUeXBlPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBWaWV3cG9ydFR5cGUge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHJldHVybiBbMCwgMCwgZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLCBnbC5kcmF3aW5nQnVmZmVySGVpZ2h0XTtcbiAgICB9XG4gICAgc2V0KHY6IFZpZXdwb3J0VHlwZSkge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodlswXSA9PT0gY1swXSAmJiB2WzFdID09PSBjWzFdICYmIHZbMl0gPT09IGNbMl0gJiYgdlszXSA9PT0gY1szXSAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZEZyYW1lYnVmZmVyIGV4dGVuZHMgQmFzZVZhbHVlPD9XZWJHTEZyYW1lYnVmZmVyPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBXZWJHTEZyYW1lYnVmZmVyIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXQodjogP1dlYkdMRnJhbWVidWZmZXIpIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kUmVuZGVyYnVmZmVyIGV4dGVuZHMgQmFzZVZhbHVlPD9XZWJHTFJlbmRlcmJ1ZmZlcj4ge1xuICAgIGdldERlZmF1bHQoKTogV2ViR0xSZW5kZXJidWZmZXIgfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHNldCh2OiA/V2ViR0xSZW5kZXJidWZmZXIpIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB2KTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJpbmRUZXh0dXJlIGV4dGVuZHMgQmFzZVZhbHVlPD9XZWJHTFRleHR1cmU+IHtcbiAgICBnZXREZWZhdWx0KCk6IFdlYkdMVGV4dHVyZSB8IG51bGwge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2V0KHY6ID9XZWJHTFRleHR1cmUpIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZFZlcnRleEJ1ZmZlciBleHRlbmRzIEJhc2VWYWx1ZTw/V2ViR0xCdWZmZXI+IHtcbiAgICBnZXREZWZhdWx0KCk6IFdlYkdMQnVmZmVyIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXQodjogP1dlYkdMQnVmZmVyKSB7XG4gICAgICAgIGlmICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpIHJldHVybjtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kRWxlbWVudEJ1ZmZlciBleHRlbmRzIEJhc2VWYWx1ZTw/V2ViR0xCdWZmZXI+IHtcbiAgICBnZXREZWZhdWx0KCk6IFdlYkdMQnVmZmVyIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXQodjogP1dlYkdMQnVmZmVyKSB7XG4gICAgICAgIC8vIEFsd2F5cyByZWJpbmRcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB2KTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJpbmRWZXJ0ZXhBcnJheU9FUyBleHRlbmRzIEJhc2VWYWx1ZTxhbnk+IHtcbiAgICB2YW86IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XG4gICAgICAgIHRoaXMudmFvID0gY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdDtcbiAgICB9XG4gICAgZ2V0RGVmYXVsdCgpOiBhbnkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2V0KHY6IGFueSkge1xuICAgICAgICBpZiAoIXRoaXMudmFvIHx8ICh2ID09PSB0aGlzLmN1cnJlbnQgJiYgIXRoaXMuZGlydHkpKSByZXR1cm47XG4gICAgICAgIHRoaXMudmFvLmJpbmRWZXJ0ZXhBcnJheU9FUyh2KTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBpeGVsU3RvcmVVbnBhY2sgZXh0ZW5kcyBCYXNlVmFsdWU8bnVtYmVyPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gNDtcbiAgICB9XG4gICAgc2V0KHY6IG51bWJlcikge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0FMSUdOTUVOVCwgdik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYSBleHRlbmRzIEJhc2VWYWx1ZTxib29sZWFuPiB7XG4gICAgZ2V0RGVmYXVsdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzZXQodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCAodjogYW55KSk7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQaXhlbFN0b3JlVW5wYWNrRmxpcFkgZXh0ZW5kcyBCYXNlVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGdldERlZmF1bHQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc2V0KHY6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKHYgPT09IHRoaXMuY3VycmVudCAmJiAhdGhpcy5kaXJ0eSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsICh2OiBhbnkpKTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn1cblxuY2xhc3MgRnJhbWVidWZmZXJBdHRhY2htZW50PFQ+IGV4dGVuZHMgQmFzZVZhbHVlPD9UPiB7XG4gICAgcGFyZW50OiBXZWJHTEZyYW1lYnVmZmVyO1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBwYXJlbnQ6IFdlYkdMRnJhbWVidWZmZXIpIHtcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIH1cbiAgICBnZXREZWZhdWx0KCk6IG51bGwge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb2xvckF0dGFjaG1lbnQgZXh0ZW5kcyBGcmFtZWJ1ZmZlckF0dGFjaG1lbnQ8V2ViR0xUZXh0dXJlPiB7XG4gICAgc2V0RGlydHkoKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICBzZXQodjogP1dlYkdMVGV4dHVyZSk6IHZvaWQge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtcbiAgICAgICAgLy8gbm90ZTogaXQncyBwb3NzaWJsZSB0byBhdHRhY2ggYSByZW5kZXJidWZmZXIgdG8gdGhlIGNvbG9yXG4gICAgICAgIC8vIGF0dGFjaG1lbnQgcG9pbnQsIGJ1dCB0aHVzIGZhciBNQkdMIG9ubHkgdXNlcyB0ZXh0dXJlcyBmb3IgY29sb3JcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHYsIDApO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhBdHRhY2htZW50IGV4dGVuZHMgRnJhbWVidWZmZXJBdHRhY2htZW50PFdlYkdMUmVuZGVyYnVmZmVyPiB7XG4gICAgYXR0YWNobWVudCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5nbC5ERVBUSF9BVFRBQ0hNRU5UOyB9XG4gICAgc2V0KHY6ID9XZWJHTFJlbmRlcmJ1ZmZlcik6IHZvaWQge1xuICAgICAgICBpZiAodiA9PT0gdGhpcy5jdXJyZW50ICYmICF0aGlzLmRpcnR5KSByZXR1cm47XG4gICAgICAgIHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtcbiAgICAgICAgLy8gbm90ZTogaXQncyBwb3NzaWJsZSB0byBhdHRhY2ggYSB0ZXh0dXJlIHRvIHRoZSBkZXB0aCBhdHRhY2htZW50XG4gICAgICAgIC8vIHBvaW50LCBidXQgdGh1cyBmYXIgTUJHTCBvbmx5IHVzZXMgcmVuZGVyYnVmZmVycyBmb3IgZGVwdGhcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5hdHRhY2htZW50KCksIGdsLlJFTkRFUkJVRkZFUiwgdik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXB0aFN0ZW5jaWxBdHRhY2htZW50IGV4dGVuZHMgRGVwdGhBdHRhY2htZW50IHtcbiAgICBhdHRhY2htZW50KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVDsgfVxufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7Q29sb3JBdHRhY2htZW50LCBEZXB0aEF0dGFjaG1lbnR9IGZyb20gJy4vdmFsdWUuanMnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4vY29udGV4dC5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmNsYXNzIEZyYW1lYnVmZmVyIHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgZnJhbWVidWZmZXI6IFdlYkdMRnJhbWVidWZmZXI7XG4gICAgY29sb3JBdHRhY2htZW50OiBDb2xvckF0dGFjaG1lbnQ7XG4gICAgZGVwdGhBdHRhY2htZW50OiBEZXB0aEF0dGFjaG1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgaGFzRGVwdGg6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICBjb25zdCBmYm8gPSB0aGlzLmZyYW1lYnVmZmVyID0gKChnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpOiBhbnkpOiBXZWJHTEZyYW1lYnVmZmVyKTtcblxuICAgICAgICB0aGlzLmNvbG9yQXR0YWNobWVudCA9IG5ldyBDb2xvckF0dGFjaG1lbnQoY29udGV4dCwgZmJvKTtcbiAgICAgICAgaWYgKGhhc0RlcHRoKSB7XG4gICAgICAgICAgICB0aGlzLmRlcHRoQXR0YWNobWVudCA9IG5ldyBEZXB0aEF0dGFjaG1lbnQoY29udGV4dCwgZmJvKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQoZ2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhnbC5GUkFNRUJVRkZFUikgPT09IGdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcblxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5jb2xvckF0dGFjaG1lbnQuZ2V0KCk7XG4gICAgICAgIGlmICh0ZXh0dXJlKSBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUpO1xuXG4gICAgICAgIGlmICh0aGlzLmRlcHRoQXR0YWNobWVudCkge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyYnVmZmVyID0gdGhpcy5kZXB0aEF0dGFjaG1lbnQuZ2V0KCk7XG4gICAgICAgICAgICBpZiAocmVuZGVyYnVmZmVyKSBnbC5kZWxldGVSZW5kZXJidWZmZXIocmVuZGVyYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZnJhbWVidWZmZXIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRnJhbWVidWZmZXI7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IEluZGV4QnVmZmVyIGZyb20gJy4vaW5kZXhfYnVmZmVyLmpzJztcblxuaW1wb3J0IFZlcnRleEJ1ZmZlciBmcm9tICcuL3ZlcnRleF9idWZmZXIuanMnO1xuaW1wb3J0IEZyYW1lYnVmZmVyIGZyb20gJy4vZnJhbWVidWZmZXIuanMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4vc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi9jb2xvcl9tb2RlLmpzJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQge2RlZXBFcXVhbH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7Q2xlYXJDb2xvciwgQ2xlYXJEZXB0aCwgQ2xlYXJTdGVuY2lsLCBDb2xvck1hc2ssIERlcHRoTWFzaywgU3RlbmNpbE1hc2ssIFN0ZW5jaWxGdW5jLCBTdGVuY2lsT3AsIFN0ZW5jaWxUZXN0LCBEZXB0aFJhbmdlLCBEZXB0aFRlc3QsIERlcHRoRnVuYywgQmxlbmQsIEJsZW5kRnVuYywgQmxlbmRDb2xvciwgQmxlbmRFcXVhdGlvbiwgQ3VsbEZhY2UsIEN1bGxGYWNlU2lkZSwgRnJvbnRGYWNlLCBQcm9ncmFtLCBBY3RpdmVUZXh0dXJlVW5pdCwgVmlld3BvcnQsIEJpbmRGcmFtZWJ1ZmZlciwgQmluZFJlbmRlcmJ1ZmZlciwgQmluZFRleHR1cmUsIEJpbmRWZXJ0ZXhCdWZmZXIsIEJpbmRFbGVtZW50QnVmZmVyLCBCaW5kVmVydGV4QXJyYXlPRVMsIFBpeGVsU3RvcmVVbnBhY2ssIFBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLCBQaXhlbFN0b3JlVW5wYWNrRmxpcFl9IGZyb20gJy4vdmFsdWUuanMnO1xuXG5pbXBvcnQgdHlwZSB7VHJpYW5nbGVJbmRleEFycmF5LCBMaW5lSW5kZXhBcnJheSwgTGluZVN0cmlwSW5kZXhBcnJheX0gZnJvbSAnLi4vZGF0YS9pbmRleF9hcnJheV90eXBlLmpzJztcbmltcG9ydCB0eXBlIHtcbiAgICBTdHJ1Y3RBcnJheSxcbiAgICBTdHJ1Y3RBcnJheU1lbWJlclxufSBmcm9tICcuLi91dGlsL3N0cnVjdF9hcnJheS5qcyc7XG5pbXBvcnQgdHlwZSBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3IuanMnO1xuXG50eXBlIENsZWFyQXJncyA9IHtcbiAgICBjb2xvcj86IENvbG9yLFxuICAgIGRlcHRoPzogbnVtYmVyLFxuICAgIHN0ZW5jaWw/OiBudW1iZXJcbn07XG5cbmNsYXNzIENvbnRleHQge1xuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG4gICAgaXNXZWJHTDI6IGJvb2xlYW47XG4gICAgZXh0VmVydGV4QXJyYXlPYmplY3Q6IGFueTtcbiAgICBjdXJyZW50TnVtQXR0cmlidXRlczogP251bWJlcjtcbiAgICBtYXhUZXh0dXJlU2l6ZTogbnVtYmVyO1xuXG4gICAgY2xlYXJDb2xvcjogQ2xlYXJDb2xvcjtcbiAgICBjbGVhckRlcHRoOiBDbGVhckRlcHRoO1xuICAgIGNsZWFyU3RlbmNpbDogQ2xlYXJTdGVuY2lsO1xuICAgIGNvbG9yTWFzazogQ29sb3JNYXNrO1xuICAgIGRlcHRoTWFzazogRGVwdGhNYXNrO1xuICAgIHN0ZW5jaWxNYXNrOiBTdGVuY2lsTWFzaztcbiAgICBzdGVuY2lsRnVuYzogU3RlbmNpbEZ1bmM7XG4gICAgc3RlbmNpbE9wOiBTdGVuY2lsT3A7XG4gICAgc3RlbmNpbFRlc3Q6IFN0ZW5jaWxUZXN0O1xuICAgIGRlcHRoUmFuZ2U6IERlcHRoUmFuZ2U7XG4gICAgZGVwdGhUZXN0OiBEZXB0aFRlc3Q7XG4gICAgZGVwdGhGdW5jOiBEZXB0aEZ1bmM7XG4gICAgYmxlbmQ6IEJsZW5kO1xuICAgIGJsZW5kRnVuYzogQmxlbmRGdW5jO1xuICAgIGJsZW5kQ29sb3I6IEJsZW5kQ29sb3I7XG4gICAgYmxlbmRFcXVhdGlvbjogQmxlbmRFcXVhdGlvbjtcbiAgICBjdWxsRmFjZTogQ3VsbEZhY2U7XG4gICAgY3VsbEZhY2VTaWRlOiBDdWxsRmFjZVNpZGU7XG4gICAgZnJvbnRGYWNlOiBGcm9udEZhY2U7XG4gICAgcHJvZ3JhbTogUHJvZ3JhbTtcbiAgICBhY3RpdmVUZXh0dXJlOiBBY3RpdmVUZXh0dXJlVW5pdDtcbiAgICB2aWV3cG9ydDogVmlld3BvcnQ7XG4gICAgYmluZEZyYW1lYnVmZmVyOiBCaW5kRnJhbWVidWZmZXI7XG4gICAgYmluZFJlbmRlcmJ1ZmZlcjogQmluZFJlbmRlcmJ1ZmZlcjtcbiAgICBiaW5kVGV4dHVyZTogQmluZFRleHR1cmU7XG4gICAgYmluZFZlcnRleEJ1ZmZlcjogQmluZFZlcnRleEJ1ZmZlcjtcbiAgICBiaW5kRWxlbWVudEJ1ZmZlcjogQmluZEVsZW1lbnRCdWZmZXI7XG4gICAgYmluZFZlcnRleEFycmF5T0VTOiBCaW5kVmVydGV4QXJyYXlPRVM7XG4gICAgcGl4ZWxTdG9yZVVucGFjazogUGl4ZWxTdG9yZVVucGFjaztcbiAgICBwaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYTogUGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGE7XG4gICAgcGl4ZWxTdG9yZVVucGFja0ZsaXBZOiBQaXhlbFN0b3JlVW5wYWNrRmxpcFk7XG4gICAgcmVuZGVyZXI6ID9zdHJpbmc7XG4gICAgdmVuZG9yOiA/c3RyaW5nO1xuXG4gICAgZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljOiBhbnk7XG4gICAgZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4OiBhbnk7XG4gICAgZXh0VGV4dHVyZUhhbGZGbG9hdDogYW55O1xuICAgIGV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdDogYW55O1xuICAgIGV4dFN0YW5kYXJkRGVyaXZhdGl2ZXM6IGFueTtcbiAgICBleHREZWJ1Z1JlbmRlcmVySW5mbzogYW55O1xuICAgIGV4dFRpbWVyUXVlcnk6IGFueTtcblxuICAgIGV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY0ZvcmNlT2ZmOiBib29sZWFuO1xuICAgIGV4dFN0YW5kYXJkRGVyaXZhdGl2ZXNGb3JjZU9mZjogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGlzV2ViR0wyOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmlzV2ViR0wyID0gaXNXZWJHTDI7XG4gICAgICAgIHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QgPSB0aGlzLmdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKTtcblxuICAgICAgICBpZiAoaXNXZWJHTDIpIHtcbiAgICAgICAgICAgIC8qICRGbG93Rml4TWVbY2Fubm90LXJlc29sdmUtbmFtZV0gKi8gLy8gTm90IGFkZGluZyBkZXBlbmRlbmN5IHRvIHdlYmdsMiB5ZXQuXG4gICAgICAgICAgICBjb25zdCBnbDIgPSAoZ2w6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQpO1xuICAgICAgICAgICAgdGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICBjcmVhdGVWZXJ0ZXhBcnJheU9FUzogZ2wyLmNyZWF0ZVZlcnRleEFycmF5LmJpbmQoZ2wpLFxuICAgICAgICAgICAgICAgIGRlbGV0ZVZlcnRleEFycmF5T0VTOiBnbDIuZGVsZXRlVmVydGV4QXJyYXkuYmluZChnbCksXG4gICAgICAgICAgICAgICAgYmluZFZlcnRleEFycmF5T0VTOiBnbDIuYmluZFZlcnRleEFycmF5LmJpbmQoZ2wpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGVhckNvbG9yID0gbmV3IENsZWFyQ29sb3IodGhpcyk7XG4gICAgICAgIHRoaXMuY2xlYXJEZXB0aCA9IG5ldyBDbGVhckRlcHRoKHRoaXMpO1xuICAgICAgICB0aGlzLmNsZWFyU3RlbmNpbCA9IG5ldyBDbGVhclN0ZW5jaWwodGhpcyk7XG4gICAgICAgIHRoaXMuY29sb3JNYXNrID0gbmV3IENvbG9yTWFzayh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXB0aE1hc2sgPSBuZXcgRGVwdGhNYXNrKHRoaXMpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrID0gbmV3IFN0ZW5jaWxNYXNrKHRoaXMpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxGdW5jID0gbmV3IFN0ZW5jaWxGdW5jKHRoaXMpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxPcCA9IG5ldyBTdGVuY2lsT3AodGhpcyk7XG4gICAgICAgIHRoaXMuc3RlbmNpbFRlc3QgPSBuZXcgU3RlbmNpbFRlc3QodGhpcyk7XG4gICAgICAgIHRoaXMuZGVwdGhSYW5nZSA9IG5ldyBEZXB0aFJhbmdlKHRoaXMpO1xuICAgICAgICB0aGlzLmRlcHRoVGVzdCA9IG5ldyBEZXB0aFRlc3QodGhpcyk7XG4gICAgICAgIHRoaXMuZGVwdGhGdW5jID0gbmV3IERlcHRoRnVuYyh0aGlzKTtcbiAgICAgICAgdGhpcy5ibGVuZCA9IG5ldyBCbGVuZCh0aGlzKTtcbiAgICAgICAgdGhpcy5ibGVuZEZ1bmMgPSBuZXcgQmxlbmRGdW5jKHRoaXMpO1xuICAgICAgICB0aGlzLmJsZW5kQ29sb3IgPSBuZXcgQmxlbmRDb2xvcih0aGlzKTtcbiAgICAgICAgdGhpcy5ibGVuZEVxdWF0aW9uID0gbmV3IEJsZW5kRXF1YXRpb24odGhpcyk7XG4gICAgICAgIHRoaXMuY3VsbEZhY2UgPSBuZXcgQ3VsbEZhY2UodGhpcyk7XG4gICAgICAgIHRoaXMuY3VsbEZhY2VTaWRlID0gbmV3IEN1bGxGYWNlU2lkZSh0aGlzKTtcbiAgICAgICAgdGhpcy5mcm9udEZhY2UgPSBuZXcgRnJvbnRGYWNlKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBuZXcgUHJvZ3JhbSh0aGlzKTtcbiAgICAgICAgdGhpcy5hY3RpdmVUZXh0dXJlID0gbmV3IEFjdGl2ZVRleHR1cmVVbml0KHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRGcmFtZWJ1ZmZlciA9IG5ldyBCaW5kRnJhbWVidWZmZXIodGhpcyk7XG4gICAgICAgIHRoaXMuYmluZFJlbmRlcmJ1ZmZlciA9IG5ldyBCaW5kUmVuZGVyYnVmZmVyKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRUZXh0dXJlID0gbmV3IEJpbmRUZXh0dXJlKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRWZXJ0ZXhCdWZmZXIgPSBuZXcgQmluZFZlcnRleEJ1ZmZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5iaW5kRWxlbWVudEJ1ZmZlciA9IG5ldyBCaW5kRWxlbWVudEJ1ZmZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMgPSB0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0ICYmIG5ldyBCaW5kVmVydGV4QXJyYXlPRVModGhpcyk7XG4gICAgICAgIHRoaXMucGl4ZWxTdG9yZVVucGFjayA9IG5ldyBQaXhlbFN0b3JlVW5wYWNrKHRoaXMpO1xuICAgICAgICB0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhID0gbmV3IFBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhKHRoaXMpO1xuICAgICAgICB0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWSA9IG5ldyBQaXhlbFN0b3JlVW5wYWNrRmxpcFkodGhpcyk7XG5cbiAgICAgICAgdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMgPSAoXG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpIHx8XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ01PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKSB8fFxuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJylcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljKSB7XG4gICAgICAgICAgICB0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCA9IGdsLmdldFBhcmFtZXRlcih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljRm9yY2VPZmYgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5leHRTdGFuZGFyZERlcml2YXRpdmVzRm9yY2VPZmYgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvJyk7XG4gICAgICAgIGlmICh0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyID0gZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm8uVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpO1xuICAgICAgICAgICAgdGhpcy52ZW5kb3IgPSBnbC5nZXRQYXJhbWV0ZXIodGhpcy5leHREZWJ1Z1JlbmRlcmVySW5mby5VTk1BU0tFRF9WRU5ET1JfV0VCR0wpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1dlYkdMMikgdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0Jyk7XG4gICAgICAgIGlmIChpc1dlYkdMMiB8fCAodGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0ICYmIGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKSkpIHtcbiAgICAgICAgICAgIHRoaXMuZXh0UmVuZGVyVG9UZXh0dXJlSGFsZkZsb2F0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXMgPSBpc1dlYkdMMiB8fCBnbC5nZXRFeHRlbnNpb24oJ09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcycpO1xuXG4gICAgICAgIHRoaXMuZXh0VGltZXJRdWVyeSA9IGdsLmdldEV4dGVuc2lvbignRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5Jyk7XG4gICAgICAgIHRoaXMubWF4VGV4dHVyZVNpemUgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfU0laRSk7XG4gICAgfVxuXG4gICAgc2V0RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy51bmJpbmRWQU8oKTtcblxuICAgICAgICB0aGlzLmNsZWFyQ29sb3Iuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsZWFyRGVwdGguc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsZWFyU3RlbmNpbC5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29sb3JNYXNrLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5kZXB0aE1hc2suc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsRnVuYy5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc3RlbmNpbE9wLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsVGVzdC5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuZGVwdGhSYW5nZS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuZGVwdGhUZXN0LnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5kZXB0aEZ1bmMuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmJsZW5kLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5ibGVuZEZ1bmMuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmJsZW5kQ29sb3Iuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmJsZW5kRXF1YXRpb24uc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmN1bGxGYWNlLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jdWxsRmFjZVNpZGUuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmZyb250RmFjZS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMucHJvZ3JhbS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuYWN0aXZlVGV4dHVyZS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuYmluZEZyYW1lYnVmZmVyLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZLnNldERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBzZXREaXJ0eSgpIHtcbiAgICAgICAgdGhpcy5jbGVhckNvbG9yLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbGVhckRlcHRoLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbGVhclN0ZW5jaWwuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbG9yTWFzay5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVwdGhNYXNrLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdGVuY2lsTWFzay5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RlbmNpbEZ1bmMuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0ZW5jaWxPcC5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RlbmNpbFRlc3QuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlcHRoUmFuZ2UuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlcHRoVGVzdC5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVwdGhGdW5jLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZC5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuYmxlbmRGdW5jLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZENvbG9yLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZEVxdWF0aW9uLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jdWxsRmFjZS5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VsbEZhY2VTaWRlLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mcm9udEZhY2UuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLnByb2dyYW0uZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmFjdGl2ZVRleHR1cmUuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpZXdwb3J0LmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iaW5kRnJhbWVidWZmZXIuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmJpbmRSZW5kZXJidWZmZXIuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmJpbmRUZXh0dXJlLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iaW5kVmVydGV4QnVmZmVyLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5iaW5kRWxlbWVudEJ1ZmZlci5kaXJ0eSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjcmVhdGVJbmRleEJ1ZmZlcihhcnJheTogVHJpYW5nbGVJbmRleEFycmF5IHwgTGluZUluZGV4QXJyYXkgfCBMaW5lU3RyaXBJbmRleEFycmF5LCBkeW5hbWljRHJhdz86IGJvb2xlYW4pOiBJbmRleEJ1ZmZlciB7XG4gICAgICAgIHJldHVybiBuZXcgSW5kZXhCdWZmZXIodGhpcywgYXJyYXksIGR5bmFtaWNEcmF3KTtcbiAgICB9XG5cbiAgICBjcmVhdGVWZXJ0ZXhCdWZmZXIoYXJyYXk6IFN0cnVjdEFycmF5LCBhdHRyaWJ1dGVzOiAkUmVhZE9ubHlBcnJheTxTdHJ1Y3RBcnJheU1lbWJlcj4sIGR5bmFtaWNEcmF3PzogYm9vbGVhbik6IFZlcnRleEJ1ZmZlciB7XG4gICAgICAgIHJldHVybiBuZXcgVmVydGV4QnVmZmVyKHRoaXMsIGFycmF5LCBhdHRyaWJ1dGVzLCBkeW5hbWljRHJhdyk7XG4gICAgfVxuXG4gICAgY3JlYXRlUmVuZGVyYnVmZmVyKHN0b3JhZ2VGb3JtYXQ6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiA/V2ViR0xSZW5kZXJidWZmZXIge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgY29uc3QgcmJvID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgIHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5zZXQocmJvKTtcbiAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIHN0b3JhZ2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KG51bGwpO1xuXG4gICAgICAgIHJldHVybiByYm87XG4gICAgfVxuXG4gICAgY3JlYXRlRnJhbWVidWZmZXIod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGhhc0RlcHRoOiBib29sZWFuKTogRnJhbWVidWZmZXIge1xuICAgICAgICByZXR1cm4gbmV3IEZyYW1lYnVmZmVyKHRoaXMsIHdpZHRoLCBoZWlnaHQsIGhhc0RlcHRoKTtcbiAgICB9XG5cbiAgICBjbGVhcih7Y29sb3IsIGRlcHRoLCBzdGVuY2lsfTogQ2xlYXJBcmdzKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgbGV0IG1hc2sgPSAwO1xuXG4gICAgICAgIGlmIChjb2xvcikge1xuICAgICAgICAgICAgbWFzayB8PSBnbC5DT0xPUl9CVUZGRVJfQklUO1xuICAgICAgICAgICAgdGhpcy5jbGVhckNvbG9yLnNldChjb2xvcik7XG4gICAgICAgICAgICB0aGlzLmNvbG9yTWFzay5zZXQoW3RydWUsIHRydWUsIHRydWUsIHRydWVdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgZGVwdGggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBtYXNrIHw9IGdsLkRFUFRIX0JVRkZFUl9CSVQ7XG5cbiAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIHBsYXRmb3JtcyB3aGVyZSBjbGVhckRlcHRoIGRvZXNuJ3Qgc2VlbSB0byB3b3JrXG4gICAgICAgICAgICAvLyB3aXRob3V0IHJlc2V0aW5nIHRoZSBkZXB0aFJhbmdlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzM0MzdcbiAgICAgICAgICAgIHRoaXMuZGVwdGhSYW5nZS5zZXQoWzAsIDFdKTtcblxuICAgICAgICAgICAgdGhpcy5jbGVhckRlcHRoLnNldChkZXB0aCk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoTWFzay5zZXQodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHN0ZW5jaWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBtYXNrIHw9IGdsLlNURU5DSUxfQlVGRkVSX0JJVDtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTdGVuY2lsLnNldChzdGVuY2lsKTtcbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbE1hc2suc2V0KDB4RkYpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wuY2xlYXIobWFzayk7XG4gICAgfVxuXG4gICAgc2V0Q3VsbEZhY2UoY3VsbEZhY2VNb2RlOiAkUmVhZE9ubHk8Q3VsbEZhY2VNb2RlPikge1xuICAgICAgICBpZiAoY3VsbEZhY2VNb2RlLmVuYWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuY3VsbEZhY2Uuc2V0KGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VsbEZhY2Uuc2V0KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5jdWxsRmFjZVNpZGUuc2V0KGN1bGxGYWNlTW9kZS5tb2RlKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRGYWNlLnNldChjdWxsRmFjZU1vZGUuZnJvbnRGYWNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldERlcHRoTW9kZShkZXB0aE1vZGU6ICRSZWFkT25seTxEZXB0aE1vZGU+KSB7XG4gICAgICAgIGlmIChkZXB0aE1vZGUuZnVuYyA9PT0gdGhpcy5nbC5BTFdBWVMgJiYgIWRlcHRoTW9kZS5tYXNrKSB7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGVzdC5zZXQoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRlc3Quc2V0KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5kZXB0aEZ1bmMuc2V0KGRlcHRoTW9kZS5mdW5jKTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhNYXNrLnNldChkZXB0aE1vZGUubWFzayk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoUmFuZ2Uuc2V0KGRlcHRoTW9kZS5yYW5nZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTdGVuY2lsTW9kZShzdGVuY2lsTW9kZTogJFJlYWRPbmx5PFN0ZW5jaWxNb2RlPikge1xuICAgICAgICBpZiAoc3RlbmNpbE1vZGUudGVzdC5mdW5jID09PSB0aGlzLmdsLkFMV0FZUyAmJiAhc3RlbmNpbE1vZGUubWFzaykge1xuICAgICAgICAgICAgdGhpcy5zdGVuY2lsVGVzdC5zZXQoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGVuY2lsVGVzdC5zZXQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrLnNldChzdGVuY2lsTW9kZS5tYXNrKTtcbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbE9wLnNldChbc3RlbmNpbE1vZGUuZmFpbCwgc3RlbmNpbE1vZGUuZGVwdGhGYWlsLCBzdGVuY2lsTW9kZS5wYXNzXSk7XG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxGdW5jLnNldCh7XG4gICAgICAgICAgICAgICAgZnVuYzogc3RlbmNpbE1vZGUudGVzdC5mdW5jLFxuICAgICAgICAgICAgICAgIHJlZjogc3RlbmNpbE1vZGUucmVmLFxuICAgICAgICAgICAgICAgIG1hc2s6IHN0ZW5jaWxNb2RlLnRlc3QubWFza1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDb2xvck1vZGUoY29sb3JNb2RlOiAkUmVhZE9ubHk8Q29sb3JNb2RlPikge1xuICAgICAgICBpZiAoZGVlcEVxdWFsKGNvbG9yTW9kZS5ibGVuZEZ1bmN0aW9uLCBDb2xvck1vZGUuUmVwbGFjZSkpIHtcbiAgICAgICAgICAgIHRoaXMuYmxlbmQuc2V0KGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmxlbmQuc2V0KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5ibGVuZEZ1bmMuc2V0KGNvbG9yTW9kZS5ibGVuZEZ1bmN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuYmxlbmRDb2xvci5zZXQoY29sb3JNb2RlLmJsZW5kQ29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb2xvck1hc2suc2V0KGNvbG9yTW9kZS5tYXNrKTtcbiAgICB9XG5cbiAgICB1bmJpbmRWQU8oKSB7XG4gICAgICAgIC8vIFVuYmluZGluZyB0aGUgVkFPIHByZXZlbnRzIG90aGVyIHRoaW5ncyAoY3VzdG9tIGxheWVycywgbmV3IGJ1ZmZlciBjcmVhdGlvbikgZnJvbVxuICAgICAgICAvLyB1bmludGVudGlvbmFsbHkgY2hhbmdpbmcgdGhlIHN0YXRlIG9mIHRoZSBsYXN0IFZBTyB1c2VkLlxuICAgICAgICBpZiAodGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KG51bGwpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250ZXh0O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkLmpzJztcblxuaW1wb3J0IHtleHRlbmQsIHBpY2t9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgbG9hZFRpbGVKU09OIGZyb20gJy4vbG9hZF90aWxlanNvbi5qcyc7XG5pbXBvcnQge3Bvc3RUdXJuc3RpbGVFdmVudH0gZnJvbSAnLi4vdXRpbC9tYXBib3guanMnO1xuaW1wb3J0IFRpbGVCb3VuZHMgZnJvbSAnLi90aWxlX2JvdW5kcy5qcyc7XG5pbXBvcnQge1Jlc291cmNlVHlwZX0gZnJvbSAnLi4vdXRpbC9hamF4LmpzJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQge2NhY2hlRW50cnlQb3NzaWJseUFkZGVkfSBmcm9tICcuLi91dGlsL3RpbGVfcmVxdWVzdF9jYWNoZS5qcyc7XG5pbXBvcnQge0RlZHVwZWRSZXF1ZXN0LCBsb2FkVmVjdG9yVGlsZX0gZnJvbSAnLi92ZWN0b3JfdGlsZV93b3JrZXJfc291cmNlLmpzJztcblxuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi9zb3VyY2UuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4vdGlsZV9pZC5qcyc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwLmpzJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlLmpzJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2suanMnO1xuaW1wb3J0IHR5cGUge0NhbmNlbGFibGV9IGZyb20gJy4uL3R5cGVzL2NhbmNlbGFibGUuanMnO1xuaW1wb3J0IHR5cGUge1ZlY3RvclNvdXJjZVNwZWNpZmljYXRpb24sIFByb21vdGVJZFNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuaW1wb3J0IHR5cGUgQWN0b3IgZnJvbSAnLi4vdXRpbC9hY3Rvci5qcyc7XG5pbXBvcnQgdHlwZSB7TG9hZFZlY3RvclRpbGVSZXN1bHR9IGZyb20gJy4vdmVjdG9yX3RpbGVfd29ya2VyX3NvdXJjZS5qcyc7XG5cbi8qKlxuICogQSBzb3VyY2UgY29udGFpbmluZyB2ZWN0b3IgdGlsZXMgaW4gW01hcGJveCBWZWN0b3IgVGlsZSBmb3JtYXRdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL3ZlY3Rvci10aWxlcy9yZWZlcmVuY2UvKS5cbiAqIFNlZSB0aGUgW1N0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvI3ZlY3RvcikgZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24gb2Ygb3B0aW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAndmVjdG9yJyxcbiAqICAgICB1cmw6ICdtYXBib3g6Ly9tYXBib3gubWFwYm94LXN0cmVldHMtdjgnXG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAndmVjdG9yJyxcbiAqICAgICB0aWxlczogWydodHRwczovL2QyNXVhcmh4eXd6bDFqLmNsb3VkZnJvbnQubmV0L3YwLjEve3p9L3t4fS97eX0ubXZ0J10sXG4gKiAgICAgbWluem9vbTogNixcbiAqICAgICBtYXh6b29tOiAxNFxuICogfSk7XG4gKlxuICogQGV4YW1wbGVcbiAqIG1hcC5nZXRTb3VyY2UoJ3NvbWUgaWQnKS5zZXRVcmwoXCJtYXBib3g6Ly9tYXBib3gubWFwYm94LXN0cmVldHMtdjhcIik7XG4gKlxuICogQGV4YW1wbGVcbiAqIG1hcC5nZXRTb3VyY2UoJ3NvbWUgaWQnKS5zZXRUaWxlcyhbJ2h0dHBzOi8vZDI1dWFyaHh5d3psMWouY2xvdWRmcm9udC5uZXQvdjAuMS97en0ve3h9L3t5fS5tdnQnXSk7XG4gKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSB2ZWN0b3IgdGlsZSBzb3VyY2VdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3ZlY3Rvci1zb3VyY2UvKVxuICogQHNlZSBbRXhhbXBsZTogQWRkIGEgdGhpcmQgcGFydHkgdmVjdG9yIHRpbGUgc291cmNlXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90aGlyZC1wYXJ0eS8pXG4gKi9cbmNsYXNzIFZlY3RvclRpbGVTb3VyY2UgZXh0ZW5kcyBFdmVudGVkIGltcGxlbWVudHMgU291cmNlIHtcbiAgICB0eXBlOiAndmVjdG9yJztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgc2NoZW1lOiBzdHJpbmc7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcbiAgICBwcm9tb3RlSWQ6ID9Qcm9tb3RlSWRTcGVjaWZpY2F0aW9uO1xuXG4gICAgX29wdGlvbnM6IFZlY3RvclNvdXJjZVNwZWNpZmljYXRpb247XG4gICAgX2NvbGxlY3RSZXNvdXJjZVRpbWluZzogYm9vbGVhbjtcbiAgICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICAgIG1hcDogTWFwO1xuICAgIGJvdW5kczogP1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICAgIHRpbGVzOiBBcnJheTxzdHJpbmc+O1xuICAgIHRpbGVCb3VuZHM6IFRpbGVCb3VuZHM7XG4gICAgcmVwYXJzZU92ZXJzY2FsZWQ6IGJvb2xlYW4gfCB2b2lkO1xuICAgIGlzVGlsZUNsaXBwZWQ6IGJvb2xlYW4gfCB2b2lkO1xuICAgIF90aWxlSlNPTlJlcXVlc3Q6ID9DYW5jZWxhYmxlO1xuICAgIF9sb2FkZWQ6IGJvb2xlYW47XG4gICAgX3RpbGVXb3JrZXJzOiB7W3N0cmluZ106IEFjdG9yfTtcbiAgICBfZGVkdXBlZDogRGVkdXBlZFJlcXVlc3Q7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBWZWN0b3JTb3VyY2VTcGVjaWZpY2F0aW9uICYge2NvbGxlY3RSZXNvdXJjZVRpbWluZzogYm9vbGVhbn0sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICd2ZWN0b3InO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5zY2hlbWUgPSAneHl6JztcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IDUxMjtcbiAgICAgICAgdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNUaWxlQ2xpcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGV4dGVuZCh0aGlzLCBwaWNrKG9wdGlvbnMsIFsndXJsJywgJ3NjaGVtZScsICd0aWxlU2l6ZScsICdwcm9tb3RlSWQnXSkpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gZXh0ZW5kKHt0eXBlOiAndmVjdG9yJ30sIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyA9IG9wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nO1xuXG4gICAgICAgIGlmICh0aGlzLnRpbGVTaXplICE9PSA1MTIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndmVjdG9yIHRpbGUgc291cmNlcyBtdXN0IGhhdmUgYSB0aWxlU2l6ZSBvZiA1MTInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0RXZlbnRlZFBhcmVudChldmVudGVkUGFyZW50KTtcblxuICAgICAgICB0aGlzLl90aWxlV29ya2VycyA9IHt9O1xuICAgICAgICB0aGlzLl9kZWR1cGVkID0gbmV3IERlZHVwZWRSZXF1ZXN0KCk7XG4gICAgfVxuXG4gICAgbG9hZChjYWxsYmFjaz86IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gQXJyYXkuaXNBcnJheSh0aGlzLm1hcC5fbGFuZ3VhZ2UpID8gdGhpcy5tYXAuX2xhbmd1YWdlLmpvaW4oKSA6IHRoaXMubWFwLl9sYW5ndWFnZTtcbiAgICAgICAgY29uc3Qgd29ybGR2aWV3ID0gdGhpcy5tYXAuX3dvcmxkdmlldztcbiAgICAgICAgdGhpcy5fdGlsZUpTT05SZXF1ZXN0ID0gbG9hZFRpbGVKU09OKHRoaXMuX29wdGlvbnMsIHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwgbGFuZ3VhZ2UsIHdvcmxkdmlldywgKGVyciwgdGlsZUpTT04pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVKU09OUmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZSkgY29uc29sZS53YXJuKGBFbnN1cmUgdGhhdCB5b3VyIHJlcXVlc3RlZCBsYW5ndWFnZSBzdHJpbmcgaXMgYSB2YWxpZCBCQ1AtNDcgY29kZSBvciBsaXN0IG9mIGNvZGVzLiBGb3VuZDogJHtsYW5ndWFnZX1gKTtcbiAgICAgICAgICAgICAgICBpZiAod29ybGR2aWV3ICYmIHdvcmxkdmlldy5sZW5ndGggIT09IDIpIGNvbnNvbGUud2FybihgUmVxdWVzdGVkIHdvcmxkdmlldyBzdHJpbmdzIG11c3QgYmUgYSB2YWxpZCBJU08gYWxwaGEtMiBjb2RlLiBGb3VuZDogJHt3b3JsZHZpZXd9YCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRpbGVKU09OKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsIHRpbGVKU09OKTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZUpTT04uYm91bmRzKSB0aGlzLnRpbGVCb3VuZHMgPSBuZXcgVGlsZUJvdW5kcyh0aWxlSlNPTi5ib3VuZHMsIHRoaXMubWluem9vbSwgdGhpcy5tYXh6b29tKTtcbiAgICAgICAgICAgICAgICBwb3N0VHVybnN0aWxlRXZlbnQodGlsZUpTT04udGlsZXMsIHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4pO1xuXG4gICAgICAgICAgICAgICAgLy8gYGNvbnRlbnRgIGlzIGluY2x1ZGVkIGhlcmUgdG8gcHJldmVudCBhIHJhY2UgY29uZGl0aW9uIHdoZXJlIGBTdHlsZSNfdXBkYXRlU291cmNlc2AgaXMgY2FsbGVkXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIHRoZSBUaWxlSlNPTiBhcnJpdmVzLiB0aGlzIG1ha2VzIHN1cmUgdGhlIHRpbGVzIG5lZWRlZCBhcmUgbG9hZGVkIG9uY2UgVGlsZUpTT04gYXJyaXZlc1xuICAgICAgICAgICAgICAgIC8vIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvcHVsbC80MzQ3I2Rpc2N1c3Npb25fcjEwNDQxODA4OFxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50J30pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkZWQ7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIGhhc1RpbGUodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy50aWxlQm91bmRzIHx8IHRoaXMudGlsZUJvdW5kcy5jb250YWlucyh0aWxlSUQuY2Fub25pY2FsKTtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbG9hZHMgdGhlIHNvdXJjZSBkYXRhIGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5nZXRTb3VyY2UoJ3NvdXJjZS1pZCcpLnJlbG9hZCgpO1xuICAgICAqL1xuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICByZWxvYWQoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCk7XG4gICAgICAgIHRoaXMubG9hZCgoKSA9PiB0aGlzLm1hcC5zdHlsZS5fY2xlYXJTb3VyY2UodGhpcy5pZCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNvdXJjZSBgdGlsZXNgIHByb3BlcnR5IGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB0aWxlcyBBbiBhcnJheSBvZiBvbmUgb3IgbW9yZSB0aWxlIHNvdXJjZSBVUkxzLCBhcyBpbiB0aGUgVGlsZUpTT04gc3BlYy5cbiAgICAgKiBAcmV0dXJucyB7VmVjdG9yVGlsZVNvdXJjZX0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5hZGRTb3VyY2UoJ3NvdXJjZS1pZCcsIHtcbiAgICAgKiAgICAgdHlwZTogJ3ZlY3RvcicsXG4gICAgICogICAgIHRpbGVzOiBbJ2h0dHBzOi8vc29tZV9lbmRfcG9pbnQubmV0L3t6fS97eH0ve3l9Lm12dCddLFxuICAgICAqICAgICBtaW56b29tOiA2LFxuICAgICAqICAgICBtYXh6b29tOiAxNFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy8gU2V0IHRoZSBlbmRwb2ludCBhc3NvY2lhdGVkIHdpdGggYSB2ZWN0b3IgdGlsZSBzb3VyY2UuXG4gICAgICogbWFwLmdldFNvdXJjZSgnc291cmNlLWlkJykuc2V0VGlsZXMoWydodHRwczovL2Fub3RoZXJfZW5kX3BvaW50Lm5ldC97en0ve3h9L3t5fS5tdnQnXSk7XG4gICAgICovXG4gICAgc2V0VGlsZXModGlsZXM6IEFycmF5PHN0cmluZz4pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fb3B0aW9ucy50aWxlcyA9IHRpbGVzO1xuICAgICAgICB0aGlzLnJlbG9hZCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNvdXJjZSBgdXJsYCBwcm9wZXJ0eSBhbmQgcmUtcmVuZGVycyB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBBIFVSTCB0byBhIFRpbGVKU09OIHJlc291cmNlLiBTdXBwb3J0ZWQgcHJvdG9jb2xzIGFyZSBgaHR0cDpgLCBgaHR0cHM6YCwgYW5kIGBtYXBib3g6Ly88VGlsZXNldCBJRD5gLlxuICAgICAqIEByZXR1cm5zIHtWZWN0b3JUaWxlU291cmNlfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmFkZFNvdXJjZSgnc291cmNlLWlkJywge1xuICAgICAqICAgICB0eXBlOiAndmVjdG9yJyxcbiAgICAgKiAgICAgdXJsOiAnbWFwYm94Oi8vbWFwYm94Lm1hcGJveC1zdHJlZXRzLXY3J1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy8gVXBkYXRlIHZlY3RvciB0aWxlIHNvdXJjZSB0byBhIG5ldyBVUkwgZW5kcG9pbnRcbiAgICAgKiBtYXAuZ2V0U291cmNlKCdzb3VyY2UtaWQnKS5zZXRVcmwoXCJtYXBib3g6Ly9tYXBib3gubWFwYm94LXN0cmVldHMtdjhcIik7XG4gICAgICovXG4gICAgc2V0VXJsKHVybDogc3RyaW5nKTogdGhpcyB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLl9vcHRpb25zLnVybCA9IHVybDtcbiAgICAgICAgdGhpcy5yZWxvYWQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IFZlY3RvclNvdXJjZVNwZWNpZmljYXRpb24ge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zKTtcbiAgICB9XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVRpbGVVUkwodGlsZS50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLCB0aGlzLnNjaGVtZSkpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuVGlsZSk7XG5cbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVpZDogdGlsZS51aWQsXG4gICAgICAgICAgICB0aWxlSUQ6IHRpbGUudGlsZUlELFxuICAgICAgICAgICAgdGlsZVpvb206IHRpbGUudGlsZVpvb20sXG4gICAgICAgICAgICB6b29tOiB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLnRpbGVTaXplICogdGlsZS50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICAgICAgICBwaXhlbFJhdGlvOiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICBzaG93Q29sbGlzaW9uQm94ZXM6IHRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlcyxcbiAgICAgICAgICAgIHByb21vdGVJZDogdGhpcy5wcm9tb3RlSWQsXG4gICAgICAgICAgICBpc1N5bWJvbFRpbGU6IHRpbGUuaXNTeW1ib2xUaWxlXG4gICAgICAgIH07XG4gICAgICAgIHBhcmFtcy5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZyA9IHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZztcblxuICAgICAgICBpZiAoIXRpbGUuYWN0b3IgfHwgdGlsZS5zdGF0ZSA9PT0gJ2V4cGlyZWQnKSB7XG4gICAgICAgICAgICB0aWxlLmFjdG9yID0gdGhpcy5fdGlsZVdvcmtlcnNbdXJsXSA9IHRoaXMuX3RpbGVXb3JrZXJzW3VybF0gfHwgdGhpcy5kaXNwYXRjaGVyLmdldEFjdG9yKCk7XG5cbiAgICAgICAgICAgIC8vIGlmIHdvcmtlcnMgYXJlIG5vdCByZWFkeSB0byByZWNlaXZlIG1lc3NhZ2VzIHlldCwgdXNlIHRoZSBpZGxlIHRpbWUgdG8gcHJlZW1wdGl2ZWx5XG4gICAgICAgICAgICAvLyBsb2FkIHRpbGVzIG9uIHRoZSBtYWluIHRocmVhZCBhbmQgcGFzcyB0aGUgcmVzdWx0IGluc3RlYWQgb2YgcmVxdWVzdGluZyBhIHdvcmtlciB0byBkbyBzb1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRpc3BhdGNoZXIucmVhZHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5jZWwgPSBsb2FkVmVjdG9yVGlsZS5jYWxsKHtkZWR1cGVkOiB0aGlzLl9kZWR1cGVkfSwgcGFyYW1zLCAoZXJyOiA/RXJyb3IsIGRhdGE6ID9Mb2FkVmVjdG9yVGlsZVJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIHx8ICFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lLmNhbGwodGhpcywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSB3b3JrZXIgd2lsbCBza2lwIHRoZSBuZXR3b3JrIHJlcXVlc3QgaWYgdGhlIGRhdGEgaXMgYWxyZWFkeSB0aGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiBkYXRhLmNhY2hlQ29udHJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiBkYXRhLmV4cGlyZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3RGF0YTogZGF0YS5yYXdEYXRhLnNsaWNlKDApXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbGUuYWN0b3IpIHRpbGUuYWN0b3Iuc2VuZCgnbG9hZFRpbGUnLCBwYXJhbXMsIGRvbmUuYmluZCh0aGlzKSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgICAgIHRpbGUucmVxdWVzdCA9IHtjYW5jZWx9O1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRpbGUucmVxdWVzdCA9IHRpbGUuYWN0b3Iuc2VuZCgnbG9hZFRpbGUnLCBwYXJhbXMsIGRvbmUuYmluZCh0aGlzKSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHRpbGUuc3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgICAgICAgICAgLy8gc2NoZWR1bGUgdGlsZSByZWxvYWRpbmcgYWZ0ZXIgaXQgaGFzIGJlZW4gbG9hZGVkXG4gICAgICAgICAgICB0aWxlLnJlbG9hZENhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbGUucmVxdWVzdCA9IHRpbGUuYWN0b3Iuc2VuZCgncmVsb2FkVGlsZScsIHBhcmFtcywgZG9uZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRvbmUoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5yZXF1ZXN0O1xuXG4gICAgICAgICAgICBpZiAodGlsZS5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcblxuICAgICAgICAgICAgaWYgKGVyciAmJiBlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXNvdXJjZVRpbWluZylcbiAgICAgICAgICAgICAgICB0aWxlLnJlc291cmNlVGltaW5nID0gZGF0YS5yZXNvdXJjZVRpbWluZztcblxuICAgICAgICAgICAgaWYgKHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzICYmIGRhdGEpIHRpbGUuc2V0RXhwaXJ5RGF0YShkYXRhKTtcbiAgICAgICAgICAgIHRpbGUubG9hZFZlY3RvckRhdGEoZGF0YSwgdGhpcy5tYXAucGFpbnRlcik7XG5cbiAgICAgICAgICAgIGNhY2hlRW50cnlQb3NzaWJseUFkZGVkKHRoaXMuZGlzcGF0Y2hlcik7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuXG4gICAgICAgICAgICBpZiAodGlsZS5yZWxvYWRDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZFRpbGUodGlsZSwgdGlsZS5yZWxvYWRDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgdGlsZS5yZWxvYWRDYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgYWJvcnRUaWxlKHRpbGU6IFRpbGUpIHtcbiAgICAgICAgaWYgKHRpbGUucmVxdWVzdCkge1xuICAgICAgICAgICAgdGlsZS5yZXF1ZXN0LmNhbmNlbCgpO1xuICAgICAgICAgICAgZGVsZXRlIHRpbGUucmVxdWVzdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGlsZS5hY3Rvcikge1xuICAgICAgICAgICAgdGlsZS5hY3Rvci5zZW5kKCdhYm9ydFRpbGUnLCB7dWlkOiB0aWxlLnVpZCwgdHlwZTogdGhpcy50eXBlLCBzb3VyY2U6IHRoaXMuaWR9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICB1bmxvYWRUaWxlKHRpbGU6IFRpbGUpIHtcbiAgICAgICAgdGlsZS51bmxvYWRWZWN0b3JEYXRhKCk7XG4gICAgICAgIGlmICh0aWxlLmFjdG9yKSB7XG4gICAgICAgICAgICB0aWxlLmFjdG9yLnNlbmQoJ3JlbW92ZVRpbGUnLCB7dWlkOiB0aWxlLnVpZCwgdHlwZTogdGhpcy50eXBlLCBzb3VyY2U6IHRoaXMuaWR9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgYWZ0ZXJVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX3RpbGVXb3JrZXJzID0ge307XG4gICAgfVxuXG4gICAgY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX3RpbGVKU09OUmVxdWVzdCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMuX3RpbGVKU09OUmVxdWVzdCA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JUaWxlU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtleHRlbmQsIHBpY2t9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5cbmltcG9ydCB7Z2V0SW1hZ2UsIFJlc291cmNlVHlwZX0gZnJvbSAnLi4vdXRpbC9hamF4LmpzJztcbmltcG9ydCB7RXZlbnQsIEVycm9yRXZlbnQsIEV2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQgbG9hZFRpbGVKU09OIGZyb20gJy4vbG9hZF90aWxlanNvbi5qcyc7XG5pbXBvcnQge3Bvc3RUdXJuc3RpbGVFdmVudH0gZnJvbSAnLi4vdXRpbC9tYXBib3guanMnO1xuaW1wb3J0IFRpbGVCb3VuZHMgZnJvbSAnLi90aWxlX2JvdW5kcy5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuXG5pbXBvcnQge2NhY2hlRW50cnlQb3NzaWJseUFkZGVkfSBmcm9tICcuLi91dGlsL3RpbGVfcmVxdWVzdF9jYWNoZS5qcyc7XG5cbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3JlbmRlci9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlLmpzJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2suanMnO1xuaW1wb3J0IHR5cGUge0NhbmNlbGFibGV9IGZyb20gJy4uL3R5cGVzL2NhbmNlbGFibGUuanMnO1xuaW1wb3J0IHR5cGUge1RleHR1cmVJbWFnZX0gZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUuanMnO1xuaW1wb3J0IHR5cGUge1xuICAgIFJhc3RlclNvdXJjZVNwZWNpZmljYXRpb24sXG4gICAgUmFzdGVyREVNU291cmNlU3BlY2lmaWNhdGlvblxufSBmcm9tICcuLi9zdHlsZS1zcGVjL3R5cGVzLmpzJztcblxuLyoqXG4gKiBBIHNvdXJjZSBjb250YWluaW5nIHJhc3RlciB0aWxlcy5cbiAqIFNlZSB0aGUgW1N0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvI3Jhc3RlcikgZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24gb2Ygb3B0aW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAncmFzdGVyJyxcbiAqICAgICB1cmw6ICdtYXBib3g6Ly9tYXBib3guc2F0ZWxsaXRlJyxcbiAqICAgICB0aWxlU2l6ZTogMjU2XG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAncmFzdGVyJyxcbiAqICAgICB0aWxlczogWydodHRwczovL2ltZy5uai5nb3YvaW1hZ2VyeXdtcy9OYXR1cmFsMjAxNT9iYm94PXtiYm94LWVwc2ctMzg1N30mZm9ybWF0PWltYWdlL3BuZyZzZXJ2aWNlPVdNUyZ2ZXJzaW9uPTEuMS4xJnJlcXVlc3Q9R2V0TWFwJnNycz1FUFNHOjM4NTcmdHJhbnNwYXJlbnQ9dHJ1ZSZ3aWR0aD0yNTYmaGVpZ2h0PTI1NiZsYXllcnM9TmF0dXJhbDIwMTUnXSxcbiAqICAgICB0aWxlU2l6ZTogMjU2XG4gKiB9KTtcbiAqXG4gKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSByYXN0ZXIgdGlsZSBzb3VyY2VdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL21hcC10aWxlcy8pXG4gKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSBXTVMgc291cmNlXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS93bXMvKVxuICovXG5jbGFzcyBSYXN0ZXJUaWxlU291cmNlIGV4dGVuZHMgRXZlbnRlZCBpbXBsZW1lbnRzIFNvdXJjZSB7XG4gICAgdHlwZTogJ3Jhc3RlcicgfCAncmFzdGVyLWRlbSc7XG4gICAgaWQ6IHN0cmluZztcbiAgICBtaW56b29tOiBudW1iZXI7XG4gICAgbWF4em9vbTogbnVtYmVyO1xuICAgIHVybDogc3RyaW5nO1xuICAgIHNjaGVtZTogc3RyaW5nO1xuICAgIHRpbGVTaXplOiBudW1iZXI7XG5cbiAgICBib3VuZHM6ID9bbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbiAgICB0aWxlQm91bmRzOiBUaWxlQm91bmRzO1xuICAgIHJvdW5kWm9vbTogYm9vbGVhbiB8IHZvaWQ7XG4gICAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgICBtYXA6IE1hcDtcbiAgICB0aWxlczogQXJyYXk8c3RyaW5nPjtcblxuICAgIF9sb2FkZWQ6IGJvb2xlYW47XG4gICAgX29wdGlvbnM6IFJhc3RlclNvdXJjZVNwZWNpZmljYXRpb24gfCBSYXN0ZXJERU1Tb3VyY2VTcGVjaWZpY2F0aW9uO1xuICAgIF90aWxlSlNPTlJlcXVlc3Q6ID9DYW5jZWxhYmxlO1xuXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgb3B0aW9uczogUmFzdGVyU291cmNlU3BlY2lmaWNhdGlvbiB8IFJhc3RlckRFTVNvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuICAgICAgICB0aGlzLnNldEV2ZW50ZWRQYXJlbnQoZXZlbnRlZFBhcmVudCk7XG5cbiAgICAgICAgdGhpcy50eXBlID0gJ3Jhc3Rlcic7XG4gICAgICAgIHRoaXMubWluem9vbSA9IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IDIyO1xuICAgICAgICB0aGlzLnJvdW5kWm9vbSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2NoZW1lID0gJ3h5eic7XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSA1MTI7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBleHRlbmQoe3R5cGU6ICdyYXN0ZXInfSwgb3B0aW9ucyk7XG4gICAgICAgIGV4dGVuZCh0aGlzLCBwaWNrKG9wdGlvbnMsIFsndXJsJywgJ3NjaGVtZScsICd0aWxlU2l6ZSddKSk7XG4gICAgfVxuXG4gICAgbG9hZChjYWxsYmFjaz86IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIHRoaXMuX3RpbGVKU09OUmVxdWVzdCA9IGxvYWRUaWxlSlNPTih0aGlzLl9vcHRpb25zLCB0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsIG51bGwsIG51bGwsIChlcnIsIHRpbGVKU09OKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl90aWxlSlNPTlJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRpbGVKU09OKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsIHRpbGVKU09OKTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZUpTT04uYm91bmRzKSB0aGlzLnRpbGVCb3VuZHMgPSBuZXcgVGlsZUJvdW5kcyh0aWxlSlNPTi5ib3VuZHMsIHRoaXMubWluem9vbSwgdGhpcy5tYXh6b29tKTtcblxuICAgICAgICAgICAgICAgIHBvc3RUdXJuc3RpbGVFdmVudCh0aWxlSlNPTi50aWxlcyk7XG5cbiAgICAgICAgICAgICAgICAvLyBgY29udGVudGAgaXMgaW5jbHVkZWQgaGVyZSB0byBwcmV2ZW50IGEgcmFjZSBjb25kaXRpb24gd2hlcmUgYFN0eWxlI191cGRhdGVTb3VyY2VzYCBpcyBjYWxsZWRcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmUgdGhlIFRpbGVKU09OIGFycml2ZXMuIHRoaXMgbWFrZXMgc3VyZSB0aGUgdGlsZXMgbmVlZGVkIGFyZSBsb2FkZWQgb25jZSBUaWxlSlNPTiBhcnJpdmVzXG4gICAgICAgICAgICAgICAgLy8gcmVmOiBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9wdWxsLzQzNDcjZGlzY3Vzc2lvbl9yMTA0NDE4MDg4XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnbWV0YWRhdGEnfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ2NvbnRlbnQnfSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlZDtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbG9hZHMgdGhlIHNvdXJjZSBkYXRhIGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5nZXRTb3VyY2UoJ3NvdXJjZS1pZCcpLnJlbG9hZCgpO1xuICAgICAqL1xuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICByZWxvYWQoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCk7XG4gICAgICAgIHRoaXMubG9hZCgoKSA9PiB0aGlzLm1hcC5zdHlsZS5fY2xlYXJTb3VyY2UodGhpcy5pZCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNvdXJjZSBgdGlsZXNgIHByb3BlcnR5IGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB0aWxlcyBBbiBhcnJheSBvZiBvbmUgb3IgbW9yZSB0aWxlIHNvdXJjZSBVUkxzLCBhcyBpbiB0aGUgVGlsZUpTT04gc3BlYy5cbiAgICAgKiBAcmV0dXJucyB7UmFzdGVyVGlsZVNvdXJjZX0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5hZGRTb3VyY2UoJ3NvdXJjZS1pZCcsIHtcbiAgICAgKiAgICAgdHlwZTogJ3Jhc3RlcicsXG4gICAgICogICAgIHRpbGVzOiBbJ2h0dHBzOi8vc29tZV9lbmRfcG9pbnQubmV0L3t6fS97eH0ve3l9LnBuZyddLFxuICAgICAqICAgICB0aWxlU2l6ZTogMjU2XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiAvLyBTZXQgdGhlIGVuZHBvaW50IGFzc29jaWF0ZWQgd2l0aCBhIHJhc3RlciB0aWxlIHNvdXJjZS5cbiAgICAgKiBtYXAuZ2V0U291cmNlKCdzb3VyY2UtaWQnKS5zZXRUaWxlcyhbJ2h0dHBzOi8vYW5vdGhlcl9lbmRfcG9pbnQubmV0L3t6fS97eH0ve3l9LnBuZyddKTtcbiAgICAgKi9cbiAgICBzZXRUaWxlcyh0aWxlczogQXJyYXk8c3RyaW5nPik6IHRoaXMge1xuICAgICAgICB0aGlzLl9vcHRpb25zLnRpbGVzID0gdGlsZXM7XG4gICAgICAgIHRoaXMucmVsb2FkKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc291cmNlIGB1cmxgIHByb3BlcnR5IGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEEgVVJMIHRvIGEgVGlsZUpTT04gcmVzb3VyY2UuIFN1cHBvcnRlZCBwcm90b2NvbHMgYXJlIGBodHRwOmAsIGBodHRwczpgLCBhbmQgYG1hcGJveDovLzxUaWxlc2V0IElEPmAuXG4gICAgICogQHJldHVybnMge1Jhc3RlclRpbGVTb3VyY2V9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuYWRkU291cmNlKCdzb3VyY2UtaWQnLCB7XG4gICAgICogICAgIHR5cGU6ICdyYXN0ZXInLFxuICAgICAqICAgICB1cmw6ICdtYXBib3g6Ly9tYXBib3guc2F0ZWxsaXRlJ1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy8gVXBkYXRlIHJhc3RlciB0aWxlIHNvdXJjZSB0byBhIG5ldyBVUkwgZW5kcG9pbnRcbiAgICAgKiBtYXAuZ2V0U291cmNlKCdzb3VyY2UtaWQnKS5zZXRVcmwoJ21hcGJveDovL21hcGJveC5zYXRlbGxpdGUnKTtcbiAgICAgKi9cbiAgICBzZXRVcmwodXJsOiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuX29wdGlvbnMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLnJlbG9hZCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxUaWxlSlNPTlJlcXVlc3QoKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKTogUmFzdGVyU291cmNlU3BlY2lmaWNhdGlvbiB8IFJhc3RlckRFTVNvdXJjZVNwZWNpZmljYXRpb24ge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgaGFzVGlsZSh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLnRpbGVCb3VuZHMgfHwgdGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKHRpbGVJRC5jYW5vbmljYWwpO1xuICAgIH1cblxuICAgIGxvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICBjb25zdCB1c2UyeCA9IGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyA+PSAyO1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0aWxlLnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsIHRoaXMuc2NoZW1lKSwgdXNlMngsIHRoaXMudGlsZVNpemUpO1xuICAgICAgICB0aWxlLnJlcXVlc3QgPSBnZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh1cmwsIFJlc291cmNlVHlwZS5UaWxlKSwgKGVycm9yLCBkYXRhLCBjYWNoZUNvbnRyb2wsIGV4cGlyZXMpID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG5cbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnZXJyb3JlZCc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkYXRhKSByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcykgdGlsZS5zZXRFeHBpcnlEYXRhKHtjYWNoZUNvbnRyb2wsIGV4cGlyZXN9KTtcbiAgICAgICAgICAgIHRpbGUuc2V0VGV4dHVyZShkYXRhLCB0aGlzLm1hcC5wYWludGVyKTtcbiAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcblxuICAgICAgICAgICAgY2FjaGVFbnRyeVBvc3NpYmx5QWRkZWQodGhpcy5kaXNwYXRjaGVyKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbG9hZFRpbGVEYXRhKHRpbGU6IFRpbGUsIGRhdGE6IFRleHR1cmVJbWFnZSwgcGFpbnRlcjogUGFpbnRlcikge1xuICAgICAgICB0aWxlLnNldFRleHR1cmUoZGF0YSwgcGFpbnRlcik7XG4gICAgfVxuXG4gICAgc3RhdGljIHVubG9hZFRpbGVEYXRhKHRpbGU6IFRpbGUsIHBhaW50ZXI6IFBhaW50ZXIpIHtcbiAgICAgICAgaWYgKHRpbGUudGV4dHVyZSkge1xuICAgICAgICAgICAgcGFpbnRlci5zYXZlVGlsZVRleHR1cmUodGlsZS50ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBhYm9ydFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIGlmICh0aWxlLnJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRpbGUucmVxdWVzdC5jYW5jZWwoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgaWYgKHRpbGUudGV4dHVyZSkgdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUodGlsZS50ZXh0dXJlKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX3RpbGVKU09OUmVxdWVzdCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMuX3RpbGVKU09OUmVxdWVzdCA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSYXN0ZXJUaWxlU291cmNlO1xuIiwiLy8gQGZsb3dcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi93aW5kb3cuanMnO1xuXG5sZXQgc3VwcG9ydHNPZmZzY3JlZW5DYW52YXM6ID9ib29sZWFuO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvZmZzY3JlZW5DYW52YXNTdXBwb3J0ZWQoKTogYm9vbGVhbiB7XG4gICAgaWYgKHN1cHBvcnRzT2Zmc2NyZWVuQ2FudmFzID09IG51bGwpIHtcbiAgICAgICAgc3VwcG9ydHNPZmZzY3JlZW5DYW52YXMgPSB3aW5kb3cuT2Zmc2NyZWVuQ2FudmFzICYmXG4gICAgICAgICAgICBuZXcgd2luZG93Lk9mZnNjcmVlbkNhbnZhcygxLCAxKS5nZXRDb250ZXh0KCcyZCcpICYmXG4gICAgICAgICAgICB0eXBlb2Ygd2luZG93LmNyZWF0ZUltYWdlQml0bWFwID09PSAnZnVuY3Rpb24nO1xuICAgIH1cblxuICAgIHJldHVybiBzdXBwb3J0c09mZnNjcmVlbkNhbnZhcztcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7Q2Fub25pY2FsVGlsZUlEfSBmcm9tICcuL3RpbGVfaWQuanMnO1xuaW1wb3J0IHtFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkLmpzJztcbmltcG9ydCB7Z2V0SW1hZ2UsIFJlc291cmNlVHlwZX0gZnJvbSAnLi4vdXRpbC9hamF4LmpzJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQuanMnO1xuaW1wb3J0IHtSYXN0ZXJCb3VuZHNBcnJheX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5pbXBvcnQgYm91bmRzQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL2JvdW5kc19hdHRyaWJ1dGVzLmpzJztcbmltcG9ydCBTZWdtZW50VmVjdG9yIGZyb20gJy4uL2RhdGEvc2VnbWVudC5qcyc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9yZW5kZXIvdGV4dHVyZS5qcyc7XG5pbXBvcnQgTWVyY2F0b3JDb29yZGluYXRlIGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQgdGlsZVRyYW5zZm9ybSwge2dldFRpbGVQb2ludH0gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vdGlsZV90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHttYXQzLCB2ZWMzfSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdy5qcyc7XG5cbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlLmpzJztcbmltcG9ydCB0eXBlIHtDYW52YXNTb3VyY2VTcGVjaWZpY2F0aW9ufSBmcm9tICcuL2NhbnZhc19zb3VyY2UuanMnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlci5qcyc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4vdGlsZS5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrLmpzJztcbmltcG9ydCB0eXBlIHtDYW5jZWxhYmxlfSBmcm9tICcuLi90eXBlcy9jYW5jZWxhYmxlLmpzJztcbmltcG9ydCB0eXBlIFZlcnRleEJ1ZmZlciBmcm9tICcuLi9nbC92ZXJ0ZXhfYnVmZmVyLmpzJztcbmltcG9ydCB0eXBlIHtcbiAgICBJbWFnZVNvdXJjZVNwZWNpZmljYXRpb24sXG4gICAgVmlkZW9Tb3VyY2VTcGVjaWZpY2F0aW9uXG59IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0LmpzJztcblxudHlwZSBDb29yZGluYXRlcyA9IFtbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdXTtcblxuLy8gcGVyc3BlY3RpdmUgY29ycmVjdGlvbiBmb3IgdGV4dHVyZSBtYXBwaW5nLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzkxNThcbi8vIGFkYXB0ZWQgZnJvbSBodHRwczovL21hdGguc3RhY2tleGNoYW5nZS5jb20vYS8zMzkwMzMvNDg2NTNcblxuZnVuY3Rpb24gYmFzaXNUb1BvaW50cyh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcbiAgICBjb25zdCBtID0gW3gxLCB4MiwgeDMsIHkxLCB5MiwgeTMsIDEsIDEsIDFdO1xuICAgIGNvbnN0IHMgPSBbeDQsIHk0LCAxXTtcbiAgICBjb25zdCBtYSA9IG1hdDMuYWRqb2ludChbXSwgbSk7XG4gICAgY29uc3QgW3N4LCBzeSwgc3pdID0gdmVjMy50cmFuc2Zvcm1NYXQzKHMsIHMsIG1hdDMudHJhbnNwb3NlKG1hLCBtYSkpO1xuICAgIHJldHVybiBtYXQzLm11bHRpcGx5KG0sIFtzeCwgMCwgMCwgMCwgc3ksIDAsIDAsIDAsIHN6XSwgbSk7XG59XG5cbmZ1bmN0aW9uIGdldFBlcnNwZWN0aXZlVHJhbnNmb3JtKHcsIGgsIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCkge1xuICAgIGNvbnN0IHMgPSBiYXNpc1RvUG9pbnRzKDAsIDAsIHcsIDAsIDAsIGgsIHcsIGgpO1xuICAgIGNvbnN0IG0gPSBiYXNpc1RvUG9pbnRzKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCk7XG4gICAgbWF0My5tdWx0aXBseShtLCBtYXQzLmFkam9pbnQocywgcyksIG0pO1xuICAgIHJldHVybiBbXG4gICAgICAgIG1bNl0gLyBtWzhdICogdyAvIEVYVEVOVCxcbiAgICAgICAgbVs3XSAvIG1bOF0gKiBoIC8gRVhURU5UXG4gICAgXTtcbn1cblxuLyoqXG4gKiBBIGRhdGEgc291cmNlIGNvbnRhaW5pbmcgYW4gaW1hZ2UuXG4gKiBTZWUgdGhlIFtTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzLWltYWdlKSBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbiBvZiBvcHRpb25zLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBhZGQgdG8gbWFwXG4gKiBtYXAuYWRkU291cmNlKCdzb21lIGlkJywge1xuICogICAgIHR5cGU6ICdpbWFnZScsXG4gKiAgICAgdXJsOiAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9pbWFnZXMvZm9vLnBuZycsXG4gKiAgICAgY29vcmRpbmF0ZXM6IFtcbiAqICAgICAgICAgWy03Ni41NCwgMzkuMThdLFxuICogICAgICAgICBbLTc2LjUyLCAzOS4xOF0sXG4gKiAgICAgICAgIFstNzYuNTIsIDM5LjE3XSxcbiAqICAgICAgICAgWy03Ni41NCwgMzkuMTddXG4gKiAgICAgXVxuICogfSk7XG4gKlxuICogLy8gdXBkYXRlIGNvb3JkaW5hdGVzXG4gKiBjb25zdCBteVNvdXJjZSA9IG1hcC5nZXRTb3VyY2UoJ3NvbWUgaWQnKTtcbiAqIG15U291cmNlLnNldENvb3JkaW5hdGVzKFtcbiAqICAgICBbLTc2LjU0MzM1NzM3MjI4Mzk0LCAzOS4xODU3OTkwNzIyOTc0OF0sXG4gKiAgICAgWy03Ni41MjgwMzY1OTQzOTA4NywgMzkuMTgzODM2NDg0NzU4N10sXG4gKiAgICAgWy03Ni41Mjk1Mzg2MzE0MzkyLCAzOS4xNzY4MzM5MjUwNzYwNl0sXG4gKiAgICAgWy03Ni41NDUyMDI3MzIwODYxOCwgMzkuMTc4NzYzNDQxMDY2NDJdXG4gKiBdKTtcbiAqXG4gKiAvLyB1cGRhdGUgdXJsIGFuZCBjb29yZGluYXRlcyBzaW11bHRhbmVvdXNseVxuICogbXlTb3VyY2UudXBkYXRlSW1hZ2Uoe1xuICogICAgIHVybDogJ2h0dHBzOi8vd3d3Lm1hcGJveC5jb20vaW1hZ2VzL2Jhci5wbmcnLFxuICogICAgIGNvb3JkaW5hdGVzOiBbXG4gKiAgICAgICAgIFstNzYuNTQzMzU3MzcyMjgzOTQsIDM5LjE4NTc5OTA3MjI5NzQ4XSxcbiAqICAgICAgICAgWy03Ni41MjgwMzY1OTQzOTA4NywgMzkuMTgzODM2NDg0NzU4N10sXG4gKiAgICAgICAgIFstNzYuNTI5NTM4NjMxNDM5MiwgMzkuMTc2ODMzOTI1MDc2MDZdLFxuICogICAgICAgICBbLTc2LjU0NTIwMjczMjA4NjE4LCAzOS4xNzg3NjM0NDEwNjY0Ml1cbiAqICAgICBdXG4gKiB9KTtcbiAqXG4gKiBtYXAucmVtb3ZlU291cmNlKCdzb21lIGlkJyk7ICAvLyByZW1vdmVcbiAqIEBzZWUgW0V4YW1wbGU6IEFkZCBhbiBpbWFnZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9pbWFnZS1vbi1hLW1hcC8pXG4gKiBAc2VlIFtFeGFtcGxlOiBBbmltYXRlIGEgc2VyaWVzIG9mIGltYWdlc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hbmltYXRlLWltYWdlcy8pXG4gKi9cbmNsYXNzIEltYWdlU291cmNlIGV4dGVuZHMgRXZlbnRlZCBpbXBsZW1lbnRzIFNvdXJjZSB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWluem9vbTogbnVtYmVyO1xuICAgIG1heHpvb206IG51bWJlcjtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIHVybDogc3RyaW5nO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG5cbiAgICBjb29yZGluYXRlczogQ29vcmRpbmF0ZXM7XG4gICAgdGlsZXM6IHtbXzogc3RyaW5nXTogVGlsZX07XG4gICAgb3B0aW9uczogYW55O1xuICAgIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gICAgbWFwOiBNYXA7XG4gICAgdGV4dHVyZTogVGV4dHVyZSB8IG51bGw7XG4gICAgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgfCBJbWFnZUJpdG1hcCB8IEltYWdlRGF0YTtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgdGlsZUlEOiBDYW5vbmljYWxUaWxlSUQ7XG4gICAgX2JvdW5kc0FycmF5OiA/UmFzdGVyQm91bmRzQXJyYXk7XG4gICAgYm91bmRzQnVmZmVyOiA/VmVydGV4QnVmZmVyO1xuICAgIGJvdW5kc1NlZ21lbnRzOiA/U2VnbWVudFZlY3RvcjtcbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9kaXJ0eTogYm9vbGVhbjtcbiAgICBfaW1hZ2VSZXF1ZXN0OiA/Q2FuY2VsYWJsZTtcbiAgICBwZXJzcGVjdGl2ZVRyYW5zZm9ybTogW251bWJlciwgbnVtYmVyXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgb3B0aW9uczogSW1hZ2VTb3VyY2VTcGVjaWZpY2F0aW9uIHwgVmlkZW9Tb3VyY2VTcGVjaWZpY2F0aW9uIHwgQ2FudmFzU291cmNlU3BlY2lmaWNhdGlvbiwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IGRpc3BhdGNoZXI7XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBvcHRpb25zLmNvb3JkaW5hdGVzO1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICdpbWFnZSc7XG4gICAgICAgIHRoaXMubWluem9vbSA9IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IDIyO1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyO1xuICAgICAgICB0aGlzLnRpbGVzID0ge307XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuc2V0RXZlbnRlZFBhcmVudChldmVudGVkUGFyZW50KTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl9kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGxvYWQobmV3Q29vcmRpbmF0ZXM/OiBDb29yZGluYXRlcywgbG9hZGVkPzogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBsb2FkZWQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGFsb2FkaW5nJywge2RhdGFUeXBlOiAnc291cmNlJ30pKTtcblxuICAgICAgICB0aGlzLnVybCA9IHRoaXMub3B0aW9ucy51cmw7XG5cbiAgICAgICAgdGhpcy5faW1hZ2VSZXF1ZXN0ID0gZ2V0SW1hZ2UodGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodGhpcy51cmwsIFJlc291cmNlVHlwZS5JbWFnZSksIChlcnIsIGltYWdlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZVJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGltYWdlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qge0hUTUxJbWFnZUVsZW1lbnR9ID0gd2luZG93O1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZSA9IGJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGltYWdlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5pbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGlmIChuZXdDb29yZGluYXRlcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gbmV3Q29vcmRpbmF0ZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmlzaExvYWRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGltYWdlIFVSTCBhbmQsIG9wdGlvbmFsbHksIHRoZSBjb29yZGluYXRlcy4gVG8gYXZvaWQgaGF2aW5nIHRoZSBpbWFnZSBmbGFzaCBhZnRlciBjaGFuZ2luZyxcbiAgICAgKiBzZXQgdGhlIGByYXN0ZXItZmFkZS1kdXJhdGlvbmAgcGFpbnQgcHJvcGVydHkgb24gdGhlIHJhc3RlciBsYXllciB0byAwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVybF0gUmVxdWlyZWQgaW1hZ2UgVVJMLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IFtvcHRpb25zLmNvb3JkaW5hdGVzXSBGb3VyIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyxcbiAgICAgKiAgIHJlcHJlc2VudGVkIGFzIGFycmF5cyBvZiBsb25naXR1ZGUgYW5kIGxhdGl0dWRlIG51bWJlcnMsIHdoaWNoIGRlZmluZSB0aGUgY29ybmVycyBvZiB0aGUgaW1hZ2UuXG4gICAgICogICBUaGUgY29vcmRpbmF0ZXMgc3RhcnQgYXQgdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgaW1hZ2UgYW5kIHByb2NlZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqICAgVGhleSBkbyBub3QgaGF2ZSB0byByZXByZXNlbnQgYSByZWN0YW5nbGUuXG4gICAgICogQHJldHVybnMge0ltYWdlU291cmNlfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQWRkIHRvIGFuIGltYWdlIHNvdXJjZSB0byB0aGUgbWFwIHdpdGggc29tZSBpbml0aWFsIFVSTCBhbmQgY29vcmRpbmF0ZXNcbiAgICAgKiBtYXAuYWRkU291cmNlKCdpbWFnZV9zb3VyY2VfaWQnLCB7XG4gICAgICogICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICogICAgIHVybDogJ2h0dHBzOi8vd3d3Lm1hcGJveC5jb20vaW1hZ2VzL2Zvby5wbmcnLFxuICAgICAqICAgICBjb29yZGluYXRlczogW1xuICAgICAqICAgICAgICAgWy03Ni41NCwgMzkuMThdLFxuICAgICAqICAgICAgICAgWy03Ni41MiwgMzkuMThdLFxuICAgICAqICAgICAgICAgWy03Ni41MiwgMzkuMTddLFxuICAgICAqICAgICAgICAgWy03Ni41NCwgMzkuMTddXG4gICAgICogICAgIF1cbiAgICAgKiB9KTtcbiAgICAgKiAvLyBUaGVuIHVwZGF0ZSB0aGUgaW1hZ2UgVVJMIGFuZCBjb29yZGluYXRlc1xuICAgICAqIGltYWdlU291cmNlLnVwZGF0ZUltYWdlKHtcbiAgICAgKiAgICAgdXJsOiAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9pbWFnZXMvYmFyLnBuZycsXG4gICAgICogICAgIGNvb3JkaW5hdGVzOiBbXG4gICAgICogICAgICAgICBbLTc2LjU0MzMsIDM5LjE4NTddLFxuICAgICAqICAgICAgICAgWy03Ni41MjgwLCAzOS4xODM4XSxcbiAgICAgKiAgICAgICAgIFstNzYuNTI5NSwgMzkuMTc2OF0sXG4gICAgICogICAgICAgICBbLTc2LjU0NTIsIDM5LjE3ODddXG4gICAgICogICAgIF1cbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB1cGRhdGVJbWFnZShvcHRpb25zOiB7dXJsOiBzdHJpbmcsIGNvb3JkaW5hdGVzPzogQ29vcmRpbmF0ZXN9KTogdGhpcyB7XG4gICAgICAgIGlmICghdGhpcy5pbWFnZSB8fCAhb3B0aW9ucy51cmwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pbWFnZVJlcXVlc3QgJiYgb3B0aW9ucy51cmwgIT09IHRoaXMub3B0aW9ucy51cmwpIHtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlUmVxdWVzdC5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlUmVxdWVzdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRpb25zLnVybCA9IG9wdGlvbnMudXJsO1xuICAgICAgICB0aGlzLmxvYWQob3B0aW9ucy5jb29yZGluYXRlcywgdGhpcy5fbG9hZGVkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2ZpbmlzaExvYWRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcCkge1xuICAgICAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5faW1hZ2VSZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZVJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZVJlcXVlc3QgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHR1cmUpIHRoaXMudGV4dHVyZS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaW1hZ2UncyBjb29yZGluYXRlcyBhbmQgcmUtcmVuZGVycyB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgRm91ciBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMsXG4gICAgICogICByZXByZXNlbnRlZCBhcyBhcnJheXMgb2YgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSBudW1iZXJzLCB3aGljaCBkZWZpbmUgdGhlIGNvcm5lcnMgb2YgdGhlIGltYWdlLlxuICAgICAqICAgVGhlIGNvb3JkaW5hdGVzIHN0YXJ0IGF0IHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIGltYWdlIGFuZCBwcm9jZWVkIGluIGNsb2Nrd2lzZSBvcmRlci5cbiAgICAgKiAgIFRoZXkgZG8gbm90IGhhdmUgdG8gcmVwcmVzZW50IGEgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm5zIHtJbWFnZVNvdXJjZX0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEFkZCBhbiBpbWFnZSBzb3VyY2UgdG8gdGhlIG1hcCB3aXRoIHNvbWUgaW5pdGlhbCBjb29yZGluYXRlc1xuICAgICAqIG1hcC5hZGRTb3VyY2UoJ2ltYWdlX3NvdXJjZV9pZCcsIHtcbiAgICAgKiAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgKiAgICAgdXJsOiAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9pbWFnZXMvZm9vLnBuZycsXG4gICAgICogICAgIGNvb3JkaW5hdGVzOiBbXG4gICAgICogICAgICAgICBbLTc2LjU0LCAzOS4xOF0sXG4gICAgICogICAgICAgICBbLTc2LjUyLCAzOS4xOF0sXG4gICAgICogICAgICAgICBbLTc2LjUyLCAzOS4xN10sXG4gICAgICogICAgICAgICBbLTc2LjU0LCAzOS4xN11cbiAgICAgKiAgICAgXVxuICAgICAqIH0pO1xuICAgICAqIC8vIFRoZW4gdXBkYXRlIHRoZSBpbWFnZSBjb29yZGluYXRlc1xuICAgICAqIGltYWdlU291cmNlLnNldENvb3JkaW5hdGVzKFtcbiAgICAgKiAgICAgWy03Ni41NDMzLCAzOS4xODU3XSxcbiAgICAgKiAgICAgWy03Ni41MjgwLCAzOS4xODM4XSxcbiAgICAgKiAgICAgWy03Ni41Mjk1LCAzOS4xNzY4XSxcbiAgICAgKiAgICAgWy03Ni41NDUyLCAzOS4xNzg3XVxuICAgICAqIF0pO1xuICAgICAqL1xuICAgIHNldENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzOiBDb29yZGluYXRlcyk6IHRoaXMge1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XG4gICAgICAgIHRoaXMuX2JvdW5kc0FycmF5ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB3aGljaCBtZXJjYXRvciB0aWxlIGlzIHN1aXRhYmxlIGZvciByZW5kZXJpbmcgdGhlIHZpZGVvIGluXG4gICAgICAgIC8vIGFuZCBjcmVhdGUgYSBidWZmZXIgd2l0aCB0aGUgY29ybmVyIGNvb3JkaW5hdGVzLiBUaGVzZSBjb29yZGluYXRlc1xuICAgICAgICAvLyBtYXkgYmUgb3V0c2lkZSB0aGUgdGlsZSwgYmVjYXVzZSByYXN0ZXIgdGlsZXMgYXJlbid0IGNsaXBwZWQgd2hlbiByZW5kZXJpbmcuXG5cbiAgICAgICAgLy8gdHJhbnNmb3JtIHRoZSBnZW8gY29vcmRpbmF0ZXMgaW50byAoem9vbSAwKSB0aWxlIHNwYWNlIGNvb3JkaW5hdGVzXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgY29uc3QgY29ybmVyQ29vcmRzID0gY29vcmRpbmF0ZXMubWFwKE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KTtcblxuICAgICAgICAvLyBDb21wdXRlIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgdGlsZSB3ZSdsbCB1c2UgdG8gaG9sZCB0aGlzIGltYWdlJ3NcbiAgICAgICAgLy8gcmVuZGVyIGRhdGFcbiAgICAgICAgdGhpcy50aWxlSUQgPSBnZXRDb29yZGluYXRlc0NlbnRlclRpbGVJRChjb3JuZXJDb29yZHMpO1xuXG4gICAgICAgIC8vIENvbnN0cmFpbiBtaW4vbWF4IHpvb20gdG8gb3VyIHRpbGUncyB6b29tIGxldmVsIGluIG9yZGVyIHRvIGZvcmNlXG4gICAgICAgIC8vIFNvdXJjZUNhY2hlIHRvIHJlcXVlc3QgdGhpcyB0aWxlIChubyBtYXR0ZXIgd2hhdCB0aGUgbWFwJ3Mgem9vbVxuICAgICAgICAvLyBsZXZlbClcbiAgICAgICAgdGhpcy5taW56b29tID0gdGhpcy5tYXh6b29tID0gdGhpcy50aWxlSUQuejtcblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOidzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ2NvbnRlbnQnfSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgX2NsZWFyKCkge1xuICAgICAgICB0aGlzLl9ib3VuZHNBcnJheSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBfcHJlcGFyZURhdGEoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICBmb3IgKGNvbnN0IHcgaW4gdGhpcy50aWxlcykge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMudGlsZXNbd107XG4gICAgICAgICAgICBpZiAodGlsZS5zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvdW5kc0FycmF5KSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgdGlsZVRyID0gdGlsZVRyYW5zZm9ybSh0aGlzLnRpbGVJRCwgdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb24pO1xuXG4gICAgICAgIC8vIFRyYW5zZm9ybSB0aGUgY29ybmVyIGNvb3JkaW5hdGVzIGludG8gdGhlIGNvb3JkaW5hdGUgc3BhY2Ugb2Ygb3VyIHRpbGUuXG4gICAgICAgIGNvbnN0IFt0bCwgdHIsIGJyLCBibF0gPSB0aGlzLmNvb3JkaW5hdGVzLm1hcCgoY29vcmQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZENvb3JkID0gdGlsZVRyLnByb2plY3Rpb24ucHJvamVjdChjb29yZFswXSwgY29vcmRbMV0pO1xuICAgICAgICAgICAgcmV0dXJuIGdldFRpbGVQb2ludCh0aWxlVHIsIHByb2plY3RlZENvb3JkKS5fcm91bmQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wZXJzcGVjdGl2ZVRyYW5zZm9ybSA9IGdldFBlcnNwZWN0aXZlVHJhbnNmb3JtKFxuICAgICAgICAgICAgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRsLngsIHRsLnksIHRyLngsIHRyLnksIGJsLngsIGJsLnksIGJyLngsIGJyLnkpO1xuXG4gICAgICAgIGNvbnN0IGJvdW5kc0FycmF5ID0gdGhpcy5fYm91bmRzQXJyYXkgPSBuZXcgUmFzdGVyQm91bmRzQXJyYXkoKTtcbiAgICAgICAgYm91bmRzQXJyYXkuZW1wbGFjZUJhY2sodGwueCwgdGwueSwgMCwgMCk7XG4gICAgICAgIGJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKHRyLngsIHRyLnksIEVYVEVOVCwgMCk7XG4gICAgICAgIGJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKGJsLngsIGJsLnksIDAsIEVYVEVOVCk7XG4gICAgICAgIGJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKGJyLngsIGJyLnksIEVYVEVOVCwgRVhURU5UKTtcblxuICAgICAgICBpZiAodGhpcy5ib3VuZHNCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvdW5kc0J1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKGJvdW5kc0FycmF5LCBib3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLmJvdW5kc1NlZ21lbnRzID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIDQsIDIpO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RoID09PSAwIHx8ICF0aGlzLmltYWdlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMubWFwLnBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGlmICh0aGlzLl9kaXJ0eSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmltYWdlLCBnbC5SR0JBKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmUudXBkYXRlKHRoaXMuaW1hZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ByZXBhcmVEYXRhKGNvbnRleHQpO1xuICAgIH1cblxuICAgIGxvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICAvLyBXZSBoYXZlIGEgc2luZ2xlIHRpbGUgLS0gd2hvb3NlIGNvb3JkaW5hdGVzIGFyZSB0aGlzLnRpbGVJRCAtLSB0aGF0XG4gICAgICAgIC8vIGNvdmVycyB0aGUgaW1hZ2Ugd2Ugd2FudCB0byByZW5kZXIuICBJZiB0aGF0J3MgdGhlIG9uZSBiZWluZ1xuICAgICAgICAvLyByZXF1ZXN0ZWQsIHNldCBpdCB1cCB3aXRoIHRoZSBpbWFnZTsgb3RoZXJ3aXNlLCBtYXJrIHRoZSB0aWxlIGFzXG4gICAgICAgIC8vIGBlcnJvcmVkYCB0byBpbmRpY2F0ZSB0aGF0IHdlIGhhdmUgbm8gZGF0YSBmb3IgaXQuXG4gICAgICAgIC8vIElmIHRoZSB3b3JsZCB3cmFwcywgd2UgbWF5IGhhdmUgbXVsdGlwbGUgXCJ3cmFwcGVkXCIgY29waWVzIG9mIHRoZVxuICAgICAgICAvLyBzaW5nbGUgdGlsZS5cbiAgICAgICAgaWYgKHRoaXMudGlsZUlEICYmIHRoaXMudGlsZUlELmVxdWFscyh0aWxlLnRpbGVJRC5jYW5vbmljYWwpKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVzW1N0cmluZyh0aWxlLnRpbGVJRC53cmFwKV0gPSB0aWxlO1xuICAgICAgICAgICAgdGlsZS5idWNrZXRzID0ge307XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnZXJyb3JlZCc7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpOiBPYmplY3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgICAgIHVybDogdGhpcy5vcHRpb25zLnVybCxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB0aGlzLmNvb3JkaW5hdGVzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBHaXZlbiBhIGxpc3Qgb2YgY29vcmRpbmF0ZXMsIGdldCB0aGVpciBjZW50ZXIgYXMgYSBjb29yZGluYXRlLlxuICpcbiAqIEByZXR1cm5zIGNlbnRlcnBvaW50XG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29vcmRpbmF0ZXNDZW50ZXJUaWxlSUQoY29vcmRzOiBBcnJheTxNZXJjYXRvckNvb3JkaW5hdGU+KTogQ2Fub25pY2FsVGlsZUlEIHtcbiAgICBsZXQgbWluWCA9IEluZmluaXR5O1xuICAgIGxldCBtaW5ZID0gSW5maW5pdHk7XG4gICAgbGV0IG1heFggPSAtSW5maW5pdHk7XG4gICAgbGV0IG1heFkgPSAtSW5maW5pdHk7XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgY29vcmQueCk7XG4gICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBjb29yZC55KTtcbiAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIGNvb3JkLngpO1xuICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgY29vcmQueSk7XG4gICAgfVxuXG4gICAgY29uc3QgZHggPSBtYXhYIC0gbWluWDtcbiAgICBjb25zdCBkeSA9IG1heFkgLSBtaW5ZO1xuICAgIGNvbnN0IGRNYXggPSBNYXRoLm1heChkeCwgZHkpO1xuICAgIGNvbnN0IHpvb20gPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKC1NYXRoLmxvZyhkTWF4KSAvIE1hdGguTE4yKSk7XG4gICAgY29uc3QgdGlsZXNBdFpvb20gPSBNYXRoLnBvdygyLCB6b29tKTtcblxuICAgIHJldHVybiBuZXcgQ2Fub25pY2FsVGlsZUlEKFxuICAgICAgICAgICAgem9vbSxcbiAgICAgICAgICAgIE1hdGguZmxvb3IoKG1pblggKyBtYXhYKSAvIDIgKiB0aWxlc0F0Wm9vbSksXG4gICAgICAgICAgICBNYXRoLmZsb29yKChtaW5ZICsgbWF4WSkgLyAyICogdGlsZXNBdFpvb20pKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VTb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge2JpbmRBbGx9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5cbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB0eXBlIHtFdmVudCwgRXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkLmpzJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAuanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4vdGlsZV9pZC5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrLmpzJztcbmltcG9ydCB0eXBlIHtNYXBFdmVudH0gZnJvbSAnLi4vdWkvZXZlbnRzLmpzJztcbmltcG9ydCB7Q2Fub25pY2FsVGlsZUlEfSBmcm9tICcuL3RpbGVfaWQuanMnO1xuXG4vKipcbiAqIFRoZSBgU291cmNlYCBpbnRlcmZhY2UgbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIHNvdXJjZSB0eXBlLCBpbmNsdWRpbmcgXCJjb3JlXCIgdHlwZXMgbGlrZSBgdmVjdG9yYCwgYHJhc3RlcmAsXG4gKiBvciBgdmlkZW9gKSBhbmQgYWxsIGN1c3RvbSwgdGhpcmQtcGFydHkgdHlwZXMuXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGlkIGZvciB0aGUgc291cmNlLiBNdXN0IG5vdCBiZSB1c2VkIGJ5IGFueSBleGlzdGluZyBzb3VyY2UuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBTb3VyY2Ugb3B0aW9ucywgc3BlY2lmaWMgdG8gdGhlIHNvdXJjZSB0eXBlIChleGNlcHQgZm9yIGBvcHRpb25zLnR5cGVgLCB3aGljaCBpcyBhbHdheXNcbiAqIHJlcXVpcmVkKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnR5cGUgVGhlIHNvdXJjZSB0eXBlLCBtYXRjaGluZyB0aGUgdmFsdWUgb2YgYG5hbWVgIHVzZWQgaW4ge0BsaW5rIFN0eWxlI2FkZFNvdXJjZVR5cGV9LlxuICogQHBhcmFtIHtEaXNwYXRjaGVyfSBkaXNwYXRjaGVyIEEge0BsaW5rIERpc3BhdGNoZXJ9IGluc3RhbmNlLCB3aGljaCBjYW4gYmUgdXNlZCB0byBzZW5kIG1lc3NhZ2VzIHRvIHRoZSB3b3JrZXJzLlxuICpcbiAqIEBmaXJlcyBNYXAuZXZlbnQ6ZGF0YSBGaXJlcyBgZGF0YWAgd2l0aCBge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdtZXRhZGF0YSd9YFxuICogdG8gaW5kaWNhdGUgdGhhdCBhbnkgbmVjZXNzYXJ5IG1ldGFkYXRhIGhhcyBiZWVuIGxvYWRlZCBzbyB0aGF0IGl0J3Mgb2theSB0byBjYWxsIGBsb2FkVGlsZWA7XG4gKiBmaXJlcyBgZGF0YWAgd2l0aCBge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50J31gXG4gKiB0byBpbmRpY2F0ZSB0aGF0IHRoZSBzb3VyY2UgZGF0YSBoYXMgY2hhbmdlZCwgc28gdGhhdCBhbnkgY3VycmVudCBjYWNoZXMgc2hvdWxkIGJlIGZsdXNoZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWQgVGhlIGlkIGZvciB0aGUgc291cmNlLiAgTXVzdCBtYXRjaCB0aGUgaWQgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW56b29tXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4em9vbVxuICogQHByb3BlcnR5IHtib29sZWFufSBpc1RpbGVDbGlwcGVkIGBmYWxzZWAgaWYgdGlsZXMgY2FuIGJlIGRyYXduIG91dHNpZGUgdGhlaXIgYm91bmRhcmllcywgYHRydWVgIGlmIHRoZXkgY2Fubm90LlxuICogQHByb3BlcnR5IHtib29sZWFufSByZXBhcnNlT3ZlcnNjYWxlZCBgdHJ1ZWAgaWYgdGlsZXMgc2hvdWxkIGJlIHNlbnQgYmFjayB0byB0aGUgd29ya2VyIGZvciBlYWNoIG92ZXJ6b29tZWQgem9vbVxuICogbGV2ZWwsIGBmYWxzZWAgaWYgbm90LlxuICogQHByb3BlcnR5IHtib29sZWFufSByb3VuZFpvb20gYHRydWVgIGlmIHpvb20gbGV2ZWxzIGFyZSByb3VuZGVkIHRvIHRoZSBuZWFyZXN0IGludGVnZXIgaW4gdGhlIHNvdXJjZSBkYXRhLCBgZmFsc2VgXG4gKiBpZiB0aGV5IGFyZSBmbG9vci1lZCB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNvdXJjZSB7XG4gICAgK3R5cGU6IHN0cmluZztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcixcbiAgICBtYXh6b29tOiBudW1iZXIsXG4gICAgdGlsZVNpemU6IG51bWJlcixcbiAgICBhdHRyaWJ1dGlvbj86IHN0cmluZyxcblxuICAgIHJvdW5kWm9vbT86IGJvb2xlYW4sXG4gICAgaXNUaWxlQ2xpcHBlZD86IGJvb2xlYW4sXG4gICAgbWFwYm94X2xvZ28/OiBib29sZWFuLFxuICAgIHRpbGVJRD86IENhbm9uaWNhbFRpbGVJRDtcbiAgICByZXBhcnNlT3ZlcnNjYWxlZD86IGJvb2xlYW4sXG4gICAgdmVjdG9yTGF5ZXJJZHM/OiBBcnJheTxzdHJpbmc+LFxuICAgIG1pblRpbGVDYWNoZVNpemU/OiA/bnVtYmVyO1xuICAgIG1heFRpbGVDYWNoZVNpemU/OiA/bnVtYmVyO1xuICAgIGxhbmd1YWdlPzogP3N0cmluZztcbiAgICB3b3JsZHZpZXc/OiA/c3RyaW5nO1xuXG4gICAgaGFzVHJhbnNpdGlvbigpOiBib29sZWFuO1xuICAgIGxvYWRlZCgpOiBib29sZWFuO1xuXG4gICAgZmlyZShldmVudDogRXZlbnQpOiBtaXhlZDtcbiAgICBvbih0eXBlOiBNYXBFdmVudCwgbGlzdGVuZXI6IChPYmplY3QpID0+IGFueSk6IEV2ZW50ZWQ7XG4gICAgc2V0RXZlbnRlZFBhcmVudChwYXJlbnQ6ID9FdmVudGVkLCBkYXRhPzogT2JqZWN0IHwgKCkgPT4gT2JqZWN0KTogRXZlbnRlZDtcblxuICAgICtvbkFkZD86IChtYXA6IE1hcCkgPT4gdm9pZDtcbiAgICArb25SZW1vdmU/OiAobWFwOiBNYXApID0+IHZvaWQ7XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4sIHRpbGVXb3JrZXJzPzoge1tzdHJpbmddOiBBY3Rvcn0pOiB2b2lkO1xuICAgICtoYXNUaWxlPzogKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCkgPT4gYm9vbGVhbjtcbiAgICArYWJvcnRUaWxlPzogKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikgPT4gdm9pZDtcbiAgICArdW5sb2FkVGlsZT86ICh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pID0+IHZvaWQ7XG4gICAgK3JlbG9hZD86ICgpID0+IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBBIHBsYWluIChzdHJpbmdpZmlhYmxlKSBKUyBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQ3JlYXRpbmcgYSBzb3VyY2UgdXNpbmcgdGhlIHJldHVybmVkIG9iamVjdCBhcyB0aGUgYG9wdGlvbnNgIHNob3VsZCByZXN1bHQgaW4gYSBTb3VyY2UgdGhhdCBpc1xuICAgICAqIGVxdWl2YWxlbnQgdG8gdGhpcyBvbmUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKTogT2JqZWN0O1xuXG4gICAgK3ByZXBhcmU/OiAoKSA9PiB2b2lkO1xuXG4gICAgK2FmdGVyVXBkYXRlPzogKCkgPT4gdm9pZDtcbiAgICArX2NsZWFyPzogKCkgPT4gdm9pZDtcbn1cblxudHlwZSBTb3VyY2VTdGF0aWNzID0ge1xuICAgIC8qXG4gICAgICogQW4gb3B0aW9uYWwgVVJMIHRvIGEgc2NyaXB0IHdoaWNoLCB3aGVuIHJ1biBieSBhIFdvcmtlciwgcmVnaXN0ZXJzIGEge0BsaW5rIFdvcmtlclNvdXJjZX1cbiAgICAgKiBpbXBsZW1lbnRhdGlvbiBmb3IgdGhpcyBTb3VyY2UgdHlwZSBieSBjYWxsaW5nIGBzZWxmLnJlZ2lzdGVyV29ya2VyU291cmNlKHdvcmtlclNvdXJjZTogV29ya2VyU291cmNlKWAuXG4gICAgICovXG4gICAgd29ya2VyU291cmNlVVJMPzogVVJMO1xufTtcblxuZXhwb3J0IHR5cGUgU291cmNlQ2xhc3MgPSBDbGFzczxTb3VyY2U+ICYgU291cmNlU3RhdGljcztcblxuaW1wb3J0IHZlY3RvciBmcm9tICcuLi9zb3VyY2UvdmVjdG9yX3RpbGVfc291cmNlLmpzJztcbmltcG9ydCByYXN0ZXIgZnJvbSAnLi4vc291cmNlL3Jhc3Rlcl90aWxlX3NvdXJjZS5qcyc7XG5pbXBvcnQgcmFzdGVyRGVtIGZyb20gJy4uL3NvdXJjZS9yYXN0ZXJfZGVtX3RpbGVfc291cmNlLmpzJztcbmltcG9ydCBnZW9qc29uIGZyb20gJy4uL3NvdXJjZS9nZW9qc29uX3NvdXJjZS5qcyc7XG5pbXBvcnQgdmlkZW8gZnJvbSAnLi4vc291cmNlL3ZpZGVvX3NvdXJjZS5qcyc7XG5pbXBvcnQgaW1hZ2UgZnJvbSAnLi4vc291cmNlL2ltYWdlX3NvdXJjZS5qcyc7XG5pbXBvcnQgY2FudmFzIGZyb20gJy4uL3NvdXJjZS9jYW52YXNfc291cmNlLmpzJztcbmltcG9ydCBjdXN0b20gZnJvbSAnLi4vc291cmNlL2N1c3RvbV9zb3VyY2UuanMnO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5cbmNvbnN0IHNvdXJjZVR5cGVzID0ge1xuICAgIHZlY3RvcixcbiAgICByYXN0ZXIsXG4gICAgJ3Jhc3Rlci1kZW0nOiByYXN0ZXJEZW0sXG4gICAgZ2VvanNvbixcbiAgICB2aWRlbyxcbiAgICBpbWFnZSxcbiAgICBjYW52YXMsXG4gICAgY3VzdG9tXG59O1xuXG4vKlxuICogQ3JlYXRlcyBhIHRpbGVkIGRhdGEgc291cmNlIGluc3RhbmNlIGdpdmVuIGFuIG9wdGlvbnMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSBpZFxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBBIHNvdXJjZSBkZWZpbml0aW9uIG9iamVjdCBjb21wbGlhbnQgd2l0aFxuICogW2BtYXBib3gtZ2wtc3R5bGUtc3BlY2BdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI3NvdXJjZXMpIG9yLCBmb3IgYSB0aGlyZC1wYXJ0eSBzb3VyY2UgdHlwZSxcbiAgKiB3aXRoIHRoYXQgdHlwZSdzIHJlcXVpcmVtZW50cy5cbiAqIEBwYXJhbSB7RGlzcGF0Y2hlcn0gZGlzcGF0Y2hlclxuICogQHJldHVybnMge1NvdXJjZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9IGZ1bmN0aW9uKGlkOiBzdHJpbmcsIHNwZWNpZmljYXRpb246IFNvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpOiBTb3VyY2Uge1xuICAgIGNvbnN0IHNvdXJjZSA9IG5ldyBzb3VyY2VUeXBlc1tzcGVjaWZpY2F0aW9uLnR5cGVdKGlkLCAoc3BlY2lmaWNhdGlvbjogYW55KSwgZGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudCk7XG5cbiAgICBpZiAoc291cmNlLmlkICE9PSBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIFNvdXJjZSBpZCB0byBiZSAke2lkfSBpbnN0ZWFkIG9mICR7c291cmNlLmlkfWApO1xuICAgIH1cblxuICAgIGJpbmRBbGwoWydsb2FkJywgJ2Fib3J0JywgJ3VubG9hZCcsICdzZXJpYWxpemUnLCAncHJlcGFyZSddLCBzb3VyY2UpO1xuICAgIHJldHVybiBzb3VyY2U7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VHlwZSA9IGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcpOiBDbGFzczxTb3VyY2U+IHtcbiAgICByZXR1cm4gc291cmNlVHlwZXNbbmFtZV07XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0VHlwZSA9IGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcsIHR5cGU6IENsYXNzPFNvdXJjZT4pIHtcbiAgICBzb3VyY2VUeXBlc1tuYW1lXSA9IHR5cGU7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEFjdG9yIHtcbiAgICBzZW5kKHR5cGU6IHN0cmluZywgZGF0YTogT2JqZWN0LCBjYWxsYmFjazogQ2FsbGJhY2s8YW55Pik6IHZvaWQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge2dldEltYWdlLCBSZXNvdXJjZVR5cGV9IGZyb20gJy4uL3V0aWwvYWpheC5qcyc7XG5pbXBvcnQge2V4dGVuZCwgcHJldlBvd2VyT2ZUd299IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQge0V2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdy5qcyc7XG5pbXBvcnQgb2Zmc2NyZWVuQ2FudmFzU3VwcG9ydGVkIGZyb20gJy4uL3V0aWwvb2Zmc2NyZWVuX2NhbnZhc19zdXBwb3J0ZWQuanMnO1xuaW1wb3J0IHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuL3RpbGVfaWQuanMnO1xuaW1wb3J0IFJhc3RlclRpbGVTb3VyY2UgZnJvbSAnLi9yYXN0ZXJfdGlsZV9zb3VyY2UuanMnO1xuLy8gZW5zdXJlIERFTURhdGEgaXMgcmVnaXN0ZXJlZCBmb3Igd29ya2VyIHRyYW5zZmVyIG9uIG1haW4gdGhyZWFkOlxuaW1wb3J0ICcuLi9kYXRhL2RlbV9kYXRhLmpzJztcblxuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi9zb3VyY2UuanMnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXIuanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUuanMnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjay5qcyc7XG5pbXBvcnQgdHlwZSB7UmFzdGVyREVNU291cmNlU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5cbi8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbmNsYXNzIFJhc3RlckRFTVRpbGVTb3VyY2UgZXh0ZW5kcyBSYXN0ZXJUaWxlU291cmNlIGltcGxlbWVudHMgU291cmNlIHtcbiAgICBlbmNvZGluZzogXCJtYXBib3hcIiB8IFwidGVycmFyaXVtXCI7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBSYXN0ZXJERU1Tb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKGlkLCBvcHRpb25zLCBkaXNwYXRjaGVyLCBldmVudGVkUGFyZW50KTtcbiAgICAgICAgdGhpcy50eXBlID0gJ3Jhc3Rlci1kZW0nO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGV4dGVuZCh7dHlwZTogJ3Jhc3Rlci1kZW0nfSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nIHx8IFwibWFwYm94XCI7XG4gICAgfVxuXG4gICAgbG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKHRpbGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcywgdGhpcy5zY2hlbWUpLCBmYWxzZSwgdGhpcy50aWxlU2l6ZSk7XG4gICAgICAgIHRpbGUucmVxdWVzdCA9IGdldEltYWdlKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlRpbGUpLCBpbWFnZUxvYWRlZC5iaW5kKHRoaXMpKTtcblxuICAgICAgICBmdW5jdGlvbiBpbWFnZUxvYWRlZChlcnIsIGltZywgY2FjaGVDb250cm9sLCBleHBpcmVzKSB7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5yZXF1ZXN0O1xuICAgICAgICAgICAgaWYgKHRpbGUuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2Vycm9yZWQnO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGltZykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcykgdGlsZS5zZXRFeHBpcnlEYXRhKHtjYWNoZUNvbnRyb2wsIGV4cGlyZXN9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2ZlciA9IHdpbmRvdy5JbWFnZUJpdG1hcCAmJiBpbWcgaW5zdGFuY2VvZiB3aW5kb3cuSW1hZ2VCaXRtYXAgJiYgb2Zmc2NyZWVuQ2FudmFzU3VwcG9ydGVkKCk7XG4gICAgICAgICAgICAgICAgLy8gREVNRGF0YSB1c2VzIDFweCBwYWRkaW5nLiBIYW5kbGUgY2FzZXMgd2l0aCBpbWFnZSBidWZmZXIgb2YgMSBhbmQgMiBweHMsIHRoZSByZXN0IGFzc3VtZSBkZWZhdWx0IGJ1ZmZlciAwXG4gICAgICAgICAgICAgICAgLy8gaW4gb3JkZXIgdG8ga2VlcCB0aGUgcHJldmlvdXMgaW1wbGVtZW50YXRpb24gd29ya2luZyAobm8gdmFsaWRhdGlvbiBhZ2FpbnN0IHRpbGVTaXplKS5cbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSAoaW1nLndpZHRoIC0gcHJldlBvd2VyT2ZUd28oaW1nLndpZHRoKSkgLyAyO1xuICAgICAgICAgICAgICAgIC8vIHBhZGRpbmcgaXMgdXNlZCBpbiBnZXRJbWFnZURhdGEuIEFzIERFTURhdGEgaGFzIDFweCBwYWRkaW5nLCBpZiBERU0gdGlsZSBidWZmZXIgaXMgMnB4LCBkaXNjYXJkIG91dGVybW9zdCBwaXhlbHMuXG4gICAgICAgICAgICAgICAgY29uc3QgcGFkZGluZyA9IDEgLSBidWZmZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9yZGVyUmVhZHkgPSBwYWRkaW5nIDwgMTtcbiAgICAgICAgICAgICAgICBpZiAoIWJvcmRlclJlYWR5ICYmICF0aWxlLm5laWdoYm9yaW5nVGlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS5uZWlnaGJvcmluZ1RpbGVzID0gdGhpcy5fZ2V0TmVpZ2hib3JpbmdUaWxlcyh0aWxlLnRpbGVJRCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJhd0ltYWdlRGF0YSA9IHRyYW5zZmVyID8gaW1nIDogYnJvd3Nlci5nZXRJbWFnZURhdGEoaW1nLCBwYWRkaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHVpZDogdGlsZS51aWQsXG4gICAgICAgICAgICAgICAgICAgIGNvb3JkOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgICAgICByYXdJbWFnZURhdGEsXG4gICAgICAgICAgICAgICAgICAgIGVuY29kaW5nOiB0aGlzLmVuY29kaW5nLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmICghdGlsZS5hY3RvciB8fCB0aWxlLnN0YXRlID09PSAnZXhwaXJlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS5hY3RvciA9IHRoaXMuZGlzcGF0Y2hlci5nZXRBY3RvcigpO1xuICAgICAgICAgICAgICAgICAgICB0aWxlLmFjdG9yLnNlbmQoJ2xvYWRERU1UaWxlJywgcGFyYW1zLCBkb25lLmJpbmQodGhpcyksIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZG9uZShlcnIsIGRlbSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnZXJyb3JlZCc7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRlbSkge1xuICAgICAgICAgICAgICAgIHRpbGUuZGVtID0gZGVtO1xuICAgICAgICAgICAgICAgIHRpbGUuZGVtLm9uRGVzZXJpYWxpemUoKTtcbiAgICAgICAgICAgICAgICB0aWxlLm5lZWRzSGlsbHNoYWRlUHJlcGFyZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGlsZS5uZWVkc0RFTVRleHR1cmVVcGxvYWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXROZWlnaGJvcmluZ1RpbGVzKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6IHtbbnVtYmVyXToge2JhY2tmaWxsZWQ6IGJvb2xlYW59fSB7XG4gICAgICAgIGNvbnN0IGNhbm9uaWNhbCA9IHRpbGVJRC5jYW5vbmljYWw7XG4gICAgICAgIGNvbnN0IGRpbSA9IE1hdGgucG93KDIsIGNhbm9uaWNhbC56KTtcblxuICAgICAgICBjb25zdCBweCA9IChjYW5vbmljYWwueCAtIDEgKyBkaW0pICUgZGltO1xuICAgICAgICBjb25zdCBweHcgPSBjYW5vbmljYWwueCA9PT0gMCA/IHRpbGVJRC53cmFwIC0gMSA6IHRpbGVJRC53cmFwO1xuICAgICAgICBjb25zdCBueCA9IChjYW5vbmljYWwueCArIDEgKyBkaW0pICUgZGltO1xuICAgICAgICBjb25zdCBueHcgPSBjYW5vbmljYWwueCArIDEgPT09IGRpbSA/IHRpbGVJRC53cmFwICsgMSA6IHRpbGVJRC53cmFwO1xuXG4gICAgICAgIGNvbnN0IG5laWdoYm9yaW5nVGlsZXMgPSB7fTtcbiAgICAgICAgLy8gYWRkIGFkamFjZW50IHRpbGVzXG4gICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBweHcsIGNhbm9uaWNhbC56LCBweCwgY2Fub25pY2FsLnkpLmtleV0gPSB7YmFja2ZpbGxlZDogZmFsc2V9O1xuICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgbnh3LCBjYW5vbmljYWwueiwgbngsIGNhbm9uaWNhbC55KS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcblxuICAgICAgICAvLyBBZGQgdXBwZXIgbmVpZ2hib3JpbmdUaWxlc1xuICAgICAgICBpZiAoY2Fub25pY2FsLnkgPiAwKSB7XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgcHh3LCBjYW5vbmljYWwueiwgcHgsIGNhbm9uaWNhbC55IC0gMSkua2V5XSA9IHtiYWNrZmlsbGVkOiBmYWxzZX07XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgdGlsZUlELndyYXAsIGNhbm9uaWNhbC56LCBjYW5vbmljYWwueCwgY2Fub25pY2FsLnkgLSAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBueHcsIGNhbm9uaWNhbC56LCBueCwgY2Fub25pY2FsLnkgLSAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgbG93ZXIgbmVpZ2hib3JpbmdUaWxlc1xuICAgICAgICBpZiAoY2Fub25pY2FsLnkgKyAxIDwgZGltKSB7XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgcHh3LCBjYW5vbmljYWwueiwgcHgsIGNhbm9uaWNhbC55ICsgMSkua2V5XSA9IHtiYWNrZmlsbGVkOiBmYWxzZX07XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgdGlsZUlELndyYXAsIGNhbm9uaWNhbC56LCBjYW5vbmljYWwueCwgY2Fub25pY2FsLnkgKyAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBueHcsIGNhbm9uaWNhbC56LCBueCwgY2Fub25pY2FsLnkgKyAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZWlnaGJvcmluZ1RpbGVzO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICB1bmxvYWRUaWxlKHRpbGU6IFRpbGUpIHtcbiAgICAgICAgaWYgKHRpbGUuZGVtVGV4dHVyZSkgdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUodGlsZS5kZW1UZXh0dXJlKTtcbiAgICAgICAgaWYgKHRpbGUuZmJvKSB7XG4gICAgICAgICAgICB0aWxlLmZiby5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5mYm87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbGUuZGVtKSBkZWxldGUgdGlsZS5kZW07XG4gICAgICAgIGRlbGV0ZSB0aWxlLm5laWdoYm9yaW5nVGlsZXM7XG5cbiAgICAgICAgdGlsZS5zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhc3RlckRFTVRpbGVTb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge0V2ZW50LCBFcnJvckV2ZW50LCBFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuXG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQuanMnO1xuaW1wb3J0IHtSZXNvdXJjZVR5cGV9IGZyb20gJy4uL3V0aWwvYWpheC5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuL3NvdXJjZS5qcyc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwLmpzJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlLmpzJztcbmltcG9ydCB0eXBlIEFjdG9yIGZyb20gJy4uL3V0aWwvYWN0b3IuanMnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjay5qcyc7XG5pbXBvcnQgdHlwZSB7R2VvSlNPTldvcmtlck9wdGlvbnN9IGZyb20gJy4vZ2VvanNvbl93b3JrZXJfc291cmNlLmpzJztcbmltcG9ydCB0eXBlIHtHZW9KU09OLCBHZW9KU09ORmVhdHVyZX0gZnJvbSAnQG1hcGJveC9nZW9qc29uLXR5cGVzJztcbmltcG9ydCB0eXBlIHtHZW9KU09OU291cmNlU3BlY2lmaWNhdGlvbiwgUHJvbW90ZUlkU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FuY2VsYWJsZX0gZnJvbSAnLi4vdHlwZXMvY2FuY2VsYWJsZS5qcyc7XG5cbi8qKlxuICogQSBzb3VyY2UgY29udGFpbmluZyBHZW9KU09OLlxuICogU2VlIHRoZSBbU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jc291cmNlcy1nZW9qc29uKSBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbiBvZiBvcHRpb25zLlxuICpcbiAqIEBleGFtcGxlXG4gKiBtYXAuYWRkU291cmNlKCdzb21lIGlkJywge1xuICogICAgIHR5cGU6ICdnZW9qc29uJyxcbiAqICAgICBkYXRhOiAnaHR0cHM6Ly9kMmFkNmI0dXI3eXZwcS5jbG91ZGZyb250Lm5ldC9uYXR1cmFsZWFydGgtMy4zLjAvbmVfMTBtX3BvcnRzLmdlb2pzb24nXG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAnZ2VvanNvbicsXG4gKiAgICAgZGF0YToge1xuICogICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICogICAgICAgICBcImZlYXR1cmVzXCI6IFt7XG4gKiAgICAgICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlXCIsXG4gKiAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge30sXG4gKiAgICAgICAgICAgICBcImdlb21ldHJ5XCI6IHtcbiAqICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICogICAgICAgICAgICAgICAgIFwiY29vcmRpbmF0ZXNcIjogW1xuICogICAgICAgICAgICAgICAgICAgICAtNzYuNTMwNjMyOTcyNzE3MjksXG4gKiAgICAgICAgICAgICAgICAgICAgIDM5LjE4MTc0MDc3OTk0MTA4XG4gKiAgICAgICAgICAgICAgICAgXVxuICogICAgICAgICAgICAgfVxuICogICAgICAgICB9XVxuICogICAgIH1cbiAqIH0pO1xuICpcbiAqIEBleGFtcGxlXG4gKiBtYXAuZ2V0U291cmNlKCdzb21lIGlkJykuc2V0RGF0YSh7XG4gKiAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAqICAgICBcImZlYXR1cmVzXCI6IFt7XG4gKiAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAqICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcIm5hbWVcIjogXCJOdWxsIElzbGFuZFwifSxcbiAqICAgICAgICAgXCJnZW9tZXRyeVwiOiB7XG4gKiAgICAgICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICogICAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOiBbIDAsIDAgXVxuICogICAgICAgICB9XG4gKiAgICAgfV1cbiAqIH0pO1xuICogQHNlZSBbRXhhbXBsZTogRHJhdyBHZW9KU09OIHBvaW50c10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nZW9qc29uLW1hcmtlcnMvKVxuICogQHNlZSBbRXhhbXBsZTogQWRkIGEgR2VvSlNPTiBsaW5lXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dlb2pzb24tbGluZS8pXG4gKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYSBoZWF0bWFwIGZyb20gcG9pbnRzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2hlYXRtYXAvKVxuICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGFuZCBzdHlsZSBjbHVzdGVyc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jbHVzdGVyLylcbiAqL1xuY2xhc3MgR2VvSlNPTlNvdXJjZSBleHRlbmRzIEV2ZW50ZWQgaW1wbGVtZW50cyBTb3VyY2Uge1xuICAgIHR5cGU6ICdnZW9qc29uJztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcbiAgICBhdHRyaWJ1dGlvbjogc3RyaW5nIHwgdm9pZDtcbiAgICBwcm9tb3RlSWQ6ID9Qcm9tb3RlSWRTcGVjaWZpY2F0aW9uO1xuXG4gICAgaXNUaWxlQ2xpcHBlZDogYm9vbGVhbiB8IHZvaWQ7XG4gICAgcmVwYXJzZU92ZXJzY2FsZWQ6IGJvb2xlYW4gfCB2b2lkO1xuICAgIF9kYXRhOiBHZW9KU09OIHwgc3RyaW5nO1xuICAgIF9vcHRpb25zOiBHZW9KU09OU291cmNlU3BlY2lmaWNhdGlvbjtcbiAgICB3b3JrZXJPcHRpb25zOiBHZW9KU09OV29ya2VyT3B0aW9ucztcbiAgICBtYXA6IE1hcDtcbiAgICBhY3RvcjogQWN0b3I7XG4gICAgX2xvYWRlZDogYm9vbGVhbjtcbiAgICBfY29hbGVzY2U6ID9ib29sZWFuO1xuICAgIF9tZXRhZGF0YUZpcmVkOiA/Ym9vbGVhbjtcbiAgICBfY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFuO1xuICAgIF9wZW5kaW5nTG9hZDogP0NhbmNlbGFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IEdlb0pTT05Tb3VyY2VTcGVjaWZpY2F0aW9uICYge3dvcmtlck9wdGlvbnM/OiBHZW9KU09OV29ya2VyT3B0aW9ucywgY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFufSwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcblxuICAgICAgICAvLyBgdHlwZWAgaXMgYSBwcm9wZXJ0eSByYXRoZXIgdGhhbiBhIGNvbnN0YW50IHRvIG1ha2UgaXQgZWFzeSBmb3IgM3JkXG4gICAgICAgIC8vIHBhcnRpZXMgdG8gdXNlIEdlb0pTT05Tb3VyY2UgdG8gYnVpbGQgdGhlaXIgb3duIHNvdXJjZSB0eXBlcy5cbiAgICAgICAgdGhpcy50eXBlID0gJ2dlb2pzb24nO1xuXG4gICAgICAgIHRoaXMubWluem9vbSA9IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IDE4O1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyO1xuICAgICAgICB0aGlzLmlzVGlsZUNsaXBwZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlcGFyc2VPdmVyc2NhbGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fbG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5hY3RvciA9IGRpc3BhdGNoZXIuZ2V0QWN0b3IoKTtcbiAgICAgICAgdGhpcy5zZXRFdmVudGVkUGFyZW50KGV2ZW50ZWRQYXJlbnQpO1xuXG4gICAgICAgIHRoaXMuX2RhdGEgPSAob3B0aW9ucy5kYXRhOiBhbnkpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcgPSBvcHRpb25zLmNvbGxlY3RSZXNvdXJjZVRpbWluZztcblxuICAgICAgICBpZiAob3B0aW9ucy5tYXh6b29tICE9PSB1bmRlZmluZWQpIHRoaXMubWF4em9vbSA9IG9wdGlvbnMubWF4em9vbTtcbiAgICAgICAgaWYgKG9wdGlvbnMudHlwZSkgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlO1xuICAgICAgICBpZiAob3B0aW9ucy5hdHRyaWJ1dGlvbikgdGhpcy5hdHRyaWJ1dGlvbiA9IG9wdGlvbnMuYXR0cmlidXRpb247XG4gICAgICAgIHRoaXMucHJvbW90ZUlkID0gb3B0aW9ucy5wcm9tb3RlSWQ7XG5cbiAgICAgICAgY29uc3Qgc2NhbGUgPSBFWFRFTlQgLyB0aGlzLnRpbGVTaXplO1xuXG4gICAgICAgIC8vIHNlbnQgdG8gdGhlIHdvcmtlciwgYWxvbmcgd2l0aCBgdXJsOiAuLi5gIG9yIGBkYXRhOiBsaXRlcmFsIGdlb2pzb25gLFxuICAgICAgICAvLyBzbyB0aGF0IGl0IGNhbiBsb2FkL3BhcnNlL2luZGV4IHRoZSBnZW9qc29uIGRhdGFcbiAgICAgICAgLy8gZXh0ZW5kaW5nIHdpdGggYG9wdGlvbnMud29ya2VyT3B0aW9uc2AgaGVscHMgdG8gbWFrZSBpdCBlYXN5IGZvclxuICAgICAgICAvLyB0aGlyZC1wYXJ0eSBzb3VyY2VzIHRvIGhhY2svcmV1c2UgR2VvSlNPTlNvdXJjZS5cbiAgICAgICAgdGhpcy53b3JrZXJPcHRpb25zID0gZXh0ZW5kKHtcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgIGNsdXN0ZXI6IG9wdGlvbnMuY2x1c3RlciB8fCBmYWxzZSxcbiAgICAgICAgICAgIGdlb2pzb25WdE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBidWZmZXI6IChvcHRpb25zLmJ1ZmZlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5idWZmZXIgOiAxMjgpICogc2NhbGUsXG4gICAgICAgICAgICAgICAgdG9sZXJhbmNlOiAob3B0aW9ucy50b2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudG9sZXJhbmNlIDogMC4zNzUpICogc2NhbGUsXG4gICAgICAgICAgICAgICAgZXh0ZW50OiBFWFRFTlQsXG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogdGhpcy5tYXh6b29tLFxuICAgICAgICAgICAgICAgIGxpbmVNZXRyaWNzOiBvcHRpb25zLmxpbmVNZXRyaWNzIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgIGdlbmVyYXRlSWQ6IG9wdGlvbnMuZ2VuZXJhdGVJZCB8fCBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cGVyY2x1c3Rlck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBtYXhab29tOiBvcHRpb25zLmNsdXN0ZXJNYXhab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsdXN0ZXJNYXhab29tIDogdGhpcy5tYXh6b29tIC0gMSxcbiAgICAgICAgICAgICAgICBtaW5Qb2ludHM6IE1hdGgubWF4KDIsIG9wdGlvbnMuY2x1c3Rlck1pblBvaW50cyB8fCAyKSxcbiAgICAgICAgICAgICAgICBleHRlbnQ6IEVYVEVOVCxcbiAgICAgICAgICAgICAgICByYWRpdXM6IChvcHRpb25zLmNsdXN0ZXJSYWRpdXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2x1c3RlclJhZGl1cyA6IDUwKSAqIHNjYWxlLFxuICAgICAgICAgICAgICAgIGxvZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVJZDogb3B0aW9ucy5nZW5lcmF0ZUlkIHx8IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2x1c3RlclByb3BlcnRpZXM6IG9wdGlvbnMuY2x1c3RlclByb3BlcnRpZXMsXG4gICAgICAgICAgICBmaWx0ZXI6IG9wdGlvbnMuZmlsdGVyXG4gICAgICAgIH0sIG9wdGlvbnMud29ya2VyT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLnNldERhdGEodGhpcy5fZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgR2VvSlNPTiBkYXRhIGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IHN0cmluZ30gZGF0YSBBIEdlb0pTT04gZGF0YSBvYmplY3Qgb3IgYSBVUkwgdG8gb25lLiBUaGUgbGF0dGVyIGlzIHByZWZlcmFibGUgaW4gdGhlIGNhc2Ugb2YgbGFyZ2UgR2VvSlNPTiBmaWxlcy5cbiAgICAgKiBAcmV0dXJucyB7R2VvSlNPTlNvdXJjZX0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5hZGRTb3VyY2UoJ3NvdXJjZV9pZCcsIHtcbiAgICAgKiAgICAgdHlwZTogJ2dlb2pzb24nLFxuICAgICAqICAgICBkYXRhOiB7XG4gICAgICogICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAgICAqICAgICAgICAgZmVhdHVyZXM6IFtdXG4gICAgICogICAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBjb25zdCBnZW9qc29uU291cmNlID0gbWFwLmdldFNvdXJjZSgnc291cmNlX2lkJyk7XG4gICAgICogLy8gVXBkYXRlIHRoZSBkYXRhIGFmdGVyIHRoZSBHZW9KU09OIHNvdXJjZSB3YXMgY3JlYXRlZFxuICAgICAqIGdlb2pzb25Tb3VyY2Uuc2V0RGF0YSh7XG4gICAgICogICAgIFwidHlwZVwiOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgICogICAgIFwiZmVhdHVyZXNcIjogW3tcbiAgICAgKiAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAgICAgKiAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XCJuYW1lXCI6IFwiTnVsbCBJc2xhbmRcIn0sXG4gICAgICogICAgICAgICBcImdlb21ldHJ5XCI6IHtcbiAgICAgKiAgICAgICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICAgICAqICAgICAgICAgICAgIFwiY29vcmRpbmF0ZXNcIjogWyAwLCAwIF1cbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgfV1cbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBzZXREYXRhKGRhdGE6IEdlb0pTT04gfCBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yIGNsdXN0ZXJlZCBzb3VyY2VzLCBmZXRjaGVzIHRoZSB6b29tIGF0IHdoaWNoIHRoZSBnaXZlbiBjbHVzdGVyIGV4cGFuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2x1c3RlcklkIFRoZSB2YWx1ZSBvZiB0aGUgY2x1c3RlcidzIGBjbHVzdGVyX2lkYCBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSB6b29tIHZhbHVlIGlzIHJldHJpZXZlZCAoYChlcnJvciwgem9vbSkgPT4geyAuLi4gfWApLlxuICAgICAqIEByZXR1cm5zIHtHZW9KU09OU291cmNlfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQXNzdW1pbmcgdGhlIG1hcCBoYXMgYSBsYXllciBuYW1lZCAnY2x1c3RlcnMnIGFuZCBhIHNvdXJjZSAnZWFydGhxdWFrZXMnXG4gICAgICogLy8gVGhlIGZvbGxvd2luZyBjcmVhdGVzIGEgY2FtZXJhIGFuaW1hdGlvbiBvbiBjbHVzdGVyIGZlYXR1cmUgY2xpY2tcbiAgICAgKiBtYXAub24oJ2NsaWNrJywgJ2NsdXN0ZXJzJywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc3QgZmVhdHVyZXMgPSBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQsIHtcbiAgICAgKiAgICAgICAgIGxheWVyczogWydjbHVzdGVycyddXG4gICAgICogICAgIH0pO1xuICAgICAqXG4gICAgICogICAgIGNvbnN0IGNsdXN0ZXJJZCA9IGZlYXR1cmVzWzBdLnByb3BlcnRpZXMuY2x1c3Rlcl9pZDtcbiAgICAgKlxuICAgICAqICAgICAvLyBFYXNlIHRoZSBjYW1lcmEgdG8gdGhlIG5leHQgY2x1c3RlciBleHBhbnNpb25cbiAgICAgKiAgICAgbWFwLmdldFNvdXJjZSgnZWFydGhxdWFrZXMnKS5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShcbiAgICAgKiAgICAgICAgIGNsdXN0ZXJJZCxcbiAgICAgKiAgICAgICAgIChlcnIsIHpvb20pID0+IHtcbiAgICAgKiAgICAgICAgICAgICBpZiAoIWVycikge1xuICAgICAqICAgICAgICAgICAgICAgICBtYXAuZWFzZVRvKHtcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogZmVhdHVyZXNbMF0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMsXG4gICAgICogICAgICAgICAgICAgICAgICAgICB6b29tXG4gICAgICogICAgICAgICAgICAgICAgIH0pO1xuICAgICAqICAgICAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBnZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShjbHVzdGVySWQ6IG51bWJlciwgY2FsbGJhY2s6IENhbGxiYWNrPG51bWJlcj4pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5hY3Rvci5zZW5kKCdnZW9qc29uLmdldENsdXN0ZXJFeHBhbnNpb25ab29tJywge2NsdXN0ZXJJZCwgc291cmNlOiB0aGlzLmlkfSwgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3IgY2x1c3RlcmVkIHNvdXJjZXMsIGZldGNoZXMgdGhlIGNoaWxkcmVuIG9mIHRoZSBnaXZlbiBjbHVzdGVyIG9uIHRoZSBuZXh0IHpvb20gbGV2ZWwgKGFzIGFuIGFycmF5IG9mIEdlb0pTT04gZmVhdHVyZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNsdXN0ZXJJZCBUaGUgdmFsdWUgb2YgdGhlIGNsdXN0ZXIncyBgY2x1c3Rlcl9pZGAgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZmVhdHVyZXMgYXJlIHJldHJpZXZlZCAoYChlcnJvciwgZmVhdHVyZXMpID0+IHsgLi4uIH1gKS5cbiAgICAgKiBAcmV0dXJucyB7R2VvSlNPTlNvdXJjZX0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFJldHJpZXZlIGNsdXN0ZXIgY2hpbGRyZW4gb24gY2xpY2tcbiAgICAgKiBtYXAub24oJ2NsaWNrJywgJ2NsdXN0ZXJzJywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc3QgZmVhdHVyZXMgPSBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQsIHtcbiAgICAgKiAgICAgICAgIGxheWVyczogWydjbHVzdGVycyddXG4gICAgICogICAgIH0pO1xuICAgICAqXG4gICAgICogICAgIGNvbnN0IGNsdXN0ZXJJZCA9IGZlYXR1cmVzWzBdLnByb3BlcnRpZXMuY2x1c3Rlcl9pZDtcbiAgICAgKlxuICAgICAqICAgICBjbHVzdGVyU291cmNlLmdldENsdXN0ZXJDaGlsZHJlbihjbHVzdGVySWQsIChlcnJvciwgZmVhdHVyZXMpID0+IHtcbiAgICAgKiAgICAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgKiAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2x1c3RlciBjaGlsZHJlbjonLCBmZWF0dXJlcyk7XG4gICAgICogICAgICAgICB9XG4gICAgICogICAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICovXG4gICAgZ2V0Q2x1c3RlckNoaWxkcmVuKGNsdXN0ZXJJZDogbnVtYmVyLCBjYWxsYmFjazogQ2FsbGJhY2s8QXJyYXk8R2VvSlNPTkZlYXR1cmU+Pik6IHRoaXMge1xuICAgICAgICB0aGlzLmFjdG9yLnNlbmQoJ2dlb2pzb24uZ2V0Q2x1c3RlckNoaWxkcmVuJywge2NsdXN0ZXJJZCwgc291cmNlOiB0aGlzLmlkfSwgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3IgY2x1c3RlcmVkIHNvdXJjZXMsIGZldGNoZXMgdGhlIG9yaWdpbmFsIHBvaW50cyB0aGF0IGJlbG9uZyB0byB0aGUgY2x1c3RlciAoYXMgYW4gYXJyYXkgb2YgR2VvSlNPTiBmZWF0dXJlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2x1c3RlcklkIFRoZSB2YWx1ZSBvZiB0aGUgY2x1c3RlcidzIGBjbHVzdGVyX2lkYCBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGltaXQgVGhlIG1heGltdW0gbnVtYmVyIG9mIGZlYXR1cmVzIHRvIHJldHVybi4gRGVmYXVsdHMgdG8gYDEwYCBpZiBhIGZhbHN5IHZhbHVlIGlzIGdpdmVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgVGhlIG51bWJlciBvZiBmZWF0dXJlcyB0byBza2lwIChmb3IgZXhhbXBsZSwgZm9yIHBhZ2luYXRpb24pLiBEZWZhdWx0cyB0byBgMGAgaWYgYSBmYWxzeSB2YWx1ZSBpcyBnaXZlbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBmZWF0dXJlcyBhcmUgcmV0cmlldmVkIChgKGVycm9yLCBmZWF0dXJlcykgPT4geyAuLi4gfWApLlxuICAgICAqIEByZXR1cm5zIHtHZW9KU09OU291cmNlfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gUmV0cmlldmUgY2x1c3RlciBsZWF2ZXMgb24gY2xpY2tcbiAgICAgKiBtYXAub24oJ2NsaWNrJywgJ2NsdXN0ZXJzJywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc3QgZmVhdHVyZXMgPSBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQsIHtcbiAgICAgKiAgICAgICAgIGxheWVyczogWydjbHVzdGVycyddXG4gICAgICogICAgIH0pO1xuICAgICAqXG4gICAgICogICAgIGNvbnN0IGNsdXN0ZXJJZCA9IGZlYXR1cmVzWzBdLnByb3BlcnRpZXMuY2x1c3Rlcl9pZDtcbiAgICAgKiAgICAgY29uc3QgcG9pbnRDb3VudCA9IGZlYXR1cmVzWzBdLnByb3BlcnRpZXMucG9pbnRfY291bnQ7XG4gICAgICogICAgIGNvbnN0IGNsdXN0ZXJTb3VyY2UgPSBtYXAuZ2V0U291cmNlKCdjbHVzdGVycycpO1xuICAgICAqXG4gICAgICogICAgIGNsdXN0ZXJTb3VyY2UuZ2V0Q2x1c3RlckxlYXZlcyhjbHVzdGVySWQsIHBvaW50Q291bnQsIDAsIChlcnJvciwgZmVhdHVyZXMpID0+IHtcbiAgICAgKiAgICAgLy8gUHJpbnQgY2x1c3RlciBsZWF2ZXMgaW4gdGhlIGNvbnNvbGVcbiAgICAgKiAgICAgICAgIGNvbnNvbGUubG9nKCdDbHVzdGVyIGxlYXZlczonLCBlcnJvciwgZmVhdHVyZXMpO1xuICAgICAqICAgICB9KTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBnZXRDbHVzdGVyTGVhdmVzKGNsdXN0ZXJJZDogbnVtYmVyLCBsaW1pdDogbnVtYmVyLCBvZmZzZXQ6IG51bWJlciwgY2FsbGJhY2s6IENhbGxiYWNrPEFycmF5PEdlb0pTT05GZWF0dXJlPj4pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5hY3Rvci5zZW5kKCdnZW9qc29uLmdldENsdXN0ZXJMZWF2ZXMnLCB7XG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICAgICAgICBjbHVzdGVySWQsXG4gICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgIG9mZnNldFxuICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogUmVzcG9uc2libGUgZm9yIGludm9raW5nIFdvcmtlclNvdXJjZSdzIGdlb2pzb24ubG9hZERhdGEgdGFyZ2V0LCB3aGljaFxuICAgICAqIGhhbmRsZXMgbG9hZGluZyB0aGUgZ2VvanNvbiBkYXRhIGFuZCBwcmVwYXJpbmcgdG8gc2VydmUgaXQgdXAgYXMgdGlsZXMsXG4gICAgICogdXNpbmcgZ2VvanNvbi12dCBvciBzdXBlcmNsdXN0ZXIgYXMgYXBwcm9wcmlhdGUuXG4gICAgICovXG4gICAgX3VwZGF0ZVdvcmtlckRhdGEoKSB7XG4gICAgICAgIC8vIGlmIHRoZXJlJ3MgYW4gZWFybGllciBsb2FkRGF0YSB0byBmaW5pc2gsIHdhaXQgdW50aWwgaXQgZmluaXNoZXMgYW5kIHRoZW4gZG8gYW5vdGhlciB1cGRhdGVcbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdMb2FkKSB7XG4gICAgICAgICAgICB0aGlzLl9jb2FsZXNjZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG5cbiAgICAgICAgdGhpcy5fbG9hZGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBleHRlbmQoe30sIHRoaXMud29ya2VyT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9kYXRhO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRpb25zLnJlcXVlc3QgPSB0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChicm93c2VyLnJlc29sdmVVUkwoZGF0YSksIFJlc291cmNlVHlwZS5Tb3VyY2UpO1xuICAgICAgICAgICAgb3B0aW9ucy5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZyA9IHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGFyZ2V0IHt0aGlzLnR5cGV9LmxvYWREYXRhIHJhdGhlciB0aGFuIGxpdGVyYWxseSBnZW9qc29uLmxvYWREYXRhLFxuICAgICAgICAvLyBzbyB0aGF0IG90aGVyIGdlb2pzb24tbGlrZSBzb3VyY2UgdHlwZXMgY2FuIGVhc2lseSByZXVzZSB0aGlzXG4gICAgICAgIC8vIGltcGxlbWVudGF0aW9uXG4gICAgICAgIHRoaXMuX3BlbmRpbmdMb2FkID0gdGhpcy5hY3Rvci5zZW5kKGAke3RoaXMudHlwZX0ubG9hZERhdGFgLCBvcHRpb25zLCAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nTG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYWx0aG91Z2ggR2VvSlNPTiBzb3VyY2VzIGNvbnRhaW4gbm8gbWV0YWRhdGEsIHdlIGZpcmUgdGhpcyBldmVudCBhdCBmaXJzdFxuICAgICAgICAgICAgICAgIC8vIHRvIGxldCB0aGUgU291cmNlQ2FjaGUga25vdyBpdHMgb2sgdG8gc3RhcnQgcmVxdWVzdGluZyB0aWxlcy5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhOiBPYmplY3QgPSB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogdGhpcy5fbWV0YWRhdGFGaXJlZCA/ICdjb250ZW50JyA6ICdtZXRhZGF0YSd9O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcgJiYgcmVzdWx0ICYmIHJlc3VsdC5yZXNvdXJjZVRpbWluZyAmJiByZXN1bHQucmVzb3VyY2VUaW1pbmdbdGhpcy5pZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5yZXNvdXJjZVRpbWluZyA9IHJlc3VsdC5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIGRhdGEpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXRhZGF0YUZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2NvYWxlc2NlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlV29ya2VyRGF0YSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvYWxlc2NlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlZDtcbiAgICB9XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9ICF0aWxlLmFjdG9yID8gJ2xvYWRUaWxlJyA6ICdyZWxvYWRUaWxlJztcbiAgICAgICAgdGlsZS5hY3RvciA9IHRoaXMuYWN0b3I7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHVpZDogdGlsZS51aWQsXG4gICAgICAgICAgICB0aWxlSUQ6IHRpbGUudGlsZUlELFxuICAgICAgICAgICAgdGlsZVpvb206IHRpbGUudGlsZVpvb20sXG4gICAgICAgICAgICB6b29tOiB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgICAgIG1heFpvb206IHRoaXMubWF4em9vbSxcbiAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgc291cmNlOiB0aGlzLmlkLFxuICAgICAgICAgICAgcGl4ZWxSYXRpbzogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLFxuICAgICAgICAgICAgc2hvd0NvbGxpc2lvbkJveGVzOiB0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMsXG4gICAgICAgICAgICBwcm9tb3RlSWQ6IHRoaXMucHJvbW90ZUlkXG4gICAgICAgIH07XG5cbiAgICAgICAgdGlsZS5yZXF1ZXN0ID0gdGhpcy5hY3Rvci5zZW5kKG1lc3NhZ2UsIHBhcmFtcywgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgZGVsZXRlIHRpbGUucmVxdWVzdDtcbiAgICAgICAgICAgIHRpbGUudW5sb2FkVmVjdG9yRGF0YSgpO1xuXG4gICAgICAgICAgICBpZiAodGlsZS5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRpbGUubG9hZFZlY3RvckRhdGEoZGF0YSwgdGhpcy5tYXAucGFpbnRlciwgbWVzc2FnZSA9PT0gJ3JlbG9hZFRpbGUnKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9LCB1bmRlZmluZWQsIG1lc3NhZ2UgPT09ICdsb2FkVGlsZScpO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBhYm9ydFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICBpZiAodGlsZS5yZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aWxlLnJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5yZXF1ZXN0O1xuICAgICAgICB9XG4gICAgICAgIHRpbGUuYWJvcnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIHVubG9hZFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICB0aWxlLnVubG9hZFZlY3RvckRhdGEoKTtcbiAgICAgICAgdGhpcy5hY3Rvci5zZW5kKCdyZW1vdmVUaWxlJywge3VpZDogdGlsZS51aWQsIHR5cGU6IHRoaXMudHlwZSwgc291cmNlOiB0aGlzLmlkfSk7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0xvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdMb2FkLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IEdlb0pTT05Tb3VyY2VTcGVjaWZpY2F0aW9uIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucywge1xuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgZGF0YTogdGhpcy5fZGF0YVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHZW9KU09OU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtnZXRWaWRlbywgUmVzb3VyY2VUeXBlfSBmcm9tICcuLi91dGlsL2FqYXguanMnO1xuXG5pbXBvcnQgSW1hZ2VTb3VyY2UgZnJvbSAnLi9pbWFnZV9zb3VyY2UuanMnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUuanMnO1xuaW1wb3J0IHtFcnJvckV2ZW50fSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IFZhbGlkYXRpb25FcnJvciBmcm9tICcuLi9zdHlsZS1zcGVjL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3IuanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwLmpzJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB0eXBlIHtFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IHR5cGUge1ZpZGVvU291cmNlU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5cbi8qKlxuICogQSBkYXRhIHNvdXJjZSBjb250YWluaW5nIHZpZGVvLlxuICogU2VlIHRoZSBbU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jc291cmNlcy12aWRlbykgZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24gb2Ygb3B0aW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gYWRkIHRvIG1hcFxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAndmlkZW8nLFxuICogICAgIHVybDogW1xuICogICAgICAgICAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9ibG9nL2Fzc2V0cy9iYWx0aW1vcmUtc21va2UubXA0JyxcbiAqICAgICAgICAgJ2h0dHBzOi8vd3d3Lm1hcGJveC5jb20vYmxvZy9hc3NldHMvYmFsdGltb3JlLXNtb2tlLndlYm0nXG4gKiAgICAgXSxcbiAqICAgICBjb29yZGluYXRlczogW1xuICogICAgICAgICBbLTc2LjU0LCAzOS4xOF0sXG4gKiAgICAgICAgIFstNzYuNTIsIDM5LjE4XSxcbiAqICAgICAgICAgWy03Ni41MiwgMzkuMTddLFxuICogICAgICAgICBbLTc2LjU0LCAzOS4xN11cbiAqICAgICBdXG4gKiB9KTtcbiAqXG4gKiAvLyB1cGRhdGVcbiAqIGNvbnN0IG15U291cmNlID0gbWFwLmdldFNvdXJjZSgnc29tZSBpZCcpO1xuICogbXlTb3VyY2Uuc2V0Q29vcmRpbmF0ZXMoW1xuICogICAgIFstNzYuNTQzMzU3MzcyMjgzOTQsIDM5LjE4NTc5OTA3MjI5NzQ4XSxcbiAqICAgICBbLTc2LjUyODAzNjU5NDM5MDg3LCAzOS4xODM4MzY0ODQ3NTg3XSxcbiAqICAgICBbLTc2LjUyOTUzODYzMTQzOTIsIDM5LjE3NjgzMzkyNTA3NjA2XSxcbiAqICAgICBbLTc2LjU0NTIwMjczMjA4NjE4LCAzOS4xNzg3NjM0NDEwNjY0Ml1cbiAqIF0pO1xuICpcbiAqIG1hcC5yZW1vdmVTb3VyY2UoJ3NvbWUgaWQnKTsgIC8vIHJlbW92ZVxuICogQHNlZSBbRXhhbXBsZTogQWRkIGEgdmlkZW9dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdmlkZW8tb24tYS1tYXAvKVxuICovXG5jbGFzcyBWaWRlb1NvdXJjZSBleHRlbmRzIEltYWdlU291cmNlIHtcbiAgICBvcHRpb25zOiBWaWRlb1NvdXJjZVNwZWNpZmljYXRpb247XG4gICAgdXJsczogQXJyYXk8c3RyaW5nPjtcbiAgICB2aWRlbzogSFRNTFZpZGVvRWxlbWVudDtcbiAgICByb3VuZFpvb206IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IFZpZGVvU291cmNlU3BlY2lmaWNhdGlvbiwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcihpZCwgb3B0aW9ucywgZGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudCk7XG4gICAgICAgIHRoaXMucm91bmRab29tID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50eXBlID0gJ3ZpZGVvJztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB0aGlzLnVybHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB1cmwgb2Ygb3B0aW9ucy51cmxzKSB7XG4gICAgICAgICAgICB0aGlzLnVybHMucHVzaCh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh1cmwsIFJlc291cmNlVHlwZS5Tb3VyY2UpLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRWaWRlbyh0aGlzLnVybHMsIChlcnIsIHZpZGVvKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmlkZW8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvID0gdmlkZW87XG4gICAgICAgICAgICAgICAgdGhpcy52aWRlby5sb29wID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgdGhlIHZpZGVvIGZyb20gdGFraW5nIG92ZXIgdGhlIHNjcmVlbiBpbiBpT1NcbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBTdGFydCByZXBhaW50aW5nIHdoZW4gdmlkZW8gc3RhcnRzIHBsYXlpbmcuIGhhc1RyYW5zaXRpb24oKSB3aWxsIHRoZW4gcmV0dXJuXG4gICAgICAgICAgICAgICAgLy8gdHJ1ZSB0byB0cmlnZ2VyIGFkZGl0aW9uYWwgZnJhbWVzIGFzIGxvbmcgYXMgdGhlIHZpZGVvcyBjb250aW51ZXMgcGxheWluZy5cbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLnRyaWdnZXJSZXBhaW50KCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fZmluaXNoTG9hZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXVzZXMgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBBc3N1bWluZyBhIHZpZGVvIHNvdXJjZSBpZGVudGlmaWVkIGJ5IHZpZGVvX3NvdXJjZV9pZCB3YXMgYWRkZWQgdG8gdGhlIG1hcFxuICAgICAqIGNvbnN0IHZpZGVvU291cmNlID0gbWFwLmdldFNvdXJjZSgndmlkZW9fc291cmNlX2lkJyk7XG4gICAgICpcbiAgICAgKiAvLyBQYXVzZXMgdGhlIHZpZGVvXG4gICAgICogdmlkZW9Tb3VyY2UucGF1c2UoKTtcbiAgICAgKi9cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlkZW8pIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW8ucGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBsYXlzIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQXNzdW1pbmcgYSB2aWRlbyBzb3VyY2UgaWRlbnRpZmllZCBieSB2aWRlb19zb3VyY2VfaWQgd2FzIGFkZGVkIHRvIHRoZSBtYXBcbiAgICAgKiBjb25zdCB2aWRlb1NvdXJjZSA9IG1hcC5nZXRTb3VyY2UoJ3ZpZGVvX3NvdXJjZV9pZCcpO1xuICAgICAqXG4gICAgICogLy8gU3RhcnRzIHRoZSB2aWRlb1xuICAgICAqIHZpZGVvU291cmNlLnBsYXkoKTtcbiAgICAgKi9cbiAgICBwbGF5KCkge1xuICAgICAgICBpZiAodGhpcy52aWRlbykge1xuICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHBsYXliYWNrIHRvIGEgdGltZXN0YW1wLCBpbiBzZWNvbmRzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc2VlayhzZWNvbmRzOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMudmlkZW8pIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZWthYmxlUmFuZ2UgPSB0aGlzLnZpZGVvLnNlZWthYmxlO1xuICAgICAgICAgICAgaWYgKHNlY29uZHMgPCBzZWVrYWJsZVJhbmdlLnN0YXJ0KDApIHx8IHNlY29uZHMgPiBzZWVrYWJsZVJhbmdlLmVuZCgwKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgVmFsaWRhdGlvbkVycm9yKGBzb3VyY2VzLiR7dGhpcy5pZH1gLCBudWxsLCBgUGxheWJhY2sgZm9yIHRoaXMgdmlkZW8gY2FuIGJlIHNldCBvbmx5IGJldHdlZW4gdGhlICR7c2Vla2FibGVSYW5nZS5zdGFydCgwKX0gYW5kICR7c2Vla2FibGVSYW5nZS5lbmQoMCl9LXNlY29uZCBtYXJrLmApKSk7XG4gICAgICAgICAgICB9IGVsc2UgdGhpcy52aWRlby5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBIVE1MIGB2aWRlb2AgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MVmlkZW9FbGVtZW50fSBUaGUgSFRNTCBgdmlkZW9gIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBBc3N1bWluZyBhIHZpZGVvIHNvdXJjZSBpZGVudGlmaWVkIGJ5IHZpZGVvX3NvdXJjZV9pZCB3YXMgYWRkZWQgdG8gdGhlIG1hcFxuICAgICAqIGNvbnN0IHZpZGVvU291cmNlID0gbWFwLmdldFNvdXJjZSgndmlkZW9fc291cmNlX2lkJyk7XG4gICAgICpcbiAgICAgKiB2aWRlb1NvdXJjZS5nZXRWaWRlbygpOyAvLyA8dmlkZW8gY3Jvc3NvcmlnaW49XCJBbm9ueW1vdXNcIiBsb29wPVwiXCI+Li4uPC92aWRlbz5cbiAgICAgKi9cbiAgICBnZXRWaWRlbygpOiBIVE1MVmlkZW9FbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW87XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgaWYgKHRoaXMubWFwKSByZXR1cm47XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgaWYgKHRoaXMudmlkZW8pIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZpZGVvJ3MgY29vcmRpbmF0ZXMgYW5kIHJlLXJlbmRlcnMgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBtZXRob2Qgc2V0Q29vcmRpbmF0ZXNcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVmlkZW9Tb3VyY2VcbiAgICAgKiBAcmV0dXJucyB7VmlkZW9Tb3VyY2V9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBBZGQgYSB2aWRlbyBzb3VyY2UgdG8gdGhlIG1hcCB0byBtYXBcbiAgICAgKiBtYXAuYWRkU291cmNlKCd2aWRlb19zb3VyY2VfaWQnLCB7XG4gICAgICogICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICogICAgIHVybDogW1xuICAgICAqICAgICAgICAgJ2h0dHBzOi8vd3d3Lm1hcGJveC5jb20vYmxvZy9hc3NldHMvYmFsdGltb3JlLXNtb2tlLm1wNCcsXG4gICAgICogICAgICAgICAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9ibG9nL2Fzc2V0cy9iYWx0aW1vcmUtc21va2Uud2VibSdcbiAgICAgKiAgICAgXSxcbiAgICAgKiAgICAgY29vcmRpbmF0ZXM6IFtcbiAgICAgKiAgICAgICAgIFstNzYuNTQsIDM5LjE4XSxcbiAgICAgKiAgICAgICAgIFstNzYuNTIsIDM5LjE4XSxcbiAgICAgKiAgICAgICAgIFstNzYuNTIsIDM5LjE3XSxcbiAgICAgKiAgICAgICAgIFstNzYuNTQsIDM5LjE3XVxuICAgICAqICAgICBdXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiAvLyBUaGVuIHVwZGF0ZSB0aGUgdmlkZW8gc291cmNlIGNvb3JkaW5hdGVzIGJ5IG5ldyBjb29yZGluYXRlc1xuICAgICAqIGNvbnN0IHZpZGVvU291cmNlID0gbWFwLmdldFNvdXJjZSgndmlkZW9fc291cmNlX2lkJyk7XG4gICAgICogdmlkZW9Tb3VyY2Uuc2V0Q29vcmRpbmF0ZXMoW1xuICAgICAqICAgICBbLTc2LjU0MzMsIDM5LjE4NTddLFxuICAgICAqICAgICBbLTc2LjUyODAsIDM5LjE4MzhdLFxuICAgICAqICAgICBbLTc2LjUyOTUsIDM5LjE3NjhdLFxuICAgICAqICAgICBbLTc2LjU0NTIsIDM5LjE3ODddXG4gICAgICogXSk7XG4gICAgICovXG4gICAgLy8gc2V0Q29vcmRpbmF0ZXMgaW5oZXJpdGVkIGZyb20gSW1hZ2VTb3VyY2VcblxuICAgIHByZXBhcmUoKSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGggPT09IDAgfHwgdGhpcy52aWRlby5yZWFkeVN0YXRlIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBub3QgZW5vdWdoIGRhdGEgZm9yIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLm1hcC5wYWludGVyLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgdGhpcy52aWRlbywgZ2wuUkdCQSk7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMudmlkZW8udmlkZW9XaWR0aDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy52aWRlby52aWRlb0hlaWdodDtcblxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnZpZGVvLnBhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdGhpcy52aWRlbyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcmVwYXJlRGF0YShjb250ZXh0KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKTogVmlkZW9Tb3VyY2VTcGVjaWZpY2F0aW9uIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICAgICAgICB1cmxzOiB0aGlzLnVybHMsXG4gICAgICAgICAgICBjb29yZGluYXRlczogdGhpcy5jb29yZGluYXRlc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvICYmICF0aGlzLnZpZGVvLnBhdXNlZDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZGVvU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IEltYWdlU291cmNlIGZyb20gJy4vaW1hZ2Vfc291cmNlLmpzJztcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdy5qcyc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9yZW5kZXIvdGV4dHVyZS5qcyc7XG5pbXBvcnQge0Vycm9yRXZlbnR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQgVmFsaWRhdGlvbkVycm9yIGZyb20gJy4uL3N0eWxlLXNwZWMvZXJyb3IvdmFsaWRhdGlvbl9lcnJvci5qcyc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAuanMnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXIuanMnO1xuaW1wb3J0IHR5cGUge0V2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZC5qcyc7XG5cbmV4cG9ydCB0eXBlIENhbnZhc1NvdXJjZVNwZWNpZmljYXRpb24gPSB7fFxuICAgIFwidHlwZVwiOiBcImNhbnZhc1wiLFxuICAgIFwiY29vcmRpbmF0ZXNcIjogW1tudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl1dLFxuICAgIFwiYW5pbWF0ZVwiPzogYm9vbGVhbixcbiAgICBcImNhbnZhc1wiOiBzdHJpbmcgfCBIVE1MQ2FudmFzRWxlbWVudFxufH07XG5cbi8qKlxuICogT3B0aW9ucyB0byBhZGQgYSBjYW52YXMgc291cmNlIHR5cGUgdG8gdGhlIG1hcC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDYW52YXNTb3VyY2VPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBTb3VyY2UgdHlwZS4gTXVzdCBiZSBgXCJjYW52YXNcImAuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIENhbnZhcyBzb3VyY2UgZnJvbSB3aGljaCB0byByZWFkIHBpeGVscy4gQ2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgSUQgb2YgdGhlIGNhbnZhcyBlbGVtZW50LCBvciB0aGUgYEhUTUxDYW52YXNFbGVtZW50YCBpdHNlbGYuXG4gKiBAcHJvcGVydHkge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlcyBGb3VyIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyBkZW5vdGluZyB3aGVyZSB0byBwbGFjZSB0aGUgY29ybmVycyBvZiB0aGUgY2FudmFzLCBzcGVjaWZpZWQgaW4gYFtsb25naXR1ZGUsIGxhdGl0dWRlXWAgcGFpcnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbmltYXRlPXRydWVdIFdoZXRoZXIgdGhlIGNhbnZhcyBzb3VyY2UgaXMgYW5pbWF0ZWQuIElmIHRoZSBjYW52YXMgaXMgc3RhdGljIChwaXhlbHMgZG8gbm90IG5lZWQgdG8gYmUgcmUtcmVhZCBvbiBldmVyeSBmcmFtZSksIGBhbmltYXRlYCBzaG91bGQgYmUgc2V0IHRvIGBmYWxzZWAgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZS5cbiAqL1xuXG4vKipcbiAqIEEgZGF0YSBzb3VyY2UgY29udGFpbmluZyB0aGUgY29udGVudHMgb2YgYW4gSFRNTCBjYW52YXMuIFNlZSB7QGxpbmsgQ2FudmFzU291cmNlT3B0aW9uc30gZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24gb2Ygb3B0aW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gYWRkIHRvIG1hcFxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAnY2FudmFzJyxcbiAqICAgICBjYW52YXM6ICdpZE9mTXlIVE1MQ2FudmFzJyxcbiAqICAgICBhbmltYXRlOiB0cnVlLFxuICogICAgIGNvb3JkaW5hdGVzOiBbXG4gKiAgICAgICAgIFstNzYuNTQsIDM5LjE4XSxcbiAqICAgICAgICAgWy03Ni41MiwgMzkuMThdLFxuICogICAgICAgICBbLTc2LjUyLCAzOS4xN10sXG4gKiAgICAgICAgIFstNzYuNTQsIDM5LjE3XVxuICogICAgIF1cbiAqIH0pO1xuICpcbiAqIC8vIHVwZGF0ZVxuICogY29uc3QgbXlTb3VyY2UgPSBtYXAuZ2V0U291cmNlKCdzb21lIGlkJyk7XG4gKiBteVNvdXJjZS5zZXRDb29yZGluYXRlcyhbXG4gKiAgICAgWy03Ni41NDMzNTczNzIyODM5NCwgMzkuMTg1Nzk5MDcyMjk3NDhdLFxuICogICAgIFstNzYuNTI4MDM2NTk0MzkwODcsIDM5LjE4MzgzNjQ4NDc1ODddLFxuICogICAgIFstNzYuNTI5NTM4NjMxNDM5MiwgMzkuMTc2ODMzOTI1MDc2MDZdLFxuICogICAgIFstNzYuNTQ1MjAyNzMyMDg2MTgsIDM5LjE3ODc2MzQ0MTA2NjQyXVxuICogXSk7XG4gKlxuICogbWFwLnJlbW92ZVNvdXJjZSgnc29tZSBpZCcpOyAgLy8gcmVtb3ZlXG4gKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSBjYW52YXMgc291cmNlXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jYW52YXMtc291cmNlLylcbiAqL1xuY2xhc3MgQ2FudmFzU291cmNlIGV4dGVuZHMgSW1hZ2VTb3VyY2Uge1xuICAgIG9wdGlvbnM6IENhbnZhc1NvdXJjZVNwZWNpZmljYXRpb247XG4gICAgYW5pbWF0ZTogYm9vbGVhbjtcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHBsYXk6ICgpID0+IHZvaWQ7XG4gICAgcGF1c2U6ICgpID0+IHZvaWQ7XG4gICAgX3BsYXlpbmc6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IENhbnZhc1NvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoaWQsIG9wdGlvbnMsIGRpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQpO1xuXG4gICAgICAgIC8vIFdlIGJ1aWxkIGluIHNvbWUgdmFsaWRhdGlvbiBoZXJlLCBzaW5jZSBjYW52YXMgc291cmNlcyBhcmVuJ3QgaW5jbHVkZWQgaW4gdGhlIHN0eWxlIHNwZWM6XG4gICAgICAgIGlmICghb3B0aW9ucy5jb29yZGluYXRlcykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBWYWxpZGF0aW9uRXJyb3IoYHNvdXJjZXMuJHtpZH1gLCBudWxsLCAnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImNvb3JkaW5hdGVzXCInKSkpO1xuICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KG9wdGlvbnMuY29vcmRpbmF0ZXMpIHx8IG9wdGlvbnMuY29vcmRpbmF0ZXMubGVuZ3RoICE9PSA0IHx8XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jb29yZGluYXRlcy5zb21lKGMgPT4gIUFycmF5LmlzQXJyYXkoYykgfHwgYy5sZW5ndGggIT09IDIgfHwgYy5zb21lKGwgPT4gdHlwZW9mIGwgIT09ICdudW1iZXInKSkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgVmFsaWRhdGlvbkVycm9yKGBzb3VyY2VzLiR7aWR9YCwgbnVsbCwgJ1wiY29vcmRpbmF0ZXNcIiBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5IG9mIDQgbG9uZ2l0dWRlL2xhdGl0dWRlIGFycmF5IHBhaXJzJykpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGUgJiYgdHlwZW9mIG9wdGlvbnMuYW5pbWF0ZSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IFZhbGlkYXRpb25FcnJvcihgc291cmNlcy4ke2lkfWAsIG51bGwsICdvcHRpb25hbCBcImFuaW1hdGVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZScpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMuY2FudmFzKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IFZhbGlkYXRpb25FcnJvcihgc291cmNlcy4ke2lkfWAsIG51bGwsICdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiY2FudmFzXCInKSkpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmNhbnZhcyAhPT0gJ3N0cmluZycgJiYgIShvcHRpb25zLmNhbnZhcyBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgVmFsaWRhdGlvbkVycm9yKGBzb3VyY2VzLiR7aWR9YCwgbnVsbCwgJ1wiY2FudmFzXCIgbXVzdCBiZSBlaXRoZXIgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBJRCBvZiB0aGUgY2FudmFzIGVsZW1lbnQgZnJvbSB3aGljaCB0byByZWFkLCBvciBhbiBIVE1MQ2FudmFzRWxlbWVudCBpbnN0YW5jZScpKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmFuaW1hdGUgPSBvcHRpb25zLmFuaW1hdGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5pbWF0ZSA6IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBhbmltYXRpb24uIFRoZSBpbWFnZSB3aWxsIGJlIGNvcGllZCBmcm9tIHRoZSBjYW52YXMgdG8gdGhlIG1hcCBvbiBlYWNoIGZyYW1lLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBwbGF5XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENhbnZhc1NvdXJjZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYW5pbWF0aW9uLiBUaGUgbWFwIHdpbGwgZGlzcGxheSBhIHN0YXRpYyBjb3B5IG9mIHRoZSBjYW52YXMgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHBhdXNlXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENhbnZhc1NvdXJjZVxuICAgICAqL1xuXG4gICAgbG9hZCgpIHtcbiAgICAgICAgdGhpcy5fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSAodGhpcy5vcHRpb25zLmNhbnZhcyBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudCkgP1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jYW52YXMgOlxuICAgICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdGlvbnMuY2FudmFzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdDYW52YXMgZGltZW5zaW9ucyBjYW5ub3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHplcm8uJykpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fcGxheWluZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1hcC50cmlnZ2VyUmVwYWludCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wbGF5aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmVwYXJlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGxheWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2ZpbmlzaExvYWRpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBIVE1MIGBjYW52YXNgIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSBIVE1MIGBjYW52YXNgIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBBc3N1bWluZyB0aGUgZm9sbG93aW5nIGNhbnZhcyBpcyBhZGRlZCB0byB5b3VyIHBhZ2VcbiAgICAgKiAvLyA8Y2FudmFzIGlkPVwiY2FudmFzSURcIiB3aWR0aD1cIjQwMFwiIGhlaWdodD1cIjQwMFwiPjwvY2FudmFzPlxuICAgICAqIG1hcC5hZGRTb3VyY2UoJ2NhbnZhcy1zb3VyY2UnLCB7XG4gICAgICogICAgIHR5cGU6ICdjYW52YXMnLFxuICAgICAqICAgICBjYW52YXM6ICdjYW52YXNJRCcsXG4gICAgICogICAgIGNvb3JkaW5hdGVzOiBbXG4gICAgICogICAgICAgICBbOTEuNDQ2MSwgMjEuNTAwNl0sXG4gICAgICogICAgICAgICBbMTAwLjM1NDEsIDIxLjUwMDZdLFxuICAgICAqICAgICAgICAgWzEwMC4zNTQxLCAxMy45NzA2XSxcbiAgICAgKiAgICAgICAgIFs5MS40NDYxLCAxMy45NzA2XVxuICAgICAqICAgICBdXG4gICAgICogfSk7XG4gICAgICogbWFwLmdldFNvdXJjZSgnY2FudmFzLXNvdXJjZScpLmdldENhbnZhcygpOyAvLyA8Y2FudmFzIGlkPVwiY2FudmFzSURcIiB3aWR0aD1cIjQwMFwiIGhlaWdodD1cIjQwMFwiPjwvY2FudmFzPlxuICAgICAqL1xuICAgIGdldENhbnZhcygpOiBIVE1MQ2FudmFzRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcztcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGUpIHRoaXMucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY2FudmFzJ3MgY29vcmRpbmF0ZXMgYW5kIHJlLXJlbmRlcnMgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBtZXRob2Qgc2V0Q29vcmRpbmF0ZXNcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQ2FudmFzU291cmNlXG4gICAgICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgRm91ciBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMsXG4gICAgICogICByZXByZXNlbnRlZCBhcyBhcnJheXMgb2YgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSBudW1iZXJzLCB3aGljaCBkZWZpbmUgdGhlIGNvcm5lcnMgb2YgdGhlIGNhbnZhcy5cbiAgICAgKiAgIFRoZSBjb29yZGluYXRlcyBzdGFydCBhdCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBjYW52YXMgYW5kIHByb2NlZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqICAgVGhleSBkbyBub3QgaGF2ZSB0byByZXByZXNlbnQgYSByZWN0YW5nbGUuXG4gICAgICogQHJldHVybnMge0NhbnZhc1NvdXJjZX0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKi9cblxuICAgIC8vIHNldENvb3JkaW5hdGVzIGluaGVyaXRlZCBmcm9tIEltYWdlU291cmNlXG5cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgbGV0IHJlc2l6ZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jYW52YXMud2lkdGggIT09IHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgICAgICAgIHJlc2l6ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FudmFzLmhlaWdodCAhPT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgICAgICAgICAgcmVzaXplID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpKSByZXR1cm47XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aCA9PT0gMCkgcmV0dXJuOyAvLyBub3QgZW5vdWdoIGRhdGEgZm9yIGN1cnJlbnQgcG9zaXRpb25cblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5tYXAucGFpbnRlci5jb250ZXh0O1xuXG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmNhbnZhcywgY29udGV4dC5nbC5SR0JBLCB7cHJlbXVsdGlwbHk6IHRydWV9KTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNpemUgfHwgdGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLnVwZGF0ZSh0aGlzLmNhbnZhcywge3ByZW11bHRpcGx5OiB0cnVlfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcmVwYXJlRGF0YShjb250ZXh0KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKTogT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdjYW52YXMnLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHRoaXMuY29vcmRpbmF0ZXNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxheWluZztcbiAgICB9XG5cbiAgICBfaGFzSW52YWxpZERpbWVuc2lvbnMoKTogYm9vbGVhbiB7XG4gICAgICAgIGZvciAoY29uc3QgeCBvZiBbdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodF0pIHtcbiAgICAgICAgICAgIGlmIChpc05hTih4KSB8fCB4IDw9IDApIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1NvdXJjZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBUaWxlIGZyb20gJy4vdGlsZS5qcyc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93LmpzJztcbmltcG9ydCBUaWxlQm91bmRzIGZyb20gJy4vdGlsZV9ib3VuZHMuanMnO1xuaW1wb3J0IFJhc3RlclRpbGVTb3VyY2UgZnJvbSAnLi9yYXN0ZXJfdGlsZV9zb3VyY2UuanMnO1xuaW1wb3J0IHtleHRlbmQsIHBpY2t9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQge0V2ZW50LCBFcnJvckV2ZW50LCBFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwLmpzJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlLmpzJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2suanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4vdGlsZV9pZC5qcyc7XG5cbnR5cGUgRGF0YVR5cGUgPSAncmFzdGVyJztcblxuZnVuY3Rpb24gaXNSYXN0ZXIoZGF0YTogYW55KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGRhdGEgaW5zdGFuY2VvZiB3aW5kb3cuSW1hZ2VEYXRhIHx8XG4gICAgICAgIGRhdGEgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQgfHxcbiAgICAgICAgZGF0YSBpbnN0YW5jZW9mIHdpbmRvdy5JbWFnZUJpdG1hcCB8fFxuICAgICAgICBkYXRhIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJbWFnZUVsZW1lbnQ7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBjdXN0b20gc291cmNlcy4gVGhpcyBpcyBhIHNwZWNpZmljYXRpb24gZm9yXG4gKiBpbXBsZW1lbnRlcnMgdG8gbW9kZWw6IGl0IGlzIG5vdCBhbiBleHBvcnRlZCBtZXRob2Qgb3IgY2xhc3MuXG4gKlxuICogQ3VzdG9tIHNvdXJjZXMgYWxsb3cgYSB1c2VyIHRvIGxvYWQgYW5kIG1vZGlmeSB0aGVpciBvd24gdGlsZXMuXG4gKiBUaGVzZSBzb3VyY2VzIGNhbiBiZSBhZGRlZCBiZXR3ZWVuIGFueSByZWd1bGFyIHNvdXJjZXMgdXNpbmcge0BsaW5rIE1hcCNhZGRTb3VyY2V9LlxuICpcbiAqIEN1c3RvbSBzb3VyY2VzIG11c3QgaGF2ZSBhIHVuaXF1ZSBgaWRgIGFuZCBtdXN0IGhhdmUgdGhlIGB0eXBlYCBvZiBgXCJjdXN0b21cImAuXG4gKiBUaGV5IG11c3QgaW1wbGVtZW50IGBsb2FkVGlsZWAgYW5kIG1heSBpbXBsZW1lbnQgYHVubG9hZFRpbGVgLCBgb25BZGRgIGFuZCBgb25SZW1vdmVgLlxuICogVGhleSBjYW4gdHJpZ2dlciByZW5kZXJpbmcgdXNpbmcge0BsaW5rIE1hcCN0cmlnZ2VyUmVwYWludH0uXG4gKlxuICogQGludGVyZmFjZSBDdXN0b21Tb3VyY2VJbnRlcmZhY2VcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZCBBIHVuaXF1ZSBzb3VyY2UgaWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgc291cmNlJ3MgdHlwZS4gTXVzdCBiZSBgXCJjdXN0b21cImAuXG4gKiBAZXhhbXBsZVxuICogLy8gQ3VzdG9tIHNvdXJjZSBpbXBsZW1lbnRlZCBhcyBFUzYgY2xhc3NcbiAqIGNsYXNzIEN1c3RvbVNvdXJjZSB7XG4gKiAgICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgICAgIHRoaXMuaWQgPSAnY3VzdG9tLXNvdXJjZSc7XG4gKiAgICAgICAgIHRoaXMudHlwZSA9ICdjdXN0b20nO1xuICogICAgICAgICB0aGlzLnRpbGVTaXplID0gMjU2O1xuICogICAgICAgICB0aGlzLnRpbGVzVXJsID0gJ2h0dHBzOi8vc3RhbWVuLXRpbGVzLmEuc3NsLmZhc3RseS5uZXQvd2F0ZXJjb2xvci97en0ve3h9L3t5fS5qcGcnO1xuICogICAgICAgICB0aGlzLmF0dHJpYnV0aW9uID0gJ01hcCB0aWxlcyBieSBTdGFtZW4gRGVzaWduLCB1bmRlciBDQyBCWSAzLjAnO1xuICogICAgIH1cbiAqXG4gKiAgICAgYXN5bmMgbG9hZFRpbGUodGlsZSwge3NpZ25hbH0pIHtcbiAqICAgICAgICAgY29uc3QgdXJsID0gdGhpcy50aWxlc1VybFxuICogICAgICAgICAgICAgLnJlcGxhY2UoJ3t6fScsIFN0cmluZyh0aWxlLnopKVxuICogICAgICAgICAgICAgLnJlcGxhY2UoJ3t4fScsIFN0cmluZyh0aWxlLngpKVxuICogICAgICAgICAgICAgLnJlcGxhY2UoJ3t5fScsIFN0cmluZyh0aWxlLnkpKTtcbiAqXG4gKiAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7c2lnbmFsfSk7XG4gKiAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICpcbiAqICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyB3aW5kb3cuQmxvYihbbmV3IFVpbnQ4QXJyYXkoZGF0YSldLCB7dHlwZTogJ2ltYWdlL3BuZyd9KTtcbiAqICAgICAgICAgY29uc3QgaW1hZ2VCaXRtYXAgPSBhd2FpdCB3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXAoYmxvYik7XG4gKlxuICogICAgICAgICByZXR1cm4gaW1hZ2VCaXRtYXA7XG4gKiAgICAgfVxuICogfVxuICpcbiAqIG1hcC5vbignbG9hZCcsICgpID0+IHtcbiAqICAgICBtYXAuYWRkU291cmNlKCdjdXN0b20tc291cmNlJywgbmV3IEN1c3RvbVNvdXJjZSgpKTtcbiAqICAgICBtYXAuYWRkTGF5ZXIoe1xuICogICAgICAgICBpZDogJ2xheWVyJyxcbiAqICAgICAgICAgdHlwZTogJ3Jhc3RlcicsXG4gKiAgICAgICAgIHNvdXJjZTogJ2N1c3RvbS1zb3VyY2UnXG4gKiAgICAgfSk7XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIE9wdGlvbmFsIG1ldGhvZCBjYWxsZWQgd2hlbiB0aGUgc291cmNlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBNYXAgd2l0aCB7QGxpbmsgTWFwI2FkZFNvdXJjZX0uXG4gKiBUaGlzIGdpdmVzIHRoZSBzb3VyY2UgYSBjaGFuY2UgdG8gaW5pdGlhbGl6ZSByZXNvdXJjZXMgYW5kIHJlZ2lzdGVyIGV2ZW50IGxpc3RlbmVycy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBDdXN0b21Tb3VyY2VJbnRlcmZhY2VcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgb25BZGRcbiAqIEBwYXJhbSB7TWFwfSBtYXAgVGhlIE1hcCB0aGlzIGN1c3RvbSBzb3VyY2Ugd2FzIGp1c3QgYWRkZWQgdG8uXG4gKi9cblxuLyoqXG4gKiBPcHRpb25hbCBtZXRob2QgY2FsbGVkIHdoZW4gdGhlIHNvdXJjZSBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIE1hcCB3aXRoIHtAbGluayBNYXAjcmVtb3ZlU291cmNlfS5cbiAqIFRoaXMgZ2l2ZXMgdGhlIHNvdXJjZSBhIGNoYW5jZSB0byBjbGVhbiB1cCByZXNvdXJjZXMgYW5kIGV2ZW50IGxpc3RlbmVycy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBDdXN0b21Tb3VyY2VJbnRlcmZhY2VcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgb25SZW1vdmVcbiAqIEBwYXJhbSB7TWFwfSBtYXAgVGhlIE1hcCB0aGlzIGN1c3RvbSBzb3VyY2Ugd2FzIGFkZGVkIHRvLlxuICovXG5cbi8qKlxuICogT3B0aW9uYWwgbWV0aG9kIGNhbGxlZCBhZnRlciB0aGUgdGlsZSBpcyB1bmxvYWRlZCBmcm9tIHRoZSBtYXAgdmlld3BvcnQuIFRoaXNcbiAqIGdpdmVzIHRoZSBzb3VyY2UgYSBjaGFuY2UgdG8gY2xlYW4gdXAgcmVzb3VyY2VzIGFuZCBldmVudCBsaXN0ZW5lcnMuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgQ3VzdG9tU291cmNlSW50ZXJmYWNlXG4gKiBAaW5zdGFuY2VcbiAqIEBuYW1lIHVubG9hZFRpbGVcbiAqIEBwYXJhbSB7eyB6OiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyIH19IHRpbGUgVGlsZSBuYW1lIHRvIHVubG9hZCBpbiB0aGUgWFlaIHNjaGVtZSBmb3JtYXQuXG4gKi9cblxuLyoqXG4gKiBPcHRpb25hbCBtZXRob2QgY2FsbGVkIGR1cmluZyBhIHJlbmRlciBmcmFtZSB0byBjaGVjayBpZiB0aGVyZSBpcyBhIHRpbGUgdG8gcmVuZGVyLlxuICpcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIEN1c3RvbVNvdXJjZUludGVyZmFjZVxuICogQGluc3RhbmNlXG4gKiBAbmFtZSBoYXNUaWxlXG4gKiBAcGFyYW0ge3sgejogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciB9fSB0aWxlIFRpbGUgbmFtZSB0byBwcmVwYXJlIGluIHRoZSBYWVogc2NoZW1lIGZvcm1hdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRpbGUgZXhpc3RzLCBvdGhlcndpc2UgZmFsc2UuXG4gKi9cblxuLyoqXG4gKiBDYWxsZWQgd2hlbiB0aGUgbWFwIHN0YXJ0cyBsb2FkaW5nIHRpbGUgZm9yIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBDdXN0b21Tb3VyY2VJbnRlcmZhY2VcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgbG9hZFRpbGVcbiAqIEBwYXJhbSB7eyB6OiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyIH19IHRpbGUgVGlsZSBuYW1lIHRvIGxvYWQgaW4gdGhlIFhZWiBzY2hlbWUgZm9ybWF0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucy5cbiAqIEBwYXJhbSB7QWJvcnRTaWduYWx9IG9wdGlvbnMuc2lnbmFsIEEgc2lnbmFsIG9iamVjdCB0aGF0IGNvbW11bmljYXRlcyB3aGVuIHRoZSBtYXAgY2FuY2VscyB0aGUgdGlsZSBsb2FkaW5nIHJlcXVlc3QuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxUZXh0dXJlSW1hZ2UgfCB1bmRlZmluZWQgfCBudWxsPn0gVGhlIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdGlsZSBpbWFnZSBkYXRhIGFzIGFuIGBIVE1MQ2FudmFzRWxlbWVudGAsIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWAuXG4gKiAgSWYgYGxvYWRUaWxlYCByZXNvbHZlcyB0byBgdW5kZWZpbmVkYCwgYSBtYXAgd2lsbCByZW5kZXIgYW4gb3ZlcnNjYWxlZCBwYXJlbnQgdGlsZSBpbiB0aGUgdGlsZeKAmXMgc3BhY2UuIElmIGBsb2FkVGlsZWAgcmVzb2x2ZXMgdG8gYG51bGxgLCBhIG1hcCB3aWxsIHJlbmRlciBub3RoaW5nIGluIHRoZSB0aWxl4oCZcyBzcGFjZS5cbiAqL1xuZXhwb3J0IHR5cGUgQ3VzdG9tU291cmNlSW50ZXJmYWNlPFQ+ID0ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgdHlwZTogJ2N1c3RvbScsXG4gICAgZGF0YVR5cGU6ID9EYXRhVHlwZSxcbiAgICBtaW56b29tOiA/bnVtYmVyLFxuICAgIG1heHpvb206ID9udW1iZXIsXG4gICAgc2NoZW1lOiA/c3RyaW5nO1xuICAgIHRpbGVTaXplOiA/bnVtYmVyLFxuICAgIGF0dHJpYnV0aW9uOiA/c3RyaW5nLFxuICAgIGJvdW5kczogP1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICAgIGhhc1RpbGU6ID8odGlsZUlEOiB7IHo6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIgfSkgPT4gYm9vbGVhbixcbiAgICBsb2FkVGlsZTogKHRpbGVJRDogeyB6OiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyIH0sIG9wdGlvbnM6IHsgc2lnbmFsOiBBYm9ydFNpZ25hbCB9KSA9PiBQcm9taXNlPD9UPixcbiAgICB1bmxvYWRUaWxlOiA/KHRpbGVJRDogeyB6OiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyIH0pID0+IHZvaWQsXG4gICAgb25BZGQ6ID8obWFwOiBNYXApID0+IHZvaWQsXG4gICAgb25SZW1vdmU6ID8obWFwOiBNYXApID0+IHZvaWQsXG59XG5cbmNsYXNzIEN1c3RvbVNvdXJjZTxUPiBleHRlbmRzIEV2ZW50ZWQgaW1wbGVtZW50cyBTb3VyY2Uge1xuXG4gICAgaWQ6IHN0cmluZztcbiAgICB0eXBlOiAnY3VzdG9tJztcbiAgICBzY2hlbWU6IHN0cmluZztcbiAgICBtaW56b29tOiBudW1iZXI7XG4gICAgbWF4em9vbTogbnVtYmVyO1xuICAgIHRpbGVTaXplOiBudW1iZXI7XG4gICAgYXR0cmlidXRpb246IHN0cmluZyB8IHZvaWQ7XG5cbiAgICByb3VuZFpvb206IGJvb2xlYW4gfCB2b2lkO1xuICAgIHRpbGVCb3VuZHM6ID9UaWxlQm91bmRzO1xuICAgIG1pblRpbGVDYWNoZVNpemU6ID9udW1iZXI7XG4gICAgbWF4VGlsZUNhY2hlU2l6ZTogP251bWJlcjtcblxuICAgIF9tYXA6IE1hcDtcbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9kaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICAgIF9kYXRhVHlwZTogP0RhdGFUeXBlO1xuICAgIF9pbXBsZW1lbnRhdGlvbjogQ3VzdG9tU291cmNlSW50ZXJmYWNlPFQ+O1xuXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgaW1wbGVtZW50YXRpb246IEN1c3RvbVNvdXJjZUludGVyZmFjZTxUPiwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMudHlwZSA9ICdjdXN0b20nO1xuICAgICAgICB0aGlzLl9kYXRhVHlwZSA9ICdyYXN0ZXInO1xuICAgICAgICB0aGlzLl9kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICAgICAgdGhpcy5faW1wbGVtZW50YXRpb24gPSBpbXBsZW1lbnRhdGlvbjtcbiAgICAgICAgdGhpcy5zZXRFdmVudGVkUGFyZW50KGV2ZW50ZWRQYXJlbnQpO1xuXG4gICAgICAgIHRoaXMuc2NoZW1lID0gJ3h5eic7XG4gICAgICAgIHRoaXMubWluem9vbSA9IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IDIyO1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyO1xuXG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJvdW5kWm9vbSA9IHRydWU7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pbXBsZW1lbnRhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgTWlzc2luZyBpbXBsZW1lbnRhdGlvbiBmb3IgJHt0aGlzLmlkfSBjdXN0b20gc291cmNlYCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5faW1wbGVtZW50YXRpb24ubG9hZFRpbGUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYE1pc3NpbmcgbG9hZFRpbGUgaW1wbGVtZW50YXRpb24gZm9yICR7dGhpcy5pZH0gY3VzdG9tIHNvdXJjZWApKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faW1wbGVtZW50YXRpb24uYm91bmRzKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVCb3VuZHMgPSBuZXcgVGlsZUJvdW5kcyh0aGlzLl9pbXBsZW1lbnRhdGlvbi5ib3VuZHMsIHRoaXMubWluem9vbSwgdGhpcy5tYXh6b29tKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIGltcGxlbWVudGF0aW9uLnVwZGF0ZSA9IHRoaXMuX3VwZGF0ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIGltcGxlbWVudGF0aW9uLmNsZWFyVGlsZXMgPSB0aGlzLl9jbGVhclRpbGVzLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgaW1wbGVtZW50YXRpb24uY292ZXJpbmdUaWxlcyA9IHRoaXMuX2NvdmVyaW5nVGlsZXMuYmluZCh0aGlzKTtcblxuICAgICAgICBleHRlbmQodGhpcywgcGljayhpbXBsZW1lbnRhdGlvbiwgWydkYXRhVHlwZScsICdzY2hlbWUnLCAnbWluem9vbScsICdtYXh6b29tJywgJ3RpbGVTaXplJywgJ2F0dHJpYnV0aW9uJywgJ21pblRpbGVDYWNoZVNpemUnLCAnbWF4VGlsZUNhY2hlU2l6ZSddKSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IFNvdXJjZSB7XG4gICAgICAgIHJldHVybiBwaWNrKHRoaXMsIFsndHlwZScsICdzY2hlbWUnLCAnbWluem9vbScsICdtYXh6b29tJywgJ3RpbGVTaXplJywgJ2F0dHJpYnV0aW9uJ10pO1xuICAgIH1cblxuICAgIGxvYWQoKSB7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnY29udGVudCd9KSk7XG4gICAgfVxuXG4gICAgbG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVkO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBvbkFkZChtYXA6IE1hcCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIGlmICh0aGlzLl9pbXBsZW1lbnRhdGlvbi5vbkFkZCkgdGhpcy5faW1wbGVtZW50YXRpb24ub25BZGQobWFwKTtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIG9uUmVtb3ZlKG1hcDogTWFwKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLl9pbXBsZW1lbnRhdGlvbi5vblJlbW92ZSkge1xuICAgICAgICAgICAgdGhpcy5faW1wbGVtZW50YXRpb24ub25SZW1vdmUobWFwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBoYXNUaWxlKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5faW1wbGVtZW50YXRpb24uaGFzVGlsZSkge1xuICAgICAgICAgICAgY29uc3Qge3gsIHksIHp9ID0gdGlsZUlELmNhbm9uaWNhbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbXBsZW1lbnRhdGlvbi5oYXNUaWxlKHt4LCB5LCB6fSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gIXRoaXMudGlsZUJvdW5kcyB8fCB0aGlzLnRpbGVCb3VuZHMuY29udGFpbnModGlsZUlELmNhbm9uaWNhbCk7XG4gICAgfVxuXG4gICAgbG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHt4LCB5LCB6fSA9IHRpbGUudGlsZUlELmNhbm9uaWNhbDtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyB3aW5kb3cuQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IGNvbnRyb2xsZXIuc2lnbmFsO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgICB0aWxlLnJlcXVlc3QgPSBQcm9taXNlXG4gICAgICAgICAgICAucmVzb2x2ZSh0aGlzLl9pbXBsZW1lbnRhdGlvbi5sb2FkVGlsZSh7eCwgeSwgen0sIHtzaWduYWx9KSlcbiAgICAgICAgICAgIC50aGVuKHRpbGVMb2FkZWQuYmluZCh0aGlzKSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgLy8gc2lsZW5jZSBBYm9ydEVycm9yXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IDIwKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICAgICAgdGlsZS5yZXF1ZXN0LmNhbmNlbCA9ICgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKTtcblxuICAgICAgICBmdW5jdGlvbiB0aWxlTG9hZGVkKGRhdGEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG5cbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBpbXBsZW1lbnRhdGlvbiByZXR1cm5lZCBgdW5kZWZpbmVkYCBhcyB0aWxlIGRhdGEsXG4gICAgICAgICAgICAvLyBtYXJrIHRoZSB0aWxlIGFzIGBlcnJvcmVkYCB0byBpbmRpY2F0ZSB0aGF0IHdlIGhhdmUgbm8gZGF0YSBmb3IgaXQuXG4gICAgICAgICAgICAvLyBBIG1hcCB3aWxsIHJlbmRlciBhbiBvdmVyc2NhbGVkIHBhcmVudCB0aWxlIGluIHRoZSB0aWxl4oCZcyBzcGFjZS5cbiAgICAgICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2Vycm9yZWQnO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhlIGltcGxlbWVudGF0aW9uIHJldHVybmVkIGBudWxsYCBhcyB0aWxlIGRhdGEsXG4gICAgICAgICAgICAvLyBtYXJrIHRoZSB0aWxlIGFzIGBsb2FkZWRgIGFuZCB1c2UgYW4gYW4gZW1wdHkgaW1hZ2UgYXMgdGlsZSBkYXRhLlxuICAgICAgICAgICAgLy8gQSBtYXAgd2lsbCByZW5kZXIgbm90aGluZyBpbiB0aGUgdGlsZeKAmXMgc3BhY2UuXG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVtcHR5SW1hZ2UgPSB7d2lkdGg6IHRoaXMudGlsZVNpemUsIGhlaWdodDogdGhpcy50aWxlU2l6ZSwgZGF0YTogbnVsbH07XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkVGlsZURhdGEodGlsZSwgKGVtcHR5SW1hZ2U6IGFueSkpO1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaXNSYXN0ZXIoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2Vycm9yZWQnO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoYENhbid0IGluZmVyIGRhdGEgdHlwZSBmb3IgJHt0aGlzLmlkfSwgb25seSByYXN0ZXIgZGF0YSBzdXBwb3J0ZWQgYXQgdGhlIG1vbWVudGApKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sb2FkVGlsZURhdGEodGlsZSwgZGF0YSk7XG4gICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRUaWxlRGF0YSh0aWxlOiBUaWxlLCBkYXRhOiBUKTogdm9pZCB7XG4gICAgICAgIC8vIE9ubHkgcmFzdGVyIGRhdGEgc3VwcG9ydGVkIGF0IHRoZSBtb21lbnRcbiAgICAgICAgUmFzdGVyVGlsZVNvdXJjZS5sb2FkVGlsZURhdGEodGlsZSwgKGRhdGE6IGFueSksIHRoaXMuX21hcC5wYWludGVyKTtcbiAgICB9XG5cbiAgICB1bmxvYWRUaWxlRGF0YSh0aWxlOiBUaWxlKTogdm9pZCB7XG4gICAgICAgIC8vIE9ubHkgcmFzdGVyIGRhdGEgc3VwcG9ydGVkIGF0IHRoZSBtb21lbnRcbiAgICAgICAgUmFzdGVyVGlsZVNvdXJjZS51bmxvYWRUaWxlRGF0YSh0aWxlLCB0aGlzLl9tYXAucGFpbnRlcik7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIHVubG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KTogdm9pZCB7XG4gICAgICAgIHRoaXMudW5sb2FkVGlsZURhdGEodGlsZSk7XG4gICAgICAgIGlmICh0aGlzLl9pbXBsZW1lbnRhdGlvbi51bmxvYWRUaWxlKSB7XG4gICAgICAgICAgICBjb25zdCB7eCwgeSwgen0gPSB0aWxlLnRpbGVJRC5jYW5vbmljYWw7XG4gICAgICAgICAgICB0aGlzLl9pbXBsZW1lbnRhdGlvbi51bmxvYWRUaWxlKHt4LCB5LCB6fSk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICBhYm9ydFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KTogdm9pZCB7XG4gICAgICAgIGlmICh0aWxlLnJlcXVlc3QgJiYgdGlsZS5yZXF1ZXN0LmNhbmNlbCkge1xuICAgICAgICAgICAgdGlsZS5yZXF1ZXN0LmNhbmNlbCgpO1xuICAgICAgICAgICAgZGVsZXRlIHRpbGUucmVxdWVzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9jb3ZlcmluZ1RpbGVzKCk6IHsgejogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciB9W10ge1xuICAgICAgICBjb25zdCB0aWxlSURzID0gdGhpcy5fbWFwLnRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHtcbiAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgbWluem9vbTogdGhpcy5taW56b29tLFxuICAgICAgICAgICAgbWF4em9vbTogdGhpcy5tYXh6b29tLFxuICAgICAgICAgICAgcm91bmRab29tOiB0aGlzLnJvdW5kWm9vbVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGlsZUlEcy5tYXAodGlsZUlEID0+ICh7eDogdGlsZUlELmNhbm9uaWNhbC54LCB5OiB0aWxlSUQuY2Fub25pY2FsLnksIHo6IHRpbGVJRC5jYW5vbmljYWwuen0pKTtcbiAgICB9XG5cbiAgICBfY2xlYXJUaWxlcygpIHtcbiAgICAgICAgdGhpcy5fbWFwLnN0eWxlLl9jbGVhclNvdXJjZSh0aGlzLmlkKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50J30pKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEN1c3RvbVNvdXJjZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4vc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgQ29sbGlzaW9uSW5kZXggZnJvbSAnLi4vc3ltYm9sL2NvbGxpc2lvbl9pbmRleC5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSB7UmV0YWluZWRRdWVyeURhdGF9IGZyb20gJy4uL3N5bWJvbC9wbGFjZW1lbnQuanMnO1xuaW1wb3J0IHR5cGUge0ZpbHRlclNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuaW1wb3J0IHR5cGUge1F1ZXJ5R2VvbWV0cnl9IGZyb20gJy4uL3N0eWxlL3F1ZXJ5X2dlb21ldHJ5LmpzJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7bWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcblxuaW1wb3J0IHR5cGUgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSB7UXVlcnlSZXN1bHR9IGZyb20gJy4uL2RhdGEvZmVhdHVyZV9pbmRleC5qcyc7XG5pbXBvcnQgdHlwZSB7UXVlcnlGZWF0dXJlfSBmcm9tICcuLi91dGlsL3ZlY3RvcnRpbGVfdG9fZ2VvanNvbi5qcyc7XG5cbmV4cG9ydCB0eXBlIFJlbmRlcmVkRmVhdHVyZUxheWVycyA9IEFycmF5PHtcbiAgICB3cmFwcGVkVGlsZUlEOiBudW1iZXI7XG4gICAgcXVlcnlSZXN1bHRzOiBRdWVyeVJlc3VsdFxufT47XG5cbi8qXG4gKiBSZXR1cm5zIGEgbWF0cml4IHRoYXQgY2FuIGJlIHVzZWQgdG8gY29udmVydCBmcm9tIHRpbGUgY29vcmRpbmF0ZXMgdG8gdmlld3BvcnQgcGl4ZWwgY29vcmRpbmF0ZXMuXG4gKi9cbmZ1bmN0aW9uIGdldFBpeGVsUG9zTWF0cml4KHRyYW5zZm9ybSwgdGlsZUlEKSB7XG4gICAgY29uc3QgdCA9IG1hdDQuaWRlbnRpdHkoW10pO1xuICAgIG1hdDQuc2NhbGUodCwgdCwgW3RyYW5zZm9ybS53aWR0aCAqIDAuNSwgLXRyYW5zZm9ybS5oZWlnaHQgKiAwLjUsIDFdKTtcbiAgICBtYXQ0LnRyYW5zbGF0ZSh0LCB0LCBbMSwgLTEsIDBdKTtcbiAgICBtYXQ0Lm11bHRpcGx5KHQsIHQsIHRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KHRpbGVJRC50b1Vud3JhcHBlZCgpKSk7XG4gICAgcmV0dXJuIEZsb2F0MzJBcnJheS5mcm9tKHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlSZW5kZXJlZEZlYXR1cmVzKHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZUxheWVyczoge1tfOiBzdHJpbmddOiBTdHlsZUxheWVyfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVkTGF5ZXJzOiB7W186IHN0cmluZ106IE9iamVjdH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlHZW9tZXRyeTogUXVlcnlHZW9tZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgZmlsdGVyOiBGaWx0ZXJTcGVjaWZpY2F0aW9uLCBsYXllcnM6IEFycmF5PHN0cmluZz4sIGF2YWlsYWJsZUltYWdlczogQXJyYXk8c3RyaW5nPiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTNEUXVlcnk6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzdWFsaXplUXVlcnlHZW9tZXRyeTogYm9vbGVhbiA9IGZhbHNlKTogUXVlcnlSZXN1bHQge1xuICAgIGNvbnN0IHRpbGVSZXN1bHRzID0gc291cmNlQ2FjaGUudGlsZXNJbihxdWVyeUdlb21ldHJ5LCB1c2UzRFF1ZXJ5LCB2aXN1YWxpemVRdWVyeUdlb21ldHJ5KTtcbiAgICB0aWxlUmVzdWx0cy5zb3J0KHNvcnRUaWxlc0luKTtcbiAgICBjb25zdCByZW5kZXJlZEZlYXR1cmVMYXllcnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHRpbGVSZXN1bHQgb2YgdGlsZVJlc3VsdHMpIHtcbiAgICAgICAgcmVuZGVyZWRGZWF0dXJlTGF5ZXJzLnB1c2goe1xuICAgICAgICAgICAgd3JhcHBlZFRpbGVJRDogdGlsZVJlc3VsdC50aWxlLnRpbGVJRC53cmFwcGVkKCkua2V5LFxuICAgICAgICAgICAgcXVlcnlSZXN1bHRzOiB0aWxlUmVzdWx0LnRpbGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKFxuICAgICAgICAgICAgICAgIHN0eWxlTGF5ZXJzLFxuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWRMYXllcnMsXG4gICAgICAgICAgICAgICAgc291cmNlQ2FjaGUuX3N0YXRlLFxuICAgICAgICAgICAgICAgIHRpbGVSZXN1bHQsXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICBnZXRQaXhlbFBvc01hdHJpeChzb3VyY2VDYWNoZS50cmFuc2Zvcm0sIHRpbGVSZXN1bHQudGlsZS50aWxlSUQpLFxuICAgICAgICAgICAgICAgIHZpc3VhbGl6ZVF1ZXJ5R2VvbWV0cnkpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IG1lcmdlUmVuZGVyZWRGZWF0dXJlTGF5ZXJzKHJlbmRlcmVkRmVhdHVyZUxheWVycyk7XG5cbiAgICAvLyBNZXJnZSBzdGF0ZSBmcm9tIFNvdXJjZUNhY2hlIGludG8gdGhlIHJlc3VsdHNcbiAgICBmb3IgKGNvbnN0IGxheWVySUQgaW4gcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdFtsYXllcklEXS5mb3JFYWNoKChmZWF0dXJlV3JhcHBlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZSA9IGZlYXR1cmVXcmFwcGVyLmZlYXR1cmU7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IGZlYXR1cmUubGF5ZXI7XG5cbiAgICAgICAgICAgIGlmICghbGF5ZXIgfHwgbGF5ZXIudHlwZSA9PT0gJ2JhY2tncm91bmQnIHx8IGxheWVyLnR5cGUgPT09ICdza3knKSByZXR1cm47XG5cbiAgICAgICAgICAgIGZlYXR1cmUuc291cmNlID0gbGF5ZXIuc291cmNlO1xuICAgICAgICAgICAgaWYgKGxheWVyWydzb3VyY2UtbGF5ZXInXSkge1xuICAgICAgICAgICAgICAgIGZlYXR1cmUuc291cmNlTGF5ZXIgPSBsYXllclsnc291cmNlLWxheWVyJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmZWF0dXJlLnN0YXRlID0gZmVhdHVyZS5pZCAhPT0gdW5kZWZpbmVkID8gc291cmNlQ2FjaGUuZ2V0RmVhdHVyZVN0YXRlKGxheWVyWydzb3VyY2UtbGF5ZXInXSwgZmVhdHVyZS5pZCkgOiB7fTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeVJlbmRlcmVkU3ltYm9scyhzdHlsZUxheWVyczoge1tfOiBzdHJpbmddOiBTdHlsZUxheWVyfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVkTGF5ZXJzOiB7W186IHN0cmluZ106IFN0eWxlTGF5ZXJ9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldExheWVyU291cmNlQ2FjaGU6IChsYXllcjogU3R5bGVMYXllcikgPT4gU291cmNlQ2FjaGUgfCB2b2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnk6IEFycmF5PFBvaW50PixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgZmlsdGVyOiBGaWx0ZXJTcGVjaWZpY2F0aW9uLCBsYXllcnM6IEFycmF5PHN0cmluZz4sIGF2YWlsYWJsZUltYWdlczogQXJyYXk8c3RyaW5nPiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkluZGV4OiBDb2xsaXNpb25JbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRhaW5lZFF1ZXJ5RGF0YToge1tfOiBudW1iZXJdOiBSZXRhaW5lZFF1ZXJ5RGF0YX0pOiBRdWVyeVJlc3VsdCB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgY29uc3QgcmVuZGVyZWRTeW1ib2xzID0gY29sbGlzaW9uSW5kZXgucXVlcnlSZW5kZXJlZFN5bWJvbHMocXVlcnlHZW9tZXRyeSk7XG4gICAgY29uc3QgYnVja2V0UXVlcnlEYXRhID0gW107XG4gICAgZm9yIChjb25zdCBidWNrZXRJbnN0YW5jZUlkIG9mIE9iamVjdC5rZXlzKHJlbmRlcmVkU3ltYm9scykubWFwKE51bWJlcikpIHtcbiAgICAgICAgYnVja2V0UXVlcnlEYXRhLnB1c2gocmV0YWluZWRRdWVyeURhdGFbYnVja2V0SW5zdGFuY2VJZF0pO1xuICAgIH1cbiAgICBidWNrZXRRdWVyeURhdGEuc29ydChzb3J0VGlsZXNJbik7XG5cbiAgICBmb3IgKGNvbnN0IHF1ZXJ5RGF0YSBvZiBidWNrZXRRdWVyeURhdGEpIHtcbiAgICAgICAgY29uc3QgYnVja2V0U3ltYm9scyA9IHF1ZXJ5RGF0YS5mZWF0dXJlSW5kZXgubG9va3VwU3ltYm9sRmVhdHVyZXMoXG4gICAgICAgICAgICAgICAgcmVuZGVyZWRTeW1ib2xzW3F1ZXJ5RGF0YS5idWNrZXRJbnN0YW5jZUlkXSxcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVkTGF5ZXJzLFxuICAgICAgICAgICAgICAgIHF1ZXJ5RGF0YS5idWNrZXRJbmRleCxcbiAgICAgICAgICAgICAgICBxdWVyeURhdGEuc291cmNlTGF5ZXJJbmRleCxcbiAgICAgICAgICAgICAgICBwYXJhbXMuZmlsdGVyLFxuICAgICAgICAgICAgICAgIHBhcmFtcy5sYXllcnMsXG4gICAgICAgICAgICAgICAgcGFyYW1zLmF2YWlsYWJsZUltYWdlcyxcbiAgICAgICAgICAgICAgICBzdHlsZUxheWVycyk7XG5cbiAgICAgICAgZm9yIChjb25zdCBsYXllcklEIGluIGJ1Y2tldFN5bWJvbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdEZlYXR1cmVzID0gcmVzdWx0W2xheWVySURdID0gcmVzdWx0W2xheWVySURdIHx8IFtdO1xuICAgICAgICAgICAgY29uc3QgbGF5ZXJTeW1ib2xzID0gYnVja2V0U3ltYm9sc1tsYXllcklEXTtcbiAgICAgICAgICAgIGxheWVyU3ltYm9scy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTWF0Y2ggdG9wRG93bkZlYXR1cmVDb21wYXJhdG9yIGZyb20gRmVhdHVyZUluZGV4LCBidXQgdXNpbmdcbiAgICAgICAgICAgICAgICAvLyBtb3N0IHJlY2VudCBzb3J0aW5nIG9mIGZlYXR1cmVzIGZyb20gYnVja2V0LnNvcnRGZWF0dXJlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVTb3J0T3JkZXIgPSBxdWVyeURhdGEuZmVhdHVyZVNvcnRPcmRlcjtcbiAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZVNvcnRPcmRlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBxdWVyeVJlbmRlcmVkU3ltYm9scyBkb2N1bWVudGF0aW9uIHNheXMgd2UnbGwgcmV0dXJuIGZlYXR1cmVzIGluXG4gICAgICAgICAgICAgICAgICAgIC8vIFwidG9wLXRvLWJvdHRvbVwiIHJlbmRlcmluZyBvcmRlciAoYWthIGxhc3QtdG8tZmlyc3QpLlxuICAgICAgICAgICAgICAgICAgICAvLyBBY3R1YWxseSB0aGVyZSBjYW4gYmUgbXVsdGlwbGUgc3ltYm9sIGluc3RhbmNlcyBwZXIgZmVhdHVyZSwgc29cbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugc29ydCBlYWNoIGZlYXR1cmUgYmFzZWQgb24gdGhlIGZpcnN0IG1hdGNoaW5nIHN5bWJvbCBpbnN0YW5jZS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkQSA9IGZlYXR1cmVTb3J0T3JkZXIuaW5kZXhPZihhLmZlYXR1cmVJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRlZEIgPSBmZWF0dXJlU29ydE9yZGVyLmluZGV4T2YoYi5mZWF0dXJlSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoc29ydGVkQSA+PSAwKTtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KHNvcnRlZEIgPj0gMCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3J0ZWRCIC0gc29ydGVkQTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBCdWNrZXQgaGFzbid0IGJlZW4gcmUtc29ydGVkIGJhc2VkIG9uIGFuZ2xlLCBzbyB1c2UgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldmVyc2Ugb2YgdGhlIG9yZGVyIHRoZSBmZWF0dXJlcyBhcHBlYXJlZCBpbiB0aGUgZGF0YS5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIuZmVhdHVyZUluZGV4IC0gYS5mZWF0dXJlSW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN5bWJvbEZlYXR1cmUgb2YgbGF5ZXJTeW1ib2xzKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0RmVhdHVyZXMucHVzaChzeW1ib2xGZWF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1lcmdlIHN0YXRlIGZyb20gU291cmNlQ2FjaGUgaW50byB0aGUgcmVzdWx0c1xuICAgIGZvciAoY29uc3QgbGF5ZXJOYW1lIGluIHJlc3VsdCkge1xuICAgICAgICByZXN1bHRbbGF5ZXJOYW1lXS5mb3JFYWNoKChmZWF0dXJlV3JhcHBlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZSA9IGZlYXR1cmVXcmFwcGVyLmZlYXR1cmU7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHN0eWxlTGF5ZXJzW2xheWVyTmFtZV07XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IGdldExheWVyU291cmNlQ2FjaGUobGF5ZXIpO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2VDYWNoZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHNvdXJjZUNhY2hlLmdldEZlYXR1cmVTdGF0ZShmZWF0dXJlLmxheWVyWydzb3VyY2UtbGF5ZXInXSwgZmVhdHVyZS5pZCk7XG4gICAgICAgICAgICBmZWF0dXJlLnNvdXJjZSA9IGZlYXR1cmUubGF5ZXIuc291cmNlO1xuICAgICAgICAgICAgaWYgKGZlYXR1cmUubGF5ZXJbJ3NvdXJjZS1sYXllciddKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZS5zb3VyY2VMYXllciA9IGZlYXR1cmUubGF5ZXJbJ3NvdXJjZS1sYXllciddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmVhdHVyZS5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBwYXJhbXM6IGFueSk6IEFycmF5PFF1ZXJ5RmVhdHVyZT4ge1xuICAgIGNvbnN0IHRpbGVzID0gc291cmNlQ2FjaGUuZ2V0UmVuZGVyYWJsZUlkcygpLm1hcCgoaWQpID0+IHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZUNhY2hlLmdldFRpbGVCeUlEKGlkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgY29uc3QgZGF0YVRpbGVzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0aWxlID0gdGlsZXNbaV07XG4gICAgICAgIGNvbnN0IGRhdGFJRCA9IHRpbGUudGlsZUlELmNhbm9uaWNhbC5rZXk7XG4gICAgICAgIGlmICghZGF0YVRpbGVzW2RhdGFJRF0pIHtcbiAgICAgICAgICAgIGRhdGFUaWxlc1tkYXRhSURdID0gdHJ1ZTtcbiAgICAgICAgICAgIHRpbGUucXVlcnlTb3VyY2VGZWF0dXJlcyhyZXN1bHQsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBzb3J0VGlsZXNJbihhLCBiKSB7XG4gICAgY29uc3QgaWRBID0gYS50aWxlSUQ7XG4gICAgY29uc3QgaWRCID0gYi50aWxlSUQ7XG4gICAgcmV0dXJuIChpZEEub3ZlcnNjYWxlZFogLSBpZEIub3ZlcnNjYWxlZFopIHx8IChpZEEuY2Fub25pY2FsLnkgLSBpZEIuY2Fub25pY2FsLnkpIHx8IChpZEEud3JhcCAtIGlkQi53cmFwKSB8fCAoaWRBLmNhbm9uaWNhbC54IC0gaWRCLmNhbm9uaWNhbC54KTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VSZW5kZXJlZEZlYXR1cmVMYXllcnModGlsZXM6IFJlbmRlcmVkRmVhdHVyZUxheWVycyk6IFF1ZXJ5UmVzdWx0IHtcbiAgICAvLyBNZXJnZSByZXN1bHRzIGZyb20gYWxsIHRpbGVzLCBidXQgaWYgdHdvIHRpbGVzIHNoYXJlIHRoZSBzYW1lXG4gICAgLy8gd3JhcHBlZCBJRCwgZG9uJ3QgZHVwbGljYXRlIGZlYXR1cmVzIGJldHdlZW4gdGhlIHR3byB0aWxlc1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGNvbnN0IHdyYXBwZWRJRExheWVyTWFwID0ge307XG4gICAgZm9yIChjb25zdCB0aWxlIG9mIHRpbGVzKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UmVzdWx0cyA9IHRpbGUucXVlcnlSZXN1bHRzO1xuICAgICAgICBjb25zdCB3cmFwcGVkSUQgPSB0aWxlLndyYXBwZWRUaWxlSUQ7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRJRExheWVycyA9IHdyYXBwZWRJRExheWVyTWFwW3dyYXBwZWRJRF0gPSB3cmFwcGVkSURMYXllck1hcFt3cmFwcGVkSURdIHx8IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGxheWVySUQgaW4gcXVlcnlSZXN1bHRzKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlRmVhdHVyZXMgPSBxdWVyeVJlc3VsdHNbbGF5ZXJJRF07XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkSURGZWF0dXJlcyA9IHdyYXBwZWRJRExheWVyc1tsYXllcklEXSA9IHdyYXBwZWRJRExheWVyc1tsYXllcklEXSB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdEZlYXR1cmVzID0gcmVzdWx0W2xheWVySURdID0gcmVzdWx0W2xheWVySURdIHx8IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0aWxlRmVhdHVyZSBvZiB0aWxlRmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXdyYXBwZWRJREZlYXR1cmVzW3RpbGVGZWF0dXJlLmZlYXR1cmVJbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZElERmVhdHVyZXNbdGlsZUZlYXR1cmUuZmVhdHVyZUluZGV4XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdEZlYXR1cmVzLnB1c2godGlsZUZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi93aW5kb3cuanMnO1xuaW1wb3J0IG1hcGJveGdsIGZyb20gJy4uLy4uL2luZGV4LmpzJztcblxuaW1wb3J0IHR5cGUge1dvcmtlckludGVyZmFjZX0gZnJvbSAnLi4vd2ViX3dvcmtlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpOiBXb3JrZXJJbnRlcmZhY2Uge1xuICAgIHJldHVybiAobWFwYm94Z2wud29ya2VyQ2xhc3MgIT0gbnVsbCkgPyBuZXcgbWFwYm94Z2wud29ya2VyQ2xhc3MoKSA6IChuZXcgd2luZG93LldvcmtlcihtYXBib3hnbC53b3JrZXJVcmwpOiBhbnkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBXZWJXb3JrZXIgZnJvbSAnLi93ZWJfd29ya2VyLmpzJztcbmltcG9ydCB0eXBlIHtXb3JrZXJJbnRlcmZhY2V9IGZyb20gJy4vd2ViX3dvcmtlci5qcyc7XG5cbmV4cG9ydCBjb25zdCBQUkVMT0FEX1BPT0xfSUQgPSAnbWFwYm94Z2xfcHJlbG9hZGVkX3dvcmtlcl9wb29sJztcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgd29ya2VyIHBvb2wuXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JrZXJQb29sIHtcbiAgICBzdGF0aWMgd29ya2VyQ291bnQ6IG51bWJlcjtcblxuICAgIGFjdGl2ZToge1tfOiBudW1iZXIgfCBzdHJpbmddOiBib29sZWFufTtcbiAgICB3b3JrZXJzOiBBcnJheTxXb3JrZXJJbnRlcmZhY2U+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0ge307XG4gICAgfVxuXG4gICAgYWNxdWlyZShtYXBJZDogbnVtYmVyIHwgc3RyaW5nKTogQXJyYXk8V29ya2VySW50ZXJmYWNlPiB7XG4gICAgICAgIGlmICghdGhpcy53b3JrZXJzKSB7XG4gICAgICAgICAgICAvLyBMYXppbHkgbG9vayB1cCB0aGUgdmFsdWUgb2YgbWFwYm94Z2wud29ya2VyQ291bnQgc28gdGhhdFxuICAgICAgICAgICAgLy8gY2xpZW50IGNvZGUgaGFzIGhhZCBhIGNoYW5jZSB0byBzZXQgaXQuXG4gICAgICAgICAgICB0aGlzLndvcmtlcnMgPSBbXTtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLndvcmtlcnMubGVuZ3RoIDwgV29ya2VyUG9vbC53b3JrZXJDb3VudCkge1xuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW52YWxpZC1jb25zdHJ1Y3Rvcl1cbiAgICAgICAgICAgICAgICB0aGlzLndvcmtlcnMucHVzaChuZXcgV2ViV29ya2VyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmVbbWFwSWRdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMud29ya2Vycy5zbGljZSgpO1xuICAgIH1cblxuICAgIHJlbGVhc2UobWFwSWQ6IG51bWJlciB8IHN0cmluZykge1xuICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVbbWFwSWRdO1xuICAgICAgICBpZiAodGhpcy5udW1BY3RpdmUoKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy53b3JrZXJzLmZvckVhY2goKHcpID0+IHtcbiAgICAgICAgICAgICAgICB3LnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLndvcmtlcnMgPSAobnVsbDogYW55KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzUHJlbG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLmFjdGl2ZVtQUkVMT0FEX1BPT0xfSURdO1xuICAgIH1cblxuICAgIG51bUFjdGl2ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5hY3RpdmUpLmxlbmd0aDtcbiAgICB9XG59XG5cbi8vIGV4dGVuc2l2ZSBiZW5jaG1hcmtpbmcgc2hvd2VkIDIgdG8gYmUgdGhlIGJlc3QgZGVmYXVsdCBmb3IgYm90aCBkZXNrdG9wIGFuZCBtb2JpbGUgZGV2aWNlcztcbi8vIHdlIGNhbid0IHJlbHkgb24gaGFyZHdhcmVDb25jdXJyZW5jeSBiZWNhdXNlIG9mIHdpbGQgaW5jb25zaXN0ZW5jeSBvZiByZXBvcnRlZCBudW1iZXJzIGJldHdlZW4gYnJvd3NlcnNcbldvcmtlclBvb2wud29ya2VyQ291bnQgPSAyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFdvcmtlclBvb2wsIHtQUkVMT0FEX1BPT0xfSUR9IGZyb20gJy4vd29ya2VyX3Bvb2wuanMnO1xuXG5sZXQgZ2xvYmFsV29ya2VyUG9vbDogP1dvcmtlclBvb2w7XG5cbi8qKlxuICogQ3JlYXRlcyAoaWYgbmVjZXNzYXJ5KSBhbmQgcmV0dXJucyB0aGUgc2luZ2xlLCBnbG9iYWwgV29ya2VyUG9vbCBpbnN0YW5jZVxuICogdG8gYmUgc2hhcmVkIGFjcm9zcyBlYWNoIE1hcFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0R2xvYmFsV29ya2VyUG9vbCAoKTogV29ya2VyUG9vbCB7XG4gICAgaWYgKCFnbG9iYWxXb3JrZXJQb29sKSB7XG4gICAgICAgIGdsb2JhbFdvcmtlclBvb2wgPSBuZXcgV29ya2VyUG9vbCgpO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsV29ya2VyUG9vbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXdhcm0oKSB7XG4gICAgY29uc3Qgd29ya2VyUG9vbCA9IGdldEdsb2JhbFdvcmtlclBvb2woKTtcbiAgICB3b3JrZXJQb29sLmFjcXVpcmUoUFJFTE9BRF9QT09MX0lEKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUHJld2FybWVkUmVzb3VyY2VzKCkge1xuICAgIGNvbnN0IHBvb2wgPSBnbG9iYWxXb3JrZXJQb29sO1xuICAgIGlmIChwb29sKSB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgcG9vbCBvbmx5IGlmIGFsbCBtYXBzIHRoYXQgcmVmZXJlbmNlZCB0aGUgcHJlbG9hZGVkIGdsb2JhbCB3b3JrZXIgcG9vbCBoYXZlIGJlZW4gcmVtb3ZlZC5cbiAgICAgICAgaWYgKHBvb2wuaXNQcmVsb2FkZWQoKSAmJiBwb29sLm51bUFjdGl2ZSgpID09PSAxKSB7XG4gICAgICAgICAgICBwb29sLnJlbGVhc2UoUFJFTE9BRF9QT09MX0lEKTtcbiAgICAgICAgICAgIGdsb2JhbFdvcmtlclBvb2wgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb3VsZCBub3QgY2xlYXIgV2ViV29ya2VycyBzaW5jZSB0aGVyZSBhcmUgYWN0aXZlIE1hcCBpbnN0YW5jZXMgdGhhdCBzdGlsbCByZWZlcmVuY2UgaXQuIFRoZSBwcmUtd2FybWVkIFdlYldvcmtlciBwb29sIGNhbiBvbmx5IGJlIGNsZWFyZWQgd2hlbiBhbGwgbWFwIGluc3RhbmNlcyBoYXZlIGJlZW4gcmVtb3ZlZCB3aXRoIG1hcC5yZW1vdmUoKScpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHJlZlByb3BlcnRpZXMgZnJvbSAnLi91dGlsL3JlZl9wcm9wZXJ0aWVzLmpzJztcblxuaW1wb3J0IHR5cGUge0xheWVyU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi90eXBlcy5qcyc7XG5cbmZ1bmN0aW9uIGRlcmVmKGxheWVyOiBMYXllclNwZWNpZmljYXRpb24sIHBhcmVudDogTGF5ZXJTcGVjaWZpY2F0aW9uKTogTGF5ZXJTcGVjaWZpY2F0aW9uIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgIGZvciAoY29uc3QgayBpbiBsYXllcikge1xuICAgICAgICBpZiAoayAhPT0gJ3JlZicpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrXSA9IGxheWVyW2tdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmUHJvcGVydGllcy5mb3JFYWNoKChrKSA9PiB7XG4gICAgICAgIGlmIChrIGluIHBhcmVudCkge1xuICAgICAgICAgICAgcmVzdWx0W2tdID0gKHBhcmVudDogYW55KVtrXTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuICgocmVzdWx0OiBhbnkpOiBMYXllclNwZWNpZmljYXRpb24pO1xufVxuXG4vKipcbiAqIEdpdmVuIGFuIGFycmF5IG9mIGxheWVycywgc29tZSBvZiB3aGljaCBtYXkgY29udGFpbiBgcmVmYCBwcm9wZXJ0aWVzXG4gKiB3aG9zZSB2YWx1ZSBpcyB0aGUgYGlkYCBvZiBhbm90aGVyIHByb3BlcnR5LCByZXR1cm4gYSBuZXcgYXJyYXkgd2hlcmVcbiAqIHN1Y2ggbGF5ZXJzIGhhdmUgYmVlbiBhdWdtZW50ZWQgd2l0aCB0aGUgJ3R5cGUnLCAnc291cmNlJywgZXRjLiBwcm9wZXJ0aWVzXG4gKiBmcm9tIHRoZSBwYXJlbnQgbGF5ZXIsIGFuZCB0aGUgYHJlZmAgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZC5cbiAqXG4gKiBUaGUgaW5wdXQgaXMgbm90IG1vZGlmaWVkLiBUaGUgb3V0cHV0IG1heSBjb250YWluIHJlZmVyZW5jZXMgdG8gcG9ydGlvbnNcbiAqIG9mIHRoZSBpbnB1dC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxMYXllcj59IGxheWVyc1xuICogQHJldHVybnMge0FycmF5PExheWVyPn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVyZWZMYXllcnMobGF5ZXJzOiBBcnJheTxMYXllclNwZWNpZmljYXRpb24+KTogQXJyYXk8TGF5ZXJTcGVjaWZpY2F0aW9uPiB7XG4gICAgbGF5ZXJzID0gbGF5ZXJzLnNsaWNlKCk7XG5cbiAgICBjb25zdCBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hcFtsYXllcnNbaV0uaWRdID0gbGF5ZXJzW2ldO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICgncmVmJyBpbiBsYXllcnNbaV0pIHtcbiAgICAgICAgICAgIGxheWVyc1tpXSA9IGRlcmVmKGxheWVyc1tpXSwgbWFwWyhsYXllcnNbaV06IGFueSkucmVmXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGF5ZXJzO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGlzRXF1YWwgZnJvbSAnLi91dGlsL2RlZXBfZXF1YWwuanMnO1xuXG5pbXBvcnQgdHlwZSB7U3R5bGVTcGVjaWZpY2F0aW9ufSBmcm9tICcuL3R5cGVzLmpzJztcblxudHlwZSBDb21tYW5kID0ge1xuICAgIGNvbW1hbmQ6IHN0cmluZztcbiAgICBhcmdzOiBBcnJheTxhbnk+O1xufTtcblxuZXhwb3J0IGNvbnN0IG9wZXJhdGlvbnM6IHtbXzogc3RyaW5nXTogc3RyaW5nfSA9IHtcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0U3R5bGUnLCBhcmdzOiBbc3R5bGVzaGVldF0gfVxuICAgICAqL1xuICAgIHNldFN0eWxlOiAnc2V0U3R5bGUnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdhZGRMYXllcicsIGFyZ3M6IFtsYXllciwgJ2JlZm9yZUxheWVySWQnXSB9XG4gICAgICovXG4gICAgYWRkTGF5ZXI6ICdhZGRMYXllcicsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3JlbW92ZUxheWVyJywgYXJnczogWydsYXllcklkJ10gfVxuICAgICAqL1xuICAgIHJlbW92ZUxheWVyOiAncmVtb3ZlTGF5ZXInLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRQYWludFByb3BlcnR5JywgYXJnczogWydsYXllcklkJywgJ3Byb3AnLCB2YWx1ZV0gfVxuICAgICAqL1xuICAgIHNldFBhaW50UHJvcGVydHk6ICdzZXRQYWludFByb3BlcnR5JyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0TGF5b3V0UHJvcGVydHknLCBhcmdzOiBbJ2xheWVySWQnLCAncHJvcCcsIHZhbHVlXSB9XG4gICAgICovXG4gICAgc2V0TGF5b3V0UHJvcGVydHk6ICdzZXRMYXlvdXRQcm9wZXJ0eScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEZpbHRlcicsIGFyZ3M6IFsnbGF5ZXJJZCcsIGZpbHRlcl0gfVxuICAgICAqL1xuICAgIHNldEZpbHRlcjogJ3NldEZpbHRlcicsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ2FkZFNvdXJjZScsIGFyZ3M6IFsnc291cmNlSWQnLCBzb3VyY2VdIH1cbiAgICAgKi9cbiAgICBhZGRTb3VyY2U6ICdhZGRTb3VyY2UnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdyZW1vdmVTb3VyY2UnLCBhcmdzOiBbJ3NvdXJjZUlkJ10gfVxuICAgICAqL1xuICAgIHJlbW92ZVNvdXJjZTogJ3JlbW92ZVNvdXJjZScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEdlb0pTT05Tb3VyY2VEYXRhJywgYXJnczogWydzb3VyY2VJZCcsIGRhdGFdIH1cbiAgICAgKi9cbiAgICBzZXRHZW9KU09OU291cmNlRGF0YTogJ3NldEdlb0pTT05Tb3VyY2VEYXRhJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0TGF5ZXJab29tUmFuZ2UnLCBhcmdzOiBbJ2xheWVySWQnLCAwLCAyMl0gfVxuICAgICAqL1xuICAgIHNldExheWVyWm9vbVJhbmdlOiAnc2V0TGF5ZXJab29tUmFuZ2UnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRMYXllclByb3BlcnR5JywgYXJnczogWydsYXllcklkJywgJ3Byb3AnLCB2YWx1ZV0gfVxuICAgICAqL1xuICAgIHNldExheWVyUHJvcGVydHk6ICdzZXRMYXllclByb3BlcnR5JyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0Q2VudGVyJywgYXJnczogW1tsb24sIGxhdF1dIH1cbiAgICAgKi9cbiAgICBzZXRDZW50ZXI6ICdzZXRDZW50ZXInLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRab29tJywgYXJnczogW3pvb21dIH1cbiAgICAgKi9cbiAgICBzZXRab29tOiAnc2V0Wm9vbScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEJlYXJpbmcnLCBhcmdzOiBbYmVhcmluZ10gfVxuICAgICAqL1xuICAgIHNldEJlYXJpbmc6ICdzZXRCZWFyaW5nJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0UGl0Y2gnLCBhcmdzOiBbcGl0Y2hdIH1cbiAgICAgKi9cbiAgICBzZXRQaXRjaDogJ3NldFBpdGNoJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0U3ByaXRlJywgYXJnczogWydzcHJpdGVVcmwnXSB9XG4gICAgICovXG4gICAgc2V0U3ByaXRlOiAnc2V0U3ByaXRlJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0R2x5cGhzJywgYXJnczogWydnbHlwaHNVcmwnXSB9XG4gICAgICovXG4gICAgc2V0R2x5cGhzOiAnc2V0R2x5cGhzJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0VHJhbnNpdGlvbicsIGFyZ3M6IFt0cmFuc2l0aW9uXSB9XG4gICAgICovXG4gICAgc2V0VHJhbnNpdGlvbjogJ3NldFRyYW5zaXRpb24nLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRMaWdodGluZycsIGFyZ3M6IFtsaWdodFByb3BlcnRpZXNdIH1cbiAgICAgKi9cbiAgICBzZXRMaWdodDogJ3NldExpZ2h0JyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0VGVycmFpbicsIGFyZ3M6IFt0ZXJyYWluUHJvcGVydGllc10gfVxuICAgICAqL1xuICAgIHNldFRlcnJhaW46ICdzZXRUZXJyYWluJyxcblxuICAgIC8qXG4gICAgICogIHsgY29tbWFuZDogJ3NldEZvZycsIGFyZ3M6IFtmb2dQcm9wZXJ0aWVzXSB9XG4gICAgICovXG4gICAgc2V0Rm9nOiAnc2V0Rm9nJyxcblxuICAgIC8qXG4gICAgICogIHsgY29tbWFuZDogJ3NldFByb2plY3Rpb24nLCBhcmdzOiBbcHJvamVjdGlvblByb3BlcnRpZXNdIH1cbiAgICAgKi9cbiAgICBzZXRQcm9qZWN0aW9uOiAnc2V0UHJvamVjdGlvbidcbn07XG5cbmZ1bmN0aW9uIGFkZFNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzKSB7XG4gICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5hZGRTb3VyY2UsIGFyZ3M6IFtzb3VyY2VJZCwgYWZ0ZXJbc291cmNlSWRdXX0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTb3VyY2Uoc291cmNlSWQsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCkge1xuICAgIGNvbW1hbmRzLnB1c2goe2NvbW1hbmQ6IG9wZXJhdGlvbnMucmVtb3ZlU291cmNlLCBhcmdzOiBbc291cmNlSWRdfSk7XG4gICAgc291cmNlc1JlbW92ZWRbc291cmNlSWRdID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU291cmNlKHNvdXJjZUlkLCBhZnRlciwgY29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKSB7XG4gICAgcmVtb3ZlU291cmNlKHNvdXJjZUlkLCBjb21tYW5kcywgc291cmNlc1JlbW92ZWQpO1xuICAgIGFkZFNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzKTtcbn1cblxuZnVuY3Rpb24gY2FuVXBkYXRlR2VvSlNPTihiZWZvcmUsIGFmdGVyLCBzb3VyY2VJZCkge1xuICAgIGxldCBwcm9wO1xuICAgIGZvciAocHJvcCBpbiBiZWZvcmVbc291cmNlSWRdKSB7XG4gICAgICAgIGlmICghYmVmb3JlW3NvdXJjZUlkXS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgIGlmIChwcm9wICE9PSAnZGF0YScgJiYgIWlzRXF1YWwoYmVmb3JlW3NvdXJjZUlkXVtwcm9wXSwgYWZ0ZXJbc291cmNlSWRdW3Byb3BdKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAocHJvcCBpbiBhZnRlcltzb3VyY2VJZF0pIHtcbiAgICAgICAgaWYgKCFhZnRlcltzb3VyY2VJZF0uaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAocHJvcCAhPT0gJ2RhdGEnICYmICFpc0VxdWFsKGJlZm9yZVtzb3VyY2VJZF1bcHJvcF0sIGFmdGVyW3NvdXJjZUlkXVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZGlmZlNvdXJjZXMoYmVmb3JlLCBhZnRlciwgY29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKSB7XG4gICAgYmVmb3JlID0gYmVmb3JlIHx8IHt9O1xuICAgIGFmdGVyID0gYWZ0ZXIgfHwge307XG5cbiAgICBsZXQgc291cmNlSWQ7XG5cbiAgICAvLyBsb29rIGZvciBzb3VyY2VzIHRvIHJlbW92ZVxuICAgIGZvciAoc291cmNlSWQgaW4gYmVmb3JlKSB7XG4gICAgICAgIGlmICghYmVmb3JlLmhhc093blByb3BlcnR5KHNvdXJjZUlkKSkgY29udGludWU7XG4gICAgICAgIGlmICghYWZ0ZXIuaGFzT3duUHJvcGVydHkoc291cmNlSWQpKSB7XG4gICAgICAgICAgICByZW1vdmVTb3VyY2Uoc291cmNlSWQsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciBzb3VyY2VzIHRvIGFkZC91cGRhdGVcbiAgICBmb3IgKHNvdXJjZUlkIGluIGFmdGVyKSB7XG4gICAgICAgIGlmICghYWZ0ZXIuaGFzT3duUHJvcGVydHkoc291cmNlSWQpKSBjb250aW51ZTtcbiAgICAgICAgY29uc3Qgc291cmNlID0gYWZ0ZXJbc291cmNlSWRdO1xuICAgICAgICBpZiAoIWJlZm9yZS5oYXNPd25Qcm9wZXJ0eShzb3VyY2VJZCkpIHtcbiAgICAgICAgICAgIGFkZFNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzKTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNFcXVhbChiZWZvcmVbc291cmNlSWRdLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICBpZiAoYmVmb3JlW3NvdXJjZUlkXS50eXBlID09PSAnZ2VvanNvbicgJiYgc291cmNlLnR5cGUgPT09ICdnZW9qc29uJyAmJiBjYW5VcGRhdGVHZW9KU09OKGJlZm9yZSwgYWZ0ZXIsIHNvdXJjZUlkKSkge1xuICAgICAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goe2NvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0R2VvSlNPTlNvdXJjZURhdGEsIGFyZ3M6IFtzb3VyY2VJZCwgc291cmNlLmRhdGFdfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vIHVwZGF0ZSBjb21tYW5kLCBtdXN0IHJlbW92ZSB0aGVuIGFkZFxuICAgICAgICAgICAgICAgIHVwZGF0ZVNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpZmZMYXllclByb3BlcnR5Q2hhbmdlcyhiZWZvcmUsIGFmdGVyLCBjb21tYW5kcywgbGF5ZXJJZCwga2xhc3MsIGNvbW1hbmQpIHtcbiAgICBiZWZvcmUgPSBiZWZvcmUgfHwge307XG4gICAgYWZ0ZXIgPSBhZnRlciB8fCB7fTtcblxuICAgIGxldCBwcm9wO1xuXG4gICAgZm9yIChwcm9wIGluIGJlZm9yZSkge1xuICAgICAgICBpZiAoIWJlZm9yZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmVbcHJvcF0sIGFmdGVyW3Byb3BdKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZCwgYXJnczogW2xheWVySWQsIHByb3AsIGFmdGVyW3Byb3BdLCBrbGFzc119KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHByb3AgaW4gYWZ0ZXIpIHtcbiAgICAgICAgaWYgKCFhZnRlci5oYXNPd25Qcm9wZXJ0eShwcm9wKSB8fCBiZWZvcmUuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlW3Byb3BdLCBhZnRlcltwcm9wXSkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goe2NvbW1hbmQsIGFyZ3M6IFtsYXllcklkLCBwcm9wLCBhZnRlcltwcm9wXSwga2xhc3NdfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBsdWNrSWQobGF5ZXIpIHtcbiAgICByZXR1cm4gbGF5ZXIuaWQ7XG59XG5mdW5jdGlvbiBpbmRleEJ5SWQoZ3JvdXAsIGxheWVyKSB7XG4gICAgZ3JvdXBbbGF5ZXIuaWRdID0gbGF5ZXI7XG4gICAgcmV0dXJuIGdyb3VwO1xufVxuXG5mdW5jdGlvbiBkaWZmTGF5ZXJzKGJlZm9yZSwgYWZ0ZXIsIGNvbW1hbmRzKSB7XG4gICAgYmVmb3JlID0gYmVmb3JlIHx8IFtdO1xuICAgIGFmdGVyID0gYWZ0ZXIgfHwgW107XG5cbiAgICAvLyBvcmRlciBvZiBsYXllcnMgYnkgaWRcbiAgICBjb25zdCBiZWZvcmVPcmRlciA9IGJlZm9yZS5tYXAocGx1Y2tJZCk7XG4gICAgY29uc3QgYWZ0ZXJPcmRlciA9IGFmdGVyLm1hcChwbHVja0lkKTtcblxuICAgIC8vIGluZGV4IG9mIGxheWVyIGJ5IGlkXG4gICAgY29uc3QgYmVmb3JlSW5kZXggPSBiZWZvcmUucmVkdWNlKGluZGV4QnlJZCwge30pO1xuICAgIGNvbnN0IGFmdGVySW5kZXggPSBhZnRlci5yZWR1Y2UoaW5kZXhCeUlkLCB7fSk7XG5cbiAgICAvLyB0cmFjayBvcmRlciBvZiBsYXllcnMgYXMgaWYgdGhleSBoYXZlIGJlZW4gbXV0YXRlZFxuICAgIGNvbnN0IHRyYWNrZXIgPSBiZWZvcmVPcmRlci5zbGljZSgpO1xuXG4gICAgLy8gbGF5ZXJzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIGRvIG5vdCBuZWVkIHRvIGJlIGRpZmZlZFxuICAgIGNvbnN0IGNsZWFuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIGxldCBpLCBkLCBsYXllcklkLCBiZWZvcmVMYXllciwgYWZ0ZXJMYXllciwgaW5zZXJ0QmVmb3JlTGF5ZXJJZCwgcHJvcDtcblxuICAgIC8vIHJlbW92ZSBsYXllcnNcbiAgICBmb3IgKGkgPSAwLCBkID0gMDsgaSA8IGJlZm9yZU9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxheWVySWQgPSBiZWZvcmVPcmRlcltpXTtcbiAgICAgICAgaWYgKCFhZnRlckluZGV4Lmhhc093blByb3BlcnR5KGxheWVySWQpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHtjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZUxheWVyLCBhcmdzOiBbbGF5ZXJJZF19KTtcbiAgICAgICAgICAgIHRyYWNrZXIuc3BsaWNlKHRyYWNrZXIuaW5kZXhPZihsYXllcklkLCBkKSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsaW1pdCB3aGVyZSBpbiB0cmFja2VyIHdlIG5lZWQgdG8gbG9vayBmb3IgYSBtYXRjaFxuICAgICAgICAgICAgZCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkL3Jlb3JkZXIgbGF5ZXJzXG4gICAgZm9yIChpID0gMCwgZCA9IDA7IGkgPCBhZnRlck9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIHdvcmsgYmFja3dhcmRzIGFzIGluc2VydCBpcyBiZWZvcmUgYW4gZXhpc3RpbmcgbGF5ZXJcbiAgICAgICAgbGF5ZXJJZCA9IGFmdGVyT3JkZXJbYWZ0ZXJPcmRlci5sZW5ndGggLSAxIC0gaV07XG5cbiAgICAgICAgaWYgKHRyYWNrZXJbdHJhY2tlci5sZW5ndGggLSAxIC0gaV0gPT09IGxheWVySWQpIGNvbnRpbnVlO1xuXG4gICAgICAgIGlmIChiZWZvcmVJbmRleC5oYXNPd25Qcm9wZXJ0eShsYXllcklkKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBsYXllciBiZWZvcmUgd2UgaW5zZXJ0IGF0IHRoZSBjb3JyZWN0IHBvc2l0aW9uXG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHtjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZUxheWVyLCBhcmdzOiBbbGF5ZXJJZF19KTtcbiAgICAgICAgICAgIHRyYWNrZXIuc3BsaWNlKHRyYWNrZXIubGFzdEluZGV4T2YobGF5ZXJJZCwgdHJhY2tlci5sZW5ndGggLSBkKSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsaW1pdCB3aGVyZSBpbiB0cmFja2VyIHdlIG5lZWQgdG8gbG9vayBmb3IgYSBtYXRjaFxuICAgICAgICAgICAgZCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGxheWVyIGF0IGNvcnJlY3QgcG9zaXRpb25cbiAgICAgICAgaW5zZXJ0QmVmb3JlTGF5ZXJJZCA9IHRyYWNrZXJbdHJhY2tlci5sZW5ndGggLSBpXTtcbiAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5hZGRMYXllciwgYXJnczogW2FmdGVySW5kZXhbbGF5ZXJJZF0sIGluc2VydEJlZm9yZUxheWVySWRdfSk7XG4gICAgICAgIHRyYWNrZXIuc3BsaWNlKHRyYWNrZXIubGVuZ3RoIC0gaSwgMCwgbGF5ZXJJZCk7XG4gICAgICAgIGNsZWFuW2xheWVySWRdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgbGF5ZXJzXG4gICAgZm9yIChpID0gMDsgaSA8IGFmdGVyT3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGF5ZXJJZCA9IGFmdGVyT3JkZXJbaV07XG4gICAgICAgIGJlZm9yZUxheWVyID0gYmVmb3JlSW5kZXhbbGF5ZXJJZF07XG4gICAgICAgIGFmdGVyTGF5ZXIgPSBhZnRlckluZGV4W2xheWVySWRdO1xuXG4gICAgICAgIC8vIG5vIG5lZWQgdG8gdXBkYXRlIGlmIHByZXZpb3VzbHkgYWRkZWQgKG5ldyBvciBtb3ZlZClcbiAgICAgICAgaWYgKGNsZWFuW2xheWVySWRdIHx8IGlzRXF1YWwoYmVmb3JlTGF5ZXIsIGFmdGVyTGF5ZXIpKSBjb250aW51ZTtcblxuICAgICAgICAvLyBJZiBzb3VyY2UsIHNvdXJjZS1sYXllciwgb3IgdHlwZSBoYXZlIGNoYW5nZXMsIHRoZW4gcmVtb3ZlIHRoZSBsYXllclxuICAgICAgICAvLyBhbmQgYWRkIGl0IGJhY2sgJ2Zyb20gc2NyYXRjaCcuXG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmVMYXllci5zb3VyY2UsIGFmdGVyTGF5ZXIuc291cmNlKSB8fCAhaXNFcXVhbChiZWZvcmVMYXllclsnc291cmNlLWxheWVyJ10sIGFmdGVyTGF5ZXJbJ3NvdXJjZS1sYXllciddKSB8fCAhaXNFcXVhbChiZWZvcmVMYXllci50eXBlLCBhZnRlckxheWVyLnR5cGUpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHtjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZUxheWVyLCBhcmdzOiBbbGF5ZXJJZF19KTtcbiAgICAgICAgICAgIC8vIHdlIGFkZCB0aGUgbGF5ZXIgYmFjayBhdCB0aGUgc2FtZSBwb3NpdGlvbiBpdCB3YXMgYWxyZWFkeSBpbiwgc29cbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byB1cGRhdGUgdGhlIGB0cmFja2VyYFxuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlTGF5ZXJJZCA9IHRyYWNrZXJbdHJhY2tlci5sYXN0SW5kZXhPZihsYXllcklkKSArIDFdO1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5hZGRMYXllciwgYXJnczogW2FmdGVyTGF5ZXIsIGluc2VydEJlZm9yZUxheWVySWRdfSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxheW91dCwgcGFpbnQsIGZpbHRlciwgbWluem9vbSwgbWF4em9vbVxuICAgICAgICBkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMoYmVmb3JlTGF5ZXIubGF5b3V0LCBhZnRlckxheWVyLmxheW91dCwgY29tbWFuZHMsIGxheWVySWQsIG51bGwsIG9wZXJhdGlvbnMuc2V0TGF5b3V0UHJvcGVydHkpO1xuICAgICAgICBkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMoYmVmb3JlTGF5ZXIucGFpbnQsIGFmdGVyTGF5ZXIucGFpbnQsIGNvbW1hbmRzLCBsYXllcklkLCBudWxsLCBvcGVyYXRpb25zLnNldFBhaW50UHJvcGVydHkpO1xuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlTGF5ZXIuZmlsdGVyLCBhZnRlckxheWVyLmZpbHRlcikpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goe2NvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0RmlsdGVyLCBhcmdzOiBbbGF5ZXJJZCwgYWZ0ZXJMYXllci5maWx0ZXJdfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZUxheWVyLm1pbnpvb20sIGFmdGVyTGF5ZXIubWluem9vbSkgfHwgIWlzRXF1YWwoYmVmb3JlTGF5ZXIubWF4em9vbSwgYWZ0ZXJMYXllci5tYXh6b29tKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRMYXllclpvb21SYW5nZSwgYXJnczogW2xheWVySWQsIGFmdGVyTGF5ZXIubWluem9vbSwgYWZ0ZXJMYXllci5tYXh6b29tXX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIGFsbCBvdGhlciBsYXllciBwcm9wcywgaW5jbHVkaW5nIHBhaW50LipcbiAgICAgICAgZm9yIChwcm9wIGluIGJlZm9yZUxheWVyKSB7XG4gICAgICAgICAgICBpZiAoIWJlZm9yZUxheWVyLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnbGF5b3V0JyB8fCBwcm9wID09PSAncGFpbnQnIHx8IHByb3AgPT09ICdmaWx0ZXInIHx8XG4gICAgICAgICAgICAgICAgcHJvcCA9PT0gJ21ldGFkYXRhJyB8fCBwcm9wID09PSAnbWluem9vbScgfHwgcHJvcCA9PT0gJ21heHpvb20nKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwcm9wLmluZGV4T2YoJ3BhaW50LicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzKGJlZm9yZUxheWVyW3Byb3BdLCBhZnRlckxheWVyW3Byb3BdLCBjb21tYW5kcywgbGF5ZXJJZCwgcHJvcC5zbGljZSg2KSwgb3BlcmF0aW9ucy5zZXRQYWludFByb3BlcnR5KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzRXF1YWwoYmVmb3JlTGF5ZXJbcHJvcF0sIGFmdGVyTGF5ZXJbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRMYXllclByb3BlcnR5LCBhcmdzOiBbbGF5ZXJJZCwgcHJvcCwgYWZ0ZXJMYXllcltwcm9wXV19KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHByb3AgaW4gYWZ0ZXJMYXllcikge1xuICAgICAgICAgICAgaWYgKCFhZnRlckxheWVyLmhhc093blByb3BlcnR5KHByb3ApIHx8IGJlZm9yZUxheWVyLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnbGF5b3V0JyB8fCBwcm9wID09PSAncGFpbnQnIHx8IHByb3AgPT09ICdmaWx0ZXInIHx8XG4gICAgICAgICAgICAgICAgcHJvcCA9PT0gJ21ldGFkYXRhJyB8fCBwcm9wID09PSAnbWluem9vbScgfHwgcHJvcCA9PT0gJ21heHpvb20nKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwcm9wLmluZGV4T2YoJ3BhaW50LicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzKGJlZm9yZUxheWVyW3Byb3BdLCBhZnRlckxheWVyW3Byb3BdLCBjb21tYW5kcywgbGF5ZXJJZCwgcHJvcC5zbGljZSg2KSwgb3BlcmF0aW9ucy5zZXRQYWludFByb3BlcnR5KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzRXF1YWwoYmVmb3JlTGF5ZXJbcHJvcF0sIGFmdGVyTGF5ZXJbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRMYXllclByb3BlcnR5LCBhcmdzOiBbbGF5ZXJJZCwgcHJvcCwgYWZ0ZXJMYXllcltwcm9wXV19KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBEaWZmIHR3byBzdHlsZXNoZWV0XG4gKlxuICogQ3JlYXRlcyBzZW1hbnRpY2x5IGF3YXJlIGRpZmZzIHRoYXQgY2FuIGVhc2lseSBiZSBhcHBsaWVkIGF0IHJ1bnRpbWUuXG4gKiBPcGVyYXRpb25zIHByb2R1Y2VkIGJ5IHRoZSBkaWZmIGNsb3NlbHkgcmVzZW1ibGUgdGhlIG1hcGJveC1nbC1qcyBBUEkuIEFueVxuICogZXJyb3IgY3JlYXRpbmcgdGhlIGRpZmYgd2lsbCBmYWxsIGJhY2sgdG8gdGhlICdzZXRTdHlsZScgb3BlcmF0aW9uLlxuICpcbiAqIEV4YW1wbGUgZGlmZjpcbiAqIFtcbiAqICAgICB7IGNvbW1hbmQ6ICdzZXRDb25zdGFudCcsIGFyZ3M6IFsnQHdhdGVyJywgJyMwMDAwRkYnXSB9LFxuICogICAgIHsgY29tbWFuZDogJ3NldFBhaW50UHJvcGVydHknLCBhcmdzOiBbJ2JhY2tncm91bmQnLCAnYmFja2dyb3VuZC1jb2xvcicsICdibGFjayddIH1cbiAqIF1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBbYmVmb3JlXSBzdHlsZXNoZWV0IHRvIGNvbXBhcmUgZnJvbVxuICogQHBhcmFtIHsqfSBhZnRlciBzdHlsZXNoZWV0IHRvIGNvbXBhcmUgdG9cbiAqIEByZXR1cm5zIEFycmF5IGxpc3Qgb2YgY2hhbmdlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkaWZmU3R5bGVzKGJlZm9yZTogU3R5bGVTcGVjaWZpY2F0aW9uLCBhZnRlcjogU3R5bGVTcGVjaWZpY2F0aW9uKTogQXJyYXk8Q29tbWFuZD4ge1xuICAgIGlmICghYmVmb3JlKSByZXR1cm4gW3tjb21tYW5kOiBvcGVyYXRpb25zLnNldFN0eWxlLCBhcmdzOiBbYWZ0ZXJdfV07XG5cbiAgICBsZXQgY29tbWFuZHMgPSBbXTtcblxuICAgIHRyeSB7XG4gICAgICAgIC8vIEhhbmRsZSBjaGFuZ2VzIHRvIHRvcC1sZXZlbCBwcm9wZXJ0aWVzXG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUudmVyc2lvbiwgYWZ0ZXIudmVyc2lvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBbe2NvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0U3R5bGUsIGFyZ3M6IFthZnRlcl19XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmNlbnRlciwgYWZ0ZXIuY2VudGVyKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRDZW50ZXIsIGFyZ3M6IFthZnRlci5jZW50ZXJdfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS56b29tLCBhZnRlci56b29tKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRab29tLCBhcmdzOiBbYWZ0ZXIuem9vbV19KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmJlYXJpbmcsIGFmdGVyLmJlYXJpbmcpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHtjb21tYW5kOiBvcGVyYXRpb25zLnNldEJlYXJpbmcsIGFyZ3M6IFthZnRlci5iZWFyaW5nXX0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUucGl0Y2gsIGFmdGVyLnBpdGNoKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRQaXRjaCwgYXJnczogW2FmdGVyLnBpdGNoXX0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUuc3ByaXRlLCBhZnRlci5zcHJpdGUpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHtjb21tYW5kOiBvcGVyYXRpb25zLnNldFNwcml0ZSwgYXJnczogW2FmdGVyLnNwcml0ZV19KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmdseXBocywgYWZ0ZXIuZ2x5cGhzKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRHbHlwaHMsIGFyZ3M6IFthZnRlci5nbHlwaHNdfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS50cmFuc2l0aW9uLCBhZnRlci50cmFuc2l0aW9uKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRUcmFuc2l0aW9uLCBhcmdzOiBbYWZ0ZXIudHJhbnNpdGlvbl19KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmxpZ2h0LCBhZnRlci5saWdodCkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goe2NvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0TGlnaHQsIGFyZ3M6IFthZnRlci5saWdodF19KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmZvZywgYWZ0ZXIuZm9nKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRGb2csIGFyZ3M6IFthZnRlci5mb2ddfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS5wcm9qZWN0aW9uLCBhZnRlci5wcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRQcm9qZWN0aW9uLCBhcmdzOiBbYWZ0ZXIucHJvamVjdGlvbl19KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBjaGFuZ2VzIHRvIGBzb3VyY2VzYFxuICAgICAgICAvLyBJZiBhIHNvdXJjZSBpcyB0byBiZSByZW1vdmVkLCB3ZSBhbHNvLS1iZWZvcmUgdGhlIHJlbW92ZVNvdXJjZVxuICAgICAgICAvLyBjb21tYW5kLS1uZWVkIHRvIHJlbW92ZSBhbGwgdGhlIHN0eWxlIGxheWVycyB0aGF0IGRlcGVuZCBvbiBpdC5cbiAgICAgICAgY29uc3Qgc291cmNlc1JlbW92ZWQgPSB7fTtcblxuICAgICAgICAvLyBGaXJzdCBjb2xsZWN0IHRoZSB7YWRkLHJlbW92ZX1Tb3VyY2UgY29tbWFuZHNcbiAgICAgICAgY29uc3QgcmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcyA9IFtdO1xuICAgICAgICBkaWZmU291cmNlcyhiZWZvcmUuc291cmNlcywgYWZ0ZXIuc291cmNlcywgcmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcywgc291cmNlc1JlbW92ZWQpO1xuXG4gICAgICAgIC8vIFB1c2ggYSByZW1vdmVMYXllciBjb21tYW5kIGZvciBlYWNoIHN0eWxlIGxheWVyIHRoYXQgZGVwZW5kcyBvbiBhXG4gICAgICAgIC8vIHNvdXJjZSB0aGF0J3MgYmVpbmcgcmVtb3ZlZC5cbiAgICAgICAgLy8gQWxzbywgZXhjbHVkZSBhbnkgc3VjaCBsYXllcnMgdGhlbSBmcm9tIHRoZSBpbnB1dCB0byBgZGlmZkxheWVyc2BcbiAgICAgICAgLy8gYmVsb3csIHNvIHRoYXQgZGlmZkxheWVycyBwcm9kdWNlcyB0aGUgYXBwcm9wcmlhdGUgYGFkZExheWVyc2BcbiAgICAgICAgLy8gY29tbWFuZFxuICAgICAgICBjb25zdCBiZWZvcmVMYXllcnMgPSBbXTtcbiAgICAgICAgaWYgKGJlZm9yZS5sYXllcnMpIHtcbiAgICAgICAgICAgIGJlZm9yZS5sYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuc291cmNlICYmIHNvdXJjZXNSZW1vdmVkW2xheWVyLnNvdXJjZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7Y29tbWFuZDogb3BlcmF0aW9ucy5yZW1vdmVMYXllciwgYXJnczogW2xheWVyLmlkXX0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZUxheWVycy5wdXNoKGxheWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgdGVycmFpbiBpZiB0aGUgc291cmNlIGZvciB0aGF0IHRlcnJhaW4gaXMgYmVpbmcgcmVtb3ZlZFxuICAgICAgICBsZXQgYmVmb3JlVGVycmFpbiA9IGJlZm9yZS50ZXJyYWluO1xuICAgICAgICBpZiAoYmVmb3JlVGVycmFpbikge1xuICAgICAgICAgICAgaWYgKHNvdXJjZXNSZW1vdmVkW2JlZm9yZVRlcnJhaW4uc291cmNlXSkge1xuICAgICAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goe2NvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0VGVycmFpbiwgYXJnczogW3VuZGVmaW5lZF19KTtcbiAgICAgICAgICAgICAgICBiZWZvcmVUZXJyYWluID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29tbWFuZHMgPSBjb21tYW5kcy5jb25jYXQocmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcyk7XG5cbiAgICAgICAgLy8gRXZlbiB0aG91Z2ggdGVycmFpbiBpcyBhIHRvcC1sZXZlbCBwcm9wZXJ0eVxuICAgICAgICAvLyBJdHMgbGlrZSBhIGxheWVyIGluIHRoZSBzZW5zZSB0aGF0IGl0IGRlcGVuZHMgb24gYSBzb3VyY2UgYmVpbmcgcHJlc2VudC5cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZVRlcnJhaW4sIGFmdGVyLnRlcnJhaW4pKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHtjb21tYW5kOiBvcGVyYXRpb25zLnNldFRlcnJhaW4sIGFyZ3M6IFthZnRlci50ZXJyYWluXX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIGNoYW5nZXMgdG8gYGxheWVyc2BcbiAgICAgICAgZGlmZkxheWVycyhiZWZvcmVMYXllcnMsIGFmdGVyLmxheWVycywgY29tbWFuZHMpO1xuXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBmYWxsIGJhY2sgdG8gc2V0U3R5bGVcbiAgICAgICAgY29uc29sZS53YXJuKCdVbmFibGUgdG8gY29tcHV0ZSBzdHlsZSBkaWZmOicsIGUpO1xuICAgICAgICBjb21tYW5kcyA9IFt7Y29tbWFuZDogb3BlcmF0aW9ucy5zZXRTdHlsZSwgYXJnczogW2FmdGVyXX1dO1xuICAgIH1cblxuICAgIHJldHVybiBjb21tYW5kcztcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7Y2xhbXB9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmNsYXNzIFBhdGhJbnRlcnBvbGF0b3Ige1xuICAgIHBvaW50czogQXJyYXk8UG9pbnQ+O1xuICAgIGxlbmd0aDogbnVtYmVyO1xuICAgIHBhZGRlZExlbmd0aDogbnVtYmVyO1xuICAgIHBhZGRpbmc6IG51bWJlcjtcbiAgICBfZGlzdGFuY2VzOiBBcnJheTxudW1iZXI+O1xuXG4gICAgY29uc3RydWN0b3IocG9pbnRzXzogP0FycmF5PFBvaW50PiwgcGFkZGluZ186ID9udW1iZXIpIHtcbiAgICAgICAgdGhpcy5yZXNldChwb2ludHNfLCBwYWRkaW5nXyk7XG4gICAgfVxuXG4gICAgcmVzZXQocG9pbnRzXzogP0FycmF5PFBvaW50PiwgcGFkZGluZ186ID9udW1iZXIpIHtcbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHNfIHx8IFtdO1xuXG4gICAgICAgIC8vIENvbXB1dGUgY3VtdWxhdGl2ZSBkaXN0YW5jZSBmcm9tIGZpcnN0IHBvaW50IHRvIGV2ZXJ5IG90aGVyIHBvaW50IGluIHRoZSBzZWdtZW50LlxuICAgICAgICAvLyBMYXN0IGVudHJ5IGluIHRoZSBhcnJheSBpcyB0b3RhbCBsZW5ndGggb2YgdGhlIHBhdGhcbiAgICAgICAgdGhpcy5fZGlzdGFuY2VzID0gWzAuMF07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fZGlzdGFuY2VzW2ldID0gdGhpcy5fZGlzdGFuY2VzW2kgLSAxXSArIHRoaXMucG9pbnRzW2ldLmRpc3QodGhpcy5wb2ludHNbaSAtIDFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5fZGlzdGFuY2VzW3RoaXMuX2Rpc3RhbmNlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5taW4ocGFkZGluZ18gfHwgMCwgdGhpcy5sZW5ndGggKiAwLjUpO1xuICAgICAgICB0aGlzLnBhZGRlZExlbmd0aCA9IHRoaXMubGVuZ3RoIC0gdGhpcy5wYWRkaW5nICogMi4wO1xuICAgIH1cblxuICAgIGxlcnAodDogbnVtYmVyKTogUG9pbnQge1xuICAgICAgICBhc3NlcnQodGhpcy5wb2ludHMubGVuZ3RoID4gMCk7XG4gICAgICAgIGlmICh0aGlzLnBvaW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvaW50c1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHQgPSBjbGFtcCh0LCAwLCAxKTtcblxuICAgICAgICAvLyBGaW5kIHRoZSBjb3JyZWN0IHNlZ21lbnQgW3AwLCBwMV0gd2hlcmUgcDAgPD0geCA8IHAxXG4gICAgICAgIGxldCBjdXJyZW50SW5kZXggPSAxO1xuICAgICAgICBsZXQgZGlzdE9mQ3VycmVudElkeCA9IHRoaXMuX2Rpc3RhbmNlc1tjdXJyZW50SW5kZXhdO1xuICAgICAgICBjb25zdCBkaXN0VG9UYXJnZXQgPSB0ICogdGhpcy5wYWRkZWRMZW5ndGggKyB0aGlzLnBhZGRpbmc7XG5cbiAgICAgICAgd2hpbGUgKGRpc3RPZkN1cnJlbnRJZHggPCBkaXN0VG9UYXJnZXQgJiYgY3VycmVudEluZGV4IDwgdGhpcy5fZGlzdGFuY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgZGlzdE9mQ3VycmVudElkeCA9IHRoaXMuX2Rpc3RhbmNlc1srK2N1cnJlbnRJbmRleF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnRlcnBvbGF0ZSBiZXR3ZWVuIHRoZSB0d28gcG9pbnRzIG9mIHRoZSBzZWdtZW50XG4gICAgICAgIGNvbnN0IGlkeE9mUHJldlBvaW50ID0gY3VycmVudEluZGV4IC0gMTtcbiAgICAgICAgY29uc3QgZGlzdE9mUHJldklkeCA9IHRoaXMuX2Rpc3RhbmNlc1tpZHhPZlByZXZQb2ludF07XG4gICAgICAgIGNvbnN0IHNlZ21lbnRMZW5ndGggPSBkaXN0T2ZDdXJyZW50SWR4IC0gZGlzdE9mUHJldklkeDtcbiAgICAgICAgY29uc3Qgc2VnbWVudFQgPSBzZWdtZW50TGVuZ3RoID4gMCA/IChkaXN0VG9UYXJnZXQgLSBkaXN0T2ZQcmV2SWR4KSAvIHNlZ21lbnRMZW5ndGggOiAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50c1tpZHhPZlByZXZQb2ludF0ubXVsdCgxLjAgLSBzZWdtZW50VCkuYWRkKHRoaXMucG9pbnRzW2N1cnJlbnRJbmRleF0ubXVsdChzZWdtZW50VCkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGF0aEludGVycG9sYXRvcjtcbiIsIi8vIEBmbG93XG5cbnR5cGUgR3JpZEl0ZW0gPSB7XG4gICAga2V5OiBhbnksXG4gICAgeDE6IG51bWJlcixcbiAgICB5MTogbnVtYmVyLFxuICAgIHgyOiBudW1iZXIsXG4gICAgeTI6IG51bWJlclxufTtcblxuLyoqXG4gKiBHcmlkSW5kZXggaXMgYSBkYXRhIHN0cnVjdHVyZSBmb3IgdGVzdGluZyB0aGUgaW50ZXJzZWN0aW9uIG9mXG4gKiBjaXJjbGVzIGFuZCByZWN0YW5nbGVzIGluIGEgMmQgcGxhbmUuXG4gKiBJdCBpcyBvcHRpbWl6ZWQgZm9yIHJhcGlkIGluc2VydGlvbiBhbmQgcXVlcnlpbmcuXG4gKiBHcmlkSW5kZXggc3BsaXRzIHRoZSBwbGFuZSBpbnRvIGEgc2V0IG9mIFwiY2VsbHNcIiBhbmQga2VlcHMgdHJhY2tcbiAqIG9mIHdoaWNoIGdlb21ldHJpZXMgaW50ZXJzZWN0IHdpdGggZWFjaCBjZWxsLiBBdCBxdWVyeSB0aW1lLFxuICogZnVsbCBnZW9tZXRyeSBjb21wYXJpc29ucyBhcmUgb25seSBkb25lIGZvciBpdGVtcyB0aGF0IHNoYXJlXG4gKiBhdCBsZWFzdCBvbmUgY2VsbC4gQXMgbG9uZyBhcyB0aGUgZ2VvbWV0cmllcyBhcmUgcmVsYXRpdmVseVxuICogdW5pZm9ybWx5IGRpc3RyaWJ1dGVkIGFjcm9zcyB0aGUgcGxhbmUsIHRoaXMgZ3JlYXRseSByZWR1Y2VzXG4gKiB0aGUgbnVtYmVyIG9mIGNvbXBhcmlzb25zIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBHcmlkSW5kZXgge1xuICAgIGNpcmNsZUtleXM6IEFycmF5PGFueT47XG4gICAgYm94S2V5czogQXJyYXk8YW55PjtcbiAgICBib3hDZWxsczogQXJyYXk8QXJyYXk8bnVtYmVyPj47XG4gICAgY2lyY2xlQ2VsbHM6IEFycmF5PEFycmF5PG51bWJlcj4+O1xuICAgIGJib3hlczogQXJyYXk8bnVtYmVyPjtcbiAgICBjaXJjbGVzOiBBcnJheTxudW1iZXI+O1xuICAgIHhDZWxsQ291bnQ6IG51bWJlcjtcbiAgICB5Q2VsbENvdW50OiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICB4U2NhbGU6IG51bWJlcjtcbiAgICB5U2NhbGU6IG51bWJlcjtcbiAgICBib3hVaWQ6IG51bWJlcjtcbiAgICBjaXJjbGVVaWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY2VsbFNpemU6IG51bWJlcikge1xuICAgICAgICBjb25zdCBib3hDZWxscyA9IHRoaXMuYm94Q2VsbHMgPSBbXTtcbiAgICAgICAgY29uc3QgY2lyY2xlQ2VsbHMgPSB0aGlzLmNpcmNsZUNlbGxzID0gW107XG5cbiAgICAgICAgLy8gTW9yZSBjZWxscyAtPiBmZXdlciBnZW9tZXRyaWVzIHRvIGNoZWNrIHBlciBjZWxsLCBidXQgaXRlbXMgdGVuZFxuICAgICAgICAvLyB0byBiZSBzcGxpdCBhY3Jvc3MgbW9yZSBjZWxscy5cbiAgICAgICAgLy8gU3dlZXQgc3BvdCBhbGxvd3MgbW9zdCBzbWFsbCBpdGVtcyB0byBmaXQgaW4gb25lIGNlbGxcbiAgICAgICAgdGhpcy54Q2VsbENvdW50ID0gTWF0aC5jZWlsKHdpZHRoIC8gY2VsbFNpemUpO1xuICAgICAgICB0aGlzLnlDZWxsQ291bnQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gY2VsbFNpemUpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy54Q2VsbENvdW50ICogdGhpcy55Q2VsbENvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGJveENlbGxzLnB1c2goW10pO1xuICAgICAgICAgICAgY2lyY2xlQ2VsbHMucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaXJjbGVLZXlzID0gW107XG4gICAgICAgIHRoaXMuYm94S2V5cyA9IFtdO1xuICAgICAgICB0aGlzLmJib3hlcyA9IFtdO1xuICAgICAgICB0aGlzLmNpcmNsZXMgPSBbXTtcblxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnhTY2FsZSA9IHRoaXMueENlbGxDb3VudCAvIHdpZHRoO1xuICAgICAgICB0aGlzLnlTY2FsZSA9IHRoaXMueUNlbGxDb3VudCAvIGhlaWdodDtcbiAgICAgICAgdGhpcy5ib3hVaWQgPSAwO1xuICAgICAgICB0aGlzLmNpcmNsZVVpZCA9IDA7XG4gICAgfVxuXG4gICAga2V5c0xlbmd0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3hLZXlzLmxlbmd0aCArIHRoaXMuY2lyY2xlS2V5cy5sZW5ndGg7XG4gICAgfVxuXG4gICAgaW5zZXJ0KGtleTogYW55LCB4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKSB7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fZm9yRWFjaENlbGwoeDEsIHkxLCB4MiwgeTIsIHRoaXMuX2luc2VydEJveENlbGwsIHRoaXMuYm94VWlkKyspO1xuICAgICAgICB0aGlzLmJveEtleXMucHVzaChrZXkpO1xuICAgICAgICB0aGlzLmJib3hlcy5wdXNoKHgxKTtcbiAgICAgICAgdGhpcy5iYm94ZXMucHVzaCh5MSk7XG4gICAgICAgIHRoaXMuYmJveGVzLnB1c2goeDIpO1xuICAgICAgICB0aGlzLmJib3hlcy5wdXNoKHkyKTtcbiAgICB9XG5cbiAgICBpbnNlcnRDaXJjbGUoa2V5OiBhbnksIHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlcikge1xuICAgICAgICAvLyBJbnNlcnQgY2lyY2xlIGludG8gZ3JpZCBmb3IgYWxsIGNlbGxzIGluIHRoZSBjaXJjdW1zY3JpYmluZyBzcXVhcmVcbiAgICAgICAgLy8gSXQncyBtb3JlIHRoYW4gbmVjZXNzYXJ5IChieSBhIGZhY3RvciBvZiA0L1BJKSwgYnV0IGZhc3QgdG8gaW5zZXJ0XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fZm9yRWFjaENlbGwoeCAtIHJhZGl1cywgeSAtIHJhZGl1cywgeCArIHJhZGl1cywgeSArIHJhZGl1cywgdGhpcy5faW5zZXJ0Q2lyY2xlQ2VsbCwgdGhpcy5jaXJjbGVVaWQrKyk7XG4gICAgICAgIHRoaXMuY2lyY2xlS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIHRoaXMuY2lyY2xlcy5wdXNoKHgpO1xuICAgICAgICB0aGlzLmNpcmNsZXMucHVzaCh5KTtcbiAgICAgICAgdGhpcy5jaXJjbGVzLnB1c2gocmFkaXVzKTtcbiAgICB9XG5cbiAgICBfaW5zZXJ0Qm94Q2VsbCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBjZWxsSW5kZXg6IG51bWJlciwgdWlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ib3hDZWxsc1tjZWxsSW5kZXhdLnB1c2godWlkKTtcbiAgICB9XG5cbiAgICBfaW5zZXJ0Q2lyY2xlQ2VsbCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBjZWxsSW5kZXg6IG51bWJlciwgdWlkOiBudW1iZXIpICB7XG4gICAgICAgIHRoaXMuY2lyY2xlQ2VsbHNbY2VsbEluZGV4XS5wdXNoKHVpZCk7XG4gICAgfVxuXG4gICAgX3F1ZXJ5KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGhpdFRlc3Q6IGJvb2xlYW4sIHByZWRpY2F0ZT86IGFueSk6IGJvb2xlYW4gfCBBcnJheTxHcmlkSXRlbT4ge1xuICAgICAgICBpZiAoeDIgPCAwIHx8IHgxID4gdGhpcy53aWR0aCB8fCB5MiA8IDAgfHwgeTEgPiB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyBmYWxzZSA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAoeDEgPD0gMCAmJiB5MSA8PSAwICYmIHRoaXMud2lkdGggPD0geDIgJiYgdGhpcy5oZWlnaHQgPD0geTIpIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBib3hVaWQgPSAwOyBib3hVaWQgPCB0aGlzLmJveEtleXMubGVuZ3RoOyBib3hVaWQrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiB0aGlzLmJveEtleXNbYm94VWlkXSxcbiAgICAgICAgICAgICAgICAgICAgeDE6IHRoaXMuYmJveGVzW2JveFVpZCAqIDRdLFxuICAgICAgICAgICAgICAgICAgICB5MTogdGhpcy5iYm94ZXNbYm94VWlkICogNCArIDFdLFxuICAgICAgICAgICAgICAgICAgICB4MjogdGhpcy5iYm94ZXNbYm94VWlkICogNCArIDJdLFxuICAgICAgICAgICAgICAgICAgICB5MjogdGhpcy5iYm94ZXNbYm94VWlkICogNCArIDNdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBjaXJjbGVVaWQgPSAwOyBjaXJjbGVVaWQgPCB0aGlzLmNpcmNsZUtleXMubGVuZ3RoOyBjaXJjbGVVaWQrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLmNpcmNsZXNbY2lyY2xlVWlkICogM107XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMuY2lyY2xlc1tjaXJjbGVVaWQgKiAzICsgMV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gdGhpcy5jaXJjbGVzW2NpcmNsZVVpZCAqIDMgKyAyXTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGtleTogdGhpcy5jaXJjbGVLZXlzW2NpcmNsZVVpZF0sXG4gICAgICAgICAgICAgICAgICAgIHgxOiB4IC0gcmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICB5MTogeSAtIHJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgeDI6IHggKyByYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgIHkyOiB5ICsgcmFkaXVzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJlZGljYXRlID8gcmVzdWx0LmZpbHRlcihwcmVkaWNhdGUpIDogcmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlBcmdzID0ge1xuICAgICAgICAgICAgICAgIGhpdFRlc3QsXG4gICAgICAgICAgICAgICAgc2VlblVpZHM6IHtib3g6IHt9LCBjaXJjbGU6IHt9fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHRoaXMuX2ZvckVhY2hDZWxsKHgxLCB5MSwgeDIsIHkyLCB0aGlzLl9xdWVyeUNlbGwsIHJlc3VsdCwgcXVlcnlBcmdzLCBwcmVkaWNhdGUpO1xuICAgICAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyByZXN1bHQubGVuZ3RoID4gMCA6IHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9xdWVyeUNpcmNsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIGhpdFRlc3Q6IGJvb2xlYW4sIHByZWRpY2F0ZT86IGFueSk6IGJvb2xlYW4gfCBBcnJheTxHcmlkSXRlbT4ge1xuICAgICAgICAvLyBJbnNlcnQgY2lyY2xlIGludG8gZ3JpZCBmb3IgYWxsIGNlbGxzIGluIHRoZSBjaXJjdW1zY3JpYmluZyBzcXVhcmVcbiAgICAgICAgLy8gSXQncyBtb3JlIHRoYW4gbmVjZXNzYXJ5IChieSBhIGZhY3RvciBvZiA0L1BJKSwgYnV0IGZhc3QgdG8gaW5zZXJ0XG4gICAgICAgIGNvbnN0IHgxID0geCAtIHJhZGl1cztcbiAgICAgICAgY29uc3QgeDIgPSB4ICsgcmFkaXVzO1xuICAgICAgICBjb25zdCB5MSA9IHkgLSByYWRpdXM7XG4gICAgICAgIGNvbnN0IHkyID0geSArIHJhZGl1cztcbiAgICAgICAgaWYgKHgyIDwgMCB8fCB4MSA+IHRoaXMud2lkdGggfHwgeTIgPCAwIHx8IHkxID4gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBoaXRUZXN0ID8gZmFsc2UgOiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJveCBxdWVyeSBlYXJseSBleGl0cyBpZiB0aGUgYm91bmRpbmcgYm94IGlzIGxhcmdlciB0aGFuIHRoZSBncmlkLCBidXQgd2UgZG9uJ3QgZG9cbiAgICAgICAgLy8gdGhlIGVxdWl2YWxlbnQgY2FsY3VsYXRpb24gZm9yIGNpcmNsZSBxdWVyaWVzIGJlY2F1c2UgZWFybHkgZXhpdCBpcyBsZXNzIGxpa2VseVxuICAgICAgICAvLyBhbmQgdGhlIGNhbGN1bGF0aW9uIGlzIG1vcmUgZXhwZW5zaXZlXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBjb25zdCBxdWVyeUFyZ3MgPSB7XG4gICAgICAgICAgICBoaXRUZXN0LFxuICAgICAgICAgICAgY2lyY2xlOiB7eCwgeSwgcmFkaXVzfSxcbiAgICAgICAgICAgIHNlZW5VaWRzOiB7Ym94OiB7fSwgY2lyY2xlOiB7fX1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9mb3JFYWNoQ2VsbCh4MSwgeTEsIHgyLCB5MiwgdGhpcy5fcXVlcnlDZWxsQ2lyY2xlLCByZXN1bHQsIHF1ZXJ5QXJncywgcHJlZGljYXRlKTtcbiAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyByZXN1bHQubGVuZ3RoID4gMCA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICBxdWVyeSh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBwcmVkaWNhdGU/OiBhbnkpOiBBcnJheTxHcmlkSXRlbT4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3F1ZXJ5KHgxLCB5MSwgeDIsIHkyLCBmYWxzZSwgcHJlZGljYXRlKTogYW55KTtcbiAgICB9XG5cbiAgICBoaXRUZXN0KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIHByZWRpY2F0ZT86IGFueSk6IGJvb2xlYW4gIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9xdWVyeSh4MSwgeTEsIHgyLCB5MiwgdHJ1ZSwgcHJlZGljYXRlKTogYW55KTtcbiAgICB9XG5cbiAgICBoaXRUZXN0Q2lyY2xlKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgcHJlZGljYXRlPzogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodGhpcy5fcXVlcnlDaXJjbGUoeCwgeSwgcmFkaXVzLCB0cnVlLCBwcmVkaWNhdGUpOiBhbnkpO1xuICAgIH1cblxuICAgIF9xdWVyeUNlbGwoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgY2VsbEluZGV4OiBudW1iZXIsIHJlc3VsdDogYW55LCBxdWVyeUFyZ3M6IGFueSwgcHJlZGljYXRlPzogYW55KTogdm9pZCB8IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBzZWVuVWlkcyA9IHF1ZXJ5QXJncy5zZWVuVWlkcztcbiAgICAgICAgY29uc3QgYm94Q2VsbCA9IHRoaXMuYm94Q2VsbHNbY2VsbEluZGV4XTtcbiAgICAgICAgaWYgKGJveENlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGJib3hlcyA9IHRoaXMuYmJveGVzO1xuICAgICAgICAgICAgZm9yIChjb25zdCBib3hVaWQgb2YgYm94Q2VsbCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VlblVpZHMuYm94W2JveFVpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VlblVpZHMuYm94W2JveFVpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBib3hVaWQgKiA0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHgxIDw9IGJib3hlc1tvZmZzZXQgKyAyXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh5MSA8PSBiYm94ZXNbb2Zmc2V0ICsgM10pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoeDIgPj0gYmJveGVzW29mZnNldCArIDBdKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHkyID49IGJib3hlc1tvZmZzZXQgKyAxXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZSh0aGlzLmJveEtleXNbYm94VWlkXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlcnlBcmdzLmhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuYm94S2V5c1tib3hVaWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MTogYmJveGVzW29mZnNldF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkxOiBiYm94ZXNbb2Zmc2V0ICsgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgyOiBiYm94ZXNbb2Zmc2V0ICsgMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkyOiBiYm94ZXNbb2Zmc2V0ICsgM11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaXJjbGVDZWxsID0gdGhpcy5jaXJjbGVDZWxsc1tjZWxsSW5kZXhdO1xuICAgICAgICBpZiAoY2lyY2xlQ2VsbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY2lyY2xlcyA9IHRoaXMuY2lyY2xlcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2lyY2xlVWlkIG9mIGNpcmNsZUNlbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlZW5VaWRzLmNpcmNsZVtjaXJjbGVVaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZW5VaWRzLmNpcmNsZVtjaXJjbGVVaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gY2lyY2xlVWlkICogMztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXQgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0ICsgMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB4MSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB5MikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZSh0aGlzLmNpcmNsZUtleXNbY2lyY2xlVWlkXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlcnlBcmdzLmhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IGNpcmNsZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gY2lyY2xlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYWRpdXMgPSBjaXJjbGVzW29mZnNldCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB0aGlzLmNpcmNsZUtleXNbY2lyY2xlVWlkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDE6IHggLSByYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkxOiB5IC0gcmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MjogeCArIHJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTI6IHkgKyByYWRpdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9xdWVyeUNlbGxDaXJjbGUoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgY2VsbEluZGV4OiBudW1iZXIsIHJlc3VsdDogYW55LCBxdWVyeUFyZ3M6IGFueSwgcHJlZGljYXRlPzogYW55KTogdm9pZCB8IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBxdWVyeUFyZ3MuY2lyY2xlO1xuICAgICAgICBjb25zdCBzZWVuVWlkcyA9IHF1ZXJ5QXJncy5zZWVuVWlkcztcbiAgICAgICAgY29uc3QgYm94Q2VsbCA9IHRoaXMuYm94Q2VsbHNbY2VsbEluZGV4XTtcbiAgICAgICAgaWYgKGJveENlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGJib3hlcyA9IHRoaXMuYmJveGVzO1xuICAgICAgICAgICAgZm9yIChjb25zdCBib3hVaWQgb2YgYm94Q2VsbCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VlblVpZHMuYm94W2JveFVpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VlblVpZHMuYm94W2JveFVpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBib3hVaWQgKiA0O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS55LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLnJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hlc1tvZmZzZXQgKyAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hlc1tvZmZzZXQgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hlc1tvZmZzZXQgKyAyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hlc1tvZmZzZXQgKyAzXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZSh0aGlzLmJveEtleXNbYm94VWlkXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2lyY2xlQ2VsbCA9IHRoaXMuY2lyY2xlQ2VsbHNbY2VsbEluZGV4XTtcbiAgICAgICAgaWYgKGNpcmNsZUNlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZXMgPSB0aGlzLmNpcmNsZXM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNpcmNsZVVpZCBvZiBjaXJjbGVDZWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWVuVWlkcy5jaXJjbGVbY2lyY2xlVWlkXSkge1xuICAgICAgICAgICAgICAgICAgICBzZWVuVWlkcy5jaXJjbGVbY2lyY2xlVWlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGNpcmNsZVVpZCAqIDM7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaXJjbGVzQ29sbGlkZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0ICsgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVzW29mZnNldCArIDJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLngsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS5yYWRpdXMpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUodGhpcy5jaXJjbGVLZXlzW2NpcmNsZVVpZF0pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9mb3JFYWNoQ2VsbCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBmbjogYW55LCBhcmcxOiBhbnksIGFyZzI/OiBhbnksIHByZWRpY2F0ZT86IGFueSkge1xuICAgICAgICBjb25zdCBjeDEgPSB0aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKHgxKTtcbiAgICAgICAgY29uc3QgY3kxID0gdGhpcy5fY29udmVydFRvWUNlbGxDb29yZCh5MSk7XG4gICAgICAgIGNvbnN0IGN4MiA9IHRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQoeDIpO1xuICAgICAgICBjb25zdCBjeTIgPSB0aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKHkyKTtcblxuICAgICAgICBmb3IgKGxldCB4ID0gY3gxOyB4IDw9IGN4MjsgeCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gY3kxOyB5IDw9IGN5MjsgeSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbEluZGV4ID0gdGhpcy54Q2VsbENvdW50ICogeSArIHg7XG4gICAgICAgICAgICAgICAgaWYgKGZuLmNhbGwodGhpcywgeDEsIHkxLCB4MiwgeTIsIGNlbGxJbmRleCwgYXJnMSwgYXJnMiwgcHJlZGljYXRlKSkgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NvbnZlcnRUb1hDZWxsQ29vcmQoeDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMueENlbGxDb3VudCAtIDEsIE1hdGguZmxvb3IoeCAqIHRoaXMueFNjYWxlKSkpO1xuICAgIH1cblxuICAgIF9jb252ZXJ0VG9ZQ2VsbENvb3JkKHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLnlDZWxsQ291bnQgLSAxLCBNYXRoLmZsb29yKHkgKiB0aGlzLnlTY2FsZSkpKTtcbiAgICB9XG5cbiAgICBfY2lyY2xlc0NvbGxpZGUoeDE6IG51bWJlciwgeTE6IG51bWJlciwgcjE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgcjI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBkeCA9IHgyIC0geDE7XG4gICAgICAgIGNvbnN0IGR5ID0geTIgLSB5MTtcbiAgICAgICAgY29uc3QgYm90aFJhZGlpID0gcjEgKyByMjtcbiAgICAgICAgcmV0dXJuIChib3RoUmFkaWkgKiBib3RoUmFkaWkpID4gKGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9XG5cbiAgICBfY2lyY2xlQW5kUmVjdENvbGxpZGUoY2lyY2xlWDogbnVtYmVyLCBjaXJjbGVZOiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCB4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGhhbGZSZWN0V2lkdGggPSAoeDIgLSB4MSkgLyAyO1xuICAgICAgICBjb25zdCBkaXN0WCA9IE1hdGguYWJzKGNpcmNsZVggLSAoeDEgKyBoYWxmUmVjdFdpZHRoKSk7XG4gICAgICAgIGlmIChkaXN0WCA+IChoYWxmUmVjdFdpZHRoICsgcmFkaXVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGFsZlJlY3RIZWlnaHQgPSAoeTIgLSB5MSkgLyAyO1xuICAgICAgICBjb25zdCBkaXN0WSA9IE1hdGguYWJzKGNpcmNsZVkgLSAoeTEgKyBoYWxmUmVjdEhlaWdodCkpO1xuICAgICAgICBpZiAoZGlzdFkgPiAoaGFsZlJlY3RIZWlnaHQgKyByYWRpdXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzdFggPD0gaGFsZlJlY3RXaWR0aCB8fCBkaXN0WSA8PSBoYWxmUmVjdEhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkeCA9IGRpc3RYIC0gaGFsZlJlY3RXaWR0aDtcbiAgICAgICAgY29uc3QgZHkgPSBkaXN0WSAtIGhhbGZSZWN0SGVpZ2h0O1xuICAgICAgICByZXR1cm4gKGR4ICogZHggKyBkeSAqIGR5IDw9IChyYWRpdXMgKiByYWRpdXMpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRJbmRleDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxuaW1wb3J0IHttYXQyLCBtYXQ0LCB2ZWMzLCB2ZWM0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0ICogYXMgc3ltYm9sU2l6ZSBmcm9tICcuL3N5bWJvbF9zaXplLmpzJztcbmltcG9ydCB7YWRkRHluYW1pY0F0dHJpYnV0ZXMsIHVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsfSBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0LmpzJztcbmltcG9ydCB0eXBlIFByb2plY3Rpb24gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vcHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3JlbmRlci9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0LmpzJztcbmltcG9ydCB0eXBlIHtcbiAgICBHbHlwaE9mZnNldEFycmF5LFxuICAgIFN5bWJvbExpbmVWZXJ0ZXhBcnJheSxcbiAgICBTeW1ib2xEeW5hbWljTGF5b3V0QXJyYXksXG4gICAgU3ltYm9sR2xvYmVFeHRBcnJheSxcbiAgICBQbGFjZWRTeW1ib2xcbn0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSB7TWF0NCwgVmVjMywgVmVjNH0gZnJvbSAnZ2wtbWF0cml4JztcblxuaW1wb3J0IHtXcml0aW5nTW9kZX0gZnJvbSAnLi4vc3ltYm9sL3NoYXBpbmcuanMnO1xuaW1wb3J0IHtDYW5vbmljYWxUaWxlSUQsIE92ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB7Y2FsY3VsYXRlR2xvYmVMYWJlbE1hdHJpeH0gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5leHBvcnQge3VwZGF0ZUxpbmVMYWJlbHMsIGhpZGVHbHlwaHMsIGdldExhYmVsUGxhbmVNYXRyaXhGb3JSZW5kZXJpbmcsIGdldExhYmVsUGxhbmVNYXRyaXhGb3JQbGFjZW1lbnQsIGdldEdsQ29vcmRNYXRyaXgsIHByb2plY3QsIHByb2plY3RDbGFtcGVkLCBnZXRQZXJzcGVjdGl2ZVJhdGlvLCBwbGFjZUZpcnN0QW5kTGFzdEdseXBoLCBwbGFjZUdseXBoQWxvbmdMaW5lLCB4eVRyYW5zZm9ybU1hdDR9O1xuXG50eXBlIFBsYWNlZEdseXBoID0ge3xcbiAgICBhbmdsZTogbnVtYmVyLFxuICAgIHBhdGg6IEFycmF5PFZlYzM+LFxuICAgIHBvaW50OiBWZWMzLFxuICAgIHRpbGVQYXRoOiBBcnJheTxQb2ludD4sXG4gICAgdXA6IFZlYzNcbnx9O1xudHlwZSBQcm9qZWN0aW9uQ2FjaGUgPSB7W186IG51bWJlcl06IFZlYzN9O1xuXG50eXBlIFBsYWNlbWVudFN0YXR1cyA9IHtcbiAgICBuZWVkc0ZsaXBwaW5nPzogYm9vbGVhbixcbiAgICBub3RFbm91Z2hSb29tPzogYm9vbGVhbixcbiAgICB1c2VWZXJ0aWNhbD86IGJvb2xlYW5cbn07XG5cbmNvbnN0IEZsaXBTdGF0ZSA9IHtcbiAgICB1bmtub3duOiAwLFxuICAgIGZsaXBSZXF1aXJlZDogMSxcbiAgICBmbGlwTm90UmVxdWlyZWQ6IDJcbn07XG5cbmNvbnN0IG1heFRhbmdlbnQgPSBNYXRoLnRhbig4NSAqIE1hdGguUEkgLyAxODApO1xuXG4vKlxuICogIyBPdmVydmlldyBvZiBjb29yZGluYXRlIHNwYWNlc1xuICpcbiAqICMjIFRpbGUgY29vcmRpbmF0ZSBzcGFjZXNcbiAqIEVhY2ggbGFiZWwgaGFzIGFuIGFuY2hvci4gU29tZSBsYWJlbHMgaGF2ZSBjb3JyZXNwb25kaW5nIGxpbmUgZ2VvbWV0cmllcy5cbiAqIFRoZSBwb2ludHMgZm9yIGJvdGggYW5jaG9ycyBhbmQgbGluZXMgYXJlIHN0b3JlZCBpbiB0aWxlIHVuaXRzLiBFYWNoIHRpbGUgaGFzIGl0J3Mgb3duXG4gKiBjb29yZGluYXRlIHNwYWNlIGdvaW5nIGZyb20gKDAsIDApIGF0IHRoZSB0b3AgbGVmdCB0byAoRVhURU5ULCBFWFRFTlQpIGF0IHRoZSBib3R0b20gcmlnaHQuXG4gKlxuICogIyMgR0wgY29vcmRpbmF0ZSBzcGFjZVxuICogQXQgdGhlIGVuZCBvZiBldmVyeXRoaW5nLCB0aGUgdmVydGV4IHNoYWRlciBuZWVkcyB0byBwcm9kdWNlIGEgcG9zaXRpb24gaW4gR0wgY29vcmRpbmF0ZSBzcGFjZSxcbiAqIHdoaWNoIGlzICgtMSwgMSkgYXQgdGhlIHRvcCBsZWZ0IGFuZCAoMSwgLTEpIGluIHRoZSBib3R0b20gcmlnaHQuXG4gKlxuICogIyMgTWFwIHBpeGVsIGNvb3JkaW5hdGUgc3BhY2VzXG4gKiBFYWNoIHRpbGUgaGFzIGEgcGl4ZWwgY29vcmRpbmF0ZSBzcGFjZS4gSXQncyBqdXN0IHRoZSB0aWxlIHVuaXRzIHNjYWxlZCBzbyB0aGF0IG9uZSB1bml0IGlzXG4gKiB3aGF0ZXZlciBjb3VudHMgYXMgMSBwaXhlbCBhdCB0aGUgY3VycmVudCB6b29tLlxuICogVGhpcyBzcGFjZSBpcyB1c2VkIGZvciBwaXRjaC1hbGlnbm1lbnQ9bWFwLCByb3RhdGlvbi1hbGlnbm1lbnQ9bWFwXG4gKlxuICogIyMgUm90YXRlZCBtYXAgcGl4ZWwgY29vcmRpbmF0ZSBzcGFjZXNcbiAqIExpa2UgdGhlIGFib3ZlLCBidXQgcm90YXRlZCBzbyBheGlzIG9mIHRoZSBzcGFjZSBhcmUgYWxpZ25lZCB3aXRoIHRoZSB2aWV3cG9ydCBpbnN0ZWFkIG9mIHRoZSB0aWxlLlxuICogVGhpcyBzcGFjZSBpcyB1c2VkIGZvciBwaXRjaC1hbGlnbm1lbnQ9bWFwLCByb3RhdGlvbi1hbGlnbm1lbnQ9dmlld3BvcnRcbiAqXG4gKiAjIyBWaWV3cG9ydCBwaXhlbCBjb29yZGluYXRlIHNwYWNlXG4gKiAoMCwgMCkgaXMgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBjYW52YXMgYW5kIChwaXhlbFdpZHRoLCBwaXhlbEhlaWdodCkgaXMgYXQgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAqIG9mIHRoZSBjYW52YXMuIFRoaXMgc3BhY2UgaXMgdXNlZCBmb3IgcGl0Y2gtYWxpZ25tZW50PXZpZXdwb3J0XG4gKlxuICpcbiAqICMgVmVydGV4IHByb2plY3Rpb25cbiAqIEl0IGdvZXMgcm91Z2hseSBsaWtlIHRoaXM6XG4gKiAxLiBwcm9qZWN0IHRoZSBhbmNob3IgYW5kIGxpbmUgZnJvbSB0aWxlIHVuaXRzIGludG8gdGhlIGNvcnJlY3QgbGFiZWwgY29vcmRpbmF0ZSBzcGFjZVxuICogICAgICAtIG1hcCBwaXhlbCBzcGFjZSAgICAgICAgICAgcGl0Y2gtYWxpZ25tZW50PW1hcCAgICAgICAgIHJvdGF0aW9uLWFsaWdubWVudD1tYXBcbiAqICAgICAgLSByb3RhdGVkIG1hcCBwaXhlbCBzcGFjZSAgIHBpdGNoLWFsaWdubWVudD1tYXAgICAgICAgICByb3RhdGlvbi1hbGlnbm1lbnQ9dmlld3BvcnRcbiAqICAgICAgLSB2aWV3cG9ydCBwaXhlbCBzcGFjZSAgICAgIHBpdGNoLWFsaWdubWVudD12aWV3cG9ydCAgICByb3RhdGlvbi1hbGlnbm1lbnQ9KlxuICogMi4gaWYgdGhlIGxhYmVsIGZvbGxvd3MgYSBsaW5lLCBmaW5kIHRoZSBwb2ludCBhbG9uZyB0aGUgbGluZSB0aGF0IGlzIHRoZSBjb3JyZWN0IGRpc3RhbmNlIGZyb20gdGhlIGFuY2hvci5cbiAqIDMuIGFkZCB0aGUgZ2x5cGgncyBjb3JuZXIgb2Zmc2V0IHRvIHRoZSBwb2ludCBmcm9tIHN0ZXAgM1xuICogNC4gY29udmVydCBmcm9tIHRoZSBsYWJlbCBjb29yZGluYXRlIHNwYWNlIHRvIGdsIGNvb3JkaW5hdGVzXG4gKlxuICogRm9yIGhvcml6b250YWwgbGFiZWxzIHdlIHdhbnQgdG8gZG8gc3RlcCAxIGluIHRoZSBzaGFkZXIgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKG5vIGNwdSB3b3JrKS5cbiAqICAgICAgVGhpcyBpcyB3aGF0IGB1X2xhYmVsX3BsYW5lX21hdHJpeGAgaXMgdXNlZCBmb3IuXG4gKiBGb3IgbGFiZWxzIGFsaWduZWQgd2l0aCBsaW5lcyB3ZSBoYXZlIHRvIHN0ZXBzIDEgYW5kIDIgb24gdGhlIGNwdSBzaW5jZSB3ZSBuZWVkIGFjY2VzcyB0byB0aGUgbGluZSBnZW9tZXRyeS5cbiAqICAgICAgVGhpcyBpcyB3aGF0IGB1cGRhdGVMaW5lTGFiZWxzKC4uLilgIGRvZXMuXG4gKiAgICAgIFNpbmNlIHRoZSBjb252ZXJzaW9uIGlzIGhhbmRsZWQgb24gdGhlIGNwdSB3ZSBqdXN0IHNldCBgdV9sYWJlbF9wbGFuZV9tYXRyaXhgIHRvIGFuIGlkZW50aXR5IG1hdHJpeC5cbiAqXG4gKiBTdGVwcyAzIGFuZCA0IGFyZSBkb25lIGluIHRoZSBzaGFkZXJzIGZvciBhbGwgbGFiZWxzLlxuICovXG5cbi8qXG4gKiBSZXR1cm5zIGEgbWF0cml4IGZvciBjb252ZXJ0aW5nIGZyb20gdGlsZSB1bml0cyB0byB0aGUgY29ycmVjdCBsYWJlbCBjb29yZGluYXRlIHNwYWNlLlxuICogVGhpcyB2YXJpYXRpb24gb2YgdGhlIGZ1bmN0aW9uIHJldHVybnMgYSBsYWJlbCBzcGFjZSBtYXRyaXggc3BlY2lhbGl6ZWQgZm9yIHJlbmRlcmluZy5cbiAqIEl0IHRyYW5zZm9ybXMgY29vcmRpbmF0ZXMgYXMtaXMgdG8gd2hhdGV2ZXIgdGhlIHRhcmdldCBzcGFjZSBpcyAoZWl0aGVyIDJEIG9yIDNEKS5cbiAqIFNlZSBhbHNvIGBnZXRMYWJlbFBsYW5lTWF0cml4Rm9yUGxhY2VtZW50YFxuICovXG5mdW5jdGlvbiBnZXRMYWJlbFBsYW5lTWF0cml4Rm9yUmVuZGVyaW5nKHBvc01hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlSUQ6IENhbm9uaWNhbFRpbGVJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbjogUHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlVW5pdHM6IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheSB7XG4gICAgY29uc3QgbSA9IG1hdDQuY3JlYXRlKCk7XG5cbiAgICBpZiAocGl0Y2hXaXRoTWFwKSB7XG4gICAgICAgIGlmIChwcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScpIHtcbiAgICAgICAgICAgIGNvbnN0IGxtID0gY2FsY3VsYXRlR2xvYmVMYWJlbE1hdHJpeCh0cmFuc2Zvcm0sIHRpbGVJRCk7XG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5KG0sIG0sIGxtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBtYXQyLmludmVydChbXSwgcGl4ZWxzVG9UaWxlVW5pdHMpO1xuICAgICAgICAgICAgbVswXSA9IHNbMF07XG4gICAgICAgICAgICBtWzFdID0gc1sxXTtcbiAgICAgICAgICAgIG1bNF0gPSBzWzJdO1xuICAgICAgICAgICAgbVs1XSA9IHNbM107XG4gICAgICAgICAgICBpZiAoIXJvdGF0ZVdpdGhNYXApIHtcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVoobSwgbSwgdHJhbnNmb3JtLmFuZ2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdDQubXVsdGlwbHkobSwgdHJhbnNmb3JtLmxhYmVsUGxhbmVNYXRyaXgsIHBvc01hdHJpeCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8qXG4gKiBSZXR1cm5zIGEgbWF0cml4IGZvciBjb252ZXJ0aW5nIGZyb20gdGlsZSB1bml0cyB0byB0aGUgY29ycmVjdCBsYWJlbCBjb29yZGluYXRlIHNwYWNlLlxuICogVGhpcyB2YXJpYXRpb24gb2YgdGhlIGZ1bmN0aW9uIHJldHVybnMgYSBtYXRyaXggc3BlY2lhbGl6ZWQgZm9yIHBsYWNlbWVudCBsb2dpYy5cbiAqIENvb3JkaW5hdGVzIHdpbGwgYmUgY2xhbXBlZCB0byB4JnkgMkQgcGxhbmUgd2hpY2ggaXMgdXNlZCB3aXRoIHZpZXdwb3J0IGFuZCBtYXAgYWxpZ25lZCBwbGFjZW1lbnRcbiAqIGxvZ2ljIGluIG1vc3QgY2FzZXMuIENlcnRhaW4gcHJvamVjdGlvbnMgc3VjaCBhcyBnbG9iZSB2aWV3IHdpbGwgdXNlIDNEIHNwYWNlIGZvciBtYXAgYWxpZ25lZFxuICogbGFiZWwgcGxhY2VtZW50LlxuICovXG5mdW5jdGlvbiBnZXRMYWJlbFBsYW5lTWF0cml4Rm9yUGxhY2VtZW50KHBvc01hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlSUQ6IENhbm9uaWNhbFRpbGVJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbjogUHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlVW5pdHM6IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheSB7XG4gICAgY29uc3QgbSA9IGdldExhYmVsUGxhbmVNYXRyaXhGb3JSZW5kZXJpbmcocG9zTWF0cml4LCB0aWxlSUQsIHBpdGNoV2l0aE1hcCwgcm90YXRlV2l0aE1hcCwgdHJhbnNmb3JtLCBwcm9qZWN0aW9uLCBwaXhlbHNUb1RpbGVVbml0cyk7XG5cbiAgICAvLyBTeW1ib2wgcGxhY2VtZW50IGxvZ2ljIGlzIHBlcmZvcm1lZCBpbiAyRCBpbiBtb3N0IHNjZW5hcmlvcy5cbiAgICAvLyBGb3IgdGhpcyByZWFzb24gcHJvamVjdCBhbGwgY29vcmRpbmF0ZXMgdG8gdGhlIHh5LXBsYW5lIGJ5IGRpc2NhcmRpbmcgdGhlIHotY29tcG9uZW50XG4gICAgaWYgKHByb2plY3Rpb24ubmFtZSAhPT0gJ2dsb2JlJyB8fCAhcGl0Y2hXaXRoTWFwKSB7XG4gICAgICAgIC8vIFByZS1tdWx0aXBseSBieSBzY2FsaW5nIHogdG8gMFxuICAgICAgICBtWzJdID0gbVs2XSA9IG1bMTBdID0gbVsxNF0gPSAwO1xuICAgIH1cblxuICAgIHJldHVybiBtO1xufVxuXG4vKlxuICogUmV0dXJucyBhIG1hdHJpeCBmb3IgY29udmVydGluZyBmcm9tIHRoZSBjb3JyZWN0IGxhYmVsIGNvb3JkaW5hdGUgc3BhY2UgdG8gZ2wgY29vcmRzLlxuICovXG5mdW5jdGlvbiBnZXRHbENvb3JkTWF0cml4KHBvc01hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlSUQ6IENhbm9uaWNhbFRpbGVJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbjogUHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlVW5pdHM6IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheSB7XG4gICAgaWYgKHBpdGNoV2l0aE1hcCkge1xuICAgICAgICBpZiAocHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICBjb25zdCBtID0gZ2V0TGFiZWxQbGFuZU1hdHJpeEZvclJlbmRlcmluZyhwb3NNYXRyaXgsIHRpbGVJRCwgcGl0Y2hXaXRoTWFwLCByb3RhdGVXaXRoTWFwLCB0cmFuc2Zvcm0sIHByb2plY3Rpb24sIHBpeGVsc1RvVGlsZVVuaXRzKTtcbiAgICAgICAgICAgIG1hdDQuaW52ZXJ0KG0sIG0pO1xuICAgICAgICAgICAgbWF0NC5tdWx0aXBseShtLCBwb3NNYXRyaXgsIG0pO1xuICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtID0gbWF0NC5jbG9uZShwb3NNYXRyaXgpO1xuICAgICAgICAgICAgY29uc3QgcyA9IG1hdDQuaWRlbnRpdHkoW10pO1xuICAgICAgICAgICAgc1swXSA9IHBpeGVsc1RvVGlsZVVuaXRzWzBdO1xuICAgICAgICAgICAgc1sxXSA9IHBpeGVsc1RvVGlsZVVuaXRzWzFdO1xuICAgICAgICAgICAgc1s0XSA9IHBpeGVsc1RvVGlsZVVuaXRzWzJdO1xuICAgICAgICAgICAgc1s1XSA9IHBpeGVsc1RvVGlsZVVuaXRzWzNdO1xuICAgICAgICAgICAgbWF0NC5tdWx0aXBseShtLCBtLCBzKTtcbiAgICAgICAgICAgIGlmICghcm90YXRlV2l0aE1hcCkge1xuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWihtLCBtLCAtdHJhbnNmb3JtLmFuZ2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybS5nbENvb3JkTWF0cml4O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcHJvamVjdCh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCBtYXRyaXg6IE1hdDQpOiBWZWM0IHtcbiAgICBjb25zdCBwb3MgPSBbeCwgeSwgeiwgMV07XG4gICAgaWYgKHopIHtcbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KHBvcywgcG9zLCBtYXRyaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHh5VHJhbnNmb3JtTWF0NChwb3MsIHBvcywgbWF0cml4KTtcbiAgICB9XG4gICAgY29uc3QgdyA9IHBvc1szXTtcbiAgICBwb3NbMF0gLz0gdztcbiAgICBwb3NbMV0gLz0gdztcbiAgICBwb3NbMl0gLz0gdztcbiAgICByZXR1cm4gcG9zO1xufVxuXG5mdW5jdGlvbiBwcm9qZWN0Q2xhbXBlZChbeCwgeSwgel06IFZlYzMsIG1hdHJpeDogTWF0NCk6IFZlYzQge1xuICAgIGNvbnN0IHBvcyA9IFt4LCB5LCB6LCAxXTtcbiAgICB2ZWM0LnRyYW5zZm9ybU1hdDQocG9zLCBwb3MsIG1hdHJpeCk7XG5cbiAgICAvLyBDbGFtcCBkaXN0YW5jZSB0byBhIHBvc2l0aXZlIHZhbHVlIHNvIHdlIGNhbiBhdm9pZCBzY3JlZW4gY29vcmRpbmF0ZVxuICAgIC8vIGJlaW5nIGZsaXBwZWQgcG9zc2libHkgZHVlIHRvIHBlcnNwZWN0aXZlIHByb2plY3Rpb25cbiAgICBjb25zdCB3ID0gcG9zWzNdID0gTWF0aC5tYXgocG9zWzNdLCAwLjAwMDAwMSk7XG4gICAgcG9zWzBdIC89IHc7XG4gICAgcG9zWzFdIC89IHc7XG4gICAgcG9zWzJdIC89IHc7XG4gICAgcmV0dXJuIHBvcztcbn1cblxuZnVuY3Rpb24gZ2V0UGVyc3BlY3RpdmVSYXRpbyhjYW1lcmFUb0NlbnRlckRpc3RhbmNlOiBudW1iZXIsIHNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5taW4oMC41ICsgMC41ICogKGNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgLyBzaWduZWREaXN0YW5jZUZyb21DYW1lcmEpLCAxLjUpO1xufVxuXG5mdW5jdGlvbiBpc1Zpc2libGUoYW5jaG9yUG9zOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICAgICAgICAgICAgICAgICBjbGlwcGluZ0J1ZmZlcjogW251bWJlciwgbnVtYmVyXSkge1xuICAgIGNvbnN0IHggPSBhbmNob3JQb3NbMF0gLyBhbmNob3JQb3NbM107XG4gICAgY29uc3QgeSA9IGFuY2hvclBvc1sxXSAvIGFuY2hvclBvc1szXTtcbiAgICBjb25zdCBpblBhZGRlZFZpZXdwb3J0ID0gKFxuICAgICAgICB4ID49IC1jbGlwcGluZ0J1ZmZlclswXSAmJlxuICAgICAgICB4IDw9IGNsaXBwaW5nQnVmZmVyWzBdICYmXG4gICAgICAgIHkgPj0gLWNsaXBwaW5nQnVmZmVyWzFdICYmXG4gICAgICAgIHkgPD0gY2xpcHBpbmdCdWZmZXJbMV0pO1xuICAgIHJldHVybiBpblBhZGRlZFZpZXdwb3J0O1xufVxuXG4vKlxuICogIFVwZGF0ZSB0aGUgYGR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXJgIGZvciB0aGUgYnVmZmVyIHdpdGggdGhlIGNvcnJlY3QgZ2x5cGggcG9zaXRpb25zIGZvciB0aGUgY3VycmVudCBtYXAgdmlldy5cbiAqICBUaGlzIGlzIG9ubHkgcnVuIG9uIGxhYmVscyB0aGF0IGFyZSBhbGlnbmVkIHdpdGggbGluZXMuIEhvcml6b250YWwgbGFiZWxzIGFyZSBoYW5kbGVkIGVudGlyZWx5IGluIHRoZSBzaGFkZXIuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUxpbmVMYWJlbHMoYnVja2V0OiBTeW1ib2xCdWNrZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvc01hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWludGVyOiBQYWludGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc1RleHQ6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsUGxhbmVNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xDb29yZE1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwaXRjaFdpdGhNYXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBVcHJpZ2h0OiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRFbGV2YXRpb246ID8oKHA6IFBvaW50KSA9PiBBcnJheTxudW1iZXI+KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG5cbiAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IHNpemVEYXRhID0gaXNUZXh0ID8gYnVja2V0LnRleHRTaXplRGF0YSA6IGJ1Y2tldC5pY29uU2l6ZURhdGE7XG4gICAgY29uc3QgcGFydGlhbGx5RXZhbHVhdGVkU2l6ZSA9IHN5bWJvbFNpemUuZXZhbHVhdGVTaXplRm9yWm9vbShzaXplRGF0YSwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSk7XG4gICAgY29uc3QgaXNHbG9iZSA9IHRyLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJztcblxuICAgIGNvbnN0IGNsaXBwaW5nQnVmZmVyID0gWzI1NiAvIHBhaW50ZXIud2lkdGggKiAyICsgMSwgMjU2IC8gcGFpbnRlci5oZWlnaHQgKiAyICsgMV07XG5cbiAgICBjb25zdCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkgPSBpc1RleHQgP1xuICAgICAgICBidWNrZXQudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXkgOlxuICAgICAgICBidWNrZXQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk7XG4gICAgZHluYW1pY0xheW91dFZlcnRleEFycmF5LmNsZWFyKCk7XG5cbiAgICBsZXQgZ2xvYmVFeHRWZXJ0ZXhBcnJheTogP1N5bWJvbEdsb2JlRXh0QXJyYXkgPSBudWxsO1xuICAgIGlmIChpc0dsb2JlKSB7XG4gICAgICAgIGdsb2JlRXh0VmVydGV4QXJyYXkgPSBpc1RleHQgP1xuICAgICAgICAgICAgYnVja2V0LnRleHQuZ2xvYmVFeHRWZXJ0ZXhBcnJheSA6XG4gICAgICAgICAgICBidWNrZXQuaWNvbi5nbG9iZUV4dFZlcnRleEFycmF5O1xuICAgIH1cblxuICAgIGNvbnN0IGxpbmVWZXJ0ZXhBcnJheSA9IGJ1Y2tldC5saW5lVmVydGV4QXJyYXk7XG4gICAgY29uc3QgcGxhY2VkU3ltYm9scyA9IGlzVGV4dCA/IGJ1Y2tldC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5IDogYnVja2V0Lmljb24ucGxhY2VkU3ltYm9sQXJyYXk7XG5cbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHBhaW50ZXIudHJhbnNmb3JtLndpZHRoIC8gcGFpbnRlci50cmFuc2Zvcm0uaGVpZ2h0O1xuXG4gICAgbGV0IHVzZVZlcnRpY2FsOiA/Ym9vbGVhbiA9IGZhbHNlO1xuICAgIGxldCBwcmV2V3JpdGluZ01vZGU7XG5cbiAgICBmb3IgKGxldCBzID0gMDsgcyA8IHBsYWNlZFN5bWJvbHMubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgY29uc3Qgc3ltYm9sID0gcGxhY2VkU3ltYm9scy5nZXQocyk7XG4gICAgICAgIGNvbnN0IHtudW1HbHlwaHMsIHdyaXRpbmdNb2RlfSA9IHN5bWJvbDtcblxuICAgICAgICAvLyBOb3JtYWxseSwgdGhlICdIb3Jpem9udGFsfFZlcnRpY2FsJyB3cml0aW5nIG1vZGUgaXMgZm9sbG93ZWQgYnkgYSAnVmVydGljYWwnIGNvdW50ZXJwYXJ0LCB0aGlzXG4gICAgICAgIC8vIGlzIG5vdCB0cnVlIGZvciAnVmVydGljYWwnIG9ubHkgbGluZSBsYWJlbHMuIEZvciB0aGlzIGNhc2UsIHdlJ2xsIGhhdmUgdG8gb3ZlcndyaXRlIHRoZSAndXNlVmVydGljYWwnXG4gICAgICAgIC8vIHN0YXR1cyBiZWZvcmUgZnVydGhlciBjaGVja3MuXG4gICAgICAgIGlmICh3cml0aW5nTW9kZSA9PT0gV3JpdGluZ01vZGUudmVydGljYWwgJiYgIXVzZVZlcnRpY2FsICYmIHByZXZXcml0aW5nTW9kZSAhPT0gV3JpdGluZ01vZGUuaG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgdXNlVmVydGljYWwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHByZXZXcml0aW5nTW9kZSA9IHdyaXRpbmdNb2RlO1xuXG4gICAgICAgIC8vIERvbid0IGRvIGNhbGN1bGF0aW9ucyBmb3IgdmVydGljYWwgZ2x5cGhzIHVubGVzcyB0aGUgcHJldmlvdXMgc3ltYm9sIHdhcyBob3Jpem9udGFsXG4gICAgICAgIC8vIGFuZCB3ZSBkZXRlcm1pbmVkIHRoYXQgdmVydGljYWwgZ2x5cGhzIHdlcmUgbmVjZXNzYXJ5LlxuICAgICAgICAvLyBBbHNvIGRvbid0IGRvIGNhbGN1bGF0aW9ucyBmb3Igc3ltYm9scyB0aGF0IGFyZSBjb2xsaWRlZCBhbmQgZnVsbHkgZmFkZWQgb3V0XG4gICAgICAgIGlmICgoc3ltYm9sLmhpZGRlbiB8fCB3cml0aW5nTW9kZSA9PT0gV3JpdGluZ01vZGUudmVydGljYWwpICYmICF1c2VWZXJ0aWNhbCkge1xuICAgICAgICAgICAgaGlkZUdseXBocyhudW1HbHlwaHMsIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBd2t3YXJkLi4uIGJ1dCB3ZSdyZSBjb3VudGluZyBvbiB0aGUgcGFpcmVkIFwidmVydGljYWxcIiBzeW1ib2wgY29taW5nIGltbWVkaWF0ZWx5IGFmdGVyIGl0cyBob3Jpem9udGFsIGNvdW50ZXJwYXJ0XG4gICAgICAgIHVzZVZlcnRpY2FsID0gZmFsc2U7XG5cbiAgICAgICAgLy8gUHJvamVjdCB0aWxlIGFuY2hvciB0byBnbG9iZSBhbmNob3JcbiAgICAgICAgY29uc3QgdGlsZUFuY2hvclBvaW50ID0gbmV3IFBvaW50KHN5bWJvbC50aWxlQW5jaG9yWCwgc3ltYm9sLnRpbGVBbmNob3JZKTtcbiAgICAgICAgbGV0IHt4LCB5LCB6fSA9IHRyLnByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludCh0aWxlQW5jaG9yUG9pbnQueCwgdGlsZUFuY2hvclBvaW50LnksIHRpbGVJRC5jYW5vbmljYWwpO1xuICAgICAgICBpZiAoZ2V0RWxldmF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBbZHgsIGR5LCBkel0gPSBnZXRFbGV2YXRpb24odGlsZUFuY2hvclBvaW50KTtcbiAgICAgICAgICAgIHggKz0gZHg7XG4gICAgICAgICAgICB5ICs9IGR5O1xuICAgICAgICAgICAgeiArPSBkejtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbmNob3JQb3MgPSBbeCwgeSwgeiwgMS4wXTtcbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KGFuY2hvclBvcywgYW5jaG9yUG9zLCBwb3NNYXRyaXgpO1xuXG4gICAgICAgIC8vIERvbid0IGJvdGhlciBjYWxjdWxhdGluZyB0aGUgY29ycmVjdCBwb2ludCBmb3IgaW52aXNpYmxlIGxhYmVscy5cbiAgICAgICAgaWYgKCFpc1Zpc2libGUoYW5jaG9yUG9zLCBjbGlwcGluZ0J1ZmZlcikpIHtcbiAgICAgICAgICAgIGhpZGVHbHlwaHMobnVtR2x5cGhzLCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FtZXJhVG9BbmNob3JEaXN0YW5jZSA9IGFuY2hvclBvc1szXTtcbiAgICAgICAgY29uc3QgcGVyc3BlY3RpdmVSYXRpbyA9IGdldFBlcnNwZWN0aXZlUmF0aW8ocGFpbnRlci50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSwgY2FtZXJhVG9BbmNob3JEaXN0YW5jZSk7XG5cbiAgICAgICAgY29uc3QgZm9udFNpemUgPSBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUoc2l6ZURhdGEsIHBhcnRpYWxseUV2YWx1YXRlZFNpemUsIHN5bWJvbCk7XG4gICAgICAgIGNvbnN0IHBpdGNoU2NhbGVkRm9udFNpemUgPSBwaXRjaFdpdGhNYXAgPyBmb250U2l6ZSAvIHBlcnNwZWN0aXZlUmF0aW8gOiBmb250U2l6ZSAqIHBlcnNwZWN0aXZlUmF0aW87XG5cbiAgICAgICAgY29uc3QgbGFiZWxQbGFuZUFuY2hvclBvaW50ID0gcHJvamVjdCh4LCB5LCB6LCBsYWJlbFBsYW5lTWF0cml4KTtcblxuICAgICAgICAvLyBTa2lwIGxhYmVscyBiZWhpbmQgdGhlIGNhbWVyYVxuICAgICAgICBpZiAobGFiZWxQbGFuZUFuY2hvclBvaW50WzNdIDw9IDAuMCkge1xuICAgICAgICAgICAgaGlkZUdseXBocyhudW1HbHlwaHMsIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwcm9qZWN0aW9uQ2FjaGU6IFByb2plY3Rpb25DYWNoZSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IGdldEVsZXZhdGlvbkZvclBsYWNlbWVudCA9IHBpdGNoV2l0aE1hcCA/IG51bGwgOiBnZXRFbGV2YXRpb247IC8vIFdoZW4gcGl0Y2hXaXRoTWFwLCB3ZSdyZSBwcm9qZWN0aW5nIHRvIHNjYWxlZCB0aWxlIGNvb3JkaW5hdGUgc3BhY2U6IHRoZXJlIGlzIG5vIG5lZWQgdG8gZ2V0IGVsZXZhdGlvbiBhcyBpdCBkb2Vzbid0IGFmZmVjdCBwcm9qZWN0aW9uLlxuICAgICAgICBjb25zdCBwbGFjZVVuZmxpcHBlZCA9IHBsYWNlR2x5cGhzQWxvbmdMaW5lKHN5bWJvbCwgcGl0Y2hTY2FsZWRGb250U2l6ZSwgZmFsc2UgLyp1bmZsaXBwZWQqLywga2VlcFVwcmlnaHQsIHBvc01hdHJpeCwgbGFiZWxQbGFuZU1hdHJpeCwgZ2xDb29yZE1hdHJpeCxcbiAgICAgICAgICAgIGJ1Y2tldC5nbHlwaE9mZnNldEFycmF5LCBsaW5lVmVydGV4QXJyYXksIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgZ2xvYmVFeHRWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZUFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHByb2plY3Rpb25DYWNoZSwgYXNwZWN0UmF0aW8sIGdldEVsZXZhdGlvbkZvclBsYWNlbWVudCwgdHIucHJvamVjdGlvbiwgdGlsZUlELCBwaXRjaFdpdGhNYXApO1xuXG4gICAgICAgIHVzZVZlcnRpY2FsID0gcGxhY2VVbmZsaXBwZWQudXNlVmVydGljYWw7XG5cbiAgICAgICAgaWYgKGdldEVsZXZhdGlvbkZvclBsYWNlbWVudCAmJiBwbGFjZVVuZmxpcHBlZC5uZWVkc0ZsaXBwaW5nKSBwcm9qZWN0aW9uQ2FjaGUgPSB7fTsgLy8gVHJ1bmNhdGVkIHBvaW50cyBzaG91bGQgYmUgcmVjYWxjdWxhdGVkLlxuICAgICAgICBpZiAocGxhY2VVbmZsaXBwZWQubm90RW5vdWdoUm9vbSB8fCB1c2VWZXJ0aWNhbCB8fFxuICAgICAgICAgICAgKHBsYWNlVW5mbGlwcGVkLm5lZWRzRmxpcHBpbmcgJiZcbiAgICAgICAgICAgICBwbGFjZUdseXBoc0Fsb25nTGluZShzeW1ib2wsIHBpdGNoU2NhbGVkRm9udFNpemUsIHRydWUgLypmbGlwcGVkKi8sIGtlZXBVcHJpZ2h0LCBwb3NNYXRyaXgsIGxhYmVsUGxhbmVNYXRyaXgsIGdsQ29vcmRNYXRyaXgsXG4gICAgICAgICAgICAgICAgIGJ1Y2tldC5nbHlwaE9mZnNldEFycmF5LCBsaW5lVmVydGV4QXJyYXksIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgZ2xvYmVFeHRWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZUFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHByb2plY3Rpb25DYWNoZSwgYXNwZWN0UmF0aW8sIGdldEVsZXZhdGlvbkZvclBsYWNlbWVudCwgdHIucHJvamVjdGlvbiwgdGlsZUlELCBwaXRjaFdpdGhNYXApLm5vdEVub3VnaFJvb20pKSB7XG4gICAgICAgICAgICBoaWRlR2x5cGhzKG51bUdseXBocywgZHluYW1pY0xheW91dFZlcnRleEFycmF5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1RleHQpIHtcbiAgICAgICAgYnVja2V0LnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgICAgIGlmIChnbG9iZUV4dFZlcnRleEFycmF5KSB7XG4gICAgICAgICAgICBidWNrZXQudGV4dC5nbG9iZUV4dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGdsb2JlRXh0VmVydGV4QXJyYXkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYnVja2V0Lmljb24uZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgICAgIGlmIChnbG9iZUV4dFZlcnRleEFycmF5KSB7XG4gICAgICAgICAgICBidWNrZXQuaWNvbi5nbG9iZUV4dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGdsb2JlRXh0VmVydGV4QXJyYXkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwbGFjZUZpcnN0QW5kTGFzdEdseXBoKFxuICAgIGZvbnRTY2FsZTogbnVtYmVyLFxuICAgIGdseXBoT2Zmc2V0QXJyYXk6IEdseXBoT2Zmc2V0QXJyYXksXG4gICAgbGluZU9mZnNldFg6IG51bWJlcixcbiAgICBsaW5lT2Zmc2V0WTogbnVtYmVyLFxuICAgIGZsaXA6IGJvb2xlYW4sXG4gICAgYW5jaG9yUG9pbnQ6IFZlYzMsXG4gICAgdGlsZUFuY2hvclBvaW50OiBQb2ludCxcbiAgICBzeW1ib2w6IFBsYWNlZFN5bWJvbCxcbiAgICBsaW5lVmVydGV4QXJyYXk6IFN5bWJvbExpbmVWZXJ0ZXhBcnJheSxcbiAgICBsYWJlbFBsYW5lTWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgcHJvamVjdGlvbkNhY2hlOiBQcm9qZWN0aW9uQ2FjaGUsXG4gICAgZ2V0RWxldmF0aW9uOiA/KChwOiBQb2ludCkgPT4gQXJyYXk8bnVtYmVyPiksXG4gICAgcmV0dXJuUGF0aEluVGlsZUNvb3JkczogP2Jvb2xlYW4sXG4gICAgcHJvamVjdGlvbjogUHJvamVjdGlvbixcbiAgICB0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsXG4gICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuKTogbnVsbCB8IHt8Zmlyc3Q6IFBsYWNlZEdseXBoLCBsYXN0OiBQbGFjZWRHbHlwaHx9IHtcblxuICAgIGNvbnN0IHtsaW5lU3RhcnRJbmRleCwgZ2x5cGhTdGFydEluZGV4LCBzZWdtZW50fSA9IHN5bWJvbDtcbiAgICBjb25zdCBnbHlwaEVuZEluZGV4ID0gZ2x5cGhTdGFydEluZGV4ICsgc3ltYm9sLm51bUdseXBocztcbiAgICBjb25zdCBsaW5lRW5kSW5kZXggPSBsaW5lU3RhcnRJbmRleCArIHN5bWJvbC5saW5lTGVuZ3RoO1xuXG4gICAgY29uc3QgZmlyc3RHbHlwaE9mZnNldCA9IGdseXBoT2Zmc2V0QXJyYXkuZ2V0b2Zmc2V0WChnbHlwaFN0YXJ0SW5kZXgpO1xuICAgIGNvbnN0IGxhc3RHbHlwaE9mZnNldCA9IGdseXBoT2Zmc2V0QXJyYXkuZ2V0b2Zmc2V0WChnbHlwaEVuZEluZGV4IC0gMSk7XG5cbiAgICBjb25zdCBmaXJzdFBsYWNlZEdseXBoID0gcGxhY2VHbHlwaEFsb25nTGluZShmb250U2NhbGUgKiBmaXJzdEdseXBoT2Zmc2V0LCBsaW5lT2Zmc2V0WCwgbGluZU9mZnNldFksIGZsaXAsIGFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHNlZ21lbnQsXG4gICAgICAgIGxpbmVTdGFydEluZGV4LCBsaW5lRW5kSW5kZXgsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCBnZXRFbGV2YXRpb24sIHJldHVyblBhdGhJblRpbGVDb29yZHMsIHRydWUsIHByb2plY3Rpb24sIHRpbGVJRCwgcGl0Y2hXaXRoTWFwKTtcbiAgICBpZiAoIWZpcnN0UGxhY2VkR2x5cGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgbGFzdFBsYWNlZEdseXBoID0gcGxhY2VHbHlwaEFsb25nTGluZShmb250U2NhbGUgKiBsYXN0R2x5cGhPZmZzZXQsIGxpbmVPZmZzZXRYLCBsaW5lT2Zmc2V0WSwgZmxpcCwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgc2VnbWVudCxcbiAgICAgICAgbGluZVN0YXJ0SW5kZXgsIGxpbmVFbmRJbmRleCwgbGluZVZlcnRleEFycmF5LCBsYWJlbFBsYW5lTWF0cml4LCBwcm9qZWN0aW9uQ2FjaGUsIGdldEVsZXZhdGlvbiwgcmV0dXJuUGF0aEluVGlsZUNvb3JkcywgdHJ1ZSwgcHJvamVjdGlvbiwgdGlsZUlELCBwaXRjaFdpdGhNYXApO1xuICAgIGlmICghbGFzdFBsYWNlZEdseXBoKVxuICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB7Zmlyc3Q6IGZpcnN0UGxhY2VkR2x5cGgsIGxhc3Q6IGxhc3RQbGFjZWRHbHlwaH07XG59XG5cbi8vIENoZWNrIGluIHRoZSBnbENvb3JkaW5hdGUgc3BhY2UsIHRoZSByb3VnaCBlc3RpbWF0aW9uIG9mIGFuZ2xlIGJldHdlZW4gdGhlIHRleHQgbGluZSBhbmQgdGhlIFkgYXhpcy5cbi8vIElmIHRoZSBhbmdsZSBpZiBsZXNzIG9yIGVxdWFsIHRvIDUgZGVncmVlLCB0aGVuIGtlZXAgdGhlIHRleHQgZ2x5cGhzIHVuZmxpcHBlZCBldmVuIGlmIGl0IGlzIHJlcXVpcmVkLlxuZnVuY3Rpb24gaXNJbkZsaXBSZXRhaW5SYW5nZShkeCwgZHkpIHtcbiAgICByZXR1cm4gZHggPT09IDAgfHwgTWF0aC5hYnMoZHkgLyBkeCkgPiBtYXhUYW5nZW50O1xufVxuXG5mdW5jdGlvbiByZXF1aXJlc09yaWVudGF0aW9uQ2hhbmdlKHdyaXRpbmdNb2RlLCBmbGlwU3RhdGUsIGR4LCBkeSkge1xuICAgIGlmICh3cml0aW5nTW9kZSA9PT0gV3JpdGluZ01vZGUuaG9yaXpvbnRhbCAmJiBNYXRoLmFicyhkeSkgPiBNYXRoLmFicyhkeCkpIHtcbiAgICAgICAgLy8gT24gdG9wIG9mIGNob29zaW5nIHdoZXRoZXIgdG8gZmxpcCwgY2hvb3NlIHdoZXRoZXIgdG8gcmVuZGVyIHRoaXMgdmVyc2lvbiBvZiB0aGUgZ2x5cGhzIG9yIHRoZSBhbHRlcm5hdGVcbiAgICAgICAgLy8gdmVydGljYWwgZ2x5cGhzLiBXZSBjYW4ndCBqdXN0IGZpbHRlciBvdXQgdmVydGljYWwgZ2x5cGhzIGluIHRoZSBob3Jpem9udGFsIHJhbmdlIGJlY2F1c2UgdGhlIGhvcml6b250YWxcbiAgICAgICAgLy8gYW5kIHZlcnRpY2FsIHZlcnNpb25zIGNhbiBoYXZlIHNsaWdodGx5IGRpZmZlcmVudCBwcm9qZWN0aW9ucyB3aGljaCBjb3VsZCBsZWFkIHRvIGFuZ2xlcyB3aGVyZSBib3RoIG9yXG4gICAgICAgIC8vIG5laXRoZXIgc2hvd2VkLlxuICAgICAgICByZXR1cm4ge3VzZVZlcnRpY2FsOiB0cnVlfTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgaWYgZmxpcHBpbmcgaXMgcmVxdWlyZWQgZm9yIFwidmVydGljYWxPbmx5XCIgY2FzZS5cbiAgICBpZiAod3JpdGluZ01vZGUgPT09IFdyaXRpbmdNb2RlLnZlcnRpY2FsKSB7XG4gICAgICAgIHJldHVybiBkeSA+IDAgPyB7bmVlZHNGbGlwcGluZzogdHJ1ZX0gOiBudWxsO1xuICAgIH1cblxuICAgIC8vIHN5bWJvbCdzIGZsaXBTdGF0ZSBzdG9yZXMgdGhlIGZsaXAgZGVjaXNpb24gZnJvbSB0aGUgcHJldmlvdXMgZnJhbWUsIGFuZCB0aGF0XG4gICAgLy8gZGVjaXNpb24gaXMgcmV1c2VkIHdoZW4gdGhlIHN5bWJvbCBpcyBpbiB0aGUgcmV0YWluIHJhbmdlLlxuICAgIGlmIChmbGlwU3RhdGUgIT09IEZsaXBTdGF0ZS51bmtub3duICYmIGlzSW5GbGlwUmV0YWluUmFuZ2UoZHgsIGR5KSkge1xuICAgICAgICByZXR1cm4gKGZsaXBTdGF0ZSA9PT0gRmxpcFN0YXRlLmZsaXBSZXF1aXJlZCkgPyB7bmVlZHNGbGlwcGluZzogdHJ1ZX0gOiBudWxsO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGZsaXBwaW5nIGlzIHJlcXVpcmVkIGZvciBcImhvcml6b250YWxcIiBjYXNlLlxuICAgIHJldHVybiBkeCA8IDAgPyB7bmVlZHNGbGlwcGluZzogdHJ1ZX0gOiBudWxsO1xufVxuXG5mdW5jdGlvbiBwbGFjZUdseXBoc0Fsb25nTGluZShzeW1ib2wsIGZvbnRTaXplLCBmbGlwLCBrZWVwVXByaWdodCwgcG9zTWF0cml4LCBsYWJlbFBsYW5lTWF0cml4LCBnbENvb3JkTWF0cml4LCBnbHlwaE9mZnNldEFycmF5LCBsaW5lVmVydGV4QXJyYXksIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgZ2xvYmVFeHRWZXJ0ZXhBcnJheSwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgcHJvamVjdGlvbkNhY2hlLCBhc3BlY3RSYXRpbywgZ2V0RWxldmF0aW9uLCBwcm9qZWN0aW9uLCB0aWxlSUQsIHBpdGNoV2l0aE1hcCk6IFBsYWNlbWVudFN0YXR1cyB7XG4gICAgY29uc3QgZm9udFNjYWxlID0gZm9udFNpemUgLyAyNDtcbiAgICBjb25zdCBsaW5lT2Zmc2V0WCA9IHN5bWJvbC5saW5lT2Zmc2V0WCAqIGZvbnRTY2FsZTtcbiAgICBjb25zdCBsaW5lT2Zmc2V0WSA9IHN5bWJvbC5saW5lT2Zmc2V0WSAqIGZvbnRTY2FsZTtcbiAgICBjb25zdCB7bGluZVN0YXJ0SW5kZXgsIGdseXBoU3RhcnRJbmRleCwgbnVtR2x5cGhzLCBzZWdtZW50LCB3cml0aW5nTW9kZSwgZmxpcFN0YXRlfSA9IHN5bWJvbDtcbiAgICBjb25zdCBsaW5lRW5kSW5kZXggPSBsaW5lU3RhcnRJbmRleCArIHN5bWJvbC5saW5lTGVuZ3RoO1xuXG4gICAgY29uc3QgYWRkR2x5cGggPSAoZ2x5cGg6IFBsYWNlZEdseXBoKSA9PiB7XG4gICAgICAgIGlmIChnbG9iZUV4dFZlcnRleEFycmF5KSB7XG4gICAgICAgICAgICBjb25zdCBbdXgsIHV5LCB1el0gPSBnbHlwaC51cDtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGg7XG4gICAgICAgICAgICB1cGRhdGVHbG9iZVZlcnRleE5vcm1hbChnbG9iZUV4dFZlcnRleEFycmF5LCBvZmZzZXQgKyAwLCB1eCwgdXksIHV6KTtcbiAgICAgICAgICAgIHVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsKGdsb2JlRXh0VmVydGV4QXJyYXksIG9mZnNldCArIDEsIHV4LCB1eSwgdXopO1xuICAgICAgICAgICAgdXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWwoZ2xvYmVFeHRWZXJ0ZXhBcnJheSwgb2Zmc2V0ICsgMiwgdXgsIHV5LCB1eik7XG4gICAgICAgICAgICB1cGRhdGVHbG9iZVZlcnRleE5vcm1hbChnbG9iZUV4dFZlcnRleEFycmF5LCBvZmZzZXQgKyAzLCB1eCwgdXksIHV6KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbeCwgeSwgel0gPSBnbHlwaC5wb2ludDtcbiAgICAgICAgYWRkRHluYW1pY0F0dHJpYnV0ZXMoZHluYW1pY0xheW91dFZlcnRleEFycmF5LCB4LCB5LCB6LCBnbHlwaC5hbmdsZSk7XG4gICAgfTtcblxuICAgIGlmIChudW1HbHlwaHMgPiAxKSB7XG4gICAgICAgIC8vIFBsYWNlIHRoZSBmaXJzdCBhbmQgdGhlIGxhc3QgZ2x5cGggaW4gdGhlIGxhYmVsIGZpcnN0LCBzbyB3ZSBjYW4gZmlndXJlIG91dFxuICAgICAgICAvLyB0aGUgb3ZlcmFsbCBvcmllbnRhdGlvbiBvZiB0aGUgbGFiZWwgYW5kIGRldGVybWluZSB3aGV0aGVyIGl0IG5lZWRzIHRvIGJlIGZsaXBwZWQgaW4ga2VlcFVwcmlnaHQgbW9kZVxuICAgICAgICBjb25zdCBmaXJzdEFuZExhc3RHbHlwaCA9IHBsYWNlRmlyc3RBbmRMYXN0R2x5cGgoZm9udFNjYWxlLCBnbHlwaE9mZnNldEFycmF5LCBsaW5lT2Zmc2V0WCwgbGluZU9mZnNldFksIGZsaXAsIGFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHN5bWJvbCwgbGluZVZlcnRleEFycmF5LCBsYWJlbFBsYW5lTWF0cml4LCBwcm9qZWN0aW9uQ2FjaGUsIGdldEVsZXZhdGlvbiwgZmFsc2UsIHByb2plY3Rpb24sIHRpbGVJRCwgcGl0Y2hXaXRoTWFwKTtcbiAgICAgICAgaWYgKCFmaXJzdEFuZExhc3RHbHlwaCkge1xuICAgICAgICAgICAgcmV0dXJuIHtub3RFbm91Z2hSb29tOiB0cnVlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZWVwVXByaWdodCAmJiAhZmxpcCkge1xuICAgICAgICAgICAgbGV0IFt4MCwgeTAsIHowXSA9IGZpcnN0QW5kTGFzdEdseXBoLmZpcnN0LnBvaW50O1xuICAgICAgICAgICAgbGV0IFt4MSwgeTEsIHoxXSA9IGZpcnN0QW5kTGFzdEdseXBoLmxhc3QucG9pbnQ7XG4gICAgICAgICAgICBbeDAsIHkwXSA9IHByb2plY3QoeDAsIHkwLCB6MCwgZ2xDb29yZE1hdHJpeCk7XG4gICAgICAgICAgICBbeDEsIHkxXSA9IHByb2plY3QoeDEsIHkxLCB6MSwgZ2xDb29yZE1hdHJpeCk7XG4gICAgICAgICAgICBjb25zdCBvcmllbnRhdGlvbkNoYW5nZSA9IHJlcXVpcmVzT3JpZW50YXRpb25DaGFuZ2Uod3JpdGluZ01vZGUsIGZsaXBTdGF0ZSwgKHgxIC0geDApICogYXNwZWN0UmF0aW8sIHkxIC0geTApO1xuICAgICAgICAgICAgc3ltYm9sLmZsaXBTdGF0ZSA9IG9yaWVudGF0aW9uQ2hhbmdlICYmIG9yaWVudGF0aW9uQ2hhbmdlLm5lZWRzRmxpcHBpbmcgPyBGbGlwU3RhdGUuZmxpcFJlcXVpcmVkIDogRmxpcFN0YXRlLmZsaXBOb3RSZXF1aXJlZDtcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvbkNoYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGFkZEdseXBoKGZpcnN0QW5kTGFzdEdseXBoLmZpcnN0KTtcbiAgICAgICAgZm9yIChsZXQgZ2x5cGhJbmRleCA9IGdseXBoU3RhcnRJbmRleCArIDE7IGdseXBoSW5kZXggPCBnbHlwaFN0YXJ0SW5kZXggKyBudW1HbHlwaHMgLSAxOyBnbHlwaEluZGV4KyspIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIGZpcnN0IGFuZCBsYXN0IGdseXBoIGZpdCBvbiB0aGUgbGluZSwgdGhlIHJlc3Qgb2YgdGhlIGdseXBocyBjYW4gYmUgcGxhY2VkIHRvbywgYnV0IGNoZWNrIHRvIG1ha2Ugc3VyZVxuICAgICAgICAgICAgY29uc3QgZ2x5cGggPSBwbGFjZUdseXBoQWxvbmdMaW5lKGZvbnRTY2FsZSAqIGdseXBoT2Zmc2V0QXJyYXkuZ2V0b2Zmc2V0WChnbHlwaEluZGV4KSwgbGluZU9mZnNldFgsIGxpbmVPZmZzZXRZLCBmbGlwLCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBzZWdtZW50LFxuICAgICAgICAgICAgICAgIGxpbmVTdGFydEluZGV4LCBsaW5lRW5kSW5kZXgsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCBnZXRFbGV2YXRpb24sIGZhbHNlLCBmYWxzZSwgcHJvamVjdGlvbiwgdGlsZUlELCBwaXRjaFdpdGhNYXApO1xuICAgICAgICAgICAgaWYgKCFnbHlwaCkge1xuICAgICAgICAgICAgICAgIC8vIHVuZG8gcHJldmlvdXMgZ2x5cGhzIG9mIHRoZSBzeW1ib2wgaWYgaXQgZG9lc24ndCBmaXQ7IGl0IHdpbGwgYmUgZmlsbGVkIHdpdGggaGlkZUdseXBocyBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgZHluYW1pY0xheW91dFZlcnRleEFycmF5Lmxlbmd0aCAtPSA0ICogKGdseXBoSW5kZXggLSBnbHlwaFN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7bm90RW5vdWdoUm9vbTogdHJ1ZX07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRHbHlwaChnbHlwaCk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkR2x5cGgoZmlyc3RBbmRMYXN0R2x5cGgubGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT25seSBhIHNpbmdsZSBnbHlwaCB0byBwbGFjZVxuICAgICAgICAvLyBTbywgZGV0ZXJtaW5lIHdoZXRoZXIgdG8gZmxpcCBiYXNlZCBvbiBwcm9qZWN0ZWQgYW5nbGUgb2YgdGhlIGxpbmUgc2VnbWVudCBpdCdzIG9uXG4gICAgICAgIGlmIChrZWVwVXByaWdodCAmJiAhZmxpcCkge1xuICAgICAgICAgICAgY29uc3QgYSA9IHByb2plY3QodGlsZUFuY2hvclBvaW50LngsIHRpbGVBbmNob3JQb2ludC55LCAwLCBwb3NNYXRyaXgpO1xuICAgICAgICAgICAgY29uc3QgdGlsZVZlcnRleEluZGV4ID0gbGluZVN0YXJ0SW5kZXggKyBzZWdtZW50ICsgMTtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVTZWdtZW50RW5kID0gbmV3IFBvaW50KGxpbmVWZXJ0ZXhBcnJheS5nZXR4KHRpbGVWZXJ0ZXhJbmRleCksIGxpbmVWZXJ0ZXhBcnJheS5nZXR5KHRpbGVWZXJ0ZXhJbmRleCkpO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGVkVmVydGV4ID0gcHJvamVjdCh0aWxlU2VnbWVudEVuZC54LCB0aWxlU2VnbWVudEVuZC55LCAwLCBwb3NNYXRyaXgpO1xuICAgICAgICAgICAgLy8gV2Uga25vdyB0aGUgYW5jaG9yIHdpbGwgYmUgaW4gdGhlIHZpZXdwb3J0LCBidXQgdGhlIGVuZCBvZiB0aGUgbGluZSBzZWdtZW50IG1heSBiZVxuICAgICAgICAgICAgLy8gYmVoaW5kIHRoZSBwbGFuZSBvZiB0aGUgY2FtZXJhLCBpbiB3aGljaCBjYXNlIHdlIGNhbiB1c2UgYSBwb2ludCBhdCBhbnkgYXJiaXRyYXJ5IChjbG9zZXIpXG4gICAgICAgICAgICAvLyBwb2ludCBvbiB0aGUgc2VnbWVudC5cbiAgICAgICAgICAgIGNvbnN0IGIgPSAocHJvamVjdGVkVmVydGV4WzNdID4gMCkgP1xuICAgICAgICAgICAgICAgIHByb2plY3RlZFZlcnRleCA6XG4gICAgICAgICAgICAgICAgcHJvamVjdFRydW5jYXRlZExpbmVTZWdtZW50KHRpbGVBbmNob3JQb2ludCwgdGlsZVNlZ21lbnRFbmQsIGEsIDEsIHBvc01hdHJpeCwgdW5kZWZpbmVkLCBwcm9qZWN0aW9uLCB0aWxlSUQuY2Fub25pY2FsKTtcblxuICAgICAgICAgICAgY29uc3Qgb3JpZW50YXRpb25DaGFuZ2UgPSByZXF1aXJlc09yaWVudGF0aW9uQ2hhbmdlKHdyaXRpbmdNb2RlLCBmbGlwU3RhdGUsIChiWzBdIC0gYVswXSkgKiBhc3BlY3RSYXRpbywgYlsxXSAtIGFbMV0pO1xuICAgICAgICAgICAgc3ltYm9sLmZsaXBTdGF0ZSA9IG9yaWVudGF0aW9uQ2hhbmdlICYmIG9yaWVudGF0aW9uQ2hhbmdlLm5lZWRzRmxpcHBpbmcgPyBGbGlwU3RhdGUuZmxpcFJlcXVpcmVkIDogRmxpcFN0YXRlLmZsaXBOb3RSZXF1aXJlZDtcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvbkNoYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaW5nbGVHbHlwaCA9IHBsYWNlR2x5cGhBbG9uZ0xpbmUoZm9udFNjYWxlICogZ2x5cGhPZmZzZXRBcnJheS5nZXRvZmZzZXRYKGdseXBoU3RhcnRJbmRleCksIGxpbmVPZmZzZXRYLCBsaW5lT2Zmc2V0WSwgZmxpcCwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgc2VnbWVudCxcbiAgICAgICAgICAgIGxpbmVTdGFydEluZGV4LCBsaW5lRW5kSW5kZXgsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCBnZXRFbGV2YXRpb24sIGZhbHNlLCBmYWxzZSwgcHJvamVjdGlvbiwgdGlsZUlELCBwaXRjaFdpdGhNYXApO1xuICAgICAgICBpZiAoIXNpbmdsZUdseXBoKSB7XG4gICAgICAgICAgICByZXR1cm4ge25vdEVub3VnaFJvb206IHRydWV9O1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkR2x5cGgoc2luZ2xlR2x5cGgpO1xuICAgIH1cbiAgICByZXR1cm4ge307XG59XG5cbmZ1bmN0aW9uIGVsZXZhdGVQb2ludEFuZFByb2plY3QocDogUG9pbnQsIHRpbGVJRDogQ2Fub25pY2FsVGlsZUlELCBwb3NNYXRyaXg6IEZsb2F0MzJBcnJheSwgcHJvamVjdGlvbjogUHJvamVjdGlvbiwgZ2V0RWxldmF0aW9uOiA/KChwOiBQb2ludCkgPT4gQXJyYXk8bnVtYmVyPikpIHtcbiAgICBjb25zdCB7eCwgeSwgen0gPSBwcm9qZWN0aW9uLnByb2plY3RUaWxlUG9pbnQocC54LCBwLnksIHRpbGVJRCk7XG4gICAgaWYgKCFnZXRFbGV2YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHByb2plY3QoeCwgeSwgeiwgcG9zTWF0cml4KTtcbiAgICB9XG4gICAgY29uc3QgW2R4LCBkeSwgZHpdID0gZ2V0RWxldmF0aW9uKHApO1xuICAgIHJldHVybiBwcm9qZWN0KHggKyBkeCwgeSArIGR5LCB6ICsgZHosIHBvc01hdHJpeCk7XG59XG5cbmZ1bmN0aW9uIHByb2plY3RUcnVuY2F0ZWRMaW5lU2VnbWVudChwcmV2aW91c1RpbGVQb2ludDogUG9pbnQsIGN1cnJlbnRUaWxlUG9pbnQ6IFBvaW50LCBwcmV2aW91c1Byb2plY3RlZFBvaW50OiBWZWMzLCBtaW5pbXVtTGVuZ3RoOiBudW1iZXIsIHByb2plY3Rpb25NYXRyaXg6IEZsb2F0MzJBcnJheSwgZ2V0RWxldmF0aW9uOiA/KChwOiBQb2ludCkgPT4gQXJyYXk8bnVtYmVyPiksIHByb2plY3Rpb246IFByb2plY3Rpb24sIHRpbGVJRDogQ2Fub25pY2FsVGlsZUlEKTogVmVjMyB7XG4gICAgLy8gV2UgYXJlIGFzc3VtaW5nIFwicHJldmlvdXNUaWxlUG9pbnRcIiB3b24ndCBwcm9qZWN0IHRvIGEgcG9pbnQgd2l0aGluIG9uZSB1bml0IG9mIHRoZSBjYW1lcmEgcGxhbmVcbiAgICAvLyBJZiBpdCBkaWQsIHRoYXQgd291bGQgbWVhbiBvdXIgbGFiZWwgZXh0ZW5kZWQgYWxsIHRoZSB3YXkgb3V0IGZyb20gd2l0aGluIHRoZSB2aWV3cG9ydCB0byBhICh2ZXJ5IGRpc3RhbnQpXG4gICAgLy8gcG9pbnQgbmVhciB0aGUgcGxhbmUgb2YgdGhlIGNhbWVyYS4gV2Ugd291bGRuJ3QgYmUgYWJsZSB0byByZW5kZXIgdGhlIGxhYmVsIGFueXdheSBvbmNlIGl0IGNyb3NzZWQgdGhlXG4gICAgLy8gcGxhbmUgb2YgdGhlIGNhbWVyYS5cbiAgICBjb25zdCB1bml0VmVydGV4ID0gcHJldmlvdXNUaWxlUG9pbnQuc3ViKGN1cnJlbnRUaWxlUG9pbnQpLl91bml0KCkuX2FkZChwcmV2aW91c1RpbGVQb2ludCk7XG4gICAgY29uc3QgcHJvamVjdGVkVW5pdCA9IGVsZXZhdGVQb2ludEFuZFByb2plY3QodW5pdFZlcnRleCwgdGlsZUlELCBwcm9qZWN0aW9uTWF0cml4LCBwcm9qZWN0aW9uLCBnZXRFbGV2YXRpb24pO1xuICAgIHZlYzMuc3ViKHByb2plY3RlZFVuaXQsIHByZXZpb3VzUHJvamVjdGVkUG9pbnQsIHByb2plY3RlZFVuaXQpO1xuICAgIHZlYzMubm9ybWFsaXplKHByb2plY3RlZFVuaXQsIHByb2plY3RlZFVuaXQpO1xuXG4gICAgcmV0dXJuIHZlYzMuc2NhbGVBbmRBZGQocHJvamVjdGVkVW5pdCwgcHJldmlvdXNQcm9qZWN0ZWRQb2ludCwgcHJvamVjdGVkVW5pdCwgbWluaW11bUxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIHBsYWNlR2x5cGhBbG9uZ0xpbmUoXG4gICAgb2Zmc2V0WDogbnVtYmVyLFxuICAgIGxpbmVPZmZzZXRYOiBudW1iZXIsXG4gICAgbGluZU9mZnNldFk6IG51bWJlcixcbiAgICBmbGlwOiBib29sZWFuLFxuICAgIGFuY2hvclBvaW50OiBWZWMzLFxuICAgIHRpbGVBbmNob3JQb2ludDogUG9pbnQsXG4gICAgYW5jaG9yU2VnbWVudDogbnVtYmVyLFxuICAgIGxpbmVTdGFydEluZGV4OiBudW1iZXIsXG4gICAgbGluZUVuZEluZGV4OiBudW1iZXIsXG4gICAgbGluZVZlcnRleEFycmF5OiBTeW1ib2xMaW5lVmVydGV4QXJyYXksXG4gICAgbGFiZWxQbGFuZU1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIHByb2plY3Rpb25DYWNoZTogUHJvamVjdGlvbkNhY2hlLFxuICAgIGdldEVsZXZhdGlvbjogPygocDogUG9pbnQpID0+IEFycmF5PG51bWJlcj4pLFxuICAgIHJldHVyblBhdGhJblRpbGVDb29yZHM6ID9ib29sZWFuLFxuICAgIGVuZEdseXBoOiA/Ym9vbGVhbixcbiAgICByZXByb2plY3Rpb246IFByb2plY3Rpb24sXG4gICAgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELFxuICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbik6IG51bGwgfCBQbGFjZWRHbHlwaCB7XG5cbiAgICBjb25zdCBjb21iaW5lZE9mZnNldFggPSBmbGlwID9cbiAgICAgICAgb2Zmc2V0WCAtIGxpbmVPZmZzZXRYIDpcbiAgICAgICAgb2Zmc2V0WCArIGxpbmVPZmZzZXRYO1xuXG4gICAgbGV0IGRpciA9IGNvbWJpbmVkT2Zmc2V0WCA+IDAgPyAxIDogLTE7XG5cbiAgICBsZXQgYW5nbGUgPSAwO1xuICAgIGlmIChmbGlwKSB7XG4gICAgICAgIC8vIFRoZSBsYWJlbCBuZWVkcyB0byBiZSBmbGlwcGVkIHRvIGtlZXAgdGV4dCB1cHJpZ2h0LlxuICAgICAgICAvLyBJdGVyYXRlIGluIHRoZSByZXZlcnNlIGRpcmVjdGlvbi5cbiAgICAgICAgZGlyICo9IC0xO1xuICAgICAgICBhbmdsZSA9IE1hdGguUEk7XG4gICAgfVxuXG4gICAgaWYgKGRpciA8IDApIGFuZ2xlICs9IE1hdGguUEk7XG5cbiAgICBsZXQgY3VycmVudEluZGV4ID0gbGluZVN0YXJ0SW5kZXggKyBhbmNob3JTZWdtZW50ICsgKGRpciA+IDAgPyAwIDogMSkgfCAwO1xuICAgIGxldCBjdXJyZW50ID0gYW5jaG9yUG9pbnQ7XG4gICAgbGV0IHByZXYgPSBhbmNob3JQb2ludDtcbiAgICBsZXQgZGlzdGFuY2VUb1ByZXYgPSAwO1xuICAgIGxldCBjdXJyZW50U2VnbWVudERpc3RhbmNlID0gMDtcbiAgICBjb25zdCBhYnNPZmZzZXRYID0gTWF0aC5hYnMoY29tYmluZWRPZmZzZXRYKTtcbiAgICBjb25zdCBwYXRoVmVydGljZXMgPSBbXTtcbiAgICBjb25zdCB0aWxlUGF0aCA9IFtdO1xuICAgIGxldCBjdXJyZW50VmVydGV4ID0gdGlsZUFuY2hvclBvaW50O1xuICAgIGxldCBwcmV2VmVydGV4ID0gY3VycmVudFZlcnRleDtcblxuICAgIGNvbnN0IGdldFRydW5jYXRlZExpbmVTZWdtZW50ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvamVjdFRydW5jYXRlZExpbmVTZWdtZW50KHByZXZWZXJ0ZXgsIGN1cnJlbnRWZXJ0ZXgsIHByZXYsIGFic09mZnNldFggLSBkaXN0YW5jZVRvUHJldiArIDEsIGxhYmVsUGxhbmVNYXRyaXgsIGdldEVsZXZhdGlvbiwgcmVwcm9qZWN0aW9uLCB0aWxlSUQuY2Fub25pY2FsKTtcbiAgICB9O1xuXG4gICAgd2hpbGUgKGRpc3RhbmNlVG9QcmV2ICsgY3VycmVudFNlZ21lbnREaXN0YW5jZSA8PSBhYnNPZmZzZXRYKSB7XG4gICAgICAgIGN1cnJlbnRJbmRleCArPSBkaXI7XG5cbiAgICAgICAgLy8gb2Zmc2V0IGRvZXMgbm90IGZpdCBvbiB0aGUgcHJvamVjdGVkIGxpbmVcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA8IGxpbmVTdGFydEluZGV4IHx8IGN1cnJlbnRJbmRleCA+PSBsaW5lRW5kSW5kZXgpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBwcmV2ID0gY3VycmVudDtcbiAgICAgICAgcHJldlZlcnRleCA9IGN1cnJlbnRWZXJ0ZXg7XG5cbiAgICAgICAgcGF0aFZlcnRpY2VzLnB1c2gocHJldik7XG4gICAgICAgIGlmIChyZXR1cm5QYXRoSW5UaWxlQ29vcmRzKSB0aWxlUGF0aC5wdXNoKHByZXZWZXJ0ZXgpO1xuXG4gICAgICAgIGN1cnJlbnRWZXJ0ZXggPSBuZXcgUG9pbnQobGluZVZlcnRleEFycmF5LmdldHgoY3VycmVudEluZGV4KSwgbGluZVZlcnRleEFycmF5LmdldHkoY3VycmVudEluZGV4KSk7XG4gICAgICAgIGN1cnJlbnQgPSBwcm9qZWN0aW9uQ2FjaGVbY3VycmVudEluZGV4XTtcbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gZWxldmF0ZVBvaW50QW5kUHJvamVjdChjdXJyZW50VmVydGV4LCB0aWxlSUQuY2Fub25pY2FsLCBsYWJlbFBsYW5lTWF0cml4LCByZXByb2plY3Rpb24sIGdldEVsZXZhdGlvbik7XG4gICAgICAgICAgICBpZiAocHJvamVjdGlvblszXSA+IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gcHJvamVjdGlvbkNhY2hlW2N1cnJlbnRJbmRleF0gPSBwcm9qZWN0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgdmVydGV4IGlzIGJlaGluZCB0aGUgcGxhbmUgb2YgdGhlIGNhbWVyYSwgc28gd2UgY2FuJ3QgcHJvamVjdCBpdFxuICAgICAgICAgICAgICAgIC8vIEluc3RlYWQsIHdlJ2xsIGNyZWF0ZSBhIHZlcnRleCBhbG9uZyB0aGUgbGluZSB0aGF0J3MgZmFyIGVub3VnaCB0byBpbmNsdWRlIHRoZSBnbHlwaFxuICAgICAgICAgICAgICAgIC8vIERvbid0IGNhY2hlIGJlY2F1c2UgdGhlIG5ldyB2ZXJ0ZXggbWlnaHQgbm90IGJlIGZhciBlbm91Z2ggb3V0IGZvciBmdXR1cmUgZ2x5cGhzIG9uIHRoZSBzYW1lIHNlZ21lbnRcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gZ2V0VHJ1bmNhdGVkTGluZVNlZ21lbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3RhbmNlVG9QcmV2ICs9IGN1cnJlbnRTZWdtZW50RGlzdGFuY2U7XG4gICAgICAgIGN1cnJlbnRTZWdtZW50RGlzdGFuY2UgPSB2ZWMzLmRpc3RhbmNlKHByZXYsIGN1cnJlbnQpO1xuICAgIH1cblxuICAgIGlmIChlbmRHbHlwaCAmJiBnZXRFbGV2YXRpb24pIHtcbiAgICAgICAgLy8gRm9yIHRlcnJhaW4sIGFsd2F5cyB0cnVuY2F0ZSBlbmQgcG9pbnRzIGluIG9yZGVyIHRvIGhhbmRsZSB0ZXJyYWluIGN1cnZhdHVyZS5cbiAgICAgICAgLy8gSWYgcHJldmlvdXNseSB0cnVuY2F0ZWQsIG9uIHNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYSA8IDAsIGRvbid0IGRvIGl0LlxuICAgICAgICAvLyBDYWNoZSBhcyBlbmQgcG9pbnQuIFRoZSBjYWNoZSBpcyBjbGVhcmVkIGlmIHRoZXJlIGlzIG5lZWQgZm9yIGZsaXBwaW5nIGluIHVwZGF0ZUxpbmVMYWJlbHMuXG4gICAgICAgIGlmIChwcm9qZWN0aW9uQ2FjaGVbY3VycmVudEluZGV4XSkge1xuICAgICAgICAgICAgY3VycmVudCA9IGdldFRydW5jYXRlZExpbmVTZWdtZW50KCk7XG4gICAgICAgICAgICBjdXJyZW50U2VnbWVudERpc3RhbmNlID0gdmVjMy5kaXN0YW5jZShwcmV2LCBjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICBwcm9qZWN0aW9uQ2FjaGVbY3VycmVudEluZGV4XSA9IGN1cnJlbnQ7XG4gICAgfVxuXG4gICAgLy8gVGhlIHBvaW50IGlzIG9uIHRoZSBjdXJyZW50IHNlZ21lbnQuIEludGVycG9sYXRlIHRvIGZpbmQgaXQuIENvbXB1dGUgcG9pbnRzIG9uIGJvdGggbGFiZWwgcGxhbmUgYW5kIHRpbGUgc3BhY2VcbiAgICBjb25zdCBzZWdtZW50SW50ZXJwb2xhdGlvblQgPSAoYWJzT2Zmc2V0WCAtIGRpc3RhbmNlVG9QcmV2KSAvIGN1cnJlbnRTZWdtZW50RGlzdGFuY2U7XG4gICAgY29uc3QgdGlsZVBvaW50ID0gY3VycmVudFZlcnRleC5zdWIocHJldlZlcnRleCkuX211bHQoc2VnbWVudEludGVycG9sYXRpb25UKS5fYWRkKHByZXZWZXJ0ZXgpO1xuICAgIGNvbnN0IHByZXZUb0N1cnJlbnQgPSB2ZWMzLnN1YihbXSwgY3VycmVudCwgcHJldik7XG4gICAgY29uc3QgbGFiZWxQbGFuZVBvaW50ID0gdmVjMy5zY2FsZUFuZEFkZChbXSwgcHJldiwgcHJldlRvQ3VycmVudCwgc2VnbWVudEludGVycG9sYXRpb25UKTtcblxuICAgIGxldCBheGlzWjogVmVjMyA9IFswLCAwLCAxXTtcbiAgICBsZXQgZGlmZlggPSBwcmV2VG9DdXJyZW50WzBdO1xuICAgIGxldCBkaWZmWSA9IHByZXZUb0N1cnJlbnRbMV07XG5cbiAgICBpZiAocGl0Y2hXaXRoTWFwKSB7XG4gICAgICAgIGF4aXNaID0gcmVwcm9qZWN0aW9uLnVwVmVjdG9yKHRpbGVJRC5jYW5vbmljYWwsIHRpbGVQb2ludC54LCB0aWxlUG9pbnQueSk7XG5cbiAgICAgICAgaWYgKGF4aXNaWzBdICE9PSAwIHx8IGF4aXNaWzFdICE9PSAwIHx8IGF4aXNaWzJdICE9PSAxKSB7XG4gICAgICAgICAgICAvLyBDb21wdXRlIGNvb3JkaW5hdGUgZnJhbWUgdGhhdCBpcyBhbGlnbmVkIHRvIHRoZSB0YW5nZW50IG9mIHRoZSBzdXJmYWNlXG4gICAgICAgICAgICBjb25zdCBheGlzWCA9IFtheGlzWlsyXSwgMCwgLWF4aXNaWzBdXTtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNZID0gdmVjMy5jcm9zcyhbXSwgYXhpc1osIGF4aXNYKTtcbiAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKGF4aXNYLCBheGlzWCk7XG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShheGlzWSwgYXhpc1kpO1xuICAgICAgICAgICAgZGlmZlggPSB2ZWMzLmRvdChwcmV2VG9DdXJyZW50LCBheGlzWCk7XG4gICAgICAgICAgICBkaWZmWSA9IHZlYzMuZG90KHByZXZUb0N1cnJlbnQsIGF4aXNZKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIG9mZnNldCB0aGUgcG9pbnQgZnJvbSB0aGUgbGluZSB0byB0ZXh0LW9mZnNldCBhbmQgaWNvbi1vZmZzZXRcbiAgICBpZiAobGluZU9mZnNldFkpIHtcbiAgICAgICAgLy8gRmluZCBhIGNvb3JkaW5hdGUgZnJhbWUgZm9yIHRoZSB2ZXJ0aWNhbCBvZmZzZXRcbiAgICAgICAgY29uc3Qgb2Zmc2V0RGlyID0gdmVjMy5jcm9zcyhbXSwgYXhpc1osIHByZXZUb0N1cnJlbnQpO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShvZmZzZXREaXIsIG9mZnNldERpcik7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobGFiZWxQbGFuZVBvaW50LCBsYWJlbFBsYW5lUG9pbnQsIG9mZnNldERpciwgbGluZU9mZnNldFkgKiBkaXIpO1xuICAgIH1cblxuICAgIGNvbnN0IHNlZ21lbnRBbmdsZSA9IGFuZ2xlICsgTWF0aC5hdGFuMihkaWZmWSwgZGlmZlgpO1xuXG4gICAgcGF0aFZlcnRpY2VzLnB1c2gobGFiZWxQbGFuZVBvaW50KTtcbiAgICBpZiAocmV0dXJuUGF0aEluVGlsZUNvb3Jkcykge1xuICAgICAgICB0aWxlUGF0aC5wdXNoKHRpbGVQb2ludCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9pbnQ6IGxhYmVsUGxhbmVQb2ludCxcbiAgICAgICAgYW5nbGU6IHNlZ21lbnRBbmdsZSxcbiAgICAgICAgcGF0aDogcGF0aFZlcnRpY2VzLFxuICAgICAgICB0aWxlUGF0aCxcbiAgICAgICAgdXA6IGF4aXNaXG4gICAgfTtcbn1cblxuLy8gSGlkZSB0aGVtIGJ5IG1vdmluZyB0aGVtIG9mZnNjcmVlbi4gV2Ugc3RpbGwgbmVlZCB0byBhZGQgdGhlbSB0byB0aGUgYnVmZmVyXG4vLyBiZWNhdXNlIHRoZSBkeW5hbWljIGJ1ZmZlciBpcyBwYWlyZWQgd2l0aCBhIHN0YXRpYyBidWZmZXIgdGhhdCBkb2Vzbid0IGdldCB1cGRhdGVkLlxuZnVuY3Rpb24gaGlkZUdseXBocyhudW06IG51bWJlciwgZHluYW1pY0xheW91dFZlcnRleEFycmF5OiBTeW1ib2xEeW5hbWljTGF5b3V0QXJyYXkpIHtcbiAgICBjb25zdCBvZmZzZXQgPSBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoO1xuICAgIGNvbnN0IGVuZCA9IG9mZnNldCArIDQgKiBudW07XG4gICAgZHluYW1pY0xheW91dFZlcnRleEFycmF5LnJlc2l6ZShlbmQpO1xuICAgIC8vIFNpbmNlIGFsbCBoaWRkZW4gZ2x5cGhzIGhhdmUgdGhlIHNhbWUgYXR0cmlidXRlcywgd2UgY2FuIGJ1aWxkIHVwIHRoZSBhcnJheSBmYXN0ZXIgd2l0aCBhIHNpbmdsZSBjYWxsIHRvXG4gICAgLy8gRmxvYXQzMkFycmF5LmZpbGwgZm9yIGFsbCB2ZXJ0aWNlcywgaW5zdGVhZCBvZiBjYWxsaW5nIGFkZER5bmFtaWNBdHRyaWJ1dGVzIGZvciBlYWNoIHZlcnRleC5cbiAgICBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkuZmxvYXQzMi5maWxsKC1JbmZpbml0eSwgb2Zmc2V0ICogNCwgZW5kICogNCk7XG59XG5cbi8vIEZvciBsaW5lIGxhYmVsIGxheW91dCwgd2UncmUgbm90IHVzaW5nIHogb3V0cHV0IGFuZCBvdXIgdyBpbnB1dCBpcyBhbHdheXMgMVxuLy8gVGhpcyBjdXN0b20gbWF0cml4IHRyYW5zZm9ybWF0aW9uIGlnbm9yZXMgdGhvc2UgY29tcG9uZW50cyB0byBtYWtlIHByb2plY3Rpb24gZmFzdGVyXG5mdW5jdGlvbiB4eVRyYW5zZm9ybU1hdDQob3V0OiBWZWM0LCBhOiBWZWM0LCBtOiBNYXQ0KTogVmVjNCB7XG4gICAgY29uc3QgeCA9IGFbMF0sIHkgPSBhWzFdO1xuICAgIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzEyXTtcbiAgICBvdXRbMV0gPSBtWzFdICogeCArIG1bNV0gKiB5ICsgbVsxM107XG4gICAgb3V0WzNdID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTVdO1xuICAgIHJldHVybiBvdXQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgY2xpcExpbmUgZnJvbSAnLi9jbGlwX2xpbmUuanMnO1xuaW1wb3J0IFBhdGhJbnRlcnBvbGF0b3IgZnJvbSAnLi9wYXRoX2ludGVycG9sYXRvci5qcyc7XG5pbXBvcnQgKiBhcyBpbnRlcnNlY3Rpb25UZXN0cyBmcm9tICcuLi91dGlsL2ludGVyc2VjdGlvbl90ZXN0cy5qcyc7XG5pbXBvcnQgR3JpZCBmcm9tICcuL2dyaWRfaW5kZXguanMnO1xuaW1wb3J0IHttYXQ0LCB2ZWM0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IE9ORV9FTSBmcm9tICcuLi9zeW1ib2wvb25lX2VtLmpzJztcbmltcG9ydCB7Rk9HX1NZTUJPTF9DTElQUElOR19USFJFU0hPTEQsIGdldEZvZ09wYWNpdHlBdFRpbGVDb29yZH0gZnJvbSAnLi4vc3R5bGUvZm9nX2hlbHBlcnMuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgKiBhcyBzeW1ib2xQcm9qZWN0aW9uIGZyb20gJy4uL3N5bWJvbC9wcm9qZWN0aW9uLmpzJztcblxuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHR5cGUgUHJvamVjdGlvbiBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9wcm9qZWN0aW9uLmpzJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCwge1NpbmdsZUNvbGxpc2lvbkJveH0gZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldC5qcyc7XG5pbXBvcnQgdHlwZSB7R2x5cGhPZmZzZXRBcnJheSwgU3ltYm9sTGluZVZlcnRleEFycmF5LCBQbGFjZWRTeW1ib2x9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMuanMnO1xuaW1wb3J0IHR5cGUge0ZvZ1N0YXRlfSBmcm9tICcuLi9zdHlsZS9mb2dfaGVscGVycy5qcyc7XG5pbXBvcnQgdHlwZSB7VmVjMywgTWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcblxuZXhwb3J0IHR5cGUgUGxhY2VkQ29sbGlzaW9uQm94ID0ge3xcbiAgICBib3g6IEFycmF5PG51bWJlcj4sXG4gICAgb2Zmc2NyZWVuOiBib29sZWFuLFxuICAgIG9jY2x1ZGVkOiBib29sZWFuXG58fTtcbnR5cGUgUGxhY2VkQ29sbGlzaW9uQ2lyY2xlcyA9IHt8XG4gICAgY2lyY2xlczogQXJyYXk8bnVtYmVyPixcbiAgICBvZmZzY3JlZW46IGJvb2xlYW4sXG4gICAgY29sbGlzaW9uRGV0ZWN0ZWQ6IGJvb2xlYW4sXG4gICAgb2NjbHVkZWQ6IGJvb2xlYW5cbnx9O1xudHlwZSBTY3JlZW5BbmNob3JQb2ludCA9IHt8XG4gIG9jY2x1ZGVkOiBib29sZWFuLFxuICBwZXJzcGVjdGl2ZVJhdGlvOiBudW1iZXIsXG4gIHBvaW50OiBQb2ludCxcbiAgc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOiBudW1iZXIsXG58fTtcblxuLy8gV2hlbiBhIHN5bWJvbCBjcm9zc2VzIHRoZSBlZGdlIHRoYXQgY2F1c2VzIGl0IHRvIGJlIGluY2x1ZGVkIGluXG4vLyBjb2xsaXNpb24gZGV0ZWN0aW9uLCBpdCB3aWxsIGNhdXNlIGNoYW5nZXMgaW4gdGhlIHN5bWJvbHMgYXJvdW5kXG4vLyBpdC4gVGhpcyBjb25zdGFudCBzcGVjaWZpZXMgaG93IG1hbnkgcGl4ZWxzIHRvIHBhZCB0aGUgZWRnZSBvZlxuLy8gdGhlIHZpZXdwb3J0IGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uIHNvIHRoYXQgdGhlIGJ1bGsgb2YgdGhlIGNoYW5nZXNcbi8vIG9jY3VyIG9mZnNjcmVlbi4gTWFraW5nIHRoaXMgY29uc3RhbnQgZ3JlYXRlciBpbmNyZWFzZXMgbGFiZWxcbi8vIHN0YWJpbGl0eSwgYnV0IGl0J3MgZXhwZW5zaXZlLlxuY29uc3Qgdmlld3BvcnRQYWRkaW5nID0gMTAwO1xuXG4vKipcbiAqIEEgY29sbGlzaW9uIGluZGV4IHVzZWQgdG8gcHJldmVudCBzeW1ib2xzIGZyb20gb3ZlcmxhcHBpbmcuIEl0IGtlZXAgdHJhY2tzIG9mXG4gKiB3aGVyZSBwcmV2aW91cyBzeW1ib2xzIGhhdmUgYmVlbiBwbGFjZWQgYW5kIGlzIHVzZWQgdG8gY2hlY2sgaWYgYSBuZXdcbiAqIHN5bWJvbCBvdmVybGFwcyB3aXRoIGFueSBwcmV2aW91c2x5IGFkZGVkIHN5bWJvbHMuXG4gKlxuICogVGhlcmUgYXJlIHR3byBzdGVwcyB0byBpbnNlcnRpb246IGZpcnN0IHBsYWNlQ29sbGlzaW9uQm94L0NpcmNsZXMgY2hlY2tzIGlmXG4gKiB0aGVyZSdzIHJvb20gZm9yIGEgc3ltYm9sLCB0aGVuIGluc2VydENvbGxpc2lvbkJveC9DaXJjbGVzIGFjdHVhbGx5IHB1dHMgdGhlXG4gKiBzeW1ib2wgaW4gdGhlIGluZGV4LiBUaGUgdHdvIHN0ZXAgcHJvY2VzcyBhbGxvd3MgcGFpcmVkIHN5bWJvbHMgdG8gYmUgaW5zZXJ0ZWRcbiAqIHRvZ2V0aGVyIGV2ZW4gaWYgdGhleSBvdmVybGFwLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIENvbGxpc2lvbkluZGV4IHtcbiAgICBncmlkOiBHcmlkO1xuICAgIGlnbm9yZWRHcmlkOiBHcmlkO1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIHBpdGNoZmFjdG9yOiBudW1iZXI7XG4gICAgc2NyZWVuUmlnaHRCb3VuZGFyeTogbnVtYmVyO1xuICAgIHNjcmVlbkJvdHRvbUJvdW5kYXJ5OiBudW1iZXI7XG4gICAgZ3JpZFJpZ2h0Qm91bmRhcnk6IG51bWJlcjtcbiAgICBncmlkQm90dG9tQm91bmRhcnk6IG51bWJlcjtcbiAgICBmb2dTdGF0ZTogP0ZvZ1N0YXRlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtLFxuICAgICAgICBmb2dTdGF0ZTogP0ZvZ1N0YXRlLFxuICAgICAgICBncmlkOiBHcmlkID0gbmV3IEdyaWQodHJhbnNmb3JtLndpZHRoICsgMiAqIHZpZXdwb3J0UGFkZGluZywgdHJhbnNmb3JtLmhlaWdodCArIDIgKiB2aWV3cG9ydFBhZGRpbmcsIDI1KSxcbiAgICAgICAgaWdub3JlZEdyaWQ6IEdyaWQgPSBuZXcgR3JpZCh0cmFuc2Zvcm0ud2lkdGggKyAyICogdmlld3BvcnRQYWRkaW5nLCB0cmFuc2Zvcm0uaGVpZ2h0ICsgMiAqIHZpZXdwb3J0UGFkZGluZywgMjUpXG4gICAgKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuXG4gICAgICAgIHRoaXMuZ3JpZCA9IGdyaWQ7XG4gICAgICAgIHRoaXMuaWdub3JlZEdyaWQgPSBpZ25vcmVkR3JpZDtcbiAgICAgICAgdGhpcy5waXRjaGZhY3RvciA9IE1hdGguY29zKHRyYW5zZm9ybS5fcGl0Y2gpICogdHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U7XG5cbiAgICAgICAgdGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5ID0gdHJhbnNmb3JtLndpZHRoICsgdmlld3BvcnRQYWRkaW5nO1xuICAgICAgICB0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5ID0gdHJhbnNmb3JtLmhlaWdodCArIHZpZXdwb3J0UGFkZGluZztcbiAgICAgICAgdGhpcy5ncmlkUmlnaHRCb3VuZGFyeSA9IHRyYW5zZm9ybS53aWR0aCArIDIgKiB2aWV3cG9ydFBhZGRpbmc7XG4gICAgICAgIHRoaXMuZ3JpZEJvdHRvbUJvdW5kYXJ5ID0gdHJhbnNmb3JtLmhlaWdodCArIDIgKiB2aWV3cG9ydFBhZGRpbmc7XG4gICAgICAgIHRoaXMuZm9nU3RhdGUgPSBmb2dTdGF0ZTtcbiAgICB9XG5cbiAgICBwbGFjZUNvbGxpc2lvbkJveChidWNrZXQ6IFN5bWJvbEJ1Y2tldCwgc2NhbGU6IG51bWJlciwgY29sbGlzaW9uQm94OiBTaW5nbGVDb2xsaXNpb25Cb3gsIHNoaWZ0OiBQb2ludCwgYWxsb3dPdmVybGFwOiBib29sZWFuLCB0ZXh0UGl4ZWxSYXRpbzogbnVtYmVyLCBwb3NNYXRyaXg6IE1hdDQsIGNvbGxpc2lvbkdyb3VwUHJlZGljYXRlPzogYW55KTogUGxhY2VkQ29sbGlzaW9uQm94IHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24gfHwgY29sbGlzaW9uQm94LmVsZXZhdGlvbiAhPT0gdW5kZWZpbmVkKTtcblxuICAgICAgICBsZXQgYW5jaG9yWCA9IGNvbGxpc2lvbkJveC5wcm9qZWN0ZWRBbmNob3JYO1xuICAgICAgICBsZXQgYW5jaG9yWSA9IGNvbGxpc2lvbkJveC5wcm9qZWN0ZWRBbmNob3JZO1xuICAgICAgICBsZXQgYW5jaG9yWiA9IGNvbGxpc2lvbkJveC5wcm9qZWN0ZWRBbmNob3JaO1xuXG4gICAgICAgIC8vIEFwcGx5IGVsZXZhdGlvbiB2ZWN0b3IgdG8gdGhlIGFuY2hvciBwb2ludFxuICAgICAgICBjb25zdCBlbGV2YXRpb24gPSBjb2xsaXNpb25Cb3guZWxldmF0aW9uO1xuICAgICAgICBjb25zdCB0aWxlSUQgPSBjb2xsaXNpb25Cb3gudGlsZUlEO1xuICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gYnVja2V0LmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgaWYgKGVsZXZhdGlvbiAmJiB0aWxlSUQpIHtcbiAgICAgICAgICAgIGNvbnN0IFt1eCwgdXksIHV6XSA9IHByb2plY3Rpb24udXBWZWN0b3IodGlsZUlELmNhbm9uaWNhbCwgY29sbGlzaW9uQm94LnRpbGVBbmNob3JYLCBjb2xsaXNpb25Cb3gudGlsZUFuY2hvclkpO1xuICAgICAgICAgICAgY29uc3QgdXBTY2FsZSA9IHByb2plY3Rpb24udXBWZWN0b3JTY2FsZSh0aWxlSUQuY2Fub25pY2FsLCB0aGlzLnRyYW5zZm9ybS5jZW50ZXIubGF0LCB0aGlzLnRyYW5zZm9ybS53b3JsZFNpemUpLm1ldGVyc1RvVGlsZTtcblxuICAgICAgICAgICAgYW5jaG9yWCArPSB1eCAqIGVsZXZhdGlvbiAqIHVwU2NhbGU7XG4gICAgICAgICAgICBhbmNob3JZICs9IHV5ICogZWxldmF0aW9uICogdXBTY2FsZTtcbiAgICAgICAgICAgIGFuY2hvclogKz0gdXogKiBlbGV2YXRpb24gKiB1cFNjYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hlY2tPY2NsdXNpb24gPSBwcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScgfHwgISFlbGV2YXRpb24gfHwgdGhpcy50cmFuc2Zvcm0ucGl0Y2ggPiAwO1xuICAgICAgICBjb25zdCBwcm9qZWN0ZWRQb2ludCA9IHRoaXMucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8ocG9zTWF0cml4LCBhbmNob3JYLCBhbmNob3JZLCBhbmNob3JaLCBjb2xsaXNpb25Cb3gudGlsZUlELCBjaGVja09jY2x1c2lvbiwgcHJvamVjdGlvbik7XG5cbiAgICAgICAgY29uc3QgdGlsZVRvVmlld3BvcnQgPSB0ZXh0UGl4ZWxSYXRpbyAqIHByb2plY3RlZFBvaW50LnBlcnNwZWN0aXZlUmF0aW87XG4gICAgICAgIGNvbnN0IHRsWCA9IChjb2xsaXNpb25Cb3gueDEgKiBzY2FsZSArIHNoaWZ0LnggLSBjb2xsaXNpb25Cb3gucGFkZGluZykgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lng7XG4gICAgICAgIGNvbnN0IHRsWSA9IChjb2xsaXNpb25Cb3gueTEgKiBzY2FsZSArIHNoaWZ0LnkgLSBjb2xsaXNpb25Cb3gucGFkZGluZykgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lnk7XG4gICAgICAgIGNvbnN0IGJyWCA9IChjb2xsaXNpb25Cb3gueDIgKiBzY2FsZSArIHNoaWZ0LnggKyBjb2xsaXNpb25Cb3gucGFkZGluZykgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lng7XG4gICAgICAgIGNvbnN0IGJyWSA9IChjb2xsaXNpb25Cb3gueTIgKiBzY2FsZSArIHNoaWZ0LnkgKyBjb2xsaXNpb25Cb3gucGFkZGluZykgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lnk7XG4gICAgICAgIC8vIENsaXAgYXQgMTAgdGltZXMgdGhlIGRpc3RhbmNlIG9mIHRoZSBtYXAgY2VudGVyIG9yLCBzYWlkIG90aGVyd2lzZSwgd2hlbiB0aGUgbGFiZWxcbiAgICAgICAgLy8gd291bGQgYmUgZHJhd24gYXQgMTAlIHRoZSBzaXplIG9mIHRoZSBmZWF0dXJlcyBhcm91bmQgaXQgd2l0aG91dCBzY2FsaW5nLiBSZWZlcjpcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtbmF0aXZlL3dpa2kvVGV4dC1SZW5kZXJpbmcjcGVyc3BlY3RpdmUtc2NhbGluZ1xuICAgICAgICAvLyAwLjU1ID09PSBwcm9qZWN0aW9uLmdldFBlcnNwZWN0aXZlUmF0aW8oY2FtZXJhX3RvX2NlbnRlciwgY2FtZXJhX3RvX2NlbnRlciAqIDEwKVxuICAgICAgICBjb25zdCBtaW5QZXJzcGVjdGl2ZVJhdGlvID0gMC41NTtcbiAgICAgICAgY29uc3QgaXNDbGlwcGVkID0gcHJvamVjdGVkUG9pbnQucGVyc3BlY3RpdmVSYXRpbyA8PSBtaW5QZXJzcGVjdGl2ZVJhdGlvIHx8IHByb2plY3RlZFBvaW50Lm9jY2x1ZGVkO1xuXG4gICAgICAgIGlmICghdGhpcy5pc0luc2lkZUdyaWQodGxYLCB0bFksIGJyWCwgYnJZKSB8fFxuICAgICAgICAgICAgKCFhbGxvd092ZXJsYXAgJiYgdGhpcy5ncmlkLmhpdFRlc3QodGxYLCB0bFksIGJyWCwgYnJZLCBjb2xsaXNpb25Hcm91cFByZWRpY2F0ZSkpIHx8XG4gICAgICAgICAgICBpc0NsaXBwZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYm94OiBbXSxcbiAgICAgICAgICAgICAgICBvZmZzY3JlZW46IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9jY2x1ZGVkOiBwcm9qZWN0ZWRQb2ludC5vY2NsdWRlZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib3g6IFt0bFgsIHRsWSwgYnJYLCBiclldLFxuICAgICAgICAgICAgb2Zmc2NyZWVuOiB0aGlzLmlzT2Zmc2NyZWVuKHRsWCwgdGxZLCBiclgsIGJyWSksXG4gICAgICAgICAgICBvY2NsdWRlZDogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwbGFjZUNvbGxpc2lvbkNpcmNsZXMoYnVja2V0OiBTeW1ib2xCdWNrZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93T3ZlcmxhcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sOiBQbGFjZWRTeW1ib2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVWZXJ0ZXhBcnJheTogU3ltYm9sTGluZVZlcnRleEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnbHlwaE9mZnNldEFycmF5OiBHbHlwaE9mZnNldEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxQbGFuZU1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFRvU2NyZWVuTWF0cml4PzogTWF0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbGxpc2lvbkNpcmNsZXM6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uR3JvdXBQcmVkaWNhdGU/OiBhbnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZVBpeGVsRGlhbWV0ZXI6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFBpeGVsUGFkZGluZzogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpOiBQbGFjZWRDb2xsaXNpb25DaXJjbGVzIHtcbiAgICAgICAgY29uc3QgcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcyA9IFtdO1xuICAgICAgICBjb25zdCBlbGV2YXRpb24gPSB0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb247XG4gICAgICAgIGNvbnN0IHByb2plY3Rpb24gPSBidWNrZXQuZ2V0UHJvamVjdGlvbigpO1xuICAgICAgICBjb25zdCBnZXRFbGV2YXRpb24gPSBlbGV2YXRpb24gPyBlbGV2YXRpb24uZ2V0QXRUaWxlT2Zmc2V0RnVuYyh0aWxlSUQsIHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQsIHRoaXMudHJhbnNmb3JtLndvcmxkU2l6ZSwgcHJvamVjdGlvbikgOiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHRpbGVVbml0QW5jaG9yUG9pbnQgPSBuZXcgUG9pbnQoc3ltYm9sLnRpbGVBbmNob3JYLCBzeW1ib2wudGlsZUFuY2hvclkpO1xuICAgICAgICBsZXQge3g6IGFuY2hvclgsIHk6IGFuY2hvclksIHo6IGFuY2hvclp9ID0gcHJvamVjdGlvbi5wcm9qZWN0VGlsZVBvaW50KHRpbGVVbml0QW5jaG9yUG9pbnQueCwgdGlsZVVuaXRBbmNob3JQb2ludC55LCB0aWxlSUQuY2Fub25pY2FsKTtcbiAgICAgICAgaWYgKGdldEVsZXZhdGlvbikge1xuICAgICAgICAgICAgY29uc3QgW2R4LCBkeSwgZHpdID0gZ2V0RWxldmF0aW9uKHRpbGVVbml0QW5jaG9yUG9pbnQpO1xuICAgICAgICAgICAgYW5jaG9yWCArPSBkeDtcbiAgICAgICAgICAgIGFuY2hvclkgKz0gZHk7XG4gICAgICAgICAgICBhbmNob3JaICs9IGR6O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzR2xvYmUgPSBwcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZSc7XG4gICAgICAgIGNvbnN0IGNoZWNrT2NjbHVzaW9uID0gaXNHbG9iZSB8fCAhIWVsZXZhdGlvbiB8fCB0aGlzLnRyYW5zZm9ybS5waXRjaCA+IDA7XG4gICAgICAgIGNvbnN0IHNjcmVlbkFuY2hvclBvaW50ID0gdGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhwb3NNYXRyaXgsIGFuY2hvclgsIGFuY2hvclksIGFuY2hvclosIHRpbGVJRCwgY2hlY2tPY2NsdXNpb24sIHByb2plY3Rpb24pO1xuICAgICAgICBjb25zdCB7cGVyc3BlY3RpdmVSYXRpb30gPSBzY3JlZW5BbmNob3JQb2ludDtcbiAgICAgICAgY29uc3QgbGFiZWxQbGFuZUZvbnRTY2FsZSA9IChwaXRjaFdpdGhNYXAgPyBmb250U2l6ZSAvIHBlcnNwZWN0aXZlUmF0aW8gOiBmb250U2l6ZSAqIHBlcnNwZWN0aXZlUmF0aW8pIC8gT05FX0VNO1xuICAgICAgICBjb25zdCBsYWJlbFBsYW5lQW5jaG9yUG9pbnQgPSBzeW1ib2xQcm9qZWN0aW9uLnByb2plY3QoYW5jaG9yWCwgYW5jaG9yWSwgYW5jaG9yWiwgbGFiZWxQbGFuZU1hdHJpeCk7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdGlvbkNhY2hlID0ge307XG4gICAgICAgIGNvbnN0IGxpbmVPZmZzZXRYID0gc3ltYm9sLmxpbmVPZmZzZXRYICogbGFiZWxQbGFuZUZvbnRTY2FsZTtcbiAgICAgICAgY29uc3QgbGluZU9mZnNldFkgPSBzeW1ib2wubGluZU9mZnNldFkgKiBsYWJlbFBsYW5lRm9udFNjYWxlO1xuXG4gICAgICAgIGNvbnN0IGZpcnN0QW5kTGFzdEdseXBoID0gc2NyZWVuQW5jaG9yUG9pbnQuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhID4gMCA/IHN5bWJvbFByb2plY3Rpb24ucGxhY2VGaXJzdEFuZExhc3RHbHlwaChcbiAgICAgICAgICAgIGxhYmVsUGxhbmVGb250U2NhbGUsXG4gICAgICAgICAgICBnbHlwaE9mZnNldEFycmF5LFxuICAgICAgICAgICAgbGluZU9mZnNldFgsXG4gICAgICAgICAgICBsaW5lT2Zmc2V0WSxcbiAgICAgICAgICAgIC8qZmxpcCovIGZhbHNlLFxuICAgICAgICAgICAgbGFiZWxQbGFuZUFuY2hvclBvaW50LFxuICAgICAgICAgICAgdGlsZVVuaXRBbmNob3JQb2ludCxcbiAgICAgICAgICAgIHN5bWJvbCxcbiAgICAgICAgICAgIGxpbmVWZXJ0ZXhBcnJheSxcbiAgICAgICAgICAgIGxhYmVsUGxhbmVNYXRyaXgsXG4gICAgICAgICAgICBwcm9qZWN0aW9uQ2FjaGUsXG4gICAgICAgICAgICBlbGV2YXRpb24gJiYgIXBpdGNoV2l0aE1hcCA/IGdldEVsZXZhdGlvbiA6IG51bGwsIC8vIHBpdGNoV2l0aE1hcDogbm8gbmVlZCB0byBzYW1wbGUgZWxldmF0aW9uIGFzIGl0IGhhcyBubyBlZmZlY3Qgd2hlbiBwcm9qZWN0aW5nIHVzaW5nIHNjYWxlL3JvdGF0ZSB0byB0aWxlIHNwYWNlIGxhYmVsUGxhbmVNYXRyaXguXG4gICAgICAgICAgICBwaXRjaFdpdGhNYXAgJiYgISFlbGV2YXRpb24sXG4gICAgICAgICAgICBwcm9qZWN0aW9uLFxuICAgICAgICAgICAgdGlsZUlELFxuICAgICAgICAgICAgcGl0Y2hXaXRoTWFwXG4gICAgICAgICkgOiBudWxsO1xuXG4gICAgICAgIGxldCBjb2xsaXNpb25EZXRlY3RlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgaW5HcmlkID0gZmFsc2U7XG4gICAgICAgIGxldCBlbnRpcmVseU9mZnNjcmVlbiA9IHRydWU7XG5cbiAgICAgICAgaWYgKGZpcnN0QW5kTGFzdEdseXBoICYmICFzY3JlZW5BbmNob3JQb2ludC5vY2NsdWRlZCkge1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gY2lyY2xlUGl4ZWxEaWFtZXRlciAqIDAuNSAqIHBlcnNwZWN0aXZlUmF0aW8gKyB0ZXh0UGl4ZWxQYWRkaW5nO1xuICAgICAgICAgICAgY29uc3Qgc2NyZWVuUGxhbmVNaW4gPSBuZXcgUG9pbnQoLXZpZXdwb3J0UGFkZGluZywgLXZpZXdwb3J0UGFkZGluZyk7XG4gICAgICAgICAgICBjb25zdCBzY3JlZW5QbGFuZU1heCA9IG5ldyBQb2ludCh0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnksIHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnkpO1xuICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdG9yID0gbmV3IFBhdGhJbnRlcnBvbGF0b3IoKTtcblxuICAgICAgICAgICAgLy8gQ29uc3RydWN0IGEgcHJvamVjdGVkIHBhdGggZnJvbSBwcm9qZWN0ZWQgbGluZSB2ZXJ0aWNlcy4gQW5jaG9yIHBvaW50cyBhcmUgaWdub3JlZCBhbmQgcmVtb3ZlZFxuICAgICAgICAgICAgY29uc3Qge2ZpcnN0LCBsYXN0fSA9IGZpcnN0QW5kTGFzdEdseXBoO1xuICAgICAgICAgICAgY29uc3QgZmlyc3RMZW4gPSBmaXJzdC5wYXRoLmxlbmd0aDtcblxuICAgICAgICAgICAgbGV0IHByb2plY3RlZFBhdGg6IFZlYzNbXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGZpcnN0TGVuIC0gMTsgaSA+PSAxOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0ZWRQYXRoLnB1c2goZmlyc3QucGF0aFtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxhc3QucGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHByb2plY3RlZFBhdGgucHVzaChsYXN0LnBhdGhbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzZXJ0KHByb2plY3RlZFBhdGgubGVuZ3RoID49IDIpO1xuXG4gICAgICAgICAgICAvLyBUb2xlcmF0ZSBhIHNsaWdodGx5IGxvbmdlciBkaXN0YW5jZSB0aGFuIG9uZSBkaWFtZXRlciBiZXR3ZWVuIHR3byBhZGphY2VudCBjaXJjbGVzXG4gICAgICAgICAgICBjb25zdCBjaXJjbGVEaXN0ID0gcmFkaXVzICogMi41O1xuXG4gICAgICAgICAgICAvLyBUaGUgcGF0aCBtaWdodCBuZWVkIHRvIGJlIGNvbnZlcnRlZCBpbnRvIHNjcmVlbiBzcGFjZSBpZiBhIHBpdGNoZWQgbWFwIGlzIHVzZWQgYXMgdGhlIGxhYmVsIHNwYWNlXG4gICAgICAgICAgICBpZiAobGFiZWxUb1NjcmVlbk1hdHJpeCkge1xuICAgICAgICAgICAgICAgIGFzc2VydChwaXRjaFdpdGhNYXApO1xuICAgICAgICAgICAgICAgIHByb2plY3RlZFBhdGggPSBwcm9qZWN0ZWRQYXRoLm1hcCgoW3gsIHksIHpdLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0RWxldmF0aW9uICYmICFpc0dsb2JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB6ID0gZ2V0RWxldmF0aW9uKGluZGV4IDwgZmlyc3RMZW4gLSAxID8gZmlyc3QudGlsZVBhdGhbZmlyc3RMZW4gLSAxIC0gaW5kZXhdIDogbGFzdC50aWxlUGF0aFtpbmRleCAtIGZpcnN0TGVuICsgMl0pWzJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzeW1ib2xQcm9qZWN0aW9uLnByb2plY3QoeCwgeSwgeiwgbGFiZWxUb1NjcmVlbk1hdHJpeCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgdHJ5IHRvIHBsYWNlIGNvbGxpc2lvbiBjaXJjbGVzIGlmIGV2ZW4gb2YgdGhlIHBvaW50cyBpcyBiZWhpbmQgdGhlIGNhbWVyYS5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgcGxhdXNpYmxlIHNjZW5hcmlvIHdpdGggYmlnIGNhbWVyYSBwaXRjaCBhbmdsZXNcbiAgICAgICAgICAgICAgICBpZiAocHJvamVjdGVkUGF0aC5zb21lKHBvaW50ID0+IHBvaW50WzNdIDw9IDApKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RlZFBhdGggPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBzZWdtZW50cyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAocHJvamVjdGVkUGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gUXVpY2tseSBjaGVjayBpZiB0aGUgcGF0aCBpcyBmdWxseSBpbnNpZGUgb3Igb3V0c2lkZSBvZiB0aGUgcGFkZGVkIGNvbGxpc2lvbiByZWdpb24uXG4gICAgICAgICAgICAgICAgLy8gRm9yIG92ZXJsYXBwaW5nIHBhdGhzIHdlJ2xsIG9ubHkgY3JlYXRlIGNvbGxpc2lvbiBjaXJjbGVzIGZvciB0aGUgdmlzaWJsZSBzZWdtZW50c1xuICAgICAgICAgICAgICAgIGxldCBtaW54ID0gSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgbGV0IG1heHggPSAtSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgbGV0IG1pbnkgPSBJbmZpbml0eTtcbiAgICAgICAgICAgICAgICBsZXQgbWF4eSA9IC1JbmZpbml0eTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcCBvZiBwcm9qZWN0ZWRQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbnggPSBNYXRoLm1pbihtaW54LCBwWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgbWlueSA9IE1hdGgubWluKG1pbnksIHBbMV0pO1xuICAgICAgICAgICAgICAgICAgICBtYXh4ID0gTWF0aC5tYXgobWF4eCwgcFswXSk7XG4gICAgICAgICAgICAgICAgICAgIG1heHkgPSBNYXRoLm1heChtYXh5LCBwWzFdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBQYXRoIHZpc2libGVcbiAgICAgICAgICAgICAgICBpZiAobWF4eCA+PSBzY3JlZW5QbGFuZU1pbi54ICYmIG1pbnggPD0gc2NyZWVuUGxhbmVNYXgueCAmJlxuICAgICAgICAgICAgICAgICAgICBtYXh5ID49IHNjcmVlblBsYW5lTWluLnkgJiYgbWlueSA8PSBzY3JlZW5QbGFuZU1heC55KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VnbWVudHMgPSBbcHJvamVjdGVkUGF0aC5tYXAocCA9PiBuZXcgUG9pbnQocFswXSwgcFsxXSkpXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobWlueCA8IHNjcmVlblBsYW5lTWluLnggfHwgbWF4eCA+IHNjcmVlblBsYW5lTWF4LnggfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnkgPCBzY3JlZW5QbGFuZU1pbi55IHx8IG1heHkgPiBzY3JlZW5QbGFuZU1heC55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXRoIHBhcnRpYWxseSB2aXNpYmxlLCBjbGlwXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50cyA9IGNsaXBMaW5lKHNlZ21lbnRzLCBzY3JlZW5QbGFuZU1pbi54LCBzY3JlZW5QbGFuZU1pbi55LCBzY3JlZW5QbGFuZU1heC54LCBzY3JlZW5QbGFuZU1heC55KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChjb25zdCBzZWcgb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICAvLyBpbnRlcnBvbGF0ZSBwb3NpdGlvbnMgZm9yIGNvbGxpc2lvbiBjaXJjbGVzLiBBZGQgYSBzbWFsbCBwYWRkaW5nIHRvIGJvdGggZW5kcyBvZiB0aGUgc2VnbWVudFxuICAgICAgICAgICAgICAgIGFzc2VydChzZWcubGVuZ3RoID4gMCk7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdG9yLnJlc2V0KHNlZywgcmFkaXVzICogMC4yNSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgbnVtQ2lyY2xlcyA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJwb2xhdG9yLmxlbmd0aCA8PSAwLjUgKiByYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtQ2lyY2xlcyA9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtQ2lyY2xlcyA9IE1hdGguY2VpbChpbnRlcnBvbGF0b3IucGFkZGVkTGVuZ3RoIC8gY2lyY2xlRGlzdCkgKyAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQ2lyY2xlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBpIC8gTWF0aC5tYXgobnVtQ2lyY2xlcyAtIDEsIDEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaXJjbGVQb3NpdGlvbiA9IGludGVycG9sYXRvci5sZXJwKHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB2aWV3cG9ydCBwYWRkaW5nIHRvIHRoZSBwb3NpdGlvbiBhbmQgcGVyZm9ybSBpbml0aWFsIGNvbGxpc2lvbiBjaGVja1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJYID0gY2lyY2xlUG9zaXRpb24ueCArIHZpZXdwb3J0UGFkZGluZztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyWSA9IGNpcmNsZVBvc2l0aW9uLnkgKyB2aWV3cG9ydFBhZGRpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcy5wdXNoKGNlbnRlclgsIGNlbnRlclksIHJhZGl1cywgMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeDEgPSBjZW50ZXJYIC0gcmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB5MSA9IGNlbnRlclkgLSByYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHgyID0gY2VudGVyWCArIHJhZGl1cztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeTIgPSBjZW50ZXJZICsgcmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgICAgIGVudGlyZWx5T2Zmc2NyZWVuID0gZW50aXJlbHlPZmZzY3JlZW4gJiYgdGhpcy5pc09mZnNjcmVlbih4MSwgeTEsIHgyLCB5Mik7XG4gICAgICAgICAgICAgICAgICAgIGluR3JpZCA9IGluR3JpZCB8fCB0aGlzLmlzSW5zaWRlR3JpZCh4MSwgeTEsIHgyLCB5Mik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbGxvd092ZXJsYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdyaWQuaGl0VGVzdENpcmNsZShjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXMsIGNvbGxpc2lvbkdyb3VwUHJlZGljYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGVhcmx5IGV4aXQgaWYgd2UncmUgc2hvd2luZyB0aGUgZGVidWcgY2lyY2xlcyBiZWNhdXNlIHdlIHN0aWxsIHdhbnQgdG8gY2FsY3VsYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggY2lyY2xlcyBhcmUgaW4gdXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uRGV0ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hvd0NvbGxpc2lvbkNpcmNsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2NyZWVuOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkRldGVjdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2NjbHVkZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNpcmNsZXM6ICgoIXNob3dDb2xsaXNpb25DaXJjbGVzICYmIGNvbGxpc2lvbkRldGVjdGVkKSB8fCAhaW5HcmlkKSA/IFtdIDogcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcyxcbiAgICAgICAgICAgIG9mZnNjcmVlbjogZW50aXJlbHlPZmZzY3JlZW4sXG4gICAgICAgICAgICBjb2xsaXNpb25EZXRlY3RlZCxcbiAgICAgICAgICAgIG9jY2x1ZGVkOiBzY3JlZW5BbmNob3JQb2ludC5vY2NsdWRlZFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJlY2F1c2UgdGhlIGdlb21ldHJpZXMgaW4gdGhlIENvbGxpc2lvbkluZGV4IGFyZSBhbiBhcHByb3hpbWF0aW9uIG9mIHRoZSBzaGFwZSBvZlxuICAgICAqIHN5bWJvbHMgb24gdGhlIG1hcCwgd2UgdXNlIHRoZSBDb2xsaXNpb25JbmRleCB0byBsb29rIHVwIHRoZSBzeW1ib2wgcGFydCBvZlxuICAgICAqIGBxdWVyeVJlbmRlcmVkRmVhdHVyZXNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBxdWVyeVJlbmRlcmVkU3ltYm9scyh2aWV3cG9ydFF1ZXJ5R2VvbWV0cnk6IEFycmF5PFBvaW50Pik6IHtbaWQ6IG51bWJlcl06IEFycmF5PG51bWJlcj59IHtcbiAgICAgICAgaWYgKHZpZXdwb3J0UXVlcnlHZW9tZXRyeS5sZW5ndGggPT09IDAgfHwgKHRoaXMuZ3JpZC5rZXlzTGVuZ3RoKCkgPT09IDAgJiYgdGhpcy5pZ25vcmVkR3JpZC5rZXlzTGVuZ3RoKCkgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBxdWVyeSA9IFtdO1xuICAgICAgICBsZXQgbWluWCA9IEluZmluaXR5O1xuICAgICAgICBsZXQgbWluWSA9IEluZmluaXR5O1xuICAgICAgICBsZXQgbWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgbGV0IG1heFkgPSAtSW5maW5pdHk7XG4gICAgICAgIGZvciAoY29uc3QgcG9pbnQgb2Ygdmlld3BvcnRRdWVyeUdlb21ldHJ5KSB7XG4gICAgICAgICAgICBjb25zdCBncmlkUG9pbnQgPSBuZXcgUG9pbnQocG9pbnQueCArIHZpZXdwb3J0UGFkZGluZywgcG9pbnQueSArIHZpZXdwb3J0UGFkZGluZyk7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgZ3JpZFBvaW50LngpO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIGdyaWRQb2ludC55KTtcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBncmlkUG9pbnQueCk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgZ3JpZFBvaW50LnkpO1xuICAgICAgICAgICAgcXVlcnkucHVzaChncmlkUG9pbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLmdyaWQucXVlcnkobWluWCwgbWluWSwgbWF4WCwgbWF4WSlcbiAgICAgICAgICAgIC5jb25jYXQodGhpcy5pZ25vcmVkR3JpZC5xdWVyeShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKSk7XG5cbiAgICAgICAgY29uc3Qgc2VlbkZlYXR1cmVzID0ge307XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgZmVhdHVyZSBvZiBmZWF0dXJlcykge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZUtleSA9IGZlYXR1cmUua2V5O1xuICAgICAgICAgICAgLy8gU2tpcCBhbHJlYWR5IHNlZW4gZmVhdHVyZXMuXG4gICAgICAgICAgICBpZiAoc2VlbkZlYXR1cmVzW2ZlYXR1cmVLZXkuYnVja2V0SW5zdGFuY2VJZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNlZW5GZWF0dXJlc1tmZWF0dXJlS2V5LmJ1Y2tldEluc3RhbmNlSWRdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VlbkZlYXR1cmVzW2ZlYXR1cmVLZXkuYnVja2V0SW5zdGFuY2VJZF1bZmVhdHVyZUtleS5mZWF0dXJlSW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHF1ZXJ5IGludGVyc2VjdHMgd2l0aCB0aGUgZmVhdHVyZSBib3hcbiAgICAgICAgICAgIC8vIFwiQ29sbGlzaW9uIENpcmNsZXNcIiBmb3IgbGluZSBsYWJlbHMgYXJlIHRyZWF0ZWQgYXMgYm94ZXMgaGVyZVxuICAgICAgICAgICAgLy8gU2luY2UgdGhlcmUncyBubyBhY3R1YWwgY29sbGlzaW9uIHRha2luZyBwbGFjZSwgdGhlIGNpcmNsZSB2cy4gc3F1YXJlXG4gICAgICAgICAgICAvLyBkaXN0aW5jdGlvbiBkb2Vzbid0IG1hdHRlciBhcyBtdWNoLCBhbmQgYm94IGdlb21ldHJ5IGlzIGVhc2llclxuICAgICAgICAgICAgLy8gdG8gd29yayB3aXRoLlxuICAgICAgICAgICAgY29uc3QgYmJveCA9IFtcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoZmVhdHVyZS54MSwgZmVhdHVyZS55MSksXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KGZlYXR1cmUueDIsIGZlYXR1cmUueTEpLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludChmZWF0dXJlLngyLCBmZWF0dXJlLnkyKSxcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoZmVhdHVyZS54MSwgZmVhdHVyZS55MilcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBpZiAoIWludGVyc2VjdGlvblRlc3RzLnBvbHlnb25JbnRlcnNlY3RzUG9seWdvbihxdWVyeSwgYmJveCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VlbkZlYXR1cmVzW2ZlYXR1cmVLZXkuYnVja2V0SW5zdGFuY2VJZF1bZmVhdHVyZUtleS5mZWF0dXJlSW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChyZXN1bHRbZmVhdHVyZUtleS5idWNrZXRJbnN0YW5jZUlkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ZlYXR1cmVLZXkuYnVja2V0SW5zdGFuY2VJZF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdFtmZWF0dXJlS2V5LmJ1Y2tldEluc3RhbmNlSWRdLnB1c2goZmVhdHVyZUtleS5mZWF0dXJlSW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBpbnNlcnRDb2xsaXNpb25Cb3goY29sbGlzaW9uQm94OiBBcnJheTxudW1iZXI+LCBpZ25vcmVQbGFjZW1lbnQ6IGJvb2xlYW4sIGJ1Y2tldEluc3RhbmNlSWQ6IG51bWJlciwgZmVhdHVyZUluZGV4OiBudW1iZXIsIGNvbGxpc2lvbkdyb3VwSUQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBncmlkID0gaWdub3JlUGxhY2VtZW50ID8gdGhpcy5pZ25vcmVkR3JpZCA6IHRoaXMuZ3JpZDtcblxuICAgICAgICBjb25zdCBrZXkgPSB7YnVja2V0SW5zdGFuY2VJZCwgZmVhdHVyZUluZGV4LCBjb2xsaXNpb25Hcm91cElEfTtcbiAgICAgICAgZ3JpZC5pbnNlcnQoa2V5LCBjb2xsaXNpb25Cb3hbMF0sIGNvbGxpc2lvbkJveFsxXSwgY29sbGlzaW9uQm94WzJdLCBjb2xsaXNpb25Cb3hbM10pO1xuICAgIH1cblxuICAgIGluc2VydENvbGxpc2lvbkNpcmNsZXMoY29sbGlzaW9uQ2lyY2xlczogQXJyYXk8bnVtYmVyPiwgaWdub3JlUGxhY2VtZW50OiBib29sZWFuLCBidWNrZXRJbnN0YW5jZUlkOiBudW1iZXIsIGZlYXR1cmVJbmRleDogbnVtYmVyLCBjb2xsaXNpb25Hcm91cElEOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZ3JpZCA9IGlnbm9yZVBsYWNlbWVudCA/IHRoaXMuaWdub3JlZEdyaWQgOiB0aGlzLmdyaWQ7XG5cbiAgICAgICAgY29uc3Qga2V5ID0ge2J1Y2tldEluc3RhbmNlSWQsIGZlYXR1cmVJbmRleCwgY29sbGlzaW9uR3JvdXBJRH07XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgY29sbGlzaW9uQ2lyY2xlcy5sZW5ndGg7IGsgKz0gNCkge1xuICAgICAgICAgICAgZ3JpZC5pbnNlcnRDaXJjbGUoa2V5LCBjb2xsaXNpb25DaXJjbGVzW2tdLCBjb2xsaXNpb25DaXJjbGVzW2sgKyAxXSwgY29sbGlzaW9uQ2lyY2xlc1trICsgMl0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8ocG9zTWF0cml4OiBNYXQ0LCB4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCB0aWxlSUQ6ID9PdmVyc2NhbGVkVGlsZUlELCBjaGVja09jY2x1c2lvbjogYm9vbGVhbiwgYnVja2V0UHJvamVjdGlvbjogUHJvamVjdGlvbik6IFNjcmVlbkFuY2hvclBvaW50IHtcbiAgICAgICAgY29uc3QgcCA9IFt4LCB5LCB6LCAxXTtcbiAgICAgICAgbGV0IGJlaGluZEZvZyA9IGZhbHNlO1xuICAgICAgICBpZiAoeiB8fCB0aGlzLnRyYW5zZm9ybS5waXRjaCA+IDApIHtcbiAgICAgICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChwLCBwLCBwb3NNYXRyaXgpO1xuICAgICAgICAgICAgLy8gRG8gbm90IHBlcmZvcm0gc3ltYm9sIG9jY2x1c2lvbiBvbiBnbG9iZSBkdWUgdG8gZm9nIGZpeGVkIHJhbmdlXG4gICAgICAgICAgICBjb25zdCBpc0dsb2JlID0gYnVja2V0UHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuICAgICAgICAgICAgaWYgKHRoaXMuZm9nU3RhdGUgJiYgdGlsZUlEICYmICFpc0dsb2JlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9nT3BhY2l0eSA9IGdldEZvZ09wYWNpdHlBdFRpbGVDb29yZCh0aGlzLmZvZ1N0YXRlLCB4LCB5LCB6LCB0aWxlSUQudG9VbndyYXBwZWQoKSwgdGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIGJlaGluZEZvZyA9IGZvZ09wYWNpdHkgPiBGT0dfU1lNQk9MX0NMSVBQSU5HX1RIUkVTSE9MRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN5bWJvbFByb2plY3Rpb24ueHlUcmFuc2Zvcm1NYXQ0KHAsIHAsIHBvc01hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdyA9IHBbM107XG4gICAgICAgIGNvbnN0IGEgPSBuZXcgUG9pbnQoXG4gICAgICAgICAgICAoKChwWzBdIC8gdyArIDEpIC8gMikgKiB0aGlzLnRyYW5zZm9ybS53aWR0aCkgKyB2aWV3cG9ydFBhZGRpbmcsXG4gICAgICAgICAgICAoKCgtcFsxXSAvIHcgKyAxKSAvIDIpICogdGhpcy50cmFuc2Zvcm0uaGVpZ2h0KSArIHZpZXdwb3J0UGFkZGluZ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnQ6IGEsXG4gICAgICAgICAgICAvLyBTZWUgcGVyc3BlY3RpdmUgcmF0aW8gY29tbWVudCBpbiBzeW1ib2xfc2RmLnZlcnRleFxuICAgICAgICAgICAgLy8gV2UncmUgZG9pbmcgY29sbGlzaW9uIGRldGVjdGlvbiBpbiB2aWV3cG9ydCBzcGFjZSBzbyB3ZSBuZWVkXG4gICAgICAgICAgICAvLyB0byBzY2FsZSBkb3duIGJveGVzIGluIHRoZSBkaXN0YW5jZVxuICAgICAgICAgICAgcGVyc3BlY3RpdmVSYXRpbzogTWF0aC5taW4oMC41ICsgMC41ICogKHRoaXMudHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UoYnVja2V0UHJvamVjdGlvbikgLyB3KSwgMS41KSxcbiAgICAgICAgICAgIHNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYTogdyxcbiAgICAgICAgICAgIG9jY2x1ZGVkOiAoY2hlY2tPY2NsdXNpb24gJiYgcFsyXSA+IHcpIHx8IGJlaGluZEZvZyAvLyBPY2NsdWRlZCBieSB0aGUgZmFyIHBsYW5lXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaXNPZmZzY3JlZW4oeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4geDIgPCB2aWV3cG9ydFBhZGRpbmcgfHwgeDEgPj0gdGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5IHx8IHkyIDwgdmlld3BvcnRQYWRkaW5nIHx8IHkxID4gdGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeTtcbiAgICB9XG5cbiAgICBpc0luc2lkZUdyaWQoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4geDIgPj0gMCAmJiB4MSA8IHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnkgJiYgeTIgPj0gMCAmJiB5MSA8IHRoaXMuZ3JpZEJvdHRvbUJvdW5kYXJ5O1xuICAgIH1cblxuICAgIC8qXG4gICAgKiBSZXR1cm5zIGEgbWF0cml4IGZvciB0cmFuc2Zvcm1pbmcgY29sbGlzaW9uIHNoYXBlcyB0byB2aWV3cG9ydCBjb29yZGluYXRlIHNwYWNlLlxuICAgICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gcmVuZGVyIGUuZy4gY29sbGlzaW9uIGNpcmNsZXMgb24gdGhlIHNjcmVlbi5cbiAgICAqICAgZXhhbXBsZSB0cmFuc2Zvcm1hdGlvbjogY2xpcFBvcyA9IGdsQ29vcmRNYXRyaXggKiB2aWV3cG9ydE1hdHJpeCAqIGNpcmNsZV9wb3NcbiAgICAqL1xuICAgIGdldFZpZXdwb3J0TWF0cml4KCk6IE1hdDQge1xuICAgICAgICBjb25zdCBtID0gbWF0NC5pZGVudGl0eShbXSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKG0sIG0sIFstdmlld3BvcnRQYWRkaW5nLCAtdmlld3BvcnRQYWRkaW5nLCAwLjBdKTtcbiAgICAgICAgcmV0dXJuIG07XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb2xsaXNpb25JbmRleDtcbiIsIi8vIEBmbG93XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUgU3ltYm9sQnVja2V0IGZyb20gJy4uLy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQuanMnO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uLy4uL2dlby90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHR5cGUgUHJvamVjdGlvbiBmcm9tICcuL3Byb2plY3Rpb24uanMnO1xuaW1wb3J0IHttYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5mdW5jdGlvbiByZWNvbnN0cnVjdFRpbGVNYXRyaXgodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHByb2plY3Rpb246IFByb2plY3Rpb24sIGNvb3JkOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgLy8gQnVja2V0IGJlaW5nIHJlbmRlcmVkIGlzIGJ1aWx0IGZvciBkaWZmZXJlbnQgbWFwIHByb2plY3Rpb25cbiAgICAvLyB0aGFuIGlzIGN1cnJlbnRseSBiZWluZyB1c2VkLiBSZWNvbnN0cnVjdCBjb3JyZWN0IG1hdHJpY2VzLlxuICAgIC8vIFRoaXMgY29kZSBwYXRoIG1heSBoYXBwZW4gZHVyaW5nIGEgR2xvYmUgLSBNZXJjYXRvciB0cmFuc2l0aW9uXG4gICAgY29uc3QgdGlsZU1hdHJpeCA9IHByb2plY3Rpb24uY3JlYXRlVGlsZU1hdHJpeCh0cmFuc2Zvcm0sIHRyYW5zZm9ybS53b3JsZFNpemUsIGNvb3JkLnRvVW53cmFwcGVkKCkpO1xuICAgIHJldHVybiBtYXQ0Lm11bHRpcGx5KG5ldyBGbG9hdDMyQXJyYXkoMTYpLCB0cmFuc2Zvcm0ucHJvak1hdHJpeCwgdGlsZU1hdHJpeCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xsaXNpb25EZWJ1Z1RpbGVQcm9qZWN0aW9uTWF0cml4KGNvb3JkOiBPdmVyc2NhbGVkVGlsZUlELCBidWNrZXQ6IFN5bWJvbEJ1Y2tldCwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBGbG9hdDMyQXJyYXkge1xuICAgIGlmIChidWNrZXQucHJvamVjdGlvbi5uYW1lID09PSB0cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKSB7XG4gICAgICAgIGFzc2VydChjb29yZC5wcm9qTWF0cml4KTtcbiAgICAgICAgcmV0dXJuIGNvb3JkLnByb2pNYXRyaXg7XG4gICAgfVxuICAgIGNvbnN0IHRyID0gdHJhbnNmb3JtLmNsb25lKCk7XG4gICAgdHIuc2V0UHJvamVjdGlvbihidWNrZXQucHJvamVjdGlvbik7XG4gICAgcmV0dXJuIHJlY29uc3RydWN0VGlsZU1hdHJpeCh0ciwgYnVja2V0LmdldFByb2plY3Rpb24oKSwgY29vcmQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3ltYm9sVGlsZVByb2plY3Rpb25NYXRyaXgoY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQsIGJ1Y2tldFByb2plY3Rpb246IFByb2plY3Rpb24sIHRyYW5zZm9ybTogVHJhbnNmb3JtKTogRmxvYXQzMkFycmF5IHtcbiAgICBpZiAoYnVja2V0UHJvamVjdGlvbi5uYW1lID09PSB0cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKSB7XG4gICAgICAgIGFzc2VydChjb29yZC5wcm9qTWF0cml4KTtcbiAgICAgICAgcmV0dXJuIGNvb3JkLnByb2pNYXRyaXg7XG4gICAgfVxuICAgIHJldHVybiByZWNvbnN0cnVjdFRpbGVNYXRyaXgodHJhbnNmb3JtLCBidWNrZXRQcm9qZWN0aW9uLCBjb29yZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTeW1ib2xQbGFjZW1lbnRUaWxlUHJvamVjdGlvbk1hdHJpeChjb29yZDogT3ZlcnNjYWxlZFRpbGVJRCwgYnVja2V0UHJvamVjdGlvbjogUHJvamVjdGlvbiwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHJ1bnRpbWVQcm9qZWN0aW9uOiBzdHJpbmcpOiBGbG9hdDMyQXJyYXkge1xuICAgIGlmIChidWNrZXRQcm9qZWN0aW9uLm5hbWUgPT09IHJ1bnRpbWVQcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeChjb29yZC50b1Vud3JhcHBlZCgpKTtcbiAgICB9XG4gICAgYXNzZXJ0KHRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUgPT09IGJ1Y2tldFByb2plY3Rpb24ubmFtZSk7XG4gICAgcmV0dXJuIHJlY29uc3RydWN0VGlsZU1hdHJpeCh0cmFuc2Zvcm0sIGJ1Y2tldFByb2plY3Rpb24sIGNvb3JkKTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBDb2xsaXNpb25JbmRleCBmcm9tICcuL2NvbGxpc2lvbl9pbmRleC5qcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50LmpzJztcbmltcG9ydCBPTkVfRU0gZnJvbSAnLi9vbmVfZW0uanMnO1xuaW1wb3J0ICogYXMgc3ltYm9sU2l6ZSBmcm9tICcuL3N5bWJvbF9zaXplLmpzJztcbmltcG9ydCAqIGFzIHByb2plY3Rpb24gZnJvbSAnLi9wcm9qZWN0aW9uLmpzJztcbmltcG9ydCB7Z2V0QW5jaG9ySnVzdGlmaWNhdGlvbiwgZXZhbHVhdGVWYXJpYWJsZU9mZnNldH0gZnJvbSAnLi9zeW1ib2xfbGF5b3V0LmpzJztcbmltcG9ydCB7Z2V0QW5jaG9yQWxpZ25tZW50LCBXcml0aW5nTW9kZX0gZnJvbSAnLi9zaGFwaW5nLmpzJztcbmltcG9ydCB7bWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZS5qcyc7XG5pbXBvcnQgdHlwZSBTeW1ib2xCdWNrZXQsIHtDb2xsaXNpb25BcnJheXMsIFNpbmdsZUNvbGxpc2lvbkJveH0gZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldC5qcyc7XG5pbXBvcnQgdHlwZSB7Q29sbGlzaW9uQm94QXJyYXksIENvbGxpc2lvblZlcnRleEFycmF5LCBTeW1ib2xJbnN0YW5jZX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSBGZWF0dXJlSW5kZXggZnJvbSAnLi4vZGF0YS9mZWF0dXJlX2luZGV4LmpzJztcbmltcG9ydCB7Z2V0U3ltYm9sUGxhY2VtZW50VGlsZVByb2plY3Rpb25NYXRyaXh9IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3Byb2plY3Rpb25fdXRpbC5qcyc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUge1RleHRBbmNob3J9IGZyb20gJy4vc3ltYm9sX2xheW91dC5qcyc7XG5pbXBvcnQgdHlwZSB7Rm9nU3RhdGV9IGZyb20gJy4uL3N0eWxlL2ZvZ19oZWxwZXJzLmpzJztcbmltcG9ydCB0eXBlIHtNYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IHR5cGUge1BsYWNlZENvbGxpc2lvbkJveH0gZnJvbSAnLi9jb2xsaXNpb25faW5kZXguanMnO1xuXG4vLyBQbGFjZWRDb2xsaXNpb25Cb3ggd2l0aCBhbGwgZmllbGRzIG9wdGlvbmFsXG50eXBlIFBhcnRpYWxQbGFjZWRDb2xsaXNpb25Cb3ggPSAkT2JqTWFwPFBsYWNlZENvbGxpc2lvbkJveCwgPFY+KCkgPT4gP1Y+O1xuXG5jbGFzcyBPcGFjaXR5U3RhdGUge1xuICAgIG9wYWNpdHk6IG51bWJlcjtcbiAgICBwbGFjZWQ6IGJvb2xlYW47XG4gICAgY29uc3RydWN0b3IocHJldlN0YXRlOiA/T3BhY2l0eVN0YXRlLCBpbmNyZW1lbnQ6IG51bWJlciwgcGxhY2VkOiBib29sZWFuLCBza2lwRmFkZTogP2Jvb2xlYW4pIHtcbiAgICAgICAgaWYgKHByZXZTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcHJldlN0YXRlLm9wYWNpdHkgKyAocHJldlN0YXRlLnBsYWNlZCA/IGluY3JlbWVudCA6IC1pbmNyZW1lbnQpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSAoc2tpcEZhZGUgJiYgcGxhY2VkKSA/IDEgOiAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxhY2VkID0gcGxhY2VkO1xuICAgIH1cbiAgICBpc0hpZGRlbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3BhY2l0eSA9PT0gMCAmJiAhdGhpcy5wbGFjZWQ7XG4gICAgfVxufVxuXG5jbGFzcyBKb2ludE9wYWNpdHlTdGF0ZSB7XG4gICAgdGV4dDogT3BhY2l0eVN0YXRlO1xuICAgIGljb246IE9wYWNpdHlTdGF0ZTtcbiAgICBjbGlwcGVkOiBib29sZWFuO1xuICAgIGNvbnN0cnVjdG9yKHByZXZTdGF0ZTogP0pvaW50T3BhY2l0eVN0YXRlLCBpbmNyZW1lbnQ6IG51bWJlciwgcGxhY2VkVGV4dDogYm9vbGVhbiwgcGxhY2VkSWNvbjogYm9vbGVhbiwgc2tpcEZhZGU6ID9ib29sZWFuLCBjbGlwcGVkOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gbmV3IE9wYWNpdHlTdGF0ZShwcmV2U3RhdGUgPyBwcmV2U3RhdGUudGV4dCA6IG51bGwsIGluY3JlbWVudCwgcGxhY2VkVGV4dCwgc2tpcEZhZGUpO1xuICAgICAgICB0aGlzLmljb24gPSBuZXcgT3BhY2l0eVN0YXRlKHByZXZTdGF0ZSA/IHByZXZTdGF0ZS5pY29uIDogbnVsbCwgaW5jcmVtZW50LCBwbGFjZWRJY29uLCBza2lwRmFkZSk7XG5cbiAgICAgICAgdGhpcy5jbGlwcGVkID0gY2xpcHBlZDtcbiAgICB9XG4gICAgaXNIaWRkZW4oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQuaXNIaWRkZW4oKSAmJiB0aGlzLmljb24uaXNIaWRkZW4oKTtcbiAgICB9XG59XG5cbmNsYXNzIEpvaW50UGxhY2VtZW50IHtcbiAgICB0ZXh0OiBib29sZWFuO1xuICAgIGljb246IGJvb2xlYW47XG4gICAgLy8gc2tpcEZhZGUgPSBvdXRzaWRlIHZpZXdwb3J0LCBidXQgd2l0aGluIENvbGxpc2lvbkluZGV4Ojp2aWV3cG9ydFBhZGRpbmcgcHggb2YgdGhlIGVkZ2VcbiAgICAvLyBCZWNhdXNlIHRoZXNlIHN5bWJvbHMgYXJlbid0IG9uc2NyZWVuIHlldCwgd2UgY2FuIHNraXAgdGhlIFwiZmFkZSBpblwiIGFuaW1hdGlvbixcbiAgICAvLyBhbmQgaWYgYSBzdWJzZXF1ZW50IHZpZXdwb3J0IGNoYW5nZSBicmluZ3MgdGhlbSBpbnRvIHZpZXcsIHRoZXknbGwgYmUgZnVsbHlcbiAgICAvLyB2aXNpYmxlIHJpZ2h0IGF3YXkuXG4gICAgc2tpcEZhZGU6IGJvb2xlYW47XG5cbiAgICBjbGlwcGVkOiBib29sZWFuXG4gICAgY29uc3RydWN0b3IodGV4dDogYm9vbGVhbiwgaWNvbjogYm9vbGVhbiwgc2tpcEZhZGU6IGJvb2xlYW4sIGNsaXBwZWQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmljb24gPSBpY29uO1xuICAgICAgICB0aGlzLnNraXBGYWRlID0gc2tpcEZhZGU7XG4gICAgICAgIHRoaXMuY2xpcHBlZCA9IGNsaXBwZWQ7XG4gICAgfVxufVxuXG5jbGFzcyBDb2xsaXNpb25DaXJjbGVBcnJheSB7XG4gICAgLy8gU3RvcmVzIGNvbGxpc2lvbiBjaXJjbGVzIGFuZCBwbGFjZW1lbnQgbWF0cmljZXMgb2YgYSBidWNrZXQgZm9yIGRlYnVnIHJlbmRlcmluZy5cbiAgICBpbnZQcm9qTWF0cml4OiBNYXQ0O1xuICAgIHZpZXdwb3J0TWF0cml4OiBNYXQ0O1xuICAgIGNpcmNsZXM6IEFycmF5PG51bWJlcj47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbnZQcm9qTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydE1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuY2lyY2xlcyA9IFtdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJldGFpbmVkUXVlcnlEYXRhIHtcbiAgICBidWNrZXRJbnN0YW5jZUlkOiBudW1iZXI7XG4gICAgZmVhdHVyZUluZGV4OiBGZWF0dXJlSW5kZXg7XG4gICAgc291cmNlTGF5ZXJJbmRleDogbnVtYmVyO1xuICAgIGJ1Y2tldEluZGV4OiBudW1iZXI7XG4gICAgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEO1xuICAgIGZlYXR1cmVTb3J0T3JkZXI6ID9BcnJheTxudW1iZXI+XG4gICAgY29uc3RydWN0b3IoYnVja2V0SW5zdGFuY2VJZDogbnVtYmVyLFxuICAgICAgICAgICAgICAgIGZlYXR1cmVJbmRleDogRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgIHNvdXJjZUxheWVySW5kZXg6IG51bWJlcixcbiAgICAgICAgICAgICAgICBidWNrZXRJbmRleDogbnVtYmVyLFxuICAgICAgICAgICAgICAgIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCkge1xuICAgICAgICB0aGlzLmJ1Y2tldEluc3RhbmNlSWQgPSBidWNrZXRJbnN0YW5jZUlkO1xuICAgICAgICB0aGlzLmZlYXR1cmVJbmRleCA9IGZlYXR1cmVJbmRleDtcbiAgICAgICAgdGhpcy5zb3VyY2VMYXllckluZGV4ID0gc291cmNlTGF5ZXJJbmRleDtcbiAgICAgICAgdGhpcy5idWNrZXRJbmRleCA9IGJ1Y2tldEluZGV4O1xuICAgICAgICB0aGlzLnRpbGVJRCA9IHRpbGVJRDtcbiAgICB9XG59XG5cbnR5cGUgQ29sbGlzaW9uR3JvdXAgPSB7fElEOiBudW1iZXIsIHByZWRpY2F0ZT86IGFueXx9O1xuXG5jbGFzcyBDb2xsaXNpb25Hcm91cHMge1xuICAgIGNvbGxpc2lvbkdyb3Vwczoge1tncm91cE5hbWU6IHN0cmluZ106IENvbGxpc2lvbkdyb3VwfTtcbiAgICBtYXhHcm91cElEOiBudW1iZXI7XG4gICAgY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zID0gY3Jvc3NTb3VyY2VDb2xsaXNpb25zO1xuICAgICAgICB0aGlzLm1heEdyb3VwSUQgPSAwO1xuICAgICAgICB0aGlzLmNvbGxpc2lvbkdyb3VwcyA9IHt9O1xuICAgIH1cblxuICAgIGdldChzb3VyY2VJRDogc3RyaW5nKTogQ29sbGlzaW9uR3JvdXAge1xuICAgICAgICAvLyBUaGUgcHJlZGljYXRlL2dyb3VwSUQgbWVjaGFuaXNtIGFsbG93cyBmb3IgYXJiaXRyYXJ5IGdyb3VwaW5nLFxuICAgICAgICAvLyBidXQgdGhlIGN1cnJlbnQgaW50ZXJmYWNlIGRlZmluZXMgb25lIHNvdXJjZSA9PSBvbmUgZ3JvdXAgd2hlblxuICAgICAgICAvLyBjcm9zc1NvdXJjZUNvbGxpc2lvbnMgPT0gdHJ1ZS5cbiAgICAgICAgaWYgKCF0aGlzLmNyb3NzU291cmNlQ29sbGlzaW9ucykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbGxpc2lvbkdyb3Vwc1tzb3VyY2VJRF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0R3JvdXBJRCA9ICsrdGhpcy5tYXhHcm91cElEO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uR3JvdXBzW3NvdXJjZUlEXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgSUQ6IG5leHRHcm91cElELFxuICAgICAgICAgICAgICAgICAgICBwcmVkaWNhdGU6IChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuY29sbGlzaW9uR3JvdXBJRCA9PT0gbmV4dEdyb3VwSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGlzaW9uR3JvdXBzW3NvdXJjZUlEXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7SUQ6IDAsIHByZWRpY2F0ZTogbnVsbH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVZhcmlhYmxlTGF5b3V0U2hpZnQoYW5jaG9yOiBUZXh0QW5jaG9yLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgdGV4dE9mZnNldDogW251bWJlciwgbnVtYmVyXSwgdGV4dFNjYWxlOiBudW1iZXIpOiBQb2ludCB7XG4gICAgY29uc3Qge2hvcml6b250YWxBbGlnbiwgdmVydGljYWxBbGlnbn0gPSBnZXRBbmNob3JBbGlnbm1lbnQoYW5jaG9yKTtcbiAgICBjb25zdCBzaGlmdFggPSAtKGhvcml6b250YWxBbGlnbiAtIDAuNSkgKiB3aWR0aDtcbiAgICBjb25zdCBzaGlmdFkgPSAtKHZlcnRpY2FsQWxpZ24gLSAwLjUpICogaGVpZ2h0O1xuICAgIGNvbnN0IG9mZnNldCA9IGV2YWx1YXRlVmFyaWFibGVPZmZzZXQoYW5jaG9yLCB0ZXh0T2Zmc2V0KTtcbiAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICBzaGlmdFggKyBvZmZzZXRbMF0gKiB0ZXh0U2NhbGUsXG4gICAgICAgIHNoaWZ0WSArIG9mZnNldFsxXSAqIHRleHRTY2FsZVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIG9mZnNldFNoaWZ0KHNoaWZ0WDogbnVtYmVyLCBzaGlmdFk6IG51bWJlciwgcm90YXRlV2l0aE1hcDogYm9vbGVhbiwgcGl0Y2hXaXRoTWFwOiBib29sZWFuLCBhbmdsZTogbnVtYmVyKTogUG9pbnQge1xuICAgIGNvbnN0IHNoaWZ0ID0gbmV3IFBvaW50KHNoaWZ0WCwgc2hpZnRZKTtcbiAgICBpZiAocm90YXRlV2l0aE1hcCkge1xuICAgICAgICBzaGlmdC5fcm90YXRlKHBpdGNoV2l0aE1hcCA/IGFuZ2xlIDogLWFuZ2xlKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoaWZ0O1xufVxuXG5leHBvcnQgdHlwZSBWYXJpYWJsZU9mZnNldCA9IHtcbiAgICB0ZXh0T2Zmc2V0OiBbbnVtYmVyLCBudW1iZXJdLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgYW5jaG9yOiBUZXh0QW5jaG9yLFxuICAgIHRleHRTY2FsZTogbnVtYmVyLFxuICAgIHByZXZBbmNob3I/OiBUZXh0QW5jaG9yXG59O1xuXG50eXBlIFRpbGVMYXllclBhcmFtZXRlcnMgPSB7XG4gICAgYnVja2V0OiBTeW1ib2xCdWNrZXQsXG4gICAgbGF5b3V0OiBhbnksXG4gICAgcG9zTWF0cml4OiBNYXQ0LFxuICAgIHRleHRMYWJlbFBsYW5lTWF0cml4OiBNYXQ0LFxuICAgIGxhYmVsVG9TY3JlZW5NYXRyaXg6ID9NYXQ0LFxuICAgIHNjYWxlOiBudW1iZXIsXG4gICAgdGV4dFBpeGVsUmF0aW86IG51bWJlcixcbiAgICBob2xkaW5nRm9yRmFkZTogYm9vbGVhbixcbiAgICBjb2xsaXNpb25Cb3hBcnJheTogP0NvbGxpc2lvbkJveEFycmF5LFxuICAgIHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOiBhbnksXG4gICAgY29sbGlzaW9uR3JvdXA6IGFueVxufTtcblxuZXhwb3J0IHR5cGUgQnVja2V0UGFydCA9IHtcbiAgICBzb3J0S2V5PzogbnVtYmVyIHwgdm9pZCxcbiAgICBzeW1ib2xJbnN0YW5jZVN0YXJ0OiBudW1iZXIsXG4gICAgc3ltYm9sSW5zdGFuY2VFbmQ6IG51bWJlcixcbiAgICBwYXJhbWV0ZXJzOiBUaWxlTGF5ZXJQYXJhbWV0ZXJzXG59O1xuXG5leHBvcnQgdHlwZSBDcm9zc1RpbGVJRCA9IHN0cmluZyB8IG51bWJlcjtcblxuZXhwb3J0IGNsYXNzIFBsYWNlbWVudCB7XG4gICAgcHJvamVjdGlvbjogc3RyaW5nO1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIGNvbGxpc2lvbkluZGV4OiBDb2xsaXNpb25JbmRleDtcbiAgICBwbGFjZW1lbnRzOiB7IFtfOiBDcm9zc1RpbGVJRF06IEpvaW50UGxhY2VtZW50IH07XG4gICAgb3BhY2l0aWVzOiB7IFtfOiBDcm9zc1RpbGVJRF06IEpvaW50T3BhY2l0eVN0YXRlIH07XG4gICAgdmFyaWFibGVPZmZzZXRzOiB7W186IENyb3NzVGlsZUlEXTogVmFyaWFibGVPZmZzZXQgfTtcbiAgICBwbGFjZWRPcmllbnRhdGlvbnM6IHtbXzogQ3Jvc3NUaWxlSURdOiBudW1iZXIgfTtcbiAgICBjb21taXRUaW1lOiBudW1iZXI7XG4gICAgcHJldlpvb21BZGp1c3RtZW50OiBudW1iZXI7XG4gICAgbGFzdFBsYWNlbWVudENoYW5nZVRpbWU6IG51bWJlcjtcbiAgICBzdGFsZTogYm9vbGVhbjtcbiAgICBmYWRlRHVyYXRpb246IG51bWJlcjtcbiAgICByZXRhaW5lZFF1ZXJ5RGF0YToge1tfOiBudW1iZXJdOiBSZXRhaW5lZFF1ZXJ5RGF0YX07XG4gICAgY29sbGlzaW9uR3JvdXBzOiBDb2xsaXNpb25Hcm91cHM7XG4gICAgcHJldlBsYWNlbWVudDogP1BsYWNlbWVudDtcbiAgICB6b29tQXRMYXN0UmVjZW5jeUNoZWNrOiBudW1iZXI7XG4gICAgY29sbGlzaW9uQ2lyY2xlQXJyYXlzOiB7W2FueV06IENvbGxpc2lvbkNpcmNsZUFycmF5fTtcblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogVHJhbnNmb3JtLCBmYWRlRHVyYXRpb246IG51bWJlciwgY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiBib29sZWFuLCBwcmV2UGxhY2VtZW50PzogUGxhY2VtZW50LCBmb2dTdGF0ZTogP0ZvZ1N0YXRlKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtLmNsb25lKCk7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbiA9IHRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWU7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uSW5kZXggPSBuZXcgQ29sbGlzaW9uSW5kZXgodGhpcy50cmFuc2Zvcm0sIGZvZ1N0YXRlKTtcbiAgICAgICAgdGhpcy5wbGFjZW1lbnRzID0ge307XG4gICAgICAgIHRoaXMub3BhY2l0aWVzID0ge307XG4gICAgICAgIHRoaXMudmFyaWFibGVPZmZzZXRzID0ge307XG4gICAgICAgIHRoaXMuc3RhbGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb21taXRUaW1lID0gMDtcbiAgICAgICAgdGhpcy5mYWRlRHVyYXRpb24gPSBmYWRlRHVyYXRpb247XG4gICAgICAgIHRoaXMucmV0YWluZWRRdWVyeURhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5jb2xsaXNpb25Hcm91cHMgPSBuZXcgQ29sbGlzaW9uR3JvdXBzKGNyb3NzU291cmNlQ29sbGlzaW9ucyk7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzID0ge307XG5cbiAgICAgICAgdGhpcy5wcmV2UGxhY2VtZW50ID0gcHJldlBsYWNlbWVudDtcbiAgICAgICAgaWYgKHByZXZQbGFjZW1lbnQpIHtcbiAgICAgICAgICAgIHByZXZQbGFjZW1lbnQucHJldlBsYWNlbWVudCA9IHVuZGVmaW5lZDsgLy8gT25seSBob2xkIG9uIHRvIG9uZSBwbGFjZW1lbnQgYmFja1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGFjZWRPcmllbnRhdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBnZXRCdWNrZXRQYXJ0cyhyZXN1bHRzOiBBcnJheTxCdWNrZXRQYXJ0Piwgc3R5bGVMYXllcjogU3R5bGVMYXllciwgdGlsZTogVGlsZSwgc29ydEFjcm9zc1RpbGVzOiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IHN5bWJvbEJ1Y2tldCA9ICgodGlsZS5nZXRCdWNrZXQoc3R5bGVMYXllcik6IGFueSk6IFN5bWJvbEJ1Y2tldCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldEZlYXR1cmVJbmRleCA9IHRpbGUubGF0ZXN0RmVhdHVyZUluZGV4O1xuXG4gICAgICAgIGlmICghc3ltYm9sQnVja2V0IHx8ICFidWNrZXRGZWF0dXJlSW5kZXggfHwgc3R5bGVMYXllci5pZCAhPT0gc3ltYm9sQnVja2V0LmxheWVySWRzWzBdKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHN5bWJvbEJ1Y2tldC5sYXllcnNbMF0ubGF5b3V0O1xuXG4gICAgICAgIGNvbnN0IGNvbGxpc2lvbkJveEFycmF5ID0gdGlsZS5jb2xsaXNpb25Cb3hBcnJheTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygyLCB0aGlzLnRyYW5zZm9ybS56b29tIC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgICAgICBjb25zdCB0ZXh0UGl4ZWxSYXRpbyA9IHRpbGUudGlsZVNpemUgLyBFWFRFTlQ7XG4gICAgICAgIGNvbnN0IHVud3JhcHBlZFRpbGVJRCA9IHRpbGUudGlsZUlELnRvVW53cmFwcGVkKCk7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihzeW1ib2xCdWNrZXQucHJvamVjdGlvbik7XG5cbiAgICAgICAgY29uc3QgcG9zTWF0cml4ID0gZ2V0U3ltYm9sUGxhY2VtZW50VGlsZVByb2plY3Rpb25NYXRyaXgodGlsZS50aWxlSUQsIHN5bWJvbEJ1Y2tldC5nZXRQcm9qZWN0aW9uKCksIHRoaXMudHJhbnNmb3JtLCB0aGlzLnByb2plY3Rpb24pO1xuXG4gICAgICAgIGNvbnN0IHBpdGNoV2l0aE1hcCA9IGxheW91dC5nZXQoJ3RleHQtcGl0Y2gtYWxpZ25tZW50JykgPT09ICdtYXAnO1xuICAgICAgICBjb25zdCByb3RhdGVXaXRoTWFwID0gbGF5b3V0LmdldCgndGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQnKSA9PT0gJ21hcCc7XG5cbiAgICAgICAgc3R5bGVMYXllci5jb21waWxlRmlsdGVyKCk7XG5cbiAgICAgICAgY29uc3QgZHluYW1pY0ZpbHRlciA9IHN0eWxlTGF5ZXIuZHluYW1pY0ZpbHRlcigpO1xuICAgICAgICBjb25zdCBkeW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlID0gc3R5bGVMYXllci5keW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlKCk7XG4gICAgICAgIGNvbnN0IHBpeGVsc1RvVGlsZXMgPSB0aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0aWxlKTtcblxuICAgICAgICBjb25zdCB0ZXh0TGFiZWxQbGFuZU1hdHJpeCA9IHByb2plY3Rpb24uZ2V0TGFiZWxQbGFuZU1hdHJpeEZvclBsYWNlbWVudChwb3NNYXRyaXgsXG4gICAgICAgICAgICAgICAgdGlsZS50aWxlSUQuY2Fub25pY2FsLFxuICAgICAgICAgICAgICAgIHBpdGNoV2l0aE1hcCxcbiAgICAgICAgICAgICAgICByb3RhdGVXaXRoTWFwLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIHN5bWJvbEJ1Y2tldC5nZXRQcm9qZWN0aW9uKCksXG4gICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlcyk7XG5cbiAgICAgICAgbGV0IGxhYmVsVG9TY3JlZW5NYXRyaXggPSBudWxsO1xuXG4gICAgICAgIGlmIChwaXRjaFdpdGhNYXApIHtcbiAgICAgICAgICAgIGNvbnN0IGdsTWF0cml4ID0gcHJvamVjdGlvbi5nZXRHbENvb3JkTWF0cml4KFxuICAgICAgICAgICAgICAgIHBvc01hdHJpeCxcbiAgICAgICAgICAgICAgICB0aWxlLnRpbGVJRC5jYW5vbmljYWwsXG4gICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwLFxuICAgICAgICAgICAgICAgIHJvdGF0ZVdpdGhNYXAsXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgc3ltYm9sQnVja2V0LmdldFByb2plY3Rpb24oKSxcbiAgICAgICAgICAgICAgICBwaXhlbHNUb1RpbGVzKTtcblxuICAgICAgICAgICAgbGFiZWxUb1NjcmVlbk1hdHJpeCA9IG1hdDQubXVsdGlwbHkoW10sIHRoaXMudHJhbnNmb3JtLmxhYmVsUGxhbmVNYXRyaXgsIGdsTWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjbGlwcGluZ0RhdGEgPSBudWxsO1xuICAgICAgICBhc3NlcnQoISF0aWxlLmxhdGVzdEZlYXR1cmVJbmRleCk7XG4gICAgICAgIGlmICghIWR5bmFtaWNGaWx0ZXIgJiYgdGlsZS5sYXRlc3RGZWF0dXJlSW5kZXgpIHtcblxuICAgICAgICAgICAgY2xpcHBpbmdEYXRhID0ge1xuICAgICAgICAgICAgICAgIHVud3JhcHBlZFRpbGVJRCxcbiAgICAgICAgICAgICAgICBkeW5hbWljRmlsdGVyLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUsXG4gICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4OiB0aWxlLmxhdGVzdEZlYXR1cmVJbmRleFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFzIGxvbmcgYXMgdGhpcyBwbGFjZW1lbnQgbGl2ZXMsIHdlIGhhdmUgdG8gaG9sZCBvbnRvIHRoaXMgYnVja2V0J3NcbiAgICAgICAgLy8gbWF0Y2hpbmcgRmVhdHVyZUluZGV4L2RhdGEgZm9yIHF1ZXJ5aW5nIHB1cnBvc2VzXG4gICAgICAgIHRoaXMucmV0YWluZWRRdWVyeURhdGFbc3ltYm9sQnVja2V0LmJ1Y2tldEluc3RhbmNlSWRdID0gbmV3IFJldGFpbmVkUXVlcnlEYXRhKFxuICAgICAgICAgICAgc3ltYm9sQnVja2V0LmJ1Y2tldEluc3RhbmNlSWQsXG4gICAgICAgICAgICBidWNrZXRGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICBzeW1ib2xCdWNrZXQuc291cmNlTGF5ZXJJbmRleCxcbiAgICAgICAgICAgIHN5bWJvbEJ1Y2tldC5pbmRleCxcbiAgICAgICAgICAgIHRpbGUudGlsZUlEXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IHtcbiAgICAgICAgICAgIGJ1Y2tldDogc3ltYm9sQnVja2V0LFxuICAgICAgICAgICAgbGF5b3V0LFxuICAgICAgICAgICAgcG9zTWF0cml4LFxuICAgICAgICAgICAgdGV4dExhYmVsUGxhbmVNYXRyaXgsXG4gICAgICAgICAgICBsYWJlbFRvU2NyZWVuTWF0cml4LFxuICAgICAgICAgICAgY2xpcHBpbmdEYXRhLFxuICAgICAgICAgICAgc2NhbGUsXG4gICAgICAgICAgICB0ZXh0UGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIGhvbGRpbmdGb3JGYWRlOiB0aWxlLmhvbGRpbmdGb3JGYWRlKCksXG4gICAgICAgICAgICBjb2xsaXNpb25Cb3hBcnJheSxcbiAgICAgICAgICAgIHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOiBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvclpvb20oc3ltYm9sQnVja2V0LnRleHRTaXplRGF0YSwgdGhpcy50cmFuc2Zvcm0uem9vbSksXG4gICAgICAgICAgICBwYXJ0aWFsbHlFdmFsdWF0ZWRJY29uU2l6ZTogc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3Jab29tKHN5bWJvbEJ1Y2tldC5pY29uU2l6ZURhdGEsIHRoaXMudHJhbnNmb3JtLnpvb20pLFxuICAgICAgICAgICAgY29sbGlzaW9uR3JvdXA6IHRoaXMuY29sbGlzaW9uR3JvdXBzLmdldChzeW1ib2xCdWNrZXQuc291cmNlSUQpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHNvcnRBY3Jvc3NUaWxlcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCByYW5nZSBvZiBzeW1ib2xCdWNrZXQuc29ydEtleVJhbmdlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHtzb3J0S2V5LCBzeW1ib2xJbnN0YW5jZVN0YXJ0LCBzeW1ib2xJbnN0YW5jZUVuZH0gPSByYW5nZTtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe3NvcnRLZXksIHN5bWJvbEluc3RhbmNlU3RhcnQsIHN5bWJvbEluc3RhbmNlRW5kLCBwYXJhbWV0ZXJzfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlU3RhcnQ6IDAsXG4gICAgICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2VFbmQ6IHN5bWJvbEJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXR0ZW1wdEFuY2hvclBsYWNlbWVudChhbmNob3I6IFRleHRBbmNob3IsIHRleHRCb3g6IFNpbmdsZUNvbGxpc2lvbkJveCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2NhbGU6IG51bWJlciwgcm90YXRlV2l0aE1hcDogYm9vbGVhbiwgcGl0Y2hXaXRoTWFwOiBib29sZWFuLCB0ZXh0UGl4ZWxSYXRpbzogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zTWF0cml4OiBNYXQ0LCBjb2xsaXNpb25Hcm91cDogQ29sbGlzaW9uR3JvdXAsIHRleHRBbGxvd092ZXJsYXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xJbnN0YW5jZTogU3ltYm9sSW5zdGFuY2UsIGJveEluZGV4OiBudW1iZXIsIGJ1Y2tldDogU3ltYm9sQnVja2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb246IG51bWJlciwgaWNvbkJveDogP1NpbmdsZUNvbGxpc2lvbkJveCwgdGV4dFNpemU6IGFueSwgaWNvblNpemU6IGFueSk6ID97IHNoaWZ0OiBQb2ludCwgcGxhY2VkR2x5cGhCb3hlczogUGxhY2VkQ29sbGlzaW9uQm94IH0gIHtcblxuICAgICAgICBjb25zdCB7dGV4dE9mZnNldDAsIHRleHRPZmZzZXQxLCBjcm9zc1RpbGVJRH0gPSBzeW1ib2xJbnN0YW5jZTtcbiAgICAgICAgY29uc3QgdGV4dE9mZnNldCA9IFt0ZXh0T2Zmc2V0MCwgdGV4dE9mZnNldDFdO1xuICAgICAgICBjb25zdCBzaGlmdCA9IGNhbGN1bGF0ZVZhcmlhYmxlTGF5b3V0U2hpZnQoYW5jaG9yLCB3aWR0aCwgaGVpZ2h0LCB0ZXh0T2Zmc2V0LCB0ZXh0U2NhbGUpO1xuXG4gICAgICAgIGNvbnN0IHBsYWNlZEdseXBoQm94ZXMgPSB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KFxuICAgICAgICAgICAgYnVja2V0LCB0ZXh0U2NhbGUsIHRleHRCb3gsIG9mZnNldFNoaWZ0KHNoaWZ0LngsIHNoaWZ0LnksIHJvdGF0ZVdpdGhNYXAsIHBpdGNoV2l0aE1hcCwgdGhpcy50cmFuc2Zvcm0uYW5nbGUpLFxuICAgICAgICAgICAgdGV4dEFsbG93T3ZlcmxhcCwgdGV4dFBpeGVsUmF0aW8sIHBvc01hdHJpeCwgY29sbGlzaW9uR3JvdXAucHJlZGljYXRlKTtcbiAgICAgICAgaWYgKGljb25Cb3gpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBidWNrZXQuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShpY29uU2l6ZSwgdGhpcy50cmFuc2Zvcm0uem9vbSwgc3ltYm9sSW5zdGFuY2UucGxhY2VkSWNvblN5bWJvbEluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlZEljb25Cb3hlcyA9IHRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3goXG4gICAgICAgICAgICAgICAgYnVja2V0LCBzaXplLFxuICAgICAgICAgICAgICAgIGljb25Cb3gsIG9mZnNldFNoaWZ0KHNoaWZ0LngsIHNoaWZ0LnksIHJvdGF0ZVdpdGhNYXAsIHBpdGNoV2l0aE1hcCwgdGhpcy50cmFuc2Zvcm0uYW5nbGUpLFxuICAgICAgICAgICAgICAgIHRleHRBbGxvd092ZXJsYXAsIHRleHRQaXhlbFJhdGlvLCBwb3NNYXRyaXgsIGNvbGxpc2lvbkdyb3VwLnByZWRpY2F0ZSk7XG4gICAgICAgICAgICBpZiAocGxhY2VkSWNvbkJveGVzLmJveC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGFjZWRHbHlwaEJveGVzLmJveC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgcHJldkFuY2hvcjtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgbGFiZWwgd2FzIHBsYWNlZCBpbiB0aGUgcHJldmlvdXMgcGxhY2VtZW50LCByZWNvcmQgdGhlIGFuY2hvciBwb3NpdGlvblxuICAgICAgICAgICAgLy8gdG8gYWxsb3cgdXMgdG8gYW5pbWF0ZSB0aGUgdHJhbnNpdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMucHJldlBsYWNlbWVudCAmJlxuICAgICAgICAgICAgICAgIHRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbY3Jvc3NUaWxlSURdICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlbWVudHNbY3Jvc3NUaWxlSURdICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlbWVudHNbY3Jvc3NUaWxlSURdLnRleHQpIHtcbiAgICAgICAgICAgICAgICBwcmV2QW5jaG9yID0gdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tjcm9zc1RpbGVJRF0uYW5jaG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzZXJ0KGNyb3NzVGlsZUlEICE9PSAwKTtcbiAgICAgICAgICAgIHRoaXMudmFyaWFibGVPZmZzZXRzW2Nyb3NzVGlsZUlEXSA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0T2Zmc2V0LFxuICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICAgICAgdGV4dFNjYWxlLFxuICAgICAgICAgICAgICAgIHByZXZBbmNob3JcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihidWNrZXQsIGFuY2hvciwgc3ltYm9sSW5zdGFuY2UsIG9yaWVudGF0aW9uKTtcblxuICAgICAgICAgICAgaWYgKGJ1Y2tldC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKGJ1Y2tldCwgb3JpZW50YXRpb24sIHN5bWJvbEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tjcm9zc1RpbGVJRF0gPSBvcmllbnRhdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtzaGlmdCwgcGxhY2VkR2x5cGhCb3hlc307XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwbGFjZUxheWVyQnVja2V0UGFydChidWNrZXRQYXJ0OiBPYmplY3QsIHNlZW5Dcm9zc1RpbGVJRHM6IHsgW3N0cmluZyB8IG51bWJlcl06IGJvb2xlYW4gfSwgc2hvd0NvbGxpc2lvbkJveGVzOiBib29sZWFuLCB1cGRhdGVDb2xsaXNpb25Cb3hJZk5lY2Vzc2FyeTogYm9vbGVhbikge1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGJ1Y2tldCxcbiAgICAgICAgICAgIGxheW91dCxcbiAgICAgICAgICAgIHBvc01hdHJpeCxcbiAgICAgICAgICAgIHRleHRMYWJlbFBsYW5lTWF0cml4LFxuICAgICAgICAgICAgbGFiZWxUb1NjcmVlbk1hdHJpeCxcbiAgICAgICAgICAgIGNsaXBwaW5nRGF0YSxcbiAgICAgICAgICAgIHRleHRQaXhlbFJhdGlvLFxuICAgICAgICAgICAgaG9sZGluZ0ZvckZhZGUsXG4gICAgICAgICAgICBjb2xsaXNpb25Cb3hBcnJheSxcbiAgICAgICAgICAgIHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplLFxuICAgICAgICAgICAgcGFydGlhbGx5RXZhbHVhdGVkSWNvblNpemUsXG4gICAgICAgICAgICBjb2xsaXNpb25Hcm91cFxuICAgICAgICB9ID0gYnVja2V0UGFydC5wYXJhbWV0ZXJzO1xuXG4gICAgICAgIGNvbnN0IHRleHRPcHRpb25hbCA9IGxheW91dC5nZXQoJ3RleHQtb3B0aW9uYWwnKTtcbiAgICAgICAgY29uc3QgaWNvbk9wdGlvbmFsID0gbGF5b3V0LmdldCgnaWNvbi1vcHRpb25hbCcpO1xuICAgICAgICBjb25zdCB0ZXh0QWxsb3dPdmVybGFwID0gbGF5b3V0LmdldCgndGV4dC1hbGxvdy1vdmVybGFwJyk7XG4gICAgICAgIGNvbnN0IGljb25BbGxvd092ZXJsYXAgPSBsYXlvdXQuZ2V0KCdpY29uLWFsbG93LW92ZXJsYXAnKTtcbiAgICAgICAgY29uc3Qgcm90YXRlV2l0aE1hcCA9IGxheW91dC5nZXQoJ3RleHQtcm90YXRpb24tYWxpZ25tZW50JykgPT09ICdtYXAnO1xuICAgICAgICBjb25zdCBwaXRjaFdpdGhNYXAgPSBsYXlvdXQuZ2V0KCd0ZXh0LXBpdGNoLWFsaWdubWVudCcpID09PSAnbWFwJztcbiAgICAgICAgY29uc3QgaGFzSWNvblRleHRGaXQgPSBsYXlvdXQuZ2V0KCdpY29uLXRleHQtZml0JykgIT09ICdub25lJztcbiAgICAgICAgY29uc3Qgek9yZGVyQnlWaWV3cG9ydFkgPSBsYXlvdXQuZ2V0KCdzeW1ib2wtei1vcmRlcicpID09PSAndmlld3BvcnQteSc7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihidWNrZXQucHJvamVjdGlvbik7XG5cbiAgICAgICAgLy8gVGhpcyBsb2dpYyBpcyBzaW1pbGFyIHRvIHRoZSBcImRlZmF1bHRPcGFjaXR5U3RhdGVcIiBsb2dpYyBiZWxvdyBpbiB1cGRhdGVCdWNrZXRPcGFjaXRpZXNcbiAgICAgICAgLy8gSWYgd2Uga25vdyBhIHN5bWJvbCBpcyBhbHdheXMgc3VwcG9zZWQgdG8gc2hvdywgZm9yY2UgaXQgdG8gYmUgbWFya2VkIHZpc2libGUgZXZlbiBpZlxuICAgICAgICAvLyBpdCB3YXNuJ3QgcGxhY2VkIGludG8gdGhlIGNvbGxpc2lvbiBpbmRleCAoYmVjYXVzZSBzb21lIG9yIGFsbCBvZiBpdCB3YXMgb3V0c2lkZSB0aGUgcmFuZ2VcbiAgICAgICAgLy8gb2YgdGhlIGNvbGxpc2lvbiBncmlkKS5cbiAgICAgICAgLy8gVGhlcmUgaXMgYSBzdWJ0bGUgZWRnZSBjYXNlIGhlcmUgd2UncmUgYWNjZXB0aW5nOlxuICAgICAgICAvLyAgU3ltYm9sIEEgaGFzIHRleHQtYWxsb3ctb3ZlcmxhcDogdHJ1ZSwgaWNvbi1hbGxvdy1vdmVybGFwOiB0cnVlLCBpY29uLW9wdGlvbmFsOiBmYWxzZVxuICAgICAgICAvLyAgQSdzIGljb24gaXMgb3V0c2lkZSB0aGUgZ3JpZCwgc28gZG9lc24ndCBnZXQgcGxhY2VkXG4gICAgICAgIC8vICBBJ3MgdGV4dCB3b3VsZCBiZSBpbnNpZGUgZ3JpZCwgYnV0IGRvZXNuJ3QgZ2V0IHBsYWNlZCBiZWNhdXNlIG9mIGljb24tb3B0aW9uYWw6IGZhbHNlXG4gICAgICAgIC8vICBXZSBzdGlsbCBzaG93IEEgYmVjYXVzZSBvZiB0aGUgYWxsb3ctb3ZlcmxhcCBzZXR0aW5ncy5cbiAgICAgICAgLy8gIFN5bWJvbCBCIGhhcyBhbGxvdy1vdmVybGFwOiBmYWxzZSwgYW5kIGdldHMgcGxhY2VkIHdoZXJlIEEncyB0ZXh0IHdvdWxkIGJlXG4gICAgICAgIC8vICBPbiBwYW5uaW5nIGluLCB0aGVyZSBpcyBhIHNob3J0IHBlcmlvZCB3aGVuIFN5bWJvbCBCIGFuZCBTeW1ib2wgQSB3aWxsIG92ZXJsYXBcbiAgICAgICAgLy8gIFRoaXMgaXMgdGhlIHJldmVyc2Ugb2Ygb3VyIG5vcm1hbCBwb2xpY3kgb2YgXCJmYWRlIGluIG9uIHBhblwiLCBidXQgc2hvdWxkIGxvb2sgbGlrZSBhbnkgb3RoZXJcbiAgICAgICAgLy8gIGNvbGxpc2lvbiBhbmQgaG9wZWZ1bGx5IG5vdCBiZSB0b28gbm90aWNlYWJsZS5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy83MTcyXG4gICAgICAgIGxldCBhbHdheXNTaG93VGV4dCA9IHRleHRBbGxvd092ZXJsYXAgJiYgKGljb25BbGxvd092ZXJsYXAgfHwgIWJ1Y2tldC5oYXNJY29uRGF0YSgpIHx8IGljb25PcHRpb25hbCk7XG4gICAgICAgIGxldCBhbHdheXNTaG93SWNvbiA9IGljb25BbGxvd092ZXJsYXAgJiYgKHRleHRBbGxvd092ZXJsYXAgfHwgIWJ1Y2tldC5oYXNUZXh0RGF0YSgpIHx8IHRleHRPcHRpb25hbCk7XG5cbiAgICAgICAgaWYgKCFidWNrZXQuY29sbGlzaW9uQXJyYXlzICYmIGNvbGxpc2lvbkJveEFycmF5KSB7XG4gICAgICAgICAgICBidWNrZXQuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhjb2xsaXNpb25Cb3hBcnJheSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hvd0NvbGxpc2lvbkJveGVzICYmIHVwZGF0ZUNvbGxpc2lvbkJveElmTmVjZXNzYXJ5KSB7XG4gICAgICAgICAgICBidWNrZXQudXBkYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKHRoaXMudHJhbnNmb3JtLnpvb20sIGNvbGxpc2lvbkJveEFycmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBsYWNlU3ltYm9sID0gKHN5bWJvbEluc3RhbmNlOiBTeW1ib2xJbnN0YW5jZSwgYm94SW5kZXg6IG51bWJlciwgY29sbGlzaW9uQXJyYXlzOiBDb2xsaXNpb25BcnJheXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHtjcm9zc1RpbGVJRCwgbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzfSA9IHN5bWJvbEluc3RhbmNlO1xuXG4gICAgICAgICAgICBpZiAoY2xpcHBpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgZ2xvYmFsc1xuICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHpvb206IHRoaXMudHJhbnNmb3JtLnpvb20sXG4gICAgICAgICAgICAgICAgICAgIHBpdGNoOiB0aGlzLnRyYW5zZm9ybS5waXRjaCxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gRGVzZXJpYWxpemUgZmVhdHVyZSBvbmx5IGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgIGxldCBmZWF0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoY2xpcHBpbmdEYXRhLmR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZUluZGV4ID0gY2xpcHBpbmdEYXRhLmZlYXR1cmVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0YWluZWRRdWVyeURhdGEgPSB0aGlzLnJldGFpbmVkUXVlcnlEYXRhW2J1Y2tldC5idWNrZXRJbnN0YW5jZUlkXTtcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZSA9IGZlYXR1cmVJbmRleC5sb2FkRmVhdHVyZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXg6IHN5bWJvbEluc3RhbmNlLmZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldEluZGV4OiByZXRhaW5lZFF1ZXJ5RGF0YS5idWNrZXRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUxheWVySW5kZXg6IHJldGFpbmVkUXVlcnlEYXRhLnNvdXJjZUxheWVySW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldDogMFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2Fub25pY2FsVGlsZUlkID0gdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtidWNrZXQuYnVja2V0SW5zdGFuY2VJZF0udGlsZUlELmNhbm9uaWNhbDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlckZ1bmMgPSBjbGlwcGluZ0RhdGEuZHluYW1pY0ZpbHRlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRDbGlwID0gIWZpbHRlckZ1bmMoZ2xvYmFscywgZmVhdHVyZSwgY2Fub25pY2FsVGlsZUlkLCBuZXcgUG9pbnQoc3ltYm9sSW5zdGFuY2UudGlsZUFuY2hvclgsIHN5bWJvbEluc3RhbmNlLnRpbGVBbmNob3JZKSwgdGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlRGlzdGFuY2VUaWxlRGF0YShjbGlwcGluZ0RhdGEudW53cmFwcGVkVGlsZUlEKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkQ2xpcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlbWVudHNbY3Jvc3NUaWxlSURdID0gbmV3IEpvaW50UGxhY2VtZW50KGZhbHNlLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzZWVuQ3Jvc3NUaWxlSURzW2Nyb3NzVGlsZUlEXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZWVuQ3Jvc3NUaWxlSURzW2Nyb3NzVGlsZUlEXSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGhvbGRpbmdGb3JGYWRlKSB7XG4gICAgICAgICAgICAgICAgLy8gTWFyayBhbGwgc3ltYm9scyBmcm9tIHRoaXMgdGlsZSBhcyBcIm5vdCBwbGFjZWRcIiwgYnV0IGRvbid0IGFkZCB0byBzZWVuQ3Jvc3NUaWxlSURzLCBiZWNhdXNlIHdlIGRvbid0XG4gICAgICAgICAgICAgICAgLy8ga25vdyB5ZXQgaWYgd2UgaGF2ZSBhIGR1cGxpY2F0ZSBpbiBhIHBhcmVudCB0aWxlIHRoYXQgX3Nob3VsZF8gYmUgcGxhY2VkLlxuICAgICAgICAgICAgICAgIHRoaXMucGxhY2VtZW50c1tjcm9zc1RpbGVJRF0gPSBuZXcgSm9pbnRQbGFjZW1lbnQoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHBsYWNlVGV4dDogP2Jvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBwbGFjZUljb246ID9ib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgb2Zmc2NyZWVuOiA/Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgICAgICBsZXQgdGV4dE9jY2x1ZGVkOiA/Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGljb25PY2NsdWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHNoaWZ0ID0gbnVsbDtcblxuICAgICAgICAgICAgbGV0IHBsYWNlZDogUGFydGlhbFBsYWNlZENvbGxpc2lvbkJveCA9IHtib3g6IG51bGwsIG9mZnNjcmVlbjogbnVsbCwgb2NjbHVkZWQ6IG51bGx9O1xuICAgICAgICAgICAgbGV0IHBsYWNlZFZlcnRpY2FsVGV4dDogUGFydGlhbFBsYWNlZENvbGxpc2lvbkJveCA9IHtib3g6IG51bGwsIG9mZnNjcmVlbjogbnVsbCwgb2NjbHVkZWQ6IG51bGx9O1xuXG4gICAgICAgICAgICBsZXQgcGxhY2VkR2x5cGhCb3hlcyA9IG51bGw7XG4gICAgICAgICAgICBsZXQgcGxhY2VkR2x5cGhDaXJjbGVzID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBwbGFjZWRJY29uQm94ZXMgPSBudWxsO1xuICAgICAgICAgICAgbGV0IHRleHRGZWF0dXJlSW5kZXggPSAwO1xuICAgICAgICAgICAgbGV0IHZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleCA9IDA7XG4gICAgICAgICAgICBsZXQgaWNvbkZlYXR1cmVJbmRleCA9IDA7XG5cbiAgICAgICAgICAgIGlmIChjb2xsaXNpb25BcnJheXMudGV4dEZlYXR1cmVJbmRleCkge1xuICAgICAgICAgICAgICAgIHRleHRGZWF0dXJlSW5kZXggPSBjb2xsaXNpb25BcnJheXMudGV4dEZlYXR1cmVJbmRleDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3ltYm9sSW5zdGFuY2UudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMpIHtcbiAgICAgICAgICAgICAgICB0ZXh0RmVhdHVyZUluZGV4ID0gc3ltYm9sSW5zdGFuY2UuZmVhdHVyZUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cy52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXggPSBjb2xsaXNpb25BcnJheXMudmVydGljYWxUZXh0RmVhdHVyZUluZGV4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVCb3hEYXRhID0gKGJveDogU2luZ2xlQ29sbGlzaW9uQm94KSA9PiB7XG4gICAgICAgICAgICAgICAgYm94LnRpbGVJRCA9IHRoaXMucmV0YWluZWRRdWVyeURhdGFbYnVja2V0LmJ1Y2tldEluc3RhbmNlSWRdLnRpbGVJRDtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGV2YXRpb24gPSB0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb247XG4gICAgICAgICAgICAgICAgaWYgKCFlbGV2YXRpb24gJiYgIWJveC5lbGV2YXRpb24pIHJldHVybjtcbiAgICAgICAgICAgICAgICBib3guZWxldmF0aW9uID0gZWxldmF0aW9uID8gZWxldmF0aW9uLmdldEF0VGlsZU9mZnNldChib3gudGlsZUlELCBib3gudGlsZUFuY2hvclgsIGJveC50aWxlQW5jaG9yWSkgOiAwO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgdGV4dEJveCA9IGNvbGxpc2lvbkFycmF5cy50ZXh0Qm94O1xuICAgICAgICAgICAgaWYgKHRleHRCb3gpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVCb3hEYXRhKHRleHRCb3gpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVByZXZpb3VzT3JpZW50YXRpb25JZk5vdFBsYWNlZCA9IChpc1BsYWNlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJldmlvdXNPcmllbnRhdGlvbiA9IFdyaXRpbmdNb2RlLmhvcml6b250YWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWNrZXQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCAmJiAhaXNQbGFjZWQgJiYgdGhpcy5wcmV2UGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2UGxhY2VkT3JpZW50YXRpb24gPSB0aGlzLnByZXZQbGFjZW1lbnQucGxhY2VkT3JpZW50YXRpb25zW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2UGxhY2VkT3JpZW50YXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tjcm9zc1RpbGVJRF0gPSBwcmV2UGxhY2VkT3JpZW50YXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNPcmllbnRhdGlvbiA9IHByZXZQbGFjZWRPcmllbnRhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtVc2VkT3JpZW50YXRpb24oYnVja2V0LCBwcmV2aW91c09yaWVudGF0aW9uLCBzeW1ib2xJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzT3JpZW50YXRpb247XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlVGV4dEZvclBsYWNlbWVudE1vZGVzID0gKHBsYWNlSG9yaXpvbnRhbEZuOiAoKSA9PiBQYXJ0aWFsUGxhY2VkQ29sbGlzaW9uQm94LCBwbGFjZVZlcnRpY2FsRm46ICgpID0+IFBhcnRpYWxQbGFjZWRDb2xsaXNpb25Cb3gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1Y2tldC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50ICYmIG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyA+IDAgJiYgY29sbGlzaW9uQXJyYXlzLnZlcnRpY2FsVGV4dEJveCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwbGFjZW1lbnRNb2RlIG9mIGJ1Y2tldC53cml0aW5nTW9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2VtZW50TW9kZSA9PT0gV3JpdGluZ01vZGUudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VkID0gcGxhY2VWZXJ0aWNhbEZuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlZFZlcnRpY2FsVGV4dCA9IHBsYWNlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWQgPSBwbGFjZUhvcml6b250YWxGbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2VkICYmIHBsYWNlZC5ib3ggJiYgcGxhY2VkLmJveC5sZW5ndGgpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VkID0gcGxhY2VIb3Jpem9udGFsRm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAoIWxheW91dC5nZXQoJ3RleHQtdmFyaWFibGUtYW5jaG9yJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxhY2VCb3ggPSAoY29sbGlzaW9uVGV4dEJveCwgb3JpZW50YXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRTY2FsZSA9IGJ1Y2tldC5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplLCBzeW1ib2xJbnN0YW5jZSwgdGhpcy50cmFuc2Zvcm0uem9vbSwgYm94SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxhY2VkRmVhdHVyZSA9IHRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3goYnVja2V0LCB0ZXh0U2NhbGUsIGNvbGxpc2lvblRleHRCb3gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KDAsIDApLCB0ZXh0QWxsb3dPdmVybGFwLCB0ZXh0UGl4ZWxSYXRpbywgcG9zTWF0cml4LCBjb2xsaXNpb25Hcm91cC5wcmVkaWNhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsYWNlZEZlYXR1cmUgJiYgcGxhY2VkRmVhdHVyZS5ib3ggJiYgcGxhY2VkRmVhdHVyZS5ib3gubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKGJ1Y2tldCwgb3JpZW50YXRpb24sIHN5bWJvbEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tjcm9zc1RpbGVJRF0gPSBvcmllbnRhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGFjZWRGZWF0dXJlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlSG9yaXpvbnRhbDogKCkgPT4gUGxhY2VkQ29sbGlzaW9uQm94ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsYWNlQm94KHRleHRCb3gsIFdyaXRpbmdNb2RlLmhvcml6b250YWwpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlVmVydGljYWw6ICgpID0+IFBsYWNlZENvbGxpc2lvbkJveCB8IFBhcnRpYWxQbGFjZWRDb2xsaXNpb25Cb3ggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbFRleHRCb3ggPSBjb2xsaXNpb25BcnJheXMudmVydGljYWxUZXh0Qm94O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1Y2tldC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50ICYmIG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyA+IDAgJiYgdmVydGljYWxUZXh0Qm94KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQm94RGF0YSh2ZXJ0aWNhbFRleHRCb3gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGFjZUJveCh2ZXJ0aWNhbFRleHRCb3gsIFdyaXRpbmdNb2RlLnZlcnRpY2FsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7Ym94OiBudWxsLCBvZmZzY3JlZW46IG51bGwsIG9jY2x1ZGVkOiBudWxsfTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBwbGFjZVRleHRGb3JQbGFjZW1lbnRNb2RlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICgocGxhY2VIb3Jpem9udGFsOiBhbnkpOiAoKSA9PiBQYXJ0aWFsUGxhY2VkQ29sbGlzaW9uQm94KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICgocGxhY2VWZXJ0aWNhbDogYW55KTogKCkgPT4gUGFydGlhbFBsYWNlZENvbGxpc2lvbkJveCksXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUHJldmlvdXNPcmllbnRhdGlvbklmTm90UGxhY2VkKHBsYWNlZCAmJiBwbGFjZWQuYm94ICYmIHBsYWNlZC5ib3gubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhbmNob3JzID0gbGF5b3V0LmdldCgndGV4dC12YXJpYWJsZS1hbmNob3InKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIHN5bWJvbCB3YXMgaW4gdGhlIGxhc3QgcGxhY2VtZW50LCBzaGlmdCB0aGUgcHJldmlvdXNseSB1c2VkXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuY2hvciB0byB0aGUgZnJvbnQgb2YgdGhlIGFuY2hvciBsaXN0LCBvbmx5IGlmIHRoZSBwcmV2aW91cyBhbmNob3JcbiAgICAgICAgICAgICAgICAgICAgLy8gaXMgc3RpbGwgaW4gdGhlIGFuY2hvciBsaXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXZQbGFjZW1lbnQgJiYgdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tjcm9zc1RpbGVJRF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZPZmZzZXRzID0gdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tjcm9zc1RpbGVJRF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5jaG9ycy5pbmRleE9mKHByZXZPZmZzZXRzLmFuY2hvcikgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9ycyA9IGFuY2hvcnMuZmlsdGVyKGFuY2hvciA9PiBhbmNob3IgIT09IHByZXZPZmZzZXRzLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9ycy51bnNoaWZ0KHByZXZPZmZzZXRzLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFjZUJveEZvclZhcmlhYmxlQW5jaG9ycyA9IChjb2xsaXNpb25UZXh0Qm94LCBjb2xsaXNpb25JY29uQm94LCBvcmllbnRhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dFNjYWxlID0gYnVja2V0LmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUocGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemUsIHN5bWJvbEluc3RhbmNlLCB0aGlzLnRyYW5zZm9ybS56b29tLCBib3hJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IChjb2xsaXNpb25UZXh0Qm94LngyIC0gY29sbGlzaW9uVGV4dEJveC54MSkgKiB0ZXh0U2NhbGUgKyAyLjAgKiBjb2xsaXNpb25UZXh0Qm94LnBhZGRpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAoY29sbGlzaW9uVGV4dEJveC55MiAtIGNvbGxpc2lvblRleHRCb3gueTEpICogdGV4dFNjYWxlICsgMi4wICogY29sbGlzaW9uVGV4dEJveC5wYWRkaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZUljb25Cb3ggPSBoYXNJY29uVGV4dEZpdCAmJiAhaWNvbkFsbG93T3ZlcmxhcCA/IGNvbGxpc2lvbkljb25Cb3ggOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcmlhYmxlSWNvbkJveCkgdXBkYXRlQm94RGF0YSh2YXJpYWJsZUljb25Cb3gpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGxhY2VkQm94OiBQYXJ0aWFsUGxhY2VkQ29sbGlzaW9uQm94ID0ge2JveDogW10sIG9mZnNjcmVlbjogZmFsc2UsIG9jY2x1ZGVkOiBmYWxzZX07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFjZW1lbnRBdHRlbXB0cyA9IHRleHRBbGxvd092ZXJsYXAgPyBhbmNob3JzLmxlbmd0aCAqIDIgOiBhbmNob3JzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhY2VtZW50QXR0ZW1wdHM7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGFuY2hvcnNbaSAlIGFuY2hvcnMubGVuZ3RoXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxvd092ZXJsYXAgPSAoaSA+PSBhbmNob3JzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hdHRlbXB0QW5jaG9yUGxhY2VtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IsIGNvbGxpc2lvblRleHRCb3gsIHdpZHRoLCBoZWlnaHQsIHRleHRTY2FsZSwgcm90YXRlV2l0aE1hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwLCB0ZXh0UGl4ZWxSYXRpbywgcG9zTWF0cml4LCBjb2xsaXNpb25Hcm91cCwgYWxsb3dPdmVybGFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xJbnN0YW5jZSwgYm94SW5kZXgsIGJ1Y2tldCwgb3JpZW50YXRpb24sIHZhcmlhYmxlSWNvbkJveCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemUsIHBhcnRpYWxseUV2YWx1YXRlZEljb25TaXplKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VkQm94ID0gKChyZXN1bHQucGxhY2VkR2x5cGhCb3hlczogYW55KTogUGFydGlhbFBsYWNlZENvbGxpc2lvbkJveCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGFjZWRCb3ggJiYgcGxhY2VkQm94LmJveCAmJiBwbGFjZWRCb3guYm94Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VUZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0ID0gcmVzdWx0LnNoaWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGFjZWRCb3g7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxhY2VIb3Jpem9udGFsID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsYWNlQm94Rm9yVmFyaWFibGVBbmNob3JzKHRleHRCb3gsIGNvbGxpc2lvbkFycmF5cy5pY29uQm94LCBXcml0aW5nTW9kZS5ob3Jpem9udGFsKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFjZVZlcnRpY2FsID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVydGljYWxUZXh0Qm94ID0gY29sbGlzaW9uQXJyYXlzLnZlcnRpY2FsVGV4dEJveDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ZXJ0aWNhbFRleHRCb3gpIHVwZGF0ZUJveERhdGEodmVydGljYWxUZXh0Qm94KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhc1BsYWNlZCA9IHBsYWNlZCAmJiBwbGFjZWQuYm94ICYmIHBsYWNlZC5ib3gubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1Y2tldC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50ICYmICF3YXNQbGFjZWQgJiYgbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzID4gMCAmJiB2ZXJ0aWNhbFRleHRCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGxhY2VCb3hGb3JWYXJpYWJsZUFuY2hvcnModmVydGljYWxUZXh0Qm94LCBjb2xsaXNpb25BcnJheXMudmVydGljYWxJY29uQm94LCBXcml0aW5nTW9kZS52ZXJ0aWNhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge2JveDogbnVsbCwgb2Zmc2NyZWVuOiBudWxsLCBvY2NsdWRlZDogbnVsbH07XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcGxhY2VUZXh0Rm9yUGxhY2VtZW50TW9kZXMocGxhY2VIb3Jpem9udGFsLCBwbGFjZVZlcnRpY2FsKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZVRleHQgPSBwbGFjZWQuYm94O1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2NyZWVuID0gcGxhY2VkLm9mZnNjcmVlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRPY2NsdWRlZCA9IHBsYWNlZC5vY2NsdWRlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZPcmllbnRhdGlvbiA9IHVwZGF0ZVByZXZpb3VzT3JpZW50YXRpb25JZk5vdFBsYWNlZChwbGFjZWQgJiYgcGxhY2VkLmJveCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGdldCBwbGFjZWQsIHdlIHN0aWxsIG5lZWQgdG8gY29weSBvdXIgcG9zaXRpb24gZnJvbSB0aGUgbGFzdCBwbGFjZW1lbnQgZm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIGZhZGUgYW5pbWF0aW9uc1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBsYWNlVGV4dCAmJiB0aGlzLnByZXZQbGFjZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZPZmZzZXQgPSB0aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2T2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YXJpYWJsZU9mZnNldHNbY3Jvc3NUaWxlSURdID0gcHJldk9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihidWNrZXQsIHByZXZPZmZzZXQuYW5jaG9yLCBzeW1ib2xJbnN0YW5jZSwgcHJldk9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwbGFjZWRHbHlwaEJveGVzID0gcGxhY2VkO1xuXG4gICAgICAgICAgICBwbGFjZVRleHQgPSBwbGFjZWRHbHlwaEJveGVzICYmIHBsYWNlZEdseXBoQm94ZXMuYm94ICYmIHBsYWNlZEdseXBoQm94ZXMuYm94Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBvZmZzY3JlZW4gPSBwbGFjZWRHbHlwaEJveGVzICYmIHBsYWNlZEdseXBoQm94ZXMub2Zmc2NyZWVuO1xuICAgICAgICAgICAgdGV4dE9jY2x1ZGVkID0gcGxhY2VkR2x5cGhCb3hlcyAmJiBwbGFjZWRHbHlwaEJveGVzLm9jY2x1ZGVkO1xuXG4gICAgICAgICAgICBpZiAoc3ltYm9sSW5zdGFuY2UudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWRTeW1ib2xJbmRleCA9IHN5bWJvbEluc3RhbmNlLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCA+PSAwID8gc3ltYm9sSW5zdGFuY2UuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4IDogc3ltYm9sSW5zdGFuY2UudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2VkU3ltYm9sID0gYnVja2V0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHBsYWNlZFN5bWJvbEluZGV4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBmb250U2l6ZSA9IHN5bWJvbFNpemUuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShidWNrZXQudGV4dFNpemVEYXRhLCBwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZSwgcGxhY2VkU3ltYm9sKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRQaXhlbFBhZGRpbmcgPSBsYXlvdXQuZ2V0KCd0ZXh0LXBhZGRpbmcnKTtcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGNpcmNsZSBjb2xsaXNpb24gaGVpZ2h0IGludG8gcGl4ZWxzXG4gICAgICAgICAgICAgICAgY29uc3QgY2lyY2xlUGl4ZWxEaWFtZXRlciA9IHN5bWJvbEluc3RhbmNlLmNvbGxpc2lvbkNpcmNsZURpYW1ldGVyICogZm9udFNpemUgLyBPTkVfRU07XG5cbiAgICAgICAgICAgICAgICBwbGFjZWRHbHlwaENpcmNsZXMgPSB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQ2lyY2xlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGxvd092ZXJsYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWRTeW1ib2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQubGluZVZlcnRleEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0LmdseXBoT2Zmc2V0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc01hdHJpeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbFBsYW5lTWF0cml4LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxUb1NjcmVlbk1hdHJpeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb2xsaXNpb25Cb3hlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpdGNoV2l0aE1hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkdyb3VwLnByZWRpY2F0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZVBpeGVsRGlhbWV0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UGl4ZWxQYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtidWNrZXQuYnVja2V0SW5zdGFuY2VJZF0udGlsZUlEKTtcblxuICAgICAgICAgICAgICAgIGFzc2VydCghcGxhY2VkR2x5cGhDaXJjbGVzLmNpcmNsZXMubGVuZ3RoIHx8ICghcGxhY2VkR2x5cGhDaXJjbGVzLmNvbGxpc2lvbkRldGVjdGVkIHx8IHNob3dDb2xsaXNpb25Cb3hlcykpO1xuICAgICAgICAgICAgICAgIC8vIElmIHRleHQtYWxsb3ctb3ZlcmxhcCBpcyBzZXQsIGZvcmNlIFwicGxhY2VkQ2lyY2xlc1wiIHRvIHRydWVcbiAgICAgICAgICAgICAgICAvLyBJbiB0aGVvcnkgdGhlcmUgc2hvdWxkIGFsd2F5cyBiZSBhdCBsZWFzdCBvbmUgY2lyY2xlIHBsYWNlZFxuICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY2FzZSwgYnV0IGZvciBub3cgcXVpcmtzIGluIHRleHQtYW5jaG9yXG4gICAgICAgICAgICAgICAgLy8gYW5kIHRleHQtb2Zmc2V0IG1heSBwcmV2ZW50IHRoYXQgZnJvbSBiZWluZyB0cnVlLlxuICAgICAgICAgICAgICAgIHBsYWNlVGV4dCA9IHRleHRBbGxvd092ZXJsYXAgfHwgKHBsYWNlZEdseXBoQ2lyY2xlcy5jaXJjbGVzLmxlbmd0aCA+IDAgJiYgIXBsYWNlZEdseXBoQ2lyY2xlcy5jb2xsaXNpb25EZXRlY3RlZCk7XG4gICAgICAgICAgICAgICAgb2Zmc2NyZWVuID0gb2Zmc2NyZWVuICYmIHBsYWNlZEdseXBoQ2lyY2xlcy5vZmZzY3JlZW47XG4gICAgICAgICAgICAgICAgdGV4dE9jY2x1ZGVkID0gcGxhY2VkR2x5cGhDaXJjbGVzLm9jY2x1ZGVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29sbGlzaW9uQXJyYXlzLmljb25GZWF0dXJlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpY29uRmVhdHVyZUluZGV4ID0gY29sbGlzaW9uQXJyYXlzLmljb25GZWF0dXJlSW5kZXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb2xsaXNpb25BcnJheXMuaWNvbkJveCkge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2VJY29uRmVhdHVyZSA9IGljb25Cb3ggPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVCb3hEYXRhKGljb25Cb3gpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGlmdFBvaW50OiBQb2ludCA9IGhhc0ljb25UZXh0Rml0ICYmIHNoaWZ0ID9cbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFNoaWZ0KHNoaWZ0LngsIHNoaWZ0LnksIHJvdGF0ZVdpdGhNYXAsIHBpdGNoV2l0aE1hcCwgdGhpcy50cmFuc2Zvcm0uYW5nbGUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQb2ludCgwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWNvblNjYWxlID0gYnVja2V0LmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUocGFydGlhbGx5RXZhbHVhdGVkSWNvblNpemUsIHRoaXMudHJhbnNmb3JtLnpvb20sIHN5bWJvbEluc3RhbmNlLnBsYWNlZEljb25TeW1ib2xJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KGJ1Y2tldCwgaWNvblNjYWxlLCBpY29uQm94LCBzaGlmdFBvaW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFsbG93T3ZlcmxhcCwgdGV4dFBpeGVsUmF0aW8sIHBvc01hdHJpeCwgY29sbGlzaW9uR3JvdXAucHJlZGljYXRlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlZFZlcnRpY2FsVGV4dCAmJiBwbGFjZWRWZXJ0aWNhbFRleHQuYm94ICYmIHBsYWNlZFZlcnRpY2FsVGV4dC5ib3gubGVuZ3RoICYmIGNvbGxpc2lvbkFycmF5cy52ZXJ0aWNhbEljb25Cb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VkSWNvbkJveGVzID0gcGxhY2VJY29uRmVhdHVyZShjb2xsaXNpb25BcnJheXMudmVydGljYWxJY29uQm94KTtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VJY29uID0gcGxhY2VkSWNvbkJveGVzLmJveC5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlZEljb25Cb3hlcyA9IHBsYWNlSWNvbkZlYXR1cmUoY29sbGlzaW9uQXJyYXlzLmljb25Cb3gpO1xuICAgICAgICAgICAgICAgICAgICBwbGFjZUljb24gPSBwbGFjZWRJY29uQm94ZXMuYm94Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9mZnNjcmVlbiA9IG9mZnNjcmVlbiAmJiBwbGFjZWRJY29uQm94ZXMub2Zmc2NyZWVuO1xuICAgICAgICAgICAgICAgIGljb25PY2NsdWRlZCA9IHBsYWNlZEljb25Cb3hlcy5vY2NsdWRlZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaWNvbldpdGhvdXRUZXh0ID0gdGV4dE9wdGlvbmFsIHx8XG4gICAgICAgICAgICAgICAgKHN5bWJvbEluc3RhbmNlLm51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzID09PSAwICYmIG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyA9PT0gMCk7XG4gICAgICAgICAgICBjb25zdCB0ZXh0V2l0aG91dEljb24gPSBpY29uT3B0aW9uYWwgfHwgc3ltYm9sSW5zdGFuY2UubnVtSWNvblZlcnRpY2VzID09PSAwO1xuXG4gICAgICAgICAgICAvLyBDb21iaW5lIHRoZSBzY2FsZXMgZm9yIGljb25zIGFuZCB0ZXh0LlxuICAgICAgICAgICAgaWYgKCFpY29uV2l0aG91dFRleHQgJiYgIXRleHRXaXRob3V0SWNvbikge1xuICAgICAgICAgICAgICAgIHBsYWNlSWNvbiA9IHBsYWNlVGV4dCA9IHBsYWNlSWNvbiAmJiBwbGFjZVRleHQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF0ZXh0V2l0aG91dEljb24pIHtcbiAgICAgICAgICAgICAgICBwbGFjZVRleHQgPSBwbGFjZUljb24gJiYgcGxhY2VUZXh0O1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaWNvbldpdGhvdXRUZXh0KSB7XG4gICAgICAgICAgICAgICAgcGxhY2VJY29uID0gcGxhY2VJY29uICYmIHBsYWNlVGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBsYWNlVGV4dCAmJiBwbGFjZWRHbHlwaEJveGVzICYmIHBsYWNlZEdseXBoQm94ZXMuYm94KSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlZFZlcnRpY2FsVGV4dCAmJiBwbGFjZWRWZXJ0aWNhbFRleHQuYm94ICYmIHZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChwbGFjZWRHbHlwaEJveGVzLmJveCwgbGF5b3V0LmdldCgndGV4dC1pZ25vcmUtcGxhY2VtZW50JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCwgdmVydGljYWxUZXh0RmVhdHVyZUluZGV4LCBjb2xsaXNpb25Hcm91cC5JRCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25Cb3gocGxhY2VkR2x5cGhCb3hlcy5ib3gsIGxheW91dC5nZXQoJ3RleHQtaWdub3JlLXBsYWNlbWVudCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0LmJ1Y2tldEluc3RhbmNlSWQsIHRleHRGZWF0dXJlSW5kZXgsIGNvbGxpc2lvbkdyb3VwLklEKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwbGFjZUljb24gJiYgcGxhY2VkSWNvbkJveGVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25Cb3gocGxhY2VkSWNvbkJveGVzLmJveCwgbGF5b3V0LmdldCgnaWNvbi1pZ25vcmUtcGxhY2VtZW50JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCwgaWNvbkZlYXR1cmVJbmRleCwgY29sbGlzaW9uR3JvdXAuSUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBsYWNlZEdseXBoQ2lyY2xlcykge1xuICAgICAgICAgICAgICAgIGlmIChwbGFjZVRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25DaXJjbGVzKHBsYWNlZEdseXBoQ2lyY2xlcy5jaXJjbGVzLCBsYXlvdXQuZ2V0KCd0ZXh0LWlnbm9yZS1wbGFjZW1lbnQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkLCB0ZXh0RmVhdHVyZUluZGV4LCBjb2xsaXNpb25Hcm91cC5JRCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNob3dDb2xsaXNpb25Cb3hlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2lyY2xlQXJyYXkgPSB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tpZF07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gR3JvdXAgY29sbGlzaW9uIGNpcmNsZXMgdG9nZXRoZXIgYnkgYnVja2V0LiBDaXJjbGVzIGNhbid0IGJlIHB1c2hlZCBmb3J3YXJkIGZvciByZW5kZXJpbmcgeWV0IGFzIHRoZSBzeW1ib2wgcGxhY2VtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBhIGJ1Y2tldCBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBjb21wbGV0ZSBiZWZvcmUgdGhlIGNvbW1pdC1mdW5jdGlvbiBoYXMgYmVlbiBjYWxsZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNpcmNsZUFycmF5ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVBcnJheSA9IHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW2lkXSA9IG5ldyBDb2xsaXNpb25DaXJjbGVBcnJheSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhY2VkR2x5cGhDaXJjbGVzLmNpcmNsZXMubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZUFycmF5LmNpcmNsZXMucHVzaChwbGFjZWRHbHlwaENpcmNsZXMuY2lyY2xlc1tpICsgMF0pOyAgICAgICAgICAgICAgLy8geFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlQXJyYXkuY2lyY2xlcy5wdXNoKHBsYWNlZEdseXBoQ2lyY2xlcy5jaXJjbGVzW2kgKyAxXSk7ICAgICAgICAgICAgICAvLyB5XG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVBcnJheS5jaXJjbGVzLnB1c2gocGxhY2VkR2x5cGhDaXJjbGVzLmNpcmNsZXNbaSArIDJdKTsgICAgICAgICAgICAgIC8vIHJhZGl1c1xuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlQXJyYXkuY2lyY2xlcy5wdXNoKHBsYWNlZEdseXBoQ2lyY2xlcy5jb2xsaXNpb25EZXRlY3RlZCA/IDEgOiAwKTsgICAvLyBjb2xsaXNpb25EZXRlY3RlZC1mbGFnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFzc2VydChjcm9zc1RpbGVJRCAhPT0gMCk7XG4gICAgICAgICAgICBhc3NlcnQoYnVja2V0LmJ1Y2tldEluc3RhbmNlSWQgIT09IDApO1xuXG4gICAgICAgICAgICBjb25zdCBub3RHbG9iZSA9IGJ1Y2tldC5wcm9qZWN0aW9uLm5hbWUgIT09ICdnbG9iZSc7XG4gICAgICAgICAgICBhbHdheXNTaG93VGV4dCA9IGFsd2F5c1Nob3dUZXh0ICYmIChub3RHbG9iZSB8fCAhdGV4dE9jY2x1ZGVkKTtcbiAgICAgICAgICAgIGFsd2F5c1Nob3dJY29uID0gYWx3YXlzU2hvd0ljb24gJiYgKG5vdEdsb2JlIHx8ICFpY29uT2NjbHVkZWQpO1xuXG4gICAgICAgICAgICB0aGlzLnBsYWNlbWVudHNbY3Jvc3NUaWxlSURdID0gbmV3IEpvaW50UGxhY2VtZW50KHBsYWNlVGV4dCB8fCBhbHdheXNTaG93VGV4dCwgcGxhY2VJY29uIHx8IGFsd2F5c1Nob3dJY29uLCBvZmZzY3JlZW4gfHwgYnVja2V0Lmp1c3RSZWxvYWRlZCk7XG4gICAgICAgICAgICBzZWVuQ3Jvc3NUaWxlSURzW2Nyb3NzVGlsZUlEXSA9IHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHpPcmRlckJ5Vmlld3BvcnRZKSB7XG4gICAgICAgICAgICBhc3NlcnQoYnVja2V0UGFydC5zeW1ib2xJbnN0YW5jZVN0YXJ0ID09PSAwKTtcbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbEluZGV4ZXMgPSBidWNrZXQuZ2V0U29ydGVkU3ltYm9sSW5kZXhlcyh0aGlzLnRyYW5zZm9ybS5hbmdsZSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gc3ltYm9sSW5kZXhlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN5bWJvbEluZGV4ID0gc3ltYm9sSW5kZXhlc1tpXTtcbiAgICAgICAgICAgICAgICBwbGFjZVN5bWJvbChidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmdldChzeW1ib2xJbmRleCksIHN5bWJvbEluZGV4LCBidWNrZXQuY29sbGlzaW9uQXJyYXlzW3N5bWJvbEluZGV4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gYnVja2V0UGFydC5zeW1ib2xJbnN0YW5jZVN0YXJ0OyBpIDwgYnVja2V0UGFydC5zeW1ib2xJbnN0YW5jZUVuZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGxhY2VTeW1ib2woYnVja2V0LnN5bWJvbEluc3RhbmNlcy5nZXQoaSksIGksIGJ1Y2tldC5jb2xsaXNpb25BcnJheXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNob3dDb2xsaXNpb25Cb3hlcyAmJiBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCBpbiB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cykge1xuICAgICAgICAgICAgY29uc3QgY2lyY2xlQXJyYXkgPSB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tidWNrZXQuYnVja2V0SW5zdGFuY2VJZF07XG5cbiAgICAgICAgICAgIC8vIFN0b3JlIHZpZXdwb3J0IGFuZCBpbnZlcnNlIHByb2plY3Rpb24gbWF0cmljZXMgcGVyIGJ1Y2tldFxuICAgICAgICAgICAgbWF0NC5pbnZlcnQoY2lyY2xlQXJyYXkuaW52UHJvak1hdHJpeCwgcG9zTWF0cml4KTtcbiAgICAgICAgICAgIGNpcmNsZUFycmF5LnZpZXdwb3J0TWF0cml4ID0gdGhpcy5jb2xsaXNpb25JbmRleC5nZXRWaWV3cG9ydE1hdHJpeCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVja2V0Lmp1c3RSZWxvYWRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIG1hcmtVc2VkSnVzdGlmaWNhdGlvbihidWNrZXQ6IFN5bWJvbEJ1Y2tldCwgcGxhY2VkQW5jaG9yOiBUZXh0QW5jaG9yLCBzeW1ib2xJbnN0YW5jZTogU3ltYm9sSW5zdGFuY2UsIG9yaWVudGF0aW9uOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgbGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDogbGVmdCwgY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OiBjZW50ZXIsXG4gICAgICAgICAgICByaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDogcmlnaHQsIHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OiB2ZXJ0aWNhbCwgY3Jvc3NUaWxlSURcbiAgICAgICAgfSA9IHN5bWJvbEluc3RhbmNlO1xuXG4gICAgICAgIGNvbnN0IGp1c3RpZmljYXRpb24gPSBnZXRBbmNob3JKdXN0aWZpY2F0aW9uKHBsYWNlZEFuY2hvcik7XG4gICAgICAgIGNvbnN0IGF1dG9JbmRleCA9XG4gICAgICAgICAgICBvcmllbnRhdGlvbiA9PT0gV3JpdGluZ01vZGUudmVydGljYWwgPyB2ZXJ0aWNhbCA6XG4gICAgICAgICAgICBqdXN0aWZpY2F0aW9uID09PSAnbGVmdCcgPyBsZWZ0IDpcbiAgICAgICAgICAgIGp1c3RpZmljYXRpb24gPT09ICdjZW50ZXInID8gY2VudGVyIDpcbiAgICAgICAgICAgIGp1c3RpZmljYXRpb24gPT09ICdyaWdodCcgPyByaWdodCA6IC0xO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBqdXN0aWZpY2F0aW9ucyBhbmQgdGhpcyBvbmUgaXNuJ3QgaXQ6IHNoaWZ0IG9mZnNjcmVlblxuICAgICAgICAvLyBJZiBlaXRoZXIgdGhpcyBpcyB0aGUgY2hvc2VuIGp1c3RpZmljYXRpb24gb3IgdGhlIGp1c3RpZmljYXRpb24gaXMgaGFyZHdpcmVkOiB1c2UgaXRcbiAgICAgICAgaWYgKGxlZnQgPj0gMCkgYnVja2V0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGxlZnQpLmNyb3NzVGlsZUlEID0gYXV0b0luZGV4ID49IDAgJiYgbGVmdCAhPT0gYXV0b0luZGV4ID8gMCA6IGNyb3NzVGlsZUlEO1xuICAgICAgICBpZiAoY2VudGVyID49IDApIGJ1Y2tldC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChjZW50ZXIpLmNyb3NzVGlsZUlEID0gYXV0b0luZGV4ID49IDAgJiYgY2VudGVyICE9PSBhdXRvSW5kZXggPyAwIDogY3Jvc3NUaWxlSUQ7XG4gICAgICAgIGlmIChyaWdodCA+PSAwKSBidWNrZXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQocmlnaHQpLmNyb3NzVGlsZUlEID0gYXV0b0luZGV4ID49IDAgJiYgcmlnaHQgIT09IGF1dG9JbmRleCA/IDAgOiBjcm9zc1RpbGVJRDtcbiAgICAgICAgaWYgKHZlcnRpY2FsID49IDApIGJ1Y2tldC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldCh2ZXJ0aWNhbCkuY3Jvc3NUaWxlSUQgPSBhdXRvSW5kZXggPj0gMCAmJiB2ZXJ0aWNhbCAhPT0gYXV0b0luZGV4ID8gMCA6IGNyb3NzVGlsZUlEO1xuICAgIH1cblxuICAgIG1hcmtVc2VkT3JpZW50YXRpb24oYnVja2V0OiBTeW1ib2xCdWNrZXQsIG9yaWVudGF0aW9uOiBudW1iZXIsIHN5bWJvbEluc3RhbmNlOiBTeW1ib2xJbnN0YW5jZSkge1xuICAgICAgICBjb25zdCBob3Jpem9udGFsT3JpZW50YXRpb24gPSAob3JpZW50YXRpb24gPT09IFdyaXRpbmdNb2RlLmhvcml6b250YWwgfHwgb3JpZW50YXRpb24gPT09IFdyaXRpbmdNb2RlLmhvcml6b250YWxPbmx5KSA/IG9yaWVudGF0aW9uIDogMDtcbiAgICAgICAgY29uc3QgdmVydGljYWxPcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uID09PSBXcml0aW5nTW9kZS52ZXJ0aWNhbCA/IG9yaWVudGF0aW9uIDogMDtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgbGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDogbGVmdCwgY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OiBjZW50ZXIsXG4gICAgICAgICAgICByaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDogcmlnaHQsIHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OiB2ZXJ0aWNhbFxuICAgICAgICB9ID0gc3ltYm9sSW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gYnVja2V0LnRleHQucGxhY2VkU3ltYm9sQXJyYXk7XG5cbiAgICAgICAgaWYgKGxlZnQgPj0gMCkgYXJyYXkuZ2V0KGxlZnQpLnBsYWNlZE9yaWVudGF0aW9uID0gaG9yaXpvbnRhbE9yaWVudGF0aW9uO1xuICAgICAgICBpZiAoY2VudGVyID49IDApIGFycmF5LmdldChjZW50ZXIpLnBsYWNlZE9yaWVudGF0aW9uID0gaG9yaXpvbnRhbE9yaWVudGF0aW9uO1xuICAgICAgICBpZiAocmlnaHQgPj0gMCkgYXJyYXkuZ2V0KHJpZ2h0KS5wbGFjZWRPcmllbnRhdGlvbiA9IGhvcml6b250YWxPcmllbnRhdGlvbjtcbiAgICAgICAgaWYgKHZlcnRpY2FsID49IDApIGFycmF5LmdldCh2ZXJ0aWNhbCkucGxhY2VkT3JpZW50YXRpb24gPSB2ZXJ0aWNhbE9yaWVudGF0aW9uO1xuICAgIH1cblxuICAgIGNvbW1pdChub3c6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbW1pdFRpbWUgPSBub3c7XG4gICAgICAgIHRoaXMuem9vbUF0TGFzdFJlY2VuY3lDaGVjayA9IHRoaXMudHJhbnNmb3JtLnpvb207XG5cbiAgICAgICAgY29uc3QgcHJldlBsYWNlbWVudCA9IHRoaXMucHJldlBsYWNlbWVudDtcbiAgICAgICAgbGV0IHBsYWNlbWVudENoYW5nZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnByZXZab29tQWRqdXN0bWVudCA9IHByZXZQbGFjZW1lbnQgPyBwcmV2UGxhY2VtZW50Lnpvb21BZGp1c3RtZW50KHRoaXMudHJhbnNmb3JtLnpvb20pIDogMDtcbiAgICAgICAgY29uc3QgaW5jcmVtZW50ID0gcHJldlBsYWNlbWVudCA/IHByZXZQbGFjZW1lbnQuc3ltYm9sRmFkZUNoYW5nZShub3cpIDogMTtcblxuICAgICAgICBjb25zdCBwcmV2T3BhY2l0aWVzID0gcHJldlBsYWNlbWVudCA/IHByZXZQbGFjZW1lbnQub3BhY2l0aWVzIDoge307XG4gICAgICAgIGNvbnN0IHByZXZPZmZzZXRzID0gcHJldlBsYWNlbWVudCA/IHByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzIDoge307XG4gICAgICAgIGNvbnN0IHByZXZPcmllbnRhdGlvbnMgPSBwcmV2UGxhY2VtZW50ID8gcHJldlBsYWNlbWVudC5wbGFjZWRPcmllbnRhdGlvbnMgOiB7fTtcblxuICAgICAgICAvLyBhZGQgdGhlIG9wYWNpdGllcyBmcm9tIHRoZSBjdXJyZW50IHBsYWNlbWVudCwgYW5kIGNvcHkgdGhlaXIgY3VycmVudCB2YWx1ZXMgZnJvbSB0aGUgcHJldmlvdXMgcGxhY2VtZW50XG4gICAgICAgIGZvciAoY29uc3QgY3Jvc3NUaWxlSUQgaW4gdGhpcy5wbGFjZW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBqb2ludFBsYWNlbWVudCA9IHRoaXMucGxhY2VtZW50c1tjcm9zc1RpbGVJRF07XG4gICAgICAgICAgICBjb25zdCBwcmV2T3BhY2l0eSA9IHByZXZPcGFjaXRpZXNbY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgaWYgKHByZXZPcGFjaXR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdID0gbmV3IEpvaW50T3BhY2l0eVN0YXRlKHByZXZPcGFjaXR5LCBpbmNyZW1lbnQsIGpvaW50UGxhY2VtZW50LnRleHQsIGpvaW50UGxhY2VtZW50Lmljb24sIG51bGwsIGpvaW50UGxhY2VtZW50LmNsaXBwZWQpO1xuICAgICAgICAgICAgICAgIHBsYWNlbWVudENoYW5nZWQgPSBwbGFjZW1lbnRDaGFuZ2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIGpvaW50UGxhY2VtZW50LnRleHQgIT09IHByZXZPcGFjaXR5LnRleHQucGxhY2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIGpvaW50UGxhY2VtZW50Lmljb24gIT09IHByZXZPcGFjaXR5Lmljb24ucGxhY2VkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0gPSBuZXcgSm9pbnRPcGFjaXR5U3RhdGUobnVsbCwgaW5jcmVtZW50LCBqb2ludFBsYWNlbWVudC50ZXh0LCBqb2ludFBsYWNlbWVudC5pY29uLCBqb2ludFBsYWNlbWVudC5za2lwRmFkZSwgam9pbnRQbGFjZW1lbnQuY2xpcHBlZCk7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50Q2hhbmdlZCA9IHBsYWNlbWVudENoYW5nZWQgfHwgam9pbnRQbGFjZW1lbnQudGV4dCB8fCBqb2ludFBsYWNlbWVudC5pY29uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29weSBhbmQgdXBkYXRlIHZhbHVlcyBmcm9tIHRoZSBwcmV2aW91cyBwbGFjZW1lbnQgdGhhdCBhcmVuJ3QgaW4gdGhlIGN1cnJlbnQgcGxhY2VtZW50IGJ1dCBoYXZlbid0IGZpbmlzaGVkIGZhZGluZ1xuICAgICAgICBmb3IgKGNvbnN0IGNyb3NzVGlsZUlEIGluIHByZXZPcGFjaXRpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZPcGFjaXR5ID0gcHJldk9wYWNpdGllc1tjcm9zc1RpbGVJRF07XG4gICAgICAgICAgICBpZiAoIXRoaXMub3BhY2l0aWVzW2Nyb3NzVGlsZUlEXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50T3BhY2l0eSA9IG5ldyBKb2ludE9wYWNpdHlTdGF0ZShwcmV2T3BhY2l0eSwgaW5jcmVtZW50LCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmICgham9pbnRPcGFjaXR5LmlzSGlkZGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdID0gam9pbnRPcGFjaXR5O1xuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRDaGFuZ2VkID0gcGxhY2VtZW50Q2hhbmdlZCB8fCBwcmV2T3BhY2l0eS50ZXh0LnBsYWNlZCB8fCBwcmV2T3BhY2l0eS5pY29uLnBsYWNlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjcm9zc1RpbGVJRCBpbiBwcmV2T2Zmc2V0cykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZhcmlhYmxlT2Zmc2V0c1tjcm9zc1RpbGVJRF0gJiYgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdICYmICF0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0uaXNIaWRkZW4oKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFyaWFibGVPZmZzZXRzW2Nyb3NzVGlsZUlEXSA9IHByZXZPZmZzZXRzW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgY3Jvc3NUaWxlSUQgaW4gcHJldk9yaWVudGF0aW9ucykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tjcm9zc1RpbGVJRF0gJiYgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdICYmICF0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0uaXNIaWRkZW4oKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGxhY2VkT3JpZW50YXRpb25zW2Nyb3NzVGlsZUlEXSA9IHByZXZPcmllbnRhdGlvbnNbY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSBpcyB0aGUgdGltZSBvZiB0aGUgbGFzdCBjb21taXQoKSB0aGF0XG4gICAgICAgIC8vIHJlc3VsdGVkIGluIGEgcGxhY2VtZW50IGNoYW5nZSAtLSBpbiBvdGhlciB3b3JkcywgdGhlIHN0YXJ0IHRpbWUgb2ZcbiAgICAgICAgLy8gdGhlIGxhc3Qgc3ltYm9sIGZhZGUgYW5pbWF0aW9uXG4gICAgICAgIGFzc2VydCghcHJldlBsYWNlbWVudCB8fCBwcmV2UGxhY2VtZW50Lmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lICE9PSB1bmRlZmluZWQpO1xuICAgICAgICBpZiAocGxhY2VtZW50Q2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSA9IG5vdztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUgPSBwcmV2UGxhY2VtZW50ID8gcHJldlBsYWNlbWVudC5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSA6IG5vdztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUxheWVyT3BhY2l0aWVzKHN0eWxlTGF5ZXI6IFN0eWxlTGF5ZXIsIHRpbGVzOiBBcnJheTxUaWxlPikge1xuICAgICAgICBjb25zdCBzZWVuQ3Jvc3NUaWxlSURzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdGlsZSBvZiB0aWxlcykge1xuICAgICAgICAgICAgY29uc3Qgc3ltYm9sQnVja2V0ID0gKCh0aWxlLmdldEJ1Y2tldChzdHlsZUxheWVyKTogYW55KTogU3ltYm9sQnVja2V0KTtcbiAgICAgICAgICAgIGlmIChzeW1ib2xCdWNrZXQgJiYgdGlsZS5sYXRlc3RGZWF0dXJlSW5kZXggJiYgc3R5bGVMYXllci5pZCA9PT0gc3ltYm9sQnVja2V0LmxheWVySWRzWzBdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCdWNrZXRPcGFjaXRpZXMoc3ltYm9sQnVja2V0LCBzZWVuQ3Jvc3NUaWxlSURzLCB0aWxlLmNvbGxpc2lvbkJveEFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUJ1Y2tldE9wYWNpdGllcyhidWNrZXQ6IFN5bWJvbEJ1Y2tldCwgc2VlbkNyb3NzVGlsZUlEczogeyBbc3RyaW5nIHwgbnVtYmVyXTogYm9vbGVhbiB9LCBjb2xsaXNpb25Cb3hBcnJheTogP0NvbGxpc2lvbkJveEFycmF5KSB7XG4gICAgICAgIGlmIChidWNrZXQuaGFzVGV4dERhdGEoKSkgYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgIGlmIChidWNrZXQuaGFzSWNvbkRhdGEoKSkgYnVja2V0Lmljb24ub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgIGlmIChidWNrZXQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSkgYnVja2V0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpKSBidWNrZXQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpO1xuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IGJ1Y2tldC5sYXllcnNbMF0ubGF5b3V0O1xuICAgICAgICBjb25zdCBoYXNDbGlwcGluZyA9ICEhYnVja2V0LmxheWVyc1swXS5keW5hbWljRmlsdGVyKCk7XG4gICAgICAgIGNvbnN0IGR1cGxpY2F0ZU9wYWNpdHlTdGF0ZSA9IG5ldyBKb2ludE9wYWNpdHlTdGF0ZShudWxsLCAwLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICBjb25zdCB0ZXh0QWxsb3dPdmVybGFwID0gbGF5b3V0LmdldCgndGV4dC1hbGxvdy1vdmVybGFwJyk7XG4gICAgICAgIGNvbnN0IGljb25BbGxvd092ZXJsYXAgPSBsYXlvdXQuZ2V0KCdpY29uLWFsbG93LW92ZXJsYXAnKTtcbiAgICAgICAgY29uc3QgdmFyaWFibGVQbGFjZW1lbnQgPSBsYXlvdXQuZ2V0KCd0ZXh0LXZhcmlhYmxlLWFuY2hvcicpO1xuICAgICAgICBjb25zdCByb3RhdGVXaXRoTWFwID0gbGF5b3V0LmdldCgndGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQnKSA9PT0gJ21hcCc7XG4gICAgICAgIGNvbnN0IHBpdGNoV2l0aE1hcCA9IGxheW91dC5nZXQoJ3RleHQtcGl0Y2gtYWxpZ25tZW50JykgPT09ICdtYXAnO1xuICAgICAgICBjb25zdCBoYXNJY29uVGV4dEZpdCA9IGxheW91dC5nZXQoJ2ljb24tdGV4dC1maXQnKSAhPT0gJ25vbmUnO1xuICAgICAgICAvLyBJZiBhbGxvdy1vdmVybGFwIGlzIHRydWUsIHdlIGNhbiBzaG93IHN5bWJvbHMgYmVmb3JlIHBsYWNlbWVudCBydW5zIG9uIHRoZW1cbiAgICAgICAgLy8gQnV0IHdlIGhhdmUgdG8gd2FpdCBmb3IgcGxhY2VtZW50IGlmIHdlIHBvdGVudGlhbGx5IGRlcGVuZCBvbiBhIHBhaXJlZCBpY29uL3RleHRcbiAgICAgICAgLy8gd2l0aCBhbGxvdy1vdmVybGFwOiBmYWxzZS5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy83MDMyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRPcGFjaXR5U3RhdGUgPSBuZXcgSm9pbnRPcGFjaXR5U3RhdGUobnVsbCwgMCxcbiAgICAgICAgICAgICAgICB0ZXh0QWxsb3dPdmVybGFwICYmIChpY29uQWxsb3dPdmVybGFwIHx8ICFidWNrZXQuaGFzSWNvbkRhdGEoKSB8fCBsYXlvdXQuZ2V0KCdpY29uLW9wdGlvbmFsJykpLFxuICAgICAgICAgICAgICAgIGljb25BbGxvd092ZXJsYXAgJiYgKHRleHRBbGxvd092ZXJsYXAgfHwgIWJ1Y2tldC5oYXNUZXh0RGF0YSgpIHx8IGxheW91dC5nZXQoJ3RleHQtb3B0aW9uYWwnKSksXG4gICAgICAgICAgICAgICAgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKCFidWNrZXQuY29sbGlzaW9uQXJyYXlzICYmIGNvbGxpc2lvbkJveEFycmF5ICYmICgoYnVja2V0Lmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkgfHwgYnVja2V0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkpKSkge1xuICAgICAgICAgICAgYnVja2V0LmRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMoY29sbGlzaW9uQm94QXJyYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWRkT3BhY2l0aWVzID0gKGljb25PclRleHQsIG51bVZlcnRpY2VzOiBudW1iZXIsIG9wYWNpdHk6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WZXJ0aWNlcyAvIDQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGljb25PclRleHQub3BhY2l0eVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKG9wYWNpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCB2aXNpYmxlSW5zdGFuY2VDb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgcysrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMuZ2V0KHMpO1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIG51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzLFxuICAgICAgICAgICAgICAgIG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBjcm9zc1RpbGVJRCxcbiAgICAgICAgICAgICAgICBudW1JY29uVmVydGljZXNcbiAgICAgICAgICAgIH0gPSBzeW1ib2xJbnN0YW5jZTtcblxuICAgICAgICAgICAgY29uc3QgaXNEdXBsaWNhdGUgPSBzZWVuQ3Jvc3NUaWxlSURzW2Nyb3NzVGlsZUlEXTtcblxuICAgICAgICAgICAgbGV0IG9wYWNpdHlTdGF0ZSA9IHRoaXMub3BhY2l0aWVzW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgIGlmIChpc0R1cGxpY2F0ZSkge1xuICAgICAgICAgICAgICAgIG9wYWNpdHlTdGF0ZSA9IGR1cGxpY2F0ZU9wYWNpdHlTdGF0ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIW9wYWNpdHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIG9wYWNpdHlTdGF0ZSA9IGRlZmF1bHRPcGFjaXR5U3RhdGU7XG4gICAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIHN0YXRlIHNvIHRoYXQgZnV0dXJlIHBsYWNlbWVudHMgdXNlIGl0IGFzIGEgc3RhcnRpbmcgcG9pbnRcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0gPSBvcGFjaXR5U3RhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlZW5Dcm9zc1RpbGVJRHNbY3Jvc3NUaWxlSURdID0gdHJ1ZTtcblxuICAgICAgICAgICAgY29uc3QgaGFzVGV4dCA9IG51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzID4gMCB8fCBudW1WZXJ0aWNhbEdseXBoVmVydGljZXMgPiAwO1xuICAgICAgICAgICAgY29uc3QgaGFzSWNvbiA9IG51bUljb25WZXJ0aWNlcyA+IDA7XG5cbiAgICAgICAgICAgIGNvbnN0IHBsYWNlZE9yaWVudGF0aW9uID0gdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbEhpZGRlbiA9IHBsYWNlZE9yaWVudGF0aW9uID09PSBXcml0aW5nTW9kZS52ZXJ0aWNhbDtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsSGlkZGVuID0gcGxhY2VkT3JpZW50YXRpb24gPT09IFdyaXRpbmdNb2RlLmhvcml6b250YWwgfHwgcGxhY2VkT3JpZW50YXRpb24gPT09IFdyaXRpbmdNb2RlLmhvcml6b250YWxPbmx5O1xuICAgICAgICAgICAgaWYgKChoYXNUZXh0IHx8IGhhc0ljb24pICYmICFvcGFjaXR5U3RhdGUuaXNIaWRkZW4oKSkgdmlzaWJsZUluc3RhbmNlQ291bnQrKztcblxuICAgICAgICAgICAgaWYgKGhhc1RleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWNrZWRPcGFjaXR5ID0gcGFja09wYWNpdHkob3BhY2l0eVN0YXRlLnRleHQpO1xuICAgICAgICAgICAgICAgIC8vIFZlcnRpY2FsIHRleHQgZmFkZXMgaW4vb3V0IG9uIGNvbGxpc2lvbiB0aGUgc2FtZSB3YXkgYXMgY29ycmVzcG9uZGluZ1xuICAgICAgICAgICAgICAgIC8vIGhvcml6b250YWwgdGV4dC4gU3dpdGNoIGJldHdlZW4gdmVydGljYWwvaG9yaXpvbnRhbCBzaG91bGQgYmUgaW5zdGFudGFuZW91c1xuICAgICAgICAgICAgICAgIGNvbnN0IGhvcml6b250YWxPcGFjaXR5ID0gaG9yaXpvbnRhbEhpZGRlbiA/IFBBQ0tFRF9ISURERU5fT1BBQ0lUWSA6IHBhY2tlZE9wYWNpdHk7XG4gICAgICAgICAgICAgICAgYWRkT3BhY2l0aWVzKGJ1Y2tldC50ZXh0LCBudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcywgaG9yaXpvbnRhbE9wYWNpdHkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsT3BhY2l0eSA9IHZlcnRpY2FsSGlkZGVuID8gUEFDS0VEX0hJRERFTl9PUEFDSVRZIDogcGFja2VkT3BhY2l0eTtcbiAgICAgICAgICAgICAgICBhZGRPcGFjaXRpZXMoYnVja2V0LnRleHQsIG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcywgdmVydGljYWxPcGFjaXR5KTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgbGFiZWwgaXMgY29tcGxldGVseSBmYWRlZCwgbWFyayBpdCBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gY2FsY3VsYXRlXG4gICAgICAgICAgICAgICAgLy8gaXRzIHBvc2l0aW9uIGF0IHJlbmRlciB0aW1lLiBJZiB0aGlzIGxheWVyIGhhcyB2YXJpYWJsZSBwbGFjZW1lbnQsIHNoaWZ0IHRoZSB2YXJpb3VzXG4gICAgICAgICAgICAgICAgLy8gc3ltYm9sIGluc3RhbmNlcyBhcHByb3ByaWF0ZWx5IHNvIHRoYXQgc3ltYm9scyBmcm9tIGJ1Y2tldHMgdGhhdCBoYXZlIHlldCB0byBiZSBwbGFjZWRcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXQgYXBwcm9wcmlhdGVseS5cbiAgICAgICAgICAgICAgICBjb25zdCBzeW1ib2xIaWRkZW4gPSBvcGFjaXR5U3RhdGUudGV4dC5pc0hpZGRlbigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDogbGVmdCwgY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OiBjZW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OiByaWdodCwgdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6IHZlcnRpY2FsXG4gICAgICAgICAgICAgICAgfSA9IHN5bWJvbEluc3RhbmNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5ID0gYnVja2V0LnRleHQucGxhY2VkU3ltYm9sQXJyYXk7XG4gICAgICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbEhpZGRlblZhbHVlID0gc3ltYm9sSGlkZGVuIHx8IGhvcml6b250YWxIaWRkZW4gPyAxIDogMDtcblxuICAgICAgICAgICAgICAgIGlmIChsZWZ0ID49IDApIGFycmF5LmdldChsZWZ0KS5oaWRkZW4gPSBob3Jpem9udGFsSGlkZGVuVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGNlbnRlciA+PSAwKSBhcnJheS5nZXQoY2VudGVyKS5oaWRkZW4gPSBob3Jpem9udGFsSGlkZGVuVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0ID49IDApIGFycmF5LmdldChyaWdodCkuaGlkZGVuID0gaG9yaXpvbnRhbEhpZGRlblZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJ0aWNhbCA+PSAwKSBhcnJheS5nZXQodmVydGljYWwpLmhpZGRlbiA9IHN5bWJvbEhpZGRlbiB8fCB2ZXJ0aWNhbEhpZGRlbiA/IDEgOiAwO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldk9mZnNldCA9IHRoaXMudmFyaWFibGVPZmZzZXRzW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgICAgICBpZiAocHJldk9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihidWNrZXQsIHByZXZPZmZzZXQuYW5jaG9yLCBzeW1ib2xJbnN0YW5jZSwgcGxhY2VkT3JpZW50YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZPcmllbnRhdGlvbiA9IHRoaXMucGxhY2VkT3JpZW50YXRpb25zW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgICAgICBpZiAocHJldk9yaWVudGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKGJ1Y2tldCwgJ2xlZnQnLCBzeW1ib2xJbnN0YW5jZSwgcHJldk9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKGJ1Y2tldCwgcHJldk9yaWVudGF0aW9uLCBzeW1ib2xJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaGFzSWNvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhY2tlZE9wYWNpdHkgPSBwYWNrT3BhY2l0eShvcGFjaXR5U3RhdGUuaWNvbik7XG4gICAgICAgICAgICAgICAgY29uc3Qge3BsYWNlZEljb25TeW1ib2xJbmRleCwgdmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXh9ID0gc3ltYm9sSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXkgPSBidWNrZXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheTtcbiAgICAgICAgICAgICAgICBjb25zdCBpY29uSGlkZGVuID0gb3BhY2l0eVN0YXRlLmljb24uaXNIaWRkZW4oKSA/IDEgOiAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlZEljb25TeW1ib2xJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvcml6b250YWxPcGFjaXR5ID0gIWhvcml6b250YWxIaWRkZW4gPyBwYWNrZWRPcGFjaXR5IDogUEFDS0VEX0hJRERFTl9PUEFDSVRZO1xuICAgICAgICAgICAgICAgICAgICBhZGRPcGFjaXRpZXMoYnVja2V0Lmljb24sIG51bUljb25WZXJ0aWNlcywgaG9yaXpvbnRhbE9wYWNpdHkpO1xuICAgICAgICAgICAgICAgICAgICBhcnJheS5nZXQocGxhY2VkSWNvblN5bWJvbEluZGV4KS5oaWRkZW4gPSBpY29uSGlkZGVuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsT3BhY2l0eSA9ICF2ZXJ0aWNhbEhpZGRlbiA/IHBhY2tlZE9wYWNpdHkgOiBQQUNLRURfSElEREVOX09QQUNJVFk7XG4gICAgICAgICAgICAgICAgICAgIGFkZE9wYWNpdGllcyhidWNrZXQuaWNvbiwgc3ltYm9sSW5zdGFuY2UubnVtVmVydGljYWxJY29uVmVydGljZXMsIHZlcnRpY2FsT3BhY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgIGFycmF5LmdldCh2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCkuaGlkZGVuID0gaWNvbkhpZGRlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChidWNrZXQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSB8fCBidWNrZXQuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbkFycmF5cyA9IGJ1Y2tldC5jb2xsaXNpb25BcnJheXNbc107XG4gICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2hpZnQgPSBuZXcgUG9pbnQoMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cy50ZXh0Qm94IHx8IGNvbGxpc2lvbkFycmF5cy52ZXJ0aWNhbFRleHRCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYWJsZVBsYWNlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlT2Zmc2V0ID0gdGhpcy52YXJpYWJsZU9mZnNldHNbY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYWJsZU9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgc2hvdyBlaXRoZXIgdGhlIGN1cnJlbnRseSBwbGFjZWQgcG9zaXRpb24gb3IgdGhlIGxhc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3VjY2Vzc2Z1bGx5IHBsYWNlZCBwb3NpdGlvbiAoc28geW91IGNhbiB2aXN1YWxpemUgd2hhdCBjb2xsaXNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBtYWRlIHRoZSBzeW1ib2wgZGlzYXBwZWFyLCBhbmQgdGhlIG1vc3QgbGlrZWx5IHBsYWNlIGZvciB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3ltYm9sIHRvIGNvbWUgYmFjaylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSBjYWxjdWxhdGVWYXJpYWJsZUxheW91dFNoaWZ0KHZhcmlhYmxlT2Zmc2V0LmFuY2hvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVPZmZzZXQud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlT2Zmc2V0LmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVPZmZzZXQudGV4dE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVPZmZzZXQudGV4dFNjYWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvdGF0ZVdpdGhNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0Ll9yb3RhdGUocGl0Y2hXaXRoTWFwID8gdGhpcy50cmFuc2Zvcm0uYW5nbGUgOiAtdGhpcy50cmFuc2Zvcm0uYW5nbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gb2Zmc2V0IC0+IHRoaXMgc3ltYm9sIGhhc24ndCBiZWVuIHBsYWNlZCBzaW5jZSBjb21pbmcgb24tc2NyZWVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIHNpbmdsZSBib3ggaXMgcGFydGljdWxhcmx5IG1lYW5pbmdmdWwgYW5kIGFsbCBvZiB0aGVtIHdvdWxkIGJlIHRvbyBub2lzeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGNlbnRlciBib3gganVzdCB0byBzaG93IHNvbWV0aGluZydzIHRoZXJlLCBidXQgbWFyayBpdCBcIm5vdCB1c2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0NsaXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlZCA9ICFvcGFjaXR5U3RhdGUuY2xpcHBlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cy50ZXh0Qm94KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29sbGlzaW9uVmVydGljZXMoYnVja2V0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksIG9wYWNpdHlTdGF0ZS50ZXh0LnBsYWNlZCwgIXVzZWQgfHwgaG9yaXpvbnRhbEhpZGRlbiwgc2hpZnQueCwgc2hpZnQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uQXJyYXlzLnZlcnRpY2FsVGV4dEJveCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbGxpc2lvblZlcnRpY2VzKGJ1Y2tldC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LCBvcGFjaXR5U3RhdGUudGV4dC5wbGFjZWQsICF1c2VkIHx8IHZlcnRpY2FsSGlkZGVuLCBzaGlmdC54LCBzaGlmdC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsSWNvblVzZWQgPSB1c2VkICYmIEJvb2xlYW4oIXZlcnRpY2FsSGlkZGVuICYmIGNvbGxpc2lvbkFycmF5cy52ZXJ0aWNhbEljb25Cb3gpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb25BcnJheXMuaWNvbkJveCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29sbGlzaW9uVmVydGljZXMoYnVja2V0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksIG9wYWNpdHlTdGF0ZS5pY29uLnBsYWNlZCwgdmVydGljYWxJY29uVXNlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNJY29uVGV4dEZpdCA/IHNoaWZ0LnggOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ljb25UZXh0Rml0ID8gc2hpZnQueSA6IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cy52ZXJ0aWNhbEljb25Cb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbGxpc2lvblZlcnRpY2VzKGJ1Y2tldC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LCBvcGFjaXR5U3RhdGUuaWNvbi5wbGFjZWQsICF2ZXJ0aWNhbEljb25Vc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ljb25UZXh0Rml0ID8gc2hpZnQueCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzSWNvblRleHRGaXQgPyBzaGlmdC55IDogMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnVja2V0LmZ1bGx5Q2xpcHBlZCA9IHZpc2libGVJbnN0YW5jZUNvdW50ID09PSAwO1xuICAgICAgICBidWNrZXQuc29ydEZlYXR1cmVzKHRoaXMudHJhbnNmb3JtLmFuZ2xlKTtcbiAgICAgICAgaWYgKHRoaXMucmV0YWluZWRRdWVyeURhdGFbYnVja2V0LmJ1Y2tldEluc3RhbmNlSWRdKSB7XG4gICAgICAgICAgICB0aGlzLnJldGFpbmVkUXVlcnlEYXRhW2J1Y2tldC5idWNrZXRJbnN0YW5jZUlkXS5mZWF0dXJlU29ydE9yZGVyID0gYnVja2V0LmZlYXR1cmVTb3J0T3JkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYnVja2V0Lmhhc1RleHREYXRhKCkgJiYgYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGJ1Y2tldC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNJY29uRGF0YSgpICYmIGJ1Y2tldC5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGJ1Y2tldC5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShidWNrZXQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWNrZXQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSAmJiBidWNrZXQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGJ1Y2tldC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGJ1Y2tldC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVja2V0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkgJiYgYnVja2V0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBidWNrZXQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShidWNrZXQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSk7XG4gICAgICAgIH1cblxuICAgICAgICBhc3NlcnQoYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEFycmF5Lmxlbmd0aCA9PT0gYnVja2V0LnRleHQubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoIC8gNCk7XG4gICAgICAgIGFzc2VydChidWNrZXQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkubGVuZ3RoID09PSBidWNrZXQuaWNvbi5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGggLyA0KTtcblxuICAgICAgICAvLyBQdXNoIGdlbmVyYXRlZCBjb2xsaXNpb24gY2lyY2xlcyB0byB0aGUgYnVja2V0IGZvciBkZWJ1ZyByZW5kZXJpbmdcbiAgICAgICAgaWYgKGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkIGluIHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzKSB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW2J1Y2tldC5idWNrZXRJbnN0YW5jZUlkXTtcblxuICAgICAgICAgICAgYnVja2V0LnBsYWNlbWVudEludlByb2pNYXRyaXggPSBpbnN0YW5jZS5pbnZQcm9qTWF0cml4O1xuICAgICAgICAgICAgYnVja2V0LnBsYWNlbWVudFZpZXdwb3J0TWF0cml4ID0gaW5zdGFuY2Uudmlld3BvcnRNYXRyaXg7XG4gICAgICAgICAgICBidWNrZXQuY29sbGlzaW9uQ2lyY2xlQXJyYXkgPSBpbnN0YW5jZS5jaXJjbGVzO1xuXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbYnVja2V0LmJ1Y2tldEluc3RhbmNlSWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3ltYm9sRmFkZUNoYW5nZShub3c6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhZGVEdXJhdGlvbiA9PT0gMCA/XG4gICAgICAgICAgICAxIDpcbiAgICAgICAgICAgICgobm93IC0gdGhpcy5jb21taXRUaW1lKSAvIHRoaXMuZmFkZUR1cmF0aW9uICsgdGhpcy5wcmV2Wm9vbUFkanVzdG1lbnQpO1xuICAgIH1cblxuICAgIHpvb21BZGp1c3RtZW50KHpvb206IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIC8vIFdoZW4gem9vbWluZyBvdXQgcXVpY2tseSwgbGFiZWxzIGNhbiBvdmVybGFwIGVhY2ggb3RoZXIuIFRoaXNcbiAgICAgICAgLy8gYWRqdXN0bWVudCBpcyB1c2VkIHRvIHJlZHVjZSB0aGUgaW50ZXJ2YWwgYmV0d2VlbiBwbGFjZW1lbnQgY2FsY3VsYXRpb25zXG4gICAgICAgIC8vIGFuZCB0byByZWR1Y2UgdGhlIGZhZGUgZHVyYXRpb24gd2hlbiB6b29taW5nIG91dCBxdWlja2x5LiBEaXNjb3ZlcmluZyB0aGVcbiAgICAgICAgLy8gY29sbGlzaW9ucyBtb3JlIHF1aWNrbHkgYW5kIGZhZGluZyB0aGVtIG1vcmUgcXVpY2tseSByZWR1Y2VzIHRoZSB1bndhbnRlZCBlZmZlY3QuXG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCAodGhpcy50cmFuc2Zvcm0uem9vbSAtIHpvb20pIC8gMS41KTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9ucyhub3c6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFsZSB8fFxuICAgICAgICAgICAgbm93IC0gdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSA8IHRoaXMuZmFkZUR1cmF0aW9uO1xuICAgIH1cblxuICAgIHN0aWxsUmVjZW50KG5vdzogbnVtYmVyLCB6b29tOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgLy8gVGhlIGFkanVzdG1lbnQgbWFrZXMgcGxhY2VtZW50IG1vcmUgZnJlcXVlbnQgd2hlbiB6b29taW5nLlxuICAgICAgICAvLyBUaGlzIGNvbmRpdGlvbiBhcHBsaWVzIHRoZSBhZGp1c3RtZW50IG9ubHkgYWZ0ZXIgdGhlIG1hcCBoYXNcbiAgICAgICAgLy8gc3RvcHBlZCB6b29taW5nLiBUaGlzIGF2b2lkcyBhZGRpbmcgZXh0cmEgamFuayB3aGlsZSB6b29taW5nLlxuICAgICAgICBjb25zdCBkdXJhdGlvbkFkanVzdG1lbnQgPSB0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2sgPT09IHpvb20gP1xuICAgICAgICAgICAgKDEgLSB0aGlzLnpvb21BZGp1c3RtZW50KHpvb20pKSA6XG4gICAgICAgICAgICAxO1xuICAgICAgICB0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2sgPSB6b29tO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1pdFRpbWUgKyB0aGlzLmZhZGVEdXJhdGlvbiAqIGR1cmF0aW9uQWRqdXN0bWVudCA+IG5vdztcbiAgICB9XG5cbiAgICBzZXRTdGFsZSgpIHtcbiAgICAgICAgdGhpcy5zdGFsZSA9IHRydWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVDb2xsaXNpb25WZXJ0aWNlcyhjb2xsaXNpb25WZXJ0ZXhBcnJheTogQ29sbGlzaW9uVmVydGV4QXJyYXksIHBsYWNlZDogYm9vbGVhbiwgbm90VXNlZDogYm9vbGVhbiB8IG51bWJlciwgc2hpZnRYPzogbnVtYmVyLCBzaGlmdFk/OiBudW1iZXIpIHtcbiAgICBjb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwbGFjZWQgPyAxIDogMCwgbm90VXNlZCA/IDEgOiAwLCBzaGlmdFggfHwgMCwgc2hpZnRZIHx8IDApO1xuICAgIGNvbGxpc2lvblZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHBsYWNlZCA/IDEgOiAwLCBub3RVc2VkID8gMSA6IDAsIHNoaWZ0WCB8fCAwLCBzaGlmdFkgfHwgMCk7XG4gICAgY29sbGlzaW9uVmVydGV4QXJyYXkuZW1wbGFjZUJhY2socGxhY2VkID8gMSA6IDAsIG5vdFVzZWQgPyAxIDogMCwgc2hpZnRYIHx8IDAsIHNoaWZ0WSB8fCAwKTtcbiAgICBjb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwbGFjZWQgPyAxIDogMCwgbm90VXNlZCA/IDEgOiAwLCBzaGlmdFggfHwgMCwgc2hpZnRZIHx8IDApO1xufVxuXG4vLyBBbGwgZm91ciB2ZXJ0aWNlcyBmb3IgYSBnbHlwaCB3aWxsIGhhdmUgdGhlIHNhbWUgb3BhY2l0eSBzdGF0ZVxuLy8gU28gd2UgcGFjayB0aGUgb3BhY2l0eSBpbnRvIGEgdWludDgsIGFuZCB0aGVuIHJlcGVhdCBpdCBmb3VyIHRpbWVzXG4vLyB0byBtYWtlIGEgc2luZ2xlIHVpbnQzMiB0aGF0IHdlIGNhbiB1cGxvYWQgZm9yIGVhY2ggZ2x5cGggaW4gdGhlXG4vLyBsYWJlbC5cbmNvbnN0IHNoaWZ0MjUgPSBNYXRoLnBvdygyLCAyNSk7XG5jb25zdCBzaGlmdDI0ID0gTWF0aC5wb3coMiwgMjQpO1xuY29uc3Qgc2hpZnQxNyA9IE1hdGgucG93KDIsIDE3KTtcbmNvbnN0IHNoaWZ0MTYgPSBNYXRoLnBvdygyLCAxNik7XG5jb25zdCBzaGlmdDkgPSBNYXRoLnBvdygyLCA5KTtcbmNvbnN0IHNoaWZ0OCA9IE1hdGgucG93KDIsIDgpO1xuY29uc3Qgc2hpZnQxID0gTWF0aC5wb3coMiwgMSk7XG5mdW5jdGlvbiBwYWNrT3BhY2l0eShvcGFjaXR5U3RhdGU6IE9wYWNpdHlTdGF0ZSk6IG51bWJlciB7XG4gICAgaWYgKG9wYWNpdHlTdGF0ZS5vcGFjaXR5ID09PSAwICYmICFvcGFjaXR5U3RhdGUucGxhY2VkKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSBpZiAob3BhY2l0eVN0YXRlLm9wYWNpdHkgPT09IDEgJiYgb3BhY2l0eVN0YXRlLnBsYWNlZCkge1xuICAgICAgICByZXR1cm4gNDI5NDk2NzI5NTtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0Qml0ID0gb3BhY2l0eVN0YXRlLnBsYWNlZCA/IDEgOiAwO1xuICAgIGNvbnN0IG9wYWNpdHlCaXRzID0gTWF0aC5mbG9vcihvcGFjaXR5U3RhdGUub3BhY2l0eSAqIDEyNyk7XG4gICAgcmV0dXJuIG9wYWNpdHlCaXRzICogc2hpZnQyNSArIHRhcmdldEJpdCAqIHNoaWZ0MjQgK1xuICAgICAgICBvcGFjaXR5Qml0cyAqIHNoaWZ0MTcgKyB0YXJnZXRCaXQgKiBzaGlmdDE2ICtcbiAgICAgICAgb3BhY2l0eUJpdHMgKiBzaGlmdDkgKyB0YXJnZXRCaXQgKiBzaGlmdDggK1xuICAgICAgICBvcGFjaXR5Qml0cyAqIHNoaWZ0MSArIHRhcmdldEJpdDtcbn1cblxuY29uc3QgUEFDS0VEX0hJRERFTl9PUEFDSVRZID0gMDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5cbmltcG9ydCB7UGxhY2VtZW50fSBmcm9tICcuLi9zeW1ib2wvcGxhY2VtZW50LmpzJztcbmltcG9ydCB7UGVyZm9ybWFuY2VVdGlsc30gZnJvbSAnLi4vdXRpbC9wZXJmb3JtYW5jZS5qcyc7XG5cbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgdHlwZSBTeW1ib2xTdHlsZUxheWVyIGZyb20gJy4vc3R5bGVfbGF5ZXIvc3ltYm9sX3N0eWxlX2xheWVyLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vc291cmNlL3RpbGUuanMnO1xuaW1wb3J0IHR5cGUge0J1Y2tldFBhcnR9IGZyb20gJy4uL3N5bWJvbC9wbGFjZW1lbnQuanMnO1xuaW1wb3J0IHR5cGUge0ZvZ1N0YXRlfSBmcm9tICcuL2ZvZ19oZWxwZXJzLmpzJztcblxuY2xhc3MgTGF5ZXJQbGFjZW1lbnQge1xuICAgIF9zb3J0QWNyb3NzVGlsZXM6IGJvb2xlYW47XG4gICAgX2N1cnJlbnRUaWxlSW5kZXg6IG51bWJlcjtcbiAgICBfY3VycmVudFBhcnRJbmRleDogbnVtYmVyO1xuICAgIF9zZWVuQ3Jvc3NUaWxlSURzOiB7IFtzdHJpbmcgfCBudW1iZXJdOiBib29sZWFuIH07XG4gICAgX2J1Y2tldFBhcnRzOiBBcnJheTxCdWNrZXRQYXJ0PjtcblxuICAgIGNvbnN0cnVjdG9yKHN0eWxlTGF5ZXI6IFN5bWJvbFN0eWxlTGF5ZXIpIHtcbiAgICAgICAgdGhpcy5fc29ydEFjcm9zc1RpbGVzID0gc3R5bGVMYXllci5sYXlvdXQuZ2V0KCdzeW1ib2wtei1vcmRlcicpICE9PSAndmlld3BvcnQteScgJiZcbiAgICAgICAgICAgIHN0eWxlTGF5ZXIubGF5b3V0LmdldCgnc3ltYm9sLXNvcnQta2V5JykuY29uc3RhbnRPcigxKSAhPT0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaWxlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9jdXJyZW50UGFydEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fc2VlbkNyb3NzVGlsZUlEcyA9IHt9O1xuICAgICAgICB0aGlzLl9idWNrZXRQYXJ0cyA9IFtdO1xuICAgIH1cblxuICAgIGNvbnRpbnVlUGxhY2VtZW50KHRpbGVzOiBBcnJheTxUaWxlPiwgcGxhY2VtZW50OiBQbGFjZW1lbnQsIHNob3dDb2xsaXNpb25Cb3hlczogYm9vbGVhbiwgc3R5bGVMYXllcjogU3R5bGVMYXllciwgc2hvdWxkUGF1c2VQbGFjZW1lbnQ6ICgpID0+IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYnVja2V0UGFydHMgPSB0aGlzLl9idWNrZXRQYXJ0cztcblxuICAgICAgICB3aGlsZSAodGhpcy5fY3VycmVudFRpbGVJbmRleCA8IHRpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRpbGVzW3RoaXMuX2N1cnJlbnRUaWxlSW5kZXhdO1xuICAgICAgICAgICAgcGxhY2VtZW50LmdldEJ1Y2tldFBhcnRzKGJ1Y2tldFBhcnRzLCBzdHlsZUxheWVyLCB0aWxlLCB0aGlzLl9zb3J0QWNyb3NzVGlsZXMpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGlsZUluZGV4Kys7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUGF1c2VQbGFjZW1lbnQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcykge1xuICAgICAgICAgICAgdGhpcy5fc29ydEFjcm9zc1RpbGVzID0gZmFsc2U7XG4gICAgICAgICAgICBidWNrZXRQYXJ0cy5zb3J0KChhLCBiKSA9PiAoKGEuc29ydEtleTogYW55KTogbnVtYmVyKSAtICgoYi5zb3J0S2V5OiBhbnkpOiBudW1iZXIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh0aGlzLl9jdXJyZW50UGFydEluZGV4IDwgYnVja2V0UGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBidWNrZXRQYXJ0ID0gYnVja2V0UGFydHNbdGhpcy5fY3VycmVudFBhcnRJbmRleF07XG4gICAgICAgICAgICBwbGFjZW1lbnQucGxhY2VMYXllckJ1Y2tldFBhcnQoYnVja2V0UGFydCwgdGhpcy5fc2VlbkNyb3NzVGlsZUlEcywgc2hvd0NvbGxpc2lvbkJveGVzLCBidWNrZXRQYXJ0LnN5bWJvbEluc3RhbmNlU3RhcnQgPT09IDApO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBhcnRJbmRleCsrO1xuICAgICAgICAgICAgaWYgKHNob3VsZFBhdXNlUGxhY2VtZW50KCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5jbGFzcyBQYXVzZWFibGVQbGFjZW1lbnQge1xuICAgIHBsYWNlbWVudDogUGxhY2VtZW50O1xuICAgIF9kb25lOiBib29sZWFuO1xuICAgIF9jdXJyZW50UGxhY2VtZW50SW5kZXg6IG51bWJlcjtcbiAgICBfZm9yY2VGdWxsUGxhY2VtZW50OiBib29sZWFuO1xuICAgIF9zaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW47XG4gICAgX2luUHJvZ3Jlc3NMYXllcjogP0xheWVyUGxhY2VtZW50O1xuXG4gICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIG9yZGVyOiBBcnJheTxzdHJpbmc+LFxuICAgICAgICAgICAgICAgIGZvcmNlRnVsbFBsYWNlbWVudDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICBzaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgZmFkZUR1cmF0aW9uOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiBib29sZWFuLFxuICAgICAgICAgICAgICAgIHByZXZQbGFjZW1lbnQ/OiBQbGFjZW1lbnQsXG4gICAgICAgICAgICAgICAgZm9nU3RhdGU6ID9Gb2dTdGF0ZSkge1xuXG4gICAgICAgIHRoaXMucGxhY2VtZW50ID0gbmV3IFBsYWNlbWVudCh0cmFuc2Zvcm0sIGZhZGVEdXJhdGlvbiwgY3Jvc3NTb3VyY2VDb2xsaXNpb25zLCBwcmV2UGxhY2VtZW50LCBmb2dTdGF0ZSk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleCA9IG9yZGVyLmxlbmd0aCAtIDE7XG4gICAgICAgIHRoaXMuX2ZvcmNlRnVsbFBsYWNlbWVudCA9IGZvcmNlRnVsbFBsYWNlbWVudDtcbiAgICAgICAgdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzID0gc2hvd0NvbGxpc2lvbkJveGVzO1xuICAgICAgICB0aGlzLl9kb25lID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNEb25lKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZG9uZTtcbiAgICB9XG5cbiAgICBjb250aW51ZVBsYWNlbWVudChvcmRlcjogQXJyYXk8c3RyaW5nPiwgbGF5ZXJzOiB7W186IHN0cmluZ106IFN0eWxlTGF5ZXJ9LCBsYXllclRpbGVzOiB7W186IHN0cmluZ106IEFycmF5PFRpbGU+fSkge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBicm93c2VyLm5vdygpO1xuXG4gICAgICAgIGNvbnN0IHNob3VsZFBhdXNlUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxhcHNlZFRpbWUgPSBicm93c2VyLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvcmNlRnVsbFBsYWNlbWVudCA/IGZhbHNlIDogZWxhcHNlZFRpbWUgPiAyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHdoaWxlICh0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXJJZCA9IG9yZGVyW3RoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleF07XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IGxheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlbWVudFpvb20gPSB0aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleC50cmFuc2Zvcm0uem9vbTtcbiAgICAgICAgICAgIGlmIChsYXllci50eXBlID09PSAnc3ltYm9sJyAmJlxuICAgICAgICAgICAgICAgICghbGF5ZXIubWluem9vbSB8fCBsYXllci5taW56b29tIDw9IHBsYWNlbWVudFpvb20pICYmXG4gICAgICAgICAgICAgICAgKCFsYXllci5tYXh6b29tIHx8IGxheWVyLm1heHpvb20gPiBwbGFjZW1lbnRab29tKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pblByb2dyZXNzTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5Qcm9ncmVzc0xheWVyID0gbmV3IExheWVyUGxhY2VtZW50KCgobGF5ZXI6IGFueSk6IFN5bWJvbFN0eWxlTGF5ZXIpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXVzZVBsYWNlbWVudCA9IHRoaXMuX2luUHJvZ3Jlc3NMYXllci5jb250aW51ZVBsYWNlbWVudChsYXllclRpbGVzW2xheWVyLnNvdXJjZV0sIHRoaXMucGxhY2VtZW50LCB0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMsIGxheWVyLCBzaG91bGRQYXVzZVBsYWNlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGF1c2VQbGFjZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgUGVyZm9ybWFuY2VVdGlscy5yZWNvcmRQbGFjZW1lbnRUaW1lKGJyb3dzZXIubm93KCkgLSBzdGFydFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkaWRuJ3QgZmluaXNoIHBsYWNpbmcgYWxsIGxheWVycyB3aXRoaW4gMm1zLFxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgd2UgY2FuIGtlZXAgcmVuZGVyaW5nIHdpdGggYSBwYXJ0aWFsIHBsYWNlbWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBXZSdsbCByZXN1bWUgaGVyZSBvbiB0aGUgbmV4dCBmcmFtZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2luUHJvZ3Jlc3NMYXllcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4LS07XG4gICAgICAgIH1cbiAgICAgICAgUGVyZm9ybWFuY2VVdGlscy5yZWNvcmRQbGFjZW1lbnRUaW1lKGJyb3dzZXIubm93KCkgLSBzdGFydFRpbWUpO1xuICAgICAgICB0aGlzLl9kb25lID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb21taXQobm93OiBudW1iZXIpOiBQbGFjZW1lbnQge1xuICAgICAgICB0aGlzLnBsYWNlbWVudC5jb21taXQobm93KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhY2VtZW50O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGF1c2VhYmxlUGxhY2VtZW50O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudC5qcyc7XG5cbmltcG9ydCB7U3ltYm9sSW5zdGFuY2VBcnJheX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSBQcm9qZWN0aW9uIGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3Byb2plY3Rpb24uanMnO1xuaW1wb3J0IHR5cGUge1N5bWJvbEluc3RhbmNlfSBmcm9tICcuLi9kYXRhL2FycmF5X3R5cGVzLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgdHlwZSBTeW1ib2xCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldC5qcyc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vc291cmNlL3RpbGUuanMnO1xuXG4vKlxuICAgIFRoZSBDcm9zc1RpbGVTeW1ib2xJbmRleCBnZW5lcmFsbHkgd29ya3Mgb24gdGhlIGFzc3VtcHRpb24gdGhhdFxuICAgIGEgY29uY2VwdHVhbCBcInVuaXF1ZSBzeW1ib2xcIiBjYW4gYmUgaWRlbnRpZmllZCBieSB0aGUgdGV4dCBvZlxuICAgIHRoZSBsYWJlbCBjb21iaW5lZCB3aXRoIHRoZSBhbmNob3IgcG9pbnQuIFRoZSBnb2FsIGlzIHRvIGFzc2lnblxuICAgIHRoZXNlIGNvbmNlcHR1YWwgXCJ1bmlxdWUgc3ltYm9sc1wiIGEgc2hhcmVkIGNyb3NzVGlsZUlEIHRoYXQgY2FuIGJlXG4gICAgdXNlZCBieSBQbGFjZW1lbnQgdG8ga2VlcCBmYWRpbmcgb3BhY2l0eSBzdGF0ZXMgY29uc2lzdGVudCBhbmQgdG9cbiAgICBkZWR1cGxpY2F0ZSBsYWJlbHMuXG5cbiAgICBUaGUgQ3Jvc3NUaWxlU3ltYm9sSW5kZXggaW5kZXhlcyBhbGwgdGhlIGN1cnJlbnQgc3ltYm9sIGluc3RhbmNlcyBhbmRcbiAgICB0aGVpciBjcm9zc1RpbGVJRHMuIFdoZW4gYSBzeW1ib2wgYnVja2V0IGdldHMgYWRkZWQgb3IgdXBkYXRlZCwgdGhlXG4gICAgaW5kZXggYXNzaWducyBhIGNyb3NzVGlsZUlEIHRvIGVhY2ggb2YgaXQncyBzeW1ib2wgaW5zdGFuY2VzIGJ5IGVpdGhlclxuICAgIG1hdGNoaW5nIGl0IHdpdGggYW4gZXhpc3RpbmcgaWQgb3IgYXNzaWduaW5nIGEgbmV3IG9uZS5cbiovXG5cbi8vIFJvdW5kIGFuY2hvciBwb3NpdGlvbnMgdG8gcm91Z2hseSA0IHBpeGVsIGdyaWRcbmNvbnN0IHJvdW5kaW5nRmFjdG9yID0gNTEyIC8gRVhURU5UIC8gMjtcblxuY2xhc3MgVGlsZUxheWVySW5kZXgge1xuICAgIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRDtcbiAgICBpbmRleGVkU3ltYm9sSW5zdGFuY2VzOiB7W186IG51bWJlcl06IEFycmF5PHtcbiAgICAgICAgY3Jvc3NUaWxlSUQ6IG51bWJlcixcbiAgICAgICAgY29vcmQ6IHtcbiAgICAgICAgICAgIHg6IG51bWJlcixcbiAgICAgICAgICAgIHk6IG51bWJlclxuICAgICAgICB9XG4gICAgfT59O1xuICAgIGJ1Y2tldEluc3RhbmNlSWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgc3ltYm9sSW5zdGFuY2VzOiBTeW1ib2xJbnN0YW5jZUFycmF5LCBidWNrZXRJbnN0YW5jZUlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy50aWxlSUQgPSB0aWxlSUQ7XG4gICAgICAgIHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlcyA9IHt9O1xuICAgICAgICB0aGlzLmJ1Y2tldEluc3RhbmNlSWQgPSBidWNrZXRJbnN0YW5jZUlkO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IHN5bWJvbEluc3RhbmNlcy5nZXQoaSk7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBzeW1ib2xJbnN0YW5jZS5rZXk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1trZXldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2tleV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoaXMgdGlsZSBtYXkgaGF2ZSBtdWx0aXBsZSBzeW1ib2wgaW5zdGFuY2VzIHdpdGggdGhlIHNhbWUga2V5XG4gICAgICAgICAgICAvLyBTdG9yZSBlYWNoIG9uZSBhbG9uZyB3aXRoIGl0cyBjb29yZGluYXRlc1xuICAgICAgICAgICAgdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2tleV0ucHVzaCh7XG4gICAgICAgICAgICAgICAgY3Jvc3NUaWxlSUQ6IHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlELFxuICAgICAgICAgICAgICAgIGNvb3JkOiB0aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKHN5bWJvbEluc3RhbmNlLCB0aWxlSUQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbnZlcnRzIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgaW5wdXQgc3ltYm9sIGluc3RhbmNlIGludG8gY29vcmRpbmF0ZXMgdGhhdCBiZSBjYW4gY29tcGFyZWRcbiAgICAvLyBhZ2FpbnN0IG90aGVyIHN5bWJvbHMgaW4gdGhpcyBpbmRleC4gQ29vcmRpbmF0ZXMgYXJlOlxuICAgIC8vICgxKSB3b3JsZC1iYXNlZCAoc28gYWZ0ZXIgY29udmVyc2lvbiB0aGUgc291cmNlIHRpbGUgaXMgaXJyZWxldmFudClcbiAgICAvLyAoMikgY29udmVydGVkIHRvIHRoZSB6LXNjYWxlIG9mIHRoaXMgVGlsZUxheWVySW5kZXhcbiAgICAvLyAoMykgZG93bi1zYW1wbGVkIGJ5IFwicm91bmRpbmdGYWN0b3JcIiBmcm9tIHRpbGUgY29vcmRpbmF0ZSBwcmVjaXNpb24gaW4gb3JkZXIgdG8gYmVcbiAgICAvLyAgICAgbW9yZSB0b2xlcmFudCBvZiBzbWFsbCBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRpbGVzLlxuICAgIGdldFNjYWxlZENvb3JkaW5hdGVzKHN5bWJvbEluc3RhbmNlOiBTeW1ib2xJbnN0YW5jZSwgY2hpbGRUaWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpOiB7fHg6IG51bWJlciwgeTogbnVtYmVyfH0ge1xuICAgICAgICBjb25zdCB6RGlmZmVyZW5jZSA9IGNoaWxkVGlsZUlELmNhbm9uaWNhbC56IC0gdGhpcy50aWxlSUQuY2Fub25pY2FsLno7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gcm91bmRpbmdGYWN0b3IgLyBNYXRoLnBvdygyLCB6RGlmZmVyZW5jZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBNYXRoLmZsb29yKChjaGlsZFRpbGVJRC5jYW5vbmljYWwueCAqIEVYVEVOVCArIHN5bWJvbEluc3RhbmNlLnRpbGVBbmNob3JYKSAqIHNjYWxlKSxcbiAgICAgICAgICAgIHk6IE1hdGguZmxvb3IoKGNoaWxkVGlsZUlELmNhbm9uaWNhbC55ICogRVhURU5UICsgc3ltYm9sSW5zdGFuY2UudGlsZUFuY2hvclkpICogc2NhbGUpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZmluZE1hdGNoZXMoc3ltYm9sSW5zdGFuY2VzOiBTeW1ib2xJbnN0YW5jZUFycmF5LCBuZXdUaWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHpvb21Dcm9zc1RpbGVJRHM6IHtbY3Jvc3NUaWxlSUQ6IG51bWJlcl06IGJvb2xlYW59KSB7XG4gICAgICAgIGNvbnN0IHRvbGVyYW5jZSA9IHRoaXMudGlsZUlELmNhbm9uaWNhbC56IDwgbmV3VGlsZUlELmNhbm9uaWNhbC56ID8gMSA6IE1hdGgucG93KDIsIHRoaXMudGlsZUlELmNhbm9uaWNhbC56IC0gbmV3VGlsZUlELmNhbm9uaWNhbC56KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN5bWJvbEluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc3ltYm9sSW5zdGFuY2UgPSBzeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO1xuICAgICAgICAgICAgaWYgKHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEKSB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBoYXMgYSBtYXRjaCwgc2tpcFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpbmRleGVkSW5zdGFuY2VzID0gdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW3N5bWJvbEluc3RhbmNlLmtleV07XG4gICAgICAgICAgICBpZiAoIWluZGV4ZWRJbnN0YW5jZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBObyBzeW1ib2wgd2l0aCB0aGlzIGtleSBpbiB0aGlzIGJ1Y2tldFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzY2FsZWRTeW1ib2xDb29yZCA9IHRoaXMuZ2V0U2NhbGVkQ29vcmRpbmF0ZXMoc3ltYm9sSW5zdGFuY2UsIG5ld1RpbGVJRCk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgdGhpc1RpbGVTeW1ib2wgb2YgaW5kZXhlZEluc3RhbmNlcykge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBhbnkgc3ltYm9sIHdpdGggdGhlIHNhbWUga2V5cyB3aG9zZSBjb29yZGluYXRlcyBhcmUgd2l0aGluIDFcbiAgICAgICAgICAgICAgICAvLyBncmlkIHVuaXQuICh3aXRoIGEgNHB4IGdyaWQsIHRoaXMgY292ZXJzIGEgMTJweCBieSAxMnB4IGFyZWEpXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXNUaWxlU3ltYm9sLmNvb3JkLnggLSBzY2FsZWRTeW1ib2xDb29yZC54KSA8PSB0b2xlcmFuY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnModGhpc1RpbGVTeW1ib2wuY29vcmQueSAtIHNjYWxlZFN5bWJvbENvb3JkLnkpIDw9IHRvbGVyYW5jZSAmJlxuICAgICAgICAgICAgICAgICAgICAhem9vbUNyb3NzVGlsZUlEc1t0aGlzVGlsZVN5bWJvbC5jcm9zc1RpbGVJRF0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25jZSB3ZSd2ZSBtYXJrZWQgb3Vyc2VsdmVzIGR1cGxpY2F0ZSBhZ2FpbnN0IHRoaXMgcGFyZW50IHN5bWJvbCxcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgbGV0IGFueSBvdGhlciBzeW1ib2xzIGF0IHRoZSBzYW1lIHpvb20gbGV2ZWwgZHVwbGljYXRlIGFnYWluc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHNhbWUgcGFyZW50IChzZWUgaXNzdWUgIzU5OTMpXG4gICAgICAgICAgICAgICAgICAgIHpvb21Dcm9zc1RpbGVJRHNbdGhpc1RpbGVTeW1ib2wuY3Jvc3NUaWxlSURdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQgPSB0aGlzVGlsZVN5bWJvbC5jcm9zc1RpbGVJRDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBDcm9zc1RpbGVJRHMge1xuICAgIG1heENyb3NzVGlsZUlEOiBudW1iZXI7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWF4Q3Jvc3NUaWxlSUQgPSAwO1xuICAgIH1cbiAgICBnZW5lcmF0ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gKyt0aGlzLm1heENyb3NzVGlsZUlEO1xuICAgIH1cbn1cblxuY2xhc3MgQ3Jvc3NUaWxlU3ltYm9sTGF5ZXJJbmRleCB7XG4gICAgaW5kZXhlczoge1t6b29tOiBzdHJpbmcgfCBudW1iZXJdOiB7W3RpbGVJZDogc3RyaW5nIHwgbnVtYmVyXTogVGlsZUxheWVySW5kZXh9fTtcbiAgICB1c2VkQ3Jvc3NUaWxlSURzOiB7W3pvb206IHN0cmluZyB8IG51bWJlcl06IHtbY3Jvc3NUaWxlSUQ6IG51bWJlcl06IGJvb2xlYW59fTtcbiAgICBsbmc6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluZGV4ZXMgPSB7fTtcbiAgICAgICAgdGhpcy51c2VkQ3Jvc3NUaWxlSURzID0ge307XG4gICAgICAgIHRoaXMubG5nID0gMDtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFNvbWV0aW1lcyB3aGVuIGEgdXNlciBwYW5zIGFjcm9zcyB0aGUgYW50aW1lcmlkaWFuIHRoZSBsb25naXR1ZGUgdmFsdWUgZ2V0cyB3cmFwcGVkLlxuICAgICAqIFRvIHByZXZlbnQgbGFiZWxzIGZyb20gZmxhc2hpbmcgb3V0IGFuZCBpbiB3ZSBhZGp1c3QgdGhlIHRpbGVJRCB2YWx1ZXMgaW4gdGhlIGluZGV4ZXNcbiAgICAgKiBzbyB0aGF0IHRoZXkgbWF0Y2ggdGhlIG5ldyB3cmFwcGVkIHZlcnNpb24gb2YgdGhlIG1hcC5cbiAgICAgKi9cbiAgICBoYW5kbGVXcmFwSnVtcChsbmc6IG51bWJlcikge1xuICAgICAgICBjb25zdCB3cmFwRGVsdGEgPSBNYXRoLnJvdW5kKChsbmcgLSB0aGlzLmxuZykgLyAzNjApO1xuICAgICAgICBpZiAod3JhcERlbHRhICE9PSAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHpvb20gaW4gdGhpcy5pbmRleGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgem9vbUluZGV4ZXMgPSB0aGlzLmluZGV4ZXNbem9vbV07XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Wm9vbUluZGV4ID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gem9vbUluZGV4ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlIHRoZSB0aWxlSUQncyB3cmFwIGFuZCBhZGQgaXQgdG8gYSBuZXcgaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB6b29tSW5kZXhlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBpbmRleC50aWxlSUQgPSBpbmRleC50aWxlSUQudW53cmFwVG8oaW5kZXgudGlsZUlELndyYXAgKyB3cmFwRGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICBuZXdab29tSW5kZXhbaW5kZXgudGlsZUlELmtleV0gPSBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleGVzW3pvb21dID0gbmV3Wm9vbUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubG5nID0gbG5nO1xuICAgIH1cblxuICAgIGFkZEJ1Y2tldCh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIGJ1Y2tldDogU3ltYm9sQnVja2V0LCBjcm9zc1RpbGVJRHM6IENyb3NzVGlsZUlEcyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl0gJiZcbiAgICAgICAgICAgIHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdW3RpbGVJRC5rZXldKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0uYnVja2V0SW5zdGFuY2VJZCA9PT1cbiAgICAgICAgICAgICAgICBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UncmUgcmVwbGFjaW5nIHRoaXMgYnVja2V0IHdpdGggYW4gdXBkYXRlZCB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBvbGQgYnVja2V0J3MgXCJ1c2VkIGNyb3NzVGlsZUlEc1wiIG5vdyBzbyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gdGhlIG5ldyBidWNrZXQgY2FuIGNsYWltIHRoZW0uXG4gICAgICAgICAgICAgICAgLy8gVGhlIG9sZCBpbmRleCBlbnRyaWVzIHRoZW1zZWx2ZXMgc3RpY2sgYXJvdW5kIHVudGlsXG4gICAgICAgICAgICAgICAgLy8gJ3JlbW92ZVN0YWxlQnVja2V0cycgaXMgY2FsbGVkLlxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO1xuICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdGlsZUlELm92ZXJzY2FsZWRaXSkge1xuICAgICAgICAgICAgdGhpcy51c2VkQ3Jvc3NUaWxlSURzW3RpbGVJRC5vdmVyc2NhbGVkWl0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB6b29tQ3Jvc3NUaWxlSURzID0gdGhpcy51c2VkQ3Jvc3NUaWxlSURzW3RpbGVJRC5vdmVyc2NhbGVkWl07XG5cbiAgICAgICAgZm9yIChjb25zdCB6b29tIGluIHRoaXMuaW5kZXhlcykge1xuICAgICAgICAgICAgY29uc3Qgem9vbUluZGV4ZXMgPSB0aGlzLmluZGV4ZXNbem9vbV07XG4gICAgICAgICAgICBpZiAoTnVtYmVyKHpvb20pID4gdGlsZUlELm92ZXJzY2FsZWRaKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB6b29tSW5kZXhlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEluZGV4ID0gem9vbUluZGV4ZXNbaWRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRJbmRleC50aWxlSUQuaXNDaGlsZE9mKHRpbGVJRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkSW5kZXguZmluZE1hdGNoZXMoYnVja2V0LnN5bWJvbEluc3RhbmNlcywgdGlsZUlELCB6b29tQ3Jvc3NUaWxlSURzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Q29vcmQgPSB0aWxlSUQuc2NhbGVkVG8oTnVtYmVyKHpvb20pKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJbmRleCA9IHpvb21JbmRleGVzW3BhcmVudENvb3JkLmtleV07XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEluZGV4LmZpbmRNYXRjaGVzKGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMsIHRpbGVJRCwgem9vbUNyb3NzVGlsZUlEcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO1xuICAgICAgICAgICAgaWYgKCFzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRCkge1xuICAgICAgICAgICAgICAgIC8vIHN5bWJvbCBkaWQgbm90IG1hdGNoIGFueSBrbm93biBzeW1ib2wsIGFzc2lnbiBhIG5ldyBpZFxuICAgICAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEID0gY3Jvc3NUaWxlSURzLmdlbmVyYXRlKCk7XG4gICAgICAgICAgICAgICAgem9vbUNyb3NzVGlsZUlEc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0gPSBuZXcgVGlsZUxheWVySW5kZXgodGlsZUlELCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLCBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHpvb206IHN0cmluZyB8IG51bWJlciwgcmVtb3ZlZEJ1Y2tldDogVGlsZUxheWVySW5kZXgpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVtb3ZlZEJ1Y2tldC5pbmRleGVkU3ltYm9sSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN5bWJvbEluc3RhbmNlIG9mIHJlbW92ZWRCdWNrZXQuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1soa2V5OiBhbnkpXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnVzZWRDcm9zc1RpbGVJRHNbem9vbV1bc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlU3RhbGVCdWNrZXRzKGN1cnJlbnRJRHM6IHsgW3N0cmluZyB8IG51bWJlcl06IGJvb2xlYW4gfSk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgdGlsZXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgeiBpbiB0aGlzLmluZGV4ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHpvb21JbmRleGVzID0gdGhpcy5pbmRleGVzW3pdO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0aWxlS2V5IGluIHpvb21JbmRleGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50SURzW3pvb21JbmRleGVzW3RpbGVLZXldLmJ1Y2tldEluc3RhbmNlSWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHosIHpvb21JbmRleGVzW3RpbGVLZXldKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHpvb21JbmRleGVzW3RpbGVLZXldO1xuICAgICAgICAgICAgICAgICAgICB0aWxlc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGlsZXNDaGFuZ2VkO1xuICAgIH1cbn1cblxuY2xhc3MgQ3Jvc3NUaWxlU3ltYm9sSW5kZXgge1xuICAgIGxheWVySW5kZXhlczoge1tsYXllcklkOiBzdHJpbmddOiBDcm9zc1RpbGVTeW1ib2xMYXllckluZGV4fTtcbiAgICBjcm9zc1RpbGVJRHM6IENyb3NzVGlsZUlEcztcbiAgICBtYXhCdWNrZXRJbnN0YW5jZUlkOiBudW1iZXI7XG4gICAgYnVja2V0c0luQ3VycmVudFBsYWNlbWVudDoge1tfOiBudW1iZXJdOiBib29sZWFufTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxheWVySW5kZXhlcyA9IHt9O1xuICAgICAgICB0aGlzLmNyb3NzVGlsZUlEcyA9IG5ldyBDcm9zc1RpbGVJRHMoKTtcbiAgICAgICAgdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkID0gMDtcbiAgICAgICAgdGhpcy5idWNrZXRzSW5DdXJyZW50UGxhY2VtZW50ID0ge307XG4gICAgfVxuXG4gICAgYWRkTGF5ZXIoc3R5bGVMYXllcjogU3R5bGVMYXllciwgdGlsZXM6IEFycmF5PFRpbGU+LCBsbmc6IG51bWJlciwgcHJvamVjdGlvbjogUHJvamVjdGlvbik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgbGF5ZXJJbmRleCA9IHRoaXMubGF5ZXJJbmRleGVzW3N0eWxlTGF5ZXIuaWRdO1xuICAgICAgICBpZiAobGF5ZXJJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsYXllckluZGV4ID0gdGhpcy5sYXllckluZGV4ZXNbc3R5bGVMYXllci5pZF0gPSBuZXcgQ3Jvc3NUaWxlU3ltYm9sTGF5ZXJJbmRleCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN5bWJvbEJ1Y2tldHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRCdWNrZXRJRHMgPSB7fTtcblxuICAgICAgICBpZiAocHJvamVjdGlvbi5uYW1lICE9PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICBsYXllckluZGV4LmhhbmRsZVdyYXBKdW1wKGxuZyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHRpbGUgb2YgdGlsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbEJ1Y2tldCA9ICgodGlsZS5nZXRCdWNrZXQoc3R5bGVMYXllcik6IGFueSk6IFN5bWJvbEJ1Y2tldCk7XG4gICAgICAgICAgICBpZiAoIXN5bWJvbEJ1Y2tldCB8fCBzdHlsZUxheWVyLmlkICE9PSBzeW1ib2xCdWNrZXQubGF5ZXJJZHNbMF0pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmICghc3ltYm9sQnVja2V0LmJ1Y2tldEluc3RhbmNlSWQpIHtcbiAgICAgICAgICAgICAgICBzeW1ib2xCdWNrZXQuYnVja2V0SW5zdGFuY2VJZCA9ICsrdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGF5ZXJJbmRleC5hZGRCdWNrZXQodGlsZS50aWxlSUQsIHN5bWJvbEJ1Y2tldCwgdGhpcy5jcm9zc1RpbGVJRHMpKSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sQnVja2V0c0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudEJ1Y2tldElEc1tzeW1ib2xCdWNrZXQuYnVja2V0SW5zdGFuY2VJZF0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxheWVySW5kZXgucmVtb3ZlU3RhbGVCdWNrZXRzKGN1cnJlbnRCdWNrZXRJRHMpKSB7XG4gICAgICAgICAgICBzeW1ib2xCdWNrZXRzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3ltYm9sQnVja2V0c0NoYW5nZWQ7XG4gICAgfVxuXG4gICAgcHJ1bmVVbnVzZWRMYXllcnModXNlZExheWVyczogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBjb25zdCB1c2VkTGF5ZXJNYXAgPSB7fTtcbiAgICAgICAgdXNlZExheWVycy5mb3JFYWNoKCh1c2VkTGF5ZXIpID0+IHtcbiAgICAgICAgICAgIHVzZWRMYXllck1hcFt1c2VkTGF5ZXJdID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiB0aGlzLmxheWVySW5kZXhlcykge1xuICAgICAgICAgICAgaWYgKCF1c2VkTGF5ZXJNYXBbbGF5ZXJJZF0pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5sYXllckluZGV4ZXNbbGF5ZXJJZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENyb3NzVGlsZVN5bWJvbEluZGV4O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQge0V2ZW50LCBFcnJvckV2ZW50LCBFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IFN0eWxlTGF5ZXIgZnJvbSAnLi9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgY3JlYXRlU3R5bGVMYXllciBmcm9tICcuL2NyZWF0ZV9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgbG9hZFNwcml0ZSBmcm9tICcuL2xvYWRfc3ByaXRlLmpzJztcbmltcG9ydCBJbWFnZU1hbmFnZXIgZnJvbSAnLi4vcmVuZGVyL2ltYWdlX21hbmFnZXIuanMnO1xuaW1wb3J0IEdseXBoTWFuYWdlciwge0xvY2FsR2x5cGhNb2RlfSBmcm9tICcuLi9yZW5kZXIvZ2x5cGhfbWFuYWdlci5qcyc7XG5pbXBvcnQgTGlnaHQgZnJvbSAnLi9saWdodC5qcyc7XG5pbXBvcnQgVGVycmFpbiwge0RyYXBlUmVuZGVyTW9kZX0gZnJvbSAnLi90ZXJyYWluLmpzJztcbmltcG9ydCBGb2cgZnJvbSAnLi9mb2cuanMnO1xuaW1wb3J0IHtwaWNrLCBjbG9uZSwgZXh0ZW5kLCBkZWVwRXF1YWwsIGZpbHRlck9iamVjdH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7Z2V0SlNPTiwgZ2V0UmVmZXJyZXIsIG1ha2VSZXF1ZXN0LCBSZXNvdXJjZVR5cGV9IGZyb20gJy4uL3V0aWwvYWpheC5qcyc7XG5pbXBvcnQge2lzTWFwYm94VVJMfSBmcm9tICcuLi91dGlsL21hcGJveC5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCB7XG4gICAgdmFsaWRhdGVTdHlsZSxcbiAgICB2YWxpZGF0ZVNvdXJjZSxcbiAgICB2YWxpZGF0ZUxheWVyLFxuICAgIHZhbGlkYXRlRmlsdGVyLFxuICAgIHZhbGlkYXRlVGVycmFpbixcbiAgICBlbWl0VmFsaWRhdGlvbkVycm9ycyBhcyBfZW1pdFZhbGlkYXRpb25FcnJvcnNcbn0gZnJvbSAnLi92YWxpZGF0ZV9zdHlsZS5qcyc7XG5pbXBvcnQge1F1ZXJ5R2VvbWV0cnl9IGZyb20gJy4uL3N0eWxlL3F1ZXJ5X2dlb21ldHJ5LmpzJztcbmltcG9ydCB7XG4gICAgY3JlYXRlIGFzIGNyZWF0ZVNvdXJjZSxcbiAgICBnZXRUeXBlIGFzIGdldFNvdXJjZVR5cGUsXG4gICAgc2V0VHlwZSBhcyBzZXRTb3VyY2VUeXBlLFxuICAgIHR5cGUgU291cmNlQ2xhc3Ncbn0gZnJvbSAnLi4vc291cmNlL3NvdXJjZS5qcyc7XG5pbXBvcnQge3F1ZXJ5UmVuZGVyZWRGZWF0dXJlcywgcXVlcnlSZW5kZXJlZFN5bWJvbHMsIHF1ZXJ5U291cmNlRmVhdHVyZXN9IGZyb20gJy4uL3NvdXJjZS9xdWVyeV9mZWF0dXJlcy5qcyc7XG5pbXBvcnQgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZS5qcyc7XG5pbXBvcnQgR2VvSlNPTlNvdXJjZSBmcm9tICcuLi9zb3VyY2UvZ2VvanNvbl9zb3VyY2UuanMnO1xuaW1wb3J0IHN0eWxlU3BlYyBmcm9tICcuLi9zdHlsZS1zcGVjL3JlZmVyZW5jZS9sYXRlc3QuanMnO1xuaW1wb3J0IGdldFdvcmtlclBvb2wgZnJvbSAnLi4vdXRpbC9nbG9iYWxfd29ya2VyX3Bvb2wuanMnO1xuaW1wb3J0IGRlcmVmIGZyb20gJy4uL3N0eWxlLXNwZWMvZGVyZWYuanMnO1xuaW1wb3J0IGVtcHR5U3R5bGUgZnJvbSAnLi4vc3R5bGUtc3BlYy9lbXB0eS5qcyc7XG5pbXBvcnQgZGlmZlN0eWxlcywge29wZXJhdGlvbnMgYXMgZGlmZk9wZXJhdGlvbnN9IGZyb20gJy4uL3N0eWxlLXNwZWMvZGlmZi5qcyc7XG5pbXBvcnQge1xuICAgIHJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2UsXG4gICAgZXZlbnRlZCBhcyBydGxUZXh0UGx1Z2luRXZlbnRlZCxcbiAgICB0cmlnZ2VyUGx1Z2luQ29tcGxldGlvbkV2ZW50XG59IGZyb20gJy4uL3NvdXJjZS9ydGxfdGV4dF9wbHVnaW4uanMnO1xuaW1wb3J0IFBhdXNlYWJsZVBsYWNlbWVudCBmcm9tICcuL3BhdXNlYWJsZV9wbGFjZW1lbnQuanMnO1xuaW1wb3J0IENyb3NzVGlsZVN5bWJvbEluZGV4IGZyb20gJy4uL3N5bWJvbC9jcm9zc190aWxlX3N5bWJvbF9pbmRleC5qcyc7XG5pbXBvcnQge3ZhbGlkYXRlQ3VzdG9tU3R5bGVMYXllcn0gZnJvbSAnLi9zdHlsZV9sYXllci9jdXN0b21fc3R5bGVfbGF5ZXIuanMnO1xuXG4vLyBXZSdyZSBza2lwcGluZyB2YWxpZGF0aW9uIGVycm9ycyB3aXRoIHRoZSBgc291cmNlLmNhbnZhc2AgaWRlbnRpZmllciBpbiBvcmRlclxuLy8gdG8gY29udGludWUgdG8gYWxsb3cgY2FudmFzIHNvdXJjZXMgdG8gYmUgYWRkZWQgYXQgcnVudGltZS91cGRhdGVkIGluXG4vLyBzbWFydCBzZXRTdHlsZSAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL3B1bGwvNjQyNCk6XG5jb25zdCBlbWl0VmFsaWRhdGlvbkVycm9ycyA9IChldmVudGVkOiBFdmVudGVkLCBlcnJvcnM6ID9WYWxpZGF0aW9uRXJyb3JzKSA9PlxuICAgIF9lbWl0VmFsaWRhdGlvbkVycm9ycyhldmVudGVkLCBlcnJvcnMgJiYgZXJyb3JzLmZpbHRlcihlcnJvciA9PiBlcnJvci5pZGVudGlmaWVyICE9PSAnc291cmNlLmNhbnZhcycpKTtcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSB7U3R5bGVJbWFnZX0gZnJvbSAnLi9zdHlsZV9pbWFnZS5qcyc7XG5pbXBvcnQgdHlwZSB7U3R5bGVHbHlwaH0gZnJvbSAnLi9zdHlsZV9nbHlwaC5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrLmpzJztcbmltcG9ydCB0eXBlIEV2YWx1YXRpb25QYXJhbWV0ZXJzIGZyb20gJy4vZXZhbHVhdGlvbl9wYXJhbWV0ZXJzLmpzJztcbmltcG9ydCB0eXBlIHtQbGFjZW1lbnR9IGZyb20gJy4uL3N5bWJvbC9wbGFjZW1lbnQuanMnO1xuaW1wb3J0IHR5cGUge0NhbmNlbGFibGV9IGZyb20gJy4uL3R5cGVzL2NhbmNlbGFibGUuanMnO1xuaW1wb3J0IHR5cGUge1JlcXVlc3RQYXJhbWV0ZXJzLCBSZXNwb25zZUNhbGxiYWNrfSBmcm9tICcuLi91dGlsL2FqYXguanMnO1xuaW1wb3J0IHR5cGUge0dlb0pTT059IGZyb20gJ0BtYXBib3gvZ2VvanNvbi10eXBlcyc7XG5pbXBvcnQgdHlwZSB7XG4gICAgTGF5ZXJTcGVjaWZpY2F0aW9uLFxuICAgIEZpbHRlclNwZWNpZmljYXRpb24sXG4gICAgU3R5bGVTcGVjaWZpY2F0aW9uLFxuICAgIExpZ2h0U3BlY2lmaWNhdGlvbixcbiAgICBTb3VyY2VTcGVjaWZpY2F0aW9uLFxuICAgIFRlcnJhaW5TcGVjaWZpY2F0aW9uLFxuICAgIEZvZ1NwZWNpZmljYXRpb24sXG4gICAgUHJvamVjdGlvblNwZWNpZmljYXRpb24sXG4gICAgVHJhbnNpdGlvblNwZWNpZmljYXRpb24sXG4gICAgUHJvcGVydHlWYWx1ZVNwZWNpZmljYXRpb25cbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSB7Q3VzdG9tTGF5ZXJJbnRlcmZhY2V9IGZyb20gJy4vc3R5bGVfbGF5ZXIvY3VzdG9tX3N0eWxlX2xheWVyLmpzJztcbmltcG9ydCB0eXBlIHtWYWxpZGF0b3IsIFZhbGlkYXRpb25FcnJvcnN9IGZyb20gJy4vdmFsaWRhdGVfc3R5bGUuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB0eXBlIHtRdWVyeVJlc3VsdH0gZnJvbSAnLi4vZGF0YS9mZWF0dXJlX2luZGV4LmpzJztcbmltcG9ydCB0eXBlIHtRdWVyeUZlYXR1cmV9IGZyb20gJy4uL3V0aWwvdmVjdG9ydGlsZV90b19nZW9qc29uLmpzJztcbmltcG9ydCB0eXBlIHtGZWF0dXJlU3RhdGVzfSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX3N0YXRlLmpzJztcbmltcG9ydCB0eXBlIHtQb2ludExpa2V9IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi4vc291cmNlL3NvdXJjZS5qcyc7XG5pbXBvcnQgdHlwZSB7VHJhbnNpdGlvblBhcmFtZXRlcnN9IGZyb20gJy4vcHJvcGVydGllcy5qcyc7XG5cbmNvbnN0IHN1cHBvcnRlZERpZmZPcGVyYXRpb25zID0gcGljayhkaWZmT3BlcmF0aW9ucywgW1xuICAgICdhZGRMYXllcicsXG4gICAgJ3JlbW92ZUxheWVyJyxcbiAgICAnc2V0UGFpbnRQcm9wZXJ0eScsXG4gICAgJ3NldExheW91dFByb3BlcnR5JyxcbiAgICAnc2V0RmlsdGVyJyxcbiAgICAnYWRkU291cmNlJyxcbiAgICAncmVtb3ZlU291cmNlJyxcbiAgICAnc2V0TGF5ZXJab29tUmFuZ2UnLFxuICAgICdzZXRMaWdodCcsXG4gICAgJ3NldFRyYW5zaXRpb24nLFxuICAgICdzZXRHZW9KU09OU291cmNlRGF0YScsXG4gICAgJ3NldFRlcnJhaW4nLFxuICAgICdzZXRGb2cnLFxuICAgICdzZXRQcm9qZWN0aW9uJ1xuICAgIC8vICdzZXRHbHlwaHMnLFxuICAgIC8vICdzZXRTcHJpdGUnLFxuXSk7XG5cbmNvbnN0IGlnbm9yZWREaWZmT3BlcmF0aW9ucyA9IHBpY2soZGlmZk9wZXJhdGlvbnMsIFtcbiAgICAnc2V0Q2VudGVyJyxcbiAgICAnc2V0Wm9vbScsXG4gICAgJ3NldEJlYXJpbmcnLFxuICAgICdzZXRQaXRjaCdcbl0pO1xuXG5jb25zdCBlbXB0eSA9IGVtcHR5U3R5bGUoKTtcblxuZXhwb3J0IHR5cGUgU3R5bGVPcHRpb25zID0ge1xuICAgIHZhbGlkYXRlPzogYm9vbGVhbixcbiAgICBsb2NhbEZvbnRGYW1pbHk/OiBzdHJpbmcsXG4gICAgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5Pzogc3RyaW5nXG59O1xuXG5leHBvcnQgdHlwZSBTdHlsZVNldHRlck9wdGlvbnMgPSB7XG4gICAgdmFsaWRhdGU/OiBib29sZWFuXG59O1xuXG4vLyBTeW1ib2xzIGFyZSBkcmFwZWQgb25seSBmb3Igc3BlY2lmaWMgY2FzZXM6IHNlZSBpc0xheWVyRHJhcGVkXG5jb25zdCBkcmFwZWRMYXllcnMgPSB7J2ZpbGwnOiB0cnVlLCAnbGluZSc6IHRydWUsICdiYWNrZ3JvdW5kJzogdHJ1ZSwgXCJoaWxsc2hhZGVcIjogdHJ1ZSwgXCJyYXN0ZXJcIjogdHJ1ZX07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgU3R5bGUgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBtYXA6IE1hcDtcbiAgICBzdHlsZXNoZWV0OiBTdHlsZVNwZWNpZmljYXRpb247XG4gICAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgICBpbWFnZU1hbmFnZXI6IEltYWdlTWFuYWdlcjtcbiAgICBnbHlwaE1hbmFnZXI6IEdseXBoTWFuYWdlcjtcbiAgICBsaWdodDogTGlnaHQ7XG4gICAgdGVycmFpbjogP1RlcnJhaW47XG4gICAgZm9nOiA/Rm9nO1xuXG4gICAgX3JlcXVlc3Q6ID9DYW5jZWxhYmxlO1xuICAgIF9zcHJpdGVSZXF1ZXN0OiA/Q2FuY2VsYWJsZTtcbiAgICBfbGF5ZXJzOiB7W186IHN0cmluZ106IFN0eWxlTGF5ZXJ9O1xuICAgIF9udW0zRExheWVyczogbnVtYmVyO1xuICAgIF9udW1TeW1ib2xMYXllcnM6IG51bWJlcjtcbiAgICBfbnVtQ2lyY2xlTGF5ZXJzOiBudW1iZXI7XG4gICAgX3NlcmlhbGl6ZWRMYXllcnM6IHtbXzogc3RyaW5nXTogT2JqZWN0fTtcbiAgICBfb3JkZXI6IEFycmF5PHN0cmluZz47XG4gICAgX2RyYXBlZEZpcnN0T3JkZXI6IEFycmF5PHN0cmluZz47XG4gICAgX3NvdXJjZUNhY2hlczoge1tfOiBzdHJpbmddOiBTb3VyY2VDYWNoZX07XG4gICAgX290aGVyU291cmNlQ2FjaGVzOiB7W186IHN0cmluZ106IFNvdXJjZUNhY2hlfTtcbiAgICBfc3ltYm9sU291cmNlQ2FjaGVzOiB7W186IHN0cmluZ106IFNvdXJjZUNhY2hlfTtcbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9ydGxUZXh0UGx1Z2luQ2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgIF9jaGFuZ2VkOiBib29sZWFuO1xuICAgIF91cGRhdGVkU291cmNlczoge1tfOiBzdHJpbmddOiAnY2xlYXInIHwgJ3JlbG9hZCd9O1xuICAgIF91cGRhdGVkTGF5ZXJzOiB7W186IHN0cmluZ106IHRydWV9O1xuICAgIF9yZW1vdmVkTGF5ZXJzOiB7W186IHN0cmluZ106IFN0eWxlTGF5ZXJ9O1xuICAgIF9jaGFuZ2VkSW1hZ2VzOiB7W186IHN0cmluZ106IHRydWV9O1xuICAgIF91cGRhdGVkUGFpbnRQcm9wczoge1tsYXllcjogc3RyaW5nXTogdHJ1ZX07XG4gICAgX2xheWVyT3JkZXJDaGFuZ2VkOiBib29sZWFuO1xuICAgIF9hdmFpbGFibGVJbWFnZXM6IEFycmF5PHN0cmluZz47XG4gICAgX21hcmtlcnNOZWVkVXBkYXRlOiBib29sZWFuO1xuXG4gICAgY3Jvc3NUaWxlU3ltYm9sSW5kZXg6IENyb3NzVGlsZVN5bWJvbEluZGV4O1xuICAgIHBhdXNlYWJsZVBsYWNlbWVudDogUGF1c2VhYmxlUGxhY2VtZW50O1xuICAgIHBsYWNlbWVudDogUGxhY2VtZW50O1xuICAgIHo6IG51bWJlcjtcblxuICAgIC8vIGV4cG9zZWQgdG8gYWxsb3cgc3R1YmJpbmcgYnkgdW5pdCB0ZXN0c1xuICAgIHN0YXRpYyBnZXRTb3VyY2VUeXBlOiB0eXBlb2YgZ2V0U291cmNlVHlwZTtcbiAgICBzdGF0aWMgc2V0U291cmNlVHlwZTogdHlwZW9mIHNldFNvdXJjZVR5cGU7XG4gICAgc3RhdGljIHJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U6IHR5cGVvZiByZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlO1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXAsIG9wdGlvbnM6IFN0eWxlT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKGdldFdvcmtlclBvb2woKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyID0gbmV3IEltYWdlTWFuYWdlcigpO1xuICAgICAgICB0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KHRoaXMpO1xuICAgICAgICB0aGlzLmdseXBoTWFuYWdlciA9IG5ldyBHbHlwaE1hbmFnZXIobWFwLl9yZXF1ZXN0TWFuYWdlcixcbiAgICAgICAgICAgIG9wdGlvbnMubG9jYWxGb250RmFtaWx5ID9cbiAgICAgICAgICAgICAgICBMb2NhbEdseXBoTW9kZS5hbGwgOlxuICAgICAgICAgICAgICAgIChvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSA/IExvY2FsR2x5cGhNb2RlLmlkZW9ncmFwaHMgOiBMb2NhbEdseXBoTW9kZS5ub25lKSxcbiAgICAgICAgICAgIG9wdGlvbnMubG9jYWxGb250RmFtaWx5IHx8IG9wdGlvbnMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5KTtcbiAgICAgICAgdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleCA9IG5ldyBDcm9zc1RpbGVTeW1ib2xJbmRleCgpO1xuXG4gICAgICAgIHRoaXMuX2xheWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9udW0zRExheWVycyA9IDA7XG4gICAgICAgIHRoaXMuX251bVN5bWJvbExheWVycyA9IDA7XG4gICAgICAgIHRoaXMuX251bUNpcmNsZUxheWVycyA9IDA7XG4gICAgICAgIHRoaXMuX3NlcmlhbGl6ZWRMYXllcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fc291cmNlQ2FjaGVzID0ge307XG4gICAgICAgIHRoaXMuX290aGVyU291cmNlQ2FjaGVzID0ge307XG4gICAgICAgIHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlcyA9IHt9O1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYXZhaWxhYmxlSW1hZ2VzID0gW107XG4gICAgICAgIHRoaXMuX29yZGVyICA9IFtdO1xuICAgICAgICB0aGlzLl9kcmFwZWRGaXJzdE9yZGVyID0gW107XG4gICAgICAgIHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcmVzZXRVcGRhdGVzKCk7XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnc2V0UmVmZXJyZXInLCBnZXRSZWZlcnJlcigpKTtcblxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrID0gU3R5bGUucmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICAgICAgICAgIHBsdWdpblN0YXR1czogZXZlbnQucGx1Z2luU3RhdHVzLFxuICAgICAgICAgICAgICAgIHBsdWdpblVSTDogZXZlbnQucGx1Z2luVVJMXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2VsZi5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnc3luY1JUTFBsdWdpblN0YXRlJywgc3RhdGUsIChlcnIsIHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyUGx1Z2luQ29tcGxldGlvbkV2ZW50KGVycik7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsQ29tcGxldGUgPSByZXN1bHRzLmV2ZXJ5KChlbGVtKSA9PiBlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNlbGYuX3NvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc2VsZi5fc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZVR5cGUgPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZVR5cGUgPT09ICd2ZWN0b3InIHx8IHNvdXJjZUNhY2hlVHlwZSA9PT0gJ2dlb2pzb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUNhY2hlLnJlbG9hZCgpOyAvLyBTaG91bGQgYmUgYSBuby1vcCBpZiB0aGUgcGx1Z2luIGxvYWRzIGJlZm9yZSBhbnkgdGlsZXMgbG9hZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub24oJ2RhdGEnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHlwZSAhPT0gJ3NvdXJjZScgfHwgZXZlbnQuc291cmNlRGF0YVR5cGUgIT09ICdtZXRhZGF0YScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKGV2ZW50LnNvdXJjZUlkKTtcbiAgICAgICAgICAgIGlmICghc291cmNlIHx8ICFzb3VyY2UudmVjdG9yTGF5ZXJJZHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuc291cmNlID09PSBzb3VyY2UuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsaWRhdGVMYXllcihsYXllcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkVVJMKHVybDogc3RyaW5nLCBvcHRpb25zOiB7XG4gICAgICAgIHZhbGlkYXRlPzogYm9vbGVhbixcbiAgICAgICAgYWNjZXNzVG9rZW4/OiBzdHJpbmdcbiAgICB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YWxvYWRpbmcnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG5cbiAgICAgICAgY29uc3QgdmFsaWRhdGUgPSB0eXBlb2Ygb3B0aW9ucy52YWxpZGF0ZSA9PT0gJ2Jvb2xlYW4nID9cbiAgICAgICAgICAgIG9wdGlvbnMudmFsaWRhdGUgOiAhaXNNYXBib3hVUkwodXJsKTtcblxuICAgICAgICB1cmwgPSB0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU3R5bGVVUkwodXJsLCBvcHRpb25zLmFjY2Vzc1Rva2VuKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlN0eWxlKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdCA9IGdldEpTT04ocmVxdWVzdCwgKGVycm9yOiA/RXJyb3IsIGpzb246ID9PYmplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KGVycm9yKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGpzb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkKGpzb24sIHZhbGlkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9hZEpTT04oanNvbjogU3R5bGVTcGVjaWZpY2F0aW9uLCBvcHRpb25zOiBTdHlsZVNldHRlck9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3N0eWxlJ30pKTtcblxuICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gYnJvd3Nlci5mcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2xvYWQoanNvbiwgb3B0aW9ucy52YWxpZGF0ZSAhPT0gZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkRW1wdHkoKSB7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGFsb2FkaW5nJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuICAgICAgICB0aGlzLl9sb2FkKGVtcHR5LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUxheWVyQ291bnQobGF5ZXI6IFN0eWxlTGF5ZXIsIGFkZDogYm9vbGVhbikge1xuICAgICAgICAvLyBUeXBlZCBsYXllciBib29ra2VlcGluZ1xuICAgICAgICBjb25zdCBjb3VudCA9IGFkZCA/IDEgOiAtMTtcbiAgICAgICAgaWYgKGxheWVyLmlzM0QoKSkge1xuICAgICAgICAgICAgdGhpcy5fbnVtM0RMYXllcnMgKz0gY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxheWVyLnR5cGUgPT09ICdjaXJjbGUnKSB7XG4gICAgICAgICAgICB0aGlzLl9udW1DaXJjbGVMYXllcnMgKz0gY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxheWVyLnR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICB0aGlzLl9udW1TeW1ib2xMYXllcnMgKz0gY291bnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9hZChqc29uOiBTdHlsZVNwZWNpZmljYXRpb24sIHZhbGlkYXRlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2YWxpZGF0ZSAmJiBlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZVN0eWxlKGpzb24pKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdHlsZXNoZWV0ID0gY2xvbmUoanNvbik7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1hcFByb2plY3Rpb24oKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIGpzb24uc291cmNlcykge1xuICAgICAgICAgICAgdGhpcy5hZGRTb3VyY2UoaWQsIGpzb24uc291cmNlc1tpZF0sIHt2YWxpZGF0ZTogZmFsc2V9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gZmFsc2U7IC8vIGF2b2lkIHRyaWdnZXJpbmcgcmVkdW5kYW50IHN0eWxlIHVwZGF0ZSBhZnRlciBhZGRpbmcgaW5pdGlhbCBzb3VyY2VzXG4gICAgICAgIGlmIChqc29uLnNwcml0ZSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZFNwcml0ZShqc29uLnNwcml0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlTWFuYWdlci5zZXRMb2FkZWQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCdzcHJpdGVMb2FkZWQnLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2x5cGhNYW5hZ2VyLnNldFVSTChqc29uLmdseXBocyk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXJzOiBBcnJheTxMYXllclNwZWNpZmljYXRpb24+ID0gZGVyZWYodGhpcy5zdHlsZXNoZWV0LmxheWVycyk7XG5cbiAgICAgICAgdGhpcy5fb3JkZXIgPSBsYXllcnMubWFwKChsYXllcikgPT4gbGF5ZXIuaWQpO1xuXG4gICAgICAgIHRoaXMuX2xheWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9zZXJpYWxpemVkTGF5ZXJzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXIgb2YgbGF5ZXJzKSB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUxheWVyID0gY3JlYXRlU3R5bGVMYXllcihsYXllcik7XG4gICAgICAgICAgICBzdHlsZUxheWVyLnNldEV2ZW50ZWRQYXJlbnQodGhpcywge2xheWVyOiB7aWQ6IHN0eWxlTGF5ZXIuaWR9fSk7XG4gICAgICAgICAgICB0aGlzLl9sYXllcnNbc3R5bGVMYXllci5pZF0gPSBzdHlsZUxheWVyO1xuICAgICAgICAgICAgdGhpcy5fc2VyaWFsaXplZExheWVyc1tzdHlsZUxheWVyLmlkXSA9IHN0eWxlTGF5ZXIuc2VyaWFsaXplKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVMYXllckNvdW50KHN0eWxlTGF5ZXIsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnc2V0TGF5ZXJzJywgdGhpcy5fc2VyaWFsaXplTGF5ZXJzKHRoaXMuX29yZGVyKSk7XG5cbiAgICAgICAgdGhpcy5saWdodCA9IG5ldyBMaWdodCh0aGlzLnN0eWxlc2hlZXQubGlnaHQpO1xuICAgICAgICBpZiAodGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4gJiYgIXRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdIC0gRmxvdyBjYW4ndCBpbmZlciB0aGF0IHRlcnJhaW4gaXMgbm90IHVuZGVmaW5lZFxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVGVycmFpbih0aGlzLnN0eWxlc2hlZXQudGVycmFpbiwgRHJhcGVSZW5kZXJNb2RlLmVsZXZhdGVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdHlsZXNoZWV0LmZvZykge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlRm9nKHRoaXMuc3R5bGVzaGVldC5mb2cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKTtcblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdzdHlsZS5sb2FkJykpO1xuICAgIH1cblxuICAgIHRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy50ZXJyYWluICYmIHRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGUgPT09IERyYXBlUmVuZGVyTW9kZS5kZWZlcnJlZDtcbiAgICB9XG5cbiAgICBzZXRQcm9qZWN0aW9uKHByb2plY3Rpb24/OiA/UHJvamVjdGlvblNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQucHJvamVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVNYXBQcm9qZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCdzZXRQcm9qZWN0aW9uJywgdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb25PcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb24ucmVxdWlyZXNEcmFwaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBoYXNUZXJyYWluID0gdGhpcy5nZXRUZXJyYWluKCkgfHwgdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW47XG4gICAgICAgICAgICBpZiAoIWhhc1RlcnJhaW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRlcnJhaW5Gb3JEcmFwaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRUZXJyYWluKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZU1hcFByb2plY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5tYXAuX3VzZUV4cGxpY2l0UHJvamVjdGlvbikgeyAvLyBVcGRhdGUgdGhlIHZpc2libGUgcHJvamVjdGlvbiBpZiBtYXAncyBpcyBudWxsXG4gICAgICAgICAgICB0aGlzLm1hcC5fcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24obnVsbCwgdGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24pO1xuICAgICAgICB9IGVsc2UgeyAvLyBFbnN1cmUgdGhhdCBzdHlsZSBpcyBjb25zaXN0ZW50IHdpdGggY3VycmVudCBwcm9qZWN0aW9uIG9uIHN0eWxlIGxvYWRcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9hZFNwcml0ZSh1cmw6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9zcHJpdGVSZXF1ZXN0ID0gbG9hZFNwcml0ZSh1cmwsIHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwgKGVyciwgaW1hZ2VzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zcHJpdGVSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGltYWdlcykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gaW1hZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKGlkLCBpbWFnZXNbaWRdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuX2F2YWlsYWJsZUltYWdlcyA9IHRoaXMuaW1hZ2VNYW5hZ2VyLmxpc3RJbWFnZXMoKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoJ3NldEltYWdlcycsIHRoaXMuX2F2YWlsYWJsZUltYWdlcyk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCdzcHJpdGVMb2FkZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF92YWxpZGF0ZUxheWVyKGxheWVyOiBTdHlsZUxheWVyKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKGxheWVyLnNvdXJjZSk7XG4gICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2VMYXllciA9IGxheWVyLnNvdXJjZUxheWVyO1xuICAgICAgICBpZiAoIXNvdXJjZUxheWVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc291cmNlLnR5cGUgPT09ICdnZW9qc29uJyB8fCAoc291cmNlLnZlY3RvckxheWVySWRzICYmIHNvdXJjZS52ZWN0b3JMYXllcklkcy5pbmRleE9mKHNvdXJjZUxheWVyKSA9PT0gLTEpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBTb3VyY2UgbGF5ZXIgXCIke3NvdXJjZUxheWVyfVwiIGAgK1xuICAgICAgICAgICAgICAgIGBkb2VzIG5vdCBleGlzdCBvbiBzb3VyY2UgXCIke3NvdXJjZS5pZH1cIiBgICtcbiAgICAgICAgICAgICAgICBgYXMgc3BlY2lmaWVkIGJ5IHN0eWxlIGxheWVyIFwiJHtsYXllci5pZH1cImBcbiAgICAgICAgICAgICkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sb2FkZWQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuX3VwZGF0ZWRTb3VyY2VzKS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3NvdXJjZUNhY2hlc1tpZF0ubG9hZGVkKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmICghdGhpcy5pbWFnZU1hbmFnZXIuaXNMb2FkZWQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfc2VyaWFsaXplTGF5ZXJzKGlkczogQXJyYXk8c3RyaW5nPik6IEFycmF5PE9iamVjdD4ge1xuICAgICAgICBjb25zdCBzZXJpYWxpemVkTGF5ZXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgICAgICBpZiAobGF5ZXIudHlwZSAhPT0gJ2N1c3RvbScpIHtcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVkTGF5ZXJzLnB1c2gobGF5ZXIuc2VyaWFsaXplKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVkTGF5ZXJzO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb25zKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5saWdodCAmJiB0aGlzLmxpZ2h0Lmhhc1RyYW5zaXRpb24oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5mb2cgJiYgdGhpcy5mb2cuaGFzVHJhbnNpdGlvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc291cmNlQ2FjaGVzW2lkXS5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGF5ZXJzW2lkXS5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgb3JkZXIoKTogQXJyYXk8c3RyaW5nPiB7XG4gICAgICAgIGlmICh0aGlzLm1hcC5fb3B0aW1pemVGb3JUZXJyYWluICYmIHRoaXMudGVycmFpbikge1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX2RyYXBlZEZpcnN0T3JkZXIubGVuZ3RoID09PSB0aGlzLl9vcmRlci5sZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RyYXBlZEZpcnN0T3JkZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX29yZGVyO1xuICAgIH1cblxuICAgIGlzTGF5ZXJEcmFwZWQobGF5ZXI6IFN0eWxlTGF5ZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLnRlcnJhaW4pIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXVzZV1cbiAgICAgICAgaWYgKHR5cGVvZiBsYXllci5pc0xheWVyRHJhcGVkID09PSAnZnVuY3Rpb24nKSByZXR1cm4gbGF5ZXIuaXNMYXllckRyYXBlZCgpO1xuICAgICAgICByZXR1cm4gZHJhcGVkTGF5ZXJzW2xheWVyLnR5cGVdO1xuICAgIH1cblxuICAgIF9jaGVja0xvYWRlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sb2FkZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3R5bGUgaXMgbm90IGRvbmUgbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgcXVldWVkIHN0eWxlIHVwZGF0ZXMgaW4gYSBiYXRjaCBhbmQgcmVjYWxjdWxhdGUgem9vbS1kZXBlbmRlbnQgcGFpbnQgcHJvcGVydGllcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZShwYXJhbWV0ZXJzOiBFdmFsdWF0aW9uUGFyYW1ldGVycykge1xuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hhbmdlZCA9IHRoaXMuX2NoYW5nZWQ7XG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VkKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkSWRzID0gT2JqZWN0LmtleXModGhpcy5fdXBkYXRlZExheWVycyk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVkSWRzID0gT2JqZWN0LmtleXModGhpcy5fcmVtb3ZlZExheWVycyk7XG5cbiAgICAgICAgICAgIGlmICh1cGRhdGVkSWRzLmxlbmd0aCB8fCByZW1vdmVkSWRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyh1cGRhdGVkSWRzLCByZW1vdmVkSWRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fdXBkYXRlZFNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLl91cGRhdGVkU291cmNlc1tpZF07XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGFjdGlvbiA9PT0gJ3JlbG9hZCcgfHwgYWN0aW9uID09PSAnY2xlYXInKTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09PSAncmVsb2FkJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWxvYWRTb3VyY2UoaWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAnY2xlYXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyU291cmNlKGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGF5ZXJzW2lkXS51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZvZykge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9nLnVwZGF0ZVRyYW5zaXRpb25zKHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9yZXNldFVwZGF0ZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZXNVc2VkQmVmb3JlID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VJZCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fc291cmNlQ2FjaGVzW3NvdXJjZUlkXTtcbiAgICAgICAgICAgIHNvdXJjZXNVc2VkQmVmb3JlW3NvdXJjZUlkXSA9IHNvdXJjZUNhY2hlLnVzZWQ7XG4gICAgICAgICAgICBzb3VyY2VDYWNoZS51c2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgb2YgdGhpcy5fb3JkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySWRdO1xuXG4gICAgICAgICAgICBsYXllci5yZWNhbGN1bGF0ZShwYXJhbWV0ZXJzLCB0aGlzLl9hdmFpbGFibGVJbWFnZXMpO1xuICAgICAgICAgICAgaWYgKCFsYXllci5pc0hpZGRlbihwYXJhbWV0ZXJzLnpvb20pKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlKGxheWVyKTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUpIHNvdXJjZUNhY2hlLnVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwYWludGVyID0gdGhpcy5tYXAucGFpbnRlcjtcbiAgICAgICAgICAgIGlmIChwYWludGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3JhbUlkcyA9IGxheWVyLmdldFByb2dyYW1JZHMoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXByb2dyYW1JZHMpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBsYXllci5nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihwYXJhbWV0ZXJzLnpvb20pO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9ncmFtSWQgb2YgcHJvZ3JhbUlkcykge1xuICAgICAgICAgICAgICAgICAgICBwYWludGVyLnVzZVByb2dyYW0ocHJvZ3JhbUlkLCBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VJZCBpbiBzb3VyY2VzVXNlZEJlZm9yZSkge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLl9zb3VyY2VDYWNoZXNbc291cmNlSWRdO1xuICAgICAgICAgICAgaWYgKHNvdXJjZXNVc2VkQmVmb3JlW3NvdXJjZUlkXSAhPT0gc291cmNlQ2FjaGUudXNlZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge3NvdXJjZURhdGFUeXBlOiAndmlzaWJpbGl0eScsIGRhdGFUeXBlOidzb3VyY2UnLCBzb3VyY2VJZDogc291cmNlQ2FjaGUuZ2V0U291cmNlKCkuaWR9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxpZ2h0LnJlY2FsY3VsYXRlKHBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodGhpcy50ZXJyYWluKSB7XG4gICAgICAgICAgICB0aGlzLnRlcnJhaW4ucmVjYWxjdWxhdGUocGFyYW1ldGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZm9nKSB7XG4gICAgICAgICAgICB0aGlzLmZvZy5yZWNhbGN1bGF0ZShwYXJhbWV0ZXJzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnogPSBwYXJhbWV0ZXJzLnpvb207XG5cbiAgICAgICAgaWYgKHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVNYXJrZXJzT3BhY2l0eSgpO1xuICAgICAgICAgICAgdGhpcy5fbWFya2Vyc05lZWRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBBcHBseSBhbnkgcXVldWVkIGltYWdlIGNoYW5nZXMuXG4gICAgICovXG4gICAgX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpIHtcbiAgICAgICAgY29uc3QgY2hhbmdlZEltYWdlcyA9IE9iamVjdC5rZXlzKHRoaXMuX2NoYW5nZWRJbWFnZXMpO1xuICAgICAgICBpZiAoY2hhbmdlZEltYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zb3VyY2VDYWNoZXNbbmFtZV0ucmVsb2FkVGlsZXNGb3JEZXBlbmRlbmNpZXMoWydpY29ucycsICdwYXR0ZXJucyddLCBjaGFuZ2VkSW1hZ2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZWRJbWFnZXMgPSB7fTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVXb3JrZXJMYXllcnModXBkYXRlZElkczogQXJyYXk8c3RyaW5nPiwgcmVtb3ZlZElkczogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCd1cGRhdGVMYXllcnMnLCB7XG4gICAgICAgICAgICBsYXllcnM6IHRoaXMuX3NlcmlhbGl6ZUxheWVycyh1cGRhdGVkSWRzKSxcbiAgICAgICAgICAgIHJlbW92ZWRJZHNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3Jlc2V0VXBkYXRlcygpIHtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZWRMYXllcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlZExheWVycyA9IHt9O1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZWRTb3VyY2VzID0ge307XG4gICAgICAgIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzID0ge307XG5cbiAgICAgICAgdGhpcy5fY2hhbmdlZEltYWdlcyA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGlzIHN0eWxlJ3Mgc3RhdGUgdG8gbWF0Y2ggdGhlIGdpdmVuIHN0eWxlIEpTT04sIHBlcmZvcm1pbmcgb25seVxuICAgICAqIHRoZSBuZWNlc3NhcnkgbXV0YXRpb25zLlxuICAgICAqXG4gICAgICogTWF5IHRocm93IGFuIEVycm9yICgnVW5pbXBsZW1lbnRlZDogTUVUSE9EJykgaWYgdGhlIG1hcGJveC1nbC1zdHlsZS1zcGVjXG4gICAgICogZGlmZiBhbGdvcml0aG0gcHJvZHVjZXMgYW4gb3BlcmF0aW9uIHRoYXQgaXMgbm90IHN1cHBvcnRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGFueSBjaGFuZ2VzIHdlcmUgbWFkZTsgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXRTdGF0ZShuZXh0U3RhdGU6IFN0eWxlU3BlY2lmaWNhdGlvbik6IGJvb2xlYW4ge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGlmIChlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZVN0eWxlKG5leHRTdGF0ZSkpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgbmV4dFN0YXRlID0gY2xvbmUobmV4dFN0YXRlKTtcbiAgICAgICAgbmV4dFN0YXRlLmxheWVycyA9IGRlcmVmKG5leHRTdGF0ZS5sYXllcnMpO1xuXG4gICAgICAgIGNvbnN0IGNoYW5nZXMgPSBkaWZmU3R5bGVzKHRoaXMuc2VyaWFsaXplKCksIG5leHRTdGF0ZSlcbiAgICAgICAgICAgIC5maWx0ZXIob3AgPT4gIShvcC5jb21tYW5kIGluIGlnbm9yZWREaWZmT3BlcmF0aW9ucykpO1xuXG4gICAgICAgIGlmIChjaGFuZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdW5pbXBsZW1lbnRlZE9wcyA9IGNoYW5nZXMuZmlsdGVyKG9wID0+ICEob3AuY29tbWFuZCBpbiBzdXBwb3J0ZWREaWZmT3BlcmF0aW9ucykpO1xuICAgICAgICBpZiAodW5pbXBsZW1lbnRlZE9wcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaW1wbGVtZW50ZWQ6ICR7dW5pbXBsZW1lbnRlZE9wcy5tYXAob3AgPT4gb3AuY29tbWFuZCkuam9pbignLCAnKX0uYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGFuZ2VzLmZvckVhY2goKG9wKSA9PiB7XG4gICAgICAgICAgICBpZiAob3AuY29tbWFuZCA9PT0gJ3NldFRyYW5zaXRpb24nIHx8IG9wLmNvbW1hbmQgPT09ICdzZXRQcm9qZWN0aW9uJykge1xuICAgICAgICAgICAgICAgIC8vIGB0cmFuc2l0aW9uYCBhbmQgYHByb2plY3Rpb25gIGFyZSBhbHdheXMgcmVhZCBkaXJlY3RseSBmcm9tXG4gICAgICAgICAgICAgICAgLy8gYHRoaXMuc3R5bGVzaGVldGAsIHdoaWNoIHdlIHVwZGF0ZSBiZWxvd1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICh0aGlzOiBhbnkpW29wLmNvbW1hbmRdLmFwcGx5KHRoaXMsIG9wLmFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN0eWxlc2hlZXQgPSBuZXh0U3RhdGU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1hcFByb2plY3Rpb24oKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBhZGRJbWFnZShpZDogc3RyaW5nLCBpbWFnZTogU3R5bGVJbWFnZSk6IHRoaXMge1xuICAgICAgICBpZiAodGhpcy5nZXRJbWFnZShpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdBbiBpbWFnZSB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cy4nKSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKGlkLCBpbWFnZSk7XG4gICAgICAgIHRoaXMuX2FmdGVySW1hZ2VVcGRhdGVkKGlkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdXBkYXRlSW1hZ2UoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIudXBkYXRlSW1hZ2UoaWQsIGltYWdlKTtcbiAgICB9XG5cbiAgICBnZXRJbWFnZShpZDogc3RyaW5nKTogP1N0eWxlSW1hZ2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2UoaWQpO1xuICAgIH1cblxuICAgIHJlbW92ZUltYWdlKGlkOiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEltYWdlKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ05vIGltYWdlIHdpdGggdGhpcyBuYW1lIGV4aXN0cy4nKSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLnJlbW92ZUltYWdlKGlkKTtcbiAgICAgICAgdGhpcy5fYWZ0ZXJJbWFnZVVwZGF0ZWQoaWQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfYWZ0ZXJJbWFnZVVwZGF0ZWQoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9hdmFpbGFibGVJbWFnZXMgPSB0aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWRJbWFnZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoJ3NldEltYWdlcycsIHRoaXMuX2F2YWlsYWJsZUltYWdlcyk7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG4gICAgfVxuXG4gICAgbGlzdEltYWdlcygpOiBBcnJheTxzdHJpbmc+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F2YWlsYWJsZUltYWdlcy5zbGljZSgpO1xuICAgIH1cblxuICAgIGFkZFNvdXJjZShpZDogc3RyaW5nLCBzb3VyY2U6IFNvdXJjZVNwZWNpZmljYXRpb24sIG9wdGlvbnM6IFN0eWxlU2V0dGVyT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0U291cmNlKGlkKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIGFscmVhZHkgYSBzb3VyY2Ugd2l0aCB0aGlzIElEJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNvdXJjZS50eXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSB0eXBlIHByb3BlcnR5IG11c3QgYmUgZGVmaW5lZCwgYnV0IG9ubHkgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIHdlcmUgZ2l2ZW46ICR7T2JqZWN0LmtleXMoc291cmNlKS5qb2luKCcsICcpfS5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ1aWx0SW5zID0gWyd2ZWN0b3InLCAncmFzdGVyJywgJ2dlb2pzb24nLCAndmlkZW8nLCAnaW1hZ2UnXTtcbiAgICAgICAgY29uc3Qgc2hvdWxkVmFsaWRhdGUgPSBidWlsdElucy5pbmRleE9mKHNvdXJjZS50eXBlKSA+PSAwO1xuICAgICAgICBpZiAoc2hvdWxkVmFsaWRhdGUgJiYgdGhpcy5fdmFsaWRhdGUodmFsaWRhdGVTb3VyY2UsIGBzb3VyY2VzLiR7aWR9YCwgc291cmNlLCBudWxsLCBvcHRpb25zKSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLm1hcCAmJiB0aGlzLm1hcC5fY29sbGVjdFJlc291cmNlVGltaW5nKSAoc291cmNlOiBhbnkpLmNvbGxlY3RSZXNvdXJjZVRpbWluZyA9IHRydWU7XG5cbiAgICAgICAgY29uc3Qgc291cmNlSW5zdGFuY2UgPSBjcmVhdGVTb3VyY2UoaWQsIHNvdXJjZSwgdGhpcy5kaXNwYXRjaGVyLCB0aGlzKTtcblxuICAgICAgICBzb3VyY2VJbnN0YW5jZS5zZXRFdmVudGVkUGFyZW50KHRoaXMsICgpID0+ICh7XG4gICAgICAgICAgICBpc1NvdXJjZUxvYWRlZDogdGhpcy5faXNTb3VyY2VDYWNoZUxvYWRlZChpZCksXG4gICAgICAgICAgICBzb3VyY2U6IHNvdXJjZUluc3RhbmNlLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgc291cmNlSWQ6IGlkXG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb25zdCBhZGRTb3VyY2VDYWNoZSA9IChvbmx5U3ltYm9scykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVJZCA9IChvbmx5U3ltYm9scyA/ICdzeW1ib2w6JyA6ICdvdGhlcjonKSArIGlkO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLl9zb3VyY2VDYWNoZXNbc291cmNlQ2FjaGVJZF0gPSBuZXcgU291cmNlQ2FjaGUoc291cmNlQ2FjaGVJZCwgc291cmNlSW5zdGFuY2UsIG9ubHlTeW1ib2xzKTtcbiAgICAgICAgICAgIChvbmx5U3ltYm9scyA/IHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlcyA6IHRoaXMuX290aGVyU291cmNlQ2FjaGVzKVtpZF0gPSBzb3VyY2VDYWNoZTtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLnN0eWxlID0gdGhpcztcblxuICAgICAgICAgICAgc291cmNlQ2FjaGUub25BZGQodGhpcy5tYXApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGFkZFNvdXJjZUNhY2hlKGZhbHNlKTtcbiAgICAgICAgaWYgKHNvdXJjZS50eXBlID09PSAndmVjdG9yJyB8fCBzb3VyY2UudHlwZSA9PT0gJ2dlb2pzb24nKSB7XG4gICAgICAgICAgICBhZGRTb3VyY2VDYWNoZSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3VyY2VJbnN0YW5jZS5vbkFkZCkgc291cmNlSW5zdGFuY2Uub25BZGQodGhpcy5tYXApO1xuXG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHNvdXJjZSBmcm9tIHRoaXMgc3R5bGVzaGVldCwgZ2l2ZW4gaXRzIElELlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiB0aGUgc291cmNlIHRvIHJlbW92ZS5cbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgbm8gc291cmNlIGlzIGZvdW5kIHdpdGggdGhlIGdpdmVuIElELlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFRoZSB7QGxpbmsgTWFwfSBvYmplY3QuXG4gICAgICovXG4gICAgcmVtb3ZlU291cmNlKGlkOiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZShpZCk7XG4gICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIHRoaXMgSUQnKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGF5ZXJzW2xheWVySWRdLnNvdXJjZSA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgU291cmNlIFwiJHtpZH1cIiBjYW5ub3QgYmUgcmVtb3ZlZCB3aGlsZSBsYXllciBcIiR7bGF5ZXJJZH1cIiBpcyB1c2luZyBpdC5gKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRlcnJhaW4gJiYgdGhpcy50ZXJyYWluLmdldCgpLnNvdXJjZSA9PT0gaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBTb3VyY2UgXCIke2lkfVwiIGNhbm5vdCBiZSByZW1vdmVkIHdoaWxlIHRlcnJhaW4gaXMgdXNpbmcgaXQuYCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlcyA9IHRoaXMuX2dldFNvdXJjZUNhY2hlcyhpZCk7XG4gICAgICAgIGZvciAoY29uc3Qgc291cmNlQ2FjaGUgb2Ygc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc291cmNlQ2FjaGVzW3NvdXJjZUNhY2hlLmlkXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl91cGRhdGVkU291cmNlc1tzb3VyY2VDYWNoZS5pZF07XG4gICAgICAgICAgICBzb3VyY2VDYWNoZS5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJywgZGF0YVR5cGU6J3NvdXJjZScsIHNvdXJjZUlkOiBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5pZH0pKTtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7XG4gICAgICAgICAgICBzb3VyY2VDYWNoZS5jbGVhclRpbGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuX290aGVyU291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tpZF07XG5cbiAgICAgICAgc291cmNlLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7XG4gICAgICAgIGlmIChzb3VyY2Uub25SZW1vdmUpIHtcbiAgICAgICAgICAgIHNvdXJjZS5vblJlbW92ZSh0aGlzLm1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogU2V0IHRoZSBkYXRhIG9mIGEgR2VvSlNPTiBzb3VyY2UsIGdpdmVuIGl0cyBJRC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiB0aGUgc291cmNlLlxuICAgICogQHBhcmFtIHtHZW9KU09OfHN0cmluZ30gZGF0YSBHZW9KU09OIHNvdXJjZS5cbiAgICAqL1xuICAgIHNldEdlb0pTT05Tb3VyY2VEYXRhKGlkOiBzdHJpbmcsIGRhdGE6IEdlb0pTT04gfCBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBhc3NlcnQodGhpcy5nZXRTb3VyY2UoaWQpICE9PSB1bmRlZmluZWQsICdUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCB0aGlzIElEJyk7XG4gICAgICAgIGNvbnN0IGdlb2pzb25Tb3VyY2U6IEdlb0pTT05Tb3VyY2UgPSAodGhpcy5nZXRTb3VyY2UoaWQpOiBhbnkpO1xuICAgICAgICBhc3NlcnQoZ2VvanNvblNvdXJjZS50eXBlID09PSAnZ2VvanNvbicpO1xuXG4gICAgICAgIGdlb2pzb25Tb3VyY2Uuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgc291cmNlIGJ5IElELlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiB0aGUgZGVzaXJlZCBzb3VyY2UuXG4gICAgICogQHJldHVybnMgez9Tb3VyY2V9IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGdldFNvdXJjZShpZDogc3RyaW5nKTogP1NvdXJjZSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fZ2V0U291cmNlQ2FjaGUoaWQpO1xuICAgICAgICByZXR1cm4gc291cmNlQ2FjaGUgJiYgc291cmNlQ2FjaGUuZ2V0U291cmNlKCk7XG4gICAgfVxuXG4gICAgX2dldFNvdXJjZXMoKTogU291cmNlW10ge1xuICAgICAgICBjb25zdCBzb3VyY2VzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fZ2V0U291cmNlQ2FjaGUoaWQpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlKSBzb3VyY2VzLnB1c2goc291cmNlQ2FjaGUuZ2V0U291cmNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbGF5ZXIgdG8gdGhlIG1hcCBzdHlsZS4gVGhlIGxheWVyIHdpbGwgYmUgaW5zZXJ0ZWQgYmVmb3JlIHRoZSBsYXllciB3aXRoXG4gICAgICogSUQgYGJlZm9yZWAsIG9yIGFwcGVuZGVkIGlmIGBiZWZvcmVgIGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBDdXN0b21MYXllckludGVyZmFjZX0gbGF5ZXJPYmplY3QgVGhlIHN0eWxlIGxheWVyIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2JlZm9yZV0gSUQgb2YgYW4gZXhpc3RpbmcgbGF5ZXIgdG8gaW5zZXJ0IGJlZm9yZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBTdHlsZSBzZXR0ZXIgb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBUaGUge0BsaW5rIE1hcH0gb2JqZWN0LlxuICAgICAqL1xuICAgIGFkZExheWVyKGxheWVyT2JqZWN0OiBMYXllclNwZWNpZmljYXRpb24gfCBDdXN0b21MYXllckludGVyZmFjZSwgYmVmb3JlPzogc3RyaW5nLCBvcHRpb25zOiBTdHlsZVNldHRlck9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGlkID0gbGF5ZXJPYmplY3QuaWQ7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0TGF5ZXIoaWQpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtpZH1cIiBhbHJlYWR5IGV4aXN0cyBvbiB0aGlzIG1hcGApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGF5ZXI7XG4gICAgICAgIGlmIChsYXllck9iamVjdC50eXBlID09PSAnY3VzdG9tJykge1xuXG4gICAgICAgICAgICBpZiAoZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcywgdmFsaWRhdGVDdXN0b21TdHlsZUxheWVyKGxheWVyT2JqZWN0KSkpIHJldHVybjtcblxuICAgICAgICAgICAgbGF5ZXIgPSBjcmVhdGVTdHlsZUxheWVyKGxheWVyT2JqZWN0KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBsYXllck9iamVjdC5zb3VyY2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTb3VyY2UoaWQsIGxheWVyT2JqZWN0LnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgbGF5ZXJPYmplY3QgPSBjbG9uZShsYXllck9iamVjdCk7XG4gICAgICAgICAgICAgICAgbGF5ZXJPYmplY3QgPSAoZXh0ZW5kKGxheWVyT2JqZWN0LCB7c291cmNlOiBpZH0pOiBhbnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aGlzIGxheWVyIGlzIG5vdCBpbiB0aGUgc3R5bGUubGF5ZXJzIGFycmF5LCBzbyB3ZSBwYXNzIGFuIGltcG9zc2libGUgYXJyYXkgaW5kZXhcbiAgICAgICAgICAgIGlmICh0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZUxheWVyLFxuICAgICAgICAgICAgICAgIGBsYXllcnMuJHtpZH1gLCBsYXllck9iamVjdCwge2FycmF5SW5kZXg6IC0xfSwgb3B0aW9ucykpIHJldHVybjtcblxuICAgICAgICAgICAgbGF5ZXIgPSBjcmVhdGVTdHlsZUxheWVyKGxheWVyT2JqZWN0KTtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlTGF5ZXIobGF5ZXIpO1xuXG4gICAgICAgICAgICBsYXllci5zZXRFdmVudGVkUGFyZW50KHRoaXMsIHtsYXllcjoge2lkfX0pO1xuICAgICAgICAgICAgdGhpcy5fc2VyaWFsaXplZExheWVyc1tsYXllci5pZF0gPSBsYXllci5zZXJpYWxpemUoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyQ291bnQobGF5ZXIsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBiZWZvcmUgPyB0aGlzLl9vcmRlci5pbmRleE9mKGJlZm9yZSkgOiB0aGlzLl9vcmRlci5sZW5ndGg7XG4gICAgICAgIGlmIChiZWZvcmUgJiYgaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtiZWZvcmV9XCIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX29yZGVyLnNwbGljZShpbmRleCwgMCwgaWQpO1xuICAgICAgICB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fbGF5ZXJzW2lkXSA9IGxheWVyO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShsYXllcik7XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdmVkTGF5ZXJzW2lkXSAmJiBsYXllci5zb3VyY2UgJiYgc291cmNlQ2FjaGUgJiYgbGF5ZXIudHlwZSAhPT0gJ2N1c3RvbScpIHtcbiAgICAgICAgICAgIC8vIElmLCBpbiB0aGUgY3VycmVudCBiYXRjaCwgd2UgaGF2ZSBhbHJlYWR5IHJlbW92ZWQgdGhpcyBsYXllclxuICAgICAgICAgICAgLy8gYW5kIHdlIGFyZSBub3cgcmUtYWRkaW5nIGl0IHdpdGggYSBkaWZmZXJlbnQgYHR5cGVgLCB0aGVuIHdlXG4gICAgICAgICAgICAvLyBuZWVkIHRvIGNsZWFyIChyYXRoZXIgdGhhbiBqdXN0IHJlbG9hZCkgdGhlIHVuZGVyeWxpbmcgc291cmNlJ3NcbiAgICAgICAgICAgIC8vIHRpbGVzLiAgT3RoZXJ3aXNlLCB0aWxlcyBtYXJrZWQgJ3JlbG9hZGluZycgd2lsbCBoYXZlIGJ1Y2tldHMgL1xuICAgICAgICAgICAgLy8gYnVmZmVycyB0aGF0IGFyZSBzZXQgdXAgZm9yIHRoZSBfcHJldmlvdXNfIHZlcnNpb24gb2YgdGhpc1xuICAgICAgICAgICAgLy8gbGF5ZXIsIGNhdXNpbmcsIGUuZy46XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMzYzM1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZCA9IHRoaXMuX3JlbW92ZWRMYXllcnNbaWRdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3JlbW92ZWRMYXllcnNbaWRdO1xuICAgICAgICAgICAgaWYgKHJlbW92ZWQudHlwZSAhPT0gbGF5ZXIudHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2xheWVyLnNvdXJjZV0gPSAnY2xlYXInO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVkU291cmNlc1tsYXllci5zb3VyY2VdID0gJ3JlbG9hZCc7XG4gICAgICAgICAgICAgICAgc291cmNlQ2FjaGUucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICBpZiAobGF5ZXIub25BZGQpIHtcbiAgICAgICAgICAgIGxheWVyLm9uQWRkKHRoaXMubWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhIGxheWVyIHRvIGEgZGlmZmVyZW50IHotcG9zaXRpb24uIFRoZSBsYXllciB3aWxsIGJlIGluc2VydGVkIGJlZm9yZSB0aGUgbGF5ZXIgd2l0aFxuICAgICAqIElEIGBiZWZvcmVgLCBvciBhcHBlbmRlZCBpZiBgYmVmb3JlYCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAgSUQgb2YgdGhlIGxheWVyIHRvIG1vdmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiZWZvcmVdIElEIG9mIGFuIGV4aXN0aW5nIGxheWVyIHRvIGluc2VydCBiZWZvcmUuXG4gICAgICovXG4gICAgbW92ZUxheWVyKGlkOiBzdHJpbmcsIGJlZm9yZT86IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtpZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIG1vdmVkLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaWQgPT09IGJlZm9yZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9vcmRlci5pbmRleE9mKGlkKTtcbiAgICAgICAgdGhpcy5fb3JkZXIuc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgICBjb25zdCBuZXdJbmRleCA9IGJlZm9yZSA/IHRoaXMuX29yZGVyLmluZGV4T2YoYmVmb3JlKSA6IHRoaXMuX29yZGVyLmxlbmd0aDtcbiAgICAgICAgaWYgKGJlZm9yZSAmJiBuZXdJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYExheWVyIHdpdGggaWQgXCIke2JlZm9yZX1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29yZGVyLnNwbGljZShuZXdJbmRleCwgMCwgaWQpO1xuXG4gICAgICAgIHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBsYXllciB3aXRoIHRoZSBnaXZlbiBpZCBmcm9tIHRoZSBzdHlsZS5cbiAgICAgKlxuICAgICAqIElmIG5vIHN1Y2ggbGF5ZXIgZXhpc3RzLCBhbiBgZXJyb3JgIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIElEIG9mIHRoZSBsYXllciB0byByZW1vdmUuXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDplcnJvclxuICAgICAqL1xuICAgIHJlbW92ZUxheWVyKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtpZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHJlbW92ZWQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxheWVyLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXJDb3VudChsYXllciwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb3JkZXIuaW5kZXhPZihpZCk7XG4gICAgICAgIHRoaXMuX29yZGVyLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgICAgdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlZExheWVyc1tpZF0gPSBsYXllcjtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zZXJpYWxpemVkTGF5ZXJzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3VwZGF0ZWRMYXllcnNbaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbaWRdO1xuXG4gICAgICAgIGlmIChsYXllci5vblJlbW92ZSkge1xuICAgICAgICAgICAgbGF5ZXIub25SZW1vdmUodGhpcy5tYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlRHJhcGVGaXJzdExheWVycygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgc3R5bGUgbGF5ZXIgb2JqZWN0IHdpdGggdGhlIGdpdmVuIGBpZGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgdGhlIGRlc2lyZWQgbGF5ZXIuXG4gICAgICogQHJldHVybnMgez9TdHlsZUxheWVyfSBBIGxheWVyLCBpZiBvbmUgd2l0aCB0aGUgZ2l2ZW4gYGlkYCBleGlzdHMuXG4gICAgICovXG4gICAgZ2V0TGF5ZXIoaWQ6IHN0cmluZyk6ID9TdHlsZUxheWVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xheWVyc1tpZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3BlY2lmaWMgbGF5ZXIgaXMgcHJlc2VudCB3aXRoaW4gdGhlIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIElEIG9mIHRoZSBkZXNpcmVkIGxheWVyLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIGJvb2xlYW4gc3BlY2lmeWluZyBpZiB0aGUgZ2l2ZW4gbGF5ZXIgaXMgcHJlc2VudC5cbiAgICAgKi9cbiAgICBoYXNMYXllcihpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBpZCBpbiB0aGlzLl9sYXllcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3BlY2lmaWMgbGF5ZXIgdHlwZSBpcyBwcmVzZW50IHdpdGhpbiB0aGUgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlIG9mIHRoZSBkZXNpcmVkIGxheWVyLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIGJvb2xlYW4gc3BlY2lmeWluZyBpZiB0aGUgZ2l2ZW4gbGF5ZXIgdHlwZSBpcyBwcmVzZW50LlxuICAgICAqL1xuICAgIGhhc0xheWVyVHlwZSh0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgZm9yIChjb25zdCBsYXllcklkIGluIHRoaXMuX2xheWVycykge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJJZF07XG4gICAgICAgICAgICBpZiAobGF5ZXIudHlwZSA9PT0gdHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzZXRMYXllclpvb21SYW5nZShsYXllcklkOiBzdHJpbmcsIG1pbnpvb206ID9udW1iZXIsIG1heHpvb206ID9udW1iZXIpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCk7XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtsYXllcklkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgaGF2ZSB6b29tIGV4dGVudC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxheWVyLm1pbnpvb20gPT09IG1pbnpvb20gJiYgbGF5ZXIubWF4em9vbSA9PT0gbWF4em9vbSkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChtaW56b29tICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxheWVyLm1pbnpvb20gPSBtaW56b29tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXh6b29tICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxheWVyLm1heHpvb20gPSBtYXh6b29tO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyKGxheWVyKTtcbiAgICB9XG5cbiAgICBzZXRGaWx0ZXIobGF5ZXJJZDogc3RyaW5nLCBmaWx0ZXI6ID9GaWx0ZXJTcGVjaWZpY2F0aW9uLCAgb3B0aW9uczogU3R5bGVTZXR0ZXJPcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCk7XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtsYXllcklkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgZmlsdGVyZWQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWVwRXF1YWwobGF5ZXIuZmlsdGVyLCBmaWx0ZXIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsYXllci5maWx0ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdmFsaWRhdGUodmFsaWRhdGVGaWx0ZXIsIGBsYXllcnMuJHtsYXllci5pZH0uZmlsdGVyYCwgZmlsdGVyLCB7bGF5ZXJUeXBlOiBsYXllci50eXBlfSwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxheWVyLmZpbHRlciA9IGNsb25lKGZpbHRlcik7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyKGxheWVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBsYXllcidzIGZpbHRlciBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVySWQgVGhlIGxheWVyIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBsYXllcidzIGZpbHRlciwgaWYgYW55LlxuICAgICAqL1xuICAgIGdldEZpbHRlcihsYXllcklkOiBzdHJpbmcpOiA/RmlsdGVyU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcihsYXllcklkKTtcbiAgICAgICAgcmV0dXJuIGxheWVyICYmIGNsb25lKGxheWVyLmZpbHRlcik7XG4gICAgfVxuXG4gICAgc2V0TGF5b3V0UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksICBvcHRpb25zOiBTdHlsZVNldHRlck9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcihsYXllcklkKTtcbiAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2xheWVySWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWVwRXF1YWwobGF5ZXIuZ2V0TGF5b3V0UHJvcGVydHkobmFtZSksIHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAgIGxheWVyLnNldExheW91dFByb3BlcnR5KG5hbWUsIHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIGxheW91dCBwcm9wZXJ0eSdzIHZhbHVlIGZyb20gYSBnaXZlbiBsYXllci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXJJZCBUaGUgbGF5ZXIgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbGF5b3V0IHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZ2V0TGF5b3V0UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpOiA/UHJvcGVydHlWYWx1ZVNwZWNpZmljYXRpb248bWl4ZWQ+IHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySWQpO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bGF5ZXJJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxheWVyLmdldExheW91dFByb3BlcnR5KG5hbWUpO1xuICAgIH1cblxuICAgIHNldFBhaW50UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksIG9wdGlvbnM6IFN0eWxlU2V0dGVyT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySWQpO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bGF5ZXJJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHN0eWxlZC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZXBFcXVhbChsYXllci5nZXRQYWludFByb3BlcnR5KG5hbWUpLCB2YWx1ZSkpIHJldHVybjtcblxuICAgICAgICBjb25zdCByZXF1aXJlc1JlbGF5b3V0ID0gbGF5ZXIuc2V0UGFpbnRQcm9wZXJ0eShuYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChyZXF1aXJlc1JlbGF5b3V0KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbbGF5ZXJJZF0gPSB0cnVlO1xuICAgIH1cblxuICAgIGdldFBhaW50UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpOiB2b2lkIHwgVHJhbnNpdGlvblNwZWNpZmljYXRpb24gfCBQcm9wZXJ0eVZhbHVlU3BlY2lmaWNhdGlvbjxtaXhlZD4ge1xuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCk7XG4gICAgICAgIHJldHVybiBsYXllciAmJiBsYXllci5nZXRQYWludFByb3BlcnR5KG5hbWUpO1xuICAgIH1cblxuICAgIHNldEZlYXR1cmVTdGF0ZSh0YXJnZXQ6IHsgc291cmNlOiBzdHJpbmc7IHNvdXJjZUxheWVyPzogc3RyaW5nOyBpZDogc3RyaW5nIHwgbnVtYmVyOyB9LCBzdGF0ZTogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG4gICAgICAgIGNvbnN0IHNvdXJjZUlkID0gdGFyZ2V0LnNvdXJjZTtcbiAgICAgICAgY29uc3Qgc291cmNlTGF5ZXIgPSB0YXJnZXQuc291cmNlTGF5ZXI7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKHNvdXJjZUlkKTtcblxuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtzb3VyY2VJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNvdXJjZVR5cGUgPSBzb3VyY2UudHlwZTtcbiAgICAgICAgaWYgKHNvdXJjZVR5cGUgPT09ICdnZW9qc29uJyAmJiBzb3VyY2VMYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgR2VvSlNPTiBzb3VyY2VzIGNhbm5vdCBoYXZlIGEgc291cmNlTGF5ZXIgcGFyYW1ldGVyLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvdXJjZVR5cGUgPT09ICd2ZWN0b3InICYmICFzb3VyY2VMYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldC5pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC5gKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fZ2V0U291cmNlQ2FjaGVzKHNvdXJjZUlkKTtcbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VDYWNoZSBvZiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLnNldEZlYXR1cmVTdGF0ZShzb3VyY2VMYXllciwgdGFyZ2V0LmlkLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVGZWF0dXJlU3RhdGUodGFyZ2V0OiB7IHNvdXJjZTogc3RyaW5nOyBzb3VyY2VMYXllcj86IHN0cmluZzsgaWQ/OiBzdHJpbmcgfCBudW1iZXI7IH0sIGtleT86IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuICAgICAgICBjb25zdCBzb3VyY2VJZCA9IHRhcmdldC5zb3VyY2U7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKHNvdXJjZUlkKTtcblxuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtzb3VyY2VJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlVHlwZSA9IHNvdXJjZS50eXBlO1xuICAgICAgICBjb25zdCBzb3VyY2VMYXllciA9IHNvdXJjZVR5cGUgPT09ICd2ZWN0b3InID8gdGFyZ2V0LnNvdXJjZUxheWVyIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChzb3VyY2VUeXBlID09PSAndmVjdG9yJyAmJiAhc291cmNlTGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBzb3VyY2VMYXllciBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBmb3IgdmVjdG9yIHNvdXJjZSB0eXBlcy5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleSAmJiAodHlwZW9mIHRhcmdldC5pZCAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIHRhcmdldC5pZCAhPT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBBIGZlYXR1cmUgaWQgaXMgcmVxdWlyZWQgdG8gcmVtb3ZlIGl0cyBzcGVjaWZpYyBzdGF0ZSBwcm9wZXJ0eS5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fZ2V0U291cmNlQ2FjaGVzKHNvdXJjZUlkKTtcbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VDYWNoZSBvZiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLnJlbW92ZUZlYXR1cmVTdGF0ZShzb3VyY2VMYXllciwgdGFyZ2V0LmlkLCBrZXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RmVhdHVyZVN0YXRlKHRhcmdldDogeyBzb3VyY2U6IHN0cmluZzsgc291cmNlTGF5ZXI/OiBzdHJpbmc7IGlkOiBzdHJpbmcgfCBudW1iZXI7IH0pOiA/RmVhdHVyZVN0YXRlcyB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG4gICAgICAgIGNvbnN0IHNvdXJjZUlkID0gdGFyZ2V0LnNvdXJjZTtcbiAgICAgICAgY29uc3Qgc291cmNlTGF5ZXIgPSB0YXJnZXQuc291cmNlTGF5ZXI7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKHNvdXJjZUlkKTtcblxuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtzb3VyY2VJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNvdXJjZVR5cGUgPSBzb3VyY2UudHlwZTtcbiAgICAgICAgaWYgKHNvdXJjZVR5cGUgPT09ICd2ZWN0b3InICYmICFzb3VyY2VMYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldC5pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC5gKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fZ2V0U291cmNlQ2FjaGVzKHNvdXJjZUlkKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZUNhY2hlc1swXS5nZXRGZWF0dXJlU3RhdGUoc291cmNlTGF5ZXIsIHRhcmdldC5pZCk7XG4gICAgfVxuXG4gICAgZ2V0VHJhbnNpdGlvbigpOiBUcmFuc2l0aW9uU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe2R1cmF0aW9uOiAzMDAsIGRlbGF5OiAwfSwgdGhpcy5zdHlsZXNoZWV0ICYmIHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKTogU3R5bGVTcGVjaWZpY2F0aW9uIHtcbiAgICAgICAgY29uc3Qgc291cmNlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGNhY2hlSWQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLl9zb3VyY2VDYWNoZXNbY2FjaGVJZF0uZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZXNbc291cmNlLmlkXSkge1xuICAgICAgICAgICAgICAgIHNvdXJjZXNbc291cmNlLmlkXSA9IHNvdXJjZS5zZXJpYWxpemUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaWx0ZXJPYmplY3Qoe1xuICAgICAgICAgICAgdmVyc2lvbjogdGhpcy5zdHlsZXNoZWV0LnZlcnNpb24sXG4gICAgICAgICAgICBuYW1lOiB0aGlzLnN0eWxlc2hlZXQubmFtZSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB0aGlzLnN0eWxlc2hlZXQubWV0YWRhdGEsXG4gICAgICAgICAgICBsaWdodDogdGhpcy5zdHlsZXNoZWV0LmxpZ2h0LFxuICAgICAgICAgICAgdGVycmFpbjogdGhpcy5nZXRUZXJyYWluKCkgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgZm9nOiB0aGlzLnN0eWxlc2hlZXQuZm9nLFxuICAgICAgICAgICAgY2VudGVyOiB0aGlzLnN0eWxlc2hlZXQuY2VudGVyLFxuICAgICAgICAgICAgem9vbTogdGhpcy5zdHlsZXNoZWV0Lnpvb20sXG4gICAgICAgICAgICBiZWFyaW5nOiB0aGlzLnN0eWxlc2hlZXQuYmVhcmluZyxcbiAgICAgICAgICAgIHBpdGNoOiB0aGlzLnN0eWxlc2hlZXQucGl0Y2gsXG4gICAgICAgICAgICBzcHJpdGU6IHRoaXMuc3R5bGVzaGVldC5zcHJpdGUsXG4gICAgICAgICAgICBnbHlwaHM6IHRoaXMuc3R5bGVzaGVldC5nbHlwaHMsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbixcbiAgICAgICAgICAgIHByb2plY3Rpb246IHRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLFxuICAgICAgICAgICAgc291cmNlcyxcbiAgICAgICAgICAgIGxheWVyczogdGhpcy5fc2VyaWFsaXplTGF5ZXJzKHRoaXMuX29yZGVyKVxuICAgICAgICB9LCAodmFsdWUpID0+IHsgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQ7IH0pO1xuICAgIH1cblxuICAgIF91cGRhdGVMYXllcihsYXllcjogU3R5bGVMYXllcikge1xuICAgICAgICB0aGlzLl91cGRhdGVkTGF5ZXJzW2xheWVyLmlkXSA9IHRydWU7XG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShsYXllcik7XG4gICAgICAgIGlmIChsYXllci5zb3VyY2UgJiYgIXRoaXMuX3VwZGF0ZWRTb3VyY2VzW2xheWVyLnNvdXJjZV0gJiZcbiAgICAgICAgICAgIC8vU2tpcCBmb3IgcmFzdGVyIGxheWVycyAoaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzc4NjUpXG4gICAgICAgICAgICBzb3VyY2VDYWNoZSAmJlxuICAgICAgICAgICAgc291cmNlQ2FjaGUuZ2V0U291cmNlKCkudHlwZSAhPT0gJ3Jhc3RlcicpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2xheWVyLnNvdXJjZV0gPSAncmVsb2FkJztcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGxheWVyLmludmFsaWRhdGVDb21waWxlZEZpbHRlcigpO1xuXG4gICAgfVxuXG4gICAgX2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcyhzb3VyY2VSZXN1bHRzOiBBcnJheTxhbnk+KTogQXJyYXk8bWl4ZWQ+IHtcbiAgICAgICAgLy8gRmVhdHVyZSBvcmRlciBpcyBjb21wbGljYXRlZC5cbiAgICAgICAgLy8gVGhlIG9yZGVyIGJldHdlZW4gZmVhdHVyZXMgaW4gdHdvIDJEIGxheWVycyBpcyBhbHdheXMgZGV0ZXJtaW5lZCBieSBsYXllciBvcmRlci5cbiAgICAgICAgLy8gVGhlIG9yZGVyIGJldHdlZW4gZmVhdHVyZXMgaW4gdHdvIDNEIGxheWVycyBpcyBhbHdheXMgZGV0ZXJtaW5lZCBieSBkZXB0aC5cbiAgICAgICAgLy8gVGhlIG9yZGVyIGJldHdlZW4gYSBmZWF0dXJlIGluIGEgMkQgbGF5ZXIgYW5kIGEgM0QgbGF5ZXIgaXMgdHJpY2t5OlxuICAgICAgICAvLyAgICAgIE1vc3Qgb2Z0ZW4gbGF5ZXIgb3JkZXIgZGV0ZXJtaW5lcyB0aGUgZmVhdHVyZSBvcmRlciBpbiB0aGlzIGNhc2UuIElmXG4gICAgICAgIC8vICAgICAgYSBsaW5lIGxheWVyIGlzIGFib3ZlIGEgZXh0cnVzaW9uIGxheWVyIHRoZSBsaW5lIGZlYXR1cmUgd2lsbCBiZSByZW5kZXJlZFxuICAgICAgICAvLyAgICAgIGFib3ZlIHRoZSBleHRydXNpb24uIElmIHRoZSBsaW5lIGxheWVyIGlzIGJlbG93IHRoZSBleHRydXNpb24gbGF5ZXIsXG4gICAgICAgIC8vICAgICAgaXQgd2lsbCBiZSByZW5kZXJlZCBiZWxvdyBpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICBUaGVyZSBpcyBhIHdlaXJkIGNhc2UgdGhvdWdoLlxuICAgICAgICAvLyAgICAgIFlvdSBoYXZlIGxheWVycyBpbiB0aGlzIG9yZGVyOiBleHRydXNpb25fbGF5ZXJfYSwgbGluZV9sYXllciwgZXh0cnVzaW9uX2xheWVyX2JcbiAgICAgICAgLy8gICAgICBFYWNoIGxheWVyIGhhcyBhIGZlYXR1cmUgdGhhdCBvdmVybGFwcyB0aGUgb3RoZXIgZmVhdHVyZXMuXG4gICAgICAgIC8vICAgICAgVGhlIGZlYXR1cmUgaW4gZXh0cnVzaW9uX2xheWVyX2EgaXMgY2xvc2VyIHRoYW4gdGhlIGZlYXR1cmUgaW4gZXh0cnVzaW9uX2xheWVyX2Igc28gaXQgaXMgcmVuZGVyZWQgYWJvdmUuXG4gICAgICAgIC8vICAgICAgVGhlIGZlYXR1cmUgaW4gbGluZV9sYXllciBpcyByZW5kZXJlZCBhYm92ZSBleHRydXNpb25fbGF5ZXJfYS5cbiAgICAgICAgLy8gICAgICBUaGlzIG1lYW5zIHRoYXQgdGhhdCB0aGUgbGluZV9sYXllciBmZWF0dXJlIGlzIGFib3ZlIHRoZSBleHRydXNpb25fbGF5ZXJfYiBmZWF0dXJlIGRlc3BpdGVcbiAgICAgICAgLy8gICAgICBpdCBiZWluZyBpbiBhbiBlYXJsaWVyIGxheWVyLlxuXG4gICAgICAgIGNvbnN0IGlzTGF5ZXIzRCA9IGxheWVySWQgPT4gdGhpcy5fbGF5ZXJzW2xheWVySWRdLnR5cGUgPT09ICdmaWxsLWV4dHJ1c2lvbic7XG5cbiAgICAgICAgY29uc3QgbGF5ZXJJbmRleCA9IHt9O1xuICAgICAgICBjb25zdCBmZWF0dXJlczNEID0gW107XG4gICAgICAgIGZvciAobGV0IGwgPSB0aGlzLl9vcmRlci5sZW5ndGggLSAxOyBsID49IDA7IGwtLSkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXJJZCA9IHRoaXMuX29yZGVyW2xdO1xuICAgICAgICAgICAgaWYgKGlzTGF5ZXIzRChsYXllcklkKSkge1xuICAgICAgICAgICAgICAgIGxheWVySW5kZXhbbGF5ZXJJZF0gPSBsO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc291cmNlUmVzdWx0IG9mIHNvdXJjZVJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF5ZXJGZWF0dXJlcyA9IHNvdXJjZVJlc3VsdFtsYXllcklkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyRmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmVhdHVyZVdyYXBwZXIgb2YgbGF5ZXJGZWF0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzM0QucHVzaChmZWF0dXJlV3JhcHBlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmZWF0dXJlczNELnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBiLmludGVyc2VjdGlvblogLSBhLmludGVyc2VjdGlvblo7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gW107XG4gICAgICAgIGZvciAobGV0IGwgPSB0aGlzLl9vcmRlci5sZW5ndGggLSAxOyBsID49IDA7IGwtLSkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXJJZCA9IHRoaXMuX29yZGVyW2xdO1xuXG4gICAgICAgICAgICBpZiAoaXNMYXllcjNEKGxheWVySWQpKSB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIGFsbCAzRCBmZWF0dXJlcyB0aGF0IGFyZSBpbiBvciBhYm92ZSB0aGUgY3VycmVudCBsYXllclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBmZWF0dXJlczNELmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvcG1vc3QzRCA9IGZlYXR1cmVzM0RbaV0uZmVhdHVyZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVySW5kZXhbdG9wbW9zdDNELmxheWVyLmlkXSA8IGwpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5wdXNoKHRvcG1vc3QzRCk7XG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzM0QucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZVJlc3VsdCBvZiBzb3VyY2VSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyRmVhdHVyZXMgPSBzb3VyY2VSZXN1bHRbbGF5ZXJJZF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXllckZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZlYXR1cmVXcmFwcGVyIG9mIGxheWVyRmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5wdXNoKGZlYXR1cmVXcmFwcGVyLmZlYXR1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH1cblxuICAgIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhxdWVyeUdlb21ldHJ5OiBQb2ludExpa2UgfCBbUG9pbnRMaWtlLCBQb2ludExpa2VdLCBwYXJhbXM6IGFueSwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBBcnJheTxRdWVyeVJlc3VsdD4ge1xuICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlRmlsdGVyLCAncXVlcnlSZW5kZXJlZEZlYXR1cmVzLmZpbHRlcicsIHBhcmFtcy5maWx0ZXIsIG51bGwsIHBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmNsdWRlZFNvdXJjZXMgPSB7fTtcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFyYW1zLmxheWVycykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdwYXJhbWV0ZXJzLmxheWVycyBtdXN0IGJlIGFuIEFycmF5LicpKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBsYXllcklkIG9mIHBhcmFtcy5sYXllcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbGF5ZXIgaXMgbm90IGluIHRoZSBzdHlsZS5sYXllcnMgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2xheWVySWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBxdWVyaWVkIGZvciBmZWF0dXJlcy5gKSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluY2x1ZGVkU291cmNlc1tsYXllci5zb3VyY2VdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZVJlc3VsdHM6IEFycmF5PFF1ZXJ5UmVzdWx0PiA9IFtdO1xuXG4gICAgICAgIHBhcmFtcy5hdmFpbGFibGVJbWFnZXMgPSB0aGlzLl9hdmFpbGFibGVJbWFnZXM7XG5cbiAgICAgICAgY29uc3QgaGFzM0RMYXllciA9IChwYXJhbXMgJiYgcGFyYW1zLmxheWVycykgP1xuICAgICAgICAgICAgcGFyYW1zLmxheWVycy5zb21lKChsYXllcklkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsYXllciAmJiBsYXllci5pczNEKCk7XG4gICAgICAgICAgICB9KSA6XG4gICAgICAgICAgICB0aGlzLmhhczNETGF5ZXJzKCk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5R2VvbWV0cnlTdHJ1Y3QgPSBRdWVyeUdlb21ldHJ5LmNyZWF0ZUZyb21TY3JlZW5Qb2ludHMocXVlcnlHZW9tZXRyeSwgdHJhbnNmb3JtKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3NvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlSWQgPSB0aGlzLl9zb3VyY2VDYWNoZXNbaWRdLmdldFNvdXJjZSgpLmlkO1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5sYXllcnMgJiYgIWluY2x1ZGVkU291cmNlc1tzb3VyY2VJZF0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgc291cmNlUmVzdWx0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc291cmNlQ2FjaGVzW2lkXSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGF5ZXJzLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXJpYWxpemVkTGF5ZXJzLFxuICAgICAgICAgICAgICAgICAgICBxdWVyeUdlb21ldHJ5U3RydWN0LFxuICAgICAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgaGFzM0RMYXllcixcbiAgICAgICAgICAgICAgICAgICAgISF0aGlzLm1hcC5fc2hvd1F1ZXJ5R2VvbWV0cnkpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGxhY2VtZW50KSB7XG4gICAgICAgICAgICAvLyBJZiBhIHBsYWNlbWVudCBoYXMgcnVuLCBxdWVyeSBhZ2FpbnN0IGl0cyBDb2xsaXNpb25JbmRleFxuICAgICAgICAgICAgLy8gZm9yIHN5bWJvbCByZXN1bHRzLCBhbmQgdHJlYXQgaXQgYXMgYW4gZXh0cmEgc291cmNlIHRvIG1lcmdlXG4gICAgICAgICAgICBzb3VyY2VSZXN1bHRzLnB1c2goXG4gICAgICAgICAgICAgICAgcXVlcnlSZW5kZXJlZFN5bWJvbHMoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xheWVycyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VyaWFsaXplZExheWVycyxcbiAgICAgICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnlTdHJ1Y3Quc2NyZWVuR2VvbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnQuY29sbGlzaW9uSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxhY2VtZW50LnJldGFpbmVkUXVlcnlEYXRhKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAodGhpcy5fZmxhdHRlbkFuZFNvcnRSZW5kZXJlZEZlYXR1cmVzKHNvdXJjZVJlc3VsdHMpOiBhbnkpO1xuICAgIH1cblxuICAgIHF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlSUQ6IHN0cmluZywgcGFyYW1zOiA/e3NvdXJjZUxheWVyOiA/c3RyaW5nLCBmaWx0ZXI6ID9BcnJheTxhbnk+LCB2YWxpZGF0ZT86IGJvb2xlYW59KTogQXJyYXk8UXVlcnlGZWF0dXJlPiB7XG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmZpbHRlcikge1xuICAgICAgICAgICAgdGhpcy5fdmFsaWRhdGUodmFsaWRhdGVGaWx0ZXIsICdxdWVyeVNvdXJjZUZlYXR1cmVzLmZpbHRlcicsIHBhcmFtcy5maWx0ZXIsIG51bGwsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fZ2V0U291cmNlQ2FjaGVzKHNvdXJjZUlEKTtcbiAgICAgICAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VDYWNoZSBvZiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChxdWVyeVNvdXJjZUZlYXR1cmVzKHNvdXJjZUNhY2hlLCBwYXJhbXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cbiAgICBhZGRTb3VyY2VUeXBlKG5hbWU6IHN0cmluZywgU291cmNlVHlwZTogU291cmNlQ2xhc3MsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPik6IHZvaWQge1xuICAgICAgICBpZiAoU3R5bGUuZ2V0U291cmNlVHlwZShuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihgQSBzb3VyY2UgdHlwZSBjYWxsZWQgXCIke25hbWV9XCIgYWxyZWFkeSBleGlzdHMuYCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgU3R5bGUuc2V0U291cmNlVHlwZShuYW1lLCBTb3VyY2VUeXBlKTtcblxuICAgICAgICBpZiAoIVNvdXJjZVR5cGUud29ya2VyU291cmNlVVJMKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCdsb2FkV29ya2VyU291cmNlJywge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHVybDogU291cmNlVHlwZS53b3JrZXJTb3VyY2VVUkxcbiAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGdldExpZ2h0KCk6IExpZ2h0U3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpZ2h0LmdldExpZ2h0KCk7XG4gICAgfVxuXG4gICAgc2V0TGlnaHQobGlnaHRPcHRpb25zOiBMaWdodFNwZWNpZmljYXRpb24sIG9wdGlvbnM6IFN0eWxlU2V0dGVyT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgbGlnaHQgPSB0aGlzLmxpZ2h0LmdldExpZ2h0KCk7XG4gICAgICAgIGxldCBfdXBkYXRlID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGxpZ2h0T3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKCFkZWVwRXF1YWwobGlnaHRPcHRpb25zW2tleV0sIGxpZ2h0W2tleV0pKSB7XG4gICAgICAgICAgICAgICAgX3VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfdXBkYXRlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IHRoaXMuX3NldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjogMzAwLCBkZWxheTogMH0pO1xuXG4gICAgICAgIHRoaXMubGlnaHQuc2V0TGlnaHQobGlnaHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBnZXRUZXJyYWluKCk6ID9UZXJyYWluU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlcnJhaW4gJiYgdGhpcy50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZSA9PT0gRHJhcGVSZW5kZXJNb2RlLmVsZXZhdGVkID8gdGhpcy50ZXJyYWluLmdldCgpIDogbnVsbDtcbiAgICB9XG5cbiAgICBzZXRUZXJyYWluRm9yRHJhcGluZygpIHtcbiAgICAgICAgY29uc3QgbW9ja1RlcnJhaW5PcHRpb25zID0ge3NvdXJjZTogJycsIGV4YWdnZXJhdGlvbjogMH07XG4gICAgICAgIHRoaXMuc2V0VGVycmFpbihtb2NrVGVycmFpbk9wdGlvbnMsIERyYXBlUmVuZGVyTW9kZS5kZWZlcnJlZCk7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXdhcm5pbmctY29tbWVudHNcbiAgICAvLyBUT0RPOiBnZW5lcmljIGFwcHJvYWNoIGZvciByb290IGxldmVsIHByb3BlcnR5OiBsaWdodCwgdGVycmFpbiwgc2t5Ym94LlxuICAgIC8vIEl0IGlzIG5vdCBkb25lIGhlcmUgdG8gcHJldmVudCByZWJhc2luZyBpc3N1ZXMuXG4gICAgc2V0VGVycmFpbih0ZXJyYWluT3B0aW9uczogP1RlcnJhaW5TcGVjaWZpY2F0aW9uLCBkcmFwZVJlbmRlck1vZGU6IG51bWJlciA9IERyYXBlUmVuZGVyTW9kZS5lbGV2YXRlZCkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIC8vIERpc2FibGluZ1xuICAgICAgICBpZiAoIXRlcnJhaW5PcHRpb25zKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy50ZXJyYWluO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzaGVldC50ZXJyYWluO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnZW5hYmxlVGVycmFpbicsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuX2ZvcmNlM0RMYXllclVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fbWFya2Vyc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9wdGlvbnM6IFRlcnJhaW5TcGVjaWZpY2F0aW9uID0gdGVycmFpbk9wdGlvbnM7XG4gICAgICAgIGlmIChkcmFwZVJlbmRlck1vZGUgPT09IERyYXBlUmVuZGVyTW9kZS5lbGV2YXRlZCkge1xuICAgICAgICAgICAgLy8gSW5wdXQgdmFsaWRhdGlvbiBhbmQgc291cmNlIG9iamVjdCB1bnJvbGxpbmdcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zb3VyY2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSAndGVycmFpbi1kZW0tc3JjJztcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFNvdXJjZShpZCwgb3B0aW9ucy5zb3VyY2UpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBjbG9uZShvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gZXh0ZW5kKG9wdGlvbnMsIHtzb3VyY2U6IGlkfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVRlcnJhaW4sICd0ZXJyYWluJywgb3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbmFibGluZ1xuICAgICAgICBpZiAoIXRoaXMudGVycmFpbiB8fCAodGhpcy50ZXJyYWluICYmIGRyYXBlUmVuZGVyTW9kZSAhPT0gdGhpcy50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZSkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucykgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVGVycmFpbihvcHRpb25zLCBkcmFwZVJlbmRlck1vZGUpO1xuICAgICAgICB9IGVsc2UgeyAvLyBVcGRhdGluZ1xuICAgICAgICAgICAgY29uc3QgdGVycmFpbiA9IHRoaXMudGVycmFpbjtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJTcGVjID0gdGVycmFpbi5nZXQoKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKHN0eWxlU3BlYy50ZXJyYWluKSkge1xuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHVzZSBkZWZhdWx0IHN0eWxlIHNwZWNpZmljYXRpb24gd2hlbiB0aGUgcHJvcGVydGllcyB3YXNuJ3Qgc2V0XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KG5hbWUpICYmICEhc3R5bGVTcGVjLnRlcnJhaW5bbmFtZV0uZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW25hbWVdID0gc3R5bGVTcGVjLnRlcnJhaW5bbmFtZV0uZGVmYXVsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkZWVwRXF1YWwob3B0aW9uc1trZXldLCBjdXJyU3BlY1trZXldKSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXJyYWluLnNldChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4gPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gdGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOiAwfSk7XG4gICAgICAgICAgICAgICAgICAgIHRlcnJhaW4udXBkYXRlVHJhbnNpdGlvbnMocGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKTtcbiAgICAgICAgdGhpcy5fbWFya2Vyc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIF9jcmVhdGVGb2coZm9nT3B0aW9uczogRm9nU3BlY2lmaWNhdGlvbikge1xuICAgICAgICBjb25zdCBmb2cgPSB0aGlzLmZvZyA9IG5ldyBGb2coZm9nT3B0aW9ucywgdGhpcy5tYXAudHJhbnNmb3JtKTtcbiAgICAgICAgdGhpcy5zdHlsZXNoZWV0LmZvZyA9IGZvZ09wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSB0aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246IDB9KTtcbiAgICAgICAgZm9nLnVwZGF0ZVRyYW5zaXRpb25zKHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIF91cGRhdGVNYXJrZXJzT3BhY2l0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMubWFwLl9tYXJrZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFwLl9yZXF1ZXN0RG9tVGFzaygoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1hcmtlciBvZiB0aGlzLm1hcC5fbWFya2Vycykge1xuICAgICAgICAgICAgICAgIG1hcmtlci5fZXZhbHVhdGVPcGFjaXR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEZvZygpOiA/Rm9nU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvZyA/IHRoaXMuZm9nLmdldCgpIDogbnVsbDtcbiAgICB9XG5cbiAgICBzZXRGb2coZm9nT3B0aW9uczogRm9nU3BlY2lmaWNhdGlvbikge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGlmICghZm9nT3B0aW9ucykge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGZvZ1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZm9nO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzaGVldC5mb2c7XG4gICAgICAgICAgICB0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZm9nKSB7XG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIEZvZ1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlRm9nKGZvZ09wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVXBkYXRpbmcgZm9nXG4gICAgICAgICAgICBjb25zdCBmb2cgPSB0aGlzLmZvZztcbiAgICAgICAgICAgIGNvbnN0IGN1cnJTcGVjID0gZm9nLmdldCgpO1xuXG4gICAgICAgICAgICAvLyBlbXB0eSBvYmplY3Qgc2hvdWxkIHBhc3MgdGhyb3VnaCB0byBzZXQgZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhmb2dPcHRpb25zKS5sZW5ndGggPT09IDApIGZvZy5zZXQoZm9nT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGZvZ09wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRlZXBFcXVhbChmb2dPcHRpb25zW2tleV0sIGN1cnJTcGVjW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvZy5zZXQoZm9nT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVzaGVldC5mb2cgPSBmb2dPcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gdGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOiAwfSk7XG4gICAgICAgICAgICAgICAgICAgIGZvZy51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWFya2Vyc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIF9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh0cmFuc2l0aW9uT3B0aW9uczogT2JqZWN0KTogVHJhbnNpdGlvblBhcmFtZXRlcnMge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm93OiBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogZXh0ZW5kKFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25PcHRpb25zLFxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCkge1xuICAgICAgICBpZiAoIXRoaXMubWFwLl9vcHRpbWl6ZUZvclRlcnJhaW4gfHwgIXRoaXMudGVycmFpbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHJhcGVkID0gdGhpcy5fb3JkZXIuZmlsdGVyKChpZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNMYXllckRyYXBlZCh0aGlzLl9sYXllcnNbaWRdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgbm9uRHJhcGVkID0gdGhpcy5fb3JkZXIuZmlsdGVyKChpZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICF0aGlzLmlzTGF5ZXJEcmFwZWQodGhpcy5fbGF5ZXJzW2lkXSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kcmFwZWRGaXJzdE9yZGVyID0gW107XG4gICAgICAgIHRoaXMuX2RyYXBlZEZpcnN0T3JkZXIucHVzaCguLi5kcmFwZWQpO1xuICAgICAgICB0aGlzLl9kcmFwZWRGaXJzdE9yZGVyLnB1c2goLi4ubm9uRHJhcGVkKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlVGVycmFpbih0ZXJyYWluT3B0aW9uczogVGVycmFpblNwZWNpZmljYXRpb24sIGRyYXBlUmVuZGVyTW9kZTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHRlcnJhaW4gPSB0aGlzLnRlcnJhaW4gPSBuZXcgVGVycmFpbih0ZXJyYWluT3B0aW9ucywgZHJhcGVSZW5kZXJNb2RlKTtcbiAgICAgICAgdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4gPSB0ZXJyYWluT3B0aW9ucztcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnZW5hYmxlVGVycmFpbicsICF0aGlzLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpKTtcbiAgICAgICAgdGhpcy5fZm9yY2UzRExheWVyVXBkYXRlKCk7XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSB0aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246IDB9KTtcbiAgICAgICAgdGVycmFpbi51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBfZm9yY2UzRExheWVyVXBkYXRlKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgIGlmIChsYXllci50eXBlID09PSAnZmlsbC1leHRydXNpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2ZvcmNlU3ltYm9sTGF5ZXJVcGRhdGUoKSB7XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySWRdO1xuICAgICAgICAgICAgaWYgKGxheWVyLnR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3ZhbGlkYXRlKHZhbGlkYXRlOiBWYWxpZGF0b3IsIGtleTogc3RyaW5nLCB2YWx1ZTogYW55LCBwcm9wczogYW55LCBvcHRpb25zOiB7IHZhbGlkYXRlPzogYm9vbGVhbiB9ID0ge30pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy52YWxpZGF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcywgdmFsaWRhdGUuY2FsbCh2YWxpZGF0ZVN0eWxlLCBleHRlbmQoe1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgc3R5bGU6IHRoaXMuc2VyaWFsaXplKCksXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIHN0eWxlU3BlY1xuICAgICAgICB9LCBwcm9wcykpKTtcbiAgICB9XG5cbiAgICBfcmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdCkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdC5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zcHJpdGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9zcHJpdGVSZXF1ZXN0LmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5fc3ByaXRlUmVxdWVzdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcnRsVGV4dFBsdWdpbkV2ZW50ZWQub2ZmKCdwbHVnaW5TdGF0ZUNoYW5nZScsIHRoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjayk7XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyOiBTdHlsZUxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySWRdO1xuICAgICAgICAgICAgbGF5ZXIuc2V0RXZlbnRlZFBhcmVudChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3NvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlQ2FjaGVzW2lkXS5jbGVhclRpbGVzKCk7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VDYWNoZXNbaWRdLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudChudWxsKTtcbiAgICAgICAgdGhpcy5zZXRFdmVudGVkUGFyZW50KG51bGwpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgX2NsZWFyU291cmNlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fZ2V0U291cmNlQ2FjaGVzKGlkKTtcbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VDYWNoZSBvZiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLmNsZWFyVGlsZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZWxvYWRTb3VyY2UoaWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZXMgPSB0aGlzLl9nZXRTb3VyY2VDYWNoZXMoaWQpO1xuICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZUNhY2hlIG9mIHNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgc291cmNlQ2FjaGUucmVzdW1lKCk7XG4gICAgICAgICAgICBzb3VyY2VDYWNoZS5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZWxvYWRTb3VyY2VzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZSBvZiB0aGlzLl9nZXRTb3VyY2VzKCkpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UucmVsb2FkKSB7XG4gICAgICAgICAgICAgICAgc291cmNlLnJlbG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVNvdXJjZXModHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZUNhY2hlc1tpZF0udXBkYXRlKHRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlLnJlc3VtZSgpO1xuICAgICAgICAgICAgc291cmNlQ2FjaGUucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlUGxhY2VtZW50KHRyYW5zZm9ybTogVHJhbnNmb3JtLCBzaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW4sIGZhZGVEdXJhdGlvbjogbnVtYmVyLCBjcm9zc1NvdXJjZUNvbGxpc2lvbnM6IGJvb2xlYW4sIGZvcmNlRnVsbFBsYWNlbWVudDogYm9vbGVhbiA9IGZhbHNlKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBzeW1ib2xCdWNrZXRzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgcGxhY2VtZW50Q29tbWl0dGVkID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgbGF5ZXJUaWxlcyA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJRCBvZiB0aGlzLl9vcmRlcikge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVMYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklEXTtcbiAgICAgICAgICAgIGlmIChzdHlsZUxheWVyLnR5cGUgIT09ICdzeW1ib2wnKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKCFsYXllclRpbGVzW3N0eWxlTGF5ZXIuc291cmNlXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShzdHlsZUxheWVyKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNvdXJjZUNhY2hlKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBsYXllclRpbGVzW3N0eWxlTGF5ZXIuc291cmNlXSA9IHNvdXJjZUNhY2hlLmdldFJlbmRlcmFibGVJZHModHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaWQpID0+IHNvdXJjZUNhY2hlLmdldFRpbGVCeUlEKGlkKSlcbiAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IChiLnRpbGVJRC5vdmVyc2NhbGVkWiAtIGEudGlsZUlELm92ZXJzY2FsZWRaKSB8fCAoYS50aWxlSUQuaXNMZXNzVGhhbihiLnRpbGVJRCkgPyAtMSA6IDEpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbGF5ZXJCdWNrZXRzQ2hhbmdlZCA9IHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXguYWRkTGF5ZXIoc3R5bGVMYXllciwgbGF5ZXJUaWxlc1tzdHlsZUxheWVyLnNvdXJjZV0sIHRyYW5zZm9ybS5jZW50ZXIubG5nLCB0cmFuc2Zvcm0ucHJvamVjdGlvbik7XG4gICAgICAgICAgICBzeW1ib2xCdWNrZXRzQ2hhbmdlZCA9IHN5bWJvbEJ1Y2tldHNDaGFuZ2VkIHx8IGxheWVyQnVja2V0c0NoYW5nZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5wcnVuZVVudXNlZExheWVycyh0aGlzLl9vcmRlcik7XG5cbiAgICAgICAgLy8gQW55dGhpbmcgdGhhdCBjaGFuZ2VzIG91ciBcImluIHByb2dyZXNzXCIgbGF5ZXIgYW5kIHRpbGUgaW5kaWNlcyByZXF1aXJlcyB1c1xuICAgICAgICAvLyB0byBzdGFydCBvdmVyLiBXaGVuIHdlIHN0YXJ0IG92ZXIsIHdlIGRvIGEgZnVsbCBwbGFjZW1lbnQgaW5zdGVhZCBvZiBpbmNyZW1lbnRhbFxuICAgICAgICAvLyB0byBwcmV2ZW50IHN0YXJ2YXRpb24uXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gcmVzdGFydCBwbGFjZW1lbnQgdG8ga2VlcCBsYXllciBpbmRpY2VzIGluIHN5bmMuXG4gICAgICAgIC8vIEFsc28gZm9yY2UgZnVsbCBwbGFjZW1lbnQgd2hlbiBmYWRlRHVyYXRpb24gPT09IDAgdG8gZW5zdXJlIHRoYXQgbmV3bHkgbG9hZGVkXG4gICAgICAgIC8vIHRpbGVzIHdpbGwgZnVsbHkgZGlzcGxheSBzeW1ib2xzIGluIHRoZWlyIGZpcnN0IGZyYW1lXG4gICAgICAgIGZvcmNlRnVsbFBsYWNlbWVudCA9IGZvcmNlRnVsbFBsYWNlbWVudCB8fCB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCB8fCBmYWRlRHVyYXRpb24gPT09IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCduZXdvcmRlcicpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3JjZUZ1bGxQbGFjZW1lbnQgfHwgIXRoaXMucGF1c2VhYmxlUGxhY2VtZW50IHx8ICh0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSAmJiAhdGhpcy5wbGFjZW1lbnQuc3RpbGxSZWNlbnQoYnJvd3Nlci5ub3coKSwgdHJhbnNmb3JtLnpvb20pKSkge1xuICAgICAgICAgICAgY29uc3QgZm9nU3RhdGUgPSB0aGlzLmZvZyAmJiB0cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZyA/IHRoaXMuZm9nLnN0YXRlIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGF1c2VhYmxlUGxhY2VtZW50ID0gbmV3IFBhdXNlYWJsZVBsYWNlbWVudCh0cmFuc2Zvcm0sIHRoaXMuX29yZGVyLCBmb3JjZUZ1bGxQbGFjZW1lbnQsIHNob3dDb2xsaXNpb25Cb3hlcywgZmFkZUR1cmF0aW9uLCBjcm9zc1NvdXJjZUNvbGxpc2lvbnMsIHRoaXMucGxhY2VtZW50LCBmb2dTdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpKSB7XG4gICAgICAgICAgICAvLyB0aGUgbGFzdCBwbGFjZW1lbnQgZmluaXNoZWQgcnVubmluZywgYnV0IHRoZSBuZXh0IG9uZSBoYXNu4oCZdFxuICAgICAgICAgICAgLy8gc3RhcnRlZCB5ZXQgYmVjYXVzZSBvZiB0aGUgYHN0aWxsUmVjZW50YCBjaGVjayBpbW1lZGlhdGVseVxuICAgICAgICAgICAgLy8gYWJvdmUsIHNvIG1hcmsgaXQgc3RhbGUgdG8gZW5zdXJlIHRoYXQgd2UgcmVxdWVzdCBhbm90aGVyXG4gICAgICAgICAgICAvLyByZW5kZXIgZnJhbWVcbiAgICAgICAgICAgIHRoaXMucGxhY2VtZW50LnNldFN0YWxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb250aW51ZVBsYWNlbWVudCh0aGlzLl9vcmRlciwgdGhpcy5fbGF5ZXJzLCBsYXllclRpbGVzKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnQgPSB0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb21taXQoYnJvd3Nlci5ub3coKSk7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50Q29tbWl0dGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN5bWJvbEJ1Y2tldHNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIHBsYWNlbWVudCBnZXRzIHNwbGl0IG92ZXIgbXVsdGlwbGUgZnJhbWVzIGl0IGlzIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgLy8gdGhlc2UgYnVja2V0cyB3ZXJlIHByb2Nlc3NlZCBiZWZvcmUgdGhleSB3ZXJlIGNoYW5nZWQgYW5kIHNvIHRoZVxuICAgICAgICAgICAgICAgIC8vIHBsYWNlbWVudCBpcyBhbHJlYWR5IHN0YWxlIHdoaWxlIGl0IGlzIGluIHByb2dyZXNzXG4gICAgICAgICAgICAgICAgdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQucGxhY2VtZW50LnNldFN0YWxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGxhY2VtZW50Q29tbWl0dGVkIHx8IHN5bWJvbEJ1Y2tldHNDaGFuZ2VkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxheWVySUQgb2YgdGhpcy5fb3JkZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZUxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySURdO1xuICAgICAgICAgICAgICAgIGlmIChzdHlsZUxheWVyLnR5cGUgIT09ICdzeW1ib2wnKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlbWVudC51cGRhdGVMYXllck9wYWNpdGllcyhzdHlsZUxheWVyLCBsYXllclRpbGVzW3N0eWxlTGF5ZXIuc291cmNlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBuZWVkc1JlbmRlciBpcyBmYWxzZSB3aGVuIHdlIGhhdmUganVzdCBmaW5pc2hlZCBhIHBsYWNlbWVudCB0aGF0IGRpZG4ndCBjaGFuZ2UgdGhlIHZpc2liaWxpdHkgb2YgYW55IHN5bWJvbHNcbiAgICAgICAgY29uc3QgbmVlZHNSZXJlbmRlciA9ICF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSB8fCB0aGlzLnBsYWNlbWVudC5oYXNUcmFuc2l0aW9ucyhicm93c2VyLm5vdygpKTtcbiAgICAgICAgcmV0dXJuIG5lZWRzUmVyZW5kZXI7XG4gICAgfVxuXG4gICAgX3JlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VDYWNoZXNbaWRdLnJlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENhbGxiYWNrcyBmcm9tIHdlYiB3b3JrZXJzXG5cbiAgICBnZXRJbWFnZXMobWFwSWQ6IHN0cmluZywgcGFyYW1zOiB7aWNvbnM6IEFycmF5PHN0cmluZz4sIHNvdXJjZTogc3RyaW5nLCB0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHR5cGU6IHN0cmluZ30sIGNhbGxiYWNrOiBDYWxsYmFjazx7W186IHN0cmluZ106IFN0eWxlSW1hZ2V9Pikge1xuXG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLmdldEltYWdlcyhwYXJhbXMuaWNvbnMsIGNhbGxiYWNrKTtcblxuICAgICAgICAvLyBBcHBseSBxdWV1ZWQgaW1hZ2UgY2hhbmdlcyBiZWZvcmUgc2V0dGluZyB0aGUgdGlsZSdzIGRlcGVuZGVuY2llcyBzbyB0aGF0IHRoZSB0aWxlXG4gICAgICAgIC8vIGlzIG5vdCByZWxvYWRlZCB1bmVjZXNzYXJpbHkuIFdpdGhvdXQgdGhpcyBmb3JjZWQgdXBkYXRlIHRoZSByZWxvYWQgY291bGQgaGFwcGVuIGluIGNhc2VzXG4gICAgICAgIC8vIGxpa2UgdGhpcyBvbmU6XG4gICAgICAgIC8vIC0gaWNvbnMgY29udGFpbnMgXCJteS1pbWFnZVwiXG4gICAgICAgIC8vIC0gaW1hZ2VNYW5hZ2VyLmdldEltYWdlcyguLi4pIHRyaWdnZXJzIGBvbnN0eWxlaW1hZ2VtaXNzaW5nYFxuICAgICAgICAvLyAtIHRoZSB1c2VyIGFkZHMgXCJteS1pbWFnZVwiIHdpdGhpbiB0aGUgY2FsbGJhY2tcbiAgICAgICAgLy8gLSBhZGRJbWFnZSBhZGRzIFwibXktaW1hZ2VcIiB0byB0aGlzLl9jaGFuZ2VkSW1hZ2VzXG4gICAgICAgIC8vIC0gdGhlIG5leHQgZnJhbWUgdHJpZ2dlcnMgYSByZWxvYWQgb2YgdGhpcyB0aWxlIGV2ZW4gdGhvdWdoIGl0IGFscmVhZHkgaGFzIHRoZSBsYXRlc3QgdmVyc2lvblxuICAgICAgICB0aGlzLl91cGRhdGVUaWxlc0ZvckNoYW5nZWRJbWFnZXMoKTtcblxuICAgICAgICBjb25zdCBzZXREZXBlbmRlbmNpZXMgPSAoc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlKSA9PiB7XG4gICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VDYWNoZS5zZXREZXBlbmRlbmNpZXMocGFyYW1zLnRpbGVJRC5rZXksIHBhcmFtcy50eXBlLCBwYXJhbXMuaWNvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZXREZXBlbmRlbmNpZXModGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbcGFyYW1zLnNvdXJjZV0pO1xuICAgICAgICBzZXREZXBlbmRlbmNpZXModGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW3BhcmFtcy5zb3VyY2VdKTtcbiAgICB9XG5cbiAgICBnZXRHbHlwaHMobWFwSWQ6IHN0cmluZywgcGFyYW1zOiB7c3RhY2tzOiB7W186IHN0cmluZ106IEFycmF5PG51bWJlcj59fSwgY2FsbGJhY2s6IENhbGxiYWNrPHtbXzogc3RyaW5nXToge2dseXBoczoge1tfOiBudW1iZXJdOiA/U3R5bGVHbHlwaH0sIGFzY2VuZGVyPzogbnVtYmVyLCBkZXNjZW5kZXI/OiBudW1iZXJ9fT4pIHtcbiAgICAgICAgdGhpcy5nbHlwaE1hbmFnZXIuZ2V0R2x5cGhzKHBhcmFtcy5zdGFja3MsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBnZXRSZXNvdXJjZShtYXBJZDogc3RyaW5nLCBwYXJhbXM6IFJlcXVlc3RQYXJhbWV0ZXJzLCBjYWxsYmFjazogUmVzcG9uc2VDYWxsYmFjazxhbnk+KTogQ2FuY2VsYWJsZSB7XG4gICAgICAgIHJldHVybiBtYWtlUmVxdWVzdChwYXJhbXMsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBfZ2V0U291cmNlQ2FjaGUoc291cmNlOiBzdHJpbmcpOiBTb3VyY2VDYWNoZSB8IHZvaWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbc291cmNlXTtcbiAgICB9XG5cbiAgICBfZ2V0TGF5ZXJTb3VyY2VDYWNoZShsYXllcjogU3R5bGVMYXllcik6IFNvdXJjZUNhY2hlIHwgdm9pZCB7XG4gICAgICAgIHJldHVybiBsYXllci50eXBlID09PSAnc3ltYm9sJyA/XG4gICAgICAgICAgICB0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXSA6XG4gICAgICAgICAgICB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tsYXllci5zb3VyY2VdO1xuICAgIH1cblxuICAgIF9nZXRTb3VyY2VDYWNoZXMoc291cmNlOiBzdHJpbmcpOiBBcnJheTxTb3VyY2VDYWNoZT4ge1xuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZXMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuX290aGVyU291cmNlQ2FjaGVzW3NvdXJjZV0pIHtcbiAgICAgICAgICAgIHNvdXJjZUNhY2hlcy5wdXNoKHRoaXMuX290aGVyU291cmNlQ2FjaGVzW3NvdXJjZV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbc291cmNlXSkge1xuICAgICAgICAgICAgc291cmNlQ2FjaGVzLnB1c2godGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW3NvdXJjZV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2VDYWNoZXM7XG4gICAgfVxuXG4gICAgX2lzU291cmNlQ2FjaGVMb2FkZWQoc291cmNlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fZ2V0U291cmNlQ2FjaGVzKHNvdXJjZSk7XG4gICAgICAgIGlmIChzb3VyY2VDYWNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCBJRCAnJHtzb3VyY2V9J2ApKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZUNhY2hlcy5ldmVyeShzYyA9PiBzYy5sb2FkZWQoKSk7XG4gICAgfVxuXG4gICAgaGFzM0RMYXllcnMoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9udW0zRExheWVycyA+IDA7XG4gICAgfVxuXG4gICAgaGFzU3ltYm9sTGF5ZXJzKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbnVtU3ltYm9sTGF5ZXJzID4gMDtcbiAgICB9XG5cbiAgICBoYXNDaXJjbGVMYXllcnMoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9udW1DaXJjbGVMYXllcnMgPiAwO1xuICAgIH1cblxuICAgIF9jbGVhcldvcmtlckNhY2hlcygpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnY2xlYXJDYWNoZXMnKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9jbGVhcldvcmtlckNhY2hlcygpO1xuICAgICAgICBpZiAodGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMudGVycmFpbjtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQudGVycmFpbjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuU3R5bGUuZ2V0U291cmNlVHlwZSA9IGdldFNvdXJjZVR5cGU7XG5TdHlsZS5zZXRTb3VyY2VUeXBlID0gc2V0U291cmNlVHlwZTtcblN0eWxlLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2UgPSByZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlO1xuXG5leHBvcnQgZGVmYXVsdCBTdHlsZTtcbiIsIi8vIEBmbG93XG5pbXBvcnQgdHlwZSB7U3R5bGVTcGVjaWZpY2F0aW9ufSBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZW1wdHlTdHlsZSgpOiBTdHlsZVNwZWNpZmljYXRpb24ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHZlcnNpb246IDgsXG4gICAgICAgIGxheWVyczogW10sXG4gICAgICAgIHNvdXJjZXM6IHt9XG4gICAgfTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7Z2V0SlNPTiwgZ2V0SW1hZ2UsIFJlc291cmNlVHlwZX0gZnJvbSAnLi4vdXRpbC9hamF4LmpzJztcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCB7UkdCQUltYWdlfSBmcm9tICcuLi91dGlsL2ltYWdlLmpzJztcblxuaW1wb3J0IHR5cGUge1N0eWxlSW1hZ2V9IGZyb20gJy4vc3R5bGVfaW1hZ2UuanMnO1xuaW1wb3J0IHR5cGUge1JlcXVlc3RNYW5hZ2VyfSBmcm9tICcuLi91dGlsL21hcGJveC5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrLmpzJztcbmltcG9ydCB0eXBlIHtDYW5jZWxhYmxlfSBmcm9tICcuLi90eXBlcy9jYW5jZWxhYmxlLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYmFzZVVSTDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TWFuYWdlcjogUmVxdWVzdE1hbmFnZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBDYWxsYmFjazx7W186IHN0cmluZ106IFN0eWxlSW1hZ2V9Pik6IENhbmNlbGFibGUge1xuICAgIGxldCBqc29uOiBhbnksIGltYWdlLCBlcnJvcjtcbiAgICBjb25zdCBmb3JtYXQgPSBicm93c2VyLmRldmljZVBpeGVsUmF0aW8gPiAxID8gJ0AyeCcgOiAnJztcblxuICAgIGxldCBqc29uUmVxdWVzdDogP0NhbmNlbGFibGUgPSBnZXRKU09OKHJlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QocmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU3ByaXRlVVJMKGJhc2VVUkwsIGZvcm1hdCwgJy5qc29uJyksIFJlc291cmNlVHlwZS5TcHJpdGVKU09OKSwgKGVycjogP0Vycm9yLCBkYXRhOiA/T2JqZWN0KSA9PiB7XG4gICAgICAgIGpzb25SZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICAgICAgICBqc29uID0gZGF0YTtcbiAgICAgICAgICAgIG1heWJlQ29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IGltYWdlUmVxdWVzdDogP0NhbmNlbGFibGUgPSBnZXRJbWFnZShyZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHJlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVNwcml0ZVVSTChiYXNlVVJMLCBmb3JtYXQsICcucG5nJyksIFJlc291cmNlVHlwZS5TcHJpdGVJbWFnZSksIChlcnIsIGltZykgPT4ge1xuICAgICAgICBpbWFnZVJlcXVlc3QgPSBudWxsO1xuICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgICAgICAgIGltYWdlID0gaW1nO1xuICAgICAgICAgICAgbWF5YmVDb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBtYXliZUNvbXBsZXRlKCkge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmIChqc29uICYmIGltYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBicm93c2VyLmdldEltYWdlRGF0YShpbWFnZSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiBqc29uKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHQsIHgsIHksIHNkZiwgcGl4ZWxSYXRpbywgc3RyZXRjaFgsIHN0cmV0Y2hZLCBjb250ZW50fSA9IGpzb25baWRdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgUkdCQUltYWdlKHt3aWR0aCwgaGVpZ2h0fSk7XG4gICAgICAgICAgICAgICAgUkdCQUltYWdlLmNvcHkoaW1hZ2VEYXRhLCBkYXRhLCB7eCwgeX0sIHt4OiAwLCB5OiAwfSwge3dpZHRoLCBoZWlnaHR9KTtcbiAgICAgICAgICAgICAgICByZXN1bHRbaWRdID0ge2RhdGEsIHBpeGVsUmF0aW8sIHNkZiwgc3RyZXRjaFgsIHN0cmV0Y2hZLCBjb250ZW50fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNhbmNlbCgpIHtcbiAgICAgICAgICAgIGlmIChqc29uUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIGpzb25SZXF1ZXN0LmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIGpzb25SZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbWFnZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICBpbWFnZVJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgaW1hZ2VSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG4iLCJcbi8vIERpc2FibGUgRmxvdyBhbm5vdGF0aW9ucyBoZXJlIGJlY2F1c2UgRmxvdyBkb2Vzbid0IHN1cHBvcnQgaW1wb3J0aW5nIEdMU0wgZmlsZXNcbi8qIGVzbGludC1kaXNhYmxlIGZsb3d0eXBlL3JlcXVpcmUtdmFsaWQtZmlsZS1hbm5vdGF0aW9uICovXG5cbmltcG9ydCBwcmVsdWRlQ29tbW9uIGZyb20gJy4vX3ByZWx1ZGUuZ2xzbCc7XG5pbXBvcnQgcHJlbHVkZUZyYWcgZnJvbSAnLi9fcHJlbHVkZS5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBwcmVsdWRlVmVydCBmcm9tICcuL19wcmVsdWRlLnZlcnRleC5nbHNsJztcbmltcG9ydCBiYWNrZ3JvdW5kRnJhZyBmcm9tICcuL2JhY2tncm91bmQuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgYmFja2dyb3VuZFZlcnQgZnJvbSAnLi9iYWNrZ3JvdW5kLnZlcnRleC5nbHNsJztcbmltcG9ydCBiYWNrZ3JvdW5kUGF0dGVybkZyYWcgZnJvbSAnLi9iYWNrZ3JvdW5kX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgYmFja2dyb3VuZFBhdHRlcm5WZXJ0IGZyb20gJy4vYmFja2dyb3VuZF9wYXR0ZXJuLnZlcnRleC5nbHNsJztcbmltcG9ydCBjaXJjbGVGcmFnIGZyb20gJy4vY2lyY2xlLmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IGNpcmNsZVZlcnQgZnJvbSAnLi9jaXJjbGUudmVydGV4Lmdsc2wnO1xuaW1wb3J0IGNsaXBwaW5nTWFza0ZyYWcgZnJvbSAnLi9jbGlwcGluZ19tYXNrLmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IGNsaXBwaW5nTWFza1ZlcnQgZnJvbSAnLi9jbGlwcGluZ19tYXNrLnZlcnRleC5nbHNsJztcbmltcG9ydCBoZWF0bWFwRnJhZyBmcm9tICcuL2hlYXRtYXAuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgaGVhdG1hcFZlcnQgZnJvbSAnLi9oZWF0bWFwLnZlcnRleC5nbHNsJztcbmltcG9ydCBoZWF0bWFwVGV4dHVyZUZyYWcgZnJvbSAnLi9oZWF0bWFwX3RleHR1cmUuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgaGVhdG1hcFRleHR1cmVWZXJ0IGZyb20gJy4vaGVhdG1hcF90ZXh0dXJlLnZlcnRleC5nbHNsJztcbmltcG9ydCBjb2xsaXNpb25Cb3hGcmFnIGZyb20gJy4vY29sbGlzaW9uX2JveC5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBjb2xsaXNpb25Cb3hWZXJ0IGZyb20gJy4vY29sbGlzaW9uX2JveC52ZXJ0ZXguZ2xzbCc7XG5pbXBvcnQgY29sbGlzaW9uQ2lyY2xlRnJhZyBmcm9tICcuL2NvbGxpc2lvbl9jaXJjbGUuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgY29sbGlzaW9uQ2lyY2xlVmVydCBmcm9tICcuL2NvbGxpc2lvbl9jaXJjbGUudmVydGV4Lmdsc2wnO1xuaW1wb3J0IGRlYnVnRnJhZyBmcm9tICcuL2RlYnVnLmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IGRlYnVnVmVydCBmcm9tICcuL2RlYnVnLnZlcnRleC5nbHNsJztcbmltcG9ydCBmaWxsRnJhZyBmcm9tICcuL2ZpbGwuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgZmlsbFZlcnQgZnJvbSAnLi9maWxsLnZlcnRleC5nbHNsJztcbmltcG9ydCBmaWxsT3V0bGluZUZyYWcgZnJvbSAnLi9maWxsX291dGxpbmUuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgZmlsbE91dGxpbmVWZXJ0IGZyb20gJy4vZmlsbF9vdXRsaW5lLnZlcnRleC5nbHNsJztcbmltcG9ydCBmaWxsT3V0bGluZVBhdHRlcm5GcmFnIGZyb20gJy4vZmlsbF9vdXRsaW5lX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgZmlsbE91dGxpbmVQYXR0ZXJuVmVydCBmcm9tICcuL2ZpbGxfb3V0bGluZV9wYXR0ZXJuLnZlcnRleC5nbHNsJztcbmltcG9ydCBmaWxsUGF0dGVybkZyYWcgZnJvbSAnLi9maWxsX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgZmlsbFBhdHRlcm5WZXJ0IGZyb20gJy4vZmlsbF9wYXR0ZXJuLnZlcnRleC5nbHNsJztcbmltcG9ydCBmaWxsRXh0cnVzaW9uRnJhZyBmcm9tICcuL2ZpbGxfZXh0cnVzaW9uLmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IGZpbGxFeHRydXNpb25WZXJ0IGZyb20gJy4vZmlsbF9leHRydXNpb24udmVydGV4Lmdsc2wnO1xuaW1wb3J0IGZpbGxFeHRydXNpb25QYXR0ZXJuRnJhZyBmcm9tICcuL2ZpbGxfZXh0cnVzaW9uX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgZmlsbEV4dHJ1c2lvblBhdHRlcm5WZXJ0IGZyb20gJy4vZmlsbF9leHRydXNpb25fcGF0dGVybi52ZXJ0ZXguZ2xzbCc7XG5pbXBvcnQgaGlsbHNoYWRlUHJlcGFyZUZyYWcgZnJvbSAnLi9oaWxsc2hhZGVfcHJlcGFyZS5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBoaWxsc2hhZGVQcmVwYXJlVmVydCBmcm9tICcuL2hpbGxzaGFkZV9wcmVwYXJlLnZlcnRleC5nbHNsJztcbmltcG9ydCBoaWxsc2hhZGVGcmFnIGZyb20gJy4vaGlsbHNoYWRlLmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IGhpbGxzaGFkZVZlcnQgZnJvbSAnLi9oaWxsc2hhZGUudmVydGV4Lmdsc2wnO1xuaW1wb3J0IGxpbmVGcmFnIGZyb20gJy4vbGluZS5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBsaW5lVmVydCBmcm9tICcuL2xpbmUudmVydGV4Lmdsc2wnO1xuaW1wb3J0IGxpbmVQYXR0ZXJuRnJhZyBmcm9tICcuL2xpbmVfcGF0dGVybi5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBsaW5lUGF0dGVyblZlcnQgZnJvbSAnLi9saW5lX3BhdHRlcm4udmVydGV4Lmdsc2wnO1xuaW1wb3J0IHJhc3RlckZyYWcgZnJvbSAnLi9yYXN0ZXIuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgcmFzdGVyVmVydCBmcm9tICcuL3Jhc3Rlci52ZXJ0ZXguZ2xzbCc7XG5pbXBvcnQgc3ltYm9sSWNvbkZyYWcgZnJvbSAnLi9zeW1ib2xfaWNvbi5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBzeW1ib2xJY29uVmVydCBmcm9tICcuL3N5bWJvbF9pY29uLnZlcnRleC5nbHNsJztcbmltcG9ydCBzeW1ib2xTREZGcmFnIGZyb20gJy4vc3ltYm9sX3NkZi5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBzeW1ib2xTREZWZXJ0IGZyb20gJy4vc3ltYm9sX3NkZi52ZXJ0ZXguZ2xzbCc7XG5pbXBvcnQgc3ltYm9sVGV4dEFuZEljb25GcmFnIGZyb20gJy4vc3ltYm9sX3RleHRfYW5kX2ljb24uZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgc3ltYm9sVGV4dEFuZEljb25WZXJ0IGZyb20gJy4vc3ltYm9sX3RleHRfYW5kX2ljb24udmVydGV4Lmdsc2wnO1xuaW1wb3J0IHNreWJveEZyYWcgZnJvbSAnLi9za3lib3guZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgc2t5Ym94R3JhZGllbnRGcmFnIGZyb20gJy4vc2t5Ym94X2dyYWRpZW50LmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IHNreWJveFZlcnQgZnJvbSAnLi9za3lib3gudmVydGV4Lmdsc2wnO1xuaW1wb3J0IHRlcnJhaW5SYXN0ZXJGcmFnIGZyb20gJy4vdGVycmFpbl9yYXN0ZXIuZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgdGVycmFpblJhc3RlclZlcnQgZnJvbSAnLi90ZXJyYWluX3Jhc3Rlci52ZXJ0ZXguZ2xzbCc7XG5pbXBvcnQgdGVycmFpbkRlcHRoRnJhZyBmcm9tICcuL3RlcnJhaW5fZGVwdGguZnJhZ21lbnQuZ2xzbCc7XG5pbXBvcnQgdGVycmFpbkRlcHRoVmVydCBmcm9tICcuL3RlcnJhaW5fZGVwdGgudmVydGV4Lmdsc2wnO1xuaW1wb3J0IHByZWx1ZGVUZXJyYWluVmVydCBmcm9tICcuL19wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2wnO1xuaW1wb3J0IHByZWx1ZGVGb2dWZXJ0IGZyb20gJy4vX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsJztcbmltcG9ydCBwcmVsdWRlRm9nRnJhZyBmcm9tICcuL19wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBza3lib3hDYXB0dXJlRnJhZyBmcm9tICcuL3NreWJveF9jYXB0dXJlLmZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IHNreWJveENhcHR1cmVWZXJ0IGZyb20gJy4vc2t5Ym94X2NhcHR1cmUudmVydGV4Lmdsc2wnO1xuaW1wb3J0IGdsb2JlRnJhZyBmcm9tICcuL2dsb2JlX3Jhc3Rlci5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBnbG9iZVZlcnQgZnJvbSAnLi9nbG9iZV9yYXN0ZXIudmVydGV4Lmdsc2wnO1xuaW1wb3J0IGF0bW9zcGhlcmVGcmFnIGZyb20gJy4vYXRtb3NwaGVyZS5mcmFnbWVudC5nbHNsJztcbmltcG9ydCBhdG1vc3BoZXJlVmVydCBmcm9tICcuL2F0bW9zcGhlcmUudmVydGV4Lmdsc2wnO1xuXG5leHBvcnQgbGV0IHByZWx1ZGVUZXJyYWluID0ge307XG5leHBvcnQgbGV0IHByZWx1ZGVGb2cgPSB7fTtcblxuY29uc3QgY29tbW9uRGVmaW5lcyA9IFtdO1xucGFyc2VVc2VkUHJlcHJvY2Vzc29yRGVmaW5lcyhwcmVsdWRlQ29tbW9uLCBjb21tb25EZWZpbmVzKTtcbnBhcnNlVXNlZFByZXByb2Nlc3NvckRlZmluZXMocHJlbHVkZVRlcnJhaW5WZXJ0LCBjb21tb25EZWZpbmVzKTtcbnBhcnNlVXNlZFByZXByb2Nlc3NvckRlZmluZXMocHJlbHVkZUZvZ1ZlcnQsIGNvbW1vbkRlZmluZXMpO1xucGFyc2VVc2VkUHJlcHJvY2Vzc29yRGVmaW5lcyhwcmVsdWRlRm9nRnJhZywgY29tbW9uRGVmaW5lcyk7XG5cbnByZWx1ZGVUZXJyYWluID0gY29tcGlsZSgnJywgcHJlbHVkZVRlcnJhaW5WZXJ0KTtcbnByZWx1ZGVGb2cgPSBjb21waWxlKHByZWx1ZGVGb2dGcmFnLCBwcmVsdWRlRm9nVmVydCk7XG4vLyBTaGFkb3cgcHJlbHVkZSBpcyBub3QgY29tcGlsZWQgdW50aWwgR0wtSlMgaW1wbGVtZW50cyBzaGFkb3dzXG5cbmV4cG9ydCBjb25zdCBwcmVsdWRlID0gY29tcGlsZShwcmVsdWRlRnJhZywgcHJlbHVkZVZlcnQpO1xuZXhwb3J0IGNvbnN0IHByZWx1ZGVDb21tb25Tb3VyY2UgPSBwcmVsdWRlQ29tbW9uO1xuXG5leHBvcnQgY29uc3QgcHJlbHVkZVZlcnRQcmVjaXNpb25RdWFsaWZpZXJzID0gYFxuI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4jZWxzZVxuXG4jaWYgIWRlZmluZWQobG93cClcbiNkZWZpbmUgbG93cFxuI2VuZGlmXG5cbiNpZiAhZGVmaW5lZChtZWRpdW1wKVxuI2RlZmluZSBtZWRpdW1wXG4jZW5kaWZcblxuI2lmICFkZWZpbmVkKGhpZ2hwKVxuI2RlZmluZSBoaWdocFxuI2VuZGlmXG5cbiNlbmRpZmA7XG5leHBvcnQgY29uc3QgcHJlbHVkZUZyYWdQcmVjaXNpb25RdWFsaWZpZXJzID0gYFxuI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbiNlbHNlXG5cbiNpZiAhZGVmaW5lZChsb3dwKVxuI2RlZmluZSBsb3dwXG4jZW5kaWZcblxuI2lmICFkZWZpbmVkKG1lZGl1bXApXG4jZGVmaW5lIG1lZGl1bXBcbiNlbmRpZlxuXG4jaWYgIWRlZmluZWQoaGlnaHApXG4jZGVmaW5lIGhpZ2hwXG4jZW5kaWZcblxuI2VuZGlmYDtcblxuZXhwb3J0IGNvbnN0IHN0YW5kYXJkRGVyaXZhdGl2ZXNFeHQgPSAnI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGVcXG4nO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgYmFja2dyb3VuZDogY29tcGlsZShiYWNrZ3JvdW5kRnJhZywgYmFja2dyb3VuZFZlcnQpLFxuICAgIGJhY2tncm91bmRQYXR0ZXJuOiBjb21waWxlKGJhY2tncm91bmRQYXR0ZXJuRnJhZywgYmFja2dyb3VuZFBhdHRlcm5WZXJ0KSxcbiAgICBjaXJjbGU6IGNvbXBpbGUoY2lyY2xlRnJhZywgY2lyY2xlVmVydCksXG4gICAgY2xpcHBpbmdNYXNrOiBjb21waWxlKGNsaXBwaW5nTWFza0ZyYWcsIGNsaXBwaW5nTWFza1ZlcnQpLFxuICAgIGhlYXRtYXA6IGNvbXBpbGUoaGVhdG1hcEZyYWcsIGhlYXRtYXBWZXJ0KSxcbiAgICBoZWF0bWFwVGV4dHVyZTogY29tcGlsZShoZWF0bWFwVGV4dHVyZUZyYWcsIGhlYXRtYXBUZXh0dXJlVmVydCksXG4gICAgY29sbGlzaW9uQm94OiBjb21waWxlKGNvbGxpc2lvbkJveEZyYWcsIGNvbGxpc2lvbkJveFZlcnQpLFxuICAgIGNvbGxpc2lvbkNpcmNsZTogY29tcGlsZShjb2xsaXNpb25DaXJjbGVGcmFnLCBjb2xsaXNpb25DaXJjbGVWZXJ0KSxcbiAgICBkZWJ1ZzogY29tcGlsZShkZWJ1Z0ZyYWcsIGRlYnVnVmVydCksXG4gICAgZmlsbDogY29tcGlsZShmaWxsRnJhZywgZmlsbFZlcnQpLFxuICAgIGZpbGxPdXRsaW5lOiBjb21waWxlKGZpbGxPdXRsaW5lRnJhZywgZmlsbE91dGxpbmVWZXJ0KSxcbiAgICBmaWxsT3V0bGluZVBhdHRlcm46IGNvbXBpbGUoZmlsbE91dGxpbmVQYXR0ZXJuRnJhZywgZmlsbE91dGxpbmVQYXR0ZXJuVmVydCksXG4gICAgZmlsbFBhdHRlcm46IGNvbXBpbGUoZmlsbFBhdHRlcm5GcmFnLCBmaWxsUGF0dGVyblZlcnQpLFxuICAgIGZpbGxFeHRydXNpb246IGNvbXBpbGUoZmlsbEV4dHJ1c2lvbkZyYWcsIGZpbGxFeHRydXNpb25WZXJ0KSxcbiAgICBmaWxsRXh0cnVzaW9uUGF0dGVybjogY29tcGlsZShmaWxsRXh0cnVzaW9uUGF0dGVybkZyYWcsIGZpbGxFeHRydXNpb25QYXR0ZXJuVmVydCksXG4gICAgaGlsbHNoYWRlUHJlcGFyZTogY29tcGlsZShoaWxsc2hhZGVQcmVwYXJlRnJhZywgaGlsbHNoYWRlUHJlcGFyZVZlcnQpLFxuICAgIGhpbGxzaGFkZTogY29tcGlsZShoaWxsc2hhZGVGcmFnLCBoaWxsc2hhZGVWZXJ0KSxcbiAgICBsaW5lOiBjb21waWxlKGxpbmVGcmFnLCBsaW5lVmVydCksXG4gICAgbGluZVBhdHRlcm46IGNvbXBpbGUobGluZVBhdHRlcm5GcmFnLCBsaW5lUGF0dGVyblZlcnQpLFxuICAgIHJhc3RlcjogY29tcGlsZShyYXN0ZXJGcmFnLCByYXN0ZXJWZXJ0KSxcbiAgICBzeW1ib2xJY29uOiBjb21waWxlKHN5bWJvbEljb25GcmFnLCBzeW1ib2xJY29uVmVydCksXG4gICAgc3ltYm9sU0RGOiBjb21waWxlKHN5bWJvbFNERkZyYWcsIHN5bWJvbFNERlZlcnQpLFxuICAgIHN5bWJvbFRleHRBbmRJY29uOiBjb21waWxlKHN5bWJvbFRleHRBbmRJY29uRnJhZywgc3ltYm9sVGV4dEFuZEljb25WZXJ0KSxcbiAgICB0ZXJyYWluUmFzdGVyOiBjb21waWxlKHRlcnJhaW5SYXN0ZXJGcmFnLCB0ZXJyYWluUmFzdGVyVmVydCksXG4gICAgdGVycmFpbkRlcHRoOiBjb21waWxlKHRlcnJhaW5EZXB0aEZyYWcsIHRlcnJhaW5EZXB0aFZlcnQpLFxuICAgIHNreWJveDogY29tcGlsZShza3lib3hGcmFnLCBza3lib3hWZXJ0KSxcbiAgICBza3lib3hHcmFkaWVudDogY29tcGlsZShza3lib3hHcmFkaWVudEZyYWcsIHNreWJveFZlcnQpLFxuICAgIHNreWJveENhcHR1cmU6IGNvbXBpbGUoc2t5Ym94Q2FwdHVyZUZyYWcsIHNreWJveENhcHR1cmVWZXJ0KSxcbiAgICBnbG9iZVJhc3RlcjogY29tcGlsZShnbG9iZUZyYWcsIGdsb2JlVmVydCksXG4gICAgZ2xvYmVBdG1vc3BoZXJlOiBjb21waWxlKGF0bW9zcGhlcmVGcmFnLCBhdG1vc3BoZXJlVmVydClcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVzZWRQcmVwcm9jZXNzb3JEZWZpbmVzKHNvdXJjZSwgZGVmaW5lcykge1xuICAgIGNvbnN0IGxpbmVzID0gc291cmNlLnJlcGxhY2UoL1xccypcXC9cXC9bXlxcbl0qXFxuL2csICdcXG4nKS5zcGxpdCgnXFxuJyk7XG4gICAgZm9yIChsZXQgbGluZSBvZiBsaW5lcykge1xuICAgICAgICBsaW5lID0gbGluZS50cmltKCk7XG4gICAgICAgIGlmIChsaW5lWzBdID09PSAnIycpIHtcbiAgICAgICAgICAgIGlmIChsaW5lLmluY2x1ZGVzKCdpZicpICYmICFsaW5lLmluY2x1ZGVzKCdlbmRpZicpKSB7XG4gICAgICAgICAgICAgICAgbGluZSA9IGxpbmUucmVwbGFjZSgnIycsICcnKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvaWZkZWZ8aWZuZGVmfGVsaWZ8aWYvZywgJycpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8hfGRlZmluZWR8XFwofFxcKXxcXHxcXHx8JiYvZywgJycpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RGVmaW5lcyA9IGxpbmUuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRlZmluZSBvZiBuZXdEZWZpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGVmaW5lcy5pbmNsdWRlcyhkZWZpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZpbmVzLnB1c2goZGVmaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gRXhwYW5kICNwcmFnbWFzIHRvICNpZmRlZnMuXG5leHBvcnQgZnVuY3Rpb24gY29tcGlsZShmcmFnbWVudFNvdXJjZSwgdmVydGV4U291cmNlKSB7XG4gICAgY29uc3QgcHJhZ21hUmVnZXggPSAvI3ByYWdtYSBtYXBib3g6IChbXFx3XSspIChbXFx3XSspIChbXFx3XSspIChbXFx3XSspL2c7XG4gICAgY29uc3QgYXR0cmlidXRlUmVnZXggPSAvYXR0cmlidXRlIChoaWdocCB8bWVkaXVtcCB8bG93cCApPyhbXFx3XSspIChbXFx3XSspL2c7XG5cbiAgICBjb25zdCBzdGF0aWNBdHRyaWJ1dGVzID0gdmVydGV4U291cmNlLm1hdGNoKGF0dHJpYnV0ZVJlZ2V4KTtcbiAgICBjb25zdCBmcmFnbWVudFByYWdtYXMgPSB7fTtcblxuICAgIGNvbnN0IHVzZWREZWZpbmVzID0gWy4uLmNvbW1vbkRlZmluZXNdO1xuICAgIHBhcnNlVXNlZFByZXByb2Nlc3NvckRlZmluZXMoZnJhZ21lbnRTb3VyY2UsIHVzZWREZWZpbmVzKTtcbiAgICBwYXJzZVVzZWRQcmVwcm9jZXNzb3JEZWZpbmVzKHZlcnRleFNvdXJjZSwgdXNlZERlZmluZXMpO1xuXG4gICAgZnJhZ21lbnRTb3VyY2UgPSBmcmFnbWVudFNvdXJjZS5yZXBsYWNlKHByYWdtYVJlZ2V4LCAobWF0Y2gsIG9wZXJhdGlvbiwgcHJlY2lzaW9uLCB0eXBlLCBuYW1lKSA9PiB7XG4gICAgICAgIGZyYWdtZW50UHJhZ21hc1tuYW1lXSA9IHRydWU7XG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdkZWZpbmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gYFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bmFtZX1cbnZhcnlpbmcgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfTtcbiNlbHNlXG51bmlmb3JtICR7cHJlY2lzaW9ufSAke3R5cGV9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgfSBlbHNlIC8qIGlmIChvcGVyYXRpb24gPT09ICdpbml0aWFsaXplJykgKi8ge1xuICAgICAgICAgICAgcmV0dXJuIGBcbiNpZmRlZiBIQVNfVU5JRk9STV91XyR7bmFtZX1cbiAgICAke3ByZWNpc2lvbn0gJHt0eXBlfSAke25hbWV9ID0gdV8ke25hbWV9O1xuI2VuZGlmXG5gO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2ZXJ0ZXhTb3VyY2UgPSB2ZXJ0ZXhTb3VyY2UucmVwbGFjZShwcmFnbWFSZWdleCwgKG1hdGNoLCBvcGVyYXRpb24sIHByZWNpc2lvbiwgdHlwZSwgbmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBhdHRyVHlwZSA9IHR5cGUgPT09ICdmbG9hdCcgPyAndmVjMicgOiAndmVjNCc7XG4gICAgICAgIGNvbnN0IHVucGFja1R5cGUgPSBuYW1lLm1hdGNoKC9jb2xvci8pID8gJ2NvbG9yJyA6IGF0dHJUeXBlO1xuXG4gICAgICAgIGlmIChmcmFnbWVudFByYWdtYXNbbmFtZV0pIHtcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdkZWZpbmUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG51bmlmb3JtIGxvd3AgZmxvYXQgdV8ke25hbWV9X3Q7XG5hdHRyaWJ1dGUgJHtwcmVjaXNpb259ICR7YXR0clR5cGV9IGFfJHtuYW1lfTtcbnZhcnlpbmcgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfTtcbiNlbHNlXG51bmlmb3JtICR7cHJlY2lzaW9ufSAke3R5cGV9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgICAgIH0gZWxzZSAvKiBpZiAob3BlcmF0aW9uID09PSAnaW5pdGlhbGl6ZScpICovIHtcbiAgICAgICAgICAgICAgICBpZiAodW5wYWNrVHlwZSA9PT0gJ3ZlYzQnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZlYzQgYXR0cmlidXRlcyBhcmUgb25seSB1c2VkIGZvciBjcm9zcy1mYWRlZCBwcm9wZXJ0aWVzLCBhbmQgYXJlIG5vdCBwYWNrZWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG4gICAgJHtuYW1lfSA9IGFfJHtuYW1lfTtcbiNlbHNlXG4gICAgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfSA9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bmFtZX1cbiAgICAke25hbWV9ID0gdW5wYWNrX21peF8ke3VucGFja1R5cGV9KGFfJHtuYW1lfSwgdV8ke25hbWV9X3QpO1xuI2Vsc2VcbiAgICAke3ByZWNpc2lvbn0gJHt0eXBlfSAke25hbWV9ID0gdV8ke25hbWV9O1xuI2VuZGlmXG5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdkZWZpbmUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG51bmlmb3JtIGxvd3AgZmxvYXQgdV8ke25hbWV9X3Q7XG5hdHRyaWJ1dGUgJHtwcmVjaXNpb259ICR7YXR0clR5cGV9IGFfJHtuYW1lfTtcbiNlbHNlXG51bmlmb3JtICR7cHJlY2lzaW9ufSAke3R5cGV9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgICAgIH0gZWxzZSAvKiBpZiAob3BlcmF0aW9uID09PSAnaW5pdGlhbGl6ZScpICovIHtcbiAgICAgICAgICAgICAgICBpZiAodW5wYWNrVHlwZSA9PT0gJ3ZlYzQnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZlYzQgYXR0cmlidXRlcyBhcmUgb25seSB1c2VkIGZvciBjcm9zcy1mYWRlZCBwcm9wZXJ0aWVzLCBhbmQgYXJlIG5vdCBwYWNrZWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG4gICAgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfSA9IGFfJHtuYW1lfTtcbiNlbHNlXG4gICAgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfSA9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgLyogKi97XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtuYW1lfVxuICAgICR7cHJlY2lzaW9ufSAke3R5cGV9ICR7bmFtZX0gPSB1bnBhY2tfbWl4XyR7dW5wYWNrVHlwZX0oYV8ke25hbWV9LCB1XyR7bmFtZX1fdCk7XG4jZWxzZVxuICAgICR7cHJlY2lzaW9ufSAke3R5cGV9ICR7bmFtZX0gPSB1XyR7bmFtZX07XG4jZW5kaWZcbmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge2ZyYWdtZW50U291cmNlLCB2ZXJ0ZXhTb3VyY2UsIHN0YXRpY0F0dHJpYnV0ZXMsIHVzZWREZWZpbmVzfTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHR5cGUgUHJvZ3JhbSBmcm9tICcuL3Byb2dyYW0uanMnO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXIuanMnO1xuaW1wb3J0IHR5cGUgSW5kZXhCdWZmZXIgZnJvbSAnLi4vZ2wvaW5kZXhfYnVmZmVyLmpzJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dC5qcyc7XG5cbmNsYXNzIFZlcnRleEFycmF5T2JqZWN0IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGJvdW5kUHJvZ3JhbTogP1Byb2dyYW08Kj47XG4gICAgYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXI6ID9WZXJ0ZXhCdWZmZXI7XG4gICAgYm91bmRQYWludFZlcnRleEJ1ZmZlcnM6IEFycmF5PFZlcnRleEJ1ZmZlcj47XG4gICAgYm91bmRJbmRleEJ1ZmZlcjogP0luZGV4QnVmZmVyO1xuICAgIGJvdW5kVmVydGV4T2Zmc2V0OiA/bnVtYmVyO1xuICAgIGJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnM6IEFycmF5PD9WZXJ0ZXhCdWZmZXI+O1xuICAgIHZhbzogYW55O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYm91bmRQcm9ncmFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5ib3VuZEluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib3VuZFZlcnRleE9mZnNldCA9IG51bGw7XG4gICAgICAgIHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycyA9IFtdO1xuICAgICAgICB0aGlzLnZhbyA9IG51bGw7XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0LFxuICAgICAgICAgcHJvZ3JhbTogUHJvZ3JhbTwqPixcbiAgICAgICAgIGxheW91dFZlcnRleEJ1ZmZlcjogVmVydGV4QnVmZmVyLFxuICAgICAgICAgcGFpbnRWZXJ0ZXhCdWZmZXJzOiBBcnJheTxWZXJ0ZXhCdWZmZXI+LFxuICAgICAgICAgaW5kZXhCdWZmZXI6ID9JbmRleEJ1ZmZlcixcbiAgICAgICAgIHZlcnRleE9mZnNldDogP251bWJlcixcbiAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXJzOiBBcnJheTw/VmVydGV4QnVmZmVyPikge1xuXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICAgICAgbGV0IHBhaW50QnVmZmVyc0RpZmZlciA9IHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoICE9PSBwYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgIXBhaW50QnVmZmVyc0RpZmZlciAmJiBpIDwgcGFpbnRWZXJ0ZXhCdWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVyc1tpXSAhPT0gcGFpbnRWZXJ0ZXhCdWZmZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgcGFpbnRCdWZmZXJzRGlmZmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgZHluYW1pY0J1ZmZlcnNEaWZmZXIgPSB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnMubGVuZ3RoICE9PSBkeW5hbWljVmVydGV4QnVmZmVycy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyAhZHluYW1pY0J1ZmZlcnNEaWZmZXIgJiYgaSA8IGR5bmFtaWNWZXJ0ZXhCdWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzW2ldICE9PSBkeW5hbWljVmVydGV4QnVmZmVyc1tpXSkge1xuICAgICAgICAgICAgICAgIGR5bmFtaWNCdWZmZXJzRGlmZmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzRnJlc2hCaW5kUmVxdWlyZWQgPSAoXG4gICAgICAgICAgICAhdGhpcy52YW8gfHxcbiAgICAgICAgICAgIHRoaXMuYm91bmRQcm9ncmFtICE9PSBwcm9ncmFtIHx8XG4gICAgICAgICAgICB0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyICE9PSBsYXlvdXRWZXJ0ZXhCdWZmZXIgfHxcbiAgICAgICAgICAgIHBhaW50QnVmZmVyc0RpZmZlciB8fFxuICAgICAgICAgICAgZHluYW1pY0J1ZmZlcnNEaWZmZXIgfHxcbiAgICAgICAgICAgIHRoaXMuYm91bmRJbmRleEJ1ZmZlciAhPT0gaW5kZXhCdWZmZXIgfHxcbiAgICAgICAgICAgIHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQgIT09IHZlcnRleE9mZnNldFxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdCB8fCBpc0ZyZXNoQmluZFJlcXVpcmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZyZXNoQmluZChwcm9ncmFtLCBsYXlvdXRWZXJ0ZXhCdWZmZXIsIHBhaW50VmVydGV4QnVmZmVycywgaW5kZXhCdWZmZXIsIHZlcnRleE9mZnNldCwgZHluYW1pY1ZlcnRleEJ1ZmZlcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZHluYW1pY0J1ZmZlciBvZiBkeW5hbWljVmVydGV4QnVmZmVycykge1xuICAgICAgICAgICAgICAgIGlmIChkeW5hbWljQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGR5bmFtaWNCdWZmZXIuYmluZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleEJ1ZmZlciAmJiBpbmRleEJ1ZmZlci5keW5hbWljRHJhdykge1xuICAgICAgICAgICAgICAgIGluZGV4QnVmZmVyLmJpbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZyZXNoQmluZChwcm9ncmFtOiBQcm9ncmFtPCo+LFxuICAgICAgICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXI6IFZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgcGFpbnRWZXJ0ZXhCdWZmZXJzOiBBcnJheTxWZXJ0ZXhCdWZmZXI+LFxuICAgICAgICAgICAgICBpbmRleEJ1ZmZlcjogP0luZGV4QnVmZmVyLFxuICAgICAgICAgICAgICB2ZXJ0ZXhPZmZzZXQ6ID9udW1iZXIsXG4gICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXJzOiBBcnJheTw/VmVydGV4QnVmZmVyPikge1xuICAgICAgICBsZXQgbnVtUHJldkF0dHJpYnV0ZXM7XG4gICAgICAgIGNvbnN0IG51bU5leHRBdHRyaWJ1dGVzID0gcHJvZ3JhbS5udW1BdHRyaWJ1dGVzO1xuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBpZiAoY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudmFvKSB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMudmFvID0gY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdC5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpO1xuICAgICAgICAgICAgY29udGV4dC5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKTtcbiAgICAgICAgICAgIG51bVByZXZBdHRyaWJ1dGVzID0gMDtcblxuICAgICAgICAgICAgLy8gc3RvcmUgdGhlIGFyZ3VtZW50cyBzbyB0aGF0IHdlIGNhbiB2ZXJpZnkgdGhlbSB3aGVuIHRoZSB2YW8gaXMgYm91bmQgYWdhaW5cbiAgICAgICAgICAgIHRoaXMuYm91bmRQcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgICAgIHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXIgPSBsYXlvdXRWZXJ0ZXhCdWZmZXI7XG4gICAgICAgICAgICB0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzID0gcGFpbnRWZXJ0ZXhCdWZmZXJzO1xuICAgICAgICAgICAgdGhpcy5ib3VuZEluZGV4QnVmZmVyID0gaW5kZXhCdWZmZXI7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVmVydGV4T2Zmc2V0ID0gdmVydGV4T2Zmc2V0O1xuICAgICAgICAgICAgdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzID0gZHluYW1pY1ZlcnRleEJ1ZmZlcnM7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG51bVByZXZBdHRyaWJ1dGVzID0gY29udGV4dC5jdXJyZW50TnVtQXR0cmlidXRlcyB8fCAwO1xuXG4gICAgICAgICAgICAvLyBEaXNhYmxlIGFsbCBhdHRyaWJ1dGVzIGZyb20gdGhlIHByZXZpb3VzIHByb2dyYW0gdGhhdCBhcmVuJ3QgdXNlZCBpblxuICAgICAgICAgICAgLy8gdGhlIG5ldyBwcm9ncmFtLiBOb3RlOiBhdHRyaWJ1dGUgaW5kaWNlcyBhcmUgKm5vdCogcHJvZ3JhbSBzcGVjaWZpYyFcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBudW1OZXh0QXR0cmlidXRlczsgaSA8IG51bVByZXZBdHRyaWJ1dGVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBXZWJHTCBicmVha3MgaWYgeW91IGRpc2FibGUgYXR0cmlidXRlIDAuXG4gICAgICAgICAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMDMwNTIzMVxuICAgICAgICAgICAgICAgIGFzc2VydChpICE9PSAwKTtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXIuZW5hYmxlQXR0cmlidXRlcyhnbCwgcHJvZ3JhbSk7XG4gICAgICAgIGxheW91dFZlcnRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgIGxheW91dFZlcnRleEJ1ZmZlci5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhnbCwgcHJvZ3JhbSwgdmVydGV4T2Zmc2V0KTtcblxuICAgICAgICBmb3IgKGNvbnN0IHZlcnRleEJ1ZmZlciBvZiBwYWludFZlcnRleEJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5lbmFibGVBdHRyaWJ1dGVzKGdsLCBwcm9ncmFtKTtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZ2wsIHByb2dyYW0sIHZlcnRleE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGR5bmFtaWNCdWZmZXIgb2YgZHluYW1pY1ZlcnRleEJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIGlmIChkeW5hbWljQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgZHluYW1pY0J1ZmZlci5lbmFibGVBdHRyaWJ1dGVzKGdsLCBwcm9ncmFtKTtcbiAgICAgICAgICAgICAgICBkeW5hbWljQnVmZmVyLmJpbmQoKTtcbiAgICAgICAgICAgICAgICBkeW5hbWljQnVmZmVyLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGdsLCBwcm9ncmFtLCB2ZXJ0ZXhPZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmN1cnJlbnROdW1BdHRyaWJ1dGVzID0gbnVtTmV4dEF0dHJpYnV0ZXM7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFvKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QuZGVsZXRlVmVydGV4QXJyYXlPRVModGhpcy52YW8pO1xuICAgICAgICAgICAgdGhpcy52YW8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZXJ0ZXhBcnJheU9iamVjdDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7bWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtMWksXG4gICAgVW5pZm9ybTFmLFxuICAgIFVuaWZvcm0yZixcbiAgICBVbmlmb3JtQ29sb3IsXG4gICAgVW5pZm9ybU1hdHJpeDRmLFxuICAgIFVuaWZvcm00ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi8uLi9kYXRhL2V4dGVudC5qcyc7XG5pbXBvcnQgTWVyY2F0b3JDb29yZGluYXRlIGZyb20gJy4uLy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZS5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3BhaW50ZXIuanMnO1xuaW1wb3J0IHR5cGUgSGlsbHNoYWRlU3R5bGVMYXllciBmcm9tICcuLi8uLi9zdHlsZS9zdHlsZV9sYXllci9oaWxsc2hhZGVfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgREVNRGF0YSBmcm9tICcuLi8uLi9kYXRhL2RlbV9kYXRhLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5cbmV4cG9ydCB0eXBlIEhpbGxzaGFkZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X2xhdHJhbmdlJzogVW5pZm9ybTJmLFxuICAgICd1X2xpZ2h0JzogVW5pZm9ybTJmLFxuICAgICd1X3NoYWRvdyc6IFVuaWZvcm1Db2xvcixcbiAgICAndV9oaWdobGlnaHQnOiBVbmlmb3JtQ29sb3IsXG4gICAgJ3VfYWNjZW50JzogVW5pZm9ybUNvbG9yXG58fTtcblxuZXhwb3J0IHR5cGUgSGlsbHNoYWRlUHJlcGFyZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X2RpbWVuc2lvbic6IFVuaWZvcm0yZixcbiAgICAndV96b29tJzogVW5pZm9ybTFmLFxuICAgICd1X3VucGFjayc6IFVuaWZvcm00ZlxufH07XG5cbmNvbnN0IGhpbGxzaGFkZVVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBIaWxsc2hhZGVVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2ltYWdlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9sYXRyYW5nZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfbGlnaHQnOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X3NoYWRvdyc6IG5ldyBVbmlmb3JtQ29sb3IoY29udGV4dCksXG4gICAgJ3VfaGlnaGxpZ2h0JzogbmV3IFVuaWZvcm1Db2xvcihjb250ZXh0KSxcbiAgICAndV9hY2NlbnQnOiBuZXcgVW5pZm9ybUNvbG9yKGNvbnRleHQpXG59KTtcblxuY29uc3QgaGlsbHNoYWRlUHJlcGFyZVVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBIaWxsc2hhZGVQcmVwYXJlVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfZGltZW5zaW9uJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV96b29tJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV91bnBhY2snOiBuZXcgVW5pZm9ybTRmKGNvbnRleHQpXG59KTtcblxuY29uc3QgaGlsbHNoYWRlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIHRpbGU6IFRpbGUsXG4gICAgbGF5ZXI6IEhpbGxzaGFkZVN0eWxlTGF5ZXIsXG4gICAgbWF0cml4OiA/RmxvYXQzMkFycmF5XG4pOiBVbmlmb3JtVmFsdWVzPEhpbGxzaGFkZVVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHNoYWRvdyA9IGxheWVyLnBhaW50LmdldChcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIik7XG4gICAgY29uc3QgaGlnaGxpZ2h0ID0gbGF5ZXIucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiKTtcbiAgICBjb25zdCBhY2NlbnQgPSBsYXllci5wYWludC5nZXQoXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCIpO1xuXG4gICAgbGV0IGF6aW11dGhhbCA9IGxheWVyLnBhaW50LmdldCgnaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb24nKSAqIChNYXRoLlBJIC8gMTgwKTtcbiAgICAvLyBtb2RpZnkgYXppbXV0aGFsIGFuZ2xlIGJ5IG1hcCByb3RhdGlvbiBpZiBsaWdodCBpcyBhbmNob3JlZCBhdCB0aGUgdmlld3BvcnRcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvcicpID09PSAndmlld3BvcnQnKSB7XG4gICAgICAgIGF6aW11dGhhbCAtPSBwYWludGVyLnRyYW5zZm9ybS5hbmdsZTtcbiAgICB9XG4gICAgY29uc3QgYWxpZ24gPSAhcGFpbnRlci5vcHRpb25zLm1vdmluZztcbiAgICByZXR1cm4ge1xuICAgICAgICAndV9tYXRyaXgnOiBtYXRyaXggPyBtYXRyaXggOiBwYWludGVyLnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KHRpbGUudGlsZUlELnRvVW53cmFwcGVkKCksIGFsaWduKSxcbiAgICAgICAgJ3VfaW1hZ2UnOiAwLFxuICAgICAgICAndV9sYXRyYW5nZSc6IGdldFRpbGVMYXRSYW5nZShwYWludGVyLCB0aWxlLnRpbGVJRCksXG4gICAgICAgICd1X2xpZ2h0JzogW2xheWVyLnBhaW50LmdldCgnaGlsbHNoYWRlLWV4YWdnZXJhdGlvbicpLCBhemltdXRoYWxdLFxuICAgICAgICAndV9zaGFkb3cnOiBzaGFkb3csXG4gICAgICAgICd1X2hpZ2hsaWdodCc6IGhpZ2hsaWdodCxcbiAgICAgICAgJ3VfYWNjZW50JzogYWNjZW50XG4gICAgfTtcbn07XG5cbmNvbnN0IGhpbGxzaGFkZVVuaWZvcm1QcmVwYXJlVmFsdWVzID0gKFxuICAgIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgZGVtOiBERU1EYXRhXG4pOiBVbmlmb3JtVmFsdWVzPEhpbGxzaGFkZVByZXBhcmVVbmlmb3Jtc1R5cGU+ID0+IHtcblxuICAgIGNvbnN0IHN0cmlkZSA9IGRlbS5zdHJpZGU7XG4gICAgY29uc3QgbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAvLyBGbGlwIHJlbmRlcmluZyBhdCB5IGF4aXMuXG4gICAgbWF0NC5vcnRobyhtYXRyaXgsIDAsIEVYVEVOVCwgLUVYVEVOVCwgMCwgMCwgMSk7XG4gICAgbWF0NC50cmFuc2xhdGUobWF0cml4LCBtYXRyaXgsIFswLCAtRVhURU5ULCAwXSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAndV9tYXRyaXgnOiBtYXRyaXgsXG4gICAgICAgICd1X2ltYWdlJzogMSxcbiAgICAgICAgJ3VfZGltZW5zaW9uJzogW3N0cmlkZSwgc3RyaWRlXSxcbiAgICAgICAgJ3Vfem9vbSc6IHRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgJ3VfdW5wYWNrJzogZGVtLnVucGFja1ZlY3RvclxuICAgIH07XG59O1xuXG5mdW5jdGlvbiBnZXRUaWxlTGF0UmFuZ2UocGFpbnRlcjogUGFpbnRlciwgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgLy8gZm9yIHNjYWxpbmcgdGhlIG1hZ25pdHVkZSBvZiBhIHBvaW50cyBzbG9wZSBieSBpdHMgbGF0aXR1ZGVcbiAgICBjb25zdCB0aWxlc0F0Wm9vbSA9IE1hdGgucG93KDIsIHRpbGVJRC5jYW5vbmljYWwueik7XG4gICAgY29uc3QgeSA9IHRpbGVJRC5jYW5vbmljYWwueTtcbiAgICByZXR1cm4gW1xuICAgICAgICBuZXcgTWVyY2F0b3JDb29yZGluYXRlKDAsIHkgLyB0aWxlc0F0Wm9vbSkudG9MbmdMYXQoKS5sYXQsXG4gICAgICAgIG5ldyBNZXJjYXRvckNvb3JkaW5hdGUoMCwgKHkgKyAxKSAvIHRpbGVzQXRab29tKS50b0xuZ0xhdCgpLmxhdF07XG59XG5cbmV4cG9ydCB7XG4gICAgaGlsbHNoYWRlVW5pZm9ybXMsXG4gICAgaGlsbHNoYWRlUHJlcGFyZVVuaWZvcm1zLFxuICAgIGhpbGxzaGFkZVVuaWZvcm1WYWx1ZXMsXG4gICAgaGlsbHNoYWRlVW5pZm9ybVByZXBhcmVWYWx1ZXNcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL3RleHR1cmUuanMnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZS5qcyc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQge1xuICAgIGhpbGxzaGFkZVVuaWZvcm1WYWx1ZXMsXG4gICAgaGlsbHNoYWRlVW5pZm9ybVByZXBhcmVWYWx1ZXNcbn0gZnJvbSAnLi9wcm9ncmFtL2hpbGxzaGFkZV9wcm9ncmFtLmpzJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXIuanMnO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZS5qcyc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIEhpbGxzaGFkZVN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvaGlsbHNoYWRlX3N0eWxlX2xheWVyLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgREVNRGF0YSBmcm9tICcuLi9kYXRhL2RlbV9kYXRhLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0hpbGxzaGFkZTtcblxuZnVuY3Rpb24gZHJhd0hpbGxzaGFkZShwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBIaWxsc2hhZGVTdHlsZUxheWVyLCB0aWxlSURzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09ICdvZmZzY3JlZW4nICYmIHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gJ3RyYW5zbHVjZW50JykgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcblxuICAgIGNvbnN0IGRlcHRoTW9kZSA9IHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KTtcbiAgICBjb25zdCBjb2xvck1vZGUgPSBwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTtcblxuICAgIC8vIFdoZW4gcmVuZGVyaW5nIHRvIHRleHR1cmUsIGNvb3JkaW5hdGVzIGFyZSBhbHJlYWR5IHNvcnRlZDogcHJpbWFyeSBieVxuICAgIC8vIHByb3h5IGlkIGFuZCBzZWNvbmRhcnkgc29ydCBpcyBieSBaLlxuICAgIGNvbnN0IHJlbmRlcmluZ1RvVGV4dHVyZSA9IHBhaW50ZXIudGVycmFpbiAmJiBwYWludGVyLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlO1xuICAgIGNvbnN0IFtzdGVuY2lsTW9kZXMsIGNvb3Jkc10gPSBwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcgJiYgIXJlbmRlcmluZ1RvVGV4dHVyZSA/XG4gICAgICAgIHBhaW50ZXIuc3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAodGlsZUlEcykgOiBbe30sIHRpbGVJRHNdO1xuXG4gICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBpZiAodGlsZS5uZWVkc0hpbGxzaGFkZVByZXBhcmUgJiYgcGFpbnRlci5yZW5kZXJQYXNzID09PSAnb2Zmc2NyZWVuJykge1xuICAgICAgICAgICAgcHJlcGFyZUhpbGxzaGFkZShwYWludGVyLCB0aWxlLCBsYXllciwgZGVwdGhNb2RlLCBTdGVuY2lsTW9kZS5kaXNhYmxlZCwgY29sb3JNb2RlKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gcmVuZGVyaW5nVG9UZXh0dXJlICYmIHBhaW50ZXIudGVycmFpbiA/XG4gICAgICAgICAgICAgICAgcGFpbnRlci50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChjb29yZCkgOiBzdGVuY2lsTW9kZXNbY29vcmQub3ZlcnNjYWxlZFpdO1xuICAgICAgICAgICAgcmVuZGVySGlsbHNoYWRlKHBhaW50ZXIsIGNvb3JkLCB0aWxlLCBsYXllciwgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodF0pO1xuXG4gICAgcGFpbnRlci5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckhpbGxzaGFkZShwYWludGVyLCBjb29yZCwgdGlsZSwgbGF5ZXIsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IGZibyA9IHRpbGUuZmJvO1xuICAgIGlmICghZmJvKSByZXR1cm47XG4gICAgcGFpbnRlci5wcmVwYXJlRHJhd1RpbGUoKTtcblxuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2hpbGxzaGFkZScpO1xuXG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZmJvLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7XG5cbiAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gaGlsbHNoYWRlVW5pZm9ybVZhbHVlcyhwYWludGVyLCB0aWxlLCBsYXllciwgcGFpbnRlci50ZXJyYWluID8gY29vcmQucHJvak1hdHJpeCA6IG51bGwpO1xuXG4gICAgcGFpbnRlci5wcmVwYXJlRHJhd1Byb2dyYW0oY29udGV4dCwgcHJvZ3JhbSwgY29vcmQudG9VbndyYXBwZWQoKSk7XG5cbiAgICBjb25zdCB7dGlsZUJvdW5kc0J1ZmZlciwgdGlsZUJvdW5kc0luZGV4QnVmZmVyLCB0aWxlQm91bmRzU2VnbWVudHN9ID0gcGFpbnRlci5nZXRUaWxlQm91bmRzQnVmZmVycyh0aWxlKTtcblxuICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICB1bmlmb3JtVmFsdWVzLCBsYXllci5pZCwgdGlsZUJvdW5kc0J1ZmZlcixcbiAgICAgICAgdGlsZUJvdW5kc0luZGV4QnVmZmVyLCB0aWxlQm91bmRzU2VnbWVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZURFTVRleHR1cmUocGFpbnRlcjogUGFpbnRlciwgdGlsZTogVGlsZSwgZGVtOiBERU1EYXRhKSB7XG4gICAgaWYgKCF0aWxlLm5lZWRzREVNVGV4dHVyZVVwbG9hZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBjb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldChmYWxzZSk7XG4gICAgY29uc3QgdGV4dHVyZVN0cmlkZSA9IGRlbS5zdHJpZGU7XG4gICAgdGlsZS5kZW1UZXh0dXJlID0gdGlsZS5kZW1UZXh0dXJlIHx8IHBhaW50ZXIuZ2V0VGlsZVRleHR1cmUodGV4dHVyZVN0cmlkZSk7XG4gICAgY29uc3QgcGl4ZWxEYXRhID0gZGVtLmdldFBpeGVscygpO1xuICAgIGlmICh0aWxlLmRlbVRleHR1cmUpIHtcbiAgICAgICAgdGlsZS5kZW1UZXh0dXJlLnVwZGF0ZShwaXhlbERhdGEsIHtwcmVtdWx0aXBseTogZmFsc2V9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aWxlLmRlbVRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCBwaXhlbERhdGEsIGdsLlJHQkEsIHtwcmVtdWx0aXBseTogZmFsc2V9KTtcbiAgICB9XG4gICAgdGlsZS5uZWVkc0RFTVRleHR1cmVVcGxvYWQgPSBmYWxzZTtcbn1cblxuLy8gaGlsbHNoYWRlIHJlbmRlcmluZyBpcyBkb25lIGluIHR3byBzdGVwcy4gdGhlIHByZXBhcmUgc3RlcCBmaXJzdCBjYWxjdWxhdGVzIHRoZSBzbG9wZSBvZiB0aGUgdGVycmFpbiBpbiB0aGUgeCBhbmQgeVxuLy8gZGlyZWN0aW9ucyBmb3IgZWFjaCBwaXhlbCwgYW5kIHNhdmVzIHRob3NlIHZhbHVlcyB0byBhIGZyYW1lYnVmZmVyIHRleHR1cmUgaW4gdGhlIHIgYW5kIGcgY2hhbm5lbHMuXG5mdW5jdGlvbiBwcmVwYXJlSGlsbHNoYWRlKHBhaW50ZXIsIHRpbGUsIGxheWVyLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBpZiAoIXRpbGUuZGVtKSByZXR1cm47XG4gICAgY29uc3QgZGVtOiBERU1EYXRhID0gdGlsZS5kZW07XG5cbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcbiAgICBwcmVwYXJlREVNVGV4dHVyZShwYWludGVyLCB0aWxlLCBkZW0pO1xuICAgIGFzc2VydCh0aWxlLmRlbVRleHR1cmUpO1xuICAgIGlmICghdGlsZS5kZW1UZXh0dXJlKSByZXR1cm47IC8vIFNpbGVuY2UgZmxvdy5cbiAgICB0aWxlLmRlbVRleHR1cmUuYmluZChnbC5ORUFSRVNULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBjb25zdCB0aWxlU2l6ZSA9IGRlbS5kaW07XG5cbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICBsZXQgZmJvID0gdGlsZS5mYm87XG4gICAgaWYgKCFmYm8pIHtcbiAgICAgICAgY29uc3QgcmVuZGVyVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIHt3aWR0aDogdGlsZVNpemUsIGhlaWdodDogdGlsZVNpemUsIGRhdGE6IG51bGx9LCBnbC5SR0JBKTtcbiAgICAgICAgcmVuZGVyVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cbiAgICAgICAgZmJvID0gdGlsZS5mYm8gPSBjb250ZXh0LmNyZWF0ZUZyYW1lYnVmZmVyKHRpbGVTaXplLCB0aWxlU2l6ZSwgdHJ1ZSk7XG4gICAgICAgIGZiby5jb2xvckF0dGFjaG1lbnQuc2V0KHJlbmRlclRleHR1cmUudGV4dHVyZSk7XG4gICAgfVxuXG4gICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHRpbGVTaXplLCB0aWxlU2l6ZV0pO1xuXG4gICAgY29uc3Qge3RpbGVCb3VuZHNCdWZmZXIsIHRpbGVCb3VuZHNJbmRleEJ1ZmZlciwgdGlsZUJvdW5kc1NlZ21lbnRzfSA9IHBhaW50ZXIuZ2V0TWVyY2F0b3JUaWxlQm91bmRzQnVmZmVycygpO1xuXG4gICAgcGFpbnRlci51c2VQcm9ncmFtKCdoaWxsc2hhZGVQcmVwYXJlJykuZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsXG4gICAgICAgIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICBoaWxsc2hhZGVVbmlmb3JtUHJlcGFyZVZhbHVlcyh0aWxlLnRpbGVJRCwgZGVtKSxcbiAgICAgICAgbGF5ZXIuaWQsIHRpbGVCb3VuZHNCdWZmZXIsXG4gICAgICAgIHRpbGVCb3VuZHNJbmRleEJ1ZmZlciwgdGlsZUJvdW5kc1NlZ21lbnRzKTtcblxuICAgIHRpbGUubmVlZHNIaWxsc2hhZGVQcmVwYXJlID0gZmFsc2U7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybU1hdHJpeDRmXG59IGZyb20gJy4uL3JlbmRlci91bmlmb3JtX2JpbmRpbmcuanMnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQuanMnO1xuaW1wb3J0IHR5cGUge1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3JlbmRlci91bmlmb3JtX2JpbmRpbmcuanMnO1xuXG5leHBvcnQgdHlwZSBUZXJyYWluUmFzdGVyVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfaW1hZ2UwJzogVW5pZm9ybTFpLFxuICAgICd1X3NraXJ0X2hlaWdodCc6IFVuaWZvcm0xZlxufH07XG5cbmNvbnN0IHRlcnJhaW5SYXN0ZXJVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogVGVycmFpblJhc3RlclVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfaW1hZ2UwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9za2lydF9oZWlnaHQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpXG59KTtcblxuY29uc3QgdGVycmFpblJhc3RlclVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgc2tpcnRIZWlnaHQ6IG51bWJlclxuKTogVW5pZm9ybVZhbHVlczxUZXJyYWluUmFzdGVyVW5pZm9ybXNUeXBlPiA9PiAoe1xuICAgICd1X21hdHJpeCc6IG1hdHJpeCxcbiAgICAndV9pbWFnZTAnOiAwLFxuICAgICd1X3NraXJ0X2hlaWdodCc6IHNraXJ0SGVpZ2h0XG59KTtcblxuZXhwb3J0IHt0ZXJyYWluUmFzdGVyVW5pZm9ybXMsIHRlcnJhaW5SYXN0ZXJVbmlmb3JtVmFsdWVzfTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7XG4gICAgVW5pZm9ybTFpLFxuICAgIFVuaWZvcm0yZixcbiAgICBVbmlmb3JtM2YsXG4gICAgVW5pZm9ybTRmLFxuICAgIFVuaWZvcm1NYXRyaXg0ZixcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybU1hdHJpeDNmXG59IGZyb20gJy4uL3JlbmRlci91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyLmpzJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi9yZW5kZXIvdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB0eXBlIHtNYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuXG5leHBvcnQgdHlwZSBHbG9iZVJhc3RlclVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfcHJval9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfZ2xvYmVfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X25vcm1hbGl6ZV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfbWVyY19tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogVW5pZm9ybTFmLFxuICAgICd1X21lcmNfY2VudGVyJzogVW5pZm9ybTJmLFxuICAgICd1X2ltYWdlMCc6IFVuaWZvcm0xaSxcbiAgICAndV9ncmlkX21hdHJpeCc6IFVuaWZvcm1NYXRyaXgzZixcbiAgICAndV9za2lydF9oZWlnaHQnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZnJ1c3R1bV90bCc6IFVuaWZvcm0zZixcbiAgICAndV9mcnVzdHVtX3RyJzogVW5pZm9ybTNmLFxuICAgICd1X2ZydXN0dW1fYnInOiBVbmlmb3JtM2YsXG4gICAgJ3VfZnJ1c3R1bV9ibCc6IFVuaWZvcm0zZixcbiAgICAndV9nbG9iZV9wb3MnOiBVbmlmb3JtM2YsXG4gICAgJ3VfZ2xvYmVfcmFkaXVzJzogVW5pZm9ybTFmLFxuICAgICd1X3ZpZXdwb3J0JzogVW5pZm9ybTJmXG58fTtcblxuZXhwb3J0IHR5cGUgQXRtb3NwaGVyZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfZnJ1c3R1bV90bCc6IFVuaWZvcm0zZixcbiAgICAndV9mcnVzdHVtX3RyJzogVW5pZm9ybTNmLFxuICAgICd1X2ZydXN0dW1fYnInOiBVbmlmb3JtM2YsXG4gICAgJ3VfZnJ1c3R1bV9ibCc6IFVuaWZvcm0zZixcbiAgICAndV9ob3Jpem9uJzogVW5pZm9ybTFmLFxuICAgICd1X3RyYW5zaXRpb24nOiBVbmlmb3JtMWYsXG4gICAgJ3VfZmFkZW91dF9yYW5nZSc6IFVuaWZvcm0xZixcbiAgICAndV9jb2xvcic6IFVuaWZvcm00ZixcbiAgICAndV9oaWdoX2NvbG9yJzogVW5pZm9ybTRmLFxuICAgICd1X3NwYWNlX2NvbG9yJzogVW5pZm9ybTRmLFxuICAgICd1X3N0YXJfaW50ZW5zaXR5JzogVW5pZm9ybTFmLFxuICAgICd1X3N0YXJfc2l6ZSc6IFVuaWZvcm0xZixcbiAgICAndV9zdGFyX2RlbnNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfdGVtcG9yYWxfb2Zmc2V0JzogVW5pZm9ybTFmLFxuICAgICd1X2hvcml6b25fYW5nbGUnOiBVbmlmb3JtMWYsXG4gICAgJ3Vfcm90YXRpb25fbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmXG58fTtcblxuY29uc3QgZ2xvYmVSYXN0ZXJVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogR2xvYmVSYXN0ZXJVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9wcm9qX21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfZ2xvYmVfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9ub3JtYWxpemVfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9tZXJjX21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9tZXJjX2NlbnRlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfaW1hZ2UwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9ncmlkX21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4M2YoY29udGV4dCksXG4gICAgJ3Vfc2tpcnRfaGVpZ2h0JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9mcnVzdHVtX3RsJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9mcnVzdHVtX3RyJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9mcnVzdHVtX2JyJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9mcnVzdHVtX2JsJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9nbG9iZV9wb3MnOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxuICAgICd1X2dsb2JlX3JhZGl1cyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3Vfdmlld3BvcnQnOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpXG59KTtcblxuY29uc3QgYXRtb3NwaGVyZVVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBBdG1vc3BoZXJlVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfZnJ1c3R1bV90bCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV90cic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV9icic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV9ibCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfaG9yaXpvbic6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfdHJhbnNpdGlvbic6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZmFkZW91dF9yYW5nZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfY29sb3InOiBuZXcgVW5pZm9ybTRmKGNvbnRleHQpLFxuICAgICd1X2hpZ2hfY29sb3InOiBuZXcgVW5pZm9ybTRmKGNvbnRleHQpLFxuICAgICd1X3NwYWNlX2NvbG9yJzogbmV3IFVuaWZvcm00Zihjb250ZXh0KSxcbiAgICAndV9zdGFyX2ludGVuc2l0eSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3Vfc3Rhcl9kZW5zaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9zdGFyX3NpemUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3RlbXBvcmFsX29mZnNldCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfaG9yaXpvbl9hbmdsZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3Vfcm90YXRpb25fbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGdsb2JlUmFzdGVyVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwcm9qTWF0cml4OiBNYXQ0LFxuICAgIGdsb2JlTWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgZ2xvYmVNZXJjYXRvck1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIG5vcm1hbGl6ZU1hdHJpeDogRmxvYXQ2NEFycmF5LFxuICAgIHpvb21UcmFuc2l0aW9uOiBudW1iZXIsXG4gICAgbWVyY0NlbnRlcjogW251bWJlciwgbnVtYmVyXSxcbiAgICBmcnVzdHVtRGlyVGw6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBmcnVzdHVtRGlyVHI6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBmcnVzdHVtRGlyQnI6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBmcnVzdHVtRGlyQmw6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBnbG9iZVBvc2l0aW9uOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZ2xvYmVSYWRpdXM6IG51bWJlcixcbiAgICB2aWV3cG9ydDogW251bWJlciwgbnVtYmVyXSxcbiAgICBza2lydEhlaWdodDogbnVtYmVyLFxuICAgIGdyaWRNYXRyaXg6ID9NYXQ0XG4pOiBVbmlmb3JtVmFsdWVzPEdsb2JlUmFzdGVyVW5pZm9ybXNUeXBlPiA9PiAoe1xuICAgICd1X3Byb2pfbWF0cml4JzogRmxvYXQzMkFycmF5LmZyb20ocHJvak1hdHJpeCksXG4gICAgJ3VfZ2xvYmVfbWF0cml4JzogZ2xvYmVNYXRyaXgsXG4gICAgJ3Vfbm9ybWFsaXplX21hdHJpeCc6IEZsb2F0MzJBcnJheS5mcm9tKG5vcm1hbGl6ZU1hdHJpeCksXG4gICAgJ3VfbWVyY19tYXRyaXgnOiBnbG9iZU1lcmNhdG9yTWF0cml4LFxuICAgICd1X3pvb21fdHJhbnNpdGlvbic6IHpvb21UcmFuc2l0aW9uLFxuICAgICd1X21lcmNfY2VudGVyJzogbWVyY0NlbnRlcixcbiAgICAndV9pbWFnZTAnOiAwLFxuICAgICd1X2ZydXN0dW1fdGwnOiBmcnVzdHVtRGlyVGwsXG4gICAgJ3VfZnJ1c3R1bV90cic6IGZydXN0dW1EaXJUcixcbiAgICAndV9mcnVzdHVtX2JyJzogZnJ1c3R1bURpckJyLFxuICAgICd1X2ZydXN0dW1fYmwnOiBmcnVzdHVtRGlyQmwsXG4gICAgJ3VfZ2xvYmVfcG9zJzogZ2xvYmVQb3NpdGlvbixcbiAgICAndV9nbG9iZV9yYWRpdXMnOiBnbG9iZVJhZGl1cyxcbiAgICAndV92aWV3cG9ydCc6IHZpZXdwb3J0LFxuICAgICd1X2dyaWRfbWF0cml4JzogZ3JpZE1hdHJpeCA/IEZsb2F0MzJBcnJheS5mcm9tKGdyaWRNYXRyaXgpIDogbmV3IEZsb2F0MzJBcnJheSg5KSxcbiAgICAndV9za2lydF9oZWlnaHQnOiBza2lydEhlaWdodFxufSk7XG5cbmNvbnN0IGF0bW9zcGhlcmVVbmlmb3JtVmFsdWVzID0gKFxuICAgIGZydXN0dW1EaXJUbDogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGZydXN0dW1EaXJUcjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGZydXN0dW1EaXJCcjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGZydXN0dW1EaXJCbDogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGhvcml6b246IG51bWJlcixcbiAgICB0cmFuc2l0aW9uVDogbnVtYmVyLFxuICAgIGZhZGVvdXRSYW5nZTogbnVtYmVyLFxuICAgIGNvbG9yOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBoaWdoQ29sb3I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHNwYWNlQ29sb3I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHN0YXJJbnRlbnNpdHk6IG51bWJlcixcbiAgICB0ZW1wb3JhbE9mZnNldDogbnVtYmVyLFxuICAgIGhvcml6b25BbmdsZTogbnVtYmVyLFxuICAgIHJvdGF0aW9uTWF0cml4OiBGbG9hdDMyQXJyYXlcbik6IFVuaWZvcm1WYWx1ZXM8QXRtb3NwaGVyZVVuaWZvcm1zVHlwZT4gPT4gKHtcbiAgICAndV9mcnVzdHVtX3RsJzogZnJ1c3R1bURpclRsLFxuICAgICd1X2ZydXN0dW1fdHInOiBmcnVzdHVtRGlyVHIsXG4gICAgJ3VfZnJ1c3R1bV9icic6IGZydXN0dW1EaXJCcixcbiAgICAndV9mcnVzdHVtX2JsJzogZnJ1c3R1bURpckJsLFxuICAgICd1X2hvcml6b24nOiBob3Jpem9uLFxuICAgICd1X3RyYW5zaXRpb24nOiB0cmFuc2l0aW9uVCxcbiAgICAndV9mYWRlb3V0X3JhbmdlJzogZmFkZW91dFJhbmdlLFxuICAgICd1X2NvbG9yJzogY29sb3IsXG4gICAgJ3VfaGlnaF9jb2xvcic6IGhpZ2hDb2xvcixcbiAgICAndV9zcGFjZV9jb2xvcic6IHNwYWNlQ29sb3IsXG4gICAgJ3Vfc3Rhcl9pbnRlbnNpdHknOiBzdGFySW50ZW5zaXR5LFxuICAgICd1X3N0YXJfc2l6ZSc6IDUuMCAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAndV9zdGFyX2RlbnNpdHknOiAwLjAsXG4gICAgJ3VfdGVtcG9yYWxfb2Zmc2V0JzogdGVtcG9yYWxPZmZzZXQsXG4gICAgJ3VfaG9yaXpvbl9hbmdsZSc6IGhvcml6b25BbmdsZSxcbiAgICAndV9yb3RhdGlvbl9tYXRyaXgnOiByb3RhdGlvbk1hdHJpeFxufSk7XG5cbmV4cG9ydCB7Z2xvYmVSYXN0ZXJVbmlmb3JtcywgZ2xvYmVSYXN0ZXJVbmlmb3JtVmFsdWVzLCBhdG1vc3BoZXJlVW5pZm9ybXMsIGF0bW9zcGhlcmVVbmlmb3JtVmFsdWVzfTtcblxuZXhwb3J0IHR5cGUgR2xvYmVEZWZpbmVzVHlwZSA9ICdQUk9KRUNUSU9OX0dMT0JFX1ZJRVcnIHwgJ0dMT0JFX1BPTEVTJyB8ICdDVVNUT01fQU5USUFMSUFTSU5HJztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZS5qcyc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlLmpzJztcbmltcG9ydCB7dGVycmFpblJhc3RlclVuaWZvcm1WYWx1ZXN9IGZyb20gJy4vdGVycmFpbl9yYXN0ZXJfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2dsb2JlUmFzdGVyVW5pZm9ybVZhbHVlc30gZnJvbSAnLi9nbG9iZV9yYXN0ZXJfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge1RlcnJhaW59IGZyb20gJy4vdGVycmFpbi5qcyc7XG5pbXBvcnQgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZS5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQge2Vhc2VDdWJpY0luT3V0fSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCB7bWVyY2F0b3JYZnJvbUxuZywgbWVyY2F0b3JZZnJvbUxhdH0gZnJvbSAnLi4vZ2VvL21lcmNhdG9yX2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9yZW5kZXIvcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCB7T3ZlcnNjYWxlZFRpbGVJRCwgQ2Fub25pY2FsVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZS5qcyc7XG5pbXBvcnQge21hdDR9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQge1xuICAgIGNhbGN1bGF0ZUdsb2JlTWVyY2F0b3JNYXRyaXgsXG4gICAgZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbixcbiAgICBnbG9iZVBvbGVNYXRyaXhGb3JUaWxlLFxuICAgIGdldEdyaWRNYXRyaXgsXG4gICAgdGlsZUNvcm5lcnNUb0JvdW5kcyxcbiAgICBnbG9iZU5vcm1hbGl6ZUVDRUYsXG4gICAgZ2xvYmVUaWxlQm91bmRzLFxuICAgIGdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nLFxuICAgIGdldExhdGl0dWRpbmFsTG9kXG59IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL2dsb2JlX3V0aWwuanMnO1xuaW1wb3J0IGV4dGVuZCBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvZXh0ZW5kLmpzJztcblxuZXhwb3J0IHtcbiAgICBkcmF3VGVycmFpblJhc3RlcixcbiAgICBkcmF3VGVycmFpbkRlcHRoXG59O1xuXG50eXBlIERFTUNoYWluID0ge1xuICAgIHN0YXJ0VGltZTogbnVtYmVyLFxuICAgIHBoYXNlOiBudW1iZXIsXG4gICAgZHVyYXRpb246IG51bWJlciwgICAvLyBJbnRlcnBvbGF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xuICAgIGZyb206IFRpbGUsXG4gICAgdG86IFRpbGUsXG4gICAgcXVldWVkOiA/VGlsZVxufTtcblxuY2xhc3MgVmVydGV4TW9ycGhpbmcge1xuICAgIG9wZXJhdGlvbnM6IHtbc3RyaW5nIHwgbnVtYmVyXTogREVNQ2hhaW4gfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm9wZXJhdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBuZXdNb3JwaGluZyhrZXk6IG51bWJlciwgZnJvbTogVGlsZSwgdG86IFRpbGUsIG5vdzogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIGFzc2VydChmcm9tLmRlbVRleHR1cmUgJiYgdG8uZGVtVGV4dHVyZSk7XG4gICAgICAgIGFzc2VydChmcm9tLnRpbGVJRC5rZXkgIT09IHRvLnRpbGVJRC5rZXkpO1xuXG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy5vcGVyYXRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBvcCA9IHRoaXMub3BlcmF0aW9uc1trZXldO1xuICAgICAgICAgICAgYXNzZXJ0KG9wLmZyb20gJiYgb3AudG8pO1xuICAgICAgICAgICAgLy8gUXVldWUgdGhlIHRhcmdldCB0aWxlIHVubGVzcyBpdCdzIGJlaW5nIG1vcnBoZWQgdG8gYWxyZWFkeVxuICAgICAgICAgICAgaWYgKG9wLnRvLnRpbGVJRC5rZXkgIT09IHRvLnRpbGVJRC5rZXkpXG4gICAgICAgICAgICAgICAgb3AucXVldWVkID0gdG87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9wZXJhdGlvbnNba2V5XSA9IHtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWU6IG5vdyxcbiAgICAgICAgICAgICAgICBwaGFzZTogMC4wLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgcXVldWVkOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TW9ycGhWYWx1ZXNGb3JQcm94eShrZXk6IG51bWJlcik6ID97ZnJvbTogVGlsZSwgdG86IFRpbGUsIHBoYXNlOiBudW1iZXJ9IHtcbiAgICAgICAgaWYgKCEoa2V5IGluIHRoaXMub3BlcmF0aW9ucykpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCBvcCA9IHRoaXMub3BlcmF0aW9uc1trZXldO1xuICAgICAgICBjb25zdCBmcm9tID0gb3AuZnJvbTtcbiAgICAgICAgY29uc3QgdG8gPSBvcC50bztcbiAgICAgICAgYXNzZXJ0KGZyb20gJiYgdG8pO1xuXG4gICAgICAgIHJldHVybiB7ZnJvbSwgdG8sIHBoYXNlOiBvcC5waGFzZX07XG4gICAgfVxuXG4gICAgdXBkYXRlKG5vdzogbnVtYmVyKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMub3BlcmF0aW9ucykge1xuICAgICAgICAgICAgY29uc3Qgb3AgPSB0aGlzLm9wZXJhdGlvbnNba2V5XTtcbiAgICAgICAgICAgIGFzc2VydChvcC5mcm9tICYmIG9wLnRvKTtcblxuICAgICAgICAgICAgb3AucGhhc2UgPSAobm93IC0gb3Auc3RhcnRUaW1lKSAvIG9wLmR1cmF0aW9uO1xuXG4gICAgICAgICAgICAvLyBTdGFydCB0aGUgcXVldWVkIG9wZXJhdGlvbiBpZiB0aGUgY3VycmVudCBvbmUgaXMgZmluaXNoZWQgb3IgdGhlIGRhdGEgaGFzIGV4cGlyZWRcbiAgICAgICAgICAgIHdoaWxlIChvcC5waGFzZSA+PSAxLjAgfHwgIXRoaXMuX3ZhbGlkT3Aob3ApKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9uZXh0T3Aob3AsIG5vdykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMub3BlcmF0aW9uc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbmV4dE9wKG9wOiBERU1DaGFpbiwgbm93OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFvcC5xdWV1ZWQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIG9wLmZyb20gPSBvcC50bztcbiAgICAgICAgb3AudG8gPSBvcC5xdWV1ZWQ7XG4gICAgICAgIG9wLnF1ZXVlZCA9IG51bGw7XG4gICAgICAgIG9wLnBoYXNlID0gMC4wO1xuICAgICAgICBvcC5zdGFydFRpbWUgPSBub3c7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIF92YWxpZE9wKG9wOiBERU1DaGFpbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gb3AuZnJvbS5oYXNEYXRhKCkgJiYgb3AudG8uaGFzRGF0YSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVtVGlsZUNoYW5nZWQocHJldjogP1RpbGUsIG5leHQ6ID9UaWxlKTogYm9vbGVhbiB7XG4gICAgaWYgKHByZXYgPT0gbnVsbCB8fCBuZXh0ID09IG51bGwpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIXByZXYuaGFzRGF0YSgpIHx8ICFuZXh0Lmhhc0RhdGEoKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChwcmV2LmRlbVRleHR1cmUgPT0gbnVsbCB8fCBuZXh0LmRlbVRleHR1cmUgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBwcmV2LnRpbGVJRC5rZXkgIT09IG5leHQudGlsZUlELmtleTtcbn1cblxuY29uc3QgdmVydGV4TW9ycGhpbmcgPSBuZXcgVmVydGV4TW9ycGhpbmcoKTtcbmNvbnN0IFNIQURFUl9ERUZBVUxUID0gMDtcbmNvbnN0IFNIQURFUl9NT1JQSElORyA9IDE7XG5jb25zdCBTSEFERVJfVEVSUkFJTl9XSVJFRlJBTUUgPSAyO1xuY29uc3QgZGVmYXVsdER1cmF0aW9uID0gMjUwO1xuXG5jb25zdCBzaGFkZXJEZWZpbmVzID0ge1xuICAgIFwiMFwiOiBudWxsLFxuICAgIFwiMVwiOiAnVEVSUkFJTl9WRVJURVhfTU9SUEhJTkcnLFxuICAgIFwiMlwiOiAnVEVSUkFJTl9XSVJFRlJBTUUnXG59O1xuXG5mdW5jdGlvbiBkcmF3VGVycmFpbkZvckdsb2JlKHBhaW50ZXI6IFBhaW50ZXIsIHRlcnJhaW46IFRlcnJhaW4sIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgdGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4sIG5vdzogbnVtYmVyKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBsZXQgcHJvZ3JhbSwgcHJvZ3JhbU1vZGU7XG4gICAgY29uc3Qgc2hvd1dpcmVmcmFtZSA9IHBhaW50ZXIub3B0aW9ucy5zaG93VGVycmFpbldpcmVmcmFtZSA/IFNIQURFUl9URVJSQUlOX1dJUkVGUkFNRSA6IFNIQURFUl9ERUZBVUxUO1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgdXNlQ3VzdG9tQW50aWFsaWFzaW5nID0gZ2xvYmVVc2VDdXN0b21BbnRpQWxpYXNpbmcocGFpbnRlciwgY29udGV4dCwgdHIpO1xuXG4gICAgY29uc3Qgc2V0U2hhZGVyTW9kZSA9IChtb2RlLCBpc1dpcmVmcmFtZSkgPT4ge1xuICAgICAgICBpZiAocHJvZ3JhbU1vZGUgPT09IG1vZGUpIHJldHVybjtcbiAgICAgICAgY29uc3QgZGVmaW5lcyA9IFtzaGFkZXJEZWZpbmVzW21vZGVdLCAnUFJPSkVDVElPTl9HTE9CRV9WSUVXJ107XG5cbiAgICAgICAgaWYgKHVzZUN1c3RvbUFudGlhbGlhc2luZykgZGVmaW5lcy5wdXNoKCdDVVNUT01fQU5USUFMSUFTSU5HJyk7XG4gICAgICAgIGlmIChpc1dpcmVmcmFtZSkgZGVmaW5lcy5wdXNoKHNoYWRlckRlZmluZXNbc2hvd1dpcmVmcmFtZV0pO1xuXG4gICAgICAgIHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2dsb2JlUmFzdGVyJywgbnVsbCwgZGVmaW5lcyk7XG4gICAgICAgIHByb2dyYW1Nb2RlID0gbW9kZTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG4gICAgY29uc3QgZGVwdGhNb2RlID0gbmV3IERlcHRoTW9kZShnbC5MRVFVQUwsIERlcHRoTW9kZS5SZWFkV3JpdGUsIHBhaW50ZXIuZGVwdGhSYW5nZUZvcjNEKTtcbiAgICB2ZXJ0ZXhNb3JwaGluZy51cGRhdGUobm93KTtcbiAgICBjb25zdCBnbG9iZU1lcmNhdG9yTWF0cml4ID0gY2FsY3VsYXRlR2xvYmVNZXJjYXRvck1hdHJpeCh0cik7XG4gICAgY29uc3QgbWVyY2F0b3JDZW50ZXIgPSBbbWVyY2F0b3JYZnJvbUxuZyh0ci5jZW50ZXIubG5nKSwgbWVyY2F0b3JZZnJvbUxhdCh0ci5jZW50ZXIubGF0KV07XG4gICAgY29uc3QgYmF0Y2hlcyA9IHNob3dXaXJlZnJhbWUgPyBbZmFsc2UsIHRydWVdIDogW2ZhbHNlXTtcbiAgICBjb25zdCBzaGFyZWRCdWZmZXJzID0gcGFpbnRlci5nbG9iZVNoYXJlZEJ1ZmZlcnM7XG4gICAgY29uc3Qgdmlld3BvcnQgPSBbdHIud2lkdGggKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sIHRyLmhlaWdodCAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpb107XG4gICAgY29uc3QgZ2xvYmVNYXRyaXggPSBGbG9hdDMyQXJyYXkuZnJvbSh0ci5nbG9iZU1hdHJpeCk7XG4gICAgY29uc3QgZWxldmF0aW9uT3B0aW9ucyA9IHt1c2VEZW5vcm1hbGl6ZWRVcFZlY3RvclNjYWxlOiB0cnVlfTtcblxuICAgIGJhdGNoZXMuZm9yRWFjaChpc1dpcmVmcmFtZSA9PiB7XG4gICAgICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IHNraXJ0SGVpZ2h0VmFsdWUgPSBza2lydEhlaWdodCh0ci56b29tKSAqIHRlcnJhaW4uZXhhZ2dlcmF0aW9uKCk7XG5cbiAgICAgICAgLy8gVGhpcyBjb2RlIGFzc3VtZXMgdGhlIHJlbmRlcmluZyBpcyBiYXRjaGVkIGludG8gbWVzaCB0ZXJyYWluIGFuZCB0aGVuIHdpcmVmcmFtZVxuICAgICAgICAvLyB0ZXJyYWluIChpZiBhcHBsaWNhYmxlKSBzbyB0aGF0IHRoaXMgaXMgZW5vdWdoIHRvIGVuc3VyZSB0aGUgY29ycmVjdCBwcm9ncmFtIGlzXG4gICAgICAgIC8vIHNldCB3aGVuIHdlIHN3aXRjaCBmcm9tIG9uZSB0byB0aGUgb3RoZXIuXG4gICAgICAgIHByb2dyYW1Nb2RlID0gLTE7XG5cbiAgICAgICAgY29uc3QgcHJpbWl0aXZlID0gaXNXaXJlZnJhbWUgPyBnbC5MSU5FUyA6IGdsLlRSSUFOR0xFUztcblxuICAgICAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gU3RlbmNpbE1vZGUuZGlzYWJsZWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHByZXZEZW1UaWxlID0gdGVycmFpbi5wcmV2VGVycmFpblRpbGVGb3JUaWxlW2Nvb3JkLmtleV07XG4gICAgICAgICAgICBjb25zdCBuZXh0RGVtVGlsZSA9IHRlcnJhaW4udGVycmFpblRpbGVGb3JUaWxlW2Nvb3JkLmtleV07XG5cbiAgICAgICAgICAgIGlmIChkZW1UaWxlQ2hhbmdlZChwcmV2RGVtVGlsZSwgbmV4dERlbVRpbGUpKSB7XG4gICAgICAgICAgICAgICAgdmVydGV4TW9ycGhpbmcubmV3TW9ycGhpbmcoY29vcmQua2V5LCBwcmV2RGVtVGlsZSwgbmV4dERlbVRpbGUsIG5vdywgZGVmYXVsdER1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQmluZCB0aGUgbWFpbiBkcmFwZWQgdGV4dHVyZVxuICAgICAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgICAgICB0aWxlLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgICAgICAgICBjb25zdCBtb3JwaCA9IHZlcnRleE1vcnBoaW5nLmdldE1vcnBoVmFsdWVzRm9yUHJveHkoY29vcmQua2V5KTtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRlck1vZGUgPSBtb3JwaCA/IFNIQURFUl9NT1JQSElORyA6IFNIQURFUl9ERUZBVUxUO1xuXG4gICAgICAgICAgICBpZiAobW9ycGgpIHtcbiAgICAgICAgICAgICAgICBleHRlbmQoZWxldmF0aW9uT3B0aW9ucywge21vcnBoaW5nOiB7c3JjRGVtVGlsZTogbW9ycGguZnJvbSwgZHN0RGVtVGlsZTogbW9ycGgudG8sIHBoYXNlOiBlYXNlQ3ViaWNJbk91dChtb3JwaC5waGFzZSl9fSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbGVCb3VuZHMgPSB0aWxlQ29ybmVyc1RvQm91bmRzKGNvb3JkLmNhbm9uaWNhbCk7XG4gICAgICAgICAgICBjb25zdCBsYXRpdHVkaW5hbExvZCA9IGdldExhdGl0dWRpbmFsTG9kKHRpbGVCb3VuZHMuZ2V0Q2VudGVyKCkubGF0KTtcbiAgICAgICAgICAgIGNvbnN0IGdyaWRNYXRyaXggPSBnZXRHcmlkTWF0cml4KGNvb3JkLmNhbm9uaWNhbCwgdGlsZUJvdW5kcywgbGF0aXR1ZGluYWxMb2QsIHRyLndvcmxkU2l6ZSAvIHRyLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsKTtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZU1hdHJpeCA9IGdsb2JlTm9ybWFsaXplRUNFRihnbG9iZVRpbGVCb3VuZHMoY29vcmQuY2Fub25pY2FsKSk7XG4gICAgICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gZ2xvYmVSYXN0ZXJVbmlmb3JtVmFsdWVzKFxuICAgICAgICAgICAgICAgIHRyLnByb2pNYXRyaXgsIGdsb2JlTWF0cml4LCBnbG9iZU1lcmNhdG9yTWF0cml4LCBub3JtYWxpemVNYXRyaXgsIGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odHIuem9vbSksXG4gICAgICAgICAgICAgICAgbWVyY2F0b3JDZW50ZXIsIHRyLmZydXN0dW1Db3JuZXJzLlRMLCB0ci5mcnVzdHVtQ29ybmVycy5UUiwgdHIuZnJ1c3R1bUNvcm5lcnMuQlIsXG4gICAgICAgICAgICAgICAgdHIuZnJ1c3R1bUNvcm5lcnMuQkwsIHRyLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsIHRyLmdsb2JlUmFkaXVzLCB2aWV3cG9ydCwgc2tpcnRIZWlnaHRWYWx1ZSwgZ3JpZE1hdHJpeCk7XG5cbiAgICAgICAgICAgIHNldFNoYWRlck1vZGUoc2hhZGVyTW9kZSwgaXNXaXJlZnJhbWUpO1xuXG4gICAgICAgICAgICB0ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyh0aWxlLCBwcm9ncmFtLCBlbGV2YXRpb25PcHRpb25zKTtcblxuICAgICAgICAgICAgcGFpbnRlci5wcmVwYXJlRHJhd1Byb2dyYW0oY29udGV4dCwgcHJvZ3JhbSwgY29vcmQudG9VbndyYXBwZWQoKSk7XG5cbiAgICAgICAgICAgIGlmIChzaGFyZWRCdWZmZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2J1ZmZlciwgaW5kZXhCdWZmZXIsIHNlZ21lbnRzXSA9IGlzV2lyZWZyYW1lID9cbiAgICAgICAgICAgICAgICAgICAgc2hhcmVkQnVmZmVycy5nZXRXaXJlZmFtZUJ1ZmZlcnMocGFpbnRlci5jb250ZXh0LCBsYXRpdHVkaW5hbExvZCkgOlxuICAgICAgICAgICAgICAgICAgICBzaGFyZWRCdWZmZXJzLmdldEdyaWRCdWZmZXJzKGxhdGl0dWRpbmFsTG9kLCBza2lydEhlaWdodFZhbHVlICE9PSAwKTtcblxuICAgICAgICAgICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBwcmltaXRpdmUsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmJhY2tDQ1csXG4gICAgICAgICAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMsIFwiZ2xvYmVfcmFzdGVyXCIsIGJ1ZmZlciwgaW5kZXhCdWZmZXIsIHNlZ21lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUmVuZGVyIHRoZSBwb2xlcy5cbiAgICBpZiAoc2hhcmVkQnVmZmVycykge1xuICAgICAgICBjb25zdCBkZWZpbmVzID0gWydHTE9CRV9QT0xFUycsICdQUk9KRUNUSU9OX0dMT0JFX1ZJRVcnXTtcbiAgICAgICAgaWYgKHVzZUN1c3RvbUFudGlhbGlhc2luZykgZGVmaW5lcy5wdXNoKCdDVVNUT01fQU5USUFMSUFTSU5HJyk7XG5cbiAgICAgICAgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnZ2xvYmVSYXN0ZXInLCBudWxsLCBkZWZpbmVzKTtcbiAgICAgICAgZm9yIChjb25zdCBjb29yZCBvZiB0aWxlSURzKSB7XG4gICAgICAgICAgICAvLyBGaWxsIHBvbGVzIGJ5IGV4dHJhcG9sYXRpbmcgYWRqYWNlbnQgYm9yZGVyIHRpbGVzXG4gICAgICAgICAgICBjb25zdCB7eCwgeSwgen0gPSBjb29yZC5jYW5vbmljYWw7XG4gICAgICAgICAgICBjb25zdCB0b3BDYXAgPSB5ID09PSAwO1xuICAgICAgICAgICAgY29uc3QgYm90dG9tQ2FwID0geSA9PT0gKDEgPDwgeikgLSAxO1xuXG4gICAgICAgICAgICBjb25zdCBbbm9ydGhQb2xlQnVmZmVyLCBzb3V0aFBvbGVCdWZmZXIsIGluZGV4QnVmZmVyLCBzZWdtZW50XSA9IHNoYXJlZEJ1ZmZlcnMuZ2V0UG9sZUJ1ZmZlcnMoeik7XG5cbiAgICAgICAgICAgIGlmIChzZWdtZW50ICYmICh0b3BDYXAgfHwgYm90dG9tQ2FwKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcblxuICAgICAgICAgICAgICAgIC8vIEJpbmQgdGhlIG1haW4gZHJhcGVkIHRleHR1cmVcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgICAgICB0aWxlLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHBvbGVNYXRyaXggPSBnbG9iZVBvbGVNYXRyaXhGb3JUaWxlKHosIHgsIHRyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBub3JtYWxpemVNYXRyaXggPSBnbG9iZU5vcm1hbGl6ZUVDRUYoZ2xvYmVUaWxlQm91bmRzKGNvb3JkLmNhbm9uaWNhbCkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZHJhd1BvbGUgPSAocHJvZ3JhbSwgdmVydGV4QnVmZmVyKSA9PiBwcm9ncmFtLmRyYXcoXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBTdGVuY2lsTW9kZS5kaXNhYmxlZCwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgIGdsb2JlUmFzdGVyVW5pZm9ybVZhbHVlcyh0ci5wcm9qTWF0cml4LCBwb2xlTWF0cml4LCBwb2xlTWF0cml4LCBub3JtYWxpemVNYXRyaXgsIDAuMCwgbWVyY2F0b3JDZW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIHRyLmZydXN0dW1Db3JuZXJzLlRMLCB0ci5mcnVzdHVtQ29ybmVycy5UUiwgdHIuZnJ1c3R1bUNvcm5lcnMuQlIsIHRyLmZydXN0dW1Db3JuZXJzLkJMLFxuICAgICAgICAgICAgICAgICAgICB0ci5nbG9iZUNlbnRlckluVmlld1NwYWNlLCB0ci5nbG9iZVJhZGl1cywgdmlld3BvcnQsIDApLCBcImdsb2JlX3BvbGVfcmFzdGVyXCIsIHZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhCdWZmZXIsIHNlZ21lbnQpO1xuXG4gICAgICAgICAgICAgICAgdGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcodGlsZSwgcHJvZ3JhbSwgZWxldmF0aW9uT3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICBwYWludGVyLnByZXBhcmVEcmF3UHJvZ3JhbShjb250ZXh0LCBwcm9ncmFtLCBjb29yZC50b1Vud3JhcHBlZCgpKTtcblxuICAgICAgICAgICAgICAgIGlmICh0b3BDYXApIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd1BvbGUocHJvZ3JhbSwgbm9ydGhQb2xlQnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJvdHRvbUNhcCkge1xuICAgICAgICAgICAgICAgICAgICBwb2xlTWF0cml4ID0gbWF0NC5zY2FsZShtYXQ0LmNyZWF0ZSgpLCBwb2xlTWF0cml4LCBbMSwgLTEsIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgZHJhd1BvbGUocHJvZ3JhbSwgc291dGhQb2xlQnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdUZXJyYWluUmFzdGVyKHBhaW50ZXI6IFBhaW50ZXIsIHRlcnJhaW46IFRlcnJhaW4sIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgdGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4sIG5vdzogbnVtYmVyKSB7XG4gICAgaWYgKHBhaW50ZXIudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICBkcmF3VGVycmFpbkZvckdsb2JlKHBhaW50ZXIsIHRlcnJhaW4sIHNvdXJjZUNhY2hlLCB0aWxlSURzLCBub3cpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBsZXQgcHJvZ3JhbSwgcHJvZ3JhbU1vZGU7XG4gICAgICAgIGNvbnN0IHNob3dXaXJlZnJhbWUgPSBwYWludGVyLm9wdGlvbnMuc2hvd1RlcnJhaW5XaXJlZnJhbWUgPyBTSEFERVJfVEVSUkFJTl9XSVJFRlJBTUUgOiBTSEFERVJfREVGQVVMVDtcblxuICAgICAgICBjb25zdCBzZXRTaGFkZXJNb2RlID0gKG1vZGUsIGlzV2lyZWZyYW1lKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvZ3JhbU1vZGUgPT09IG1vZGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgbW9kZXMgPSBbc2hhZGVyRGVmaW5lc1ttb2RlXV07XG4gICAgICAgICAgICBpZiAoaXNXaXJlZnJhbWUpIG1vZGVzLnB1c2goc2hhZGVyRGVmaW5lc1tzaG93V2lyZWZyYW1lXSk7XG4gICAgICAgICAgICBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCd0ZXJyYWluUmFzdGVyJywgbnVsbCwgbW9kZXMpO1xuICAgICAgICAgICAgcHJvZ3JhbU1vZGUgPSBtb2RlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNvbG9yTW9kZSA9IHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO1xuICAgICAgICBjb25zdCBkZXB0aE1vZGUgPSBuZXcgRGVwdGhNb2RlKGdsLkxFUVVBTCwgRGVwdGhNb2RlLlJlYWRXcml0ZSwgcGFpbnRlci5kZXB0aFJhbmdlRm9yM0QpO1xuICAgICAgICB2ZXJ0ZXhNb3JwaGluZy51cGRhdGUobm93KTtcbiAgICAgICAgY29uc3QgdHIgPSBwYWludGVyLnRyYW5zZm9ybTtcbiAgICAgICAgY29uc3Qgc2tpcnQgPSBza2lydEhlaWdodCh0ci56b29tKSAqIHRlcnJhaW4uZXhhZ2dlcmF0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgYmF0Y2hlcyA9IHNob3dXaXJlZnJhbWUgPyBbZmFsc2UsIHRydWVdIDogW2ZhbHNlXTtcblxuICAgICAgICBiYXRjaGVzLmZvckVhY2goaXNXaXJlZnJhbWUgPT4ge1xuICAgICAgICAgICAgLy8gVGhpcyBjb2RlIGFzc3VtZXMgdGhlIHJlbmRlcmluZyBpcyBiYXRjaGVkIGludG8gbWVzaCB0ZXJyYWluIGFuZCB0aGVuIHdpcmVmcmFtZVxuICAgICAgICAgICAgLy8gdGVycmFpbiAoaWYgYXBwbGljYWJsZSkgc28gdGhhdCB0aGlzIGlzIGVub3VnaCB0byBlbnN1cmUgdGhlIGNvcnJlY3QgcHJvZ3JhbSBpc1xuICAgICAgICAgICAgLy8gc2V0IHdoZW4gd2Ugc3dpdGNoIGZyb20gb25lIHRvIHRoZSBvdGhlci5cbiAgICAgICAgICAgIHByb2dyYW1Nb2RlID0gLTE7XG5cbiAgICAgICAgICAgIGNvbnN0IHByaW1pdGl2ZSA9IGlzV2lyZWZyYW1lID8gZ2wuTElORVMgOiBnbC5UUklBTkdMRVM7XG4gICAgICAgICAgICBjb25zdCBbYnVmZmVyLCBzZWdtZW50c10gPSBpc1dpcmVmcmFtZSA/IHRlcnJhaW4uZ2V0V2lyZWZhbWVCdWZmZXIoKSA6IFt0ZXJyYWluLmdyaWRJbmRleEJ1ZmZlciwgdGVycmFpbi5ncmlkU2VnbWVudHNdO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RlbmNpbE1vZGUgPSBTdGVuY2lsTW9kZS5kaXNhYmxlZDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZEZW1UaWxlID0gdGVycmFpbi5wcmV2VGVycmFpblRpbGVGb3JUaWxlW2Nvb3JkLmtleV07XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dERlbVRpbGUgPSB0ZXJyYWluLnRlcnJhaW5UaWxlRm9yVGlsZVtjb29yZC5rZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRlbVRpbGVDaGFuZ2VkKHByZXZEZW1UaWxlLCBuZXh0RGVtVGlsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGV4TW9ycGhpbmcubmV3TW9ycGhpbmcoY29vcmQua2V5LCBwcmV2RGVtVGlsZSwgbmV4dERlbVRpbGUsIG5vdywgZGVmYXVsdER1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBCaW5kIHRoZSBtYWluIGRyYXBlZCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFLCBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9ycGggPSB2ZXJ0ZXhNb3JwaGluZy5nZXRNb3JwaFZhbHVlc0ZvclByb3h5KGNvb3JkLmtleSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhZGVyTW9kZSA9IG1vcnBoID8gU0hBREVSX01PUlBISU5HIDogU0hBREVSX0RFRkFVTFQ7XG4gICAgICAgICAgICAgICAgbGV0IGVsZXZhdGlvbk9wdGlvbnM7XG5cbiAgICAgICAgICAgICAgICBpZiAobW9ycGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxldmF0aW9uT3B0aW9ucyA9IHttb3JwaGluZzoge3NyY0RlbVRpbGU6IG1vcnBoLmZyb20sIGRzdERlbVRpbGU6IG1vcnBoLnRvLCBwaGFzZTogZWFzZUN1YmljSW5PdXQobW9ycGgucGhhc2UpfX07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdW5pZm9ybVZhbHVlcyA9IHRlcnJhaW5SYXN0ZXJVbmlmb3JtVmFsdWVzKGNvb3JkLnByb2pNYXRyaXgsIGlzRWRnZVRpbGUoY29vcmQuY2Fub25pY2FsLCB0ci5yZW5kZXJXb3JsZENvcGllcykgPyBza2lydCAvIDEwIDogc2tpcnQpO1xuICAgICAgICAgICAgICAgIHNldFNoYWRlck1vZGUoc2hhZGVyTW9kZSwgaXNXaXJlZnJhbWUpO1xuXG4gICAgICAgICAgICAgICAgdGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcodGlsZSwgcHJvZ3JhbSwgZWxldmF0aW9uT3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICBwYWludGVyLnByZXBhcmVEcmF3UHJvZ3JhbShjb250ZXh0LCBwcm9ncmFtLCBjb29yZC50b1Vud3JhcHBlZCgpKTtcblxuICAgICAgICAgICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBwcmltaXRpdmUsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmJhY2tDQ1csXG4gICAgICAgICAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMsIFwidGVycmFpbl9yYXN0ZXJcIiwgdGVycmFpbi5ncmlkQnVmZmVyLCBidWZmZXIsIHNlZ21lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3VGVycmFpbkRlcHRoKHBhaW50ZXI6IFBhaW50ZXIsIHRlcnJhaW46IFRlcnJhaW4sIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgdGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBpZiAocGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhc3NlcnQocGFpbnRlci5yZW5kZXJQYXNzID09PSAnb2Zmc2NyZWVuJyk7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgIGNvbnRleHQuY2xlYXIoe2RlcHRoOiAxfSk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgndGVycmFpbkRlcHRoJyk7XG4gICAgY29uc3QgZGVwdGhNb2RlID0gbmV3IERlcHRoTW9kZShnbC5MRVNTLCBEZXB0aE1vZGUuUmVhZFdyaXRlLCBwYWludGVyLmRlcHRoUmFuZ2VGb3IzRCk7XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gdGVycmFpblJhc3RlclVuaWZvcm1WYWx1ZXMoY29vcmQucHJvak1hdHJpeCwgMCk7XG4gICAgICAgIHRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHRpbGUsIHByb2dyYW0pO1xuXG4gICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSwgU3RlbmNpbE1vZGUuZGlzYWJsZWQsIENvbG9yTW9kZS51bmJsZW5kZWQsIEN1bGxGYWNlTW9kZS5iYWNrQ0NXLFxuICAgICAgICAgICAgdW5pZm9ybVZhbHVlcywgXCJ0ZXJyYWluX2RlcHRoXCIsIHRlcnJhaW4uZ3JpZEJ1ZmZlciwgdGVycmFpbi5ncmlkSW5kZXhCdWZmZXIsIHRlcnJhaW4uZ3JpZE5vU2tpcnRTZWdtZW50cyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBza2lydEhlaWdodCh6b29tKSB7XG4gICAgLy8gU2tpcnQgaGVpZ2h0IGNhbGN1bGF0aW9uIGlzIGhldXJpc3RpYzogcHJvdmlkZWQgdmFsdWUgaGlkZXNcbiAgICAvLyBzZWFtcyBiZXR3ZWVuIHRpbGVzIGFuZCBpdCBpcyBub3QgdG9vIGxhcmdlOiA5IGF0IHpvb20gMjIsIH4yMDAwMG0gYXQgem9vbSAwLlxuICAgIHJldHVybiA2ICogTWF0aC5wb3coMS41LCAyMiAtIHpvb20pO1xufVxuXG5mdW5jdGlvbiBpc0VkZ2VUaWxlKGNpZDogQ2Fub25pY2FsVGlsZUlELCByZW5kZXJXb3JsZENvcGllczogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG51bVRpbGVzID0gMSA8PCBjaWQuejtcbiAgICByZXR1cm4gKCFyZW5kZXJXb3JsZENvcGllcyAmJiAoY2lkLnggPT09IDAgfHwgY2lkLnggPT09IG51bVRpbGVzIC0gMSkpIHx8IGNpZC55ID09PSAwIHx8IGNpZC55ID09PSBudW1UaWxlcyAtIDE7XG59XG5cbmV4cG9ydCB7XG4gICAgVmVydGV4TW9ycGhpbmdcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1VuaWZvcm1NYXRyaXg0Zn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuXG5leHBvcnQgdHlwZSBDbGlwcGluZ01hc2tVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZlxufH07XG5cbmNvbnN0IGNsaXBwaW5nTWFza1VuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBDbGlwcGluZ01hc2tVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpXG59KTtcblxuY29uc3QgY2xpcHBpbmdNYXNrVW5pZm9ybVZhbHVlcyA9IChtYXRyaXg6IEZsb2F0MzJBcnJheSk6IFVuaWZvcm1WYWx1ZXM8Q2xpcHBpbmdNYXNrVW5pZm9ybXNUeXBlPiA9PiAoe1xuICAgICd1X21hdHJpeCc6IG1hdHJpeFxufSk7XG5cbmV4cG9ydCB7Y2xpcHBpbmdNYXNrVW5pZm9ybXMsIGNsaXBwaW5nTWFza1VuaWZvcm1WYWx1ZXN9O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZS5qcyc7XG5pbXBvcnQge2NsYW1wfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcblxuZXhwb3J0IHR5cGUgUmFzdGVyRmFkZSA9IHt8XG4gICAgb3BhY2l0eTogbnVtYmVyLFxuICAgIG1peDogbnVtYmVyLFxufH07XG5cbmZ1bmN0aW9uIHJhc3RlckZhZGUodGlsZTogVGlsZSwgcGFyZW50VGlsZTogP1RpbGUsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sIGZhZGVEdXJhdGlvbjogbnVtYmVyKTogUmFzdGVyRmFkZSB7XG4gICAgaWYgKGZhZGVEdXJhdGlvbiA+IDApIHtcbiAgICAgICAgY29uc3Qgbm93ID0gYnJvd3Nlci5ub3coKTtcbiAgICAgICAgY29uc3Qgc2luY2VUaWxlID0gKG5vdyAtIHRpbGUudGltZUFkZGVkKSAvIGZhZGVEdXJhdGlvbjtcbiAgICAgICAgY29uc3Qgc2luY2VQYXJlbnQgPSBwYXJlbnRUaWxlID8gKG5vdyAtIHBhcmVudFRpbGUudGltZUFkZGVkKSAvIGZhZGVEdXJhdGlvbiA6IC0xO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpO1xuICAgICAgICBjb25zdCBpZGVhbFogPSB0cmFuc2Zvcm0uY292ZXJpbmdab29tTGV2ZWwoe1xuICAgICAgICAgICAgdGlsZVNpemU6IHNvdXJjZS50aWxlU2l6ZSxcbiAgICAgICAgICAgIHJvdW5kWm9vbTogc291cmNlLnJvdW5kWm9vbVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiBubyBwYXJlbnQgb3IgcGFyZW50IGlzIG9sZGVyLCBmYWRlIGluOyBpZiBwYXJlbnQgaXMgeW91bmdlciwgZmFkZSBvdXRcbiAgICAgICAgY29uc3QgZmFkZUluID0gIXBhcmVudFRpbGUgfHwgTWF0aC5hYnMocGFyZW50VGlsZS50aWxlSUQub3ZlcnNjYWxlZFogLSBpZGVhbFopID4gTWF0aC5hYnModGlsZS50aWxlSUQub3ZlcnNjYWxlZFogLSBpZGVhbFopO1xuXG4gICAgICAgIGNvbnN0IGNoaWxkT3BhY2l0eSA9IChmYWRlSW4gJiYgdGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbikgPyAxIDogY2xhbXAoZmFkZUluID8gc2luY2VUaWxlIDogMSAtIHNpbmNlUGFyZW50LCAwLCAxKTtcblxuICAgICAgICAvLyB3ZSBkb24ndCBjcm9zc2ZhZGUgdGlsZXMgdGhhdCB3ZXJlIGp1c3QgcmVmcmVzaGVkIHVwb24gZXhwaXJpbmc6XG4gICAgICAgIC8vIG9uY2UgdGhleSdyZSBvbGQgZW5vdWdoIHRvIHBhc3MgdGhlIGNyb3NzZmFkaW5nIHRocmVzaG9sZFxuICAgICAgICAvLyAoZmFkZUR1cmF0aW9uKSwgdW5zZXQgdGhlIGByZWZyZXNoZWRVcG9uRXhwaXJhdGlvbmAgZmxhZyBzbyB3ZSBkb24ndFxuICAgICAgICAvLyBpbmNvcnJlY3RseSBmYWlsIHRvIGNyb3NzZmFkZSB0aGVtIHdoZW4gem9vbWluZ1xuICAgICAgICBpZiAodGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiAmJiBzaW5jZVRpbGUgPj0gMSkgdGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChwYXJlbnRUaWxlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgbWl4OiAxIC0gY2hpbGRPcGFjaXR5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBjaGlsZE9wYWNpdHksXG4gICAgICAgICAgICAgICAgbWl4OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICBtaXg6IDBcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJhc3RlckZhZGU7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZS5qcyc7XG5pbXBvcnQge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCBwb3NBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvcG9zX2F0dHJpYnV0ZXMuanMnO1xuaW1wb3J0IHtUcmlhbmdsZUluZGV4QXJyYXksIExpbmVJbmRleEFycmF5LCBQb3NBcnJheX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5pbXBvcnQgU2VnbWVudFZlY3RvciBmcm9tICcuLi9kYXRhL3NlZ21lbnQuanMnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUuanMnO1xuaW1wb3J0IFByb2dyYW0gZnJvbSAnLi4vcmVuZGVyL3Byb2dyYW0uanMnO1xuaW1wb3J0IHtVbmlmb3JtMWksIFVuaWZvcm0xZiwgVW5pZm9ybTJmLCBVbmlmb3JtM2YsIFVuaWZvcm00ZiwgVW5pZm9ybU1hdHJpeDRmfSBmcm9tICcuLi9yZW5kZXIvdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB7cHJlcGFyZURFTVRleHR1cmV9IGZyb20gJy4uL3JlbmRlci9kcmF3X2hpbGxzaGFkZS5qcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50LmpzJztcbmltcG9ydCB7Y2xhbXAsIHdhcm5PbmNlfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHt2ZWMzLCBtYXQ0LCB2ZWM0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IGdldFdvcmtlclBvb2wgZnJvbSAnLi4vdXRpbC9nbG9iYWxfd29ya2VyX3Bvb2wuanMnO1xuaW1wb3J0IERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyLmpzJztcbmltcG9ydCBHZW9KU09OU291cmNlIGZyb20gJy4uL3NvdXJjZS9nZW9qc29uX3NvdXJjZS5qcyc7XG5pbXBvcnQgSW1hZ2VTb3VyY2UgZnJvbSAnLi4vc291cmNlL2ltYWdlX3NvdXJjZS5qcyc7XG5pbXBvcnQgUmFzdGVyREVNVGlsZVNvdXJjZSBmcm9tICcuLi9zb3VyY2UvcmFzdGVyX2RlbV90aWxlX3NvdXJjZS5qcyc7XG5pbXBvcnQgUmFzdGVyVGlsZVNvdXJjZSBmcm9tICcuLi9zb3VyY2UvcmFzdGVyX3RpbGVfc291cmNlLmpzJztcbmltcG9ydCBWZWN0b3JUaWxlU291cmNlIGZyb20gJy4uL3NvdXJjZS92ZWN0b3JfdGlsZV9zb3VyY2UuanMnO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvci5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrLmpzJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUuanMnO1xuaW1wb3J0IHtEZXB0aFN0ZW5jaWxBdHRhY2htZW50fSBmcm9tICcuLi9nbC92YWx1ZS5qcyc7XG5pbXBvcnQge2RyYXdUZXJyYWluUmFzdGVyLCBkcmF3VGVycmFpbkRlcHRofSBmcm9tICcuL2RyYXdfdGVycmFpbl9yYXN0ZXIuanMnO1xuaW1wb3J0IHR5cGUgUmFzdGVyU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9yYXN0ZXJfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgQ3VzdG9tU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9jdXN0b21fc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgTGluZVN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvbGluZV9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQge0VsZXZhdGlvbn0gZnJvbSAnLi9lbGV2YXRpb24uanMnO1xuaW1wb3J0IEZyYW1lYnVmZmVyIGZyb20gJy4uL2dsL2ZyYW1lYnVmZmVyLmpzJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZS5qcyc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQge2NsaXBwaW5nTWFza1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3JlbmRlci9wcm9ncmFtL2NsaXBwaW5nX21hc2tfcHJvZ3JhbS5qcyc7XG5pbXBvcnQgTWVyY2F0b3JDb29yZGluYXRlLCB7bWVyY2F0b3JaZnJvbUFsdGl0dWRlfSBmcm9tICcuLi9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IERFTURhdGEgZnJvbSAnLi4vZGF0YS9kZW1fZGF0YS5qcyc7XG5pbXBvcnQge0RyYXBlUmVuZGVyTW9kZX0gZnJvbSAnLi4vc3R5bGUvdGVycmFpbi5qcyc7XG5pbXBvcnQgcmFzdGVyRmFkZSBmcm9tICcuLi9yZW5kZXIvcmFzdGVyX2ZhZGUuanMnO1xuaW1wb3J0IHtjcmVhdGUgYXMgY3JlYXRlU291cmNlfSBmcm9tICcuLi9zb3VyY2Uvc291cmNlLmpzJztcbmltcG9ydCB7UkdCQUltYWdlfSBmcm9tICcuLi91dGlsL2ltYWdlLmpzJztcbmltcG9ydCB7Z2xvYmVNZXRlcnNUb0VjZWZ9IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL2dsb2JlX3V0aWwuanMnO1xuaW1wb3J0IHtab29tRGVwZW5kZW50RXhwcmVzc2lvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy9leHByZXNzaW9uL2luZGV4LmpzJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3JlbmRlci9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFN0eWxlIGZyb20gJy4uL3N0eWxlL3N0eWxlLmpzJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXIuanMnO1xuaW1wb3J0IHR5cGUgSW5kZXhCdWZmZXIgZnJvbSAnLi4vZ2wvaW5kZXhfYnVmZmVyLmpzJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dC5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vcmVuZGVyL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSB7REVNRW5jb2Rpbmd9IGZyb20gJy4uL2RhdGEvZGVtX2RhdGEuanMnO1xuaW1wb3J0IHR5cGUge1ZlYzMsIFZlYzR9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgdHlwZSB7Q2Fub25pY2FsVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5cbmNvbnN0IEdSSURfRElNID0gMTI4O1xuXG5jb25zdCBGQk9fUE9PTF9TSVpFID0gNTtcbmNvbnN0IFJFTkRFUl9DQUNIRV9NQVhfU0laRSA9IDUwO1xuXG50eXBlIFJlbmRlckJhdGNoID0ge1xuICAgIHN0YXJ0OiBudW1iZXI7XG4gICAgZW5kOiBudW1iZXI7XG59XG5cbmNsYXNzIE1vY2tTb3VyY2VDYWNoZSBleHRlbmRzIFNvdXJjZUNhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCkge1xuICAgICAgICBjb25zdCBzb3VyY2VTcGVjID0ge3R5cGU6ICdyYXN0ZXItZGVtJywgbWF4em9vbTogbWFwLnRyYW5zZm9ybS5tYXhab29tfTtcbiAgICAgICAgY29uc3Qgc291cmNlRGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKGdldFdvcmtlclBvb2woKSwgbnVsbCk7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGNyZWF0ZVNvdXJjZSgnbW9jay1kZW0nLCBzb3VyY2VTcGVjLCBzb3VyY2VEaXNwYXRjaGVyLCBtYXAuc3R5bGUpO1xuXG4gICAgICAgIHN1cGVyKCdtb2NrLWRlbScsIHNvdXJjZSwgZmFsc2UpO1xuXG4gICAgICAgIHNvdXJjZS5zZXRFdmVudGVkUGFyZW50KHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX3NvdXJjZUxvYWRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgX2xvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBQcm94eSBzb3VyY2UgY2FjaGUgZ2V0cyBpZGVhbCBzY3JlZW4gdGlsZSBjb3ZlciBjb29yZGluYXRlcy4gQWxsIHRoZSBvdGhlclxuICogc291cmNlIGNhY2hlcydzIGNvb3JkaW5hdGVzIGdldCBtYXBwZWQgdG8gc3VicmVjdHMgb2YgcHJveHkgY29vcmRpbmF0ZXMgKG9yXG4gKiB2aWNlIHZlcnNhLCBzdWJyZWN0cyBvZiBsYXJnZXIgdGlsZXMgZnJvbSBhbGwgc291cmNlIGNhY2hlcyBnZXQgbWFwcGVkIHRvXG4gKiBmdWxsIHByb3h5IHRpbGUpLiBUaGlzIGhhcHBlbnMgb24gZXZlcnkgZHJhdyBjYWxsIGluIFRlcnJhaW4udXBkYXRlVGlsZUJpbmRpbmcuXG4gKiBBcHByb2FjaCBpcyB1c2VkIGhlcmUgZm9yIHRlcnJhaW4gOiBhbGwgdGhlIHZpc2libGUgc291cmNlIHRpbGVzIG9mIGFsbCB0aGVcbiAqIHNvdXJjZSBjYWNoZXMgZ2V0IHJlbmRlcmVkIHRvIHByb3h5IHNvdXJjZSBjYWNoZSB0ZXh0dXJlcyBhbmQgdGhlbiBkcmFwZWQgb3ZlclxuICogdGVycmFpbi4gSXQgaXMgaW4gZnV0dXJlIHJldXNhYmxlIGZvciBoYW5kbGluZyBvdmVyc2NhbGxpbmcgYXMgYnVja2V0cyBjb3VsZCBiZVxuICogY29uc3RydWN0ZWQgb25seSBmb3IgcHJveHkgdGlsZSBjb250ZW50LCBub3QgZm9yIGZ1bGwgb3ZlcnNjYWxsZWQgdmVjdG9yIHRpbGUuXG4gKi9cbmNsYXNzIFByb3h5U291cmNlQ2FjaGUgZXh0ZW5kcyBTb3VyY2VDYWNoZSB7XG4gICAgcmVuZGVyQ2FjaGU6IEFycmF5PEZCTz47XG4gICAgcmVuZGVyQ2FjaGVQb29sOiBBcnJheTxudW1iZXI+O1xuICAgIHByb3h5Q2FjaGVkRkJPOiB7W3N0cmluZyB8IG51bWJlcl06IHtbc3RyaW5nIHwgbnVtYmVyXTogbnVtYmVyfX07XG5cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCkge1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGNyZWF0ZVNvdXJjZSgncHJveHknLCB7XG4gICAgICAgICAgICB0eXBlOiAnZ2VvanNvbicsXG4gICAgICAgICAgICBtYXh6b29tOiBtYXAudHJhbnNmb3JtLm1heFpvb21cbiAgICAgICAgfSwgbmV3IERpc3BhdGNoZXIoZ2V0V29ya2VyUG9vbCgpLCBudWxsKSwgbWFwLnN0eWxlKTtcblxuICAgICAgICBzdXBlcigncHJveHknLCBzb3VyY2UsIGZhbHNlKTtcblxuICAgICAgICBzb3VyY2Uuc2V0RXZlbnRlZFBhcmVudCh0aGlzKTtcblxuICAgICAgICAvLyBUaGlzIHNvdXJjZSBpcyBub3QgdG8gYmUgYWRkZWQgYXMgYSBtYXAgc291cmNlOiB3ZSB1c2UgaXQncyB0aWxlIG1hbmFnZW1lbnQuXG4gICAgICAgIC8vIEZvciB0aGF0LCBpbml0aWFsaXplIGludGVybmFsIHN0cnVjdHVyZXMgdXNlZCBmb3IgdGlsZSBjb3ZlciB1cGRhdGUuXG4gICAgICAgIHRoaXMubWFwID0gKCh0aGlzLmdldFNvdXJjZSgpOiBhbnkpOiBHZW9KU09OU291cmNlKS5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMudXNlZCA9IHRoaXMuX3NvdXJjZUxvYWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucmVuZGVyQ2FjaGUgPSBbXTtcbiAgICAgICAgdGhpcy5yZW5kZXJDYWNoZVBvb2wgPSBbXTtcbiAgICAgICAgdGhpcy5wcm94eUNhY2hlZEZCTyA9IHt9O1xuICAgIH1cblxuICAgIC8vIE92ZXJyaWRlIGZvciB0cmFuc2llbnQgbmF0dXJlIG9mIGNvdmVyIGhlcmU6IGRvbid0IGNhY2hlIGFuZCByZXRhaW4uXG4gICAgdXBkYXRlKHRyYW5zZm9ybTogVHJhbnNmb3JtLCB0aWxlU2l6ZT86IG51bWJlciwgdXBkYXRlRm9yVGVycmFpbj86IGJvb2xlYW4pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICBpZiAodHJhbnNmb3JtLmZyZWV6ZVRpbGVDb3ZlcmFnZSkgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGlkZWFsVGlsZUlEcyA9IHRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHtcbiAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLl9zb3VyY2UudGlsZVNpemUsXG4gICAgICAgICAgICBtaW56b29tOiB0aGlzLl9zb3VyY2UubWluem9vbSxcbiAgICAgICAgICAgIG1heHpvb206IHRoaXMuX3NvdXJjZS5tYXh6b29tLFxuICAgICAgICAgICAgcm91bmRab29tOiB0aGlzLl9zb3VyY2Uucm91bmRab29tLFxuICAgICAgICAgICAgcmVwYXJzZU92ZXJzY2FsZWQ6IHRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBpbmNvbWluZzoge1tzdHJpbmddOiBzdHJpbmd9ID0gaWRlYWxUaWxlSURzLnJlZHVjZSgoYWNjLCB0aWxlSUQpID0+IHtcbiAgICAgICAgICAgIGFjY1t0aWxlSUQua2V5XSA9ICcnO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl90aWxlc1t0aWxlSUQua2V5XSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGUgPSBuZXcgVGlsZSh0aWxlSUQsIHRoaXMuX3NvdXJjZS50aWxlU2l6ZSAqIHRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSwgdHJhbnNmb3JtLnRpbGVab29tKTtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlsZXNbdGlsZUlELmtleV0gPSB0aWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fdGlsZXMpIHtcbiAgICAgICAgICAgIGlmICghKGlkIGluIGluY29taW5nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJlZUZCTyhpZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlsZXNbaWRdLnVubG9hZFZlY3RvckRhdGEoKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fdGlsZXNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnJlZUZCTyhpZDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGZib3MgPSB0aGlzLnByb3h5Q2FjaGVkRkJPW2lkXTtcbiAgICAgICAgaWYgKGZib3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgZmJvSWRzID0gKChPYmplY3QudmFsdWVzKGZib3MpOiBhbnkpOiBBcnJheTxudW1iZXI+KTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FjaGVQb29sLnB1c2goLi4uZmJvSWRzKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnByb3h5Q2FjaGVkRkJPW2lkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlYWxsb2NSZW5kZXJDYWNoZSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJDYWNoZS5mb3JFYWNoKGZibyA9PiBmYm8uZmIuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDYWNoZSA9IFtdO1xuICAgICAgICB0aGlzLnJlbmRlckNhY2hlUG9vbCA9IFtdO1xuICAgICAgICB0aGlzLnByb3h5Q2FjaGVkRkJPID0ge307XG4gICAgfVxufVxuXG4vKipcbiAqIENhbm9uaWNhbCwgd3JhcCBhbmQgb3ZlcnNjYWxlZFogY29udGFpbiBpbmZvcm1hdGlvbiBvZiBvcmlnaW5hbCBzb3VyY2UgY2FjaGUgdGlsZS5cbiAqIFRoaXMgdGlsZSBnZXRzIG9ydGhvLXJlbmRlcmVkIHRvIHByb3h5IHRpbGUgKGRlZmluZWQgYnkgcHJveHlUaWxlS2V5KS5cbiAqIGBwb3NNYXRyaXhgIGhvbGRzIG9ydGhvZ3JhcGhpYywgc2NhbGluZyBhbmQgdHJhbnNsYXRpb24gaW5mb3JtYXRpb24gdGhhdCBpcyB1c2VkXG4gKiBmb3IgcmVuZGVyaW5nIG9yaWdpbmFsIHRpbGUgY29udGVudCB0byBhIHByb3h5IHRpbGUuIFByb3h5IHRpbGUgY292ZXJzIHdob2xlXG4gKiBvciBzdWItcmVjdGFuZ2xlIG9mIHRoZSBvcmlnaW5hbCB0aWxlLlxuICovXG5jbGFzcyBQcm94aWVkVGlsZUlEIGV4dGVuZHMgT3ZlcnNjYWxlZFRpbGVJRCB7XG4gICAgcHJveHlUaWxlS2V5OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHByb3h5VGlsZUtleTogbnVtYmVyLCBwcm9qTWF0cml4OiBGbG9hdDMyQXJyYXkpIHtcbiAgICAgICAgc3VwZXIodGlsZUlELm92ZXJzY2FsZWRaLCB0aWxlSUQud3JhcCwgdGlsZUlELmNhbm9uaWNhbC56LCB0aWxlSUQuY2Fub25pY2FsLngsIHRpbGVJRC5jYW5vbmljYWwueSk7XG4gICAgICAgIHRoaXMucHJveHlUaWxlS2V5ID0gcHJveHlUaWxlS2V5O1xuICAgICAgICB0aGlzLnByb2pNYXRyaXggPSBwcm9qTWF0cml4O1xuICAgIH1cbn1cblxudHlwZSBPdmVybGFwU3RlbmNpbFR5cGUgPSBmYWxzZSB8ICdDbGlwJyB8ICdNYXNrJztcbnR5cGUgRkJPID0ge2ZiOiBGcmFtZWJ1ZmZlciwgdGV4OiBUZXh0dXJlLCBkaXJ0eTogYm9vbGVhbn07XG5cbmV4cG9ydCBjbGFzcyBUZXJyYWluIGV4dGVuZHMgRWxldmF0aW9uIHtcbiAgICB0ZXJyYWluVGlsZUZvclRpbGU6IHtbbnVtYmVyIHwgc3RyaW5nXTogVGlsZX07XG4gICAgcHJldlRlcnJhaW5UaWxlRm9yVGlsZToge1tudW1iZXIgfCBzdHJpbmddOiBUaWxlfTtcbiAgICBwYWludGVyOiBQYWludGVyO1xuICAgIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZTtcbiAgICBncmlkQnVmZmVyOiBWZXJ0ZXhCdWZmZXI7XG4gICAgZ3JpZEluZGV4QnVmZmVyOiBJbmRleEJ1ZmZlcjtcbiAgICBncmlkU2VnbWVudHM6IFNlZ21lbnRWZWN0b3I7XG4gICAgZ3JpZE5vU2tpcnRTZWdtZW50czogU2VnbWVudFZlY3RvcjtcbiAgICB3aXJlZnJhbWVTZWdtZW50czogU2VnbWVudFZlY3RvcjtcbiAgICB3aXJlZnJhbWVJbmRleEJ1ZmZlcjogSW5kZXhCdWZmZXI7XG4gICAgcHJveGllZENvb3Jkczoge1tzdHJpbmddOiBBcnJheTxQcm94aWVkVGlsZUlEPn07XG4gICAgcHJveHlDb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+O1xuICAgIHByb3h5VG9Tb3VyY2U6IHtbbnVtYmVyXToge1tzdHJpbmddOiBBcnJheTxQcm94aWVkVGlsZUlEPn19O1xuICAgIHByb3h5U291cmNlQ2FjaGU6IFByb3h5U291cmNlQ2FjaGU7XG4gICAgcmVuZGVyaW5nVG9UZXh0dXJlOiBib29sZWFuO1xuICAgIF9zdHlsZTogU3R5bGU7XG4gICAgX21vY2tTb3VyY2VDYWNoZTogTW9ja1NvdXJjZUNhY2hlO1xuICAgIG9ydGhvTWF0cml4OiBGbG9hdDMyQXJyYXk7XG4gICAgZW5hYmxlZDogYm9vbGVhbjtcbiAgICByZW5kZXJNb2RlOiBudW1iZXI7XG5cbiAgICBfdmlzaWJsZURlbVRpbGVzOiBBcnJheTxUaWxlPjtcbiAgICBfc291cmNlVGlsZXNPdmVybGFwOiB7W3N0cmluZ106IGJvb2xlYW59O1xuICAgIF9vdmVybGFwU3RlbmNpbE1vZGU6IFN0ZW5jaWxNb2RlO1xuICAgIF9vdmVybGFwU3RlbmNpbFR5cGU6IE92ZXJsYXBTdGVuY2lsVHlwZTtcbiAgICBfc3RlbmNpbFJlZjogbnVtYmVyO1xuXG4gICAgX2V4YWdnZXJhdGlvbjogbnVtYmVyO1xuICAgIF9kZXB0aEZCTzogP0ZyYW1lYnVmZmVyO1xuICAgIF9kZXB0aFRleHR1cmU6ID9UZXh0dXJlO1xuICAgIF9wcmV2aW91c1pvb206IG51bWJlcjtcbiAgICBfdXBkYXRlVGltZXN0YW1wOiBudW1iZXI7XG4gICAgX3VzZVZlcnRleE1vcnBoaW5nOiBib29sZWFuO1xuICAgIHBvb2w6IEFycmF5PEZCTz47XG4gICAgcmVuZGVyZWRUb1RpbGU6IGJvb2xlYW47XG4gICAgX2RyYXBlZFJlbmRlckJhdGNoZXM6IEFycmF5PFJlbmRlckJhdGNoPjtcbiAgICBfc2hhcmVkRGVwdGhTdGVuY2lsOiA/V2ViR0xSZW5kZXJidWZmZXI7XG5cbiAgICBfZmluZENvdmVyaW5nVGlsZUNhY2hlOiB7W3N0cmluZ106IHtbbnVtYmVyXTogP251bWJlcn19O1xuXG4gICAgX3RpbGVzRGlydHk6IHtbc3RyaW5nXToge1tudW1iZXJdOiBib29sZWFufX07XG4gICAgX2ludmFsaWRhdGVSZW5kZXJDYWNoZTogYm9vbGVhbjtcblxuICAgIF9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZTogP1RleHR1cmU7XG4gICAgX2VtcHR5REVNVGV4dHVyZTogP1RleHR1cmU7XG4gICAgX2luaXRpYWxpemluZzogP2Jvb2xlYW47XG4gICAgX2VtcHR5REVNVGV4dHVyZURpcnR5OiA/Ym9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHBhaW50ZXI6IFBhaW50ZXIsIHN0eWxlOiBTdHlsZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnBhaW50ZXIgPSBwYWludGVyO1xuICAgICAgICB0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZSA9IHt9O1xuICAgICAgICB0aGlzLnByZXZUZXJyYWluVGlsZUZvclRpbGUgPSB7fTtcblxuICAgICAgICAvLyBUZXJyYWluIHJlbmRlcmluZyBncmlkIGlzIDEyOXgxMjkgY2VsbCBncmlkLCBtYWRlIGJ5IDEzMHgxMzAgcG9pbnRzLlxuICAgICAgICAvLyAxMzAgdmVydGljZXMgbWFwIHRvIDEyOCBERU0gZGF0YSArIDFweCBwYWRkaW5nIG9uIGJvdGggc2lkZXMuXG4gICAgICAgIC8vIERFTSB0ZXh0dXJlIGlzIHBhZGRlZCAoMSwgMSwgMSwgMSkgYW5kIHBhZGRpbmcgcGl4ZWxzIGFyZSBiYWNrZmlsbGVkXG4gICAgICAgIC8vIGJ5IG5laWdoYm9yaW5nIHRpbGUgZWRnZXMuIFRoaXMgd2F5IHdlIGFjaGlldmUgdGlsZSBzdGl0Y2hpbmcgYXNcbiAgICAgICAgLy8gZWRnZSB2ZXJ0aWNlcyBmcm9tIG5laWdoYm9yaW5nIHRpbGVzIGV2YWx1YXRlIHRvIHRoZSBzYW1lIDNEIHBvaW50LlxuICAgICAgICBjb25zdCBbdHJpYW5nbGVHcmlkQXJyYXksIHRyaWFuZ2xlR3JpZEluZGljZXMsIHNraXJ0SW5kaWNlc09mZnNldF0gPSBjcmVhdGVHcmlkKEdSSURfRElNICsgMSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgICAgIHRoaXMuZ3JpZEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKHRyaWFuZ2xlR3JpZEFycmF5LCBwb3NBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLmdyaWRJbmRleEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlSW5kZXhCdWZmZXIodHJpYW5nbGVHcmlkSW5kaWNlcyk7XG4gICAgICAgIHRoaXMuZ3JpZFNlZ21lbnRzID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIHRyaWFuZ2xlR3JpZEFycmF5Lmxlbmd0aCwgdHJpYW5nbGVHcmlkSW5kaWNlcy5sZW5ndGgpO1xuICAgICAgICB0aGlzLmdyaWROb1NraXJ0U2VnbWVudHMgPSBTZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwgMCwgdHJpYW5nbGVHcmlkQXJyYXkubGVuZ3RoLCBza2lydEluZGljZXNPZmZzZXQpO1xuICAgICAgICB0aGlzLnByb3h5Q29vcmRzID0gW107XG4gICAgICAgIHRoaXMucHJveGllZENvb3JkcyA9IHt9O1xuICAgICAgICB0aGlzLl92aXNpYmxlRGVtVGlsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcyA9IFtdO1xuICAgICAgICB0aGlzLl9zb3VyY2VUaWxlc092ZXJsYXAgPSB7fTtcbiAgICAgICAgdGhpcy5wcm94eVNvdXJjZUNhY2hlID0gbmV3IFByb3h5U291cmNlQ2FjaGUoc3R5bGUubWFwKTtcbiAgICAgICAgdGhpcy5vcnRob01hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIGNvbnN0IGVwc2lsb24gPSB0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJyA/ICAuMDE1IDogMDsgLy8gRXhwZXJpbWVudGFsbHkgdGhlIHNtYWxsZXN0IHZhbHVlIHRvIGF2b2lkIHJlbmRlcmluZyBhcnRpZmFjdHMgKGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8xMTk3NSlcbiAgICAgICAgbWF0NC5vcnRobyh0aGlzLm9ydGhvTWF0cml4LCBlcHNpbG9uLCBFWFRFTlQsIDAsIEVYVEVOVCwgMCwgMSk7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlID0gbmV3IFN0ZW5jaWxNb2RlKHtmdW5jOiBnbC5HRVFVQUwsIG1hc2s6IDB4RkZ9LCAwLCAweEZGLCBnbC5LRUVQLCBnbC5LRUVQLCBnbC5SRVBMQUNFKTtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNab29tID0gcGFpbnRlci50cmFuc2Zvcm0uem9vbTtcbiAgICAgICAgdGhpcy5wb29sID0gW107XG4gICAgICAgIHRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl90aWxlc0RpcnR5ID0ge307XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5fdXNlVmVydGV4TW9ycGhpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLl9leGFnZ2VyYXRpb24gPSAxO1xuICAgICAgICB0aGlzLl9tb2NrU291cmNlQ2FjaGUgPSBuZXcgTW9ja1NvdXJjZUNhY2hlKHN0eWxlLm1hcCk7XG4gICAgfVxuXG4gICAgc2V0IHN0eWxlKHN0eWxlOiBTdHlsZSkge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHN0eWxlLm9uKCdkYXRhJywgdGhpcy5fb25TdHlsZURhdGFFdmVudC5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICBzdHlsZS5vbignbmV3b3JkZXInLCB0aGlzLl9jaGVja1JlbmRlckNhY2hlRWZmaWNpZW5jeS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5fY2hlY2tSZW5kZXJDYWNoZUVmZmljaWVuY3koKTtcbiAgICAgICAgdGhpcy5fc3R5bGUubWFwLm9uKCdtb3ZlZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJMaW5lTGF5ZXJzRnJvbVJlbmRlckNhY2hlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogVmFsaWRhdGUgdGVycmFpbiBhbmQgdXBkYXRlIHNvdXJjZSBjYWNoZSB1c2VkIGZvciBlbGV2YXRpb24uXG4gICAgICogRXhwbGljaXRseSBwYXNzIHRyYW5zZm9ybSB0byB1cGRhdGUgZWxldmF0aW9uIChUcmFuc2Zvcm0udXBkYXRlRWxldmF0aW9uKVxuICAgICAqIGJlZm9yZSB1c2luZyB0cmFuc2Zvcm0gZm9yIHNvdXJjZSBjYWNoZSB1cGRhdGUuXG4gICAgICovXG4gICAgdXBkYXRlKHN0eWxlOiBTdHlsZSwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sIGFkYXB0Q2FtZXJhQWx0aXR1ZGU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHN0eWxlICYmIHN0eWxlLnRlcnJhaW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHlsZSAhPT0gc3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgdGVycmFpblByb3BzID0gc3R5bGUudGVycmFpbi5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgY29uc3QgaXNEcmFwZU1vZGVEZWZlcnJlZCA9IHN0eWxlLnRlcnJhaW4uZHJhcGVSZW5kZXJNb2RlID09PSBEcmFwZVJlbmRlck1vZGUuZGVmZXJyZWQ7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUNhY2hlID0gaXNEcmFwZU1vZGVEZWZlcnJlZCA/IHRoaXMuX21vY2tTb3VyY2VDYWNoZSA6XG4gICAgICAgICAgICAgICAgKChzdHlsZS5fZ2V0U291cmNlQ2FjaGUodGVycmFpblByb3BzLmdldCgnc291cmNlJykpOiBhbnkpOiBTb3VyY2VDYWNoZSk7XG4gICAgICAgICAgICB0aGlzLl9leGFnZ2VyYXRpb24gPSB0ZXJyYWluUHJvcHMuZ2V0KCdleGFnZ2VyYXRpb24nKTtcblxuICAgICAgICAgICAgY29uc3QgdXBkYXRlU291cmNlQ2FjaGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc291cmNlQ2FjaGUudXNlZCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuT25jZShgUmFzdGVyIERFTSBzb3VyY2UgJyR7dGhpcy5zb3VyY2VDYWNoZS5pZH0nIGlzIHVzZWQgYm90aCBmb3IgdGVycmFpbiBhbmQgYXMgbGF5ZXIgc291cmNlLlxcbmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1RoaXMgbGVhZHMgdG8gbG93ZXIgcmVzb2x1dGlvbiBvZiBoaWxsc2hhZGUuIEZvciBmdWxsIGhpbGxzaGFkZSByZXNvbHV0aW9uIGJ1dCBoaWdoZXIgbWVtb3J5IGNvbnN1bXB0aW9uLCBkZWZpbmUgYW5vdGhlciByYXN0ZXIgREVNIHNvdXJjZS4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTG93ZXIgdGlsZSB6b29tIGlzIHN1ZmZpY2llbnQgZm9yIHRlcnJhaW4sIGdpdmVuIHRoZSBzaXplIG9mIHRlcnJhaW4gZ3JpZC5cbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZWREZW1UaWxlU2l6ZSA9IHRoaXMuZ2V0U2NhbGVkRGVtVGlsZVNpemUoKTtcbiAgICAgICAgICAgICAgICAvLyBEZW0gdGlsZSBuZWVkcyB0byBiZSBwYXJlbnQgb3IgYXQgbGVhc3Qgb2YgdGhlIHNhbWUgem9vbSBsZXZlbCBhcyBwcm94eSB0aWxlLlxuICAgICAgICAgICAgICAgIC8vIFRpbGUgY292ZXIgcm91bmRab29tIGJlaGF2aW9yIGlzIHNldCB0byB0aGUgc2FtZSBhcyBmb3IgcHJveHkgKGZhbHNlKSBpbiBTb3VyY2VDYWNoZS51cGRhdGUoKS5cbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZUNhY2hlLnVwZGF0ZSh0cmFuc2Zvcm0sIHNjYWxlZERlbVRpbGVTaXplLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAvLyBBcyBhIHJlc3VsdCBvZiB1cGRhdGUsIHdlIGdldCBuZXcgc2V0IG9mIHRpbGVzOiByZXNldCBsb29rdXAgY2FjaGUuXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnNvdXJjZUNhY2hlLmlkKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5zb3VyY2VDYWNoZS51c2VkRm9yVGVycmFpbikge1xuICAgICAgICAgICAgICAgIC8vIEluaXQgY2FjaGUgZW50cnkuXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnNvdXJjZUNhY2hlLmlkKTtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRvZ2dsaW5nIHRlcnJhaW4gb24vb2ZmIGxvYWQgYXZhaWxhYmxlIHRlcnJhaW4gdGlsZXMgZnJvbSBjYWNoZVxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZSByZWFkaW5nIGVsZXZhdGlvbiBhdCBjZW50ZXIuXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VDYWNoZS51c2VkRm9yVGVycmFpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdXBkYXRlU291cmNlQ2FjaGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXppbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1cGRhdGVTb3VyY2VDYWNoZSgpO1xuICAgICAgICAgICAgLy8gQ2FtZXJhIGdldHMgY29uc3RyYWluZWQgb3ZlciB0ZXJyYWluLiBJc3N1ZSBjb25zdHJhaW5DYW1lcmFPdmVyVGVycmFpbiA9IHRydWVcbiAgICAgICAgICAgIC8vIGhlcmUgdG8gY292ZXIgcG90ZW50aWFsIHVuZGVyIHRlcnJhaW4gc2l0dWF0aW9uIG9uIGRhdGEsIHN0eWxlLCBvciBvdGhlciBjYW1lcmEgY2hhbmdlcy5cbiAgICAgICAgICAgIHRyYW5zZm9ybS51cGRhdGVFbGV2YXRpb24odHJ1ZSwgYWRhcHRDYW1lcmFBbHRpdHVkZSk7XG5cbiAgICAgICAgICAgIC8vIFJlc2V0IHRpbGUgbG9va3VwIGNhY2hlIGFuZCB1cGRhdGUgZHJhcGVkIHRpbGVzIGNvb3JkaW5hdGVzLlxuICAgICAgICAgICAgdGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnByb3h5U291cmNlQ2FjaGUuaWQpO1xuICAgICAgICAgICAgdGhpcy5wcm94eVNvdXJjZUNhY2hlLnVwZGF0ZSh0cmFuc2Zvcm0pO1xuXG4gICAgICAgICAgICB0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldFRpbGVMb29rdXBDYWNoZShzb3VyY2VDYWNoZUlEOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW3NvdXJjZUNhY2hlSURdID0ge307XG4gICAgfVxuXG4gICAgZ2V0U2NhbGVkRGVtVGlsZVNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgZGVtU2NhbGUgPSB0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplIC8gR1JJRF9ESU07XG4gICAgICAgIGNvbnN0IHByb3h5VGlsZVNpemUgPSB0aGlzLnByb3h5U291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemU7XG4gICAgICAgIHJldHVybiBkZW1TY2FsZSAqIHByb3h5VGlsZVNpemU7XG4gICAgfVxuXG4gICAgX2NoZWNrUmVuZGVyQ2FjaGVFZmZpY2llbmN5KCkge1xuICAgICAgICBjb25zdCByZW5kZXJDYWNoZUluZm8gPSB0aGlzLnJlbmRlckNhY2hlRWZmaWNpZW5jeSh0aGlzLl9zdHlsZSk7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZS5tYXAuX29wdGltaXplRm9yVGVycmFpbikge1xuICAgICAgICAgICAgYXNzZXJ0KHJlbmRlckNhY2hlSW5mby5lZmZpY2llbmN5ID09PSAxMDApO1xuICAgICAgICB9IGVsc2UgaWYgKHJlbmRlckNhY2hlSW5mby5lZmZpY2llbmN5ICE9PSAxMDApIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKGBUZXJyYWluIHJlbmRlciBjYWNoZSBlZmZpY2llbmN5IGlzIG5vdCBvcHRpbWFsICgke3JlbmRlckNhY2hlSW5mby5lZmZpY2llbmN5fSUpIGFuZCBwZXJmb3JtYW5jZVxuICAgICAgICAgICAgICAgIG1heSBiZSBhZmZlY3RlZCBuZWdhdGl2ZWx5LCBjb25zaWRlciBwbGFjaW5nIGFsbCBiYWNrZ3JvdW5kLCBmaWxsIGFuZCBsaW5lIGxheWVycyBiZWZvcmUgbGF5ZXJcbiAgICAgICAgICAgICAgICB3aXRoIGlkICcke3JlbmRlckNhY2hlSW5mby5maXJzdFVuZHJhcGVkTGF5ZXJ9JyBvciBjcmVhdGUgYSBtYXAgdXNpbmcgb3B0aW1pemVGb3JUZXJyYWluOiB0cnVlIG9wdGlvbi5gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblN0eWxlRGF0YUV2ZW50KGV2ZW50OiBhbnkpIHtcbiAgICAgICAgaWYgKGV2ZW50LmNvb3JkICYmIGV2ZW50LmRhdGFUeXBlID09PSAnc291cmNlJykge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoZXZlbnQuc291cmNlQ2FjaGVJZCwgZXZlbnQuY29vcmQpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGFUeXBlID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnZhbGlkYXRlUmVuZGVyQ2FjaGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGVycmFpblxuICAgIF9kaXNhYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnByb3h5U291cmNlQ2FjaGUuZGVhbGxvY1JlbmRlckNhY2hlKCk7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlc1tpZF0udXNlZEZvclRlcnJhaW4gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2Rpc2FibGUoKTtcbiAgICAgICAgaWYgKHRoaXMuX2VtcHR5REVNVGV4dHVyZSkgdGhpcy5fZW1wdHlERU1UZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlKSB0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMucG9vbC5mb3JFYWNoKGZibyA9PiBmYm8uZmIuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5wb29sID0gW107XG4gICAgICAgIGlmICh0aGlzLl9kZXB0aEZCTykge1xuICAgICAgICAgICAgdGhpcy5fZGVwdGhGQk8uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fZGVwdGhGQk8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl9kZXB0aFRleHR1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJbXBsZW1lbnRzIEVsZXZhdGlvbjo6X3NvdXJjZS5cbiAgICBfc291cmNlKCk6ID9Tb3VyY2VDYWNoZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuYWJsZWQgPyB0aGlzLnNvdXJjZUNhY2hlIDogbnVsbDtcbiAgICB9XG5cbiAgICBpc1VzaW5nTW9ja1NvdXJjZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlQ2FjaGUgPT09IHRoaXMuX21vY2tTb3VyY2VDYWNoZTtcbiAgICB9XG5cbiAgICAvLyBJbXBsZW1lbnRzIEVsZXZhdGlvbjo6ZXhhZ2dlcmF0aW9uLlxuICAgIGV4YWdnZXJhdGlvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXhhZ2dlcmF0aW9uO1xuICAgIH1cblxuICAgIGdldCB2aXNpYmxlRGVtVGlsZXMoKTogQXJyYXk8VGlsZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlzaWJsZURlbVRpbGVzO1xuICAgIH1cblxuICAgIGdldCBkcmFwZUJ1ZmZlclNpemUoKTogW251bWJlciwgbnVtYmVyXSB7XG4gICAgICAgIGNvbnN0IGV4dGVudCA9IHRoaXMucHJveHlTb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZSAqIDI7IC8vICoyIGlzIHRvIGF2b2lkIHVwc2NhbGluZyBiaXRtYXAgb24gem9vbS5cbiAgICAgICAgcmV0dXJuIFtleHRlbnQsIGV4dGVudF07XG4gICAgfVxuXG4gICAgc2V0IHVzZVZlcnRleE1vcnBoaW5nKGVuYWJsZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl91c2VWZXJ0ZXhNb3JwaGluZyA9IGVuYWJsZTtcbiAgICB9XG5cbiAgICAvLyBGb3IgZXZlcnkgcmVuZGVyYWJsZSBjb29yZGluYXRlIGluIGV2ZXJ5IHNvdXJjZSBjYWNoZSwgYXNzaWduIG9uZSBwcm94eVxuICAgIC8vIHRpbGUgKHNlZSBfc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8pLiBNYXBwaW5nIG9mIHNvdXJjZSB0aWxlIHRvIHByb3h5XG4gICAgLy8gdGlsZSBpcyBtb2RlbGVkIGJ5IFByb3hpZWRUaWxlSUQuIEluIGdlbmVyYWwgY2FzZSwgc291cmNlIGFuZCBwcm94eSB0aWxlXG4gICAgLy8gYXJlIG9mIGRpZmZlcmVudCB6b29tOiBQcm94aWVkVGlsZUlELnByb2pNYXRyaXggbW9kZWxzIG9ydGhvLCBzY2FsZSBhbmRcbiAgICAvLyB0cmFuc2xhdGUgZnJvbSBzb3VyY2UgdG8gcHJveHkuIFRoaXMgbWF0cml4IGlzIHVzZWQgd2hlbiByZW5kZXJpbmcgc291cmNlXG4gICAgLy8gdGlsZSB0byBwcm94eSB0aWxlJ3MgdGV4dHVyZS5cbiAgICAvLyBPbmUgcHJveHkgdGlsZSBjYW4gaGF2ZSBtdWx0aXBsZSBzb3VyY2UgdGlsZXMsIG9yIHBpZWNlcyBvZiBzb3VyY2UgdGlsZXMsXG4gICAgLy8gdGhhdCBnZXQgcmVuZGVyZWQgdG8gaXQuXG4gICAgLy8gRm9yIGVhY2ggcHJveHkgdGlsZSB3ZSBhc3NpZ24gb25lIHRlcnJhaW4gdGlsZSAoX2Fzc2lnblRlcnJhaW5UaWxlcykuIFRoZVxuICAgIC8vIHRlcnJhaW4gdGlsZSBwcm92aWRlcyBlbGV2YXRpb24gZGF0YSB3aGVuIHJlbmRlcmluZyAoZHJhcGluZykgcHJveHkgdGlsZVxuICAgIC8vIHRleHR1cmUgb3ZlciB0ZXJyYWluIGdyaWQuXG4gICAgdXBkYXRlVGlsZUJpbmRpbmcoc291cmNlc0Nvb3Jkczoge1tzdHJpbmddOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPn0pIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5wcmV2VGVycmFpblRpbGVGb3JUaWxlID0gdGhpcy50ZXJyYWluVGlsZUZvclRpbGU7XG5cbiAgICAgICAgY29uc3QgcHNjID0gdGhpcy5wcm94eVNvdXJjZUNhY2hlO1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMucGFpbnRlci50cmFuc2Zvcm07XG4gICAgICAgIGlmICh0aGlzLl9pbml0aWFsaXppbmcpIHtcbiAgICAgICAgICAgIC8vIERvbid0IGFjdGl2YXRlIHRlcnJhaW4gdW50aWwgY2VudGVyIHRpbGUgZ2V0cyBsb2FkZWQuXG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXppbmcgPSB0ci5fY2VudGVyQWx0aXR1ZGUgPT09IDAgJiYgdGhpcy5nZXRBdFBvaW50T3JaZXJvKE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHRyLmNlbnRlciksIC0xKSA9PT0gLTE7XG4gICAgICAgICAgICB0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eSA9ICF0aGlzLl9pbml0aWFsaXppbmc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLnByb3h5Q29vcmRzID0gcHNjLmdldElkcygpLm1hcCgoaWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVJRCA9IHBzYy5nZXRUaWxlQnlJRChpZCkudGlsZUlEO1xuICAgICAgICAgICAgdGlsZUlELnByb2pNYXRyaXggPSB0ci5jYWxjdWxhdGVQcm9qTWF0cml4KHRpbGVJRC50b1Vud3JhcHBlZCgpKTtcbiAgICAgICAgICAgIHJldHVybiB0aWxlSUQ7XG4gICAgICAgIH0pO1xuICAgICAgICBzb3J0QnlEaXN0YW5jZVRvQ2FtZXJhKGNvb3JkcywgdGhpcy5wYWludGVyKTtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNab29tID0gdHIuem9vbTtcblxuICAgICAgICBjb25zdCBwcmV2aW91c1Byb3h5VG9Tb3VyY2UgPSB0aGlzLnByb3h5VG9Tb3VyY2UgfHwge307XG4gICAgICAgIHRoaXMucHJveHlUb1NvdXJjZSA9IHt9O1xuICAgICAgICBjb29yZHMuZm9yRWFjaCgodGlsZUlEKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb3h5VG9Tb3VyY2VbdGlsZUlELmtleV0gPSB7fTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50ZXJyYWluVGlsZUZvclRpbGUgPSB7fTtcbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcztcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgICAgIGlmICghc291cmNlQ2FjaGUudXNlZCkgY29udGludWU7XG4gICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUgIT09IHRoaXMuc291cmNlQ2FjaGUpIHRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUoc291cmNlQ2FjaGUuaWQpO1xuICAgICAgICAgICAgdGhpcy5fc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8oc291cmNlQ2FjaGUsIHNvdXJjZXNDb29yZHNbaWRdLCBwcmV2aW91c1Byb3h5VG9Tb3VyY2UpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLnVzZWRGb3JUZXJyYWluKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gc291cmNlc0Nvb3Jkc1tpZF07XG4gICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUuZ2V0U291cmNlKCkucmVwYXJzZU92ZXJzY2FsZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBEbyB0aGlzIGZvciBsYXllcnMgdGhhdCBhcmUgbm90IHJhc3Rlcml6ZWQgdG8gcHJveHkgdGlsZS5cbiAgICAgICAgICAgICAgICB0aGlzLl9hc3NpZ25UZXJyYWluVGlsZXMoY29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmFja2dyb3VuZCBoYXMgbm8gc291cmNlLiBVc2luZyBwcm94eSBjb29yZHMgd2l0aCAxLTEgb3J0aG8gKHRoaXMucHJveGllZENvb3Jkc1twc2MuaWRdKVxuICAgICAgICAvLyB3aGVuIHJlbmRlcmluZyBiYWNrZ3JvdW5kIHRvIHByb3h5IHRpbGVzLlxuICAgICAgICB0aGlzLnByb3hpZWRDb29yZHNbcHNjLmlkXSA9IGNvb3Jkcy5tYXAodGlsZUlEID0+IG5ldyBQcm94aWVkVGlsZUlEKHRpbGVJRCwgdGlsZUlELmtleSwgdGhpcy5vcnRob01hdHJpeCkpO1xuICAgICAgICB0aGlzLl9hc3NpZ25UZXJyYWluVGlsZXMoY29vcmRzKTtcbiAgICAgICAgdGhpcy5fcHJlcGFyZURFTVRleHR1cmVzKCk7XG4gICAgICAgIHRoaXMuX3NldHVwRHJhcGVkUmVuZGVyQmF0Y2hlcygpO1xuICAgICAgICB0aGlzLl9pbml0RkJPUG9vbCgpO1xuICAgICAgICB0aGlzLl9zZXR1cFJlbmRlckNhY2hlKHByZXZpb3VzUHJveHlUb1NvdXJjZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1RleHR1cmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVGltZXN0YW1wID0gYnJvd3Nlci5ub3coKTtcblxuICAgICAgICAvLyBHYXRoZXIgYWxsIGRlbSB0aWxlcyB0aGF0IGFyZSBhc3NpZ25lZCB0byBwcm94eSB0aWxlc1xuICAgICAgICBjb25zdCB2aXNpYmxlS2V5cyA9IHt9O1xuICAgICAgICB0aGlzLl92aXNpYmxlRGVtVGlsZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHRoaXMucHJveHlDb29yZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbVRpbGUgPSB0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtpZC5rZXldO1xuICAgICAgICAgICAgaWYgKCFkZW1UaWxlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVtVGlsZS50aWxlSUQua2V5O1xuICAgICAgICAgICAgaWYgKGtleSBpbiB2aXNpYmxlS2V5cylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHRoaXMuX3Zpc2libGVEZW1UaWxlcy5wdXNoKGRlbVRpbGUpO1xuICAgICAgICAgICAgdmlzaWJsZUtleXNba2V5XSA9IGtleTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgX2Fzc2lnblRlcnJhaW5UaWxlcyhjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgICAgIGlmICh0aGlzLl9pbml0aWFsaXppbmcpIHJldHVybjtcbiAgICAgICAgY29vcmRzLmZvckVhY2goKHRpbGVJRCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMudGVycmFpblRpbGVGb3JUaWxlW3RpbGVJRC5rZXldKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBkZW1UaWxlID0gdGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRCh0aWxlSUQsIHRoaXMuc291cmNlQ2FjaGUpO1xuICAgICAgICAgICAgaWYgKGRlbVRpbGUpIHRoaXMudGVycmFpblRpbGVGb3JUaWxlW3RpbGVJRC5rZXldID0gZGVtVGlsZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3ByZXBhcmVERU1UZXh0dXJlcygpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMudGVycmFpblRpbGVGb3JUaWxlKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy50ZXJyYWluVGlsZUZvclRpbGVba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IGRlbSA9IHRpbGUuZGVtO1xuICAgICAgICAgICAgaWYgKGRlbSAmJiAoIXRpbGUuZGVtVGV4dHVyZSB8fCB0aWxlLm5lZWRzREVNVGV4dHVyZVVwbG9hZCkpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcbiAgICAgICAgICAgICAgICBwcmVwYXJlREVNVGV4dHVyZSh0aGlzLnBhaW50ZXIsIHRpbGUsIGRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHJlcGFyZURlbVRpbGVVbmlmb3Jtcyhwcm94eVRpbGU6IFRpbGUsIGRlbVRpbGU6ID9UaWxlLCB1bmlmb3JtczogVW5pZm9ybVZhbHVlczxUZXJyYWluVW5pZm9ybXNUeXBlPiwgdW5pZm9ybVN1ZmZpeDogP3N0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIWRlbVRpbGUgfHwgZGVtVGlsZS5kZW1UZXh0dXJlID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgYXNzZXJ0KGRlbVRpbGUuZGVtKTtcbiAgICAgICAgY29uc3QgcHJveHlJZCA9IHByb3h5VGlsZS50aWxlSUQuY2Fub25pY2FsO1xuICAgICAgICBjb25zdCBkZW1JZCA9IGRlbVRpbGUudGlsZUlELmNhbm9uaWNhbDtcbiAgICAgICAgY29uc3QgZGVtU2NhbGVCeSA9IE1hdGgucG93KDIsIGRlbUlkLnogLSBwcm94eUlkLnopO1xuICAgICAgICBjb25zdCBzdWZmaXggPSB1bmlmb3JtU3VmZml4IHx8IFwiXCI7XG4gICAgICAgIHVuaWZvcm1zW2B1X2RlbV90bCR7c3VmZml4fWBdID0gW3Byb3h5SWQueCAqIGRlbVNjYWxlQnkgJSAxLCBwcm94eUlkLnkgKiBkZW1TY2FsZUJ5ICUgMV07XG4gICAgICAgIHVuaWZvcm1zW2B1X2RlbV9zY2FsZSR7c3VmZml4fWBdID0gZGVtU2NhbGVCeTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IGVtcHR5REVNVGV4dHVyZSgpOiBUZXh0dXJlIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eSAmJiB0aGlzLl9lbXB0eURFTVRleHR1cmUgP1xuICAgICAgICAgICAgdGhpcy5fZW1wdHlERU1UZXh0dXJlIDogdGhpcy5fdXBkYXRlRW1wdHlERU1UZXh0dXJlKCk7XG4gICAgfVxuXG4gICAgZ2V0IGVtcHR5RGVwdGhCdWZmZXJUZXh0dXJlKCk6IFRleHR1cmUge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5wYWludGVyLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgaWYgKCF0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZSkge1xuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgUkdCQUltYWdlKHt3aWR0aDogMSwgaGVpZ2h0OiAxfSwgVWludDhBcnJheS5vZigyNTUsIDI1NSwgMjU1LCAyNTUpKTtcbiAgICAgICAgICAgIHRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgaW1hZ2UsIGdsLlJHQkEsIHtwcmVtdWx0aXBseTogZmFsc2V9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmU7XG4gICAgfVxuXG4gICAgX2dldExvYWRlZEFyZWFNaW5pbXVtKCk6IG51bWJlciB7XG4gICAgICAgIGxldCBub256ZXJvID0gMDtcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5fdmlzaWJsZURlbVRpbGVzLnJlZHVjZSgoYWNjLCB0aWxlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRpbGUuZGVtKSByZXR1cm4gYWNjO1xuICAgICAgICAgICAgY29uc3QgbSA9IHRpbGUuZGVtLnRyZWUubWluaW11bXNbMF07XG4gICAgICAgICAgICBhY2MgKz0gbTtcbiAgICAgICAgICAgIGlmIChtID4gMCkgbm9uemVybysrO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIHJldHVybiBub256ZXJvID8gbWluIC8gbm9uemVybyA6IDA7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUVtcHR5REVNVGV4dHVyZSgpOiBUZXh0dXJlIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTIpO1xuXG4gICAgICAgIGNvbnN0IG1pbiA9IHRoaXMuX2dldExvYWRlZEFyZWFNaW5pbXVtKCk7XG4gICAgICAgIGNvbnN0IGltYWdlID0gbmV3IFJHQkFJbWFnZShcbiAgICAgICAgICAgIHt3aWR0aDogMSwgaGVpZ2h0OiAxfSxcbiAgICAgICAgICAgIG5ldyBVaW50OEFycmF5KERFTURhdGEucGFjayhtaW4sICgodGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKTogYW55KTogUmFzdGVyREVNVGlsZVNvdXJjZSkuZW5jb2RpbmcpKVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuX2VtcHR5REVNVGV4dHVyZURpcnR5ID0gZmFsc2U7XG4gICAgICAgIGxldCB0ZXh0dXJlID0gdGhpcy5fZW1wdHlERU1UZXh0dXJlO1xuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSB0aGlzLl9lbXB0eURFTVRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCBpbWFnZSwgZ2wuUkdCQSwge3ByZW11bHRpcGx5OiBmYWxzZX0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dHVyZS51cGRhdGUoaW1hZ2UsIHtwcmVtdWx0aXBseTogZmFsc2V9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICAvLyB1c2VEZXB0aEZvck9jY2x1c2lvbjogUHJlLXJlbmRlcmVkIGRlcHRoIHRvIHRleHR1cmUgKHRoaXMuX2RlcHRoVGV4dHVyZSkgaXNcbiAgICAvLyB1c2VkIHRvIGhpZGUgKGFjdHVhbGx5IG1vdmVzIGFsbCBvYmplY3QncyB2ZXJ0aWNlcyBvdXQgb2Ygdmlld3BvcnQpLlxuICAgIC8vIHVzZU1ldGVyVG9EZW06IHVfbWV0ZXJfdG9fZGVtIHVuaWZvcm0gaXMgbm90IHVzZWQgZm9yIGFsbCB0ZXJyYWluIHByb2dyYW1zLFxuICAgIC8vIG9wdGltaXphdGlvbiB0byBhdm9pZCB1bm5lY2Vzc2FyeSBjb21wdXRhdGlvbiBhbmQgdXBsb2FkLlxuICAgIHNldHVwRWxldmF0aW9uRHJhdyh0aWxlOiBUaWxlLCBwcm9ncmFtOiBQcm9ncmFtPCo+LFxuICAgICAgICBvcHRpb25zPzoge1xuICAgICAgICAgICAgdXNlRGVwdGhGb3JPY2NsdXNpb24/OiBib29sZWFuLFxuICAgICAgICAgICAgdXNlTWV0ZXJUb0RlbT86IGJvb2xlYW4sXG4gICAgICAgICAgICBsYWJlbFBsYW5lTWF0cml4SW52PzogP0Zsb2F0MzJBcnJheSxcbiAgICAgICAgICAgIG1vcnBoaW5nPzogeyBzcmNEZW1UaWxlOiBUaWxlLCBkc3REZW1UaWxlOiBUaWxlLCBwaGFzZTogbnVtYmVyIH0sXG4gICAgICAgICAgICB1c2VEZW5vcm1hbGl6ZWRVcFZlY3RvclNjYWxlPzogYm9vbGVhblxuICAgICAgICB9KSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IGRlZmF1bHRUZXJyYWluVW5pZm9ybXMoKCh0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpOiBhbnkpOiBSYXN0ZXJERU1UaWxlU291cmNlKS5lbmNvZGluZyk7XG4gICAgICAgIHVuaWZvcm1zWyd1X2RlbV9zaXplJ10gPSB0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplO1xuICAgICAgICB1bmlmb3Jtc1sndV9leGFnZ2VyYXRpb24nXSA9IHRoaXMuZXhhZ2dlcmF0aW9uKCk7XG5cbiAgICAgICAgbGV0IGRlbVRpbGUgPSBudWxsO1xuICAgICAgICBsZXQgcHJldkRlbVRpbGUgPSBudWxsO1xuICAgICAgICBsZXQgbW9ycGhpbmdQaGFzZSA9IDEuMDtcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm1vcnBoaW5nICYmIHRoaXMuX3VzZVZlcnRleE1vcnBoaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBzcmNUaWxlID0gb3B0aW9ucy5tb3JwaGluZy5zcmNEZW1UaWxlO1xuICAgICAgICAgICAgY29uc3QgZHN0VGlsZSA9IG9wdGlvbnMubW9ycGhpbmcuZHN0RGVtVGlsZTtcbiAgICAgICAgICAgIG1vcnBoaW5nUGhhc2UgPSBvcHRpb25zLm1vcnBoaW5nLnBoYXNlO1xuXG4gICAgICAgICAgICBpZiAoc3JjVGlsZSAmJiBkc3RUaWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXModGlsZSwgc3JjVGlsZSwgdW5pZm9ybXMsIFwiX3ByZXZcIikpXG4gICAgICAgICAgICAgICAgICAgIHByZXZEZW1UaWxlID0gc3JjVGlsZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcHJlcGFyZURlbVRpbGVVbmlmb3Jtcyh0aWxlLCBkc3RUaWxlLCB1bmlmb3JtcykpXG4gICAgICAgICAgICAgICAgICAgIGRlbVRpbGUgPSBkc3RUaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByZXZEZW1UaWxlICYmIGRlbVRpbGUpIHtcbiAgICAgICAgICAgIC8vIEJvdGggREVNIHRleHR1cmVzIGFyZSBleHBlY3RlZCB0byBiZSBjb3JyZWN0bHkgc2V0IGlmIGdlb21vcnBoaW5nIGlzIGVuYWJsZWRcbiAgICAgICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTIpO1xuICAgICAgICAgICAgKGRlbVRpbGUuZGVtVGV4dHVyZTogYW55KS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UsIGdsLk5FQVJFU1QpO1xuICAgICAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFNCk7XG4gICAgICAgICAgICAocHJldkRlbVRpbGUuZGVtVGV4dHVyZTogYW55KS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UsIGdsLk5FQVJFU1QpO1xuXG4gICAgICAgICAgICB1bmlmb3Jtc1tcInVfZGVtX2xlcnBcIl0gPSBtb3JwaGluZ1BoYXNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVtVGlsZSA9IHRoaXMudGVycmFpblRpbGVGb3JUaWxlW3RpbGUudGlsZUlELmtleV07XG4gICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUyKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbVRleHR1cmUgPSB0aGlzLl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKHRpbGUsIGRlbVRpbGUsIHVuaWZvcm1zKSA/XG4gICAgICAgICAgICAgICAgKGRlbVRpbGUuZGVtVGV4dHVyZTogYW55KSA6IHRoaXMuZW1wdHlERU1UZXh0dXJlO1xuICAgICAgICAgICAgZGVtVGV4dHVyZS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMyk7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudXNlRGVwdGhGb3JPY2NsdXNpb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZXB0aFRleHR1cmUpIHRoaXMuX2RlcHRoVGV4dHVyZS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlcHRoRkJPKSB1bmlmb3Jtc1sndV9kZXB0aF9zaXplX2ludiddID0gWzEgLyB0aGlzLl9kZXB0aEZCTy53aWR0aCwgMSAvIHRoaXMuX2RlcHRoRkJPLmhlaWdodF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVtcHR5RGVwdGhCdWZmZXJUZXh0dXJlLmJpbmQoZ2wuTkVBUkVTVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICB1bmlmb3Jtc1sndV9kZXB0aF9zaXplX2ludiddID0gWzEsIDFdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy51c2VNZXRlclRvRGVtICYmIGRlbVRpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGVyVG9ERU0gPSAoMSA8PCBkZW1UaWxlLnRpbGVJRC5jYW5vbmljYWwueikgKiBtZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSwgdGhpcy5wYWludGVyLnRyYW5zZm9ybS5jZW50ZXIubGF0KSAqIHRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemU7XG4gICAgICAgICAgICB1bmlmb3Jtc1sndV9tZXRlcl90b19kZW0nXSA9IG1ldGVyVG9ERU07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5sYWJlbFBsYW5lTWF0cml4SW52KSB7XG4gICAgICAgICAgICB1bmlmb3Jtc1sndV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52J10gPSBvcHRpb25zLmxhYmVsUGxhbmVNYXRyaXhJbnY7XG4gICAgICAgIH1cbiAgICAgICAgcHJvZ3JhbS5zZXRUZXJyYWluVW5pZm9ybVZhbHVlcyhjb250ZXh0LCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgaWYgKHRoaXMucGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICBjb25zdCBnbG9iZVVuaWZvcm1zID0gdGhpcy5nbG9iZVVuaWZvcm1WYWx1ZXModGhpcy5wYWludGVyLnRyYW5zZm9ybSwgdGlsZS50aWxlSUQuY2Fub25pY2FsLCBvcHRpb25zICYmIG9wdGlvbnMudXNlRGVub3JtYWxpemVkVXBWZWN0b3JTY2FsZSk7XG4gICAgICAgICAgICBwcm9ncmFtLnNldEdsb2JlVW5pZm9ybVZhbHVlcyhjb250ZXh0LCBnbG9iZVVuaWZvcm1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdsb2JlVW5pZm9ybVZhbHVlcyh0cjogVHJhbnNmb3JtLCBpZDogQ2Fub25pY2FsVGlsZUlELCB1c2VEZW5vcm1hbGl6ZWRVcFZlY3RvclNjYWxlOiA/Ym9vbGVhbik6IFVuaWZvcm1WYWx1ZXM8R2xvYmVVbmlmb3Jtc1R5cGU+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHRyLnByb2plY3Rpb247XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAndV90aWxlX3RsX3VwJzogKHByb2plY3Rpb24udXBWZWN0b3IoaWQsIDAsIDApOiBhbnkpLFxuICAgICAgICAgICAgJ3VfdGlsZV90cl91cCc6IChwcm9qZWN0aW9uLnVwVmVjdG9yKGlkLCBFWFRFTlQsIDApOiBhbnkpLFxuICAgICAgICAgICAgJ3VfdGlsZV9icl91cCc6IChwcm9qZWN0aW9uLnVwVmVjdG9yKGlkLCBFWFRFTlQsIEVYVEVOVCk6IGFueSksXG4gICAgICAgICAgICAndV90aWxlX2JsX3VwJzogKHByb2plY3Rpb24udXBWZWN0b3IoaWQsIDAsIEVYVEVOVCk6IGFueSksXG4gICAgICAgICAgICAndV90aWxlX3VwX3NjYWxlJzogKHVzZURlbm9ybWFsaXplZFVwVmVjdG9yU2NhbGUgPyBnbG9iZU1ldGVyc1RvRWNlZigxKSA6IHByb2plY3Rpb24udXBWZWN0b3JTY2FsZShpZCwgdHIuY2VudGVyLmxhdCwgdHIud29ybGRTaXplKS5tZXRlcnNUb1RpbGU6IGFueSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW5kZXJUb0JhY2tCdWZmZXIoYWNjdW11bGF0ZWREcmFwZXM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgICAgIGNvbnN0IHBhaW50ZXIgPSB0aGlzLnBhaW50ZXI7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBhaW50ZXIuY29udGV4dDtcblxuICAgICAgICBpZiAoYWNjdW11bGF0ZWREcmFwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCk7XG4gICAgICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodF0pO1xuXG4gICAgICAgIHBhaW50ZXIuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXJTdGFydCgpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlID0gZmFsc2U7XG4gICAgICAgIGRyYXdUZXJyYWluUmFzdGVyKHBhaW50ZXIsIHRoaXMsIHRoaXMucHJveHlTb3VyY2VDYWNoZSwgYWNjdW11bGF0ZWREcmFwZXMsIHRoaXMuX3VwZGF0ZVRpbWVzdGFtcCk7XG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlID0gdHJ1ZTtcblxuICAgICAgICBwYWludGVyLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyRW5kKCk7XG5cbiAgICAgICAgYWNjdW11bGF0ZWREcmFwZXMuc3BsaWNlKDAsIGFjY3VtdWxhdGVkRHJhcGVzLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLy8gRm9yIGVhY2ggcHJveHkgdGlsZSwgcmVuZGVyIGFsbCBsYXllcnMgdW50aWwgdGhlIG5vbi1kcmFwZWQgbGF5ZXIgKGFuZFxuICAgIC8vIHJlbmRlciB0aGUgdGlsZSB0byB0aGUgc2NyZWVuKSBiZWZvcmUgYWR2YW5jaW5nIHRvIHRoZSBuZXh0IHByb3h5IHRpbGUuXG4gICAgLy8gUmV0dXJucyB0aGUgbGFzdCBkcmF3biBpbmRleCB0aGF0IGlzIHVzZWQgYXMgYSBzdGFydFxuICAgIC8vIGxheWVyIGZvciBpbnRlcmxlYXZlZCBkcmFwZWQgcmVuZGVyaW5nLlxuICAgIC8vIEFwYXJ0IHRvIGxheWVyLWJ5LWxheWVyIHJlbmRlcmluZyB1c2VkIGluIDJELCBoZXJlIHdlIGhhdmUgcHJveHktdGlsZS1ieS1wcm94eS10aWxlXG4gICAgLy8gcmVuZGVyaW5nLlxuICAgIHJlbmRlckJhdGNoKHN0YXJ0TGF5ZXJJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKHRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnRMYXllckluZGV4ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgcGFpbnRlciA9IHRoaXMucGFpbnRlcjtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBwc2MgPSB0aGlzLnByb3h5U291cmNlQ2FjaGU7XG4gICAgICAgIGNvbnN0IHByb3hpZXMgPSB0aGlzLnByb3hpZWRDb29yZHNbcHNjLmlkXTtcblxuICAgICAgICAvLyBDb25zdW1lIGJhdGNoIG9mIHNlcXVlbnRpYWwgZHJhcGUgbGF5ZXJzIGFuZCBtb3ZlIG5leHRcbiAgICAgICAgY29uc3QgZHJhcGVkTGF5ZXJCYXRjaCA9IHRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXMuc2hpZnQoKTtcbiAgICAgICAgYXNzZXJ0KGRyYXBlZExheWVyQmF0Y2guc3RhcnQgPT09IHN0YXJ0TGF5ZXJJbmRleCk7XG5cbiAgICAgICAgY29uc3QgYWNjdW11bGF0ZWREcmFwZXMgPSBbXTtcbiAgICAgICAgY29uc3QgbGF5ZXJJZHMgPSBwYWludGVyLnN0eWxlLm9yZGVyO1xuXG4gICAgICAgIGxldCBwb29sSW5kZXggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHByb3h5IG9mIHByb3hpZXMpIHtcbiAgICAgICAgICAgIC8vIGJpbmQgZnJhbWVidWZmZXIgYW5kIGFzc2lnbiB0ZXh0dXJlIHRvIHRoZSB0aWxlICh0ZXh0dXJlIHVzZWQgaW4gZHJhd1RlcnJhaW5SYXN0ZXIpLlxuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHBzYy5nZXRUaWxlQnlJRChwcm94eS5wcm94eVRpbGVLZXkpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyQ2FjaGVJbmRleCA9IHBzYy5wcm94eUNhY2hlZEZCT1twcm94eS5rZXldID8gcHNjLnByb3h5Q2FjaGVkRkJPW3Byb3h5LmtleV1bc3RhcnRMYXllckluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IGZibyA9IHJlbmRlckNhY2hlSW5kZXggIT09IHVuZGVmaW5lZCA/IHBzYy5yZW5kZXJDYWNoZVtyZW5kZXJDYWNoZUluZGV4XSA6IHRoaXMucG9vbFtwb29sSW5kZXgrK107XG4gICAgICAgICAgICBjb25zdCB1c2VSZW5kZXJDYWNoZSA9IHJlbmRlckNhY2hlSW5kZXggIT09IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gZmJvLnRleDtcblxuICAgICAgICAgICAgaWYgKHVzZVJlbmRlckNhY2hlICYmICFmYm8uZGlydHkpIHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgY2FjaGVkIHJlbmRlciBmcm9tIHByZXZpb3VzIHBhc3MsIG5vIG5lZWQgdG8gcmVuZGVyIGFnYWluLlxuICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkRHJhcGVzLnB1c2godGlsZS50aWxlSUQpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQoZmJvLmZiLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRUb1RpbGUgPSBmYWxzZTsgLy8gcmVzZXQgZmxhZy5cbiAgICAgICAgICAgIGlmIChmYm8uZGlydHkpIHtcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBvbiBzdGFydC5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyKHtjb2xvcjogQ29sb3IudHJhbnNwYXJlbnQsIHN0ZW5jaWw6IDB9KTtcbiAgICAgICAgICAgICAgICBmYm8uZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGN1cnJlbnRTdGVuY2lsU291cmNlOyAvLyBUaGVyZSBpcyBubyBuZWVkIHRvIHNldHVwIHN0ZW5jaWwgZm9yIHRoZSBzYW1lIHNvdXJjZSBmb3IgY29uc2VjdXRpdmUgbGF5ZXJzLlxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGRyYXBlZExheWVyQmF0Y2guc3RhcnQ7IGogPD0gZHJhcGVkTGF5ZXJCYXRjaC5lbmQ7ICsraikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyID0gcGFpbnRlci5zdHlsZS5fbGF5ZXJzW2xheWVySWRzW2pdXTtcbiAgICAgICAgICAgICAgICBjb25zdCBoaWRkZW4gPSBsYXllci5pc0hpZGRlbihwYWludGVyLnRyYW5zZm9ybS56b29tKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQodGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZChsYXllcikgfHwgaGlkZGVuKTtcbiAgICAgICAgICAgICAgICBpZiAoaGlkZGVuKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gcGFpbnRlci5zdHlsZS5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShsYXllcik7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJveGllZENvb3JkcyA9IHNvdXJjZUNhY2hlID8gdGhpcy5wcm94eVRvU291cmNlW3Byb3h5LmtleV1bc291cmNlQ2FjaGUuaWRdIDogW3Byb3h5XTtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3hpZWRDb29yZHMpIGNvbnRpbnVlOyAvLyB3aGVuIHRpbGUgaXMgbm90IGxvYWRlZCB5ZXQgZm9yIHRoZSBzb3VyY2UgY2FjaGUuXG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb29yZHMgPSAoKHByb3hpZWRDb29yZHM6IGFueSk6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgZmJvLmZiLndpZHRoLCBmYm8uZmIuaGVpZ2h0XSk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGVuY2lsU291cmNlICE9PSAoc291cmNlQ2FjaGUgPyBzb3VyY2VDYWNoZS5pZCA6IG51bGwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldHVwU3RlbmNpbChmYm8sIHByb3hpZWRDb29yZHMsIGxheWVyLCBzb3VyY2VDYWNoZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGVuY2lsU291cmNlID0gc291cmNlQ2FjaGUgPyBzb3VyY2VDYWNoZS5pZCA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhaW50ZXIucmVuZGVyTGF5ZXIocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlZFRvVGlsZSkge1xuICAgICAgICAgICAgICAgIGZiby5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYWNjdW11bGF0ZWREcmFwZXMucHVzaCh0aWxlLnRpbGVJRCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF1c2VSZW5kZXJDYWNoZSkge1xuICAgICAgICAgICAgICAgIC0tcG9vbEluZGV4O1xuICAgICAgICAgICAgICAgIGFzc2VydChwb29sSW5kZXggPj0gMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9vbEluZGV4ID09PSBGQk9fUE9PTF9TSVpFKSB7XG4gICAgICAgICAgICAgICAgcG9vbEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclRvQmFja0J1ZmZlcihhY2N1bXVsYXRlZERyYXBlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXNldCBzdGF0ZXMgYW5kIHJlbmRlciBsYXN0IGRyYXBlc1xuICAgICAgICB0aGlzLnJlbmRlclRvQmFja0J1ZmZlcihhY2N1bXVsYXRlZERyYXBlcyk7XG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlID0gZmFsc2U7XG5cbiAgICAgICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpO1xuICAgICAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgcGFpbnRlci53aWR0aCwgcGFpbnRlci5oZWlnaHRdKTtcblxuICAgICAgICByZXR1cm4gZHJhcGVkTGF5ZXJCYXRjaC5lbmQgKyAxO1xuICAgIH1cblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBjb25zdW1lZCBhbGwgdGhlIGRyYXBlZCB0ZXJyYWluIGJhdGNoZXMgYXQgdGhpcyBwb2ludFxuICAgICAgICBhc3NlcnQodGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5sZW5ndGggPT09IDApO1xuICAgIH1cblxuICAgIHJlbmRlckNhY2hlRWZmaWNpZW5jeShzdHlsZTogU3R5bGUpOiBPYmplY3Qge1xuICAgICAgICBjb25zdCBsYXllckNvdW50ID0gc3R5bGUub3JkZXIubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsYXllckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge2VmZmljaWVuY3k6IDEwMC4wfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB1bmNhY2hlYWJsZUxheWVyQ291bnQgPSAwO1xuICAgICAgICBsZXQgZHJhcGVkTGF5ZXJDb3VudCA9IDA7XG4gICAgICAgIGxldCByZWFjaGVkVW5kcmFwZWRMYXllciA9IGZhbHNlO1xuICAgICAgICBsZXQgZmlyc3RVbmRyYXBlZExheWVyO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJDb3VudDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHN0eWxlLl9sYXllcnNbc3R5bGUub3JkZXJbaV1dO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9zdHlsZS5pc0xheWVyRHJhcGVkKGxheWVyKSkge1xuICAgICAgICAgICAgICAgIGlmICghcmVhY2hlZFVuZHJhcGVkTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVhY2hlZFVuZHJhcGVkTGF5ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFVuZHJhcGVkTGF5ZXIgPSBsYXllci5pZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZWFjaGVkVW5kcmFwZWRMYXllcikge1xuICAgICAgICAgICAgICAgICAgICArK3VuY2FjaGVhYmxlTGF5ZXJDb3VudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKytkcmFwZWRMYXllckNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRyYXBlZExheWVyQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7ZWZmaWNpZW5jeTogMTAwLjB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtlZmZpY2llbmN5OiAoMS4wIC0gdW5jYWNoZWFibGVMYXllckNvdW50IC8gZHJhcGVkTGF5ZXJDb3VudCkgKiAxMDAuMCwgZmlyc3RVbmRyYXBlZExheWVyfTtcbiAgICB9XG5cbiAgICBnZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgbWluID0gMC4wO1xuICAgICAgICAvLyBUaGUgbWF4aW11bSBERU0gZXJyb3IgaW4gbWV0ZXJzIHRvIGJlIGNvbnNlcnZhdGl2ZSAoU1JUTSkuXG4gICAgICAgIGNvbnN0IG1heERFTUVycm9yID0gMzAuMDtcbiAgICAgICAgdGhpcy5fdmlzaWJsZURlbVRpbGVzLmZpbHRlcih0aWxlID0+IHRpbGUuZGVtKS5mb3JFYWNoKHRpbGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWluTWF4VHJlZSA9ICh0aWxlLmRlbTogYW55KS50cmVlO1xuICAgICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCBtaW5NYXhUcmVlLm1pbmltdW1zWzBdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtaW4gPT09IDAuMCA/IG1pbiA6IChtaW4gLSBtYXhERU1FcnJvcikgKiB0aGlzLl9leGFnZ2VyYXRpb247XG4gICAgfVxuXG4gICAgLy8gUGVyZm9ybXMgcmF5Y2FzdCBhZ2FpbnN0IHZpc2libGUgREVNIHRpbGVzIG9uIHRoZSBzY3JlZW4gYW5kIHJldHVybnMgdGhlIGRpc3RhbmNlIHRyYXZlbGxlZCBhbG9uZyB0aGUgcmF5LlxuICAgIC8vIHggJiB5IGNvbXBvbmVudHMgb2YgdGhlIHBvc2l0aW9uIGFyZSBleHBlY3RlZCB0byBiZSBpbiBub3JtYWxpemVkIG1lcmNhdG9yIGNvb3JkaW5hdGVzIFswLCAxXSBhbmQgeiBpbiBtZXRlcnMuXG4gICAgcmF5Y2FzdChwb3M6IFZlYzMsIGRpcjogVmVjMywgZXhhZ2dlcmF0aW9uOiBudW1iZXIpOiA/bnVtYmVyIHtcbiAgICAgICAgaWYgKCF0aGlzLl92aXNpYmxlRGVtVGlsZXMpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICAvLyBQZXJmb3JtIGluaXRpYWwgcmF5Y2FzdHMgYWdhaW5zdCByb290IG5vZGVzIG9mIHRoZSBhdmFpbGFibGUgZGVtIHRpbGVzXG4gICAgICAgIC8vIGFuZCB1c2UgdGhpcyBpbmZvcm1hdGlvbiB0byBzb3J0IHRoZW0gZnJvbSBjbG9zZXN0IHRvIGZ1cnRoZXN0LlxuICAgICAgICBjb25zdCBwcmVwYXJlZFRpbGVzID0gdGhpcy5fdmlzaWJsZURlbVRpbGVzLmZpbHRlcih0aWxlID0+IHRpbGUuZGVtKS5tYXAodGlsZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHRpbGUudGlsZUlEO1xuICAgICAgICAgICAgY29uc3QgdGlsZXMgPSAxIDw8IGlkLm92ZXJzY2FsZWRaO1xuICAgICAgICAgICAgY29uc3Qge3gsIHl9ID0gaWQuY2Fub25pY2FsO1xuXG4gICAgICAgICAgICAvLyBDb21wdXRlIHRpbGUgYm91bmRhcmllcyBpbiBtZXJjYXRvciBjb29yZGluYXRlc1xuICAgICAgICAgICAgY29uc3QgbWlueCA9IHggLyB0aWxlcztcbiAgICAgICAgICAgIGNvbnN0IG1heHggPSAoeCArIDEpIC8gdGlsZXM7XG4gICAgICAgICAgICBjb25zdCBtaW55ID0geSAvIHRpbGVzO1xuICAgICAgICAgICAgY29uc3QgbWF4eSA9ICh5ICsgMSkgLyB0aWxlcztcbiAgICAgICAgICAgIGNvbnN0IHRyZWUgPSAodGlsZS5kZW06IGFueSkudHJlZTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtaW54LCBtaW55LCBtYXh4LCBtYXh5LFxuICAgICAgICAgICAgICAgIHQ6IHRyZWUucmF5Y2FzdFJvb3QobWlueCwgbWlueSwgbWF4eCwgbWF4eSwgcG9zLCBkaXIsIGV4YWdnZXJhdGlvbiksXG4gICAgICAgICAgICAgICAgdGlsZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJlcGFyZWRUaWxlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdCA9IGEudCAhPT0gbnVsbCA/IGEudCA6IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgICAgICBjb25zdCBidCA9IGIudCAhPT0gbnVsbCA/IGIudCA6IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgICAgICByZXR1cm4gYXQgLSBidDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBvYmogb2YgcHJlcGFyZWRUaWxlcykge1xuICAgICAgICAgICAgaWYgKG9iai50ID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIC8vIFBlcmZvcm0gbW9yZSBhY2N1cmF0ZSByYXljYXN0IGFnYWluc3QgdGhlIGRlbSB0cmVlLiBGaXJzdCBpbnRlcnNlY3Rpb24gaXMgdGhlIGNsb3Nlc3Qgb25cbiAgICAgICAgICAgIC8vIGFzIGFsbCB0aWxlcyBhcmUgc29ydGVkIGZyb20gY2xvc2VzdCB0byBmdXJ0aGVzdFxuICAgICAgICAgICAgY29uc3QgdHJlZSA9IChvYmoudGlsZS5kZW06IGFueSkudHJlZTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0cmVlLnJheWNhc3Qob2JqLm1pbngsIG9iai5taW55LCBvYmoubWF4eCwgb2JqLm1heHksIHBvcywgZGlyLCBleGFnZ2VyYXRpb24pO1xuXG4gICAgICAgICAgICBpZiAodCAhPSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUZCTygpOiBGQk8ge1xuICAgICAgICBjb25zdCBwYWludGVyID0gdGhpcy5wYWludGVyO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnN0IGJ1ZmZlclNpemUgPSB0aGlzLmRyYXBlQnVmZmVyU2l6ZTtcbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgIGNvbnN0IHRleCA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIHt3aWR0aDogYnVmZmVyU2l6ZVswXSwgaGVpZ2h0OiBidWZmZXJTaXplWzFdLCBkYXRhOiBudWxsfSwgZ2wuUkdCQSk7XG4gICAgICAgIHRleC5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGNvbnN0IGZiID0gY29udGV4dC5jcmVhdGVGcmFtZWJ1ZmZlcihidWZmZXJTaXplWzBdLCBidWZmZXJTaXplWzFdLCBmYWxzZSk7XG4gICAgICAgIGZiLmNvbG9yQXR0YWNobWVudC5zZXQodGV4LnRleHR1cmUpO1xuICAgICAgICBmYi5kZXB0aEF0dGFjaG1lbnQgPSBuZXcgRGVwdGhTdGVuY2lsQXR0YWNobWVudChjb250ZXh0LCBmYi5mcmFtZWJ1ZmZlcik7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWwgPSBjb250ZXh0LmNyZWF0ZVJlbmRlcmJ1ZmZlcihjb250ZXh0LmdsLkRFUFRIX1NURU5DSUwsIGJ1ZmZlclNpemVbMF0sIGJ1ZmZlclNpemVbMV0pO1xuICAgICAgICAgICAgdGhpcy5fc3RlbmNpbFJlZiA9IDA7XG4gICAgICAgICAgICBmYi5kZXB0aEF0dGFjaG1lbnQuc2V0KHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbCk7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyKHtzdGVuY2lsOiAwfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYi5kZXB0aEF0dGFjaG1lbnQuc2V0KHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMgJiYgIWNvbnRleHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljRm9yY2VPZmYpIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmYoZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICBjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxcbiAgICAgICAgICAgICAgICBjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge2ZiLCB0ZXgsIGRpcnR5OiBmYWxzZX07XG4gICAgfVxuXG4gICAgX2luaXRGQk9Qb29sKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5wb29sLmxlbmd0aCA8IE1hdGgubWluKEZCT19QT09MX1NJWkUsIHRoaXMucHJveHlDb29yZHMubGVuZ3RoKSkge1xuICAgICAgICAgICAgdGhpcy5wb29sLnB1c2godGhpcy5fY3JlYXRlRkJPKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Nob3VsZERpc2FibGVSZW5kZXJDYWNoZSgpOiBib29sZWFuIHtcbiAgICAgICAgLy8gRGlzYWJsZSByZW5kZXIgY2FjaGVzIG9uIGR5bmFtaWMgZXZlbnRzIGR1ZSB0byBmYWRpbmcgb3IgdHJhbnNpdGlvbmluZy5cbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlLmxpZ2h0ICYmIHRoaXMuX3N0eWxlLmxpZ2h0Lmhhc1RyYW5zaXRpb24oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzW2lkXS5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzVHJhbnNpdGlvbmluZyA9IGlkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5fc3R5bGUuX2xheWVyc1tpZF07XG4gICAgICAgICAgICBjb25zdCBpc0hpZGRlbiA9IGxheWVyLmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSk7XG4gICAgICAgICAgICBpZiAobGF5ZXIudHlwZSA9PT0gJ2N1c3RvbScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWlzSGlkZGVuICYmICgobGF5ZXI6IGFueSk6IEN1c3RvbVN0eWxlTGF5ZXIpLnNob3VsZFJlZHJhcGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAhaXNIaWRkZW4gJiYgbGF5ZXIuaGFzVHJhbnNpdGlvbigpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGUub3JkZXIuc29tZShpc1RyYW5zaXRpb25pbmcpO1xuICAgIH1cblxuICAgIF9jbGVhckxpbmVMYXllcnNGcm9tUmVuZGVyQ2FjaGUoKSB7XG4gICAgICAgIGxldCBoYXNWZWN0b3JTb3VyY2UgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2Ugb2YgdGhpcy5fc3R5bGUuX2dldFNvdXJjZXMoKSkge1xuICAgICAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIFZlY3RvclRpbGVTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBoYXNWZWN0b3JTb3VyY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNWZWN0b3JTb3VyY2UpIHJldHVybjtcblxuICAgICAgICBjb25zdCBjbGVhclNvdXJjZUNhY2hlcyA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3N0eWxlLm9yZGVyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX3N0eWxlLl9sYXllcnNbdGhpcy5fc3R5bGUub3JkZXJbaV1dO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLl9zdHlsZS5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShsYXllcik7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUNhY2hlIHx8IGNsZWFyU291cmNlQ2FjaGVzW3NvdXJjZUNhY2hlLmlkXSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IGlzSGlkZGVuID0gbGF5ZXIuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKTtcbiAgICAgICAgICAgIGlmIChpc0hpZGRlbiB8fCBsYXllci50eXBlICE9PSAnbGluZScpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBsYXllciBoYXMgYSB6b29tIGRlcGVuZGVudCBcImxpbmUtd2lkdGhcIiBleHByZXNzaW9uXG4gICAgICAgICAgICBjb25zdCB3aWR0aEV4cHJlc3Npb24gPSAoKGxheWVyOiBhbnkpOiBMaW5lU3R5bGVMYXllcikud2lkdGhFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICBpZiAoISh3aWR0aEV4cHJlc3Npb24gaW5zdGFuY2VvZiBab29tRGVwZW5kZW50RXhwcmVzc2lvbikpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBNYXJrIHNvdXJjZUNhY2hlIGFzIGNsZWFyZWRcbiAgICAgICAgICAgIGNsZWFyU291cmNlQ2FjaGVzW3NvdXJjZUNhY2hlLmlkXSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb3h5IG9mIHRoaXMucHJveHlDb29yZHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm94aWVkQ29vcmRzID0gdGhpcy5wcm94eVRvU291cmNlW3Byb3h5LmtleV1bc291cmNlQ2FjaGUuaWRdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9ICgocHJveGllZENvb3JkczogYW55KTogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pO1xuICAgICAgICAgICAgICAgIGlmICghY29vcmRzKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKHNvdXJjZUNhY2hlLmlkLCBjb29yZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NsZWFyUmFzdGVyTGF5ZXJzRnJvbVJlbmRlckNhY2hlKCkge1xuICAgICAgICBsZXQgaGFzUmFzdGVyU291cmNlID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXNbaWRdLl9zb3VyY2UgaW5zdGFuY2VvZiBSYXN0ZXJUaWxlU291cmNlKSB7XG4gICAgICAgICAgICAgICAgaGFzUmFzdGVyU291cmNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGFzUmFzdGVyU291cmNlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY2xlYXJTb3VyY2VDYWNoZXMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9zdHlsZS5vcmRlci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9zdHlsZS5fbGF5ZXJzW3RoaXMuX3N0eWxlLm9yZGVyW2ldXTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5fc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUobGF5ZXIpO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2VDYWNoZSB8fCBjbGVhclNvdXJjZUNhY2hlc1tzb3VyY2VDYWNoZS5pZF0pIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb25zdCBpc0hpZGRlbiA9IGxheWVyLmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSk7XG4gICAgICAgICAgICBpZiAoaXNIaWRkZW4gfHwgbGF5ZXIudHlwZSAhPT0gJ3Jhc3RlcicpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBhbnkgcmFzdGVyIHRpbGUgaXMgaW4gYSBmYWRpbmcgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IGZhZGVEdXJhdGlvbiA9ICgobGF5ZXI6IGFueSk6IFJhc3RlclN0eWxlTGF5ZXIpLnBhaW50LmdldCgncmFzdGVyLWZhZGUtZHVyYXRpb24nKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJveHkgb2YgdGhpcy5wcm94eUNvb3Jkcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3hpZWRDb29yZHMgPSB0aGlzLnByb3h5VG9Tb3VyY2VbcHJveHkua2V5XVtzb3VyY2VDYWNoZS5pZF07XG4gICAgICAgICAgICAgICAgY29uc3QgY29vcmRzID0gKChwcm94aWVkQ29vcmRzOiBhbnkpOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPik7XG4gICAgICAgICAgICAgICAgaWYgKCFjb29yZHMpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBzb3VyY2VDYWNoZS5maW5kTG9hZGVkUGFyZW50KGNvb3JkLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFkZSA9IHJhc3RlckZhZGUodGlsZSwgcGFyZW50LCBzb3VyY2VDYWNoZSwgdGhpcy5wYWludGVyLnRyYW5zZm9ybSwgZmFkZUR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNGYWRpbmcgPSBmYWRlLm9wYWNpdHkgIT09IDEgfHwgZmFkZS5taXggIT09IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0ZhZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoc291cmNlQ2FjaGUuaWQsIGNvb3JkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZXR1cERyYXBlZFJlbmRlckJhdGNoZXMoKSB7XG4gICAgICAgIGNvbnN0IGxheWVySWRzID0gdGhpcy5fc3R5bGUub3JkZXI7XG4gICAgICAgIGNvbnN0IGxheWVyQ291bnQgPSBsYXllcklkcy5sZW5ndGg7XG4gICAgICAgIGlmIChsYXllckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBiYXRjaGVzOiBBcnJheTxSZW5kZXJCYXRjaD4gPSBbXTtcblxuICAgICAgICBsZXQgY3VycmVudExheWVyID0gMDtcbiAgICAgICAgbGV0IGxheWVyID0gdGhpcy5fc3R5bGUuX2xheWVyc1tsYXllcklkc1tjdXJyZW50TGF5ZXJdXTtcbiAgICAgICAgd2hpbGUgKCF0aGlzLl9zdHlsZS5pc0xheWVyRHJhcGVkKGxheWVyKSAmJiBsYXllci5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pICYmICsrY3VycmVudExheWVyIDwgbGF5ZXJDb3VudCkge1xuICAgICAgICAgICAgbGF5ZXIgPSB0aGlzLl9zdHlsZS5fbGF5ZXJzW2xheWVySWRzW2N1cnJlbnRMYXllcl1dO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJhdGNoU3RhcnQ6IG51bWJlciB8IHZvaWQ7XG4gICAgICAgIGZvciAoOyBjdXJyZW50TGF5ZXIgPCBsYXllckNvdW50OyArK2N1cnJlbnRMYXllcikge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9zdHlsZS5fbGF5ZXJzW2xheWVySWRzW2N1cnJlbnRMYXllcl1dO1xuICAgICAgICAgICAgaWYgKGxheWVyLmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZChsYXllcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmF0Y2hTdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoZXMucHVzaCh7c3RhcnQ6IGJhdGNoU3RhcnQsIGVuZDogY3VycmVudExheWVyIC0gMX0pO1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFN0YXJ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiYXRjaFN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBiYXRjaFN0YXJ0ID0gY3VycmVudExheWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhdGNoU3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYmF0Y2hlcy5wdXNoKHtzdGFydDogYmF0Y2hTdGFydCwgZW5kOiBjdXJyZW50TGF5ZXIgLSAxfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc3R5bGUubWFwLl9vcHRpbWl6ZUZvclRlcnJhaW4pIHtcbiAgICAgICAgICAgIC8vIERyYXBlZCBmaXJzdCBhcHByb2FjaCBzaG91bGQgcmVzdWx0IGluIGEgc2luZ2xlIG9yIG5vIGJhdGNoXG4gICAgICAgICAgICBhc3NlcnQoYmF0Y2hlcy5sZW5ndGggPT09IDEgfHwgYmF0Y2hlcy5sZW5ndGggPT09IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcyA9IGJhdGNoZXM7XG4gICAgfVxuXG4gICAgX3NldHVwUmVuZGVyQ2FjaGUocHJldmlvdXNQcm94eVRvU291cmNlOiB7W251bWJlcl06IHtbc3RyaW5nXTogQXJyYXk8UHJveGllZFRpbGVJRD59fSkge1xuICAgICAgICBjb25zdCBwc2MgPSB0aGlzLnByb3h5U291cmNlQ2FjaGU7XG4gICAgICAgIGlmICh0aGlzLl9zaG91bGREaXNhYmxlUmVuZGVyQ2FjaGUoKSB8fCB0aGlzLl9pbnZhbGlkYXRlUmVuZGVyQ2FjaGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludmFsaWRhdGVSZW5kZXJDYWNoZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHBzYy5yZW5kZXJDYWNoZS5sZW5ndGggPiBwc2MucmVuZGVyQ2FjaGVQb29sLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZWQgPSAoKE9iamVjdC52YWx1ZXMocHNjLnByb3h5Q2FjaGVkRkJPKTogYW55KTogQXJyYXk8e1tzdHJpbmcgfCBudW1iZXJdOiBudW1iZXJ9Pik7XG4gICAgICAgICAgICAgICAgcHNjLnByb3h5Q2FjaGVkRkJPID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZib3MgPSAoKE9iamVjdC52YWx1ZXModXNlZFtpXSk6IGFueSk6IEFycmF5PG51bWJlcj4pO1xuICAgICAgICAgICAgICAgICAgICBwc2MucmVuZGVyQ2FjaGVQb29sLnB1c2goLi4uZmJvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFzc2VydChwc2MucmVuZGVyQ2FjaGUubGVuZ3RoID09PSBwc2MucmVuZGVyQ2FjaGVQb29sLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jbGVhclJhc3RlckxheWVyc0Zyb21SZW5kZXJDYWNoZSgpO1xuXG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMucHJveHlDb29yZHM7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gdGhpcy5fdGlsZXNEaXJ0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNvb3Jkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgcHJveHkgPSBjb29yZHNbaV07XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gcHNjLmdldFRpbGVCeUlEKHByb3h5LmtleSk7XG5cbiAgICAgICAgICAgIGlmIChwc2MucHJveHlDYWNoZWRGQk9bcHJveHkua2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRpbGUudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IHByZXZpb3VzUHJveHlUb1NvdXJjZVtwcm94eS5rZXldO1xuICAgICAgICAgICAgICAgIGFzc2VydChwcmV2KTtcbiAgICAgICAgICAgICAgICAvLyBSZXVzZSBwcmV2aW91cyByZW5kZXIgZnJvbSBjYWNoZSBpZiB0aGVyZSB3YXMgbm8gY2hhbmdlIG9mXG4gICAgICAgICAgICAgICAgLy8gY29udGVudCB0aGF0IHdhcyB1c2VkIHRvIHJlbmRlciBwcm94eSB0aWxlLlxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLnByb3h5VG9Tb3VyY2VbcHJveHkua2V5XTtcbiAgICAgICAgICAgICAgICBsZXQgZXF1YWwgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc291cmNlIGluIGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlsZXMgPSBjdXJyZW50W3NvdXJjZV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZUaWxlcyA9IHByZXZbc291cmNlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2VGlsZXMgfHwgcHJldlRpbGVzLmxlbmd0aCAhPT0gdGlsZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWxlcy5zb21lKCh0LCBpbmRleCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCAhPT0gcHJldlRpbGVzW2luZGV4XSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkaXJ0eVtzb3VyY2VdICYmIGRpcnR5W3NvdXJjZV0uaGFzT3duUHJvcGVydHkodC5rZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSkpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXF1YWwgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICsrZXF1YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRpcnR5ID09PSBmYWxzZTogZG9lc24ndCBuZWVkIHRvIGJlIHJlbmRlcmVkIHRvLCBqdXN0IHVzZSBjYWNoZWQgcmVuZGVyLlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJveHlGQk8gaW4gcHNjLnByb3h5Q2FjaGVkRkJPW3Byb3h5LmtleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcHNjLnJlbmRlckNhY2hlW3BzYy5wcm94eUNhY2hlZEZCT1twcm94eS5rZXldW3Byb3h5RkJPXV0uZGlydHkgPSBlcXVhbCA8IDAgfHwgZXF1YWwgIT09IE9iamVjdC52YWx1ZXMocHJldikubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvcnRlZFJlbmRlckJhdGNoZXMgPSBbLi4udGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlc107XG4gICAgICAgIHNvcnRlZFJlbmRlckJhdGNoZXMuc29ydCgoYmF0Y2hBLCBiYXRjaEIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoQVNpemUgPSBiYXRjaEEuZW5kIC0gYmF0Y2hBLnN0YXJ0O1xuICAgICAgICAgICAgY29uc3QgYmF0Y2hCU2l6ZSA9IGJhdGNoQi5lbmQgLSBiYXRjaEIuc3RhcnQ7XG4gICAgICAgICAgICByZXR1cm4gYmF0Y2hCU2l6ZSAtIGJhdGNoQVNpemU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAoY29uc3QgYmF0Y2ggb2Ygc29ydGVkUmVuZGVyQmF0Y2hlcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBjb29yZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocHNjLnByb3h5Q2FjaGVkRkJPW2lkLmtleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQXNzaWduIHJlbmRlckNhY2hlIEZCTyBpZiB0aGVyZSBhcmUgYXZhaWxhYmxlIEZCT3MgaW4gcG9vbC5cbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBwc2MucmVuZGVyQ2FjaGVQb29sLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkICYmIHBzYy5yZW5kZXJDYWNoZS5sZW5ndGggPCBSRU5ERVJfQ0FDSEVfTUFYX1NJWkUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBwc2MucmVuZGVyQ2FjaGUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBwc2MucmVuZGVyQ2FjaGUucHVzaCh0aGlzLl9jcmVhdGVGQk8oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBzYy5wcm94eUNhY2hlZEZCT1tpZC5rZXldID0ge307XG4gICAgICAgICAgICAgICAgICAgIHBzYy5wcm94eUNhY2hlZEZCT1tpZC5rZXldW2JhdGNoLnN0YXJ0XSA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICBwc2MucmVuZGVyQ2FjaGVbaW5kZXhdLmRpcnR5ID0gdHJ1ZTsgLy8gbmVlZHMgdG8gYmUgcmVuZGVyZWQgdG8uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RpbGVzRGlydHkgPSB7fTtcbiAgICB9XG5cbiAgICBfc2V0dXBTdGVuY2lsKGZibzogRkJPLCBwcm94aWVkQ29vcmRzOiBBcnJheTxQcm94aWVkVGlsZUlEPiwgbGF5ZXI6IFN0eWxlTGF5ZXIsIHNvdXJjZUNhY2hlPzogU291cmNlQ2FjaGUpIHtcbiAgICAgICAgaWYgKCFzb3VyY2VDYWNoZSB8fCAhdGhpcy5fc291cmNlVGlsZXNPdmVybGFwW3NvdXJjZUNhY2hlLmlkXSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSkgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgLy8gSWYgbmVlZGVkLCBzZXR1cCBzdGVuY2lsbGluZy4gRG9uJ3QgYm90aGVyIHRvIHJlbW92ZSB3aGVuIHRoZXJlIGlzIG5vXG4gICAgICAgIC8vIG1vcmUgbmVlZDogaW4gc3VjaCBjYXNlLCBpZiB0aGVyZSBpcyBubyBvdmVybGFwLCBzdGVuY2lsbGluZyBpcyBkaXNhYmxlZC5cbiAgICAgICAgaWYgKHByb3hpZWRDb29yZHMubGVuZ3RoIDw9IDEpIHsgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlID0gZmFsc2U7IHJldHVybjsgfVxuXG4gICAgICAgIGxldCBzdGVuY2lsUmFuZ2U7XG4gICAgICAgIGlmIChsYXllci5pc1RpbGVDbGlwcGVkKCkpIHtcbiAgICAgICAgICAgIHN0ZW5jaWxSYW5nZSA9IHByb3hpZWRDb29yZHMubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnRlc3QgPSB7ZnVuYzogZ2wuRVFVQUwsIG1hc2s6IDB4RkZ9O1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlID0gJ0NsaXAnO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3hpZWRDb29yZHNbMF0ub3ZlcnNjYWxlZFogPiBwcm94aWVkQ29vcmRzW3Byb3hpZWRDb29yZHMubGVuZ3RoIC0gMV0ub3ZlcnNjYWxlZFopIHtcbiAgICAgICAgICAgIHN0ZW5jaWxSYW5nZSA9IDE7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUudGVzdCA9IHtmdW5jOiBnbC5HUkVBVEVSLCBtYXNrOiAweEZGfTtcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSA9ICdNYXNrJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zdGVuY2lsUmVmICsgc3RlbmNpbFJhbmdlID4gMjU1KSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyKHtzdGVuY2lsOiAwfSk7XG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsUmVmID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGVuY2lsUmVmICs9IHN0ZW5jaWxSYW5nZTtcbiAgICAgICAgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZiA9IHRoaXMuX3N0ZW5jaWxSZWY7XG4gICAgICAgIGlmIChsYXllci5pc1RpbGVDbGlwcGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHByb3hpZWRDb29yZHMsIHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS5yZWYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xpcE9yTWFza092ZXJsYXBTdGVuY2lsVHlwZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSA9PT0gJ0NsaXAnIHx8IHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSA9PT0gJ01hc2snO1xuICAgIH1cblxuICAgIHN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChpZDogT3ZlcnNjYWxlZFRpbGVJRCk6ICRSZWFkT25seTxTdGVuY2lsTW9kZT4ge1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyaW5nVG9UZXh0dXJlIHx8ICF0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBTdGVuY2lsTW9kZS5kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBBbGwgc291cmNlIHRpbGVzIGNvbnRyaWJ1dGluZyB0byB0aGUgc2FtZSBwcm94eSBhcmUgcHJvY2Vzc2VkIGluIHNlcXVlbmNlLCBpbiB6b29tIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICAgIC8vIEZvciByYXN0ZXIgLyBoaWxsc2hhZGUgb3ZlcmxhcCBtYXNraW5nLCByZWYgaXMgYmFzZWQgb24gem9vbSBkaWYuXG4gICAgICAgIC8vIEZvciB2ZWN0b3IgbGF5ZXIgY2xpcHBpbmcsIGV2ZXJ5IHRpbGUgZ2V0cyBkZWRpY2F0ZWQgc3RlbmNpbCByZWYuXG4gICAgICAgIGlmICh0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGUgPT09ICdDbGlwJykge1xuICAgICAgICAgICAgLy8gSW4gaW1tZWRpYXRlIDJEIG1vZGUsIHdlIHJlbmRlciByZWN0cyB0byBtYXJrIGNsaXBwaW5nIGFyZWEgYW5kIGhhbmRsZSBiZWhhdmlvciBvbiB0aWxlIGJvcmRlcnMuXG4gICAgICAgICAgICAvLyBIZXJlLCB0aGVyZSBpcyBubyBuZWVkIGZvciBub3cgZm9yIHRoaXM6XG4gICAgICAgICAgICAvLyAxLiBvdmVybGFwIGlzIGhhbmRsZWQgYnkgcHJveHkgcmVuZGVyIHRvIHRleHR1cmUgdGlsZXMgKHRoZXJlIGlzIG5vIG92ZXJsYXAgdGhlcmUpXG4gICAgICAgICAgICAvLyAyLiBoZXJlIHdlIGhhbmRsZSBvbmx5IGJyaWVmIHpvb20gb3V0IHNlbWktdHJhbnNwYXJlbnQgY29sb3IgaW50ZW5zaXR5IGZsaWNrZXJpbmdcbiAgICAgICAgICAgIC8vICAgIGFuZCB0aGF0IGlzIGF2b2lkZWQgZmluZSBieSBzdGVuY2lsaW5nIHByaW1pdGl2ZXMgYXMgcGFydCBvZiBkcmF3aW5nIChpbnN0ZWFkIG9mIGFkZGl0aW9uYWwgdGlsZSBxdWFkIHN0ZXApLlxuICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZiA9IHRoaXMucGFpbnRlci5fdGlsZUNsaXBwaW5nTWFza0lEc1tpZC5rZXldO1xuICAgICAgICB9IC8vIGVsc2UgdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZiBpcyBzZXQgdG8gYSBzaW5nbGUgdmFsdWUgdXNlZCBwZXIgcHJveHkgdGlsZSwgaW4gX3NldHVwU3RlbmNpbC5cbiAgICAgICAgcmV0dXJuIHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZTtcbiAgICB9XG5cbiAgICBfcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MocHJveGllZENvb3JkczogQXJyYXk8UHJveGllZFRpbGVJRD4sIHJlZjogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHBhaW50ZXIgPSB0aGlzLnBhaW50ZXI7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICBwYWludGVyLl90aWxlQ2xpcHBpbmdNYXNrSURzID0ge307XG4gICAgICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKENvbG9yTW9kZS5kaXNhYmxlZCk7XG4gICAgICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKERlcHRoTW9kZS5kaXNhYmxlZCk7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnY2xpcHBpbmdNYXNrJyk7XG5cbiAgICAgICAgZm9yIChjb25zdCB0aWxlSUQgb2YgcHJveGllZENvb3Jkcykge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBwYWludGVyLl90aWxlQ2xpcHBpbmdNYXNrSURzW3RpbGVJRC5rZXldID0gLS1yZWY7XG4gICAgICAgICAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLCBEZXB0aE1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgLy8gVGVzdHMgd2lsbCBhbHdheXMgcGFzcywgYW5kIHJlZiB2YWx1ZSB3aWxsIGJlIHdyaXR0ZW4gdG8gc3RlbmNpbCBidWZmZXIuXG4gICAgICAgICAgICAgICAgbmV3IFN0ZW5jaWxNb2RlKHtmdW5jOiBnbC5BTFdBWVMsIG1hc2s6IDB9LCBpZCwgMHhGRiwgZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuUkVQTEFDRSksXG4gICAgICAgICAgICAgICAgQ29sb3JNb2RlLmRpc2FibGVkLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsIGNsaXBwaW5nTWFza1VuaWZvcm1WYWx1ZXModGlsZUlELnByb2pNYXRyaXgpLFxuICAgICAgICAgICAgICAgICckY2xpcHBpbmcnLCBwYWludGVyLnRpbGVFeHRlbnRCdWZmZXIsXG4gICAgICAgICAgICAgICAgcGFpbnRlci5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlciwgcGFpbnRlci50aWxlRXh0ZW50U2VnbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FzdHMgYSByYXkgZnJvbSBhIHBvaW50IG9uIHNjcmVlbiBhbmQgcmV0dXJucyB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IHdpdGggdGhlIHRlcnJhaW4uXG4gICAgLy8gVGhlIHJldHVybmVkIHBvaW50IGNvbnRhaW5zIHRoZSBtZXJjYXRvciBjb29yZGluYXRlcyBpbiBpdHMgZmlyc3QgMyBjb21wb25lbnRzLCBhbmQgZWxldmF0aW9uXG4gICAgLy8gaW4gbWV0ZXIgaW4gaXRzIDR0aCBjb29yZGluYXRlLlxuICAgIHBvaW50Q29vcmRpbmF0ZShzY3JlZW5Qb2ludDogUG9pbnQpOiA/VmVjNCB7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHRoaXMucGFpbnRlci50cmFuc2Zvcm07XG4gICAgICAgIGlmIChzY3JlZW5Qb2ludC54IDwgMCB8fCBzY3JlZW5Qb2ludC54ID4gdHJhbnNmb3JtLndpZHRoIHx8XG4gICAgICAgICAgICBzY3JlZW5Qb2ludC55IDwgMCB8fCBzY3JlZW5Qb2ludC55ID4gdHJhbnNmb3JtLmhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmYXIgPSBbc2NyZWVuUG9pbnQueCwgc2NyZWVuUG9pbnQueSwgMSwgMV07XG4gICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChmYXIsIGZhciwgdHJhbnNmb3JtLnBpeGVsTWF0cml4SW52ZXJzZSk7XG4gICAgICAgIHZlYzQuc2NhbGUoZmFyLCBmYXIsIDEuMCAvIGZhclszXSk7XG4gICAgICAgIC8vIHggJiB5IGluIHBpeGVsIGNvb3JkaW5hdGVzLCB6IGlzIGFsdGl0dWRlIGluIG1ldGVyc1xuICAgICAgICBmYXJbMF0gLz0gdHJhbnNmb3JtLndvcmxkU2l6ZTtcbiAgICAgICAgZmFyWzFdIC89IHRyYW5zZm9ybS53b3JsZFNpemU7XG4gICAgICAgIGNvbnN0IGNhbWVyYSA9IHRyYW5zZm9ybS5fY2FtZXJhLnBvc2l0aW9uO1xuICAgICAgICBjb25zdCBtZXJjYXRvclpTY2FsZSA9IG1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLCB0cmFuc2Zvcm0uY2VudGVyLmxhdCk7XG4gICAgICAgIGNvbnN0IHAgPSBbY2FtZXJhWzBdLCBjYW1lcmFbMV0sIGNhbWVyYVsyXSAvIG1lcmNhdG9yWlNjYWxlLCAwLjBdO1xuICAgICAgICBjb25zdCBkaXIgPSB2ZWMzLnN1YnRyYWN0KFtdLCBmYXIuc2xpY2UoMCwgMyksIHApO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShkaXIsIGRpcik7XG5cbiAgICAgICAgY29uc3QgZXhhZ2dlcmF0aW9uID0gdGhpcy5fZXhhZ2dlcmF0aW9uO1xuICAgICAgICBjb25zdCBkaXN0YW5jZUFsb25nUmF5ID0gdGhpcy5yYXljYXN0KHAsIGRpciwgZXhhZ2dlcmF0aW9uKTtcblxuICAgICAgICBpZiAoZGlzdGFuY2VBbG9uZ1JheSA9PT0gbnVsbCB8fCAhZGlzdGFuY2VBbG9uZ1JheSkgcmV0dXJuIG51bGw7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQocCwgcCwgZGlyLCBkaXN0YW5jZUFsb25nUmF5KTtcbiAgICAgICAgcFszXSA9IHBbMl07XG4gICAgICAgIHBbMl0gKj0gbWVyY2F0b3JaU2NhbGU7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIGRyYXdEZXB0aCgpIHtcbiAgICAgICAgY29uc3QgcGFpbnRlciA9IHRoaXMucGFpbnRlcjtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgY29uc3QgcHNjID0gdGhpcy5wcm94eVNvdXJjZUNhY2hlO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKHBhaW50ZXIud2lkdGgpLCBoZWlnaHQgPSBNYXRoLmNlaWwocGFpbnRlci5oZWlnaHQpO1xuICAgICAgICBpZiAodGhpcy5fZGVwdGhGQk8gJiYgKHRoaXMuX2RlcHRoRkJPLndpZHRoICE9PSB3aWR0aCB8fCB0aGlzLl9kZXB0aEZCTy5oZWlnaHQgIT09IGhlaWdodCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlcHRoRkJPLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2RlcHRoRkJPID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5fZGVwdGhUZXh0dXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fZGVwdGhGQk8pIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgICAgIGNvbnN0IGZibyA9IGNvbnRleHQuY3JlYXRlRnJhbWVidWZmZXIod2lkdGgsIGhlaWdodCwgdHJ1ZSk7XG4gICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB7d2lkdGgsIGhlaWdodCwgZGF0YTogbnVsbH0sIGdsLlJHQkEpO1xuICAgICAgICAgICAgdGV4dHVyZS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgZmJvLmNvbG9yQXR0YWNobWVudC5zZXQodGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlUmVuZGVyYnVmZmVyKGNvbnRleHQuZ2wuREVQVEhfQ09NUE9ORU5UMTYsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgZmJvLmRlcHRoQXR0YWNobWVudC5zZXQocmVuZGVyYnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2RlcHRoRkJPID0gZmJvO1xuICAgICAgICAgICAgdGhpcy5fZGVwdGhUZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5fZGVwdGhGQk8uZnJhbWVidWZmZXIpO1xuICAgICAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgd2lkdGgsIGhlaWdodF0pO1xuXG4gICAgICAgIGRyYXdUZXJyYWluRGVwdGgocGFpbnRlciwgdGhpcywgcHNjLCB0aGlzLnByb3h5Q29vcmRzKTtcbiAgICB9XG5cbiAgICBfc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8oc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBzb3VyY2VDb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+LCBwcmV2aW91c1Byb3h5VG9Tb3VyY2U6IHtbbnVtYmVyXToge1tzdHJpbmddOiBBcnJheTxQcm94aWVkVGlsZUlEPn19KTogdm9pZCB7XG4gICAgICAgIGlmIChzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKSBpbnN0YW5jZW9mIEltYWdlU291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0dXBQcm94aWVkQ29vcmRzRm9ySW1hZ2VTb3VyY2Uoc291cmNlQ2FjaGUsIHNvdXJjZUNvb3JkcywgcHJldmlvdXNQcm94eVRvU291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGVbc291cmNlQ2FjaGUuaWRdID0gdGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW3NvdXJjZUNhY2hlLmlkXSB8fCB7fTtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5wcm94aWVkQ29vcmRzW3NvdXJjZUNhY2hlLmlkXSA9IFtdO1xuICAgICAgICBjb25zdCBwcm94eXMgPSB0aGlzLnByb3h5Q29vcmRzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3h5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcHJveHlUaWxlSUQgPSBwcm94eXNbaV07XG4gICAgICAgICAgICBjb25zdCBwcm94aWVkID0gdGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRChwcm94eVRpbGVJRCwgc291cmNlQ2FjaGUpO1xuICAgICAgICAgICAgaWYgKHByb3hpZWQpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQocHJveGllZC5oYXNEYXRhKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5fY3JlYXRlUHJveGllZElkKHByb3h5VGlsZUlELCBwcm94aWVkLCBwcmV2aW91c1Byb3h5VG9Tb3VyY2VbcHJveHlUaWxlSUQua2V5XSAmJiBwcmV2aW91c1Byb3h5VG9Tb3VyY2VbcHJveHlUaWxlSUQua2V5XVtzb3VyY2VDYWNoZS5pZF0pO1xuICAgICAgICAgICAgICAgIGNvb3Jkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3h5VG9Tb3VyY2VbcHJveHlUaWxlSUQua2V5XVtzb3VyY2VDYWNoZS5pZF0gPSBbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBoYXNPdmVybGFwID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlQ29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShzb3VyY2VDb29yZHNbaV0pO1xuICAgICAgICAgICAgaWYgKCF0aWxlIHx8ICF0aWxlLmhhc0RhdGEoKSkgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBwcm94eSA9IHRoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQodGlsZS50aWxlSUQsIHRoaXMucHJveHlTb3VyY2VDYWNoZSk7XG4gICAgICAgICAgICAvLyBEb24ndCBhZGQgdGhlIHRpbGUgaWYgYWxyZWFkeSBhZGRlZCBpbiBsb29wIGFib3ZlLlxuICAgICAgICAgICAgaWYgKHByb3h5ICYmIHByb3h5LnRpbGVJRC5jYW5vbmljYWwueiAhPT0gdGlsZS50aWxlSUQuY2Fub25pY2FsLnopIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheSA9IHRoaXMucHJveHlUb1NvdXJjZVtwcm94eS50aWxlSUQua2V5XVtzb3VyY2VDYWNoZS5pZF07XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9jcmVhdGVQcm94aWVkSWQocHJveHkudGlsZUlELCB0aWxlLCBwcmV2aW91c1Byb3h5VG9Tb3VyY2VbcHJveHkudGlsZUlELmtleV0gJiYgcHJldmlvdXNQcm94eVRvU291cmNlW3Byb3h5LnRpbGVJRC5rZXldW3NvdXJjZUNhY2hlLmlkXSk7XG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3h5VG9Tb3VyY2VbcHJveHkudGlsZUlELmtleV1bc291cmNlQ2FjaGUuaWRdID0gW2lkXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbGFzdCBlbGVtZW50IGlzIHBhcmVudCBhZGRlZCBpbiBsb29wIGFib3ZlLiBUaGlzIHdheSB3ZSBnZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBsaXN0IGluIFogZGVzY2VuZGluZyBvcmRlciB3aGljaCBpcyBuZWVkZWQgZm9yIHN0ZW5jaWwgbWFza2luZy5cbiAgICAgICAgICAgICAgICAgICAgYXJyYXkuc3BsaWNlKGFycmF5Lmxlbmd0aCAtIDEsIDAsIGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29vcmRzLnB1c2goaWQpO1xuICAgICAgICAgICAgICAgIGhhc092ZXJsYXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NvdXJjZVRpbGVzT3ZlcmxhcFtzb3VyY2VDYWNoZS5pZF0gPSBoYXNPdmVybGFwO1xuICAgIH1cblxuICAgIF9zZXR1cFByb3hpZWRDb29yZHNGb3JJbWFnZVNvdXJjZShzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIHNvdXJjZUNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4sIHByZXZpb3VzUHJveHlUb1NvdXJjZToge1tudW1iZXJdOiB7W3N0cmluZ106IEFycmF5PFByb3hpZWRUaWxlSUQ+fX0pIHtcbiAgICAgICAgaWYgKCFzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5sb2FkZWQoKSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMucHJveGllZENvb3Jkc1tzb3VyY2VDYWNoZS5pZF0gPSBbXTtcbiAgICAgICAgY29uc3QgcHJveHlzID0gdGhpcy5wcm94eUNvb3JkcztcbiAgICAgICAgY29uc3QgaW1hZ2VTb3VyY2U6IEltYWdlU291cmNlID0gKChzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKTogYW55KTogSW1hZ2VTb3VyY2UpO1xuXG4gICAgICAgIGNvbnN0IGFuY2hvciA9IG5ldyBQb2ludChpbWFnZVNvdXJjZS50aWxlSUQueCwgaW1hZ2VTb3VyY2UudGlsZUlELnkpLl9kaXYoMSA8PCBpbWFnZVNvdXJjZS50aWxlSUQueik7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgY29uc3QgYWFiYiA9IGltYWdlU291cmNlLmNvb3JkaW5hdGVzLm1hcChNZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCkucmVkdWNlKChhY2MsIGNvb3JkKSA9PiB7XG4gICAgICAgICAgICBhY2MubWluLnggPSBNYXRoLm1pbihhY2MubWluLngsIGNvb3JkLnggLSBhbmNob3IueCk7XG4gICAgICAgICAgICBhY2MubWluLnkgPSBNYXRoLm1pbihhY2MubWluLnksIGNvb3JkLnkgLSBhbmNob3IueSk7XG4gICAgICAgICAgICBhY2MubWF4LnggPSBNYXRoLm1heChhY2MubWF4LngsIGNvb3JkLnggLSBhbmNob3IueCk7XG4gICAgICAgICAgICBhY2MubWF4LnkgPSBNYXRoLm1heChhY2MubWF4LnksIGNvb3JkLnkgLSBhbmNob3IueSk7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7bWluOiBuZXcgUG9pbnQoTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSksIG1heDogbmV3IFBvaW50KC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSl9KTtcblxuICAgICAgICAvLyBGYXN0IGNvbnNlcnZhdGl2ZSBjaGVjayB1c2luZyBhYWJiOiBjb250ZW50IG91dHNpZGUgcHJveHkgdGlsZSBnZXRzIGNsaXBwZWQgb3V0IGJ5IG9uIHJlbmRlciwgYW55d2F5LlxuICAgICAgICBjb25zdCB0aWxlT3V0c2lkZUltYWdlID0gKHRpbGVJRCwgaW1hZ2VUaWxlSUQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHggPSB0aWxlSUQud3JhcCArIHRpbGVJRC5jYW5vbmljYWwueCAvICgxIDw8IHRpbGVJRC5jYW5vbmljYWwueik7XG4gICAgICAgICAgICBjb25zdCB5ID0gdGlsZUlELmNhbm9uaWNhbC55IC8gKDEgPDwgdGlsZUlELmNhbm9uaWNhbC56KTtcbiAgICAgICAgICAgIGNvbnN0IGQgPSBFWFRFTlQgLyAoMSA8PCB0aWxlSUQuY2Fub25pY2FsLnopO1xuXG4gICAgICAgICAgICBjb25zdCBpeCA9IGltYWdlVGlsZUlELndyYXAgKyBpbWFnZVRpbGVJRC5jYW5vbmljYWwueCAvICgxIDw8IGltYWdlVGlsZUlELmNhbm9uaWNhbC56KTtcbiAgICAgICAgICAgIGNvbnN0IGl5ID0gaW1hZ2VUaWxlSUQuY2Fub25pY2FsLnkgLyAoMSA8PCBpbWFnZVRpbGVJRC5jYW5vbmljYWwueik7XG5cbiAgICAgICAgICAgIHJldHVybiB4ICsgZCA8IGl4ICsgYWFiYi5taW4ueCB8fCB4ID4gaXggKyBhYWJiLm1heC54IHx8IHkgKyBkIDwgaXkgKyBhYWJiLm1pbi55IHx8IHkgPiBpeSArIGFhYmIubWF4Lnk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm94eXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3h5VGlsZUlEID0gcHJveHlzW2ldO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzb3VyY2VDb29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShzb3VyY2VDb29yZHNbal0pO1xuICAgICAgICAgICAgICAgIGlmICghdGlsZSB8fCAhdGlsZS5oYXNEYXRhKCkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgcHJveGllZCAtPiBwcm94eSBtYXBwaW5nIG9ubHkgaWYgaW1hZ2Ugb24gZ2l2ZW4gdGlsZSB3cmFwIGludGVyc2VjdHMgdGhlIHByb3h5IHRpbGUuXG4gICAgICAgICAgICAgICAgaWYgKHRpbGVPdXRzaWRlSW1hZ2UocHJveHlUaWxlSUQsIHRpbGUudGlsZUlEKSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2NyZWF0ZVByb3hpZWRJZChwcm94eVRpbGVJRCwgdGlsZSwgcHJldmlvdXNQcm94eVRvU291cmNlW3Byb3h5VGlsZUlELmtleV0gJiYgcHJldmlvdXNQcm94eVRvU291cmNlW3Byb3h5VGlsZUlELmtleV1bc291cmNlQ2FjaGUuaWRdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheSA9IHRoaXMucHJveHlUb1NvdXJjZVtwcm94eVRpbGVJRC5rZXldW3NvdXJjZUNhY2hlLmlkXTtcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJveHlUb1NvdXJjZVtwcm94eVRpbGVJRC5rZXldW3NvdXJjZUNhY2hlLmlkXSA9IFtpZF07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaChpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvb3Jkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJlY3ljbGUgaXMgcHJldmlvdXMgcGFzcyBjb250ZW50IHRoYXQgbGlrZWx5IGNvbnRhaW5zIHByb3hpZWQgSUQgY29tYmluaW5nIHByb3h5IGFuZCBzb3VyY2UgdGlsZS5cbiAgICBfY3JlYXRlUHJveGllZElkKHByb3h5VGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCB0aWxlOiBUaWxlLCByZWN5Y2xlOiBBcnJheTxQcm94aWVkVGlsZUlEPik6IFByb3hpZWRUaWxlSUQge1xuICAgICAgICBsZXQgbWF0cml4ID0gdGhpcy5vcnRob01hdHJpeDtcbiAgICAgICAgaWYgKHJlY3ljbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY3ljbGVkID0gcmVjeWNsZS5maW5kKHByb3hpZWQgPT4gKHByb3hpZWQua2V5ID09PSB0aWxlLnRpbGVJRC5rZXkpKTtcbiAgICAgICAgICAgIGlmIChyZWN5Y2xlZCkgcmV0dXJuIHJlY3ljbGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aWxlLnRpbGVJRC5rZXkgIT09IHByb3h5VGlsZUlELmtleSkge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBwcm94eVRpbGVJRC5jYW5vbmljYWwueiAtIHRpbGUudGlsZUlELmNhbm9uaWNhbC56O1xuICAgICAgICAgICAgbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgICAgIGxldCBzaXplLCB4T2Zmc2V0LCB5T2Zmc2V0O1xuICAgICAgICAgICAgY29uc3Qgd3JhcCA9ICh0aWxlLnRpbGVJRC53cmFwIC0gcHJveHlUaWxlSUQud3JhcCkgPDwgcHJveHlUaWxlSUQub3ZlcnNjYWxlZFo7XG4gICAgICAgICAgICBpZiAoc2NhbGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IEVYVEVOVCA+PiBzY2FsZTtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0ID0gc2l6ZSAqICgodGlsZS50aWxlSUQuY2Fub25pY2FsLnggPDwgc2NhbGUpIC0gcHJveHlUaWxlSUQuY2Fub25pY2FsLnggKyB3cmFwKTtcbiAgICAgICAgICAgICAgICB5T2Zmc2V0ID0gc2l6ZSAqICgodGlsZS50aWxlSUQuY2Fub25pY2FsLnkgPDwgc2NhbGUpIC0gcHJveHlUaWxlSUQuY2Fub25pY2FsLnkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaXplID0gRVhURU5UIDw8IC1zY2FsZTtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0ID0gRVhURU5UICogKHRpbGUudGlsZUlELmNhbm9uaWNhbC54IC0gKChwcm94eVRpbGVJRC5jYW5vbmljYWwueCArIHdyYXApIDw8IC1zY2FsZSkpO1xuICAgICAgICAgICAgICAgIHlPZmZzZXQgPSBFWFRFTlQgKiAodGlsZS50aWxlSUQuY2Fub25pY2FsLnkgLSAocHJveHlUaWxlSUQuY2Fub25pY2FsLnkgPDwgLXNjYWxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXQ0Lm9ydGhvKG1hdHJpeCwgMCwgc2l6ZSwgMCwgc2l6ZSwgMCwgMSk7XG4gICAgICAgICAgICBtYXQ0LnRyYW5zbGF0ZShtYXRyaXgsIG1hdHJpeCwgW3hPZmZzZXQsIHlPZmZzZXQsIDBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb3hpZWRUaWxlSUQodGlsZS50aWxlSUQsIHByb3h5VGlsZUlELmtleSwgbWF0cml4KTtcbiAgICB9XG5cbiAgICAvLyBBIHZhcmlhbnQgb2YgU291cmNlQ2FjaGUuZmluZExvYWRlZFBhcmVudCB0aGF0IGNvbnNpZGVycyBvbmx5IHZpc2libGVcbiAgICAvLyB0aWxlcyAoYW5kIGRvZXNuJ3QgY2hlY2sgU291cmNlQ2FjaGUuX2NhY2hlKS4gQW5vdGhlciBkaWZmZXJlbmNlIGlzIGluXG4gICAgLy8gY2FjaGluZyBcIm5vdCBmb3VuZFwiIHJlc3VsdHMgYWxvbmcgdGhlIGxvb2t1cCwgdG8gbGVhdmUgdGhlIGxvb2t1cCBlYXJseS5cbiAgICAvLyBOb3QgZm91bmQgaXMgY2FjaGVkIGJ5IHRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtrZXldID0gbnVsbDtcbiAgICBfZmluZFRpbGVDb3ZlcmluZ1RpbGVJRCh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSk6ID9UaWxlIHtcbiAgICAgICAgbGV0IHRpbGU6ID9UaWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZSh0aWxlSUQpO1xuICAgICAgICBpZiAodGlsZSAmJiB0aWxlLmhhc0RhdGEoKSkgcmV0dXJuIHRpbGU7XG5cbiAgICAgICAgY29uc3QgbG9va3VwID0gdGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW3NvdXJjZUNhY2hlLmlkXTtcbiAgICAgICAgY29uc3Qga2V5ID0gbG9va3VwW3RpbGVJRC5rZXldO1xuICAgICAgICB0aWxlID0ga2V5ID8gc291cmNlQ2FjaGUuZ2V0VGlsZUJ5SUQoa2V5KSA6IG51bGw7XG4gICAgICAgIGlmICgodGlsZSAmJiB0aWxlLmhhc0RhdGEoKSkgfHwga2V5ID09PSBudWxsKSByZXR1cm4gdGlsZTtcblxuICAgICAgICBhc3NlcnQoIWtleSB8fCB0aWxlKTtcblxuICAgICAgICBsZXQgc291cmNlVGlsZUlEID0gdGlsZSA/IHRpbGUudGlsZUlEIDogdGlsZUlEO1xuICAgICAgICBsZXQgeiA9IHNvdXJjZVRpbGVJRC5vdmVyc2NhbGVkWjtcbiAgICAgICAgY29uc3QgbWluem9vbSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLm1pbnpvb207XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heHpvb20gPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5tYXh6b29tO1xuICAgICAgICAgICAgaWYgKHRpbGVJRC5jYW5vbmljYWwueiA+PSBtYXh6b29tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG93bnNjYWxlID0gdGlsZUlELmNhbm9uaWNhbC56IC0gbWF4em9vbTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUuZ2V0U291cmNlKCkucmVwYXJzZU92ZXJzY2FsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgeiA9IE1hdGgubWF4KHRpbGVJRC5jYW5vbmljYWwueiArIDIsIHNvdXJjZUNhY2hlLnRyYW5zZm9ybS50aWxlWm9vbSk7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVRpbGVJRCA9IG5ldyBPdmVyc2NhbGVkVGlsZUlEKHosIHRpbGVJRC53cmFwLCBtYXh6b29tLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZUlELmNhbm9uaWNhbC54ID4+IGRvd25zY2FsZSwgdGlsZUlELmNhbm9uaWNhbC55ID4+IGRvd25zY2FsZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb3duc2NhbGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgeiA9IG1heHpvb207XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVRpbGVJRCA9IG5ldyBPdmVyc2NhbGVkVGlsZUlEKHosIHRpbGVJRC53cmFwLCBtYXh6b29tLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZUlELmNhbm9uaWNhbC54ID4+IGRvd25zY2FsZSwgdGlsZUlELmNhbm9uaWNhbC55ID4+IGRvd25zY2FsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvdXJjZVRpbGVJRC5rZXkgIT09IHRpbGVJRC5rZXkpIHtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goc291cmNlVGlsZUlELmtleSk7XG4gICAgICAgICAgICAgICAgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoc291cmNlVGlsZUlEKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhdGhUb0xvb2t1cCA9IChrZXkpID0+IHtcbiAgICAgICAgICAgIHBhdGguZm9yRWFjaChpZCA9PiB7IGxvb2t1cFtpZF0gPSBrZXk7IH0pO1xuICAgICAgICAgICAgcGF0aC5sZW5ndGggPSAwO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAoeiA9IHogLSAxOyB6ID49IG1pbnpvb20gJiYgISh0aWxlICYmIHRpbGUuaGFzRGF0YSgpKTsgei0tKSB7XG4gICAgICAgICAgICBpZiAodGlsZSkge1xuICAgICAgICAgICAgICAgIHBhdGhUb0xvb2t1cCh0aWxlLnRpbGVJRC5rZXkpOyAvLyBTdG9yZSBsb29rdXAgdG8gcGFyZW50cyBub3QgbG9hZGVkICh5ZXQpLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaWQgPSBzb3VyY2VUaWxlSUQuY2FsY3VsYXRlU2NhbGVkS2V5KHopO1xuICAgICAgICAgICAgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGVCeUlEKGlkKTtcbiAgICAgICAgICAgIGlmICh0aWxlICYmIHRpbGUuaGFzRGF0YSgpKSBicmVhaztcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGxvb2t1cFtpZF07XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIFRoZXJlJ3Mgbm8gdGlsZSBsb2FkZWQgYW5kIG5vIHBvaW50IHNlYXJjaGluZyBmdXJ0aGVyLlxuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlQnlJRChrZXkpO1xuICAgICAgICAgICAgICAgIGFzc2VydCh0aWxlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhdGgucHVzaChpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXRoVG9Mb29rdXAodGlsZSA/IHRpbGUudGlsZUlELmtleSA6IG51bGwpO1xuICAgICAgICByZXR1cm4gdGlsZSAmJiB0aWxlLmhhc0RhdGEoKSA/IHRpbGUgOiBudWxsO1xuICAgIH1cblxuICAgIGZpbmRERU1UaWxlRm9yKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6ID9UaWxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlZCA/IHRoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQodGlsZUlELCB0aGlzLnNvdXJjZUNhY2hlKSA6IG51bGw7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBCb29ra2VlcGluZyBpZiBzb21ldGhpbmcgZ2V0cyByZW5kZXJlZCB0byB0aGUgdGlsZS5cbiAgICAgKi9cbiAgICBwcmVwYXJlRHJhd1RpbGUoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZWRUb1RpbGUgPSB0cnVlO1xuICAgIH1cblxuICAgIF9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShzb3VyY2U6IHN0cmluZywgY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQpIHtcbiAgICAgICAgbGV0IHNvdXJjZVRpbGVzID0gdGhpcy5fdGlsZXNEaXJ0eVtzb3VyY2VdO1xuICAgICAgICBpZiAoIXNvdXJjZVRpbGVzKSBzb3VyY2VUaWxlcyA9IHRoaXMuX3RpbGVzRGlydHlbc291cmNlXSA9IHt9O1xuICAgICAgICBzb3VyY2VUaWxlc1tjb29yZC5rZXldID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIExhemlseSBpbnN0YW50aWF0ZSB0aGUgd2lyZWZyYW1lIGluZGV4IGJ1ZmZlciBhbmQgc2VnbWVudCB2ZWN0b3Igc28gdGhhdCB3ZSBkb24ndFxuICAgICAqIGFsbG9jYXRlIHRoZSBnZW9tZXRyeSBmb3IgcmVuZGVyaW5nIGEgZGVidWcgd2lyZWZyYW1lIHVudGlsIGl0J3MgbmVlZGVkLlxuICAgICAqL1xuICAgIGdldFdpcmVmYW1lQnVmZmVyKCk6IFtJbmRleEJ1ZmZlciwgU2VnbWVudFZlY3Rvcl0ge1xuICAgICAgICBpZiAoIXRoaXMud2lyZWZyYW1lU2VnbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHdpcmVmcmFtZUdyaWRJbmRpY2VzID0gY3JlYXRlV2lyZWZyYW1lR3JpZChHUklEX0RJTSArIDEpO1xuICAgICAgICAgICAgdGhpcy53aXJlZnJhbWVJbmRleEJ1ZmZlciA9IHRoaXMucGFpbnRlci5jb250ZXh0LmNyZWF0ZUluZGV4QnVmZmVyKHdpcmVmcmFtZUdyaWRJbmRpY2VzKTtcbiAgICAgICAgICAgIHRoaXMud2lyZWZyYW1lU2VnbWVudHMgPSBTZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwgMCwgdGhpcy5ncmlkQnVmZmVyLmxlbmd0aCwgd2lyZWZyYW1lR3JpZEluZGljZXMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RoaXMud2lyZWZyYW1lSW5kZXhCdWZmZXIsIHRoaXMud2lyZWZyYW1lU2VnbWVudHNdO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBzb3J0QnlEaXN0YW5jZVRvQ2FtZXJhKHRpbGVJRHMsIHBhaW50ZXIpIHtcbiAgICBjb25zdCBjYW1lcmFDb29yZGluYXRlID0gcGFpbnRlci50cmFuc2Zvcm0ucG9pbnRDb29yZGluYXRlKHBhaW50ZXIudHJhbnNmb3JtLmdldENhbWVyYVBvaW50KCkpO1xuICAgIGNvbnN0IGNhbWVyYVBvaW50ID0gbmV3IFBvaW50KGNhbWVyYUNvb3JkaW5hdGUueCwgY2FtZXJhQ29vcmRpbmF0ZS55KTtcbiAgICB0aWxlSURzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgaWYgKGIub3ZlcnNjYWxlZFogLSBhLm92ZXJzY2FsZWRaKSByZXR1cm4gYi5vdmVyc2NhbGVkWiAtIGEub3ZlcnNjYWxlZFo7XG4gICAgICAgIGNvbnN0IGFQb2ludCA9IG5ldyBQb2ludChhLmNhbm9uaWNhbC54ICsgKDEgPDwgYS5jYW5vbmljYWwueikgKiBhLndyYXAsIGEuY2Fub25pY2FsLnkpO1xuICAgICAgICBjb25zdCBiUG9pbnQgPSBuZXcgUG9pbnQoYi5jYW5vbmljYWwueCArICgxIDw8IGIuY2Fub25pY2FsLnopICogYi53cmFwLCBiLmNhbm9uaWNhbC55KTtcbiAgICAgICAgY29uc3QgY2FtZXJhU2NhbGVkID0gY2FtZXJhUG9pbnQubXVsdCgxIDw8IGEuY2Fub25pY2FsLnopO1xuICAgICAgICBjYW1lcmFTY2FsZWQueCAtPSAwLjU7XG4gICAgICAgIGNhbWVyYVNjYWxlZC55IC09IDAuNTtcbiAgICAgICAgcmV0dXJuIGNhbWVyYVNjYWxlZC5kaXN0U3FyKGFQb2ludCkgLSBjYW1lcmFTY2FsZWQuZGlzdFNxcihiUG9pbnQpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgdW5pZm9ybSBncmlkIG9mIHRyaWFuZ2xlcywgY292ZXJpbmcgRVhURU5UIHggRVhURU5UIHNxdWFyZSwgd2l0aCB0d29cbiAqIGFkanVzdGVudCB0cmFpZ2xlcyBmb3JtaW5nIGEgcXVhZCwgc28gdGhhdCB0aGVyZSBhcmUgfGNvdW50fCBjb2x1bW5zIGFuZCByb3dzXG4gKiBvZiB0aGVzZSBxdWFkcyBpbiBFWFRFTlQgeCBFWFRFTlQgc3F1YXJlLlxuICogZS5nLiBmb3IgY291bnQgb2YgMjpcbiAqICAtLS0tLS0tLS0tLS0tXG4gKiAgfCAgICAvfCAgICAvfFxuICogIHwgIC8gIHwgIC8gIHxcbiAqICB8LyAgICB8LyAgICB8XG4gKiAgLS0tLS0tLS0tLS0tLVxuICogIHwgICAgL3wgICAgL3xcbiAqICB8ICAvICB8ICAvICB8XG4gKiAgfC8gICAgfC8gICAgfFxuICogIC0tLS0tLS0tLS0tLS1cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCBDb3VudCBvZiByb3dzIGFuZCBjb2x1bW5zXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVHcmlkKGNvdW50OiBudW1iZXIpOiBbUG9zQXJyYXksIFRyaWFuZ2xlSW5kZXhBcnJheSwgbnVtYmVyXSB7XG4gICAgY29uc3QgYm91bmRzQXJyYXkgPSBuZXcgUG9zQXJyYXkoKTtcbiAgICAvLyBBcm91bmQgdGhlIGdyaWQsIGFkZCBvbmUgbW9yZSByb3cvY29sdW1uIHBhZGRpbmcgZm9yIFwic2tpcnRcIi5cbiAgICBjb25zdCBpbmRleEFycmF5ID0gbmV3IFRyaWFuZ2xlSW5kZXhBcnJheSgpO1xuICAgIGNvbnN0IHNpemUgPSBjb3VudCArIDI7XG4gICAgYm91bmRzQXJyYXkucmVzZXJ2ZShzaXplICogc2l6ZSk7XG4gICAgaW5kZXhBcnJheS5yZXNlcnZlKChzaXplIC0gMSkgKiAoc2l6ZSAtIDEpICogMik7XG4gICAgY29uc3Qgc3RlcCA9IEVYVEVOVCAvIChjb3VudCAtIDEpO1xuICAgIGNvbnN0IGdyaWRCb3VuZCA9IEVYVEVOVCArIHN0ZXAgLyAyO1xuICAgIGNvbnN0IGJvdW5kID0gZ3JpZEJvdW5kICsgc3RlcDtcblxuICAgIC8vIFNraXJ0IG9mZnNldCBvZiAweDVGRkYgaXMgY2hvc2VuIHJhbmRvbWx5IHRvIGVuY29kZSBib29sZWFuIHZhbHVlIChza2lydFxuICAgIC8vIG9uL29mZikgd2l0aCB4IHBvc2l0aW9uIChtYXggdmFsdWUgRVhURU5UID0gNDA5NikgdG8gMTYtYml0IHNpZ25lZCBpbnRlZ2VyLlxuICAgIGNvbnN0IHNraXJ0T2Zmc2V0ID0gMjQ1NzU7IC8vIDB4NUZGRlxuICAgIGZvciAobGV0IHkgPSAtc3RlcDsgeSA8IGJvdW5kOyB5ICs9IHN0ZXApIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IC1zdGVwOyB4IDwgYm91bmQ7IHggKz0gc3RlcCkge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKHggPCAwIHx8IHggPiBncmlkQm91bmQgfHwgeSA8IDAgfHwgeSA+IGdyaWRCb3VuZCkgPyBza2lydE9mZnNldCA6IDA7XG4gICAgICAgICAgICBjb25zdCB4aSA9IGNsYW1wKE1hdGgucm91bmQoeCksIDAsIEVYVEVOVCk7XG4gICAgICAgICAgICBjb25zdCB5aSA9IGNsYW1wKE1hdGgucm91bmQoeSksIDAsIEVYVEVOVCk7XG4gICAgICAgICAgICBib3VuZHNBcnJheS5lbXBsYWNlQmFjayh4aSArIG9mZnNldCwgeWkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRm9yIGNhc2VzIHdoZW4gdGhlcmUncyBubyBuZWVkIHRvIHJlbmRlciBcInNraXJ0XCIsIHRoZSBcImlubmVyXCIgZ3JpZCBpbmRpY2VzXG4gICAgLy8gYXJlIGZvbGxvd2VkIGJ5IHNraXJ0IGluZGljZXMuXG4gICAgY29uc3Qgc2tpcnRJbmRpY2VzT2Zmc2V0ID0gKHNpemUgLSAzKSAqIChzaXplIC0gMykgKiAyO1xuICAgIGNvbnN0IHF1YWQgPSAoaSwgaikgPT4ge1xuICAgICAgICBjb25zdCBpbmRleCA9IGogKiBzaXplICsgaTtcbiAgICAgICAgaW5kZXhBcnJheS5lbXBsYWNlQmFjayhpbmRleCArIDEsIGluZGV4LCBpbmRleCArIHNpemUpO1xuICAgICAgICBpbmRleEFycmF5LmVtcGxhY2VCYWNrKGluZGV4ICsgc2l6ZSwgaW5kZXggKyBzaXplICsgMSwgaW5kZXggKyAxKTtcbiAgICB9O1xuICAgIGZvciAobGV0IGogPSAxOyBqIDwgc2l6ZSAtIDI7IGorKykge1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNpemUgLSAyOyBpKyspIHtcbiAgICAgICAgICAgIHF1YWQoaSwgaik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUGFkZGluZyAoc2tpcnQpIGluZGljZXM6XG4gICAgWzAsIHNpemUgLSAyXS5mb3JFYWNoKGogPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemUgLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHF1YWQoaSwgaik7XG4gICAgICAgICAgICBxdWFkKGosIGkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFtib3VuZHNBcnJheSwgaW5kZXhBcnJheSwgc2tpcnRJbmRpY2VzT2Zmc2V0XTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZ3JpZCBvZiBpbmRpY2VzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdyaWQgY29uc3RydWN0ZWQgYnkgY3JlYXRlR3JpZFxuICogaW4gb3JkZXIgdG8gcmVuZGVyIHRoYXQgZ3JpZCBhcyBhIHdpcmVmcmFtZSByYXRoZXIgdGhhbiBhIHNvbGlkICBtZXNoLiBJdCBkb2VzXG4gKiBub3QgY3JlYXRlIGEgc2tpcnQgYW5kIHNvIG9ubHkgZ29lcyBmcm9tIDEgdG8gY291bnQgKyAxLCBlLmcuIGZvciBjb3VudCBvZiAyOlxuICogIC0tLS0tLS0tLS0tLS1cbiAqICB8ICAgIC98ICAgIC98XG4gKiAgfCAgLyAgfCAgLyAgfFxuICogIHwvICAgIHwvICAgIHxcbiAqICAtLS0tLS0tLS0tLS0tXG4gKiAgfCAgICAvfCAgICAvfFxuICogIHwgIC8gIHwgIC8gIHxcbiAqICB8LyAgICB8LyAgICB8XG4gKiAgLS0tLS0tLS0tLS0tLVxuICogQHBhcmFtIHtudW1iZXJ9IGNvdW50IENvdW50IG9mIHJvd3MgYW5kIGNvbHVtbnNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVdpcmVmcmFtZUdyaWQoY291bnQ6IG51bWJlcik6IExpbmVJbmRleEFycmF5IHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGNvbnN0IGluZGV4QXJyYXkgPSBuZXcgTGluZUluZGV4QXJyYXkoKTtcbiAgICBjb25zdCBzaXplID0gY291bnQgKyAyO1xuICAgIC8vIERyYXcgdHdvIGVkZ2VzIG9mIGEgcXVhZCBhbmQgaXRzIGRpYWdvbmFsLiBUaGUgdmVyeSBsYXN0IHJvdyBhbmQgY29sdW1uIGhhdmVcbiAgICAvLyBhbiBhZGRpdGlvbmFsIGxpbmUgdG8gY2xvc2Ugb2ZmIHRoZSBncmlkLlxuICAgIGZvciAobGV0IGogPSAxOyBqIDwgY291bnQ7IGorKykge1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGluZGV4ID0gaiAqIHNpemUgKyBpO1xuICAgICAgICAgICAgaW5kZXhBcnJheS5lbXBsYWNlQmFjayhpbmRleCwgaW5kZXggKyAxKTtcbiAgICAgICAgICAgIGluZGV4QXJyYXkuZW1wbGFjZUJhY2soaW5kZXgsIGluZGV4ICsgc2l6ZSk7XG4gICAgICAgICAgICBpbmRleEFycmF5LmVtcGxhY2VCYWNrKGluZGV4ICsgMSwgaW5kZXggKyBzaXplKTtcblxuICAgICAgICAgICAgLy8gUGxhY2UgYW4gZXh0cmEgbGluZSBhdCB0aGUgZW5kIG9mIGVhY2ggcm93XG4gICAgICAgICAgICBpZiAoaiA9PT0gY291bnQgLSAxKSBpbmRleEFycmF5LmVtcGxhY2VCYWNrKGluZGV4ICsgc2l6ZSwgaW5kZXggKyBzaXplICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGxhY2UgYW4gZXh0cmEgbGluZSBhdCB0aGUgZW5kIG9mIGVhY2ggY29sXG4gICAgICAgIGluZGV4QXJyYXkuZW1wbGFjZUJhY2soaW5kZXggKyAxLCBpbmRleCArIDEgKyBzaXplKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4QXJyYXk7XG59XG5cbmV4cG9ydCB0eXBlIFRlcnJhaW5Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X2RlbSc6IFVuaWZvcm0xaSxcbiAgICAndV9kZW1fcHJldic6IFVuaWZvcm0xaSxcbiAgICAndV9kZW1fdW5wYWNrJzogVW5pZm9ybTRmLFxuICAgICd1X2RlbV90bCc6IFVuaWZvcm0yZixcbiAgICAndV9kZW1fc2NhbGUnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZGVtX3RsX3ByZXYnOiBVbmlmb3JtMmYsXG4gICAgJ3VfZGVtX3NjYWxlX3ByZXYnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZGVtX3NpemUnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZGVtX2xlcnAnOiBVbmlmb3JtMWYsXG4gICAgXCJ1X2V4YWdnZXJhdGlvblwiOiBVbmlmb3JtMWYsXG4gICAgJ3VfZGVwdGgnOiBVbmlmb3JtMWksXG4gICAgJ3VfZGVwdGhfc2l6ZV9pbnYnOiBVbmlmb3JtMmYsXG4gICAgJ3VfbWV0ZXJfdG9fZGVtJz86IFVuaWZvcm0xZixcbiAgICAndV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52Jz86IFVuaWZvcm1NYXRyaXg0Zixcbnx9O1xuXG5leHBvcnQgY29uc3QgdGVycmFpblVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBUZXJyYWluVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfZGVtJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9kZW1fcHJldic6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfZGVtX3VucGFjayc6IG5ldyBVbmlmb3JtNGYoY29udGV4dCksXG4gICAgJ3VfZGVtX3RsJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9kZW1fc2NhbGUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2RlbV90bF9wcmV2JzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9kZW1fc2NhbGVfcHJldic6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZGVtX3NpemUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2RlbV9sZXJwJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9leGFnZ2VyYXRpb24nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2RlcHRoJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9kZXB0aF9zaXplX2ludic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfbWV0ZXJfdG9fZGVtJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbn0pO1xuXG5mdW5jdGlvbiBkZWZhdWx0VGVycmFpblVuaWZvcm1zKGVuY29kaW5nOiBERU1FbmNvZGluZyk6IFVuaWZvcm1WYWx1ZXM8VGVycmFpblVuaWZvcm1zVHlwZT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgICd1X2RlbSc6IDIsXG4gICAgICAgICd1X2RlbV9wcmV2JzogNCxcbiAgICAgICAgJ3VfZGVtX3VucGFjayc6IERFTURhdGEuZ2V0VW5wYWNrVmVjdG9yKGVuY29kaW5nKSxcbiAgICAgICAgJ3VfZGVtX3RsJzogWzAsIDBdLFxuICAgICAgICAndV9kZW1fdGxfcHJldic6IFswLCAwXSxcbiAgICAgICAgJ3VfZGVtX3NjYWxlJzogMCxcbiAgICAgICAgJ3VfZGVtX3NjYWxlX3ByZXYnOiAwLFxuICAgICAgICAndV9kZW1fc2l6ZSc6IDAsXG4gICAgICAgICd1X2RlbV9sZXJwJzogMS4wLFxuICAgICAgICAndV9kZXB0aCc6IDMsXG4gICAgICAgICd1X2RlcHRoX3NpemVfaW52JzogWzAsIDBdLFxuICAgICAgICAndV9leGFnZ2VyYXRpb24nOiAwLFxuICAgIH07XG59XG5cbmV4cG9ydCB0eXBlIEdsb2JlVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV90aWxlX3RsX3VwJzogVW5pZm9ybTNmLFxuICAgICd1X3RpbGVfdHJfdXAnOiBVbmlmb3JtM2YsXG4gICAgJ3VfdGlsZV9icl91cCc6IFVuaWZvcm0zZixcbiAgICAndV90aWxlX2JsX3VwJzogVW5pZm9ybTNmLFxuICAgICd1X3RpbGVfdXBfc2NhbGUnOiBVbmlmb3JtMWZcbnx9O1xuXG5leHBvcnQgY29uc3QgZ2xvYmVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogR2xvYmVVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV90aWxlX3RsX3VwJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV90aWxlX3RyX3VwJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV90aWxlX2JyX3VwJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV90aWxlX2JsX3VwJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV90aWxlX3VwX3NjYWxlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KVxufSk7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIHByZWx1ZGUsXG4gICAgcHJlbHVkZUZyYWdQcmVjaXNpb25RdWFsaWZpZXJzLFxuICAgIHByZWx1ZGVWZXJ0UHJlY2lzaW9uUXVhbGlmaWVycyxcbiAgICBwcmVsdWRlVGVycmFpbixcbiAgICBwcmVsdWRlRm9nLFxuICAgIHByZWx1ZGVDb21tb25Tb3VyY2UsXG4gICAgc3RhbmRhcmREZXJpdmF0aXZlc0V4dFxufSBmcm9tICcuLi9zaGFkZXJzL3NoYWRlcnMuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IFByb2dyYW1Db25maWd1cmF0aW9uIGZyb20gJy4uL2RhdGEvcHJvZ3JhbV9jb25maWd1cmF0aW9uLmpzJztcbmltcG9ydCBWZXJ0ZXhBcnJheU9iamVjdCBmcm9tICcuL3ZlcnRleF9hcnJheV9vYmplY3QuanMnO1xuaW1wb3J0IENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dC5qcyc7XG5pbXBvcnQge3RlcnJhaW5Vbmlmb3JtcywgZ2xvYmVVbmlmb3Jtc30gZnJvbSAnLi4vdGVycmFpbi90ZXJyYWluLmpzJztcbmltcG9ydCB0eXBlIHtUZXJyYWluVW5pZm9ybXNUeXBlLCBHbG9iZVVuaWZvcm1zVHlwZX0gZnJvbSAnLi4vdGVycmFpbi90ZXJyYWluLmpzJztcbmltcG9ydCB7Zm9nVW5pZm9ybXN9IGZyb20gJy4vZm9nLmpzJztcbmltcG9ydCB0eXBlIHtGb2dVbmlmb3Jtc1R5cGV9IGZyb20gJy4vZm9nLmpzJztcblxuaW1wb3J0IHR5cGUgU2VnbWVudFZlY3RvciBmcm9tICcuLi9kYXRhL3NlZ21lbnQuanMnO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXIuanMnO1xuaW1wb3J0IHR5cGUgSW5kZXhCdWZmZXIgZnJvbSAnLi4vZ2wvaW5kZXhfYnVmZmVyLmpzJztcbmltcG9ydCB0eXBlIERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlLmpzJztcbmltcG9ydCB0eXBlIFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZS5qcyc7XG5pbXBvcnQgdHlwZSBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZS5qcyc7XG5pbXBvcnQgdHlwZSBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUuanMnO1xuaW1wb3J0IHR5cGUge1VuaWZvcm1CaW5kaW5ncywgVW5pZm9ybVZhbHVlc30gZnJvbSAnLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUge0JpbmRlclVuaWZvcm19IGZyb20gJy4uL2RhdGEvcHJvZ3JhbV9jb25maWd1cmF0aW9uLmpzJztcblxuZXhwb3J0IHR5cGUgRHJhd01vZGUgPVxuICAgIHwgJFByb3BlcnR5VHlwZTxXZWJHTFJlbmRlcmluZ0NvbnRleHQsICdMSU5FUyc+XG4gICAgfCAkUHJvcGVydHlUeXBlPFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgJ1RSSUFOR0xFUyc+XG4gICAgfCAkUHJvcGVydHlUeXBlPFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgJ0xJTkVfU1RSSVAnPjtcblxudHlwZSBTaGFkZXJTb3VyY2UgPSB7XG4gICAgZnJhZ21lbnRTb3VyY2U6IHN0cmluZyxcbiAgICB2ZXJ0ZXhTb3VyY2U6IHN0cmluZyxcbiAgICBzdGF0aWNBdHRyaWJ1dGVzOiBBcnJheTxzdHJpbmc+LFxuICAgIHVzZWREZWZpbmVzOiBBcnJheTxzdHJpbmc+XG59O1xuXG5mdW5jdGlvbiBnZXRUb2tlbml6ZWRBdHRyaWJ1dGVzKGFycmF5OiBBcnJheTxzdHJpbmc+KTogQXJyYXk8c3RyaW5nPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcnJheVtpXSA9PT0gbnVsbCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IHRva2VuID0gYXJyYXlbaV0uc3BsaXQoJyAnKTtcbiAgICAgICAgcmVzdWx0LnB1c2godG9rZW4ucG9wKCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5jbGFzcyBQcm9ncmFtPFVzOiBVbmlmb3JtQmluZGluZ3M+IHtcbiAgICBwcm9ncmFtOiBXZWJHTFByb2dyYW07XG4gICAgYXR0cmlidXRlczoge1tfOiBzdHJpbmddOiBudW1iZXJ9O1xuICAgIG51bUF0dHJpYnV0ZXM6IG51bWJlcjtcbiAgICBmaXhlZFVuaWZvcm1zOiBVcztcbiAgICBiaW5kZXJVbmlmb3JtczogQXJyYXk8QmluZGVyVW5pZm9ybT47XG4gICAgZmFpbGVkVG9DcmVhdGU6IGJvb2xlYW47XG4gICAgdGVycmFpblVuaWZvcm1zOiA/VGVycmFpblVuaWZvcm1zVHlwZTtcbiAgICBmb2dVbmlmb3JtczogP0ZvZ1VuaWZvcm1zVHlwZTtcbiAgICBnbG9iZVVuaWZvcm1zOiA/R2xvYmVVbmlmb3Jtc1R5cGU7XG5cbiAgICBzdGF0aWMgY2FjaGVLZXkoc291cmNlOiBTaGFkZXJTb3VyY2UsIG5hbWU6IHN0cmluZywgZGVmaW5lczogc3RyaW5nW10sIHByb2dyYW1Db25maWd1cmF0aW9uOiA/UHJvZ3JhbUNvbmZpZ3VyYXRpb24pOiBzdHJpbmcge1xuICAgICAgICBsZXQga2V5ID0gYCR7bmFtZX0ke3Byb2dyYW1Db25maWd1cmF0aW9uID8gcHJvZ3JhbUNvbmZpZ3VyYXRpb24uY2FjaGVLZXkgOiAnJ31gO1xuICAgICAgICBmb3IgKGNvbnN0IGRlZmluZSBvZiBkZWZpbmVzKSB7XG4gICAgICAgICAgICBpZiAoc291cmNlLnVzZWREZWZpbmVzLmluY2x1ZGVzKGRlZmluZSkpIHtcbiAgICAgICAgICAgICAgICBrZXkgKz0gYC8ke2RlZmluZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCxcbiAgICAgICAgICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgc291cmNlOiBTaGFkZXJTb3VyY2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbjogP1Byb2dyYW1Db25maWd1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGZpeGVkVW5pZm9ybXM6IChDb250ZXh0KSA9PiBVcyxcbiAgICAgICAgICAgICAgICBmaXhlZERlZmluZXM6IHN0cmluZ1tdKSB7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gKChnbC5jcmVhdGVQcm9ncmFtKCk6IGFueSk6IFdlYkdMUHJvZ3JhbSk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGljQXR0ckluZm8gPSBnZXRUb2tlbml6ZWRBdHRyaWJ1dGVzKHNvdXJjZS5zdGF0aWNBdHRyaWJ1dGVzKTtcbiAgICAgICAgY29uc3QgZHluYW1pY0F0dHJJbmZvID0gY29uZmlndXJhdGlvbiA/IGNvbmZpZ3VyYXRpb24uZ2V0QmluZGVyQXR0cmlidXRlcygpIDogW107XG4gICAgICAgIGNvbnN0IGFsbEF0dHJJbmZvID0gc3RhdGljQXR0ckluZm8uY29uY2F0KGR5bmFtaWNBdHRySW5mbyk7XG5cbiAgICAgICAgbGV0IGRlZmluZXMgPSBjb25maWd1cmF0aW9uID8gY29uZmlndXJhdGlvbi5kZWZpbmVzKCkgOiBbXTtcbiAgICAgICAgZGVmaW5lcyA9IGRlZmluZXMuY29uY2F0KGZpeGVkRGVmaW5lcy5tYXAoKGRlZmluZSkgPT4gYCNkZWZpbmUgJHtkZWZpbmV9YCkpO1xuICAgICAgICBjb25zdCB2ZXJzaW9uID0gY29udGV4dC5pc1dlYkdMMiA/ICcjdmVyc2lvbiAzMDAgZXNcXG4nIDogJyc7XG5cbiAgICAgICAgY29uc3QgZnJhZ21lbnRTb3VyY2UgPSB2ZXJzaW9uICsgZGVmaW5lcy5jb25jYXQoXG4gICAgICAgICAgICBjb250ZXh0LmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXMgJiYgdmVyc2lvbi5sZW5ndGggPT09IDAgPyBzdGFuZGFyZERlcml2YXRpdmVzRXh0LmNvbmNhdChwcmVsdWRlRnJhZ1ByZWNpc2lvblF1YWxpZmllcnMpIDogcHJlbHVkZUZyYWdQcmVjaXNpb25RdWFsaWZpZXJzLFxuICAgICAgICAgICAgcHJlbHVkZUZyYWdQcmVjaXNpb25RdWFsaWZpZXJzLFxuICAgICAgICAgICAgcHJlbHVkZUNvbW1vblNvdXJjZSxcbiAgICAgICAgICAgIHByZWx1ZGUuZnJhZ21lbnRTb3VyY2UsXG4gICAgICAgICAgICBwcmVsdWRlRm9nLmZyYWdtZW50U291cmNlLFxuICAgICAgICAgICAgc291cmNlLmZyYWdtZW50U291cmNlKS5qb2luKCdcXG4nKTtcbiAgICAgICAgY29uc3QgdmVydGV4U291cmNlID0gdmVyc2lvbiArIGRlZmluZXMuY29uY2F0KFxuICAgICAgICAgICAgcHJlbHVkZVZlcnRQcmVjaXNpb25RdWFsaWZpZXJzLFxuICAgICAgICAgICAgcHJlbHVkZUNvbW1vblNvdXJjZSxcbiAgICAgICAgICAgIHByZWx1ZGUudmVydGV4U291cmNlLFxuICAgICAgICAgICAgcHJlbHVkZUZvZy52ZXJ0ZXhTb3VyY2UsXG4gICAgICAgICAgICBwcmVsdWRlVGVycmFpbi52ZXJ0ZXhTb3VyY2UsXG4gICAgICAgICAgICBzb3VyY2UudmVydGV4U291cmNlKS5qb2luKCdcXG4nKTtcblxuICAgICAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9ICgoZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik6IGFueSk6IFdlYkdMU2hhZGVyKTtcbiAgICAgICAgaWYgKGdsLmlzQ29udGV4dExvc3QoKSkge1xuICAgICAgICAgICAgdGhpcy5mYWlsZWRUb0NyZWF0ZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKGZyYWdtZW50U2hhZGVyLCBmcmFnbWVudFNvdXJjZSk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICBhc3NlcnQoZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGZyYWdtZW50U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyksIChnbC5nZXRTaGFkZXJJbmZvTG9nKGZyYWdtZW50U2hhZGVyKTogYW55KSk7XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcblxuICAgICAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSAoKGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTogYW55KTogV2ViR0xTaGFkZXIpO1xuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpKSB7XG4gICAgICAgICAgICB0aGlzLmZhaWxlZFRvQ3JlYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbC5zaGFkZXJTb3VyY2UodmVydGV4U2hhZGVyLCB2ZXJ0ZXhTb3VyY2UpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgICAgIGFzc2VydChnbC5nZXRTaGFkZXJQYXJhbWV0ZXIodmVydGV4U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyksIChnbC5nZXRTaGFkZXJJbmZvTG9nKHZlcnRleFNoYWRlcik6IGFueSkpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuXG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHt9O1xuXG4gICAgICAgIHRoaXMubnVtQXR0cmlidXRlcyA9IGFsbEF0dHJJbmZvLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtQXR0cmlidXRlczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYWxsQXR0ckluZm9baV0pIHtcbiAgICAgICAgICAgICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBpLCBhbGxBdHRySW5mb1tpXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW2FsbEF0dHJJbmZvW2ldXSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnbC5saW5rUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgICAgICBhc3NlcnQoZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSwgKGdsLmdldFByb2dyYW1JbmZvTG9nKHRoaXMucHJvZ3JhbSk6IGFueSkpO1xuXG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuXG4gICAgICAgIHRoaXMuZml4ZWRVbmlmb3JtcyA9IGZpeGVkVW5pZm9ybXMoY29udGV4dCk7XG4gICAgICAgIHRoaXMuYmluZGVyVW5pZm9ybXMgPSBjb25maWd1cmF0aW9uID8gY29uZmlndXJhdGlvbi5nZXRVbmlmb3Jtcyhjb250ZXh0KSA6IFtdO1xuICAgICAgICBpZiAoZml4ZWREZWZpbmVzLmluY2x1ZGVzKCdURVJSQUlOJykpIHtcbiAgICAgICAgICAgIHRoaXMudGVycmFpblVuaWZvcm1zID0gdGVycmFpblVuaWZvcm1zKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXhlZERlZmluZXMuaW5jbHVkZXMoJ0dMT0JFJykpIHtcbiAgICAgICAgICAgIHRoaXMuZ2xvYmVVbmlmb3JtcyA9IGdsb2JlVW5pZm9ybXMoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpeGVkRGVmaW5lcy5pbmNsdWRlcygnRk9HJykpIHtcbiAgICAgICAgICAgIHRoaXMuZm9nVW5pZm9ybXMgPSBmb2dVbmlmb3Jtcyhjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFRlcnJhaW5Vbmlmb3JtVmFsdWVzKGNvbnRleHQ6IENvbnRleHQsIHRlcnJhaW5Vbmlmb3JtVmFsdWVzOiBVbmlmb3JtVmFsdWVzPFRlcnJhaW5Vbmlmb3Jtc1R5cGU+KSB7XG4gICAgICAgIGlmICghdGhpcy50ZXJyYWluVW5pZm9ybXMpIHJldHVybjtcbiAgICAgICAgY29uc3QgdW5pZm9ybXM6IFRlcnJhaW5Vbmlmb3Jtc1R5cGUgPSB0aGlzLnRlcnJhaW5Vbmlmb3JtcztcblxuICAgICAgICBpZiAodGhpcy5mYWlsZWRUb0NyZWF0ZSkgcmV0dXJuO1xuICAgICAgICBjb250ZXh0LnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHRlcnJhaW5Vbmlmb3JtVmFsdWVzKSB7XG4gICAgICAgICAgICBpZiAodW5pZm9ybXNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICB1bmlmb3Jtc1tuYW1lXS5zZXQodGhpcy5wcm9ncmFtLCBuYW1lLCB0ZXJyYWluVW5pZm9ybVZhbHVlc1tuYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRHbG9iZVVuaWZvcm1WYWx1ZXMoY29udGV4dDogQ29udGV4dCwgZ2xvYmVVbmlmb3JtVmFsdWVzOiBVbmlmb3JtVmFsdWVzPEdsb2JlVW5pZm9ybXNUeXBlPikge1xuICAgICAgICBpZiAoIXRoaXMuZ2xvYmVVbmlmb3JtcykgcmV0dXJuO1xuICAgICAgICBjb25zdCB1bmlmb3JtczogR2xvYmVVbmlmb3Jtc1R5cGUgPSB0aGlzLmdsb2JlVW5pZm9ybXM7XG5cbiAgICAgICAgaWYgKHRoaXMuZmFpbGVkVG9DcmVhdGUpIHJldHVybjtcbiAgICAgICAgY29udGV4dC5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pO1xuXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBnbG9iZVVuaWZvcm1WYWx1ZXMpIHtcbiAgICAgICAgICAgIGlmICh1bmlmb3Jtc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdLnNldCh0aGlzLnByb2dyYW0sIG5hbWUsIGdsb2JlVW5pZm9ybVZhbHVlc1tuYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRGb2dVbmlmb3JtVmFsdWVzKGNvbnRleHQ6IENvbnRleHQsIGZvZ1VuaWZvcm1zVmFsdWVzOiBVbmlmb3JtVmFsdWVzPEZvZ1VuaWZvcm1zVHlwZT4pIHtcbiAgICAgICAgaWYgKCF0aGlzLmZvZ1VuaWZvcm1zKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHVuaWZvcm1zOiBGb2dVbmlmb3Jtc1R5cGUgPSB0aGlzLmZvZ1VuaWZvcm1zO1xuXG4gICAgICAgIGlmICh0aGlzLmZhaWxlZFRvQ3JlYXRlKSByZXR1cm47XG4gICAgICAgIGNvbnRleHQucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtcblxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZm9nVW5pZm9ybXNWYWx1ZXMpIHtcbiAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdLnNldCh0aGlzLnByb2dyYW0sIG5hbWUsIGZvZ1VuaWZvcm1zVmFsdWVzW25hbWVdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXcoXG4gICAgICAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgICAgICAgZHJhd01vZGU6IERyYXdNb2RlLFxuICAgICAgICAgZGVwdGhNb2RlOiAkUmVhZE9ubHk8RGVwdGhNb2RlPixcbiAgICAgICAgIHN0ZW5jaWxNb2RlOiAkUmVhZE9ubHk8U3RlbmNpbE1vZGU+LFxuICAgICAgICAgY29sb3JNb2RlOiAkUmVhZE9ubHk8Q29sb3JNb2RlPixcbiAgICAgICAgIGN1bGxGYWNlTW9kZTogJFJlYWRPbmx5PEN1bGxGYWNlTW9kZT4sXG4gICAgICAgICB1bmlmb3JtVmFsdWVzOiBVbmlmb3JtVmFsdWVzPFVzPixcbiAgICAgICAgIGxheWVySUQ6IHN0cmluZyxcbiAgICAgICAgIGxheW91dFZlcnRleEJ1ZmZlcjogVmVydGV4QnVmZmVyLFxuICAgICAgICAgaW5kZXhCdWZmZXI6IEluZGV4QnVmZmVyLFxuICAgICAgICAgc2VnbWVudHM6IFNlZ21lbnRWZWN0b3IsXG4gICAgICAgICBjdXJyZW50UHJvcGVydGllczogYW55LFxuICAgICAgICAgem9vbTogP251bWJlcixcbiAgICAgICAgIGNvbmZpZ3VyYXRpb246ID9Qcm9ncmFtQ29uZmlndXJhdGlvbixcbiAgICAgICAgIGR5bmFtaWNMYXlvdXRCdWZmZXJzOiA/QXJyYXk8P1ZlcnRleEJ1ZmZlcj4pIHtcblxuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgaWYgKHRoaXMuZmFpbGVkVG9DcmVhdGUpIHJldHVybjtcblxuICAgICAgICBjb250ZXh0LnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7XG4gICAgICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKGRlcHRoTW9kZSk7XG4gICAgICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoc3RlbmNpbE1vZGUpO1xuICAgICAgICBjb250ZXh0LnNldENvbG9yTW9kZShjb2xvck1vZGUpO1xuICAgICAgICBjb250ZXh0LnNldEN1bGxGYWNlKGN1bGxGYWNlTW9kZSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKHRoaXMuZml4ZWRVbmlmb3JtcykpIHtcbiAgICAgICAgICAgIHRoaXMuZml4ZWRVbmlmb3Jtc1tuYW1lXS5zZXQodGhpcy5wcm9ncmFtLCBuYW1lLCB1bmlmb3JtVmFsdWVzW25hbWVdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLnNldFVuaWZvcm1zKHRoaXMucHJvZ3JhbSwgY29udGV4dCwgdGhpcy5iaW5kZXJVbmlmb3JtcywgY3VycmVudFByb3BlcnRpZXMsIHt6b29tOiAoem9vbTogYW55KX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJpbWl0aXZlU2l6ZSA9IHtcbiAgICAgICAgICAgIFtnbC5MSU5FU106IDIsXG4gICAgICAgICAgICBbZ2wuVFJJQU5HTEVTXTogMyxcbiAgICAgICAgICAgIFtnbC5MSU5FX1NUUklQXTogMVxuICAgICAgICB9W2RyYXdNb2RlXTtcblxuICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMuZ2V0KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhb3MgPSBzZWdtZW50LnZhb3MgfHwgKHNlZ21lbnQudmFvcyA9IHt9KTtcbiAgICAgICAgICAgIGNvbnN0IHZhbzogVmVydGV4QXJyYXlPYmplY3QgPSB2YW9zW2xheWVySURdIHx8ICh2YW9zW2xheWVySURdID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCkpO1xuXG4gICAgICAgICAgICB2YW8uYmluZChcbiAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgbGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24gPyBjb25maWd1cmF0aW9uLmdldFBhaW50VmVydGV4QnVmZmVycygpIDogW10sXG4gICAgICAgICAgICAgICAgaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICAgICAgc2VnbWVudC52ZXJ0ZXhPZmZzZXQsXG4gICAgICAgICAgICAgICAgZHluYW1pY0xheW91dEJ1ZmZlcnMgPyBkeW5hbWljTGF5b3V0QnVmZmVycyA6IFtdXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoXG4gICAgICAgICAgICAgICAgZHJhd01vZGUsXG4gICAgICAgICAgICAgICAgc2VnbWVudC5wcmltaXRpdmVMZW5ndGggKiBwcmltaXRpdmVTaXplLFxuICAgICAgICAgICAgICAgIGdsLlVOU0lHTkVEX1NIT1JULFxuICAgICAgICAgICAgICAgIHNlZ21lbnQucHJpbWl0aXZlT2Zmc2V0ICogcHJpbWl0aXZlU2l6ZSAqIDIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcm9ncmFtO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dC5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUge1Vud3JhcHBlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCBGb2cgZnJvbSAnLi4vc3R5bGUvZm9nLmpzJztcbmltcG9ydCB7VW5pZm9ybTFmLCBVbmlmb3JtMWksIFVuaWZvcm0yZiwgVW5pZm9ybTNmLCBVbmlmb3JtNGYsIFVuaWZvcm1NYXRyaXg0Zn0gZnJvbSAnLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHtnbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9ufSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcblxuZXhwb3J0IHR5cGUgRm9nVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9mb2dfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2ZvZ19yYW5nZSc6IFVuaWZvcm0yZixcbiAgICAndV9mb2dfY29sb3InOiBVbmlmb3JtNGYsXG4gICAgJ3VfZm9nX2hvcml6b25fYmxlbmQnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZm9nX3RlbXBvcmFsX29mZnNldCc6IFVuaWZvcm0xZixcbiAgICAndV9mcnVzdHVtX3RsJzogVW5pZm9ybTNmLFxuICAgICd1X2ZydXN0dW1fdHInOiBVbmlmb3JtM2YsXG4gICAgJ3VfZnJ1c3R1bV9icic6IFVuaWZvcm0zZixcbiAgICAndV9mcnVzdHVtX2JsJzogVW5pZm9ybTNmLFxuICAgICd1X2dsb2JlX3Bvcyc6IFVuaWZvcm0zZixcbiAgICAndV9nbG9iZV9yYWRpdXMnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZ2xvYmVfdHJhbnNpdGlvbic6IFVuaWZvcm0xZixcbiAgICAndV9pc19nbG9iZSc6IFVuaWZvcm0xaSxcbiAgICAndV92aWV3cG9ydCc6IFVuaWZvcm0yZixcbnx9O1xuXG5leHBvcnQgY29uc3QgZm9nVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IEZvZ1VuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X2ZvZ19tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2ZvZ19yYW5nZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfZm9nX2NvbG9yJzogbmV3IFVuaWZvcm00Zihjb250ZXh0KSxcbiAgICAndV9mb2dfaG9yaXpvbl9ibGVuZCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZm9nX3RlbXBvcmFsX29mZnNldCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV90bCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV90cic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV9icic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZnJ1c3R1bV9ibCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfZ2xvYmVfcG9zJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9nbG9iZV9yYWRpdXMnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2dsb2JlX3RyYW5zaXRpb24nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2lzX2dsb2JlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV92aWV3cG9ydCc6IG5ldyBVbmlmb3JtMmYoY29udGV4dClcbn0pO1xuXG5leHBvcnQgY29uc3QgZm9nVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIGZvZzogRm9nLFxuICAgIHRpbGVJRDogP1Vud3JhcHBlZFRpbGVJRCxcbiAgICBmb2dPcGFjaXR5OiBudW1iZXIsXG4gICAgZnJ1c3R1bURpclRsOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZnJ1c3R1bURpclRyOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZnJ1c3R1bURpckJyOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZnJ1c3R1bURpckJsOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZ2xvYmVQb3NpdGlvbjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGdsb2JlUmFkaXVzOiBudW1iZXIsXG4gICAgdmlld3BvcnQ6IFtudW1iZXIsIG51bWJlcl1cbik6IFVuaWZvcm1WYWx1ZXM8Rm9nVW5pZm9ybXNUeXBlPiA9PiB7XG4gICAgY29uc3QgdHIgPSBwYWludGVyLnRyYW5zZm9ybTtcbiAgICBjb25zdCBmb2dDb2xvciA9IGZvZy5wcm9wZXJ0aWVzLmdldCgnY29sb3InKS50b0FycmF5MDEoKTtcbiAgICBmb2dDb2xvclszXSA9IGZvZ09wYWNpdHk7IC8vIFVwZGF0ZSBBbHBoYVxuICAgIGNvbnN0IHRlbXBvcmFsT2Zmc2V0ID0gKHBhaW50ZXIuZnJhbWVDb3VudGVyIC8gMTAwMC4wKSAlIDE7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgJ3VfZm9nX21hdHJpeCc6IHRpbGVJRCA/IHRyLmNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgodGlsZUlEKSA6IHBhaW50ZXIuaWRlbnRpdHlNYXQsXG4gICAgICAgICd1X2ZvZ19yYW5nZSc6IGZvZy5nZXRGb3ZBZGp1c3RlZFJhbmdlKHRyLl9mb3YpLFxuICAgICAgICAndV9mb2dfY29sb3InOiBmb2dDb2xvcixcbiAgICAgICAgJ3VfZm9nX2hvcml6b25fYmxlbmQnOiBmb2cucHJvcGVydGllcy5nZXQoJ2hvcml6b24tYmxlbmQnKSxcbiAgICAgICAgJ3VfZm9nX3RlbXBvcmFsX29mZnNldCc6IHRlbXBvcmFsT2Zmc2V0LFxuICAgICAgICAndV9mcnVzdHVtX3RsJzogZnJ1c3R1bURpclRsLFxuICAgICAgICAndV9mcnVzdHVtX3RyJzogZnJ1c3R1bURpclRyLFxuICAgICAgICAndV9mcnVzdHVtX2JyJzogZnJ1c3R1bURpckJyLFxuICAgICAgICAndV9mcnVzdHVtX2JsJzogZnJ1c3R1bURpckJsLFxuICAgICAgICAndV9nbG9iZV9wb3MnOiBnbG9iZVBvc2l0aW9uLFxuICAgICAgICAndV9nbG9iZV9yYWRpdXMnOiBnbG9iZVJhZGl1cyxcbiAgICAgICAgJ3Vfdmlld3BvcnQnOiB2aWV3cG9ydCxcbiAgICAgICAgJ3VfZ2xvYmVfdHJhbnNpdGlvbic6IGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odHIuem9vbSksXG4gICAgICAgICd1X2lzX2dsb2JlJzogKyh0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScpXG4gICAgfTtcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmXG59IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzLmpzJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vLi4vc291cmNlL3RpbGUuanMnO1xuaW1wb3J0IHR5cGUgUmVzb2x2ZWRJbWFnZSBmcm9tICcuLi8uLi9zdHlsZS1zcGVjL2V4cHJlc3Npb24vdHlwZXMvcmVzb2x2ZWRfaW1hZ2UuanMnO1xuXG50eXBlIEJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV9wYXR0ZXJuX3RsJzogVW5pZm9ybTJmLFxuICAgICd1X3BhdHRlcm5fYnInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGV4c2l6ZSc6IFVuaWZvcm0yZixcbiAgICAndV9wYXR0ZXJuX3NpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMWZcbnx9O1xuXG5leHBvcnQgdHlwZSBQYXR0ZXJuVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV90ZXhzaXplJzogVW5pZm9ybTJmLFxuICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogVW5pZm9ybTFmLFxuICAgICd1X3BpeGVsX2Nvb3JkX3VwcGVyJzogVW5pZm9ybTJmLFxuICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogVW5pZm9ybTJmXG58fTtcblxuZnVuY3Rpb24gcGF0dGVyblVuaWZvcm1WYWx1ZXMocGFpbnRlcjogUGFpbnRlciwgdGlsZTogVGlsZSk6IFVuaWZvcm1WYWx1ZXM8UGF0dGVyblVuaWZvcm1zVHlwZT4ge1xuXG4gICAgY29uc3QgbnVtVGlsZXMgPSBNYXRoLnBvdygyLCB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWik7XG4gICAgY29uc3QgdGlsZVNpemVBdE5lYXJlc3Rab29tID0gdGlsZS50aWxlU2l6ZSAqIE1hdGgucG93KDIsIHBhaW50ZXIudHJhbnNmb3JtLnRpbGVab29tKSAvIG51bVRpbGVzO1xuXG4gICAgY29uc3QgcGl4ZWxYID0gdGlsZVNpemVBdE5lYXJlc3Rab29tICogKHRpbGUudGlsZUlELmNhbm9uaWNhbC54ICsgdGlsZS50aWxlSUQud3JhcCAqIG51bVRpbGVzKTtcbiAgICBjb25zdCBwaXhlbFkgPSB0aWxlU2l6ZUF0TmVhcmVzdFpvb20gKiB0aWxlLnRpbGVJRC5jYW5vbmljYWwueTtcblxuICAgIHJldHVybiB7XG4gICAgICAgICd1X2ltYWdlJzogMCxcbiAgICAgICAgJ3VfdGV4c2l6ZSc6IHRpbGUuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSxcbiAgICAgICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiAxIC8gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0udGlsZVpvb20pLFxuICAgICAgICAvLyBzcGxpdCB0aGUgcGl4ZWwgY29vcmQgaW50byB0d28gcGFpcnMgb2YgMTYgYml0IG51bWJlcnMuIFRoZSBnbHNsIHNwZWMgb25seSBndWFyYW50ZWVzIDE2IGJpdHMgb2YgcHJlY2lzaW9uLlxuICAgICAgICAndV9waXhlbF9jb29yZF91cHBlcic6IFtwaXhlbFggPj4gMTYsIHBpeGVsWSA+PiAxNl0sXG4gICAgICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogW3BpeGVsWCAmIDB4RkZGRiwgcGl4ZWxZICYgMHhGRkZGXVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGJnUGF0dGVyblVuaWZvcm1WYWx1ZXMoaW1hZ2U6IFJlc29sdmVkSW1hZ2UsIHBhaW50ZXI6IFBhaW50ZXIsXG4gICAgICAgIHRpbGU6IHt0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHRpbGVTaXplOiBudW1iZXJ9XG4pOiBVbmlmb3JtVmFsdWVzPEJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXNUeXBlPiB7XG5cbiAgICBjb25zdCBpbWFnZVBvcyA9IHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oaW1hZ2UudG9TdHJpbmcoKSk7XG4gICAgYXNzZXJ0KGltYWdlUG9zKTtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBwYWludGVyLmltYWdlTWFuYWdlci5nZXRQaXhlbFNpemUoKTtcblxuICAgIGNvbnN0IG51bVRpbGVzID0gTWF0aC5wb3coMiwgdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgIGNvbnN0IHRpbGVTaXplQXROZWFyZXN0Wm9vbSA9IHRpbGUudGlsZVNpemUgKiBNYXRoLnBvdygyLCBwYWludGVyLnRyYW5zZm9ybS50aWxlWm9vbSkgLyBudW1UaWxlcztcblxuICAgIGNvbnN0IHBpeGVsWCA9IHRpbGVTaXplQXROZWFyZXN0Wm9vbSAqICh0aWxlLnRpbGVJRC5jYW5vbmljYWwueCArIHRpbGUudGlsZUlELndyYXAgKiBudW1UaWxlcyk7XG4gICAgY29uc3QgcGl4ZWxZID0gdGlsZVNpemVBdE5lYXJlc3Rab29tICogdGlsZS50aWxlSUQuY2Fub25pY2FsLnk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAndV9pbWFnZSc6IDAsXG4gICAgICAgICd1X3BhdHRlcm5fdGwnOiAoaW1hZ2VQb3M6IGFueSkudGwsXG4gICAgICAgICd1X3BhdHRlcm5fYnInOiAoaW1hZ2VQb3M6IGFueSkuYnIsXG4gICAgICAgICd1X3RleHNpemUnOiBbd2lkdGgsIGhlaWdodF0sXG4gICAgICAgICd1X3BhdHRlcm5fc2l6ZSc6IChpbWFnZVBvczogYW55KS5kaXNwbGF5U2l6ZSxcbiAgICAgICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiAxIC8gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0udGlsZVpvb20pLFxuICAgICAgICAvLyBzcGxpdCB0aGUgcGl4ZWwgY29vcmQgaW50byB0d28gcGFpcnMgb2YgMTYgYml0IG51bWJlcnMuIFRoZSBnbHNsIHNwZWMgb25seSBndWFyYW50ZWVzIDE2IGJpdHMgb2YgcHJlY2lzaW9uLlxuICAgICAgICAndV9waXhlbF9jb29yZF91cHBlcic6IFtwaXhlbFggPj4gMTYsIHBpeGVsWSA+PiAxNl0sXG4gICAgICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogW3BpeGVsWCAmIDB4RkZGRiwgcGl4ZWxZICYgMHhGRkZGXVxuICAgIH07XG59XG5leHBvcnQge2JnUGF0dGVyblVuaWZvcm1WYWx1ZXMsIHBhdHRlcm5Vbmlmb3JtVmFsdWVzfTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7cGF0dGVyblVuaWZvcm1WYWx1ZXN9IGZyb20gJy4vcGF0dGVybi5qcyc7XG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmLFxuICAgIFVuaWZvcm0zZixcbiAgICBVbmlmb3JtTWF0cml4NGZcbn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB7bWF0MywgbWF0NCwgdmVjM30gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vLi4vc291cmNlL3RpbGUuanMnO1xuaW1wb3J0IHtDYW5vbmljYWxUaWxlSUQsIE92ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uLy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vLi4vZGF0YS9leHRlbnQuanMnO1xuXG5leHBvcnQgdHlwZSBGaWxsRXh0cnVzaW9uVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfbGlnaHRwb3MnOiBVbmlmb3JtM2YsXG4gICAgJ3VfbGlnaHRpbnRlbnNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfbGlnaHRjb2xvcic6IFVuaWZvcm0zZixcbiAgICAndV92ZXJ0aWNhbF9ncmFkaWVudCc6IFVuaWZvcm0xZixcbiAgICAndV9vcGFjaXR5JzogVW5pZm9ybTFmLFxuICAgIC8vIGdsb2JlIHVuaWZvcm1zOlxuICAgICd1X3RpbGVfaWQnOiBVbmlmb3JtM2YsXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogVW5pZm9ybTFmLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X21lcmNfY2VudGVyJzogVW5pZm9ybTJmLFxuICAgICd1X3VwX2Rpcic6IFVuaWZvcm0zZixcbiAgICAndV9oZWlnaHRfbGlmdCc6IFVuaWZvcm0xZixcbiAgICAndV9hbyc6IFVuaWZvcm0yZixcbiAgICAndV9lZGdlX3JhZGl1cyc6IFVuaWZvcm0xZlxufH07XG5cbmV4cG9ydCB0eXBlIEZpbGxFeHRydXNpb25QYXR0ZXJuVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfbGlnaHRwb3MnOiBVbmlmb3JtM2YsXG4gICAgJ3VfbGlnaHRpbnRlbnNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfbGlnaHRjb2xvcic6IFVuaWZvcm0zZixcbiAgICAndV9oZWlnaHRfZmFjdG9yJzogVW5pZm9ybTFmLFxuICAgICd1X3ZlcnRpY2FsX2dyYWRpZW50JzogVW5pZm9ybTFmLFxuICAgICd1X2FvJzogVW5pZm9ybTJmLFxuICAgICd1X2VkZ2VfcmFkaXVzJzogVW5pZm9ybTFmLFxuICAgIC8vIGdsb2JlIHVuaWZvcm1zOlxuICAgICd1X3RpbGVfaWQnOiBVbmlmb3JtM2YsXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogVW5pZm9ybTFmLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X21lcmNfY2VudGVyJzogVW5pZm9ybTJmLFxuICAgICd1X3VwX2Rpcic6IFVuaWZvcm0zZixcbiAgICAndV9oZWlnaHRfbGlmdCc6IFVuaWZvcm0xZixcbiAgICAvLyBwYXR0ZXJuIHVuaWZvcm1zOlxuICAgICd1X3RleHNpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfaW1hZ2UnOiBVbmlmb3JtMWksXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMWYsXG4gICAgJ3Vfb3BhY2l0eSc6IFVuaWZvcm0xZlxufH07XG5cbmNvbnN0IGZpbGxFeHRydXNpb25Vbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogRmlsbEV4dHJ1c2lvblVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfbGlnaHRwb3MnOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxuICAgICd1X2xpZ2h0aW50ZW5zaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9saWdodGNvbG9yJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV92ZXJ0aWNhbF9ncmFkaWVudCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3Vfb3BhY2l0eSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZWRnZV9yYWRpdXMnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2FvJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAvLyBnbG9iZSB1bmlmb3JtczpcbiAgICAndV90aWxlX2lkJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV96b29tX3RyYW5zaXRpb24nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9tZXJjX2NlbnRlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfdXBfZGlyJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9oZWlnaHRfbGlmdCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dClcbn0pO1xuXG5jb25zdCBmaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBGaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfbGlnaHRwb3MnOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxuICAgICd1X2xpZ2h0aW50ZW5zaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9saWdodGNvbG9yJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV92ZXJ0aWNhbF9ncmFkaWVudCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfaGVpZ2h0X2ZhY3Rvcic6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZWRnZV9yYWRpdXMnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2FvJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAvLyBnbG9iZSB1bmlmb3JtczpcbiAgICAndV90aWxlX2lkJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV96b29tX3RyYW5zaXRpb24nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9tZXJjX2NlbnRlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfdXBfZGlyJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9oZWlnaHRfbGlmdCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgLy8gcGF0dGVybiB1bmlmb3Jtc1xuICAgICd1X2ltYWdlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9waXhlbF9jb29yZF91cHBlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9vcGFjaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGlkZW50aXR5TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcblxuY29uc3QgZmlsbEV4dHJ1c2lvblVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICBzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50OiBib29sZWFuLFxuICAgIG9wYWNpdHk6IG51bWJlcixcbiAgICBhb0ludGVuc2l0eVJhZGl1czogW251bWJlciwgbnVtYmVyXSxcbiAgICBlZGdlUmFkaXVzOiBudW1iZXIsXG4gICAgY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQsXG4gICAgaGVpZ2h0TGlmdDogbnVtYmVyLFxuICAgIHpvb21UcmFuc2l0aW9uOiBudW1iZXIsXG4gICAgbWVyY2F0b3JDZW50ZXI6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgaW52TWF0cml4OiBGbG9hdDMyQXJyYXlcbik6IFVuaWZvcm1WYWx1ZXM8RmlsbEV4dHJ1c2lvblVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IGxpZ2h0ID0gcGFpbnRlci5zdHlsZS5saWdodDtcbiAgICBjb25zdCBfbHAgPSBsaWdodC5wcm9wZXJ0aWVzLmdldCgncG9zaXRpb24nKTtcbiAgICBjb25zdCBsaWdodFBvcyA9IFtfbHAueCwgX2xwLnksIF9scC56XTtcbiAgICBjb25zdCBsaWdodE1hdCA9IG1hdDMuY3JlYXRlKCk7XG4gICAgY29uc3QgYW5jaG9yID0gbGlnaHQucHJvcGVydGllcy5nZXQoJ2FuY2hvcicpO1xuICAgIGlmIChhbmNob3IgPT09ICd2aWV3cG9ydCcpIHtcbiAgICAgICAgbWF0My5mcm9tUm90YXRpb24obGlnaHRNYXQsIC1wYWludGVyLnRyYW5zZm9ybS5hbmdsZSk7XG4gICAgICAgIHZlYzMudHJhbnNmb3JtTWF0MyhsaWdodFBvcywgbGlnaHRQb3MsIGxpZ2h0TWF0KTtcbiAgICB9XG5cbiAgICBjb25zdCBsaWdodENvbG9yID0gbGlnaHQucHJvcGVydGllcy5nZXQoJ2NvbG9yJyk7XG4gICAgY29uc3QgdHIgPSBwYWludGVyLnRyYW5zZm9ybTtcblxuICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSB7XG4gICAgICAgICd1X21hdHJpeCc6IG1hdHJpeCxcbiAgICAgICAgJ3VfbGlnaHRwb3MnOiBsaWdodFBvcyxcbiAgICAgICAgJ3VfbGlnaHRpbnRlbnNpdHknOiBsaWdodC5wcm9wZXJ0aWVzLmdldCgnaW50ZW5zaXR5JyksXG4gICAgICAgICd1X2xpZ2h0Y29sb3InOiBbbGlnaHRDb2xvci5yLCBsaWdodENvbG9yLmcsIGxpZ2h0Q29sb3IuYl0sXG4gICAgICAgICd1X3ZlcnRpY2FsX2dyYWRpZW50JzogK3Nob3VsZFVzZVZlcnRpY2FsR3JhZGllbnQsXG4gICAgICAgICd1X29wYWNpdHknOiBvcGFjaXR5LFxuICAgICAgICAndV90aWxlX2lkJzogWzAsIDAsIDBdLFxuICAgICAgICAndV96b29tX3RyYW5zaXRpb24nOiAwLFxuICAgICAgICAndV9pbnZfcm90X21hdHJpeCc6IGlkZW50aXR5TWF0cml4LFxuICAgICAgICAndV9tZXJjX2NlbnRlcic6IFswLCAwXSxcbiAgICAgICAgJ3VfdXBfZGlyJzogWzAsIDAsIDBdLFxuICAgICAgICAndV9oZWlnaHRfbGlmdCc6IDAsXG4gICAgICAgICd1X2FvJzogYW9JbnRlbnNpdHlSYWRpdXMsXG4gICAgICAgICd1X2VkZ2VfcmFkaXVzJzogZWRnZVJhZGl1c1xuICAgIH07XG5cbiAgICBpZiAodHIucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgIHVuaWZvcm1WYWx1ZXNbJ3VfdGlsZV9pZCddID0gW2Nvb3JkLmNhbm9uaWNhbC54LCBjb29yZC5jYW5vbmljYWwueSwgMSA8PCBjb29yZC5jYW5vbmljYWwuel07XG4gICAgICAgIHVuaWZvcm1WYWx1ZXNbJ3Vfem9vbV90cmFuc2l0aW9uJ10gPSB6b29tVHJhbnNpdGlvbjtcbiAgICAgICAgdW5pZm9ybVZhbHVlc1sndV9pbnZfcm90X21hdHJpeCddID0gaW52TWF0cml4O1xuICAgICAgICB1bmlmb3JtVmFsdWVzWyd1X21lcmNfY2VudGVyJ10gPSBtZXJjYXRvckNlbnRlcjtcbiAgICAgICAgdW5pZm9ybVZhbHVlc1sndV91cF9kaXInXSA9ICh0ci5wcm9qZWN0aW9uLnVwVmVjdG9yKG5ldyBDYW5vbmljYWxUaWxlSUQoMCwgMCwgMCksIG1lcmNhdG9yQ2VudGVyWzBdICogRVhURU5ULCBtZXJjYXRvckNlbnRlclsxXSAqIEVYVEVOVCk6IGFueSk7XG4gICAgICAgIHVuaWZvcm1WYWx1ZXNbJ3VfaGVpZ2h0X2xpZnQnXSA9IGhlaWdodExpZnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaWZvcm1WYWx1ZXM7XG59O1xuXG5jb25zdCBmaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICBzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50OiBib29sZWFuLFxuICAgIG9wYWNpdHk6IG51bWJlcixcbiAgICBhb0ludGVuc2l0eVJhZGl1czogW251bWJlciwgbnVtYmVyXSxcbiAgICBlZGdlUmFkaXVzOiBudW1iZXIsXG4gICAgY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQsXG4gICAgdGlsZTogVGlsZSxcbiAgICBoZWlnaHRMaWZ0OiBudW1iZXIsXG4gICAgem9vbVRyYW5zaXRpb246IG51bWJlcixcbiAgICBtZXJjYXRvckNlbnRlcjogW251bWJlciwgbnVtYmVyXSxcbiAgICBpbnZNYXRyaXg6IEZsb2F0MzJBcnJheVxuKTogVW5pZm9ybVZhbHVlczxGaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSBmaWxsRXh0cnVzaW9uVW5pZm9ybVZhbHVlcyhcbiAgICAgICAgbWF0cml4LCBwYWludGVyLCBzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50LCBvcGFjaXR5LCBhb0ludGVuc2l0eVJhZGl1cywgZWRnZVJhZGl1cywgY29vcmQsXG4gICAgICAgIGhlaWdodExpZnQsIHpvb21UcmFuc2l0aW9uLCBtZXJjYXRvckNlbnRlciwgaW52TWF0cml4KTtcbiAgICBjb25zdCBoZWlnaHRGYWN0b3JVbmlmb3JtID0ge1xuICAgICAgICAndV9oZWlnaHRfZmFjdG9yJzogLU1hdGgucG93KDIsIGNvb3JkLm92ZXJzY2FsZWRaKSAvIHRpbGUudGlsZVNpemUgLyA4XG4gICAgfTtcbiAgICByZXR1cm4gZXh0ZW5kKHVuaWZvcm1WYWx1ZXMsIHBhdHRlcm5Vbmlmb3JtVmFsdWVzKHBhaW50ZXIsIHRpbGUpLCBoZWlnaHRGYWN0b3JVbmlmb3JtKTtcbn07XG5cbmV4cG9ydCB7XG4gICAgZmlsbEV4dHJ1c2lvblVuaWZvcm1zLFxuICAgIGZpbGxFeHRydXNpb25QYXR0ZXJuVW5pZm9ybXMsXG4gICAgZmlsbEV4dHJ1c2lvblVuaWZvcm1WYWx1ZXMsXG4gICAgZmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3JtVmFsdWVzXG59O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtwYXR0ZXJuVW5pZm9ybVZhbHVlc30gZnJvbSAnLi9wYXR0ZXJuLmpzJztcbmltcG9ydCB7XG4gICAgVW5pZm9ybTFpLFxuICAgIFVuaWZvcm0xZixcbiAgICBVbmlmb3JtMmYsXG4gICAgVW5pZm9ybU1hdHJpeDRmXG59IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vLi4vc291cmNlL3RpbGUuanMnO1xuXG5leHBvcnQgdHlwZSBGaWxsVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGZcbnx9O1xuXG5leHBvcnQgdHlwZSBGaWxsT3V0bGluZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X3dvcmxkJzogVW5pZm9ybTJmXG58fTtcblxuZXhwb3J0IHR5cGUgRmlsbFBhdHRlcm5Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAvLyBwYXR0ZXJuIHVuaWZvcm1zOlxuICAgICd1X3RleHNpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfaW1hZ2UnOiBVbmlmb3JtMWksXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMWZcbnx9O1xuXG5leHBvcnQgdHlwZSBGaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV93b3JsZCc6IFVuaWZvcm0yZixcbiAgICAvLyBwYXR0ZXJuIHVuaWZvcm1zOlxuICAgICd1X3RleHNpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfaW1hZ2UnOiBVbmlmb3JtMWksXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMWZcbnx9O1xuXG5jb25zdCBmaWxsVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IEZpbGxVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpXG59KTtcblxuY29uc3QgZmlsbFBhdHRlcm5Vbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogRmlsbFBhdHRlcm5Vbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2ltYWdlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9waXhlbF9jb29yZF91cHBlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KVxuXG59KTtcblxuY29uc3QgZmlsbE91dGxpbmVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogRmlsbE91dGxpbmVVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X3dvcmxkJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGZpbGxPdXRsaW5lUGF0dGVyblVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBGaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X3dvcmxkJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfdGV4c2l6ZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X3BpeGVsX2Nvb3JkX2xvd2VyJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV90aWxlX3VuaXRzX3RvX3BpeGVscyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dClcbn0pO1xuXG5jb25zdCBmaWxsVW5pZm9ybVZhbHVlcyA9IChtYXRyaXg6IEZsb2F0MzJBcnJheSk6IFVuaWZvcm1WYWx1ZXM8RmlsbFVuaWZvcm1zVHlwZT4gPT4gKHtcbiAgICAndV9tYXRyaXgnOiBtYXRyaXhcbn0pO1xuXG5jb25zdCBmaWxsUGF0dGVyblVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICB0aWxlOiBUaWxlXG4pOiBVbmlmb3JtVmFsdWVzPEZpbGxQYXR0ZXJuVW5pZm9ybXNUeXBlPiA9PiBleHRlbmQoXG4gICAgZmlsbFVuaWZvcm1WYWx1ZXMobWF0cml4KSxcbiAgICBwYXR0ZXJuVW5pZm9ybVZhbHVlcyhwYWludGVyLCB0aWxlKVxuKTtcblxuY29uc3QgZmlsbE91dGxpbmVVbmlmb3JtVmFsdWVzID0gKFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIGRyYXdpbmdCdWZmZXJTaXplOiBbbnVtYmVyLCBudW1iZXJdXG4pOiBVbmlmb3JtVmFsdWVzPEZpbGxPdXRsaW5lVW5pZm9ybXNUeXBlPiA9PiAoe1xuICAgICd1X21hdHJpeCc6IG1hdHJpeCxcbiAgICAndV93b3JsZCc6IGRyYXdpbmdCdWZmZXJTaXplXG59KTtcblxuY29uc3QgZmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybVZhbHVlcyA9IChcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIHRpbGU6IFRpbGUsXG4gICAgZHJhd2luZ0J1ZmZlclNpemU6IFtudW1iZXIsIG51bWJlcl1cbik6IFVuaWZvcm1WYWx1ZXM8RmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybXNUeXBlPiA9PiBleHRlbmQoXG4gICAgZmlsbFBhdHRlcm5Vbmlmb3JtVmFsdWVzKG1hdHJpeCwgcGFpbnRlciwgdGlsZSksXG4gICAge1xuICAgICAgICAndV93b3JsZCc6IGRyYXdpbmdCdWZmZXJTaXplXG4gICAgfVxuKTtcblxuZXhwb3J0IHtcbiAgICBmaWxsVW5pZm9ybXMsXG4gICAgZmlsbFBhdHRlcm5Vbmlmb3JtcyxcbiAgICBmaWxsT3V0bGluZVVuaWZvcm1zLFxuICAgIGZpbGxPdXRsaW5lUGF0dGVyblVuaWZvcm1zLFxuICAgIGZpbGxVbmlmb3JtVmFsdWVzLFxuICAgIGZpbGxQYXR0ZXJuVW5pZm9ybVZhbHVlcyxcbiAgICBmaWxsT3V0bGluZVVuaWZvcm1WYWx1ZXMsXG4gICAgZmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybVZhbHVlc1xufTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7XG4gICAgVW5pZm9ybTFmLFxuICAgIFVuaWZvcm0yZixcbiAgICBVbmlmb3JtM2YsXG4gICAgVW5pZm9ybU1hdHJpeDJmLFxuICAgIFVuaWZvcm1NYXRyaXg0ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uLy4uL2dsL2NvbnRleHQuanMnO1xuaW1wb3J0IHR5cGUge1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQge0Nhbm9uaWNhbFRpbGVJRCwgT3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi8uLi9zb3VyY2UvdGlsZS5qcyc7XG5pbXBvcnQgdHlwZSBDaXJjbGVTdHlsZUxheWVyIGZyb20gJy4uLy4uL3N0eWxlL3N0eWxlX2xheWVyL2NpcmNsZV9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3BhaW50ZXIuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCB7bWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7Z2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbiwgZ2xvYmVQaXhlbHNUb1RpbGVVbml0c30gZnJvbSAnLi4vLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uLy4uL2RhdGEvZXh0ZW50LmpzJztcblxuZXhwb3J0IHR5cGUgQ2lyY2xlVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlJzogVW5pZm9ybTFmLFxuICAgICd1X2V4dHJ1ZGVfc2NhbGUnOiBVbmlmb3JtTWF0cml4MmYsXG4gICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogVW5pZm9ybTFmLFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9pbnZfcm90X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9tZXJjX2NlbnRlcic6IFVuaWZvcm0yZixcbiAgICAndV90aWxlX2lkJzogVW5pZm9ybTNmLFxuICAgICd1X3pvb21fdHJhbnNpdGlvbic6IFVuaWZvcm0xZixcbiAgICAndV91cF9kaXInOiBVbmlmb3JtM2YsXG58fTtcblxuZXhwb3J0IHR5cGUgQ2lyY2xlRGVmaW5lc1R5cGUgPSAnUElUQ0hfV0lUSF9NQVAnIHwgJ1NDQUxFX1dJVEhfTUFQJyB8ICdQUk9KRUNUSU9OX0dMT0JFX1ZJRVcnO1xuXG5jb25zdCBjaXJjbGVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogQ2lyY2xlVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IG5ldyBVbmlmb3JtTWF0cml4MmYoY29udGV4dCksXG4gICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9tZXJjX2NlbnRlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfdGlsZV9pZCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV91cF9kaXInOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxufSk7XG5cbmNvbnN0IGlkZW50aXR5TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcblxuY29uc3QgY2lyY2xlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIGNvb3JkOiBPdmVyc2NhbGVkVGlsZUlELFxuICAgIHRpbGU6IFRpbGUsXG4gICAgaW52TWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgbWVyY2F0b3JDZW50ZXI6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgbGF5ZXI6IENpcmNsZVN0eWxlTGF5ZXJcbik6IFVuaWZvcm1WYWx1ZXM8Q2lyY2xlVW5pZm9ybXNUeXBlPiA9PiB7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgaXNHbG9iZSA9IHRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZSc7XG5cbiAgICBsZXQgZXh0cnVkZVNjYWxlO1xuICAgIGlmIChsYXllci5wYWludC5nZXQoJ2NpcmNsZS1waXRjaC1hbGlnbm1lbnQnKSA9PT0gJ21hcCcpIHtcbiAgICAgICAgaWYgKGlzR2xvYmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBnbG9iZVBpeGVsc1RvVGlsZVVuaXRzKHRyYW5zZm9ybS56b29tLCBjb29yZC5jYW5vbmljYWwpICogdHJhbnNmb3JtLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsO1xuICAgICAgICAgICAgZXh0cnVkZVNjYWxlID0gRmxvYXQzMkFycmF5LmZyb20oW3MsIDAsIDAsIHNdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4dHJ1ZGVTY2FsZSA9IHRyYW5zZm9ybS5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0aWxlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGV4dHJ1ZGVTY2FsZSA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1swXSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1sxXV0pO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlcyA9IHtcbiAgICAgICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IHRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLFxuICAgICAgICAndV9tYXRyaXgnOiBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChcbiAgICAgICAgICAgIGNvb3JkLnByb2pNYXRyaXgsXG4gICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtdHJhbnNsYXRlJyksXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ2NpcmNsZS10cmFuc2xhdGUtYW5jaG9yJykpLFxuICAgICAgICAndV9kZXZpY2VfcGl4ZWxfcmF0aW8nOiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sXG4gICAgICAgICd1X2V4dHJ1ZGVfc2NhbGUnOiBleHRydWRlU2NhbGUsXG4gICAgICAgICd1X2ludl9yb3RfbWF0cml4JzogaWRlbnRpdHlNYXRyaXgsXG4gICAgICAgICd1X21lcmNfY2VudGVyJzogWzAsIDBdLFxuICAgICAgICAndV90aWxlX2lkJzogWzAsIDAsIDBdLFxuICAgICAgICAndV96b29tX3RyYW5zaXRpb24nOiAwLFxuICAgICAgICAndV91cF9kaXInOiBbMCwgMCwgMF1cbiAgICB9O1xuXG4gICAgaWYgKGlzR2xvYmUpIHtcbiAgICAgICAgdmFsdWVzWyd1X2ludl9yb3RfbWF0cml4J10gPSBpbnZNYXRyaXg7XG4gICAgICAgIHZhbHVlc1sndV9tZXJjX2NlbnRlciddID0gbWVyY2F0b3JDZW50ZXI7XG4gICAgICAgIHZhbHVlc1sndV90aWxlX2lkJ10gPSBbY29vcmQuY2Fub25pY2FsLngsIGNvb3JkLmNhbm9uaWNhbC55LCAxIDw8IGNvb3JkLmNhbm9uaWNhbC56XTtcbiAgICAgICAgdmFsdWVzWyd1X3pvb21fdHJhbnNpdGlvbiddID0gZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0cmFuc2Zvcm0uem9vbSk7XG4gICAgICAgIGNvbnN0IHggPSBtZXJjYXRvckNlbnRlclswXSAqIEVYVEVOVDtcbiAgICAgICAgY29uc3QgeSA9IG1lcmNhdG9yQ2VudGVyWzFdICogRVhURU5UO1xuICAgICAgICB2YWx1ZXNbJ3VfdXBfZGlyJ10gPSAodHJhbnNmb3JtLnByb2plY3Rpb24udXBWZWN0b3IobmV3IENhbm9uaWNhbFRpbGVJRCgwLCAwLCAwKSwgeCwgeSk6IGFueSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcztcbn07XG5cbmNvbnN0IGNpcmNsZURlZmluZXNWYWx1ZXMgPSAobGF5ZXI6IENpcmNsZVN0eWxlTGF5ZXIpOiBDaXJjbGVEZWZpbmVzVHlwZVtdID0+IHtcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtcGl0Y2gtYWxpZ25tZW50JykgPT09ICdtYXAnKSB2YWx1ZXMucHVzaCgnUElUQ0hfV0lUSF9NQVAnKTtcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtcGl0Y2gtc2NhbGUnKSA9PT0gJ21hcCcpIHZhbHVlcy5wdXNoKCdTQ0FMRV9XSVRIX01BUCcpO1xuXG4gICAgcmV0dXJuIHZhbHVlcztcbn07XG5cbmV4cG9ydCB7Y2lyY2xlVW5pZm9ybXMsIGNpcmNsZVVuaWZvcm1WYWx1ZXMsIGNpcmNsZURlZmluZXNWYWx1ZXN9O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmLFxuICAgIFVuaWZvcm1NYXRyaXg0ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi8uLi9kYXRhL2V4dGVudC5qcyc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uLy4uL2dsL2NvbnRleHQuanMnO1xuaW1wb3J0IHR5cGUge1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uLy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIFByb2plY3Rpb24gZnJvbSAnLi4vLi4vZ2VvL3Byb2plY3Rpb24vcHJvamVjdGlvbi5qcyc7XG5cbmV4cG9ydCB0eXBlIENvbGxpc2lvblVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IFVuaWZvcm0yZlxufH07XG5cbmV4cG9ydCB0eXBlIENvbGxpc2lvbkNpcmNsZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2ludl9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IFVuaWZvcm0xZixcbiAgICAndV92aWV3cG9ydF9zaXplJzogVW5pZm9ybTJmXG58fTtcblxuY29uc3QgY29sbGlzaW9uVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IENvbGxpc2lvblVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dClcbn0pO1xuXG5jb25zdCBjb2xsaXNpb25DaXJjbGVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogQ29sbGlzaW9uQ2lyY2xlVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9pbnZfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV92aWV3cG9ydF9zaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGNvbGxpc2lvblVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sXG4gICAgdGlsZTogVGlsZSxcbiAgICBwcm9qZWN0aW9uOiBQcm9qZWN0aW9uXG4pOiBVbmlmb3JtVmFsdWVzPENvbGxpc2lvblVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHBpeGVsUmF0aW8gPSBFWFRFTlQgLyB0aWxlLnRpbGVTaXplO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICAgICAndV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlJzogdHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UocHJvamVjdGlvbiksXG4gICAgICAgICd1X2V4dHJ1ZGVfc2NhbGUnOiBbdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1swXSAvIHBpeGVsUmF0aW8sXG4gICAgICAgICAgICB0cmFuc2Zvcm0ucGl4ZWxzVG9HTFVuaXRzWzFdIC8gcGl4ZWxSYXRpb11cbiAgICB9O1xufTtcblxuY29uc3QgY29sbGlzaW9uQ2lyY2xlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBpbnZNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICBwcm9qZWN0aW9uOiBQcm9qZWN0aW9uXG4pOiBVbmlmb3JtVmFsdWVzPENvbGxpc2lvbkNpcmNsZVVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgICd1X21hdHJpeCc6IG1hdHJpeCxcbiAgICAgICAgJ3VfaW52X21hdHJpeCc6IGludk1hdHJpeCxcbiAgICAgICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IHRyYW5zZm9ybS5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHByb2plY3Rpb24pLFxuICAgICAgICAndV92aWV3cG9ydF9zaXplJzogW3RyYW5zZm9ybS53aWR0aCwgdHJhbnNmb3JtLmhlaWdodF1cbiAgICB9O1xufTtcblxuZXhwb3J0IHtjb2xsaXNpb25Vbmlmb3JtcywgY29sbGlzaW9uVW5pZm9ybVZhbHVlcywgY29sbGlzaW9uQ2lyY2xlVW5pZm9ybXMsIGNvbGxpc2lvbkNpcmNsZVVuaWZvcm1WYWx1ZXN9O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtQ29sb3IsXG4gICAgVW5pZm9ybU1hdHJpeDRmLFxuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWZcbn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUgQ29sb3IgZnJvbSAnLi4vLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yLmpzJztcblxuZXhwb3J0IHR5cGUgRGVidWdVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X2NvbG9yJzogVW5pZm9ybUNvbG9yLFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9vdmVybGF5JzogVW5pZm9ybTFpLFxuICAgICd1X292ZXJsYXlfc2NhbGUnOiBVbmlmb3JtMWZcbnx9O1xuXG5jb25zdCBkZWJ1Z1VuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBEZWJ1Z1VuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X2NvbG9yJzogbmV3IFVuaWZvcm1Db2xvcihjb250ZXh0KSxcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X292ZXJsYXknOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X292ZXJsYXlfc2NhbGUnOiAgbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbn0pO1xuXG5jb25zdCBkZWJ1Z1VuaWZvcm1WYWx1ZXMgPSAobWF0cml4OiBGbG9hdDMyQXJyYXksIGNvbG9yOiBDb2xvciwgc2NhbGVSYXRpbzogbnVtYmVyID0gMSk6IFVuaWZvcm1WYWx1ZXM8RGVidWdVbmlmb3Jtc1R5cGU+ID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICd1X2NvbG9yJzogY29sb3IsXG4gICAgJ3Vfb3ZlcmxheSc6IDAsXG4gICAgJ3Vfb3ZlcmxheV9zY2FsZSc6IHNjYWxlUmF0aW9cbn0pO1xuXG5leHBvcnQge2RlYnVnVW5pZm9ybXMsIGRlYnVnVW5pZm9ybVZhbHVlc307XG5cbmV4cG9ydCB0eXBlIERlYnVnRGVmaW5lc1R5cGUgPSAnUFJPSkVDVElPTl9HTE9CRV9WSUVXJztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7XG4gICAgVW5pZm9ybTFpLFxuICAgIFVuaWZvcm0xZixcbiAgICBVbmlmb3JtMmYsXG4gICAgVW5pZm9ybTNmLFxuICAgIFVuaWZvcm1NYXRyaXg0ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHBpeGVsc1RvVGlsZVVuaXRzIGZyb20gJy4uLy4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cy5qcyc7XG5cbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vLi4vZ2wvY29udGV4dC5qcyc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uLy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIEhlYXRtYXBTdHlsZUxheWVyIGZyb20gJy4uLy4uL3N0eWxlL3N0eWxlX2xheWVyL2hlYXRtYXBfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHtDYW5vbmljYWxUaWxlSUQsIE92ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uLy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB7bWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7Z2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbiwgZ2xvYmVQaXhlbHNUb1RpbGVVbml0c30gZnJvbSAnLi4vLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uLy4uL2RhdGEvZXh0ZW50LmpzJztcblxuZXhwb3J0IHR5cGUgSGVhdG1hcFVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IFVuaWZvcm0xZixcbiAgICAndV9pbnRlbnNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X21lcmNfY2VudGVyJzogVW5pZm9ybTJmLFxuICAgICd1X3RpbGVfaWQnOiBVbmlmb3JtM2YsXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogVW5pZm9ybTFmLFxuICAgICd1X3VwX2Rpcic6IFVuaWZvcm0zZixcbnx9O1xuXG5leHBvcnQgdHlwZSBIZWF0bWFwVGV4dHVyZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfaW1hZ2UnOiBVbmlmb3JtMWksXG4gICAgJ3VfY29sb3JfcmFtcCc6IFVuaWZvcm0xaSxcbiAgICAndV9vcGFjaXR5JzogVW5pZm9ybTFmXG58fTtcblxuY29uc3QgaGVhdG1hcFVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBIZWF0bWFwVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfZXh0cnVkZV9zY2FsZSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfaW50ZW5zaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9tZXJjX2NlbnRlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfdGlsZV9pZCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV91cF9kaXInOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpXG59KTtcblxuY29uc3QgaGVhdG1hcFRleHR1cmVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogSGVhdG1hcFRleHR1cmVVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfY29sb3JfcmFtcCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3Vfb3BhY2l0eSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dClcbn0pO1xuXG5jb25zdCBpZGVudGl0eU1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG5cbmNvbnN0IGhlYXRtYXBVbmlmb3JtVmFsdWVzID0gKFxuICAgIHBhaW50ZXI6IFBhaW50ZXIsXG4gICAgY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQsXG4gICAgdGlsZTogVGlsZSxcbiAgICBpbnZNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBtZXJjYXRvckNlbnRlcjogW251bWJlciwgbnVtYmVyXSxcbiAgICB6b29tOiBudW1iZXIsXG4gICAgaW50ZW5zaXR5OiBudW1iZXJcbik6IFVuaWZvcm1WYWx1ZXM8SGVhdG1hcFVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IGlzR2xvYmUgPSB0cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuICAgIGNvbnN0IGV4dHJ1ZGVTY2FsZSA9IGlzR2xvYmUgPyBnbG9iZVBpeGVsc1RvVGlsZVVuaXRzKHRyYW5zZm9ybS56b29tLCBjb29yZC5jYW5vbmljYWwpICogdHJhbnNmb3JtLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsIDogcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgem9vbSk7XG5cbiAgICBjb25zdCB2YWx1ZXMgPSB7XG4gICAgICAgICd1X21hdHJpeCc6IGNvb3JkLnByb2pNYXRyaXgsXG4gICAgICAgICd1X2V4dHJ1ZGVfc2NhbGUnOiBleHRydWRlU2NhbGUsXG4gICAgICAgICd1X2ludGVuc2l0eSc6IGludGVuc2l0eSxcbiAgICAgICAgJ3VfaW52X3JvdF9tYXRyaXgnOiBpZGVudGl0eU1hdHJpeCxcbiAgICAgICAgJ3VfbWVyY19jZW50ZXInOiBbMCwgMF0sXG4gICAgICAgICd1X3RpbGVfaWQnOiBbMCwgMCwgMF0sXG4gICAgICAgICd1X3pvb21fdHJhbnNpdGlvbic6IDAsXG4gICAgICAgICd1X3VwX2Rpcic6IFswLCAwLCAwXSxcbiAgICB9O1xuXG4gICAgaWYgKGlzR2xvYmUpIHtcbiAgICAgICAgdmFsdWVzWyd1X2ludl9yb3RfbWF0cml4J10gPSBpbnZNYXRyaXg7XG4gICAgICAgIHZhbHVlc1sndV9tZXJjX2NlbnRlciddID0gbWVyY2F0b3JDZW50ZXI7XG4gICAgICAgIHZhbHVlc1sndV90aWxlX2lkJ10gPSBbY29vcmQuY2Fub25pY2FsLngsIGNvb3JkLmNhbm9uaWNhbC55LCAxIDw8IGNvb3JkLmNhbm9uaWNhbC56XTtcbiAgICAgICAgdmFsdWVzWyd1X3pvb21fdHJhbnNpdGlvbiddID0gZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0cmFuc2Zvcm0uem9vbSk7XG4gICAgICAgIGNvbnN0IHggPSBtZXJjYXRvckNlbnRlclswXSAqIEVYVEVOVDtcbiAgICAgICAgY29uc3QgeSA9IG1lcmNhdG9yQ2VudGVyWzFdICogRVhURU5UO1xuICAgICAgICB2YWx1ZXNbJ3VfdXBfZGlyJ10gPSAodHJhbnNmb3JtLnByb2plY3Rpb24udXBWZWN0b3IobmV3IENhbm9uaWNhbFRpbGVJRCgwLCAwLCAwKSwgeCwgeSk6IGFueSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcztcbn07XG5cbmNvbnN0IGhlYXRtYXBUZXh0dXJlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIGxheWVyOiBIZWF0bWFwU3R5bGVMYXllcixcbiAgICB0ZXh0dXJlVW5pdDogbnVtYmVyLFxuICAgIGNvbG9yUmFtcFVuaXQ6IG51bWJlclxuKTogVW5pZm9ybVZhbHVlczxIZWF0bWFwVGV4dHVyZVVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgICd1X2ltYWdlJzogdGV4dHVyZVVuaXQsXG4gICAgICAgICd1X2NvbG9yX3JhbXAnOiBjb2xvclJhbXBVbml0LFxuICAgICAgICAndV9vcGFjaXR5JzogbGF5ZXIucGFpbnQuZ2V0KCdoZWF0bWFwLW9wYWNpdHknKVxuICAgIH07XG59O1xuXG5leHBvcnQge1xuICAgIGhlYXRtYXBVbmlmb3JtcyxcbiAgICBoZWF0bWFwVGV4dHVyZVVuaWZvcm1zLFxuICAgIGhlYXRtYXBVbmlmb3JtVmFsdWVzLFxuICAgIGhlYXRtYXBUZXh0dXJlVW5pZm9ybVZhbHVlc1xufTtcblxuZXhwb3J0IHR5cGUgSGVhdG1hcERlZmluZXNUeXBlID0gJ1BST0pFQ1RJT05fR0xPQkVfVklFVyc7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmLFxuICAgIFVuaWZvcm1NYXRyaXgyZixcbiAgICBVbmlmb3JtTWF0cml4NGZcbn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi8uLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMuanMnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uLy4uL2dsL2NvbnRleHQuanMnO1xuaW1wb3J0IHR5cGUge1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uLy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIExpbmVTdHlsZUxheWVyIGZyb20gJy4uLy4uL3N0eWxlL3N0eWxlX2xheWVyL2xpbmVfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9wYWludGVyLmpzJztcblxuZXhwb3J0IHR5cGUgTGluZVVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X3BpeGVsc190b190aWxlX3VuaXRzJzogVW5pZm9ybU1hdHJpeDJmLFxuICAgICd1X2RldmljZV9waXhlbF9yYXRpbyc6IFVuaWZvcm0xZixcbiAgICAndV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMmYsXG4gICAgJ3VfZGFzaF9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV9ncmFkaWVudF9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV9pbWFnZV9oZWlnaHQnOiBVbmlmb3JtMWYsXG4gICAgJ3VfdGV4c2l6ZSc6IFVuaWZvcm0yZixcbiAgICAndV90aWxlX3VuaXRzX3RvX3BpeGVscyc6IFVuaWZvcm0xZixcbiAgICAndV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZCc6IFVuaWZvcm0xZixcbiAgICAndV90cmltX29mZnNldCc6IFVuaWZvcm0yZlxufH07XG5cbmV4cG9ydCB0eXBlIExpbmVQYXR0ZXJuVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfdGV4c2l6ZSc6IFVuaWZvcm0yZixcbiAgICAndV9waXhlbHNfdG9fdGlsZV91bml0cyc6IFVuaWZvcm1NYXRyaXgyZixcbiAgICAndV9kZXZpY2VfcGl4ZWxfcmF0aW8nOiBVbmlmb3JtMWYsXG4gICAgJ3VfdW5pdHNfdG9fcGl4ZWxzJzogVW5pZm9ybTJmLFxuICAgICd1X2ltYWdlJzogVW5pZm9ybTFpLFxuICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogVW5pZm9ybTFmLFxuICAgICd1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkJzogVW5pZm9ybTFmXG58fTtcblxuZXhwb3J0IHR5cGUgTGluZURlZmluZXNUeXBlID0gJ1JFTkRFUl9MSU5FX0dSQURJRU5UJyB8ICdSRU5ERVJfTElORV9EQVNIJyB8ICdSRU5ERVJfTElORV9BTFBIQV9ESVNDQVJEJyB8ICdSRU5ERVJfTElORV9UUklNX09GRlNFVCc7XG5cbmNvbnN0IGxpbmVVbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogTGluZVVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfcGl4ZWxzX3RvX3RpbGVfdW5pdHMnOiBuZXcgVW5pZm9ybU1hdHJpeDJmKGNvbnRleHQpLFxuICAgICd1X2RldmljZV9waXhlbF9yYXRpbyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfdW5pdHNfdG9fcGl4ZWxzJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9kYXNoX2ltYWdlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9ncmFkaWVudF9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfaW1hZ2VfaGVpZ2h0JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV90aWxlX3VuaXRzX3RvX3BpeGVscyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3RyaW1fb2Zmc2V0JzogbmV3IFVuaWZvcm0yZihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGxpbmVQYXR0ZXJuVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IExpbmVQYXR0ZXJuVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9waXhlbHNfdG9fdGlsZV91bml0cyc6IG5ldyBVbmlmb3JtTWF0cml4MmYoY29udGV4dCksXG4gICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfdW5pdHNfdG9fcGl4ZWxzJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV90aWxlX3VuaXRzX3RvX3BpeGVscyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpXG59KTtcblxuY29uc3QgbGluZVVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICB0aWxlOiBUaWxlLFxuICAgIGxheWVyOiBMaW5lU3R5bGVMYXllcixcbiAgICBtYXRyaXg6ID9GbG9hdDMyQXJyYXksXG4gICAgaW1hZ2VIZWlnaHQ6IG51bWJlcixcbiAgICBwaXhlbFJhdGlvOiBudW1iZXIsXG4gICAgdHJpbU9mZnNldDogW251bWJlciwgbnVtYmVyXSxcbik6IFVuaWZvcm1WYWx1ZXM8TGluZVVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IHBpeGVsc1RvVGlsZVVuaXRzID0gdHJhbnNmb3JtLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHRpbGUpO1xuICAgIHJldHVybiB7XG4gICAgICAgICd1X21hdHJpeCc6IGNhbGN1bGF0ZU1hdHJpeChwYWludGVyLCB0aWxlLCBsYXllciwgbWF0cml4KSxcbiAgICAgICAgJ3VfcGl4ZWxzX3RvX3RpbGVfdW5pdHMnOiBwaXhlbHNUb1RpbGVVbml0cyxcbiAgICAgICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogcGl4ZWxSYXRpbyxcbiAgICAgICAgJ3VfdW5pdHNfdG9fcGl4ZWxzJzogW1xuICAgICAgICAgICAgMSAvIHRyYW5zZm9ybS5waXhlbHNUb0dMVW5pdHNbMF0sXG4gICAgICAgICAgICAxIC8gdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1sxXVxuICAgICAgICBdLFxuICAgICAgICAndV9kYXNoX2ltYWdlJzogMCxcbiAgICAgICAgJ3VfZ3JhZGllbnRfaW1hZ2UnOiAxLFxuICAgICAgICAndV9pbWFnZV9oZWlnaHQnOiBpbWFnZUhlaWdodCxcbiAgICAgICAgJ3VfdGV4c2l6ZSc6IGhhc0Rhc2gobGF5ZXIpID8gdGlsZS5saW5lQXRsYXNUZXh0dXJlLnNpemUgOiBbMCwgMF0sXG4gICAgICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogY2FsY3VsYXRlVGlsZVJhdGlvKHRpbGUsIHBhaW50ZXIudHJhbnNmb3JtKSxcbiAgICAgICAgJ3VfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQnOiAwLjAsXG4gICAgICAgICd1X3RyaW1fb2Zmc2V0JzogdHJpbU9mZnNldFxuICAgIH07XG59O1xuXG5jb25zdCBsaW5lUGF0dGVyblVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICB0aWxlOiBUaWxlLFxuICAgIGxheWVyOiBMaW5lU3R5bGVMYXllcixcbiAgICBtYXRyaXg6ID9GbG9hdDMyQXJyYXksXG4gICAgcGl4ZWxSYXRpbzogbnVtYmVyXG4pOiBVbmlmb3JtVmFsdWVzPExpbmVQYXR0ZXJuVW5pZm9ybXNUeXBlPiA9PiB7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgJ3VfbWF0cml4JzogY2FsY3VsYXRlTWF0cml4KHBhaW50ZXIsIHRpbGUsIGxheWVyLCBtYXRyaXgpLFxuICAgICAgICAndV90ZXhzaXplJzogdGlsZS5pbWFnZUF0bGFzVGV4dHVyZS5zaXplLFxuICAgICAgICAvLyBjYW1lcmEgem9vbSByYXRpb1xuICAgICAgICAndV9waXhlbHNfdG9fdGlsZV91bml0cyc6IHRyYW5zZm9ybS5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0aWxlKSxcbiAgICAgICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogcGl4ZWxSYXRpbyxcbiAgICAgICAgJ3VfaW1hZ2UnOiAwLFxuICAgICAgICAndV90aWxlX3VuaXRzX3RvX3BpeGVscyc6IGNhbGN1bGF0ZVRpbGVSYXRpbyh0aWxlLCB0cmFuc2Zvcm0pLFxuICAgICAgICAndV91bml0c190b19waXhlbHMnOiBbXG4gICAgICAgICAgICAxIC8gdHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1swXSxcbiAgICAgICAgICAgIDEgLyB0cmFuc2Zvcm0ucGl4ZWxzVG9HTFVuaXRzWzFdXG4gICAgICAgIF0sXG4gICAgICAgICd1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkJzogMC4wXG4gICAgfTtcbn07XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVRpbGVSYXRpbyh0aWxlOiBUaWxlLCB0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgIHJldHVybiAxIC8gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgdHJhbnNmb3JtLnRpbGVab29tKTtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlTWF0cml4KHBhaW50ZXIsIHRpbGUsIGxheWVyLCBtYXRyaXgpIHtcbiAgICByZXR1cm4gcGFpbnRlci50cmFuc2xhdGVQb3NNYXRyaXgoXG4gICAgICAgIG1hdHJpeCA/IG1hdHJpeCA6IHRpbGUudGlsZUlELnByb2pNYXRyaXgsXG4gICAgICAgIHRpbGUsXG4gICAgICAgIGxheWVyLnBhaW50LmdldCgnbGluZS10cmFuc2xhdGUnKSxcbiAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLXRyYW5zbGF0ZS1hbmNob3InKVxuICAgICk7XG59XG5cbmNvbnN0IGxpbmVEZWZpbmVzVmFsdWVzID0gKGxheWVyOiBMaW5lU3R5bGVMYXllcik6IExpbmVEZWZpbmVzVHlwZVtdID0+IHtcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBpZiAoaGFzRGFzaChsYXllcikpIHZhbHVlcy5wdXNoKCdSRU5ERVJfTElORV9EQVNIJyk7XG4gICAgaWYgKGxheWVyLnBhaW50LmdldCgnbGluZS1ncmFkaWVudCcpKSB2YWx1ZXMucHVzaCgnUkVOREVSX0xJTkVfR1JBRElFTlQnKTtcblxuICAgIGNvbnN0IHRyaW1PZmZzZXQgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtdHJpbS1vZmZzZXQnKTtcbiAgICBpZiAodHJpbU9mZnNldFswXSAhPT0gMCB8fCB0cmltT2Zmc2V0WzFdICE9PSAwKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKCdSRU5ERVJfTElORV9UUklNX09GRlNFVCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGhhc1BhdHRlcm4gPSBsYXllci5wYWludC5nZXQoJ2xpbmUtcGF0dGVybicpLmNvbnN0YW50T3IoKDE6IGFueSkpO1xuICAgIGNvbnN0IGhhc09wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtb3BhY2l0eScpLmNvbnN0YW50T3IoMS4wKSAhPT0gMS4wO1xuICAgIGlmICghaGFzUGF0dGVybiAmJiBoYXNPcGFjaXR5KSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKCdSRU5ERVJfTElORV9BTFBIQV9ESVNDQVJEJyk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59O1xuXG5mdW5jdGlvbiBoYXNEYXNoKGxheWVyKSB7XG4gICAgY29uc3QgZGFzaFByb3BlcnR5VmFsdWUgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtZGFzaGFycmF5JykudmFsdWU7XG4gICAgcmV0dXJuIGRhc2hQcm9wZXJ0eVZhbHVlLnZhbHVlIHx8IGRhc2hQcm9wZXJ0eVZhbHVlLmtpbmQgIT09IFwiY29uc3RhbnRcIjtcbn1cblxuZXhwb3J0IHtcbiAgICBsaW5lVW5pZm9ybXMsXG4gICAgbGluZVBhdHRlcm5Vbmlmb3JtcyxcbiAgICBsaW5lVW5pZm9ybVZhbHVlcyxcbiAgICBsaW5lUGF0dGVyblVuaWZvcm1WYWx1ZXMsXG4gICAgbGluZURlZmluZXNWYWx1ZXNcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmLFxuICAgIFVuaWZvcm0zZixcbiAgICBVbmlmb3JtTWF0cml4NGZcbn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHR5cGUgUmFzdGVyU3R5bGVMYXllciBmcm9tICcuLi8uLi9zdHlsZS9zdHlsZV9sYXllci9yYXN0ZXJfc3R5bGVfbGF5ZXIuanMnO1xuXG5leHBvcnQgdHlwZSBSYXN0ZXJVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV90bF9wYXJlbnQnOiBVbmlmb3JtMmYsXG4gICAgJ3Vfc2NhbGVfcGFyZW50JzogVW5pZm9ybTFmLFxuICAgICd1X2ZhZGVfdCc6IFVuaWZvcm0xZixcbiAgICAndV9vcGFjaXR5JzogVW5pZm9ybTFmLFxuICAgICd1X2ltYWdlMCc6IFVuaWZvcm0xaSxcbiAgICAndV9pbWFnZTEnOiBVbmlmb3JtMWksXG4gICAgJ3VfYnJpZ2h0bmVzc19sb3cnOiBVbmlmb3JtMWYsXG4gICAgJ3VfYnJpZ2h0bmVzc19oaWdoJzogVW5pZm9ybTFmLFxuICAgICd1X3NhdHVyYXRpb25fZmFjdG9yJzogVW5pZm9ybTFmLFxuICAgICd1X2NvbnRyYXN0X2ZhY3Rvcic6IFVuaWZvcm0xZixcbiAgICAndV9zcGluX3dlaWdodHMnOiBVbmlmb3JtM2YsXG4gICAgJ3VfcGVyc3BlY3RpdmVfdHJhbnNmb3JtJzogVW5pZm9ybTJmXG58fTtcblxuY29uc3QgcmFzdGVyVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IFJhc3RlclVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfdGxfcGFyZW50JzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9zY2FsZV9wYXJlbnQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2ZhZGVfdCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3Vfb3BhY2l0eSc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfaW1hZ2UwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9pbWFnZTEnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X2JyaWdodG5lc3NfbG93JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9icmlnaHRuZXNzX2hpZ2gnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3NhdHVyYXRpb25fZmFjdG9yJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9jb250cmFzdF9mYWN0b3InOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3NwaW5fd2VpZ2h0cyc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfcGVyc3BlY3RpdmVfdHJhbnNmb3JtJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KVxufSk7XG5cbmNvbnN0IHJhc3RlclVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgcGFyZW50VEw6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgcGFyZW50U2NhbGVCeTogbnVtYmVyLFxuICAgIGZhZGU6IHttaXg6IG51bWJlciwgb3BhY2l0eTogbnVtYmVyfSxcbiAgICBsYXllcjogUmFzdGVyU3R5bGVMYXllcixcbiAgICBwZXJzcGVjdGl2ZVRyYW5zZm9ybTogW251bWJlciwgbnVtYmVyXVxuKTogVW5pZm9ybVZhbHVlczxSYXN0ZXJVbmlmb3Jtc1R5cGU+ID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICd1X3RsX3BhcmVudCc6IHBhcmVudFRMLFxuICAgICd1X3NjYWxlX3BhcmVudCc6IHBhcmVudFNjYWxlQnksXG4gICAgJ3VfZmFkZV90JzogZmFkZS5taXgsXG4gICAgJ3Vfb3BhY2l0eSc6IGZhZGUub3BhY2l0eSAqIGxheWVyLnBhaW50LmdldCgncmFzdGVyLW9wYWNpdHknKSxcbiAgICAndV9pbWFnZTAnOiAwLFxuICAgICd1X2ltYWdlMSc6IDEsXG4gICAgJ3VfYnJpZ2h0bmVzc19sb3cnOiBsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1icmlnaHRuZXNzLW1pbicpLFxuICAgICd1X2JyaWdodG5lc3NfaGlnaCc6IGxheWVyLnBhaW50LmdldCgncmFzdGVyLWJyaWdodG5lc3MtbWF4JyksXG4gICAgJ3Vfc2F0dXJhdGlvbl9mYWN0b3InOiBzYXR1cmF0aW9uRmFjdG9yKGxheWVyLnBhaW50LmdldCgncmFzdGVyLXNhdHVyYXRpb24nKSksXG4gICAgJ3VfY29udHJhc3RfZmFjdG9yJzogY29udHJhc3RGYWN0b3IobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItY29udHJhc3QnKSksXG4gICAgJ3Vfc3Bpbl93ZWlnaHRzJzogc3BpbldlaWdodHMobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItaHVlLXJvdGF0ZScpKSxcbiAgICAndV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm0nOiBwZXJzcGVjdGl2ZVRyYW5zZm9ybVxufSk7XG5cbmZ1bmN0aW9uIHNwaW5XZWlnaHRzKGFuZ2xlKSB7XG4gICAgYW5nbGUgKj0gTWF0aC5QSSAvIDE4MDtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgKDIgKiBjICsgMSkgLyAzLFxuICAgICAgICAoLU1hdGguc3FydCgzKSAqIHMgLSBjICsgMSkgLyAzLFxuICAgICAgICAoTWF0aC5zcXJ0KDMpICogcyAtIGMgKyAxKSAvIDNcbiAgICBdO1xufVxuXG5mdW5jdGlvbiBjb250cmFzdEZhY3Rvcihjb250cmFzdCkge1xuICAgIHJldHVybiBjb250cmFzdCA+IDAgP1xuICAgICAgICAxIC8gKDEgLSBjb250cmFzdCkgOlxuICAgICAgICAxICsgY29udHJhc3Q7XG59XG5cbmZ1bmN0aW9uIHNhdHVyYXRpb25GYWN0b3Ioc2F0dXJhdGlvbikge1xuICAgIHJldHVybiBzYXR1cmF0aW9uID4gMCA/XG4gICAgICAgIDEgLSAxIC8gKDEuMDAxIC0gc2F0dXJhdGlvbikgOlxuICAgICAgICAtc2F0dXJhdGlvbjtcbn1cblxuZXhwb3J0IHtyYXN0ZXJVbmlmb3JtcywgcmFzdGVyVW5pZm9ybVZhbHVlc307XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIFVuaWZvcm0xaSxcbiAgICBVbmlmb3JtMWYsXG4gICAgVW5pZm9ybTJmLFxuICAgIFVuaWZvcm0zZixcbiAgICBVbmlmb3JtTWF0cml4NGZcbn0gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB7bWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi8uLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB7Z2xvYmVFQ0VGT3JpZ2lufSBmcm9tICcuLi8uLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcbmltcG9ydCB0eXBlIFByb2plY3Rpb24gZnJvbSAnLi4vLi4vZ2VvL3Byb2plY3Rpb24vcHJvamVjdGlvbi5qcyc7XG5cbmltcG9ydCB0eXBlIHtJbnRlcnBvbGF0ZWRTaXplfSBmcm9tICcuLi8uLi9zeW1ib2wvc3ltYm9sX3NpemUuanMnO1xuXG5leHBvcnQgdHlwZSBTeW1ib2xJY29uVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9pc19zaXplX3pvb21fY29uc3RhbnQnOiBVbmlmb3JtMWksXG4gICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogVW5pZm9ybTFpLFxuICAgICd1X3NpemVfdCc6IFVuaWZvcm0xZixcbiAgICAndV9zaXplJzogVW5pZm9ybTFmLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBVbmlmb3JtMWYsXG4gICAgJ3Vfcm90YXRlX3N5bWJvbCc6IFVuaWZvcm0xaSxcbiAgICAndV9hc3BlY3RfcmF0aW8nOiBVbmlmb3JtMWYsXG4gICAgJ3VfZmFkZV9jaGFuZ2UnOiBVbmlmb3JtMWYsXG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2xhYmVsX3BsYW5lX21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9jb29yZF9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfaXNfdGV4dCc6IFVuaWZvcm0xaSxcbiAgICAndV9waXRjaF93aXRoX21hcCc6IFVuaWZvcm0xaSxcbiAgICAndV90ZXhzaXplJzogVW5pZm9ybTJmLFxuICAgICd1X3RpbGVfaWQnOiBVbmlmb3JtM2YsXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogVW5pZm9ybTFmLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X21lcmNfY2VudGVyJzogVW5pZm9ybTJmLFxuICAgICd1X2NhbWVyYV9mb3J3YXJkJzogVW5pZm9ybTNmLFxuICAgICd1X3RpbGVfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X3VwX3ZlY3Rvcic6IFVuaWZvcm0zZixcbiAgICAndV9lY2VmX29yaWdpbic6IFVuaWZvcm0zZixcbiAgICAndV90ZXh0dXJlJzogVW5pZm9ybTFpXG58fTtcblxuZXhwb3J0IHR5cGUgU3ltYm9sU0RGVW5pZm9ybXNUeXBlID0ge3xcbiAgICAndV9pc19zaXplX3pvb21fY29uc3RhbnQnOiBVbmlmb3JtMWksXG4gICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogVW5pZm9ybTFpLFxuICAgICd1X3NpemVfdCc6IFVuaWZvcm0xZixcbiAgICAndV9zaXplJzogVW5pZm9ybTFmLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBVbmlmb3JtMWYsXG4gICAgJ3Vfcm90YXRlX3N5bWJvbCc6IFVuaWZvcm0xaSxcbiAgICAndV9hc3BlY3RfcmF0aW8nOiBVbmlmb3JtMWYsXG4gICAgJ3VfZmFkZV9jaGFuZ2UnOiBVbmlmb3JtMWYsXG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2xhYmVsX3BsYW5lX21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9jb29yZF9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfaXNfdGV4dCc6IFVuaWZvcm0xaSxcbiAgICAndV9waXRjaF93aXRoX21hcCc6IFVuaWZvcm0xaSxcbiAgICAndV90ZXhzaXplJzogVW5pZm9ybTJmLFxuICAgICd1X3RleHR1cmUnOiBVbmlmb3JtMWksXG4gICAgJ3VfZ2FtbWFfc2NhbGUnOiBVbmlmb3JtMWYsXG4gICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogVW5pZm9ybTFmLFxuICAgICd1X3RpbGVfaWQnOiBVbmlmb3JtM2YsXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogVW5pZm9ybTFmLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X21lcmNfY2VudGVyJzogVW5pZm9ybTJmLFxuICAgICd1X2NhbWVyYV9mb3J3YXJkJzogVW5pZm9ybTNmLFxuICAgICd1X3RpbGVfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X3VwX3ZlY3Rvcic6IFVuaWZvcm0zZixcbiAgICAndV9lY2VmX29yaWdpbic6IFVuaWZvcm0zZixcbiAgICAndV9pc19oYWxvJzogVW5pZm9ybTFpXG58fTtcblxuZXhwb3J0IHR5cGUgc3ltYm9sVGV4dEFuZEljb25Vbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X2lzX3NpemVfem9vbV9jb25zdGFudCc6IFVuaWZvcm0xaSxcbiAgICAndV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQnOiBVbmlmb3JtMWksXG4gICAgJ3Vfc2l6ZV90JzogVW5pZm9ybTFmLFxuICAgICd1X3NpemUnOiBVbmlmb3JtMWYsXG4gICAgJ3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSc6IFVuaWZvcm0xZixcbiAgICAndV9yb3RhdGVfc3ltYm9sJzogVW5pZm9ybTFpLFxuICAgICd1X2FzcGVjdF9yYXRpbyc6IFVuaWZvcm0xZixcbiAgICAndV9mYWRlX2NoYW5nZSc6IFVuaWZvcm0xZixcbiAgICAndV9tYXRyaXgnOiBVbmlmb3JtTWF0cml4NGYsXG4gICAgJ3VfbGFiZWxfcGxhbmVfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X2Nvb3JkX21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9pc190ZXh0JzogVW5pZm9ybTFpLFxuICAgICd1X3BpdGNoX3dpdGhfbWFwJzogVW5pZm9ybTFpLFxuICAgICd1X3RleHNpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGV4c2l6ZV9pY29uJzogVW5pZm9ybTJmLFxuICAgICd1X3RleHR1cmUnOiBVbmlmb3JtMWksXG4gICAgJ3VfdGV4dHVyZV9pY29uJzogVW5pZm9ybTFpLFxuICAgICd1X2dhbW1hX3NjYWxlJzogVW5pZm9ybTFmLFxuICAgICd1X2RldmljZV9waXhlbF9yYXRpbyc6IFVuaWZvcm0xZixcbiAgICAndV9pc19oYWxvJzogVW5pZm9ybTFpXG58fTtcblxuZXhwb3J0IHR5cGUgU3ltYm9sRGVmaW5lc1R5cGUgPSAnUElUQ0hfV0lUSF9NQVBfVEVSUkFJTic7XG5cbmNvbnN0IHN5bWJvbEljb25Vbmlmb3JtcyA9IChjb250ZXh0OiBDb250ZXh0KTogU3ltYm9sSWNvblVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X2lzX3NpemVfem9vbV9jb25zdGFudCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9zaXplX3QnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3NpemUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3JvdGF0ZV9zeW1ib2wnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X2FzcGVjdF9yYXRpbyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZmFkZV9jaGFuZ2UnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfbGFiZWxfcGxhbmVfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9jb29yZF9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2lzX3RleHQnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X3BpdGNoX3dpdGhfbWFwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV90aWxlX2lkJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV96b29tX3RyYW5zaXRpb24nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2ludl9yb3RfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9tZXJjX2NlbnRlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfY2FtZXJhX2ZvcndhcmQnOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxuICAgICd1X3RpbGVfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV91cF92ZWN0b3InOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxuICAgICd1X2VjZWZfb3JpZ2luJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV90ZXh0dXJlJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KVxufSk7XG5cbmNvbnN0IHN5bWJvbFNERlVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBTeW1ib2xTREZVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9pc19zaXplX3pvb21fY29uc3RhbnQnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3Vfc2l6ZV90JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9zaXplJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9yb3RhdGVfc3ltYm9sJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9hc3BlY3RfcmF0aW8nOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2ZhZGVfY2hhbmdlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2xhYmVsX3BsYW5lX21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfY29vcmRfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9pc190ZXh0JzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9waXRjaF93aXRoX21hcCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfdGV4c2l6ZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfdGV4dHVyZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfZ2FtbWFfc2NhbGUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2RldmljZV9waXhlbF9yYXRpbyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfdGlsZV9pZCc6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3Vfem9vbV90cmFuc2l0aW9uJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9pbnZfcm90X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfbWVyY19jZW50ZXInOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X2NhbWVyYV9mb3J3YXJkJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV90aWxlX21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfdXBfdmVjdG9yJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9lY2VmX29yaWdpbic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfaXNfaGFsbyc6IG5ldyBVbmlmb3JtMWkoY29udGV4dClcbn0pO1xuXG5jb25zdCBzeW1ib2xUZXh0QW5kSWNvblVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBzeW1ib2xUZXh0QW5kSWNvblVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X2lzX3NpemVfem9vbV9jb25zdGFudCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV9zaXplX3QnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3NpemUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3JvdGF0ZV9zeW1ib2wnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X2FzcGVjdF9yYXRpbyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfZmFkZV9jaGFuZ2UnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfbGFiZWxfcGxhbmVfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9jb29yZF9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X2lzX3RleHQnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X3BpdGNoX3dpdGhfbWFwJzogbmV3IFVuaWZvcm0xaShjb250ZXh0KSxcbiAgICAndV90ZXhzaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV90ZXhzaXplX2ljb24nOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X3RleHR1cmUnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X3RleHR1cmVfaWNvbic6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfZ2FtbWFfc2NhbGUnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2RldmljZV9waXhlbF9yYXRpbyc6IG5ldyBVbmlmb3JtMWYoY29udGV4dCksXG4gICAgJ3VfaXNfaGFsbyc6IG5ldyBVbmlmb3JtMWkoY29udGV4dClcbn0pO1xuXG5jb25zdCBpZGVudGl0eU1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG5cbmNvbnN0IHN5bWJvbEljb25Vbmlmb3JtVmFsdWVzID0gKFxuICAgIGZ1bmN0aW9uVHlwZTogc3RyaW5nLFxuICAgIHNpemU6ID9JbnRlcnBvbGF0ZWRTaXplLFxuICAgIHJvdGF0ZUluU2hhZGVyOiBib29sZWFuLFxuICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbixcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIGxhYmVsUGxhbmVNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBnbENvb3JkTWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgaXNUZXh0OiBib29sZWFuLFxuICAgIHRleFNpemU6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQsXG4gICAgem9vbVRyYW5zaXRpb246IG51bWJlcixcbiAgICBtZXJjYXRvckNlbnRlcjogW251bWJlciwgbnVtYmVyXSxcbiAgICBpbnZNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICB1cFZlY3RvcjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHByb2plY3Rpb246IFByb2plY3Rpb25cbik6IFVuaWZvcm1WYWx1ZXM8U3ltYm9sSWNvblVuaWZvcm1zVHlwZT4gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuXG4gICAgY29uc3QgdmFsdWVzID0ge1xuICAgICAgICAndV9pc19zaXplX3pvb21fY29uc3RhbnQnOiArKGZ1bmN0aW9uVHlwZSA9PT0gJ2NvbnN0YW50JyB8fCBmdW5jdGlvblR5cGUgPT09ICdzb3VyY2UnKSxcbiAgICAgICAgJ3VfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50JzogKyhmdW5jdGlvblR5cGUgPT09ICdjb25zdGFudCcgfHwgZnVuY3Rpb25UeXBlID09PSAnY2FtZXJhJyksXG4gICAgICAgICd1X3NpemVfdCc6IHNpemUgPyBzaXplLnVTaXplVCA6IDAsXG4gICAgICAgICd1X3NpemUnOiBzaXplID8gc2l6ZS51U2l6ZSA6IDAsXG4gICAgICAgICd1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UnOiB0cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSxcbiAgICAgICAgJ3Vfcm90YXRlX3N5bWJvbCc6ICtyb3RhdGVJblNoYWRlcixcbiAgICAgICAgJ3VfYXNwZWN0X3JhdGlvJzogdHJhbnNmb3JtLndpZHRoIC8gdHJhbnNmb3JtLmhlaWdodCxcbiAgICAgICAgJ3VfZmFkZV9jaGFuZ2UnOiBwYWludGVyLm9wdGlvbnMuZmFkZUR1cmF0aW9uID8gcGFpbnRlci5zeW1ib2xGYWRlQ2hhbmdlIDogMSxcbiAgICAgICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICAgICAndV9sYWJlbF9wbGFuZV9tYXRyaXgnOiBsYWJlbFBsYW5lTWF0cml4LFxuICAgICAgICAndV9jb29yZF9tYXRyaXgnOiBnbENvb3JkTWF0cml4LFxuICAgICAgICAndV9pc190ZXh0JzogK2lzVGV4dCxcbiAgICAgICAgJ3VfcGl0Y2hfd2l0aF9tYXAnOiArcGl0Y2hXaXRoTWFwLFxuICAgICAgICAndV90ZXhzaXplJzogdGV4U2l6ZSxcbiAgICAgICAgJ3VfdGV4dHVyZSc6IDAsXG4gICAgICAgICd1X3RpbGVfaWQnOiBbMCwgMCwgMF0sXG4gICAgICAgICd1X3pvb21fdHJhbnNpdGlvbic6IDAsXG4gICAgICAgICd1X2ludl9yb3RfbWF0cml4JzogaWRlbnRpdHlNYXRyaXgsXG4gICAgICAgICd1X21lcmNfY2VudGVyJzogWzAsIDBdLFxuICAgICAgICAndV9jYW1lcmFfZm9yd2FyZCc6IFswLCAwLCAwXSxcbiAgICAgICAgJ3VfZWNlZl9vcmlnaW4nOiBbMCwgMCwgMF0sXG4gICAgICAgICd1X3RpbGVfbWF0cml4JzogaWRlbnRpdHlNYXRyaXgsXG4gICAgICAgICd1X3VwX3ZlY3Rvcic6IFswLCAtMSwgMF1cbiAgICB9O1xuXG4gICAgaWYgKHByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICB2YWx1ZXNbJ3VfdGlsZV9pZCddID0gW2Nvb3JkLmNhbm9uaWNhbC54LCBjb29yZC5jYW5vbmljYWwueSwgMSA8PCBjb29yZC5jYW5vbmljYWwuel07XG4gICAgICAgIHZhbHVlc1sndV96b29tX3RyYW5zaXRpb24nXSA9IHpvb21UcmFuc2l0aW9uO1xuICAgICAgICB2YWx1ZXNbJ3VfaW52X3JvdF9tYXRyaXgnXSA9IGludk1hdHJpeDtcbiAgICAgICAgdmFsdWVzWyd1X21lcmNfY2VudGVyJ10gPSBtZXJjYXRvckNlbnRlcjtcbiAgICAgICAgdmFsdWVzWyd1X2NhbWVyYV9mb3J3YXJkJ10gPSAoKHRyYW5zZm9ybS5fY2FtZXJhLmZvcndhcmQoKTogYW55KTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdKTtcbiAgICAgICAgdmFsdWVzWyd1X2VjZWZfb3JpZ2luJ10gPSBnbG9iZUVDRUZPcmlnaW4odHJhbnNmb3JtLmdsb2JlTWF0cml4LCBjb29yZC50b1Vud3JhcHBlZCgpKTtcbiAgICAgICAgdmFsdWVzWyd1X3RpbGVfbWF0cml4J10gPSBGbG9hdDMyQXJyYXkuZnJvbSh0cmFuc2Zvcm0uZ2xvYmVNYXRyaXgpO1xuICAgICAgICB2YWx1ZXNbJ3VfdXBfdmVjdG9yJ10gPSB1cFZlY3RvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzO1xufTtcblxuY29uc3Qgc3ltYm9sU0RGVW5pZm9ybVZhbHVlcyA9IChcbiAgICBmdW5jdGlvblR5cGU6IHN0cmluZyxcbiAgICBzaXplOiA/SW50ZXJwb2xhdGVkU2l6ZSxcbiAgICByb3RhdGVJblNoYWRlcjogYm9vbGVhbixcbiAgICBwaXRjaFdpdGhNYXA6IGJvb2xlYW4sXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBsYWJlbFBsYW5lTWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgZ2xDb29yZE1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIGlzVGV4dDogYm9vbGVhbixcbiAgICB0ZXhTaXplOiBbbnVtYmVyLCBudW1iZXJdLFxuICAgIGlzSGFsbzogYm9vbGVhbixcbiAgICBjb29yZDogT3ZlcnNjYWxlZFRpbGVJRCxcbiAgICB6b29tVHJhbnNpdGlvbjogbnVtYmVyLFxuICAgIG1lcmNhdG9yQ2VudGVyOiBbbnVtYmVyLCBudW1iZXJdLFxuICAgIGludk1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIHVwVmVjdG9yOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgcHJvamVjdGlvbjogUHJvamVjdGlvblxuKTogVW5pZm9ybVZhbHVlczxTeW1ib2xTREZVbmlmb3Jtc1R5cGU+ID0+IHtcbiAgICByZXR1cm4gZXh0ZW5kKHN5bWJvbEljb25Vbmlmb3JtVmFsdWVzKGZ1bmN0aW9uVHlwZSwgc2l6ZSwgcm90YXRlSW5TaGFkZXIsXG4gICAgICAgIHBpdGNoV2l0aE1hcCwgcGFpbnRlciwgbWF0cml4LCBsYWJlbFBsYW5lTWF0cml4LCBnbENvb3JkTWF0cml4LCBpc1RleHQsXG4gICAgICAgIHRleFNpemUsIGNvb3JkLCB6b29tVHJhbnNpdGlvbiwgbWVyY2F0b3JDZW50ZXIsIGludk1hdHJpeCwgdXBWZWN0b3IsIHByb2plY3Rpb24pLCB7XG4gICAgICAgICd1X2dhbW1hX3NjYWxlJzogcGl0Y2hXaXRoTWFwID8gcGFpbnRlci50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSAqIE1hdGguY29zKHBhaW50ZXIudGVycmFpbiA/IDAgOiBwYWludGVyLnRyYW5zZm9ybS5fcGl0Y2gpIDogMSxcbiAgICAgICAgJ3VfZGV2aWNlX3BpeGVsX3JhdGlvJzogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLFxuICAgICAgICAndV9pc19oYWxvJzogK2lzSGFsb1xuICAgIH0pO1xufTtcblxuY29uc3Qgc3ltYm9sVGV4dEFuZEljb25Vbmlmb3JtVmFsdWVzID0gKFxuICAgIGZ1bmN0aW9uVHlwZTogc3RyaW5nLFxuICAgIHNpemU6ID9JbnRlcnBvbGF0ZWRTaXplLFxuICAgIHJvdGF0ZUluU2hhZGVyOiBib29sZWFuLFxuICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbixcbiAgICBwYWludGVyOiBQYWludGVyLFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIGxhYmVsUGxhbmVNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBnbENvb3JkTWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgdGV4U2l6ZVNERjogW251bWJlciwgbnVtYmVyXSxcbiAgICB0ZXhTaXplSWNvbjogW251bWJlciwgbnVtYmVyXSxcbiAgICBjb29yZDogT3ZlcnNjYWxlZFRpbGVJRCxcbiAgICB6b29tVHJhbnNpdGlvbjogbnVtYmVyLFxuICAgIG1lcmNhdG9yQ2VudGVyOiBbbnVtYmVyLCBudW1iZXJdLFxuICAgIGludk1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIHVwVmVjdG9yOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgcHJvamVjdGlvbjogUHJvamVjdGlvblxuKTogVW5pZm9ybVZhbHVlczxTeW1ib2xJY29uVW5pZm9ybXNUeXBlPiA9PiB7XG4gICAgcmV0dXJuIGV4dGVuZChzeW1ib2xTREZVbmlmb3JtVmFsdWVzKGZ1bmN0aW9uVHlwZSwgc2l6ZSwgcm90YXRlSW5TaGFkZXIsXG4gICAgICAgIHBpdGNoV2l0aE1hcCwgcGFpbnRlciwgbWF0cml4LCBsYWJlbFBsYW5lTWF0cml4LCBnbENvb3JkTWF0cml4LCB0cnVlLCB0ZXhTaXplU0RGLFxuICAgICAgICB0cnVlLCBjb29yZCwgem9vbVRyYW5zaXRpb24sIG1lcmNhdG9yQ2VudGVyLCBpbnZNYXRyaXgsIHVwVmVjdG9yLCBwcm9qZWN0aW9uKSwge1xuICAgICAgICAndV90ZXhzaXplX2ljb24nOiB0ZXhTaXplSWNvbixcbiAgICAgICAgJ3VfdGV4dHVyZV9pY29uJzogMVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHtzeW1ib2xJY29uVW5pZm9ybXMsIHN5bWJvbFNERlVuaWZvcm1zLCBzeW1ib2xJY29uVW5pZm9ybVZhbHVlcywgc3ltYm9sU0RGVW5pZm9ybVZhbHVlcywgc3ltYm9sVGV4dEFuZEljb25Vbmlmb3JtVmFsdWVzLCBzeW1ib2xUZXh0QW5kSWNvblVuaWZvcm1zfTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7YmdQYXR0ZXJuVW5pZm9ybVZhbHVlc30gZnJvbSAnLi9wYXR0ZXJuLmpzJztcbmltcG9ydCB7XG4gICAgVW5pZm9ybTFpLFxuICAgIFVuaWZvcm0xZixcbiAgICBVbmlmb3JtMmYsXG4gICAgVW5pZm9ybUNvbG9yLFxuICAgIFVuaWZvcm1NYXRyaXg0ZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHtleHRlbmR9IGZyb20gJy4uLy4uL3V0aWwvdXRpbC5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vLi4vZ2wvY29udGV4dC5qcyc7XG5pbXBvcnQgdHlwZSBDb2xvciBmcm9tICcuLi8uLi9zdHlsZS1zcGVjL3V0aWwvY29sb3IuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uLy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB0eXBlIFJlc29sdmVkSW1hZ2UgZnJvbSAnLi4vLi4vc3R5bGUtc3BlYy9leHByZXNzaW9uL3R5cGVzL3Jlc29sdmVkX2ltYWdlLmpzJztcblxuZXhwb3J0IHR5cGUgQmFja2dyb3VuZFVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X29wYWNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfY29sb3InOiBVbmlmb3JtQ29sb3Jcbnx9O1xuXG5leHBvcnQgdHlwZSBCYWNrZ3JvdW5kUGF0dGVyblVuaWZvcm1zVHlwZSA9IHt8XG4gICAgJ3VfbWF0cml4JzogVW5pZm9ybU1hdHJpeDRmLFxuICAgICd1X29wYWNpdHknOiBVbmlmb3JtMWYsXG4gICAgLy8gcGF0dGVybiB1bmlmb3JtczpcbiAgICAndV9pbWFnZSc6IFVuaWZvcm0xaSxcbiAgICAndV9wYXR0ZXJuX3RsJzogVW5pZm9ybTJmLFxuICAgICd1X3BhdHRlcm5fYnInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGV4c2l6ZSc6IFVuaWZvcm0yZixcbiAgICAndV9wYXR0ZXJuX3NpemUnOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfdXBwZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBVbmlmb3JtMmYsXG4gICAgJ3VfdGlsZV91bml0c190b19waXhlbHMnOiBVbmlmb3JtMWZcbnx9O1xuXG5jb25zdCBiYWNrZ3JvdW5kVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IEJhY2tncm91bmRVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X29wYWNpdHknOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X2NvbG9yJzogbmV3IFVuaWZvcm1Db2xvcihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IEJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4JzogbmV3IFVuaWZvcm1NYXRyaXg0Zihjb250ZXh0KSxcbiAgICAndV9vcGFjaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9pbWFnZSc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgJ3VfcGF0dGVybl90bCc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfcGF0dGVybl9icic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfdGV4c2l6ZSc6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfcGF0dGVybl9zaXplJzogbmV3IFVuaWZvcm0yZihjb250ZXh0KSxcbiAgICAndV9waXhlbF9jb29yZF91cHBlcic6IG5ldyBVbmlmb3JtMmYoY29udGV4dCksXG4gICAgJ3VfcGl4ZWxfY29vcmRfbG93ZXInOiBuZXcgVW5pZm9ybTJmKGNvbnRleHQpLFxuICAgICd1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KVxufSk7XG5cbmNvbnN0IGJhY2tncm91bmRVbmlmb3JtVmFsdWVzID0gKFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIG9wYWNpdHk6IG51bWJlcixcbiAgICBjb2xvcjogQ29sb3Jcbik6IFVuaWZvcm1WYWx1ZXM8QmFja2dyb3VuZFVuaWZvcm1zVHlwZT4gPT4gKHtcbiAgICAndV9tYXRyaXgnOiBtYXRyaXgsXG4gICAgJ3Vfb3BhY2l0eSc6IG9wYWNpdHksXG4gICAgJ3VfY29sb3InOiBjb2xvclxufSk7XG5cbmNvbnN0IGJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybVZhbHVlcyA9IChcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBvcGFjaXR5OiBudW1iZXIsXG4gICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICBpbWFnZTogUmVzb2x2ZWRJbWFnZSxcbiAgICB0aWxlOiB7dGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCB0aWxlU2l6ZTogbnVtYmVyfVxuKTogVW5pZm9ybVZhbHVlczxCYWNrZ3JvdW5kUGF0dGVyblVuaWZvcm1zVHlwZT4gPT4gZXh0ZW5kKFxuICAgIGJnUGF0dGVyblVuaWZvcm1WYWx1ZXMoaW1hZ2UsIHBhaW50ZXIsIHRpbGUpLFxuICAgIHtcbiAgICAgICAgJ3VfbWF0cml4JzogbWF0cml4LFxuICAgICAgICAndV9vcGFjaXR5Jzogb3BhY2l0eVxuICAgIH1cbik7XG5cbmV4cG9ydCB7XG4gICAgYmFja2dyb3VuZFVuaWZvcm1zLFxuICAgIGJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybXMsXG4gICAgYmFja2dyb3VuZFVuaWZvcm1WYWx1ZXMsXG4gICAgYmFja2dyb3VuZFBhdHRlcm5Vbmlmb3JtVmFsdWVzXG59O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUge0NpcmNsZURlZmluZXNUeXBlfSBmcm9tICcuL2NpcmNsZV9wcm9ncmFtLmpzJztcbmltcG9ydCB0eXBlIHtTeW1ib2xEZWZpbmVzVHlwZX0gZnJvbSAnLi9zeW1ib2xfcHJvZ3JhbS5qcyc7XG5pbXBvcnQgdHlwZSB7TGluZURlZmluZXNUeXBlfSBmcm9tICcuL2xpbmVfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2ZpbGxFeHRydXNpb25Vbmlmb3JtcywgZmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3Jtc30gZnJvbSAnLi9maWxsX2V4dHJ1c2lvbl9wcm9ncmFtLmpzJztcbmltcG9ydCB7ZmlsbFVuaWZvcm1zLCBmaWxsUGF0dGVyblVuaWZvcm1zLCBmaWxsT3V0bGluZVVuaWZvcm1zLCBmaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3Jtc30gZnJvbSAnLi9maWxsX3Byb2dyYW0uanMnO1xuaW1wb3J0IHtjaXJjbGVVbmlmb3Jtc30gZnJvbSAnLi9jaXJjbGVfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2NvbGxpc2lvblVuaWZvcm1zLCBjb2xsaXNpb25DaXJjbGVVbmlmb3Jtc30gZnJvbSAnLi9jb2xsaXNpb25fcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2RlYnVnVW5pZm9ybXN9IGZyb20gJy4vZGVidWdfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2NsaXBwaW5nTWFza1VuaWZvcm1zfSBmcm9tICcuL2NsaXBwaW5nX21hc2tfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2hlYXRtYXBVbmlmb3JtcywgaGVhdG1hcFRleHR1cmVVbmlmb3Jtc30gZnJvbSAnLi9oZWF0bWFwX3Byb2dyYW0uanMnO1xuaW1wb3J0IHtoaWxsc2hhZGVVbmlmb3JtcywgaGlsbHNoYWRlUHJlcGFyZVVuaWZvcm1zfSBmcm9tICcuL2hpbGxzaGFkZV9wcm9ncmFtLmpzJztcbmltcG9ydCB7bGluZVVuaWZvcm1zLCBsaW5lUGF0dGVyblVuaWZvcm1zfSBmcm9tICcuL2xpbmVfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge3Jhc3RlclVuaWZvcm1zfSBmcm9tICcuL3Jhc3Rlcl9wcm9ncmFtLmpzJztcbmltcG9ydCB7c3ltYm9sSWNvblVuaWZvcm1zLCBzeW1ib2xTREZVbmlmb3Jtcywgc3ltYm9sVGV4dEFuZEljb25Vbmlmb3Jtc30gZnJvbSAnLi9zeW1ib2xfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge2JhY2tncm91bmRVbmlmb3JtcywgYmFja2dyb3VuZFBhdHRlcm5Vbmlmb3Jtc30gZnJvbSAnLi9iYWNrZ3JvdW5kX3Byb2dyYW0uanMnO1xuaW1wb3J0IHt0ZXJyYWluUmFzdGVyVW5pZm9ybXN9IGZyb20gJy4uLy4uL3RlcnJhaW4vdGVycmFpbl9yYXN0ZXJfcHJvZ3JhbS5qcyc7XG5pbXBvcnQge3NreWJveFVuaWZvcm1zLCBza3lib3hHcmFkaWVudFVuaWZvcm1zfSBmcm9tICcuL3NreWJveF9wcm9ncmFtLmpzJztcbmltcG9ydCB7c2t5Ym94Q2FwdHVyZVVuaWZvcm1zfSBmcm9tICcuL3NreWJveF9jYXB0dXJlX3Byb2dyYW0uanMnO1xuaW1wb3J0IHtnbG9iZVJhc3RlclVuaWZvcm1zLCBhdG1vc3BoZXJlVW5pZm9ybXN9IGZyb20gJy4uLy4uL3RlcnJhaW4vZ2xvYmVfcmFzdGVyX3Byb2dyYW0uanMnO1xuaW1wb3J0IHR5cGUge0hlYXRtYXBEZWZpbmVzVHlwZX0gZnJvbSAnLi9oZWF0bWFwX3Byb2dyYW0uanMnO1xuaW1wb3J0IHR5cGUge0RlYnVnRGVmaW5lc1R5cGV9IGZyb20gJy4vZGVidWdfcHJvZ3JhbS5qcyc7XG5pbXBvcnQgdHlwZSB7R2xvYmVEZWZpbmVzVHlwZX0gZnJvbSAnLi4vLi4vdGVycmFpbi9nbG9iZV9yYXN0ZXJfcHJvZ3JhbS5qcyc7XG5cbmV4cG9ydCB0eXBlIER5bmFtaWNEZWZpbmVzVHlwZSA9IENpcmNsZURlZmluZXNUeXBlIHwgU3ltYm9sRGVmaW5lc1R5cGUgfCBMaW5lRGVmaW5lc1R5cGUgfCBIZWF0bWFwRGVmaW5lc1R5cGUgfCBEZWJ1Z0RlZmluZXNUeXBlIHwgR2xvYmVEZWZpbmVzVHlwZTtcblxuZXhwb3J0IGNvbnN0IHByb2dyYW1Vbmlmb3JtcyA9IHtcbiAgICBmaWxsRXh0cnVzaW9uOiBmaWxsRXh0cnVzaW9uVW5pZm9ybXMsXG4gICAgZmlsbEV4dHJ1c2lvblBhdHRlcm46IGZpbGxFeHRydXNpb25QYXR0ZXJuVW5pZm9ybXMsXG4gICAgZmlsbDogZmlsbFVuaWZvcm1zLFxuICAgIGZpbGxQYXR0ZXJuOiBmaWxsUGF0dGVyblVuaWZvcm1zLFxuICAgIGZpbGxPdXRsaW5lOiBmaWxsT3V0bGluZVVuaWZvcm1zLFxuICAgIGZpbGxPdXRsaW5lUGF0dGVybjogZmlsbE91dGxpbmVQYXR0ZXJuVW5pZm9ybXMsXG4gICAgY2lyY2xlOiBjaXJjbGVVbmlmb3JtcyxcbiAgICBjb2xsaXNpb25Cb3g6IGNvbGxpc2lvblVuaWZvcm1zLFxuICAgIGNvbGxpc2lvbkNpcmNsZTogY29sbGlzaW9uQ2lyY2xlVW5pZm9ybXMsXG4gICAgZGVidWc6IGRlYnVnVW5pZm9ybXMsXG4gICAgY2xpcHBpbmdNYXNrOiBjbGlwcGluZ01hc2tVbmlmb3JtcyxcbiAgICBoZWF0bWFwOiBoZWF0bWFwVW5pZm9ybXMsXG4gICAgaGVhdG1hcFRleHR1cmU6IGhlYXRtYXBUZXh0dXJlVW5pZm9ybXMsXG4gICAgaGlsbHNoYWRlOiBoaWxsc2hhZGVVbmlmb3JtcyxcbiAgICBoaWxsc2hhZGVQcmVwYXJlOiBoaWxsc2hhZGVQcmVwYXJlVW5pZm9ybXMsXG4gICAgbGluZTogbGluZVVuaWZvcm1zLFxuICAgIGxpbmVQYXR0ZXJuOiBsaW5lUGF0dGVyblVuaWZvcm1zLFxuICAgIHJhc3RlcjogcmFzdGVyVW5pZm9ybXMsXG4gICAgc3ltYm9sSWNvbjogc3ltYm9sSWNvblVuaWZvcm1zLFxuICAgIHN5bWJvbFNERjogc3ltYm9sU0RGVW5pZm9ybXMsXG4gICAgc3ltYm9sVGV4dEFuZEljb246IHN5bWJvbFRleHRBbmRJY29uVW5pZm9ybXMsXG4gICAgYmFja2dyb3VuZDogYmFja2dyb3VuZFVuaWZvcm1zLFxuICAgIGJhY2tncm91bmRQYXR0ZXJuOiBiYWNrZ3JvdW5kUGF0dGVyblVuaWZvcm1zLFxuICAgIHRlcnJhaW5SYXN0ZXI6IHRlcnJhaW5SYXN0ZXJVbmlmb3JtcyxcbiAgICB0ZXJyYWluRGVwdGg6IHRlcnJhaW5SYXN0ZXJVbmlmb3JtcyxcbiAgICBza3lib3g6IHNreWJveFVuaWZvcm1zLFxuICAgIHNreWJveEdyYWRpZW50OiBza3lib3hHcmFkaWVudFVuaWZvcm1zLFxuICAgIHNreWJveENhcHR1cmU6IHNreWJveENhcHR1cmVVbmlmb3JtcyxcbiAgICBnbG9iZVJhc3RlcjogZ2xvYmVSYXN0ZXJVbmlmb3JtcyxcbiAgICBnbG9iZUF0bW9zcGhlcmU6IGF0bW9zcGhlcmVVbmlmb3Jtcyxcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIFVuaWZvcm1NYXRyaXg0ZixcbiAgICBVbmlmb3JtMWksXG4gICAgVW5pZm9ybTNmLFxuICAgIFVuaWZvcm0xZlxufSBmcm9tICcuLi91bmlmb3JtX2JpbmRpbmcuanMnO1xuaW1wb3J0IHtkZWdUb1JhZH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcblxuaW1wb3J0IHR5cGUge1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uLy4uL2dsL2NvbnRleHQuanMnO1xuXG5leHBvcnQgdHlwZSBTa3lib3hVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9zdW5fZGlyZWN0aW9uJzogVW5pZm9ybTNmLFxuICAgICd1X2N1YmVtYXAnOiBVbmlmb3JtMWksXG4gICAgJ3Vfb3BhY2l0eSc6IFVuaWZvcm0xZixcbiAgICAndV90ZW1wb3JhbF9vZmZzZXQnOiBVbmlmb3JtMWZcbnx9O1xuXG5leHBvcnQgdHlwZSBTa3lib3hHcmFkaWVudGxVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeCc6IFVuaWZvcm1NYXRyaXg0ZixcbiAgICAndV9jb2xvcl9yYW1wJzogVW5pZm9ybTFpLFxuICAgICd1X2NlbnRlcl9kaXJlY3Rpb24nOiBVbmlmb3JtM2YsXG4gICAgJ3VfcmFkaXVzJzogVW5pZm9ybTFmLFxuICAgICd1X29wYWNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfdGVtcG9yYWxfb2Zmc2V0JzogVW5pZm9ybTFmLFxufH07XG5cbmNvbnN0IHNreWJveFVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBTa3lib3hVbmlmb3Jtc1R5cGUgPT4gKHtcbiAgICAndV9tYXRyaXgnOiBuZXcgVW5pZm9ybU1hdHJpeDRmKGNvbnRleHQpLFxuICAgICd1X3N1bl9kaXJlY3Rpb24nOiBuZXcgVW5pZm9ybTNmKGNvbnRleHQpLFxuICAgICd1X2N1YmVtYXAnOiBuZXcgVW5pZm9ybTFpKGNvbnRleHQpLFxuICAgICd1X29wYWNpdHknOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpLFxuICAgICd1X3RlbXBvcmFsX29mZnNldCc6IG5ldyBVbmlmb3JtMWYoY29udGV4dClcblxufSk7XG5cbmNvbnN0IHNreWJveFVuaWZvcm1WYWx1ZXMgPSAoXG4gICAgbWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgc3VuRGlyZWN0aW9uOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgY3ViZW1hcDogbnVtYmVyLFxuICAgIG9wYWNpdHk6IG51bWJlcixcbiAgICB0ZW1wb3JhbE9mZnNldDogbnVtYmVyXG4pOiBVbmlmb3JtVmFsdWVzPFNreWJveFVuaWZvcm1zVHlwZT4gPT4gKHtcbiAgICAndV9tYXRyaXgnOiBtYXRyaXgsXG4gICAgJ3Vfc3VuX2RpcmVjdGlvbic6IHN1bkRpcmVjdGlvbixcbiAgICAndV9jdWJlbWFwJzogY3ViZW1hcCxcbiAgICAndV9vcGFjaXR5Jzogb3BhY2l0eSxcbiAgICAndV90ZW1wb3JhbF9vZmZzZXQnOiB0ZW1wb3JhbE9mZnNldFxufSk7XG5cbmNvbnN0IHNreWJveEdyYWRpZW50VW5pZm9ybXMgPSAoY29udGV4dDogQ29udGV4dCk6IFNreWJveEdyYWRpZW50bFVuaWZvcm1zVHlwZSA9PiAoe1xuICAgICd1X21hdHJpeCc6IG5ldyBVbmlmb3JtTWF0cml4NGYoY29udGV4dCksXG4gICAgJ3VfY29sb3JfcmFtcCc6IG5ldyBVbmlmb3JtMWkoY29udGV4dCksXG4gICAgLy8gcmFkaWFsIGdyYWRpZW50IHVuaWZvcm1zXG4gICAgJ3VfY2VudGVyX2RpcmVjdGlvbic6IG5ldyBVbmlmb3JtM2YoY29udGV4dCksXG4gICAgJ3VfcmFkaXVzJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9vcGFjaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV90ZW1wb3JhbF9vZmZzZXQnOiBuZXcgVW5pZm9ybTFmKGNvbnRleHQpXG59KTtcblxuY29uc3Qgc2t5Ym94R3JhZGllbnRVbmlmb3JtVmFsdWVzID0gKFxuICAgIG1hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgIGNlbnRlckRpcmVjdGlvbjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHJhZGl1czogbnVtYmVyLCAvL2RlZ3JlZXNcbiAgICBvcGFjaXR5OiBudW1iZXIsXG4gICAgdGVtcG9yYWxPZmZzZXQ6IG51bWJlclxuKTogVW5pZm9ybVZhbHVlczxTa3lib3hHcmFkaWVudGxVbmlmb3Jtc1R5cGU+ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAndV9tYXRyaXgnOiBtYXRyaXgsXG4gICAgICAgICd1X2NvbG9yX3JhbXAnOiAwLFxuICAgICAgICAndV9jZW50ZXJfZGlyZWN0aW9uJzogY2VudGVyRGlyZWN0aW9uLFxuICAgICAgICAndV9yYWRpdXMnOiBkZWdUb1JhZChyYWRpdXMpLFxuICAgICAgICAndV9vcGFjaXR5Jzogb3BhY2l0eSxcbiAgICAgICAgJ3VfdGVtcG9yYWxfb2Zmc2V0JzogdGVtcG9yYWxPZmZzZXRcbiAgICB9O1xufTtcblxuZXhwb3J0IHtcbiAgICBza3lib3hVbmlmb3JtcyxcbiAgICBza3lib3hVbmlmb3JtVmFsdWVzLFxuICAgIHNreWJveEdyYWRpZW50VW5pZm9ybXMsXG4gICAgc2t5Ym94R3JhZGllbnRVbmlmb3JtVmFsdWVzXG59O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUgQ29sb3IgZnJvbSAnLi4vLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yLmpzJztcblxuaW1wb3J0IHtcbiAgICBVbmlmb3JtTWF0cml4M2YsXG4gICAgVW5pZm9ybTFmLFxuICAgIFVuaWZvcm0zZixcbiAgICBVbmlmb3JtNGYsXG59IGZyb20gJy4uL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSB7VW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vdW5pZm9ybV9iaW5kaW5nLmpzJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vLi4vZ2wvY29udGV4dC5qcyc7XG5cbmV4cG9ydCB0eXBlIFNreWJveENhcHR1cmVVbmlmb3Jtc1R5cGUgPSB7fFxuICAgICd1X21hdHJpeF8zZic6IFVuaWZvcm1NYXRyaXgzZixcbiAgICAndV9zdW5fZGlyZWN0aW9uJzogVW5pZm9ybTNmLFxuICAgICd1X3N1bl9pbnRlbnNpdHknOiBVbmlmb3JtMWYsXG4gICAgJ3VfY29sb3JfdGludF9yJzogVW5pZm9ybTRmLFxuICAgICd1X2NvbG9yX3RpbnRfbSc6IFVuaWZvcm00ZixcbiAgICAndV9sdW1pbmFuY2UnOiBVbmlmb3JtMWYsXG58fTtcblxuY29uc3Qgc2t5Ym94Q2FwdHVyZVVuaWZvcm1zID0gKGNvbnRleHQ6IENvbnRleHQpOiBTa3lib3hDYXB0dXJlVW5pZm9ybXNUeXBlID0+ICh7XG4gICAgJ3VfbWF0cml4XzNmJzogbmV3IFVuaWZvcm1NYXRyaXgzZihjb250ZXh0KSxcbiAgICAndV9zdW5fZGlyZWN0aW9uJzogbmV3IFVuaWZvcm0zZihjb250ZXh0KSxcbiAgICAndV9zdW5faW50ZW5zaXR5JzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbiAgICAndV9jb2xvcl90aW50X3InOiBuZXcgVW5pZm9ybTRmKGNvbnRleHQpLFxuICAgICd1X2NvbG9yX3RpbnRfbSc6IG5ldyBVbmlmb3JtNGYoY29udGV4dCksXG4gICAgJ3VfbHVtaW5hbmNlJzogbmV3IFVuaWZvcm0xZihjb250ZXh0KSxcbn0pO1xuXG5jb25zdCBza3lib3hDYXB0dXJlVW5pZm9ybVZhbHVlcyA9IChcbiAgICBtYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICBzdW5EaXJlY3Rpb246IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBzdW5JbnRlbnNpdHk6IG51bWJlcixcbiAgICBhdG1vc3BoZXJlQ29sb3I6IENvbG9yLFxuICAgIGF0bW9zcGhlcmVIYWxvQ29sb3I6IENvbG9yXG4pOiBVbmlmb3JtVmFsdWVzPFNreWJveENhcHR1cmVVbmlmb3Jtc1R5cGU+ID0+ICh7XG4gICAgJ3VfbWF0cml4XzNmJzogbWF0cml4LFxuICAgICd1X3N1bl9kaXJlY3Rpb24nOiBzdW5EaXJlY3Rpb24sXG4gICAgJ3Vfc3VuX2ludGVuc2l0eSc6IHN1bkludGVuc2l0eSxcbiAgICAndV9jb2xvcl90aW50X3InOiBbXG4gICAgICAgIGF0bW9zcGhlcmVDb2xvci5yLFxuICAgICAgICBhdG1vc3BoZXJlQ29sb3IuZyxcbiAgICAgICAgYXRtb3NwaGVyZUNvbG9yLmIsXG4gICAgICAgIGF0bW9zcGhlcmVDb2xvci5hXG4gICAgXSxcbiAgICAndV9jb2xvcl90aW50X20nOiBbXG4gICAgICAgIGF0bW9zcGhlcmVIYWxvQ29sb3IucixcbiAgICAgICAgYXRtb3NwaGVyZUhhbG9Db2xvci5nLFxuICAgICAgICBhdG1vc3BoZXJlSGFsb0NvbG9yLmIsXG4gICAgICAgIGF0bW9zcGhlcmVIYWxvQ29sb3IuYVxuICAgIF0sXG4gICAgJ3VfbHVtaW5hbmNlJzogNWUtNSxcbn0pO1xuXG5leHBvcnQge1xuICAgIHNreWJveENhcHR1cmVVbmlmb3JtcyxcbiAgICBza3lib3hDYXB0dXJlVW5pZm9ybVZhbHVlcyxcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0LmpzJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZS5qcyc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUuanMnO1xuaW1wb3J0IHtjb2xsaXNpb25Vbmlmb3JtVmFsdWVzLCBjb2xsaXNpb25DaXJjbGVVbmlmb3JtVmFsdWVzfSBmcm9tICcuL3Byb2dyYW0vY29sbGlzaW9uX3Byb2dyYW0uanMnO1xuaW1wb3J0IHtRdWFkVHJpYW5nbGVBcnJheSwgQ29sbGlzaW9uQ2lyY2xlTGF5b3V0QXJyYXl9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMuanMnO1xuaW1wb3J0IHtjb2xsaXNpb25DaXJjbGVMYXlvdXR9IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9hdHRyaWJ1dGVzLmpzJztcbmltcG9ydCBTZWdtZW50VmVjdG9yIGZyb20gJy4uL2RhdGEvc2VnbWVudC5qcyc7XG5pbXBvcnQge21hdDR9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgdHlwZSBQcm9qZWN0aW9uIGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3Byb2plY3Rpb24uanMnO1xuaW1wb3J0IHtnZXRDb2xsaXNpb25EZWJ1Z1RpbGVQcm9qZWN0aW9uTWF0cml4fSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9wcm9qZWN0aW9uX3V0aWwuanMnO1xuaW1wb3J0IFZlcnRleEJ1ZmZlciBmcm9tICcuLi9nbC92ZXJ0ZXhfYnVmZmVyLmpzJztcbmltcG9ydCBJbmRleEJ1ZmZlciBmcm9tICcuLi9nbC9pbmRleF9idWZmZXIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3Q29sbGlzaW9uRGVidWc7XG5cbnR5cGUgVGlsZUJhdGNoID0ge1xuICAgIGNpcmNsZUFycmF5OiBBcnJheTxudW1iZXI+LFxuICAgIGNpcmNsZU9mZnNldDogbnVtYmVyLFxuICAgIHRyYW5zZm9ybTogRmxvYXQzMkFycmF5LFxuICAgIGludlRyYW5zZm9ybTogRmxvYXQzMkFycmF5LFxuICAgIHByb2plY3Rpb246IFByb2plY3Rpb25cbn07XG5cbmxldCBxdWFkVHJpYW5nbGVzOiA/UXVhZFRyaWFuZ2xlQXJyYXk7XG5cbmZ1bmN0aW9uIGRyYXdDb2xsaXNpb25EZWJ1ZyhwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+LCB0cmFuc2xhdGU6IFtudW1iZXIsIG51bWJlcl0sIHRyYW5zbGF0ZUFuY2hvcjogJ21hcCcgfCAndmlld3BvcnQnLCBpc1RleHQ6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2NvbGxpc2lvbkJveCcpO1xuICAgIGNvbnN0IHRpbGVCYXRjaGVzOiBBcnJheTxUaWxlQmF0Y2g+ID0gW107XG4gICAgbGV0IGNpcmNsZUNvdW50ID0gMDtcbiAgICBsZXQgY2lyY2xlT2Zmc2V0ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkID0gY29vcmRzW2ldO1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP1N5bWJvbEJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCB0aWxlTWF0cml4ID0gZ2V0Q29sbGlzaW9uRGVidWdUaWxlUHJvamVjdGlvbk1hdHJpeChjb29yZCwgYnVja2V0LCB0cik7XG5cbiAgICAgICAgbGV0IHBvc01hdHJpeCA9IHRpbGVNYXRyaXg7XG4gICAgICAgIGlmICh0cmFuc2xhdGVbMF0gIT09IDAgfHwgdHJhbnNsYXRlWzFdICE9PSAwKSB7XG4gICAgICAgICAgICBwb3NNYXRyaXggPSBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeCh0aWxlTWF0cml4LCB0aWxlLCB0cmFuc2xhdGUsIHRyYW5zbGF0ZUFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGlzVGV4dCA/IGJ1Y2tldC50ZXh0Q29sbGlzaW9uQm94IDogYnVja2V0Lmljb25Db2xsaXNpb25Cb3g7XG4gICAgICAgIC8vIEdldCBjb2xsaXNpb24gY2lyY2xlIGRhdGEgb2YgdGhpcyBidWNrZXRcbiAgICAgICAgY29uc3QgY2lyY2xlQXJyYXk6IEFycmF5PG51bWJlcj4gPSBidWNrZXQuY29sbGlzaW9uQ2lyY2xlQXJyYXk7XG4gICAgICAgIGlmIChjaXJjbGVBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGtub3cgdGhlIHByb2plY3Rpb24gbWF0cml4IHRoYXQgd2FzIHVzZWQgZm9yIHByb2plY3RpbmcgY29sbGlzaW9uIGNpcmNsZXMgdG8gdGhlIHNjcmVlbi5cbiAgICAgICAgICAgIC8vIFRoaXMgbWlnaHQgdmFyeSBiZXR3ZWVuIGJ1Y2tldHMgYXMgdGhlIHN5bWJvbCBwbGFjZW1lbnQgaXMgYSBjb250aW5vdXMgcHJvY2Vzcy4gVGhpcyBtYXRyaXggaXNcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIGZvciB0cmFuc2Zvcm1pbmcgcG9pbnRzIGZyb20gcHJldmlvdXMgc2NyZWVuIHNwYWNlIHRvIHRoZSBjdXJyZW50IG9uZVxuICAgICAgICAgICAgY29uc3QgaW52VHJhbnNmb3JtID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBvc01hdHJpeDtcblxuICAgICAgICAgICAgbWF0NC5tdWwoaW52VHJhbnNmb3JtLCBidWNrZXQucGxhY2VtZW50SW52UHJvak1hdHJpeCwgdHIuZ2xDb29yZE1hdHJpeCk7XG4gICAgICAgICAgICBtYXQ0Lm11bChpbnZUcmFuc2Zvcm0sIGludlRyYW5zZm9ybSwgYnVja2V0LnBsYWNlbWVudFZpZXdwb3J0TWF0cml4KTtcblxuICAgICAgICAgICAgdGlsZUJhdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgY2lyY2xlQXJyYXksXG4gICAgICAgICAgICAgICAgY2lyY2xlT2Zmc2V0LFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICBpbnZUcmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgcHJvamVjdGlvbjogYnVja2V0LmdldFByb2plY3Rpb24oKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNpcmNsZUNvdW50ICs9IGNpcmNsZUFycmF5Lmxlbmd0aCAvIDQ7ICAvLyA0IHZhbHVlcyBwZXIgY2lyY2xlXG4gICAgICAgICAgICBjaXJjbGVPZmZzZXQgPSBjaXJjbGVDb3VudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJ1ZmZlcnMpIGNvbnRpbnVlO1xuICAgICAgICBpZiAocGFpbnRlci50ZXJyYWluKSBwYWludGVyLnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHRpbGUsIHByb2dyYW0pO1xuICAgICAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuTElORVMsXG4gICAgICAgICAgICBEZXB0aE1vZGUuZGlzYWJsZWQsIFN0ZW5jaWxNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksXG4gICAgICAgICAgICBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICBjb2xsaXNpb25Vbmlmb3JtVmFsdWVzKHBvc01hdHJpeCwgdHIsIHRpbGUsIGJ1Y2tldC5nZXRQcm9qZWN0aW9uKCkpLFxuICAgICAgICAgICAgbGF5ZXIuaWQsIGJ1ZmZlcnMubGF5b3V0VmVydGV4QnVmZmVyLCBidWZmZXJzLmluZGV4QnVmZmVyLFxuICAgICAgICAgICAgYnVmZmVycy5zZWdtZW50cywgbnVsbCwgdHIuem9vbSwgbnVsbCxcbiAgICAgICAgICAgIFtidWZmZXJzLmNvbGxpc2lvblZlcnRleEJ1ZmZlciwgYnVmZmVycy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHRdKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzVGV4dCB8fCAhdGlsZUJhdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZW5kZXIgY29sbGlzaW9uIGNpcmNsZXNcbiAgICBjb25zdCBjaXJjbGVQcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdjb2xsaXNpb25DaXJjbGUnKTtcblxuICAgIC8vIENvbnN0cnVjdCB2ZXJ0ZXggZGF0YVxuICAgIGNvbnN0IHZlcnRleERhdGEgPSBuZXcgQ29sbGlzaW9uQ2lyY2xlTGF5b3V0QXJyYXkoKTtcbiAgICB2ZXJ0ZXhEYXRhLnJlc2l6ZShjaXJjbGVDb3VudCAqIDQpO1xuICAgIHZlcnRleERhdGEuX3RyaW0oKTtcblxuICAgIGxldCB2ZXJ0ZXhPZmZzZXQgPSAwO1xuXG4gICAgZm9yIChjb25zdCBiYXRjaCBvZiB0aWxlQmF0Y2hlcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoLmNpcmNsZUFycmF5Lmxlbmd0aCAvIDQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2lyY2xlSWR4ID0gaSAqIDQ7XG4gICAgICAgICAgICBjb25zdCB4ID0gYmF0Y2guY2lyY2xlQXJyYXlbY2lyY2xlSWR4ICsgMF07XG4gICAgICAgICAgICBjb25zdCB5ID0gYmF0Y2guY2lyY2xlQXJyYXlbY2lyY2xlSWR4ICsgMV07XG4gICAgICAgICAgICBjb25zdCByYWRpdXMgPSBiYXRjaC5jaXJjbGVBcnJheVtjaXJjbGVJZHggKyAyXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbiA9IGJhdGNoLmNpcmNsZUFycmF5W2NpcmNsZUlkeCArIDNdO1xuXG4gICAgICAgICAgICAvLyA0IGZsb2F0cyBwZXIgdmVydGV4LCA0IHZlcnRpY2VzIHBlciBxdWFkXG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhLmVtcGxhY2UodmVydGV4T2Zmc2V0KyssIHgsIHksIHJhZGl1cywgY29sbGlzaW9uLCAwKTtcbiAgICAgICAgICAgIHZlcnRleERhdGEuZW1wbGFjZSh2ZXJ0ZXhPZmZzZXQrKywgeCwgeSwgcmFkaXVzLCBjb2xsaXNpb24sIDEpO1xuICAgICAgICAgICAgdmVydGV4RGF0YS5lbXBsYWNlKHZlcnRleE9mZnNldCsrLCB4LCB5LCByYWRpdXMsIGNvbGxpc2lvbiwgMik7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhLmVtcGxhY2UodmVydGV4T2Zmc2V0KyssIHgsIHksIHJhZGl1cywgY29sbGlzaW9uLCAzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXF1YWRUcmlhbmdsZXMgfHwgcXVhZFRyaWFuZ2xlcy5sZW5ndGggPCBjaXJjbGVDb3VudCAqIDIpIHtcbiAgICAgICAgcXVhZFRyaWFuZ2xlcyA9IGNyZWF0ZVF1YWRUcmlhbmdsZXMoY2lyY2xlQ291bnQpO1xuICAgIH1cblxuICAgIGNvbnN0IGluZGV4QnVmZmVyOiBJbmRleEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlSW5kZXhCdWZmZXIocXVhZFRyaWFuZ2xlcywgdHJ1ZSk7XG4gICAgY29uc3QgdmVydGV4QnVmZmVyOiBWZXJ0ZXhCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih2ZXJ0ZXhEYXRhLCBjb2xsaXNpb25DaXJjbGVMYXlvdXQubWVtYmVycywgdHJ1ZSk7XG5cbiAgICAvLyBSZW5kZXIgYmF0Y2hlc1xuICAgIGZvciAoY29uc3QgYmF0Y2ggb2YgdGlsZUJhdGNoZXMpIHtcbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSBjb2xsaXNpb25DaXJjbGVVbmlmb3JtVmFsdWVzKGJhdGNoLnRyYW5zZm9ybSwgYmF0Y2guaW52VHJhbnNmb3JtLCB0ciwgYmF0Y2gucHJvamVjdGlvbik7XG5cbiAgICAgICAgY2lyY2xlUHJvZ3JhbS5kcmF3KFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIGdsLlRSSUFOR0xFUyxcbiAgICAgICAgICAgIERlcHRoTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgICAgIFN0ZW5jaWxNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksXG4gICAgICAgICAgICBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICB1bmlmb3JtcyxcbiAgICAgICAgICAgIGxheWVyLmlkLFxuICAgICAgICAgICAgdmVydGV4QnVmZmVyLFxuICAgICAgICAgICAgaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICBTZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwgYmF0Y2guY2lyY2xlT2Zmc2V0ICogMiwgYmF0Y2guY2lyY2xlQXJyYXkubGVuZ3RoLCBiYXRjaC5jaXJjbGVBcnJheS5sZW5ndGggLyAyKSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICB0ci56b29tKTtcbiAgICB9XG5cbiAgICB2ZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO1xuICAgIGluZGV4QnVmZmVyLmRlc3Ryb3koKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUXVhZFRyaWFuZ2xlcyhxdWFkQ291bnQ6IG51bWJlcik6IFF1YWRUcmlhbmdsZUFycmF5IHtcbiAgICBjb25zdCB0cmlDb3VudCA9IHF1YWRDb3VudCAqIDI7XG4gICAgY29uc3QgYXJyYXkgPSBuZXcgUXVhZFRyaWFuZ2xlQXJyYXkoKTtcblxuICAgIGFycmF5LnJlc2l6ZSh0cmlDb3VudCk7XG4gICAgYXJyYXkuX3RyaW0oKTtcblxuICAgIC8vIFR3byB0cmlhbmdsZXMgYW5kIDQgdmVydGljZXMgcGVyIHF1YWQuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlDb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IGkgKiA2O1xuXG4gICAgICAgIGFycmF5LnVpbnQxNltpZHggKyAwXSA9IGkgKiA0ICsgMDtcbiAgICAgICAgYXJyYXkudWludDE2W2lkeCArIDFdID0gaSAqIDQgKyAxO1xuICAgICAgICBhcnJheS51aW50MTZbaWR4ICsgMl0gPSBpICogNCArIDI7XG4gICAgICAgIGFycmF5LnVpbnQxNltpZHggKyAzXSA9IGkgKiA0ICsgMjtcbiAgICAgICAgYXJyYXkudWludDE2W2lkeCArIDRdID0gaSAqIDQgKyAzO1xuICAgICAgICBhcnJheS51aW50MTZbaWR4ICsgNV0gPSBpICogNCArIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IGRyYXdDb2xsaXNpb25EZWJ1ZyBmcm9tICcuL2RyYXdfY29sbGlzaW9uX2RlYnVnLmpzJztcblxuaW1wb3J0IFNlZ21lbnRWZWN0b3IgZnJvbSAnLi4vZGF0YS9zZWdtZW50LmpzJztcbmltcG9ydCAqIGFzIHN5bWJvbFByb2plY3Rpb24gZnJvbSAnLi4vc3ltYm9sL3Byb2plY3Rpb24uanMnO1xuaW1wb3J0ICogYXMgc3ltYm9sU2l6ZSBmcm9tICcuLi9zeW1ib2wvc3ltYm9sX3NpemUuanMnO1xuaW1wb3J0IHttYXQ0LCB2ZWMzLCB2ZWM0fSBmcm9tICdnbC1tYXRyaXgnO1xuY29uc3QgaWRlbnRpdHlNYXQ0ID0gbWF0NC5jcmVhdGUoKTtcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUuanMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlLmpzJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUuanMnO1xuaW1wb3J0IHthZGREeW5hbWljQXR0cmlidXRlc30gZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldC5qcyc7XG5pbXBvcnQge2dldEFuY2hvckFsaWdubWVudCwgV3JpdGluZ01vZGV9IGZyb20gJy4uL3N5bWJvbC9zaGFwaW5nLmpzJztcbmltcG9ydCBPTkVfRU0gZnJvbSAnLi4vc3ltYm9sL29uZV9lbS5qcyc7XG5pbXBvcnQge2V2YWx1YXRlVmFyaWFibGVPZmZzZXR9IGZyb20gJy4uL3N5bWJvbC9zeW1ib2xfbGF5b3V0LmpzJztcbmltcG9ydCBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7XG4gICAgbWVyY2F0b3JYZnJvbUxuZyxcbiAgICBtZXJjYXRvcllmcm9tTGF0XG59IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7Z2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbn0gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5cbmltcG9ydCB7XG4gICAgc3ltYm9sSWNvblVuaWZvcm1WYWx1ZXMsXG4gICAgc3ltYm9sU0RGVW5pZm9ybVZhbHVlcyxcbiAgICBzeW1ib2xUZXh0QW5kSWNvblVuaWZvcm1WYWx1ZXNcbn0gZnJvbSAnLi9wcm9ncmFtL3N5bWJvbF9wcm9ncmFtLmpzJztcbmltcG9ydCB7Z2V0U3ltYm9sVGlsZVByb2plY3Rpb25NYXRyaXh9IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3Byb2plY3Rpb25fdXRpbC5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCB0eXBlIFN5bWJvbFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvc3ltYm9sX3N0eWxlX2xheWVyLmpzJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCwge1N5bWJvbEJ1ZmZlcnN9IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQuanMnO1xuaW1wb3J0IHR5cGUgVGV4dHVyZSBmcm9tICcuLi9yZW5kZXIvdGV4dHVyZS5qcyc7XG5pbXBvcnQge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSB7U3ltYm9sU0RGVW5pZm9ybXNUeXBlfSBmcm9tICcuLi9yZW5kZXIvcHJvZ3JhbS9zeW1ib2xfcHJvZ3JhbS5qcyc7XG5pbXBvcnQgdHlwZSB7Q3Jvc3NUaWxlSUQsIFZhcmlhYmxlT2Zmc2V0fSBmcm9tICcuLi9zeW1ib2wvcGxhY2VtZW50LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd1N5bWJvbHM7XG5cbnR5cGUgU3ltYm9sVGlsZVJlbmRlclN0YXRlID0ge1xuICAgIHNlZ21lbnRzOiBTZWdtZW50VmVjdG9yLFxuICAgIHNvcnRLZXk6IG51bWJlcixcbiAgICBzdGF0ZToge1xuICAgICAgICBwcm9ncmFtOiBhbnksXG4gICAgICAgIGJ1ZmZlcnM6IFN5bWJvbEJ1ZmZlcnMsXG4gICAgICAgIHVuaWZvcm1WYWx1ZXM6IGFueSxcbiAgICAgICAgYXRsYXNUZXh0dXJlOiBUZXh0dXJlLFxuICAgICAgICBhdGxhc1RleHR1cmVJY29uOiBUZXh0dXJlIHwgbnVsbCxcbiAgICAgICAgYXRsYXNJbnRlcnBvbGF0aW9uOiBhbnksXG4gICAgICAgIGF0bGFzSW50ZXJwb2xhdGlvbkljb246IGFueSxcbiAgICAgICAgaXNTREY6IGJvb2xlYW4sXG4gICAgICAgIGhhc0hhbG86IGJvb2xlYW4sXG4gICAgICAgIHRpbGU6IFRpbGUsXG4gICAgICAgIGxhYmVsUGxhbmVNYXRyaXhJbnY6ID9GbG9hdDMyQXJyYXlcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBkcmF3U3ltYm9scyhwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBTeW1ib2xTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+LCB2YXJpYWJsZU9mZnNldHM6IHtbXzogQ3Jvc3NUaWxlSURdOiBWYXJpYWJsZU9mZnNldH0pIHtcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzICE9PSAndHJhbnNsdWNlbnQnKSByZXR1cm47XG5cbiAgICAvLyBEaXNhYmxlIHRoZSBzdGVuY2lsIHRlc3Qgc28gdGhhdCBsYWJlbHMgYXJlbid0IGNsaXBwZWQgdG8gdGlsZSBib3VuZGFyaWVzLlxuICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gU3RlbmNpbE1vZGUuZGlzYWJsZWQ7XG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG4gICAgY29uc3QgdmFyaWFibGVQbGFjZW1lbnQgPSBsYXllci5sYXlvdXQuZ2V0KCd0ZXh0LXZhcmlhYmxlLWFuY2hvcicpO1xuXG4gICAgLy9Db21wdXRlIHZhcmlhYmxlLW9mZnNldHMgYmVmb3JlIHBhaW50aW5nIHNpbmNlIGljb25zIGFuZCB0ZXh0IGRhdGEgcG9zaXRpb25pbmdcbiAgICAvL2RlcGVuZCBvbiBlYWNoIG90aGVyIGluIHRoaXMgY2FzZS5cbiAgICBpZiAodmFyaWFibGVQbGFjZW1lbnQpIHtcbiAgICAgICAgdXBkYXRlVmFyaWFibGVBbmNob3JzKGNvb3JkcywgcGFpbnRlciwgbGF5ZXIsIHNvdXJjZUNhY2hlLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgndGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQnKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ3RleHQtcGl0Y2gtYWxpZ25tZW50JyksXG4gICAgICAgICAgICB2YXJpYWJsZU9mZnNldHNcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdpY29uLW9wYWNpdHknKS5jb25zdGFudE9yKDEpICE9PSAwKSB7XG4gICAgICAgIGRyYXdMYXllclN5bWJvbHMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIGZhbHNlLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdpY29uLXRyYW5zbGF0ZScpLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdpY29uLXRyYW5zbGF0ZS1hbmNob3InKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ2ljb24tcm90YXRpb24tYWxpZ25tZW50JyksXG4gICAgICAgICAgICBsYXllci5sYXlvdXQuZ2V0KCdpY29uLXBpdGNoLWFsaWdubWVudCcpLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgnaWNvbi1rZWVwLXVwcmlnaHQnKSxcbiAgICAgICAgICAgIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGVcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCd0ZXh0LW9wYWNpdHknKS5jb25zdGFudE9yKDEpICE9PSAwKSB7XG4gICAgICAgIGRyYXdMYXllclN5bWJvbHMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIHRydWUsXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ3RleHQtdHJhbnNsYXRlJyksXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ3RleHQtdHJhbnNsYXRlLWFuY2hvcicpLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgndGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQnKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ3RleHQtcGl0Y2gtYWxpZ25tZW50JyksXG4gICAgICAgICAgICBsYXllci5sYXlvdXQuZ2V0KCd0ZXh0LWtlZXAtdXByaWdodCcpLFxuICAgICAgICAgICAgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGlmIChzb3VyY2VDYWNoZS5tYXAuc2hvd0NvbGxpc2lvbkJveGVzKSB7XG4gICAgICAgIGRyYXdDb2xsaXNpb25EZWJ1ZyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgbGF5ZXIucGFpbnQuZ2V0KCd0ZXh0LXRyYW5zbGF0ZScpLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCd0ZXh0LXRyYW5zbGF0ZS1hbmNob3InKSwgdHJ1ZSk7XG4gICAgICAgIGRyYXdDb2xsaXNpb25EZWJ1ZyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgbGF5ZXIucGFpbnQuZ2V0KCdpY29uLXRyYW5zbGF0ZScpLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdpY29uLXRyYW5zbGF0ZS1hbmNob3InKSwgZmFsc2UpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZUdsb2JlQ2FtZXJhVXAodHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0ge1xuICAgIGNvbnN0IHZpZXdNYXRyaXggPSB0cmFuc2Zvcm0uX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhKHRyYW5zZm9ybS53b3JsZFNpemUsIDEpO1xuICAgIGNvbnN0IHZpZXdUb0VjZWYgPSBtYXQ0Lm11bHRpcGx5KFtdLCB2aWV3TWF0cml4LCB0cmFuc2Zvcm0uZ2xvYmVNYXRyaXgpO1xuICAgIG1hdDQuaW52ZXJ0KHZpZXdUb0VjZWYsIHZpZXdUb0VjZWYpO1xuXG4gICAgY29uc3QgY2FtZXJhVXBWZWN0b3IgPSBbMCwgMCwgMF07XG4gICAgY29uc3QgdXAgPSBbMCwgMSwgMCwgMF07XG4gICAgdmVjNC50cmFuc2Zvcm1NYXQ0KHVwLCB1cCwgIHZpZXdUb0VjZWYpO1xuICAgIGNhbWVyYVVwVmVjdG9yWzBdID0gdXBbMF07XG4gICAgY2FtZXJhVXBWZWN0b3JbMV0gPSB1cFsxXTtcbiAgICBjYW1lcmFVcFZlY3RvclsyXSA9IHVwWzJdO1xuICAgIHZlYzMubm9ybWFsaXplKGNhbWVyYVVwVmVjdG9yLCBjYW1lcmFVcFZlY3Rvcik7XG5cbiAgICByZXR1cm4gY2FtZXJhVXBWZWN0b3I7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVZhcmlhYmxlUmVuZGVyU2hpZnQoe3dpZHRoLCBoZWlnaHQsIGFuY2hvciwgdGV4dE9mZnNldCwgdGV4dFNjYWxlfSwgcmVuZGVyVGV4dFNpemUpOiBQb2ludCB7XG4gICAgY29uc3Qge2hvcml6b250YWxBbGlnbiwgdmVydGljYWxBbGlnbn0gPSBnZXRBbmNob3JBbGlnbm1lbnQoYW5jaG9yKTtcbiAgICBjb25zdCBzaGlmdFggPSAtKGhvcml6b250YWxBbGlnbiAtIDAuNSkgKiB3aWR0aDtcbiAgICBjb25zdCBzaGlmdFkgPSAtKHZlcnRpY2FsQWxpZ24gLSAwLjUpICogaGVpZ2h0O1xuICAgIGNvbnN0IHZhcmlhYmxlT2Zmc2V0ID0gZXZhbHVhdGVWYXJpYWJsZU9mZnNldChhbmNob3IsIHRleHRPZmZzZXQpO1xuICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgIChzaGlmdFggLyB0ZXh0U2NhbGUgKyB2YXJpYWJsZU9mZnNldFswXSkgKiByZW5kZXJUZXh0U2l6ZSxcbiAgICAgICAgKHNoaWZ0WSAvIHRleHRTY2FsZSArIHZhcmlhYmxlT2Zmc2V0WzFdKSAqIHJlbmRlclRleHRTaXplXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlVmFyaWFibGVBbmNob3JzKGNvb3JkcywgcGFpbnRlciwgbGF5ZXIsIHNvdXJjZUNhY2hlLCByb3RhdGlvbkFsaWdubWVudCwgcGl0Y2hBbGlnbm1lbnQsIHZhcmlhYmxlT2Zmc2V0cykge1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3Qgcm90YXRlV2l0aE1hcCA9IHJvdGF0aW9uQWxpZ25tZW50ID09PSAnbWFwJztcbiAgICBjb25zdCBwaXRjaFdpdGhNYXAgPSBwaXRjaEFsaWdubWVudCA9PT0gJ21hcCc7XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogU3ltYm9sQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgaWYgKCFidWNrZXQgfHwgIWJ1Y2tldC50ZXh0IHx8ICFidWNrZXQudGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2l6ZURhdGEgPSBidWNrZXQudGV4dFNpemVEYXRhO1xuICAgICAgICBjb25zdCBzaXplID0gc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3Jab29tKHNpemVEYXRhLCB0ci56b29tKTtcbiAgICAgICAgY29uc3QgdGlsZU1hdHJpeCA9IGdldFN5bWJvbFRpbGVQcm9qZWN0aW9uTWF0cml4KGNvb3JkLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpLCB0cik7XG5cbiAgICAgICAgY29uc3QgcGl4ZWxzVG9UaWxlVW5pdHMgPSB0ci5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0aWxlKTtcbiAgICAgICAgY29uc3QgbGFiZWxQbGFuZU1hdHJpeCA9IHN5bWJvbFByb2plY3Rpb24uZ2V0TGFiZWxQbGFuZU1hdHJpeEZvclJlbmRlcmluZyh0aWxlTWF0cml4LCB0aWxlLnRpbGVJRC5jYW5vbmljYWwsIHBpdGNoV2l0aE1hcCwgcm90YXRlV2l0aE1hcCwgdHIsIGJ1Y2tldC5nZXRQcm9qZWN0aW9uKCksIHBpeGVsc1RvVGlsZVVuaXRzKTtcbiAgICAgICAgY29uc3QgdXBkYXRlVGV4dEZpdEljb24gPSBsYXllci5sYXlvdXQuZ2V0KCdpY29uLXRleHQtZml0JykgIT09ICdub25lJyAmJiAgYnVja2V0Lmhhc0ljb25EYXRhKCk7XG5cbiAgICAgICAgaWYgKHNpemUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVTY2FsZSA9IE1hdGgucG93KDIsIHRyLnpvb20gLSB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWik7XG4gICAgICAgICAgICB1cGRhdGVWYXJpYWJsZUFuY2hvcnNGb3JCdWNrZXQoYnVja2V0LCByb3RhdGVXaXRoTWFwLCBwaXRjaFdpdGhNYXAsIHZhcmlhYmxlT2Zmc2V0cywgc3ltYm9sU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ciwgbGFiZWxQbGFuZU1hdHJpeCwgY29vcmQsIHRpbGVTY2FsZSwgc2l6ZSwgdXBkYXRlVGV4dEZpdEljb24pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVWYXJpYWJsZUFuY2hvcnNGb3JCdWNrZXQoYnVja2V0LCByb3RhdGVXaXRoTWFwLCBwaXRjaFdpdGhNYXAsIHZhcmlhYmxlT2Zmc2V0cywgc3ltYm9sU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0sIGxhYmVsUGxhbmVNYXRyaXgsIGNvb3JkLCB0aWxlU2NhbGUsIHNpemUsIHVwZGF0ZVRleHRGaXRJY29uKSB7XG4gICAgY29uc3QgcGxhY2VkU3ltYm9scyA9IGJ1Y2tldC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5O1xuICAgIGNvbnN0IGR5bmFtaWNUZXh0TGF5b3V0VmVydGV4QXJyYXkgPSBidWNrZXQudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk7XG4gICAgY29uc3QgZHluYW1pY0ljb25MYXlvdXRWZXJ0ZXhBcnJheSA9IGJ1Y2tldC5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTtcbiAgICBjb25zdCBwbGFjZWRUZXh0U2hpZnRzID0ge307XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IGJ1Y2tldC5nZXRQcm9qZWN0aW9uKCk7XG4gICAgY29uc3QgdGlsZU1hdHJpeCA9IGdldFN5bWJvbFRpbGVQcm9qZWN0aW9uTWF0cml4KGNvb3JkLCBwcm9qZWN0aW9uLCB0cmFuc2Zvcm0pO1xuICAgIGNvbnN0IGVsZXZhdGlvbiA9IHRyYW5zZm9ybS5lbGV2YXRpb247XG4gICAgY29uc3QgbWV0ZXJzVG9UaWxlID0gcHJvamVjdGlvbi51cFZlY3RvclNjYWxlKGNvb3JkLmNhbm9uaWNhbCwgdHJhbnNmb3JtLmNlbnRlci5sYXQsIHRyYW5zZm9ybS53b3JsZFNpemUpLm1ldGVyc1RvVGlsZTtcblxuICAgIGR5bmFtaWNUZXh0TGF5b3V0VmVydGV4QXJyYXkuY2xlYXIoKTtcbiAgICBmb3IgKGxldCBzID0gMDsgcyA8IHBsYWNlZFN5bWJvbHMubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgY29uc3Qgc3ltYm9sID0gcGxhY2VkU3ltYm9scy5nZXQocyk7XG4gICAgICAgIGNvbnN0IHt0aWxlQW5jaG9yWCwgdGlsZUFuY2hvclksIG51bUdseXBoc30gPSBzeW1ib2w7XG4gICAgICAgIGNvbnN0IHNraXBPcmllbnRhdGlvbiA9IGJ1Y2tldC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50ICYmICFzeW1ib2wucGxhY2VkT3JpZW50YXRpb247XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlT2Zmc2V0ID0gKCFzeW1ib2wuaGlkZGVuICYmIHN5bWJvbC5jcm9zc1RpbGVJRCAmJiAhc2tpcE9yaWVudGF0aW9uKSA/IHZhcmlhYmxlT2Zmc2V0c1tzeW1ib2wuY3Jvc3NUaWxlSURdIDogbnVsbDtcblxuICAgICAgICBpZiAoIXZhcmlhYmxlT2Zmc2V0KSB7XG4gICAgICAgICAgICAvLyBUaGVzZSBzeW1ib2xzIGFyZSBmcm9tIGEganVzdGlmaWNhdGlvbiB0aGF0IGlzIG5vdCBiZWluZyB1c2VkLCBvciBhIGxhYmVsIHRoYXQgd2Fzbid0IHBsYWNlZFxuICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBkbyB0aGUgZXh0cmEgbWF0aCB0byBmaWd1cmUgb3V0IHdoYXQgaW5jcmVtZW50YWwgc2hpZnQgdG8gYXBwbHkuXG4gICAgICAgICAgICBzeW1ib2xQcm9qZWN0aW9uLmhpZGVHbHlwaHMobnVtR2x5cGhzLCBkeW5hbWljVGV4dExheW91dFZlcnRleEFycmF5KTtcblxuICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgIGxldCBkeCA9IDAsIGR5ID0gMCwgZHogPSAwO1xuICAgICAgICAgICAgaWYgKGVsZXZhdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGggPSBlbGV2YXRpb24gPyBlbGV2YXRpb24uZ2V0QXRUaWxlT2Zmc2V0KGNvb3JkLCB0aWxlQW5jaG9yWCwgdGlsZUFuY2hvclkpIDogMC4wO1xuICAgICAgICAgICAgICAgIGNvbnN0IFt1eCwgdXksIHV6XSA9IHByb2plY3Rpb24udXBWZWN0b3IoY29vcmQuY2Fub25pY2FsLCB0aWxlQW5jaG9yWCwgdGlsZUFuY2hvclkpO1xuICAgICAgICAgICAgICAgIGR4ID0gaCAqIHV4ICogbWV0ZXJzVG9UaWxlO1xuICAgICAgICAgICAgICAgIGR5ID0gaCAqIHV5ICogbWV0ZXJzVG9UaWxlO1xuICAgICAgICAgICAgICAgIGR6ID0gaCAqIHV6ICogbWV0ZXJzVG9UaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IFt4LCB5LCB6LCB3XSA9IHN5bWJvbFByb2plY3Rpb24ucHJvamVjdChcbiAgICAgICAgICAgICAgICBzeW1ib2wucHJvamVjdGVkQW5jaG9yWCArIGR4LFxuICAgICAgICAgICAgICAgIHN5bWJvbC5wcm9qZWN0ZWRBbmNob3JZICsgZHksXG4gICAgICAgICAgICAgICAgc3ltYm9sLnByb2plY3RlZEFuY2hvclogKyBkeixcbiAgICAgICAgICAgICAgICBwaXRjaFdpdGhNYXAgPyB0aWxlTWF0cml4IDogbGFiZWxQbGFuZU1hdHJpeCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBlcnNwZWN0aXZlUmF0aW8gPSBzeW1ib2xQcm9qZWN0aW9uLmdldFBlcnNwZWN0aXZlUmF0aW8odHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UocHJvamVjdGlvbiksIHcpO1xuICAgICAgICAgICAgbGV0IHJlbmRlclRleHRTaXplID0gc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKGJ1Y2tldC50ZXh0U2l6ZURhdGEsIHNpemUsIHN5bWJvbCkgKiBwZXJzcGVjdGl2ZVJhdGlvIC8gT05FX0VNO1xuICAgICAgICAgICAgaWYgKHBpdGNoV2l0aE1hcCkge1xuICAgICAgICAgICAgICAgIC8vIEdvIGZyb20gc2l6ZSBpbiBwaXhlbHMgdG8gZXF1aXZhbGVudCBzaXplIGluIHRpbGUgdW5pdHNcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0U2l6ZSAqPSBidWNrZXQudGlsZVBpeGVsUmF0aW8gLyB0aWxlU2NhbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ID0gY2FsY3VsYXRlVmFyaWFibGVSZW5kZXJTaGlmdCh2YXJpYWJsZU9mZnNldCwgcmVuZGVyVGV4dFNpemUpO1xuXG4gICAgICAgICAgICAvLyBVc3VhbCBjYXNlIGlzIHRoYXQgd2UgdGFrZSB0aGUgcHJvamVjdGVkIGFuY2hvciBhbmQgYWRkIHRoZSBwaXhlbC1iYXNlZCBzaGlmdFxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlZCBhYm92ZS4gSW4gdGhlIChzb21ld2hhdCB3ZWlyZCkgY2FzZSBvZiBwaXRjaC1hbGlnbmVkIHRleHQsIHdlIGFkZCBhbiBlcXVpdmFsZW50XG4gICAgICAgICAgICAvLyB0aWxlLXVuaXQgYmFzZWQgc2hpZnQgdG8gdGhlIGFuY2hvciBiZWZvcmUgcHJvamVjdGluZyB0byB0aGUgbGFiZWwgcGxhbmUuXG4gICAgICAgICAgICBpZiAocGl0Y2hXaXRoTWFwKSB7XG4gICAgICAgICAgICAgICAgKHt4LCB5LCB6fSA9IHByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludCh0aWxlQW5jaG9yWCArIHNoaWZ0LngsIHRpbGVBbmNob3JZICsgc2hpZnQueSwgY29vcmQuY2Fub25pY2FsKSk7XG4gICAgICAgICAgICAgICAgW3gsIHksIHpdID0gc3ltYm9sUHJvamVjdGlvbi5wcm9qZWN0KHggKyBkeCwgeSArIGR5LCB6ICsgZHosIGxhYmVsUGxhbmVNYXRyaXgpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyb3RhdGVXaXRoTWFwKSBzaGlmdC5fcm90YXRlKC10cmFuc2Zvcm0uYW5nbGUpO1xuICAgICAgICAgICAgICAgIHggKz0gc2hpZnQueDtcbiAgICAgICAgICAgICAgICB5ICs9IHNoaWZ0Lnk7XG4gICAgICAgICAgICAgICAgeiA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gKGJ1Y2tldC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50ICYmIHN5bWJvbC5wbGFjZWRPcmllbnRhdGlvbiA9PT0gV3JpdGluZ01vZGUudmVydGljYWwpID8gTWF0aC5QSSAvIDIgOiAwO1xuICAgICAgICAgICAgZm9yIChsZXQgZyA9IDA7IGcgPCBudW1HbHlwaHM7IGcrKykge1xuICAgICAgICAgICAgICAgIGFkZER5bmFtaWNBdHRyaWJ1dGVzKGR5bmFtaWNUZXh0TGF5b3V0VmVydGV4QXJyYXksIHgsIHksIHosIGFuZ2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vT25seSBvZmZzZXQgaG9yaXpvbnRhbCB0ZXh0IGljb25zXG4gICAgICAgICAgICBpZiAodXBkYXRlVGV4dEZpdEljb24gJiYgc3ltYm9sLmFzc29jaWF0ZWRJY29uSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIHBsYWNlZFRleHRTaGlmdHNbc3ltYm9sLmFzc29jaWF0ZWRJY29uSW5kZXhdID0ge3gsIHksIHosIGFuZ2xlfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1cGRhdGVUZXh0Rml0SWNvbikge1xuICAgICAgICBkeW5hbWljSWNvbkxheW91dFZlcnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgIGNvbnN0IHBsYWNlZEljb25zID0gYnVja2V0Lmljb24ucGxhY2VkU3ltYm9sQXJyYXk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhY2VkSWNvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlZEljb24gPSBwbGFjZWRJY29ucy5nZXQoaSk7XG4gICAgICAgICAgICBjb25zdCB7bnVtR2x5cGhzfSA9IHBsYWNlZEljb247XG4gICAgICAgICAgICBjb25zdCBzaGlmdCA9IHBsYWNlZFRleHRTaGlmdHNbaV07XG5cbiAgICAgICAgICAgIGlmIChwbGFjZWRJY29uLmhpZGRlbiB8fCAhc2hpZnQpIHtcbiAgICAgICAgICAgICAgICBzeW1ib2xQcm9qZWN0aW9uLmhpZGVHbHlwaHMobnVtR2x5cGhzLCBkeW5hbWljSWNvbkxheW91dFZlcnRleEFycmF5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qge3gsIHksIHosIGFuZ2xlfSA9IHNoaWZ0O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGcgPSAwOyBnIDwgbnVtR2x5cGhzOyBnKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkRHluYW1pY0F0dHJpYnV0ZXMoZHluYW1pY0ljb25MYXlvdXRWZXJ0ZXhBcnJheSwgeCwgeSwgeiwgYW5nbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBidWNrZXQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZHluYW1pY0ljb25MYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgfVxuICAgIGJ1Y2tldC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShkeW5hbWljVGV4dExheW91dFZlcnRleEFycmF5KTtcbn1cblxuZnVuY3Rpb24gZ2V0U3ltYm9sUHJvZ3JhbU5hbWUoaXNTREY6IGJvb2xlYW4sIGlzVGV4dDogYm9vbGVhbiwgYnVja2V0OiBTeW1ib2xCdWNrZXQpIHtcbiAgICBpZiAoYnVja2V0Lmljb25zSW5UZXh0ICYmIGlzVGV4dCkge1xuICAgICAgICByZXR1cm4gJ3N5bWJvbFRleHRBbmRJY29uJztcbiAgICB9IGVsc2UgaWYgKGlzU0RGKSB7XG4gICAgICAgIHJldHVybiAnc3ltYm9sU0RGJztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3N5bWJvbEljb24nO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0xheWVyU3ltYm9scyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgaXNUZXh0LCB0cmFuc2xhdGUsIHRyYW5zbGF0ZUFuY2hvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb25BbGlnbm1lbnQsIHBpdGNoQWxpZ25tZW50LCBrZWVwVXByaWdodCwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG5cbiAgICBjb25zdCByb3RhdGVXaXRoTWFwID0gcm90YXRpb25BbGlnbm1lbnQgPT09ICdtYXAnO1xuICAgIGNvbnN0IHBpdGNoV2l0aE1hcCA9IHBpdGNoQWxpZ25tZW50ID09PSAnbWFwJztcbiAgICBjb25zdCBhbG9uZ0xpbmUgPSByb3RhdGVXaXRoTWFwICYmIGxheWVyLmxheW91dC5nZXQoJ3N5bWJvbC1wbGFjZW1lbnQnKSAhPT0gJ3BvaW50JztcblxuICAgIC8vIExpbmUgbGFiZWwgcm90YXRpb24gaGFwcGVucyBpbiBgdXBkYXRlTGluZUxhYmVsc2BcbiAgICAvLyBQaXRjaGVkIHBvaW50IGxhYmVscyBhcmUgYXV0b21hdGljYWxseSByb3RhdGVkIGJ5IHRoZSBsYWJlbFBsYW5lTWF0cml4IHByb2plY3Rpb25cbiAgICAvLyBVbnBpdGNoZWQgcG9pbnQgbGFiZWxzIG5lZWQgdG8gaGF2ZSB0aGVpciByb3RhdGlvbiBhcHBsaWVkIGFmdGVyIHByb2plY3Rpb25cbiAgICBjb25zdCByb3RhdGVJblNoYWRlciA9IHJvdGF0ZVdpdGhNYXAgJiYgIXBpdGNoV2l0aE1hcCAmJiAhYWxvbmdMaW5lO1xuXG4gICAgY29uc3QgaGFzU29ydEtleSA9IGxheWVyLmxheW91dC5nZXQoJ3N5bWJvbC1zb3J0LWtleScpLmNvbnN0YW50T3IoMSkgIT09IHVuZGVmaW5lZDtcbiAgICBsZXQgc29ydEZlYXR1cmVzQnlLZXkgPSBmYWxzZTtcblxuICAgIGNvbnN0IGRlcHRoTW9kZSA9IHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KTtcbiAgICBjb25zdCBtZXJjYXRvckNlbnRlciA9IFtcbiAgICAgICAgbWVyY2F0b3JYZnJvbUxuZyh0ci5jZW50ZXIubG5nKSxcbiAgICAgICAgbWVyY2F0b3JZZnJvbUxhdCh0ci5jZW50ZXIubGF0KVxuICAgIF07XG4gICAgY29uc3QgdmFyaWFibGVQbGFjZW1lbnQgPSBsYXllci5sYXlvdXQuZ2V0KCd0ZXh0LXZhcmlhYmxlLWFuY2hvcicpO1xuICAgIGNvbnN0IGlzR2xvYmVQcm9qZWN0aW9uID0gdHIucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuICAgIGNvbnN0IHRpbGVSZW5kZXJTdGF0ZTogQXJyYXk8U3ltYm9sVGlsZVJlbmRlclN0YXRlPiA9IFtdO1xuXG4gICAgY29uc3QgbWVyY2F0b3JDYW1lcmFVcCA9IFswLCAtMSwgMF07XG5cbiAgICBsZXQgZ2xvYmVDYW1lcmFVcDogW251bWJlciwgbnVtYmVyLCBudW1iZXJdID0gbWVyY2F0b3JDYW1lcmFVcDtcbiAgICBpZiAoKGlzR2xvYmVQcm9qZWN0aW9uIHx8IHRyLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24pICYmICFyb3RhdGVXaXRoTWFwKSB7XG4gICAgICAgIC8vIEVhY2ggc3ltYm9sIHJvdGF0aW5nIHdpdGggdGhlIHZpZXdwb3J0IHJlcXVpcmVzIHBlci1pbnN0YW5jZSBpbmZvcm1hdGlvbiBhYm91dFxuICAgICAgICAvLyBob3cgdG8gYWxpZ24gd2l0aCB0aGUgdmlld3BvcnQuIEluIDJEIGNhc2Ugcm90YXRpb24gaXMgc2hhcmVkIGJldHdlZW4gYWxsIG9mIHRoZSBzeW1ib2xzIGFuZFxuICAgICAgICAvLyBoZW5jZSBlbWJlZGRlZCBpbiB0aGUgbGFiZWwgcGxhbmUgbWF0cml4IGJ1dCBpbiBnbG9iZSB2aWV3IHRoaXMgbmVlZHMgdG8gYmUgY29tcHV0ZWQgYXQgcnVudGltZS5cbiAgICAgICAgLy8gQ2FtZXJhIHVwIHZlY3RvciB0b2dldGhlciB3aXRoIHN1cmZhY2Ugbm9ybWFscyBjYW4gYmUgdXNlZCB0byBmaW5kIHRoZSBjb3JyZWN0IG9yaWVudGF0aW9uIGZvciBlYWNoIHN5bWJvbC5cbiAgICAgICAgZ2xvYmVDYW1lcmFVcCA9IGNvbXB1dGVHbG9iZUNhbWVyYVVwKHRyKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogU3ltYm9sQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuICAgICAgICAvLyBBbGxvdyByZW5kZXJpbmcgb2YgYnVja2V0cyBidWlsdCBmb3IgZ2xvYmUgcHJvamVjdGlvbiBpbiBtZXJjYXRvciBtb2RlXG4gICAgICAgIC8vIHVudGlsIHRoZSBzdWJzdGl0dXRlIHRpbGUgaGFzIGJlZW4gbG9hZGVkXG4gICAgICAgIGlmIChidWNrZXQucHJvamVjdGlvbi5uYW1lID09PSAnbWVyY2F0b3InICYmIGlzR2xvYmVQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidWZmZXJzID0gaXNUZXh0ID8gYnVja2V0LnRleHQgOiBidWNrZXQuaWNvbjtcbiAgICAgICAgaWYgKCFidWZmZXJzIHx8IGJ1Y2tldC5mdWxseUNsaXBwZWQgfHwgIWJ1ZmZlcnMuc2VnbWVudHMuZ2V0KCkubGVuZ3RoKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWZmZXJzLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpO1xuXG4gICAgICAgIGNvbnN0IGlzU0RGID0gaXNUZXh0IHx8IGJ1Y2tldC5zZGZJY29ucztcblxuICAgICAgICBjb25zdCBzaXplRGF0YSA9IGlzVGV4dCA/IGJ1Y2tldC50ZXh0U2l6ZURhdGEgOiBidWNrZXQuaWNvblNpemVEYXRhO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZCA9IHBpdGNoV2l0aE1hcCB8fCB0ci5waXRjaCAhPT0gMDtcblxuICAgICAgICBjb25zdCBzaXplID0gc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3Jab29tKHNpemVEYXRhLCB0ci56b29tKTtcblxuICAgICAgICBsZXQgdGV4U2l6ZTogW251bWJlciwgbnVtYmVyXTtcbiAgICAgICAgbGV0IHRleFNpemVJY29uOiBbbnVtYmVyLCBudW1iZXJdID0gWzAsIDBdO1xuICAgICAgICBsZXQgYXRsYXNUZXh0dXJlO1xuICAgICAgICBsZXQgYXRsYXNJbnRlcnBvbGF0aW9uO1xuICAgICAgICBsZXQgYXRsYXNUZXh0dXJlSWNvbiA9IG51bGw7XG4gICAgICAgIGxldCBhdGxhc0ludGVycG9sYXRpb25JY29uO1xuICAgICAgICBpZiAoaXNUZXh0KSB7XG4gICAgICAgICAgICBhdGxhc1RleHR1cmUgPSB0aWxlLmdseXBoQXRsYXNUZXh0dXJlO1xuICAgICAgICAgICAgYXRsYXNJbnRlcnBvbGF0aW9uID0gZ2wuTElORUFSO1xuICAgICAgICAgICAgdGV4U2l6ZSA9IHRpbGUuZ2x5cGhBdGxhc1RleHR1cmUuc2l6ZTtcbiAgICAgICAgICAgIGlmIChidWNrZXQuaWNvbnNJblRleHQpIHtcbiAgICAgICAgICAgICAgICB0ZXhTaXplSWNvbiA9IHRpbGUuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZTtcbiAgICAgICAgICAgICAgICBhdGxhc1RleHR1cmVJY29uID0gdGlsZS5pbWFnZUF0bGFzVGV4dHVyZTtcbiAgICAgICAgICAgICAgICBjb25zdCB6b29tRGVwZW5kZW50U2l6ZSA9IHNpemVEYXRhLmtpbmQgPT09ICdjb21wb3NpdGUnIHx8IHNpemVEYXRhLmtpbmQgPT09ICdjYW1lcmEnO1xuICAgICAgICAgICAgICAgIGF0bGFzSW50ZXJwb2xhdGlvbkljb24gPSB0cmFuc2Zvcm1lZCB8fCBwYWludGVyLm9wdGlvbnMucm90YXRpbmcgfHwgcGFpbnRlci5vcHRpb25zLnpvb21pbmcgfHwgem9vbURlcGVuZGVudFNpemUgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaWNvblNjYWxlZCA9IGxheWVyLmxheW91dC5nZXQoJ2ljb24tc2l6ZScpLmNvbnN0YW50T3IoMCkgIT09IDEgfHwgYnVja2V0Lmljb25zTmVlZExpbmVhcjtcbiAgICAgICAgICAgIGF0bGFzVGV4dHVyZSA9IHRpbGUuaW1hZ2VBdGxhc1RleHR1cmU7XG4gICAgICAgICAgICBhdGxhc0ludGVycG9sYXRpb24gPSBpc1NERiB8fCBwYWludGVyLm9wdGlvbnMucm90YXRpbmcgfHwgcGFpbnRlci5vcHRpb25zLnpvb21pbmcgfHwgaWNvblNjYWxlZCB8fCB0cmFuc2Zvcm1lZCA/XG4gICAgICAgICAgICAgICAgZ2wuTElORUFSIDpcbiAgICAgICAgICAgICAgICBnbC5ORUFSRVNUO1xuICAgICAgICAgICAgdGV4U2l6ZSA9IHRpbGUuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ1Y2tldElzR2xvYmVQcm9qZWN0aW9uID0gYnVja2V0LnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJztcbiAgICAgICAgY29uc3QgY2FtZXJhVXBWZWN0b3IgPSBidWNrZXRJc0dsb2JlUHJvamVjdGlvbiA/IGdsb2JlQ2FtZXJhVXAgOiBtZXJjYXRvckNhbWVyYVVwO1xuICAgICAgICBjb25zdCBnbG9iZVRvTWVyY2F0b3IgPSAgYnVja2V0SXNHbG9iZVByb2plY3Rpb24gPyBnbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKHRyLnpvb20pIDogMC4wO1xuICAgICAgICBjb25zdCB0aWxlTWF0cml4ID0gZ2V0U3ltYm9sVGlsZVByb2plY3Rpb25NYXRyaXgoY29vcmQsIGJ1Y2tldC5nZXRQcm9qZWN0aW9uKCksIHRyKTtcblxuICAgICAgICBjb25zdCBzID0gdHIuY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodGlsZSk7XG4gICAgICAgIGNvbnN0IGxhYmVsUGxhbmVNYXRyaXhSZW5kZXJpbmcgPSBzeW1ib2xQcm9qZWN0aW9uLmdldExhYmVsUGxhbmVNYXRyaXhGb3JSZW5kZXJpbmcodGlsZU1hdHJpeCwgdGlsZS50aWxlSUQuY2Fub25pY2FsLCBwaXRjaFdpdGhNYXAsIHJvdGF0ZVdpdGhNYXAsIHRyLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpLCBzKTtcbiAgICAgICAgLy8gbGFiZWxQbGFuZU1hdHJpeEludiBpcyB1c2VkIGZvciBjb252ZXJ0aW5nIHZlcnRleCBwb3MgdG8gdGlsZSBjb29yZGluYXRlcyBuZWVkZWQgZm9yIHNhbXBsaW5nIGVsZXZhdGlvbi5cbiAgICAgICAgY29uc3QgbGFiZWxQbGFuZU1hdHJpeEludiA9IHBhaW50ZXIudGVycmFpbiAmJiBwaXRjaFdpdGhNYXAgJiYgYWxvbmdMaW5lID8gbWF0NC5pbnZlcnQobWF0NC5jcmVhdGUoKSwgbGFiZWxQbGFuZU1hdHJpeFJlbmRlcmluZykgOiBpZGVudGl0eU1hdDQ7XG4gICAgICAgIGNvbnN0IGdsQ29vcmRNYXRyaXggPSBzeW1ib2xQcm9qZWN0aW9uLmdldEdsQ29vcmRNYXRyaXgodGlsZU1hdHJpeCwgdGlsZS50aWxlSUQuY2Fub25pY2FsLCBwaXRjaFdpdGhNYXAsIHJvdGF0ZVdpdGhNYXAsIHRyLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpLCBzKTtcblxuICAgICAgICBjb25zdCBoYXNWYXJpYWJsZUFuY2hvcnMgPSB2YXJpYWJsZVBsYWNlbWVudCAmJiBidWNrZXQuaGFzVGV4dERhdGEoKTtcbiAgICAgICAgY29uc3QgdXBkYXRlVGV4dEZpdEljb24gPSBsYXllci5sYXlvdXQuZ2V0KCdpY29uLXRleHQtZml0JykgIT09ICdub25lJyAmJlxuICAgICAgICAgICAgaGFzVmFyaWFibGVBbmNob3JzICYmXG4gICAgICAgICAgICBidWNrZXQuaGFzSWNvbkRhdGEoKTtcblxuICAgICAgICBpZiAoYWxvbmdMaW5lKSB7XG4gICAgICAgICAgICBjb25zdCBlbGV2YXRpb24gPSB0ci5lbGV2YXRpb247XG4gICAgICAgICAgICBjb25zdCBnZXRFbGV2YXRpb24gPSBlbGV2YXRpb24gPyBlbGV2YXRpb24uZ2V0QXRUaWxlT2Zmc2V0RnVuYyhjb29yZCwgdHIuY2VudGVyLmxhdCwgdHIud29ybGRTaXplLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpKSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFBsYW5lTWF0cml4UGxhY2VtZW50ID0gc3ltYm9sUHJvamVjdGlvbi5nZXRMYWJlbFBsYW5lTWF0cml4Rm9yUGxhY2VtZW50KHRpbGVNYXRyaXgsIHRpbGUudGlsZUlELmNhbm9uaWNhbCwgcGl0Y2hXaXRoTWFwLCByb3RhdGVXaXRoTWFwLCB0ciwgYnVja2V0LmdldFByb2plY3Rpb24oKSwgcyk7XG5cbiAgICAgICAgICAgIHN5bWJvbFByb2plY3Rpb24udXBkYXRlTGluZUxhYmVscyhidWNrZXQsIHRpbGVNYXRyaXgsIHBhaW50ZXIsIGlzVGV4dCwgbGFiZWxQbGFuZU1hdHJpeFBsYWNlbWVudCwgZ2xDb29yZE1hdHJpeCwgcGl0Y2hXaXRoTWFwLCBrZWVwVXByaWdodCwgZ2V0RWxldmF0aW9uLCBjb29yZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm9qZWN0ZWRQb3NPbkxhYmVsU3BhY2UgPSBhbG9uZ0xpbmUgfHwgKGlzVGV4dCAmJiB2YXJpYWJsZVBsYWNlbWVudCkgfHwgdXBkYXRlVGV4dEZpdEljb247XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KHRpbGVNYXRyaXgsIHRpbGUsIHRyYW5zbGF0ZSwgdHJhbnNsYXRlQW5jaG9yKTtcbiAgICAgICAgY29uc3QgdUxhYmVsUGxhbmVNYXRyaXggPSBwcm9qZWN0ZWRQb3NPbkxhYmVsU3BhY2UgPyBpZGVudGl0eU1hdDQgOiBsYWJlbFBsYW5lTWF0cml4UmVuZGVyaW5nO1xuICAgICAgICBjb25zdCB1Z2xDb29yZE1hdHJpeCA9IHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KGdsQ29vcmRNYXRyaXgsIHRpbGUsIHRyYW5zbGF0ZSwgdHJhbnNsYXRlQW5jaG9yLCB0cnVlKTtcbiAgICAgICAgY29uc3QgaW52TWF0cml4ID0gYnVja2V0LmdldFByb2plY3Rpb24oKS5jcmVhdGVJbnZlcnNpb25NYXRyaXgodHIsIGNvb3JkLmNhbm9uaWNhbCk7XG5cbiAgICAgICAgY29uc3QgYmFzZURlZmluZXMgPSAoW106IGFueSk7XG4gICAgICAgIGlmIChwYWludGVyLnRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKSAmJiBwaXRjaFdpdGhNYXApIHtcbiAgICAgICAgICAgIGJhc2VEZWZpbmVzLnB1c2goJ1BJVENIX1dJVEhfTUFQX1RFUlJBSU4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVja2V0SXNHbG9iZVByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIGJhc2VEZWZpbmVzLnB1c2goJ1BST0pFQ1RJT05fR0xPQkVfVklFVycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9qZWN0ZWRQb3NPbkxhYmVsU3BhY2UpIHtcbiAgICAgICAgICAgIGJhc2VEZWZpbmVzLnB1c2goJ1BST0pFQ1RFRF9QT1NfT05fVklFV1BPUlQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhhc0hhbG8gPSBpc1NERiAmJiBsYXllci5wYWludC5nZXQoaXNUZXh0ID8gJ3RleHQtaGFsby13aWR0aCcgOiAnaWNvbi1oYWxvLXdpZHRoJykuY29uc3RhbnRPcigxKSAhPT0gMDtcblxuICAgICAgICBsZXQgdW5pZm9ybVZhbHVlcztcbiAgICAgICAgaWYgKGlzU0RGKSB7XG4gICAgICAgICAgICBpZiAoIWJ1Y2tldC5pY29uc0luVGV4dCkge1xuICAgICAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMgPSBzeW1ib2xTREZVbmlmb3JtVmFsdWVzKHNpemVEYXRhLmtpbmQsIHNpemUsIHJvdGF0ZUluU2hhZGVyLCBwaXRjaFdpdGhNYXAsIHBhaW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeCwgdUxhYmVsUGxhbmVNYXRyaXgsIHVnbENvb3JkTWF0cml4LCBpc1RleHQsIHRleFNpemUsIHRydWUsIGNvb3JkLCBnbG9iZVRvTWVyY2F0b3IsIG1lcmNhdG9yQ2VudGVyLCBpbnZNYXRyaXgsIGNhbWVyYVVwVmVjdG9yLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdW5pZm9ybVZhbHVlcyA9IHN5bWJvbFRleHRBbmRJY29uVW5pZm9ybVZhbHVlcyhzaXplRGF0YS5raW5kLCBzaXplLCByb3RhdGVJblNoYWRlciwgcGl0Y2hXaXRoTWFwLCBwYWludGVyLFxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgsIHVMYWJlbFBsYW5lTWF0cml4LCB1Z2xDb29yZE1hdHJpeCwgdGV4U2l6ZSwgdGV4U2l6ZUljb24sIGNvb3JkLCBnbG9iZVRvTWVyY2F0b3IsIG1lcmNhdG9yQ2VudGVyLCBpbnZNYXRyaXgsIGNhbWVyYVVwVmVjdG9yLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMgPSBzeW1ib2xJY29uVW5pZm9ybVZhbHVlcyhzaXplRGF0YS5raW5kLCBzaXplLCByb3RhdGVJblNoYWRlciwgcGl0Y2hXaXRoTWFwLCBwYWludGVyLCBtYXRyaXgsXG4gICAgICAgICAgICAgICAgdUxhYmVsUGxhbmVNYXRyaXgsIHVnbENvb3JkTWF0cml4LCBpc1RleHQsIHRleFNpemUsIGNvb3JkLCBnbG9iZVRvTWVyY2F0b3IsIG1lcmNhdG9yQ2VudGVyLCBpbnZNYXRyaXgsIGNhbWVyYVVwVmVjdG9yLCBidWNrZXQuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oZ2V0U3ltYm9sUHJvZ3JhbU5hbWUoaXNTREYsIGlzVGV4dCwgYnVja2V0KSwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIGJhc2VEZWZpbmVzKTtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgICAgIHByb2dyYW0sXG4gICAgICAgICAgICBidWZmZXJzLFxuICAgICAgICAgICAgdW5pZm9ybVZhbHVlcyxcbiAgICAgICAgICAgIGF0bGFzVGV4dHVyZSxcbiAgICAgICAgICAgIGF0bGFzVGV4dHVyZUljb24sXG4gICAgICAgICAgICBhdGxhc0ludGVycG9sYXRpb24sXG4gICAgICAgICAgICBhdGxhc0ludGVycG9sYXRpb25JY29uLFxuICAgICAgICAgICAgaXNTREYsXG4gICAgICAgICAgICBoYXNIYWxvLFxuICAgICAgICAgICAgdGlsZSxcbiAgICAgICAgICAgIGxhYmVsUGxhbmVNYXRyaXhJbnZcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaGFzU29ydEtleSAmJiBidWNrZXQuY2FuT3ZlcmxhcCkge1xuICAgICAgICAgICAgc29ydEZlYXR1cmVzQnlLZXkgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3Qgb2xkU2VnbWVudHMgPSBidWZmZXJzLnNlZ21lbnRzLmdldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIG9sZFNlZ21lbnRzKSB7XG4gICAgICAgICAgICAgICAgdGlsZVJlbmRlclN0YXRlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBzZWdtZW50czogbmV3IFNlZ21lbnRWZWN0b3IoW3NlZ21lbnRdKSxcbiAgICAgICAgICAgICAgICAgICAgc29ydEtleTogKChzZWdtZW50LnNvcnRLZXk6IGFueSk6IG51bWJlciksXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aWxlUmVuZGVyU3RhdGUucHVzaCh7XG4gICAgICAgICAgICAgICAgc2VnbWVudHM6IGJ1ZmZlcnMuc2VnbWVudHMsXG4gICAgICAgICAgICAgICAgc29ydEtleTogMCxcbiAgICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc29ydEZlYXR1cmVzQnlLZXkpIHtcbiAgICAgICAgdGlsZVJlbmRlclN0YXRlLnNvcnQoKGEsIGIpID0+IGEuc29ydEtleSAtIGIuc29ydEtleSk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBzZWdtZW50U3RhdGUgb2YgdGlsZVJlbmRlclN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gc2VnbWVudFN0YXRlLnN0YXRlO1xuICAgICAgICBpZiAocGFpbnRlci50ZXJyYWluKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHVzZURlcHRoRm9yT2NjbHVzaW9uOiAhaXNHbG9iZVByb2plY3Rpb24sXG4gICAgICAgICAgICAgICAgbGFiZWxQbGFuZU1hdHJpeEludjogc3RhdGUubGFiZWxQbGFuZU1hdHJpeEludlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBhaW50ZXIudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcoc3RhdGUudGlsZSwgc3RhdGUucHJvZ3JhbSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgIHN0YXRlLmF0bGFzVGV4dHVyZS5iaW5kKHN0YXRlLmF0bGFzSW50ZXJwb2xhdGlvbiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGlmIChzdGF0ZS5hdGxhc1RleHR1cmVJY29uKSB7XG4gICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5hdGxhc1RleHR1cmVJY29uKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYXRsYXNUZXh0dXJlSWNvbi5iaW5kKHN0YXRlLmF0bGFzSW50ZXJwb2xhdGlvbkljb24sIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLmlzU0RGKSB7XG4gICAgICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gKChzdGF0ZS51bmlmb3JtVmFsdWVzOiBhbnkpOiBVbmlmb3JtVmFsdWVzPFN5bWJvbFNERlVuaWZvcm1zVHlwZT4pO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmhhc0hhbG8pIHtcbiAgICAgICAgICAgICAgICB1bmlmb3JtVmFsdWVzWyd1X2lzX2hhbG8nXSA9IDE7XG4gICAgICAgICAgICAgICAgZHJhd1N5bWJvbEVsZW1lbnRzKHN0YXRlLmJ1ZmZlcnMsIHNlZ21lbnRTdGF0ZS5zZWdtZW50cywgbGF5ZXIsIHBhaW50ZXIsIHN0YXRlLnByb2dyYW0sIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgdW5pZm9ybVZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzWyd1X2lzX2hhbG8nXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZHJhd1N5bWJvbEVsZW1lbnRzKHN0YXRlLmJ1ZmZlcnMsIHNlZ21lbnRTdGF0ZS5zZWdtZW50cywgbGF5ZXIsIHBhaW50ZXIsIHN0YXRlLnByb2dyYW0sIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgc3RhdGUudW5pZm9ybVZhbHVlcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3U3ltYm9sRWxlbWVudHMoYnVmZmVycywgc2VnbWVudHMsIGxheWVyLCBwYWludGVyLCBwcm9ncmFtLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUsIHVuaWZvcm1WYWx1ZXMpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCBkeW5hbWljQnVmZmVycyA9IFtidWZmZXJzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIsIGJ1ZmZlcnMub3BhY2l0eVZlcnRleEJ1ZmZlciwgYnVmZmVycy5nbG9iZUV4dFZlcnRleEJ1ZmZlcl07XG4gICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgIHVuaWZvcm1WYWx1ZXMsIGxheWVyLmlkLCBidWZmZXJzLmxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgYnVmZmVycy5pbmRleEJ1ZmZlciwgc2VnbWVudHMsIGxheWVyLnBhaW50LFxuICAgICAgICBwYWludGVyLnRyYW5zZm9ybS56b29tLCBidWZmZXJzLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpLCBkeW5hbWljQnVmZmVycyk7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yLmpzJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZS5qcyc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlLmpzJztcbmltcG9ydCB7XG4gICAgZmlsbFVuaWZvcm1WYWx1ZXMsXG4gICAgZmlsbFBhdHRlcm5Vbmlmb3JtVmFsdWVzLFxuICAgIGZpbGxPdXRsaW5lVW5pZm9ybVZhbHVlcyxcbiAgICBmaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3JtVmFsdWVzXG59IGZyb20gJy4vcHJvZ3JhbS9maWxsX3Byb2dyYW0uanMnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCB0eXBlIEZpbGxTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2ZpbGxfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgRmlsbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9maWxsX2J1Y2tldC5qcyc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3RmlsbDtcblxuZnVuY3Rpb24gZHJhd0ZpbGwocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogRmlsbFN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBjb25zdCBjb2xvciA9IGxheWVyLnBhaW50LmdldCgnZmlsbC1jb2xvcicpO1xuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2ZpbGwtb3BhY2l0eScpO1xuXG4gICAgaWYgKG9wYWNpdHkuY29uc3RhbnRPcigxKSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG5cbiAgICBjb25zdCBwYXR0ZXJuID0gbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXBhdHRlcm4nKTtcbiAgICBjb25zdCBwYXNzID0gcGFpbnRlci5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkgJiZcbiAgICAgICAgKCFwYXR0ZXJuLmNvbnN0YW50T3IoKDE6IGFueSkpICYmXG4gICAgICAgIGNvbG9yLmNvbnN0YW50T3IoQ29sb3IudHJhbnNwYXJlbnQpLmEgPT09IDEgJiZcbiAgICAgICAgb3BhY2l0eS5jb25zdGFudE9yKDApID09PSAxKSA/ICdvcGFxdWUnIDogJ3RyYW5zbHVjZW50JztcblxuICAgIC8vIERyYXcgZmlsbFxuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09IHBhc3MpIHtcbiAgICAgICAgY29uc3QgZGVwdGhNb2RlID0gcGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcihcbiAgICAgICAgICAgIDEsIHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ29wYXF1ZScgPyBEZXB0aE1vZGUuUmVhZFdyaXRlIDogRGVwdGhNb2RlLlJlYWRPbmx5KTtcbiAgICAgICAgZHJhd0ZpbGxUaWxlcyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLCBjb2xvck1vZGUsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvLyBEcmF3IHN0cm9rZVxuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcgJiYgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWFudGlhbGlhcycpKSB7XG5cbiAgICAgICAgLy8gSWYgd2UgZGVmaW5lZCBhIGRpZmZlcmVudCBjb2xvciBmb3IgdGhlIGZpbGwgb3V0bGluZSwgd2UgYXJlXG4gICAgICAgIC8vIGdvaW5nIHRvIGlnbm9yZSB0aGUgYml0cyBpbiAweDA3IGFuZCBqdXN0IGNhcmUgYWJvdXQgdGhlIGdsb2JhbFxuICAgICAgICAvLyBjbGlwcGluZyBtYXNrLlxuICAgICAgICAvLyBPdGhlcndpc2UsIHdlIG9ubHkgd2FudCB0byBkcmF3RmlsbCB0aGUgYW50aWFsaWFzZWQgcGFydHMgdGhhdCBhcmVcbiAgICAgICAgLy8gKm91dHNpZGUqIHRoZSBjdXJyZW50IHNoYXBlLiBUaGlzIGlzIGltcG9ydGFudCBpbiBjYXNlIHRoZSBmaWxsXG4gICAgICAgIC8vIG9yIHN0cm9rZSBjb2xvciBpcyB0cmFuc2x1Y2VudC4gSWYgd2Ugd291bGRuJ3QgY2xpcCB0byBvdXRzaWRlXG4gICAgICAgIC8vIHRoZSBjdXJyZW50IHNoYXBlLCBzb21lIHBpeGVscyBmcm9tIHRoZSBvdXRsaW5lIHN0cm9rZSBvdmVybGFwcGVkXG4gICAgICAgIC8vIHRoZSAobm9uLWFudGlhbGlhc2VkKSBmaWxsLlxuICAgICAgICBjb25zdCBkZXB0aE1vZGUgPSBwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKFxuICAgICAgICAgICAgbGF5ZXIuZ2V0UGFpbnRQcm9wZXJ0eSgnZmlsbC1vdXRsaW5lLWNvbG9yJykgPyAyIDogMCwgRGVwdGhNb2RlLlJlYWRPbmx5KTtcbiAgICAgICAgZHJhd0ZpbGxUaWxlcyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLCBjb2xvck1vZGUsIHRydWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0ZpbGxUaWxlcyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLCBjb2xvck1vZGUsIGlzT3V0bGluZSkge1xuICAgIGNvbnN0IGdsID0gcGFpbnRlci5jb250ZXh0LmdsO1xuXG4gICAgY29uc3QgcGF0dGVyblByb3BlcnR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXBhdHRlcm4nKTtcbiAgICBjb25zdCBpbWFnZSA9IHBhdHRlcm5Qcm9wZXJ0eSAmJiBwYXR0ZXJuUHJvcGVydHkuY29uc3RhbnRPcigoMTogYW55KSk7XG4gICAgbGV0IGRyYXdNb2RlLCBwcm9ncmFtTmFtZSwgdW5pZm9ybVZhbHVlcywgaW5kZXhCdWZmZXIsIHNlZ21lbnRzO1xuXG4gICAgaWYgKCFpc091dGxpbmUpIHtcbiAgICAgICAgcHJvZ3JhbU5hbWUgPSBpbWFnZSA/ICdmaWxsUGF0dGVybicgOiAnZmlsbCc7XG4gICAgICAgIGRyYXdNb2RlID0gZ2wuVFJJQU5HTEVTO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2dyYW1OYW1lID0gaW1hZ2UgJiYgIWxheWVyLmdldFBhaW50UHJvcGVydHkoJ2ZpbGwtb3V0bGluZS1jb2xvcicpID8gJ2ZpbGxPdXRsaW5lUGF0dGVybicgOiAnZmlsbE91dGxpbmUnO1xuICAgICAgICBkcmF3TW9kZSA9IGdsLkxJTkVTO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgaWYgKGltYWdlICYmICF0aWxlLnBhdHRlcm5zTG9hZGVkKCkpIGNvbnRpbnVlO1xuXG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP0ZpbGxCdWNrZXQgPSAodGlsZS5nZXRCdWNrZXQobGF5ZXIpOiBhbnkpO1xuICAgICAgICBpZiAoIWJ1Y2tldCkgY29udGludWU7XG4gICAgICAgIHBhaW50ZXIucHJlcGFyZURyYXdUaWxlKCk7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0ocHJvZ3JhbU5hbWUsIHByb2dyYW1Db25maWd1cmF0aW9uKTtcblxuICAgICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIHBhaW50ZXIuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgICAgICB0aWxlLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uLnVwZGF0ZVBhaW50QnVmZmVycygpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29uc3RhbnRQYXR0ZXJuID0gcGF0dGVyblByb3BlcnR5LmNvbnN0YW50T3IobnVsbCk7XG4gICAgICAgIGlmIChjb25zdGFudFBhdHRlcm4gJiYgdGlsZS5pbWFnZUF0bGFzKSB7XG4gICAgICAgICAgICBjb25zdCBhdGxhcyA9IHRpbGUuaW1hZ2VBdGxhcztcbiAgICAgICAgICAgIGNvbnN0IHBvc1RvID0gYXRsYXMucGF0dGVyblBvc2l0aW9uc1tjb25zdGFudFBhdHRlcm4udG9TdHJpbmcoKV07XG4gICAgICAgICAgICBpZiAocG9zVG8pIHByb2dyYW1Db25maWd1cmF0aW9uLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhwb3NUbyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aWxlTWF0cml4ID0gcGFpbnRlci50cmFuc2xhdGVQb3NNYXRyaXgoY29vcmQucHJvak1hdHJpeCwgdGlsZSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgnZmlsbC10cmFuc2xhdGUnKSwgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXRyYW5zbGF0ZS1hbmNob3InKSk7XG5cbiAgICAgICAgaWYgKCFpc091dGxpbmUpIHtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyID0gYnVja2V0LmluZGV4QnVmZmVyO1xuICAgICAgICAgICAgc2VnbWVudHMgPSBidWNrZXQuc2VnbWVudHM7XG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzID0gaW1hZ2UgP1xuICAgICAgICAgICAgICAgIGZpbGxQYXR0ZXJuVW5pZm9ybVZhbHVlcyh0aWxlTWF0cml4LCBwYWludGVyLCB0aWxlKSA6XG4gICAgICAgICAgICAgICAgZmlsbFVuaWZvcm1WYWx1ZXModGlsZU1hdHJpeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlciA9IGJ1Y2tldC5pbmRleEJ1ZmZlcjI7XG4gICAgICAgICAgICBzZWdtZW50cyA9IGJ1Y2tldC5zZWdtZW50czI7XG4gICAgICAgICAgICBjb25zdCBkcmF3aW5nQnVmZmVyU2l6ZSA9IChwYWludGVyLnRlcnJhaW4gJiYgcGFpbnRlci50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSkgPyBwYWludGVyLnRlcnJhaW4uZHJhcGVCdWZmZXJTaXplIDogW2dsLmRyYXdpbmdCdWZmZXJXaWR0aCwgZ2wuZHJhd2luZ0J1ZmZlckhlaWdodF07XG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzID0gKHByb2dyYW1OYW1lID09PSAnZmlsbE91dGxpbmVQYXR0ZXJuJyAmJiBpbWFnZSkgP1xuICAgICAgICAgICAgICAgIGZpbGxPdXRsaW5lUGF0dGVyblVuaWZvcm1WYWx1ZXModGlsZU1hdHJpeCwgcGFpbnRlciwgdGlsZSwgZHJhd2luZ0J1ZmZlclNpemUpIDpcbiAgICAgICAgICAgICAgICBmaWxsT3V0bGluZVVuaWZvcm1WYWx1ZXModGlsZU1hdHJpeCwgZHJhd2luZ0J1ZmZlclNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFpbnRlci5wcmVwYXJlRHJhd1Byb2dyYW0ocGFpbnRlci5jb250ZXh0LCBwcm9ncmFtLCBjb29yZC50b1Vud3JhcHBlZCgpKTtcblxuICAgICAgICBwcm9ncmFtLmRyYXcocGFpbnRlci5jb250ZXh0LCBkcmF3TW9kZSwgZGVwdGhNb2RlLFxuICAgICAgICAgICAgcGFpbnRlci5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGNvb3JkKSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsIHVuaWZvcm1WYWx1ZXMsXG4gICAgICAgICAgICBsYXllci5pZCwgYnVja2V0LmxheW91dFZlcnRleEJ1ZmZlciwgaW5kZXhCdWZmZXIsIHNlZ21lbnRzLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20sIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZS5qcyc7XG5pbXBvcnQgQ29sb3JNb2RlIGZyb20gJy4uL2dsL2NvbG9yX21vZGUuanMnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50LmpzJztcbmltcG9ydCBGaWxsRXh0cnVzaW9uQnVja2V0LCB7ZmlsbEV4dHJ1c2lvbkhlaWdodExpZnR9IGZyb20gJy4uL2RhdGEvYnVja2V0L2ZpbGxfZXh0cnVzaW9uX2J1Y2tldC5qcyc7XG5pbXBvcnQge1xuICAgIGZpbGxFeHRydXNpb25Vbmlmb3JtVmFsdWVzLFxuICAgIGZpbGxFeHRydXNpb25QYXR0ZXJuVW5pZm9ybVZhbHVlcyxcbn0gZnJvbSAnLi9wcm9ncmFtL2ZpbGxfZXh0cnVzaW9uX3Byb2dyYW0uanMnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQge21lcmNhdG9yWGZyb21MbmcsIG1lcmNhdG9yWWZyb21MYXR9IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7Z2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbn0gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgRmlsbEV4dHJ1c2lvblN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvZmlsbF9leHRydXNpb25fc3R5bGVfbGF5ZXIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3O1xuXG5mdW5jdGlvbiBkcmF3KHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZTogU291cmNlQ2FjaGUsIGxheWVyOiBGaWxsRXh0cnVzaW9uU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2ZpbGwtZXh0cnVzaW9uLW9wYWNpdHknKTtcbiAgICBpZiAob3BhY2l0eSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ3RyYW5zbHVjZW50Jykge1xuICAgICAgICBjb25zdCBkZXB0aE1vZGUgPSBuZXcgRGVwdGhNb2RlKHBhaW50ZXIuY29udGV4dC5nbC5MRVFVQUwsIERlcHRoTW9kZS5SZWFkV3JpdGUsIHBhaW50ZXIuZGVwdGhSYW5nZUZvcjNEKTtcblxuICAgICAgICBpZiAob3BhY2l0eSA9PT0gMSAmJiAhbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuJykuY29uc3RhbnRPcigoMTogYW55KSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yTW9kZSA9IHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO1xuICAgICAgICAgICAgZHJhd0V4dHJ1c2lvblRpbGVzKHBhaW50ZXIsIHNvdXJjZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLCBTdGVuY2lsTW9kZS5kaXNhYmxlZCwgY29sb3JNb2RlKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRHJhdyB0cmFuc3BhcmVudCBidWlsZGluZ3MgaW4gdHdvIHBhc3NlcyBzbyB0aGF0IG9ubHkgdGhlIGNsb3Nlc3Qgc3VyZmFjZSBpcyBkcmF3bi5cbiAgICAgICAgICAgIC8vIEZpcnN0IGRyYXcgYWxsIHRoZSBleHRydXNpb25zIGludG8gb25seSB0aGUgZGVwdGggYnVmZmVyLiBObyBjb2xvcnMgYXJlIGRyYXduLlxuICAgICAgICAgICAgZHJhd0V4dHJ1c2lvblRpbGVzKHBhaW50ZXIsIHNvdXJjZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLFxuICAgICAgICAgICAgICAgIFN0ZW5jaWxNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIENvbG9yTW9kZS5kaXNhYmxlZCk7XG5cbiAgICAgICAgICAgIC8vIFRoZW4gZHJhdyBhbGwgdGhlIGV4dHJ1c2lvbnMgYSBzZWNvbmQgdHlwZSwgb25seSBjb2xvcmluZyBmcmFnbWVudHMgaWYgdGhleSBoYXZlIHRoZVxuICAgICAgICAgICAgLy8gc2FtZSBkZXB0aCB2YWx1ZSBhcyB0aGUgY2xvc2VzdCBmcmFnbWVudCBpbiB0aGUgcHJldmlvdXMgcGFzcy4gVXNlIHRoZSBzdGVuY2lsIGJ1ZmZlclxuICAgICAgICAgICAgLy8gdG8gcHJldmVudCB0aGUgc2Vjb25kIGRyYXcgaW4gY2FzZXMgd2hlcmUgd2UgaGF2ZSBjb2luY2lkZW50IHBvbHlnb25zLlxuICAgICAgICAgICAgZHJhd0V4dHJ1c2lvblRpbGVzKHBhaW50ZXIsIHNvdXJjZSwgbGF5ZXIsIGNvb3JkcywgZGVwdGhNb2RlLFxuICAgICAgICAgICAgICAgIHBhaW50ZXIuc3RlbmNpbE1vZGVGb3IzRCgpLFxuICAgICAgICAgICAgICAgIHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcblxuICAgICAgICAgICAgcGFpbnRlci5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdFeHRydXNpb25UaWxlcyhwYWludGVyLCBzb3VyY2UsIGxheWVyLCBjb29yZHMsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgcGF0dGVyblByb3BlcnR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuJyk7XG4gICAgY29uc3QgaW1hZ2UgPSBwYXR0ZXJuUHJvcGVydHkuY29uc3RhbnRPcigoMTogYW55KSk7XG4gICAgY29uc3Qgb3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tb3BhY2l0eScpO1xuICAgIGNvbnN0IGFvID0gW2xheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5JyksIGxheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzJyldO1xuICAgIGNvbnN0IGVkZ2VSYWRpdXMgPSBsYXllci5sYXlvdXQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1cycpO1xuICAgIGNvbnN0IGhlaWdodExpZnQgPSB0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScgPyBmaWxsRXh0cnVzaW9uSGVpZ2h0TGlmdCgpIDogMDtcbiAgICBjb25zdCBpc0dsb2JlUHJvamVjdGlvbiA9IHRyLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJztcbiAgICBjb25zdCBnbG9iZVRvTWVyY2F0b3IgPSBpc0dsb2JlUHJvamVjdGlvbiA/IGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odHIuem9vbSkgOiAwLjA7XG4gICAgY29uc3QgbWVyY2F0b3JDZW50ZXIgPSBbbWVyY2F0b3JYZnJvbUxuZyh0ci5jZW50ZXIubG5nKSwgbWVyY2F0b3JZZnJvbUxhdCh0ci5jZW50ZXIubGF0KV07XG4gICAgY29uc3QgYmFzZURlZmluZXMgPSAoW106IGFueSk7XG4gICAgaWYgKGlzR2xvYmVQcm9qZWN0aW9uKSB7XG4gICAgICAgIGJhc2VEZWZpbmVzLnB1c2goJ1BST0pFQ1RJT05fR0xPQkVfVklFVycpO1xuICAgIH1cbiAgICBpZiAoYW9bMF0gPiAwKSB7IC8vIGludGVuc2l0eVxuICAgICAgICBiYXNlRGVmaW5lcy5wdXNoKCdGQVVYX0FPJyk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgY29uc3QgYnVja2V0OiA/RmlsbEV4dHJ1c2lvbkJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0IHx8IGJ1Y2tldC5wcm9qZWN0aW9uLm5hbWUgIT09IHRyLnByb2plY3Rpb24ubmFtZSkgY29udGludWU7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oaW1hZ2UgPyAnZmlsbEV4dHJ1c2lvblBhdHRlcm4nIDogJ2ZpbGxFeHRydXNpb24nLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgYmFzZURlZmluZXMpO1xuXG4gICAgICAgIGlmIChwYWludGVyLnRlcnJhaW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHRlcnJhaW4gPSBwYWludGVyLnRlcnJhaW47XG4gICAgICAgICAgICBpZiAocGFpbnRlci5zdHlsZS50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSkge1xuICAgICAgICAgICAgICAgIHRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHRpbGUsIHByb2dyYW0sIHt1c2VNZXRlclRvRGVtOiB0cnVlfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghYnVja2V0LmVuYWJsZVRlcnJhaW4pIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHRpbGUsIHByb2dyYW0sIHt1c2VNZXRlclRvRGVtOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgZmxhdFJvb2ZzVXBkYXRlKGNvbnRleHQsIHNvdXJjZSwgY29vcmQsIGJ1Y2tldCwgbGF5ZXIsIHRlcnJhaW4pO1xuICAgICAgICAgICAgICAgIGlmICghYnVja2V0LmNlbnRyb2lkVmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJJbmRleDogbnVtYmVyIHwgdm9pZCA9IHByb2dyYW0uYXR0cmlidXRlc1snYV9jZW50cm9pZF9wb3MnXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJJbmRleCAhPT0gdW5kZWZpbmVkKSBnbC52ZXJ0ZXhBdHRyaWIyZihhdHRySW5kZXgsIDAsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgcGFpbnRlci5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgIHRpbGUuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24udXBkYXRlUGFpbnRCdWZmZXJzKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29uc3RhbnRQYXR0ZXJuID0gcGF0dGVyblByb3BlcnR5LmNvbnN0YW50T3IobnVsbCk7XG4gICAgICAgIGlmIChjb25zdGFudFBhdHRlcm4gJiYgdGlsZS5pbWFnZUF0bGFzKSB7XG4gICAgICAgICAgICBjb25zdCBhdGxhcyA9IHRpbGUuaW1hZ2VBdGxhcztcbiAgICAgICAgICAgIGNvbnN0IHBvc1RvID0gYXRsYXMucGF0dGVyblBvc2l0aW9uc1tjb25zdGFudFBhdHRlcm4udG9TdHJpbmcoKV07XG4gICAgICAgICAgICBpZiAocG9zVG8pIHByb2dyYW1Db25maWd1cmF0aW9uLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhwb3NUbyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXRyaXggPSBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChcbiAgICAgICAgICAgIGNvb3JkLnByb2pNYXRyaXgsXG4gICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUnKSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvcicpKTtcblxuICAgICAgICBjb25zdCBpbnZNYXRyaXggPSB0ci5wcm9qZWN0aW9uLmNyZWF0ZUludmVyc2lvbk1hdHJpeCh0ciwgY29vcmQuY2Fub25pY2FsKTtcblxuICAgICAgICBjb25zdCBzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50ID0gbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudCcpO1xuICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gaW1hZ2UgP1xuICAgICAgICAgICAgZmlsbEV4dHJ1c2lvblBhdHRlcm5Vbmlmb3JtVmFsdWVzKG1hdHJpeCwgcGFpbnRlciwgc2hvdWxkVXNlVmVydGljYWxHcmFkaWVudCwgb3BhY2l0eSwgYW8sIGVkZ2VSYWRpdXMsIGNvb3JkLFxuICAgICAgICAgICAgICAgIHRpbGUsIGhlaWdodExpZnQsIGdsb2JlVG9NZXJjYXRvciwgbWVyY2F0b3JDZW50ZXIsIGludk1hdHJpeCkgOlxuICAgICAgICAgICAgZmlsbEV4dHJ1c2lvblVuaWZvcm1WYWx1ZXMobWF0cml4LCBwYWludGVyLCBzaG91bGRVc2VWZXJ0aWNhbEdyYWRpZW50LCBvcGFjaXR5LCBhbywgZWRnZVJhZGl1cywgY29vcmQsXG4gICAgICAgICAgICAgICAgaGVpZ2h0TGlmdCwgZ2xvYmVUb01lcmNhdG9yLCBtZXJjYXRvckNlbnRlciwgaW52TWF0cml4KTtcblxuICAgICAgICBwYWludGVyLnByZXBhcmVEcmF3UHJvZ3JhbShjb250ZXh0LCBwcm9ncmFtLCBjb29yZC50b1Vud3JhcHBlZCgpKTtcblxuICAgICAgICBhc3NlcnQoIWlzR2xvYmVQcm9qZWN0aW9uIHx8IGJ1Y2tldC5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXIpO1xuXG4gICAgICAgIGNvbnN0IGR5bmFtaWNCdWZmZXJzID0gW107XG4gICAgICAgIGlmIChwYWludGVyLnRlcnJhaW4pIGR5bmFtaWNCdWZmZXJzLnB1c2goYnVja2V0LmNlbnRyb2lkVmVydGV4QnVmZmVyKTtcbiAgICAgICAgaWYgKGlzR2xvYmVQcm9qZWN0aW9uKSBkeW5hbWljQnVmZmVycy5wdXNoKGJ1Y2tldC5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXIpO1xuXG4gICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBjb250ZXh0LmdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuYmFja0NDVyxcbiAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMsIGxheWVyLmlkLCBidWNrZXQubGF5b3V0VmVydGV4QnVmZmVyLCBidWNrZXQuaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICBidWNrZXQuc2VnbWVudHMsIGxheWVyLnBhaW50LCBwYWludGVyLnRyYW5zZm9ybS56b29tLFxuICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIGR5bmFtaWNCdWZmZXJzKTtcbiAgICB9XG59XG5cbi8vIEZsYXQgcm9vZnMgYXJyYXkgaXMgcHJlcGFyZWQgaW4gdGhlIGJ1Y2tldCwgZXhjZXB0IGZvciBidWlsZGluZ3MgdGhhdCBhcmUgb24gdGlsZSBib3JkZXJzLlxuLy8gRm9yIHRoZW0sIGpvaW4gcGllY2VzLCBjYWxjdWxhdGUgam9pbmVkIHNpemUgaGVyZSwgYW5kIHRoZW4gdXBsb2FkIGRhdGEuXG5mdW5jdGlvbiBmbGF0Um9vZnNVcGRhdGUoY29udGV4dCwgc291cmNlLCBjb29yZCwgYnVja2V0LCBsYXllciwgdGVycmFpbikge1xuICAgIC8vIEZvciBhbGwgZm91ciBib3JkZXJzOiAwIC0gbGVmdCwgMSwgcmlnaHQsIDIgLSB0b3AsIDMgLSBib3R0b21cbiAgICBjb25zdCBuZWlnaGJvckNvb3JkID0gW1xuICAgICAgICAoY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQpID0+IHtcbiAgICAgICAgICAgIGxldCB4ID0gY29vcmQuY2Fub25pY2FsLnggLSAxO1xuICAgICAgICAgICAgbGV0IHcgPSBjb29yZC53cmFwO1xuICAgICAgICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgICAgICAgICAgeCA9ICgxIDw8IGNvb3JkLmNhbm9uaWNhbC56KSAtIDE7XG4gICAgICAgICAgICAgICAgdy0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBPdmVyc2NhbGVkVGlsZUlEKGNvb3JkLm92ZXJzY2FsZWRaLCB3LCBjb29yZC5jYW5vbmljYWwueiwgeCwgY29vcmQuY2Fub25pY2FsLnkpO1xuICAgICAgICB9LFxuICAgICAgICAoY29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQpID0+IHtcbiAgICAgICAgICAgIGxldCB4ID0gY29vcmQuY2Fub25pY2FsLnggKyAxO1xuICAgICAgICAgICAgbGV0IHcgPSBjb29yZC53cmFwO1xuICAgICAgICAgICAgaWYgKHggPT09IDEgPDwgY29vcmQuY2Fub25pY2FsLnopIHtcbiAgICAgICAgICAgICAgICB4ID0gMDtcbiAgICAgICAgICAgICAgICB3Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IE92ZXJzY2FsZWRUaWxlSUQoY29vcmQub3ZlcnNjYWxlZFosIHcsIGNvb3JkLmNhbm9uaWNhbC56LCB4LCBjb29yZC5jYW5vbmljYWwueSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvb3JkID0+IG5ldyBPdmVyc2NhbGVkVGlsZUlEKGNvb3JkLm92ZXJzY2FsZWRaLCBjb29yZC53cmFwLCBjb29yZC5jYW5vbmljYWwueiwgY29vcmQuY2Fub25pY2FsLngsXG4gICAgICAgICAgICAoY29vcmQuY2Fub25pY2FsLnkgPT09IDAgPyAxIDw8IGNvb3JkLmNhbm9uaWNhbC56IDogY29vcmQuY2Fub25pY2FsLnkpIC0gMSksXG4gICAgICAgIGNvb3JkID0+IG5ldyBPdmVyc2NhbGVkVGlsZUlEKGNvb3JkLm92ZXJzY2FsZWRaLCBjb29yZC53cmFwLCBjb29yZC5jYW5vbmljYWwueiwgY29vcmQuY2Fub25pY2FsLngsXG4gICAgICAgICAgICBjb29yZC5jYW5vbmljYWwueSA9PT0gKDEgPDwgY29vcmQuY2Fub25pY2FsLnopIC0gMSA/IDAgOiBjb29yZC5jYW5vbmljYWwueSArIDEpXG4gICAgXTtcblxuICAgIGNvbnN0IGdldExvYWRlZEJ1Y2tldCA9IChuaWQpID0+IHtcbiAgICAgICAgY29uc3QgbWluem9vbSA9IHNvdXJjZS5nZXRTb3VyY2UoKS5taW56b29tO1xuICAgICAgICBjb25zdCBnZXRCdWNrZXQgPSAoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gc291cmNlLmdldFRpbGVCeUlEKGtleSk7XG4gICAgICAgICAgICBpZiAobiAmJiBuLmhhc0RhdGEoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuLmdldEJ1Y2tldChsYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIExvb2sgb25lIHRpbGUgem9vbSBhYm92ZSBhbmQgdW5kZXIuIFdlIGRvIHRoaXMgdG8gYXZvaWQgZmxpY2tlcmluZyBhbmRcbiAgICAgICAgLy8gdXNlIHRoZSBjb250ZW50IGluIFotMSBhbmQgWisxIGJ1Y2tldHMgdW50aWwgWiBidWNrZXQgaXMgbG9hZGVkIG9yIGhhbmRsZVxuICAgICAgICAvLyBiZWhhdmlvciBvbiBib3JkZXJzIGJldHdlZW4gZGlmZmVyZW50IHpvb21zLlxuICAgICAgICBjb25zdCB6b29tTGV2ZWxzID0gWzAsIC0xLCAxXTtcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIHpvb21MZXZlbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHogPSBuaWQub3ZlcnNjYWxlZFogKyBpO1xuICAgICAgICAgICAgaWYgKHogPCBtaW56b29tKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IG5pZC5jYWxjdWxhdGVTY2FsZWRLZXkobmlkLm92ZXJzY2FsZWRaICsgaSk7XG4gICAgICAgICAgICBjb25zdCBiID0gZ2V0QnVja2V0KGtleSk7XG4gICAgICAgICAgICBpZiAoYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHByb2plY3RlZFRvQm9yZGVyID0gWzAsIDAsIDBdOyAvLyBbbWluLCBtYXgsIG1heE9mZnNldEZyb21Cb3JkZXJdXG4gICAgY29uc3QgeGpvaW4gPSAoYSwgYikgPT4ge1xuICAgICAgICBwcm9qZWN0ZWRUb0JvcmRlclswXSA9IE1hdGgubWluKGEubWluLnksIGIubWluLnkpO1xuICAgICAgICBwcm9qZWN0ZWRUb0JvcmRlclsxXSA9IE1hdGgubWF4KGEubWF4LnksIGIubWF4LnkpO1xuICAgICAgICBwcm9qZWN0ZWRUb0JvcmRlclsyXSA9IEVYVEVOVCAtIGIubWluLnggPiBhLm1heC54ID8gYi5taW4ueCAtIEVYVEVOVCA6IGEubWF4Lng7XG4gICAgICAgIHJldHVybiBwcm9qZWN0ZWRUb0JvcmRlcjtcbiAgICB9O1xuICAgIGNvbnN0IHlqb2luID0gKGEsIGIpID0+IHtcbiAgICAgICAgcHJvamVjdGVkVG9Cb3JkZXJbMF0gPSBNYXRoLm1pbihhLm1pbi54LCBiLm1pbi54KTtcbiAgICAgICAgcHJvamVjdGVkVG9Cb3JkZXJbMV0gPSBNYXRoLm1heChhLm1heC54LCBiLm1heC54KTtcbiAgICAgICAgcHJvamVjdGVkVG9Cb3JkZXJbMl0gPSBFWFRFTlQgLSBiLm1pbi55ID4gYS5tYXgueSA/IGIubWluLnkgLSBFWFRFTlQgOiBhLm1heC55O1xuICAgICAgICByZXR1cm4gcHJvamVjdGVkVG9Cb3JkZXI7XG4gICAgfTtcbiAgICBjb25zdCBwcm9qZWN0Q29tYmluZWRTcGFuVG9Cb3JkZXIgPSBbXG4gICAgICAgIChhLCBiKSA9PiB4am9pbihhLCBiKSxcbiAgICAgICAgKGEsIGIpID0+IHhqb2luKGIsIGEpLFxuICAgICAgICAoYSwgYikgPT4geWpvaW4oYSwgYiksXG4gICAgICAgIChhLCBiKSA9PiB5am9pbihiLCBhKVxuICAgIF07XG5cbiAgICBjb25zdCBjZW50cm9pZCA9IG5ldyBQb2ludCgwLCAwKTtcbiAgICBjb25zdCBlcnJvciA9IDM7IC8vIEFsbG93IGludHJ1c2lvbiBvZiBhIGJ1aWxkaW5nIHRvIHRoZSBidWlsZGluZyB3aXRoIGFkamFjZW50IHdhbGwuXG5cbiAgICBsZXQgZGVtVGlsZSwgbmVpZ2hib3JERU1UaWxlLCBuZWlnaGJvclRpbGVJRDtcblxuICAgIGNvbnN0IGZsYXRCYXNlID0gKG1pbiwgbWF4LCBlZGdlLCB2ZXJ0aWNhbEVkZ2UsIG1heE9mZnNldEZyb21Cb3JkZXIpID0+IHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gW1t2ZXJ0aWNhbEVkZ2UgPyBlZGdlIDogbWluLCB2ZXJ0aWNhbEVkZ2UgPyBtaW4gOiBlZGdlLCAwXSwgW3ZlcnRpY2FsRWRnZSA/IGVkZ2UgOiBtYXgsIHZlcnRpY2FsRWRnZSA/IG1heCA6IGVkZ2UsIDBdXTtcblxuICAgICAgICBjb25zdCBjb29yZDMgPSBtYXhPZmZzZXRGcm9tQm9yZGVyIDwgMCA/IEVYVEVOVCArIG1heE9mZnNldEZyb21Cb3JkZXIgOiBtYXhPZmZzZXRGcm9tQm9yZGVyO1xuICAgICAgICBjb25zdCB0aGlyZFBvaW50ID0gW3ZlcnRpY2FsRWRnZSA/IGNvb3JkMyA6IChtaW4gKyBtYXgpIC8gMiwgdmVydGljYWxFZGdlID8gKG1pbiArIG1heCkgLyAyIDogY29vcmQzLCAwXTtcbiAgICAgICAgaWYgKChlZGdlID09PSAwICYmIG1heE9mZnNldEZyb21Cb3JkZXIgPCAwKSB8fCAoZWRnZSAhPT0gMCAmJiBtYXhPZmZzZXRGcm9tQm9yZGVyID4gMCkpIHtcbiAgICAgICAgICAgIC8vIFRoaXJkIHBvaW50IGlzIGluc2lkZSBuZWlnaGJvciB0aWxlLCBub3QgaW4gdGhlIHxjb29yZHwgdGlsZS5cbiAgICAgICAgICAgIHRlcnJhaW4uZ2V0Rm9yVGlsZVBvaW50cyhuZWlnaGJvclRpbGVJRCwgW3RoaXJkUG9pbnRdLCB0cnVlLCBuZWlnaGJvckRFTVRpbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2godGhpcmRQb2ludCk7XG4gICAgICAgIH1cbiAgICAgICAgdGVycmFpbi5nZXRGb3JUaWxlUG9pbnRzKGNvb3JkLCBwb2ludHMsIHRydWUsIGRlbVRpbGUpO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgocG9pbnRzWzBdWzJdLCBwb2ludHNbMV1bMl0sIHRoaXJkUG9pbnRbMl0pIC8gdGVycmFpbi5leGFnZ2VyYXRpb24oKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvY2VzcyBhbGwgZm91ciBib3JkZXJzOiBnZXQgbmVpZ2hib3JpbmcgdGlsZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIC8vIGJvcmRlcnMgLyBib3JkZXJEb25lV2l0aE5laWdoYm9yWjogMCAtIGxlZnQsIDEsIHJpZ2h0LCAyIC0gdG9wLCAzIC0gYm90dG9tXG4gICAgICAgIC8vIGJ1Y2tldCdzIGJvcmRlciBpIGlzIG5laWdoYm9yaW5nIGJ1Y2tldCdzIGJvcmRlciBqOlxuICAgICAgICBjb25zdCBqID0gKGkgPCAyID8gMSA6IDUpIC0gaTtcbiAgICAgICAgLy8gU29ydCBieSBib3JkZXIgaW50ZXJzZWN0aW9uIGFyZWEgbWluaW11bXMsIGFzY2VuZGluZy5cbiAgICAgICAgY29uc3QgYSA9IGJ1Y2tldC5ib3JkZXJzW2ldO1xuICAgICAgICBpZiAoYS5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBuaWQgPSBuZWlnaGJvclRpbGVJRCA9IG5laWdoYm9yQ29vcmRbaV0oY29vcmQpO1xuICAgICAgICBjb25zdCBuQnVja2V0ID0gZ2V0TG9hZGVkQnVja2V0KG5pZCk7XG4gICAgICAgIGlmICghbkJ1Y2tldCB8fCAhKG5CdWNrZXQgaW5zdGFuY2VvZiBGaWxsRXh0cnVzaW9uQnVja2V0KSB8fCAhbkJ1Y2tldC5lbmFibGVUZXJyYWluKSBjb250aW51ZTtcbiAgICAgICAgaWYgKGJ1Y2tldC5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltpXSA9PT0gbkJ1Y2tldC5jYW5vbmljYWwueiAmJlxuICAgICAgICAgICAgbkJ1Y2tldC5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltqXSA9PT0gYnVja2V0LmNhbm9uaWNhbC56KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5laWdoYm9yREVNVGlsZSA9IHRlcnJhaW4uZmluZERFTVRpbGVGb3IobmlkKTtcbiAgICAgICAgaWYgKCFuZWlnaGJvckRFTVRpbGUgfHwgIW5laWdoYm9yREVNVGlsZS5kZW0pIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWRlbVRpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbSA9IHRlcnJhaW4uZmluZERFTVRpbGVGb3IoY29vcmQpO1xuICAgICAgICAgICAgaWYgKCEoZGVtICYmIGRlbS5kZW0pKSByZXR1cm47IC8vIGRlZmVyIHVwZGF0ZSB1bnRpbCBhbiBlbGV2YXRpb24gdGlsZSBpcyBhdmFpbGFibGUuXG4gICAgICAgICAgICBkZW1UaWxlID0gZGVtO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGIgPSBuQnVja2V0LmJvcmRlcnNbal07XG4gICAgICAgIGxldCBpYiA9IDA7XG5cbiAgICAgICAgY29uc3QgdXBkYXRlTmVpZ2hib3IgPSBuQnVja2V0LmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW2pdICE9PSBidWNrZXQuY2Fub25pY2FsLno7XG4gICAgICAgIC8vIElmIG5laWdoYm9ycyBhcmUgb2YgZGlmZmVyZW50IGNhbm9uaWNhbCB6LCB3ZSBjYW5ub3Qgam9pbiBwYXJ0cyBidXQgc2hvd1xuICAgICAgICAvLyBhbGwgd2l0aG91dCBmbGF0IHJvb2ZzLlxuICAgICAgICBpZiAoYnVja2V0LmNhbm9uaWNhbC56ICE9PSBuQnVja2V0LmNhbm9uaWNhbC56KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIGEpIHtcbiAgICAgICAgICAgICAgICBidWNrZXQuZW5jb2RlQ2VudHJvaWQodW5kZWZpbmVkLCBidWNrZXQuZmVhdHVyZXNPbkJvcmRlcltpbmRleF0sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1cGRhdGVOZWlnaGJvcikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgYikge1xuICAgICAgICAgICAgICAgICAgICBuQnVja2V0LmVuY29kZUNlbnRyb2lkKHVuZGVmaW5lZCwgbkJ1Y2tldC5mZWF0dXJlc09uQm9yZGVyW2luZGV4XSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuQnVja2V0LmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW2pdID0gYnVja2V0LmNhbm9uaWNhbC56O1xuICAgICAgICAgICAgICAgIG5CdWNrZXQubmVlZHNDZW50cm9pZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWNrZXQuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbaV0gPSBuQnVja2V0LmNhbm9uaWNhbC56O1xuICAgICAgICAgICAgYnVja2V0Lm5lZWRzQ2VudHJvaWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpYSA9IDA7IGlhIDwgYS5sZW5ndGg7IGlhKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRhID0gYnVja2V0LmZlYXR1cmVzT25Cb3JkZXJbYVtpYV1dO1xuICAgICAgICAgICAgY29uc3QgcGFydEFCb3JkZXJSYW5nZSA9IHBhcnRhLmJvcmRlcnNbaV07XG4gICAgICAgICAgICAvLyBGaW5kIGFsbCBuQnVja2V0IHBhcnRzIHRoYXQgc2hhcmUgdGhlIGJvcmRlciBvdmVybGFwLlxuICAgICAgICAgICAgbGV0IHBhcnRiO1xuICAgICAgICAgICAgd2hpbGUgKGliIDwgYi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBQYXNzIGFsbCB0aGF0IGFyZSBiZWZvcmUgdGhlIG92ZXJsYXAuXG4gICAgICAgICAgICAgICAgcGFydGIgPSBuQnVja2V0LmZlYXR1cmVzT25Cb3JkZXJbYltpYl1dO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRCQm9yZGVyUmFuZ2UgPSBwYXJ0Yi5ib3JkZXJzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0QkJvcmRlclJhbmdlWzFdID4gcGFydEFCb3JkZXJSYW5nZVswXSArIGVycm9yKSBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlTmVpZ2hib3IpIG5CdWNrZXQuZW5jb2RlQ2VudHJvaWQodW5kZWZpbmVkLCBwYXJ0YiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGliKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFydGIgJiYgaWIgPCBiLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVJYiA9IGliO1xuICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29sbGVjdCBhbGwgcGFydHMgb3ZlcmxhcHBpbmcgcGFydGEgb24gdGhlIGVkZ2UsIHRvIG1ha2Ugc3VyZSBpdCBpcyBvbmx5IG9uZS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydEJCb3JkZXJSYW5nZSA9IHBhcnRiLmJvcmRlcnNbal07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0QkJvcmRlclJhbmdlWzBdID4gcGFydEFCb3JkZXJSYW5nZVsxXSAtIGVycm9yKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCsraWIgPT09IGIubGVuZ3RoKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgcGFydGIgPSBuQnVja2V0LmZlYXR1cmVzT25Cb3JkZXJbYltpYl1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJ0YiA9IG5CdWNrZXQuZmVhdHVyZXNPbkJvcmRlcltiW3NhdmVJYl1dO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgYW55IG9mIGEgb3IgYiBjcm9zc2VzIG1vcmUgdGhhbiBvbmUgdGlsZSBlZGdlLCBkb24ndCBzdXBwb3J0IGZsYXQgcm9vZi5cbiAgICAgICAgICAgICAgICBpZiAocGFydGEuaW50ZXJzZWN0c0NvdW50KCkgPiAxIHx8IHBhcnRiLmludGVyc2VjdHNDb3VudCgpID4gMSB8fCBjb3VudCAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGliID0gc2F2ZUliOyAvLyByZXdpbmQgdW5wcm9jZXNzZWQgaWIgc28gdGhhdCBpdCBpcyBwcm9jZXNzZWQgYWdhaW4gZm9yIHRoZSBuZXh0IGlhLlxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYnVja2V0LmVuY29kZUNlbnRyb2lkKHVuZGVmaW5lZCwgcGFydGEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZU5laWdoYm9yKSBuQnVja2V0LmVuY29kZUNlbnRyb2lkKHVuZGVmaW5lZCwgcGFydGIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTm93IHdlIGhhdmUgMS0xIG1hdGNoaW5nIG9mIHBhcnRzIGluIGJvdGggdGlsZXMgdGhhdCBzaGFyZSB0aGUgZWRnZS4gQ2FsY3VsYXRlIGZsYXQgYmFzZSBlbGV2YXRpb25cbiAgICAgICAgICAgICAgICAvLyBhcyBhdmVyYWdlIG9mIHRocmVlIHBvaW50czogMiBhcmUgZWRnZSBwb2ludHMgKGNvbWJpbmVkIHNwYW4gcHJvamVjdGVkIHRvIGJvcmRlcikgYW5kIG9uZSBpcyBwb2ludCBvZlxuICAgICAgICAgICAgICAgIC8vIHNwYW4gdGhhdCBoYXMgbWF4aW11bSBvZmZzZXQgdG8gYm9yZGVyLlxuICAgICAgICAgICAgICAgIGNvbnN0IHNwYW4gPSBwcm9qZWN0Q29tYmluZWRTcGFuVG9Cb3JkZXJbaV0ocGFydGEsIHBhcnRiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlZGdlID0gKGkgJSAyKSA/IEVYVEVOVCAtIDEgOiAwO1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkLnggPSBmbGF0QmFzZShzcGFuWzBdLCBNYXRoLm1pbihFWFRFTlQgLSAxLCBzcGFuWzFdKSwgZWRnZSwgaSA8IDIsIHNwYW5bMl0pO1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkLnkgPSAwO1xuICAgICAgICAgICAgICAgIGFzc2VydChwYXJ0YS52ZXJ0ZXhBcnJheU9mZnNldCAhPT0gdW5kZWZpbmVkICYmIHBhcnRhLnZlcnRleEFycmF5T2Zmc2V0IDwgYnVja2V0LmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgYnVja2V0LmVuY29kZUNlbnRyb2lkKGNlbnRyb2lkLCBwYXJ0YSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgYXNzZXJ0KHBhcnRiLnZlcnRleEFycmF5T2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgcGFydGIudmVydGV4QXJyYXlPZmZzZXQgPCBuQnVja2V0LmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZU5laWdoYm9yKSBuQnVja2V0LmVuY29kZUNlbnRyb2lkKGNlbnRyb2lkLCBwYXJ0YiwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQocGFydGEuaW50ZXJzZWN0c0NvdW50KCkgPiAxIHx8IChwYXJ0YiAmJiBwYXJ0Yi5pbnRlcnNlY3RzQ291bnQoKSA+IDEpKTsgLy8gZXhwZWN0ZWQgYXQgdGhlIGVuZCBvZiBib3JkZXIsIHdoZW4gYnVpbGRpbmdzIGNvdmVyIGNvcm5lciAoc2hvdyBidWlsZGluZyB3L28gZmxhdCByb29mKS5cbiAgICAgICAgICAgICAgICBidWNrZXQuZW5jb2RlQ2VudHJvaWQodW5kZWZpbmVkLCBwYXJ0YSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnVja2V0LmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW2ldID0gbkJ1Y2tldC5jYW5vbmljYWwuejtcbiAgICAgICAgYnVja2V0Lm5lZWRzQ2VudHJvaWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICBpZiAodXBkYXRlTmVpZ2hib3IpIHtcbiAgICAgICAgICAgIG5CdWNrZXQuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbal0gPSBidWNrZXQuY2Fub25pY2FsLno7XG4gICAgICAgICAgICBuQnVja2V0Lm5lZWRzQ2VudHJvaWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGJ1Y2tldC5uZWVkc0NlbnRyb2lkVXBkYXRlIHx8ICghYnVja2V0LmNlbnRyb2lkVmVydGV4QnVmZmVyICYmIGJ1Y2tldC5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCAhPT0gMCkpIHtcbiAgICAgICAgYnVja2V0LnVwbG9hZENlbnRyb2lkKGNvbnRleHQpO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZS5qcyc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUuanMnO1xuaW1wb3J0IHtkZWJ1Z1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4vcHJvZ3JhbS9kZWJ1Z19wcm9ncmFtLmpzJztcbmltcG9ydCBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3IuanMnO1xuaW1wb3J0IENvbG9yTW9kZSBmcm9tICcuLi9nbC9jb2xvcl9tb2RlLmpzJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQge2dsb2JlRGVub3JtYWxpemVFQ0VGLCB0cmFuc2l0aW9uVGlsZUFBQkJpbkVDRUYsIGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb259IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL2dsb2JlX3V0aWwuanMnO1xuaW1wb3J0IHttYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5cbmNvbnN0IHRvcENvbG9yID0gbmV3IENvbG9yKDEsIDAsIDAsIDEpO1xuY29uc3QgYnRtQ29sb3IgPSBuZXcgQ29sb3IoMCwgMSwgMCwgMSk7XG5jb25zdCBsZWZ0Q29sb3IgPSBuZXcgQ29sb3IoMCwgMCwgMSwgMSk7XG5jb25zdCByaWdodENvbG9yID0gbmV3IENvbG9yKDEsIDAsIDEsIDEpO1xuY29uc3QgY2VudGVyQ29sb3IgPSBuZXcgQ29sb3IoMCwgMSwgMSwgMSk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRyYXdEZWJ1ZyhwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBkcmF3RGVidWdUaWxlKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBjb29yZHNbaV0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdEZWJ1Z1BhZGRpbmcocGFpbnRlcjogUGFpbnRlcikge1xuICAgIGNvbnN0IHBhZGRpbmcgPSBwYWludGVyLnRyYW5zZm9ybS5wYWRkaW5nO1xuICAgIGNvbnN0IGxpbmVXaWR0aCA9IDM7XG4gICAgLy8gVG9wXG4gICAgZHJhd0hvcml6b250YWxMaW5lKHBhaW50ZXIsIHBhaW50ZXIudHJhbnNmb3JtLmhlaWdodCAtIChwYWRkaW5nLnRvcCB8fCAwKSwgbGluZVdpZHRoLCB0b3BDb2xvcik7XG4gICAgLy8gQm90dG9tXG4gICAgZHJhd0hvcml6b250YWxMaW5lKHBhaW50ZXIsIHBhZGRpbmcuYm90dG9tIHx8IDAsIGxpbmVXaWR0aCwgYnRtQ29sb3IpO1xuICAgIC8vIExlZnRcbiAgICBkcmF3VmVydGljYWxMaW5lKHBhaW50ZXIsIHBhZGRpbmcubGVmdCB8fCAwLCBsaW5lV2lkdGgsIGxlZnRDb2xvcik7XG4gICAgLy8gUmlnaHRcbiAgICBkcmF3VmVydGljYWxMaW5lKHBhaW50ZXIsIHBhaW50ZXIudHJhbnNmb3JtLndpZHRoIC0gKHBhZGRpbmcucmlnaHQgfHwgMCksIGxpbmVXaWR0aCwgcmlnaHRDb2xvcik7XG4gICAgLy8gQ2VudGVyXG4gICAgY29uc3QgY2VudGVyID0gcGFpbnRlci50cmFuc2Zvcm0uY2VudGVyUG9pbnQ7XG4gICAgZHJhd0Nyb3NzaGFpcihwYWludGVyLCBjZW50ZXIueCwgcGFpbnRlci50cmFuc2Zvcm0uaGVpZ2h0IC0gY2VudGVyLnksIGNlbnRlckNvbG9yKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdEZWJ1Z1F1ZXJ5R2VvbWV0cnkocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZHJhd1RpbGVRdWVyeUdlb21ldHJ5KHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBjb29yZHNbaV0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0RlYnVnVGlsZShwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGNvb3JkOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgIGNvbnN0IGlzR2xvYmVQcm9qZWN0aW9uID0gdHIucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuICAgIGNvbnN0IGRlZmluZXNWYWx1ZXMgPSBpc0dsb2JlUHJvamVjdGlvbiA/IFsnUFJPSkVDVElPTl9HTE9CRV9WSUVXJ10gOiBudWxsO1xuXG4gICAgbGV0IHBvc01hdHJpeCA9IGNvb3JkLnByb2pNYXRyaXg7XG5cbiAgICBpZiAoaXNHbG9iZVByb2plY3Rpb24gJiYgZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0ci56b29tKSA+IDApIHtcbiAgICAgICAgLy8gV2UgdXNlIGEgY3VzdG9tIHRpbGUgbWF0cml4IGhlcmUgaW4gb3JkZXIgdG8gaGFuZGxlIHRoZSBnbG9iZS10by1tZXJjYXRvciB0cmFuc2l0aW9uXG4gICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgaXMgZXF1aXZhbGVudCB0byB0cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4LFxuICAgICAgICAvLyBleGNlcHQgd2UgdXNlIHRyYW5zaXRpb25UaWxlQUFCQmluRUNFRiBpbnN0ZWFkIG9mIGdsb2JlVGlsZUJvdW5kcyB0byBhY2NvdW50IGZvciB0aGUgdHJhbnNpdGlvbi5cbiAgICAgICAgY29uc3QgYm91bmRzID0gdHJhbnNpdGlvblRpbGVBQUJCaW5FQ0VGKGNvb3JkLmNhbm9uaWNhbCwgdHIpO1xuICAgICAgICBjb25zdCBkZWNvZGUgPSBnbG9iZURlbm9ybWFsaXplRUNFRihib3VuZHMpO1xuICAgICAgICBwb3NNYXRyaXggPSBtYXQ0Lm11bHRpcGx5KG5ldyBGbG9hdDMyQXJyYXkoMTYpLCB0ci5nbG9iZU1hdHJpeCwgZGVjb2RlKTtcbiAgICAgICAgbWF0NC5tdWx0aXBseShwb3NNYXRyaXgsIHRyLnByb2pNYXRyaXgsIHBvc01hdHJpeCk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnZGVidWcnLCBudWxsLCBkZWZpbmVzVmFsdWVzKTtcbiAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZUJ5SUQoY29vcmQua2V5KTtcbiAgICBpZiAocGFpbnRlci50ZXJyYWluKSBwYWludGVyLnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHRpbGUsIHByb2dyYW0pO1xuXG4gICAgY29uc3QgZGVwdGhNb2RlID0gRGVwdGhNb2RlLmRpc2FibGVkO1xuICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gU3RlbmNpbE1vZGUuZGlzYWJsZWQ7XG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG4gICAgY29uc3QgaWQgPSAnJGRlYnVnJztcblxuICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgIC8vIEJpbmQgdGhlIGVtcHR5IHRleHR1cmUgZm9yIGRyYXdpbmcgb3V0bGluZXNcbiAgICBwYWludGVyLmVtcHR5VGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cbiAgICBpZiAoaXNHbG9iZVByb2plY3Rpb24pIHtcbiAgICAgICAgdGlsZS5fbWFrZUdsb2JlVGlsZURlYnVnQnVmZmVycyhwYWludGVyLmNvbnRleHQsIHRyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aWxlLl9tYWtlRGVidWdUaWxlQm91bmRzQnVmZmVycyhwYWludGVyLmNvbnRleHQsIHRyLnByb2plY3Rpb24pO1xuICAgIH1cblxuICAgIGNvbnN0IGRlYnVnQnVmZmVyID0gdGlsZS5fdGlsZURlYnVnQnVmZmVyIHx8IHBhaW50ZXIuZGVidWdCdWZmZXI7XG4gICAgY29uc3QgZGVidWdJbmRleEJ1ZmZlciA9IHRpbGUuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyIHx8IHBhaW50ZXIuZGVidWdJbmRleEJ1ZmZlcjtcbiAgICBjb25zdCBkZWJ1Z1NlZ21lbnRzID0gdGlsZS5fdGlsZURlYnVnU2VnbWVudHMgfHwgcGFpbnRlci5kZWJ1Z1NlZ21lbnRzO1xuXG4gICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLkxJTkVfU1RSSVAsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICBkZWJ1Z1VuaWZvcm1WYWx1ZXMocG9zTWF0cml4LCBDb2xvci5yZWQpLCBpZCxcbiAgICAgICAgZGVidWdCdWZmZXIsIGRlYnVnSW5kZXhCdWZmZXIsIGRlYnVnU2VnbWVudHMsXG4gICAgICAgIG51bGwsIG51bGwsIG51bGwsIFt0aWxlLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcl0pO1xuXG4gICAgY29uc3QgdGlsZVJhd0RhdGEgPSB0aWxlLmxhdGVzdFJhd1RpbGVEYXRhO1xuICAgIGNvbnN0IHRpbGVCeXRlTGVuZ3RoID0gKHRpbGVSYXdEYXRhICYmIHRpbGVSYXdEYXRhLmJ5dGVMZW5ndGgpIHx8IDA7XG4gICAgY29uc3QgdGlsZVNpemVLYiA9IE1hdGguZmxvb3IodGlsZUJ5dGVMZW5ndGggLyAxMDI0KTtcbiAgICBjb25zdCB0aWxlU2l6ZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpLnRpbGVTaXplO1xuICAgIGNvbnN0IHNjYWxlUmF0aW8gPSAoNTEyIC8gTWF0aC5taW4odGlsZVNpemUsIDUxMikgKiAoY29vcmQub3ZlcnNjYWxlZFogLyB0ci56b29tKSkgKiAwLjU7XG4gICAgbGV0IHRpbGVMYWJlbCA9IGNvb3JkLmNhbm9uaWNhbC50b1N0cmluZygpO1xuICAgIGlmIChjb29yZC5vdmVyc2NhbGVkWiAhPT0gY29vcmQuY2Fub25pY2FsLnopIHtcbiAgICAgICAgdGlsZUxhYmVsICs9IGAgPT4gJHtjb29yZC5vdmVyc2NhbGVkWn1gO1xuICAgIH1cbiAgICB0aWxlTGFiZWwgKz0gYCAke3RpbGVTaXplS2J9a2JgO1xuICAgIGRyYXdUZXh0VG9PdmVybGF5KHBhaW50ZXIsIHRpbGVMYWJlbCk7XG5cbiAgICBjb25zdCBkZWJ1Z1RleHRCdWZmZXIgPSB0aWxlLl90aWxlRGVidWdUZXh0QnVmZmVyIHx8IHBhaW50ZXIuZGVidWdCdWZmZXI7XG4gICAgY29uc3QgZGVidWdUZXh0SW5kZXhCdWZmZXIgPSB0aWxlLl90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXIgfHwgcGFpbnRlci5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcjtcbiAgICBjb25zdCBkZWJ1Z1RleHRTZWdtZW50cyA9IHRpbGUuX3RpbGVEZWJ1Z1RleHRTZWdtZW50cyB8fCBwYWludGVyLmRlYnVnU2VnbWVudHM7XG5cbiAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBDb2xvck1vZGUuYWxwaGFCbGVuZGVkLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgIGRlYnVnVW5pZm9ybVZhbHVlcyhwb3NNYXRyaXgsIENvbG9yLnRyYW5zcGFyZW50LCBzY2FsZVJhdGlvKSwgaWQsXG4gICAgICAgIGRlYnVnVGV4dEJ1ZmZlciwgZGVidWdUZXh0SW5kZXhCdWZmZXIsIGRlYnVnVGV4dFNlZ21lbnRzLFxuICAgICAgICBudWxsLCBudWxsLCBudWxsLCBbdGlsZS5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyXSk7XG59XG5cbmZ1bmN0aW9uIGRyYXdDcm9zc2hhaXIocGFpbnRlcjogUGFpbnRlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGNvbG9yOiBDb2xvcikge1xuICAgIGNvbnN0IHNpemUgPSAyMDtcbiAgICBjb25zdCBsaW5lV2lkdGggPSAyO1xuICAgIC8vVmVydGljYWwgbGluZVxuICAgIGRyYXdEZWJ1Z1NTUmVjdChwYWludGVyLCB4IC0gbGluZVdpZHRoIC8gMiwgeSAtIHNpemUgLyAyLCBsaW5lV2lkdGgsIHNpemUsIGNvbG9yKTtcbiAgICAvL0hvcml6b250YWwgbGluZVxuICAgIGRyYXdEZWJ1Z1NTUmVjdChwYWludGVyLCB4IC0gc2l6ZSAvIDIsIHkgLSBsaW5lV2lkdGggLyAyLCBzaXplLCBsaW5lV2lkdGgsIGNvbG9yKTtcbn1cblxuZnVuY3Rpb24gZHJhd0hvcml6b250YWxMaW5lKHBhaW50ZXI6IFBhaW50ZXIsIHk6IG51bWJlciwgbGluZVdpZHRoOiBudW1iZXIsIGNvbG9yOiBDb2xvcikge1xuICAgIGRyYXdEZWJ1Z1NTUmVjdChwYWludGVyLCAwLCB5ICArIGxpbmVXaWR0aCAvIDIsIHBhaW50ZXIudHJhbnNmb3JtLndpZHRoLCAgbGluZVdpZHRoLCBjb2xvcik7XG59XG5cbmZ1bmN0aW9uIGRyYXdWZXJ0aWNhbExpbmUocGFpbnRlcjogUGFpbnRlciwgeDogbnVtYmVyLCBsaW5lV2lkdGg6IG51bWJlciwgY29sb3I6IENvbG9yKSB7XG4gICAgZHJhd0RlYnVnU1NSZWN0KHBhaW50ZXIsIHggLSBsaW5lV2lkdGggLyAyLCAwLCBsaW5lV2lkdGgsICBwYWludGVyLnRyYW5zZm9ybS5oZWlnaHQsIGNvbG9yKTtcbn1cblxuZnVuY3Rpb24gZHJhd0RlYnVnU1NSZWN0KHBhaW50ZXI6IFBhaW50ZXIsIHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY29sb3I6IENvbG9yKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICBnbC5zY2lzc29yKHggKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sIHkgKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sIHdpZHRoICogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLCBoZWlnaHQgKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8pO1xuICAgIGNvbnRleHQuY2xlYXIoe2NvbG9yfSk7XG4gICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xufVxuXG5mdW5jdGlvbiBkcmF3VGlsZVF1ZXJ5R2VvbWV0cnkocGFpbnRlciwgc291cmNlQ2FjaGUsIGNvb3JkOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBjb25zdCBwb3NNYXRyaXggPSBjb29yZC5wcm9qTWF0cml4O1xuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2RlYnVnJyk7XG4gICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGVCeUlEKGNvb3JkLmtleSk7XG4gICAgaWYgKHBhaW50ZXIudGVycmFpbikgcGFpbnRlci50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyh0aWxlLCBwcm9ncmFtKTtcblxuICAgIGNvbnN0IGRlcHRoTW9kZSA9IERlcHRoTW9kZS5kaXNhYmxlZDtcbiAgICBjb25zdCBzdGVuY2lsTW9kZSA9IFN0ZW5jaWxNb2RlLmRpc2FibGVkO1xuICAgIGNvbnN0IGNvbG9yTW9kZSA9IHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO1xuICAgIGNvbnN0IGlkID0gJyRkZWJ1Zyc7XG5cbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAvLyBCaW5kIHRoZSBlbXB0eSB0ZXh0dXJlIGZvciBkcmF3aW5nIG91dGxpbmVzXG4gICAgcGFpbnRlci5lbXB0eVRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgY29uc3QgcXVlcnlWaXogPSB0aWxlLnF1ZXJ5R2VvbWV0cnlEZWJ1Z1ZpejtcbiAgICBjb25zdCBib3VuZHNWaXogPSB0aWxlLnF1ZXJ5Qm91bmRzRGVidWdWaXo7XG5cbiAgICBpZiAocXVlcnlWaXogJiYgcXVlcnlWaXoudmVydGljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBxdWVyeVZpei5sYXp5VXBsb2FkKGNvbnRleHQpO1xuICAgICAgICBjb25zdCB2ZXJ0ZXhCdWZmZXIgPSBxdWVyeVZpei52ZXJ0ZXhCdWZmZXI7XG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gcXVlcnlWaXouaW5kZXhCdWZmZXI7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gcXVlcnlWaXouc2VnbWVudHM7XG4gICAgICAgIGlmICh2ZXJ0ZXhCdWZmZXIgIT0gbnVsbCAmJiBpbmRleEJ1ZmZlciAhPSBudWxsICYmIHNlZ21lbnRzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5MSU5FX1NUUklQLCBkZXB0aE1vZGUsIHN0ZW5jaWxNb2RlLCBjb2xvck1vZGUsIEN1bGxGYWNlTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICBkZWJ1Z1VuaWZvcm1WYWx1ZXMocG9zTWF0cml4LCBxdWVyeVZpei5jb2xvciksIGlkLFxuICAgICAgICAgICAgICAgIHZlcnRleEJ1ZmZlciwgaW5kZXhCdWZmZXIsIHNlZ21lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChib3VuZHNWaXogJiYgYm91bmRzVml6LnZlcnRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYm91bmRzVml6LmxhenlVcGxvYWQoY29udGV4dCk7XG4gICAgICAgIGNvbnN0IHZlcnRleEJ1ZmZlciA9IGJvdW5kc1Zpei52ZXJ0ZXhCdWZmZXI7XG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gYm91bmRzVml6LmluZGV4QnVmZmVyO1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IGJvdW5kc1Zpei5zZWdtZW50cztcbiAgICAgICAgaWYgKHZlcnRleEJ1ZmZlciAhPSBudWxsICYmIGluZGV4QnVmZmVyICE9IG51bGwgJiYgc2VnbWVudHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLkxJTkVfU1RSSVAsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIGRlYnVnVW5pZm9ybVZhbHVlcyhwb3NNYXRyaXgsIGJvdW5kc1Zpei5jb2xvciksIGlkLFxuICAgICAgICAgICAgICAgIHZlcnRleEJ1ZmZlciwgaW5kZXhCdWZmZXIsIHNlZ21lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd1RleHRUb092ZXJsYXkocGFpbnRlcjogUGFpbnRlciwgdGV4dDogc3RyaW5nKSB7XG4gICAgcGFpbnRlci5pbml0RGVidWdPdmVybGF5Q2FudmFzKCk7XG4gICAgY29uc3QgY2FudmFzID0gcGFpbnRlci5kZWJ1Z092ZXJsYXlDYW52YXM7XG4gICAgY29uc3QgZ2wgPSBwYWludGVyLmNvbnRleHQuZ2w7XG4gICAgY29uc3QgY3R4MmQgPSBwYWludGVyLmRlYnVnT3ZlcmxheUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eDJkLmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gICAgY3R4MmQuc2hhZG93Q29sb3IgPSAnd2hpdGUnO1xuICAgIGN0eDJkLnNoYWRvd0JsdXIgPSAyO1xuICAgIGN0eDJkLmxpbmVXaWR0aCA9IDEuNTtcbiAgICBjdHgyZC5zdHJva2VTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY3R4MmQudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgY3R4MmQuZm9udCA9IGBib2xkICR7MzZ9cHggT3BlbiBTYW5zLCBzYW5zLXNlcmlmYDtcbiAgICBjdHgyZC5maWxsVGV4dCh0ZXh0LCA1LCA1KTtcbiAgICBjdHgyZC5zdHJva2VUZXh0KHRleHQsIDUsIDUpO1xuXG4gICAgcGFpbnRlci5kZWJ1Z092ZXJsYXlUZXh0dXJlLnVwZGF0ZShjYW52YXMpO1xuICAgIHBhaW50ZXIuZGVidWdPdmVybGF5VGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG59XG4iLCIvLyBAZmxvd1xuaW1wb3J0IHtjcmVhdGVMYXlvdXR9IGZyb20gJy4uL3V0aWwvc3RydWN0X2FycmF5LmpzJztcblxuaW1wb3J0IHR5cGUge1N0cnVjdEFycmF5TGF5b3V0fSBmcm9tICcuLi91dGlsL3N0cnVjdF9hcnJheS5qcyc7XG5cbmV4cG9ydCBjb25zdCBza3lib3hBdHRyaWJ1dGVzOiBTdHJ1Y3RBcnJheUxheW91dCA9IGNyZWF0ZUxheW91dChbXG4gICAge25hbWU6ICdhX3Bvc18zZicsICBjb21wb25lbnRzOiAzLCB0eXBlOiAnRmxvYXQzMid9XG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgc2t5Ym94QXR0cmlidXRlcztcbmV4cG9ydCBjb25zdCB7bWVtYmVycywgc2l6ZSwgYWxpZ25tZW50fSA9IHNreWJveEF0dHJpYnV0ZXM7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge21lbWJlcnMgYXMgc2t5Ym94QXR0cmlidXRlc30gZnJvbSAnLi9za3lib3hfYXR0cmlidXRlcy5qcyc7XG5pbXBvcnQge1NreWJveFZlcnRleEFycmF5LCBUcmlhbmdsZUluZGV4QXJyYXl9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMuanMnO1xuaW1wb3J0IFNlZ21lbnRWZWN0b3IgZnJvbSAnLi4vZGF0YS9zZWdtZW50LmpzJztcbmltcG9ydCB0eXBlIEluZGV4QnVmZmVyIGZyb20gJy4uL2dsL2luZGV4X2J1ZmZlci5qcyc7XG5pbXBvcnQgdHlwZSBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi4vZ2wvdmVydGV4X2J1ZmZlci5qcyc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQuanMnO1xuXG5mdW5jdGlvbiBhZGRWZXJ0ZXgodmVydGV4QXJyYXksIHgsIHksIHopIHtcbiAgICB2ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhcbiAgICAgICAgLy8gYV9wb3NcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgelxuICAgICk7XG59XG5cbmNsYXNzIFNreWJveEdlb21ldHJ5IHtcbiAgICB2ZXJ0ZXhBcnJheTogU2t5Ym94VmVydGV4QXJyYXk7XG4gICAgdmVydGV4QnVmZmVyOiBWZXJ0ZXhCdWZmZXI7XG4gICAgaW5kaWNlczogVHJpYW5nbGVJbmRleEFycmF5O1xuICAgIGluZGV4QnVmZmVyOiBJbmRleEJ1ZmZlcjtcbiAgICBzZWdtZW50OiBTZWdtZW50VmVjdG9yO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLnZlcnRleEFycmF5ID0gbmV3IFNreWJveFZlcnRleEFycmF5KCk7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBUcmlhbmdsZUluZGV4QXJyYXkoKTtcblxuICAgICAgICBhZGRWZXJ0ZXgodGhpcy52ZXJ0ZXhBcnJheSwgLTEuMCwgLTEuMCwgIDEuMCk7XG4gICAgICAgIGFkZFZlcnRleCh0aGlzLnZlcnRleEFycmF5LCAgMS4wLCAtMS4wLCAgMS4wKTtcbiAgICAgICAgYWRkVmVydGV4KHRoaXMudmVydGV4QXJyYXksIC0xLjAsICAxLjAsICAxLjApO1xuICAgICAgICBhZGRWZXJ0ZXgodGhpcy52ZXJ0ZXhBcnJheSwgIDEuMCwgIDEuMCwgIDEuMCk7XG4gICAgICAgIGFkZFZlcnRleCh0aGlzLnZlcnRleEFycmF5LCAtMS4wLCAtMS4wLCAtMS4wKTtcbiAgICAgICAgYWRkVmVydGV4KHRoaXMudmVydGV4QXJyYXksICAxLjAsIC0xLjAsIC0xLjApO1xuICAgICAgICBhZGRWZXJ0ZXgodGhpcy52ZXJ0ZXhBcnJheSwgLTEuMCwgIDEuMCwgLTEuMCk7XG4gICAgICAgIGFkZFZlcnRleCh0aGlzLnZlcnRleEFycmF5LCAgMS4wLCAgMS4wLCAtMS4wKTtcblxuICAgICAgICAvLyAreFxuICAgICAgICB0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNSwgMSwgMyk7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygzLCA3LCA1KTtcbiAgICAgICAgLy8gLXhcbiAgICAgICAgdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDYsIDIsIDApO1xuICAgICAgICB0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMCwgNCwgNik7XG4gICAgICAgIC8vICt5XG4gICAgICAgIHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygyLCA2LCA3KTtcbiAgICAgICAgdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDcsIDMsIDIpO1xuICAgICAgICAvLyAteVxuICAgICAgICB0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNSwgNCwgMCk7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygwLCAxLCA1KTtcbiAgICAgICAgLy8gK3pcbiAgICAgICAgdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDAsIDIsIDMpO1xuICAgICAgICB0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMywgMSwgMCk7XG4gICAgICAgIC8vIC16XG4gICAgICAgIHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg3LCA2LCA0KTtcbiAgICAgICAgdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDQsIDUsIDcpO1xuXG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy52ZXJ0ZXhBcnJheSwgc2t5Ym94QXR0cmlidXRlcyk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kaWNlcyk7XG5cbiAgICAgICAgdGhpcy5zZWdtZW50ID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIDM2LCAxMik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTa3lib3hHZW9tZXRyeTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUuanMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlLmpzJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZS5qcyc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlLmpzJztcbmltcG9ydCBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQuanMnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi90ZXh0dXJlLmpzJztcbmltcG9ydCBQcm9ncmFtIGZyb20gJy4vcHJvZ3JhbS5qcyc7XG5pbXBvcnQge3Ntb290aHN0ZXB9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlLmpzJztcbmltcG9ydCBTa3lib3hHZW9tZXRyeSBmcm9tICcuL3NreWJveF9nZW9tZXRyeS5qcyc7XG5pbXBvcnQge3NreWJveFVuaWZvcm1WYWx1ZXMsIHNreWJveEdyYWRpZW50VW5pZm9ybVZhbHVlc30gZnJvbSAnLi9wcm9ncmFtL3NreWJveF9wcm9ncmFtLmpzJztcbmltcG9ydCB7c2t5Ym94Q2FwdHVyZVVuaWZvcm1WYWx1ZXN9IGZyb20gJy4vcHJvZ3JhbS9za3lib3hfY2FwdHVyZV9wcm9ncmFtLmpzJztcbmltcG9ydCBTa3lMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9za3lfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXIuanMnO1xuaW1wb3J0IHttYXQzLCBtYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSB7TWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd1NreTtcblxuY29uc3QgVFJBTlNJVElPTl9PUEFDSVRZX1pPT01fU1RBUlQgPSA3O1xuY29uc3QgVFJBTlNJVElPTl9PUEFDSVRZX1pPT01fRU5EID0gODtcblxuZnVuY3Rpb24gZHJhd1NreShwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBTa3lMYXllcikge1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgZ2xvYmVPck1lcmNhdG9yID0gKHRyLnByb2plY3Rpb24ubmFtZSA9PT0gJ21lcmNhdG9yJyB8fCB0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScpO1xuICAgIC8vIEZvciBub24tbWVyY2F0b3IgcHJvamVjdGlvbiwgdXNlIGEgZm9yY2VkIG9wYWNpdHkgdHJhbnNpdGlvbi4gVGhpcyB0cmFuc2l0aW9uIGlzIHNldCB0byBiZVxuICAgIC8vIDEuMCBhZnRlciB0aGUgc2hlZXIgYWRqdXN0bWVudCB1cHBlciBib3VuZCB3aGljaCBlbnN1cmVzIHRvIGJlIGluIHRoZSBtZXJjYXRvciBwcm9qZWN0aW9uLlxuICAgIC8vIE5vdGU6IHdlIG9ubHkgcmVuZGVyIHNreSBmb3IgZ2xvYmUgcHJvamVjdGlvbiBkdXJpbmcgdGhlIHRyYW5zaXRpb24gdG8gbWVyY2F0b3IuXG4gICAgY29uc3QgdHJhbnNpdGlvbk9wYWNpdHkgPSBnbG9iZU9yTWVyY2F0b3IgPyAxLjAgOiBzbW9vdGhzdGVwKFRSQU5TSVRJT05fT1BBQ0lUWV9aT09NX1NUQVJULCBUUkFOU0lUSU9OX09QQUNJVFlfWk9PTV9FTkQsIHRyLnpvb20pO1xuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ3NreS1vcGFjaXR5JykgKiB0cmFuc2l0aW9uT3BhY2l0eTtcbiAgICBpZiAob3BhY2l0eSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCB0eXBlID0gbGF5ZXIucGFpbnQuZ2V0KCdza3ktdHlwZScpO1xuICAgIGNvbnN0IGRlcHRoTW9kZSA9IG5ldyBEZXB0aE1vZGUoY29udGV4dC5nbC5MRVFVQUwsIERlcHRoTW9kZS5SZWFkT25seSwgWzAsIDFdKTtcbiAgICBjb25zdCB0ZW1wb3JhbE9mZnNldCA9IChwYWludGVyLmZyYW1lQ291bnRlciAvIDEwMDAuMCkgJSAxO1xuXG4gICAgaWYgKHR5cGUgPT09ICdhdG1vc3BoZXJlJykge1xuICAgICAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAnb2Zmc2NyZWVuJykge1xuICAgICAgICAgICAgaWYgKGxheWVyLm5lZWRzU2t5Ym94Q2FwdHVyZShwYWludGVyKSkge1xuICAgICAgICAgICAgICAgIGNhcHR1cmVTa3lib3gocGFpbnRlciwgbGF5ZXIsIDMyLCAzMik7XG4gICAgICAgICAgICAgICAgbGF5ZXIubWFya1NreWJveFZhbGlkKHBhaW50ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ3NreScpIHtcbiAgICAgICAgICAgIGRyYXdTa3lib3hGcm9tQ2FwdHVyZShwYWludGVyLCBsYXllciwgZGVwdGhNb2RlLCBvcGFjaXR5LCB0ZW1wb3JhbE9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdncmFkaWVudCcpIHtcbiAgICAgICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ3NreScpIHtcbiAgICAgICAgICAgIGRyYXdTa3lib3hHcmFkaWVudChwYWludGVyLCBsYXllciwgZGVwdGhNb2RlLCBvcGFjaXR5LCB0ZW1wb3JhbE9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBhc3NlcnQoZmFsc2UsIGAke3R5cGV9IGlzIHVuc3VwcG9ydGVkIHNreS10eXBlYCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3U2t5Ym94R3JhZGllbnQocGFpbnRlcjogUGFpbnRlciwgbGF5ZXI6IFNreUxheWVyLCBkZXB0aE1vZGU6IERlcHRoTW9kZSwgb3BhY2l0eTogbnVtYmVyLCB0ZW1wb3JhbE9mZnNldDogbnVtYmVyKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnc2t5Ym94R3JhZGllbnQnKTtcblxuICAgIC8vIExhemlseSBpbml0aWFsaXplIGdlb21ldHJ5IGFuZCB0ZXh0dXJlIGlmIHRoZXkgaGF2ZW50IGJlZW4gY3JlYXRlZCB5ZXQuXG4gICAgaWYgKCFsYXllci5za3lib3hHZW9tZXRyeSkge1xuICAgICAgICBsYXllci5za3lib3hHZW9tZXRyeSA9IG5ldyBTa3lib3hHZW9tZXRyeShjb250ZXh0KTtcbiAgICB9XG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgbGV0IGNvbG9yUmFtcFRleHR1cmUgPSBsYXllci5jb2xvclJhbXBUZXh0dXJlO1xuICAgIGlmICghY29sb3JSYW1wVGV4dHVyZSkge1xuICAgICAgICBjb2xvclJhbXBUZXh0dXJlID0gbGF5ZXIuY29sb3JSYW1wVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIGxheWVyLmNvbG9yUmFtcCwgZ2wuUkdCQSk7XG4gICAgfVxuICAgIGNvbG9yUmFtcFRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSBza3lib3hHcmFkaWVudFVuaWZvcm1WYWx1ZXMoXG4gICAgICAgIHRyYW5zZm9ybS5za3lib3hNYXRyaXgsXG4gICAgICAgIGxheWVyLmdldENlbnRlcihwYWludGVyLCBmYWxzZSksXG4gICAgICAgIGxheWVyLnBhaW50LmdldCgnc2t5LWdyYWRpZW50LXJhZGl1cycpLFxuICAgICAgICBvcGFjaXR5LFxuICAgICAgICB0ZW1wb3JhbE9mZnNldFxuICAgICk7XG5cbiAgICBwYWludGVyLnByZXBhcmVEcmF3UHJvZ3JhbShjb250ZXh0LCBwcm9ncmFtKTtcblxuICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSwgU3RlbmNpbE1vZGUuZGlzYWJsZWQsXG4gICAgICAgIHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLCBDdWxsRmFjZU1vZGUuYmFja0NXLFxuICAgICAgICB1bmlmb3JtVmFsdWVzLCAnc2t5Ym94R3JhZGllbnQnLCBsYXllci5za3lib3hHZW9tZXRyeS52ZXJ0ZXhCdWZmZXIsXG4gICAgICAgIGxheWVyLnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLCBsYXllci5za3lib3hHZW9tZXRyeS5zZWdtZW50KTtcbn1cblxuZnVuY3Rpb24gZHJhd1NreWJveEZyb21DYXB0dXJlKHBhaW50ZXI6IFBhaW50ZXIsIGxheWVyOiBTa3lMYXllciwgZGVwdGhNb2RlOiBEZXB0aE1vZGUsIG9wYWNpdHk6IG51bWJlciwgdGVtcG9yYWxPZmZzZXQ6IG51bWJlcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ3NreWJveCcpO1xuXG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG5cbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLCBsYXllci5za3lib3hUZXh0dXJlKTtcblxuICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSBza3lib3hVbmlmb3JtVmFsdWVzKHRyYW5zZm9ybS5za3lib3hNYXRyaXgsIGxheWVyLmdldENlbnRlcihwYWludGVyLCBmYWxzZSksIDAsIG9wYWNpdHksIHRlbXBvcmFsT2Zmc2V0KTtcblxuICAgIHBhaW50ZXIucHJlcGFyZURyYXdQcm9ncmFtKGNvbnRleHQsIHByb2dyYW0pO1xuXG4gICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBTdGVuY2lsTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksIEN1bGxGYWNlTW9kZS5iYWNrQ1csXG4gICAgICAgIHVuaWZvcm1WYWx1ZXMsICdza3lib3gnLCBsYXllci5za3lib3hHZW9tZXRyeS52ZXJ0ZXhCdWZmZXIsXG4gICAgICAgIGxheWVyLnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLCBsYXllci5za3lib3hHZW9tZXRyeS5zZWdtZW50KTtcbn1cblxuZnVuY3Rpb24gZHJhd1NreWJveEZhY2UoY29udGV4dDogQ29udGV4dCwgbGF5ZXI6IFNreUxheWVyLCBwcm9ncmFtOiBQcm9ncmFtPGFueT4sIGZhY2VSb3RhdGU6IE1hdDQsIHN1bkRpcmVjdGlvbjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLCBpOiBudW1iZXIpIHtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBjb25zdCBhdG1vc3BoZXJlQ29sb3IgPSBsYXllci5wYWludC5nZXQoJ3NreS1hdG1vc3BoZXJlLWNvbG9yJyk7XG4gICAgY29uc3QgYXRtb3NwaGVyZUhhbG9Db2xvciA9IGxheWVyLnBhaW50LmdldCgnc2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvcicpO1xuICAgIGNvbnN0IHN1bkludGVuc2l0eSA9IGxheWVyLnBhaW50LmdldCgnc2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eScpO1xuXG4gICAgY29uc3QgdW5pZm9ybVZhbHVlcyA9IHNreWJveENhcHR1cmVVbmlmb3JtVmFsdWVzKFxuICAgICAgICBtYXQzLmZyb21NYXQ0KG1hdDMuY3JlYXRlKCksIGZhY2VSb3RhdGUpLFxuICAgICAgICBzdW5EaXJlY3Rpb24sXG4gICAgICAgIHN1bkludGVuc2l0eSxcbiAgICAgICAgYXRtb3NwaGVyZUNvbG9yLFxuICAgICAgICBhdG1vc3BoZXJlSGFsb0NvbG9yKTtcblxuICAgIGNvbnN0IGdsRmFjZSA9IGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGk7XG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbEZhY2UsIGxheWVyLnNreWJveFRleHR1cmUsIDApO1xuXG4gICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgRGVwdGhNb2RlLmRpc2FibGVkLCBTdGVuY2lsTW9kZS5kaXNhYmxlZCwgQ29sb3JNb2RlLnVuYmxlbmRlZCwgQ3VsbEZhY2VNb2RlLmZyb250Q1csXG4gICAgICAgIHVuaWZvcm1WYWx1ZXMsICdza3lib3hDYXB0dXJlJywgbGF5ZXIuc2t5Ym94R2VvbWV0cnkudmVydGV4QnVmZmVyLFxuICAgICAgICBsYXllci5za3lib3hHZW9tZXRyeS5pbmRleEJ1ZmZlciwgbGF5ZXIuc2t5Ym94R2VvbWV0cnkuc2VnbWVudCk7XG59XG5cbmZ1bmN0aW9uIGNhcHR1cmVTa3lib3gocGFpbnRlcjogUGFpbnRlciwgbGF5ZXI6IFNreUxheWVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGxldCBmYm8gPSBsYXllci5za3lib3hGYm87XG5cbiAgICAvLyBVc2luZyBhYnNlbmNlIG9mIGZibyBhcyBhIHNpZ25hbCBmb3IgbGF6eSBpbml0aWFsaXphdGlvbiBvZiBhbGwgcmVzb3VyY2VzLCBjYWNoZSByZXNvdXJjZXMgaW4gbGF5ZXIgb2JqZWN0XG4gICAgaWYgKCFmYm8pIHtcbiAgICAgICAgZmJvID0gbGF5ZXIuc2t5Ym94RmJvID0gY29udGV4dC5jcmVhdGVGcmFtZWJ1ZmZlcih3aWR0aCwgaGVpZ2h0LCBmYWxzZSk7XG4gICAgICAgIGxheWVyLnNreWJveEdlb21ldHJ5ID0gbmV3IFNreWJveEdlb21ldHJ5KGNvbnRleHQpO1xuICAgICAgICBsYXllci5za3lib3hUZXh0dXJlID0gY29udGV4dC5nbC5jcmVhdGVUZXh0dXJlKCk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCwgbGF5ZXIuc2t5Ym94VGV4dHVyZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBnbEZhY2UgPSBnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpO1xuXG4gICAgICAgICAgICAvLyBUaGUgZm9ybWF0IGhlcmUgY291bGQgYmUgUkdCLCBidXQgcmVuZGVyIHRlc3RzIGFyZSBub3QgaGFwcHkgd2l0aCByZW5kZXJpbmcgdG8gc3VjaCBhIGZvcm1hdFxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbEZhY2UsIDAsIGdsLlJHQkEsIHdpZHRoLCBoZWlnaHQsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHdpZHRoLCBoZWlnaHRdKTtcblxuICAgIGNvbnN0IHN1bkRpcmVjdGlvbiA9IGxheWVyLmdldENlbnRlcihwYWludGVyLCB0cnVlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdza3lib3hDYXB0dXJlJyk7XG4gICAgY29uc3QgZmFjZVJvdGF0ZSA9IG5ldyBGbG9hdDY0QXJyYXkoMTYpO1xuXG4gICAgLy8gK3g7XG4gICAgbWF0NC5pZGVudGl0eShmYWNlUm90YXRlKTtcbiAgICBtYXQ0LnJvdGF0ZVkoZmFjZVJvdGF0ZSwgZmFjZVJvdGF0ZSwgLU1hdGguUEkgKiAwLjUpO1xuICAgIGRyYXdTa3lib3hGYWNlKGNvbnRleHQsIGxheWVyLCBwcm9ncmFtLCBmYWNlUm90YXRlLCBzdW5EaXJlY3Rpb24sIDApO1xuICAgIC8vIC14XG4gICAgbWF0NC5pZGVudGl0eShmYWNlUm90YXRlKTtcbiAgICBtYXQ0LnJvdGF0ZVkoZmFjZVJvdGF0ZSwgZmFjZVJvdGF0ZSwgTWF0aC5QSSAqIDAuNSk7XG4gICAgZHJhd1NreWJveEZhY2UoY29udGV4dCwgbGF5ZXIsIHByb2dyYW0sIGZhY2VSb3RhdGUsIHN1bkRpcmVjdGlvbiwgMSk7XG4gICAgLy8gK3lcbiAgICBtYXQ0LmlkZW50aXR5KGZhY2VSb3RhdGUpO1xuICAgIG1hdDQucm90YXRlWChmYWNlUm90YXRlLCBmYWNlUm90YXRlLCAtTWF0aC5QSSAqIDAuNSk7XG4gICAgZHJhd1NreWJveEZhY2UoY29udGV4dCwgbGF5ZXIsIHByb2dyYW0sIGZhY2VSb3RhdGUsIHN1bkRpcmVjdGlvbiwgMik7XG4gICAgLy8gLXlcbiAgICBtYXQ0LmlkZW50aXR5KGZhY2VSb3RhdGUpO1xuICAgIG1hdDQucm90YXRlWChmYWNlUm90YXRlLCBmYWNlUm90YXRlLCBNYXRoLlBJICogMC41KTtcbiAgICBkcmF3U2t5Ym94RmFjZShjb250ZXh0LCBsYXllciwgcHJvZ3JhbSwgZmFjZVJvdGF0ZSwgc3VuRGlyZWN0aW9uLCAzKTtcbiAgICAvLyArelxuICAgIG1hdDQuaWRlbnRpdHkoZmFjZVJvdGF0ZSk7XG4gICAgZHJhd1NreWJveEZhY2UoY29udGV4dCwgbGF5ZXIsIHByb2dyYW0sIGZhY2VSb3RhdGUsIHN1bkRpcmVjdGlvbiwgNCk7XG4gICAgLy8gLXpcbiAgICBtYXQ0LmlkZW50aXR5KGZhY2VSb3RhdGUpO1xuICAgIG1hdDQucm90YXRlWShmYWNlUm90YXRlLCBmYWNlUm90YXRlLCBNYXRoLlBJKTtcbiAgICBkcmF3U2t5Ym94RmFjZShjb250ZXh0LCBsYXllciwgcHJvZ3JhbSwgZmFjZVJvdGF0ZSwgc3VuRGlyZWN0aW9uLCA1KTtcblxuICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodF0pO1xufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7Y3JlYXRlTGF5b3V0fSBmcm9tICcuLi91dGlsL3N0cnVjdF9hcnJheS5qcyc7XG5cbmltcG9ydCB0eXBlIHtTdHJ1Y3RBcnJheUxheW91dH0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXkuanMnO1xuXG5leHBvcnQgY29uc3QgYXRtb3NwaGVyZUxheW91dDogU3RydWN0QXJyYXlMYXlvdXQgPSBjcmVhdGVMYXlvdXQoW1xuICAgIHt0eXBlOiAnRmxvYXQzMicsIG5hbWU6ICdhX3BvcycsIGNvbXBvbmVudHM6IDN9LFxuICAgIHt0eXBlOiAnRmxvYXQzMicsIG5hbWU6ICdhX3V2JywgY29tcG9uZW50czogMn1cbl0pO1xuIiwiLy8gQGZsb3dcbmltcG9ydCB0eXBlIEluZGV4QnVmZmVyIGZyb20gJy4uL2dsL2luZGV4X2J1ZmZlci5qcyc7XG5pbXBvcnQgdHlwZSBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi4vZ2wvdmVydGV4X2J1ZmZlci5qcyc7XG5pbXBvcnQgU2VnbWVudFZlY3RvciBmcm9tICcuLi9kYXRhL3NlZ21lbnQuanMnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0LmpzJztcbmltcG9ydCB7YXRtb3NwaGVyZUxheW91dH0gZnJvbSAnLi9hdG1vc3BoZXJlX2F0dHJpYnV0ZXMuanMnO1xuaW1wb3J0IHtUcmlhbmdsZUluZGV4QXJyYXksIEF0bW9zcGhlcmVWZXJ0ZXhBcnJheX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBBdG1vc3BoZXJlQnVmZmVyIHtcbiAgICB2ZXJ0ZXhCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICBpbmRleEJ1ZmZlcjogSW5kZXhCdWZmZXI7XG4gICAgc2VnbWVudHM6IFNlZ21lbnRWZWN0b3I7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gbmV3IEF0bW9zcGhlcmVWZXJ0ZXhBcnJheSgpO1xuICAgICAgICB2ZXJ0aWNlcy5lbXBsYWNlQmFjaygtMSwgMSwgMSwgMCwgMCk7XG4gICAgICAgIHZlcnRpY2VzLmVtcGxhY2VCYWNrKDEsIDEsIDEsIDEsIDApO1xuICAgICAgICB2ZXJ0aWNlcy5lbXBsYWNlQmFjaygxLCAtMSwgMSwgMSwgMSk7XG4gICAgICAgIHZlcnRpY2VzLmVtcGxhY2VCYWNrKC0xLCAtMSwgMSwgMCwgMSk7XG5cbiAgICAgICAgY29uc3QgdHJpYW5nbGVzID0gbmV3IFRyaWFuZ2xlSW5kZXhBcnJheSgpO1xuICAgICAgICB0cmlhbmdsZXMuZW1wbGFjZUJhY2soMCwgMSwgMik7XG4gICAgICAgIHRyaWFuZ2xlcy5lbXBsYWNlQmFjaygyLCAzLCAwKTtcblxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKHZlcnRpY2VzLCBhdG1vc3BoZXJlTGF5b3V0Lm1lbWJlcnMpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gY29udGV4dC5jcmVhdGVJbmRleEJ1ZmZlcih0cmlhbmdsZXMpO1xuICAgICAgICB0aGlzLnNlZ21lbnRzID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIDQsIDIpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuc2VnbWVudHMuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93LmpzJztcblxuaW1wb3J0IHttYXQ0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudC5qcyc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzLmpzJztcbmltcG9ydCBTZWdtZW50VmVjdG9yIGZyb20gJy4uL2RhdGEvc2VnbWVudC5qcyc7XG5pbXBvcnQge1Bvc0FycmF5LCBUaWxlQm91bmRzQXJyYXksIFRyaWFuZ2xlSW5kZXhBcnJheSwgTGluZVN0cmlwSW5kZXhBcnJheX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcy5qcyc7XG5pbXBvcnQge3ZhbHVlc30gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7aXNNYXBBdXRoZW50aWNhdGVkfSBmcm9tICcuLi91dGlsL21hcGJveC5qcyc7XG5pbXBvcnQgcG9zQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL3Bvc19hdHRyaWJ1dGVzLmpzJztcbmltcG9ydCBib3VuZHNBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvYm91bmRzX2F0dHJpYnV0ZXMuanMnO1xuaW1wb3J0IFByb2dyYW1Db25maWd1cmF0aW9uIGZyb20gJy4uL2RhdGEvcHJvZ3JhbV9jb25maWd1cmF0aW9uLmpzJztcbmltcG9ydCBDcm9zc1RpbGVTeW1ib2xJbmRleCBmcm9tICcuLi9zeW1ib2wvY3Jvc3NfdGlsZV9zeW1ib2xfaW5kZXguanMnO1xuaW1wb3J0IHNoYWRlcnMgZnJvbSAnLi4vc2hhZGVycy9zaGFkZXJzLmpzJztcbmltcG9ydCBQcm9ncmFtIGZyb20gJy4vcHJvZ3JhbS5qcyc7XG5pbXBvcnQge3Byb2dyYW1Vbmlmb3Jtc30gZnJvbSAnLi9wcm9ncmFtL3Byb2dyYW1fdW5pZm9ybXMuanMnO1xuaW1wb3J0IENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dC5qcyc7XG5pbXBvcnQge2ZvZ1VuaWZvcm1WYWx1ZXN9IGZyb20gJy4uL3JlbmRlci9mb2cuanMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlLmpzJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUuanMnO1xuaW1wb3J0IENvbG9yTW9kZSBmcm9tICcuLi9nbC9jb2xvcl9tb2RlLmpzJztcbmltcG9ydCBDdWxsRmFjZU1vZGUgZnJvbSAnLi4vZ2wvY3VsbF9mYWNlX21vZGUuanMnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi90ZXh0dXJlLmpzJztcbmltcG9ydCB7Y2xpcHBpbmdNYXNrVW5pZm9ybVZhbHVlc30gZnJvbSAnLi9wcm9ncmFtL2NsaXBwaW5nX21hc2tfcHJvZ3JhbS5qcyc7XG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yLmpzJztcbmltcG9ydCBzeW1ib2wgZnJvbSAnLi9kcmF3X3N5bWJvbC5qcyc7XG5pbXBvcnQgY2lyY2xlIGZyb20gJy4vZHJhd19jaXJjbGUuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IGhlYXRtYXAgZnJvbSAnLi9kcmF3X2hlYXRtYXAuanMnO1xuaW1wb3J0IGxpbmUgZnJvbSAnLi9kcmF3X2xpbmUuanMnO1xuaW1wb3J0IGZpbGwgZnJvbSAnLi9kcmF3X2ZpbGwuanMnO1xuaW1wb3J0IGZpbGxFeHRydXNpb24gZnJvbSAnLi9kcmF3X2ZpbGxfZXh0cnVzaW9uLmpzJztcbmltcG9ydCBoaWxsc2hhZGUgZnJvbSAnLi9kcmF3X2hpbGxzaGFkZS5qcyc7XG5pbXBvcnQgcmFzdGVyIGZyb20gJy4vZHJhd19yYXN0ZXIuanMnO1xuaW1wb3J0IGJhY2tncm91bmQgZnJvbSAnLi9kcmF3X2JhY2tncm91bmQuanMnO1xuaW1wb3J0IGRlYnVnLCB7ZHJhd0RlYnVnUGFkZGluZywgZHJhd0RlYnVnUXVlcnlHZW9tZXRyeX0gZnJvbSAnLi9kcmF3X2RlYnVnLmpzJztcbmltcG9ydCBjdXN0b20gZnJvbSAnLi9kcmF3X2N1c3RvbS5qcyc7XG5pbXBvcnQgc2t5IGZyb20gJy4vZHJhd19za3kuanMnO1xuaW1wb3J0IGRyYXdBdG1vc3BoZXJlIGZyb20gJy4vZHJhd19hdG1vc3BoZXJlLmpzJztcbmltcG9ydCB7R2xvYmVTaGFyZWRCdWZmZXJzLCBnbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9ufSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcbmltcG9ydCB7QXRtb3NwaGVyZUJ1ZmZlcn0gZnJvbSAnLi4vcmVuZGVyL2F0bW9zcGhlcmVfYnVmZmVyLmpzJztcbmltcG9ydCB7VGVycmFpbn0gZnJvbSAnLi4vdGVycmFpbi90ZXJyYWluLmpzJztcbmltcG9ydCB7RGVidWd9IGZyb20gJy4uL3V0aWwvZGVidWcuanMnO1xuaW1wb3J0IFRpbGUgZnJvbSAnLi4vc291cmNlL3RpbGUuanMnO1xuaW1wb3J0IHtSR0JBSW1hZ2V9IGZyb20gJy4uL3V0aWwvaW1hZ2UuanMnO1xuXG5jb25zdCBkcmF3ID0ge1xuICAgIHN5bWJvbCxcbiAgICBjaXJjbGUsXG4gICAgaGVhdG1hcCxcbiAgICBsaW5lLFxuICAgIGZpbGwsXG4gICAgJ2ZpbGwtZXh0cnVzaW9uJzogZmlsbEV4dHJ1c2lvbixcbiAgICBoaWxsc2hhZGUsXG4gICAgcmFzdGVyLFxuICAgIGJhY2tncm91bmQsXG4gICAgc2t5LFxuICAgIGRlYnVnLFxuICAgIGN1c3RvbVxufTtcblxuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUQsIFVud3JhcHBlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHR5cGUgU3R5bGUgZnJvbSAnLi4vc3R5bGUvc3R5bGUuanMnO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgdHlwZSBJbWFnZU1hbmFnZXIgZnJvbSAnLi9pbWFnZV9tYW5hZ2VyLmpzJztcbmltcG9ydCB0eXBlIEdseXBoTWFuYWdlciBmcm9tICcuL2dseXBoX21hbmFnZXIuanMnO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXIuanMnO1xuaW1wb3J0IHR5cGUgSW5kZXhCdWZmZXIgZnJvbSAnLi4vZ2wvaW5kZXhfYnVmZmVyLmpzJztcbmltcG9ydCB0eXBlIHtEZXB0aFJhbmdlVHlwZSwgRGVwdGhNYXNrVHlwZSwgRGVwdGhGdW5jVHlwZX0gZnJvbSAnLi4vZ2wvdHlwZXMuanMnO1xuaW1wb3J0IHR5cGUgUmVzb2x2ZWRJbWFnZSBmcm9tICcuLi9zdHlsZS1zcGVjL2V4cHJlc3Npb24vdHlwZXMvcmVzb2x2ZWRfaW1hZ2UuanMnO1xuaW1wb3J0IHR5cGUge0R5bmFtaWNEZWZpbmVzVHlwZX0gZnJvbSAnLi9wcm9ncmFtL3Byb2dyYW1fdW5pZm9ybXMuanMnO1xuXG5leHBvcnQgdHlwZSBSZW5kZXJQYXNzID0gJ29mZnNjcmVlbicgfCAnb3BhcXVlJyB8ICd0cmFuc2x1Y2VudCcgfCAnc2t5JztcbmV4cG9ydCB0eXBlIENhbnZhc0NvcHlJbnN0YW5jZXMgPSB7XG4gICAgY2FudmFzQ29waWVzOiBXZWJHTFRleHR1cmVbXSxcbiAgICB0aW1lU3RhbXBzOiBudW1iZXJbXVxufVxuXG50eXBlIFBhaW50ZXJPcHRpb25zID0ge1xuICAgIHNob3dPdmVyZHJhd0luc3BlY3RvcjogYm9vbGVhbixcbiAgICBzaG93VGlsZUJvdW5kYXJpZXM6IGJvb2xlYW4sXG4gICAgc2hvd1RlcnJhaW5XaXJlZnJhbWU6IGJvb2xlYW4sXG4gICAgc2hvd1F1ZXJ5R2VvbWV0cnk6IGJvb2xlYW4sXG4gICAgc2hvd1RpbGVBQUJCczogYm9vbGVhbixcbiAgICBzaG93UGFkZGluZzogYm9vbGVhbixcbiAgICByb3RhdGluZzogYm9vbGVhbixcbiAgICB6b29taW5nOiBib29sZWFuLFxuICAgIG1vdmluZzogYm9vbGVhbixcbiAgICBncHVUaW1pbmc6IGJvb2xlYW4sXG4gICAgZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXI6IGJvb2xlYW4sXG4gICAgZmFkZUR1cmF0aW9uOiBudW1iZXIsXG4gICAgaXNJbml0aWFsTG9hZDogYm9vbGVhbixcbiAgICBzcGVlZEluZGV4VGltaW5nOiBib29sZWFuXG59XG5cbnR5cGUgVGlsZUJvdW5kc0J1ZmZlcnMgPSB7fFxuICB0aWxlQm91bmRzQnVmZmVyOiBWZXJ0ZXhCdWZmZXIsXG4gIHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjogSW5kZXhCdWZmZXIsXG4gIHRpbGVCb3VuZHNTZWdtZW50czogU2VnbWVudFZlY3Rvcixcbnx9O1xuXG50eXBlIEdQVVRpbWVycyA9IHtbbGF5ZXJJZDogc3RyaW5nXTogYW55fTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IHBhaW50ZXIgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzfSBnbCBhbiBleHBlcmltZW50YWwtd2ViZ2wgZHJhd2luZyBjb250ZXh0XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBQYWludGVyIHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIF90aWxlVGV4dHVyZXM6IHtbXzogbnVtYmVyXTogQXJyYXk8VGV4dHVyZT4gfTtcbiAgICBudW1TdWJsYXllcnM6IG51bWJlcjtcbiAgICBkZXB0aEVwc2lsb246IG51bWJlcjtcbiAgICBlbXB0eVByb2dyYW1Db25maWd1cmF0aW9uOiBQcm9ncmFtQ29uZmlndXJhdGlvbjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIHRpbGVFeHRlbnRCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICB0aWxlRXh0ZW50U2VnbWVudHM6IFNlZ21lbnRWZWN0b3I7XG4gICAgZGVidWdCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICBkZWJ1Z0luZGV4QnVmZmVyOiBJbmRleEJ1ZmZlcjtcbiAgICBkZWJ1Z1NlZ21lbnRzOiBTZWdtZW50VmVjdG9yO1xuICAgIHZpZXdwb3J0QnVmZmVyOiBWZXJ0ZXhCdWZmZXI7XG4gICAgdmlld3BvcnRTZWdtZW50czogU2VnbWVudFZlY3RvcjtcbiAgICBxdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcjogSW5kZXhCdWZmZXI7XG4gICAgbWVyY2F0b3JCb3VuZHNCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICBtZXJjYXRvckJvdW5kc1NlZ21lbnRzOiBTZWdtZW50VmVjdG9yO1xuICAgIF90aWxlQ2xpcHBpbmdNYXNrSURzOiB7W186IG51bWJlcl06IG51bWJlciB9O1xuICAgIHN0ZW5jaWxDbGVhck1vZGU6IFN0ZW5jaWxNb2RlO1xuICAgIHN0eWxlOiBTdHlsZTtcbiAgICBvcHRpb25zOiBQYWludGVyT3B0aW9ucztcbiAgICBpbWFnZU1hbmFnZXI6IEltYWdlTWFuYWdlcjtcbiAgICBnbHlwaE1hbmFnZXI6IEdseXBoTWFuYWdlcjtcbiAgICBkZXB0aFJhbmdlRm9yM0Q6IERlcHRoUmFuZ2VUeXBlO1xuICAgIG9wYXF1ZVBhc3NDdXRvZmY6IG51bWJlcjtcbiAgICBmcmFtZUNvdW50ZXI6IG51bWJlcjtcbiAgICByZW5kZXJQYXNzOiBSZW5kZXJQYXNzO1xuICAgIGN1cnJlbnRMYXllcjogbnVtYmVyO1xuICAgIGN1cnJlbnRTdGVuY2lsU291cmNlOiA/c3RyaW5nO1xuICAgIG5leHRTdGVuY2lsSUQ6IG51bWJlcjtcbiAgICBpZDogc3RyaW5nO1xuICAgIF9zaG93T3ZlcmRyYXdJbnNwZWN0b3I6IGJvb2xlYW47XG4gICAgY2FjaGU6IHtbXzogc3RyaW5nXTogUHJvZ3JhbTwqPiB9O1xuICAgIGNyb3NzVGlsZVN5bWJvbEluZGV4OiBDcm9zc1RpbGVTeW1ib2xJbmRleDtcbiAgICBzeW1ib2xGYWRlQ2hhbmdlOiBudW1iZXI7XG4gICAgZ3B1VGltZXJzOiBHUFVUaW1lcnM7XG4gICAgZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllczogQXJyYXk8YW55PjtcbiAgICBlbXB0eVRleHR1cmU6IFRleHR1cmU7XG4gICAgaWRlbnRpdHlNYXQ6IEZsb2F0MzJBcnJheTtcbiAgICBkZWJ1Z092ZXJsYXlUZXh0dXJlOiBUZXh0dXJlO1xuICAgIGRlYnVnT3ZlcmxheUNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgX3RlcnJhaW46ID9UZXJyYWluO1xuICAgIGdsb2JlU2hhcmVkQnVmZmVyczogP0dsb2JlU2hhcmVkQnVmZmVycztcbiAgICBhdG1vc3BoZXJlQnVmZmVyOiBBdG1vc3BoZXJlQnVmZmVyO1xuICAgIHRpbGVMb2FkZWQ6IGJvb2xlYW47XG4gICAgZnJhbWVDb3BpZXM6IEFycmF5PFdlYkdMVGV4dHVyZT47XG4gICAgbG9hZFRpbWVTdGFtcHM6IEFycmF5PG51bWJlcj47XG4gICAgX2JhY2tncm91bmRUaWxlczoge1trZXk6IG51bWJlcl06IFRpbGV9O1xuXG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sIGlzV2ViR0wyOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbmV3IENvbnRleHQoZ2wsIGlzV2ViR0wyKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuX3RpbGVUZXh0dXJlcyA9IHt9O1xuICAgICAgICB0aGlzLmZyYW1lQ29waWVzID0gW107XG4gICAgICAgIHRoaXMubG9hZFRpbWVTdGFtcHMgPSBbXTtcblxuICAgICAgICB0aGlzLnNldHVwKCk7XG5cbiAgICAgICAgLy8gV2l0aGluIGVhY2ggbGF5ZXIgdGhlcmUgYXJlIG11bHRpcGxlIGRpc3RpbmN0IHotcGxhbmVzIHRoYXQgY2FuIGJlIGRyYXduIHRvLlxuICAgICAgICAvLyBUaGlzIGlzIGltcGxlbWVudGVkIHVzaW5nIHRoZSBXZWJHTCBkZXB0aCBidWZmZXIuXG4gICAgICAgIHRoaXMubnVtU3VibGF5ZXJzID0gU291cmNlQ2FjaGUubWF4VW5kZXJ6b29taW5nICsgU291cmNlQ2FjaGUubWF4T3Zlcnpvb21pbmcgKyAxO1xuICAgICAgICB0aGlzLmRlcHRoRXBzaWxvbiA9IDEgLyBNYXRoLnBvdygyLCAxNik7XG5cbiAgICAgICAgdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleCA9IG5ldyBDcm9zc1RpbGVTeW1ib2xJbmRleCgpO1xuXG4gICAgICAgIHRoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcyA9IFtdO1xuICAgICAgICB0aGlzLmdwdVRpbWVycyA9IHt9O1xuICAgICAgICB0aGlzLmZyYW1lQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRUaWxlcyA9IHt9O1xuICAgIH1cblxuICAgIHVwZGF0ZVRlcnJhaW4oc3R5bGU6IFN0eWxlLCBhZGFwdENhbWVyYUFsdGl0dWRlOiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IGVuYWJsZWQgPSAhIXN0eWxlICYmICEhc3R5bGUudGVycmFpbiAmJiB0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzVGVycmFpbjtcbiAgICAgICAgaWYgKCFlbmFibGVkICYmICghdGhpcy5fdGVycmFpbiB8fCAhdGhpcy5fdGVycmFpbi5lbmFibGVkKSkgcmV0dXJuO1xuICAgICAgICBpZiAoIXRoaXMuX3RlcnJhaW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3RlcnJhaW4gPSBuZXcgVGVycmFpbih0aGlzLCBzdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGVycmFpbjogVGVycmFpbiA9IHRoaXMuX3RlcnJhaW47XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbiA9IGVuYWJsZWQgPyB0ZXJyYWluIDogbnVsbDtcbiAgICAgICAgdGVycmFpbi51cGRhdGUoc3R5bGUsIHRoaXMudHJhbnNmb3JtLCBhZGFwdENhbWVyYUFsdGl0dWRlKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlRm9nKHN0eWxlOiBTdHlsZSkge1xuICAgICAgICAvLyBHbG9iZSBtYWtlcyB1c2Ugb2YgdGhpbiBmb2cgb3ZlcmxheSB3aXRoIGEgZml4ZWQgZm9nIHJhbmdlLFxuICAgICAgICAvLyBzbyB3ZSBjYW4gc2tpcCB1cGRhdGluZyBmb2cgdGlsZSBjdWxsaW5nIGZvciB0aGlzIHByb2plY3Rpb25cbiAgICAgICAgY29uc3QgaXNHbG9iZSA9IHRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJztcblxuICAgICAgICBjb25zdCBmb2cgPSBzdHlsZS5mb2c7XG4gICAgICAgIGlmICghZm9nIHx8IGlzR2xvYmUgfHwgZm9nLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpIDwgMSB8fCBmb2cucHJvcGVydGllcy5nZXQoJ2hvcml6b24tYmxlbmQnKSA8IDAuMDMpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3EgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2Ugc3RhcnQgY3VsbGluZyB3aGVyZSB0aGUgZm9nIG9wYWNpdHkgZnVuY3Rpb24gaGl0c1xuICAgICAgICAvLyA5OCUgd2hpY2ggbGVhdmVzIGEgbm9uLW5vdGljZWFibGUgY2hhbmdlIHRocmVzaG9sZC5cbiAgICAgICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gZm9nLmdldEZvdkFkanVzdGVkUmFuZ2UodGhpcy50cmFuc2Zvcm0uX2Zvdik7XG5cbiAgICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5mb2dDdWxsRGlzdFNxID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZvZ0JvdW5kRnJhY3Rpb24gPSAwLjc4O1xuICAgICAgICBjb25zdCBmb2dDdWxsRGlzdCA9IHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAqIGZvZ0JvdW5kRnJhY3Rpb247XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uZm9nQ3VsbERpc3RTcSA9IGZvZ0N1bGxEaXN0ICogZm9nQ3VsbERpc3Q7XG4gICAgfVxuXG4gICAgZ2V0IHRlcnJhaW4oKTogP1RlcnJhaW4ge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uX3RlcnJhaW5FbmFibGVkKCkgJiYgdGhpcy5fdGVycmFpbiAmJiB0aGlzLl90ZXJyYWluLmVuYWJsZWQgPyB0aGlzLl90ZXJyYWluIDogbnVsbDtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFVwZGF0ZSB0aGUgR0wgdmlld3BvcnQsIHByb2plY3Rpb24gbWF0cml4LCBhbmQgdHJhbnNmb3JtcyB0byBjb21wZW5zYXRlXG4gICAgICogZm9yIGEgbmV3IHdpZHRoIGFuZCBoZWlnaHQgdmFsdWUuXG4gICAgICovXG4gICAgcmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0XSk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBvZiB0aGlzLnN0eWxlLm9yZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5fbGF5ZXJzW2xheWVySWRdLnJlc2l6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0dXAoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgY29uc3QgdGlsZUV4dGVudEFycmF5ID0gbmV3IFBvc0FycmF5KCk7XG4gICAgICAgIHRpbGVFeHRlbnRBcnJheS5lbXBsYWNlQmFjaygwLCAwKTtcbiAgICAgICAgdGlsZUV4dGVudEFycmF5LmVtcGxhY2VCYWNrKEVYVEVOVCwgMCk7XG4gICAgICAgIHRpbGVFeHRlbnRBcnJheS5lbXBsYWNlQmFjaygwLCBFWFRFTlQpO1xuICAgICAgICB0aWxlRXh0ZW50QXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCBFWFRFTlQpO1xuICAgICAgICB0aGlzLnRpbGVFeHRlbnRCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aWxlRXh0ZW50QXJyYXksIHBvc0F0dHJpYnV0ZXMubWVtYmVycyk7XG4gICAgICAgIHRoaXMudGlsZUV4dGVudFNlZ21lbnRzID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIDQsIDIpO1xuXG4gICAgICAgIGNvbnN0IGRlYnVnQXJyYXkgPSBuZXcgUG9zQXJyYXkoKTtcbiAgICAgICAgZGVidWdBcnJheS5lbXBsYWNlQmFjaygwLCAwKTtcbiAgICAgICAgZGVidWdBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIDApO1xuICAgICAgICBkZWJ1Z0FycmF5LmVtcGxhY2VCYWNrKDAsIEVYVEVOVCk7XG4gICAgICAgIGRlYnVnQXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCBFWFRFTlQpO1xuICAgICAgICB0aGlzLmRlYnVnQnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZGVidWdBcnJheSwgcG9zQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgdGhpcy5kZWJ1Z1NlZ21lbnRzID0gU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsIDAsIDQsIDUpO1xuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0QXJyYXkgPSBuZXcgUG9zQXJyYXkoKTtcbiAgICAgICAgdmlld3BvcnRBcnJheS5lbXBsYWNlQmFjaygtMSwgLTEpO1xuICAgICAgICB2aWV3cG9ydEFycmF5LmVtcGxhY2VCYWNrKDEsIC0xKTtcbiAgICAgICAgdmlld3BvcnRBcnJheS5lbXBsYWNlQmFjaygtMSwgMSk7XG4gICAgICAgIHZpZXdwb3J0QXJyYXkuZW1wbGFjZUJhY2soMSwgMSk7XG4gICAgICAgIHRoaXMudmlld3BvcnRCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih2aWV3cG9ydEFycmF5LCBwb3NBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0U2VnbWVudHMgPSBTZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwgMCwgNCwgMik7XG5cbiAgICAgICAgY29uc3QgdGlsZUJvdW5kc0FycmF5ID0gbmV3IFRpbGVCb3VuZHNBcnJheSgpO1xuICAgICAgICB0aWxlQm91bmRzQXJyYXkuZW1wbGFjZUJhY2soMCwgMCwgMCwgMCk7XG4gICAgICAgIHRpbGVCb3VuZHNBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIDAsIEVYVEVOVCwgMCk7XG4gICAgICAgIHRpbGVCb3VuZHNBcnJheS5lbXBsYWNlQmFjaygwLCBFWFRFTlQsIDAsIEVYVEVOVCk7XG4gICAgICAgIHRpbGVCb3VuZHNBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIEVYVEVOVCwgRVhURU5ULCBFWFRFTlQpO1xuICAgICAgICB0aGlzLm1lcmNhdG9yQm91bmRzQnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGlsZUJvdW5kc0FycmF5LCBib3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLm1lcmNhdG9yQm91bmRzU2VnbWVudHMgPSBTZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwgMCwgNCwgMik7XG5cbiAgICAgICAgY29uc3QgcXVhZFRyaWFuZ2xlSW5kaWNlcyA9IG5ldyBUcmlhbmdsZUluZGV4QXJyYXkoKTtcbiAgICAgICAgcXVhZFRyaWFuZ2xlSW5kaWNlcy5lbXBsYWNlQmFjaygwLCAxLCAyKTtcbiAgICAgICAgcXVhZFRyaWFuZ2xlSW5kaWNlcy5lbXBsYWNlQmFjaygyLCAxLCAzKTtcbiAgICAgICAgdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlSW5kZXhCdWZmZXIocXVhZFRyaWFuZ2xlSW5kaWNlcyk7XG5cbiAgICAgICAgY29uc3QgdGlsZUxpbmVTdHJpcEluZGljZXMgPSBuZXcgTGluZVN0cmlwSW5kZXhBcnJheSgpO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgWzAsIDEsIDMsIDIsIDBdKSB0aWxlTGluZVN0cmlwSW5kaWNlcy5lbXBsYWNlQmFjayhpKTtcbiAgICAgICAgdGhpcy5kZWJ1Z0luZGV4QnVmZmVyID0gY29udGV4dC5jcmVhdGVJbmRleEJ1ZmZlcih0aWxlTGluZVN0cmlwSW5kaWNlcyk7XG5cbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LFxuICAgICAgICAgICAgbmV3IFJHQkFJbWFnZSh7d2lkdGg6IDEsIGhlaWdodDogMX0sIFVpbnQ4QXJyYXkub2YoMCwgMCwgMCwgMCkpLCBjb250ZXh0LmdsLlJHQkEpO1xuXG4gICAgICAgIHRoaXMuaWRlbnRpdHlNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICB0aGlzLnN0ZW5jaWxDbGVhck1vZGUgPSBuZXcgU3RlbmNpbE1vZGUoe2Z1bmM6IGdsLkFMV0FZUywgbWFzazogMH0sIDB4MCwgMHhGRiwgZ2wuWkVSTywgZ2wuWkVSTywgZ2wuWkVSTyk7XG4gICAgICAgIHRoaXMubG9hZFRpbWVTdGFtcHMucHVzaCh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpO1xuXG4gICAgICAgIHRoaXMuYXRtb3NwaGVyZUJ1ZmZlciA9IG5ldyBBdG1vc3BoZXJlQnVmZmVyKHRoaXMuY29udGV4dCk7XG4gICAgfVxuXG4gICAgZ2V0TWVyY2F0b3JUaWxlQm91bmRzQnVmZmVycygpOiBUaWxlQm91bmRzQnVmZmVycyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aWxlQm91bmRzQnVmZmVyOiB0aGlzLm1lcmNhdG9yQm91bmRzQnVmZmVyLFxuICAgICAgICAgICAgdGlsZUJvdW5kc0luZGV4QnVmZmVyOiB0aGlzLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLFxuICAgICAgICAgICAgdGlsZUJvdW5kc1NlZ21lbnRzOiB0aGlzLm1lcmNhdG9yQm91bmRzU2VnbWVudHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRUaWxlQm91bmRzQnVmZmVycyh0aWxlOiBUaWxlKTogVGlsZUJvdW5kc0J1ZmZlcnMge1xuICAgICAgICB0aWxlLl9tYWtlVGlsZUJvdW5kc0J1ZmZlcnModGhpcy5jb250ZXh0LCB0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uKTtcbiAgICAgICAgaWYgKHRpbGUuX3RpbGVCb3VuZHNCdWZmZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVCb3VuZHNCdWZmZXIgPSB0aWxlLl90aWxlQm91bmRzQnVmZmVyO1xuICAgICAgICAgICAgY29uc3QgdGlsZUJvdW5kc0luZGV4QnVmZmVyID0gdGlsZS5fdGlsZUJvdW5kc0luZGV4QnVmZmVyO1xuICAgICAgICAgICAgY29uc3QgdGlsZUJvdW5kc1NlZ21lbnRzID0gdGlsZS5fdGlsZUJvdW5kc1NlZ21lbnRzO1xuICAgICAgICAgICAgcmV0dXJuIHt0aWxlQm91bmRzQnVmZmVyLCB0aWxlQm91bmRzSW5kZXhCdWZmZXIsIHRpbGVCb3VuZHNTZWdtZW50c307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFJlc2V0IHRoZSBkcmF3aW5nIGNhbnZhcyBieSBjbGVhcmluZyB0aGUgc3RlbmNpbCBidWZmZXIgc28gdGhhdCB3ZSBjYW4gZHJhd1xuICAgICAqIG5ldyB0aWxlcyBhdCB0aGUgc2FtZSBsb2NhdGlvbiwgd2hpbGUgcmV0YWluaW5nIHByZXZpb3VzbHkgZHJhd24gcGl4ZWxzLlxuICAgICAqL1xuICAgIGNsZWFyU3RlbmNpbCgpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIHRoaXMubmV4dFN0ZW5jaWxJRCA9IDE7XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHMgPSB7fTtcblxuICAgICAgICAvLyBBcyBhIHRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvNTQ5MCxcbiAgICAgICAgLy8gcGVuZGluZyBhbiB1cHN0cmVhbSBmaXgsIHdlIGRyYXcgYSBmdWxsc2NyZWVuIHN0ZW5jaWw9MCBjbGlwcGluZyBtYXNrIGhlcmUsXG4gICAgICAgIC8vIGVmZmVjdGl2ZWx5IGNsZWFyaW5nIHRoZSBzdGVuY2lsIGJ1ZmZlcjogb25jZSBhbiB1cHN0cmVhbSBwYXRjaCBsYW5kcywgcmVtb3ZlXG4gICAgICAgIC8vIHRoaXMgZnVuY3Rpb24gaW4gZmF2b3Igb2YgY29udGV4dC5jbGVhcih7IHN0ZW5jaWw6IDB4MCB9KVxuICAgICAgICB0aGlzLnVzZVByb2dyYW0oJ2NsaXBwaW5nTWFzaycpLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLFxuICAgICAgICAgICAgRGVwdGhNb2RlLmRpc2FibGVkLCB0aGlzLnN0ZW5jaWxDbGVhck1vZGUsIENvbG9yTW9kZS5kaXNhYmxlZCwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgY2xpcHBpbmdNYXNrVW5pZm9ybVZhbHVlcyh0aGlzLmlkZW50aXR5TWF0KSxcbiAgICAgICAgICAgICckY2xpcHBpbmcnLCB0aGlzLnZpZXdwb3J0QnVmZmVyLFxuICAgICAgICAgICAgdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlciwgdGhpcy52aWV3cG9ydFNlZ21lbnRzKTtcbiAgICB9XG5cbiAgICByZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCkge1xuICAgICAgICBpZiAoIXRoaXMudGVycmFpbikge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHMgPSB7fTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyhsYXllcjogU3R5bGVMYXllciwgc291cmNlQ2FjaGU/OiBTb3VyY2VDYWNoZSwgdGlsZUlEcz86IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgICAgIGlmICghc291cmNlQ2FjaGUgfHwgdGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZSA9PT0gc291cmNlQ2FjaGUuaWQgfHwgIWxheWVyLmlzVGlsZUNsaXBwZWQoKSB8fCAhdGlsZUlEcyB8fCB0aWxlSURzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHMgJiYgIXRoaXMudGVycmFpbikge1xuICAgICAgICAgICAgbGV0IGRpcnR5U3RlbmNpbENsaXBwaW5nTWFza3MgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIEVxdWl2YWxlbnQgdGlsZSBzZXQgaXMgYWxyZWFkeSByZW5kZXJlZCBpbiBzdGVuY2lsXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1tjb29yZC5rZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlydHlTdGVuY2lsQ2xpcHBpbmdNYXNrcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGlydHlTdGVuY2lsQ2xpcHBpbmdNYXNrcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2UgPSBzb3VyY2VDYWNoZS5pZDtcblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dFN0ZW5jaWxJRCArIHRpbGVJRHMubGVuZ3RoID4gMjU2KSB7XG4gICAgICAgICAgICAvLyB3ZSdsbCBydW4gb3V0IG9mIGZyZXNoIElEcyBzbyB3ZSBuZWVkIHRvIGNsZWFyIGFuZCBzdGFydCBmcm9tIHNjcmF0Y2hcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTdGVuY2lsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnNldENvbG9yTW9kZShDb2xvck1vZGUuZGlzYWJsZWQpO1xuICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShEZXB0aE1vZGUuZGlzYWJsZWQpO1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSB0aGlzLnVzZVByb2dyYW0oJ2NsaXBwaW5nTWFzaycpO1xuXG4gICAgICAgIHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHMgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRpbGVJRCBvZiB0aWxlSURzKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZSh0aWxlSUQpO1xuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzW3RpbGVJRC5rZXldID0gdGhpcy5uZXh0U3RlbmNpbElEKys7XG4gICAgICAgICAgICBjb25zdCB7dGlsZUJvdW5kc0J1ZmZlciwgdGlsZUJvdW5kc0luZGV4QnVmZmVyLCB0aWxlQm91bmRzU2VnbWVudHN9ID0gdGhpcy5nZXRUaWxlQm91bmRzQnVmZmVycyh0aWxlKTtcblxuICAgICAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgRGVwdGhNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgLy8gVGVzdHMgd2lsbCBhbHdheXMgcGFzcywgYW5kIHJlZiB2YWx1ZSB3aWxsIGJlIHdyaXR0ZW4gdG8gc3RlbmNpbCBidWZmZXIuXG4gICAgICAgICAgICBuZXcgU3RlbmNpbE1vZGUoe2Z1bmM6IGdsLkFMV0FZUywgbWFzazogMH0sIGlkLCAweEZGLCBnbC5LRUVQLCBnbC5LRUVQLCBnbC5SRVBMQUNFKSxcbiAgICAgICAgICAgIENvbG9yTW9kZS5kaXNhYmxlZCwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLCBjbGlwcGluZ01hc2tVbmlmb3JtVmFsdWVzKHRpbGVJRC5wcm9qTWF0cml4KSxcbiAgICAgICAgICAgICckY2xpcHBpbmcnLCB0aWxlQm91bmRzQnVmZmVyLFxuICAgICAgICAgICAgdGlsZUJvdW5kc0luZGV4QnVmZmVyLCB0aWxlQm91bmRzU2VnbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RlbmNpbE1vZGVGb3IzRCgpOiBTdGVuY2lsTW9kZSB7XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2UgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dFN0ZW5jaWxJRCArIDEgPiAyNTYpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTdGVuY2lsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpZCA9IHRoaXMubmV4dFN0ZW5jaWxJRCsrO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGVuY2lsTW9kZSh7ZnVuYzogZ2wuTk9URVFVQUwsIG1hc2s6IDB4RkZ9LCBpZCwgMHhGRiwgZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuUkVQTEFDRSk7XG4gICAgfVxuXG4gICAgc3RlbmNpbE1vZGVGb3JDbGlwcGluZyh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpOiAkUmVhZE9ubHk8U3RlbmNpbE1vZGU+ICB7XG4gICAgICAgIGlmICh0aGlzLnRlcnJhaW4pIHJldHVybiB0aGlzLnRlcnJhaW4uc3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKHRpbGVJRCk7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICByZXR1cm4gbmV3IFN0ZW5jaWxNb2RlKHtmdW5jOiBnbC5FUVVBTCwgbWFzazogMHhGRn0sIHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdGlsZUlELmtleV0sIDB4MDAsIGdsLktFRVAsIGdsLktFRVAsIGdsLlJFUExBQ0UpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogU29ydCBjb29yZGluYXRlcyBieSBaIGFzIGRyYXdpbmcgdGlsZXMgaXMgZG9uZSBpbiBaLWRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICogQWxsIGNoaWxkcmVuIHdpdGggdGhlIHNhbWUgWiB3cml0ZSB0aGUgc2FtZSBzdGVuY2lsIHZhbHVlLiAgQ2hpbGRyZW5cbiAgICAgKiBzdGVuY2lsIHZhbHVlcyBhcmUgZ3JlYXRlciB0aGFuIHBhcmVudCdzLiAgVGhpcyBpcyB1c2VkIG9ubHkgZm9yIHJhc3RlclxuICAgICAqIGFuZCByYXN0ZXItZGVtIHRpbGVzLCB3aGljaCBhcmUgYWxyZWFkeSBjbGlwcGVkIHRvIHRpbGUgYm91bmRhcmllcywgdG9cbiAgICAgKiBtYXNrIGFyZWEgb2YgdGlsZSBvdmVybGFwcGVkIGJ5IGNoaWxkcmVuIHRpbGVzLlxuICAgICAqIFN0ZW5jaWwgcmVmIHZhbHVlcyBjb250aW51ZSByYW5nZSB1c2VkIGluIF90aWxlQ2xpcHBpbmdNYXNrSURzLlxuICAgICAqXG4gICAgICogUmV0dXJucyBbU3RlbmNpbE1vZGUgZm9yIHRpbGUgb3ZlcnNjYWxlWiBtYXAsIHNvcnRlZENvb3Jkc10uXG4gICAgICovXG4gICAgc3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAodGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pOiBbe1tfOiBudW1iZXJdOiAkUmVhZE9ubHk8U3RlbmNpbE1vZGU+fSwgQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD5dIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRpbGVJRHMuc29ydCgoYSwgYikgPT4gYi5vdmVyc2NhbGVkWiAtIGEub3ZlcnNjYWxlZFopO1xuICAgICAgICBjb25zdCBtaW5UaWxlWiA9IGNvb3Jkc1tjb29yZHMubGVuZ3RoIC0gMV0ub3ZlcnNjYWxlZFo7XG4gICAgICAgIGNvbnN0IHN0ZW5jaWxWYWx1ZXMgPSBjb29yZHNbMF0ub3ZlcnNjYWxlZFogLSBtaW5UaWxlWiArIDE7XG4gICAgICAgIGlmIChzdGVuY2lsVmFsdWVzID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICh0aGlzLm5leHRTdGVuY2lsSUQgKyBzdGVuY2lsVmFsdWVzID4gMjU2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclN0ZW5jaWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHpUb1N0ZW5jaWxNb2RlID0ge307XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ZW5jaWxWYWx1ZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIHpUb1N0ZW5jaWxNb2RlW2kgKyBtaW5UaWxlWl0gPSBuZXcgU3RlbmNpbE1vZGUoe2Z1bmM6IGdsLkdFUVVBTCwgbWFzazogMHhGRn0sIGkgKyB0aGlzLm5leHRTdGVuY2lsSUQsIDB4RkYsIGdsLktFRVAsIGdsLktFRVAsIGdsLlJFUExBQ0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uZXh0U3RlbmNpbElEICs9IHN0ZW5jaWxWYWx1ZXM7XG4gICAgICAgICAgICByZXR1cm4gW3pUb1N0ZW5jaWxNb2RlLCBjb29yZHNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbe1ttaW5UaWxlWl06IFN0ZW5jaWxNb2RlLmRpc2FibGVkfSwgY29vcmRzXTtcbiAgICB9XG5cbiAgICBjb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk6ICRSZWFkT25seTxDb2xvck1vZGU+IHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGlmICh0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bU92ZXJkcmF3U3RlcHMgPSA4O1xuICAgICAgICAgICAgY29uc3QgYSA9IDEgLyBudW1PdmVyZHJhd1N0ZXBzO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yTW9kZShbZ2wuQ09OU1RBTlRfQ09MT1IsIGdsLk9ORV0sIG5ldyBDb2xvcihhLCBhLCBhLCAwKSwgW3RydWUsIHRydWUsIHRydWUsIHRydWVdKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlbmRlclBhc3MgPT09ICdvcGFxdWUnKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29sb3JNb2RlLnVuYmxlbmRlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBDb2xvck1vZGUuYWxwaGFCbGVuZGVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVwdGhNb2RlRm9yU3VibGF5ZXIobjogbnVtYmVyLCBtYXNrOiBEZXB0aE1hc2tUeXBlLCBmdW5jOiA/RGVwdGhGdW5jVHlwZSk6ICRSZWFkT25seTxEZXB0aE1vZGU+IHtcbiAgICAgICAgaWYgKCF0aGlzLm9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKSkgcmV0dXJuIERlcHRoTW9kZS5kaXNhYmxlZDtcbiAgICAgICAgY29uc3QgZGVwdGggPSAxIC0gKCgxICsgdGhpcy5jdXJyZW50TGF5ZXIpICogdGhpcy5udW1TdWJsYXllcnMgKyBuKSAqIHRoaXMuZGVwdGhFcHNpbG9uO1xuICAgICAgICByZXR1cm4gbmV3IERlcHRoTW9kZShmdW5jIHx8IHRoaXMuY29udGV4dC5nbC5MRVFVQUwsIG1hc2ssIFtkZXB0aCwgZGVwdGhdKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFRoZSBvcGFxdWUgcGFzcyBhbmQgM0QgbGF5ZXJzIGJvdGggdXNlIHRoZSBkZXB0aCBidWZmZXIuXG4gICAgICogTGF5ZXJzIGRyYXduIGFib3ZlIDNEIGxheWVycyBuZWVkIHRvIGJlIGRyYXduIHVzaW5nIHRoZVxuICAgICAqIHBhaW50ZXIncyBhbGdvcml0aG0gc28gdGhhdCB0aGV5IGFwcGVhciBhYm92ZSAzRCBmZWF0dXJlcy5cbiAgICAgKiBUaGlzIHJldHVybnMgdHJ1ZSBmb3IgbGF5ZXJzIHRoYXQgY2FuIGJlIGRyYXduIHVzaW5nIHRoZVxuICAgICAqIG9wYXF1ZSBwYXNzLlxuICAgICAqL1xuICAgIG9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRMYXllciA8IHRoaXMub3BhcXVlUGFzc0N1dG9mZjtcbiAgICB9XG5cbiAgICByZW5kZXIoc3R5bGU6IFN0eWxlLCBvcHRpb25zOiBQYWludGVyT3B0aW9ucykge1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIgPSBzdHlsZS5pbWFnZU1hbmFnZXI7XG4gICAgICAgIHRoaXMuZ2x5cGhNYW5hZ2VyID0gc3R5bGUuZ2x5cGhNYW5hZ2VyO1xuXG4gICAgICAgIHRoaXMuc3ltYm9sRmFkZUNoYW5nZSA9IHN0eWxlLnBsYWNlbWVudC5zeW1ib2xGYWRlQ2hhbmdlKGJyb3dzZXIubm93KCkpO1xuXG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLmJlZ2luRnJhbWUoKTtcblxuICAgICAgICBjb25zdCBsYXllcklkcyA9IHRoaXMuc3R5bGUub3JkZXI7XG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlcyA9IHRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcztcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSBzb3VyY2VDYWNoZXNbaWRdO1xuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLnVzZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VDYWNoZS5wcmVwYXJlKHRoaXMuY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZHNBc2NlbmRpbmc6IHtbXzogc3RyaW5nXTogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD59ID0ge307XG4gICAgICAgIGNvbnN0IGNvb3Jkc0Rlc2NlbmRpbmc6IHtbXzogc3RyaW5nXTogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD59ID0ge307XG4gICAgICAgIGNvbnN0IGNvb3Jkc0Rlc2NlbmRpbmdTeW1ib2w6IHtbXzogc3RyaW5nXTogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD59ID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgICAgIGNvb3Jkc0FzY2VuZGluZ1tpZF0gPSBzb3VyY2VDYWNoZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIGNvb3Jkc0Rlc2NlbmRpbmdbaWRdID0gY29vcmRzQXNjZW5kaW5nW2lkXS5zbGljZSgpLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGNvb3Jkc0Rlc2NlbmRpbmdTeW1ib2xbaWRdID0gc291cmNlQ2FjaGUuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKHRydWUpLnJldmVyc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3BhcXVlUGFzc0N1dG9mZiA9IEluZmluaXR5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVySWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllcklkID0gbGF5ZXJJZHNbaV07XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZS5fbGF5ZXJzW2xheWVySWRdLmlzM0QoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3BhcXVlUGFzc0N1dG9mZiA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy50ZXJyYWluKSB7XG4gICAgICAgICAgICB0aGlzLnRlcnJhaW4udXBkYXRlVGlsZUJpbmRpbmcoY29vcmRzRGVzY2VuZGluZ1N5bWJvbCk7XG4gICAgICAgICAgICAvLyBBbGwgcmVuZGVyIHRvIHRleHR1cmUgaXMgZG9uZSBpbiB0cmFuc2x1Y2VudCBwYXNzIHRvIHJlbW92ZSBuZWVkXG4gICAgICAgICAgICAvLyBmb3IgZGVwdGggYnVmZmVyIGFsbG9jYXRpb24gcGVyIHRpbGUuXG4gICAgICAgICAgICB0aGlzLm9wYXF1ZVBhc3NDdXRvZmYgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJyAmJiAhdGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzID0gbmV3IEdsb2JlU2hhcmVkQnVmZmVycyh0aGlzLmNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9sbG93aW5nIGxpbmUgaXMgYmlsbGluZyByZWxhdGVkIGNvZGUuIERvIG5vdCBjaGFuZ2UuIFNlZSBMSUNFTlNFLnR4dFxuICAgICAgICBpZiAoIWlzTWFwQXV0aGVudGljYXRlZCh0aGlzLmNvbnRleHQuZ2wpKSByZXR1cm47XG5cbiAgICAgICAgLy8gT2Zmc2NyZWVuIHBhc3MgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gV2UgZmlyc3QgZG8gYWxsIHJlbmRlcmluZyB0aGF0IHJlcXVpcmVzIHJlbmRlcmluZyB0byBhIHNlcGFyYXRlXG4gICAgICAgIC8vIGZyYW1lYnVmZmVyLCBhbmQgdGhlbiBzYXZlIHRob3NlIGZvciByZW5kZXJpbmcgYmFjayB0byB0aGUgbWFwXG4gICAgICAgIC8vIGxhdGVyOiBpbiBkb2luZyB0aGlzIHdlIGF2b2lkIGRvaW5nIGV4cGVuc2l2ZSBmcmFtZWJ1ZmZlciByZXN0b3Jlcy5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzID0gJ29mZnNjcmVlbic7XG5cbiAgICAgICAgZm9yIChjb25zdCBsYXllcklkIG9mIGxheWVySWRzKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3R5bGUuX2xheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUobGF5ZXIpO1xuICAgICAgICAgICAgaWYgKCFsYXllci5oYXNPZmZzY3JlZW5QYXNzKCkgfHwgbGF5ZXIuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb25zdCBjb29yZHMgPSBzb3VyY2VDYWNoZSA/IGNvb3Jkc0Rlc2NlbmRpbmdbc291cmNlQ2FjaGUuaWRdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCEobGF5ZXIudHlwZSA9PT0gJ2N1c3RvbScgfHwgbGF5ZXIuaXNTa3koKSkgJiYgIShjb29yZHMgJiYgY29vcmRzLmxlbmd0aCkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlckxheWVyKHRoaXMsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVwdGhSYW5nZUZvcjNEID0gWzAsIDEgLSAoKHN0eWxlLm9yZGVyLmxlbmd0aCArIDIpICogdGhpcy5udW1TdWJsYXllcnMgKiB0aGlzLmRlcHRoRXBzaWxvbildO1xuXG4gICAgICAgIC8vIFRlcnJhaW4gZGVwdGggb2Zmc2NyZWVuIHJlbmRlciBwYXNzID09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIC8vIFdpdGggdGVycmFpbiBvbiwgcmVuZGVycyB0aGUgZGVwdGggYnVmZmVyIGludG8gYSB0ZXh0dXJlLlxuICAgICAgICAvLyBUaGlzIHRleHR1cmUgaXMgdXNlZCBmb3Igb2NjbHVzaW9uIHRlc3RpbmcgKGxhYmVscylcbiAgICAgICAgY29uc3QgdGVycmFpbiA9IHRoaXMudGVycmFpbjtcbiAgICAgICAgaWYgKHRlcnJhaW4gJiYgKHRoaXMuc3R5bGUuaGFzU3ltYm9sTGF5ZXJzKCkgfHwgdGhpcy5zdHlsZS5oYXNDaXJjbGVMYXllcnMoKSkpIHtcbiAgICAgICAgICAgIHRlcnJhaW4uZHJhd0RlcHRoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWJpbmQgdGhlIG1haW4gZnJhbWVidWZmZXIgbm93IHRoYXQgYWxsIG9mZnNjcmVlbiBsYXllcnMgaGF2ZSBiZWVuIHJlbmRlcmVkOlxuICAgICAgICB0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldChudWxsKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHRdKTtcblxuICAgICAgICAvLyBDbGVhciBidWZmZXJzIGluIHByZXBhcmF0aW9uIGZvciBkcmF3aW5nIHRvIHRoZSBtYWluIGZyYW1lYnVmZmVyXG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhcih7Y29sb3I6IG9wdGlvbnMuc2hvd092ZXJkcmF3SW5zcGVjdG9yID8gQ29sb3IuYmxhY2sgOiBDb2xvci50cmFuc3BhcmVudCwgZGVwdGg6IDF9KTtcbiAgICAgICAgdGhpcy5jbGVhclN0ZW5jaWwoKTtcblxuICAgICAgICB0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IgPSBvcHRpb25zLnNob3dPdmVyZHJhd0luc3BlY3RvcjtcblxuICAgICAgICAvLyBPcGFxdWUgcGFzcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyBEcmF3IG9wYXF1ZSBsYXllcnMgdG9wLXRvLWJvdHRvbSBmaXJzdC5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzID0gJ29wYXF1ZSc7XG5cbiAgICAgICAgaWYgKCF0aGlzLnRlcnJhaW4pIHtcbiAgICAgICAgICAgIGZvciAodGhpcy5jdXJyZW50TGF5ZXIgPSBsYXllcklkcy5sZW5ndGggLSAxOyB0aGlzLmN1cnJlbnRMYXllciA+PSAwOyB0aGlzLmN1cnJlbnRMYXllci0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLnN0eWxlLl9sYXllcnNbbGF5ZXJJZHNbdGhpcy5jdXJyZW50TGF5ZXJdXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHN0eWxlLl9nZXRMYXllclNvdXJjZUNhY2hlKGxheWVyKTtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuaXNTa3koKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgY29vcmRzID0gc291cmNlQ2FjaGUgPyBjb29yZHNEZXNjZW5kaW5nW3NvdXJjZUNhY2hlLmlkXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGxheWVyLCBzb3VyY2VDYWNoZSwgY29vcmRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckxheWVyKHRoaXMsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN0eWxlLmZvZyAmJiB0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nKSB7XG4gICAgICAgICAgICBkcmF3QXRtb3NwaGVyZSh0aGlzLCB0aGlzLnN0eWxlLmZvZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTa3kgcGFzcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gRHJhdyBhbGwgc2t5IGxheWVycyBib3R0b20gdG8gdG9wLlxuICAgICAgICAvLyBUaGV5IGFyZSBkcmF3biBhdCBtYXggZGVwdGgsIHRoZXkgYXJlIGRyYXduIGFmdGVyIG9wYXF1ZSBhbmQgYmVmb3JlXG4gICAgICAgIC8vIHRyYW5zbHVjZW50IHRvIGZhaWwgZGVwdGggdGVzdGluZyBhbmQgbWl4IHdpdGggdHJhbnNsdWNlbnQgb2JqZWN0cy5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzID0gJ3NreSc7XG4gICAgICAgIGNvbnN0IGlzVHJhbnNpdGlvbmluZyA9IGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odGhpcy50cmFuc2Zvcm0uem9vbSkgPiAwLjA7XG4gICAgICAgIGlmICgoaXNUcmFuc2l0aW9uaW5nIHx8IHRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSAhPT0gJ2dsb2JlJykgJiYgdGhpcy50cmFuc2Zvcm0uaXNIb3Jpem9uVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICBmb3IgKHRoaXMuY3VycmVudExheWVyID0gMDsgdGhpcy5jdXJyZW50TGF5ZXIgPCBsYXllcklkcy5sZW5ndGg7IHRoaXMuY3VycmVudExheWVyKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3R5bGUuX2xheWVyc1tsYXllcklkc1t0aGlzLmN1cnJlbnRMYXllcl1dO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUobGF5ZXIpO1xuICAgICAgICAgICAgICAgIGlmICghbGF5ZXIuaXNTa3koKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgY29vcmRzID0gc291cmNlQ2FjaGUgPyBjb29yZHNEZXNjZW5kaW5nW3NvdXJjZUNhY2hlLmlkXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTGF5ZXIodGhpcywgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJhbnNsdWNlbnQgcGFzcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyBEcmF3IGFsbCBvdGhlciBsYXllcnMgYm90dG9tLXRvLXRvcC5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzID0gJ3RyYW5zbHVjZW50JztcblxuICAgICAgICB0aGlzLmN1cnJlbnRMYXllciA9IDA7XG4gICAgICAgIHdoaWxlICh0aGlzLmN1cnJlbnRMYXllciA8IGxheWVySWRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLnN0eWxlLl9sYXllcnNbbGF5ZXJJZHNbdGhpcy5jdXJyZW50TGF5ZXJdXTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUobGF5ZXIpO1xuXG4gICAgICAgICAgICAvLyBOb3RoaW5nIHRvIGRyYXcgaW4gdHJhbnNsdWNlbnQgcGFzcyBmb3Igc2t5IGxheWVycywgYWR2YW5jZVxuICAgICAgICAgICAgaWYgKGxheWVyLmlzU2t5KCkpIHtcbiAgICAgICAgICAgICAgICArK3RoaXMuY3VycmVudExheWVyO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBXaXRoIHRlcnJhaW4gb24gYW5kIGZvciBkcmFwZWQgbGF5ZXJzIG9ubHksIGlzc3VlIHJlbmRlcmluZyBhbmQgcHJvZ3Jlc3NcbiAgICAgICAgICAgIC8vIHRoaXMuY3VycmVudExheWVyIHVudGlsIHRoZSBuZXh0IG5vbi1kcmFwZWQgbGF5ZXIuXG4gICAgICAgICAgICAvLyBPdGhlcndpc2Ugd2UgaW50ZXJsZWF2ZSB0ZXJyYWluIGRyYXBlZCByZW5kZXIgd2l0aCBub24tZHJhcGVkIGxheWVycyBvbiB0b3BcbiAgICAgICAgICAgIGlmICh0aGlzLnRlcnJhaW4gJiYgdGhpcy5zdHlsZS5pc0xheWVyRHJhcGVkKGxheWVyKSkge1xuICAgICAgICAgICAgICAgIGlmIChsYXllci5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSkge1xuICAgICAgICAgICAgICAgICAgICArK3RoaXMuY3VycmVudExheWVyO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGVycmFpbiA9ICgoKHRoaXMudGVycmFpbik6IGFueSk6IFRlcnJhaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZMYXllciA9IHRoaXMuY3VycmVudExheWVyO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExheWVyID0gdGVycmFpbi5yZW5kZXJCYXRjaCh0aGlzLmN1cnJlbnRMYXllcik7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuY3VycmVudCA9PT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRoaXMuY3VycmVudExheWVyID4gcHJldkxheWVyKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRm9yIHN5bWJvbCBsYXllcnMgaW4gdGhlIHRyYW5zbHVjZW50IHBhc3MsIHdlIGFkZCBleHRyYSB0aWxlcyB0byB0aGUgcmVuZGVyYWJsZSBzZXRcbiAgICAgICAgICAgIC8vIGZvciBjcm9zcy10aWxlIHN5bWJvbCBmYWRpbmcuIFN5bWJvbCBsYXllcnMgZG9uJ3QgdXNlIHRpbGUgY2xpcHBpbmcsIHNvIG5vIG5lZWQgdG8gcmVuZGVyXG4gICAgICAgICAgICAvLyBzZXBhcmF0ZSBjbGlwcGluZyBtYXNrc1xuICAgICAgICAgICAgY29uc3QgY29vcmRzID0gc291cmNlQ2FjaGUgP1xuICAgICAgICAgICAgICAgIChsYXllci50eXBlID09PSAnc3ltYm9sJyA/IGNvb3Jkc0Rlc2NlbmRpbmdTeW1ib2wgOiBjb29yZHNEZXNjZW5kaW5nKVtzb3VyY2VDYWNoZS5pZF0gOlxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MobGF5ZXIsIHNvdXJjZUNhY2hlLCBzb3VyY2VDYWNoZSA/IGNvb3Jkc0FzY2VuZGluZ1tzb3VyY2VDYWNoZS5pZF0gOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJMYXllcih0aGlzLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3Jkcyk7XG5cbiAgICAgICAgICAgICsrdGhpcy5jdXJyZW50TGF5ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy50ZXJyYWluKSB7XG4gICAgICAgICAgICB0aGlzLnRlcnJhaW4ucG9zdFJlbmRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VGlsZUJvdW5kYXJpZXMgfHwgdGhpcy5vcHRpb25zLnNob3dRdWVyeUdlb21ldHJ5IHx8IHRoaXMub3B0aW9ucy5zaG93VGlsZUFBQkJzKSB7XG4gICAgICAgICAgICAvL1VzZSBzb3VyY2Ugd2l0aCBoaWdoZXN0IG1heHpvb21cbiAgICAgICAgICAgIGxldCBzZWxlY3RlZFNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCBsYXllcnMgPSB2YWx1ZXModGhpcy5zdHlsZS5fbGF5ZXJzKTtcbiAgICAgICAgICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUobGF5ZXIpO1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZSAmJiAhbGF5ZXIuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFNvdXJjZSB8fCAoc2VsZWN0ZWRTb3VyY2UuZ2V0U291cmNlKCkubWF4em9vbSA8IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLm1heHpvb20pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFNvdXJjZSA9IHNvdXJjZUNhY2hlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dUaWxlQm91bmRhcmllcykge1xuICAgICAgICAgICAgICAgICAgICBkcmF3LmRlYnVnKHRoaXMsIHNlbGVjdGVkU291cmNlLCBzZWxlY3RlZFNvdXJjZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgRGVidWcucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFNvdXJjZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dRdWVyeUdlb21ldHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3RGVidWdRdWVyeUdlb21ldHJ5KHRoaXMsIHNlbGVjdGVkU291cmNlLCBzZWxlY3RlZFNvdXJjZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VGlsZUFBQkJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBEZWJ1Zy5kcmF3QWFiYnModGhpcywgc2VsZWN0ZWRTb3VyY2UsIHNlbGVjdGVkU291cmNlLmdldFZpc2libGVDb29yZGluYXRlcygpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93UGFkZGluZykge1xuICAgICAgICAgICAgZHJhd0RlYnVnUGFkZGluZyh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0cyBmb3IgbW9zdCBHTCB2YWx1ZXMgc28gdGhhdCBhbnlvbmUgdXNpbmcgdGhlIHN0YXRlIGFmdGVyIHRoZSByZW5kZXJcbiAgICAgICAgLy8gZW5jb3VudGVycyBtb3JlIGV4cGVjdGVkIHZhbHVlcy5cbiAgICAgICAgdGhpcy5jb250ZXh0LnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5mcmFtZUNvdW50ZXIgPSAodGhpcy5mcmFtZUNvdW50ZXIgKyAxKSAlIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4gICAgICAgIGlmICh0aGlzLnRpbGVMb2FkZWQgJiYgdGhpcy5vcHRpb25zLnNwZWVkSW5kZXhUaW1pbmcpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZFRpbWVTdGFtcHMucHVzaCh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICAgICAgdGhpcy5zYXZlQ2FudmFzQ29weSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyTGF5ZXIocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU/OiBTb3VyY2VDYWNoZSwgbGF5ZXI6IFN0eWxlTGF5ZXIsIGNvb3Jkcz86IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgICAgIGlmIChsYXllci5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSkgcmV0dXJuO1xuICAgICAgICBpZiAobGF5ZXIudHlwZSAhPT0gJ2JhY2tncm91bmQnICYmIGxheWVyLnR5cGUgIT09ICdza3knICYmIGxheWVyLnR5cGUgIT09ICdjdXN0b20nICYmICEoY29vcmRzICYmIGNvb3Jkcy5sZW5ndGgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuaWQgPSBsYXllci5pZDtcblxuICAgICAgICB0aGlzLmdwdVRpbWluZ1N0YXJ0KGxheWVyKTtcbiAgICAgICAgaWYgKCFwYWludGVyLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzIHx8ICFwYWludGVyLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzLmluY2x1ZGVzKGxheWVyLnR5cGUpIHx8XG4gICAgICAgICAgICAocGFpbnRlci50ZXJyYWluICYmIGxheWVyLnR5cGUgPT09ICdjdXN0b20nKSkge1xuICAgICAgICAgICAgZHJhd1tsYXllci50eXBlXShwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgdGhpcy5zdHlsZS5wbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzLCB0aGlzLm9wdGlvbnMuaXNJbml0aWFsTG9hZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ncHVUaW1pbmdFbmQoKTtcbiAgICB9XG5cbiAgICBncHVUaW1pbmdTdGFydChsYXllcjogU3R5bGVMYXllcikge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmcpIHJldHVybjtcbiAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7XG4gICAgICAgIC8vIFRoaXMgdHJpZXMgdG8gdGltZSB0aGUgZHJhdyBjYWxsIGl0c2VsZiwgYnV0IG5vdGUgdGhhdCB0aGUgY29zdCBmb3IgZHJhd2luZyBhIGxheWVyXG4gICAgICAgIC8vIG1heSBiZSBkb21pbmF0ZWQgYnkgdGhlIGNvc3Qgb2YgdXBsb2FkaW5nIHZlcnRpY2VzIHRvIHRoZSBHUFUuXG4gICAgICAgIC8vIFRvIGluc3RydW1lbnQgdGhhdCwgd2UnZCBuZWVkIHRvIHBhc3MgdGhlIGxheWVyVGltZXJzIG9iamVjdCBkb3duIGludG8gdGhlIGJ1Y2tldFxuICAgICAgICAvLyB1cGxvYWRpbmcgbG9naWMuXG4gICAgICAgIGxldCBsYXllclRpbWVyID0gdGhpcy5ncHVUaW1lcnNbbGF5ZXIuaWRdO1xuICAgICAgICBpZiAoIWxheWVyVGltZXIpIHtcbiAgICAgICAgICAgIGxheWVyVGltZXIgPSB0aGlzLmdwdVRpbWVyc1tsYXllci5pZF0gPSB7XG4gICAgICAgICAgICAgICAgY2FsbHM6IDAsXG4gICAgICAgICAgICAgICAgY3B1VGltZTogMCxcbiAgICAgICAgICAgICAgICBxdWVyeTogZXh0LmNyZWF0ZVF1ZXJ5RVhUKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgbGF5ZXJUaW1lci5jYWxscysrO1xuICAgICAgICBleHQuYmVnaW5RdWVyeUVYVChleHQuVElNRV9FTEFQU0VEX0VYVCwgbGF5ZXJUaW1lci5xdWVyeSk7XG4gICAgfVxuXG4gICAgZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXJTdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcikge1xuICAgICAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IGV4dC5jcmVhdGVRdWVyeUVYVCgpO1xuICAgICAgICAgICAgdGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzLnB1c2gocXVlcnkpO1xuICAgICAgICAgICAgZXh0LmJlZ2luUXVlcnlFWFQoZXh0LlRJTUVfRUxBUFNFRF9FWFQsIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdwdVRpbWluZ0RlZmVycmVkUmVuZGVyRW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcikgcmV0dXJuO1xuICAgICAgICBjb25zdCBleHQgPSB0aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeTtcbiAgICAgICAgZXh0LmVuZFF1ZXJ5RVhUKGV4dC5USU1FX0VMQVBTRURfRVhUKTtcbiAgICB9XG5cbiAgICBncHVUaW1pbmdFbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmdwdVRpbWluZykgcmV0dXJuO1xuICAgICAgICBjb25zdCBleHQgPSB0aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeTtcbiAgICAgICAgZXh0LmVuZFF1ZXJ5RVhUKGV4dC5USU1FX0VMQVBTRURfRVhUKTtcbiAgICB9XG5cbiAgICBjb2xsZWN0R3B1VGltZXJzKCk6IEdQVVRpbWVycyB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMYXllclRpbWVycyA9IHRoaXMuZ3B1VGltZXJzO1xuICAgICAgICB0aGlzLmdwdVRpbWVycyA9IHt9O1xuICAgICAgICByZXR1cm4gY3VycmVudExheWVyVGltZXJzO1xuICAgIH1cblxuICAgIGNvbGxlY3REZWZlcnJlZFJlbmRlckdwdVF1ZXJpZXMoKTogQXJyYXk8YW55PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRRdWVyaWVzID0gdGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzO1xuICAgICAgICB0aGlzLmRlZmVycmVkUmVuZGVyR3B1VGltZVF1ZXJpZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRRdWVyaWVzO1xuICAgIH1cblxuICAgIHF1ZXJ5R3B1VGltZXJzKGdwdVRpbWVyczogR1BVVGltZXJzKToge1tsYXllcklkOiBzdHJpbmddOiBudW1iZXJ9IHtcbiAgICAgICAgY29uc3QgbGF5ZXJzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiBncHVUaW1lcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGdwdVRpbWVyID0gZ3B1VGltZXJzW2xheWVySWRdO1xuICAgICAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7XG4gICAgICAgICAgICBjb25zdCBncHVUaW1lID0gZXh0LmdldFF1ZXJ5T2JqZWN0RVhUKGdwdVRpbWVyLnF1ZXJ5LCBleHQuUVVFUllfUkVTVUxUX0VYVCkgLyAoMTAwMCAqIDEwMDApO1xuICAgICAgICAgICAgZXh0LmRlbGV0ZVF1ZXJ5RVhUKGdwdVRpbWVyLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxheWVyc1tsYXllcklkXSA9IChncHVUaW1lOiBudW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYXllcnM7XG4gICAgfVxuXG4gICAgcXVlcnlHcHVUaW1lRGVmZXJyZWRSZW5kZXIoZ3B1UXVlcmllczogQXJyYXk8YW55Pik6IG51bWJlciB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyKSByZXR1cm4gMDtcbiAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7XG5cbiAgICAgICAgbGV0IGdwdVRpbWUgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHF1ZXJ5IG9mIGdwdVF1ZXJpZXMpIHtcbiAgICAgICAgICAgIGdwdVRpbWUgKz0gZXh0LmdldFF1ZXJ5T2JqZWN0RVhUKHF1ZXJ5LCBleHQuUVVFUllfUkVTVUxUX0VYVCkgLyAoMTAwMCAqIDEwMDApO1xuICAgICAgICAgICAgZXh0LmRlbGV0ZVF1ZXJ5RVhUKHF1ZXJ5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncHVUaW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIG1hdHJpeCB0byBpbmNvcnBvcmF0ZSB0aGUgKi10cmFuc2xhdGUgYW5kICotdHJhbnNsYXRlLWFuY2hvciBwcm9wZXJ0aWVzIGludG8gaXQuXG4gICAgICogQHBhcmFtIGluVmlld3BvcnRQaXhlbFVuaXRzVW5pdHMgVHJ1ZSB3aGVuIHRoZSB1bml0cyBhY2NlcHRlZCBieSB0aGUgbWF0cml4IGFyZSBpbiB2aWV3cG9ydCBwaXhlbHMgaW5zdGVhZCBvZiB0aWxlIHVuaXRzLlxuICAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IG1hdHJpeFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdHJhbnNsYXRlUG9zTWF0cml4KG1hdHJpeDogRmxvYXQzMkFycmF5LCB0aWxlOiBUaWxlLCB0cmFuc2xhdGU6IFtudW1iZXIsIG51bWJlcl0sIHRyYW5zbGF0ZUFuY2hvcjogJ21hcCcgfCAndmlld3BvcnQnLCBpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzPzogYm9vbGVhbik6IEZsb2F0MzJBcnJheSB7XG4gICAgICAgIGlmICghdHJhbnNsYXRlWzBdICYmICF0cmFuc2xhdGVbMV0pIHJldHVybiBtYXRyaXg7XG5cbiAgICAgICAgY29uc3QgYW5nbGUgPSBpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzID9cbiAgICAgICAgICAgICh0cmFuc2xhdGVBbmNob3IgPT09ICdtYXAnID8gdGhpcy50cmFuc2Zvcm0uYW5nbGUgOiAwKSA6XG4gICAgICAgICAgICAodHJhbnNsYXRlQW5jaG9yID09PSAndmlld3BvcnQnID8gLXRoaXMudHJhbnNmb3JtLmFuZ2xlIDogMCk7XG5cbiAgICAgICAgaWYgKGFuZ2xlKSB7XG4gICAgICAgICAgICBjb25zdCBzaW5BID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICAgICAgY29uc3QgY29zQSA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICAgIHRyYW5zbGF0ZSA9IFtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVbMF0gKiBjb3NBIC0gdHJhbnNsYXRlWzFdICogc2luQSxcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVbMF0gKiBzaW5BICsgdHJhbnNsYXRlWzFdICogY29zQVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gW1xuICAgICAgICAgICAgaW5WaWV3cG9ydFBpeGVsVW5pdHNVbml0cyA/IHRyYW5zbGF0ZVswXSA6IHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIHRyYW5zbGF0ZVswXSwgdGhpcy50cmFuc2Zvcm0uem9vbSksXG4gICAgICAgICAgICBpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzID8gdHJhbnNsYXRlWzFdIDogcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgdHJhbnNsYXRlWzFdLCB0aGlzLnRyYW5zZm9ybS56b29tKSxcbiAgICAgICAgICAgIDBcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCB0cmFuc2xhdGVkTWF0cml4ID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKHRyYW5zbGF0ZWRNYXRyaXgsIG1hdHJpeCwgdHJhbnNsYXRpb24pO1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRlZE1hdHJpeDtcbiAgICB9XG5cbiAgICBzYXZlVGlsZVRleHR1cmUodGV4dHVyZTogVGV4dHVyZSkge1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IHRoaXMuX3RpbGVUZXh0dXJlc1t0ZXh0dXJlLnNpemVbMF1dO1xuICAgICAgICBpZiAoIXRleHR1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLl90aWxlVGV4dHVyZXNbdGV4dHVyZS5zaXplWzBdXSA9IFt0ZXh0dXJlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRUaWxlVGV4dHVyZShzaXplOiBudW1iZXIpOiBudWxsIHwgVGV4dHVyZSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gdGhpcy5fdGlsZVRleHR1cmVzW3NpemVdO1xuICAgICAgICByZXR1cm4gdGV4dHVyZXMgJiYgdGV4dHVyZXMubGVuZ3RoID4gMCA/IHRleHR1cmVzLnBvcCgpIDogbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciBhIHBhdHRlcm4gaW1hZ2UgaXMgbmVlZGVkLCBhbmQgaWYgaXQgaXMsIHdoZXRoZXIgaXQgaXMgbm90IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgYSBuZWVkZWQgaW1hZ2UgaXMgbWlzc2luZyBhbmQgcmVuZGVyaW5nIG5lZWRzIHRvIGJlIHNraXBwZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBpc1BhdHRlcm5NaXNzaW5nKGltYWdlOiA/UmVzb2x2ZWRJbWFnZSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoaW1hZ2UgPT09IG51bGwpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoaW1hZ2UgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gIXRoaXMuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oaW1hZ2UudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgdGVycmFpblJlbmRlck1vZGVFbGV2YXRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgLy8gV2hldGhlciBlbGV2YXRpb24gc2FtcGxpbmcgc2hvdWxkIGJlIGVuYWJsZWQgaW4gdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlICYmICEhdGhpcy5zdHlsZS5nZXRUZXJyYWluKCkgJiYgISF0aGlzLnRlcnJhaW4gJiYgIXRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyAjZGVmaW5lcyB0aGF0IHdvdWxkIG5lZWQgdG8gYmUgaW5qZWN0ZWQgaW50byBldmVyeSBQcm9ncmFtXG4gICAgICogYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgb2YgUGFpbnRlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGN1cnJlbnRHbG9iYWxEZWZpbmVzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgY29uc3QgcnR0ID0gdGhpcy50ZXJyYWluICYmIHRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmU7XG4gICAgICAgIGNvbnN0IHplcm9FeGFnZ2VyYXRpb24gPSB0aGlzLnRlcnJhaW4gJiYgdGhpcy50ZXJyYWluLmV4YWdnZXJhdGlvbigpID09PSAwLjA7XG4gICAgICAgIGNvbnN0IGZvZyA9IHRoaXMuc3R5bGUgJiYgdGhpcy5zdHlsZS5mb2c7XG4gICAgICAgIGNvbnN0IGRlZmluZXMgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy50ZXJyYWluUmVuZGVyTW9kZUVsZXZhdGVkKCkpIGRlZmluZXMucHVzaCgnVEVSUkFJTicpO1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSBkZWZpbmVzLnB1c2goJ0dMT0JFJyk7XG4gICAgICAgIGlmICh6ZXJvRXhhZ2dlcmF0aW9uKSBkZWZpbmVzLnB1c2goJ1pFUk9fRVhBR0dFUkFUSU9OJyk7XG4gICAgICAgIC8vIFdoZW4gdGVycmFpbiBpcyBhY3RpdmUsIGZvZyBpcyByZW5kZXJlZCBhcyBwYXJ0IG9mIGRyYXBpbmcsIG5vdCBhcyBwYXJ0IG9mIHRpbGVcbiAgICAgICAgLy8gcmVuZGVyaW5nLiBSZW1vdmluZyB0aGUgZm9nIGZsYWcgZHVyaW5nIHRpbGUgcmVuZGVyaW5nIGF2b2lkcyBhZGRpdGlvbmFsIGRlZmluZXMuXG4gICAgICAgIGlmIChmb2cgJiYgIXJ0dCAmJiBmb2cuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCkgIT09IDAuMCkge1xuICAgICAgICAgICAgZGVmaW5lcy5wdXNoKCdGT0cnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocnR0KSBkZWZpbmVzLnB1c2goJ1JFTkRFUl9UT19URVhUVVJFJyk7XG4gICAgICAgIGlmICh0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IpIGRlZmluZXMucHVzaCgnT1ZFUkRSQVdfSU5TUEVDVE9SJyk7XG4gICAgICAgIHJldHVybiBkZWZpbmVzO1xuICAgIH1cblxuICAgIHVzZVByb2dyYW0obmFtZTogc3RyaW5nLCBwcm9ncmFtQ29uZmlndXJhdGlvbjogP1Byb2dyYW1Db25maWd1cmF0aW9uLCBmaXhlZERlZmluZXM6ID9EeW5hbWljRGVmaW5lc1R5cGVbXSk6IFByb2dyYW08YW55PiB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSB0aGlzLmNhY2hlIHx8IHt9O1xuICAgICAgICBjb25zdCBkZWZpbmVzID0gKCgoZml4ZWREZWZpbmVzIHx8IFtdKTogYW55KTogc3RyaW5nW10pO1xuXG4gICAgICAgIGNvbnN0IGdsb2JhbERlZmluZXMgPSB0aGlzLmN1cnJlbnRHbG9iYWxEZWZpbmVzKCk7XG4gICAgICAgIGNvbnN0IGFsbERlZmluZXMgPSBnbG9iYWxEZWZpbmVzLmNvbmNhdChkZWZpbmVzKTtcbiAgICAgICAgY29uc3Qga2V5ID0gUHJvZ3JhbS5jYWNoZUtleShzaGFkZXJzW25hbWVdLCBuYW1lLCBhbGxEZWZpbmVzLCBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVba2V5XSA9IG5ldyBQcm9ncmFtKHRoaXMuY29udGV4dCwgbmFtZSwgc2hhZGVyc1tuYW1lXSwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIHByb2dyYW1Vbmlmb3Jtc1tuYW1lXSwgYWxsRGVmaW5lcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVba2V5XTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFJlc2V0IHNvbWUgR0wgc3RhdGUgdG8gZGVmYXVsdCB2YWx1ZXMgdG8gYXZvaWQgaGFyZC10by1kZWJ1ZyBidWdzXG4gICAgICogaW4gY3VzdG9tIGxheWVycy5cbiAgICAgKi9cbiAgICBzZXRDdXN0b21MYXllckRlZmF1bHRzKCkge1xuICAgICAgICAvLyBQcmV2ZW50IGN1c3RvbSBsYXllcnMgZnJvbSB1bmludGVudGlvbmFsbHkgbW9kaWZ5IHRoZSBsYXN0IFZBTyB1c2VkLlxuICAgICAgICAvLyBBbGwgb3RoZXIgc3RhdGUgaXMgc3RhdGUgaXMgcmVzdG9yZWQgb24gaXQncyBvd24sIGJ1dCBmb3IgVkFPcyBpdCdzXG4gICAgICAgIC8vIHNpbXBsZXIgdG8gdW5iaW5kIHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byB0cmFjayB0aGUgc3RhdGUgb2YgVkFPcy5cbiAgICAgICAgdGhpcy5jb250ZXh0LnVuYmluZFZBTygpO1xuXG4gICAgICAgIC8vIFRoZSBkZWZhdWx0IHZhbHVlcyBmb3IgdGhpcyBzdGF0ZSBpcyBtZWFuaW5nZnVsIGFuZCBvZnRlbiBleHBlY3RlZC5cbiAgICAgICAgLy8gTGVhdmluZyB0aGlzIHN0YXRlIGRpcnR5IGNvdWxkIGNhdXNlIGEgbG90IG9mIGNvbmZ1c2lvbiBmb3IgdXNlcnMuXG4gICAgICAgIHRoaXMuY29udGV4dC5jdWxsRmFjZS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNvbnRleHQuY3VsbEZhY2VTaWRlLnNldERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFjay5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogU2V0IEdMIHN0YXRlIHRoYXQgaXMgc2hhcmVkIGJ5IGFsbCBsYXllcnMuXG4gICAgICovXG4gICAgc2V0QmFzZVN0YXRlKCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5jb250ZXh0LmN1bGxGYWNlLnNldChmYWxzZSk7XG4gICAgICAgIHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0XSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5ibGVuZEVxdWF0aW9uLnNldChnbC5GVU5DX0FERCk7XG4gICAgfVxuXG4gICAgaW5pdERlYnVnT3ZlcmxheUNhbnZhcygpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWdPdmVybGF5Q2FudmFzID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWdPdmVybGF5Q2FudmFzID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMud2lkdGggPSA1MTI7XG4gICAgICAgICAgICB0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy5oZWlnaHQgPSA1MTI7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIHRoaXMuZGVidWdPdmVybGF5VGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRoaXMuY29udGV4dCwgdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMsIGdsLlJHQkEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RlcnJhaW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3RlcnJhaW4uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdsb2JlU2hhcmVkQnVmZmVycykge1xuICAgICAgICAgICAgdGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnMuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuZGVidWdPdmVybGF5VGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5kZWJ1Z092ZXJsYXlUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdG1vc3BoZXJlQnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmF0bW9zcGhlcmVCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJlcGFyZURyYXdUaWxlKCkge1xuICAgICAgICBpZiAodGhpcy50ZXJyYWluKSB7XG4gICAgICAgICAgICB0aGlzLnRlcnJhaW4ucHJlcGFyZURyYXdUaWxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcmVwYXJlRHJhd1Byb2dyYW0oY29udGV4dDogQ29udGV4dCwgcHJvZ3JhbTogUHJvZ3JhbTwqPiwgdGlsZUlEOiA/VW53cmFwcGVkVGlsZUlEKSB7XG5cbiAgICAgICAgLy8gRm9nIGlzIG5vdCBlbmFibGVkIHdoZW4gcmVuZGVyaW5nIHRvIHRleHR1cmUgc28gd2VcbiAgICAgICAgLy8gY2FuIHNhZmVseSBza2lwIHVwbG9hZGluZyB1bmlmb3JtcyBpbiB0aGF0IGNhc2VcbiAgICAgICAgaWYgKHRoaXMudGVycmFpbiAmJiB0aGlzLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmb2cgPSB0aGlzLnN0eWxlLmZvZztcblxuICAgICAgICBpZiAoZm9nKSB7XG4gICAgICAgICAgICBjb25zdCBmb2dPcGFjaXR5ID0gZm9nLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpO1xuICAgICAgICAgICAgY29uc3QgZm9nVW5pZm9ybXMgPSBmb2dVbmlmb3JtVmFsdWVzKFxuICAgICAgICAgICAgICAgIHRoaXMsIGZvZywgdGlsZUlELCBmb2dPcGFjaXR5LFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRMLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRSLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJSLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJMLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uZ2xvYmVSYWRpdXMsXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS53aWR0aCAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uaGVpZ2h0ICogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvXG4gICAgICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIHByb2dyYW0uc2V0Rm9nVW5pZm9ybVZhbHVlcyhjb250ZXh0LCBmb2dVbmlmb3Jtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRUaWxlTG9hZGVkRmxhZyhmbGFnOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMudGlsZUxvYWRlZCA9IGZsYWc7XG4gICAgfVxuXG4gICAgc2F2ZUNhbnZhc0NvcHkoKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzQ29weSgpO1xuICAgICAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuICAgICAgICB0aGlzLmZyYW1lQ29waWVzLnB1c2goY2FudmFzKTtcbiAgICAgICAgdGhpcy50aWxlTG9hZGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY2FudmFzQ29weSgpOiA/V2ViR0xUZXh0dXJlIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgICAgICBnbC5jb3B5VGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCAwLCAwLCBnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQsIDApO1xuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICBnZXRDYW52YXNDb3BpZXNBbmRUaW1lc3RhbXBzKCk6IENhbnZhc0NvcHlJbnN0YW5jZXMge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FudmFzQ29waWVzOiB0aGlzLmZyYW1lQ29waWVzLFxuICAgICAgICAgICAgdGltZVN0YW1wczogdGhpcy5sb2FkVGltZVN0YW1wc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGF2ZXJhZ2VFbGV2YXRpb25OZWVkc0Vhc2luZygpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zZm9ybS5fZWxldmF0aW9uKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgZm9nID0gdGhpcy5zdHlsZSAmJiB0aGlzLnN0eWxlLmZvZztcbiAgICAgICAgaWYgKCFmb2cpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zdCBmb2dPcGFjaXR5ID0gZm9nLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpO1xuICAgICAgICBpZiAoZm9nT3BhY2l0eSA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGdldEJhY2tncm91bmRUaWxlcygpOiB7W2tleTogbnVtYmVyXTogVGlsZX0ge1xuICAgICAgICBjb25zdCBvbGRUaWxlcyA9IHRoaXMuX2JhY2tncm91bmRUaWxlcztcbiAgICAgICAgY29uc3QgbmV3VGlsZXMgPSB0aGlzLl9iYWNrZ3JvdW5kVGlsZXMgPSB7fTtcblxuICAgICAgICBjb25zdCB0aWxlU2l6ZSA9IDUxMjtcbiAgICAgICAgY29uc3QgdGlsZUlEcyA9IHRoaXMudHJhbnNmb3JtLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplfSk7XG4gICAgICAgIGZvciAoY29uc3QgdGlsZUlEIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgICAgIG5ld1RpbGVzW3RpbGVJRC5rZXldID0gb2xkVGlsZXNbdGlsZUlELmtleV0gfHwgbmV3IFRpbGUodGlsZUlELCB0aWxlU2l6ZSwgdGhpcy50cmFuc2Zvcm0udGlsZVpvb20sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdUaWxlcztcbiAgICB9XG5cbiAgICBjbGVhckJhY2tncm91bmRUaWxlcygpIHtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZFRpbGVzID0ge307XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYWludGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZS5qcyc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQgUHJvZ3JhbSBmcm9tICcuL3Byb2dyYW0uanMnO1xuaW1wb3J0IHtjaXJjbGVVbmlmb3JtVmFsdWVzLCBjaXJjbGVEZWZpbmVzVmFsdWVzfSBmcm9tICcuL3Byb2dyYW0vY2lyY2xlX3Byb2dyYW0uanMnO1xuaW1wb3J0IFNlZ21lbnRWZWN0b3IgZnJvbSAnLi4vZGF0YS9zZWdtZW50LmpzJztcbmltcG9ydCB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHttZXJjYXRvclhmcm9tTG5nLCBtZXJjYXRvcllmcm9tTGF0fSBmcm9tICcuLi9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgQ2lyY2xlU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9jaXJjbGVfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUgQ2lyY2xlQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2NpcmNsZV9idWNrZXQuanMnO1xuaW1wb3J0IHR5cGUgUHJvZ3JhbUNvbmZpZ3VyYXRpb24gZnJvbSAnLi4vZGF0YS9wcm9ncmFtX2NvbmZpZ3VyYXRpb24uanMnO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXIuanMnO1xuaW1wb3J0IHR5cGUgSW5kZXhCdWZmZXIgZnJvbSAnLi4vZ2wvaW5kZXhfYnVmZmVyLmpzJztcbmltcG9ydCB0eXBlIHtVbmlmb3JtVmFsdWVzfSBmcm9tICcuL3VuaWZvcm1fYmluZGluZy5qcyc7XG5pbXBvcnQgdHlwZSB7Q2lyY2xlVW5pZm9ybXNUeXBlfSBmcm9tICcuL3Byb2dyYW0vY2lyY2xlX3Byb2dyYW0uanMnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZS5qcyc7XG5pbXBvcnQgdHlwZSB7RHluYW1pY0RlZmluZXNUeXBlfSBmcm9tICcuL3Byb2dyYW0vcHJvZ3JhbV91bmlmb3Jtcy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdDaXJjbGVzO1xuXG50eXBlIFRpbGVSZW5kZXJTdGF0ZSA9IHtcbiAgICBwcm9ncmFtQ29uZmlndXJhdGlvbjogUHJvZ3JhbUNvbmZpZ3VyYXRpb24sXG4gICAgcHJvZ3JhbTogUHJvZ3JhbTwqPixcbiAgICBsYXlvdXRWZXJ0ZXhCdWZmZXI6IFZlcnRleEJ1ZmZlcixcbiAgICBnbG9iZUV4dFZlcnRleEJ1ZmZlcjogP1ZlcnRleEJ1ZmZlcixcbiAgICBpbmRleEJ1ZmZlcjogSW5kZXhCdWZmZXIsXG4gICAgdW5pZm9ybVZhbHVlczogVW5pZm9ybVZhbHVlczxDaXJjbGVVbmlmb3Jtc1R5cGU+LFxuICAgIHRpbGU6IFRpbGVcbn07XG5cbnR5cGUgU2VnbWVudHNUaWxlUmVuZGVyU3RhdGUgPSB7XG4gICAgc2VnbWVudHM6IFNlZ21lbnRWZWN0b3IsXG4gICAgc29ydEtleTogbnVtYmVyLFxuICAgIHN0YXRlOiBUaWxlUmVuZGVyU3RhdGVcbn07XG5cbmZ1bmN0aW9uIGRyYXdDaXJjbGVzKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IENpcmNsZVN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzICE9PSAndHJhbnNsdWNlbnQnKSByZXR1cm47XG5cbiAgICBjb25zdCBvcGFjaXR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtb3BhY2l0eScpO1xuICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtc3Ryb2tlLXdpZHRoJyk7XG4gICAgY29uc3Qgc3Ryb2tlT3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnY2lyY2xlLXN0cm9rZS1vcGFjaXR5Jyk7XG4gICAgY29uc3Qgc29ydEZlYXR1cmVzQnlLZXkgPSBsYXllci5sYXlvdXQuZ2V0KCdjaXJjbGUtc29ydC1rZXknKS5jb25zdGFudE9yKDEpICE9PSB1bmRlZmluZWQ7XG5cbiAgICBpZiAob3BhY2l0eS5jb25zdGFudE9yKDEpID09PSAwICYmIChzdHJva2VXaWR0aC5jb25zdGFudE9yKDEpID09PSAwIHx8IHN0cm9rZU9wYWNpdHkuY29uc3RhbnRPcigxKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG5cbiAgICBjb25zdCBkZXB0aE1vZGUgPSBwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIERlcHRoTW9kZS5SZWFkT25seSk7XG4gICAgLy8gVHVybiBvZmYgc3RlbmNpbCB0ZXN0aW5nIHRvIGFsbG93IGNpcmNsZXMgdG8gYmUgZHJhd24gYWNyb3NzIGJvdW5kYXJpZXMsXG4gICAgLy8gc28gdGhhdCBsYXJnZSBjaXJjbGVzIGFyZSBub3QgY2xpcHBlZCB0byB0aWxlc1xuICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gU3RlbmNpbE1vZGUuZGlzYWJsZWQ7XG4gICAgY29uc3QgY29sb3JNb2RlID0gcGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7XG4gICAgY29uc3QgaXNHbG9iZVByb2plY3Rpb24gPSB0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZSc7XG4gICAgY29uc3QgbWVyY2F0b3JDZW50ZXIgPSBbbWVyY2F0b3JYZnJvbUxuZyh0ci5jZW50ZXIubG5nKSwgbWVyY2F0b3JZZnJvbUxhdCh0ci5jZW50ZXIubGF0KV07XG5cbiAgICBjb25zdCBzZWdtZW50c1JlbmRlclN0YXRlczogQXJyYXk8U2VnbWVudHNUaWxlUmVuZGVyU3RhdGU+ID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjb29yZCA9IGNvb3Jkc1tpXTtcblxuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP0NpcmNsZUJ1Y2tldDwqPiA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0IHx8IGJ1Y2tldC5wcm9qZWN0aW9uLm5hbWUgIT09IHRyLnByb2plY3Rpb24ubmFtZSkgY29udGludWU7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG4gICAgICAgIGNvbnN0IGRlZmluZXNWYWx1ZXMgPSBjaXJjbGVEZWZpbmVzVmFsdWVzKGxheWVyKTtcbiAgICAgICAgaWYgKGlzR2xvYmVQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBkZWZpbmVzVmFsdWVzLnB1c2goJ1BST0pFQ1RJT05fR0xPQkVfVklFVycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2NpcmNsZScsIHByb2dyYW1Db25maWd1cmF0aW9uLCAoKGRlZmluZXNWYWx1ZXM6IGFueSk6IER5bmFtaWNEZWZpbmVzVHlwZVtdKSk7XG4gICAgICAgIGNvbnN0IGxheW91dFZlcnRleEJ1ZmZlciA9IGJ1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXI7XG4gICAgICAgIGNvbnN0IGdsb2JlRXh0VmVydGV4QnVmZmVyID0gYnVja2V0Lmdsb2JlRXh0VmVydGV4QnVmZmVyO1xuICAgICAgICBjb25zdCBpbmRleEJ1ZmZlciA9IGJ1Y2tldC5pbmRleEJ1ZmZlcjtcbiAgICAgICAgY29uc3QgaW52TWF0cml4ID0gdHIucHJvamVjdGlvbi5jcmVhdGVJbnZlcnNpb25NYXRyaXgodHIsIGNvb3JkLmNhbm9uaWNhbCk7XG4gICAgICAgIGNvbnN0IHVuaWZvcm1WYWx1ZXMgPSBjaXJjbGVVbmlmb3JtVmFsdWVzKHBhaW50ZXIsIGNvb3JkLCB0aWxlLCBpbnZNYXRyaXgsIG1lcmNhdG9yQ2VudGVyLCBsYXllcik7XG5cbiAgICAgICAgY29uc3Qgc3RhdGU6IFRpbGVSZW5kZXJTdGF0ZSA9IHtcbiAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uLFxuICAgICAgICAgICAgcHJvZ3JhbSxcbiAgICAgICAgICAgIGxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgIGdsb2JlRXh0VmVydGV4QnVmZmVyLFxuICAgICAgICAgICAgaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzLFxuICAgICAgICAgICAgdGlsZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChzb3J0RmVhdHVyZXNCeUtleSkge1xuICAgICAgICAgICAgY29uc3Qgb2xkU2VnbWVudHMgPSBidWNrZXQuc2VnbWVudHMuZ2V0KCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygb2xkU2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICBzZWdtZW50c1JlbmRlclN0YXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgc2VnbWVudHM6IG5ldyBTZWdtZW50VmVjdG9yKFtzZWdtZW50XSksXG4gICAgICAgICAgICAgICAgICAgIHNvcnRLZXk6ICgoc2VnbWVudC5zb3J0S2V5OiBhbnkpOiBudW1iZXIpLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VnbWVudHNSZW5kZXJTdGF0ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgc2VnbWVudHM6IGJ1Y2tldC5zZWdtZW50cyxcbiAgICAgICAgICAgICAgICBzb3J0S2V5OiAwLFxuICAgICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgaWYgKHNvcnRGZWF0dXJlc0J5S2V5KSB7XG4gICAgICAgIHNlZ21lbnRzUmVuZGVyU3RhdGVzLnNvcnQoKGEsIGIpID0+IGEuc29ydEtleSAtIGIuc29ydEtleSk7XG4gICAgfVxuXG4gICAgY29uc3QgdGVycmFpbk9wdGlvbnMgPSB7dXNlRGVwdGhGb3JPY2NsdXNpb246ICFpc0dsb2JlUHJvamVjdGlvbn07XG5cbiAgICBmb3IgKGNvbnN0IHNlZ21lbnRzU3RhdGUgb2Ygc2VnbWVudHNSZW5kZXJTdGF0ZXMpIHtcbiAgICAgICAgY29uc3Qge3Byb2dyYW1Db25maWd1cmF0aW9uLCBwcm9ncmFtLCBsYXlvdXRWZXJ0ZXhCdWZmZXIsIGdsb2JlRXh0VmVydGV4QnVmZmVyLCBpbmRleEJ1ZmZlciwgdW5pZm9ybVZhbHVlcywgdGlsZX0gPSBzZWdtZW50c1N0YXRlLnN0YXRlO1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IHNlZ21lbnRzU3RhdGUuc2VnbWVudHM7XG5cbiAgICAgICAgaWYgKHBhaW50ZXIudGVycmFpbikgcGFpbnRlci50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyh0aWxlLCBwcm9ncmFtLCB0ZXJyYWluT3B0aW9ucyk7XG5cbiAgICAgICAgcGFpbnRlci5wcmVwYXJlRHJhd1Byb2dyYW0oY29udGV4dCwgcHJvZ3JhbSwgdGlsZS50aWxlSUQudG9VbndyYXBwZWQoKSk7XG5cbiAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzLCBsYXllci5pZCwgbGF5b3V0VmVydGV4QnVmZmVyLCBpbmRleEJ1ZmZlciwgc2VnbWVudHMsXG4gICAgICAgICAgICBsYXllci5wYWludCwgdHIuem9vbSwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIFtnbG9iZUV4dFZlcnRleEJ1ZmZlcl0pO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZS5qcyc7XG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yLmpzJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZS5qcyc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZS5qcyc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlLmpzJztcbmltcG9ydCB7XG4gICAgaGVhdG1hcFVuaWZvcm1WYWx1ZXMsXG4gICAgaGVhdG1hcFRleHR1cmVVbmlmb3JtVmFsdWVzXG59IGZyb20gJy4vcHJvZ3JhbS9oZWF0bWFwX3Byb2dyYW0uanMnO1xuaW1wb3J0IHttZXJjYXRvclhmcm9tTG5nLCBtZXJjYXRvcllmcm9tTGF0fSBmcm9tICcuLi9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgSGVhdG1hcFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvaGVhdG1hcF9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgdHlwZSBIZWF0bWFwQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2hlYXRtYXBfYnVja2V0LmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdIZWF0bWFwO1xuXG5mdW5jdGlvbiBkcmF3SGVhdG1hcChwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBIZWF0bWFwU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChsYXllci5wYWludC5nZXQoJ2hlYXRtYXAtb3BhY2l0eScpID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAnb2Zmc2NyZWVuJykge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgLy8gQWxsb3cga2VybmVscyB0byBiZSBkcmF3biBhY3Jvc3MgYm91bmRhcmllcywgc28gdGhhdFxuICAgICAgICAvLyBsYXJnZSBrZXJuZWxzIGFyZSBub3QgY2xpcHBlZCB0byB0aWxlc1xuICAgICAgICBjb25zdCBzdGVuY2lsTW9kZSA9IFN0ZW5jaWxNb2RlLmRpc2FibGVkO1xuICAgICAgICAvLyBUdXJuIG9uIGFkZGl0aXZlIGJsZW5kaW5nIGZvciBrZXJuZWxzLCB3aGljaCBpcyBhIGtleSBhc3BlY3Qgb2Yga2VybmVsIGRlbnNpdHkgZXN0aW1hdGlvbiBmb3JtdWxhXG4gICAgICAgIGNvbnN0IGNvbG9yTW9kZSA9IG5ldyBDb2xvck1vZGUoW2dsLk9ORSwgZ2wuT05FXSwgQ29sb3IudHJhbnNwYXJlbnQsIFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXSk7XG4gICAgICAgIGNvbnN0IHJlc29sdXRpb25TY2FsaW5nID0gcGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnID8gMC41IDogMC4yNTtcblxuICAgICAgICBiaW5kRnJhbWVidWZmZXIoY29udGV4dCwgcGFpbnRlciwgbGF5ZXIsIHJlc29sdXRpb25TY2FsaW5nKTtcblxuICAgICAgICBjb250ZXh0LmNsZWFyKHtjb2xvcjogQ29sb3IudHJhbnNwYXJlbnR9KTtcblxuICAgICAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuXG4gICAgICAgIGNvbnN0IGlzR2xvYmVQcm9qZWN0aW9uID0gdHIucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuXG4gICAgICAgIGNvbnN0IGRlZmluZXNWYWx1ZXMgPSBpc0dsb2JlUHJvamVjdGlvbiA/IFsnUFJPSkVDVElPTl9HTE9CRV9WSUVXJ10gOiBudWxsO1xuICAgICAgICBjb25zdCBjdWxsTW9kZSA9IGlzR2xvYmVQcm9qZWN0aW9uID8gQ3VsbEZhY2VNb2RlLmZyb250Q0NXIDogQ3VsbEZhY2VNb2RlLmRpc2FibGVkO1xuXG4gICAgICAgIGNvbnN0IG1lcmNhdG9yQ2VudGVyID0gW21lcmNhdG9yWGZyb21MbmcodHIuY2VudGVyLmxuZyksIG1lcmNhdG9yWWZyb21MYXQodHIuY2VudGVyLmxhdCldO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjb29yZCA9IGNvb3Jkc1tpXTtcblxuICAgICAgICAgICAgLy8gU2tpcCB0aWxlcyB0aGF0IGhhdmUgdW5jb3ZlcmVkIHBhcmVudHMgdG8gYXZvaWQgZmxpY2tlcmluZzsgd2UgZG9uJ3QgbmVlZFxuICAgICAgICAgICAgLy8gdG8gdXNlIGNvbXBsZXggdGlsZSBtYXNraW5nIGhlcmUgYmVjYXVzZSB0aGUgY2hhbmdlIGJldHdlZW4gem9vbSBsZXZlbHMgaXMgc3VidGxlLFxuICAgICAgICAgICAgLy8gc28gaXQncyBmaW5lIHRvIHNpbXBseSByZW5kZXIgdGhlIHBhcmVudCB1bnRpbCBhbGwgaXRzIDQgY2hpbGRyZW4gYXJlIGxvYWRlZFxuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLmhhc1JlbmRlcmFibGVQYXJlbnQoY29vcmQpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICAgICAgY29uc3QgYnVja2V0OiA/SGVhdG1hcEJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgICAgICBpZiAoIWJ1Y2tldCB8fCBidWNrZXQucHJvamVjdGlvbi5uYW1lICE9PSB0ci5wcm9qZWN0aW9uLm5hbWUpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1Y2tldC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2hlYXRtYXAnLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgZGVmaW5lc1ZhbHVlcyk7XG4gICAgICAgICAgICBjb25zdCB7em9vbX0gPSBwYWludGVyLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIGlmIChwYWludGVyLnRlcnJhaW4pIHBhaW50ZXIudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcodGlsZSwgcHJvZ3JhbSk7XG5cbiAgICAgICAgICAgIHBhaW50ZXIucHJlcGFyZURyYXdQcm9ncmFtKGNvbnRleHQsIHByb2dyYW0sIGNvb3JkLnRvVW53cmFwcGVkKCkpO1xuXG4gICAgICAgICAgICBjb25zdCBpbnZNYXRyaXggPSB0ci5wcm9qZWN0aW9uLmNyZWF0ZUludmVyc2lvbk1hdHJpeCh0ciwgY29vcmQuY2Fub25pY2FsKTtcblxuICAgICAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgRGVwdGhNb2RlLmRpc2FibGVkLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBjdWxsTW9kZSxcbiAgICAgICAgICAgICAgICBoZWF0bWFwVW5pZm9ybVZhbHVlcyhwYWludGVyLCBjb29yZCxcbiAgICAgICAgICAgICAgICAgICAgdGlsZSwgaW52TWF0cml4LCBtZXJjYXRvckNlbnRlciwgem9vbSwgbGF5ZXIucGFpbnQuZ2V0KCdoZWF0bWFwLWludGVuc2l0eScpKSxcbiAgICAgICAgICAgICAgICBsYXllci5pZCwgYnVja2V0LmxheW91dFZlcnRleEJ1ZmZlciwgYnVja2V0LmluZGV4QnVmZmVyLFxuICAgICAgICAgICAgICAgIGJ1Y2tldC5zZWdtZW50cywgbGF5ZXIucGFpbnQsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20sXG4gICAgICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIGlzR2xvYmVQcm9qZWN0aW9uID8gW2J1Y2tldC5nbG9iZUV4dFZlcnRleEJ1ZmZlcl0gOiBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodF0pO1xuXG4gICAgfSBlbHNlIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcpIHtcbiAgICAgICAgcGFpbnRlci5jb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG4gICAgICAgIHJlbmRlclRleHR1cmVUb01hcChwYWludGVyLCBsYXllcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBiaW5kRnJhbWVidWZmZXIoY29udGV4dCwgcGFpbnRlciwgbGF5ZXIsIHNjYWxpbmcpIHtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3Qgd2lkdGggPSBwYWludGVyLndpZHRoICogc2NhbGluZztcbiAgICBjb25zdCBoZWlnaHQgPSBwYWludGVyLmhlaWdodCAqIHNjYWxpbmc7XG5cbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcbiAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgd2lkdGgsIGhlaWdodF0pO1xuXG4gICAgbGV0IGZibyA9IGxheWVyLmhlYXRtYXBGYm87XG5cbiAgICBpZiAoIWZibyB8fCAoZmJvICYmIChmYm8ud2lkdGggIT09IHdpZHRoIHx8IGZiby5oZWlnaHQgIT09IGhlaWdodCkpKSB7XG4gICAgICAgIGlmIChmYm8pIHsgZmJvLmRlc3Ryb3koKTsgfVxuXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcblxuICAgICAgICBmYm8gPSBsYXllci5oZWF0bWFwRmJvID0gY29udGV4dC5jcmVhdGVGcmFtZWJ1ZmZlcih3aWR0aCwgaGVpZ2h0LCBmYWxzZSk7XG5cbiAgICAgICAgYmluZFRleHR1cmVUb0ZyYW1lYnVmZmVyKGNvbnRleHQsIHBhaW50ZXIsIHRleHR1cmUsIGZibywgd2lkdGgsIGhlaWdodCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBmYm8uY29sb3JBdHRhY2htZW50LmdldCgpKTtcbiAgICAgICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBiaW5kVGV4dHVyZVRvRnJhbWVidWZmZXIoY29udGV4dCwgcGFpbnRlciwgdGV4dHVyZSwgZmJvLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIC8vIFVzZSB0aGUgaGlnaGVyIHByZWNpc2lvbiBoYWxmLWZsb2F0IHRleHR1cmUgd2hlcmUgYXZhaWxhYmxlIChwcm9kdWNpbmcgbXVjaCBzbW9vdGhlciBsb29raW5nIGhlYXRtYXBzKTtcbiAgICAvLyBPdGhlcndpc2UsIGZhbGwgYmFjayB0byBhIGxvdyBwcmVjaXNpb24gdGV4dHVyZVxuICAgIC8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSBXZWJHTDIgKi9cbiAgICBjb25zdCB0eXBlID0gY29udGV4dC5leHRSZW5kZXJUb1RleHR1cmVIYWxmRmxvYXQgPyAoY29udGV4dC5pc1dlYkdMMiA/IGdsLkhBTEZfRkxPQVQgOiBjb250ZXh0LmV4dFRleHR1cmVIYWxmRmxvYXQuSEFMRl9GTE9BVF9PRVMpIDogZ2wuVU5TSUdORURfQllURTtcbiAgICAvKiAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gV2ViR0wyICovXG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAoY29udGV4dC5pc1dlYkdMMiAmJiBjb250ZXh0LmV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdCkgPyBnbC5SR0JBMTZGIDogZ2wuUkdCQSwgd2lkdGgsIGhlaWdodCwgMCwgZ2wuUkdCQSwgdHlwZSwgbnVsbCk7XG4gICAgZmJvLmNvbG9yQXR0YWNobWVudC5zZXQodGV4dHVyZSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclRleHR1cmVUb01hcChwYWludGVyLCBsYXllcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgLy8gSGVyZSB3ZSBiaW5kIHR3byBkaWZmZXJlbnQgdGV4dHVyZXMgZnJvbSB3aGljaCB3ZSdsbCBzYW1wbGUgaW4gZHJhd2luZ1xuICAgIC8vIGhlYXRtYXBzOiB0aGUga2VybmVsIHRleHR1cmUsIHByZXBhcmVkIGluIHRoZSBvZmZzY3JlZW4gcGFzcywgYW5kIGFcbiAgICAvLyBjb2xvciByYW1wIHRleHR1cmUuXG4gICAgY29uc3QgZmJvID0gbGF5ZXIuaGVhdG1hcEZibztcbiAgICBpZiAoIWZibykgcmV0dXJuO1xuICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGZiby5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpO1xuXG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMSk7XG4gICAgbGV0IGNvbG9yUmFtcFRleHR1cmUgPSBsYXllci5jb2xvclJhbXBUZXh0dXJlO1xuICAgIGlmICghY29sb3JSYW1wVGV4dHVyZSkge1xuICAgICAgICBjb2xvclJhbXBUZXh0dXJlID0gbGF5ZXIuY29sb3JSYW1wVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIGxheWVyLmNvbG9yUmFtcCwgZ2wuUkdCQSk7XG4gICAgfVxuICAgIGNvbG9yUmFtcFRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgcGFpbnRlci51c2VQcm9ncmFtKCdoZWF0bWFwVGV4dHVyZScpLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLFxuICAgICAgICBEZXB0aE1vZGUuZGlzYWJsZWQsIFN0ZW5jaWxNb2RlLmRpc2FibGVkLCBwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICBoZWF0bWFwVGV4dHVyZVVuaWZvcm1WYWx1ZXMocGFpbnRlciwgbGF5ZXIsIDAsIDEpLFxuICAgICAgICBsYXllci5pZCwgcGFpbnRlci52aWV3cG9ydEJ1ZmZlciwgcGFpbnRlci5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixcbiAgICAgICAgcGFpbnRlci52aWV3cG9ydFNlZ21lbnRzLCBsYXllci5wYWludCwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSk7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZS5qcyc7XG5pbXBvcnQge1xuICAgIGxpbmVVbmlmb3JtVmFsdWVzLFxuICAgIGxpbmVQYXR0ZXJuVW5pZm9ybVZhbHVlcyxcbiAgICBsaW5lRGVmaW5lc1ZhbHVlc1xufSBmcm9tICcuL3Byb2dyYW0vbGluZV9wcm9ncmFtLmpzJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgTGluZVN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvbGluZV9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgdHlwZSBMaW5lQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2xpbmVfYnVja2V0LmpzJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgdHlwZSB7RHluYW1pY0RlZmluZXNUeXBlfSBmcm9tICcuL3Byb2dyYW0vcHJvZ3JhbV91bmlmb3Jtcy5qcyc7XG5pbXBvcnQge2NsYW1wLCBuZXh0UG93ZXJPZlR3b30gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7cmVuZGVyQ29sb3JSYW1wfSBmcm9tICcuLi91dGlsL2NvbG9yX3JhbXAuanMnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRyYXdMaW5lKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IExpbmVTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gJ3RyYW5zbHVjZW50JykgcmV0dXJuO1xuXG4gICAgY29uc3Qgb3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnbGluZS1vcGFjaXR5Jyk7XG4gICAgY29uc3Qgd2lkdGggPSBsYXllci5wYWludC5nZXQoJ2xpbmUtd2lkdGgnKTtcbiAgICBpZiAob3BhY2l0eS5jb25zdGFudE9yKDEpID09PSAwIHx8IHdpZHRoLmNvbnN0YW50T3IoMSkgPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IGRlcHRoTW9kZSA9IHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KTtcbiAgICBjb25zdCBjb2xvck1vZGUgPSBwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gKHBhaW50ZXIudGVycmFpbiAmJiBwYWludGVyLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlKSA/IDEuMCA6IGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbztcblxuICAgIGNvbnN0IGRhc2hhcnJheVByb3BlcnR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLWRhc2hhcnJheScpO1xuICAgIGNvbnN0IGRhc2hhcnJheSA9IGRhc2hhcnJheVByb3BlcnR5LmNvbnN0YW50T3IoKDE6IGFueSkpO1xuICAgIGNvbnN0IGNhcFByb3BlcnR5ID0gbGF5ZXIubGF5b3V0LmdldCgnbGluZS1jYXAnKTtcbiAgICBjb25zdCBwYXR0ZXJuUHJvcGVydHkgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtcGF0dGVybicpO1xuICAgIGNvbnN0IGltYWdlID0gcGF0dGVyblByb3BlcnR5LmNvbnN0YW50T3IoKDE6IGFueSkpO1xuXG4gICAgY29uc3QgZ3JhZGllbnQgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtZ3JhZGllbnQnKTtcblxuICAgIGNvbnN0IHByb2dyYW1JZCA9IGltYWdlID8gJ2xpbmVQYXR0ZXJuJyA6ICdsaW5lJztcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgY29uc3QgZGVmaW5lc1ZhbHVlcyA9IGxpbmVEZWZpbmVzVmFsdWVzKGxheWVyKTtcbiAgICBsZXQgdXNlU3RlbmNpbE1hc2tSZW5kZXJQYXNzID0gZGVmaW5lc1ZhbHVlcy5pbmNsdWRlcygnUkVOREVSX0xJTkVfQUxQSEFfRElTQ0FSRCcpO1xuICAgIGlmIChwYWludGVyLnRlcnJhaW4gJiYgcGFpbnRlci50ZXJyYWluLmNsaXBPck1hc2tPdmVybGFwU3RlbmNpbFR5cGUoKSkge1xuICAgICAgICB1c2VTdGVuY2lsTWFza1JlbmRlclBhc3MgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGlmIChpbWFnZSAmJiAhdGlsZS5wYXR0ZXJuc0xvYWRlZCgpKSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBidWNrZXQ6ID9MaW5lQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuICAgICAgICBwYWludGVyLnByZXBhcmVEcmF3VGlsZSgpO1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW1Db25maWd1cmF0aW9uID0gYnVja2V0LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpO1xuICAgICAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKHByb2dyYW1JZCwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sICgoZGVmaW5lc1ZhbHVlczogYW55KTogRHluYW1pY0RlZmluZXNUeXBlW10pKTtcblxuICAgICAgICBjb25zdCBjb25zdGFudFBhdHRlcm4gPSBwYXR0ZXJuUHJvcGVydHkuY29uc3RhbnRPcihudWxsKTtcbiAgICAgICAgaWYgKGNvbnN0YW50UGF0dGVybiAmJiB0aWxlLmltYWdlQXRsYXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc1RvID0gdGlsZS5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnNbY29uc3RhbnRQYXR0ZXJuLnRvU3RyaW5nKCldO1xuICAgICAgICAgICAgaWYgKHBvc1RvKSBwcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMocG9zVG8pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29uc3RhbnREYXNoID0gZGFzaGFycmF5UHJvcGVydHkuY29uc3RhbnRPcihudWxsKTtcbiAgICAgICAgY29uc3QgY29uc3RhbnRDYXAgPSBjYXBQcm9wZXJ0eS5jb25zdGFudE9yKChudWxsOiBhbnkpKTtcblxuICAgICAgICBpZiAoIWltYWdlICYmIGNvbnN0YW50RGFzaCAmJiBjb25zdGFudENhcCAmJiB0aWxlLmxpbmVBdGxhcykge1xuICAgICAgICAgICAgY29uc3QgcG9zVG8gPSB0aWxlLmxpbmVBdGxhcy5nZXREYXNoKGNvbnN0YW50RGFzaCwgY29uc3RhbnRDYXApO1xuICAgICAgICAgICAgaWYgKHBvc1RvKSBwcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMocG9zVG8pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IFt0cmltU3RhcnQsIHRyaW1FbmRdID0gbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLXRyaW0tb2Zmc2V0Jyk7XG4gICAgICAgIC8vIFdoZW4gbGluZSBjYXAgaXMgJ3JvdW5kJyBvciAnc3F1YXJlJywgdGhlIHdob2xlIGxpbmUgcHJvZ3Jlc3Mgd2lsbCBiZXlvbmQgMS4wIG9yIGxlc3MgdGhhbiAwLjAuXG4gICAgICAgIC8vIElmIHRyaW1fb2Zmc2V0IGJlZ2luIGlzIGxpbmUgYmVnaW4gKDAuMCksIG9yIHRyaW1fb2Zmc2V0IGVuZCBpcyBsaW5lIGVuZCAoMS4wKSwgYWRqdXN0IHRoZSB0cmltXG4gICAgICAgIC8vIG9mZnNldCB3aXRoIGZha2Ugb2Zmc2V0IHNoaWZ0IHNvIHRoYXQgdGhlIGxpbmVfcHJvZ3Jlc3MgPCAwLjAgb3IgbGluZV9wcm9ncmVzcyA+IDEuMCBwYXJ0IHdpbGwgYmVcbiAgICAgICAgLy8gY29ycmVjdGx5IGNvdmVyZWQuXG4gICAgICAgIGlmIChjb25zdGFudENhcCA9PT0gJ3JvdW5kJyB8fCBjb25zdGFudENhcCA9PT0gJ3NxdWFyZScpIHtcbiAgICAgICAgICAgIC8vIEZha2UgdGhlIHBlcmNlbnRhZ2Ugc28gdGhhdCBpdCB3aWxsIGNvdmVyIHRoZSByb3VuZC9zcXVhcmUgY2FwIHRoYXQgaXMgYmV5b25kIHdob2xlIGxpbmVcbiAgICAgICAgICAgIGNvbnN0IGZha2VPZmZzZXRTaGlmdCA9IDEuMDtcbiAgICAgICAgICAgIC8vIFRvIG1ha2Ugc3VyZSB0aGF0IHRoZSB0cmltIG9mZnNldCByYW5nZSBpcyBlZmZlY2l2ZVxuICAgICAgICAgICAgaWYgKHRyaW1TdGFydCAhPT0gdHJpbUVuZCkge1xuICAgICAgICAgICAgICAgIGlmICh0cmltU3RhcnQgPT09IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICB0cmltU3RhcnQgLT0gZmFrZU9mZnNldFNoaWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHJpbUVuZCA9PT0gMS4wKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyaW1FbmQgKz0gZmFrZU9mZnNldFNoaWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHBhaW50ZXIudGVycmFpbiA/IGNvb3JkLnByb2pNYXRyaXggOiBudWxsO1xuICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gaW1hZ2UgP1xuICAgICAgICAgICAgbGluZVBhdHRlcm5Vbmlmb3JtVmFsdWVzKHBhaW50ZXIsIHRpbGUsIGxheWVyLCBtYXRyaXgsIHBpeGVsUmF0aW8pIDpcbiAgICAgICAgICAgIGxpbmVVbmlmb3JtVmFsdWVzKHBhaW50ZXIsIHRpbGUsIGxheWVyLCBtYXRyaXgsIGJ1Y2tldC5saW5lQ2xpcHNBcnJheS5sZW5ndGgsIHBpeGVsUmF0aW8sIFt0cmltU3RhcnQsIHRyaW1FbmRdKTtcblxuICAgICAgICBpZiAoZ3JhZGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyR3JhZGllbnQgPSBidWNrZXQuZ3JhZGllbnRzW2xheWVyLmlkXTtcbiAgICAgICAgICAgIGxldCBncmFkaWVudFRleHR1cmUgPSBsYXllckdyYWRpZW50LnRleHR1cmU7XG4gICAgICAgICAgICBpZiAobGF5ZXIuZ3JhZGllbnRWZXJzaW9uICE9PSBsYXllckdyYWRpZW50LnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dHVyZVJlc29sdXRpb24gPSAyNTY7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLnN0ZXBJbnRlcnBvbGFudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VNYXhab29tID0gc291cmNlQ2FjaGUuZ2V0U291cmNlKCkubWF4em9vbTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG90ZW50aWFsT3Zlcnpvb20gPSBjb29yZC5jYW5vbmljYWwueiA9PT0gc291cmNlTWF4Wm9vbSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNlaWwoMSA8PCAocGFpbnRlci50cmFuc2Zvcm0ubWF4Wm9vbSAtIGNvb3JkLmNhbm9uaWNhbC56KSkgOiAxO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lTGVuZ3RoID0gYnVja2V0Lm1heExpbmVMZW5ndGggLyBFWFRFTlQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIExvZ2ljYWwgcGl4ZWwgdGlsZSBzaXplIGlzIDUxMnB4LCBhbmQgMTAyNHB4IHJpZ2h0IGJlZm9yZSBjdXJyZW50IHpvb20gKyAxXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFRpbGVQaXhlbFNpemUgPSAxMDI0O1xuICAgICAgICAgICAgICAgICAgICAvLyBNYXhpbXVtIHBvc3NpYmxlIHRleHR1cmUgY292ZXJhZ2UgaGV1cmlzdGljLCBib3VuZCBieSBoYXJkd2FyZSBtYXggdGV4dHVyZSBzaXplXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFRleHR1cmVDb3ZlcmFnZSA9IGxpbmVMZW5ndGggKiBtYXhUaWxlUGl4ZWxTaXplICogcG90ZW50aWFsT3Zlcnpvb207XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVSZXNvbHV0aW9uID0gY2xhbXAobmV4dFBvd2VyT2ZUd28obWF4VGV4dHVyZUNvdmVyYWdlKSwgMjU2LCBjb250ZXh0Lm1heFRleHR1cmVTaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGF5ZXJHcmFkaWVudC5ncmFkaWVudCA9IHJlbmRlckNvbG9yUmFtcCh7XG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IGxheWVyLmdyYWRpZW50RXhwcmVzc2lvbigpLFxuICAgICAgICAgICAgICAgICAgICBldmFsdWF0aW9uS2V5OiAnbGluZVByb2dyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogdGV4dHVyZVJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiBsYXllckdyYWRpZW50LmdyYWRpZW50IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY2xpcHM6IGJ1Y2tldC5saW5lQ2xpcHNBcnJheVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChsYXllckdyYWRpZW50LnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJHcmFkaWVudC50ZXh0dXJlLnVwZGF0ZShsYXllckdyYWRpZW50LmdyYWRpZW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYXllckdyYWRpZW50LnRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCBsYXllckdyYWRpZW50LmdyYWRpZW50LCBnbC5SR0JBKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGF5ZXJHcmFkaWVudC52ZXJzaW9uID0gbGF5ZXIuZ3JhZGllbnRWZXJzaW9uO1xuICAgICAgICAgICAgICAgIGdyYWRpZW50VGV4dHVyZSA9IGxheWVyR3JhZGllbnQudGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTEpO1xuICAgICAgICAgICAgZ3JhZGllbnRUZXh0dXJlLmJpbmQobGF5ZXIuc3RlcEludGVycG9sYW50ID8gZ2wuTkVBUkVTVCA6IGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhc2hhcnJheSkge1xuICAgICAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgICAgICB0aWxlLmxpbmVBdGxhc1RleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLlJFUEVBVCk7XG4gICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbi51cGRhdGVQYWludEJ1ZmZlcnMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgICAgICAgICAgdGlsZS5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbi51cGRhdGVQYWludEJ1ZmZlcnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhaW50ZXIucHJlcGFyZURyYXdQcm9ncmFtKGNvbnRleHQsIHByb2dyYW0sIGNvb3JkLnRvVW53cmFwcGVkKCkpO1xuXG4gICAgICAgIGNvbnN0IHJlbmRlckxpbmUgPSAoc3RlbmNpbE1vZGUpID0+IHtcbiAgICAgICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSxcbiAgICAgICAgICAgICAgICBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsIHVuaWZvcm1WYWx1ZXMsXG4gICAgICAgICAgICAgICAgbGF5ZXIuaWQsIGJ1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXIsIGJ1Y2tldC5pbmRleEJ1ZmZlciwgYnVja2V0LnNlZ21lbnRzLFxuICAgICAgICAgICAgICAgIGxheWVyLnBhaW50LCBwYWludGVyLnRyYW5zZm9ybS56b29tLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgW2J1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXIyXSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHVzZVN0ZW5jaWxNYXNrUmVuZGVyUGFzcykge1xuICAgICAgICAgICAgY29uc3Qgc3RlbmNpbElkID0gcGFpbnRlci5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGNvb3JkKS5yZWY7XG4gICAgICAgICAgICAvLyBXaGVuIHRlcnJhaW4gaXMgb24sIGVuc3VyZSB0aGF0IHRoZSBzdGVuY2lsIGJ1ZmZlciBoYXMgMCB2YWx1ZXMuXG4gICAgICAgICAgICAvLyBBcyBzdGVuY2lsIG1heSBiZSBkaXNhYmxlZCB3aGVuIGl0IGlzIG5vdCBpbiBvdmVybGFwcGluZyBzdGVuY2lsXG4gICAgICAgICAgICAvLyBtb2RlLiBSZWZlciB0byBzdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAgbG9naWMuXG4gICAgICAgICAgICBpZiAoc3RlbmNpbElkID09PSAwICYmIHBhaW50ZXIudGVycmFpbikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xlYXIoe3N0ZW5jaWw6IDB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0ZW5jaWxGdW5jID0ge2Z1bmM6IGdsLkVRVUFMLCBtYXNrOiAweEZGfTtcblxuICAgICAgICAgICAgLy8gQWxsb3cgbGluZSBnZW9tZXRyeSBmcmFnbWVudCB0byBiZSBkcmF3biBvbmx5IG9uY2U6XG4gICAgICAgICAgICAvLyAtIEludmVydCB0aGUgc3RlbmNpbCBpZGVudGlmaWVyIGxlZnQgYnkgc3RlbmNpbCBjbGlwcGluZywgdGhpc1xuICAgICAgICAgICAgLy8gZW5zdXJlcyB0aGF0IHdlIGFyZSBub3QgY29uZmxpY3Rpbmcgd2l0aCBuZWlnaGJvcmhpbmcgdGlsZXMuXG4gICAgICAgICAgICAvLyAtIERyYXcgQW50aS1BbGlhc2VkIHBpeGVscyB3aXRoIGEgdGhyZXNob2xkIHNldCB0byAwLjgsIHRoaXNcbiAgICAgICAgICAgIC8vIG1heSBkcmF3IEFudGktQWxpYXNlZCBwaXhlbHMgbW9yZSB0aGFuIG9uY2UsIGJ1dCBkdWUgdG8gdGhlaXJcbiAgICAgICAgICAgIC8vIGxvdyBvcGFjaXR5LCB0aGVzZSBwaXhlbHMgYXJlIHVzdWFsbHkgaW52aXNpYmxlIGFuZCBwb3RlbnRpYWxcbiAgICAgICAgICAgIC8vIG92ZXJsYXBwaW5nIHBpeGVsIGFydGlmYWN0cyBsb2NhbGx5IG1pbmltaXplZC5cbiAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXNbJ3VfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQnXSA9IDAuODtcbiAgICAgICAgICAgIHJlbmRlckxpbmUobmV3IFN0ZW5jaWxNb2RlKHN0ZW5jaWxGdW5jLCBzdGVuY2lsSWQsIDB4RkYsIGdsLktFRVAsIGdsLktFRVAsIGdsLklOVkVSVCkpO1xuICAgICAgICAgICAgdW5pZm9ybVZhbHVlc1sndV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZCddID0gMC4wO1xuICAgICAgICAgICAgcmVuZGVyTGluZShuZXcgU3RlbmNpbE1vZGUoc3RlbmNpbEZ1bmMsIHN0ZW5jaWxJZCwgMHhGRiwgZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyTGluZShwYWludGVyLnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcoY29vcmQpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdoZW4gcmVuZGVyaW5nIHRvIHN0ZW5jaWwsIHJlc2V0IHRoZSBtYXNrIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSB0aWxlXG4gICAgLy8gY2xpcHBpbmcgcmV2ZXJ0cyB0aGUgc3RlbmNpbCBtYXNrIHdlIG1heSBoYXZlIGRyYXduIGluIHRoZSBidWZmZXIuXG4gICAgLy8gVGhlIHN0YW1wIGNvdWxkIGJlIHJldmVydGVkIGJ5IGFuIGV4dHJhIGRyYXcgY2FsbCBvZiBsaW5lIGdlb21ldHJ5LFxuICAgIC8vIGJ1dCB0aWxlIGNsaXBwaW5nIGRyYXdpbmcgaXMgdXN1YWxseSBmYXN0ZXIgdG8gZHJhdyB0aGFuIGxpbmVzLlxuICAgIGlmICh1c2VTdGVuY2lsTWFza1JlbmRlclBhc3MpIHtcbiAgICAgICAgcGFpbnRlci5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7XG4gICAgICAgIGlmIChwYWludGVyLnRlcnJhaW4pIHsgY29udGV4dC5jbGVhcih7c3RlbmNpbDogMH0pOyB9XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IEltYWdlU291cmNlIGZyb20gJy4uL3NvdXJjZS9pbWFnZV9zb3VyY2UuanMnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZS5qcyc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUuanMnO1xuaW1wb3J0IEN1bGxGYWNlTW9kZSBmcm9tICcuLi9nbC9jdWxsX2ZhY2VfbW9kZS5qcyc7XG5pbXBvcnQge3Jhc3RlclVuaWZvcm1WYWx1ZXN9IGZyb20gJy4vcHJvZ3JhbS9yYXN0ZXJfcHJvZ3JhbS5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgUmFzdGVyU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9yYXN0ZXJfc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCByYXN0ZXJGYWRlIGZyb20gJy4vcmFzdGVyX2ZhZGUuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3UmFzdGVyO1xuXG5mdW5jdGlvbiBkcmF3UmFzdGVyKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IFJhc3RlclN0eWxlTGF5ZXIsIHRpbGVJRHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+LCB2YXJpYWJsZU9mZnNldHM6IGFueSwgaXNJbml0aWFsTG9hZDogYm9vbGVhbikge1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09ICd0cmFuc2x1Y2VudCcpIHJldHVybjtcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItb3BhY2l0eScpID09PSAwKSByZXR1cm47XG4gICAgaWYgKCF0aWxlSURzLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGUuZ2V0U291cmNlKCk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgncmFzdGVyJyk7XG5cbiAgICBjb25zdCBjb2xvck1vZGUgPSBwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTtcblxuICAgIC8vIFdoZW4gcmVuZGVyaW5nIHRvIHRleHR1cmUsIGNvb3JkaW5hdGVzIGFyZSBhbHJlYWR5IHNvcnRlZDogcHJpbWFyeSBieVxuICAgIC8vIHByb3h5IGlkIGFuZCBzZWNvbmRhcnkgc29ydCBpcyBieSBaLlxuICAgIGNvbnN0IHJlbmRlcmluZ1RvVGV4dHVyZSA9IHBhaW50ZXIudGVycmFpbiAmJiBwYWludGVyLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlO1xuXG4gICAgY29uc3QgW3N0ZW5jaWxNb2RlcywgY29vcmRzXSA9IHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlU291cmNlIHx8IHJlbmRlcmluZ1RvVGV4dHVyZSA/IFt7fSwgdGlsZUlEc10gOlxuICAgICAgICBwYWludGVyLnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKHRpbGVJRHMpO1xuXG4gICAgY29uc3QgbWluVGlsZVogPSBjb29yZHNbY29vcmRzLmxlbmd0aCAtIDFdLm92ZXJzY2FsZWRaO1xuXG4gICAgY29uc3QgYWxpZ24gPSAhcGFpbnRlci5vcHRpb25zLm1vdmluZztcbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICAvLyBTZXQgdGhlIGxvd2VyIHpvb20gbGV2ZWwgdG8gc3VibGF5ZXIgMCwgYW5kIGhpZ2hlciB6b29tIGxldmVscyB0byBoaWdoZXIgc3VibGF5ZXJzXG4gICAgICAgIC8vIFVzZSBnbC5MRVNTIHRvIHByZXZlbnQgZG91YmxlIGRyYXdpbmcgaW4gYXJlYXMgd2hlcmUgdGlsZXMgb3ZlcmxhcC5cbiAgICAgICAgY29uc3QgZGVwdGhNb2RlID0gcmVuZGVyaW5nVG9UZXh0dXJlID8gRGVwdGhNb2RlLmRpc2FibGVkIDogcGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcihjb29yZC5vdmVyc2NhbGVkWiAtIG1pblRpbGVaLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItb3BhY2l0eScpID09PSAxID8gRGVwdGhNb2RlLlJlYWRXcml0ZSA6IERlcHRoTW9kZS5SZWFkT25seSwgZ2wuTEVTUyk7XG5cbiAgICAgICAgY29uc3QgdW53cmFwcGVkVGlsZUlEID0gY29vcmQudG9VbndyYXBwZWQoKTtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBpZiAocmVuZGVyaW5nVG9UZXh0dXJlICYmICEodGlsZSAmJiB0aWxlLmhhc0RhdGEoKSkpIGNvbnRpbnVlO1xuXG4gICAgICAgIGNvbnN0IHByb2pNYXRyaXggPSAocmVuZGVyaW5nVG9UZXh0dXJlKSA/IGNvb3JkLnByb2pNYXRyaXggOlxuICAgICAgICAgICAgcGFpbnRlci50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeCh1bndyYXBwZWRUaWxlSUQsIGFsaWduKTtcblxuICAgICAgICBjb25zdCBzdGVuY2lsTW9kZSA9IHBhaW50ZXIudGVycmFpbiAmJiByZW5kZXJpbmdUb1RleHR1cmUgP1xuICAgICAgICAgICAgcGFpbnRlci50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChjb29yZCkgOlxuICAgICAgICAgICAgc3RlbmNpbE1vZGVzW2Nvb3JkLm92ZXJzY2FsZWRaXTtcblxuICAgICAgICBjb25zdCByYXN0ZXJGYWRlRHVyYXRpb24gPSBpc0luaXRpYWxMb2FkID8gMCA6IGxheWVyLnBhaW50LmdldCgncmFzdGVyLWZhZGUtZHVyYXRpb24nKTtcbiAgICAgICAgdGlsZS5yZWdpc3RlckZhZGVEdXJhdGlvbihyYXN0ZXJGYWRlRHVyYXRpb24pO1xuXG4gICAgICAgIGNvbnN0IHBhcmVudFRpbGUgPSBzb3VyY2VDYWNoZS5maW5kTG9hZGVkUGFyZW50KGNvb3JkLCAwKTtcbiAgICAgICAgY29uc3QgZmFkZSA9IHJhc3RlckZhZGUodGlsZSwgcGFyZW50VGlsZSwgc291cmNlQ2FjaGUsIHBhaW50ZXIudHJhbnNmb3JtLCByYXN0ZXJGYWRlRHVyYXRpb24pO1xuICAgICAgICBpZiAocGFpbnRlci50ZXJyYWluKSBwYWludGVyLnRlcnJhaW4ucHJlcGFyZURyYXdUaWxlKCk7XG5cbiAgICAgICAgbGV0IHBhcmVudFNjYWxlQnksIHBhcmVudFRMO1xuXG4gICAgICAgIGNvbnN0IHRleHR1cmVGaWx0ZXIgPSBsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1yZXNhbXBsaW5nJykgPT09ICduZWFyZXN0JyA/IGdsLk5FQVJFU1QgOiBnbC5MSU5FQVI7XG5cbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgIHRpbGUudGV4dHVyZS5iaW5kKHRleHR1cmVGaWx0ZXIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTEpO1xuXG4gICAgICAgIGlmIChwYXJlbnRUaWxlKSB7XG4gICAgICAgICAgICBwYXJlbnRUaWxlLnRleHR1cmUuYmluZCh0ZXh0dXJlRmlsdGVyLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIHBhcmVudFNjYWxlQnkgPSBNYXRoLnBvdygyLCBwYXJlbnRUaWxlLnRpbGVJRC5vdmVyc2NhbGVkWiAtIHRpbGUudGlsZUlELm92ZXJzY2FsZWRaKTtcbiAgICAgICAgICAgIHBhcmVudFRMID0gW3RpbGUudGlsZUlELmNhbm9uaWNhbC54ICogcGFyZW50U2NhbGVCeSAlIDEsIHRpbGUudGlsZUlELmNhbm9uaWNhbC55ICogcGFyZW50U2NhbGVCeSAlIDFdO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aWxlLnRleHR1cmUuYmluZCh0ZXh0dXJlRmlsdGVyLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVuYWJsZSB0cmlsaW5lYXIgZmlsdGVyaW5nIG9uIHRpbGVzIG9ubHkgYmV5b25kIDIwIGRlZ3JlZXMgcGl0Y2gsXG4gICAgICAgIC8vIHRvIHByZXZlbnQgaXQgZnJvbSBjb21wcm9taXNpbmcgaW1hZ2UgY3Jpc3BuZXNzIG9uIGZsYXQgb3IgbG93IHRpbHRlZCBtYXBzLlxuICAgICAgICBpZiAodGlsZS50ZXh0dXJlLnVzZU1pcG1hcCAmJiBjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyAmJiBwYWludGVyLnRyYW5zZm9ybS5waXRjaCA+IDIwKSB7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJmKGdsLlRFWFRVUkVfMkQsIGNvbnRleHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULCBjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwZXJzcGVjdGl2ZVRyYW5zZm9ybSA9IHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlU291cmNlID8gc291cmNlLnBlcnNwZWN0aXZlVHJhbnNmb3JtIDogWzAsIDBdO1xuICAgICAgICBjb25zdCB1bmlmb3JtVmFsdWVzID0gcmFzdGVyVW5pZm9ybVZhbHVlcyhwcm9qTWF0cml4LCBwYXJlbnRUTCB8fCBbMCwgMF0sIHBhcmVudFNjYWxlQnkgfHwgMSwgZmFkZSwgbGF5ZXIsIHBlcnNwZWN0aXZlVHJhbnNmb3JtKTtcblxuICAgICAgICBwYWludGVyLnByZXBhcmVEcmF3UHJvZ3JhbShjb250ZXh0LCBwcm9ncmFtLCB1bndyYXBwZWRUaWxlSUQpO1xuXG4gICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBJbWFnZVNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5ib3VuZHNCdWZmZXIgJiYgc291cmNlLmJvdW5kc1NlZ21lbnRzKSBwcm9ncmFtLmRyYXcoXG4gICAgICAgICAgICAgICAgY29udGV4dCwgZ2wuVFJJQU5HTEVTLCBkZXB0aE1vZGUsIFN0ZW5jaWxNb2RlLmRpc2FibGVkLCBjb2xvck1vZGUsIEN1bGxGYWNlTW9kZS5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICB1bmlmb3JtVmFsdWVzLCBsYXllci5pZCwgc291cmNlLmJvdW5kc0J1ZmZlcixcbiAgICAgICAgICAgICAgICBwYWludGVyLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLCBzb3VyY2UuYm91bmRzU2VnbWVudHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qge3RpbGVCb3VuZHNCdWZmZXIsIHRpbGVCb3VuZHNJbmRleEJ1ZmZlciwgdGlsZUJvdW5kc1NlZ21lbnRzfSA9IHBhaW50ZXIuZ2V0VGlsZUJvdW5kc0J1ZmZlcnModGlsZSk7XG5cbiAgICAgICAgICAgIHByb2dyYW0uZHJhdyhjb250ZXh0LCBnbC5UUklBTkdMRVMsIGRlcHRoTW9kZSwgc3RlbmNpbE1vZGUsIGNvbG9yTW9kZSwgQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIHVuaWZvcm1WYWx1ZXMsIGxheWVyLmlkLCB0aWxlQm91bmRzQnVmZmVyLFxuICAgICAgICAgICAgICAgIHRpbGVCb3VuZHNJbmRleEJ1ZmZlciwgdGlsZUJvdW5kc1NlZ21lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhaW50ZXIucmVzZXRTdGVuY2lsQ2xpcHBpbmdNYXNrcygpO1xufVxuXG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlLmpzJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZS5qcyc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlLmpzJztcbmltcG9ydCBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB7XG4gICAgYmFja2dyb3VuZFVuaWZvcm1WYWx1ZXMsXG4gICAgYmFja2dyb3VuZFBhdHRlcm5Vbmlmb3JtVmFsdWVzXG59IGZyb20gJy4vcHJvZ3JhbS9iYWNrZ3JvdW5kX3Byb2dyYW0uanMnO1xuaW1wb3J0IHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZC5qcyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgQmFja2dyb3VuZFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvYmFja2dyb3VuZF9zdHlsZV9sYXllci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdCYWNrZ3JvdW5kO1xuXG5mdW5jdGlvbiBkcmF3QmFja2dyb3VuZChwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBCYWNrZ3JvdW5kU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGNvbnN0IGNvbG9yID0gbGF5ZXIucGFpbnQuZ2V0KCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG4gICAgY29uc3Qgb3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnYmFja2dyb3VuZC1vcGFjaXR5Jyk7XG5cbiAgICBpZiAob3BhY2l0eSA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgdGlsZVNpemUgPSB0cmFuc2Zvcm0udGlsZVNpemU7XG4gICAgY29uc3QgaW1hZ2UgPSBsYXllci5wYWludC5nZXQoJ2JhY2tncm91bmQtcGF0dGVybicpO1xuICAgIGlmIChwYWludGVyLmlzUGF0dGVybk1pc3NpbmcoaW1hZ2UpKSByZXR1cm47XG5cbiAgICBjb25zdCBwYXNzID0gKCFpbWFnZSAmJiBjb2xvci5hID09PSAxICYmIG9wYWNpdHkgPT09IDEgJiYgcGFpbnRlci5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkpID8gJ29wYXF1ZScgOiAndHJhbnNsdWNlbnQnO1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09IHBhc3MpIHJldHVybjtcblxuICAgIGNvbnN0IHN0ZW5jaWxNb2RlID0gU3RlbmNpbE1vZGUuZGlzYWJsZWQ7XG4gICAgY29uc3QgZGVwdGhNb2RlID0gcGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcigwLCBwYXNzID09PSAnb3BhcXVlJyA/IERlcHRoTW9kZS5SZWFkV3JpdGUgOiBEZXB0aE1vZGUuUmVhZE9ubHkpO1xuICAgIGNvbnN0IGNvbG9yTW9kZSA9IHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO1xuXG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbShpbWFnZSA/ICdiYWNrZ3JvdW5kUGF0dGVybicgOiAnYmFja2dyb3VuZCcpO1xuXG4gICAgbGV0IHRpbGVJRHMgPSBjb29yZHM7XG4gICAgbGV0IGJhY2tncm91bmRUaWxlcztcbiAgICBpZiAoIXRpbGVJRHMpIHtcbiAgICAgICAgYmFja2dyb3VuZFRpbGVzID0gcGFpbnRlci5nZXRCYWNrZ3JvdW5kVGlsZXMoKTtcbiAgICAgICAgdGlsZUlEcyA9IE9iamVjdC52YWx1ZXMoYmFja2dyb3VuZFRpbGVzKS5tYXAodGlsZSA9PiAodGlsZTogYW55KS50aWxlSUQpO1xuICAgIH1cblxuICAgIGlmIChpbWFnZSkge1xuICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgcGFpbnRlci5pbWFnZU1hbmFnZXIuYmluZChwYWludGVyLmNvbnRleHQpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgdGlsZUlEIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgY29uc3QgdW53cmFwcGVkVGlsZUlEID0gdGlsZUlELnRvVW53cmFwcGVkKCk7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNvb3JkcyA/IHRpbGVJRC5wcm9qTWF0cml4IDogcGFpbnRlci50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeCh1bndyYXBwZWRUaWxlSUQpO1xuICAgICAgICBwYWludGVyLnByZXBhcmVEcmF3VGlsZSgpO1xuXG4gICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZSA/IHNvdXJjZUNhY2hlLmdldFRpbGUodGlsZUlEKSA6XG4gICAgICAgICAgICBiYWNrZ3JvdW5kVGlsZXMgPyBiYWNrZ3JvdW5kVGlsZXNbdGlsZUlELmtleV0gOiBuZXcgVGlsZSh0aWxlSUQsIHRpbGVTaXplLCB0cmFuc2Zvcm0uem9vbSwgcGFpbnRlcik7XG5cbiAgICAgICAgY29uc3QgdW5pZm9ybVZhbHVlcyA9IGltYWdlID9cbiAgICAgICAgICAgIGJhY2tncm91bmRQYXR0ZXJuVW5pZm9ybVZhbHVlcyhtYXRyaXgsIG9wYWNpdHksIHBhaW50ZXIsIGltYWdlLCB7dGlsZUlELCB0aWxlU2l6ZX0pIDpcbiAgICAgICAgICAgIGJhY2tncm91bmRVbmlmb3JtVmFsdWVzKG1hdHJpeCwgb3BhY2l0eSwgY29sb3IpO1xuXG4gICAgICAgIHBhaW50ZXIucHJlcGFyZURyYXdQcm9ncmFtKGNvbnRleHQsIHByb2dyYW0sIHVud3JhcHBlZFRpbGVJRCk7XG5cbiAgICAgICAgY29uc3Qge3RpbGVCb3VuZHNCdWZmZXIsIHRpbGVCb3VuZHNJbmRleEJ1ZmZlciwgdGlsZUJvdW5kc1NlZ21lbnRzfSA9IHBhaW50ZXIuZ2V0VGlsZUJvdW5kc0J1ZmZlcnModGlsZSk7XG5cbiAgICAgICAgcHJvZ3JhbS5kcmF3KGNvbnRleHQsIGdsLlRSSUFOR0xFUywgZGVwdGhNb2RlLCBzdGVuY2lsTW9kZSwgY29sb3JNb2RlLCBDdWxsRmFjZU1vZGUuZGlzYWJsZWQsXG4gICAgICAgICAgICB1bmlmb3JtVmFsdWVzLCBsYXllci5pZCwgdGlsZUJvdW5kc0J1ZmZlcixcbiAgICAgICAgICAgICAgICB0aWxlQm91bmRzSW5kZXhCdWZmZXIsIHRpbGVCb3VuZHNTZWdtZW50cyk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0N1c3RvbTtcblxuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlLmpzJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUuanMnO1xuaW1wb3J0IHt3YXJuT25jZX0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7Z2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbn0gZnJvbSAnLi8uLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXIuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUuanMnO1xuaW1wb3J0IHR5cGUgQ3VzdG9tU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9jdXN0b21fc3R5bGVfbGF5ZXIuanMnO1xuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSBmcm9tICcuLi9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmZ1bmN0aW9uIGRyYXdDdXN0b20ocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogQ3VzdG9tU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBpbXBsZW1lbnRhdGlvbiA9IGxheWVyLmltcGxlbWVudGF0aW9uO1xuXG4gICAgaWYgKHBhaW50ZXIudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnMgJiYgcGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycy5pbmNsdWRlcyhcImN1c3RvbVwiKSAmJlxuICAgICAgICAhKHBhaW50ZXIudGVycmFpbiAmJiAocGFpbnRlci50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSB8fCBwYWludGVyLnJlbmRlclBhc3MgPT09ICdvZmZzY3JlZW4nKSAmJiBsYXllci5pc0xheWVyRHJhcGVkKCkpKSB7XG4gICAgICAgIHdhcm5PbmNlKCdDdXN0b20gbGF5ZXJzIGFyZSBub3QgeWV0IHN1cHBvcnRlZCB3aXRoIHRoaXMgcHJvamVjdGlvbi4gVXNlIG1lcmNhdG9yIG9yIGdsb2JlIHRvIGVuYWJsZSB1c2FnZSBvZiBjdXN0b20gbGF5ZXJzLicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ29mZnNjcmVlbicpIHtcblxuICAgICAgICBjb25zdCBwcmVyZW5kZXIgPSBpbXBsZW1lbnRhdGlvbi5wcmVyZW5kZXI7XG4gICAgICAgIGlmIChwcmVyZW5kZXIpIHtcbiAgICAgICAgICAgIHBhaW50ZXIuc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpO1xuICAgICAgICAgICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuXG4gICAgICAgICAgICBpZiAocGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSBcImdsb2JlXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXIgPSBwYWludGVyLnRyYW5zZm9ybS5wb2ludE1lcmM7XG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyLmNhbGwoaW1wbGVtZW50YXRpb24sIGNvbnRleHQuZ2wsIHBhaW50ZXIudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCksIHBhaW50ZXIudHJhbnNmb3JtLmdldFByb2plY3Rpb24oKSwgcGFpbnRlci50cmFuc2Zvcm0uZ2xvYmVUb01lcmNhdG9yTWF0cml4KCksICBnbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKHBhaW50ZXIudHJhbnNmb3JtLnpvb20pLCBbY2VudGVyLngsIGNlbnRlci55XSwgcGFpbnRlci50cmFuc2Zvcm0ucGl4ZWxzUGVyTWV0ZXJSYXRpbyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXJlbmRlci5jYWxsKGltcGxlbWVudGF0aW9uLCBjb250ZXh0LmdsLCBwYWludGVyLnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGV4dC5zZXREaXJ0eSgpO1xuICAgICAgICAgICAgcGFpbnRlci5zZXRCYXNlU3RhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcpIHtcblxuICAgICAgICBpZiAocGFpbnRlci50ZXJyYWluICYmIHBhaW50ZXIudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUpIHtcbiAgICAgICAgICAgIGFzc2VydChpbXBsZW1lbnRhdGlvbi5yZW5kZXJUb1RpbGUpO1xuICAgICAgICAgICAgYXNzZXJ0KGNvb3Jkcy5sZW5ndGggPT09IDEpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyVG9UaWxlID0gaW1wbGVtZW50YXRpb24ucmVuZGVyVG9UaWxlO1xuICAgICAgICAgICAgaWYgKHJlbmRlclRvVGlsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBjb29yZHNbMF0uY2Fub25pY2FsO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVud3JhcHBlZCA9IG5ldyBNZXJjYXRvckNvb3JkaW5hdGUoYy54ICsgY29vcmRzWzBdLndyYXAgKiAoMSA8PCBjLnopLCBjLnksIGMueik7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShEZXB0aE1vZGUuZGlzYWJsZWQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcbiAgICAgICAgICAgICAgICBwYWludGVyLnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKTtcblxuICAgICAgICAgICAgICAgIHJlbmRlclRvVGlsZS5jYWxsKGltcGxlbWVudGF0aW9uLCBjb250ZXh0LmdsLCB1bndyYXBwZWQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0RGlydHkoKTtcbiAgICAgICAgICAgICAgICBwYWludGVyLnNldEJhc2VTdGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFpbnRlci5zZXRDdXN0b21MYXllckRlZmF1bHRzKCk7XG5cbiAgICAgICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuICAgICAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKFN0ZW5jaWxNb2RlLmRpc2FibGVkKTtcblxuICAgICAgICBjb25zdCBkZXB0aE1vZGUgPSBpbXBsZW1lbnRhdGlvbi5yZW5kZXJpbmdNb2RlID09PSAnM2QnID9cbiAgICAgICAgICAgIG5ldyBEZXB0aE1vZGUocGFpbnRlci5jb250ZXh0LmdsLkxFUVVBTCwgRGVwdGhNb2RlLlJlYWRXcml0ZSwgcGFpbnRlci5kZXB0aFJhbmdlRm9yM0QpIDpcbiAgICAgICAgICAgIHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KTtcblxuICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShkZXB0aE1vZGUpO1xuXG4gICAgICAgIGlmIChwYWludGVyLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUgPT09IFwiZ2xvYmVcIikge1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gcGFpbnRlci50cmFuc2Zvcm0ucG9pbnRNZXJjO1xuICAgICAgICAgICAgaW1wbGVtZW50YXRpb24ucmVuZGVyKGNvbnRleHQuZ2wsIHBhaW50ZXIudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCksIHBhaW50ZXIudHJhbnNmb3JtLmdldFByb2plY3Rpb24oKSwgcGFpbnRlci50cmFuc2Zvcm0uZ2xvYmVUb01lcmNhdG9yTWF0cml4KCksIGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24ocGFpbnRlci50cmFuc2Zvcm0uem9vbSksIFtjZW50ZXIueCwgY2VudGVyLnldLCBwYWludGVyLnRyYW5zZm9ybS5waXhlbHNQZXJNZXRlclJhdGlvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGltcGxlbWVudGF0aW9uLnJlbmRlcihjb250ZXh0LmdsLCBwYWludGVyLnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuc2V0RGlydHkoKTtcbiAgICAgICAgcGFpbnRlci5zZXRCYXNlU3RhdGUoKTtcbiAgICAgICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUuanMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlLmpzJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZS5qcyc7XG5pbXBvcnQgQ3VsbEZhY2VNb2RlIGZyb20gJy4uL2dsL2N1bGxfZmFjZV9tb2RlLmpzJztcbmltcG9ydCB7XG4gICAgZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbixcbiAgICBnbG9iZVVzZUN1c3RvbUFudGlBbGlhc2luZ1xufSBmcm9tICcuLy4uL2dlby9wcm9qZWN0aW9uL2dsb2JlX3V0aWwuanMnO1xuaW1wb3J0IHthdG1vc3BoZXJlVW5pZm9ybVZhbHVlc30gZnJvbSAnLi4vdGVycmFpbi9nbG9iZV9yYXN0ZXJfcHJvZ3JhbS5qcyc7XG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlci5qcyc7XG5pbXBvcnQgdHlwZSB7RHluYW1pY0RlZmluZXNUeXBlfSBmcm9tICcuLi9yZW5kZXIvcHJvZ3JhbS9wcm9ncmFtX3VuaWZvcm1zLmpzJztcbmltcG9ydCB7ZGVnVG9SYWQsIG1hcFZhbHVlfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IHt2ZWMzLCBtYXQ0LCBxdWF0fSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IEZvZyBmcm9tICcuLi9zdHlsZS9mb2cuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3QXRtb3NwaGVyZTtcblxuZnVuY3Rpb24gZHJhd0F0bW9zcGhlcmUocGFpbnRlcjogUGFpbnRlciwgZm9nOiBGb2cpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IGRlcHRoTW9kZSA9IG5ldyBEZXB0aE1vZGUoZ2wuTEVRVUFMLCBEZXB0aE1vZGUuUmVhZE9ubHksIFswLCAxXSk7XG4gICAgY29uc3QgZGVmaW5lcyA9IHRyLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJyA/IFsnUFJPSkVDVElPTl9HTE9CRV9WSUVXJywgJ0ZPRyddIDogWydGT0cnXTtcbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdnbG9iZUF0bW9zcGhlcmUnLCBudWxsLCAoKGRlZmluZXM6IGFueSk6IER5bmFtaWNEZWZpbmVzVHlwZVtdKSk7XG5cbiAgICBjb25zdCB0cmFuc2l0aW9uVCA9IGdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odHIuem9vbSk7XG5cbiAgICBjb25zdCBmb2dDb2xvciA9IGZvZy5wcm9wZXJ0aWVzLmdldCgnY29sb3InKS50b0FycmF5MDEoKTtcbiAgICBjb25zdCBoaWdoQ29sb3IgPSBmb2cucHJvcGVydGllcy5nZXQoJ2hpZ2gtY29sb3InKS50b0FycmF5MDEoKTtcbiAgICBjb25zdCBzcGFjZUNvbG9yID0gZm9nLnByb3BlcnRpZXMuZ2V0KCdzcGFjZS1jb2xvcicpLnRvQXJyYXkwMVByZW11bHRpcGxpZWRBbHBoYSgpO1xuXG4gICAgY29uc3Qgb3JpZW50YXRpb24gPSBxdWF0LmlkZW50aXR5KFtdKTtcblxuICAgIHF1YXQucm90YXRlWShvcmllbnRhdGlvbiwgb3JpZW50YXRpb24sIC1kZWdUb1JhZCh0ci5fY2VudGVyLmxuZykpO1xuICAgIHF1YXQucm90YXRlWChvcmllbnRhdGlvbiwgb3JpZW50YXRpb24sIGRlZ1RvUmFkKHRyLl9jZW50ZXIubGF0KSk7XG5cbiAgICBxdWF0LnJvdGF0ZVoob3JpZW50YXRpb24sIG9yaWVudGF0aW9uLCB0ci5hbmdsZSk7XG4gICAgcXVhdC5yb3RhdGVYKG9yaWVudGF0aW9uLCBvcmllbnRhdGlvbiwgLXRyLl9waXRjaCk7XG5cbiAgICBjb25zdCByb3RhdGlvbk1hdHJpeCA9IG1hdDQuZnJvbVF1YXQobmV3IEZsb2F0MzJBcnJheSgxNiksIG9yaWVudGF0aW9uKTtcblxuICAgIGNvbnN0IHN0YXJJbnRlbnNpdHkgPSBtYXBWYWx1ZShmb2cucHJvcGVydGllcy5nZXQoJ3N0YXItaW50ZW5zaXR5JyksIDAuMCwgMS4wLCAwLjAsIDAuMjUpO1xuICAgIC8vIGh0dHBzOi8vd3d3LmRlc21vcy5jb20vY2FsY3VsYXRvci9vYW52dnByMzZkXG4gICAgLy8gRW5zdXJlIGhvcml6b24gYmxlbmQgaXMgMC1leGNsdXNpdmUgdG8gcHJldmVudCBkaXZpc2lvbiBieSAwIGluIHRoZSBzaGFkZXJcbiAgICBjb25zdCBtaW5Ib3Jpem9uQmxlbmQgPSAwLjAwMDU7XG4gICAgY29uc3QgaG9yaXpvbkJsZW5kID0gbWFwVmFsdWUoZm9nLnByb3BlcnRpZXMuZ2V0KCdob3Jpem9uLWJsZW5kJyksIDAuMCwgMS4wLCBtaW5Ib3Jpem9uQmxlbmQsIDAuMjUpO1xuXG4gICAgLy8gVXNlIGEgc2xpZ2h0bHkgc21hbGxlciBzaXplIG9mIHRoZSBnbG9iZSB0byBhY2NvdW50IGZvciBjdXN0b21cbiAgICAvLyBhbnRpYWxpYXNpbmcgdGhhdCByZWR1Y2VzIHRoZSBzaXplIG9mIHRoZSBnbG9iZSBvZiB0d28gcGl4ZWxzXG4gICAgLy8gaHR0cHM6Ly93d3cuZGVzbW9zLmNvbS9jYWxjdWxhdG9yL3hwZ216Z2hjMzdcbiAgICBjb25zdCBnbG9iZVJhZGl1cyA9IGdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nKHBhaW50ZXIsIGNvbnRleHQsIHRyKSAmJiBob3Jpem9uQmxlbmQgPT09IG1pbkhvcml6b25CbGVuZCA/XG4gICAgICAgIHRyLndvcmxkU2l6ZSAvICgyLjAgKiBNYXRoLlBJICogMS4wMjUpIC0gMS4wIDogdHIuZ2xvYmVSYWRpdXM7XG5cbiAgICBjb25zdCB0ZW1wb3JhbE9mZnNldCA9IChwYWludGVyLmZyYW1lQ291bnRlciAvIDEwMDAuMCkgJSAxO1xuICAgIGNvbnN0IGdsb2JlQ2VudGVySW5WaWV3U3BhY2UgPSAoKCh0ci5nbG9iZUNlbnRlckluVmlld1NwYWNlKTogYW55KTogQXJyYXk8bnVtYmVyPik7XG4gICAgY29uc3QgZ2xvYmVDZW50ZXJEaXN0YW5jZSA9IHZlYzMubGVuZ3RoKGdsb2JlQ2VudGVySW5WaWV3U3BhY2UpO1xuICAgIGNvbnN0IGRpc3RhbmNlVG9Ib3Jpem9uID0gTWF0aC5zcXJ0KE1hdGgucG93KGdsb2JlQ2VudGVyRGlzdGFuY2UsIDIuMCkgLSBNYXRoLnBvdyhnbG9iZVJhZGl1cywgMi4wKSk7XG4gICAgY29uc3QgaG9yaXpvbkFuZ2xlID0gTWF0aC5hY29zKGRpc3RhbmNlVG9Ib3Jpem9uIC8gZ2xvYmVDZW50ZXJEaXN0YW5jZSk7XG5cbiAgICBjb25zdCB1bmlmb3JtcyA9IGF0bW9zcGhlcmVVbmlmb3JtVmFsdWVzKFxuICAgICAgICB0ci5mcnVzdHVtQ29ybmVycy5UTCxcbiAgICAgICAgdHIuZnJ1c3R1bUNvcm5lcnMuVFIsXG4gICAgICAgIHRyLmZydXN0dW1Db3JuZXJzLkJSLFxuICAgICAgICB0ci5mcnVzdHVtQ29ybmVycy5CTCxcbiAgICAgICAgdHIuZnJ1c3R1bUNvcm5lcnMuaG9yaXpvbixcbiAgICAgICAgdHJhbnNpdGlvblQsXG4gICAgICAgIGhvcml6b25CbGVuZCxcbiAgICAgICAgZm9nQ29sb3IsXG4gICAgICAgIGhpZ2hDb2xvcixcbiAgICAgICAgc3BhY2VDb2xvcixcbiAgICAgICAgc3RhckludGVuc2l0eSxcbiAgICAgICAgdGVtcG9yYWxPZmZzZXQsXG4gICAgICAgIGhvcml6b25BbmdsZSxcbiAgICAgICAgcm90YXRpb25NYXRyaXgpO1xuXG4gICAgcGFpbnRlci5wcmVwYXJlRHJhd1Byb2dyYW0oY29udGV4dCwgcHJvZ3JhbSk7XG5cbiAgICBjb25zdCBidWZmZXIgPSBwYWludGVyLmF0bW9zcGhlcmVCdWZmZXI7XG4gICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICBwcm9ncmFtLmRyYXcoY29udGV4dCwgZ2wuVFJJQU5HTEVTLCBkZXB0aE1vZGUsIFN0ZW5jaWxNb2RlLmRpc2FibGVkLFxuICAgICAgICAgICAgQ29sb3JNb2RlLmFscGhhQmxlbmRlZCwgQ3VsbEZhY2VNb2RlLmJhY2tDVywgdW5pZm9ybXMsIFwic2t5Ym94XCIsXG4gICAgICAgICAgICBidWZmZXIudmVydGV4QnVmZmVyLCBidWZmZXIuaW5kZXhCdWZmZXIsIGJ1ZmZlci5zZWdtZW50cyk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7bnVtYmVyfSBmcm9tIFwiLi4vc3R5bGUtc3BlYy91dGlsL2ludGVycG9sYXRlLmpzXCI7XG5pbXBvcnQgUG9pbnQgIGZyb20gXCJAbWFwYm94L3BvaW50LWdlb21ldHJ5XCI7XG5pbXBvcnQge2NsYW1wfSBmcm9tIFwiLi4vdXRpbC91dGlsLmpzXCI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEFuIGBFZGdlSW5zZXRgIG9iamVjdCByZXByZXNlbnRzIHNjcmVlbiBzcGFjZSBwYWRkaW5nIGFwcGxpZWQgdG8gdGhlIGVkZ2VzIG9mIHRoZSB2aWV3cG9ydC5cbiAqIFRoaXMgc2hpZnRzIHRoZSBhcHBhcmVudCBjZW50ZXIgb3IgdGhlIHZhbmlzaGluZyBwb2ludCBvZiB0aGUgbWFwLiBUaGlzIGlzIHVzZWZ1bCBmb3IgYWRkaW5nIGZsb2F0aW5nIFVJIGVsZW1lbnRzXG4gKiBvbiB0b3Agb2YgdGhlIG1hcCBhbmQgaGF2aW5nIHRoZSB2YW5pc2hpbmcgcG9pbnQgc2hpZnQgYXMgVUkgZWxlbWVudHMgcmVzaXplLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbdG9wPTBdXG4gKiBAcGFyYW0ge251bWJlcn0gW2JvdHRvbT0wXVxuICogQHBhcmFtIHtudW1iZXJ9IFtsZWZ0PTBdXG4gKiBAcGFyYW0ge251bWJlcn0gW3JpZ2h0PTBdXG4gKi9cbmNsYXNzIEVkZ2VJbnNldHMge1xuICAgIHRvcDogbnVtYmVyO1xuICAgIGJvdHRvbTogbnVtYmVyO1xuICAgIGxlZnQ6IG51bWJlcjtcbiAgICByaWdodDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IodG9wOiBudW1iZXIgPSAwLCBib3R0b206IG51bWJlciA9IDAsIGxlZnQ6IG51bWJlciA9IDAsIHJpZ2h0OiBudW1iZXIgPSAwKSB7XG4gICAgICAgIGlmIChpc05hTih0b3ApIHx8IHRvcCA8IDAgfHxcbiAgICAgICAgICAgIGlzTmFOKGJvdHRvbSkgfHwgYm90dG9tIDwgMCB8fFxuICAgICAgICAgICAgaXNOYU4obGVmdCkgfHwgbGVmdCA8IDAgfHxcbiAgICAgICAgICAgIGlzTmFOKHJpZ2h0KSB8fCByaWdodCA8IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgZm9yIGVkZ2UtaW5zZXRzLCB0b3AsIGJvdHRvbSwgbGVmdCBhbmQgcmlnaHQgbXVzdCBhbGwgYmUgbnVtYmVycycpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XG4gICAgICAgIHRoaXMuYm90dG9tID0gYm90dG9tO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJwb2xhdGVzIHRoZSBpbnNldCBpbi1wbGFjZS5cbiAgICAgKiBUaGlzIG1haW50YWlucyB0aGUgY3VycmVudCBpbnNldCB2YWx1ZSBmb3IgYW55IGluc2V0IG5vdCBwcmVzZW50IGluIGB0YXJnZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BhZGRpbmdPcHRpb25zIHwgRWRnZUluc2V0c30gc3RhcnQgVGhlIGluaXRpYWwgcGFkZGluZyBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7UGFkZGluZ09wdGlvbnN9IHRhcmdldCBUaGUgdGFyZ2V0IHBhZGRpbmcgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdCBUaGUgaW50ZXJwb2xhdGlvbiB2YXJpYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7RWRnZUluc2V0c30gVGhlIGludGVycG9sYXRlZCBlZGdlIGluc2V0cy5cbiAgICAgKiBAbWVtYmVyb2YgRWRnZUluc2V0c1xuICAgICAqL1xuICAgIGludGVycG9sYXRlKHN0YXJ0OiBQYWRkaW5nT3B0aW9ucyB8IEVkZ2VJbnNldHMsIHRhcmdldDogUGFkZGluZ09wdGlvbnMsIHQ6IG51bWJlcik6IEVkZ2VJbnNldHMge1xuICAgICAgICBpZiAodGFyZ2V0LnRvcCAhPSBudWxsICYmIHN0YXJ0LnRvcCAhPSBudWxsKSB0aGlzLnRvcCA9IG51bWJlcihzdGFydC50b3AsIHRhcmdldC50b3AsIHQpO1xuICAgICAgICBpZiAodGFyZ2V0LmJvdHRvbSAhPSBudWxsICYmIHN0YXJ0LmJvdHRvbSAhPSBudWxsKSB0aGlzLmJvdHRvbSA9IG51bWJlcihzdGFydC5ib3R0b20sIHRhcmdldC5ib3R0b20sIHQpO1xuICAgICAgICBpZiAodGFyZ2V0LmxlZnQgIT0gbnVsbCAmJiBzdGFydC5sZWZ0ICE9IG51bGwpIHRoaXMubGVmdCA9IG51bWJlcihzdGFydC5sZWZ0LCB0YXJnZXQubGVmdCwgdCk7XG4gICAgICAgIGlmICh0YXJnZXQucmlnaHQgIT0gbnVsbCAmJiBzdGFydC5yaWdodCAhPSBudWxsKSB0aGlzLnJpZ2h0ID0gbnVtYmVyKHN0YXJ0LnJpZ2h0LCB0YXJnZXQucmlnaHQsIHQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kIHRoYXQgY29tcHV0ZXMgdGhlIG5ldyBhcHByZW50IGNlbnRlciBvciB2YW5pc2hpbmcgcG9pbnQgYWZ0ZXIgYXBwbHlpbmcgaW5zZXRzLlxuICAgICAqIFRoaXMgaXMgaW4gcGl4ZWxzIGFuZCB3aXRoIHRoZSB0b3AgbGVmdCBiZWluZyAoMC4wKSBhbmQgK3kgYmVpbmcgZG93bndhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSBtYXAgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgbWFwIGluIHBpeGVscy5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFRoZSBhcHBhcmVudCBjZW50ZXIgb3IgdmFuaXNoaW5nIHBvaW50IG9mIHRoZSBtYXAuXG4gICAgICogQG1lbWJlcm9mIEVkZ2VJbnNldHNcbiAgICAgKi9cbiAgICBnZXRDZW50ZXIod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBQb2ludCB7XG4gICAgICAgIC8vIENsYW1wIGluc2V0cyBzbyB0aGV5IG5ldmVyIG92ZXJmbG93IHdpZHRoL2hlaWdodCBhbmQgYWx3YXlzIGNhbGN1bGF0ZSBhIHZhbGlkIGNlbnRlclxuICAgICAgICBjb25zdCB4ID0gY2xhbXAoKHRoaXMubGVmdCArIHdpZHRoIC0gdGhpcy5yaWdodCkgLyAyLCAwLCB3aWR0aCk7XG4gICAgICAgIGNvbnN0IHkgPSBjbGFtcCgodGhpcy50b3AgKyBoZWlnaHQgLSB0aGlzLmJvdHRvbSkgLyAyLCAwLCBoZWlnaHQpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCwgeSk7XG4gICAgfVxuXG4gICAgZXF1YWxzKG90aGVyOiBQYWRkaW5nT3B0aW9ucyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy50b3AgPT09IG90aGVyLnRvcCAmJlxuICAgICAgICAgICAgdGhpcy5ib3R0b20gPT09IG90aGVyLmJvdHRvbSAmJlxuICAgICAgICAgICAgdGhpcy5sZWZ0ID09PSBvdGhlci5sZWZ0ICYmXG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID09PSBvdGhlci5yaWdodDtcbiAgICB9XG5cbiAgICBjbG9uZSgpOiBFZGdlSW5zZXRzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFZGdlSW5zZXRzKHRoaXMudG9wLCB0aGlzLmJvdHRvbSwgdGhpcy5sZWZ0LCB0aGlzLnJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHN0YXRlIGFzIGpzb24sIHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIGhhdmUgYVxuICAgICAqIHJlYWQtb25seSByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW5zZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtQYWRkaW5nT3B0aW9uc30gVGhlIGN1cnJlbnQgcGFkZGluZyBvcHRpb25zLlxuICAgICAqIEBtZW1iZXJvZiBFZGdlSW5zZXRzXG4gICAgICovXG4gICAgdG9KU09OKCk6IFBhZGRpbmdPcHRpb25zIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogdGhpcy50b3AsXG4gICAgICAgICAgICBib3R0b206IHRoaXMuYm90dG9tLFxuICAgICAgICAgICAgbGVmdDogdGhpcy5sZWZ0LFxuICAgICAgICAgICAgcmlnaHQ6IHRoaXMucmlnaHRcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCB0eXBlIFBhZGRpbmdPcHRpb25zID0geyt0b3A6ID9udW1iZXIsICtib3R0b206ID9udW1iZXIsICtyaWdodDogP251bWJlciwgK2xlZnQ6ID9udW1iZXJ9O1xuXG5leHBvcnQgZGVmYXVsdCBFZGdlSW5zZXRzO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSwge21lcmNhdG9yWmZyb21BbHRpdHVkZSwgbGF0RnJvbU1lcmNhdG9yWX0gZnJvbSAnLi4vZ2VvL21lcmNhdG9yX2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHtkZWdUb1JhZCwgd3JhcCwgZ2V0Q29sdW1uLCBzZXRDb2x1bW59IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQge3ZlYzMsIHF1YXQsIG1hdDR9IGZyb20gJ2dsLW1hdHJpeCc7XG5cbmltcG9ydCB0eXBlIHtFbGV2YXRpb259IGZyb20gJy4uL3RlcnJhaW4vZWxldmF0aW9uLmpzJztcbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tICcuLi9nZW8vbG5nX2xhdC5qcyc7XG5pbXBvcnQgdHlwZSB7TWF0NCwgVmVjMywgVmVjNCwgUXVhdH0gZnJvbSAnZ2wtbWF0cml4JztcblxuZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtT3JpZW50YXRpb24obWF0cml4OiBNYXQ0LCBvcmllbnRhdGlvbjogUXVhdCkge1xuICAgIC8vIFRha2UgdGVtcG9yYXJ5IGNvcHkgb2YgcG9zaXRpb24gdG8gcHJldmVudCBpdCBmcm9tIGJlaW5nIG92ZXJ3cml0dGVuXG4gICAgY29uc3QgcG9zaXRpb246IFZlYzQgPSBnZXRDb2x1bW4obWF0cml4LCAzKTtcblxuICAgIC8vIENvbnZlcnQgcXVhdGVybmlvbiB0byByb3RhdGlvbiBtYXRyaXhcbiAgICBtYXQ0LmZyb21RdWF0KG1hdHJpeCwgb3JpZW50YXRpb24pO1xuICAgIHNldENvbHVtbihtYXRyaXgsIDMsIHBvc2l0aW9uKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtUG9zaXRpb24obWF0cml4OiBNYXQ0LCBwb3NpdGlvbjogVmVjMykge1xuICAgIHNldENvbHVtbihtYXRyaXgsIDMsIFtwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdLCAxLjBdKTtcbn1cblxuZnVuY3Rpb24gb3JpZW50YXRpb25Gcm9tUGl0Y2hCZWFyaW5nKHBpdGNoOiBudW1iZXIsIGJlYXJpbmc6IG51bWJlcik6IFF1YXQge1xuICAgIC8vIEJvdGggYW5nbGVzIGFyZSBjb25zaWRlcmVkIHRvIGRlZmluZSBDVyByb3RhdGlvbiBhcm91bmQgdGhlaXIgcmVzcGVjdGl2ZSBheGVzLlxuICAgIC8vIFZhbHVlcyBoYXZlIHRvIGJlIG5lZ2F0ZWQgdG8gYWNoaWV2ZSB0aGUgcHJvcGVyIHF1YXRlcm5pb24gaW4gbGVmdCBoYW5kZWQgY29vcmRpbmF0ZSBzcGFjZVxuICAgIGNvbnN0IG9yaWVudGF0aW9uID0gcXVhdC5pZGVudGl0eShbXSk7XG4gICAgcXVhdC5yb3RhdGVaKG9yaWVudGF0aW9uLCBvcmllbnRhdGlvbiwgLWJlYXJpbmcpO1xuICAgIHF1YXQucm90YXRlWChvcmllbnRhdGlvbiwgb3JpZW50YXRpb24sIC1waXRjaCk7XG4gICAgcmV0dXJuIG9yaWVudGF0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3JpZW50YXRpb25Gcm9tRnJhbWUoZm9yd2FyZDogVmVjMywgdXA6IFZlYzMpOiA/UXVhdCB7XG4gICAgLy8gRmluZCByaWdodC12ZWN0b3Igb2YgdGhlIHJlc3VsdGluZyBjb29yZGluYXRlIGZyYW1lLiBVcC12ZWN0b3IgaGFzIHRvIGJlXG4gICAgLy8gc2FuaXRpemVkIGZpcnN0IGluIG9yZGVyIHRvIHJlbW92ZSB0aGUgcm9sbCBjb21wb25lbnQgZnJvbSB0aGUgb3JpZW50YXRpb25cbiAgICBjb25zdCB4eUZvcndhcmQgPSBbZm9yd2FyZFswXSwgZm9yd2FyZFsxXSwgMF07XG4gICAgY29uc3QgeHlVcCA9IFt1cFswXSwgdXBbMV0sIDBdO1xuXG4gICAgY29uc3QgZXBzaWxvbiA9IDFlLTE1O1xuXG4gICAgaWYgKHZlYzMubGVuZ3RoKHh5Rm9yd2FyZCkgPj0gZXBzaWxvbikge1xuICAgICAgICAvLyBSb2xsIHJvdGF0aW9uIGNhbiBiZSBzZWVuIGFzIHRoZSByaWdodCB2ZWN0b3Igbm90IGJlaW5nIG9uIHRoZSB4eS1wbGFuZSwgaWUuIHJpZ2h0WzJdICE9IDAuMC5cbiAgICAgICAgLy8gSXQgY2FuIGJlIG5lZ2F0ZWQgYnkgcHJvamVjdGluZyB0aGUgdXAgdmVjdG9yIG9uIHRvcCBvZiB0aGUgZm9yd2FyZCB2ZWN0b3IuXG4gICAgICAgIGNvbnN0IHh5RGlyID0gdmVjMy5ub3JtYWxpemUoW10sIHh5Rm9yd2FyZCk7XG4gICAgICAgIHZlYzMuc2NhbGUoeHlVcCwgeHlEaXIsIHZlYzMuZG90KHh5VXAsIHh5RGlyKSk7XG5cbiAgICAgICAgdXBbMF0gPSB4eVVwWzBdO1xuICAgICAgICB1cFsxXSA9IHh5VXBbMV07XG4gICAgfVxuXG4gICAgY29uc3QgcmlnaHQgPSB2ZWMzLmNyb3NzKFtdLCB1cCwgZm9yd2FyZCk7XG4gICAgaWYgKHZlYzMubGVuKHJpZ2h0KSA8IGVwc2lsb24pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgYmVhcmluZyA9IE1hdGguYXRhbjIoLXJpZ2h0WzFdLCByaWdodFswXSk7XG4gICAgY29uc3QgcGl0Y2ggPSBNYXRoLmF0YW4yKE1hdGguc3FydChmb3J3YXJkWzBdICogZm9yd2FyZFswXSArIGZvcndhcmRbMV0gKiBmb3J3YXJkWzFdKSwgLWZvcndhcmRbMl0pO1xuXG4gICAgcmV0dXJuIG9yaWVudGF0aW9uRnJvbVBpdGNoQmVhcmluZyhwaXRjaCwgYmVhcmluZyk7XG59XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgYWNjZXNzaW5nIHBoeXNpY2FsIHByb3BlcnRpZXMgb2YgdGhlIHVuZGVybHlpbmcgY2FtZXJhIGVudGl0eS5cbiAqIERpcmVjdCBhY2Nlc3MgdG8gdGhlc2UgcHJvcGVydGllcyBhbGxvd3MgbW9yZSBmbGV4aWJsZSBhbmQgcHJlY2lzZSBjb250cm9sbGluZyBvZiB0aGUgY2FtZXJhLlxuICogVGhlc2Ugb3B0aW9ucyBhcmUgYWxzbyBmdWxseSBjb21wYXRpYmxlIGFuZCBpbnRlcmNoYW5nZWFibGUgd2l0aCBDYW1lcmFPcHRpb25zLiBBbGwgZmllbGRzIGFyZSBvcHRpb25hbC5cbiAqIFNlZSB7QGxpbmsgTWFwI3NldEZyZWVDYW1lcmFPcHRpb25zfSBhbmQge0BsaW5rIE1hcCNnZXRGcmVlQ2FtZXJhT3B0aW9uc30uXG4gKlxuICogQHBhcmFtIHtNZXJjYXRvckNvb3JkaW5hdGV9IHBvc2l0aW9uIFBvc2l0aW9uIG9mIHRoZSBjYW1lcmEgaW4gc2xpZ2h0bHkgbW9kaWZpZWQgd2ViIG1lcmNhdG9yIGNvb3JkaW5hdGVzLlxuICAgICAgICAtIFRoZSBzaXplIG9mIDEgdW5pdCBpcyB0aGUgd2lkdGggb2YgdGhlIHByb2plY3RlZCB3b3JsZCBpbnN0ZWFkIG9mIHRoZSBcIm1lcmNhdG9yIG1ldGVyXCIuXG4gICAgICAgICAgQ29vcmRpbmF0ZSBbMCwgMCwgMF0gaXMgdGhlIG5vcnRoLXdlc3QgY29ybmVyIGFuZCBbMSwgMSwgMF0gaXMgdGhlIHNvdXRoLWVhc3QgY29ybmVyLlxuICAgICAgICAtIFogY29vcmRpbmF0ZSBpcyBjb25mb3JtYWwgYW5kIG11c3QgcmVzcGVjdCBtaW5pbXVtIGFuZCBtYXhpbXVtIHpvb20gdmFsdWVzLlxuICAgICAgICAtIFpvb20gaXMgYXV0b21hdGljYWxseSBjb21wdXRlZCBmcm9tIHRoZSBhbHRpdHVkZSAoeikuXG4gKiBAcGFyYW0ge3F1YXR9IG9yaWVudGF0aW9uIE9yaWVudGF0aW9uIG9mIHRoZSBjYW1lcmEgcmVwcmVzZW50ZWQgYXMgYSB1bml0IHF1YXRlcm5pb24gW3gsIHksIHosIHddIGluIGEgbGVmdC1oYW5kZWQgY29vcmRpbmF0ZSBzcGFjZS5cbiAgICAgICAgRGlyZWN0aW9uIG9mIHRoZSByb3RhdGlvbiBpcyBjbG9ja3dpc2UgYXJvdW5kIHRoZSByZXNwZWN0aXZlIGF4aXMuXG4gICAgICAgIFRoZSBkZWZhdWx0IHBvc2Ugb2YgdGhlIGNhbWVyYSBpcyBzdWNoIHRoYXQgdGhlIGZvcndhcmQgdmVjdG9yIGlzIGxvb2tpbmcgdXAgdGhlIC1aIGF4aXMuXG4gICAgICAgIFRoZSB1cCB2ZWN0b3IgaXMgYWxpZ25lZCB3aXRoIG5vcnRoIG9yaWVudGF0aW9uIG9mIHRoZSBtYXA6XG4gICAgICAgICAgZm9yd2FyZDogWzAsIDAsIC0xXVxuICAgICAgICAgIHVwOiAgICAgIFswLCAtMSwgMF1cbiAgICAgICAgICByaWdodCAgICBbMSwgMCwgMF1cbiAgICAgICAgT3JpZW50YXRpb24gY2FuIGJlIHNldCBmcmVlbHkgYnV0IGNlcnRhaW4gY29uc3RyYWludHMgc3RpbGwgYXBwbHk6XG4gICAgICAgICAtIE9yaWVudGF0aW9uIG11c3QgYmUgcmVwcmVzZW50YWJsZSB3aXRoIG9ubHkgcGl0Y2ggYW5kIGJlYXJpbmcuXG4gICAgICAgICAtIFBpdGNoIGhhcyBhbiB1cHBlciBsaW1pdFxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGNhbWVyYSA9IG1hcC5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpO1xuICpcbiAqIGNvbnN0IHBvc2l0aW9uID0gWzEzOC43MjY0OSwgMzUuMzM5NzRdO1xuICogY29uc3QgYWx0aXR1ZGUgPSAzMDAwO1xuICpcbiAqIGNhbWVyYS5wb3NpdGlvbiA9IG1hcGJveGdsLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHBvc2l0aW9uLCBhbHRpdHVkZSk7XG4gKiBjYW1lcmEubG9va0F0UG9pbnQoWzEzOC43MzAzNiwgMzUuMzYxOTddKTtcbiAqXG4gKiBtYXAuc2V0RnJlZUNhbWVyYU9wdGlvbnMoY2FtZXJhKTtcbiAqIEBzZWUgW0V4YW1wbGU6IEFuaW1hdGUgdGhlIGNhbWVyYSBhcm91bmQgYSBwb2ludCBpbiAzRCB0ZXJyYWluXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mcmVlLWNhbWVyYS1wb2ludC8pXG4gKiBAc2VlIFtFeGFtcGxlOiBBbmltYXRlIHRoZSBjYW1lcmEgYWxvbmcgYSBwYXRoXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mcmVlLWNhbWVyYS1wYXRoLylcbiovXG5jbGFzcyBGcmVlQ2FtZXJhT3B0aW9ucyB7XG4gICAgb3JpZW50YXRpb246ID9RdWF0O1xuICAgIF9wb3NpdGlvbjogP01lcmNhdG9yQ29vcmRpbmF0ZTtcbiAgICBfZWxldmF0aW9uOiA/RWxldmF0aW9uO1xuICAgIF9yZW5kZXJXb3JsZENvcGllczogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiA/TWVyY2F0b3JDb29yZGluYXRlLCBvcmllbnRhdGlvbjogP1F1YXQpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB0aGlzLm9yaWVudGF0aW9uID0gb3JpZW50YXRpb247XG4gICAgfVxuXG4gICAgZ2V0IHBvc2l0aW9uKCk6ID9NZXJjYXRvckNvb3JkaW5hdGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XG4gICAgfVxuXG4gICAgc2V0IHBvc2l0aW9uKHBvc2l0aW9uOiA/TWVyY2F0b3JDb29yZGluYXRlIHwgVmVjMykge1xuICAgICAgICBpZiAoIXBvc2l0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtZXJjYXRvckNvb3JkaW5hdGUgPSBwb3NpdGlvbiBpbnN0YW5jZW9mIE1lcmNhdG9yQ29vcmRpbmF0ZSA/IHBvc2l0aW9uIDogbmV3IE1lcmNhdG9yQ29vcmRpbmF0ZShwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZW5kZXJXb3JsZENvcGllcykge1xuICAgICAgICAgICAgICAgIG1lcmNhdG9yQ29vcmRpbmF0ZS54ID0gd3JhcChtZXJjYXRvckNvb3JkaW5hdGUueCwgMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IG1lcmNhdG9yQ29vcmRpbmF0ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3Igc2V0dGluZyBvcmllbnRhdGlvbiBvZiB0aGUgY2FtZXJhIGJ5IGRlZmluaW5nIGEgZm9jdXMgcG9pbnRcbiAgICAgKiBvbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBsb2NhdGlvbiBMb2NhdGlvbiBvZiB0aGUgZm9jdXMgcG9pbnQgb24gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge3ZlYzM/fSB1cCBVcCB2ZWN0b3Igb2YgdGhlIGNhbWVyYSBpcyBuZWNlc3NhcnkgaW4gY2VydGFpbiBzY2VuYXJpb3Mgd2hlcmUgYmVhcmluZyBjYW4ndCBiZSBkZWR1Y2VkXG4gICAgICogICAgICBmcm9tIHRoZSB2aWV3aW5nIGRpcmVjdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNhbWVyYSA9IG1hcC5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpO1xuICAgICAqXG4gICAgICogY29uc3QgcG9zaXRpb24gPSBbMTM4LjcyNjQ5LCAzNS4zMzk3NF07XG4gICAgICogY29uc3QgYWx0aXR1ZGUgPSAzMDAwO1xuICAgICAqXG4gICAgICogY2FtZXJhLnBvc2l0aW9uID0gbWFwYm94Z2wuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQocG9zaXRpb24sIGFsdGl0dWRlKTtcbiAgICAgKiBjYW1lcmEubG9va0F0UG9pbnQoWzEzOC43MzAzNiwgMzUuMzYxOTddKTtcbiAgICAgKiAvLyBBcHBseSBjYW1lcmEgY2hhbmdlc1xuICAgICAqIG1hcC5zZXRGcmVlQ2FtZXJhT3B0aW9ucyhjYW1lcmEpO1xuICAgICAqL1xuICAgIGxvb2tBdFBvaW50KGxvY2F0aW9uOiBMbmdMYXRMaWtlLCB1cD86IFZlYzMpIHtcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG51bGw7XG4gICAgICAgIGlmICghdGhpcy5wb3NpdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zOiBNZXJjYXRvckNvb3JkaW5hdGUgPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICBjb25zdCBhbHRpdHVkZSA9IHRoaXMuX2VsZXZhdGlvbiA/IHRoaXMuX2VsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KGxvY2F0aW9uKSkgOiAwO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBNZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChsb2NhdGlvbiwgYWx0aXR1ZGUpO1xuICAgICAgICBjb25zdCBmb3J3YXJkID0gW3RhcmdldC54IC0gcG9zLngsIHRhcmdldC55IC0gcG9zLnksIHRhcmdldC56IC0gcG9zLnpdO1xuICAgICAgICBpZiAoIXVwKVxuICAgICAgICAgICAgdXAgPSBbMCwgMCwgMV07XG5cbiAgICAgICAgLy8gZmxpcCB6LWNvbXBvbmVudCBpZiB0aGUgdXAgdmVjdG9yIGlzIHBvaW50aW5nIGRvd253YXJkc1xuICAgICAgICB1cFsyXSA9IE1hdGguYWJzKHVwWzJdKTtcblxuICAgICAgICB0aGlzLm9yaWVudGF0aW9uID0gb3JpZW50YXRpb25Gcm9tRnJhbWUoZm9yd2FyZCwgdXApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3Igc2V0dGluZyB0aGUgb3JpZW50YXRpb24gb2YgdGhlIGNhbWVyYSBhcyBhIHBpdGNoIGFuZCBhIGJlYXJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl0Y2ggUGl0Y2ggYW5nbGUgaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmVhcmluZyBCZWFyaW5nIGFuZ2xlIGluIGRlZ3JlZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYW1lcmEgPSBtYXAuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTtcbiAgICAgKlxuICAgICAqIC8vIFVwZGF0ZSBjYW1lcmEgcGl0Y2ggYW5kIGJlYXJpbmdcbiAgICAgKiBjYW1lcmEuc2V0UGl0Y2hCZWFyaW5nKDgwLCA5MCk7XG4gICAgICogLy8gQXBwbHkgY2hhbmdlc1xuICAgICAqIG1hcC5zZXRGcmVlQ2FtZXJhT3B0aW9ucyhjYW1lcmEpO1xuICAgICAqL1xuICAgIHNldFBpdGNoQmVhcmluZyhwaXRjaDogbnVtYmVyLCBiZWFyaW5nOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uRnJvbVBpdGNoQmVhcmluZyhkZWdUb1JhZChwaXRjaCksIGRlZ1RvUmFkKC1iZWFyaW5nKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIFdoaWxlIHVzaW5nIHRoZSBmcmVlIGNhbWVyYSBBUEkgdGhlIG91dGNvbWUgdmFsdWUgb2YgaXNab29taW5nLCBpc01vdmluZyBhbmQgaXNSb3RhdGluZ1xuICogaXMgbm90IGEgcmVzdWx0IG9mIHRoZSBmcmVlIGNhbWVyYSBBUEkuXG4gKiBJZiB0aGUgdXNlciBzZXRzIHRoZSBtYXAuaW50ZXJhY3RpdmUgdG8gdHJ1ZSwgdGhlcmUgd2lsbCBiZSBjb25mbGljdGluZyBiZWhhdmlvcnMgd2hpbGVcbiAqIGludGVyYWN0aW5nIHdpdGggbWFwIHZpYSB6b29taW5nIG9yIG1vdmluZyB1c2luZyBtb3VzZSBvci9hbmQga2V5Ym9hcmQgd2hpY2ggd2lsbCByZXN1bHRcbiAqIGluIGlzWm9vbWluZywgaXNNb3ZpbmcgYW5kIGlzUm90YXRpbmcgdG8gcmV0dXJuIHRydWUgd2hpbGUgdXNpbmcgZnJlZSBjYW1lcmEgQVBJLiBJbiBvcmRlclxuICogdG8gcHJldmVudCB0aGUgY29uZmlsaWN0aW5nIGJlaGF2aW9yIHBsZWFzZSBzZXQgbWFwLmludGVyYWN0aXZlIHRvIGZhbHNlIHdoaWNoIHdpbGwgcmVzdWx0XG4gKiBpbiBtdXRpbmcgdGhlIGZvbGxvd2luZyBldmVudHM6IHpvb20sIHpvb21lbmQsIHpvb21zdGFydCwgcm90YXRlLCByb3RhdGVlbmQsIHJvdGF0ZXN0YXJ0LFxuICogbW92ZSwgbW92ZWVuZCwgbW92ZXN0YXJ0LCBwaXRjaCwgcGl0Y2hlbmQsIHBpdGNoc3RhcnQuXG4gKi9cblxuY2xhc3MgRnJlZUNhbWVyYSB7XG4gICAgX3RyYW5zZm9ybTogTWF0NDtcbiAgICBfb3JpZW50YXRpb246IFF1YXQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogP1ZlYzMsIG9yaWVudGF0aW9uOiA/UXVhdCkge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm0gPSBtYXQ0LmlkZW50aXR5KFtdKTtcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgfVxuXG4gICAgZ2V0IG1lcmNhdG9yUG9zaXRpb24oKTogTWVyY2F0b3JDb29yZGluYXRlIHtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgcmV0dXJuIG5ldyBNZXJjYXRvckNvb3JkaW5hdGUocG9zWzBdLCBwb3NbMV0sIHBvc1syXSk7XG4gICAgfVxuXG4gICAgZ2V0IHBvc2l0aW9uKCk6IFZlYzMge1xuICAgICAgICBjb25zdCBjb2w6IFZlYzQgPSBnZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLCAzKTtcbiAgICAgICAgcmV0dXJuIFtjb2xbMF0sIGNvbFsxXSwgY29sWzJdXTtcbiAgICB9XG5cbiAgICBzZXQgcG9zaXRpb24odmFsdWU6ID9WZWMzKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdXBkYXRlVHJhbnNmb3JtUG9zaXRpb24odGhpcy5fdHJhbnNmb3JtLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgb3JpZW50YXRpb24oKTogUXVhdCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgb3JpZW50YXRpb24odmFsdWU6ID9RdWF0KSB7XG4gICAgICAgIHRoaXMuX29yaWVudGF0aW9uID0gdmFsdWUgfHwgcXVhdC5pZGVudGl0eShbXSk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdXBkYXRlVHJhbnNmb3JtT3JpZW50YXRpb24odGhpcy5fdHJhbnNmb3JtLCB0aGlzLl9vcmllbnRhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRQaXRjaEJlYXJpbmcoKToge3BpdGNoOiBudW1iZXIsIGJlYXJpbmc6IG51bWJlcn0ge1xuICAgICAgICBjb25zdCBmID0gdGhpcy5mb3J3YXJkKCk7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLnJpZ2h0KCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJlYXJpbmc6IE1hdGguYXRhbjIoLXJbMV0sIHJbMF0pLFxuICAgICAgICAgICAgcGl0Y2g6IE1hdGguYXRhbjIoTWF0aC5zcXJ0KGZbMF0gKiBmWzBdICsgZlsxXSAqIGZbMV0pLCAtZlsyXSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzZXRQaXRjaEJlYXJpbmcocGl0Y2g6IG51bWJlciwgYmVhcmluZzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX29yaWVudGF0aW9uID0gb3JpZW50YXRpb25Gcm9tUGl0Y2hCZWFyaW5nKHBpdGNoLCBiZWFyaW5nKTtcbiAgICAgICAgdXBkYXRlVHJhbnNmb3JtT3JpZW50YXRpb24odGhpcy5fdHJhbnNmb3JtLCB0aGlzLl9vcmllbnRhdGlvbik7XG4gICAgfVxuXG4gICAgZm9yd2FyZCgpOiBWZWMzIHtcbiAgICAgICAgY29uc3QgY29sOiBWZWM0ID0gZ2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwgMik7XG4gICAgICAgIC8vIEZvcndhcmQgZGlyZWN0aW9uIGlzIHRvd2FyZHMgdGhlIG5lZ2F0aXZlIFotYXhpc1xuICAgICAgICByZXR1cm4gWy1jb2xbMF0sIC1jb2xbMV0sIC1jb2xbMl1dO1xuICAgIH1cblxuICAgIHVwKCk6IFZlYzMge1xuICAgICAgICBjb25zdCBjb2w6IFZlYzQgPSBnZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLCAxKTtcbiAgICAgICAgLy8gVXAgZGlyZWN0aW9uIGhhcyB0byBiZSBmbGlwcGVkIHRvIHBvaW50IHRvd2FyZHMgbm9ydGhcbiAgICAgICAgcmV0dXJuIFstY29sWzBdLCAtY29sWzFdLCAtY29sWzJdXTtcbiAgICB9XG5cbiAgICByaWdodCgpOiBWZWMzIHtcbiAgICAgICAgY29uc3QgY29sOiBWZWM0ID0gZ2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwgMCk7XG4gICAgICAgIHJldHVybiBbY29sWzBdLCBjb2xbMV0sIGNvbFsyXV07XG4gICAgfVxuXG4gICAgZ2V0Q2FtZXJhVG9Xb3JsZCh3b3JsZFNpemU6IG51bWJlciwgcGl4ZWxzUGVyTWV0ZXI6IG51bWJlcik6IEZsb2F0NjRBcnJheSB7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRvV29ybGQgPSBuZXcgRmxvYXQ2NEFycmF5KDE2KTtcbiAgICAgICAgbWF0NC5pbnZlcnQoY2FtZXJhVG9Xb3JsZCwgdGhpcy5nZXRXb3JsZFRvQ2FtZXJhKHdvcmxkU2l6ZSwgcGl4ZWxzUGVyTWV0ZXIpKTtcbiAgICAgICAgcmV0dXJuIGNhbWVyYVRvV29ybGQ7XG4gICAgfVxuXG4gICAgZ2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKHdvcmxkU2l6ZTogbnVtYmVyLCBwaXhlbHNQZXJNZXRlcjogbnVtYmVyLCB1bmlmb3JtU2NhbGU6IG51bWJlcik6IEZsb2F0NjRBcnJheSB7XG4gICAgICAgIGNvbnN0IGludlBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcblxuICAgICAgICB2ZWMzLnNjYWxlKGludlBvc2l0aW9uLCBpbnZQb3NpdGlvbiwgLXdvcmxkU2l6ZSk7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IG5ldyBGbG9hdDY0QXJyYXkoMTYpO1xuICAgICAgICBtYXQ0LmZyb21TY2FsaW5nKG1hdHJpeCwgW3VuaWZvcm1TY2FsZSwgdW5pZm9ybVNjYWxlLCB1bmlmb3JtU2NhbGVdKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobWF0cml4LCBtYXRyaXgsIGludlBvc2l0aW9uKTtcblxuICAgICAgICAvLyBBZGp1c3Qgc2NhbGUgb24geiAoM3JkIGNvbHVtbiAzcmQgcm93KVxuICAgICAgICBtYXRyaXhbMTBdICo9IHBpeGVsc1Blck1ldGVyO1xuXG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuXG4gICAgZ2V0V29ybGRUb0NhbWVyYSh3b3JsZFNpemU6IG51bWJlciwgcGl4ZWxzUGVyTWV0ZXI6IG51bWJlcik6IEZsb2F0NjRBcnJheSB7XG4gICAgICAgIC8vIHRyYW5zZm9ybWF0aW9uIGNoYWluIGZyb20gd29ybGQgc3BhY2UgdG8gY2FtZXJhIHNwYWNlOlxuICAgICAgICAvLyAxLiBIZWlnaHQgdmFsdWUgKHopIG9mIHJlbmRlcmFibGVzIGlzIGluIG1ldGVycy4gU2NhbGUgeiBjb29yZGluYXRlIGJ5IHBpeGVsc1Blck1ldGVyXG4gICAgICAgIC8vIDIuIFRyYW5zZm9ybSBmcm9tIHBpeGVsIGNvb3JkaW5hdGVzIHRvIGNhbWVyYSBzcGFjZSB3aXRoIGNhbWVyYU1hdHJpeF4tMVxuICAgICAgICAvLyAzLiBmbGlwIFkgaWYgcmVxdWlyZWRcblxuICAgICAgICAvLyB3b3JsZFRvQ2FtZXJhOiBmbGlwICogY2FtXi0xICogelNjYWxlXG4gICAgICAgIC8vIGNhbWVyYVRvV29ybGQ6IChmbGlwICogY2FtXi0xICogelNjYWxlKV4tMSA9PiAoelNjYWxlXi0xICogY2FtICogZmxpcF4tMSlcbiAgICAgICAgY29uc3QgbWF0cml4ID0gbmV3IEZsb2F0NjRBcnJheSgxNik7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBpbnZlcnNlIG9mIGNhbWVyYSBtYXRyaXggYW5kIHBvc3QtbXVsdGlwbHkgbmVnYXRlZCB0cmFuc2xhdGlvblxuICAgICAgICBjb25zdCBpbnZPcmllbnRhdGlvbiA9IG5ldyBGbG9hdDY0QXJyYXkoNCk7XG4gICAgICAgIGNvbnN0IGludlBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcblxuICAgICAgICBxdWF0LmNvbmp1Z2F0ZShpbnZPcmllbnRhdGlvbiwgdGhpcy5fb3JpZW50YXRpb24pO1xuICAgICAgICB2ZWMzLnNjYWxlKGludlBvc2l0aW9uLCBpbnZQb3NpdGlvbiwgLXdvcmxkU2l6ZSk7XG5cbiAgICAgICAgbWF0NC5mcm9tUXVhdChtYXRyaXgsIGludk9yaWVudGF0aW9uKTtcblxuICAgICAgICBtYXQ0LnRyYW5zbGF0ZShtYXRyaXgsIG1hdHJpeCwgaW52UG9zaXRpb24pO1xuXG4gICAgICAgIC8vIFByZS1tdWx0aXBseSB5ICgybmQgcm93KVxuICAgICAgICBtYXRyaXhbMV0gKj0gLTEuMDtcbiAgICAgICAgbWF0cml4WzVdICo9IC0xLjA7XG4gICAgICAgIG1hdHJpeFs5XSAqPSAtMS4wO1xuICAgICAgICBtYXRyaXhbMTNdICo9IC0xLjA7XG5cbiAgICAgICAgLy8gUG9zdC1tdWx0aXBseSB6ICgzcmQgY29sdW1uKVxuICAgICAgICBtYXRyaXhbOF0gKj0gcGl4ZWxzUGVyTWV0ZXI7XG4gICAgICAgIG1hdHJpeFs5XSAqPSBwaXhlbHNQZXJNZXRlcjtcbiAgICAgICAgbWF0cml4WzEwXSAqPSBwaXhlbHNQZXJNZXRlcjtcbiAgICAgICAgbWF0cml4WzExXSAqPSBwaXhlbHNQZXJNZXRlcjtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIGdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKGZvdnk6IG51bWJlciwgYXNwZWN0UmF0aW86IG51bWJlciwgbmVhclo6IG51bWJlciwgZmFyWjogbnVtYmVyKTogRmxvYXQ2NEFycmF5IHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gbmV3IEZsb2F0NjRBcnJheSgxNik7XG4gICAgICAgIG1hdDQucGVyc3BlY3RpdmUobWF0cml4LCBmb3Z5LCBhc3BlY3RSYXRpbywgbmVhclosIGZhclopO1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIC8vIFRoZSBhZGRpdGlvbmFsIHBhcmFtZXRlciBuZWVkcyB0byBiZSByZW1vdmVkLiBUaGlzIHdhcyBpbnRyb2R1Y2VkIGJlY2F1c2Ugb3JpZ2luYWxseVxuICAgIC8vIHRoZSB2YWx1ZSByZXR1cm5lZCBieSB0aGlzIGZ1bmN0aW9uIHdhcyBpbmNvcnJlY3QuIEZpeGluZyBpdCB3b3VsZCBicmVhayB0aGUgZm9nIHZpc3VhbHMgYW5kIG5lZWRzIHRvIGJlXG4gICAgLy8gY29tbXVuaWNhdGVkIGNhcmVmdWxseSBmaXJzdC4gQWxzbyBzZWUgdHJhbnNmb3JtLmNhbWVyYVdvcmxkU2l6ZUZvckZvZy5cbiAgICBnZXREaXN0YW5jZVRvRWxldmF0aW9uKGVsZXZhdGlvbk1ldGVyczogbnVtYmVyLCBjb252ZXJ0OiBib29sZWFuID0gZmFsc2UpOiBudW1iZXIge1xuICAgICAgICBjb25zdCB6MCA9IGVsZXZhdGlvbk1ldGVycyA9PT0gMCA/IDAgOiBtZXJjYXRvclpmcm9tQWx0aXR1ZGUoZWxldmF0aW9uTWV0ZXJzLCBjb252ZXJ0ID8gbGF0RnJvbU1lcmNhdG9yWSh0aGlzLnBvc2l0aW9uWzFdKSA6IHRoaXMucG9zaXRpb25bMV0pO1xuICAgICAgICBjb25zdCBmID0gdGhpcy5mb3J3YXJkKCk7XG4gICAgICAgIHJldHVybiAoejAgLSB0aGlzLnBvc2l0aW9uWzJdKSAvIGZbMl07XG4gICAgfVxuXG4gICAgY2xvbmUoKTogRnJlZUNhbWVyYSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJlZUNhbWVyYShbLi4udGhpcy5wb3NpdGlvbl0sIFsuLi50aGlzLm9yaWVudGF0aW9uXSk7XG4gICAgfVxufVxuXG5leHBvcnQge1xuICAgIEZyZWVDYW1lcmEsXG4gICAgRnJlZUNhbWVyYU9wdGlvbnNcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2xuZ19sYXQuanMnO1xuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSwge01BWF9NRVJDQVRPUl9MQVRJVFVERX0gZnJvbSAnLi4vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQge21hdDQsIG1hdDJ9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQge2NsYW1wLCBzbW9vdGhzdGVwfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuXG5pbXBvcnQgdHlwZSBQcm9qZWN0aW9uIGZyb20gJy4vcHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vdHJhbnNmb3JtLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0UHJvamVjdGlvbkFkanVzdG1lbnRzKHRyYW5zZm9ybTogVHJhbnNmb3JtLCB3aXRob3V0Um90YXRpb24/OiBib29sZWFuKTogQXJyYXk8bnVtYmVyPiB7XG4gICAgY29uc3QgaW50ZXJwVCA9IGdldFByb2plY3Rpb25JbnRlcnBvbGF0aW9uVCh0cmFuc2Zvcm0ucHJvamVjdGlvbiwgdHJhbnNmb3JtLnpvb20sIHRyYW5zZm9ybS53aWR0aCwgdHJhbnNmb3JtLmhlaWdodCk7XG4gICAgY29uc3QgbWF0cml4ID0gZ2V0U2hlYXJBZGp1c3RtZW50KHRyYW5zZm9ybS5wcm9qZWN0aW9uLCB0cmFuc2Zvcm0uem9vbSwgdHJhbnNmb3JtLmNlbnRlciwgaW50ZXJwVCwgd2l0aG91dFJvdGF0aW9uKTtcblxuICAgIGNvbnN0IHNjYWxlQWRqdXN0bWVudCA9IGdldFNjYWxlQWRqdXN0bWVudCh0cmFuc2Zvcm0pO1xuICAgIG1hdDQuc2NhbGUobWF0cml4LCBtYXRyaXgsIFtzY2FsZUFkanVzdG1lbnQsIHNjYWxlQWRqdXN0bWVudCwgMV0pO1xuXG4gICAgcmV0dXJuIG1hdHJpeDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjYWxlQWRqdXN0bWVudCh0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IG51bWJlciB7XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHRyYW5zZm9ybS5wcm9qZWN0aW9uO1xuICAgIGNvbnN0IGludGVycFQgPSBnZXRQcm9qZWN0aW9uSW50ZXJwb2xhdGlvblQodHJhbnNmb3JtLnByb2plY3Rpb24sIHRyYW5zZm9ybS56b29tLCB0cmFuc2Zvcm0ud2lkdGgsIHRyYW5zZm9ybS5oZWlnaHQpO1xuICAgIGNvbnN0IHpvb21BZGp1c3RtZW50ID0gZ2V0Wm9vbUFkanVzdG1lbnQocHJvamVjdGlvbiwgdHJhbnNmb3JtLmNlbnRlcik7XG4gICAgY29uc3Qgem9vbUFkanVzdG1lbnRPcmlnaW4gPSBnZXRab29tQWRqdXN0bWVudChwcm9qZWN0aW9uLCBMbmdMYXQuY29udmVydChwcm9qZWN0aW9uLmNlbnRlcikpO1xuICAgIGNvbnN0IHNjYWxlQWRqdXN0bWVudCA9IE1hdGgucG93KDIsIHpvb21BZGp1c3RtZW50ICogaW50ZXJwVCArICgxIC0gaW50ZXJwVCkgKiB6b29tQWRqdXN0bWVudE9yaWdpbik7XG4gICAgcmV0dXJuIHNjYWxlQWRqdXN0bWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2plY3Rpb25BZGp1c3RtZW50SW52ZXJ0ZWQodHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBBcnJheTxudW1iZXI+IHtcbiAgICBjb25zdCBtID0gZ2V0UHJvamVjdGlvbkFkanVzdG1lbnRzKHRyYW5zZm9ybSwgdHJ1ZSk7XG4gICAgcmV0dXJuIG1hdDIuaW52ZXJ0KFtdLCBbXG4gICAgICAgIG1bMF0sIG1bMV0sXG4gICAgICAgIG1bNF0sIG1bNV1dKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2plY3Rpb25JbnRlcnBvbGF0aW9uVChwcm9qZWN0aW9uOiBQcm9qZWN0aW9uLCB6b29tOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBtYXhTaXplOiBudW1iZXIgPSBJbmZpbml0eSk6IG51bWJlciB7XG4gICAgY29uc3QgcmFuZ2UgPSBwcm9qZWN0aW9uLnJhbmdlO1xuICAgIGlmICghcmFuZ2UpIHJldHVybiAwO1xuXG4gICAgY29uc3Qgc2l6ZSA9IE1hdGgubWluKG1heFNpemUsIE1hdGgubWF4KHdpZHRoLCBoZWlnaHQpKTtcbiAgICAvLyBUaGUgaW50ZXJwb2xhdGlvbiByYW5nZXMgYXJlIG1hbnVhbGx5IGRlZmluZWQgYmFzZWQgb24gd2hhdCBtYWtlc1xuICAgIC8vIHNlbnNlIGluIGEgMTAyNHB4IHdpZGUgbWFwLiBBZGp1c3QgdGhlIHJhbmdlcyB0byB0aGUgY3VycmVudCBzaXplXG4gICAgLy8gb2YgdGhlIG1hcC4gVGhlIHNtYWxsZXIgdGhlIG1hcCwgdGhlIGVhcmxpZXIgeW91IGNhbiBzdGFydCB1bnNrZXdpbmcuXG4gICAgY29uc3QgcmFuZ2VBZGp1c3RtZW50ID0gTWF0aC5sb2coc2l6ZSAvIDEwMjQpIC8gTWF0aC5MTjI7XG4gICAgY29uc3Qgem9vbUEgPSByYW5nZVswXSArIHJhbmdlQWRqdXN0bWVudDtcbiAgICBjb25zdCB6b29tQiA9IHJhbmdlWzFdICsgcmFuZ2VBZGp1c3RtZW50O1xuICAgIGNvbnN0IHQgPSBzbW9vdGhzdGVwKHpvb21BLCB6b29tQiwgem9vbSk7XG4gICAgcmV0dXJuIHQ7XG59XG5cbi8vIGFwcHJveC4ga2lsb21ldGVycyBwZXIgbG9uZ2l0dWRlIGRlZ3JlZSBhdCBlcXVhdG9yXG5jb25zdCBvZmZzZXQgPSAxIC8gNDAwMDA7XG5cbi8qXG4gKiBDYWxjdWxhdGVzIHRoZSBzY2FsZSBkaWZmZXJlbmNlIGJldHdlZW4gTWVyY2F0b3IgYW5kIHRoZSBnaXZlbiBwcm9qZWN0aW9uIGF0IGEgY2VydGFpbiBsb2NhdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0Wm9vbUFkanVzdG1lbnQocHJvamVjdGlvbjogUHJvamVjdGlvbiwgbG9jOiBMbmdMYXQpIHtcbiAgICAvLyBtYWtlIHN1cmUgd2Ugb3BlcmF0ZSB3aXRoaW4gbWVyY2F0b3Igc3BhY2UgZm9yIGFkanVzdG1lbnRzICh0aGV5IGNhbiBnbyBvdmVyIGZvciBvdGhlciBwcm9qZWN0aW9ucylcbiAgICBjb25zdCBsYXQgPSBjbGFtcChsb2MubGF0LCAtTUFYX01FUkNBVE9SX0xBVElUVURFLCBNQVhfTUVSQ0FUT1JfTEFUSVRVREUpO1xuXG4gICAgY29uc3QgbG9jMSA9IG5ldyBMbmdMYXQobG9jLmxuZyAtIDE4MCAqIG9mZnNldCwgbGF0KTtcbiAgICBjb25zdCBsb2MyID0gbmV3IExuZ0xhdChsb2MubG5nICsgMTgwICogb2Zmc2V0LCBsYXQpO1xuXG4gICAgY29uc3QgcDEgPSBwcm9qZWN0aW9uLnByb2plY3QobG9jMS5sbmcsIGxhdCk7XG4gICAgY29uc3QgcDIgPSBwcm9qZWN0aW9uLnByb2plY3QobG9jMi5sbmcsIGxhdCk7XG5cbiAgICBjb25zdCBtMSA9IE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KGxvYzEpO1xuICAgIGNvbnN0IG0yID0gTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQobG9jMik7XG5cbiAgICBjb25zdCBwZHggPSBwMi54IC0gcDEueDtcbiAgICBjb25zdCBwZHkgPSBwMi55IC0gcDEueTtcbiAgICBjb25zdCBtZHggPSBtMi54IC0gbTEueDtcbiAgICBjb25zdCBtZHkgPSBtMi55IC0gbTEueTtcblxuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5zcXJ0KChtZHggKiBtZHggKyBtZHkgKiBtZHkpIC8gKHBkeCAqIHBkeCArIHBkeSAqIHBkeSkpO1xuXG4gICAgcmV0dXJuIE1hdGgubG9nKHNjYWxlKSAvIE1hdGguTE4yO1xufVxuXG5mdW5jdGlvbiBnZXRTaGVhckFkanVzdG1lbnQocHJvamVjdGlvbiwgem9vbSwgbG9jLCBpbnRlcnBULCB3aXRob3V0Um90YXRpb24/OiBib29sZWFuKSB7XG5cbiAgICAvLyBjcmVhdGUgdHdvIGxvY2F0aW9ucyBhIHRpbnkgYW1vdW50ICh+MWttKSBlYXN0IGFuZCB3ZXN0IG9mIHRoZSBnaXZlbiBsb2NhdGlvblxuICAgIGNvbnN0IGxvY3cgPSBuZXcgTG5nTGF0KGxvYy5sbmcgLSAxODAgKiBvZmZzZXQsIGxvYy5sYXQpO1xuICAgIGNvbnN0IGxvY2UgPSBuZXcgTG5nTGF0KGxvYy5sbmcgKyAxODAgKiBvZmZzZXQsIGxvYy5sYXQpO1xuXG4gICAgY29uc3QgcHcgPSBwcm9qZWN0aW9uLnByb2plY3QobG9jdy5sbmcsIGxvY3cubGF0KTtcbiAgICBjb25zdCBwZSA9IHByb2plY3Rpb24ucHJvamVjdChsb2NlLmxuZywgbG9jZS5sYXQpO1xuXG4gICAgY29uc3QgcGR4ID0gcGUueCAtIHB3Lng7XG4gICAgY29uc3QgcGR5ID0gcGUueSAtIHB3Lnk7XG5cbiAgICAvLyBDYWxjdWxhdGUgaG93IG11Y2ggdGhlIG1hcCB3b3VsZCBuZWVkIHRvIGJlIHJvdGF0ZWQgdG8gbWFrZSBlYXN0LXdlc3QgaW5cbiAgICAvLyBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMgYmUgbGVmdC1yaWdodFxuICAgIGNvbnN0IGFuZ2xlQWRqdXN0ID0gLU1hdGguYXRhbjIocGR5LCBwZHgpO1xuXG4gICAgLy8gUGljayBhIGxvY2F0aW9uIGlkZW50aWNhbCB0byB0aGUgb3JpZ2luYWwgb25lIGV4Y2VwdCBmb3IgcG9sZXMgdG8gbWFrZSBzdXJlIHdlJ3JlIHdpdGhpbiBtZXJjYXRvciBib3VuZHNcbiAgICBjb25zdCBtYzIgPSBNZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChsb2MpO1xuICAgIG1jMi55ID0gY2xhbXAobWMyLnksIC0xICsgb2Zmc2V0LCAxIC0gb2Zmc2V0KTtcbiAgICBjb25zdCBsb2MyID0gbWMyLnRvTG5nTGF0KCk7XG4gICAgY29uc3QgcDIgPSBwcm9qZWN0aW9uLnByb2plY3QobG9jMi5sbmcsIGxvYzIubGF0KTtcblxuICAgIC8vIEZpbmQgdGhlIHByb2plY3RlZCBjb29yZGluYXRlcyBvZiB0d28gbG9jYXRpb25zLCBvbmUgc2xpZ2h0bHkgc291dGggYW5kIG9uZSBzbGlnaHRseSBlYXN0LlxuICAgIC8vIFRoZW4gY2FsY3VsYXRlIHRoZSB0cmFuc2Zvcm0gdGhhdCB3b3VsZCBtYWtlIHRoZSBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMgb2YgdGhlIHR3byBsb2NhdGlvbnMgYmU6XG4gICAgLy8gLSBlcXVhbCBkaXN0YW5jZXMgZnJvbSB0aGUgb3JpZ2luYWwgbG9jYXRpb25cbiAgICAvLyAtIHBlcnBlbmRpY3VsYXIgdG8gb25lIGFub3RoZXJcbiAgICAvL1xuICAgIC8vIE9ubHkgdGhlIHBvc2l0aW9uIG9mIHRoZSBjb29yZGluYXRlIHRvIHRoZSBub3J0aCBpcyBhZGp1c3RlZC5cbiAgICAvLyBUaGUgY29vcmRpbmF0ZSB0byB0aGUgZWFzdCBzdGF5cyB3aGVyZSBpdCBpcy5cbiAgICBjb25zdCBtYzMgPSBNZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChsb2MyKTtcbiAgICBtYzMueCArPSBvZmZzZXQ7XG4gICAgY29uc3QgbG9jMyA9IG1jMy50b0xuZ0xhdCgpO1xuICAgIGNvbnN0IHAzID0gcHJvamVjdGlvbi5wcm9qZWN0KGxvYzMubG5nLCBsb2MzLmxhdCk7XG4gICAgY29uc3QgcGR4MyA9IHAzLnggLSBwMi54O1xuICAgIGNvbnN0IHBkeTMgPSBwMy55IC0gcDIueTtcbiAgICBjb25zdCBkZWx0YTMgPSByb3RhdGUocGR4MywgcGR5MywgYW5nbGVBZGp1c3QpO1xuXG4gICAgY29uc3QgbWM0ID0gTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQobG9jMik7XG4gICAgbWM0LnkgKz0gb2Zmc2V0O1xuICAgIGNvbnN0IGxvYzQgPSBtYzQudG9MbmdMYXQoKTtcbiAgICBjb25zdCBwNCA9IHByb2plY3Rpb24ucHJvamVjdChsb2M0LmxuZywgbG9jNC5sYXQpO1xuICAgIGNvbnN0IHBkeDQgPSBwNC54IC0gcDIueDtcbiAgICBjb25zdCBwZHk0ID0gcDQueSAtIHAyLnk7XG4gICAgY29uc3QgZGVsdGE0ID0gcm90YXRlKHBkeDQsIHBkeTQsIGFuZ2xlQWRqdXN0KTtcblxuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5hYnMoZGVsdGEzLngpIC8gTWF0aC5hYnMoZGVsdGE0LnkpO1xuXG4gICAgY29uc3QgdW5yb3RhdGUgPSBtYXQ0LmlkZW50aXR5KFtdKTtcbiAgICBtYXQ0LnJvdGF0ZVoodW5yb3RhdGUsIHVucm90YXRlLCAoLWFuZ2xlQWRqdXN0KSAqICgxIC0gKHdpdGhvdXRSb3RhdGlvbiA/IDAgOiBpbnRlcnBUKSkpO1xuXG4gICAgLy8gdW5za2V3XG4gICAgY29uc3Qgc2hlYXIgPSBtYXQ0LmlkZW50aXR5KFtdKTtcbiAgICBtYXQ0LnNjYWxlKHNoZWFyLCBzaGVhciwgWzEsIDEgLSAoMSAtIHNjYWxlKSAqIGludGVycFQsIDFdKTtcbiAgICBzaGVhcls0XSA9IC1kZWx0YTQueCAvIGRlbHRhNC55ICogaW50ZXJwVDtcblxuICAgIC8vIHVucm90YXRlXG4gICAgbWF0NC5yb3RhdGVaKHNoZWFyLCBzaGVhciwgYW5nbGVBZGp1c3QpO1xuXG4gICAgbWF0NC5tdWx0aXBseShzaGVhciwgdW5yb3RhdGUsIHNoZWFyKTtcblxuICAgIHJldHVybiBzaGVhcjtcbn1cblxuZnVuY3Rpb24gcm90YXRlKHgsIHksIGFuZ2xlKSB7XG4gICAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB4ICogY29zIC0geSAqIHNpbixcbiAgICAgICAgeTogeCAqIHNpbiArIHkgKiBjb3NcbiAgICB9O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IExuZ0xhdCBmcm9tICcuL2xuZ19sYXQuanMnO1xuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuL2xuZ19sYXRfYm91bmRzLmpzJztcbmltcG9ydCBNZXJjYXRvckNvb3JkaW5hdGUsIHttZXJjYXRvclhmcm9tTG5nLCBtZXJjYXRvcllmcm9tTGF0LCBtZXJjYXRvclpmcm9tQWx0aXR1ZGUsIGxhdEZyb21NZXJjYXRvclksIE1BWF9NRVJDQVRPUl9MQVRJVFVERSwgY2lyY3VtZmVyZW5jZUF0TGF0aXR1ZGV9IGZyb20gJy4vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQge2dldFByb2plY3Rpb259IGZyb20gJy4vcHJvamVjdGlvbi9pbmRleC5qcyc7XG5pbXBvcnQge3RpbGVBQUJCfSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi90aWxlX3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQge3dyYXAsIGNsYW1wLCBwaWNrLCByYWRUb0RlZywgZGVnVG9SYWQsIGdldEFBQkJQb2ludFNxdWFyZURpc3QsIGZ1cnRoZXN0VGlsZUNvcm5lciwgd2Fybk9uY2UsIGRlZXBFcXVhbH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7bnVtYmVyIGFzIGludGVycG9sYXRlfSBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvaW50ZXJwb2xhdGUuanMnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudC5qcyc7XG5pbXBvcnQge3ZlYzQsIG1hdDQsIG1hdDIsIHZlYzMsIHF1YXR9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQge0ZydXN0dW0sIEZydXN0dW1Db3JuZXJzLCBSYXl9IGZyb20gJy4uL3V0aWwvcHJpbWl0aXZlcy5qcyc7XG5pbXBvcnQgRWRnZUluc2V0cyBmcm9tICcuL2VkZ2VfaW5zZXRzLmpzJztcbmltcG9ydCB7RnJlZUNhbWVyYSwgRnJlZUNhbWVyYU9wdGlvbnMsIG9yaWVudGF0aW9uRnJvbUZyYW1lfSBmcm9tICcuLi91aS9mcmVlX2NhbWVyYS5qcyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgZ2V0UHJvamVjdGlvbkFkanVzdG1lbnRzLCB7Z2V0UHJvamVjdGlvbkFkanVzdG1lbnRJbnZlcnRlZCwgZ2V0U2NhbGVBZGp1c3RtZW50LCBnZXRQcm9qZWN0aW9uSW50ZXJwb2xhdGlvblR9IGZyb20gJy4vcHJvamVjdGlvbi9hZGp1c3RtZW50cy5qcyc7XG5pbXBvcnQge2dldFBpeGVsc1RvVGlsZVVuaXRzTWF0cml4fSBmcm9tICcuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMuanMnO1xuaW1wb3J0IHtVbndyYXBwZWRUaWxlSUQsIE92ZXJzY2FsZWRUaWxlSUQsIENhbm9uaWNhbFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHtcbiAgICBjYWxjdWxhdGVHbG9iZU1hdHJpeCxcbiAgICBwb2xlc0luVmlld3BvcnQsXG4gICAgR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOLFxuICAgIEdMT0JFX1pPT01fVEhSRVNIT0xEX01BWCxcbiAgICBHTE9CRV9TQ0FMRV9NQVRDSF9MQVRJVFVERVxufSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcbmltcG9ydCB7cHJvamVjdENsYW1wZWR9IGZyb20gJy4uL3N5bWJvbC9wcm9qZWN0aW9uLmpzJztcblxuaW1wb3J0IHR5cGUgUHJvamVjdGlvbiBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9wcm9qZWN0aW9uLmpzJztcbmltcG9ydCB0eXBlIHtFbGV2YXRpb259IGZyb20gJy4uL3RlcnJhaW4vZWxldmF0aW9uLmpzJztcbmltcG9ydCB0eXBlIHtQYWRkaW5nT3B0aW9uc30gZnJvbSAnLi9lZGdlX2luc2V0cy5qcyc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlLmpzJztcbmltcG9ydCB0eXBlIHtQcm9qZWN0aW9uU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSB7RmVhdHVyZURpc3RhbmNlRGF0YX0gZnJvbSAnLi4vc3R5bGUtc3BlYy9mZWF0dXJlX2ZpbHRlci9pbmRleC5qcyc7XG5pbXBvcnQgdHlwZSB7TWF0NCwgVmVjMywgVmVjNCwgUXVhdH0gZnJvbSAnZ2wtbWF0cml4JztcblxuY29uc3QgTlVNX1dPUkxEX0NPUElFUyA9IDM7XG5jb25zdCBERUZBVUxUX01JTl9aT09NID0gMDtcblxudHlwZSBSYXlJbnRlcnNlY3Rpb25SZXN1bHQgPSB7IHAwOiBWZWM0LCBwMTogVmVjNCwgdDogbnVtYmVyfTtcbnR5cGUgRWxldmF0aW9uUmVmZXJlbmNlID0gXCJzZWFcIiB8IFwiZ3JvdW5kXCI7XG5cbi8qKlxuICogQSBzaW5nbGUgdHJhbnNmb3JtLCBnZW5lcmFsbHkgdXNlZCBmb3IgYSBzaW5nbGUgdGlsZSB0byBiZVxuICogc2NhbGVkLCByb3RhdGVkLCBhbmQgem9vbWVkLlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgVHJhbnNmb3JtIHtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIHRpbGVab29tOiBudW1iZXI7XG4gICAgbWF4Qm91bmRzOiA/TG5nTGF0Qm91bmRzO1xuXG4gICAgLy8gMl56b29tICh3b3JsZFNpemUgPSB0aWxlU2l6ZSAqIHNjYWxlKVxuICAgIHNjYWxlOiBudW1iZXI7XG5cbiAgICAvLyBNYXAgdmlld3BvcnQgc2l6ZSAobm90IGluY2x1ZGluZyB0aGUgcGl4ZWwgcmF0aW8pXG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcblxuICAgIC8vIEJlYXJpbmcsIHJhZGlhbnMsIGluIFstcGksIHBpXVxuICAgIGFuZ2xlOiBudW1iZXI7XG5cbiAgICAvLyAyRCByb3RhdGlvbiBtYXRyaXggaW4gdGhlIGhvcml6b250YWwgcGxhbmUsIGFzIGEgZnVuY3Rpb24gb2YgYmVhcmluZ1xuICAgIHJvdGF0aW9uTWF0cml4OiBGbG9hdDMyQXJyYXk7XG5cbiAgICAvLyBab29tLCBtb2R1bG8gMVxuICAgIHpvb21GcmFjdGlvbjogbnVtYmVyO1xuXG4gICAgLy8gVGhlIHNjYWxlIGZhY3RvciBjb21wb25lbnQgb2YgdGhlIGNvbnZlcnNpb24gZnJvbSBwaXhlbHMgKFswLCB3XSB4IFtoLCAwXSkgdG8gR0xcbiAgICAvLyBOREMgKFsxLCAtMV0geCBbMSwgLTFdKSAobm90ZSBmbGlwcGVkIHkpXG4gICAgcGl4ZWxzVG9HTFVuaXRzOiBbbnVtYmVyLCBudW1iZXJdO1xuXG4gICAgLy8gRGlzdGFuY2UgZnJvbSBjYW1lcmEgdG8gdGhlIGNlbnRlciwgaW4gc2NyZWVuIHBpeGVsIHVuaXRzLCBpbmRlcGVuZGVudCBvZiB6b29tXG4gICAgY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTogbnVtYmVyO1xuXG4gICAgLy8gUHJvamVjdGlvbiBmcm9tIG1lcmNhdG9yIGNvb3JkaW5hdGVzIChbMCwgMF0gbncsIFsxLCAxXSBzZSkgdG8gR0wgY2xpcCBjb29yZGluYXRlc1xuICAgIG1lcmNhdG9yTWF0cml4OiBBcnJheTxudW1iZXI+O1xuXG4gICAgLy8gVHJhbnNsYXRlIHBvaW50cyBpbiBtZXJjYXRvciBjb29yZGluYXRlcyB0byBiZSBjZW50ZXJlZCBhYm91dCB0aGUgY2FtZXJhLCB3aXRoIHVuaXRzIGNob3NlblxuICAgIC8vIGZvciBzY3JlZW4taGVpZ2h0LWluZGVwZW5kZW50IHNjYWxpbmcgb2YgZm9nLiBOb3QgYWZmZWN0ZWQgYnkgb3JpZW50YXRpb24gb2YgY2FtZXJhLlxuICAgIG1lcmNhdG9yRm9nTWF0cml4OiBGbG9hdDMyQXJyYXk7XG5cbiAgICAvLyBQcm9qZWN0aW9uIGZyb20gd29ybGQgY29vcmRpbmF0ZXMgKG1lcmNhdG9yIHNjYWxlZCBieSB3b3JsZFNpemUpIHRvIGNsaXAgY29vcmRpbmF0ZXNcbiAgICBwcm9qTWF0cml4OiBBcnJheTxudW1iZXI+IHwgRmxvYXQzMkFycmF5IHwgRmxvYXQ2NEFycmF5O1xuICAgIGludlByb2pNYXRyaXg6IEZsb2F0NjRBcnJheTtcblxuICAgIC8vIFNhbWUgYXMgcHJvak1hdHJpeCwgcGl4ZWwtYWxpZ25lZCB0byBhdm9pZCBmcmFjdGlvbmFsIHBpeGVscyBmb3IgcmFzdGVyIHRpbGVzXG4gICAgYWxpZ25lZFByb2pNYXRyaXg6IEZsb2F0NjRBcnJheTtcblxuICAgIC8vIEZyb20gd29ybGQgY29vcmRpbmF0ZXMgdG8gc2NyZWVuIHBpeGVsIGNvb3JkaW5hdGVzIChwcm9qTWF0cml4IHByZW11bHRpcGxpZWQgYnkgbGFiZWxQbGFuZU1hdHJpeClcbiAgICBwaXhlbE1hdHJpeDogRmxvYXQ2NEFycmF5O1xuICAgIHBpeGVsTWF0cml4SW52ZXJzZTogRmxvYXQ2NEFycmF5O1xuXG4gICAgd29ybGRUb0ZvZ01hdHJpeDogRmxvYXQ2NEFycmF5O1xuICAgIHNreWJveE1hdHJpeDogRmxvYXQzMkFycmF5O1xuXG4gICAgLy8gVHJhbnNmb3JtIGZyb20gc2NyZWVuIGNvb3JkaW5hdGVzIHRvIEdMIE5EQywgWzAsIHddIHggW2gsIDBdIC0tPiBbLTEsIDFdIHggWy0xLCAxXVxuICAgIC8vIFJvdWdobHkgc3BlYWtpbmcsIGFwcGxpZXMgcGl4ZWxzVG9HTFVuaXRzIHNjYWxpbmcgd2l0aCBhIHRyYW5zbGF0aW9uXG4gICAgZ2xDb29yZE1hdHJpeDogRmxvYXQzMkFycmF5O1xuXG4gICAgLy8gSW52ZXJzZSBvZiBnbENvb3JkTWF0cml4LCBmcm9tIE5EQyB0byBzY3JlZW4gY29vcmRpbmF0ZXMsIFstMSwgMV0geCBbLTEsIDFdIC0tPiBbMCwgd10geCBbaCwgMF1cbiAgICBsYWJlbFBsYW5lTWF0cml4OiBGbG9hdDMyQXJyYXk7XG5cbiAgICAvLyBnbG9iZSBjb29yZGluYXRlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgIGdsb2JlTWF0cml4OiBGbG9hdDY0QXJyYXk7XG5cbiAgICBnbG9iZUNlbnRlckluVmlld1NwYWNlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG4gICAgZ2xvYmVSYWRpdXM6IG51bWJlcjtcblxuICAgIGludmVyc2VBZGp1c3RtZW50TWF0cml4OiBBcnJheTxudW1iZXI+O1xuXG4gICAgbWVyY2F0b3JGcm9tVHJhbnNpdGlvbjogYm9vbGVhbjtcblxuICAgIG1pbkxuZzogbnVtYmVyO1xuICAgIG1heExuZzogbnVtYmVyO1xuICAgIG1pbkxhdDogbnVtYmVyO1xuICAgIG1heExhdDogbnVtYmVyO1xuICAgIHdvcmxkTWluWDogbnVtYmVyO1xuICAgIHdvcmxkTWF4WDogbnVtYmVyO1xuICAgIHdvcmxkTWluWTogbnVtYmVyO1xuICAgIHdvcmxkTWF4WTogbnVtYmVyO1xuXG4gICAgZnJ1c3R1bUNvcm5lcnM6IEZydXN0dW1Db3JuZXJzO1xuXG4gICAgZnJlZXplVGlsZUNvdmVyYWdlOiBib29sZWFuO1xuICAgIGNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZTogRWxldmF0aW9uUmVmZXJlbmNlO1xuICAgIGZvZ0N1bGxEaXN0U3E6ID9udW1iZXI7XG4gICAgX2F2ZXJhZ2VFbGV2YXRpb246IG51bWJlcjtcbiAgICBwcm9qZWN0aW9uT3B0aW9uczogUHJvamVjdGlvblNwZWNpZmljYXRpb247XG4gICAgcHJvamVjdGlvbjogUHJvamVjdGlvbjtcbiAgICBfZWxldmF0aW9uOiA/RWxldmF0aW9uO1xuICAgIF9mb3Y6IG51bWJlcjtcbiAgICBfcGl0Y2g6IG51bWJlcjtcbiAgICBfem9vbTogbnVtYmVyO1xuICAgIF9zZWFMZXZlbFpvb206ID9udW1iZXI7XG4gICAgX3VubW9kaWZpZWQ6IGJvb2xlYW47XG4gICAgX3JlbmRlcldvcmxkQ29waWVzOiBib29sZWFuO1xuICAgIF9taW5ab29tOiBudW1iZXI7XG4gICAgX21heFpvb206IG51bWJlcjtcbiAgICBfbWluUGl0Y2g6IG51bWJlcjtcbiAgICBfbWF4UGl0Y2g6IG51bWJlcjtcbiAgICBfY2VudGVyOiBMbmdMYXQ7XG4gICAgX2VkZ2VJbnNldHM6IEVkZ2VJbnNldHM7XG4gICAgX2NvbnN0cmFpbmluZzogYm9vbGVhbjtcbiAgICBfcHJvak1hdHJpeENhY2hlOiB7W186IG51bWJlcl06IEZsb2F0MzJBcnJheX07XG4gICAgX2FsaWduZWRQcm9qTWF0cml4Q2FjaGU6IHtbXzogbnVtYmVyXTogRmxvYXQzMkFycmF5fTtcbiAgICBfcGl4ZWxzVG9UaWxlVW5pdHNDYWNoZToge1tfOiBudW1iZXJdOiBGbG9hdDMyQXJyYXl9O1xuICAgIF9mb2dUaWxlTWF0cml4Q2FjaGU6IHtbXzogbnVtYmVyXTogRmxvYXQzMkFycmF5fTtcbiAgICBfZGlzdGFuY2VUaWxlRGF0YUNhY2hlOiB7W186IG51bWJlcl06IEZlYXR1cmVEaXN0YW5jZURhdGF9O1xuICAgIF9jYW1lcmE6IEZyZWVDYW1lcmE7XG4gICAgX2NlbnRlckFsdGl0dWRlOiBudW1iZXI7XG4gICAgX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb246ID9udW1iZXI7XG4gICAgX2hvcml6b25TaGlmdDogbnVtYmVyO1xuICAgIF9waXhlbHNQZXJNZXJjYXRvclBpeGVsOiBudW1iZXI7XG4gICAgX25lYXJaOiBudW1iZXI7XG4gICAgX2Zhclo6IG51bWJlcjtcbiAgICBfbWVyY2F0b3JTY2FsZVJhdGlvOiBudW1iZXI7XG4gICAgX2lzQ2FtZXJhQ29uc3RyYWluZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihtaW5ab29tOiA/bnVtYmVyLCBtYXhab29tOiA/bnVtYmVyLCBtaW5QaXRjaDogP251bWJlciwgbWF4UGl0Y2g6ID9udW1iZXIsIHJlbmRlcldvcmxkQ29waWVzOiBib29sZWFuIHwgdm9pZCwgcHJvamVjdGlvbj86ID9Qcm9qZWN0aW9uU3BlY2lmaWNhdGlvbiwgYm91bmRzOiA/TG5nTGF0Qm91bmRzKSB7XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSA1MTI7IC8vIGNvbnN0YW50XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMgPSByZW5kZXJXb3JsZENvcGllcyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHJlbmRlcldvcmxkQ29waWVzO1xuICAgICAgICB0aGlzLl9taW5ab29tID0gbWluWm9vbSB8fCBERUZBVUxUX01JTl9aT09NO1xuICAgICAgICB0aGlzLl9tYXhab29tID0gbWF4Wm9vbSB8fCAyMjtcblxuICAgICAgICB0aGlzLl9taW5QaXRjaCA9IChtaW5QaXRjaCA9PT0gdW5kZWZpbmVkIHx8IG1pblBpdGNoID09PSBudWxsKSA/IDAgOiBtaW5QaXRjaDtcbiAgICAgICAgdGhpcy5fbWF4UGl0Y2ggPSAobWF4UGl0Y2ggPT09IHVuZGVmaW5lZCB8fCBtYXhQaXRjaCA9PT0gbnVsbCkgPyA2MCA6IG1heFBpdGNoO1xuXG4gICAgICAgIHRoaXMuc2V0UHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgdGhpcy5zZXRNYXhCb3VuZHMoYm91bmRzKTtcblxuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLl9jZW50ZXIgPSBuZXcgTG5nTGF0KDAsIDApO1xuICAgICAgICB0aGlzLnpvb20gPSAwO1xuICAgICAgICB0aGlzLmFuZ2xlID0gMDtcbiAgICAgICAgdGhpcy5fZm92ID0gMC42NDM1MDExMDg3OTMyODQ0O1xuICAgICAgICB0aGlzLl9waXRjaCA9IDA7XG4gICAgICAgIHRoaXMuX25lYXJaID0gMDtcbiAgICAgICAgdGhpcy5fZmFyWiA9IDA7XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9lZGdlSW5zZXRzID0gbmV3IEVkZ2VJbnNldHMoKTtcbiAgICAgICAgdGhpcy5fcHJvak1hdHJpeENhY2hlID0ge307XG4gICAgICAgIHRoaXMuX2FsaWduZWRQcm9qTWF0cml4Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5fZm9nVGlsZU1hdHJpeENhY2hlID0ge307XG4gICAgICAgIHRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9jYW1lcmEgPSBuZXcgRnJlZUNhbWVyYSgpO1xuICAgICAgICB0aGlzLl9jZW50ZXJBbHRpdHVkZSA9IDA7XG4gICAgICAgIHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24gPSAwO1xuICAgICAgICB0aGlzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSA9IFwiZ3JvdW5kXCI7XG4gICAgICAgIHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwgPSAxLjA7XG4gICAgICAgIHRoaXMuZ2xvYmVSYWRpdXMgPSAwO1xuICAgICAgICB0aGlzLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UgPSBbMCwgMCwgMF07XG5cbiAgICAgICAgLy8gTW92ZSB0aGUgaG9yaXpvbiBjbG9zZXIgdG8gdGhlIGNlbnRlci4gMCB3b3VsZCBub3Qgc2hpZnQgdGhlIGhvcml6b24uIDEgd291bGQgcHV0IHRoZSBob3Jpem9uIGF0IHRoZSBjZW50ZXIuXG4gICAgICAgIHRoaXMuX2hvcml6b25TaGlmdCA9IDAuMTtcbiAgICB9XG5cbiAgICBjbG9uZSgpOiBUcmFuc2Zvcm0ge1xuICAgICAgICBjb25zdCBjbG9uZSA9IG5ldyBUcmFuc2Zvcm0odGhpcy5fbWluWm9vbSwgdGhpcy5fbWF4Wm9vbSwgdGhpcy5fbWluUGl0Y2gsIHRoaXMubWF4UGl0Y2gsIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgIGNsb25lLl9lbGV2YXRpb24gPSB0aGlzLl9lbGV2YXRpb247XG4gICAgICAgIGNsb25lLl9jZW50ZXJBbHRpdHVkZSA9IHRoaXMuX2NlbnRlckFsdGl0dWRlO1xuICAgICAgICBjbG9uZS5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbiA9IHRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb247XG4gICAgICAgIGNsb25lLnRpbGVTaXplID0gdGhpcy50aWxlU2l6ZTtcbiAgICAgICAgY2xvbmUubWVyY2F0b3JGcm9tVHJhbnNpdGlvbiA9IHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbjtcbiAgICAgICAgY2xvbmUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBjbG9uZS5oZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgICAgY2xvbmUuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlID0gdGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U7XG4gICAgICAgIGNsb25lLl9jZW50ZXIgPSB0aGlzLl9jZW50ZXI7XG4gICAgICAgIGNsb25lLl9zZXRab29tKHRoaXMuem9vbSk7XG4gICAgICAgIGNsb25lLl9zZWFMZXZlbFpvb20gPSB0aGlzLl9zZWFMZXZlbFpvb207XG4gICAgICAgIGNsb25lLmFuZ2xlID0gdGhpcy5hbmdsZTtcbiAgICAgICAgY2xvbmUuX2ZvdiA9IHRoaXMuX2ZvdjtcbiAgICAgICAgY2xvbmUuX3BpdGNoID0gdGhpcy5fcGl0Y2g7XG4gICAgICAgIGNsb25lLl9uZWFyWiA9IHRoaXMuX25lYXJaO1xuICAgICAgICBjbG9uZS5fZmFyWiA9IHRoaXMuX2Zhclo7XG4gICAgICAgIGNsb25lLl9hdmVyYWdlRWxldmF0aW9uID0gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbjtcbiAgICAgICAgY2xvbmUuX3VubW9kaWZpZWQgPSB0aGlzLl91bm1vZGlmaWVkO1xuICAgICAgICBjbG9uZS5fZWRnZUluc2V0cyA9IHRoaXMuX2VkZ2VJbnNldHMuY2xvbmUoKTtcbiAgICAgICAgY2xvbmUuX2NhbWVyYSA9IHRoaXMuX2NhbWVyYS5jbG9uZSgpO1xuICAgICAgICBjbG9uZS5fY2FsY01hdHJpY2VzKCk7XG4gICAgICAgIGNsb25lLmZyZWV6ZVRpbGVDb3ZlcmFnZSA9IHRoaXMuZnJlZXplVGlsZUNvdmVyYWdlO1xuICAgICAgICBjbG9uZS5mcnVzdHVtQ29ybmVycyA9IHRoaXMuZnJ1c3R1bUNvcm5lcnM7XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBnZXQgZWxldmF0aW9uKCk6ID9FbGV2YXRpb24geyByZXR1cm4gdGhpcy5fZWxldmF0aW9uOyB9XG4gICAgc2V0IGVsZXZhdGlvbihlbGV2YXRpb246ID9FbGV2YXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2VsZXZhdGlvbiA9PT0gZWxldmF0aW9uKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VsZXZhdGlvbiA9IGVsZXZhdGlvbjtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCk7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgIH1cblxuICAgIHVwZGF0ZUVsZXZhdGlvbihjb25zdHJhaW5DYW1lcmFPdmVyVGVycmFpbjogYm9vbGVhbiwgYWRhcHRDYW1lcmFBbHRpdHVkZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlckFsdGl0dWRlQ2hhbmdlZCA9IHRoaXMuX2VsZXZhdGlvbiAmJiB0aGlzLl9lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkgIT09IHRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb247XG4gICAgICAgIGlmICh0aGlzLl9zZWFMZXZlbFpvb20gPT0gbnVsbCB8fCBjZW50ZXJBbHRpdHVkZUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25zdHJhaW5DYW1lcmFPdmVyVGVycmFpbiB8fCBjZW50ZXJBbHRpdHVkZUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnN0cmFpbkNhbWVyYShhZGFwdENhbWVyYUFsdGl0dWRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICBnZXRQcm9qZWN0aW9uKCk6IFByb2plY3Rpb25TcGVjaWZpY2F0aW9uIHtcbiAgICAgICAgcmV0dXJuIChwaWNrKHRoaXMucHJvamVjdGlvbiwgWyduYW1lJywgJ2NlbnRlcicsICdwYXJhbGxlbHMnXSk6IFByb2plY3Rpb25TcGVjaWZpY2F0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm5zIHdoZXRoZXIgdGhlIHByb2plY3Rpb24gY2hhbmdlc1xuICAgIHNldFByb2plY3Rpb24ocHJvamVjdGlvbj86ID9Qcm9qZWN0aW9uU3BlY2lmaWNhdGlvbik6IGJvb2xlYW4ge1xuICAgICAgICB0aGlzLnByb2plY3Rpb25PcHRpb25zID0gcHJvamVjdGlvbiB8fCB7bmFtZTogJ21lcmNhdG9yJ307XG5cbiAgICAgICAgY29uc3Qgb2xkUHJvamVjdGlvbiA9IHRoaXMucHJvamVjdGlvbiA/IHRoaXMuZ2V0UHJvamVjdGlvbigpIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKHRoaXMucHJvamVjdGlvbk9wdGlvbnMpO1xuICAgICAgICBjb25zdCBuZXdQcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdGlvbkhhc0NoYW5nZWQgPSAhZGVlcEVxdWFsKG9sZFByb2plY3Rpb24sIG5ld1Byb2plY3Rpb24pO1xuICAgICAgICBpZiAocHJvamVjdGlvbkhhc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiBwcm9qZWN0aW9uSGFzQ2hhbmdlZDtcbiAgICB9XG5cbiAgICBzZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBvbGRQcm9qZWN0aW9uID0gdGhpcy5wcm9qZWN0aW9uLm5hbWU7XG4gICAgICAgIHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbk9wdGlvbnMgPSB7bmFtZTogJ21lcmNhdG9yJ307XG4gICAgICAgIHRoaXMucHJvamVjdGlvbiA9IGdldFByb2plY3Rpb24oe25hbWU6ICdtZXJjYXRvcid9KTtcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbkhhc0NoYW5nZWQgPSBvbGRQcm9qZWN0aW9uICE9PSB0aGlzLnByb2plY3Rpb24ubmFtZTtcbiAgICAgICAgaWYgKHByb2plY3Rpb25IYXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvamVjdGlvbkhhc0NoYW5nZWQ7XG4gICAgfVxuXG4gICAgZ2V0IG1pblpvb20oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX21pblpvb207IH1cbiAgICBzZXQgbWluWm9vbSh6b29tOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX21pblpvb20gPT09IHpvb20pIHJldHVybjtcbiAgICAgICAgdGhpcy5fbWluWm9vbSA9IHpvb207XG4gICAgICAgIHRoaXMuem9vbSA9IE1hdGgubWF4KHRoaXMuem9vbSwgem9vbSk7XG4gICAgfVxuXG4gICAgZ2V0IG1heFpvb20oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX21heFpvb207IH1cbiAgICBzZXQgbWF4Wm9vbSh6b29tOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX21heFpvb20gPT09IHpvb20pIHJldHVybjtcbiAgICAgICAgdGhpcy5fbWF4Wm9vbSA9IHpvb207XG4gICAgICAgIHRoaXMuem9vbSA9IE1hdGgubWluKHRoaXMuem9vbSwgem9vbSk7XG4gICAgfVxuXG4gICAgZ2V0IG1pblBpdGNoKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9taW5QaXRjaDsgfVxuICAgIHNldCBtaW5QaXRjaChwaXRjaDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9taW5QaXRjaCA9PT0gcGl0Y2gpIHJldHVybjtcbiAgICAgICAgdGhpcy5fbWluUGl0Y2ggPSBwaXRjaDtcbiAgICAgICAgdGhpcy5waXRjaCA9IE1hdGgubWF4KHRoaXMucGl0Y2gsIHBpdGNoKTtcbiAgICB9XG5cbiAgICBnZXQgbWF4UGl0Y2goKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX21heFBpdGNoOyB9XG4gICAgc2V0IG1heFBpdGNoKHBpdGNoOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX21heFBpdGNoID09PSBwaXRjaCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9tYXhQaXRjaCA9IHBpdGNoO1xuICAgICAgICB0aGlzLnBpdGNoID0gTWF0aC5taW4odGhpcy5waXRjaCwgcGl0Y2gpO1xuICAgIH1cblxuICAgIGdldCByZW5kZXJXb3JsZENvcGllcygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzICYmIHRoaXMucHJvamVjdGlvbi5zdXBwb3J0c1dvcmxkQ29waWVzID09PSB0cnVlO1xuICAgIH1cbiAgICBzZXQgcmVuZGVyV29ybGRDb3BpZXMocmVuZGVyV29ybGRDb3BpZXM/OiA/Ym9vbGVhbikge1xuICAgICAgICBpZiAocmVuZGVyV29ybGRDb3BpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVuZGVyV29ybGRDb3BpZXMgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHJlbmRlcldvcmxkQ29waWVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZW5kZXJXb3JsZENvcGllcyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMgPSByZW5kZXJXb3JsZENvcGllcztcbiAgICB9XG5cbiAgICBnZXQgd29ybGRTaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVTaXplICogdGhpcy5zY2FsZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGdldHRlciByZXR1cm5zIGFuIGluY29ycmVjdCB2YWx1ZS5cbiAgICAvLyBJdCBzaG91bGQgZXZlbnR1YWxseSBiZSByZW1vdmVkIGFuZCBjYW1lcmFXb3JsZFNpemUgYmUgdXNlZCBpbnN0ZWFkLlxuICAgIC8vIFNlZSBmcmVlX2NhbWVyYS5nZXREaXN0YW5jZVRvRWxldmF0aW9uIGZvciB0aGUgcmF0aW9uYWxlLlxuICAgIGdldCBjYW1lcmFXb3JsZFNpemVGb3JGb2coKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLm1heCh0aGlzLl9jYW1lcmEuZ2V0RGlzdGFuY2VUb0VsZXZhdGlvbih0aGlzLl9hdmVyYWdlRWxldmF0aW9uKSwgTnVtYmVyLkVQU0lMT04pO1xuICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRTaXplRnJvbVpvb20odGhpcy5fem9vbUZyb21NZXJjYXRvclooZGlzdGFuY2UpKTtcbiAgICB9XG5cbiAgICBnZXQgY2FtZXJhV29ybGRTaXplKCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5tYXgodGhpcy5fY2FtZXJhLmdldERpc3RhbmNlVG9FbGV2YXRpb24odGhpcy5fYXZlcmFnZUVsZXZhdGlvbiwgdHJ1ZSksIE51bWJlci5FUFNJTE9OKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkU2l6ZUZyb21ab29tKHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKGRpc3RhbmNlKSk7XG4gICAgfVxuXG4gICAgLy8gYHBpeGVsc1Blck1ldGVyYCBpcyB1c2VkIHRvIGRlc2NyaWJlIHJlbGF0aW9uIGJldHdlZW4gcmVhbCB3b3JsZCBhbmQgcGl4ZWwgZGlzdGFuY2VzLlxuICAgIC8vIEluIG1lcmNhdG9yIHByb2plY3Rpb24gaXQgaXMgZGVwZW5kYW50IG9uIGxhdGl0dWRlIHZhbHVlIG1lYW5pbmcgdGhhdCBvbmUgbWV0ZXIgY292ZXJzXG4gICAgLy8gbGVzcyBwaXhlbHMgYXQgdGhlIGVxdWF0b3IgdGhhbiBuZWFyIHBvbGFyIHJlZ2lvbnMuIEdsb2JlIHByb2plY3Rpb24gaW4gb3RoZXIgaGFuZCB1c2VzXG4gICAgLy8gZml4ZWQgcmF0aW8gZXZlcnl3aGVyZS5cblxuICAgIGdldCBwaXhlbHNQZXJNZXRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnBpeGVsc1Blck1ldGVyKHRoaXMuY2VudGVyLmxhdCwgdGhpcy53b3JsZFNpemUpO1xuICAgIH1cblxuICAgIGdldCBjYW1lcmFQaXhlbHNQZXJNZXRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gbWVyY2F0b3JaZnJvbUFsdGl0dWRlKHRoaXMuY2VudGVyLmxhdCwgdGhpcy5jYW1lcmFXb3JsZFNpemVGb3JGb2cpO1xuICAgIH1cblxuICAgIGdldCBjZW50ZXJPZmZzZXQoKTogUG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5jZW50ZXJQb2ludC5fc3ViKHRoaXMuc2l6ZS5fZGl2KDIpKTtcbiAgICB9XG5cbiAgICBnZXQgc2l6ZSgpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIGdldCBiZWFyaW5nKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB3cmFwKHRoaXMucm90YXRpb24sIC0xODAsIDE4MCk7XG4gICAgfVxuXG4gICAgc2V0IGJlYXJpbmcoYmVhcmluZzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBiZWFyaW5nO1xuICAgIH1cblxuICAgIGdldCByb3RhdGlvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gLXRoaXMuYW5nbGUgLyBNYXRoLlBJICogMTgwO1xuICAgIH1cblxuICAgIHNldCByb3RhdGlvbihyb3RhdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGIgPSAtcm90YXRpb24gKiBNYXRoLlBJIC8gMTgwO1xuICAgICAgICBpZiAodGhpcy5hbmdsZSA9PT0gYikgcmV0dXJuO1xuICAgICAgICB0aGlzLl91bm1vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYW5nbGUgPSBiO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcblxuICAgICAgICAvLyAyeDIgbWF0cml4IGZvciByb3RhdGluZyBwb2ludHNcbiAgICAgICAgdGhpcy5yb3RhdGlvbk1hdHJpeCA9IG1hdDIuY3JlYXRlKCk7XG4gICAgICAgIG1hdDIucm90YXRlKHRoaXMucm90YXRpb25NYXRyaXgsIHRoaXMucm90YXRpb25NYXRyaXgsIHRoaXMuYW5nbGUpO1xuICAgIH1cblxuICAgIGdldCBwaXRjaCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGl0Y2ggLyBNYXRoLlBJICogMTgwO1xuICAgIH1cbiAgICBzZXQgcGl0Y2gocGl0Y2g6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwID0gY2xhbXAocGl0Y2gsIHRoaXMubWluUGl0Y2gsIHRoaXMubWF4UGl0Y2gpIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgaWYgKHRoaXMuX3BpdGNoID09PSBwKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGl0Y2ggPSBwO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICBnZXQgYXNwZWN0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgZ2V0IGZvdigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm92IC8gTWF0aC5QSSAqIDE4MDtcbiAgICB9XG5cbiAgICBnZXQgZm92WCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm92O1xuICAgIH1cblxuICAgIGdldCBmb3ZZKCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGZvY2FsTGVuZ3RoID0gMS4wIC8gTWF0aC50YW4odGhpcy5mb3ZYICogMC41KTtcbiAgICAgICAgcmV0dXJuIDIgKiBNYXRoLmF0YW4oKDEuMCAvIHRoaXMuYXNwZWN0KSAvIGZvY2FsTGVuZ3RoKTtcbiAgICB9XG5cbiAgICBzZXQgZm92KGZvdjogbnVtYmVyKSB7XG4gICAgICAgIGZvdiA9IE1hdGgubWF4KDAuMDEsIE1hdGgubWluKDYwLCBmb3YpKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZvdiA9PT0gZm92KSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZm92ID0gZGVnVG9SYWQoZm92KTtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG4gICAgfVxuXG4gICAgZ2V0IGF2ZXJhZ2VFbGV2YXRpb24oKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb247XG4gICAgfVxuICAgIHNldCBhdmVyYWdlRWxldmF0aW9uKGF2ZXJhZ2VFbGV2YXRpb246IG51bWJlcikge1xuICAgICAgICB0aGlzLl9hdmVyYWdlRWxldmF0aW9uID0gYXZlcmFnZUVsZXZhdGlvbjtcbiAgICAgICAgdGhpcy5fY2FsY0ZvZ01hdHJpY2VzKCk7XG4gICAgICAgIHRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZSA9IHt9O1xuICAgIH1cblxuICAgIGdldCB6b29tKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl96b29tOyB9XG4gICAgc2V0IHpvb20oem9vbTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHogPSBNYXRoLm1pbihNYXRoLm1heCh6b29tLCB0aGlzLm1pblpvb20pLCB0aGlzLm1heFpvb20pO1xuICAgICAgICBpZiAodGhpcy5fem9vbSA9PT0geikgcmV0dXJuO1xuICAgICAgICB0aGlzLl91bm1vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NldFpvb20oeik7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNlYUxldmVsWm9vbSgpO1xuICAgICAgICB0aGlzLl9jb25zdHJhaW4oKTtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG4gICAgfVxuICAgIF9zZXRab29tKHo6IG51bWJlcikge1xuICAgICAgICB0aGlzLl96b29tID0gejtcbiAgICAgICAgdGhpcy5zY2FsZSA9IHRoaXMuem9vbVNjYWxlKHopO1xuICAgICAgICB0aGlzLnRpbGVab29tID0gTWF0aC5mbG9vcih6KTtcbiAgICAgICAgdGhpcy56b29tRnJhY3Rpb24gPSB6IC0gdGhpcy50aWxlWm9vbTtcbiAgICB9XG5cbiAgICBfdXBkYXRlQ2FtZXJhT25UZXJyYWluKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VsZXZhdGlvbiB8fCAhdGhpcy5fZWxldmF0aW9uLmlzRGF0YUF2YWlsYWJsZUF0UG9pbnQodGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpKSkge1xuICAgICAgICAgICAgLy8gRWxldmF0aW9uIGRhdGEgbm90IGxvYWRlZCB5ZXQsIHJlc2V0XG4gICAgICAgICAgICB0aGlzLl9jZW50ZXJBbHRpdHVkZSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zZWFMZXZlbFpvb20gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGV2YXRpb246IEVsZXZhdGlvbiA9IHRoaXMuX2VsZXZhdGlvbjtcbiAgICAgICAgdGhpcy5fY2VudGVyQWx0aXR1ZGUgPSBlbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLmNlbnRlcikpO1xuICAgICAgICB0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uID0gZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpO1xuICAgICAgICB0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlU2VhTGV2ZWxab29tKCkge1xuICAgICAgICBpZiAodGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlO1xuICAgICAgICBjb25zdCB0ZXJyYWluRWxldmF0aW9uID0gdGhpcy5waXhlbHNQZXJNZXRlciAqIHRoaXMuX2NlbnRlckFsdGl0dWRlO1xuICAgICAgICBjb25zdCBtZXJjYXRvclogPSAodGVycmFpbkVsZXZhdGlvbiArIGhlaWdodCkgLyB0aGlzLndvcmxkU2l6ZTtcblxuICAgICAgICAvLyBNU0wgKE1lYW4gU2VhIExldmVsKSB6b29tIGRlc2NyaWJlcyB0aGUgZGlzdGFuY2Ugb2YgdGhlIGNhbWVyYSB0byB0aGUgc2VhIGxldmVsIChhbHRpdHVkZSkuXG4gICAgICAgIC8vIEl0IGlzIHVzZWQgb25seSBmb3IgbWFuaXB1bGF0aW5nIHRoZSBjYW1lcmEgbG9jYXRpb24uIFRoZSBzdGFuZGFyZCB6b29tICh0aGlzLl96b29tKVxuICAgICAgICAvLyBkZWZpbmVzIHRoZSBjYW1lcmEgZGlzdGFuY2UgdG8gdGhlIHRlcnJhaW4gKGhlaWdodCkuIEl0cyBiZWhhdmlvciBhbmQgY29uY2VwdHVhbFxuICAgICAgICAvLyBtZWFuaW5nIGluIGRldGVybWluaW5nIHdoaWNoIHRpbGVzIHRvIHN0cmVhbSBpcyBzYW1lIHdpdGggb3Igd2l0aG91dCB0aGUgdGVycmFpbi5cbiAgICAgICAgdGhpcy5fc2VhTGV2ZWxab29tID0gdGhpcy5fem9vbUZyb21NZXJjYXRvcloobWVyY2F0b3JaKTtcbiAgICB9XG5cbiAgICBzYW1wbGVBdmVyYWdlRWxldmF0aW9uKCk6IG51bWJlciB7XG4gICAgICAgIGlmICghdGhpcy5fZWxldmF0aW9uKSByZXR1cm4gMDtcbiAgICAgICAgY29uc3QgZWxldmF0aW9uOiBFbGV2YXRpb24gPSB0aGlzLl9lbGV2YXRpb247XG5cbiAgICAgICAgY29uc3QgZWxldmF0aW9uU2FtcGxlUG9pbnRzID0gW1xuICAgICAgICAgICAgWzAuNSwgMC4yXSxcbiAgICAgICAgICAgIFswLjMsIDAuNV0sXG4gICAgICAgICAgICBbMC41LCAwLjVdLFxuICAgICAgICAgICAgWzAuNywgMC41XSxcbiAgICAgICAgICAgIFswLjUsIDAuOF1cbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBob3Jpem9uID0gdGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtcblxuICAgICAgICBsZXQgZWxldmF0aW9uU3VtID0gMC4wO1xuICAgICAgICBsZXQgd2VpZ2h0U3VtID0gMC4wO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZXZhdGlvblNhbXBsZVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcHQgPSBuZXcgUG9pbnQoXG4gICAgICAgICAgICAgICAgZWxldmF0aW9uU2FtcGxlUG9pbnRzW2ldWzBdICogdGhpcy53aWR0aCxcbiAgICAgICAgICAgICAgICBob3Jpem9uICsgZWxldmF0aW9uU2FtcGxlUG9pbnRzW2ldWzFdICogKHRoaXMuaGVpZ2h0IC0gaG9yaXpvbilcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBoaXQgPSBlbGV2YXRpb24ucG9pbnRDb29yZGluYXRlKHB0KTtcbiAgICAgICAgICAgIGlmICghaGl0KSBjb250aW51ZTtcblxuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VUb0hpdCA9IE1hdGguaHlwb3QoaGl0WzBdIC0gdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzBdLCBoaXRbMV0gLSB0aGlzLl9jYW1lcmEucG9zaXRpb25bMV0pO1xuICAgICAgICAgICAgY29uc3Qgd2VpZ2h0ID0gMSAvIGRpc3RhbmNlVG9IaXQ7XG4gICAgICAgICAgICBlbGV2YXRpb25TdW0gKz0gaGl0WzNdICogd2VpZ2h0O1xuICAgICAgICAgICAgd2VpZ2h0U3VtICs9IHdlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3ZWlnaHRTdW0gPT09IDApIHJldHVybiBOYU47XG4gICAgICAgIHJldHVybiBlbGV2YXRpb25TdW0gLyB3ZWlnaHRTdW07XG4gICAgfVxuXG4gICAgZ2V0IGNlbnRlcigpOiBMbmdMYXQgeyByZXR1cm4gdGhpcy5fY2VudGVyOyB9XG4gICAgc2V0IGNlbnRlcihjZW50ZXI6IExuZ0xhdCkge1xuICAgICAgICBpZiAoY2VudGVyLmxhdCA9PT0gdGhpcy5fY2VudGVyLmxhdCAmJiBjZW50ZXIubG5nID09PSB0aGlzLl9jZW50ZXIubG5nKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgIGlmICh0aGlzLl90ZXJyYWluRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2UgPT09IFwiZ3JvdW5kXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDYW1lcmFPblRlcnJhaW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb25zdHJhaW4oKTtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVpvb21Gcm9tRWxldmF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fc2VhTGV2ZWxab29tID09IG51bGwgfHwgIXRoaXMuX2VsZXZhdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyBDb21wdXRlIHpvb20gbGV2ZWwgZnJvbSB0aGUgaGVpZ2h0IG9mIHRoZSBjYW1lcmEgcmVsYXRpdmUgdG8gdGhlIHRlcnJhaW5cbiAgICAgICAgY29uc3Qgc2VhTGV2ZWxab29tOiBudW1iZXIgPSB0aGlzLl9zZWFMZXZlbFpvb207XG4gICAgICAgIGNvbnN0IGVsZXZhdGlvbkF0Q2VudGVyID0gdGhpcy5fZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8odGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpKTtcbiAgICAgICAgY29uc3QgbWVyY2F0b3JFbGV2YXRpb24gPSB0aGlzLnBpeGVsc1Blck1ldGVyIC8gdGhpcy53b3JsZFNpemUgKiBlbGV2YXRpb25BdENlbnRlcjtcbiAgICAgICAgY29uc3QgYWx0aXR1ZGUgID0gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20oc2VhTGV2ZWxab29tKTtcbiAgICAgICAgY29uc3QgbWluSGVpZ2h0ID0gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWF4Wm9vbSk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KGFsdGl0dWRlIC0gbWVyY2F0b3JFbGV2YXRpb24sIG1pbkhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5fc2V0Wm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihoZWlnaHQpKTtcbiAgICB9XG5cbiAgICBnZXQgcGFkZGluZygpOiBQYWRkaW5nT3B0aW9ucyB7IHJldHVybiB0aGlzLl9lZGdlSW5zZXRzLnRvSlNPTigpOyB9XG4gICAgc2V0IHBhZGRpbmcocGFkZGluZzogUGFkZGluZ09wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2VkZ2VJbnNldHMuZXF1YWxzKHBhZGRpbmcpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgLy9VcGRhdGUgZWRnZS1pbnNldHMgaW5wbGFjZVxuICAgICAgICB0aGlzLl9lZGdlSW5zZXRzLmludGVycG9sYXRlKHRoaXMuX2VkZ2VJbnNldHMsIHBhZGRpbmcsIDEpO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIHpvb20gdmFsdWUgcmVsYXRpdmUgdG8gYSBtYXAgcGxhbmUgdGhhdCBnb2VzIHRocm91Z2ggdGhlIHByb3ZpZGVkIG1lcmNhdG9yIHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtNZXJjYXRvckNvb3JkaW5hdGV9IHBvc2l0aW9uIEEgcG9zaXRpb24gZGVmaW5pbmcgdGhlIGFsdGl0dWRlIG9mIHRoZSB0aGUgbWFwIHBsYW5lLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSB6b29tIHZhbHVlLlxuICAgICAqL1xuICAgIGNvbXB1dGVab29tUmVsYXRpdmVUbyhwb3NpdGlvbjogTWVyY2F0b3JDb29yZGluYXRlKTogbnVtYmVyIHtcbiAgICAgICAgLy8gRmluZCBtYXAgY2VudGVyIHBvc2l0aW9uIG9uIHRoZSB0YXJnZXQgcGxhbmUgYnkgY2FzdGluZyBhIHJheSBmcm9tIHNjcmVlbiBjZW50ZXIgdG93YXJkcyB0aGUgcGxhbmUuXG4gICAgICAgIC8vIERpcmVjdCBkaXN0YW5jZSB0byB0aGUgdGFyZ2V0IHBvc2l0aW9uIGlzIHVzZWQgaWYgdGhlIHRhcmdldCBwb3NpdGlvbiBpcyBhYm92ZSBjYW1lcmEgcG9zaXRpb24uXG4gICAgICAgIGNvbnN0IGNlbnRlck9uVGFyZ2V0QWx0aXR1ZGUgPSB0aGlzLnJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUodGhpcy5wb2ludFJheUludGVyc2VjdGlvbih0aGlzLmNlbnRlclBvaW50LCBwb3NpdGlvbi50b0FsdGl0dWRlKCkpKTtcblxuICAgICAgICBsZXQgdGFyZ2V0UG9zaXRpb246ID9WZWMzO1xuICAgICAgICBpZiAocG9zaXRpb24ueiA8IHRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXSkge1xuICAgICAgICAgICAgdGFyZ2V0UG9zaXRpb24gPSBbY2VudGVyT25UYXJnZXRBbHRpdHVkZS54LCBjZW50ZXJPblRhcmdldEFsdGl0dWRlLnksIGNlbnRlck9uVGFyZ2V0QWx0aXR1ZGUuel07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRQb3NpdGlvbiA9IFtwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBwb3NpdGlvbi56XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRpc3RUb1RhcmdldCA9IHZlYzMubGVuZ3RoKHZlYzMuc3ViKFtdLCB0aGlzLl9jYW1lcmEucG9zaXRpb24sIHRhcmdldFBvc2l0aW9uKSk7XG4gICAgICAgIHJldHVybiBjbGFtcCh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihkaXN0VG9UYXJnZXQpLCB0aGlzLl9taW5ab29tLCB0aGlzLl9tYXhab29tKTtcbiAgICB9XG5cbiAgICBzZXRGcmVlQ2FtZXJhT3B0aW9ucyhvcHRpb25zOiBGcmVlQ2FtZXJhT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5wb3NpdGlvbiAmJiAhb3B0aW9ucy5vcmllbnRhdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyBDYW1lcmEgc3RhdGUgbXVzdCBiZSB1cC10by1kYXRlIGJlZm9yZSBhY2Nlc3NpbmcgaXRzIGdldHRlcnNcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtcblxuICAgICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAob3B0aW9ucy5vcmllbnRhdGlvbiAmJiAhcXVhdC5leGFjdEVxdWFscyhvcHRpb25zLm9yaWVudGF0aW9uLCB0aGlzLl9jYW1lcmEub3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXSAtIEZsb3cgY2FuJ3QgaW5mZXIgdGhhdCBvcmllbnRhdGlvbiBpcyBub3QgbnVsbFxuICAgICAgICAgICAgY2hhbmdlZCA9IHRoaXMuX3NldENhbWVyYU9yaWVudGF0aW9uKG9wdGlvbnMub3JpZW50YXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gW29wdGlvbnMucG9zaXRpb24ueCwgb3B0aW9ucy5wb3NpdGlvbi55LCBvcHRpb25zLnBvc2l0aW9uLnpdO1xuICAgICAgICAgICAgaWYgKCF2ZWMzLmV4YWN0RXF1YWxzKG5ld1Bvc2l0aW9uLCB0aGlzLl9jYW1lcmEucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q2FtZXJhUG9zaXRpb24obmV3UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlRnJvbUNhbWVyYSgpO1xuICAgICAgICAgICAgdGhpcy5yZWNlbnRlck9uVGVycmFpbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTogRnJlZUNhbWVyYU9wdGlvbnMge1xuICAgICAgICB0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9jYW1lcmEucG9zaXRpb247XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBuZXcgRnJlZUNhbWVyYU9wdGlvbnMoKTtcbiAgICAgICAgb3B0aW9ucy5wb3NpdGlvbiA9IG5ldyBNZXJjYXRvckNvb3JkaW5hdGUocG9zWzBdLCBwb3NbMV0sIHBvc1syXSk7XG4gICAgICAgIG9wdGlvbnMub3JpZW50YXRpb24gPSB0aGlzLl9jYW1lcmEub3JpZW50YXRpb247XG4gICAgICAgIG9wdGlvbnMuX2VsZXZhdGlvbiA9IHRoaXMuZWxldmF0aW9uO1xuICAgICAgICBvcHRpb25zLl9yZW5kZXJXb3JsZENvcGllcyA9IHRoaXMucmVuZGVyV29ybGRDb3BpZXM7XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgX3NldENhbWVyYU9yaWVudGF0aW9uKG9yaWVudGF0aW9uOiBRdWF0KTogYm9vbGVhbiB7XG4gICAgICAgIC8vIHplcm8tbGVuZ3RoIHF1YXRlcm5pb25zIGFyZSBub3QgdmFsaWRcbiAgICAgICAgaWYgKCFxdWF0Lmxlbmd0aChvcmllbnRhdGlvbikpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcXVhdC5ub3JtYWxpemUob3JpZW50YXRpb24sIG9yaWVudGF0aW9uKTtcblxuICAgICAgICAvLyBUaGUgbmV3IG9yaWVudGF0aW9uIG11c3QgYmUgc2FuaXRpemVkIGJ5IG1ha2luZyBzdXJlIGl0IGNhbiBiZSByZXByZXNlbnRlZFxuICAgICAgICAvLyB3aXRoIGEgcGl0Y2ggYW5kIGJlYXJpbmcuIFJvbGwtY29tcG9uZW50IG11c3QgYmUgcmVtb3ZlZCBhbmQgdGhlIGNhbWVyYSBjYW4ndCBiZSB1cHNpZGUgZG93blxuICAgICAgICBjb25zdCBmb3J3YXJkID0gdmVjMy50cmFuc2Zvcm1RdWF0KFtdLCBbMCwgMCwgLTFdLCBvcmllbnRhdGlvbik7XG4gICAgICAgIGNvbnN0IHVwID0gdmVjMy50cmFuc2Zvcm1RdWF0KFtdLCBbMCwgLTEsIDBdLCBvcmllbnRhdGlvbik7XG5cbiAgICAgICAgaWYgKHVwWzJdIDwgMC4wKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRPcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uRnJvbUZyYW1lKGZvcndhcmQsIHVwKTtcbiAgICAgICAgaWYgKCF1cGRhdGVkT3JpZW50YXRpb24pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fY2FtZXJhLm9yaWVudGF0aW9uID0gdXBkYXRlZE9yaWVudGF0aW9uO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfc2V0Q2FtZXJhUG9zaXRpb24ocG9zaXRpb246IFZlYzMpIHtcbiAgICAgICAgLy8gQWx0aXR1ZGUgbXVzdCBiZSBjbGFtcGVkIHRvIHJlc3BlY3QgbWluIGFuZCBtYXggem9vbVxuICAgICAgICBjb25zdCBtaW5Xb3JsZFNpemUgPSB0aGlzLnpvb21TY2FsZSh0aGlzLm1pblpvb20pICogdGhpcy50aWxlU2l6ZTtcbiAgICAgICAgY29uc3QgbWF4V29ybGRTaXplID0gdGhpcy56b29tU2NhbGUodGhpcy5tYXhab29tKSAqIHRoaXMudGlsZVNpemU7XG4gICAgICAgIGNvbnN0IGRpc3RUb0NlbnRlciA9IHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTtcblxuICAgICAgICBwb3NpdGlvblsyXSA9IGNsYW1wKHBvc2l0aW9uWzJdLCBkaXN0VG9DZW50ZXIgLyBtYXhXb3JsZFNpemUsIGRpc3RUb0NlbnRlciAvIG1pbldvcmxkU2l6ZSk7XG4gICAgICAgIHRoaXMuX2NhbWVyYS5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjZW50ZXIgb2YgdGhlIHNjcmVlbiBpbiBwaXhlbHMgd2l0aCB0aGUgdG9wLWxlZnQgY29ybmVyIGJlaW5nICgwLDApXG4gICAgICogYW5kICt5IGF4aXMgcG9pbnRpbmcgZG93bndhcmRzLiBUaGlzIGFjY291bnRzIGZvciBwYWRkaW5nLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHR5cGUge1BvaW50fVxuICAgICAqIEBtZW1iZXJvZiBUcmFuc2Zvcm1cbiAgICAgKi9cbiAgICBnZXQgY2VudGVyUG9pbnQoKTogUG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWRnZUluc2V0cy5nZXRDZW50ZXIodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZlcnRpY2FsIGhhbGYtZm92LCBhY2NvdW50aW5nIGZvciBwYWRkaW5nLCBpbiByYWRpYW5zLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldCBmb3ZBYm92ZUNlbnRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm92ICogKDAuNSArIHRoaXMuY2VudGVyT2Zmc2V0LnkgLyB0aGlzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBwYWRkaW5nIG9wdGlvbnMgYXJlIGVxdWFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQYWRkaW5nT3B0aW9uc30gcGFkZGluZyBUaGUgcGFkZGluZyBvcHRpb25zIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHBhZGRpbmcgb3B0aW9ucyBhcmUgZXF1YWwuXG4gICAgICogQG1lbWJlcm9mIFRyYW5zZm9ybVxuICAgICAqL1xuICAgIGlzUGFkZGluZ0VxdWFsKHBhZGRpbmc6IFBhZGRpbmdPcHRpb25zKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lZGdlSW5zZXRzLmVxdWFscyhwYWRkaW5nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgbWV0aG9kIHRvIHVwZGF0ZSBlZGdlLWluc2V0cyBpbnBsYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQYWRkaW5nT3B0aW9uc30gc3RhcnQgVGhlIGluaXRpYWwgcGFkZGluZyBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7UGFkZGluZ09wdGlvbnN9IHRhcmdldCBUaGUgdGFyZ2V0IHBhZGRpbmcgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdCBUaGUgaW50ZXJwb2xhdGlvbiB2YXJpYWJsZS5cbiAgICAgKiBAbWVtYmVyb2YgVHJhbnNmb3JtXG4gICAgICovXG4gICAgaW50ZXJwb2xhdGVQYWRkaW5nKHN0YXJ0OiBQYWRkaW5nT3B0aW9ucywgdGFyZ2V0OiBQYWRkaW5nT3B0aW9ucywgdDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZWRnZUluc2V0cy5pbnRlcnBvbGF0ZShzdGFydCwgdGFyZ2V0LCB0KTtcbiAgICAgICAgdGhpcy5fY29uc3RyYWluKCk7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgaGlnaGVzdCB6b29tIGxldmVsIHRoYXQgZnVsbHkgaW5jbHVkZXMgYWxsIHRpbGVzIHdpdGhpbiB0aGUgdHJhbnNmb3JtJ3MgYm91bmRhcmllcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnRpbGVTaXplIFRpbGUgc2l6ZSwgZXhwcmVzc2VkIGluIHNjcmVlbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnJvdW5kWm9vbSBUYXJnZXQgem9vbSBsZXZlbC4gSWYgdHJ1ZSwgdGhlIHZhbHVlIHdpbGwgYmUgcm91bmRlZCB0byB0aGUgY2xvc2VzdCBpbnRlZ2VyLiBPdGhlcndpc2UgdGhlIHZhbHVlIHdpbGwgYmUgZmxvb3JlZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBBbiBpbnRlZ2VyIHpvb20gbGV2ZWwgYXQgd2hpY2ggYWxsIHRpbGVzIHdpbGwgYmUgdmlzaWJsZS5cbiAgICAgKi9cbiAgICBjb3ZlcmluZ1pvb21MZXZlbChvcHRpb25zOiB7cm91bmRab29tPzogYm9vbGVhbiwgdGlsZVNpemU6IG51bWJlcn0pOiBudW1iZXIge1xuICAgICAgICBjb25zdCB6ID0gKG9wdGlvbnMucm91bmRab29tID8gTWF0aC5yb3VuZCA6IE1hdGguZmxvb3IpKFxuICAgICAgICAgICAgdGhpcy56b29tICsgdGhpcy5zY2FsZVpvb20odGhpcy50aWxlU2l6ZSAvIG9wdGlvbnMudGlsZVNpemUpXG4gICAgICAgICk7XG4gICAgICAgIC8vIEF0IG5lZ2F0aXZlIHpvb20gbGV2ZWxzIGxvYWQgdGlsZXMgZnJvbSB6MCBiZWNhdXNlIG5lZ2F0aXZlIHRpbGUgem9vbSBsZXZlbHMgZG9uJ3QgZXhpc3QuXG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCB6KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW55IFwid3JhcHBlZFwiIGNvcGllcyBvZiBhIGdpdmVuIHRpbGUgY29vcmRpbmF0ZSB0aGF0IGFyZSB2aXNpYmxlXG4gICAgICogaW4gdGhlIGN1cnJlbnQgdmlldy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKHRpbGVJRDogQ2Fub25pY2FsVGlsZUlEKTogQXJyYXk8VW53cmFwcGVkVGlsZUlEPiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtuZXcgVW53cmFwcGVkVGlsZUlEKDAsIHRpbGVJRCldO1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJXb3JsZENvcGllcykge1xuICAgICAgICAgICAgY29uc3QgdXRsID0gdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KDAsIDApKTtcbiAgICAgICAgICAgIGNvbnN0IHV0ciA9IHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCh0aGlzLndpZHRoLCAwKSk7XG4gICAgICAgICAgICBjb25zdCB1YmwgPSB0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpKTtcbiAgICAgICAgICAgIGNvbnN0IHViciA9IHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCgwLCB0aGlzLmhlaWdodCkpO1xuICAgICAgICAgICAgY29uc3QgdzAgPSBNYXRoLmZsb29yKE1hdGgubWluKHV0bC54LCB1dHIueCwgdWJsLngsIHVici54KSk7XG4gICAgICAgICAgICBjb25zdCB3MSA9IE1hdGguZmxvb3IoTWF0aC5tYXgodXRsLngsIHV0ci54LCB1YmwueCwgdWJyLngpKTtcblxuICAgICAgICAgICAgLy8gQWRkIGFuIGV4dHJhIGNvcHkgb2YgdGhlIHdvcmxkIG9uIGVhY2ggc2lkZSB0byBwcm9wZXJseSByZW5kZXIgSW1hZ2VTb3VyY2VzIGFuZCBDYW52YXNTb3VyY2VzLlxuICAgICAgICAgICAgLy8gQm90aCBzb3VyY2VzIGRyYXcgb3V0c2lkZSB0aGUgdGlsZSBib3VuZGFyaWVzIG9mIHRoZSB0aWxlIHRoYXQgXCJjb250YWlucyB0aGVtXCIgc28gd2UgbmVlZFxuICAgICAgICAgICAgLy8gdG8gYWRkIGV4dHJhIGNvcGllcyBvbiBib3RoIHNpZGVzIGluIGNhc2Ugb2Zmc2NyZWVuIHRpbGVzIG5lZWQgdG8gZHJhdyBpbnRvIG9uLXNjcmVlbiBvbmVzLlxuICAgICAgICAgICAgY29uc3QgZXh0cmFXb3JsZENvcHkgPSAxO1xuXG4gICAgICAgICAgICBmb3IgKGxldCB3ID0gdzAgLSBleHRyYVdvcmxkQ29weTsgdyA8PSB3MSArIGV4dHJhV29ybGRDb3B5OyB3KyspIHtcbiAgICAgICAgICAgICAgICBpZiAodyA9PT0gMCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFVud3JhcHBlZFRpbGVJRCh3LCB0aWxlSUQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbGwgY29vcmRpbmF0ZXMgdGhhdCBjb3VsZCBjb3ZlciB0aGlzIHRyYW5zZm9ybSBmb3IgYSBjb3ZlcmluZ1xuICAgICAqIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy50aWxlU2l6ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLm1pbnpvb21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5tYXh6b29tXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnJvdW5kWm9vbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5yZXBhcnNlT3ZlcnNjYWxlZFxuICAgICAqIEByZXR1cm5zIHtBcnJheTxPdmVyc2NhbGVkVGlsZUlEPn0gT3ZlcnNjYWxlZFRpbGVJRHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvdmVyaW5nVGlsZXMoXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHRpbGVTaXplOiBudW1iZXIsXG4gICAgICAgICAgICBtaW56b29tPzogbnVtYmVyLFxuICAgICAgICAgICAgbWF4em9vbT86IG51bWJlcixcbiAgICAgICAgICAgIHJvdW5kWm9vbT86IGJvb2xlYW4sXG4gICAgICAgICAgICByZXBhcnNlT3ZlcnNjYWxlZD86IGJvb2xlYW4sXG4gICAgICAgICAgICByZW5kZXJXb3JsZENvcGllcz86IGJvb2xlYW4sXG4gICAgICAgICAgICBpc1RlcnJhaW5ERU0/OiBib29sZWFuXG4gICAgICAgIH1cbiAgICApOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPiB7XG4gICAgICAgIGxldCB6ID0gdGhpcy5jb3ZlcmluZ1pvb21MZXZlbChvcHRpb25zKTtcbiAgICAgICAgY29uc3QgYWN0dWFsWiA9IHo7XG5cbiAgICAgICAgY29uc3QgdXNlRWxldmF0aW9uRGF0YSA9IHRoaXMuZWxldmF0aW9uICYmICFvcHRpb25zLmlzVGVycmFpbkRFTTtcbiAgICAgICAgY29uc3QgaXNNZXJjYXRvciA9IHRoaXMucHJvamVjdGlvbi5uYW1lID09PSAnbWVyY2F0b3InO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm1pbnpvb20gIT09IHVuZGVmaW5lZCAmJiB6IDwgb3B0aW9ucy5taW56b29tKSByZXR1cm4gW107XG4gICAgICAgIGlmIChvcHRpb25zLm1heHpvb20gIT09IHVuZGVmaW5lZCAmJiB6ID4gb3B0aW9ucy5tYXh6b29tKSB6ID0gb3B0aW9ucy5tYXh6b29tO1xuXG4gICAgICAgIGNvbnN0IGNlbnRlckNvb3JkID0gdGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpO1xuICAgICAgICBjb25zdCBjZW50ZXJMYXRpdHVkZSA9IHRoaXMuY2VudGVyLmxhdDtcbiAgICAgICAgY29uc3QgbnVtVGlsZXMgPSAxIDw8IHo7XG4gICAgICAgIGNvbnN0IGNlbnRlclBvaW50ID0gW251bVRpbGVzICogY2VudGVyQ29vcmQueCwgbnVtVGlsZXMgKiBjZW50ZXJDb29yZC55LCAwXTtcbiAgICAgICAgY29uc3QgaXNHbG9iZSA9IHRoaXMucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnO1xuICAgICAgICBjb25zdCB6SW5NZXRlcnMgPSAhaXNHbG9iZTtcbiAgICAgICAgY29uc3QgY2FtZXJhRnJ1c3R1bSA9IEZydXN0dW0uZnJvbUludlByb2plY3Rpb25NYXRyaXgodGhpcy5pbnZQcm9qTWF0cml4LCB0aGlzLndvcmxkU2l6ZSwgeiwgekluTWV0ZXJzKTtcbiAgICAgICAgY29uc3QgY2FtZXJhQ29vcmQgPSBpc0dsb2JlID8gdGhpcy5fY2FtZXJhLm1lcmNhdG9yUG9zaXRpb24gOiB0aGlzLnBvaW50Q29vcmRpbmF0ZSh0aGlzLmdldENhbWVyYVBvaW50KCkpO1xuICAgICAgICBjb25zdCBtZXRlclRvVGlsZSA9IG51bVRpbGVzICogbWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsIHRoaXMuY2VudGVyLmxhdCk7XG4gICAgICAgIGNvbnN0IGNhbWVyYUFsdGl0dWRlID0gdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzJdIC8gbWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsIHRoaXMuY2VudGVyLmxhdCk7XG4gICAgICAgIGNvbnN0IGNhbWVyYVBvaW50ID0gW251bVRpbGVzICogY2FtZXJhQ29vcmQueCwgbnVtVGlsZXMgKiBjYW1lcmFDb29yZC55LCBjYW1lcmFBbHRpdHVkZSAqICh6SW5NZXRlcnMgPyAxIDogbWV0ZXJUb1RpbGUpXTtcbiAgICAgICAgLy8gTGV0J3MgY29uc2lkZXIgYW4gZXhhbXBsZSBmb3IgIXJvdW5kWm9vbTogZS5nLiB0aWxlWm9vbSAxNiBpcyB1c2VkIGZyb20gem9vbSAxNiBhbGwgdGhlIHdheSB0byB6b29tIDE2Ljk5LlxuICAgICAgICAvLyBUaGlzIHdvdWxkIG1lYW4gdGhhdCB0aGUgbWluaW1hbCBkaXN0YW5jZSB0byBzcGxpdCB3b3VsZCBiZSBiYXNlZCBvbiBkaXN0YW5jZSBmcm9tIGNhbWVyYSB0byBjZW50ZXIgb2YgMTYuOTkgem9vbS5cbiAgICAgICAgLy8gVGhlIHNhbWUgaXMgYWxyZWFkeSBpbmNvcnBvcmF0ZWQgaW4gbG9naWMgYmVoaW5kIHJvdW5kWm9vbSBmb3IgcmFzdGVyIChzbyB0aGVyZSBpcyBubyBhZGp1c3RtZW50IG5lZWRlZCBpbiBmb2xsb3dpbmcgbGluZSkuXG4gICAgICAgIC8vIDAuMDIgYWRkZWQgdG8gY29tcGVuc2F0ZSBmb3IgcHJlY2lzaW9uIGVycm9ycywgc2VlIFwiY292ZXJpbmdUaWxlcyBmb3IgdGVycmFpblwiIHRlc3QgaW4gdHJhbnNmb3JtLnRlc3QuanMuXG4gICAgICAgIGNvbnN0IHpvb21TcGxpdERpc3RhbmNlID0gdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlIC8gb3B0aW9ucy50aWxlU2l6ZSAqIChvcHRpb25zLnJvdW5kWm9vbSA/IDEgOiAwLjUwMik7XG5cbiAgICAgICAgLy8gTm8gY2hhbmdlIG9mIExPRCBiZWhhdmlvciBmb3IgcGl0Y2ggbG93ZXIgdGhhbiA2MCBhbmQgd2hlbiB0aGVyZSBpcyBubyB0b3AgcGFkZGluZzogcmV0dXJuIG9ubHkgdGlsZSBpZHMgZnJvbSB0aGUgcmVxdWVzdGVkIHpvb20gbGV2ZWxcbiAgICAgICAgY29uc3QgbWluWm9vbSA9IHRoaXMucGl0Y2ggPD0gNjAuMCAmJiB0aGlzLl9lZGdlSW5zZXRzLnRvcCA8PSB0aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSAmJiAhdGhpcy5fZWxldmF0aW9uICYmICF0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlID8geiA6IDA7XG5cbiAgICAgICAgLy8gV2hlbiBjYWxjdWxhdGluZyB0aWxlIGNvdmVyIGZvciB0ZXJyYWluLCBjcmVhdGUgZGVlcCBBQUJCIGZvciBub2RlcywgdG8gZW5zdXJlIHRoZXkgaW50ZXJzZWN0IGZydXN0dW06IGZvciBzb3VyY2VzLFxuICAgICAgICAvLyBvdGhlciB0aGFuIERFTSwgdXNlIG1pbmltdW0gb2YgdmlzaWJsZSBERU0gdGlsZXMgYW5kIGNlbnRlciBhbHRpdHVkZSBhcyB1cHBlciBib3VuZCAocGl0Y2ggaXMgYWx3YXlzIGxlc3MgdGhhbiA5MMKwKS5cbiAgICAgICAgY29uc3QgbWF4UmFuZ2UgPSBvcHRpb25zLmlzVGVycmFpbkRFTSAmJiB0aGlzLl9lbGV2YXRpb24gPyB0aGlzLl9lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkgKiAxMDAwMCA6IHRoaXMuX2NlbnRlckFsdGl0dWRlO1xuICAgICAgICBjb25zdCBtaW5SYW5nZSA9IG9wdGlvbnMuaXNUZXJyYWluREVNID8gLW1heFJhbmdlIDogdGhpcy5fZWxldmF0aW9uID8gdGhpcy5fZWxldmF0aW9uLmdldE1pbkVsZXZhdGlvbkJlbG93TVNMKCkgOiAwO1xuXG4gICAgICAgIGNvbnN0IHNjYWxlQWRqdXN0bWVudCA9IHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UgPyBnZXRTY2FsZUFkanVzdG1lbnQodGhpcykgOiAxLjA7XG5cbiAgICAgICAgY29uc3QgcmVsYXRpdmVTY2FsZUF0TWVyY2F0b3JDb29yZCA9IG1jID0+IHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBob3cgc2NhbGUgY29tcGFyZXMgYmV0d2VlbiBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMgYW5kIG1lcmNhdG9yIGNvb3JkaW5hdGVzLlxuICAgICAgICAgICAgLy8gUmV0dXJucyBhIGxlbmd0aC4gVGhlIHVuaXRzIGRvbid0IG1hdHRlciBzaW5jZSB0aGUgcmVzdWx0IGlzIG9ubHlcbiAgICAgICAgICAgIC8vIHVzZWQgaW4gYSByYXRpbyB3aXRoIG90aGVyIHZhbHVlcyByZXR1cm5lZCBieSB0aGlzIGZ1bmN0aW9uLlxuXG4gICAgICAgICAgICAvLyBDb25zdHJ1Y3QgYSBzbWFsbCBzcXVhcmUgaW4gTWVyY2F0b3IgY29vcmRpbmF0ZXMuXG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAxIC8gNDAwMDA7XG4gICAgICAgICAgICBjb25zdCBtY0Vhc3QgPSBuZXcgTWVyY2F0b3JDb29yZGluYXRlKG1jLnggKyBvZmZzZXQsIG1jLnksIG1jLnopO1xuICAgICAgICAgICAgY29uc3QgbWNTb3V0aCA9IG5ldyBNZXJjYXRvckNvb3JkaW5hdGUobWMueCwgbWMueSArIG9mZnNldCwgbWMueik7XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHNxdWFyZSB0byBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMuXG4gICAgICAgICAgICBjb25zdCBsbCA9IG1jLnRvTG5nTGF0KCk7XG4gICAgICAgICAgICBjb25zdCBsbEVhc3QgPSBtY0Vhc3QudG9MbmdMYXQoKTtcbiAgICAgICAgICAgIGNvbnN0IGxsU291dGggPSBtY1NvdXRoLnRvTG5nTGF0KCk7XG4gICAgICAgICAgICBjb25zdCBwID0gdGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUobGwpO1xuICAgICAgICAgICAgY29uc3QgcEVhc3QgPSB0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShsbEVhc3QpO1xuICAgICAgICAgICAgY29uc3QgcFNvdXRoID0gdGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUobGxTb3V0aCk7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgc2l6ZSBvZiBlYWNoIGVkZ2Ugb2YgdGhlIHJlcHJvamVjdGVkIHNxdWFyZVxuICAgICAgICAgICAgY29uc3QgZHggPSBNYXRoLmh5cG90KHBFYXN0LnggLSBwLngsIHBFYXN0LnkgLSBwLnkpO1xuICAgICAgICAgICAgY29uc3QgZHkgPSBNYXRoLmh5cG90KHBTb3V0aC54IC0gcC54LCBwU291dGgueSAtIHAueSk7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgc2l6ZSBvZiBhIHByb2plY3RlZCBzcXVhcmUgdGhhdCB3b3VsZCBoYXZlIHRoZVxuICAgICAgICAgICAgLy8gc2FtZSBhcmVhIGFzIHRoZSByZXByb2plY3RlZCBzcXVhcmUuXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHkpICogc2NhbGVBZGp1c3RtZW50IC8gb2Zmc2V0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG5ld1Jvb3RUaWxlID0gKHdyYXA6IG51bWJlcik6IGFueSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYXggPSBtYXhSYW5nZTtcbiAgICAgICAgICAgIGNvbnN0IG1pbiA9IG1pblJhbmdlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAvLyBXaXRoIGVsZXZhdGlvbiwgdGhpcy5fZWxldmF0aW9uIHByb3ZpZGVzIHogY29vcmRpbmF0ZSB2YWx1ZXMuIEZvciAyRDpcbiAgICAgICAgICAgICAgICAvLyBBbGwgdGlsZXMgYXJlIG9uIHplcm8gZWxldmF0aW9uIHBsYW5lID0+IHogZGlmZmVyZW5jZSBpcyB6ZXJvXG4gICAgICAgICAgICAgICAgYWFiYjogdGlsZUFBQkIodGhpcywgbnVtVGlsZXMsIDAsIDAsIDAsIHdyYXAsIG1pbiwgbWF4LCB0aGlzLnByb2plY3Rpb24pLFxuICAgICAgICAgICAgICAgIHpvb206IDAsXG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgIG1pblo6IG1pbixcbiAgICAgICAgICAgICAgICBtYXhaOiBtYXgsXG4gICAgICAgICAgICAgICAgd3JhcCxcbiAgICAgICAgICAgICAgICBmdWxseVZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIERvIGEgZGVwdGgtZmlyc3QgdHJhdmVyc2FsIHRvIGZpbmQgdmlzaWJsZSB0aWxlcyBhbmQgcHJvcGVyIGxldmVscyBvZiBkZXRhaWxcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBjb25zdCBtYXhab29tID0gejtcbiAgICAgICAgY29uc3Qgb3ZlcnNjYWxlZFogPSBvcHRpb25zLnJlcGFyc2VPdmVyc2NhbGVkID8gYWN0dWFsWiA6IHo7XG4gICAgICAgIGNvbnN0IHNxdWFyZSA9IGEgPT4gYSAqIGE7XG4gICAgICAgIGNvbnN0IGNhbWVyYUhlaWdodFNxciA9IHNxdWFyZSgoY2FtZXJhQWx0aXR1ZGUgLSB0aGlzLl9jZW50ZXJBbHRpdHVkZSkgKiBtZXRlclRvVGlsZSk7IC8vIGluIHRpbGUgY29vcmRpbmF0ZXMuXG5cbiAgICAgICAgY29uc3QgZ2V0QUFCQkZyb21FbGV2YXRpb24gPSAoaXQpID0+IHtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLl9lbGV2YXRpb24pO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9lbGV2YXRpb24gfHwgIWl0LnRpbGVJRCB8fCAhaXNNZXJjYXRvcikgcmV0dXJuOyAvLyBUbyBzaWxlbmNlIGZsb3cuXG4gICAgICAgICAgICBjb25zdCBtaW5tYXggPSB0aGlzLl9lbGV2YXRpb24uZ2V0TWluTWF4Rm9yVGlsZShpdC50aWxlSUQpO1xuICAgICAgICAgICAgY29uc3QgYWFiYiA9IGl0LmFhYmI7XG4gICAgICAgICAgICBpZiAobWlubWF4KSB7XG4gICAgICAgICAgICAgICAgYWFiYi5taW5bMl0gPSBtaW5tYXgubWluO1xuICAgICAgICAgICAgICAgIGFhYmIubWF4WzJdID0gbWlubWF4Lm1heDtcbiAgICAgICAgICAgICAgICBhYWJiLmNlbnRlclsyXSA9IChhYWJiLm1pblsyXSArIGFhYmIubWF4WzJdKSAvIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0LnNob3VsZFNwbGl0ID0gc2hvdWxkU3BsaXQoaXQpO1xuICAgICAgICAgICAgICAgIGlmICghaXQuc2hvdWxkU3BsaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXQgZmluYWwgem9vbSBsZXZlbCwgd2hpbGUgY29ycmVzcG9uZGluZyBERU0gdGlsZSBpcyBub3QgbG9hZGVkIHlldCxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXNzdW1lIGNlbnRlciBlbGV2YXRpb24uIFRoaXMgY292ZXJzIGdyb3VuZCB0byBob3Jpem9uIGFuZCBwcmV2ZW50c1xuICAgICAgICAgICAgICAgICAgICAvLyBsb2FkaW5nIHVubmVjZXNzYXJ5IHRpbGVzIHVudGlsIERFTSBjb3ZlciBpcyBmdWxseSBsb2FkZWQuXG4gICAgICAgICAgICAgICAgICAgIGFhYmIubWluWzJdID0gYWFiYi5tYXhbMl0gPSBhYWJiLmNlbnRlclsyXSA9IHRoaXMuX2NlbnRlckFsdGl0dWRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTY2FsZSBkaXN0YW5jZSB0byBzcGxpdCBmb3IgYWN1dGUgYW5nbGVzLlxuICAgICAgICAvLyBkelNxcjogeiBjb21wb25lbnQgb2YgY2FtZXJhIHRvIHRpbGUgZGlzdGFuY2UsIHNxdWFyZS5cbiAgICAgICAgLy8gZFNxcjogM0QgZGlzdGFuY2Ugb2YgY2FtZXJhIHRvIHRpbGUsIHNxdWFyZS5cbiAgICAgICAgY29uc3QgZGlzdFRvU3BsaXRTY2FsZSA9IChkelNxciwgZFNxcikgPT4ge1xuICAgICAgICAgICAgLy8gV2hlbiB0aGUgYW5nbGUgYmV0d2VlbiBjYW1lcmEgdG8gdGlsZSByYXkgYW5kIHRpbGUgcGxhbmUgaXMgc21hbGxlclxuICAgICAgICAgICAgLy8gdGhhbiBhY3V0ZUFuZ2xlVGhyZXNob2xkLCBzY2FsZSB0aGUgZGlzdGFuY2UgdG8gc3BsaXQuIFNjYWxpbmcgaXMgYWRhcHRpdmU6IHNtYWxsZXJcbiAgICAgICAgICAgIC8vIHRoZSBhbmdsZSwgdGhlIHNjYWxlIGdldHMgbG93ZXIgdmFsdWUuIEFsdGhvdWdoIGl0IHNlZW1zIGVhcmx5IHRvIHN0YXJ0IGF0IDQ1LFxuICAgICAgICAgICAgLy8gaXQgaXMgbm90OiBzY2FsaW5nIGtpY2tzIGluIGFyb3VuZCA2MCBkZWdyZWVzIHBpdGNoLlxuICAgICAgICAgICAgY29uc3QgYWN1dGVBbmdsZVRocmVzaG9sZFNpbiA9IDAuNzA3OyAvLyBNYXRoLnNpbig0NSlcbiAgICAgICAgICAgIGNvbnN0IHN0cmV0Y2hUaWxlID0gMS4xO1xuICAgICAgICAgICAgLy8gRGlzdGFuY2VzIGxvbmdlciB0aGFuICdkeiAvIGFjdXRlQW5nbGVUaHJlc2hvbGRTaW4nIGdldHMgc2NhbGVkXG4gICAgICAgICAgICAvLyBmb2xsb3dpbmcgZ2VvbWV0cmljIHNlcmllcyBzdW06IGV2ZXJ5IG5leHQgZHogbGVuZ3RoIGluIGRpc3RhbmNlIGNhbiBiZVxuICAgICAgICAgICAgLy8gJ3N0cmV0Y2hUaWxlIHRpbWVzJyBsb25nZXIuIEl0IGlzIGZ1cnRoZXIsIHRoZSBhbmdsZSBpcyBzaGFycGVyLiBUb3RhbCxcbiAgICAgICAgICAgIC8vIGFkanVzdGVkLCBkaXN0YW5jZSB3b3VsZCB0aGVuIGJlOlxuICAgICAgICAgICAgLy8gPSBkeiAvIGFjdXRlQW5nbGVUaHJlc2hvbGRTaW4gKyAoZHogKiBzdHJldGNoVGlsZSArIGR6ICogc3RyZXRjaFRpbGUgXiAyICsgLi4uICsgZHogKiBzdHJldGNoVGlsZSBeIGspLFxuICAgICAgICAgICAgLy8gd2hlcmUgayA9IChkIC0gZHogLyBhY3V0ZUFuZ2xlVGhyZXNob2xkU2luKSAvIGR6ID0gZCAvIGR6IC0gMSAvIGFjdXRlQW5nbGVUaHJlc2hvbGRTaW47XG4gICAgICAgICAgICAvLyA9IGR6IC8gYWN1dGVBbmdsZVRocmVzaG9sZFNpbiArIGR6ICogKChzdHJldGNoVGlsZSBeIChrICsgMSkgLSAxKSAvIChzdHJldGNoVGlsZSAtIDEpIC0gMSlcbiAgICAgICAgICAgIC8vIG9yIHB1dCBkaWZmZXJlbnRseSwgZ2l2ZW4gdGhhdCBrIGlzIGJhc2VkIG9uIGQgYW5kIGR6LCB0aWxlIG9uIGRpc3RhbmNlIGQgY291bGQgYmUgdXNlZCBvbiBkaXN0YW5jZSBzY2FsZWQgYnk6XG4gICAgICAgICAgICAvLyAxIC8gYWN1dGVBbmdsZVRocmVzaG9sZFNpbiArIChzdHJldGNoVGlsZSBeIChrICsgMSkgLSAxKSAvIChzdHJldGNoVGlsZSAtIDEpIC0gMVxuICAgICAgICAgICAgaWYgKGRTcXIgKiBzcXVhcmUoYWN1dGVBbmdsZVRocmVzaG9sZFNpbikgPCBkelNxcikgcmV0dXJuIDEuMDsgLy8gRWFybHkgcmV0dXJuLCBubyBzY2FsZS5cbiAgICAgICAgICAgIGNvbnN0IHIgPSBNYXRoLnNxcnQoZFNxciAvIGR6U3FyKTtcbiAgICAgICAgICAgIGNvbnN0IGsgPSAgciAtIDEgLyBhY3V0ZUFuZ2xlVGhyZXNob2xkU2luO1xuICAgICAgICAgICAgcmV0dXJuIHIgLyAoMSAvIGFjdXRlQW5nbGVUaHJlc2hvbGRTaW4gKyAoTWF0aC5wb3coc3RyZXRjaFRpbGUsIGsgKyAxKSAtIDEpIC8gKHN0cmV0Y2hUaWxlIC0gMSkgLSAxKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG91bGRTcGxpdCA9IChpdCkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0Lnpvb20gPCBtaW5ab29tKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGl0Lnpvb20gPT09IG1heFpvb20pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXQuc2hvdWxkU3BsaXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdC5zaG91bGRTcGxpdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGR4ID0gaXQuYWFiYi5kaXN0YW5jZVgoY2FtZXJhUG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgZHkgPSBpdC5hYWJiLmRpc3RhbmNlWShjYW1lcmFQb2ludCk7XG4gICAgICAgICAgICBsZXQgZHpTcXIgPSBjYW1lcmFIZWlnaHRTcXI7XG5cbiAgICAgICAgICAgIGxldCB0aWxlU2NhbGVBZGp1c3RtZW50ID0gMTtcbiAgICAgICAgICAgIGlmIChpc0dsb2JlKSB7XG4gICAgICAgICAgICAgICAgZHpTcXIgPSBzcXVhcmUoaXQuYWFiYi5kaXN0YW5jZVooY2FtZXJhUG9pbnQpKTtcbiAgICAgICAgICAgICAgICAvLyBDb21wZW5zYXRlIHBoeXNpY2FsIHNpemVzIG9mIHRoZSB0aWxlcyB3aGVuIGRldGVybWluaW5nIHdoaWNoIHpvb20gbGV2ZWwgdG8gdXNlLlxuICAgICAgICAgICAgICAgIC8vIEluIHByYWN0aWNlIHRpbGVzIGNsb3NlciB0byBwb2xlcyBzaG91bGQgdXNlIG1vcmUgYWdncmVzc2l2ZSBMT0QgYXMgdGhlaXJcbiAgICAgICAgICAgICAgICAvLyBwaHlzaWNhbCBzaXplIGlzIGFscmVhZHkgc21hbGxlciB0aGFuIHNpemUgb2YgdGlsZXMgbmVhciB0aGUgZXF1YXRvci5cbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlc0F0Wm9vbSA9IE1hdGgucG93KDIsIGl0Lnpvb20pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbkxhdCA9IGxhdEZyb21NZXJjYXRvclkoKGl0LnkgKyAxKSAvIHRpbGVzQXRab29tKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhMYXQgPSBsYXRGcm9tTWVyY2F0b3JZKChpdC55KSAvIHRpbGVzQXRab29tKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9zZXN0TGF0ID0gTWF0aC5taW4oTWF0aC5tYXgoY2VudGVyTGF0aXR1ZGUsIG1pbkxhdCksIG1heExhdCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVRpbGVTY2FsZSA9IGNpcmN1bWZlcmVuY2VBdExhdGl0dWRlKGNsb3Nlc3RMYXQpIC8gY2lyY3VtZmVyZW5jZUF0TGF0aXR1ZGUoY2VudGVyTGF0aXR1ZGUpO1xuXG4gICAgICAgICAgICAgICAgLy8gV2l0aCBnbG9iZSwgdGhlIHJlbmRlcmVkIHNjYWxlIGRvZXMgbm90IGV4YWN0bHkgbWF0Y2ggdGhlIG1lcmNhdG9yIHNjYWxlIGF0IGxvdyB6b29tIGxldmVscy5cbiAgICAgICAgICAgICAgICAvLyBBY2NvdW50IGZvciB0aGlzIGRpZmZlcmVuY2UgZHVyaW5nIExPRCBvZiBsb2FkaW5nIHNvIHRoYXQgeW91IGxvYWQgdGhlIGNvcnJlY3Qgc2l6ZSB0aWxlcy5cbiAgICAgICAgICAgICAgICAvLyBXZSB0cnkgdG8gY29tcHJvbWlzZSBiZXR3ZWVuIHR3byBjb25mbGljdGluZyByZXF1aXJlbWVudHM6XG4gICAgICAgICAgICAgICAgLy8gLSBsb2FkaW5nIHRpbGVzIGF0IHRoZSBjYW1lcmEncyB6b29tIGxldmVsIChmb3IgdmlzdWFsIGFuZCBzdHlsaW5nIGNvbnNpc3RlbmN5KVxuICAgICAgICAgICAgICAgIC8vIC0gbG9hZGluZyBjb3JyZWN0IHNpemUgdGlsZXMgKHRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIHRpbGVzIGxvYWRlZClcbiAgICAgICAgICAgICAgICAvLyBUaGVzZSBhcmUgYXJiaXRyYXJpbHkgYmFsYW5jZWQ6XG4gICAgICAgICAgICAgICAgaWYgKGNsb3Nlc3RMYXQgPT09IGNlbnRlckxhdGl0dWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciB0aWxlcyB0aGF0IGFyZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSB2aWV3cG9ydCwgcHJpb3JpdGl6ZSBtYXRjaGluZyB0aGUgY2FtZXJhXG4gICAgICAgICAgICAgICAgICAgIC8vIHpvb20gYW5kIGFsbG93IGRpdmVyZ2VuY2UgZnJvbSB0aGUgdHJ1ZSBzY2FsZS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4RGl2ZXJnZW5jZSA9IDAuMztcbiAgICAgICAgICAgICAgICAgICAgdGlsZVNjYWxlQWRqdXN0bWVudCA9IDEgLyBNYXRoLm1heCgxLCB0aGlzLl9tZXJjYXRvclNjYWxlUmF0aW8gLSBtYXhEaXZlcmdlbmNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3Igb3RoZXIgdGlsZXMsIHVzZSB0aGUgcmVhbCBzY2FsZSB0byByZWR1Y2UgdGlsZSBjb3VudHMgbmVhciBwb2xlcy5cbiAgICAgICAgICAgICAgICAgICAgdGlsZVNjYWxlQWRqdXN0bWVudCA9IE1hdGgubWluKDEsIHJlbGF0aXZlVGlsZVNjYWxlIC8gdGhpcy5fbWVyY2F0b3JTY2FsZVJhdGlvKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgdGhhdCBhbGwgdGlsZXMgbmVhciB0aGUgY2VudGVyIGhhdmUgdGhlIHNhbWUgem9vbSBsZXZlbC5cbiAgICAgICAgICAgICAgICAvLyBXaXRoIExPRCB0aWxlIGxvYWRpbmcsIHRpbGUgem9vbSBsZXZlbHMgY2FuIGNoYW5nZSB3aGVuIHNjYWxlIHNsaWdodGx5IGNoYW5nZXMuXG4gICAgICAgICAgICAgICAgLy8gVGhlc2UgZGlmZmVyZW5jZXMgY2FuIGJlIHByZXR0eSBkaWZmZXJlbnQgaW4gZ2xvYmUgdmlldy4gV29yayBhcm91bmQgdGhpcyBieVxuICAgICAgICAgICAgICAgIC8vIG1ha2luZyBtb3JlIHRpbGVzIG1hdGNoIHRoZSBjZW50ZXIgdGlsZSdzIHpvb20gbGV2ZWwuIElmIHRoZSB0aWxlcyBhcmUgbmVhcmx5IGJpZyBlbm91Z2gsXG4gICAgICAgICAgICAgICAgLy8gcm91bmQgdXAuIE9ubHkgYXBwbHkgdGhpcyBhZGp1c3RtZW50IGJlZm9yZSB0aGUgdHJhbnNpdGlvbiB0byBtZXJjYXRvciByZW5kZXJpbmcgaGFzIHN0YXJ0ZWQuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuem9vbSA8PSBHTE9CRV9aT09NX1RIUkVTSE9MRF9NSU4gJiYgaXQuem9vbSA9PT0gbWF4Wm9vbSAtIDEgJiYgcmVsYXRpdmVUaWxlU2NhbGUgPj0gMC45KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHpJbk1ldGVycyk7XG4gICAgICAgICAgICAgICAgaWYgKHVzZUVsZXZhdGlvbkRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZHpTcXIgPSBzcXVhcmUoaXQuYWFiYi5kaXN0YW5jZVooY2FtZXJhUG9pbnQpICogbWV0ZXJUb1RpbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSAmJiBhY3R1YWxaIDw9IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gb3RoZXIgcHJvamVjdGlvbnMsIG5vdCBhbGwgdGlsZXMgYXJlIHRoZSBzYW1lIHNpemUuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFjY291bnQgZm9yIHRoZSB0aWxlIHNpemUgZGlmZmVyZW5jZSBieSBhZGp1c3RpbmcgdGhlIGRpc3RUb1NwbGl0LlxuICAgICAgICAgICAgICAgICAgICAvLyBBZGp1c3QgYnkgdGhlIHJhdGlvIG9mIHRoZSBhcmVhIGF0IHRoZSB0aWxlIGNlbnRlciB0byB0aGUgYXJlYSBhdCB0aGUgbWFwIGNlbnRlci5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRqdXN0bWVudHMgYXJlIG9ubHkgbmVlZGVkIGF0IGxvd2VyIHpvb21zIHdoZXJlIHRpbGVzIGFyZSBub3Qgc2ltaWxhcmx5IHNpemVkLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1UaWxlcyA9IE1hdGgucG93KDIsIGl0Lnpvb20pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVNjYWxlID0gcmVsYXRpdmVTY2FsZUF0TWVyY2F0b3JDb29yZChuZXcgTWVyY2F0b3JDb29yZGluYXRlKChpdC54ICsgMC41KSAvIG51bVRpbGVzLCAoaXQueSArIDAuNSkgLyBudW1UaWxlcykpO1xuICAgICAgICAgICAgICAgICAgICAvLyBGdWRnZSB0aGUgcmF0aW8gc2xpZ2h0bHkgc28gdGhhdCBhbGwgdGlsZXMgbmVhciB0aGUgY2VudGVyIGhhdmUgdGhlIHNhbWUgem9vbSBsZXZlbC5cbiAgICAgICAgICAgICAgICAgICAgdGlsZVNjYWxlQWRqdXN0bWVudCA9IHJlbGF0aXZlU2NhbGUgPiAwLjg1ID8gMSA6IHJlbGF0aXZlU2NhbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZVNxciA9IGR4ICogZHggKyBkeSAqIGR5ICsgZHpTcXI7XG4gICAgICAgICAgICBjb25zdCBkaXN0VG9TcGxpdCA9ICgxIDw8IG1heFpvb20gLSBpdC56b29tKSAqIHpvb21TcGxpdERpc3RhbmNlICogdGlsZVNjYWxlQWRqdXN0bWVudDtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RUb1NwbGl0U3FyID0gc3F1YXJlKGRpc3RUb1NwbGl0ICogZGlzdFRvU3BsaXRTY2FsZShNYXRoLm1heChkelNxciwgY2FtZXJhSGVpZ2h0U3FyKSwgZGlzdGFuY2VTcXIpKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRpc3RhbmNlU3FyIDwgZGlzdFRvU3BsaXRTcXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyV29ybGRDb3BpZXMpIHtcbiAgICAgICAgICAgIC8vIFJlbmRlciBjb3B5IG9mIHRoZSBnbG9iZSB0aHJpY2Ugb24gYm90aCBzaWRlc1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gTlVNX1dPUkxEX0NPUElFUzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChuZXdSb290VGlsZSgtaSkpO1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobmV3Um9vdFRpbGUoaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3RhY2sucHVzaChuZXdSb290VGlsZSgwKSk7XG5cbiAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBjb25zdCB4ID0gaXQueDtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBpdC55O1xuICAgICAgICAgICAgbGV0IGZ1bGx5VmlzaWJsZSA9IGl0LmZ1bGx5VmlzaWJsZTtcblxuICAgICAgICAgICAgLy8gVmlzaWJpbGl0eSBvZiBhIHRpbGUgaXMgbm90IHJlcXVpcmVkIGlmIGFueSBvZiBpdHMgYW5jZXN0b3IgaXMgZnVsbHkgaW5zaWRlIHRoZSBmcnVzdHVtXG4gICAgICAgICAgICBpZiAoIWZ1bGx5VmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdFJlc3VsdCA9IGl0LmFhYmIuaW50ZXJzZWN0cyhjYW1lcmFGcnVzdHVtKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3RSZXN1bHQgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgZnVsbHlWaXNpYmxlID0gaW50ZXJzZWN0UmVzdWx0ID09PSAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIYXZlIHdlIHJlYWNoZWQgdGhlIHRhcmdldCBkZXB0aCBvciBpcyB0aGUgdGlsZSB0b28gZmFyIGF3YXkgdG8gYmUgYW55IHNwbGl0IGZ1cnRoZXI/XG4gICAgICAgICAgICBpZiAoaXQuem9vbSA9PT0gbWF4Wm9vbSB8fCAhc2hvdWxkU3BsaXQoaXQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZVpvb20gPSBpdC56b29tID09PSBtYXhab29tID8gb3ZlcnNjYWxlZFogOiBpdC56b29tO1xuICAgICAgICAgICAgICAgIGlmICghIW9wdGlvbnMubWluem9vbSAmJiBvcHRpb25zLm1pbnpvb20gPiB0aWxlWm9vbSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3Qgd2l0aGluIHNvdXJjZSB0aWxlIHJhbmdlLlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkeCA9IGNlbnRlclBvaW50WzBdIC0gKCgwLjUgKyB4ICsgKGl0LndyYXAgPDwgaXQuem9vbSkpICogKDEgPDwgKHogLSBpdC56b29tKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR5ID0gY2VudGVyUG9pbnRbMV0gLSAwLjUgLSB5O1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gaXQudGlsZUlEID8gaXQudGlsZUlEIDogbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZVpvb20sIGl0LndyYXAsIGl0Lnpvb20sIHgsIHkpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHt0aWxlSUQ6IGlkLCBkaXN0YW5jZVNxOiBkeCAqIGR4ICsgZHkgKiBkeX0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkWCA9ICh4IDw8IDEpICsgKGkgJSAyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFkgPSAoeSA8PCAxKSArIChpID4+IDEpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYWFiYiA9IGlzTWVyY2F0b3IgPyBpdC5hYWJiLnF1YWRyYW50KGkpIDogdGlsZUFBQkIodGhpcywgbnVtVGlsZXMsIGl0Lnpvb20gKyAxLCBjaGlsZFgsIGNoaWxkWSwgaXQud3JhcCwgaXQubWluWiwgaXQubWF4WiwgdGhpcy5wcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHthYWJiLCB6b29tOiBpdC56b29tICsgMSwgeDogY2hpbGRYLCB5OiBjaGlsZFksIHdyYXA6IGl0LndyYXAsIGZ1bGx5VmlzaWJsZSwgdGlsZUlEOiB1bmRlZmluZWQsIHNob3VsZFNwbGl0OiB1bmRlZmluZWQsIG1pblo6IGl0Lm1pblosIG1heFo6IGl0Lm1heFp9O1xuICAgICAgICAgICAgICAgIGlmICh1c2VFbGV2YXRpb25EYXRhICYmICFpc0dsb2JlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnRpbGVJRCA9IG5ldyBPdmVyc2NhbGVkVGlsZUlEKGl0Lnpvb20gKyAxID09PSBtYXhab29tID8gb3ZlcnNjYWxlZFogOiBpdC56b29tICsgMSwgaXQud3JhcCwgaXQuem9vbSArIDEsIGNoaWxkWCwgY2hpbGRZKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0QUFCQkZyb21FbGV2YXRpb24oY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmZvZ0N1bGxEaXN0U3EpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvZ0N1bGxEaXN0U3EgPSB0aGlzLmZvZ0N1bGxEaXN0U3E7XG4gICAgICAgICAgICBjb25zdCBob3Jpem9uTGluZUZyb21Ub3AgPSB0aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcihlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWluID0gWzAsIDAsIDAsIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heCA9IFtFWFRFTlQsIEVYVEVOVCwgMCwgMV07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmb2dUaWxlTWF0cml4ID0gdGhpcy5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KGVudHJ5LnRpbGVJRC50b1Vud3JhcHBlZCgpKTtcblxuICAgICAgICAgICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChtaW4sIG1pbiwgZm9nVGlsZU1hdHJpeCk7XG4gICAgICAgICAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KG1heCwgbWF4LCBmb2dUaWxlTWF0cml4KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNxRGlzdCA9IGdldEFBQkJQb2ludFNxdWFyZURpc3QobWluLCBtYXgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNxRGlzdCA9PT0gMCkgeyByZXR1cm4gdHJ1ZTsgfVxuXG4gICAgICAgICAgICAgICAgbGV0IG92ZXJIb3Jpem9uTGluZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gVGVycmFpbiBsb2FkcyBhdCBvbmUgem9vbSBsZXZlbCBsb3dlciB0aGFuIHRoZSByYXN0ZXIgZGF0YSxcbiAgICAgICAgICAgICAgICAvLyBzbyB0aGUgZm9sbG93aW5nIGNoZWNrcyB3aGV0aGVyIHRoZSB0ZXJyYWluIHNpdHMgYWJvdmUgdGhlIGhvcml6b24gYW5kIGVuc3VyZXMgdGhhdFxuICAgICAgICAgICAgICAgIC8vIHdoZW4gbW91bnRhaW5zIHN0aWNrIG91dCBhYm92ZSB0aGUgZm9nIChkdWUgdG8gaG9yaXpvbi1ibGVuZCksXG4gICAgICAgICAgICAgICAgLy8gd2UgaGF2ZW7igJl0IGFjY2lkZW50YWxseSBjdWxsZWQgc29tZSBvZiB0aGUgcmFzdGVyIHRpbGVzIHdlIG5lZWQgdG8gZHJhdyBvbiB0aGVtLlxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbuKAmXQgZG8gdGhpcywgdGhlIHRlcnJhaW4gaXMgZGVmYXVsdCBibGFjayBjb2xvciBhbmQgbWF5IGZsYXNoIGluIGFuZCBvdXQgYXMgd2UgbW92ZSB0b3dhcmQgaXQuXG5cbiAgICAgICAgICAgICAgICBjb25zdCBlbGV2YXRpb24gPSB0aGlzLl9lbGV2YXRpb247XG5cbiAgICAgICAgICAgICAgICBpZiAoZWxldmF0aW9uICYmIHNxRGlzdCA+IGZvZ0N1bGxEaXN0U3EgJiYgaG9yaXpvbkxpbmVGcm9tVG9wICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2pNYXRyaXggPSB0aGlzLmNhbGN1bGF0ZVByb2pNYXRyaXgoZW50cnkudGlsZUlELnRvVW53cmFwcGVkKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBtaW5tYXg7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5pc1RlcnJhaW5ERU0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbm1heCA9IGVsZXZhdGlvbi5nZXRNaW5NYXhGb3JUaWxlKGVudHJ5LnRpbGVJRCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1pbm1heCkgeyBtaW5tYXggPSB7bWluOiBtaW5SYW5nZSwgbWF4OiBtYXhSYW5nZX07IH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdGhhdCB3ZSB3YW50IGB0aGlzLnJvdGF0aW9uYCBpbnN0ZWFkIG9mIGB0aGlzLmJlYXJpbmdgIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29ybmVyRmFyID0gZnVydGhlc3RUaWxlQ29ybmVyKHRoaXMucm90YXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhclggPSBjb3JuZXJGYXJbMF0gKiBFWFRFTlQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhclkgPSBjb3JuZXJGYXJbMV0gKiBFWFRFTlQ7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29ybGRGYXIgPSBbZmFyWCwgZmFyWSwgbWlubWF4Lm1heF07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gV29ybGQgdG8gTkRDXG4gICAgICAgICAgICAgICAgICAgIHZlYzMudHJhbnNmb3JtTWF0NCh3b3JsZEZhciwgd29ybGRGYXIsIHByb2pNYXRyaXgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5EQyB0byBTY3JlZW5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NyZWVuQ29vcmRZID0gKDEgLSB3b3JsZEZhclsxXSkgKiB0aGlzLmhlaWdodCAqIDAuNTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGN1dHRpbmcgdGlsZXMgY3Jvc3Npbmcgb3ZlciB0aGUgaG9yaXpvbiBsaW5lIHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgcG9wLWluIGFuZCBvdXQgd2l0aGluIHRoZSBmb2cgY3VsbGluZyByYW5nZVxuICAgICAgICAgICAgICAgICAgICBvdmVySG9yaXpvbkxpbmUgPSBzY3JlZW5Db29yZFkgPCBob3Jpem9uTGluZUZyb21Ub3A7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNxRGlzdCA8IGZvZ0N1bGxEaXN0U3EgfHwgb3Zlckhvcml6b25MaW5lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb3ZlciA9IHJlc3VsdC5zb3J0KChhLCBiKSA9PiBhLmRpc3RhbmNlU3EgLSBiLmRpc3RhbmNlU3EpLm1hcChhID0+IGEudGlsZUlEKTtcblxuICAgICAgICAvLyBSZWxheCB0aGUgYXNzZXJ0aW9uIG9uIHRlcnJhaW4sIG9uIGhpZ2ggem9vbSB3ZSB1c2UgZGlzdGFuY2UgdG8gY2VudGVyIG9mIHRpbGVcbiAgICAgICAgLy8gd2hpbGUgY2FtZXJhIG1pZ2h0IGJlIGNsb3NlciB0byBzZWxlY3RlZCBjZW50ZXIgb2YgbWFwLlxuICAgICAgICBhc3NlcnQoIWNvdmVyLmxlbmd0aCB8fCB0aGlzLmVsZXZhdGlvbiB8fCBjb3ZlclswXS5vdmVyc2NhbGVkWiA9PT0gb3ZlcnNjYWxlZFogfHwgIWlzTWVyY2F0b3IpO1xuICAgICAgICByZXR1cm4gY292ZXI7XG4gICAgfVxuXG4gICAgcmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5waXhlbHNUb0dMVW5pdHMgPSBbMiAvIHdpZHRoLCAtMiAvIGhlaWdodF07XG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbigpO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICBnZXQgdW5tb2RpZmllZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX3VubW9kaWZpZWQ7IH1cblxuICAgIHpvb21TY2FsZSh6b29tOiBudW1iZXIpOiBudW1iZXIgeyByZXR1cm4gTWF0aC5wb3coMiwgem9vbSk7IH1cbiAgICBzY2FsZVpvb20oc2NhbGU6IG51bWJlcik6IG51bWJlciB7IHJldHVybiBNYXRoLmxvZyhzY2FsZSkgLyBNYXRoLkxOMjsgfVxuXG4gICAgLy8gVHJhbnNmb3JtIGZyb20gTG5nTGF0IHRvIFBvaW50IGluIHdvcmxkIGNvb3JkaW5hdGVzIFstMTgwLCAxODBdIHggWzkwLCAtOTBdIC0tPiBbMCwgdGhpcy53b3JsZFNpemVdIHggWzAsIHRoaXMud29ybGRTaXplXVxuICAgIHByb2plY3QobG5nbGF0OiBMbmdMYXQpOiBQb2ludCB7XG4gICAgICAgIGNvbnN0IGxhdCA9IGNsYW1wKGxuZ2xhdC5sYXQsIC1NQVhfTUVSQ0FUT1JfTEFUSVRVREUsIE1BWF9NRVJDQVRPUl9MQVRJVFVERSk7XG4gICAgICAgIGNvbnN0IHByb2plY3RlZExuZ0xhdCA9IHRoaXMucHJvamVjdGlvbi5wcm9qZWN0KGxuZ2xhdC5sbmcsIGxhdCk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgICAgICAgICAgcHJvamVjdGVkTG5nTGF0LnggKiB0aGlzLndvcmxkU2l6ZSxcbiAgICAgICAgICAgICAgICBwcm9qZWN0ZWRMbmdMYXQueSAqIHRoaXMud29ybGRTaXplKTtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gZnJvbSBQb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcyB0byBMbmdMYXQgWzAsIHRoaXMud29ybGRTaXplXSB4IFswLCB0aGlzLndvcmxkU2l6ZV0gLS0+IFstMTgwLCAxODBdIHggWzkwLCAtOTBdXG4gICAgdW5wcm9qZWN0KHBvaW50OiBQb2ludCk6IExuZ0xhdCB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KHBvaW50LnggLyB0aGlzLndvcmxkU2l6ZSwgcG9pbnQueSAvIHRoaXMud29ybGRTaXplKTtcbiAgICB9XG5cbiAgICAvLyBQb2ludCBhdCBjZW50ZXIgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gICAgZ2V0IHBvaW50KCk6IFBvaW50IHsgcmV0dXJuIHRoaXMucHJvamVjdCh0aGlzLmNlbnRlcik7IH1cblxuICAgIC8vIFBvaW50IGF0IGNlbnRlciBpbiBNZXJjYXRvciBjb29yZGluYXRlcy5cbiAgICBnZXQgcG9pbnRNZXJjKCk6IFBvaW50IHsgcmV0dXJuIHRoaXMucG9pbnQuX2Rpdih0aGlzLndvcmxkU2l6ZSk7IH1cblxuICAgIC8vIFJhdGlvIG9mIHBpeGVsc1Blck1ldGVyIGluIHRoZSBjdXJyZW50IHByb2plY3Rpb24gdG8gTWVyY2F0b3Incy5cbiAgICBnZXQgcGl4ZWxzUGVyTWV0ZXJSYXRpbygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5waXhlbHNQZXJNZXRlciAvIG1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLCB0aGlzLmNlbnRlci5sYXQpIC8gdGhpcy53b3JsZFNpemU7IH1cblxuICAgIHNldExvY2F0aW9uQXRQb2ludChsbmdsYXQ6IExuZ0xhdCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGxldCB4LCB5O1xuICAgICAgICBjb25zdCBjZW50ZXJQb2ludCA9IHRoaXMuY2VudGVyUG9pbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICAvLyBQaXhlbCBjb29yZGluYXRlcyBhcmUgYXBwbGllZCBkaXJlY3RseSB0byB0aGUgZ2xvYmVcbiAgICAgICAgICAgIGNvbnN0IHdvcmxkU2l6ZSA9IHRoaXMud29ybGRTaXplO1xuICAgICAgICAgICAgeCA9IChwb2ludC54IC0gY2VudGVyUG9pbnQueCkgLyB3b3JsZFNpemU7XG4gICAgICAgICAgICB5ID0gKHBvaW50LnkgLSBjZW50ZXJQb2ludC55KSAvIHdvcmxkU2l6ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSB0aGlzLnBvaW50Q29vcmRpbmF0ZShwb2ludCk7XG4gICAgICAgICAgICBjb25zdCBiID0gdGhpcy5wb2ludENvb3JkaW5hdGUoY2VudGVyUG9pbnQpO1xuICAgICAgICAgICAgeCA9IGEueCAtIGIueDtcbiAgICAgICAgICAgIHkgPSBhLnkgLSBiLnk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsb2MgPSB0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShsbmdsYXQpO1xuICAgICAgICB0aGlzLnNldExvY2F0aW9uKG5ldyBNZXJjYXRvckNvb3JkaW5hdGUobG9jLnggLSB4LCBsb2MueSAtIHkpKTtcbiAgICB9XG5cbiAgICBzZXRMb2NhdGlvbihsb2NhdGlvbjogTWVyY2F0b3JDb29yZGluYXRlKSB7XG4gICAgICAgIHRoaXMuY2VudGVyID0gdGhpcy5jb29yZGluYXRlTG9jYXRpb24obG9jYXRpb24pO1xuICAgICAgICBpZiAodGhpcy5wcm9qZWN0aW9uLndyYXApIHtcbiAgICAgICAgICAgIHRoaXMuY2VudGVyID0gdGhpcy5jZW50ZXIud3JhcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBsb2NhdGlvbiwgcmV0dXJuIHRoZSBzY3JlZW4gcG9pbnQgdGhhdCBjb3JyZXNwb25kcyB0byBpdC4gSW4gM0QgbW9kZVxuICAgICAqICh3aXRoIHRlcnJhaW4pIHRoaXMgYmVoYXZlcyB0aGUgc2FtZSBhcyBpbiAyRCBtb2RlLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNvdXBsZWQgd2l0aCB7QHNlZSBwb2ludExvY2F0aW9ufSBpbiAzRCBtb2RlIHRvIG1vZGVsIG1hcCBtYW5pcHVsYXRpb25cbiAgICAgKiB1c2luZyBmbGF0IHBsYW5lIGFwcHJvYWNoIHRvIGtlZXAgY29uc3RhbnQgZWxldmF0aW9uIGFib3ZlIGdyb3VuZC5cbiAgICAgKiBAcGFyYW0ge0xuZ0xhdH0gbG5nbGF0IGxvY2F0aW9uXG4gICAgICogQHJldHVybnMge1BvaW50fSBzY3JlZW4gcG9pbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGxvY2F0aW9uUG9pbnQobG5nbGF0OiBMbmdMYXQpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb24ubG9jYXRpb25Qb2ludCh0aGlzLCBsbmdsYXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgbG9jYXRpb24sIHJldHVybiB0aGUgc2NyZWVuIHBvaW50IHRoYXQgY29ycmVzcG9uZHMgdG8gaXRcbiAgICAgKiBJbiAzRCBtb2RlICh3aGVuIHRlcnJhaW4gaXMgZW5hYmxlZCkgZWxldmF0aW9uIGlzIHNhbXBsZWQgZm9yIHRoZSBwb2ludCBiZWZvcmVcbiAgICAgKiBwcm9qZWN0aW5nIGl0LiBJbiAyRCBtb2RlLCBiZWhhdmVzIHRoZSBzYW1lIGxvY2F0aW9uUG9pbnQuXG4gICAgICogQHBhcmFtIHtMbmdMYXR9IGxuZ2xhdCBsb2NhdGlvblxuICAgICAqIEByZXR1cm5zIHtQb2ludH0gc2NyZWVuIHBvaW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBsb2NhdGlvblBvaW50M0QobG5nbGF0OiBMbmdMYXQpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb24ubG9jYXRpb25Qb2ludCh0aGlzLCBsbmdsYXQsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcG9pbnQgb24gc2NyZWVuLCByZXR1cm4gaXRzIGxuZ2xhdFxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgc2NyZWVuIHBvaW50XG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gbG5nbGF0IGxvY2F0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwb2ludExvY2F0aW9uKHA6IFBvaW50KTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHRoaXMucG9pbnRDb29yZGluYXRlKHApKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBvaW50IG9uIHNjcmVlbiwgcmV0dXJuIGl0cyBsbmdsYXRcbiAgICAgKiBJbiAzRCBtb2RlIChtYXAgd2l0aCB0ZXJyYWluKSByZXR1cm5zIGxvY2F0aW9uIG9mIHRlcnJhaW4gcmF5Y2FzdCBwb2ludC5cbiAgICAgKiBJbiAyRCBtb2RlLCBiZWhhdmVzIHRoZSBzYW1lIGFzIHtAc2VlIHBvaW50TG9jYXRpb259LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgc2NyZWVuIHBvaW50XG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gbG5nbGF0IGxvY2F0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwb2ludExvY2F0aW9uM0QocDogUG9pbnQpOiBMbmdMYXQge1xuICAgICAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUzRChwKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBnZW9ncmFwaGljYWwgbG5nTGF0LCByZXR1cm4gYW4gdW5yb3VuZGVkXG4gICAgICogY29vcmRpbmF0ZSB0aGF0IHJlcHJlc2VudHMgaXQgYXQgdGhpcyB0cmFuc2Zvcm0ncyB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7TG5nTGF0fSBsbmdMYXRcbiAgICAgKiBAcmV0dXJucyB7Q29vcmRpbmF0ZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGxvY2F0aW9uQ29vcmRpbmF0ZShsbmdMYXQ6IExuZ0xhdCwgYWx0aXR1ZGU/OiBudW1iZXIpOiBNZXJjYXRvckNvb3JkaW5hdGUge1xuICAgICAgICBjb25zdCB6ID0gYWx0aXR1ZGUgP1xuICAgICAgICAgICAgbWVyY2F0b3JaZnJvbUFsdGl0dWRlKGFsdGl0dWRlLCBsbmdMYXQubGF0KSA6XG4gICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHByb2plY3RlZExuZ0xhdCA9IHRoaXMucHJvamVjdGlvbi5wcm9qZWN0KGxuZ0xhdC5sbmcsIGxuZ0xhdC5sYXQpO1xuICAgICAgICByZXR1cm4gbmV3IE1lcmNhdG9yQ29vcmRpbmF0ZShcbiAgICAgICAgICAgIHByb2plY3RlZExuZ0xhdC54LFxuICAgICAgICAgICAgcHJvamVjdGVkTG5nTGF0LnksXG4gICAgICAgICAgICB6KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIENvb3JkaW5hdGUsIHJldHVybiBpdHMgZ2VvZ3JhcGhpY2FsIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRcbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0fSBsbmdMYXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvb3JkaW5hdGVMb2NhdGlvbihjb29yZDogTWVyY2F0b3JDb29yZGluYXRlKTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3QoY29vcmQueCwgY29vcmQueSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYSByYXkgZnJvbSBhIHBvaW50IG9uIHNjcmVlbiBhbmQgcmV0dXJucyB0aGUgUmF5LFxuICAgICAqIGFuZCB0aGUgZXh0ZW50IGFsb25nIGl0LCBhdCB3aGljaCBpdCBpbnRlcnNlY3RzIHRoZSBtYXAgcGxhbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIFZpZXdwb3J0IHBpeGVsIGNvLW9yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBPcHRpb25hbCBhbHRpdHVkZSBvZiB0aGUgbWFwIHBsYW5lLCBkZWZhdWx0aW5nIHRvIGVsZXZhdGlvbiBhdCBjZW50ZXIuXG4gICAgICogQHJldHVybnMge3sgcDA6IFZlYzQsIHAxOiBWZWM0LCB0OiBudW1iZXIgfX0gcDAscDEgYXJlIHR3byBwb2ludHMgb24gdGhlIHJheS5cbiAgICAgKiB0IGlzIHRoZSBmcmFjdGlvbmFsIGV4dGVudCBhbG9uZyB0aGUgcmF5IGF0IHdoaWNoIHRoZSByYXkgaW50ZXJzZWN0cyB0aGUgbWFwIHBsYW5lLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcG9pbnRSYXlJbnRlcnNlY3Rpb24ocDogUG9pbnQsIHo6ID9udW1iZXIpOiBSYXlJbnRlcnNlY3Rpb25SZXN1bHQge1xuICAgICAgICBjb25zdCB0YXJnZXRaID0gKHogIT09IHVuZGVmaW5lZCAmJiB6ICE9PSBudWxsKSA/IHogOiB0aGlzLl9jZW50ZXJBbHRpdHVkZTtcbiAgICAgICAgLy8gU2luY2Ugd2UgZG9uJ3Qga25vdyB0aGUgY29ycmVjdCBwcm9qZWN0ZWQgeiB2YWx1ZSBmb3IgdGhlIHBvaW50LFxuICAgICAgICAvLyB1bnByb2plY3QgdHdvIHBvaW50cyB0byBnZXQgYSBsaW5lIGFuZCB0aGVuIGZpbmQgdGhlIHBvaW50IG9uIHRoYXRcbiAgICAgICAgLy8gbGluZSB3aXRoIHo9MC5cblxuICAgICAgICBjb25zdCBwMCA9IFtwLngsIHAueSwgMCwgMV07XG4gICAgICAgIGNvbnN0IHAxID0gW3AueCwgcC55LCAxLCAxXTtcblxuICAgICAgICB2ZWM0LnRyYW5zZm9ybU1hdDQocDAsIHAwLCB0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSk7XG4gICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChwMSwgcDEsIHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKTtcblxuICAgICAgICBjb25zdCB3MCA9IHAwWzNdO1xuICAgICAgICBjb25zdCB3MSA9IHAxWzNdO1xuICAgICAgICB2ZWM0LnNjYWxlKHAwLCBwMCwgMSAvIHcwKTtcbiAgICAgICAgdmVjNC5zY2FsZShwMSwgcDEsIDEgLyB3MSk7XG5cbiAgICAgICAgY29uc3QgejAgPSBwMFsyXTtcbiAgICAgICAgY29uc3QgejEgPSBwMVsyXTtcblxuICAgICAgICBjb25zdCB0ID0gejAgPT09IHoxID8gMCA6ICh0YXJnZXRaIC0gejApIC8gKHoxIC0gejApO1xuXG4gICAgICAgIHJldHVybiB7cDAsIHAxLCB0fTtcbiAgICB9XG5cbiAgICBzY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkocDogUG9pbnQpOiBSYXkge1xuICAgICAgICBjb25zdCBwMCA9IFtwLngsIHAueSwgMCwgMV07XG4gICAgICAgIGNvbnN0IHAxID0gW3AueCwgcC55LCAxLCAxXTtcblxuICAgICAgICB2ZWM0LnRyYW5zZm9ybU1hdDQocDAsIHAwLCB0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSk7XG4gICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChwMSwgcDEsIHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKTtcblxuICAgICAgICB2ZWM0LnNjYWxlKHAwLCBwMCwgMSAvIHAwWzNdKTtcbiAgICAgICAgdmVjNC5zY2FsZShwMSwgcDEsIDEgLyBwMVszXSk7XG5cbiAgICAgICAgLy8gQ29udmVydCBhbHRpdHVkZSBmcm9tIG1ldGVycyB0byBwaXhlbHMuXG4gICAgICAgIHAwWzJdID0gbWVyY2F0b3JaZnJvbUFsdGl0dWRlKHAwWzJdLCB0aGlzLl9jZW50ZXIubGF0KSAqIHRoaXMud29ybGRTaXplO1xuICAgICAgICBwMVsyXSA9IG1lcmNhdG9yWmZyb21BbHRpdHVkZShwMVsyXSwgdGhpcy5fY2VudGVyLmxhdCkgKiB0aGlzLndvcmxkU2l6ZTtcblxuICAgICAgICB2ZWM0LnNjYWxlKHAwLCBwMCwgMSAvIHRoaXMud29ybGRTaXplKTtcbiAgICAgICAgdmVjNC5zY2FsZShwMSwgcDEsIDEgLyB0aGlzLndvcmxkU2l6ZSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBSYXkoW3AwWzBdLCBwMFsxXSwgcDBbMl1dLCB2ZWMzLm5vcm1hbGl6ZShbXSwgdmVjMy5zdWIoW10sIHAxLCBwMCkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgSGVscGVyIG1ldGhvZCB0byBjb252ZXJ0IHRoZSByYXkgaW50ZXJzZWN0aW9uIHdpdGggdGhlIG1hcCBwbGFuZSB0byBNZXJjYXRvckNvb3JkaW5hdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JheUludGVyc2VjdGlvblJlc3VsdH0gcmF5SW50ZXJzZWN0aW9uXG4gICAgICogQHJldHVybnMge01lcmNhdG9yQ29vcmRpbmF0ZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUocmF5SW50ZXJzZWN0aW9uOiBSYXlJbnRlcnNlY3Rpb25SZXN1bHQpOiBNZXJjYXRvckNvb3JkaW5hdGUge1xuICAgICAgICBjb25zdCB7cDAsIHAxLCB0fSA9IHJheUludGVyc2VjdGlvbjtcblxuICAgICAgICBjb25zdCB6MCA9IG1lcmNhdG9yWmZyb21BbHRpdHVkZShwMFsyXSwgdGhpcy5fY2VudGVyLmxhdCk7XG4gICAgICAgIGNvbnN0IHoxID0gbWVyY2F0b3JaZnJvbUFsdGl0dWRlKHAxWzJdLCB0aGlzLl9jZW50ZXIubGF0KTtcblxuICAgICAgICByZXR1cm4gbmV3IE1lcmNhdG9yQ29vcmRpbmF0ZShcbiAgICAgICAgICAgIGludGVycG9sYXRlKHAwWzBdLCBwMVswXSwgdCkgLyB0aGlzLndvcmxkU2l6ZSxcbiAgICAgICAgICAgIGludGVycG9sYXRlKHAwWzFdLCBwMVsxXSwgdCkgLyB0aGlzLndvcmxkU2l6ZSxcbiAgICAgICAgICAgIGludGVycG9sYXRlKHowLCB6MSwgdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcG9pbnQgb24gc2NyZWVuLCByZXR1cm5zIE1lcmNhdG9yQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIFRvcCBsZWZ0IG9yaWdpbiBzY3JlZW4gcG9pbnQsIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBPcHRpb25hbCBhbHRpdHVkZSBvZiB0aGUgbWFwIHBsYW5lLCBkZWZhdWx0aW5nIHRvIGVsZXZhdGlvbiBhdCBjZW50ZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwb2ludENvb3JkaW5hdGUocDogUG9pbnQsIHo/OiBudW1iZXIgPSB0aGlzLl9jZW50ZXJBbHRpdHVkZSk6IE1lcmNhdG9yQ29vcmRpbmF0ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlKHRoaXMsIHAueCwgcC55LCB6KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBvaW50IG9uIHNjcmVlbiwgcmV0dXJucyBNZXJjYXRvckNvb3JkaW5hdGUuXG4gICAgICogSW4gM0QgbW9kZSwgcmF5Y2FzdCB0byB0ZXJyYWluLiBJbiAyRCBtb2RlLCBiZWhhdmVzIHRoZSBzYW1lIGFzIHtAc2VlIHBvaW50Q29vcmRpbmF0ZX0uXG4gICAgICogRm9yIHAgYWJvdmUgdGVycmFpbiwgZG9uJ3QgcmV0dXJuIHBvaW50IGJlaGluZCBjYW1lcmEgYnV0IGNsYW1wIHAueSBhdCB0aGUgdG9wIG9mIHRlcnJhaW4uXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0b3AgbGVmdCBvcmlnaW4gc2NyZWVuIHBvaW50LCBpbiBwaXhlbHMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwb2ludENvb3JkaW5hdGUzRChwOiBQb2ludCk6IE1lcmNhdG9yQ29vcmRpbmF0ZSB7XG4gICAgICAgIGlmICghdGhpcy5lbGV2YXRpb24pIHJldHVybiB0aGlzLnBvaW50Q29vcmRpbmF0ZShwKTtcbiAgICAgICAgbGV0IHJheWNhc3Q6ID9WZWMzID0gdGhpcy5wcm9qZWN0aW9uLnBvaW50Q29vcmRpbmF0ZTNEKHRoaXMsIHAueCwgcC55KTtcbiAgICAgICAgaWYgKHJheWNhc3QpIHJldHVybiBuZXcgTWVyY2F0b3JDb29yZGluYXRlKHJheWNhc3RbMF0sIHJheWNhc3RbMV0sIHJheWNhc3RbMl0pO1xuICAgICAgICBsZXQgc3RhcnQgPSAwLCBlbmQgPSB0aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO1xuICAgICAgICBpZiAocC55ID4gZW5kKSByZXR1cm4gdGhpcy5wb2ludENvb3JkaW5hdGUocCk7IC8vIGhvbGVzIGJldHdlZW4gdGlsZXMgYmVsb3cgaG9yaXpvbiBsaW5lIG9yIGJlbG93IGJvdHRvbS5cbiAgICAgICAgY29uc3Qgc2FtcGxlcyA9IDEwO1xuICAgICAgICBjb25zdCB0aHJlc2hvbGQgPSAwLjAyICogZW5kO1xuICAgICAgICBjb25zdCByID0gcC5jbG9uZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcyAmJiBlbmQgLSBzdGFydCA+IHRocmVzaG9sZDsgaSsrKSB7XG4gICAgICAgICAgICByLnkgPSBpbnRlcnBvbGF0ZShzdGFydCwgZW5kLCAwLjY2KTsgLy8gbm9uIHVuaWZvcm0gYmluYXJ5IHNlYXJjaCBmYXZvcmluZyBwb2ludHMgY2xvc2VyIHRvIGhvcml6b24uXG4gICAgICAgICAgICBjb25zdCByQ2FzdCA9IHRoaXMucHJvamVjdGlvbi5wb2ludENvb3JkaW5hdGUzRCh0aGlzLCByLngsIHIueSk7XG4gICAgICAgICAgICBpZiAockNhc3QpIHtcbiAgICAgICAgICAgICAgICBlbmQgPSByLnk7XG4gICAgICAgICAgICAgICAgcmF5Y2FzdCA9IHJDYXN0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IHIueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmF5Y2FzdCA/IG5ldyBNZXJjYXRvckNvb3JkaW5hdGUocmF5Y2FzdFswXSwgcmF5Y2FzdFsxXSwgcmF5Y2FzdFsyXSkgOiB0aGlzLnBvaW50Q29vcmRpbmF0ZShwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYSBzY3JlZW5zcGFjZSBQb2ludCBwLCBpcyBhYm92ZSB0aGUgaG9yaXpvbi5cbiAgICAgKiBJbiBub24tZ2xvYmUgcHJvamVjdGlvbnMsIHRoaXMgYXBwcm94aW1hdGVzIHRoZSBtYXAgYXMgYW4gaW5maW5pdGUgcGxhbmUgYW5kIGRvZXMgbm90IGFjY291bnQgZm9yIHowLXozXG4gICAgICogd2hlcmVpbiB0aGUgbWFwIGlzIHNtYWxsIHF1YWQgd2l0aCB3aGl0ZXNwYWNlIGFib3ZlIHRoZSBub3J0aCBwb2xlIGFuZCBiZWxvdyB0aGUgc291dGggcG9sZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGlzUG9pbnRBYm92ZUhvcml6b24ocDogUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbi5pc1BvaW50QWJvdmVIb3Jpem9uKHRoaXMsIHApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgY29vcmRpbmF0ZSwgcmV0dXJuIHRoZSBzY3JlZW4gcG9pbnQgdGhhdCBjb3JyZXNwb25kcyB0byBpdFxuICAgICAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNhbXBsZVRlcnJhaW5JbjNEIGluIDNEIG1vZGUgKHRlcnJhaW4gZW5hYmxlZCksIHNhbXBsZSBlbGV2YXRpb24gZm9yIHRoZSBwb2ludC5cbiAgICAgKiBJZiBmYWxzZSwgZG8gdGhlIHNhbWUgYXMgaW4gMkQgbW9kZSwgYXNzdW1lIGZsYXQgY2FtZXJhIGVsZXZhdGlvbiBwbGFuZSBmb3IgYWxsIHBvaW50cy5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9IHNjcmVlbiBwb2ludFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Nvb3JkaW5hdGVQb2ludChjb29yZDogTWVyY2F0b3JDb29yZGluYXRlLCBzYW1wbGVUZXJyYWluSW4zRDogYm9vbGVhbik6IFBvaW50IHtcbiAgICAgICAgY29uc3QgZWxldmF0aW9uID0gc2FtcGxlVGVycmFpbkluM0QgJiYgdGhpcy5lbGV2YXRpb24gPyB0aGlzLmVsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKGNvb3JkLCB0aGlzLl9jZW50ZXJBbHRpdHVkZSkgOiB0aGlzLl9jZW50ZXJBbHRpdHVkZTtcbiAgICAgICAgY29uc3QgcCA9IFtjb29yZC54ICogdGhpcy53b3JsZFNpemUsIGNvb3JkLnkgKiB0aGlzLndvcmxkU2l6ZSwgZWxldmF0aW9uICsgY29vcmQudG9BbHRpdHVkZSgpLCAxXTtcbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KHAsIHAsIHRoaXMucGl4ZWxNYXRyaXgpO1xuICAgICAgICByZXR1cm4gcFszXSA+IDAgP1xuICAgICAgICAgICAgbmV3IFBvaW50KHBbMF0gLyBwWzNdLCBwWzFdIC8gcFszXSkgOlxuICAgICAgICAgICAgbmV3IFBvaW50KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpO1xuICAgIH1cblxuICAgIC8vIEluIEdsb2JlLCBjb25pYyBhbmQgdGhlbWF0aWMgcHJvamVjdGlvbnMsIExuZy9MYXQgZXh0cmVtZXMgYXJlIG5vdCBhbHdheXMgYXQgY29ybmVycy5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGFkZGl0aW9uYWxseSBjaGVja3MgZWFjaCBzY3JlZW4gZWRnZSBtaWRwb2ludC5cbiAgICAvLyBXaGlsZSBtaWRwb2ludHMgY29udGludWUgdG8gYmUgZXh0cmVtZXMsIGl0IHJlY3Vyc2l2ZWx5IGNoZWNrcyBtaWRwb2ludHMgb2Ygc21hbGxlciBzZWdtZW50cy5cbiAgICBfZ2V0Qm91bmRzTm9uUmVjdGFuZ3VsYXIoKTogTG5nTGF0Qm91bmRzIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLnByb2plY3Rpb24uc3VwcG9ydHNXb3JsZENvcGllcywgXCJSZWN0YW5ndWxhciBwcm9qZWN0aW9ucyBzaG91bGQgdXNlIHRoZSBzaW1wbGVyIF9nZXRCb3VuZHNSZWN0YW5ndWxhclwiKTtcbiAgICAgICAgY29uc3Qge3RvcCwgbGVmdH0gPSB0aGlzLl9lZGdlSW5zZXRzO1xuICAgICAgICBjb25zdCBib3R0b20gPSB0aGlzLmhlaWdodCAtIHRoaXMuX2VkZ2VJbnNldHMuYm90dG9tO1xuICAgICAgICBjb25zdCByaWdodCA9IHRoaXMud2lkdGggLSB0aGlzLl9lZGdlSW5zZXRzLnJpZ2h0O1xuXG4gICAgICAgIGNvbnN0IHRsID0gdGhpcy5wb2ludExvY2F0aW9uM0QobmV3IFBvaW50KGxlZnQsIHRvcCkpO1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMucG9pbnRMb2NhdGlvbjNEKG5ldyBQb2ludChyaWdodCwgdG9wKSk7XG4gICAgICAgIGNvbnN0IGJyID0gdGhpcy5wb2ludExvY2F0aW9uM0QobmV3IFBvaW50KHJpZ2h0LCBib3R0b20pKTtcbiAgICAgICAgY29uc3QgYmwgPSB0aGlzLnBvaW50TG9jYXRpb24zRChuZXcgUG9pbnQobGVmdCwgYm90dG9tKSk7XG5cbiAgICAgICAgbGV0IHdlc3QgPSBNYXRoLm1pbih0bC5sbmcsIHRyLmxuZywgYnIubG5nLCBibC5sbmcpO1xuICAgICAgICBsZXQgZWFzdCA9IE1hdGgubWF4KHRsLmxuZywgdHIubG5nLCBici5sbmcsIGJsLmxuZyk7XG4gICAgICAgIGxldCBzb3V0aCA9IE1hdGgubWluKHRsLmxhdCwgdHIubGF0LCBici5sYXQsIGJsLmxhdCk7XG4gICAgICAgIGxldCBub3J0aCA9IE1hdGgubWF4KHRsLmxhdCwgdHIubGF0LCBici5sYXQsIGJsLmxhdCk7XG5cbiAgICAgICAgLy8gd2UgcGljayBhbiBlcnJvciB0aHJlc2hvbGQgZm9yIGNhbGN1bGF0aW5nIHRoZSBiYm94IHRoYXQgYmFsYW5jZXMgYmV0d2VlbiBwZXJmb3JtYW5jZSBhbmQgcHJlY2lzaW9uXG4gICAgICAgIC8vIFJvdWdobHkgZW11bGF0aW5nIGJlaGF2aW9yIG9mIG1heEVyciBpbiB0aWxlX3RyYW5zZm9ybS5qc1xuICAgICAgICBjb25zdCBzID0gTWF0aC5wb3coMiwgLXRoaXMuem9vbSk7XG4gICAgICAgIGNvbnN0IG1heEVyciA9IHMgLyAxNiAqIDI3MDsgLy8gMjcwID0gYXZnKDE4MCwgMzYwKSBpLmUuIHJvdWdoIGNvbnZlcnNpb24gYmV0d2VlbiBNZXJjYXRvciBjb29yZHMgYW5kIExhdC9MbmdcblxuICAgICAgICAvLyBXZSBjaGVjayBhIG1pbmltdW0gb2YgMTUgcG9pbnRzIG9uIGVhY2ggc2lkZSBmb3IgQWxiZXJzLCBldGMuXG4gICAgICAgIC8vIFdlIGNoZWNrIGEgbWlubXVtIG9mIG9uZSBtaWRwb2ludCBvbiBlYWNoIHNpZGUgcGVyIGdsb2JlLlxuICAgICAgICAvLyBHbG9iZSBjaGVja3MgcmVxdWlyZSByYXl0cmFjaW5nIGFuZCBhcmUgc2xvd2VyXG4gICAgICAgIC8vIGFuZCBtaXNpbmcgYXJlYSBuZWFyIHRoZSBob3Jpem9uIGlzIGhpZ2hseSBjb21wcmVzc2VkIHNvIG5vdCBub3RpY2VhYmxlXG4gICAgICAgIGNvbnN0IG1pblJlY3Vyc2lvbnMgPSB0aGlzLnByb2plY3Rpb24ubmFtZSA9PT0gXCJnbG9iZVwiID8gMSA6IDQ7XG5cbiAgICAgICAgY29uc3QgcHJvY2Vzc1NlZ21lbnQgPSAoYXgsIGF5LCBieCwgYnksIGRlcHRoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBteCA9IChheCArIGJ4KSAvIDI7XG4gICAgICAgICAgICBjb25zdCBteSA9IChheSArIGJ5KSAvIDI7XG5cbiAgICAgICAgICAgIGNvbnN0IHAgPSBuZXcgUG9pbnQobXgsIG15KTtcbiAgICAgICAgICAgIGNvbnN0IHtsbmcsIGxhdH0gPSB0aGlzLnBvaW50TG9jYXRpb24zRChwKTtcblxuICAgICAgICAgICAgLy8gVGhlIGVycm9yIG1ldHJpYyBpcyB0aGUgbWF4aW11bSBjaGFuZ2UgdG8gYm91bmRzIGZyb20gYSBnaXZlbiBwb2ludFxuICAgICAgICAgICAgY29uc3QgZXJyID0gTWF0aC5tYXgoMCwgd2VzdCAtIGxuZywgc291dGggLSBsYXQsIGxuZyAtIGVhc3QsIGxhdCAtIG5vcnRoKTtcblxuICAgICAgICAgICAgd2VzdCA9IE1hdGgubWluKHdlc3QsIGxuZyk7XG4gICAgICAgICAgICBlYXN0ID0gTWF0aC5tYXgoZWFzdCwgbG5nKTtcbiAgICAgICAgICAgIHNvdXRoID0gTWF0aC5taW4oc291dGgsIGxhdCk7XG4gICAgICAgICAgICBub3J0aCA9IE1hdGgubWF4KG5vcnRoLCBsYXQpO1xuXG4gICAgICAgICAgICBpZiAoZGVwdGggPCBtaW5SZWN1cnNpb25zIHx8IGVyciA+IG1heEVycikge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NTZWdtZW50KGF4LCBheSwgbXgsIG15LCBkZXB0aCArIDEpO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NTZWdtZW50KG14LCBteSwgYngsIGJ5LCBkZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHByb2Nlc3NTZWdtZW50KGxlZnQsIHRvcCwgcmlnaHQsIHRvcCwgMSk7XG4gICAgICAgIHByb2Nlc3NTZWdtZW50KHJpZ2h0LCB0b3AsIHJpZ2h0LCBib3R0b20sIDEpO1xuICAgICAgICBwcm9jZXNzU2VnbWVudChyaWdodCwgYm90dG9tLCBsZWZ0LCBib3R0b20sIDEpO1xuICAgICAgICBwcm9jZXNzU2VnbWVudChsZWZ0LCBib3R0b20sIGxlZnQsIHRvcCwgMSk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5uYW1lID09PSBcImdsb2JlXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IFtub3J0aFBvbGVJc1Zpc2libGUsIHNvdXRoUG9sZUlzVmlzaWJsZV0gPSBwb2xlc0luVmlld3BvcnQodGhpcyk7XG4gICAgICAgICAgICBpZiAobm9ydGhQb2xlSXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgbm9ydGggPSA5MDtcbiAgICAgICAgICAgICAgICBlYXN0ID0gMTgwO1xuICAgICAgICAgICAgICAgIHdlc3QgPSAtMTgwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3V0aFBvbGVJc1Zpc2libGUpIHtcbiAgICAgICAgICAgICAgICBzb3V0aCA9IC05MDtcbiAgICAgICAgICAgICAgICBlYXN0ID0gMTgwO1xuICAgICAgICAgICAgICAgIHdlc3QgPSAtMTgwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBMbmdMYXRCb3VuZHMobmV3IExuZ0xhdCh3ZXN0LCBzb3V0aCksIG5ldyBMbmdMYXQoZWFzdCwgbm9ydGgpKTtcbiAgICB9XG5cbiAgICBfZ2V0Qm91bmRzUmVjdGFuZ3VsYXIobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogTG5nTGF0Qm91bmRzIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMucHJvamVjdGlvbi5zdXBwb3J0c1dvcmxkQ29waWVzLCBcIl9nZXRCb3VuZHNSZWN0YW5ndWxhciBvbmx5IGNoZWNrcyBjb3JuZXJzIGFuZCB3b3JrcyBvbmx5IG9uIHJlY3Rhbmd1bGFyIHByb2plY3Rpb25zLiBPdGhlciBwcm9qZWN0aW9ucyBzaG91bGQgdXNlIF9nZXRCb3VuZHNOb25SZWN0YW5ndWxhclwiKTtcblxuICAgICAgICBjb25zdCB7dG9wLCBsZWZ0fSA9IHRoaXMuX2VkZ2VJbnNldHM7XG4gICAgICAgIGNvbnN0IGJvdHRvbSA9IHRoaXMuaGVpZ2h0IC0gdGhpcy5fZWRnZUluc2V0cy5ib3R0b207XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy53aWR0aCAtIHRoaXMuX2VkZ2VJbnNldHMucmlnaHQ7XG5cbiAgICAgICAgY29uc3QgdG9wTGVmdCA9IG5ldyBQb2ludChsZWZ0LCB0b3ApO1xuICAgICAgICBjb25zdCB0b3BSaWdodCA9IG5ldyBQb2ludChyaWdodCwgdG9wKTtcbiAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSBuZXcgUG9pbnQocmlnaHQsIGJvdHRvbSk7XG4gICAgICAgIGNvbnN0IGJvdHRvbUxlZnQgPSBuZXcgUG9pbnQobGVmdCwgYm90dG9tKTtcblxuICAgICAgICAvLyBDb25zaWRlciBmYXIgcG9pbnRzIGF0IHRoZSBtYXhpbXVtIHBvc3NpYmxlIGVsZXZhdGlvblxuICAgICAgICAvLyBhbmQgbmVhciBwb2ludHMgYXQgdGhlIG1pbmltdW0gdG8gZW5zdXJlIGZ1bGwgY292ZXJhZ2UuXG4gICAgICAgIGxldCB0bCA9IHRoaXMucG9pbnRDb29yZGluYXRlKHRvcExlZnQsIG1pbik7XG4gICAgICAgIGxldCB0ciA9IHRoaXMucG9pbnRDb29yZGluYXRlKHRvcFJpZ2h0LCBtaW4pO1xuICAgICAgICBjb25zdCBiciA9IHRoaXMucG9pbnRDb29yZGluYXRlKGJvdHRvbVJpZ2h0LCBtYXgpO1xuICAgICAgICBjb25zdCBibCA9IHRoaXMucG9pbnRDb29yZGluYXRlKGJvdHRvbUxlZnQsIG1heCk7XG5cbiAgICAgICAgLy8gSWYgbWFwIHBpdGNoIHBsYWNlcyB0b3AgY29ybmVycyBvZmYgbWFwIGVkZ2UgKGxhdGl0dWRlID4gOTAgb3IgPCAtOTApLFxuICAgICAgICAvLyBwbGFjZSB0aGVtIGF0IHRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiB0aGUgbGVmdC9yaWdodCBzY3JlZW4gZWRnZSBhbmQgbWFwIGVkZ2UuXG4gICAgICAgIGNvbnN0IHNsb3BlID0gKHAxLCBwMikgPT4gKHAyLnkgLSBwMS55KSAvIChwMi54IC0gcDEueCk7XG5cbiAgICAgICAgaWYgKHRsLnkgPiAxICYmIHRyLnkgPj0gMCkgdGwgPSBuZXcgTWVyY2F0b3JDb29yZGluYXRlKCgxIC0gYmwueSkgLyBzbG9wZShibCwgdGwpICsgYmwueCwgMSk7XG4gICAgICAgIGVsc2UgaWYgKHRsLnkgPCAwICYmIHRyLnkgPD0gMSkgdGwgPSBuZXcgTWVyY2F0b3JDb29yZGluYXRlKC1ibC55IC8gc2xvcGUoYmwsIHRsKSArIGJsLngsIDApO1xuXG4gICAgICAgIGlmICh0ci55ID4gMSAmJiB0bC55ID49IDApIHRyID0gbmV3IE1lcmNhdG9yQ29vcmRpbmF0ZSgoMSAtIGJyLnkpIC8gc2xvcGUoYnIsIHRyKSArIGJyLngsIDEpO1xuICAgICAgICBlbHNlIGlmICh0ci55IDwgMCAmJiB0bC55IDw9IDEpIHRyID0gbmV3IE1lcmNhdG9yQ29vcmRpbmF0ZSgtYnIueSAvIHNsb3BlKGJyLCB0cikgKyBici54LCAwKTtcblxuICAgICAgICByZXR1cm4gbmV3IExuZ0xhdEJvdW5kcygpXG4gICAgICAgICAgICAuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHRsKSlcbiAgICAgICAgICAgIC5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24odHIpKVxuICAgICAgICAgICAgLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihibCkpXG4gICAgICAgICAgICAuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGJyKSk7XG4gICAgfVxuXG4gICAgX2dldEJvdW5kc1JlY3Rhbmd1bGFyVGVycmFpbigpOiBMbmdMYXRCb3VuZHMge1xuICAgICAgICBhc3NlcnQodGhpcy5lbGV2YXRpb24pO1xuICAgICAgICBjb25zdCBlbGV2YXRpb24gPSAoKHRoaXMuZWxldmF0aW9uOiBhbnkpOiBFbGV2YXRpb24pO1xuICAgICAgICBpZiAoIWVsZXZhdGlvbi52aXNpYmxlRGVtVGlsZXMubGVuZ3RoIHx8IGVsZXZhdGlvbi5pc1VzaW5nTW9ja1NvdXJjZSgpKSB7IHJldHVybiB0aGlzLl9nZXRCb3VuZHNSZWN0YW5ndWxhcigwLCAwKTsgfVxuICAgICAgICBjb25zdCBtaW5tYXggPSBlbGV2YXRpb24udmlzaWJsZURlbVRpbGVzLnJlZHVjZSgoYWNjLCB0KSA9PiB7XG4gICAgICAgICAgICBpZiAodC5kZW0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmVlID0gdC5kZW0udHJlZTtcbiAgICAgICAgICAgICAgICBhY2MubWluID0gTWF0aC5taW4oYWNjLm1pbiwgdHJlZS5taW5pbXVtc1swXSk7XG4gICAgICAgICAgICAgICAgYWNjLm1heCA9IE1hdGgubWF4KGFjYy5tYXgsIHRyZWUubWF4aW11bXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge21pbjogTnVtYmVyLk1BWF9WQUxVRSwgbWF4OiAwfSk7XG4gICAgICAgIGFzc2VydChtaW5tYXgubWluICE9PSBOdW1iZXIuTUFYX1ZBTFVFKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJvdW5kc1JlY3Rhbmd1bGFyKG1pbm1heC5taW4gKiBlbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCksIG1pbm1heC5tYXggKiBlbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBib3VuZHMuIFdoZW4gdGhlIGJlYXJpbmcgb3IgcGl0Y2ggaXMgbm9uLXplcm8sIHRoZSB2aXNpYmxlIHJlZ2lvbiBpcyBub3RcbiAgICAgKiBhbiBheGlzLWFsaWduZWQgcmVjdGFuZ2xlLCBhbmQgdGhlIHJlc3VsdCBpcyB0aGUgc21hbGxlc3QgYm91bmRzIHRoYXQgZW5jb21wYXNzZXMgdGhlIHZpc2libGUgcmVnaW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30gUmV0dXJucyBhIHtAbGluayBMbmdMYXRCb3VuZHN9IG9iamVjdCBkZXNjcmliaW5nIHRoZSBtYXAncyBnZW9ncmFwaGljYWwgYm91bmRzLlxuICAgICAqL1xuICAgIGdldEJvdW5kcygpOiBMbmdMYXRCb3VuZHMge1xuICAgICAgICBpZiAodGhpcy5wcm9qZWN0aW9uLm5hbWUgPT09ICdtZXJjYXRvcicgfHwgdGhpcy5wcm9qZWN0aW9uLm5hbWUgPT09ICdlcXVpcmVjdGFuZ3VsYXInKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGVycmFpbkVuYWJsZWQoKSkgcmV0dXJuIHRoaXMuX2dldEJvdW5kc1JlY3Rhbmd1bGFyVGVycmFpbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJvdW5kc1JlY3Rhbmd1bGFyKDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCb3VuZHNOb25SZWN0YW5ndWxhcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgcG9zaXRpb24gb2YgaG9yaXpvbiBsaW5lIGZyb20gdGhlIHRvcCBvZiB0aGUgbWFwIGluIHBpeGVscy5cbiAgICAgKiBJZiBob3Jpem9uIGlzIG5vdCB2aXNpYmxlLCByZXR1cm5zIDAgYnkgZGVmYXVsdCBvciBhIG5lZ2F0aXZlIHZhbHVlIGlmIGNhbGxlZCB3aXRoIGNsYW1wVG9Ub3AgPSBmYWxzZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGhvcml6b25MaW5lRnJvbVRvcChjbGFtcFRvVG9wOiBib29sZWFuID0gdHJ1ZSk6IG51bWJlciB7XG4gICAgICAgIC8vIGggaXMgaGVpZ2h0IG9mIHNwYWNlIGFib3ZlIG1hcCBjZW50ZXIgdG8gaG9yaXpvbi5cbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0IC8gMiAvIE1hdGgudGFuKHRoaXMuX2ZvdiAvIDIpIC8gTWF0aC50YW4oTWF0aC5tYXgodGhpcy5fcGl0Y2gsIDAuMSkpICsgdGhpcy5jZW50ZXJPZmZzZXQueTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5oZWlnaHQgLyAyIC0gaCAqICgxIC0gdGhpcy5faG9yaXpvblNoaWZ0KTtcbiAgICAgICAgcmV0dXJuIGNsYW1wVG9Ub3AgPyBNYXRoLm1heCgwLCBvZmZzZXQpIDogb2Zmc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1heGltdW0gZ2VvZ3JhcGhpY2FsIGJvdW5kcyB0aGUgbWFwIGlzIGNvbnN0cmFpbmVkIHRvLCBvciBgbnVsbGAgaWYgbm9uZSBzZXQuXG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30ge0BsaW5rIExuZ0xhdEJvdW5kc30uXG4gICAgICovXG4gICAgZ2V0TWF4Qm91bmRzKCk6ID9MbmdMYXRCb3VuZHMge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhCb3VuZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBjb25zdHJhaW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0Qm91bmRzfSBib3VuZHMgQSB7QGxpbmsgTG5nTGF0Qm91bmRzfSBvYmplY3QgZGVzY3JpYmluZyB0aGUgbmV3IGdlb2dyYXBoaWMgYm91bmRhcmllcyBvZiB0aGUgbWFwLlxuICAgICAqL1xuICAgIHNldE1heEJvdW5kcyhib3VuZHM6ID9MbmdMYXRCb3VuZHMpIHtcbiAgICAgICAgdGhpcy5tYXhCb3VuZHMgPSBib3VuZHM7XG5cbiAgICAgICAgdGhpcy5taW5MYXQgPSAtTUFYX01FUkNBVE9SX0xBVElUVURFO1xuICAgICAgICB0aGlzLm1heExhdCA9IE1BWF9NRVJDQVRPUl9MQVRJVFVERTtcbiAgICAgICAgdGhpcy5taW5MbmcgPSAtMTgwO1xuICAgICAgICB0aGlzLm1heExuZyA9IDE4MDtcblxuICAgICAgICBpZiAoYm91bmRzKSB7XG4gICAgICAgICAgICB0aGlzLm1pbkxhdCA9IGJvdW5kcy5nZXRTb3V0aCgpO1xuICAgICAgICAgICAgdGhpcy5tYXhMYXQgPSBib3VuZHMuZ2V0Tm9ydGgoKTtcbiAgICAgICAgICAgIHRoaXMubWluTG5nID0gYm91bmRzLmdldFdlc3QoKTtcbiAgICAgICAgICAgIHRoaXMubWF4TG5nID0gYm91bmRzLmdldEVhc3QoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heExuZyA8IHRoaXMubWluTG5nKSB0aGlzLm1heExuZyArPSAzNjA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndvcmxkTWluWCA9IG1lcmNhdG9yWGZyb21MbmcodGhpcy5taW5MbmcpICogdGhpcy50aWxlU2l6ZTtcbiAgICAgICAgdGhpcy53b3JsZE1heFggPSBtZXJjYXRvclhmcm9tTG5nKHRoaXMubWF4TG5nKSAqIHRoaXMudGlsZVNpemU7XG4gICAgICAgIHRoaXMud29ybGRNaW5ZID0gbWVyY2F0b3JZZnJvbUxhdCh0aGlzLm1heExhdCkgKiB0aGlzLnRpbGVTaXplO1xuICAgICAgICB0aGlzLndvcmxkTWF4WSA9IG1lcmNhdG9yWWZyb21MYXQodGhpcy5taW5MYXQpICogdGhpcy50aWxlU2l6ZTtcblxuICAgICAgICB0aGlzLl9jb25zdHJhaW4oKTtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVQb3NNYXRyaXgodW53cmFwcGVkVGlsZUlEOiBVbndyYXBwZWRUaWxlSUQsIHdvcmxkU2l6ZTogbnVtYmVyKTogRmxvYXQ2NEFycmF5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbi5jcmVhdGVUaWxlTWF0cml4KHRoaXMsIHdvcmxkU2l6ZSwgdW53cmFwcGVkVGlsZUlEKTtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVEaXN0YW5jZVRpbGVEYXRhKHVud3JhcHBlZFRpbGVJRDogVW53cmFwcGVkVGlsZUlEKTogRmVhdHVyZURpc3RhbmNlRGF0YSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlRGF0YUtleSA9IHVud3JhcHBlZFRpbGVJRC5rZXk7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlO1xuICAgICAgICBpZiAoY2FjaGVbZGlzdGFuY2VEYXRhS2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW2Rpc3RhbmNlRGF0YUtleV07XG4gICAgICAgIH1cblxuICAgICAgICAvL0NhbGN1bGF0ZSB0aGUgb2Zmc2V0IG9mIHRoZSB0aWxlXG4gICAgICAgIGNvbnN0IGNhbm9uaWNhbCA9IHVud3JhcHBlZFRpbGVJRC5jYW5vbmljYWw7XG4gICAgICAgIGNvbnN0IHdpbmRvd1NjYWxlRmFjdG9yID0gMSAvIHRoaXMuaGVpZ2h0O1xuICAgICAgICBjb25zdCBjd3MgPSB0aGlzLmNhbWVyYVdvcmxkU2l6ZTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBjd3MgLyB0aGlzLnpvb21TY2FsZShjYW5vbmljYWwueik7XG4gICAgICAgIGNvbnN0IHVud3JhcHBlZFggPSBjYW5vbmljYWwueCArIE1hdGgucG93KDIsIGNhbm9uaWNhbC56KSAqIHVud3JhcHBlZFRpbGVJRC53cmFwO1xuICAgICAgICBjb25zdCB0WCA9IHVud3JhcHBlZFggKiBzY2FsZTtcbiAgICAgICAgY29uc3QgdFkgPSBjYW5vbmljYWwueSAqIHNjYWxlO1xuXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMucG9pbnQ7XG4gICAgICAgIC8vIGNlbnRlciBpcyBpbiB3b3JsZC9waXhlbCBjb29yZGluYXRlLCBlbnN1cmUgaXQncyBpbiB0aGUgc2FtZSBjb29yZGluYXRlIHNwYWNlIGFzIHRYIGFuZCB0WSBjb21wdXRlZCBlYXJsaWVyLlxuICAgICAgICBjZW50ZXIueCAqPSBjd3MgLyB0aGlzLndvcmxkU2l6ZTtcbiAgICAgICAgY2VudGVyLnkgKj0gY3dzIC8gdGhpcy53b3JsZFNpemU7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBiZWFyaW5nIHZlY3RvciBieSByb3RhdGluZyB1bml0IHZlY3RvciBbMCwgLTFdIGNsb2Nrd2lzZVxuICAgICAgICBjb25zdCBhbmdsZSA9IHRoaXMuYW5nbGU7XG4gICAgICAgIGNvbnN0IGJYID0gTWF0aC5zaW4oLWFuZ2xlKTtcbiAgICAgICAgY29uc3QgYlkgPSAtTWF0aC5jb3MoLWFuZ2xlKTtcblxuICAgICAgICBjb25zdCBjWCA9IChjZW50ZXIueCAtIHRYKSAqIHdpbmRvd1NjYWxlRmFjdG9yO1xuICAgICAgICBjb25zdCBjWSA9IChjZW50ZXIueSAtIHRZKSAqIHdpbmRvd1NjYWxlRmFjdG9yO1xuICAgICAgICBjYWNoZVtkaXN0YW5jZURhdGFLZXldID0ge1xuICAgICAgICAgICAgYmVhcmluZzogW2JYLCBiWV0sXG4gICAgICAgICAgICBjZW50ZXI6IFtjWCwgY1ldLFxuICAgICAgICAgICAgc2NhbGU6IChzY2FsZSAvIEVYVEVOVCkgKiB3aW5kb3dTY2FsZUZhY3RvclxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBjYWNoZVtkaXN0YW5jZURhdGFLZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgZm9nVGlsZU1hdHJpeCB0aGF0LCBnaXZlbiBhIHRpbGUgY29vcmRpbmF0ZSwgY2FuIGJlIHVzZWQgdG9cbiAgICAgKiBjYWxjdWxhdGUgaXRzIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBjYW1lcmEgaW4gdW5pdHMgb2YgcGl4ZWxzIGRpdmlkZWRcbiAgICAgKiBieSB0aGUgbWFwIGhlaWdodC4gVXNlZCB3aXRoIGZvZyBmb3IgY29uc2lzdGVudCBjb21wdXRhdGlvbiBvZiBkaXN0YW5jZVxuICAgICAqIGZyb20gY2FtZXJhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtVbndyYXBwZWRUaWxlSUR9IHVud3JhcHBlZFRpbGVJRDtcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgodW53cmFwcGVkVGlsZUlEOiBVbndyYXBwZWRUaWxlSUQpOiBGbG9hdDMyQXJyYXkge1xuICAgICAgICBjb25zdCBmb2dUaWxlTWF0cml4S2V5ID0gdW53cmFwcGVkVGlsZUlELmtleTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLl9mb2dUaWxlTWF0cml4Q2FjaGU7XG4gICAgICAgIGlmIChjYWNoZVtmb2dUaWxlTWF0cml4S2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW2ZvZ1RpbGVNYXRyaXhLZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zTWF0cml4ID0gdGhpcy5wcm9qZWN0aW9uLmNyZWF0ZVRpbGVNYXRyaXgodGhpcywgdGhpcy5jYW1lcmFXb3JsZFNpemVGb3JGb2csIHVud3JhcHBlZFRpbGVJRCk7XG4gICAgICAgIG1hdDQubXVsdGlwbHkocG9zTWF0cml4LCB0aGlzLndvcmxkVG9Gb2dNYXRyaXgsIHBvc01hdHJpeCk7XG5cbiAgICAgICAgY2FjaGVbZm9nVGlsZU1hdHJpeEtleV0gPSBuZXcgRmxvYXQzMkFycmF5KHBvc01hdHJpeCk7XG4gICAgICAgIHJldHVybiBjYWNoZVtmb2dUaWxlTWF0cml4S2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHByb2pNYXRyaXggdGhhdCwgZ2l2ZW4gYSB0aWxlIGNvb3JkaW5hdGUsIHdvdWxkIGJlIHVzZWQgdG8gZGlzcGxheSB0aGUgdGlsZSBvbiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7VW53cmFwcGVkVGlsZUlEfSB1bndyYXBwZWRUaWxlSUQ7XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVQcm9qTWF0cml4KHVud3JhcHBlZFRpbGVJRDogVW53cmFwcGVkVGlsZUlELCBhbGlnbmVkOiBib29sZWFuID0gZmFsc2UpOiBGbG9hdDMyQXJyYXkge1xuICAgICAgICBjb25zdCBwcm9qTWF0cml4S2V5ID0gdW53cmFwcGVkVGlsZUlELmtleTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSBhbGlnbmVkID8gdGhpcy5fYWxpZ25lZFByb2pNYXRyaXhDYWNoZSA6IHRoaXMuX3Byb2pNYXRyaXhDYWNoZTtcbiAgICAgICAgaWYgKGNhY2hlW3Byb2pNYXRyaXhLZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVbcHJvak1hdHJpeEtleV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3NNYXRyaXggPSB0aGlzLmNhbGN1bGF0ZVBvc01hdHJpeCh1bndyYXBwZWRUaWxlSUQsIHRoaXMud29ybGRTaXplKTtcbiAgICAgICAgY29uc3QgcHJvak1hdHJpeCA9IHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UgP1xuICAgICAgICAgICAgdGhpcy5tZXJjYXRvck1hdHJpeCA6IChhbGlnbmVkID8gdGhpcy5hbGlnbmVkUHJvak1hdHJpeCA6IHRoaXMucHJvak1hdHJpeCk7XG4gICAgICAgIG1hdDQubXVsdGlwbHkocG9zTWF0cml4LCBwcm9qTWF0cml4LCBwb3NNYXRyaXgpO1xuXG4gICAgICAgIGNhY2hlW3Byb2pNYXRyaXhLZXldID0gbmV3IEZsb2F0MzJBcnJheShwb3NNYXRyaXgpO1xuICAgICAgICByZXR1cm4gY2FjaGVbcHJvak1hdHJpeEtleV07XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodGlsZTogVGlsZSk6IEZsb2F0MzJBcnJheSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRpbGUudGlsZUlELmtleTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLl9waXhlbHNUb1RpbGVVbml0c0NhY2hlO1xuICAgICAgICBpZiAoY2FjaGVba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXRyaXggPSBnZXRQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0aWxlLCB0aGlzKTtcbiAgICAgICAgY2FjaGVba2V5XSA9IG1hdHJpeDtcbiAgICAgICAgcmV0dXJuIGNhY2hlW2tleV07XG4gICAgfVxuXG4gICAgY3VzdG9tTGF5ZXJNYXRyaXgoKTogQXJyYXk8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lcmNhdG9yTWF0cml4LnNsaWNlKCk7XG4gICAgfVxuXG4gICAgZ2xvYmVUb01lcmNhdG9yTWF0cml4KCk6ID9BcnJheTxudW1iZXI+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICBjb25zdCBwaXhlbHNUb01lcmMgPSAxIC8gdGhpcy53b3JsZFNpemU7XG4gICAgICAgICAgICBjb25zdCBtID0gbWF0NC5mcm9tU2NhbGluZyhbXSwgW3BpeGVsc1RvTWVyYywgcGl4ZWxzVG9NZXJjLCBwaXhlbHNUb01lcmNdKTtcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHkobSwgbSwgdGhpcy5nbG9iZU1hdHJpeCk7XG4gICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJlY2VudGVyT25UZXJyYWluKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VsZXZhdGlvbiB8fCB0aGlzLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJylcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjb25zdCBlbGV2YXRpb246IEVsZXZhdGlvbiA9IHRoaXMuX2VsZXZhdGlvbjtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtcblxuICAgICAgICAvLyBDYXN0IGEgcmF5IHRvd2FyZHMgdGhlIHNlYSBsZXZlbCBhbmQgZmluZCB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IHdpdGggdGhlIHRlcnJhaW4uXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gdXNlIGEgY2FtZXJhIHBvc2l0aW9uIHRoYXQgZXhpc3RzIGluIHRoZSBzYW1lIGNvb3JkaW5hdGUgc3BhY2UgYXMgdGhlIGRhdGEuXG4gICAgICAgIC8vIFRoZSBkZWZhdWx0IGNhbWVyYSBwb3NpdGlvbiBtaWdodCBoYXZlIGJlZW4gY29tcGVuc2F0ZWQgYnkgdGhlIGFjdGl2ZSBwcm9qZWN0aW9uIG1vZGVsLlxuICAgICAgICBjb25zdCBtZXJjUGl4ZWxzUGVyTWV0ZXIgPSBtZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSwgdGhpcy5fY2VudGVyLmxhdCkgKiB0aGlzLndvcmxkU2l6ZTtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLl9jb21wdXRlQ2FtZXJhUG9zaXRpb24obWVyY1BpeGVsc1Blck1ldGVyKTtcbiAgICAgICAgY29uc3QgZGlyID0gdGhpcy5fY2FtZXJhLmZvcndhcmQoKTtcblxuICAgICAgICAvLyBUaGUgcmF5Y2FzdCBmdW5jdGlvbiBleHBlY3RzIHotY29tcG9uZW50IHRvIGJlIGluIG1ldGVyc1xuICAgICAgICBjb25zdCBtZXRlcnNUb01lcmMgPSBtZXJjYXRvclpmcm9tQWx0aXR1ZGUoMS4wLCB0aGlzLl9jZW50ZXIubGF0KTtcbiAgICAgICAgc3RhcnRbMl0gLz0gbWV0ZXJzVG9NZXJjO1xuICAgICAgICBkaXJbMl0gLz0gbWV0ZXJzVG9NZXJjO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShkaXIsIGRpcik7XG5cbiAgICAgICAgY29uc3QgdCA9IGVsZXZhdGlvbi5yYXljYXN0KHN0YXJ0LCBkaXIsIGVsZXZhdGlvbi5leGFnZ2VyYXRpb24oKSk7XG5cbiAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gdmVjMy5zY2FsZUFuZEFkZChbXSwgc3RhcnQsIGRpciwgdCk7XG4gICAgICAgICAgICBjb25zdCBuZXdDZW50ZXIgPSBuZXcgTWVyY2F0b3JDb29yZGluYXRlKHBvaW50WzBdLCBwb2ludFsxXSwgbWVyY2F0b3JaZnJvbUFsdGl0dWRlKHBvaW50WzJdLCBsYXRGcm9tTWVyY2F0b3JZKHBvaW50WzFdKSkpO1xuXG4gICAgICAgICAgICBjb25zdCBjYW1Ub05ldyA9IFtuZXdDZW50ZXIueCAtIHN0YXJ0WzBdLCBuZXdDZW50ZXIueSAtIHN0YXJ0WzFdLCBuZXdDZW50ZXIueiAtIHN0YXJ0WzJdICogbWV0ZXJzVG9NZXJjXTtcbiAgICAgICAgICAgIGNvbnN0IG1heEFsdGl0dWRlID0gKG5ld0NlbnRlci56ICsgdmVjMy5sZW5ndGgoY2FtVG9OZXcpKSAqIHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7XG4gICAgICAgICAgICB0aGlzLl9zZWFMZXZlbFpvb20gPSB0aGlzLl96b29tRnJvbU1lcmNhdG9yWihtYXhBbHRpdHVkZSk7XG5cbiAgICAgICAgICAgIC8vIENhbWVyYSB6b29tIGhhcyB0byBiZSB1cGRhdGVkIGFzIHRoZSBvcmJpdCBkaXN0YW5jZSBtaWdodCBoYXZlIGNoYW5nZWRcbiAgICAgICAgICAgIHRoaXMuX2NlbnRlckFsdGl0dWRlID0gbmV3Q2VudGVyLnRvQWx0aXR1ZGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2NlbnRlciA9IHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKG5ld0NlbnRlcik7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVab29tRnJvbUVsZXZhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5fY29uc3RyYWluKCk7XG4gICAgICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jb25zdHJhaW5DYW1lcmEoYWRhcHRDYW1lcmFBbHRpdHVkZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxldmF0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGVsZXZhdGlvbjogRWxldmF0aW9uID0gdGhpcy5fZWxldmF0aW9uO1xuXG4gICAgICAgIC8vIEZpbmQgdW5jb21wZW5zYXRlZCBjYW1lcmEgcG9zaXRpb24gZm9yIGVsZXZhdGlvbiBzYW1wbGluZy5cbiAgICAgICAgLy8gVGhlIGRlZmF1bHQgY2FtZXJhIHBvc2l0aW9uIG1pZ2h0IGhhdmUgYmVlbiBjb21wZW5zYXRlZCBieSB0aGUgYWN0aXZlIHByb2plY3Rpb24gbW9kZWwuXG4gICAgICAgIGNvbnN0IG1lcmNQaXhlbHNQZXJNZXRlciA9IG1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLCB0aGlzLl9jZW50ZXIubGF0KSAqIHRoaXMud29ybGRTaXplO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9jb21wdXRlQ2FtZXJhUG9zaXRpb24obWVyY1BpeGVsc1Blck1ldGVyKTtcbiAgICAgICAgY29uc3QgZWxldmF0aW9uQXRDYW1lcmEgPSBlbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhuZXcgTWVyY2F0b3JDb29yZGluYXRlKC4uLnBvcykpO1xuICAgICAgICBjb25zdCB0ZXJyYWluRWxldmF0aW9uID0gdGhpcy5waXhlbHNQZXJNZXRlciAvIHRoaXMud29ybGRTaXplICogZWxldmF0aW9uQXRDYW1lcmE7XG4gICAgICAgIGNvbnN0IG1pbkhlaWdodCA9IHRoaXMuX21pbmltdW1IZWlnaHRPdmVyVGVycmFpbigpO1xuICAgICAgICBjb25zdCBjYW1lcmFIZWlnaHQgPSBwb3NbMl0gLSB0ZXJyYWluRWxldmF0aW9uO1xuXG4gICAgICAgIGlmIChjYW1lcmFIZWlnaHQgPD0gbWluSGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAoY2FtZXJhSGVpZ2h0IDwgMCB8fCBhZGFwdENhbWVyYUFsdGl0dWRlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5fY2VudGVyLCB0aGlzLl9jZW50ZXJBbHRpdHVkZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FtZXJhVG9DZW50ZXIgPSBbcG9zWzBdLCBwb3NbMV0sIGNlbnRlci56IC0gcG9zWzJdXTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZEaXN0VG9DYW1lcmEgPSB2ZWMzLmxlbmd0aChjYW1lcmFUb0NlbnRlcik7XG4gICAgICAgICAgICAgICAgLy8gQWRqdXN0IHRoZSBjYW1lcmEgdmVjdG9yIHNvIHRoYXQgdGhlIGNhbWVyYSBpcyBwbGFjZWQgYWJvdmUgdGhlIHRlcnJhaW4uXG4gICAgICAgICAgICAgICAgLy8gRGlzdGFuY2UgYmV0d2VlbiB0aGUgY2FtZXJhIGFuZCB0aGUgY2VudGVyIHBvaW50IGlzIGtlcHQgY29uc3RhbnQuXG4gICAgICAgICAgICAgICAgY2FtZXJhVG9DZW50ZXJbMl0gLT0gKG1pbkhlaWdodCAtIGNhbWVyYUhlaWdodCkgLyB0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Rpc3RUb0NhbWVyYSA9IHZlYzMubGVuZ3RoKGNhbWVyYVRvQ2VudGVyKTtcblxuICAgICAgICAgICAgICAgIGlmIChuZXdEaXN0VG9DYW1lcmEgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHZlYzMuc2NhbGUoY2FtZXJhVG9DZW50ZXIsIGNhbWVyYVRvQ2VudGVyLCBwcmV2RGlzdFRvQ2FtZXJhIC8gbmV3RGlzdFRvQ2FtZXJhICogdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhLnBvc2l0aW9uID0gW3Bvc1swXSwgcG9zWzFdLCBjZW50ZXIueiAqIHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwgLSBjYW1lcmFUb0NlbnRlclsyXV07XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQ2FtZXJhQ29uc3RyYWluZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NvbnN0cmFpbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNlbnRlciB8fCAhdGhpcy53aWR0aCB8fCAhdGhpcy5oZWlnaHQgfHwgdGhpcy5fY29uc3RyYWluaW5nKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fY29uc3RyYWluaW5nID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgaXNHbG9iZSA9IHRoaXMucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnIHx8IHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbjtcblxuICAgICAgICAvLyBhbHRlcm5hdGUgY29uc3RyYWluaW5nIGZvciBub24tTWVyY2F0b3IgcHJvamVjdGlvbnNcbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UgfHwgaXNHbG9iZSkge1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXI7XG4gICAgICAgICAgICBjZW50ZXIubGF0ID0gY2xhbXAoY2VudGVyLmxhdCwgdGhpcy5taW5MYXQsIHRoaXMubWF4TGF0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heEJvdW5kcyB8fCAhKHRoaXMucmVuZGVyV29ybGRDb3BpZXMgfHwgaXNHbG9iZSkpIGNlbnRlci5sbmcgPSBjbGFtcChjZW50ZXIubG5nLCB0aGlzLm1pbkxuZywgdGhpcy5tYXhMbmcpO1xuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgICAgICB0aGlzLl9jb25zdHJhaW5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVubW9kaWZpZWQgPSB0aGlzLl91bm1vZGlmaWVkO1xuICAgICAgICBjb25zdCB7eCwgeX0gPSB0aGlzLnBvaW50O1xuICAgICAgICBsZXQgcyA9IDA7XG4gICAgICAgIGxldCB4MiA9IHg7XG4gICAgICAgIGxldCB5MiA9IHk7XG4gICAgICAgIGNvbnN0IHcyID0gdGhpcy53aWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGgyID0gdGhpcy5oZWlnaHQgLyAyO1xuXG4gICAgICAgIGNvbnN0IG1pblkgPSB0aGlzLndvcmxkTWluWSAqIHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IG1heFkgPSB0aGlzLndvcmxkTWF4WSAqIHRoaXMuc2NhbGU7XG4gICAgICAgIGlmICh5IC0gaDIgPCBtaW5ZKSB5MiA9IG1pblkgKyBoMjtcbiAgICAgICAgaWYgKHkgKyBoMiA+IG1heFkpIHkyID0gbWF4WSAtIGgyO1xuICAgICAgICBpZiAobWF4WSAtIG1pblkgPCB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgcyA9IE1hdGgubWF4KHMsIHRoaXMuaGVpZ2h0IC8gKG1heFkgLSBtaW5ZKSk7XG4gICAgICAgICAgICB5MiA9IChtYXhZICsgbWluWSkgLyAyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubWF4Qm91bmRzIHx8ICF0aGlzLl9yZW5kZXJXb3JsZENvcGllcyB8fCAhdGhpcy5wcm9qZWN0aW9uLndyYXApIHtcbiAgICAgICAgICAgIGNvbnN0IG1pblggPSB0aGlzLndvcmxkTWluWCAqIHRoaXMuc2NhbGU7XG4gICAgICAgICAgICBjb25zdCBtYXhYID0gdGhpcy53b3JsZE1heFggKiB0aGlzLnNjYWxlO1xuXG4gICAgICAgICAgICAvLyBUcmFuc2xhdGUgdG8gcG9zaXRpdmUgcG9zaXRpb25zIHdpdGggdGhlIG1hcCBjZW50ZXIgaW4gdGhlIGNlbnRlciBwb3NpdGlvbi5cbiAgICAgICAgICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0IHRoZSBtYXAgc25hcHMgdG8gdGhlIGNvcnJlY3QgZWRnZS5cbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ID0gdGhpcy53b3JsZFNpemUgLyAyIC0gKG1pblggKyBtYXhYKSAvIDI7XG4gICAgICAgICAgICB4MiA9ICh4ICsgc2hpZnQgKyB0aGlzLndvcmxkU2l6ZSkgJSB0aGlzLndvcmxkU2l6ZSAtIHNoaWZ0O1xuXG4gICAgICAgICAgICBpZiAoeDIgLSB3MiA8IG1pblgpIHgyID0gbWluWCArIHcyO1xuICAgICAgICAgICAgaWYgKHgyICsgdzIgPiBtYXhYKSB4MiA9IG1heFggLSB3MjtcbiAgICAgICAgICAgIGlmIChtYXhYIC0gbWluWCA8IHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgICAgICBzID0gTWF0aC5tYXgocywgdGhpcy53aWR0aCAvIChtYXhYIC0gbWluWCkpO1xuICAgICAgICAgICAgICAgIHgyID0gKG1heFggKyBtaW5YKSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeDIgIT09IHggfHwgeTIgIT09IHkpIHsgLy8gcGFuIHRoZSBtYXAgdG8gZml0IHRoZSByYW5nZVxuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSB0aGlzLnVucHJvamVjdChuZXcgUG9pbnQoeDIsIHkyKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMpIHsgLy8gc2NhbGUgdGhlIG1hcCB0byBmaXQgdGhlIHJhbmdlXG4gICAgICAgICAgICB0aGlzLnpvb20gKz0gdGhpcy5zY2FsZVpvb20ocyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb25zdHJhaW5DYW1lcmEoKTtcbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IHVubW9kaWZpZWQ7XG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1pbmltdW0gem9vbSBhdCB3aGljaCBgdGhpcy53aWR0aGAgY2FuIGZpdCBtYXggbG9uZ2l0dWRlIHJhbmdlXG4gICAgICogYW5kIGB0aGlzLmhlaWdodGAgY2FuIGZpdCBtYXggbGF0aXR1ZGUgcmFuZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgem9vbSB2YWx1ZS5cbiAgICAgKi9cbiAgICBfbWluWm9vbUZvckJvdW5kcygpOiBudW1iZXIge1xuICAgICAgICBsZXQgbWluWm9vbSA9IE1hdGgubWF4KDAsIHRoaXMuc2NhbGVab29tKHRoaXMuaGVpZ2h0IC8gKHRoaXMud29ybGRNYXhZIC0gdGhpcy53b3JsZE1pblkpKSk7XG4gICAgICAgIGlmICh0aGlzLm1heEJvdW5kcykge1xuICAgICAgICAgICAgbWluWm9vbSA9IE1hdGgubWF4KG1pblpvb20sIHRoaXMuc2NhbGVab29tKHRoaXMud2lkdGggLyAodGhpcy53b3JsZE1heFggLSB0aGlzLndvcmxkTWluWCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluWm9vbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXhpbXVtIGRpc3RhbmNlIG9mIHRoZSBjYW1lcmEgZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBib3VuZHMsIHN1Y2ggdGhhdFxuICAgICAqIGB0aGlzLndpZHRoYCBjYW4gZml0IG1heCBsb25naXR1ZGUgcmFuZ2UgYW5kIGB0aGlzLmhlaWdodGAgY2FuIGZpdCBtYXggbGF0aXR1ZGUgcmFuZ2UuXG4gICAgICogSW4gbWVyY2F0b3IgdW5pdHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgbWVyY2F0b3IgeiBjb29yZGluYXRlLlxuICAgICAqL1xuICAgIF9tYXhDYW1lcmFCb3VuZHNEaXN0YW5jZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWluWm9vbUZvckJvdW5kcygpKTtcbiAgICB9XG5cbiAgICBfY2FsY01hdHJpY2VzKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGVpZ2h0KSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5jZW50ZXJPZmZzZXQ7XG5cbiAgICAgICAgLy8gWi1heGlzIHVzZXMgcGl4ZWwgY29vcmRpbmF0ZXMgd2hlbiBnbG9iZSBtb2RlIGlzIGVuYWJsZWRcbiAgICAgICAgY29uc3QgcGl4ZWxzUGVyTWV0ZXIgPSB0aGlzLnBpeGVsc1Blck1ldGVyO1xuXG4gICAgICAgIGlmICh0aGlzLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICAgICAgdGhpcy5fbWVyY2F0b3JTY2FsZVJhdGlvID0gbWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsIHRoaXMuY2VudGVyLmxhdCkgLyBtZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSwgR0xPQkVfU0NBTEVfTUFUQ0hfTEFUSVRVREUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJvamVjdGlvblQgPSBnZXRQcm9qZWN0aW9uSW50ZXJwb2xhdGlvblQodGhpcy5wcm9qZWN0aW9uLCB0aGlzLnpvb20sIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAxMDI0KTtcblxuICAgICAgICAvLyAndGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCcgaXMgdGhlIHJhdGlvIGJldHdlZW4gcGl4ZWxzUGVyTWV0ZXIgaW4gdGhlIGN1cnJlbnQgcHJvamVjdGlvbiByZWxhdGl2ZSB0byBNZXJjYXRvci5cbiAgICAgICAgLy8gVGhpcyBpcyB1c2VmdWwgZm9yIGNvbnZlcnRpbmcgZS5nLiBjYW1lcmEgcG9zaXRpb24gYmV0d2VlbiBwaXhlbCBzcGFjZXMgYXMgc29tZSBsb2dpY1xuICAgICAgICAvLyBzdWNoIGFzIHJheWNhc3RpbmcgZXhwZWN0cyB0aGUgc2NhbGUgdG8gYmUgaW4gbWVyY2F0b3IgcGl4ZWxzXG4gICAgICAgIHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwgPSB0aGlzLnByb2plY3Rpb24ucGl4ZWxTcGFjZUNvbnZlcnNpb24odGhpcy5jZW50ZXIubGF0LCB0aGlzLndvcmxkU2l6ZSwgcHJvamVjdGlvblQpO1xuXG4gICAgICAgIHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSA9IDAuNSAvIE1hdGgudGFuKHRoaXMuX2ZvdiAqIDAuNSkgKiB0aGlzLmhlaWdodCAqIHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtcblxuICAgICAgICB0aGlzLl9mYXJaID0gdGhpcy5wcm9qZWN0aW9uLmZhcnRoZXN0UGl4ZWxEaXN0YW5jZSh0aGlzKTtcblxuICAgICAgICAvLyBUaGUgbGFyZ2VyIHRoZSB2YWx1ZSBvZiBuZWFyWiBpc1xuICAgICAgICAvLyAtIHRoZSBtb3JlIGRlcHRoIHByZWNpc2lvbiBpcyBhdmFpbGFibGUgZm9yIGZlYXR1cmVzIChnb29kKVxuICAgICAgICAvLyAtIGNsaXBwaW5nIHN0YXJ0cyBhcHBlYXJpbmcgc29vbmVyIHdoZW4gdGhlIGNhbWVyYSBpcyBjbG9zZSB0byAzZCBmZWF0dXJlcyAoYmFkKVxuICAgICAgICAvL1xuICAgICAgICAvLyBTbWFsbGVyIHZhbHVlcyB3b3JrZWQgd2VsbCBmb3IgbWFwYm94LWdsLWpzIGJ1dCBkZWNrZ2wgd2FzIGVuY291bnRlcmluZyBwcmVjaXNpb24gaXNzdWVzXG4gICAgICAgIC8vIHdoZW4gcmVuZGVyaW5nIGl0J3MgbGF5ZXJzIHVzaW5nIGN1c3RvbSBsYXllcnMuIFRoaXMgdmFsdWUgd2FzIGV4cGVyaW1lbnRhbGx5IGNob3NlbiBhbmRcbiAgICAgICAgLy8gc2VlbXMgdG8gc29sdmUgei1maWdodGluZyBpc3N1ZXMgaW4gZGVja2dsIHdoaWxlIG5vdCBjbGlwcGluZyBidWlsZGluZ3MgdG9vIGNsb3NlIHRvIHRoZSBjYW1lcmEuXG4gICAgICAgIHRoaXMuX25lYXJaID0gdGhpcy5oZWlnaHQgLyA1MDtcblxuICAgICAgICBjb25zdCB6VW5pdCA9IHRoaXMucHJvamVjdGlvbi56QXhpc1VuaXQgPT09IFwibWV0ZXJzXCIgPyBwaXhlbHNQZXJNZXRlciA6IDEuMDtcbiAgICAgICAgY29uc3Qgd29ybGRUb0NhbWVyYSA9IHRoaXMuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhKHRoaXMud29ybGRTaXplLCB6VW5pdCk7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRvQ2xpcCA9IHRoaXMuX2NhbWVyYS5nZXRDYW1lcmFUb0NsaXBQZXJzcGVjdGl2ZSh0aGlzLl9mb3YsIHRoaXMud2lkdGggLyB0aGlzLmhlaWdodCwgdGhpcy5fbmVhclosIHRoaXMuX2ZhclopO1xuXG4gICAgICAgIC8vIEFwcGx5IGNlbnRlciBvZiBwZXJzcGVjdGl2ZSBvZmZzZXRcbiAgICAgICAgY2FtZXJhVG9DbGlwWzhdID0gLW9mZnNldC54ICogMiAvIHRoaXMud2lkdGg7XG4gICAgICAgIGNhbWVyYVRvQ2xpcFs5XSA9IG9mZnNldC55ICogMiAvIHRoaXMuaGVpZ2h0O1xuXG4gICAgICAgIGxldCBtOiBBcnJheTxudW1iZXI+IHwgRmxvYXQzMkFycmF5IHwgRmxvYXQ2NEFycmF5ID0gbWF0NC5tdWwoW10sIGNhbWVyYVRvQ2xpcCwgd29ybGRUb0NhbWVyYSk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UpIHtcbiAgICAgICAgICAgIC8vIFByb2plY3Rpb25zIHVuZGlzdG9ydCBhcyB5b3Ugem9vbSBpbiAoc2hlYXIsIHNjYWxlLCByb3RhdGUpLlxuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIHVuZGlzdG9ydGlvbiBhcm91bmQgdGhlIGNlbnRlciBvZiB0aGUgbWFwLlxuICAgICAgICAgICAgY29uc3QgbWMgPSB0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLmNlbnRlcik7XG4gICAgICAgICAgICBjb25zdCBhZGp1c3RtZW50cyA9IG1hdDQuaWRlbnRpdHkoW10pO1xuICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUoYWRqdXN0bWVudHMsIGFkanVzdG1lbnRzLCBbbWMueCAqIHRoaXMud29ybGRTaXplLCBtYy55ICogdGhpcy53b3JsZFNpemUsIDBdKTtcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHkoYWRqdXN0bWVudHMsIGFkanVzdG1lbnRzLCBnZXRQcm9qZWN0aW9uQWRqdXN0bWVudHModGhpcykpO1xuICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUoYWRqdXN0bWVudHMsIGFkanVzdG1lbnRzLCBbLW1jLnggKiB0aGlzLndvcmxkU2l6ZSwgLW1jLnkgKiB0aGlzLndvcmxkU2l6ZSwgMF0pO1xuICAgICAgICAgICAgbWF0NC5tdWx0aXBseShtLCBtLCBhZGp1c3RtZW50cyk7XG4gICAgICAgICAgICB0aGlzLmludmVyc2VBZGp1c3RtZW50TWF0cml4ID0gZ2V0UHJvamVjdGlvbkFkanVzdG1lbnRJbnZlcnRlZCh0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW52ZXJzZUFkanVzdG1lbnRNYXRyaXggPSBbMSwgMCwgMCwgMV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgbWVyY2F0b3JNYXRyaXggY2FuIGJlIHVzZWQgdG8gdHJhbnNmb3JtIHBvaW50cyBmcm9tIG1lcmNhdG9yIGNvb3JkaW5hdGVzXG4gICAgICAgIC8vIChbMCwgMF0gbncsIFsxLCAxXSBzZSkgdG8gR0wgY29vcmRpbmF0ZXMuIC8gelVuaXQgY29tcGVuc2F0ZXMgZm9yIHNjYWxpbmcgZG9uZSBpbiB3b3JsZFRvQ2FtZXJhLlxuICAgICAgICB0aGlzLm1lcmNhdG9yTWF0cml4ID0gbWF0NC5zY2FsZShbXSwgbSwgW3RoaXMud29ybGRTaXplLCB0aGlzLndvcmxkU2l6ZSwgdGhpcy53b3JsZFNpemUgLyB6VW5pdCwgMS4wXSk7XG5cbiAgICAgICAgdGhpcy5wcm9qTWF0cml4ID0gbTtcblxuICAgICAgICAvLyBGb3IgdGlsZSBjb3ZlciBjYWxjdWxhdGlvbiwgdXNlIGludmVydGVkIG9mIGJhc2UgKG5vbiBlbGV2YXRlZCkgbWF0cml4XG4gICAgICAgIC8vIGFzIHRpbGUgZWxldmF0aW9ucyBhcmUgaW4gdGlsZSBjb29yZGluYXRlcyBhbmQgcmVsYXRpdmUgdG8gY2VudGVyIGVsZXZhdGlvbi5cbiAgICAgICAgdGhpcy5pbnZQcm9qTWF0cml4ID0gbWF0NC5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksIHRoaXMucHJvak1hdHJpeCk7XG5cbiAgICAgICAgY29uc3QgY2xpcFRvQ2FtZXJhID0gbWF0NC5pbnZlcnQoW10sIGNhbWVyYVRvQ2xpcCk7XG4gICAgICAgIHRoaXMuZnJ1c3R1bUNvcm5lcnMgPSBGcnVzdHVtQ29ybmVycy5mcm9tSW52UHJvamVjdGlvbk1hdHJpeChjbGlwVG9DYW1lcmEsIHRoaXMuaG9yaXpvbkxpbmVGcm9tVG9wKCksIHRoaXMuaGVpZ2h0KTtcblxuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XG4gICAgICAgIG1hdDQuaWRlbnRpdHkodmlldyk7XG4gICAgICAgIG1hdDQuc2NhbGUodmlldywgdmlldywgWzEsIC0xLCAxXSk7XG4gICAgICAgIG1hdDQucm90YXRlWCh2aWV3LCB2aWV3LCB0aGlzLl9waXRjaCk7XG4gICAgICAgIG1hdDQucm90YXRlWih2aWV3LCB2aWV3LCB0aGlzLmFuZ2xlKTtcblxuICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gbWF0NC5wZXJzcGVjdGl2ZShuZXcgRmxvYXQzMkFycmF5KDE2KSwgdGhpcy5fZm92LCB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQsIHRoaXMuX25lYXJaLCB0aGlzLl9mYXJaKTtcbiAgICAgICAgLy8gVGhlIGRpc3RhbmNlIGluIHBpeGVscyB0aGUgc2t5Ym94IG5lZWRzIHRvIGJlIHNoaWZ0ZWQgZG93biBieSB0byBtZWV0IHRoZSBzaGlmdGVkIGhvcml6b24uXG4gICAgICAgIGNvbnN0IHNreWJveEhvcml6b25TaGlmdCA9IChNYXRoLlBJIC8gMiAtIHRoaXMuX3BpdGNoKSAqICh0aGlzLmhlaWdodCAvIHRoaXMuX2ZvdikgKiB0aGlzLl9ob3Jpem9uU2hpZnQ7XG4gICAgICAgIC8vIEFwcGx5IGNlbnRlciBvZiBwZXJzcGVjdGl2ZSBvZmZzZXQgdG8gc2t5Ym94IHByb2plY3Rpb25cbiAgICAgICAgcHJvamVjdGlvbls4XSA9IC1vZmZzZXQueCAqIDIgLyB0aGlzLndpZHRoO1xuICAgICAgICBwcm9qZWN0aW9uWzldID0gKG9mZnNldC55ICsgc2t5Ym94SG9yaXpvblNoaWZ0KSAqIDIgLyB0aGlzLmhlaWdodDtcbiAgICAgICAgdGhpcy5za3lib3hNYXRyaXggPSBtYXQ0Lm11bHRpcGx5KHZpZXcsIHByb2plY3Rpb24sIHZpZXcpO1xuXG4gICAgICAgIC8vIE1ha2UgYSBzZWNvbmQgcHJvamVjdGlvbiBtYXRyaXggdGhhdCBpcyBhbGlnbmVkIHRvIGEgcGl4ZWwgZ3JpZCBmb3IgcmVuZGVyaW5nIHJhc3RlciB0aWxlcy5cbiAgICAgICAgLy8gV2UncmUgcm91bmRpbmcgdGhlIChmbG9hdGluZyBwb2ludCkgeC95IHZhbHVlcyB0byBhY2hpZXZlIHRvIGF2b2lkIHJlbmRlcmluZyByYXN0ZXIgaW1hZ2VzIHRvIGZyYWN0aW9uYWxcbiAgICAgICAgLy8gY29vcmRpbmF0ZXMuIEFkZGl0aW9uYWxseSwgd2UgYWRqdXN0IGJ5IGhhbGYgYSBwaXhlbCBpbiBlaXRoZXIgZGlyZWN0aW9uIGluIGNhc2UgdGhhdCB2aWV3cG9ydCBkaW1lbnNpb25cbiAgICAgICAgLy8gaXMgYW4gb2RkIGludGVnZXIgdG8gcHJlc2VydmUgcmVuZGVyaW5nIHRvIHRoZSBwaXhlbCBncmlkLiBXZSdyZSByb3RhdGluZyB0aGlzIHNoaWZ0IGJhc2VkIG9uIHRoZSBhbmdsZVxuICAgICAgICAvLyBvZiB0aGUgdHJhbnNmb3JtYXRpb24gc28gdGhhdCAwwrAsIDkwwrAsIDE4MMKwLCBhbmQgMjcwwrAgcmFzdGVycyBhcmUgY3Jpc3AsIGFuZCBhZGp1c3QgdGhlIHNoaWZ0IHNvIHRoYXRcbiAgICAgICAgLy8gaXQgaXMgYWx3YXlzIDw9IDAuNSBwaXhlbHMuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gdGhpcy5wb2ludDtcbiAgICAgICAgY29uc3QgeCA9IHBvaW50LngsIHkgPSBwb2ludC55O1xuICAgICAgICBjb25zdCB4U2hpZnQgPSAodGhpcy53aWR0aCAlIDIpIC8gMiwgeVNoaWZ0ID0gKHRoaXMuaGVpZ2h0ICUgMikgLyAyLFxuICAgICAgICAgICAgYW5nbGVDb3MgPSBNYXRoLmNvcyh0aGlzLmFuZ2xlKSwgYW5nbGVTaW4gPSBNYXRoLnNpbih0aGlzLmFuZ2xlKSxcbiAgICAgICAgICAgIGR4ID0geCAtIE1hdGgucm91bmQoeCkgKyBhbmdsZUNvcyAqIHhTaGlmdCArIGFuZ2xlU2luICogeVNoaWZ0LFxuICAgICAgICAgICAgZHkgPSB5IC0gTWF0aC5yb3VuZCh5KSArIGFuZ2xlQ29zICogeVNoaWZ0ICsgYW5nbGVTaW4gKiB4U2hpZnQ7XG4gICAgICAgIGNvbnN0IGFsaWduZWRNID0gbmV3IEZsb2F0NjRBcnJheShtKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUoYWxpZ25lZE0sIGFsaWduZWRNLCBbIGR4ID4gMC41ID8gZHggLSAxIDogZHgsIGR5ID4gMC41ID8gZHkgLSAxIDogZHksIDAgXSk7XG4gICAgICAgIHRoaXMuYWxpZ25lZFByb2pNYXRyaXggPSBhbGlnbmVkTTtcblxuICAgICAgICBtID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbdGhpcy53aWR0aCAvIDIsIC10aGlzLmhlaWdodCAvIDIsIDFdKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobSwgbSwgWzEsIC0xLCAwXSk7XG4gICAgICAgIHRoaXMubGFiZWxQbGFuZU1hdHJpeCA9IG07XG5cbiAgICAgICAgbSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG1hdDQuc2NhbGUobSwgbSwgWzEsIC0xLCAxXSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKG0sIG0sIFstMSwgLTEsIDBdKTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbMiAvIHRoaXMud2lkdGgsIDIgLyB0aGlzLmhlaWdodCwgMV0pO1xuICAgICAgICB0aGlzLmdsQ29vcmRNYXRyaXggPSBtO1xuXG4gICAgICAgIC8vIG1hdHJpeCBmb3IgY29udmVyc2lvbiBmcm9tIGxvY2F0aW9uIHRvIHNjcmVlbiBjb29yZGluYXRlc1xuICAgICAgICB0aGlzLnBpeGVsTWF0cml4ID0gbWF0NC5tdWx0aXBseShuZXcgRmxvYXQ2NEFycmF5KDE2KSwgdGhpcy5sYWJlbFBsYW5lTWF0cml4LCB0aGlzLnByb2pNYXRyaXgpO1xuXG4gICAgICAgIHRoaXMuX2NhbGNGb2dNYXRyaWNlcygpO1xuICAgICAgICB0aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGUgPSB7fTtcblxuICAgICAgICAvLyBpbnZlcnNlIG1hdHJpeCBmb3IgY29udmVyc2lvbiBmcm9tIHNjcmVlbiBjb29yZGluYXRlcyB0byBsb2NhdGlvblxuICAgICAgICBtID0gbWF0NC5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksIHRoaXMucGl4ZWxNYXRyaXgpO1xuICAgICAgICBpZiAoIW0pIHRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBpbnZlcnQgbWF0cml4XCIpO1xuICAgICAgICB0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSA9IG07XG5cbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnIHx8IHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5nbG9iZU1hdHJpeCA9IGNhbGN1bGF0ZUdsb2JlTWF0cml4KHRoaXMpO1xuXG4gICAgICAgICAgICBjb25zdCBnbG9iZUNlbnRlciA9IFt0aGlzLmdsb2JlTWF0cml4WzEyXSwgdGhpcy5nbG9iZU1hdHJpeFsxM10sIHRoaXMuZ2xvYmVNYXRyaXhbMTRdXTtcblxuICAgICAgICAgICAgdGhpcy5nbG9iZUNlbnRlckluVmlld1NwYWNlID0gdmVjMy50cmFuc2Zvcm1NYXQ0KGdsb2JlQ2VudGVyLCBnbG9iZUNlbnRlciwgd29ybGRUb0NhbWVyYSk7XG4gICAgICAgICAgICB0aGlzLmdsb2JlUmFkaXVzID0gdGhpcy53b3JsZFNpemUgLyAyLjAgLyBNYXRoLlBJIC0gMS4wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nbG9iZU1hdHJpeCA9IG07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcm9qTWF0cml4Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5fYWxpZ25lZFByb2pNYXRyaXhDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9waXhlbHNUb1RpbGVVbml0c0NhY2hlID0ge307XG4gICAgfVxuXG4gICAgX2NhbGNGb2dNYXRyaWNlcygpIHtcbiAgICAgICAgdGhpcy5fZm9nVGlsZU1hdHJpeENhY2hlID0ge307XG5cbiAgICAgICAgY29uc3QgY2FtZXJhV29ybGRTaXplRm9yRm9nID0gdGhpcy5jYW1lcmFXb3JsZFNpemVGb3JGb2c7XG4gICAgICAgIGNvbnN0IGNhbWVyYVBpeGVsc1Blck1ldGVyID0gdGhpcy5jYW1lcmFQaXhlbHNQZXJNZXRlcjtcbiAgICAgICAgY29uc3QgY2FtZXJhUG9zID0gdGhpcy5fY2FtZXJhLnBvc2l0aW9uO1xuXG4gICAgICAgIC8vIFRoZSBtZXJjYXRvciBmb2cgbWF0cml4IGVuY29kZXMgdHJhbnNmb3JtYXRpb24gbmVjZXNzYXJ5IHRvIHRyYW5zZm9ybSBhIHBvc2l0aW9uIHRvIGNhbWVyYSBmb2cgc3BhY2UgKGluIG1ldGVycyk6XG4gICAgICAgIC8vIHRyYW5zbGF0ZXMgcCB0byBjYW1lcmEgb3JpZ2luIGFuZCB0cmFuc2Zvcm1zIGl0IGZyb20gcGl4ZWxzIHRvIG1ldGVycy4gVGhlIHdpbmRvd1NjYWxlRmFjdG9yIGlzIHVzZWQgdG8gaGF2ZSBhXG4gICAgICAgIC8vIGNvbnNpc3RlbnQgdHJhbnNmb3JtYXRpb24gYWNyb3NzIGRpZmZlcmVudCB3aW5kb3cgc2l6ZXMuXG4gICAgICAgIC8vIC0gcCA9IHAgLSBjYW1lcmFPcmlnaW5cbiAgICAgICAgLy8gLSBwLnh5ID0gcC54eSAqIGNhbWVyYVdvcmxkU2l6ZUZvckZvZyAqIHdpbmRvd1NjYWxlRmFjdG9yXG4gICAgICAgIC8vIC0gcC56ICA9IHAueiAgKiBjYW1lcmFQaXhlbHNQZXJNZXRlciAqIHdpbmRvd1NjYWxlRmFjdG9yXG4gICAgICAgIGNvbnN0IHdpbmRvd1NjYWxlRmFjdG9yID0gMSAvIHRoaXMuaGVpZ2h0IC8gdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtcbiAgICAgICAgY29uc3QgbWV0ZXJzVG9QaXhlbCA9IFtjYW1lcmFXb3JsZFNpemVGb3JGb2csIGNhbWVyYVdvcmxkU2l6ZUZvckZvZywgY2FtZXJhUGl4ZWxzUGVyTWV0ZXJdO1xuICAgICAgICB2ZWMzLnNjYWxlKG1ldGVyc1RvUGl4ZWwsIG1ldGVyc1RvUGl4ZWwsIHdpbmRvd1NjYWxlRmFjdG9yKTtcbiAgICAgICAgdmVjMy5zY2FsZShjYW1lcmFQb3MsIGNhbWVyYVBvcywgLTEpO1xuICAgICAgICB2ZWMzLm11bHRpcGx5KGNhbWVyYVBvcywgY2FtZXJhUG9zLCBtZXRlcnNUb1BpeGVsKTtcblxuICAgICAgICBjb25zdCBtID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobSwgbSwgY2FtZXJhUG9zKTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBtZXRlcnNUb1BpeGVsKTtcbiAgICAgICAgdGhpcy5tZXJjYXRvckZvZ01hdHJpeCA9IG07XG5cbiAgICAgICAgLy8gVGhlIHdvcmxkVG9Gb2dNYXRyaXggY2FuIGJlIHVzZWQgZm9yIGNvbnZlcnNpb24gZnJvbSB3b3JsZCBjb29yZGluYXRlcyB0byByZWxhdGl2ZSBjYW1lcmEgcG9zaXRpb24gaW5cbiAgICAgICAgLy8gdW5pdHMgb2YgZnJhY3Rpb25zIG9mIHRoZSBtYXAgaGVpZ2h0LiBMYXRlciBjb21wb3NlZCB3aXRoIHRpbGUgcG9zaXRpb24gdG8gY29uc3RydWN0IHRoZSBmb2cgdGlsZSBtYXRyaXguXG4gICAgICAgIHRoaXMud29ybGRUb0ZvZ01hdHJpeCA9IHRoaXMuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhUG9zaXRpb24oY2FtZXJhV29ybGRTaXplRm9yRm9nLCBjYW1lcmFQaXhlbHNQZXJNZXRlciwgd2luZG93U2NhbGVGYWN0b3IpO1xuICAgIH1cblxuICAgIF9jb21wdXRlQ2FtZXJhUG9zaXRpb24odGFyZ2V0UGl4ZWxzUGVyTWV0ZXI6ID9udW1iZXIpOiBWZWMzIHtcbiAgICAgICAgdGFyZ2V0UGl4ZWxzUGVyTWV0ZXIgPSB0YXJnZXRQaXhlbHNQZXJNZXRlciB8fCB0aGlzLnBpeGVsc1Blck1ldGVyO1xuICAgICAgICBjb25zdCBwaXhlbFNwYWNlQ29udmVyc2lvbiA9IHRhcmdldFBpeGVsc1Blck1ldGVyIC8gdGhpcy5waXhlbHNQZXJNZXRlcjtcblxuICAgICAgICBjb25zdCBkaXIgPSB0aGlzLl9jYW1lcmEuZm9yd2FyZCgpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLnBvaW50O1xuXG4gICAgICAgIC8vIENvbXB1dGUgY2FtZXJhIHBvc2l0aW9uIHVzaW5nIHRoZSBmb2xsb3dpbmcgdmVjdG9yIG1hdGg6IGNhbWVyYS5wb3NpdGlvbiA9IG1hcC5jZW50ZXIgLSBjYW1lcmEuZm9yd2FyZCAqIGNhbWVyYVRvQ2VudGVyRGlzdFxuICAgICAgICAvLyBDYW1lcmEgZGlzdGFuY2UgdG8gdGhlIGNlbnRlciBjYW4gYmUgZm91bmQgaW4gbWVyY2F0b3IgdW5pdHMgYnkgc3VidHJhY3RpbmcgdGhlIGNlbnRlciBlbGV2YXRpb24gZnJvbVxuICAgICAgICAvLyBjYW1lcmEncyB6ZW5pdGggcG9zaXRpb24gKHdoaWNoIGNhbiBiZSBkZWR1Y2VkIGZyb20gdGhlIHpvb20gbGV2ZWwpXG4gICAgICAgIGNvbnN0IHpvb20gPSB0aGlzLl9zZWFMZXZlbFpvb20gPyB0aGlzLl9zZWFMZXZlbFpvb20gOiB0aGlzLl96b29tO1xuICAgICAgICBjb25zdCBhbHRpdHVkZSA9IHRoaXMuX21lcmNhdG9yWmZyb21ab29tKHpvb20pICogcGl4ZWxTcGFjZUNvbnZlcnNpb247XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gYWx0aXR1ZGUgLSB0YXJnZXRQaXhlbHNQZXJNZXRlciAvIHRoaXMud29ybGRTaXplICogdGhpcy5fY2VudGVyQWx0aXR1ZGU7XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGNlbnRlci54IC8gdGhpcy53b3JsZFNpemUgLSBkaXJbMF0gKiBkaXN0YW5jZSxcbiAgICAgICAgICAgIGNlbnRlci55IC8gdGhpcy53b3JsZFNpemUgLSBkaXJbMV0gKiBkaXN0YW5jZSxcbiAgICAgICAgICAgIHRhcmdldFBpeGVsc1Blck1ldGVyIC8gdGhpcy53b3JsZFNpemUgKiB0aGlzLl9jZW50ZXJBbHRpdHVkZSAtIGRpclsyXSAqIGRpc3RhbmNlXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgX3VwZGF0ZUNhbWVyYVN0YXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGVpZ2h0KSByZXR1cm47XG5cbiAgICAgICAgLy8gU2V0IGNhbWVyYSBvcmllbnRhdGlvbiBhbmQgbW92ZSBpdCB0byBhIHByb3BlciBkaXN0YW5jZSBmcm9tIHRoZSBtYXBcbiAgICAgICAgdGhpcy5fY2FtZXJhLnNldFBpdGNoQmVhcmluZyh0aGlzLl9waXRjaCwgdGhpcy5hbmdsZSk7XG4gICAgICAgIHRoaXMuX2NhbWVyYS5wb3NpdGlvbiA9IHRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgM2QgdHJhbnNsYXRpb24gdG8gdGhlIGNhbWVyYSBwb3NpdGlvbiwgYnV0IGNsYW1waW5nIGl0IHNvIHRoYXRcbiAgICAgKiBpdCByZXNwZWN0cyB0aGUgbWF4aW11bSBsb25naXR1ZGUgYW5kIGxhdGl0dWRlIHJhbmdlIHNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7dmVjM30gdHJhbnNsYXRpb24gVGhlIHRyYW5zbGF0aW9uIHZlY3Rvci5cbiAgICAgKi9cbiAgICBfdHJhbnNsYXRlQ2FtZXJhQ29uc3RyYWluZWQodHJhbnNsYXRpb246IFZlYzMpIHtcbiAgICAgICAgY29uc3QgbWF4RGlzdGFuY2UgPSB0aGlzLl9tYXhDYW1lcmFCb3VuZHNEaXN0YW5jZSgpO1xuICAgICAgICAvLyBEZWZpbmUgYSBjZWlsaW5nIGluIG1lcmNhdG9yIFpcbiAgICAgICAgY29uc3QgbWF4WiA9IG1heERpc3RhbmNlICogTWF0aC5jb3ModGhpcy5fcGl0Y2gpO1xuICAgICAgICBjb25zdCB6ID0gdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzJdO1xuICAgICAgICBjb25zdCBkZWx0YVogPSB0cmFuc2xhdGlvblsyXTtcbiAgICAgICAgbGV0IHQgPSAxO1xuXG4gICAgICAgIGlmICh0aGlzLnByb2plY3Rpb24ud3JhcCkgdGhpcy5jZW50ZXIgPSB0aGlzLmNlbnRlci53cmFwKCk7XG5cbiAgICAgICAgLy8gd2Ugb25seSBuZWVkIHRvIGNsYW1wIGlmIHRoZSBjYW1lcmEgaXMgbW92aW5nIHVwd2FyZHNcbiAgICAgICAgaWYgKGRlbHRhWiA+IDApIHtcbiAgICAgICAgICAgIHQgPSBNYXRoLm1pbigobWF4WiAtIHopIC8gZGVsdGFaLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NhbWVyYS5wb3NpdGlvbiA9IHZlYzMuc2NhbGVBbmRBZGQoW10sIHRoaXMuX2NhbWVyYS5wb3NpdGlvbiwgdHJhbnNsYXRpb24sIHQpO1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZUZyb21DYW1lcmEoKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX2NhbWVyYS5wb3NpdGlvbjtcbiAgICAgICAgY29uc3QgZGlyID0gdGhpcy5fY2FtZXJhLmZvcndhcmQoKTtcbiAgICAgICAgY29uc3Qge3BpdGNoLCBiZWFyaW5nfSA9IHRoaXMuX2NhbWVyYS5nZXRQaXRjaEJlYXJpbmcoKTtcblxuICAgICAgICAvLyBDb21wdXRlIHpvb20gZnJvbSB0aGUgZGlzdGFuY2UgYmV0d2VlbiBjYW1lcmEgYW5kIHRlcnJhaW5cbiAgICAgICAgY29uc3QgY2VudGVyQWx0aXR1ZGUgPSBtZXJjYXRvclpmcm9tQWx0aXR1ZGUodGhpcy5fY2VudGVyQWx0aXR1ZGUsIHRoaXMuY2VudGVyLmxhdCkgKiB0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsO1xuICAgICAgICBjb25zdCBtaW5IZWlnaHQgPSB0aGlzLl9tZXJjYXRvclpmcm9tWm9vbSh0aGlzLl9tYXhab29tKSAqIE1hdGguY29zKGRlZ1RvUmFkKHRoaXMuX21heFBpdGNoKSk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KChwb3NpdGlvblsyXSAtIGNlbnRlckFsdGl0dWRlKSAvIE1hdGguY29zKHBpdGNoKSwgbWluSGVpZ2h0KTtcbiAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKGhlaWdodCk7XG5cbiAgICAgICAgLy8gQ2FzdCBhIHJheSB0b3dhcmRzIHRoZSBncm91bmQgdG8gZmluZCB0aGUgY2VudGVyIHBvaW50XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQocG9zaXRpb24sIHBvc2l0aW9uLCBkaXIsIGhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5fcGl0Y2ggPSBjbGFtcChwaXRjaCwgZGVnVG9SYWQodGhpcy5taW5QaXRjaCksIGRlZ1RvUmFkKHRoaXMubWF4UGl0Y2gpKTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IHdyYXAoYmVhcmluZywgLU1hdGguUEksIE1hdGguUEkpO1xuICAgICAgICB0aGlzLl9zZXRab29tKGNsYW1wKHpvb20sIHRoaXMuX21pblpvb20sIHRoaXMuX21heFpvb20pKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2VhTGV2ZWxab29tKCk7XG5cbiAgICAgICAgdGhpcy5fY2VudGVyID0gdGhpcy5jb29yZGluYXRlTG9jYXRpb24obmV3IE1lcmNhdG9yQ29vcmRpbmF0ZShwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKSk7XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29uc3RyYWluKCk7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgIH1cblxuICAgIF93b3JsZFNpemVGcm9tWm9vbSh6b29tOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5wb3coMi4wLCB6b29tKSAqIHRoaXMudGlsZVNpemU7XG4gICAgfVxuXG4gICAgX21lcmNhdG9yWmZyb21ab29tKHpvb206IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgLyB0aGlzLl93b3JsZFNpemVGcm9tWm9vbSh6b29tKTtcbiAgICB9XG5cbiAgICBfbWluaW11bUhlaWdodE92ZXJUZXJyYWluKCk6IG51bWJlciB7XG4gICAgICAgIC8vIERldGVybWluZSBtaW5pbXVtIGhlaWdodCBmb3IgdGhlIGNhbWVyYSBvdmVyIHRoZSB0ZXJyYWluIHJlbGF0ZWQgdG8gY3VycmVudCB6b29tLlxuICAgICAgICAvLyBWYWx1ZXMgYWJvdmUgNCBhbGxvdyBjYW1lcmEgY2xvc2VyIHRvIGUuZy4gdG9wIG9mIHRoZSBoaWxsLCBleHBvc2luZ1xuICAgICAgICAvLyBkcmFwZSByYXN0ZXIgb3ZlcnNjYWxlIGFydGlmYWN0cyBvciBjdXQgdGVycmFpbiAoc2VlIHVuZGVyIGl0KSBhcyBpdCBnZXRzIGNsaXBwZWQgb25cbiAgICAgICAgLy8gbmVhciBwbGFuZS4gUmV0dXJuZWQgdmFsdWUgaXMgaW4gbWVyY2F0b3IgY29vcmRpbmF0ZXMuXG4gICAgICAgIGNvbnN0IE1BWF9EUkFQRV9PVkVSWk9PTSA9IDQ7XG4gICAgICAgIGNvbnN0IHpvb20gPSBNYXRoLm1pbigodGhpcy5fc2VhTGV2ZWxab29tICE9IG51bGwgPyB0aGlzLl9zZWFMZXZlbFpvb20gOiB0aGlzLl96b29tKSArIE1BWF9EUkFQRV9PVkVSWk9PTSwgdGhpcy5fbWF4Wm9vbSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJjYXRvclpmcm9tWm9vbSh6b29tKTtcbiAgICB9XG5cbiAgICBfem9vbUZyb21NZXJjYXRvclooejogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVab29tKHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSAvICh6ICogdGhpcy50aWxlU2l6ZSkpO1xuICAgIH1cblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgaGVscGZ1bCB0byBhcHByb3hpbWF0ZSB0cnVlIHpvb20gZ2l2ZW4gYSBtZXJjYXRvciBoZWlnaHQgd2l0aCB2YXJ5aW5nIHBwbS5cbiAgICAvLyBXaXRoIEdsb2JlLCBzaW5jZSB3ZSB1c2UgYSBmaXhlZCByZWZlcmVuY2UgbGF0aXR1ZGUgYXQgbG93ZXIgem9vbSBsZXZlbHMgYW5kIHRyYW5zaXRpb24gYmV0d2VlbiB0aGlzXG4gICAgLy8gbGF0aXR1ZGUgYW5kIHRoZSBjZW50ZXIncyBsYXRpdHVkZSBhcyB5b3Ugem9vbSBpbiwgY2FtZXJhIHRvIGNlbnRlciBkaXN0YW5jZSB2YXJpZXMgZHluYW1pY2FsbHkuXG4gICAgLy8gQXMgdGhlIGNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgaXMgYSBmdW5jdGlvbiBvZiB6b29tLCB3ZSBuZWVkIHRvIGFwcHJveGltYXRlIHRoZSB0cnVlIHpvb21cbiAgICAvLyBnaXZlbiBhIG1lcmNhdG9yIG1ldGVyIHZhbHVlIGluIG9yZGVyIHRvIGVsaW1pbmF0ZSB0aGUgem9vbS9jYW1lcmFUb0NlbnRlckRpc3RhbmNlIGRlcGVuZGVuY3kuXG4gICAgem9vbUZyb21NZXJjYXRvclpBZGp1c3RlZChtZXJjYXRvclo6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGFzc2VydCh0aGlzLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJyk7XG4gICAgICAgIGFzc2VydChtZXJjYXRvclogIT09IDApO1xuXG4gICAgICAgIGxldCB6b29tTG93ID0gMDtcbiAgICAgICAgbGV0IHpvb21IaWdoID0gR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYO1xuICAgICAgICBsZXQgem9vbSA9IDA7XG4gICAgICAgIGxldCBtaW5ab29tRGlmZiA9IEluZmluaXR5O1xuXG4gICAgICAgIGNvbnN0IGVwc2lsb24gPSAxZS02O1xuXG4gICAgICAgIHdoaWxlICh6b29tSGlnaCAtIHpvb21Mb3cgPiBlcHNpbG9uICYmIHpvb21IaWdoID4gem9vbUxvdykge1xuICAgICAgICAgICAgY29uc3Qgem9vbU1pZCA9IHpvb21Mb3cgKyAoem9vbUhpZ2ggLSB6b29tTG93KSAqIDAuNTtcblxuICAgICAgICAgICAgY29uc3Qgd29ybGRTaXplID0gdGhpcy50aWxlU2l6ZSAqIE1hdGgucG93KDIsIHpvb21NaWQpO1xuICAgICAgICAgICAgY29uc3QgZCA9IHRoaXMuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZSh0aGlzLnByb2plY3Rpb24sIHpvb21NaWQsIHdvcmxkU2l6ZSk7XG4gICAgICAgICAgICBjb25zdCBuZXdab29tID0gdGhpcy5zY2FsZVpvb20oZCAvIChtZXJjYXRvclogKiB0aGlzLnRpbGVTaXplKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBNYXRoLmFicyh6b29tTWlkIC0gbmV3Wm9vbSk7XG5cbiAgICAgICAgICAgIGlmIChkaWZmIDwgbWluWm9vbURpZmYpIHtcbiAgICAgICAgICAgICAgICBtaW5ab29tRGlmZiA9IGRpZmY7XG4gICAgICAgICAgICAgICAgem9vbSA9IHpvb21NaWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh6b29tTWlkIDwgbmV3Wm9vbSkge1xuICAgICAgICAgICAgICAgIHpvb21Mb3cgPSB6b29tTWlkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB6b29tSGlnaCA9IHpvb21NaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gem9vbTtcbiAgICB9XG5cbiAgICBfdGVycmFpbkVuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghdGhpcy5fZWxldmF0aW9uKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy5wcm9qZWN0aW9uLnN1cHBvcnRzVGVycmFpbikge1xuICAgICAgICAgICAgd2Fybk9uY2UoJ1RlcnJhaW4gaXMgbm90IHlldCBzdXBwb3J0ZWQgd2l0aCBhbHRlcm5hdGUgcHJvamVjdGlvbnMuIFVzZSBtZXJjYXRvciBvciBnbG9iZSB0byBlbmFibGUgdGVycmFpbi4nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBhbnkgb2YgdGhlIGZvdXIgY29ybmVycyBhcmUgb2ZmIHRoZSBlZGdlIG9mIHRoZSByZW5kZXJlZCBtYXBcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGBmYWxzZWAgZm9yIGFsbCBub24tbWVyY2F0b3IgcHJvamVjdGlvblxuICAgIGFueUNvcm5lck9mZkVkZ2UocDA6IFBvaW50LCBwMTogUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgbWluWCA9IE1hdGgubWluKHAwLngsIHAxLngpO1xuICAgICAgICBjb25zdCBtYXhYID0gTWF0aC5tYXgocDAueCwgcDEueCk7XG4gICAgICAgIGNvbnN0IG1pblkgPSBNYXRoLm1pbihwMC55LCBwMS55KTtcbiAgICAgICAgY29uc3QgbWF4WSA9IE1hdGgubWF4KHAwLnksIHAxLnkpO1xuXG4gICAgICAgIGNvbnN0IGhvcml6b24gPSB0aGlzLmhvcml6b25MaW5lRnJvbVRvcChmYWxzZSk7XG4gICAgICAgIGlmIChtaW5ZIDwgaG9yaXpvbikgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbi5uYW1lICE9PSAnbWVyY2F0b3InKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtaW4gPSBuZXcgUG9pbnQobWluWCwgbWluWSk7XG4gICAgICAgIGNvbnN0IG1heCA9IG5ldyBQb2ludChtYXhYLCBtYXhZKTtcblxuICAgICAgICBjb25zdCBjb3JuZXJzID0gW1xuICAgICAgICAgICAgbWluLCBtYXgsXG4gICAgICAgICAgICBuZXcgUG9pbnQobWluWCwgbWF4WSksXG4gICAgICAgICAgICBuZXcgUG9pbnQobWF4WCwgbWluWSksXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgbWluV1ggPSAodGhpcy5yZW5kZXJXb3JsZENvcGllcykgPyAtTlVNX1dPUkxEX0NPUElFUyA6IDA7XG4gICAgICAgIGNvbnN0IG1heFdYID0gKHRoaXMucmVuZGVyV29ybGRDb3BpZXMpID8gMSArIE5VTV9XT1JMRF9DT1BJRVMgOiAxO1xuICAgICAgICBjb25zdCBtaW5XWSA9IDA7XG4gICAgICAgIGNvbnN0IG1heFdZID0gMTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNvcm5lciBvZiBjb3JuZXJzKSB7XG4gICAgICAgICAgICBjb25zdCByYXlJbnRlcnNlY3Rpb24gPSB0aGlzLnBvaW50UmF5SW50ZXJzZWN0aW9uKGNvcm5lcik7XG4gICAgICAgICAgICAvLyBQb2ludCBpcyBhYm92ZSB0aGUgaG9yaXpvblxuICAgICAgICAgICAgaWYgKHJheUludGVyc2VjdGlvbi50IDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUG9pbnQgaXMgb2ZmIHRoZSBib25kYXJpZXMgb2YgdGhlIG1hcFxuICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMucmF5SW50ZXJzZWN0aW9uQ29vcmRpbmF0ZShyYXlJbnRlcnNlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKGNvb3JkaW5hdGUueCA8IG1pbldYIHx8IGNvb3JkaW5hdGUueSA8IG1pbldZIHx8XG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZS54ID4gbWF4V1ggfHwgY29vcmRpbmF0ZS55ID4gbWF4V1kpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVja3MgdGhlIGZvdXIgY29ybmVycyBvZiB0aGUgZnJ1c3R1bSB0byBzZWUgaWYgdGhleSBsaWUgaW4gdGhlIG1hcCdzIHF1YWQuXG4gICAgLy9cbiAgICBpc0hvcml6b25WaXNpYmxlKCk6IGJvb2xlYW4ge1xuXG4gICAgICAgIC8vIHdlIGNvbnNpZGVyIHRoZSBob3Jpem9uIGFzIHZpc2libGUgaWYgdGhlIGFuZ2xlIGJldHdlZW5cbiAgICAgICAgLy8gYSB0aGUgdG9wIHBsYW5lIG9mIHRoZSBmcnVzdHVtIGFuZCB0aGUgbWFwIHBsYW5lIGlzIHNtYWxsZXIgdGhhbiB0aGlzIHRocmVzaG9sZC5cbiAgICAgICAgY29uc3QgaG9yaXpvbkFuZ2xlRXBzaWxvbiA9IDI7XG4gICAgICAgIGlmICh0aGlzLnBpdGNoICsgcmFkVG9EZWcodGhpcy5mb3ZBYm92ZUNlbnRlcikgPiAoOTAgLSBob3Jpem9uQW5nbGVFcHNpbG9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5hbnlDb3JuZXJPZmZFZGdlKG5ldyBQb2ludCgwLCAwKSwgbmV3IFBvaW50KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSB6b29tIGRlbHRhIHZhbHVlIGludG8gYSBwaHlzaWNhbCBkaXN0YW5jZSB0cmF2ZWxsZWQgaW4gd2ViIG1lcmNhdG9yIGNvb3JkaW5hdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHt2ZWMzfSBjZW50ZXIgRGVzdGluYXRpb24gbWVyY2F0b3IgcG9pbnQgb2YgdGhlIG1vdmVtZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tRGVsdGEgQ2hhbmdlIGluIHRoZSB6b29tIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBkaXN0YW5jZSBpbiBtZXJjYXRvciBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICB6b29tRGVsdGFUb01vdmVtZW50KGNlbnRlcjogVmVjMywgem9vbURlbHRhOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHZlYzMubGVuZ3RoKHZlYzMuc3ViKFtdLCB0aGlzLl9jYW1lcmEucG9zaXRpb24sIGNlbnRlcikpO1xuICAgICAgICBjb25zdCByZWxhdGl2ZVpvb20gPSB0aGlzLl96b29tRnJvbU1lcmNhdG9yWihkaXN0YW5jZSkgKyB6b29tRGVsdGE7XG4gICAgICAgIHJldHVybiBkaXN0YW5jZSAtIHRoaXMuX21lcmNhdG9yWmZyb21ab29tKHJlbGF0aXZlWm9vbSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBUaGUgY2FtZXJhIGxvb2tzIGF0IHRoZSBtYXAgZnJvbSBhIDNEIChsbmcsIGxhdCwgYWx0aXR1ZGUpIGxvY2F0aW9uLiBMZXQncyB1c2UgYGNhbWVyYUxvY2F0aW9uYFxuICAgICAqIGFzIHRoZSBuYW1lIGZvciB0aGUgbG9jYXRpb24gdW5kZXIgdGhlIGNhbWVyYSBhbmQgb24gdGhlIHN1cmZhY2Ugb2YgdGhlIGVhcnRoIChsbmcsIGxhdCwgMCkuXG4gICAgICogYGNhbWVyYVBvaW50YCBpcyB0aGUgcHJvamVjdGVkIHBvc2l0aW9uIG9mIHRoZSBgY2FtZXJhTG9jYXRpb25gLlxuICAgICAqXG4gICAgICogVGhpcyBwb2ludCBpcyB1c2VmdWwgdG8gdXMgYmVjYXVzZSBvbmx5IGZpbGwtZXh0cnVzaW9ucyB0aGF0IGFyZSBiZXR3ZWVuIGBjYW1lcmFQb2ludGAgYW5kXG4gICAgICogdGhlIHF1ZXJ5IHBvaW50IG9uIHRoZSBzdXJmYWNlIG9mIHRoZSBlYXJ0aCBjYW4gZXh0ZW5kIGFuZCBpbnRlcnNlY3QgdGhlIHF1ZXJ5LlxuICAgICAqXG4gICAgICogV2hlbiB0aGUgbWFwIGlzIG5vdCBwaXRjaGVkIHRoZSBgY2FtZXJhUG9pbnRgIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGNlbnRlciBvZiB0aGUgbWFwIGJlY2F1c2VcbiAgICAgKiB0aGUgY2FtZXJhIGlzIHJpZ2h0IGFib3ZlIHRoZSBjZW50ZXIgb2YgdGhlIG1hcC5cbiAgICAgKi9cbiAgICBnZXRDYW1lcmFQb2ludCgpOiBQb2ludCB7XG4gICAgICAgIGlmICh0aGlzLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICAgICAgLy8gRmluZCBwcmVjaXNlIGxvY2F0aW9uIG9mIHRoZSBwcm9qZWN0ZWQgY2FtZXJhIHBvc2l0aW9uIG9uIHRoZSBjdXJ2ZWQgc3VyZmFjZVxuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gW3RoaXMuZ2xvYmVNYXRyaXhbMTJdLCB0aGlzLmdsb2JlTWF0cml4WzEzXSwgdGhpcy5nbG9iZU1hdHJpeFsxNF1dO1xuICAgICAgICAgICAgY29uc3QgcG9zID0gcHJvamVjdENsYW1wZWQoY2VudGVyLCB0aGlzLnBpeGVsTWF0cml4KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQocG9zWzBdLCBwb3NbMV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGl0Y2ggPSB0aGlzLl9waXRjaDtcbiAgICAgICAgICAgIGNvbnN0IHlPZmZzZXQgPSBNYXRoLnRhbihwaXRjaCkgKiAodGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlIHx8IDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2VudGVyUG9pbnQuYWRkKG5ldyBQb2ludCgwLCB5T2Zmc2V0KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHByb2plY3Rpb246IFByb2plY3Rpb24sIHpvb206IG51bWJlciA9IHRoaXMuem9vbSwgd29ybGRTaXplOiBudW1iZXIgPSB0aGlzLndvcmxkU2l6ZSk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHQgPSBnZXRQcm9qZWN0aW9uSW50ZXJwb2xhdGlvblQocHJvamVjdGlvbiwgem9vbSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIDEwMjQpO1xuICAgICAgICBjb25zdCBwcm9qZWN0aW9uU2NhbGVyID0gcHJvamVjdGlvbi5waXhlbFNwYWNlQ29udmVyc2lvbih0aGlzLmNlbnRlci5sYXQsIHdvcmxkU2l6ZSwgdCk7XG4gICAgICAgIHJldHVybiAwLjUgLyBNYXRoLnRhbih0aGlzLl9mb3YgKiAwLjUpICogdGhpcy5oZWlnaHQgKiBwcm9qZWN0aW9uU2NhbGVyO1xuICAgIH1cblxuICAgIGdldFdvcmxkVG9DYW1lcmFNYXRyaXgoKTogTWF0NCB7XG4gICAgICAgIGNvbnN0IHpVbml0ID0gdGhpcy5wcm9qZWN0aW9uLnpBeGlzVW5pdCA9PT0gXCJtZXRlcnNcIiA/IHRoaXMucGl4ZWxzUGVyTWV0ZXIgOiAxLjA7XG4gICAgICAgIGNvbnN0IHdvcmxkVG9DYW1lcmEgPSB0aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYSh0aGlzLndvcmxkU2l6ZSwgelVuaXQpO1xuXG4gICAgICAgIGlmICh0aGlzLnByb2plY3Rpb24ubmFtZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICAgICAgbWF0NC5tdWx0aXBseSh3b3JsZFRvQ2FtZXJhLCB3b3JsZFRvQ2FtZXJhLCB0aGlzLmdsb2JlTWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3b3JsZFRvQ2FtZXJhO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNmb3JtO1xuIiwiLy8gQGZsb3cgc3RyaWN0XG5cbi8qKlxuICogVGhyb3R0bGUgdGhlIGdpdmVuIGZ1bmN0aW9uIHRvIHJ1biBhdCBtb3N0IGV2ZXJ5IGBwZXJpb2RgIG1pbGxpc2Vjb25kcy5cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRocm90dGxlKGZuOiAoKSA9PiB2b2lkLCB0aW1lOiBudW1iZXIpOiAoKSA9PiA/VGltZW91dElEIHtcbiAgICBsZXQgcGVuZGluZyA9IGZhbHNlO1xuICAgIGxldCB0aW1lcklkOiA/VGltZW91dElEID0gbnVsbDtcblxuICAgIGNvbnN0IGxhdGVyID0gKCkgPT4ge1xuICAgICAgICB0aW1lcklkID0gbnVsbDtcbiAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dChsYXRlciwgdGltZSk7XG4gICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcGVuZGluZyA9IHRydWU7XG4gICAgICAgIGlmICghdGltZXJJZCkge1xuICAgICAgICAgICAgbGF0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGltZXJJZDtcbiAgICB9O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtiaW5kQWxsfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdy5qcyc7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSAnLi4vdXRpbC90aHJvdHRsZS5qcyc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcC5qcyc7XG5cbi8qXG4gKiBBZGRzIHRoZSBtYXAncyBwb3NpdGlvbiB0byBpdHMgcGFnZSdzIGxvY2F0aW9uIGhhc2guXG4gKiBQYXNzZWQgYXMgYW4gb3B0aW9uIHRvIHRoZSBtYXAgb2JqZWN0LlxuICpcbiAqIEByZXR1cm5zIHtIYXNofSBgdGhpc2BcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFzaCB7XG4gICAgX21hcDogP01hcDtcbiAgICBfdXBkYXRlSGFzaDogKCkgPT4gP1RpbWVvdXRJRDtcbiAgICBfaGFzaE5hbWU6ID9zdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihoYXNoTmFtZTogP3N0cmluZykge1xuICAgICAgICB0aGlzLl9oYXNoTmFtZSA9IGhhc2hOYW1lICYmIGVuY29kZVVSSUNvbXBvbmVudChoYXNoTmFtZSk7XG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19nZXRDdXJyZW50SGFzaCcsXG4gICAgICAgICAgICAnX29uSGFzaENoYW5nZScsXG4gICAgICAgICAgICAnX3VwZGF0ZUhhc2gnXG4gICAgICAgIF0sIHRoaXMpO1xuXG4gICAgICAgIC8vIE1vYmlsZSBTYWZhcmkgZG9lc24ndCBhbGxvdyB1cGRhdGluZyB0aGUgaGFzaCBtb3JlIHRoYW4gMTAwIHRpbWVzIHBlciAzMCBzZWNvbmRzLlxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX3VwZGF0ZUhhc2ggPSB0aHJvdHRsZSh0aGlzLl91cGRhdGVIYXNoVW50aHJvdHRsZWQuYmluZCh0aGlzKSwgMzAgKiAxMDAwIC8gMTAwKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIE1hcCBlbGVtZW50IHRvIGxpc3RlbiBmb3IgY29vcmRpbmF0ZSBjaGFuZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwXG4gICAgICogQHJldHVybnMge0hhc2h9IGB0aGlzYFxuICAgICAqL1xuICAgIGFkZFRvKG1hcDogTWFwKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMuX29uSGFzaENoYW5nZSwgZmFsc2UpO1xuICAgICAgICBtYXAub24oJ21vdmVlbmQnLCB0aGlzLl91cGRhdGVIYXNoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBSZW1vdmVzIGhhc2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gYHRoaXNgXG4gICAgICovXG4gICAgcmVtb3ZlKCk6IHRoaXMge1xuICAgICAgICBpZiAoIXRoaXMuX21hcCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZUhhc2gpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5fb25IYXNoQ2hhbmdlLCBmYWxzZSk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl91cGRhdGVIYXNoKCkpO1xuXG4gICAgICAgIHRoaXMuX21hcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0SGFzaFN0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGlmICghbWFwKSByZXR1cm4gJyc7XG5cbiAgICAgICAgY29uc3QgaGFzaCA9IGdldEhhc2hTdHJpbmcobWFwKTtcblxuICAgICAgICBpZiAodGhpcy5faGFzaE5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhc2hOYW1lID0gdGhpcy5faGFzaE5hbWU7XG4gICAgICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSkuc3BsaXQoJyYnKS5tYXAocGFydCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFydC5zcGxpdCgnPScpWzBdO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IGhhc2hOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2tleX09JHtoYXNofWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0O1xuICAgICAgICAgICAgfSkuZmlsdGVyKGEgPT4gYSk7XG4gICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChgJHtoYXNoTmFtZX09JHtoYXNofWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGAjJHtwYXJ0cy5qb2luKCcmJyl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBgIyR7aGFzaH1gO1xuICAgIH1cblxuICAgIF9nZXRDdXJyZW50SGFzaCgpOiBBcnJheTxzdHJpbmc+IHtcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IGhhc2ggZnJvbSBsb2NhdGlvbiwgc3RyaXBwZWQgZnJvbSBpdHMgbnVtYmVyIHNpZ25cbiAgICAgICAgY29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJyk7XG4gICAgICAgIGlmICh0aGlzLl9oYXNoTmFtZSkge1xuICAgICAgICAgICAgLy8gU3BsaXQgdGhlIHBhcmFtZXRlci1zdHlsZWQgaGFzaCBpbnRvIHBhcnRzIGFuZCBmaW5kIHRoZSB2YWx1ZSB3ZSBuZWVkXG4gICAgICAgICAgICBsZXQga2V5dmFsO1xuICAgICAgICAgICAgaGFzaC5zcGxpdCgnJicpLm1hcChcbiAgICAgICAgICAgICAgICBwYXJ0ID0+IHBhcnQuc3BsaXQoJz0nKVxuICAgICAgICAgICAgKS5mb3JFYWNoKHBhcnQgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0WzBdID09PSB0aGlzLl9oYXNoTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBrZXl2YWwgPSBwYXJ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIChrZXl2YWwgPyBrZXl2YWxbMV0gfHwgJycgOiAnJykuc3BsaXQoJy8nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzaC5zcGxpdCgnLycpO1xuICAgIH1cblxuICAgIF9vbkhhc2hDaGFuZ2UoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgaWYgKCFtYXApIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgbG9jID0gdGhpcy5fZ2V0Q3VycmVudEhhc2goKTtcbiAgICAgICAgaWYgKGxvYy5sZW5ndGggPj0gMyAmJiAhbG9jLnNvbWUodiA9PiBpc05hTih2KSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGJlYXJpbmcgPSBtYXAuZHJhZ1JvdGF0ZS5pc0VuYWJsZWQoKSAmJiBtYXAudG91Y2hab29tUm90YXRlLmlzRW5hYmxlZCgpID8gKyhsb2NbM10gfHwgMCkgOiBtYXAuZ2V0QmVhcmluZygpO1xuICAgICAgICAgICAgbWFwLmp1bXBUbyh7XG4gICAgICAgICAgICAgICAgY2VudGVyOiBbK2xvY1syXSwgK2xvY1sxXV0sXG4gICAgICAgICAgICAgICAgem9vbTogK2xvY1swXSxcbiAgICAgICAgICAgICAgICBiZWFyaW5nLFxuICAgICAgICAgICAgICAgIHBpdGNoOiArKGxvY1s0XSB8fCAwKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUhhc2hVbnRocm90dGxlZCgpIHtcbiAgICAgICAgLy8gUmVwbGFjZSBpZiBhbHJlYWR5IHByZXNlbnQsIGVsc2UgYXBwZW5kIHRoZSB1cGRhdGVkIGhhc2ggc3RyaW5nXG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvKCMuKyk/JC8sIHRoaXMuZ2V0SGFzaFN0cmluZygpKTtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHdpbmRvdy5oaXN0b3J5LnN0YXRlLCBudWxsLCBsb2NhdGlvbik7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGFzaFN0cmluZyhtYXA6IE1hcCwgbWFwRmVlZGJhY2s/OiBib29sZWFuKTogc3RyaW5nIHtcbiAgICBjb25zdCBjZW50ZXIgPSBtYXAuZ2V0Q2VudGVyKCksXG4gICAgICAgIHpvb20gPSBNYXRoLnJvdW5kKG1hcC5nZXRab29tKCkgKiAxMDApIC8gMTAwLFxuICAgICAgICAvLyBkZXJpdmVkIGZyb20gZXF1YXRpb246IDUxMnB4ICogMl56IC8gMzYwIC8gMTBeZCA8IDAuNXB4XG4gICAgICAgIHByZWNpc2lvbiA9IE1hdGguY2VpbCgoem9vbSAqIE1hdGguTE4yICsgTWF0aC5sb2coNTEyIC8gMzYwIC8gMC41KSkgLyBNYXRoLkxOMTApLFxuICAgICAgICBtID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbiksXG4gICAgICAgIGxuZyA9IE1hdGgucm91bmQoY2VudGVyLmxuZyAqIG0pIC8gbSxcbiAgICAgICAgbGF0ID0gTWF0aC5yb3VuZChjZW50ZXIubGF0ICogbSkgLyBtLFxuICAgICAgICBiZWFyaW5nID0gbWFwLmdldEJlYXJpbmcoKSxcbiAgICAgICAgcGl0Y2ggPSBtYXAuZ2V0UGl0Y2goKTtcblxuICAgIC8vIG5ldyBtYXAgZmVlZGJhY2sgc2l0ZSBoYXMgc29tZSBjb25zdHJhaW50cyB0aGF0IGRvbid0IGFsbG93XG4gICAgLy8gdXMgdG8gdXNlIHRoZSBzYW1lIGhhc2ggZm9ybWF0IGFzIHdlIGRvIGZvciB0aGUgTWFwIGhhc2ggb3B0aW9uLlxuICAgIGxldCBoYXNoID0gbWFwRmVlZGJhY2sgPyBgLyR7bG5nfS8ke2xhdH0vJHt6b29tfWAgOiBgJHt6b29tfS8ke2xhdH0vJHtsbmd9YDtcblxuICAgIGlmIChiZWFyaW5nIHx8IHBpdGNoKSBoYXNoICs9IChgLyR7TWF0aC5yb3VuZChiZWFyaW5nICogMTApIC8gMTB9YCk7XG4gICAgaWYgKHBpdGNoKSBoYXNoICs9IChgLyR7TWF0aC5yb3VuZChwaXRjaCl9YCk7XG5cbiAgICByZXR1cm4gaGFzaDtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi9tYXAuanMnO1xuaW1wb3J0IHtiZXppZXIsIGNsYW1wLCBleHRlbmR9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5cbmltcG9ydCB0eXBlIHtEcmFnUGFuT3B0aW9uc30gZnJvbSAnLi9oYW5kbGVyL3NoaW0vZHJhZ19wYW4uanMnO1xuaW1wb3J0IHR5cGUge0Vhc2luZ09wdGlvbnN9IGZyb20gJy4uL3VpL2NhbWVyYS5qcyc7XG5cbmNvbnN0IGRlZmF1bHRJbmVydGlhT3B0aW9ucyA9IHtcbiAgICBsaW5lYXJpdHk6IDAuMyxcbiAgICBlYXNpbmc6IGJlemllcigwLCAwLCAwLjMsIDEpLFxufTtcblxuY29uc3QgZGVmYXVsdFBhbkluZXJ0aWFPcHRpb25zID0gZXh0ZW5kKHtcbiAgICBkZWNlbGVyYXRpb246IDI1MDAsXG4gICAgbWF4U3BlZWQ6IDE0MDBcbn0sIGRlZmF1bHRJbmVydGlhT3B0aW9ucyk7XG5cbmNvbnN0IGRlZmF1bHRab29tSW5lcnRpYU9wdGlvbnMgPSBleHRlbmQoe1xuICAgIGRlY2VsZXJhdGlvbjogMjAsXG4gICAgbWF4U3BlZWQ6IDE0MDBcbn0sIGRlZmF1bHRJbmVydGlhT3B0aW9ucyk7XG5cbmNvbnN0IGRlZmF1bHRCZWFyaW5nSW5lcnRpYU9wdGlvbnMgPSBleHRlbmQoe1xuICAgIGRlY2VsZXJhdGlvbjogMTAwMCxcbiAgICBtYXhTcGVlZDogMzYwXG59LCBkZWZhdWx0SW5lcnRpYU9wdGlvbnMpO1xuXG5jb25zdCBkZWZhdWx0UGl0Y2hJbmVydGlhT3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgZGVjZWxlcmF0aW9uOiAxMDAwLFxuICAgIG1heFNwZWVkOiA5MFxufSwgZGVmYXVsdEluZXJ0aWFPcHRpb25zKTtcblxuZXhwb3J0IHR5cGUgSW5lcnRpYU9wdGlvbnMgPSB7XG4gICAgbGluZWFyaXR5OiBudW1iZXI7XG4gICAgZWFzaW5nOiAodDogbnVtYmVyKSA9PiBudW1iZXI7XG4gICAgZGVjZWxlcmF0aW9uOiBudW1iZXI7XG4gICAgbWF4U3BlZWQ6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIElucHV0RXZlbnQgPSBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCB8IEtleWJvYXJkRXZlbnQgfCBXaGVlbEV2ZW50O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIYW5kbGVySW5lcnRpYSB7XG4gICAgX21hcDogTWFwO1xuICAgIF9pbmVydGlhQnVmZmVyOiBBcnJheTx7IHRpbWU6IG51bWJlciwgc2V0dGluZ3M6IE9iamVjdCB9PjtcblxuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9pbmVydGlhQnVmZmVyID0gW107XG4gICAgfVxuXG4gICAgcmVjb3JkKHNldHRpbmdzOiBhbnkpIHtcbiAgICAgICAgdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX2luZXJ0aWFCdWZmZXIucHVzaCh7dGltZTogYnJvd3Nlci5ub3coKSwgc2V0dGluZ3N9KTtcbiAgICB9XG5cbiAgICBfZHJhaW5JbmVydGlhQnVmZmVyKCkge1xuICAgICAgICBjb25zdCBpbmVydGlhID0gdGhpcy5faW5lcnRpYUJ1ZmZlcixcbiAgICAgICAgICAgIG5vdyA9IGJyb3dzZXIubm93KCksXG4gICAgICAgICAgICBjdXRvZmYgPSAxNjA7ICAgLy9tc2VjXG5cbiAgICAgICAgd2hpbGUgKGluZXJ0aWEubGVuZ3RoID4gMCAmJiBub3cgLSBpbmVydGlhWzBdLnRpbWUgPiBjdXRvZmYpXG4gICAgICAgICAgICBpbmVydGlhLnNoaWZ0KCk7XG4gICAgfVxuXG4gICAgX29uTW92ZUVuZChwYW5JbmVydGlhT3B0aW9ucz86IERyYWdQYW5PcHRpb25zKTogPyhFYXNpbmdPcHRpb25zICYge2Vhc2VJZD86IHN0cmluZ30pIHtcbiAgICAgICAgaWYgKGJyb3dzZXIucHJlZmVyc1JlZHVjZWRNb3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpO1xuICAgICAgICBpZiAodGhpcy5faW5lcnRpYUJ1ZmZlci5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWx0YXMgPSB7XG4gICAgICAgICAgICB6b29tOiAwLFxuICAgICAgICAgICAgYmVhcmluZzogMCxcbiAgICAgICAgICAgIHBpdGNoOiAwLFxuICAgICAgICAgICAgcGFuOiBuZXcgUG9pbnQoMCwgMCksXG4gICAgICAgICAgICBwaW5jaEFyb3VuZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJvdW5kOiB1bmRlZmluZWRcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGNvbnN0IHtzZXR0aW5nc30gb2YgdGhpcy5faW5lcnRpYUJ1ZmZlcikge1xuICAgICAgICAgICAgZGVsdGFzLnpvb20gKz0gc2V0dGluZ3Muem9vbURlbHRhIHx8IDA7XG4gICAgICAgICAgICBkZWx0YXMuYmVhcmluZyArPSBzZXR0aW5ncy5iZWFyaW5nRGVsdGEgfHwgMDtcbiAgICAgICAgICAgIGRlbHRhcy5waXRjaCArPSBzZXR0aW5ncy5waXRjaERlbHRhIHx8IDA7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MucGFuRGVsdGEpIGRlbHRhcy5wYW4uX2FkZChzZXR0aW5ncy5wYW5EZWx0YSk7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuYXJvdW5kKSBkZWx0YXMuYXJvdW5kID0gc2V0dGluZ3MuYXJvdW5kO1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLnBpbmNoQXJvdW5kKSBkZWx0YXMucGluY2hBcm91bmQgPSBzZXR0aW5ncy5waW5jaEFyb3VuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxhc3RFbnRyeSA9IHRoaXMuX2luZXJ0aWFCdWZmZXJbdGhpcy5faW5lcnRpYUJ1ZmZlci5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSAobGFzdEVudHJ5LnRpbWUgLSB0aGlzLl9pbmVydGlhQnVmZmVyWzBdLnRpbWUpO1xuXG4gICAgICAgIGNvbnN0IGVhc2VPcHRpb25zID0ge307XG5cbiAgICAgICAgaWYgKGRlbHRhcy5wYW4ubWFnKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZUVhc2luZyhkZWx0YXMucGFuLm1hZygpLCBkdXJhdGlvbiwgZXh0ZW5kKHt9LCBkZWZhdWx0UGFuSW5lcnRpYU9wdGlvbnMsIHBhbkluZXJ0aWFPcHRpb25zIHx8IHt9KSk7XG4gICAgICAgICAgICBlYXNlT3B0aW9ucy5vZmZzZXQgPSBkZWx0YXMucGFuLm11bHQocmVzdWx0LmFtb3VudCAvIGRlbHRhcy5wYW4ubWFnKCkpO1xuICAgICAgICAgICAgZWFzZU9wdGlvbnMuY2VudGVyID0gdGhpcy5fbWFwLnRyYW5zZm9ybS5jZW50ZXI7XG4gICAgICAgICAgICBleHRlbmREdXJhdGlvbihlYXNlT3B0aW9ucywgcmVzdWx0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWx0YXMuem9vbSkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlRWFzaW5nKGRlbHRhcy56b29tLCBkdXJhdGlvbiwgZGVmYXVsdFpvb21JbmVydGlhT3B0aW9ucyk7XG4gICAgICAgICAgICBlYXNlT3B0aW9ucy56b29tID0gdGhpcy5fbWFwLnRyYW5zZm9ybS56b29tICsgcmVzdWx0LmFtb3VudDtcbiAgICAgICAgICAgIGV4dGVuZER1cmF0aW9uKGVhc2VPcHRpb25zLCByZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlbHRhcy5iZWFyaW5nKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVFYXNpbmcoZGVsdGFzLmJlYXJpbmcsIGR1cmF0aW9uLCBkZWZhdWx0QmVhcmluZ0luZXJ0aWFPcHRpb25zKTtcbiAgICAgICAgICAgIGVhc2VPcHRpb25zLmJlYXJpbmcgPSB0aGlzLl9tYXAudHJhbnNmb3JtLmJlYXJpbmcgKyBjbGFtcChyZXN1bHQuYW1vdW50LCAtMTc5LCAxNzkpO1xuICAgICAgICAgICAgZXh0ZW5kRHVyYXRpb24oZWFzZU9wdGlvbnMsIHJlc3VsdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVsdGFzLnBpdGNoKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVFYXNpbmcoZGVsdGFzLnBpdGNoLCBkdXJhdGlvbiwgZGVmYXVsdFBpdGNoSW5lcnRpYU9wdGlvbnMpO1xuICAgICAgICAgICAgZWFzZU9wdGlvbnMucGl0Y2ggPSB0aGlzLl9tYXAudHJhbnNmb3JtLnBpdGNoICsgcmVzdWx0LmFtb3VudDtcbiAgICAgICAgICAgIGV4dGVuZER1cmF0aW9uKGVhc2VPcHRpb25zLCByZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVhc2VPcHRpb25zLnpvb20gfHwgZWFzZU9wdGlvbnMuYmVhcmluZykge1xuICAgICAgICAgICAgY29uc3QgbGFzdCA9IGRlbHRhcy5waW5jaEFyb3VuZCA9PT0gdW5kZWZpbmVkID8gZGVsdGFzLmFyb3VuZCA6IGRlbHRhcy5waW5jaEFyb3VuZDtcbiAgICAgICAgICAgIGVhc2VPcHRpb25zLmFyb3VuZCA9IGxhc3QgPyB0aGlzLl9tYXAudW5wcm9qZWN0KGxhc3QpIDogdGhpcy5fbWFwLmdldENlbnRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBlYXNlT3B0aW9ucy5ub01vdmVTdGFydCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlYXNlT3B0aW9ucztcbiAgICB9XG59XG5cbi8vIFVuZm9ydHVuYXRlbHkgem9vbSwgYmVhcmluZywgZXRjIGNhbid0IGhhdmUgZGlmZmVyZW50IGR1cmF0aW9ucyBhbmQgZWFzaW5ncyBzb1xuLy8gd2UgbmVlZCB0byBjaG9vc2Ugb25lLiBXZSB1c2UgdGhlIGxvbmdlc3QgZHVyYXRpb24gYW5kIGl0J3MgY29ycmVzcG9uZGluZyBlYXNpbmcuXG5mdW5jdGlvbiBleHRlbmREdXJhdGlvbihlYXNlT3B0aW9ucywgcmVzdWx0KSB7XG4gICAgaWYgKCFlYXNlT3B0aW9ucy5kdXJhdGlvbiB8fCBlYXNlT3B0aW9ucy5kdXJhdGlvbiA8IHJlc3VsdC5kdXJhdGlvbikge1xuICAgICAgICBlYXNlT3B0aW9ucy5kdXJhdGlvbiA9IHJlc3VsdC5kdXJhdGlvbjtcbiAgICAgICAgZWFzZU9wdGlvbnMuZWFzaW5nID0gcmVzdWx0LmVhc2luZztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZUVhc2luZyhhbW91bnQsIGluZXJ0aWFEdXJhdGlvbjogbnVtYmVyLCBpbmVydGlhT3B0aW9ucykge1xuICAgIGNvbnN0IHttYXhTcGVlZCwgbGluZWFyaXR5LCBkZWNlbGVyYXRpb259ID0gaW5lcnRpYU9wdGlvbnM7XG4gICAgY29uc3Qgc3BlZWQgPSBjbGFtcChcbiAgICAgICAgYW1vdW50ICogbGluZWFyaXR5IC8gKGluZXJ0aWFEdXJhdGlvbiAvIDEwMDApLFxuICAgICAgICAtbWF4U3BlZWQsXG4gICAgICAgIG1heFNwZWVkKTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IE1hdGguYWJzKHNwZWVkKSAvIChkZWNlbGVyYXRpb24gKiBsaW5lYXJpdHkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGVhc2luZzogaW5lcnRpYU9wdGlvbnMuZWFzaW5nLFxuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24gKiAxMDAwLFxuICAgICAgICBhbW91bnQ6IHNwZWVkICogKGR1cmF0aW9uIC8gMilcbiAgICB9O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtFdmVudH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkLmpzJztcblxuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uL3V0aWwvZG9tLmpzJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi91dGlsL3V0aWwuanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi9tYXAuanMnO1xuaW1wb3J0IHR5cGUgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0LmpzJztcblxuLyoqXG4gKiBgTWFwTW91c2VFdmVudGAgaXMgYSBjbGFzcyB1c2VkIGJ5IG90aGVyIGNsYXNzZXMgdG8gZ2VuZXJhdGVcbiAqIG1vdXNlIGV2ZW50cyBvZiBzcGVjaWZpYyB0eXBlcyBzdWNoIGFzICdjbGljaycgb3IgJ2hvdmVyJy5cbiAqIEZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgZXZlbnRzLCBzZWUgW2BNYXBgIGV2ZW50c10oL21hcGJveC1nbC1qcy9hcGkvbWFwLyNtYXAtZXZlbnRzKS5cbiAqXG4gKiBAZXh0ZW5kcyB7T2JqZWN0fVxuICogQGV4YW1wbGVcbiAqIC8vIEV4YW1wbGUgb2YgYSBNYXBNb3VzZUV2ZW50IG9mIHR5cGUgXCJjbGlja1wiXG4gKiBtYXAub24oJ2NsaWNrJywgKGUpID0+IHtcbiAqICAgICBjb25zb2xlLmxvZyhlKTtcbiAqICAgICAvLyB7XG4gKiAgICAgLy8gICAgIGxuZ0xhdDoge1xuICogICAgIC8vICAgICAgICAgbG5nOiA0MC4yMDMsXG4gKiAgICAgLy8gICAgICAgICBsYXQ6IC03NC40NTFcbiAqICAgICAvLyAgICAgfSxcbiAqICAgICAvLyAgICAgb3JpZ2luYWxFdmVudDogey4uLn0sXG4gKiAgICAgLy8gICAgIHBvaW50OiB7XG4gKiAgICAgLy8gICAgICAgICB4OiAyNjYsXG4gKiAgICAgLy8gICAgICAgICB5OiA0NjRcbiAqICAgICAvLyAgICAgfSxcbiAqICAgICAvLyAgICAgIHRhcmdldDogey4uLn0sXG4gKiAgICAgLy8gICAgICB0eXBlOiBcImNsaWNrXCJcbiAqICAgICAvLyB9XG4gKiB9KTtcbiAqIEBzZWUgW1JlZmVyZW5jZTogYE1hcGAgZXZlbnRzIEFQSSBkb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLWV2ZW50cylcbiAqIEBzZWUgW0V4YW1wbGU6IERpc3BsYXkgcG9wdXAgb24gY2xpY2tdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWNsaWNrLylcbiAqIEBzZWUgW0V4YW1wbGU6IERpc3BsYXkgcG9wdXAgb24gaG92ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24taG92ZXIvKVxuICovXG5leHBvcnQgY2xhc3MgTWFwTW91c2VFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBvcmlnaW5hdGluZyBldmVudC4gRm9yIGEgZnVsbCBsaXN0IG9mIGF2YWlsYWJsZSBldmVudHMsIHNlZSBbYE1hcGAgZXZlbnRzXSgvbWFwYm94LWdsLWpzL2FwaS9tYXAvI21hcC1ldmVudHMpLlxuICAgICAqL1xuICAgIHR5cGU6ICdtb3VzZWRvd24nXG4gICAgICAgIHwgJ21vdXNldXAnXG4gICAgICAgIHwgJ3ByZWNsaWNrJ1xuICAgICAgICB8ICdjbGljaydcbiAgICAgICAgfCAnZGJsY2xpY2snXG4gICAgICAgIHwgJ21vdXNlbW92ZSdcbiAgICAgICAgfCAnbW91c2VvdmVyJ1xuICAgICAgICB8ICdtb3VzZWVudGVyJ1xuICAgICAgICB8ICdtb3VzZWxlYXZlJ1xuICAgICAgICB8ICdtb3VzZW91dCdcbiAgICAgICAgfCAnY29udGV4dG1lbnUnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBNYXBgIG9iamVjdCB0aGF0IGZpcmVkIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICB0YXJnZXQ6IE1hcDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBET00gZXZlbnQgd2hpY2ggY2F1c2VkIHRoZSBtYXAgZXZlbnQuXG4gICAgICovXG4gICAgb3JpZ2luYWxFdmVudDogTW91c2VFdmVudDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXhlbCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgY3Vyc29yLCByZWxhdGl2ZSB0byB0aGUgbWFwIGFuZCBtZWFzdXJlZCBmcm9tIHRoZSB0b3AgbGVmdCBjb3JuZXIuXG4gICAgICovXG4gICAgcG9pbnQ6IFBvaW50O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGdlb2dyYXBoaWMgbG9jYXRpb24gb24gdGhlIG1hcCBvZiB0aGUgbW91c2UgY3Vyc29yLlxuICAgICAqL1xuICAgIGxuZ0xhdDogTG5nTGF0O1xuXG4gICAgLyoqXG4gICAgICogSWYgYSBzaW5nbGUgYGxheWVySWRgKGFzIGEgc2luZ2xlIHN0cmluZykgb3IgbXVsdGlwbGUgYGxheWVySWRzYCAoYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncykgd2VyZSBzcGVjaWZpZWQgd2hlbiBhZGRpbmcgdGhlIGV2ZW50IGxpc3RlbmVyIHdpdGgge0BsaW5rIE1hcCNvbn0sXG4gICAgICogYGZlYXR1cmVzYCB3aWxsIGJlIGFuIGFycmF5IG9mIFtHZW9KU09OXShodHRwOi8vZ2VvanNvbi5vcmcvKSBbRmVhdHVyZSBvYmplY3RzXShodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzk0NiNzZWN0aW9uLTMuMikuXG4gICAgICogVGhlIGFycmF5IHdpbGwgY29udGFpbiBhbGwgZmVhdHVyZXMgZnJvbSB0aGF0IGxheWVyIHRoYXQgYXJlIHJlbmRlcmVkIGF0IHRoZSBldmVudCdzIHBvaW50LFxuICAgICAqIGluIHRoZSBvcmRlciB0aGF0IHRoZXkgYXJlIHJlbmRlcmVkIHdpdGggdGhlIHRvcG1vc3QgZmVhdHVyZSBiZWluZyBhdCB0aGUgc3RhcnQgb2YgdGhlIGFycmF5LlxuICAgICAqIFRoZSBgZmVhdHVyZXNgIGFyZSBpZGVudGljYWwgdG8gdGhvc2UgcmV0dXJuZWQgYnkge0BsaW5rIE1hcCNxdWVyeVJlbmRlcmVkRmVhdHVyZXN9LlxuICAgICAqXG4gICAgICogSWYgbm8gYGxheWVySWRgIHdhcyBzcGVjaWZpZWQgd2hlbiBhZGRpbmcgdGhlIGV2ZW50IGxpc3RlbmVyLCBgZmVhdHVyZXNgIHdpbGwgYmUgYHVuZGVmaW5lZGAuXG4gICAgICogWW91IGNhbiBnZXQgdGhlIGZlYXR1cmVzIGF0IHRoZSBwb2ludCB3aXRoIGBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQpYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gbG9nZ2luZyBmZWF0dXJlcyBmb3IgYSBzcGVjaWZpYyBsYXllciAod2l0aCBgZS5mZWF0dXJlc2ApXG4gICAgICogbWFwLm9uKCdjbGljaycsICdteUxheWVySWQnLCAoZSkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgVGhlcmUgYXJlICR7ZS5mZWF0dXJlcy5sZW5ndGh9IGZlYXR1cmVzIGF0IHBvaW50ICR7ZS5wb2ludH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gbG9nZ2luZyBmZWF0dXJlcyBmb3IgdHdvIGxheWVycyAod2l0aCBgZS5mZWF0dXJlc2ApXG4gICAgICogbWFwLm9uKCdjbGljaycsIFsnbGF5ZXIxJywgJ2xheWVyMiddLCAoZSkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgVGhlcmUgYXJlICR7ZS5mZWF0dXJlcy5sZW5ndGh9IGZlYXR1cmVzIGF0IHBvaW50ICR7ZS5wb2ludH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gbG9nZ2luZyBhbGwgZmVhdHVyZXMgZm9yIGFsbCBsYXllcnMgKHdpdGhvdXQgYGUuZmVhdHVyZXNgKVxuICAgICAqIG1hcC5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAqICAgICBjb25zdCBmZWF0dXJlcyA9IG1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCk7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBUaGVyZSBhcmUgJHtmZWF0dXJlcy5sZW5ndGh9IGZlYXR1cmVzIGF0IHBvaW50ICR7ZS5wb2ludH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBmZWF0dXJlczogQXJyYXk8T2JqZWN0PiB8IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyBzdWJzZXF1ZW50IGRlZmF1bHQgcHJvY2Vzc2luZyBvZiB0aGUgZXZlbnQgYnkgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBwcmV2ZW50IHRoZSBmb2xsb3dpbmcgZGVmYXVsdCBtYXAgYmVoYXZpb3JzOlxuICAgICAqXG4gICAgICogICAqIE9uIGBtb3VzZWRvd25gIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBEcmFnUGFuSGFuZGxlcn0uXG4gICAgICogICAqIE9uIGBtb3VzZWRvd25gIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0uXG4gICAgICogICAqIE9uIGBtb3VzZWRvd25gIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBCb3hab29tSGFuZGxlcn0uXG4gICAgICogICAqIE9uIGBkYmxjbGlja2AgZXZlbnRzLCB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIERvdWJsZUNsaWNrWm9vbUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgKiAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgYHByZXZlbnREZWZhdWx0YCBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfVxuXG4gICAgX2RlZmF1bHRQcmV2ZW50ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgbWFwOiBNYXAsIG9yaWdpbmFsRXZlbnQ6IE1vdXNlRXZlbnQsIGRhdGE6IE9iamVjdCA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gRE9NLm1vdXNlUG9zKG1hcC5nZXRDYW52YXNDb250YWluZXIoKSwgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgIGNvbnN0IGxuZ0xhdCA9IG1hcC51bnByb2plY3QocG9pbnQpO1xuICAgICAgICBzdXBlcih0eXBlLCBleHRlbmQoe3BvaW50LCBsbmdMYXQsIG9yaWdpbmFsRXZlbnR9LCBkYXRhKSk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBtYXA7XG4gICAgfVxufVxuXG4vKipcbiAqIGBNYXBUb3VjaEV2ZW50YCBpcyBhIGNsYXNzIHVzZWQgYnkgb3RoZXIgY2xhc3NlcyB0byBnZW5lcmF0ZVxuICogbW91c2UgZXZlbnRzIG9mIHNwZWNpZmljIHR5cGVzIHN1Y2ggYXMgJ3RvdWNoc3RhcnQnIG9yICd0b3VjaGVuZCcuXG4gKiBGb3IgYSBmdWxsIGxpc3Qgb2YgYXZhaWxhYmxlIGV2ZW50cywgc2VlIFtgTWFwYCBldmVudHNdKC9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLWV2ZW50cykuXG4gKlxuICogQGV4dGVuZHMge09iamVjdH1cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRXhhbXBsZSBvZiBhIE1hcFRvdWNoRXZlbnQgb2YgdHlwZSBcInRvdWNoXCJcbiAqIG1hcC5vbigndG91Y2hzdGFydCcsIChlKSA9PiB7XG4gKiAgICAgY29uc29sZS5sb2coZSk7XG4gKiAgICAgLy8ge1xuICogICAgIC8vICAgbG5nTGF0OiB7XG4gKiAgICAgLy8gICAgICBsbmc6IDQwLjIwMyxcbiAqICAgICAvLyAgICAgIGxhdDogLTc0LjQ1MVxuICogICAgIC8vICAgfSxcbiAqICAgICAvLyAgIGxuZ0xhdHM6IFtcbiAqICAgICAvLyAgICAgIHtcbiAqICAgICAvLyAgICAgICAgIGxuZzogNDAuMjAzLFxuICogICAgIC8vICAgICAgICAgbGF0OiAtNzQuNDUxXG4gKiAgICAgLy8gICAgICB9XG4gKiAgICAgLy8gICBdLFxuICogICAgIC8vICAgb3JpZ2luYWxFdmVudDogey4uLn0sXG4gKiAgICAgLy8gICBwb2ludDoge1xuICogICAgIC8vICAgICAgeDogMjY2LFxuICogICAgIC8vICAgICAgeTogNDY0XG4gKiAgICAgLy8gICB9LFxuICogICAgIC8vICAgcG9pbnRzOiBbXG4gKiAgICAgLy8gICAgICB7XG4gKiAgICAgLy8gICAgICAgICB4OiAyNjYsXG4gKiAgICAgLy8gICAgICAgICB5OiA0NjRcbiAqICAgICAvLyAgICAgIH1cbiAqICAgICAvLyAgIF1cbiAqICAgICAvLyAgIHByZXZlbnREZWZhdWx0KCksXG4gKiAgICAgLy8gICB0YXJnZXQ6IHsuLi59LFxuICogICAgIC8vICAgdHlwZTogXCJ0b3VjaHN0YXJ0XCJcbiAqICAgICAvLyB9XG4gKiB9KTtcbiAqIEBzZWUgW1JlZmVyZW5jZTogYE1hcGAgZXZlbnRzIEFQSSBkb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLWV2ZW50cylcbiAqIEBzZWUgW0V4YW1wbGU6IENyZWF0ZSBhIGRyYWdnYWJsZSBwb2ludF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLXBvaW50LylcbiAqL1xuZXhwb3J0IGNsYXNzIE1hcFRvdWNoRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2Ygb3JpZ2luYXRpbmcgZXZlbnQuIEZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgZXZlbnRzLCBzZWUgW2BNYXBgIGV2ZW50c10oL21hcGJveC1nbC1qcy9hcGkvbWFwLyNtYXAtZXZlbnRzKS5cbiAgICAgKi9cbiAgICB0eXBlOiAndG91Y2hzdGFydCdcbiAgICAgICAgfCAndG91Y2hlbmQnXG4gICAgICAgIHwgJ3RvdWNoY2FuY2VsJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBgTWFwYCBvYmplY3QgdGhhdCBmaXJlZCB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgdGFyZ2V0OiBNYXA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgRE9NIGV2ZW50IHdoaWNoIGNhdXNlZCB0aGUgbWFwIGV2ZW50LlxuICAgICAqL1xuICAgIG9yaWdpbmFsRXZlbnQ6IFRvdWNoRXZlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ2VvZ3JhcGhpYyBsb2NhdGlvbiBvbiB0aGUgbWFwIG9mIHRoZSBjZW50ZXIgb2YgdGhlIHRvdWNoIGV2ZW50IHBvaW50cy5cbiAgICAgKi9cbiAgICBsbmdMYXQ6IExuZ0xhdDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXhlbCBjb29yZGluYXRlcyBvZiB0aGUgY2VudGVyIG9mIHRoZSB0b3VjaCBldmVudCBwb2ludHMsIHJlbGF0aXZlIHRvIHRoZSBtYXAgYW5kIG1lYXN1cmVkIGZyb20gdGhlIHRvcCBsZWZ0XG4gICAgICogY29ybmVyLlxuICAgICAqL1xuICAgIHBvaW50OiBQb2ludDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiBwaXhlbCBjb29yZGluYXRlcyBjb3JyZXNwb25kaW5nIHRvIGFcbiAgICAgKiBbdG91Y2ggZXZlbnQncyBgdG91Y2hlc2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50L3RvdWNoZXMpIHByb3BlcnR5LlxuICAgICAqL1xuICAgIHBvaW50czogQXJyYXk8UG9pbnQ+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbnMgb24gdGhlIG1hcCBjb3JyZXNwb25kaW5nIHRvIGFcbiAgICAgKiBbdG91Y2ggZXZlbnQncyBgdG91Y2hlc2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50L3RvdWNoZXMpIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGxuZ0xhdHM6IEFycmF5PExuZ0xhdD47XG5cbiAgICAvKipcbiAgICAgKiBJZiBhIGBsYXllcklkYCB3YXMgc3BlY2lmaWVkIHdoZW4gYWRkaW5nIHRoZSBldmVudCBsaXN0ZW5lciB3aXRoIHtAbGluayBNYXAjb259LCBgZmVhdHVyZXNgIHdpbGwgYmUgYW4gYXJyYXkgb2ZcbiAgICAgKiBbR2VvSlNPTl0oaHR0cDovL2dlb2pzb24ub3JnLykgW0ZlYXR1cmUgb2JqZWN0c10oaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzc5NDYjc2VjdGlvbi0zLjIpLlxuICAgICAqIFRoZSBhcnJheSB3aWxsIGNvbnRhaW4gYWxsIGZlYXR1cmVzIGZyb20gdGhhdCBsYXllciB0aGF0IGFyZSByZW5kZXJlZCBhdCB0aGUgZXZlbnQncyBwb2ludC5cbiAgICAgKiBUaGUgYGZlYXR1cmVzYCBhcmUgaWRlbnRpY2FsIHRvIHRob3NlIHJldHVybmVkIGJ5IHtAbGluayBNYXAjcXVlcnlSZW5kZXJlZEZlYXR1cmVzfS5cbiAgICAgKlxuICAgICAqIElmIG5vIGBsYXllcklkYCB3YXMgc3BlY2lmaWVkIHdoZW4gYWRkaW5nIHRoZSBldmVudCBsaXN0ZW5lciwgYGZlYXR1cmVzYCB3aWxsIGJlIGB1bmRlZmluZWRgLlxuICAgICAqIFlvdSBjYW4gZ2V0IHRoZSBmZWF0dXJlcyBhdCB0aGUgcG9pbnQgd2l0aCBgbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50KWAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGxvZ2dpbmcgZmVhdHVyZXMgZm9yIGEgc3BlY2lmaWMgbGF5ZXIgKHdpdGggYGUuZmVhdHVyZXNgKVxuICAgICAqIG1hcC5vbigndG91Y2hzdGFydCcsICdteUxheWVySWQnLCAoZSkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgVGhlcmUgYXJlICR7ZS5mZWF0dXJlcy5sZW5ndGh9IGZlYXR1cmVzIGF0IHBvaW50ICR7ZS5wb2ludH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gbG9nZ2luZyBhbGwgZmVhdHVyZXMgZm9yIGFsbCBsYXllcnMgKHdpdGhvdXQgYGUuZmVhdHVyZXNgKVxuICAgICAqIG1hcC5vbigndG91Y2hzdGFydCcsIChlKSA9PiB7XG4gICAgICogICAgIGNvbnN0IGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50KTtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFRoZXJlIGFyZSAke2ZlYXR1cmVzLmxlbmd0aH0gZmVhdHVyZXMgYXQgcG9pbnQgJHtlLnBvaW50fWApO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGZlYXR1cmVzOiBBcnJheTxPYmplY3Q+IHwgdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHN1YnNlcXVlbnQgZGVmYXVsdCBwcm9jZXNzaW5nIG9mIHRoZSBldmVudCBieSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIHByZXZlbnQgdGhlIGZvbGxvd2luZyBkZWZhdWx0IG1hcCBiZWhhdmlvcnM6XG4gICAgICpcbiAgICAgKiAgICogT24gYHRvdWNoc3RhcnRgIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBEcmFnUGFuSGFuZGxlcn0uXG4gICAgICogICAqIE9uIGB0b3VjaHN0YXJ0YCBldmVudHMsIHRoZSBiZWhhdmlvciBvZiB7QGxpbmsgVG91Y2hab29tUm90YXRlSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5vbigndG91Y2hzdGFydCcsIChlKSA9PiB7XG4gICAgICogICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgYHByZXZlbnREZWZhdWx0YCBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfVxuXG4gICAgX2RlZmF1bHRQcmV2ZW50ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgbWFwOiBNYXAsIG9yaWdpbmFsRXZlbnQ6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgY29uc3QgdG91Y2hlcyA9IHR5cGUgPT09IFwidG91Y2hlbmRcIiA/IG9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMgOiBvcmlnaW5hbEV2ZW50LnRvdWNoZXM7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IERPTS50b3VjaFBvcyhtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCksIHRvdWNoZXMpO1xuICAgICAgICBjb25zdCBsbmdMYXRzID0gcG9pbnRzLm1hcCgodCkgPT4gbWFwLnVucHJvamVjdCh0KSk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzLnJlZHVjZSgocHJldiwgY3VyciwgaSwgYXJyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcHJldi5hZGQoY3Vyci5kaXYoYXJyLmxlbmd0aCkpO1xuICAgICAgICB9LCBuZXcgUG9pbnQoMCwgMCkpO1xuICAgICAgICBjb25zdCBsbmdMYXQgPSBtYXAudW5wcm9qZWN0KHBvaW50KTtcbiAgICAgICAgc3VwZXIodHlwZSwge3BvaW50cywgcG9pbnQsIGxuZ0xhdHMsIGxuZ0xhdCwgb3JpZ2luYWxFdmVudH0pO1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIGBNYXBXaGVlbEV2ZW50YCBpcyBhIGNsYXNzIHVzZWQgYnkgb3RoZXIgY2xhc3NlcyB0byBnZW5lcmF0ZVxuICogbW91c2UgZXZlbnRzIG9mIHNwZWNpZmljIHR5cGVzIHN1Y2ggYXMgJ3doZWVsJy5cbiAqIEZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgZXZlbnRzLCBzZWUgW2BNYXBgIGV2ZW50c10oL21hcGJveC1nbC1qcy9hcGkvbWFwLyNtYXAtZXZlbnRzKS5cbiAqXG4gKiBAZXh0ZW5kcyB7T2JqZWN0fVxuICogQGV4YW1wbGVcbiAqIC8vIEV4YW1wbGUgZXZlbnQgdHJpZ2dlciBmb3IgYSBNYXBXaGVlbEV2ZW50IG9mIHR5cGUgXCJ3aGVlbFwiXG4gKiBtYXAub24oJ3doZWVsJywgKGUpID0+IHtcbiAqICAgICBjb25zb2xlLmxvZygnZXZlbnQgdHlwZTonLCBlLnR5cGUpO1xuICogICAgIC8vIGV2ZW50IHR5cGU6IHdoZWVsXG4gKiB9KTtcbiAqIEBleGFtcGxlXG4gKiAvLyBFeGFtcGxlIG9mIGEgTWFwV2hlZWxFdmVudCBvZiB0eXBlIFwid2hlZWxcIlxuICogLy8ge1xuICogLy8gICBvcmlnaW5hbEV2ZW50OiBXaGVlbEV2ZW50IHsuLi59LFxuICogLy8gXHQgdGFyZ2V0OiBNYXAgey4uLn0sXG4gKiAvLyBcdCB0eXBlOiBcIndoZWVsXCJcbiAqIC8vIH1cbiAqIEBzZWUgW1JlZmVyZW5jZTogYE1hcGAgZXZlbnRzIEFQSSBkb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLWV2ZW50cylcbiAqL1xuZXhwb3J0IGNsYXNzIE1hcFdoZWVsRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2Ygb3JpZ2luYXRpbmcgZXZlbnQuIEZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgZXZlbnRzLCBzZWUgW2BNYXBgIGV2ZW50c10oL21hcGJveC1nbC1qcy9hcGkvbWFwLyNtYXAtZXZlbnRzKS5cbiAgICAgKi9cbiAgICB0eXBlOiAnd2hlZWwnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBNYXBgIG9iamVjdCB0aGF0IGZpcmVkIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICB0YXJnZXQ6IE1hcDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBET00gZXZlbnQgd2hpY2ggY2F1c2VkIHRoZSBtYXAgZXZlbnQuXG4gICAgICovXG4gICAgb3JpZ2luYWxFdmVudDogV2hlZWxFdmVudDtcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHN1YnNlcXVlbnQgZGVmYXVsdCBwcm9jZXNzaW5nIG9mIHRoZSBldmVudCBieSB0aGUgbWFwLlxuICAgICAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBwcmV2ZW50IHRoZSB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIFNjcm9sbFpvb21IYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLm9uKCd3aGVlbCcsIChlKSA9PiB7XG4gICAgICogICAgIC8vIFByZXZlbnQgdGhlIGRlZmF1bHQgbWFwIHNjcm9sbCB6b29tIGJlaGF2aW9yLlxuICAgICAqICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiBgcHJldmVudERlZmF1bHRgIGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldCBkZWZhdWx0UHJldmVudGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBfZGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nLCBtYXA6IE1hcCwgb3JpZ2luYWxFdmVudDogV2hlZWxFdmVudCkge1xuICAgICAgICBzdXBlcih0eXBlLCB7b3JpZ2luYWxFdmVudH0pO1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIGBNYXBCb3hab29tRXZlbnRgIGlzIGEgY2xhc3MgdXNlZCB0byBnZW5lcmF0ZVxuICogdGhlIGV2ZW50cyAnYm94em9vbXN0YXJ0JywgJ2JveHpvb21lbmQnLCBhbmQgJ2JveHpvb21jYW5jZWwnLlxuICogRm9yIGEgZnVsbCBsaXN0IG9mIGF2YWlsYWJsZSBldmVudHMsIHNlZSBbYE1hcGAgZXZlbnRzXSgvbWFwYm94LWdsLWpzL2FwaS9tYXAvI21hcC1ldmVudHMpLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcEJveFpvb21FdmVudFxuICogQHByb3BlcnR5IHtNb3VzZUV2ZW50fSBvcmlnaW5hbEV2ZW50IFRoZSBET00gZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIGJveHpvb20gZXZlbnQuIENhbiBiZSBhIGBNb3VzZUV2ZW50YCBvciBgS2V5Ym9hcmRFdmVudGAuXG4gKiBAcHJvcGVydHkgeygnYm94em9vbXN0YXJ0JyB8ICdib3h6b29tZW5kJyB8ICdib3h6b29tY2FuY2VsJyl9IHR5cGUgVGhlIHR5cGUgb2Ygb3JpZ2luYXRpbmcgZXZlbnQuIEZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgZXZlbnRzLCBzZWUgW2BNYXBgIGV2ZW50c10oL21hcGJveC1nbC1qcy9hcGkvbWFwLyNtYXAtZXZlbnRzKS5cbiAqIEBwcm9wZXJ0eSB7TWFwfSB0YXJnZXQgVGhlIGBNYXBgIGluc3RhbmNlIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudC5cbiAqIEBleGFtcGxlXG4gKiAvLyBFeGFtcGxlIHRyaWdnZXIgb2YgYSBCb3hab29tRXZlbnQgb2YgdHlwZSBcImJveHpvb21zdGFydFwiXG4gKiBtYXAub24oJ2JveHpvb21zdGFydCcsIChlKSA9PiB7XG4gKiAgICAgY29uc29sZS5sb2coJ2V2ZW50IHR5cGU6JywgZS50eXBlKTtcbiAqICAgICAvLyBldmVudCB0eXBlOiBib3h6b29tc3RhcnRcbiAqIH0pO1xuICogQGV4YW1wbGVcbiAqIC8vIEV4YW1wbGUgb2YgYSBCb3hab29tRXZlbnQgb2YgdHlwZSBcImJveHpvb21zdGFydFwiXG4gKiAvLyB7XG4gKiAvLyAgIG9yaWdpbmFsRXZlbnQ6IHsuLi59LFxuICogLy8gICB0eXBlOiBcImJveHpvb21zdGFydFwiLFxuICogLy8gICB0YXJnZXQ6IHsuLi59XG4gKiAvLyB9XG4gKiBAc2VlIFtSZWZlcmVuY2U6IGBNYXBgIGV2ZW50cyBBUEkgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS9tYXAvI21hcC1ldmVudHMpXG4gKiBAc2VlIFtFeGFtcGxlOiBIaWdobGlnaHQgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91c2luZy1ib3gtcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAqL1xuZXhwb3J0IHR5cGUgTWFwQm94Wm9vbUV2ZW50ID0ge1xuICAgIHR5cGU6ICdib3h6b29tc3RhcnQnXG4gICAgICAgIHwgJ2JveHpvb21lbmQnXG4gICAgICAgIHwgJ2JveHpvb21jYW5jZWwnLFxuICAgIHRhcmdldDogTWFwLFxuICAgIG9yaWdpbmFsRXZlbnQ6IE1vdXNlRXZlbnRcbn07XG5cbi8qKlxuICogYE1hcERhdGFFdmVudGAgaXMgYSBjbGFzcyB1c2VkIHRvIGdlbmVyYXRlXG4gKiBldmVudHMgcmVsYXRlZCB0byBsb2FkaW5nIGRhdGEsIHN0eWxlcywgYW5kIHNvdXJjZXMuXG4gKiBGb3IgYSBmdWxsIGxpc3Qgb2YgYXZhaWxhYmxlIGV2ZW50cywgc2VlIFtgTWFwYCBldmVudHNdKC9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLWV2ZW50cykuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gTWFwRGF0YUV2ZW50XG4gKiBAcHJvcGVydHkgeygnZGF0YScgfCAnZGF0YWxvYWRpbmcnIHwgJ3N0eWxlZGF0YScgfCAnc3R5bGVkYXRhbG9hZGluZycgfCAnc291cmNlZGF0YSd8ICdzb3VyY2VkYXRhbG9hZGluZycpfSB0eXBlIFRoZSB0eXBlIG9mIG9yaWdpbmF0aW5nIGV2ZW50LiBGb3IgYSBmdWxsIGxpc3Qgb2YgYXZhaWxhYmxlIGV2ZW50cywgc2VlIFtgTWFwYCBldmVudHNdKC9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLWV2ZW50cykuXG4gKiBAcHJvcGVydHkgeygnc291cmNlJyB8ICdzdHlsZScpfSBkYXRhVHlwZSBUaGUgdHlwZSBvZiBkYXRhIHRoYXQgaGFzIGNoYW5nZWQuIE9uZSBvZiBgJ3NvdXJjZSdgIG9yIGAnc3R5bGUnYCwgd2hlcmUgYCdzb3VyY2UnYCByZWZlcnMgdG8gdGhlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIGFueSBzb3VyY2UsIGFuZCBgJ3N0eWxlJ2AgcmVmZXJzIHRvIHRoZSBlbnRpcmUgW3N0eWxlXShodHRwczovL2RvY3MubWFwYm94LmNvbS9oZWxwL2dsb3NzYXJ5L3N0eWxlLykgdXNlZCBieSB0aGUgbWFwLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaXNTb3VyY2VMb2FkZWRdIFRydWUgaWYgdGhlIGV2ZW50IGhhcyBhIGBkYXRhVHlwZWAgb2YgYHNvdXJjZWAgYW5kIHRoZSBzb3VyY2UgaGFzIG5vIG91dHN0YW5kaW5nIG5ldHdvcmsgcmVxdWVzdHMuXG4gKiBAcHJvcGVydHkge09iamVjdH0gW3NvdXJjZV0gVGhlIFtzdHlsZSBzcGVjIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzb3VyY2VdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvKSBpZiB0aGUgZXZlbnQgaGFzIGEgYGRhdGFUeXBlYCBvZiBgc291cmNlYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc291cmNlSWRdIFRoZSBgaWRgIG9mIHRoZSBbYHNvdXJjZWBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvKSB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQsIGlmIHRoZSBldmVudCBoYXMgYSBgZGF0YVR5cGVgIG9mIGBzb3VyY2VgLiBTYW1lIGFzIHRoZSBgaWRgIG9mIHRoZSBvYmplY3QgaW4gdGhlIGBzb3VyY2VgIHByb3BlcnR5LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzb3VyY2VEYXRhVHlwZV0gSW5jbHVkZWQgaWYgdGhlIGV2ZW50IGhhcyBhIGBkYXRhVHlwZWAgb2YgYHNvdXJjZWAgYW5kIHRoZSBldmVudCBzaWduYWxzXG4gKiB0aGF0IGludGVybmFsIGRhdGEgaGFzIGJlZW4gcmVjZWl2ZWQgb3IgY2hhbmdlZC4gUG9zc2libGUgdmFsdWVzIGFyZSBgbWV0YWRhdGFgLCBgY29udGVudGAgYW5kIGB2aXNpYmlsaXR5YC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbdGlsZV0gVGhlIHRpbGUgYmVpbmcgbG9hZGVkIG9yIGNoYW5nZWQsIGlmIHRoZSBldmVudCBoYXMgYSBgZGF0YVR5cGVgIG9mIGBzb3VyY2VgIGFuZFxuICogdGhlIGV2ZW50IGlzIHJlbGF0ZWQgdG8gbG9hZGluZyBvZiBhIHRpbGUuXG4gKiBAcHJvcGVydHkge0Nvb3JkaW5hdGV9IFtjb29yZF0gVGhlIGNvb3JkaW5hdGUgb2YgdGhlIHRpbGUgaWYgdGhlIGV2ZW50IGhhcyBhIGBkYXRhVHlwZWAgb2YgYHNvdXJjZWAgYW5kXG4gKiB0aGUgZXZlbnQgaXMgcmVsYXRlZCB0byBsb2FkaW5nIG9mIGEgdGlsZS5cbiAqIEBleGFtcGxlXG4gKiAvLyBFeGFtcGxlIG9mIGEgTWFwRGF0YUV2ZW50IG9mIHR5cGUgXCJzb3VyY2VkYXRhXCJcbiAqIG1hcC5vbignc291cmNlZGF0YScsIChlKSA9PiB7XG4gKiAgICAgY29uc29sZS5sb2coZSk7XG4gKiAgICAgLy8ge1xuICogICAgIC8vICAgZGF0YVR5cGU6IFwic291cmNlXCIsXG4gKiAgICAgLy8gICBpc1NvdXJjZUxvYWRlZDogZmFsc2UsXG4gKiAgICAgLy8gICBzb3VyY2U6IHtcbiAqICAgICAvLyAgICAgdHlwZTogXCJ2ZWN0b3JcIixcbiAqICAgICAvLyAgICAgdXJsOiBcIm1hcGJveDovL21hcGJveC5tYXBib3gtc3RyZWV0cy12OCxtYXBib3gubWFwYm94LXRlcnJhaW4tdjJcIlxuICogICAgIC8vICAgfSxcbiAqICAgICAvLyAgIHNvdXJjZURhdGFUeXBlOiBcInZpc2liaWxpdHlcIixcbiAqICAgICAvLyAgIHNvdXJjZUlkOiBcImNvbXBvc2l0ZVwiLFxuICogICAgIC8vICAgc3R5bGU6IHsuLi59LFxuICogICAgIC8vICAgdGFyZ2V0OiB7Li4ufSxcbiAqICAgICAvLyAgIHR5cGU6IFwic291cmNlZGF0YVwiXG4gKiAgICAgLy8gfVxuICogfSk7XG4gKiBAc2VlIFtSZWZlcmVuY2U6IGBNYXBgIGV2ZW50cyBBUEkgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS9tYXAvI21hcC1ldmVudHMpXG4gKiBAc2VlIFtFeGFtcGxlOiBDaGFuZ2UgYSBtYXAncyBzdHlsZV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2V0c3R5bGUvKVxuICogQHNlZSBbRXhhbXBsZTogQWRkIGEgR2VvSlNPTiBsaW5lXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nZW9qc29uLWxpbmUvKVxuICovXG5leHBvcnQgdHlwZSBNYXBEYXRhRXZlbnQgPSB7XG4gICAgdHlwZTogJ2RhdGEnXG4gICAgICAgIHwgJ2RhdGFsb2FkaW5nJ1xuICAgICAgICB8ICdzdHlsZWRhdGEnXG4gICAgICAgIHwgJ3N0eWxlZGF0YWxvYWRpbmcnXG4gICAgICAgIHwgJ3NvdXJjZWRhdGEnXG4gICAgICAgIHwgJ3NvdXJjZWRhdGFsb2FkaW5nJyxcbiAgICBkYXRhVHlwZTogJ3NvdXJjZSdcbiAgICAgICAgfCAnc3R5bGUnXG59O1xuXG5leHBvcnQgdHlwZSBNYXBDb250ZXh0RXZlbnQgPSB7XG4gICAgdHlwZTogJ3dlYmdsY29udGV4dGxvc3QnIHwgJ3dlYmdsY29udGV4dHJlc3RvcmVkJyxcbiAgICBvcmlnaW5hbEV2ZW50OiBXZWJHTENvbnRleHRFdmVudFxufVxuXG5leHBvcnQgdHlwZSBNYXBFdmVudCA9XG4gICAgLyoqIEBzZWN0aW9uIHtJbnRlcmFjdGlvbn1cbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIHByZXNzZWQgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBldmVudCBpcyBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkYCBwYXJhbWV0ZXIuXG4gICAgICogSWYgYGxheWVySWRgIGlzIGluY2x1ZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW4ge0BsaW5rIE1hcCNvbn0sIHRoZSBldmVudCBsaXN0ZW5lciB3aWxsIGZpcmUgb25seSB3aGVuIHRoZVxuICAgICAqIHRoZSBjdXJzb3IgaXMgcHJlc3NlZCB3aGlsZSBpbnNpZGUgYSB2aXNpYmxlIHBvcnRpb24gb2YgdGhlIHNwZWNpZmVkIGxheWVyLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlZG93blxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwTW91c2VFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lclxuICAgICAqIG1hcC5vbignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBtb3VzZWRvd24gZXZlbnQgaGFzIG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIGZvciBhIHNwZWNpZmljIGxheWVyXG4gICAgICogbWFwLm9uKCdtb3VzZWRvd24nLCAncG9pLWxhYmVsJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBtb3VzZWRvd24gZXZlbnQgaGFzIG9jY3VycmVkIG9uIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSBwb2ktbGFiZWwgbGF5ZXIuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHwgJ21vdXNlZG93bidcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgcmVsZWFzZWQgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBldmVudCBpcyBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkYCBwYXJhbWV0ZXIuXG4gICAgICogSWYgYGxheWVySWRgIGlzIGluY2x1ZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW4ge0BsaW5rIE1hcCNvbn0sIHRoZSBldmVudCBsaXN0ZW5lciB3aWxsIGZpcmUgb25seSB3aGVuIHRoZVxuICAgICAqIHRoZSBjdXJzb3IgaXMgcmVsZWFzZWQgd2hpbGUgaW5zaWRlIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSBzcGVjaWZlZCBsYXllci5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZXVwXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBNb3VzZUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyXG4gICAgICogbWFwLm9uKCdtb3VzZXVwJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBtb3VzZXVwIGV2ZW50IGhhcyBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpYyBsYXllclxuICAgICAqIG1hcC5vbignbW91c2V1cCcsICdwb2ktbGFiZWwnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIG1vdXNldXAgZXZlbnQgaGFzIG9jY3VycmVkIG9uIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSBwb2ktbGFiZWwgbGF5ZXIuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHwgJ21vdXNldXAnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqIEFzIHlvdSBtb3ZlIHRoZSBjdXJzb3IgYWNyb3NzIGEgd2ViIHBhZ2UgY29udGFpbmluZyBhIG1hcCxcbiAgICAgKiB0aGUgZXZlbnQgd2lsbCBmaXJlIGVhY2ggdGltZSBpdCBlbnRlcnMgdGhlIG1hcCBvciBhbnkgY2hpbGQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBldmVudCBpcyBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkYCBwYXJhbWV0ZXIuXG4gICAgICogSWYgYGxheWVySWRgIGlzIGluY2x1ZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW4ge0BsaW5rIE1hcCNvbn0sIHRoZSBldmVudCBsaXN0ZW5lciB3aWxsIGZpcmUgb25seSB3aGVuIHRoZVxuICAgICAqIHRoZSBjdXJzb3IgaXMgbW92ZWQgaW5zaWRlIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSBzcGVjaWZlZCBsYXllci5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZW92ZXJcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBtYXAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW91c2VvdmVyIGV2ZW50IGhhcyBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpYyBsYXllclxuICAgICAqIG1hcC5vbignbW91c2VvdmVyJywgJ3BvaS1sYWJlbCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW91c2VvdmVyIGV2ZW50IGhhcyBvY2N1cnJlZCBvbiBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgcG9pLWxhYmVsIGxheWVyLicpO1xuICAgICAqIH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IEdldCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tb3VzZS1wb3NpdGlvbi8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHVuZGVyIHRoZSBtb3VzZSBwb2ludGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2hvdmVyLXN0eWxlcy8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwIG9uIGhvdmVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWhvdmVyLylcbiAgICAgKi9cbiAgICB8ICdtb3VzZW92ZXInXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIHRoZSBjdXJzb3IgaXMgaW5zaWRlIHRoZSBtYXAuXG4gICAgICogQXMgeW91IG1vdmUgdGhlIGN1cnNvciBhY3Jvc3MgdGhlIG1hcCwgdGhlIGV2ZW50IHdpbGwgZmlyZSBldmVyeSB0aW1lIHRoZSBjdXJzb3IgY2hhbmdlcyBwb3NpdGlvbiB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGV2ZW50IGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgb3B0aW9uYWwgYGxheWVySWRgIHBhcmFtZXRlci5cbiAgICAgKiBJZiBgbGF5ZXJJZGAgaXMgaW5jbHVkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbiB7QGxpbmsgTWFwI29ufSwgdGhlIGV2ZW50IGxpc3RlbmVyIHdpbGwgZmlyZSBvbmx5IHdoZW4gdGhlXG4gICAgICogdGhlIGN1cnNvciBpcyBpbnNpZGUgYSB2aXNpYmxlIHBvcnRpb24gb2YgdGhlIHNwZWNpZmllZCBsYXllci5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZW1vdmVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBtYXAub24oJ21vdXNlbW92ZScsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW91c2Vtb3ZlIGV2ZW50IGhhcyBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpYyBsYXllclxuICAgICAqIG1hcC5vbignbW91c2Vtb3ZlJywgJ3BvaS1sYWJlbCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW91c2Vtb3ZlIGV2ZW50IGhhcyBvY2N1cnJlZCBvbiBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgcG9pLWxhYmVsIGxheWVyLicpO1xuICAgICAqIH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IEdldCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tb3VzZS1wb3NpdGlvbi8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHVuZGVyIHRoZSBtb3VzZSBwb2ludGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2hvdmVyLXN0eWxlcy8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwIG9uIG92ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24taG92ZXIvKVxuICAgICAqL1xuICAgIHwgJ21vdXNlbW92ZSdcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgY2xpY2sgZXZlbnQgb2NjdXJzIGFuZCBpcyBmaXJlZCBiZWZvcmUgdGhlIGNsaWNrIGV2ZW50LlxuICAgICAqIFByaW1hcmlseSBpbXBsZW1lbnRlZCB0byBlbnN1cmUgY2xvc2VPbkNsaWNrIGZvciBwb3AtdXBzIGlzIGZpcmVkIGJlZm9yZSBhbnkgb3RoZXIgbGlzdGVuZXJzLlxuICAgICAqXG4gICAgICogQGV2ZW50IHByZWNsaWNrXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBNb3VzZUV2ZW50fVxuICAgICAqL1xuICAgICB8ICdwcmVjbGljaydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgYXQgdGhlIHNhbWUgcG9pbnQgb24gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGV2ZW50IGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgb3B0aW9uYWwgYGxheWVySWRgIHBhcmFtZXRlci5cbiAgICAgKiBJZiBgbGF5ZXJJZGAgaXMgaW5jbHVkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbiB7QGxpbmsgTWFwI29ufSwgdGhlIGV2ZW50IGxpc3RlbmVyIHdpbGwgZmlyZSBvbmx5IHdoZW4gdGhlXG4gICAgICogcG9pbnQgdGhhdCBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBjb250YWlucyBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgc3BlY2lmZWQgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgY2xpY2tcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBtYXAub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYEEgY2xpY2sgZXZlbnQgaGFzIG9jY3VycmVkIGF0ICR7ZS5sbmdMYXR9YCk7XG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGEgc3BlY2lmaWMgbGF5ZXJcbiAgICAgKiBtYXAub24oJ2NsaWNrJywgJ3BvaS1sYWJlbCcsIChlKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBBIGNsaWNrIGV2ZW50IGhhcyBvY2N1cnJlZCBvbiBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgcG9pLWxhYmVsIGxheWVyIGF0ICR7ZS5sbmdMYXR9YCk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogTWVhc3VyZSBkaXN0YW5jZXNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbWVhc3VyZS8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQ2VudGVyIHRoZSBtYXAgb24gYSBjbGlja2VkIHN5bWJvbF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jZW50ZXItb24tc3ltYm9sLylcbiAgICAgKi9cbiAgICB8ICdjbGljaydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgdHdpY2UgYXQgdGhlIHNhbWUgcG9pbnQgb25cbiAgICAgKiB0aGUgbWFwIGluIHJhcGlkIHN1Y2Nlc3Npb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBldmVudCBpcyBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkYCBwYXJhbWV0ZXIuXG4gICAgICogSWYgYGxheWVySWRgIGlzIGluY2x1ZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW4ge0BsaW5rIE1hcCNvbn0sIHRoZSBldmVudCBsaXN0ZW5lciB3aWxsIGZpcmUgb25seVxuICAgICAqIHdoZW4gdGhlIHBvaW50IHRoYXQgaXMgY2xpY2tlZCB0d2ljZSBjb250YWlucyBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgc3BlY2lmZWQgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZGJsY2xpY2tcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBtYXAub24oJ2RibGNsaWNrJywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYEEgZGJsY2xpY2sgZXZlbnQgaGFzIG9jY3VycmVkIGF0ICR7ZS5sbmdMYXR9YCk7XG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGEgc3BlY2lmaWMgbGF5ZXJcbiAgICAgKiBtYXAub24oJ2RibGNsaWNrJywgJ3BvaS1sYWJlbCcsIChlKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBBIGRibGNsaWNrIGV2ZW50IGhhcyBvY2N1cnJlZCBvbiBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgcG9pLWxhYmVsIGxheWVyIGF0ICR7ZS5sbmdMYXR9YCk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnZGJsY2xpY2snXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGVudGVycyBhIHZpc2libGUgcG9ydGlvbiBvZiBhIHNwZWNpZmllZCBsYXllciBmcm9tXG4gICAgICogb3V0c2lkZSB0aGF0IGxheWVyIG9yIG91dHNpZGUgdGhlIG1hcCBjYW52YXMuXG4gICAgICpcbiAgICAgKiAqKkltcG9ydGFudDoqKiBUaGlzIGV2ZW50IGNhbiBvbmx5IGJlIGxpc3RlbmVkIGZvciB3aGVuIHtAbGluayBNYXAjb259IGluY2x1ZGVzIHRocmVlIGFyZ3VtZW50cyxcbiAgICAgKiB3aGVyZSB0aGUgc2Vjb25kIGFyZ3VtZW50IHNwZWNpZmllcyB0aGUgZGVzaXJlZCBsYXllci5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZWVudGVyXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBNb3VzZUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyXG4gICAgICogbWFwLm9uKCdtb3VzZWVudGVyJywgJ3dhdGVyJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBtb3VzZWVudGVyIGV2ZW50IG9jY3VycmVkIG9uIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSB3YXRlciBsYXllci4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBDZW50ZXIgdGhlIG1hcCBvbiBhIGNsaWNrZWQgc3ltYm9sXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jZW50ZXItb24tc3ltYm9sLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGEgcG9wdXAgb24gY2xpY2tdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWNsaWNrLylcbiAgICAgKi9cbiAgICB8ICdtb3VzZWVudGVyJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBsZWF2ZXMgYSB2aXNpYmxlIHBvcnRpb24gb2YgYSBzcGVjaWZpZWQgbGF5ZXIgb3IgbW92ZXNcbiAgICAgKiBmcm9tIHRoZSBzcGVjaWZpZWQgbGF5ZXIgdG8gb3V0c2lkZSB0aGUgbWFwIGNhbnZhcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUbyBkZXRlY3Qgd2hlbiB0aGUgbW91c2UgbGVhdmVzIHRoZSBjYW52YXMsIGluZGVwZW5kZW50IG9mIGxheWVyLCB1c2Uge0BsaW5rIE1hcC5ldmVudDptb3VzZW91dH0gaW5zdGVhZC5cbiAgICAgKlxuICAgICAqICoqSW1wb3J0YW50OioqIFRoaXMgZXZlbnQgY2FuIG9ubHkgYmUgbGlzdGVuZWQgZm9yIHdoZW4ge0BsaW5rIE1hcCNvbn0gaW5jbHVkZXMgdGhyZWUgYXJndW1lbnRzLFxuICAgICAqIHdoZXJlIHRoZSBzZWNvbmQgYXJndW1lbnQgc3BlY2lmaWVzIHRoZSBkZXNpcmVkIGxheWVyLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlbGVhdmVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHdoZW4gdGhlIHBvaW50aW5nIGRldmljZSBsZWF2ZXNcbiAgICAgKiAvLyBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgc3BlY2lmaWVkIGxheWVyLlxuICAgICAqIG1hcC5vbignbW91c2VsZWF2ZScsICd3YXRlcicsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW91c2VsZWF2ZSBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBIaWdobGlnaHQgZmVhdHVyZXMgdW5kZXIgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvaG92ZXItc3R5bGVzLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGEgcG9wdXAgb24gY2xpY2tdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWNsaWNrLylcbiAgICAgKi9cbiAgICB8ICdtb3VzZWxlYXZlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50IGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBsZWF2ZXMgdGhlIG1hcCdzIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZW91dFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwTW91c2VFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gd2hlbiB0aGUgcG9pbnRpbmcgZGV2aWNlIGxlYXZlc1xuICAgICAqIC8vIHRoZSBtYXAncyBjYW52YXMuXG4gICAgICogbWFwLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW91c2VvdXQgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnbW91c2VvdXQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSByaWdodCBidXR0b24gb2YgdGhlIG1vdXNlIGlzIGNsaWNrZWQgb3IgdGhlIGNvbnRleHQgbWVudSBrZXkgaXMgcHJlc3NlZCB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCBjb250ZXh0bWVudVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwTW91c2VFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gd2hlbiB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGlzXG4gICAgICogLy8gcHJlc3NlZCB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKiBtYXAub24oJ2NvbnRleHRtZW51JywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBjb250ZXh0bWVudSBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdjb250ZXh0bWVudSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBbYHdoZWVsYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3doZWVsKSBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgd2hlZWxcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcFdoZWVsRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHdoZW4gYSB3aGVlbCBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICogbWFwLm9uKCd3aGVlbCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0Egd2hlZWwgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnd2hlZWwnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgW2B0b3VjaHN0YXJ0YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3RvdWNoc3RhcnQpIGV2ZW50IG9jY3VycyB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCB0b3VjaHN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBUb3VjaEV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIGEgYHRvdWNoc3RhcnRgIGV2ZW50IG9jY3VycyB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKiBtYXAub24oJ3RvdWNoc3RhcnQnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIHRvdWNoc3RhcnQgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHwgJ3RvdWNoc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgW2B0b3VjaGVuZGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy90b3VjaGVuZCkgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IHRvdWNoZW5kXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBUb3VjaEV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwLlxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzIHdoZW4gYSBgdG91Y2hzdGFydGAgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqIG1hcC5vbigndG91Y2hzdGFydCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgdG91Y2hzdGFydCBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYSBkcmFnZ2FibGUgcG9pbnRdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICovXG4gICAgfCAndG91Y2hlbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgW2B0b3VjaG1vdmVgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvdG91Y2htb3ZlKSBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgdG91Y2htb3ZlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBUb3VjaEV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwLlxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzIHdoZW4gYSB0b3VjaG1vdmUgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqIG1hcC5vbigndG91Y2htb3ZlJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSB0b3VjaG1vdmUgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHwgJ3RvdWNobW92ZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBbYHRvdWNoY2FuY2VsYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3RvdWNoY2FuY2VsKSBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgdG91Y2hjYW5jZWxcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcFRvdWNoRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXAuXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXMgd2hlbiBhIGB0b3VjaGNhbmNlbGAgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqIG1hcC5vbigndG91Y2hjYW5jZWwnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIHRvdWNoY2FuY2VsIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ3RvdWNoY2FuY2VsJ1xuXG4gICAgLyoqIEBzZWN0aW9uIHtNb3ZlbWVudH1cbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBqdXN0IGJlZm9yZSB0aGUgbWFwIGJlZ2lucyBhIHRyYW5zaXRpb24gZnJvbSBvbmUgdmlldyB0byBhbm90aGVyLCBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2p1bXBUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW92ZXN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtEcmFnRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXAuXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXMganVzdCBiZWZvcmUgdGhlIG1hcCBiZWdpbnMgYSB0cmFuc2l0aW9uIGZyb20gb25lIHZpZXcgdG8gYW5vdGhlci5cbiAgICAgKiBtYXAub24oJ21vdmVzdGFydCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgbW92ZXN0YXJ0YCBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdtb3Zlc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhbiBhbmltYXRlZCB0cmFuc2l0aW9uIGZyb20gb25lIHZpZXcgdG8gYW5vdGhlciwgYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW92ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXAuXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXMgcmVwZWF0ZWRseSBkdXJpbmcgYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbi5cbiAgICAgKiBtYXAub24oJ21vdmUnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIG1vdmUgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBIVE1MIGNsdXN0ZXJzIHdpdGggY3VzdG9tIHByb3BlcnRpZXNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NsdXN0ZXItaHRtbC8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRmlsdGVyIGZlYXR1cmVzIHdpdGhpbiBtYXAgdmlld10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLWZlYXR1cmVzLXdpdGhpbi1tYXAtdmlldy8pXG4gICAgICovXG4gICAgfCAnbW92ZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGp1c3QgYWZ0ZXIgdGhlIG1hcCBjb21wbGV0ZXMgYSB0cmFuc2l0aW9uIGZyb20gb25lXG4gICAgICogdmlldyB0byBhbm90aGVyLCBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2p1bXBUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW92ZWVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7RHJhZ0V2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBqdXN0IGFmdGVyIHRoZSBtYXAgY29tcGxldGVzIGEgdHJhbnNpdGlvbi5cbiAgICAgKiBtYXAub24oJ21vdmVlbmQnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIG1vdmVlbmQgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogUGxheSBtYXAgbG9jYXRpb25zIGFzIGEgc2xpZGVzaG93XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BsYXliYWNrLWxvY2F0aW9ucy8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRmlsdGVyIGZlYXR1cmVzIHdpdGhpbiBtYXAgdmlld10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9maWx0ZXItZmVhdHVyZXMtd2l0aGluLW1hcC12aWV3LylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IEhUTUwgY2x1c3RlcnMgd2l0aCBjdXN0b20gcHJvcGVydGllc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY2x1c3Rlci1odG1sLylcbiAgICAgKi9cbiAgICB8ICdtb3ZlZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBzdGFydHMuIFNlZSB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGRyYWdzdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7RHJhZ0V2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIGEgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIHN0YXJ0cy5cbiAgICAgKiBtYXAub24oJ2RyYWdzdGFydCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgZHJhZ3N0YXJ0IGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ2RyYWdzdGFydCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHJlcGVhdGVkbHkgZHVyaW5nIGEgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uLiBTZWUge0BsaW5rIERyYWdQYW5IYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBkcmFnXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gcmVwZWF0ZWRseSBkdXJpbmcgYSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24uXG4gICAgICogbWFwLm9uKCdkcmFnJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBkcmFnIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ2RyYWcnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGVuZHMuIFNlZSB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGRyYWdlbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge0RyYWdFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gd2hlbiBhIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBlbmRzLlxuICAgICAqIG1hcC5vbignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgZHJhZ2VuZCBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYSBkcmFnZ2FibGUgbWFya2VyXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtbWFya2VyLylcbiAgICAgKi9cbiAgICB8ICdkcmFnZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQganVzdCBiZWZvcmUgdGhlIG1hcCBiZWdpbnMgYSB0cmFuc2l0aW9uIGZyb20gb25lIHpvb20gbGV2ZWwgdG8gYW5vdGhlcixcbiAgICAgKiBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCB6b29tc3RhcnRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBqdXN0IGJlZm9yZSBhIHpvb20gdHJhbnNpdGlvbiBzdGFydHMuXG4gICAgICogbWFwLm9uKCd6b29tc3RhcnQnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIHpvb21zdGFydCBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICd6b29tc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhbiBhbmltYXRlZCB0cmFuc2l0aW9uIGZyb20gb25lIHpvb20gbGV2ZWwgdG8gYW5vdGhlcixcbiAgICAgKiBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCB6b29tXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gcmVwZWF0ZWRseSBkdXJpbmcgYSB6b29tIHRyYW5zaXRpb24uXG4gICAgICogbWFwLm9uKCd6b29tJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSB6b29tIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IFVwZGF0ZSBhIGNob3JvcGxldGggbGF5ZXIgYnkgem9vbSBsZXZlbF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91cGRhdGluZy1jaG9yb3BsZXRoLylcbiAgICAgKi9cbiAgICB8ICd6b29tJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQganVzdCBhZnRlciB0aGUgbWFwIGNvbXBsZXRlcyBhIHRyYW5zaXRpb24gZnJvbSBvbmUgem9vbSBsZXZlbCB0byBhbm90aGVyXG4gICAgICogYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICogVGhlIHpvb20gdHJhbnNpdGlvbiB3aWxsIHVzdWFsbHkgZW5kIGJlZm9yZSByZW5kZXJpbmcgaXMgZmluaXNoZWQsIHNvIGlmIHlvdVxuICAgICAqIG5lZWQgdG8gd2FpdCBmb3IgcmVuZGVyaW5nIHRvIGZpbmlzaCwgdXNlIHRoZSB7QGxpbmsgTWFwLmV2ZW50OmlkbGV9IGV2ZW50IGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgem9vbWVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIGp1c3QgYWZ0ZXIgYSB6b29tIHRyYW5zaXRpb24gZmluaXNoZXMuXG4gICAgICogbWFwLm9uKCd6b29tZW5kJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSB6b29tZW5kIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ3pvb21lbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIHN0YXJ0cy4gU2VlIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcm90YXRlc3RhcnRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBqdXN0IGJlZm9yZSBhIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBzdGFydHMuXG4gICAgICogbWFwLm9uKCdyb3RhdGVzdGFydCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0Egcm90YXRlc3RhcnQgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAncm90YXRlc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbi4gU2VlIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcm90YXRlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gcmVwZWF0ZWRseSBkdXJpbmcgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLlxuICAgICAqIG1hcC5vbigncm90YXRlJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSByb3RhdGUgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAncm90YXRlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBlbmRzLiBTZWUge0BsaW5rIERyYWdSb3RhdGVIYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCByb3RhdGVlbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBqdXN0IGFmdGVyIGEgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGVuZHMuXG4gICAgICogbWFwLm9uKCdyb3RhdGVlbmQnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIHJvdGF0ZWVuZCBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdyb3RhdGVlbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuZXZlciB0aGUgbWFwJ3MgcGl0Y2ggKHRpbHQpIGJlZ2lucyBhIGNoYW5nZSBhc1xuICAgICAqIHRoZSByZXN1bHQgb2YgZWl0aGVyIHVzZXIgaW50ZXJhY3Rpb24gb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZmx5VG99IC5cbiAgICAgKlxuICAgICAqIEBldmVudCBwaXRjaHN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBEYXRhRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIGp1c3QgYmVmb3JlIGEgcGl0Y2ggKHRpbHQpIHRyYW5zaXRpb24gc3RhcnRzLlxuICAgICAqIG1hcC5vbigncGl0Y2hzdGFydCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgcGl0Y2hzdGFydCBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdwaXRjaHN0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgcmVwZWF0ZWRseSBkdXJpbmcgdGhlIG1hcCdzIHBpdGNoICh0aWx0KSBhbmltYXRpb24gYmV0d2VlblxuICAgICAqIG9uZSBzdGF0ZSBhbmQgYW5vdGhlciBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uXG4gICAgICogb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZmx5VG99LlxuICAgICAqXG4gICAgICogQGV2ZW50IHBpdGNoXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBEYXRhRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHJlcGVhdGVkbHkgZHVyaW5nIGEgcGl0Y2ggKHRpbHQpIHRyYW5zaXRpb24uXG4gICAgICogbWFwLm9uKCdwaXRjaCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgcGl0Y2ggZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAncGl0Y2gnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgbWFwJ3MgcGl0Y2ggKHRpbHQpIGZpbmlzaGVzIGNoYW5naW5nIGFzXG4gICAgICogdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcGl0Y2hlbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcERhdGFFdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8ganVzdCBhZnRlciBhIHBpdGNoICh0aWx0KSB0cmFuc2l0aW9uIGVuZHMuXG4gICAgICogbWFwLm9uKCdwaXRjaGVuZCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgcGl0Y2hlbmQgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAncGl0Y2hlbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIHN0YXJ0cy4gU2VlIHtAbGluayBCb3hab29tSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgYm94em9vbXN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBCb3hab29tRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIGp1c3QgYmVmb3JlIGEgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIHN0YXJ0cy5cbiAgICAgKiBtYXAub24oJ2JveHpvb21zdGFydCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgYm94em9vbXN0YXJ0IGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ2JveHpvb21zdGFydCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gZW5kcy4gIFNlZSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGJveHpvb21lbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAdHlwZSB7TWFwQm94Wm9vbUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBqdXN0IGFmdGVyIGEgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGVuZHMuXG4gICAgICogbWFwLm9uKCdib3h6b29tZW5kJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBib3h6b29tZW5kIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ2JveHpvb21lbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB1c2VyIGNhbmNlbHMgYSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24sIG9yIHdoZW4gdGhlIGJvdW5kaW5nIGJveCBkb2VzIG5vdCBtZWV0IHRoZSBtaW5pbXVtIHNpemUgdGhyZXNob2xkLlxuICAgICAqIFNlZSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGJveHpvb21jYW5jZWxcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge01hcEJveFpvb21FdmVudH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gdGhlIHVzZXIgY2FuY2VscyBhIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKiBtYXAub24oJ2JveHpvb21jYW5jZWwnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIGJveHpvb21jYW5jZWwgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnYm94em9vbWNhbmNlbCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBtYXAgaGFzIGJlZW4gcmVzaXplZC5cbiAgICAgKlxuICAgICAqIEBldmVudCByZXNpemVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBtYXAgaGFzIGJlZW4gcmVzaXplZC5cbiAgICAgKiBtYXAub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0EgcmVzaXplIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ3Jlc2l6ZSdcblxuICAgIC8qKiBAc2VjdGlvbiB7TGlmZWN5Y2xlfVxuICAgICAqIEBldmVudFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXAgKi9cblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIGFsbCBuZWNlc3NhcnkgcmVzb3VyY2VzIGhhdmUgYmVlbiBkb3dubG9hZGVkXG4gICAgICogYW5kIHRoZSBmaXJzdCB2aXN1YWxseSBjb21wbGV0ZSByZW5kZXJpbmcgb2YgdGhlIG1hcCBoYXMgb2NjdXJyZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbG9hZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIHRoZSBtYXAgaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4gICAgICogbWFwLm9uKCdsb2FkJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBsb2FkIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IERyYXcgR2VvSlNPTiBwb2ludHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2VvanNvbi1tYXJrZXJzLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgbGl2ZSByZWFsdGltZSBkYXRhXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtZ2VvanNvbi8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQW5pbWF0ZSBhIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2FuaW1hdGUtcG9pbnQtYWxvbmctbGluZS8pXG4gICAgICovXG4gICAgfCAnbG9hZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW5ldmVyIHRoZSBtYXAgaXMgZHJhd24gdG8gdGhlIHNjcmVlbiwgYXMgdGhlIHJlc3VsdCBvZjpcbiAgICAgKlxuICAgICAqIC0gYSBjaGFuZ2UgdG8gdGhlIG1hcCdzIHBvc2l0aW9uLCB6b29tLCBwaXRjaCwgb3IgYmVhcmluZ1xuICAgICAqIC0gYSBjaGFuZ2UgdG8gdGhlIG1hcCdzIHN0eWxlXG4gICAgICogLSBhIGNoYW5nZSB0byBhIEdlb0pTT04gc291cmNlXG4gICAgICogLSB0aGUgbG9hZGluZyBvZiBhIHZlY3RvciB0aWxlLCBHZW9KU09OIGZpbGUsIGdseXBoLCBvciBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcmVuZGVyXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuZXZlciB0aGUgbWFwIGlzIGRyYXduIHRvIHRoZSBzY3JlZW4uXG4gICAgICogbWFwLm9uKCdyZW5kZXInLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIHJlbmRlciBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdyZW5kZXInXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBhZnRlciB0aGUgbGFzdCBmcmFtZSByZW5kZXJlZCBiZWZvcmUgdGhlIG1hcCBlbnRlcnMgYW5cbiAgICAgKiBcImlkbGVcIiBzdGF0ZTpcbiAgICAgKlxuICAgICAqIC0gTm8gY2FtZXJhIHRyYW5zaXRpb25zIGFyZSBpbiBwcm9ncmVzc1xuICAgICAqIC0gQWxsIGN1cnJlbnRseSByZXF1ZXN0ZWQgdGlsZXMgaGF2ZSBsb2FkZWRcbiAgICAgKiAtIEFsbCBmYWRlL3RyYW5zaXRpb24gYW5pbWF0aW9ucyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKlxuICAgICAqIEBldmVudCBpZGxlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBqdXN0IGJlZm9yZSB0aGUgbWFwIGVudGVycyBhbiBcImlkbGVcIiBzdGF0ZS5cbiAgICAgKiBtYXAub24oJ2lkbGUnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIGlkbGUgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnaWRsZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBtYXAgaGFzIGJlZW4gcmVtb3ZlZCB3aXRoIHtAbGluayBNYXAuZXZlbnQ6cmVtb3ZlfS5cbiAgICAgKlxuICAgICAqIEBldmVudCByZW1vdmVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIGp1c3QgYWZ0ZXIgdGhlIG1hcCBpcyByZW1vdmVkLlxuICAgICAqIG1hcC5vbigncmVtb3ZlJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSByZW1vdmUgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAncmVtb3ZlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuIFRoaXMgaXMgTWFwYm94IEdMIEpTJ3MgcHJpbWFyeSBlcnJvciByZXBvcnRpbmdcbiAgICAgKiBtZWNoYW5pc20uIFdlIHVzZSBhbiBldmVudCBpbnN0ZWFkIG9mIGB0aHJvd2AgdG8gYmV0dGVyIGFjY29tbW9kYXRlXG4gICAgICogYXN5bmNyb25vdXMgb3BlcmF0aW9ucy4gSWYgbm8gbGlzdGVuZXJzIGFyZSBib3VuZCB0byB0aGUgYGVycm9yYCBldmVudCwgdGhlXG4gICAgICogZXJyb3Igd2lsbCBiZSBwcmludGVkIHRvIHRoZSBjb25zb2xlLlxuICAgICAqXG4gICAgICogQGV2ZW50IGVycm9yXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIEVycm9yIG1lc3NhZ2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHdoZW4gYW4gZXJyb3Igb2NjdXJzLlxuICAgICAqIG1hcC5vbignZXJyb3InLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIGVycm9yIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ2Vycm9yJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyBsb3N0LlxuICAgICAqXG4gICAgICogQGV2ZW50IHdlYmdsY29udGV4dGxvc3RcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgbG9zdC5cbiAgICAgKiBtYXAub24oJ3dlYmdsY29udGV4dGxvc3QnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIHdlYmdsY29udGV4dGxvc3QgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnd2ViZ2xjb250ZXh0bG9zdCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgcmVzdG9yZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgd2ViZ2xjb250ZXh0cmVzdG9yZWRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgcmVzdG9yZWQuXG4gICAgICogbWFwLm9uKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0Egd2ViZ2xjb250ZXh0cmVzdG9yZWQgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnd2ViZ2xjb250ZXh0cmVzdG9yZWQnXG5cbiAgICAvKiogQHNlY3Rpb24ge0RhdGEgbG9hZGluZ31cbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGFueSBtYXAgZGF0YSBsb2FkcyBvciBjaGFuZ2VzLiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH1cbiAgICAgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBkYXRhXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtNYXBEYXRhRXZlbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBtYXBcbiAgICAgKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICAgICAqIC8vIHdoZW4gbWFwIGRhdGEgbG9hZHMgb3IgY2hhbmdlcy5cbiAgICAgKiBtYXAub24oJ2RhdGEnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIGRhdGEgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBIVE1MIGNsdXN0ZXJzIHdpdGggY3VzdG9tIHByb3BlcnRpZXNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NsdXN0ZXItaHRtbC8pXG4gICAgICovXG4gICAgfCAnZGF0YSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIG1hcCdzIHN0eWxlIGxvYWRzIG9yIGNoYW5nZXMuIFNlZVxuICAgICAqIHtAbGluayBNYXBEYXRhRXZlbnR9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQGV2ZW50IHN0eWxlZGF0YVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwRGF0YUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIHRoZSBtYXAncyBzdHlsZSBsb2FkcyBvciBjaGFuZ2VzLlxuICAgICAqIG1hcC5vbignc3R5bGVkYXRhJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBzdHlsZWRhdGEgZXZlbnQgb2NjdXJyZWQuJyk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgfCAnc3R5bGVkYXRhJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBvbmUgb2YgdGhlIG1hcCdzIHNvdXJjZXMgbG9hZHMgb3IgY2hhbmdlcywgaW5jbHVkaW5nIGlmIGEgdGlsZSBiZWxvbmdpbmdcbiAgICAgKiB0byBhIHNvdXJjZSBsb2FkcyBvciBjaGFuZ2VzLiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc291cmNlZGF0YVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwRGF0YUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIG9uZSBvZiB0aGUgbWFwJ3Mgc291cmNlcyBsb2FkcyBvciBjaGFuZ2VzLlxuICAgICAqIG1hcC5vbignc291cmNlZGF0YScsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0Egc291cmNlZGF0YSBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdzb3VyY2VkYXRhJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhbnkgbWFwIGRhdGEgKHN0eWxlLCBzb3VyY2UsIHRpbGUsIGV0YykgYmVnaW5zIGxvYWRpbmcgb3JcbiAgICAgKiBjaGFuZ2luZyBhc3luY2hyb25vdXNseS4gQWxsIGBkYXRhbG9hZGluZ2AgZXZlbnRzIGFyZSBmb2xsb3dlZCBieSBhIGBkYXRhYFxuICAgICAqIG9yIGBlcnJvcmAgZXZlbnQuIFNlZSB7QGxpbmsgTWFwRGF0YUV2ZW50fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBkYXRhbG9hZGluZ1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwRGF0YUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIGFueSBtYXAgZGF0YSBiZWdpbnMgbG9hZGluZ1xuICAgICAqIC8vIG9yIGNoYW5naW5nIGFzeW5jaHJvbm91c2x5LlxuICAgICAqIG1hcC5vbignZGF0YWxvYWRpbmcnLCAoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBIGRhdGFsb2FkaW5nIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHwgJ2RhdGFsb2FkaW5nJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgbWFwJ3Mgc3R5bGUgYmVnaW5zIGxvYWRpbmcgb3IgY2hhbmdpbmcgYXN5bmNocm9ub3VzbHkuXG4gICAgICogQWxsIGBzdHlsZWRhdGFsb2FkaW5nYCBldmVudHMgYXJlIGZvbGxvd2VkIGJ5IGEgYHN0eWxlZGF0YWBcbiAgICAgKiBvciBgZXJyb3JgIGV2ZW50LiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc3R5bGVkYXRhbG9hZGluZ1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwRGF0YUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIHRoZSBtYXAncyBzdHlsZSBiZWdpbnMgbG9hZGluZyBvclxuICAgICAqIC8vIGNoYW5naW5nIGFzeW5jaHJvbm91c2x5LlxuICAgICAqIG1hcC5vbignc3R5bGVkYXRhbG9hZGluZycsICgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0Egc3R5bGVkYXRhbG9hZGluZyBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdzdHlsZWRhdGFsb2FkaW5nJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBvbmUgb2YgdGhlIG1hcCdzIHNvdXJjZXMgYmVnaW5zIGxvYWRpbmcgb3IgY2hhbmdpbmcgYXN5bmNocm9ub3VzbHkuXG4gICAgICogQWxsIGBzb3VyY2VkYXRhbG9hZGluZ2AgZXZlbnRzIGFyZSBmb2xsb3dlZCBieSBhIGBzb3VyY2VkYXRhYCBvciBgZXJyb3JgIGV2ZW50LlxuICAgICAqIFNlZSB7QGxpbmsgTWFwRGF0YUV2ZW50fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBzb3VyY2VkYXRhbG9hZGluZ1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7TWFwRGF0YUV2ZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIHRoZSBtYXAncyBzb3VyY2VzIGJlZ2luIGxvYWRpbmcgb3JcbiAgICAgKiAvLyBjaGFuZ2luZyBhc3luY2hyb25vdXNseS5cbiAgICAgKiBtYXAub24oJ3NvdXJjZWRhdGFsb2FkaW5nJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBzb3VyY2VkYXRhbG9hZGluZyBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdzb3VyY2VkYXRhbG9hZGluZydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYW4gaWNvbiBvciBwYXR0ZXJuIG5lZWRlZCBieSB0aGUgc3R5bGUgaXMgbWlzc2luZy4gVGhlIG1pc3NpbmcgaW1hZ2UgY2FuXG4gICAgICogYmUgYWRkZWQgd2l0aCB7QGxpbmsgTWFwI2FkZEltYWdlfSB3aXRoaW4gdGhpcyBldmVudCBsaXN0ZW5lciBjYWxsYmFjayB0byBwcmV2ZW50IHRoZSBpbWFnZSBmcm9tXG4gICAgICogYmVpbmcgc2tpcHBlZC4gVGhpcyBldmVudCBjYW4gYmUgdXNlZCB0byBkeW5hbWljYWxseSBnZW5lcmF0ZSBpY29ucyBhbmQgcGF0dGVybnMuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc3R5bGVpbWFnZW1pc3NpbmdcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGlkIFRoZSBpZCBvZiB0aGUgbWlzc2luZyBpbWFnZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe30pO1xuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gICAgICogLy8gd2hlbiBhbiBpY29uIG9yIHBhdHRlcm4gaXMgbWlzc2luZy5cbiAgICAgKiBtYXAub24oJ3N0eWxlaW1hZ2VtaXNzaW5nJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBzdHlsZWltYWdlbWlzc2luZyBldmVudCBvY2N1cnJlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBHZW5lcmF0ZSBhbmQgYWRkIGEgbWlzc2luZyBpY29uIHRvIHRoZSBtYXBdKGh0dHBzOi8vbWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hZGQtaW1hZ2UtbWlzc2luZy1nZW5lcmF0ZWQvKVxuICAgICAqL1xuICAgIHwgJ3N0eWxlaW1hZ2VtaXNzaW5nJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgYWxsIHN0eWxlIHJlc291cmNlcyBoYXZlIGJlZW4gZG93bmxvYWRlZFxuICAgICAqIGFuZCB0aGUgZmlyc3QgdmlzdWFsbHkgY29tcGxldGUgcmVuZGVyaW5nIG9mIHRoZSBiYXNlIHN0eWxlIGhhcyBvY2N1cnJlZC5cbiAgICAgKlxuICAgICAqIEBldmVudCBzdHlsZS5sb2FkXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5pdGlhbGl6ZSB0aGUgbWFwXG4gICAgICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7fSk7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyB3aGVuIHRoZSBtYXAgaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4gICAgICogbWFwLm9uKCdzdHlsZS5sb2FkJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQSBzdHlsZSBsb2FkIGV2ZW50IG9jY3VycmVkLicpO1xuICAgICAqIH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IFBlcnNpc3QgbGF5ZXJzIHdoZW4gc3dpdGNoaW5nIGJhc2Ugc3R5bGVdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc3R5bGUtc3dpdGNoKVxuICAgICAqL1xuICAgIHwgJ3N0eWxlLmxvYWQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBhZnRlciBzcGVlZCBpbmRleCBjYWxjdWxhdGlvbiBpcyBjb21wbGV0ZWQgaWYgYHNwZWVkSW5kZXhUaW1pbmdgIG9wdGlvbiBoYXMgYmVlbiBzZXQgdG8gYHRydWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZXZlbnQgc3BlZWRpbmRleGNvbXBsZXRlZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluaXRpYWxpemUgdGhlIG1hcFxuICAgICAqIHZhciBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHt9KTtcbiAgICAgKiBtYXAuc3BlZWRJbmRleFRpbWluZyA9IHRydWU7XG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAgICAgKiAvLyBhZnRlciBzcGVlZCBpbmRleCBjYWxjdWxhdGlvbiBpcyBjb21wbGV0ZWQuXG4gICAgICogbWFwLm9uKCdzcGVlZGluZGV4Y29tcGxldGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhgc3BlZWQgaW5kZXggaXMgJHttYXAuc3BlZWRJbmRleE51bWJlcn1gKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB8ICdzcGVlZGluZGV4Y29tcGxldGVkJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgYWZ0ZXIgUlRMIHRleHQgcGx1Z2luIHN0YXRlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcGx1Z2luU3RhdGVDaGFuZ2VcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHwgJ3BsdWdpblN0YXRlQ2hhbmdlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgaW4gd29ya2VyLmpzIGFmdGVyIHNwcml0ZSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcGx1Z2luU3RhdGVDaGFuZ2VcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHwgJ2lzU3ByaXRlTG9hZGVkJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgaW4gc3R5bGUuanMgYWZ0ZXIgbGF5ZXIgb3JkZXIgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBldmVudCBwbHVnaW5TdGF0ZUNoYW5nZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgfCAnbmV3b3JkZXInXG47XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7TWFwTW91c2VFdmVudCwgTWFwVG91Y2hFdmVudCwgTWFwV2hlZWxFdmVudH0gZnJvbSAnLi4vZXZlbnRzLmpzJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB0eXBlIHtIYW5kbGVyUmVzdWx0fSBmcm9tICcuLi9oYW5kbGVyX21hbmFnZXIuanMnO1xuXG5leHBvcnQgY2xhc3MgTWFwRXZlbnRIYW5kbGVyIHtcblxuICAgIF9tb3VzZWRvd25Qb3M6ID9Qb2ludDtcbiAgICBfY2xpY2tUb2xlcmFuY2U6IG51bWJlcjtcbiAgICBfbWFwOiBNYXA7XG5cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCwgb3B0aW9uczogeyBjbGlja1RvbGVyYW5jZTogbnVtYmVyIH0pIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9jbGlja1RvbGVyYW5jZSA9IG9wdGlvbnMuY2xpY2tUb2xlcmFuY2U7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX21vdXNlZG93blBvcyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB3aGVlbChlOiBXaGVlbEV2ZW50KTogP0hhbmRsZXJSZXN1bHQge1xuICAgICAgICAvLyBJZiBtYXBFdmVudC5wcmV2ZW50RGVmYXVsdCgpIGlzIGNhbGxlZCBieSB0aGUgdXNlciwgcHJldmVudCBoYW5kbGVycyBzdWNoIGFzOlxuICAgICAgICAvLyAtIFNjcm9sbFpvb21cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgTWFwV2hlZWxFdmVudChlLnR5cGUsIHRoaXMuX21hcCwgZSkpO1xuICAgIH1cblxuICAgIG1vdXNlZG93bihlOiBNb3VzZUV2ZW50LCBwb2ludDogUG9pbnQpOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIHRoaXMuX21vdXNlZG93blBvcyA9IHBvaW50O1xuICAgICAgICAvLyBJZiBtYXBFdmVudC5wcmV2ZW50RGVmYXVsdCgpIGlzIGNhbGxlZCBieSB0aGUgdXNlciwgcHJldmVudCBoYW5kbGVycyBzdWNoIGFzOlxuICAgICAgICAvLyAtIE1vdXNlUGFuXG4gICAgICAgIC8vIC0gTW91c2VSb3RhdGVcbiAgICAgICAgLy8gLSBNb3VzZVBpdGNoXG4gICAgICAgIC8vIC0gRGJsY2xpY2tIYW5kbGVyXG4gICAgICAgIHJldHVybiB0aGlzLl9maXJlUHJldmVudGFibGUobmV3IE1hcE1vdXNlRXZlbnQoZS50eXBlLCB0aGlzLl9tYXAsIGUpKTtcbiAgICB9XG5cbiAgICBtb3VzZXVwKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoZS50eXBlLCB0aGlzLl9tYXAsIGUpKTtcbiAgICB9XG5cbiAgICBwcmVjbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHN5bnRoID0gZXh0ZW5kKHt9LCBlKTtcbiAgICAgICAgc3ludGgudHlwZSA9ICdwcmVjbGljayc7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KHN5bnRoLnR5cGUsIHRoaXMuX21hcCwgc3ludGgpKTtcbiAgICB9XG5cbiAgICBjbGljayhlOiBNb3VzZUV2ZW50LCBwb2ludDogUG9pbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vdXNlZG93blBvcyAmJiB0aGlzLl9tb3VzZWRvd25Qb3MuZGlzdChwb2ludCkgPj0gdGhpcy5fY2xpY2tUb2xlcmFuY2UpIHJldHVybjtcbiAgICAgICAgdGhpcy5wcmVjbGljayhlKTtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoZS50eXBlLCB0aGlzLl9tYXAsIGUpKTtcbiAgICB9XG5cbiAgICBkYmxjbGljayhlOiBNb3VzZUV2ZW50KTogP0hhbmRsZXJSZXN1bHQge1xuICAgICAgICAvLyBJZiBtYXBFdmVudC5wcmV2ZW50RGVmYXVsdCgpIGlzIGNhbGxlZCBieSB0aGUgdXNlciwgcHJldmVudCBoYW5kbGVycyBzdWNoIGFzOlxuICAgICAgICAvLyAtIERibENsaWNrWm9vbVxuICAgICAgICByZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBNYXBNb3VzZUV2ZW50KGUudHlwZSwgdGhpcy5fbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgbW91c2VvdmVyKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoZS50eXBlLCB0aGlzLl9tYXAsIGUpKTtcbiAgICB9XG5cbiAgICBtb3VzZW91dChlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KGUudHlwZSwgdGhpcy5fbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgdG91Y2hzdGFydChlOiBUb3VjaEV2ZW50KTogP0hhbmRsZXJSZXN1bHQge1xuICAgICAgICAvLyBJZiBtYXBFdmVudC5wcmV2ZW50RGVmYXVsdCgpIGlzIGNhbGxlZCBieSB0aGUgdXNlciwgcHJldmVudCBoYW5kbGVycyBzdWNoIGFzOlxuICAgICAgICAvLyAtIFRvdWNoUGFuXG4gICAgICAgIC8vIC0gVG91Y2hab29tXG4gICAgICAgIC8vIC0gVG91Y2hSb3RhdGVcbiAgICAgICAgLy8gLSBUb3VjaFBpdGNoXG4gICAgICAgIC8vIC0gVGFwWm9vbVxuICAgICAgICAvLyAtIFN3aXBlWm9vbVxuICAgICAgICByZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBNYXBUb3VjaEV2ZW50KGUudHlwZSwgdGhpcy5fbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgdG91Y2htb3ZlKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IE1hcFRvdWNoRXZlbnQoZS50eXBlLCB0aGlzLl9tYXAsIGUpKTtcbiAgICB9XG5cbiAgICB0b3VjaGVuZChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBNYXBUb3VjaEV2ZW50KGUudHlwZSwgdGhpcy5fbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgdG91Y2hjYW5jZWwoZTogVG91Y2hFdmVudCkge1xuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgTWFwVG91Y2hFdmVudChlLnR5cGUsIHRoaXMuX21hcCwgZSkpO1xuICAgIH1cblxuICAgIF9maXJlUHJldmVudGFibGUobWFwRXZlbnQ6IE1hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50IHwgTWFwV2hlZWxFdmVudCk6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobWFwRXZlbnQpO1xuICAgICAgICBpZiAobWFwRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgLy8gcmV0dXJuaW5nIGFuIG9iamVjdCBtYXJrcyB0aGUgaGFuZGxlciBhcyBhY3RpdmUgYW5kIHJlc2V0cyBvdGhlciBoYW5kbGVyc1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbmFibGUoKSB7fVxuICAgIGRpc2FibGUoKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgQmxvY2thYmxlTWFwRXZlbnRIYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2RlbGF5Q29udGV4dE1lbnU6IGJvb2xlYW47XG4gICAgX2NvbnRleHRNZW51RXZlbnQ6ID9Nb3VzZUV2ZW50O1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLl9kZWxheUNvbnRleHRNZW51ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NvbnRleHRNZW51RXZlbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgbW91c2Vtb3ZlKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgLy8gbW91c2Vtb3ZlIG1hcCBldmVudHMgc2hvdWxkIG5vdCBiZSBmaXJlZCB3aGVuIGludGVyYWN0aW9uIGhhbmRsZXJzIChwYW4sIHJvdGF0ZSwgZXRjKSBhcmUgYWN0aXZlXG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KGUudHlwZSwgdGhpcy5fbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgbW91c2Vkb3duKCkge1xuICAgICAgICB0aGlzLl9kZWxheUNvbnRleHRNZW51ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBtb3VzZXVwKCkge1xuICAgICAgICB0aGlzLl9kZWxheUNvbnRleHRNZW51ID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZXh0TWVudUV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgTWFwTW91c2VFdmVudCgnY29udGV4dG1lbnUnLCB0aGlzLl9tYXAsIHRoaXMuX2NvbnRleHRNZW51RXZlbnQpKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jb250ZXh0TWVudUV2ZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnRleHRtZW51KGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlbGF5Q29udGV4dE1lbnUpIHtcbiAgICAgICAgICAgIC8vIE1hYzogY29udGV4dG1lbnUgZmlyZWQgb24gbW91c2Vkb3duOyB3ZSBzYXZlIGl0IHVudGlsIG1vdXNldXAgZm9yIGNvbnNpc3RlbmN5J3Mgc2FrZVxuICAgICAgICAgICAgdGhpcy5fY29udGV4dE1lbnVFdmVudCA9IGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBXaW5kb3dzOiBjb250ZXh0bWVudSBmaXJlZCBvbiBtb3VzZXVwLCBzbyBmaXJlIGV2ZW50IG5vd1xuICAgICAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoZS50eXBlLCB0aGlzLl9tYXAsIGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHByZXZlbnQgYnJvd3NlciBjb250ZXh0IG1lbnUgd2hlbiBuZWNlc3NhcnlcbiAgICAgICAgaWYgKHRoaXMuX21hcC5saXN0ZW5zKCdjb250ZXh0bWVudScpKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzQWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVuYWJsZSgpIHt9XG4gICAgZGlzYWJsZSgpIHt9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20uanMnO1xuXG5pbXBvcnQge0V2ZW50fSBmcm9tICcuLi8uLi91dGlsL2V2ZW50ZWQuanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwLmpzJztcbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUge0hhbmRsZXJSZXN1bHR9IGZyb20gJy4uL2hhbmRsZXJfbWFuYWdlci5qcyc7XG5cbi8qKlxuICogVGhlIGBCb3hab29tSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCB0byBmaXQgd2l0aGluIGEgYm91bmRpbmcgYm94LlxuICogVGhlIGJvdW5kaW5nIGJveCBpcyBkZWZpbmVkIGJ5IGNsaWNraW5nIGFuZCBob2xkaW5nIGBzaGlmdGAgd2hpbGUgZHJhZ2dpbmcgdGhlIGN1cnNvci5cbiAqXG4gKiBAc2VlIFtFeGFtcGxlOiBUb2dnbGUgaW50ZXJhY3Rpb25zXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90b2dnbGUtaW50ZXJhY3Rpb24taGFuZGxlcnMvKVxuICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gKi9cbmNsYXNzIEJveFpvb21IYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICBfYWN0aXZlOiBib29sZWFuO1xuICAgIF9zdGFydFBvczogP1BvaW50O1xuICAgIF9sYXN0UG9zOiA/UG9pbnQ7XG4gICAgX2JveDogSFRNTEVsZW1lbnQ7XG4gICAgX2NsaWNrVG9sZXJhbmNlOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwLCBvcHRpb25zOiB7XG4gICAgICAgIGNsaWNrVG9sZXJhbmNlOiBudW1iZXJcbiAgICB9KSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fZWwgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG1hcC5nZXRDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fY2xpY2tUb2xlcmFuY2UgPSBvcHRpb25zLmNsaWNrVG9sZXJhbmNlIHx8IDE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc0JveFpvb21FbmFibGVkID0gbWFwLmJveFpvb20uaXNFbmFibGVkKCk7XG4gICAgICovXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmFibGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZSAoY3VycmVudGx5IGJlaW5nIHVzZWQpLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaXNCb3hab29tQWN0aXZlID0gbWFwLmJveFpvb20uaXNBY3RpdmUoKTtcbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fYWN0aXZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmJveFpvb20uZW5hYmxlKCk7XG4gICAgICovXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuYm94Wm9vbS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3VzZWRvd24oZTogTW91c2VFdmVudCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICBpZiAoIShlLnNoaWZ0S2V5ICYmIGUuYnV0dG9uID09PSAwKSkgcmV0dXJuO1xuXG4gICAgICAgIERPTS5kaXNhYmxlRHJhZygpO1xuICAgICAgICB0aGlzLl9zdGFydFBvcyA9IHRoaXMuX2xhc3RQb3MgPSBwb2ludDtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBtb3VzZW1vdmVXaW5kb3coZTogTW91c2VFdmVudCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGlmICghdGhpcy5fYWN0aXZlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcG9zID0gcG9pbnQ7XG4gICAgICAgIGNvbnN0IHAwID0gdGhpcy5fc3RhcnRQb3M7XG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5fbGFzdFBvcztcblxuICAgICAgICBpZiAoIXAwIHx8ICFwMSB8fCBwMS5lcXVhbHMocG9zKSB8fCAoIXRoaXMuX2JveCAmJiBwb3MuZGlzdChwMCkgPCB0aGlzLl9jbGlja1RvbGVyYW5jZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RQb3MgPSBwb3M7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9ib3gpIHtcbiAgICAgICAgICAgIHRoaXMuX2JveCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1ib3h6b29tJywgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jcm9zc2hhaXInKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnYm94em9vbXN0YXJ0JywgZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtaW5YID0gTWF0aC5taW4ocDAueCwgcG9zLngpLFxuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KHAwLngsIHBvcy54KSxcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihwMC55LCBwb3MueSksXG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgocDAueSwgcG9zLnkpO1xuXG4gICAgICAgIHRoaXMuX21hcC5fcmVxdWVzdERvbVRhc2soKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JveCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JveC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7bWluWH1weCwke21pbll9cHgpYDtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3guc3R5bGUud2lkdGggPSBgJHttYXhYIC0gbWluWH1weGA7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm94LnN0eWxlLmhlaWdodCA9IGAke21heFkgLSBtaW5ZfXB4YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbW91c2V1cFdpbmRvdyhlOiBNb3VzZUV2ZW50LCBwb2ludDogUG9pbnQpOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIGlmICghdGhpcy5fYWN0aXZlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcDAgPSB0aGlzLl9zdGFydFBvcyxcbiAgICAgICAgICAgIHAxID0gcG9pbnQ7XG5cbiAgICAgICAgaWYgKCFwMCB8fCBlLmJ1dHRvbiAhPT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBET00uc3VwcHJlc3NDbGljaygpO1xuXG4gICAgICAgIGlmIChwMC54ID09PSBwMS54ICYmIHAwLnkgPT09IHAxLnkpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnYm94em9vbWNhbmNlbCcsIGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KCdib3h6b29tZW5kJywge29yaWdpbmFsRXZlbnQ6IGV9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNhbWVyYUFuaW1hdGlvbjogKG1hcDogTWFwKSA9PiBtYXAuZml0U2NyZWVuQ29vcmRpbmF0ZXMocDAsIHAxLCB0aGlzLl9tYXAuZ2V0QmVhcmluZygpLCB7bGluZWFyOiBmYWxzZX0pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAga2V5ZG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5fYWN0aXZlKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnYm94em9vbWNhbmNlbCcsIGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmx1cigpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3Jvc3NoYWlyJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2JveCkge1xuICAgICAgICAgICAgdGhpcy5fYm94LnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5fYm94ID0gKG51bGw6IGFueSk7XG4gICAgICAgIH1cblxuICAgICAgICBET00uZW5hYmxlRHJhZygpO1xuXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zdGFydFBvcztcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xhc3RQb3M7XG4gICAgfVxuXG4gICAgX2ZpcmVFdmVudCh0eXBlOiBzdHJpbmcsIGU6IGFueSk6IE1hcCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQodHlwZSwge29yaWdpbmFsRXZlbnQ6IGV9KSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCb3hab29tSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHR5cGUgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvdWNoZXModG91Y2hlczogQXJyYXk8VG91Y2g+LCBwb2ludHM6IEFycmF5PFBvaW50Pik6IHtbbnVtYmVyIHwgc3RyaW5nXTogUG9pbnR9IHtcbiAgICBhc3NlcnQodG91Y2hlcy5sZW5ndGggPT09IHBvaW50cy5sZW5ndGgpO1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBvYmpbdG91Y2hlc1tpXS5pZGVudGlmaWVyXSA9IHBvaW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7aW5kZXhUb3VjaGVzfSBmcm9tICcuL2hhbmRsZXJfdXRpbC5qcyc7XG5cbmZ1bmN0aW9uIGdldENlbnRyb2lkKHBvaW50czogQXJyYXk8UG9pbnQ+KSB7XG4gICAgY29uc3Qgc3VtID0gbmV3IFBvaW50KDAsIDApO1xuICAgIGZvciAoY29uc3QgcG9pbnQgb2YgcG9pbnRzKSB7XG4gICAgICAgIHN1bS5fYWRkKHBvaW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bS5kaXYocG9pbnRzLmxlbmd0aCk7XG59XG5cbmV4cG9ydCBjb25zdCBNQVhfVEFQX0lOVEVSVkFMID0gNTAwO1xuY29uc3QgTUFYX1RPVUNIX1RJTUUgPSA1MDA7XG5jb25zdCBNQVhfRElTVCA9IDMwO1xuXG5leHBvcnQgY2xhc3MgU2luZ2xlVGFwUmVjb2duaXplciB7XG5cbiAgICBudW1Ub3VjaGVzOiBudW1iZXI7XG4gICAgY2VudHJvaWQ6ID9Qb2ludDtcbiAgICBzdGFydFRpbWU6IG51bWJlcjtcbiAgICBhYm9ydGVkOiBib29sZWFuO1xuICAgIHRvdWNoZXM6IHsgW251bWJlciB8IHN0cmluZ106IFBvaW50IH07XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IG51bVRvdWNoZXM6IG51bWJlciB9KSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy5udW1Ub3VjaGVzID0gb3B0aW9ucy5udW1Ub3VjaGVzO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmNlbnRyb2lkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IDA7XG4gICAgICAgIHRoaXMudG91Y2hlcyA9IHt9O1xuICAgICAgICB0aGlzLmFib3J0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0b3VjaHN0YXJ0KGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pIHtcblxuICAgICAgICBpZiAodGhpcy5jZW50cm9pZCB8fCBtYXBUb3VjaGVzLmxlbmd0aCA+IHRoaXMubnVtVG91Y2hlcykge1xuICAgICAgICAgICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdGFydFRpbWUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lID0gZS50aW1lU3RhbXA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFwVG91Y2hlcy5sZW5ndGggPT09IHRoaXMubnVtVG91Y2hlcykge1xuICAgICAgICAgICAgdGhpcy5jZW50cm9pZCA9IGdldENlbnRyb2lkKHBvaW50cyk7XG4gICAgICAgICAgICB0aGlzLnRvdWNoZXMgPSBpbmRleFRvdWNoZXMobWFwVG91Y2hlcywgcG9pbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvdWNobW92ZShlOiBUb3VjaEV2ZW50LCBwb2ludHM6IEFycmF5PFBvaW50PiwgbWFwVG91Y2hlczogQXJyYXk8VG91Y2g+KSB7XG4gICAgICAgIGlmICh0aGlzLmFib3J0ZWQgfHwgIXRoaXMuY2VudHJvaWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBuZXdUb3VjaGVzID0gaW5kZXhUb3VjaGVzKG1hcFRvdWNoZXMsIHBvaW50cyk7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy50b3VjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2UG9zID0gdGhpcy50b3VjaGVzW2lkXTtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IG5ld1RvdWNoZXNbaWRdO1xuICAgICAgICAgICAgaWYgKCFwb3MgfHwgcG9zLmRpc3QocHJldlBvcykgPiBNQVhfRElTVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b3VjaGVuZChlOiBUb3VjaEV2ZW50LCBwb2ludHM6IEFycmF5PFBvaW50PiwgbWFwVG91Y2hlczogQXJyYXk8VG91Y2g+KTogP1BvaW50IHtcbiAgICAgICAgaWYgKCF0aGlzLmNlbnRyb2lkIHx8IGUudGltZVN0YW1wIC0gdGhpcy5zdGFydFRpbWUgPiBNQVhfVE9VQ0hfVElNRSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXBUb3VjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgY2VudHJvaWQgPSAhdGhpcy5hYm9ydGVkICYmIHRoaXMuY2VudHJvaWQ7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICBpZiAoY2VudHJvaWQpIHJldHVybiBjZW50cm9pZDtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgVGFwUmVjb2duaXplciB7XG5cbiAgICBzaW5nbGVUYXA6IFNpbmdsZVRhcFJlY29nbml6ZXI7XG4gICAgbnVtVGFwczogbnVtYmVyO1xuICAgIGxhc3RUaW1lOiBudW1iZXI7XG4gICAgbGFzdFRhcDogP1BvaW50O1xuICAgIGNvdW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IG51bVRhcHM6IG51bWJlciwgbnVtVG91Y2hlczogbnVtYmVyIH0pIHtcbiAgICAgICAgdGhpcy5zaW5nbGVUYXAgPSBuZXcgU2luZ2xlVGFwUmVjb2duaXplcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5udW1UYXBzID0gb3B0aW9ucy5udW1UYXBzO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5sYXN0VGFwID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5zaW5nbGVUYXAucmVzZXQoKTtcbiAgICB9XG5cbiAgICB0b3VjaHN0YXJ0KGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pIHtcbiAgICAgICAgdGhpcy5zaW5nbGVUYXAudG91Y2hzdGFydChlLCBwb2ludHMsIG1hcFRvdWNoZXMpO1xuICAgIH1cblxuICAgIHRvdWNobW92ZShlOiBUb3VjaEV2ZW50LCBwb2ludHM6IEFycmF5PFBvaW50PiwgbWFwVG91Y2hlczogQXJyYXk8VG91Y2g+KSB7XG4gICAgICAgIHRoaXMuc2luZ2xlVGFwLnRvdWNobW92ZShlLCBwb2ludHMsIG1hcFRvdWNoZXMpO1xuICAgIH1cblxuICAgIHRvdWNoZW5kKGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pOiA/UG9pbnQge1xuICAgICAgICBjb25zdCB0YXAgPSB0aGlzLnNpbmdsZVRhcC50b3VjaGVuZChlLCBwb2ludHMsIG1hcFRvdWNoZXMpO1xuICAgICAgICBpZiAodGFwKSB7XG4gICAgICAgICAgICBjb25zdCBzb29uRW5vdWdoID0gZS50aW1lU3RhbXAgLSB0aGlzLmxhc3RUaW1lIDwgTUFYX1RBUF9JTlRFUlZBTDtcbiAgICAgICAgICAgIGNvbnN0IGNsb3NlRW5vdWdoID0gIXRoaXMubGFzdFRhcCB8fCB0aGlzLmxhc3RUYXAuZGlzdCh0YXApIDwgTUFYX0RJU1Q7XG5cbiAgICAgICAgICAgIGlmICghc29vbkVub3VnaCB8fCAhY2xvc2VFbm91Z2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgICAgIHRoaXMubGFzdFRpbWUgPSBlLnRpbWVTdGFtcDtcbiAgICAgICAgICAgIHRoaXMubGFzdFRhcCA9IHRhcDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IHRoaXMubnVtVGFwcykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtUYXBSZWNvZ25pemVyfSBmcm9tICcuL3RhcF9yZWNvZ25pemVyLmpzJztcbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcC5qcyc7XG5pbXBvcnQgdHlwZSB7SGFuZGxlclJlc3VsdH0gZnJvbSAnLi4vaGFuZGxlcl9tYW5hZ2VyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFwWm9vbUhhbmRsZXIge1xuXG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2FjdGl2ZTogYm9vbGVhbjtcbiAgICBfem9vbUluOiBUYXBSZWNvZ25pemVyO1xuICAgIF96b29tT3V0OiBUYXBSZWNvZ25pemVyO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3pvb21JbiA9IG5ldyBUYXBSZWNvZ25pemVyKHtcbiAgICAgICAgICAgIG51bVRvdWNoZXM6IDEsXG4gICAgICAgICAgICBudW1UYXBzOiAyXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3pvb21PdXQgPSBuZXcgVGFwUmVjb2duaXplcih7XG4gICAgICAgICAgICBudW1Ub3VjaGVzOiAyLFxuICAgICAgICAgICAgbnVtVGFwczogMVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl96b29tSW4ucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fem9vbU91dC5yZXNldCgpO1xuICAgIH1cblxuICAgIHRvdWNoc3RhcnQoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPikge1xuICAgICAgICB0aGlzLl96b29tSW4udG91Y2hzdGFydChlLCBwb2ludHMsIG1hcFRvdWNoZXMpO1xuICAgICAgICB0aGlzLl96b29tT3V0LnRvdWNoc3RhcnQoZSwgcG9pbnRzLCBtYXBUb3VjaGVzKTtcbiAgICB9XG5cbiAgICB0b3VjaG1vdmUoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPikge1xuICAgICAgICB0aGlzLl96b29tSW4udG91Y2htb3ZlKGUsIHBvaW50cywgbWFwVG91Y2hlcyk7XG4gICAgICAgIHRoaXMuX3pvb21PdXQudG91Y2htb3ZlKGUsIHBvaW50cywgbWFwVG91Y2hlcyk7XG4gICAgfVxuXG4gICAgdG91Y2hlbmQoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPik6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgY29uc3Qgem9vbUluUG9pbnQgPSB0aGlzLl96b29tSW4udG91Y2hlbmQoZSwgcG9pbnRzLCBtYXBUb3VjaGVzKTtcbiAgICAgICAgY29uc3Qgem9vbU91dFBvaW50ID0gdGhpcy5fem9vbU91dC50b3VjaGVuZChlLCBwb2ludHMsIG1hcFRvdWNoZXMpO1xuXG4gICAgICAgIGlmICh6b29tSW5Qb2ludCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZXNldCgpLCAwKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2FtZXJhQW5pbWF0aW9uOiAobWFwOiBNYXApID0+IG1hcC5lYXNlVG8oe1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgICAgICAgICB6b29tOiBtYXAuZ2V0Wm9vbSgpICsgMSxcbiAgICAgICAgICAgICAgICAgICAgYXJvdW5kOiBtYXAudW5wcm9qZWN0KHpvb21JblBvaW50KVxuICAgICAgICAgICAgICAgIH0sIHtvcmlnaW5hbEV2ZW50OiBlfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoem9vbU91dFBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnJlc2V0KCksIDApO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjYW1lcmFBbmltYXRpb246IChtYXA6IE1hcCkgPT4gbWFwLmVhc2VUbyh7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICAgICAgICAgIHpvb206IG1hcC5nZXRab29tKCkgLSAxLFxuICAgICAgICAgICAgICAgICAgICBhcm91bmQ6IG1hcC51bnByb2plY3Qoem9vbU91dFBvaW50KVxuICAgICAgICAgICAgICAgIH0sIHtvcmlnaW5hbEV2ZW50OiBlfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b3VjaGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20uanMnO1xuaW1wb3J0IHR5cGUgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSB7SGFuZGxlclJlc3VsdH0gZnJvbSAnLi4vaGFuZGxlcl9tYW5hZ2VyLmpzJztcblxuY29uc3QgTEVGVF9CVVRUT04gPSAwO1xuY29uc3QgUklHSFRfQlVUVE9OID0gMjtcblxuLy8gdGhlIHZhbHVlcyBmb3IgZWFjaCBidXR0b24gaW4gTW91c2VFdmVudC5idXR0b25zXG5jb25zdCBCVVRUT05TX0ZMQUdTID0ge1xuICAgIFtMRUZUX0JVVFRPTl06IDEsXG4gICAgW1JJR0hUX0JVVFRPTl06IDJcbn07XG5cbmZ1bmN0aW9uIGJ1dHRvblN0aWxsUHJlc3NlZChlOiBNb3VzZUV2ZW50LCBidXR0b246IG51bWJlcikge1xuICAgIGNvbnN0IGZsYWcgPSBCVVRUT05TX0ZMQUdTW2J1dHRvbl07XG4gICAgcmV0dXJuIGUuYnV0dG9ucyA9PT0gdW5kZWZpbmVkIHx8IChlLmJ1dHRvbnMgJiBmbGFnKSAhPT0gZmxhZztcbn1cblxuY2xhc3MgTW91c2VIYW5kbGVyIHtcblxuICAgIF9lbmFibGVkOiBib29sZWFuO1xuICAgIF9hY3RpdmU6IGJvb2xlYW47XG4gICAgX2xhc3RQb2ludDogP1BvaW50O1xuICAgIF9ldmVudEJ1dHRvbjogP251bWJlcjtcbiAgICBfbW92ZWQ6IGJvb2xlYW47XG4gICAgX2NsaWNrVG9sZXJhbmNlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IGNsaWNrVG9sZXJhbmNlOiBudW1iZXIgfSkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuX2NsaWNrVG9sZXJhbmNlID0gb3B0aW9ucy5jbGlja1RvbGVyYW5jZSB8fCAxO1xuICAgIH1cblxuICAgIGJsdXIoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX21vdmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2xhc3RQb2ludCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fZXZlbnRCdXR0b24gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX2NvcnJlY3RCdXR0b24oZTogTW91c2VFdmVudCwgYnV0dG9uOiBudW1iZXIpOiBib29sZWFuIHsgIC8vZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGltcGxlbWVudGVkIGJ5IGNoaWxkXG4gICAgfVxuXG4gICAgX21vdmUobGFzdFBvaW50OiBQb2ludCwgcG9pbnQ6IFBvaW50KTogP0hhbmRsZXJSZXN1bHQgeyAgLy9lc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIHJldHVybiB7fTsgLy8gaW1wbGVtZW50ZWQgYnkgY2hpbGRcbiAgICB9XG5cbiAgICBtb3VzZWRvd24oZTogTW91c2VFdmVudCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9sYXN0UG9pbnQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBldmVudEJ1dHRvbiA9IERPTS5tb3VzZUJ1dHRvbihlKTtcbiAgICAgICAgaWYgKCF0aGlzLl9jb3JyZWN0QnV0dG9uKGUsIGV2ZW50QnV0dG9uKSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX2xhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICB0aGlzLl9ldmVudEJ1dHRvbiA9IGV2ZW50QnV0dG9uO1xuICAgIH1cblxuICAgIG1vdXNlbW92ZVdpbmRvdyhlOiBNb3VzZUV2ZW50LCBwb2ludDogUG9pbnQpOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIGNvbnN0IGxhc3RQb2ludCA9IHRoaXMuX2xhc3RQb2ludDtcbiAgICAgICAgaWYgKCFsYXN0UG9pbnQpIHJldHVybjtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9ldmVudEJ1dHRvbiAhPSBudWxsICYmIGJ1dHRvblN0aWxsUHJlc3NlZChlLCB0aGlzLl9ldmVudEJ1dHRvbikpIHtcbiAgICAgICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3QgZmlyZSBhIGBtb3VzZXVwYCB3aGVuIHRoZSBtb3VzZXVwIG9jY3VycyBvdXRzaWRlXG4gICAgICAgICAgICAvLyB0aGUgd2luZG93IG9yIGlmcmFtZTpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy80NjIyXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gSWYgdGhlIGJ1dHRvbiBpcyBubyBsb25nZXIgcHJlc3NlZCBkdXJpbmcgdGhpcyBgbW91c2Vtb3ZlYCBpdCBtYXkgaGF2ZVxuICAgICAgICAgICAgLy8gYmVlbiByZWxlYXNlZCBvdXRzaWRlIG9mIHRoZSB3aW5kb3cgb3IgaWZyYW1lLlxuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9tb3ZlZCAmJiBwb2ludC5kaXN0KGxhc3RQb2ludCkgPCB0aGlzLl9jbGlja1RvbGVyYW5jZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9tb3ZlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2xhc3RQb2ludCA9IHBvaW50O1xuXG4gICAgICAgIC8vIGltcGxlbWVudGVkIGJ5IGNoaWxkIGNsYXNzXG4gICAgICAgIHJldHVybiB0aGlzLl9tb3ZlKGxhc3RQb2ludCwgcG9pbnQpO1xuICAgIH1cblxuICAgIG1vdXNldXBXaW5kb3coZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xhc3RQb2ludCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBldmVudEJ1dHRvbiA9IERPTS5tb3VzZUJ1dHRvbihlKTtcbiAgICAgICAgaWYgKGV2ZW50QnV0dG9uICE9PSB0aGlzLl9ldmVudEJ1dHRvbikgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5fbW92ZWQpIERPTS5zdXBwcmVzc0NsaWNrKCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW91c2VQYW5IYW5kbGVyIGV4dGVuZHMgTW91c2VIYW5kbGVyIHtcblxuICAgIG1vdXNlZG93bihlOiBNb3VzZUV2ZW50LCBwb2ludDogUG9pbnQpIHtcbiAgICAgICAgc3VwZXIubW91c2Vkb3duKGUsIHBvaW50KTtcbiAgICAgICAgaWYgKHRoaXMuX2xhc3RQb2ludCkgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gICAgX2NvcnJlY3RCdXR0b24oZTogTW91c2VFdmVudCwgYnV0dG9uOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbiA9PT0gTEVGVF9CVVRUT04gJiYgIWUuY3RybEtleTtcbiAgICB9XG5cbiAgICBfbW92ZShsYXN0UG9pbnQ6IFBvaW50LCBwb2ludDogUG9pbnQpOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhcm91bmQ6IHBvaW50LFxuICAgICAgICAgICAgcGFuRGVsdGE6IHBvaW50LnN1YihsYXN0UG9pbnQpXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW91c2VSb3RhdGVIYW5kbGVyIGV4dGVuZHMgTW91c2VIYW5kbGVyIHtcbiAgICBfY29ycmVjdEJ1dHRvbihlOiBNb3VzZUV2ZW50LCBidXR0b246IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKGJ1dHRvbiA9PT0gTEVGVF9CVVRUT04gJiYgZS5jdHJsS2V5KSB8fCAoYnV0dG9uID09PSBSSUdIVF9CVVRUT04pO1xuICAgIH1cblxuICAgIF9tb3ZlKGxhc3RQb2ludDogUG9pbnQsIHBvaW50OiBQb2ludCk6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgY29uc3QgZGVncmVlc1BlclBpeGVsTW92ZWQgPSAwLjg7XG4gICAgICAgIGNvbnN0IGJlYXJpbmdEZWx0YSA9IChwb2ludC54IC0gbGFzdFBvaW50LngpICogZGVncmVlc1BlclBpeGVsTW92ZWQ7XG4gICAgICAgIGlmIChiZWFyaW5nRGVsdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4ge2JlYXJpbmdEZWx0YX07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb250ZXh0bWVudShlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIC8vIHByZXZlbnQgYnJvd3NlciBjb250ZXh0IG1lbnUgd2hlbiBuZWNlc3Nhcnk7IHdlIGRvbid0IGFsbG93IGl0IHdpdGggcm90YXRpb25cbiAgICAgICAgLy8gYmVjYXVzZSB3ZSBjYW4ndCBkaXNjZXJuIHJvdGF0aW9uIGdlc3R1cmUgc3RhcnQgZnJvbSBjb250ZXh0bWVudSBvbiBNYWNcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdXNlUGl0Y2hIYW5kbGVyIGV4dGVuZHMgTW91c2VIYW5kbGVyIHtcbiAgICBfY29ycmVjdEJ1dHRvbihlOiBNb3VzZUV2ZW50LCBidXR0b246IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKGJ1dHRvbiA9PT0gTEVGVF9CVVRUT04gJiYgZS5jdHJsS2V5KSB8fCAoYnV0dG9uID09PSBSSUdIVF9CVVRUT04pO1xuICAgIH1cblxuICAgIF9tb3ZlKGxhc3RQb2ludDogUG9pbnQsIHBvaW50OiBQb2ludCk6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgY29uc3QgZGVncmVlc1BlclBpeGVsTW92ZWQgPSAtMC41O1xuICAgICAgICBjb25zdCBwaXRjaERlbHRhID0gKHBvaW50LnkgLSBsYXN0UG9pbnQueSkgKiBkZWdyZWVzUGVyUGl4ZWxNb3ZlZDtcbiAgICAgICAgaWYgKHBpdGNoRGVsdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4ge3BpdGNoRGVsdGF9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGV4dG1lbnUoZTogTW91c2VFdmVudCkge1xuICAgICAgICAvLyBwcmV2ZW50IGJyb3dzZXIgY29udGV4dCBtZW51IHdoZW4gbmVjZXNzYXJ5OyB3ZSBkb24ndCBhbGxvdyBpdCB3aXRoIHJvdGF0aW9uXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgY2FuJ3QgZGlzY2VybiByb3RhdGlvbiBnZXN0dXJlIHN0YXJ0IGZyb20gY29udGV4dG1lbnUgb24gTWFjXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwLmpzJztcbmltcG9ydCB7aW5kZXhUb3VjaGVzfSBmcm9tICcuL2hhbmRsZXJfdXRpbC5qcyc7XG5pbXBvcnQge2JpbmRBbGwsIGlzRnVsbHNjcmVlbn0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi91dGlsL2RvbS5qcyc7XG5pbXBvcnQgdHlwZSB7SGFuZGxlclJlc3VsdH0gZnJvbSAnLi4vaGFuZGxlcl9tYW5hZ2VyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG91Y2hQYW5IYW5kbGVyIHtcblxuICAgIF9tYXA6IE1hcDtcbiAgICBfZWw6IEhUTUxFbGVtZW50O1xuICAgIF9lbmFibGVkOiBib29sZWFuO1xuICAgIF9hY3RpdmU6IGJvb2xlYW47XG4gICAgX3RvdWNoZXM6IHsgW3N0cmluZyB8IG51bWJlcl06IFBvaW50IH07XG4gICAgX21pblRvdWNoZXM6IG51bWJlcjtcbiAgICBfY2xpY2tUb2xlcmFuY2U6IG51bWJlcjtcbiAgICBfc3VtOiBQb2ludDtcbiAgICBfYWxlcnRDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9hbGVydFRpbWVyOiBUaW1lb3V0SUQ7XG5cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCwgb3B0aW9uczogeyBjbGlja1RvbGVyYW5jZTogbnVtYmVyIH0pIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IG1hcC5nZXRDYW52YXNDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fbWluVG91Y2hlcyA9IDE7XG4gICAgICAgIHRoaXMuX2NsaWNrVG9sZXJhbmNlID0gb3B0aW9ucy5jbGlja1RvbGVyYW5jZSB8fCAxO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIGJpbmRBbGwoWydfYWRkVG91Y2hQYW5CbG9ja2VyJywgJ19zaG93VG91Y2hQYW5CbG9ja2VyQWxlcnQnXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl90b3VjaGVzID0ge307XG4gICAgICAgIHRoaXMuX3N1bSA9IG5ldyBQb2ludCgwLCAwKTtcbiAgICB9XG5cbiAgICB0b3VjaHN0YXJ0KGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0oZSwgcG9pbnRzLCBtYXBUb3VjaGVzKTtcbiAgICB9XG5cbiAgICB0b3VjaG1vdmUoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPik6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgaWYgKCF0aGlzLl9hY3RpdmUgfHwgbWFwVG91Y2hlcy5sZW5ndGggPCB0aGlzLl9taW5Ub3VjaGVzKSByZXR1cm47XG5cbiAgICAgICAgLy8gaWYgY29vcGVyYXRpdmUgZ2VzdHVyZSBoYW5kbGluZyBpcyBzZXQgdG8gdHJ1ZSwgcmVxdWlyZSB0d28gZmluZ2VycyB0byB0b3VjaCBwYW5cbiAgICAgICAgaWYgKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyAmJiAhdGhpcy5fbWFwLmlzTW92aW5nKCkpIHtcbiAgICAgICAgICAgIGlmIChtYXBUb3VjaGVzLmxlbmd0aCA9PT0gMSAmJiAhaXNGdWxsc2NyZWVuKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG93VG91Y2hQYW5CbG9ja2VyQWxlcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgIT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgLy8gaW1tZWRpYXRlbHkgaGlkZSBhbGVydCBpZiBpdCBpcyB2aXNpYmxlIHdoZW4gdHdvIGZpbmdlcnMgYXJlIHVzZWQgdG8gcGFuLlxuICAgICAgICAgICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS5jYW5jZWxhYmxlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fY2FsY3VsYXRlVHJhbnNmb3JtKGUsIHBvaW50cywgbWFwVG91Y2hlcyk7XG4gICAgfVxuXG4gICAgdG91Y2hlbmQoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPikge1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0oZSwgcG9pbnRzLCBtYXBUb3VjaGVzKTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlICYmIG1hcFRvdWNoZXMubGVuZ3RoIDwgdGhpcy5fbWluVG91Y2hlcykge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG91Y2hjYW5jZWwoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBfY2FsY3VsYXRlVHJhbnNmb3JtKGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIGlmIChtYXBUb3VjaGVzLmxlbmd0aCA+IDApIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgdG91Y2hlcyA9IGluZGV4VG91Y2hlcyhtYXBUb3VjaGVzLCBwb2ludHMpO1xuXG4gICAgICAgIGNvbnN0IHRvdWNoUG9pbnRTdW0gPSBuZXcgUG9pbnQoMCwgMCk7XG4gICAgICAgIGNvbnN0IHRvdWNoRGVsdGFTdW0gPSBuZXcgUG9pbnQoMCwgMCk7XG4gICAgICAgIGxldCB0b3VjaERlbHRhQ291bnQgPSAwO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWRlbnRpZmllciBpbiB0b3VjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHRvdWNoZXNbaWRlbnRpZmllcl07XG4gICAgICAgICAgICBjb25zdCBwcmV2UG9pbnQgPSB0aGlzLl90b3VjaGVzW2lkZW50aWZpZXJdO1xuICAgICAgICAgICAgaWYgKHByZXZQb2ludCkge1xuICAgICAgICAgICAgICAgIHRvdWNoUG9pbnRTdW0uX2FkZChwb2ludCk7XG4gICAgICAgICAgICAgICAgdG91Y2hEZWx0YVN1bS5fYWRkKHBvaW50LnN1YihwcmV2UG9pbnQpKTtcbiAgICAgICAgICAgICAgICB0b3VjaERlbHRhQ291bnQrKztcbiAgICAgICAgICAgICAgICB0b3VjaGVzW2lkZW50aWZpZXJdID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90b3VjaGVzID0gdG91Y2hlcztcblxuICAgICAgICBpZiAodG91Y2hEZWx0YUNvdW50IDwgdGhpcy5fbWluVG91Y2hlcyB8fCAhdG91Y2hEZWx0YVN1bS5tYWcoKSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHBhbkRlbHRhID0gdG91Y2hEZWx0YVN1bS5kaXYodG91Y2hEZWx0YUNvdW50KTtcbiAgICAgICAgdGhpcy5fc3VtLl9hZGQocGFuRGVsdGEpO1xuICAgICAgICBpZiAodGhpcy5fc3VtLm1hZygpIDwgdGhpcy5fY2xpY2tUb2xlcmFuY2UpIHJldHVybjtcblxuICAgICAgICBjb25zdCBhcm91bmQgPSB0b3VjaFBvaW50U3VtLmRpdih0b3VjaERlbHRhQ291bnQpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhcm91bmQsXG4gICAgICAgICAgICBwYW5EZWx0YVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvdWNoUGFuQmxvY2tlcigpO1xuICAgICAgICAgICAgLy8gb3ZlcnJpZGUgdG91Y2gtYWN0aW9uIGNzcyBwcm9wZXJ0eSB0byBlbmFibGUgc2Nyb2xsaW5nIHBhZ2Ugb3ZlciBtYXBcbiAgICAgICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLW92ZXJyaWRlJywgJ21hcGJveGdsLXNjcm9sbGFibGUtcGFnZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcik7XG4gICAgICAgICAgICB0aGlzLl9hbGVydENvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLW92ZXJyaWRlJywgJ21hcGJveGdsLXNjcm9sbGFibGUtcGFnZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2FjdGl2ZTtcbiAgICB9XG5cbiAgICBfYWRkVG91Y2hQYW5CbG9ja2VyKCkge1xuICAgICAgICBpZiAodGhpcy5fbWFwICYmICF0aGlzLl9hbGVydENvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXInLCB0aGlzLl9tYXAuX2NvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLnRleHRDb250ZW50ID0gdGhpcy5fbWFwLl9nZXRVSVN0cmluZygnVG91Y2hQYW5CbG9ja2VyLk1lc3NhZ2UnKTtcblxuICAgICAgICAgICAgLy8gZHluYW1pY2FsbHkgc2V0IHRoZSBmb250IHNpemUgb2YgdGhlIHRvdWNoIHBhbiBibG9ja2VyIGFsZXJ0IG1lc3NhZ2VcbiAgICAgICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gYCR7TWF0aC5tYXgoMTAsIE1hdGgubWluKDI0LCBNYXRoLmZsb29yKHRoaXMuX2VsLmNsaWVudFdpZHRoICogMC4wNSkpKX1weGA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCkge1xuICAgICAgICB0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICB0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1zaG93Jyk7XG4gICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJhbGVydFwiKTtcblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcik7XG5cbiAgICAgICAgdGhpcy5fYWxlcnRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItc2hvdycpO1xuICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm51bGxcIik7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxuXG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20uanMnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcC5qcyc7XG5pbXBvcnQgdHlwZSB7SGFuZGxlclJlc3VsdH0gZnJvbSAnLi4vaGFuZGxlcl9tYW5hZ2VyLmpzJztcbmltcG9ydCB7aXNGdWxsc2NyZWVufSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuXG5jbGFzcyBUd29Ub3VjaEhhbmRsZXIge1xuXG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2FjdGl2ZTogYm9vbGVhbjtcbiAgICBfZmlyc3RUd29Ub3VjaGVzOiA/W251bWJlciwgbnVtYmVyXTtcbiAgICBfdmVjdG9yOiA/UG9pbnQ7XG4gICAgX3N0YXJ0VmVjdG9yOiA/UG9pbnQ7XG4gICAgX2Fyb3VuZENlbnRlcjogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9maXJzdFR3b1RvdWNoZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX3N0YXJ0KHBvaW50czogW1BvaW50LCBQb2ludF0pIHt9IC8vZXNsaW50LWRpc2FibGUtbGluZVxuICAgIF9tb3ZlKHBvaW50czogW1BvaW50LCBQb2ludF0sIHBpbmNoQXJvdW5kOiA/UG9pbnQsIGU6IFRvdWNoRXZlbnQpOiA/SGFuZGxlclJlc3VsdCB7IHJldHVybiB7fTsgfSAvL2VzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIHRvdWNoc3RhcnQoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPikge1xuICAgICAgICAvL2NvbnNvbGUubG9nKGUudGFyZ2V0LCBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID8gZS50YXJnZXRUb3VjaGVzWzBdLnRhcmdldCA6IG51bGwpO1xuICAgICAgICAvL2xvZygndG91Y2hzdGFydCcsIHBvaW50cywgZS50YXJnZXQuaW5uZXJIVE1MLCBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID8gZS50YXJnZXRUb3VjaGVzWzBdLnRhcmdldC5pbm5lckhUTUw6IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmICh0aGlzLl9maXJzdFR3b1RvdWNoZXMgfHwgbWFwVG91Y2hlcy5sZW5ndGggPCAyKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fZmlyc3RUd29Ub3VjaGVzID0gW1xuICAgICAgICAgICAgbWFwVG91Y2hlc1swXS5pZGVudGlmaWVyLFxuICAgICAgICAgICAgbWFwVG91Y2hlc1sxXS5pZGVudGlmaWVyXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gaW1wbGVtZW50ZWQgYnkgY2hpbGQgY2xhc3Nlc1xuICAgICAgICB0aGlzLl9zdGFydChbcG9pbnRzWzBdLCBwb2ludHNbMV1dKTtcbiAgICB9XG5cbiAgICB0b3VjaG1vdmUoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPik6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgY29uc3QgZmlyc3RUb3VjaGVzID0gdGhpcy5fZmlyc3RUd29Ub3VjaGVzO1xuICAgICAgICBpZiAoIWZpcnN0VG91Y2hlcykgcmV0dXJuO1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCBbaWRBLCBpZEJdID0gZmlyc3RUb3VjaGVzO1xuICAgICAgICBjb25zdCBhID0gZ2V0VG91Y2hCeUlkKG1hcFRvdWNoZXMsIHBvaW50cywgaWRBKTtcbiAgICAgICAgY29uc3QgYiA9IGdldFRvdWNoQnlJZChtYXBUb3VjaGVzLCBwb2ludHMsIGlkQik7XG4gICAgICAgIGlmICghYSB8fCAhYikgcmV0dXJuO1xuICAgICAgICBjb25zdCBwaW5jaEFyb3VuZCA9IHRoaXMuX2Fyb3VuZENlbnRlciA/IG51bGwgOiBhLmFkZChiKS5kaXYoMik7XG5cbiAgICAgICAgLy8gaW1wbGVtZW50ZWQgYnkgY2hpbGQgY2xhc3Nlc1xuICAgICAgICByZXR1cm4gdGhpcy5fbW92ZShbYSwgYl0sIHBpbmNoQXJvdW5kLCBlKTtcblxuICAgIH1cblxuICAgIHRvdWNoZW5kKGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9maXJzdFR3b1RvdWNoZXMpIHJldHVybjtcblxuICAgICAgICBjb25zdCBbaWRBLCBpZEJdID0gdGhpcy5fZmlyc3RUd29Ub3VjaGVzO1xuICAgICAgICBjb25zdCBhID0gZ2V0VG91Y2hCeUlkKG1hcFRvdWNoZXMsIHBvaW50cywgaWRBKTtcbiAgICAgICAgY29uc3QgYiA9IGdldFRvdWNoQnlJZChtYXBUb3VjaGVzLCBwb2ludHMsIGlkQik7XG4gICAgICAgIGlmIChhICYmIGIpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSBET00uc3VwcHJlc3NDbGljaygpO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICB0b3VjaGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGVuYWJsZShvcHRpb25zOiA/e2Fyb3VuZD86ICdjZW50ZXInfSkge1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fYXJvdW5kQ2VudGVyID0gISFvcHRpb25zICYmIG9wdGlvbnMuYXJvdW5kID09PSAnY2VudGVyJztcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICAgIH1cblxuICAgIGlzQWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0VG91Y2hCeUlkKG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPiwgcG9pbnRzOiBBcnJheTxQb2ludD4sIGlkZW50aWZpZXI6IG51bWJlcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFwVG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAobWFwVG91Y2hlc1tpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSByZXR1cm4gcG9pbnRzW2ldO1xuICAgIH1cbn1cblxuLyogWk9PTSAqL1xuXG5jb25zdCBaT09NX1RIUkVTSE9MRCA9IDAuMTtcblxuZnVuY3Rpb24gZ2V0Wm9vbURlbHRhKGRpc3RhbmNlLCBsYXN0RGlzdGFuY2UpIHtcbiAgICByZXR1cm4gTWF0aC5sb2coZGlzdGFuY2UgLyBsYXN0RGlzdGFuY2UpIC8gTWF0aC5MTjI7XG59XG5cbmV4cG9ydCBjbGFzcyBUb3VjaFpvb21IYW5kbGVyIGV4dGVuZHMgVHdvVG91Y2hIYW5kbGVyIHtcblxuICAgIF9kaXN0YW5jZTogbnVtYmVyO1xuICAgIF9zdGFydERpc3RhbmNlOiBudW1iZXI7XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgc3VwZXIucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fZGlzdGFuY2UgPSAwO1xuICAgICAgICB0aGlzLl9zdGFydERpc3RhbmNlID0gMDtcbiAgICB9XG5cbiAgICBfc3RhcnQocG9pbnRzOiBbUG9pbnQsIFBvaW50XSkge1xuICAgICAgICB0aGlzLl9zdGFydERpc3RhbmNlID0gdGhpcy5fZGlzdGFuY2UgPSBwb2ludHNbMF0uZGlzdChwb2ludHNbMV0pO1xuICAgIH1cblxuICAgIF9tb3ZlKHBvaW50czogW1BvaW50LCBQb2ludF0sIHBpbmNoQXJvdW5kOiA/UG9pbnQpOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIGNvbnN0IGxhc3REaXN0YW5jZSA9IHRoaXMuX2Rpc3RhbmNlO1xuICAgICAgICB0aGlzLl9kaXN0YW5jZSA9IHBvaW50c1swXS5kaXN0KHBvaW50c1sxXSk7XG4gICAgICAgIGlmICghdGhpcy5fYWN0aXZlICYmIE1hdGguYWJzKGdldFpvb21EZWx0YSh0aGlzLl9kaXN0YW5jZSwgdGhpcy5fc3RhcnREaXN0YW5jZSkpIDwgWk9PTV9USFJFU0hPTEQpIHJldHVybjtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHpvb21EZWx0YTogZ2V0Wm9vbURlbHRhKHRoaXMuX2Rpc3RhbmNlLCBsYXN0RGlzdGFuY2UpLFxuICAgICAgICAgICAgcGluY2hBcm91bmRcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8qIFJPVEFURSAqL1xuXG5jb25zdCBST1RBVElPTl9USFJFU0hPTEQgPSAyNTsgLy8gcGl4ZWxzIGFsb25nIGNpcmN1bWZlcmVuY2Ugb2YgdG91Y2ggY2lyY2xlXG5cbmZ1bmN0aW9uIGdldEJlYXJpbmdEZWx0YShhOiBQb2ludCwgYjogUG9pbnQpIHtcbiAgICByZXR1cm4gYS5hbmdsZVdpdGgoYikgKiAxODAgLyBNYXRoLlBJO1xufVxuXG5leHBvcnQgY2xhc3MgVG91Y2hSb3RhdGVIYW5kbGVyIGV4dGVuZHMgVHdvVG91Y2hIYW5kbGVyIHtcbiAgICBfbWluRGlhbWV0ZXI6IG51bWJlcjtcblxuICAgIHJlc2V0KCkge1xuICAgICAgICBzdXBlci5yZXNldCgpO1xuICAgICAgICB0aGlzLl9taW5EaWFtZXRlciA9IDA7XG4gICAgICAgIHRoaXMuX3N0YXJ0VmVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl92ZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX3N0YXJ0KHBvaW50czogW1BvaW50LCBQb2ludF0pIHtcbiAgICAgICAgdGhpcy5fc3RhcnRWZWN0b3IgPSB0aGlzLl92ZWN0b3IgPSBwb2ludHNbMF0uc3ViKHBvaW50c1sxXSk7XG4gICAgICAgIHRoaXMuX21pbkRpYW1ldGVyID0gcG9pbnRzWzBdLmRpc3QocG9pbnRzWzFdKTtcbiAgICB9XG5cbiAgICBfbW92ZShwb2ludHM6IFtQb2ludCwgUG9pbnRdLCBwaW5jaEFyb3VuZDogP1BvaW50KTogP0hhbmRsZXJSZXN1bHQge1xuICAgICAgICBjb25zdCBsYXN0VmVjdG9yID0gdGhpcy5fdmVjdG9yO1xuICAgICAgICB0aGlzLl92ZWN0b3IgPSBwb2ludHNbMF0uc3ViKHBvaW50c1sxXSk7XG5cbiAgICAgICAgaWYgKCFsYXN0VmVjdG9yIHx8ICghdGhpcy5fYWN0aXZlICYmIHRoaXMuX2lzQmVsb3dUaHJlc2hvbGQodGhpcy5fdmVjdG9yKSkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtY2FsbF0gLSBGbG93IGRvZXNuJ3QgaW5mZXIgdGhhdCB0aGlzLl92ZWN0b3JpcyBub3QgbnVsbFxuICAgICAgICAgICAgYmVhcmluZ0RlbHRhOiBnZXRCZWFyaW5nRGVsdGEodGhpcy5fdmVjdG9yLCBsYXN0VmVjdG9yKSxcbiAgICAgICAgICAgIHBpbmNoQXJvdW5kXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2lzQmVsb3dUaHJlc2hvbGQodmVjdG9yOiBQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICAvKlxuICAgICAgICAgKiBUaGUgdGhyZXNob2xkIGJlZm9yZSBhIHJvdGF0aW9uIGFjdHVhbGx5IGhhcHBlbnMgaXMgY29uZmlndXJlZCBpblxuICAgICAgICAgKiBwaXhlbHMgYWxvbmd0aCBjaXJjdW1mZXJlbmNlIG9mIHRoZSBjaXJjbGUgZm9ybWVkIGJ5IHRoZSB0d28gZmluZ2Vycy5cbiAgICAgICAgICogVGhpcyBtYWtlcyB0aGUgdGhyZXNob2xkIGluIGRlZ3JlZXMgbGFyZ2VyIHdoZW4gdGhlIGZpbmdlcnMgYXJlIGNsb3NlXG4gICAgICAgICAqIHRvZ2V0aGVyIGFuZCBzbWFsbGVyIHdoZW4gdGhlIGZpbmdlcnMgYXJlIGZhciBhcGFydC5cbiAgICAgICAgICpcbiAgICAgICAgICogVXNlIHRoZSBzbWFsbGVzdCBkaWFtZXRlciBmcm9tIHRoZSB3aG9sZSBnZXN0dXJlIHRvIHJlZHVjZSBzZW5zaXRpdml0eVxuICAgICAgICAgKiB3aGVuIHBpbmNoaW5nIGluIGFuZCBvdXQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMuX21pbkRpYW1ldGVyID0gTWF0aC5taW4odGhpcy5fbWluRGlhbWV0ZXIsIHZlY3Rvci5tYWcoKSk7XG4gICAgICAgIGNvbnN0IGNpcmN1bWZlcmVuY2UgPSBNYXRoLlBJICogdGhpcy5fbWluRGlhbWV0ZXI7XG4gICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IFJPVEFUSU9OX1RIUkVTSE9MRCAvIGNpcmN1bWZlcmVuY2UgKiAzNjA7XG5cbiAgICAgICAgY29uc3Qgc3RhcnRWZWN0b3IgPSB0aGlzLl9zdGFydFZlY3RvcjtcbiAgICAgICAgaWYgKCFzdGFydFZlY3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGJlYXJpbmdEZWx0YVNpbmNlU3RhcnQgPSBnZXRCZWFyaW5nRGVsdGEodmVjdG9yLCBzdGFydFZlY3Rvcik7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyhiZWFyaW5nRGVsdGFTaW5jZVN0YXJ0KSA8IHRocmVzaG9sZDtcbiAgICB9XG59XG5cbi8qIFBJVENIICovXG5cbmZ1bmN0aW9uIGlzVmVydGljYWwodmVjdG9yKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHZlY3Rvci55KSA+IE1hdGguYWJzKHZlY3Rvci54KTtcbn1cblxuY29uc3QgQUxMT1dFRF9TSU5HTEVfVE9VQ0hfVElNRSA9IDEwMDtcblxuLyoqXG4gKiBUaGUgYFRvdWNoUGl0Y2hIYW5kbGVyYCBhbGxvd3MgdGhlIHVzZXIgdG8gcGl0Y2ggdGhlIG1hcCBieSBkcmFnZ2luZyB1cCBhbmQgZG93biB3aXRoIHR3byBmaW5nZXJzLlxuICpcbiAqIEBzZWUgW0V4YW1wbGU6IFNldCBwaXRjaCBhbmQgYmVhcmluZ10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2V0LXBlcnNwZWN0aXZlLylcbiovXG5leHBvcnQgY2xhc3MgVG91Y2hQaXRjaEhhbmRsZXIgZXh0ZW5kcyBUd29Ub3VjaEhhbmRsZXIge1xuXG4gICAgX3ZhbGlkOiBib29sZWFuIHwgdm9pZDtcbiAgICBfZmlyc3RNb3ZlOiA/bnVtYmVyO1xuICAgIF9sYXN0UG9pbnRzOiA/W1BvaW50LCBQb2ludF07XG4gICAgX21hcDogTWFwO1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICBzdXBlci5yZXNldCgpO1xuICAgICAgICB0aGlzLl92YWxpZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fZmlyc3RNb3ZlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9sYXN0UG9pbnRzID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIF9zdGFydChwb2ludHM6IFtQb2ludCwgUG9pbnRdKSB7XG4gICAgICAgIHRoaXMuX2xhc3RQb2ludHMgPSBwb2ludHM7XG4gICAgICAgIGlmIChpc1ZlcnRpY2FsKHBvaW50c1swXS5zdWIocG9pbnRzWzFdKSkpIHtcbiAgICAgICAgICAgIC8vIGZpbmdlcnMgYXJlIG1vcmUgaG9yaXpvbnRhbCB0aGFuIHZlcnRpY2FsXG4gICAgICAgICAgICB0aGlzLl92YWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBfbW92ZShwb2ludHM6IFtQb2ludCwgUG9pbnRdLCBjZW50ZXI6ID9Qb2ludCwgZTogVG91Y2hFdmVudCk6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgY29uc3QgbGFzdFBvaW50cyA9IHRoaXMuX2xhc3RQb2ludHM7XG4gICAgICAgIGlmICghbGFzdFBvaW50cykgcmV0dXJuO1xuICAgICAgICBjb25zdCB2ZWN0b3JBID0gcG9pbnRzWzBdLnN1YihsYXN0UG9pbnRzWzBdKTtcbiAgICAgICAgY29uc3QgdmVjdG9yQiA9IHBvaW50c1sxXS5zdWIobGFzdFBvaW50c1sxXSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyAmJiAhaXNGdWxsc2NyZWVuKCkgJiYgZS50b3VjaGVzLmxlbmd0aCA8IDMpIHJldHVybjtcblxuICAgICAgICB0aGlzLl92YWxpZCA9IHRoaXMuZ2VzdHVyZUJlZ2luc1ZlcnRpY2FsbHkodmVjdG9yQSwgdmVjdG9yQiwgZS50aW1lU3RhbXApO1xuXG4gICAgICAgIGlmICghdGhpcy5fdmFsaWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLl9sYXN0UG9pbnRzID0gcG9pbnRzO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICBjb25zdCB5RGVsdGFBdmVyYWdlID0gKHZlY3RvckEueSArIHZlY3RvckIueSkgLyAyO1xuICAgICAgICBjb25zdCBkZWdyZWVzUGVyUGl4ZWxNb3ZlZCA9IC0wLjU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwaXRjaERlbHRhOiB5RGVsdGFBdmVyYWdlICogZGVncmVlc1BlclBpeGVsTW92ZWRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXN0dXJlQmVnaW5zVmVydGljYWxseSh2ZWN0b3JBOiBQb2ludCwgdmVjdG9yQjogUG9pbnQsIHRpbWVTdGFtcDogbnVtYmVyKTogdm9pZCB8IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5fdmFsaWQgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX3ZhbGlkO1xuXG4gICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IDI7XG4gICAgICAgIGNvbnN0IG1vdmVkQSA9IHZlY3RvckEubWFnKCkgPj0gdGhyZXNob2xkO1xuICAgICAgICBjb25zdCBtb3ZlZEIgPSB2ZWN0b3JCLm1hZygpID49IHRocmVzaG9sZDtcblxuICAgICAgICAvLyBuZWl0aGVyIGZpbmdlciBoYXMgbW92ZWQgYSBtZWFuaW5nZnVsIGFtb3VudCwgd2FpdFxuICAgICAgICBpZiAoIW1vdmVkQSAmJiAhbW92ZWRCKSByZXR1cm47XG5cbiAgICAgICAgLy8gT25lIGZpbmdlciBoYXMgbW92ZWQgYW5kIHRoZSBvdGhlciBoYXMgbm90LlxuICAgICAgICAvLyBJZiBlbm91Z2ggdGltZSBoYXMgcGFzc2VkLCBkZWNpZGUgaXQgaXMgbm90IGEgcGl0Y2guXG4gICAgICAgIGlmICghbW92ZWRBIHx8ICFtb3ZlZEIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maXJzdE1vdmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcnN0TW92ZSA9IHRpbWVTdGFtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRpbWVTdGFtcCAtIHRoaXMuX2ZpcnN0TW92ZSA8IEFMTE9XRURfU0lOR0xFX1RPVUNIX1RJTUUpIHtcbiAgICAgICAgICAgICAgICAvLyBzdGlsbCB3YWl0aW5nIGZvciBhIG1vdmVtZW50IGZyb20gdGhlIHNlY29uZCBmaW5nZXJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc1NhbWVEaXJlY3Rpb24gPSB2ZWN0b3JBLnkgPiAwID09PSB2ZWN0b3JCLnkgPiAwO1xuICAgICAgICByZXR1cm4gaXNWZXJ0aWNhbCh2ZWN0b3JBKSAmJiBpc1ZlcnRpY2FsKHZlY3RvckIpICYmIGlzU2FtZURpcmVjdGlvbjtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwLmpzJztcbmltcG9ydCB0eXBlIHtIYW5kbGVyUmVzdWx0fSBmcm9tICcuLi9oYW5kbGVyX21hbmFnZXIuanMnO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBwYW5TdGVwOiAxMDAsXG4gICAgYmVhcmluZ1N0ZXA6IDE1LFxuICAgIHBpdGNoU3RlcDogMTBcbn07XG5cbi8qKlxuICogVGhlIGBLZXlib2FyZEhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byB6b29tLCByb3RhdGUsIGFuZCBwYW4gdGhlIG1hcCB1c2luZ1xuICogdGhlIGZvbGxvd2luZyBrZXlib2FyZCBzaG9ydGN1dHM6XG4gKlxuICogLSBgPWAgLyBgK2A6IEluY3JlYXNlIHRoZSB6b29tIGxldmVsIGJ5IDEuXG4gKiAtIGBTaGlmdC09YCAvIGBTaGlmdC0rYDogSW5jcmVhc2UgdGhlIHpvb20gbGV2ZWwgYnkgMi5cbiAqIC0gYC1gOiBEZWNyZWFzZSB0aGUgem9vbSBsZXZlbCBieSAxLlxuICogLSBgU2hpZnQtLWA6IERlY3JlYXNlIHRoZSB6b29tIGxldmVsIGJ5IDIuXG4gKiAtIEFycm93IGtleXM6IFBhbiBieSAxMDAgcGl4ZWxzLlxuICogLSBgU2hpZnQr4oeiYDogSW5jcmVhc2UgdGhlIHJvdGF0aW9uIGJ5IDE1IGRlZ3JlZXMuXG4gKiAtIGBTaGlmdCvih6BgOiBEZWNyZWFzZSB0aGUgcm90YXRpb24gYnkgMTUgZGVncmVlcy5cbiAqIC0gYFNoaWZ0K+KHoWA6IEluY3JlYXNlIHRoZSBwaXRjaCBieSAxMCBkZWdyZWVzLlxuICogLSBgU2hpZnQr4oejYDogRGVjcmVhc2UgdGhlIHBpdGNoIGJ5IDEwIGRlZ3JlZXMuXG4gKlxuICogQHNlZSBbRXhhbXBsZTogVG9nZ2xlIGludGVyYWN0aW9uc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdG9nZ2xlLWludGVyYWN0aW9uLWhhbmRsZXJzLylcbiAqIEBzZWUgW0V4YW1wbGU6IE5hdmlnYXRlIHRoZSBtYXAgd2l0aCBnYW1lLWxpa2UgY29udHJvbHNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dhbWUtY29udHJvbHMvKVxuICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBtYXAgbmF2aWdhdGlvbiBjb250cm9sc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbmF2aWdhdGlvbi8pXG4gKi9cbmNsYXNzIEtleWJvYXJkSGFuZGxlciB7XG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2FjdGl2ZTogYm9vbGVhbjtcbiAgICBfcGFuU3RlcDogbnVtYmVyO1xuICAgIF9iZWFyaW5nU3RlcDogbnVtYmVyO1xuICAgIF9waXRjaFN0ZXA6IG51bWJlcjtcbiAgICBfcm90YXRpb25EaXNhYmxlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBzdGVwT3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xuICAgICAgICB0aGlzLl9wYW5TdGVwID0gc3RlcE9wdGlvbnMucGFuU3RlcDtcbiAgICAgICAgdGhpcy5fYmVhcmluZ1N0ZXAgPSBzdGVwT3B0aW9ucy5iZWFyaW5nU3RlcDtcbiAgICAgICAgdGhpcy5fcGl0Y2hTdGVwID0gc3RlcE9wdGlvbnMucGl0Y2hTdGVwO1xuICAgICAgICB0aGlzLl9yb3RhdGlvbkRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYmx1cigpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBrZXlkb3duKGU6IEtleWJvYXJkRXZlbnQpOiA/SGFuZGxlclJlc3VsdCB7XG4gICAgICAgIGlmIChlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSByZXR1cm47XG5cbiAgICAgICAgbGV0IHpvb21EaXIgPSAwO1xuICAgICAgICBsZXQgYmVhcmluZ0RpciA9IDA7XG4gICAgICAgIGxldCBwaXRjaERpciA9IDA7XG4gICAgICAgIGxldCB4RGlyID0gMDtcbiAgICAgICAgbGV0IHlEaXIgPSAwO1xuXG4gICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgNjE6XG4gICAgICAgIGNhc2UgMTA3OlxuICAgICAgICBjYXNlIDE3MTpcbiAgICAgICAgY2FzZSAxODc6XG4gICAgICAgICAgICB6b29tRGlyID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTg5OlxuICAgICAgICBjYXNlIDEwOTpcbiAgICAgICAgY2FzZSAxNzM6XG4gICAgICAgICAgICB6b29tRGlyID0gLTE7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBiZWFyaW5nRGlyID0gLTE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB4RGlyID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBiZWFyaW5nRGlyID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHhEaXIgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgcGl0Y2hEaXIgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgeURpciA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgcGl0Y2hEaXIgPSAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHlEaXIgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yb3RhdGlvbkRpc2FibGVkKSB7XG4gICAgICAgICAgICBiZWFyaW5nRGlyID0gMDtcbiAgICAgICAgICAgIHBpdGNoRGlyID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYW1lcmFBbmltYXRpb246IChtYXA6IE1hcCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuXG4gICAgICAgICAgICAgICAgbWFwLmVhc2VUbyh7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICAgICAgICAgIGVhc2VJZDogJ2tleWJvYXJkSGFuZGxlcicsXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgICAgICAgICAgICAgem9vbTogem9vbURpciA/IE1hdGgucm91bmQoem9vbSkgKyB6b29tRGlyICogKGUuc2hpZnRLZXkgPyAyIDogMSkgOiB6b29tLFxuICAgICAgICAgICAgICAgICAgICBiZWFyaW5nOiBtYXAuZ2V0QmVhcmluZygpICsgYmVhcmluZ0RpciAqIHRoaXMuX2JlYXJpbmdTdGVwLFxuICAgICAgICAgICAgICAgICAgICBwaXRjaDogbWFwLmdldFBpdGNoKCkgKyBwaXRjaERpciAqIHRoaXMuX3BpdGNoU3RlcCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBbLXhEaXIgKiB0aGlzLl9wYW5TdGVwLCAteURpciAqIHRoaXMuX3BhblN0ZXBdLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG1hcC5nZXRDZW50ZXIoKVxuICAgICAgICAgICAgICAgIH0sIHtvcmlnaW5hbEV2ZW50OiBlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJrZXlib2FyZCByb3RhdGUgYW5kIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmtleWJvYXJkLmVuYWJsZSgpO1xuICAgICAqL1xuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIFwia2V5Ym9hcmQgcm90YXRlIGFuZCB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5rZXlib2FyZC5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImtleWJvYXJkIHJvdGF0ZSBhbmQgem9vbVwiXG4gICAgICogaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwia2V5Ym9hcmQgcm90YXRlIGFuZCB6b29tXCJcbiAgICAgKiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaXNLZXlib2FyZEVuYWJsZWQgPSBtYXAua2V5Ym9hcmQuaXNFbmFibGVkKCk7XG4gICAgICovXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGhhbmRsZXIgaXMgZW5hYmxlZCBhbmQgaGFzIGRldGVjdGVkIHRoZSBzdGFydCBvZiBhXG4gICAgICogem9vbS9yb3RhdGUgZ2VzdHVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGhhbmRsZXIgaXMgZW5hYmxlZCBhbmQgaGFzIGRldGVjdGVkIHRoZVxuICAgICAqIHN0YXJ0IG9mIGEgem9vbS9yb3RhdGUgZ2VzdHVyZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGlzS2V5Ym9hcmRBY3RpdmUgPSBtYXAua2V5Ym9hcmQuaXNBY3RpdmUoKTtcbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJrZXlib2FyZCBwYW4vcm90YXRlXCIgaW50ZXJhY3Rpb24sIGxlYXZpbmcgdGhlXG4gICAgICogXCJrZXlib2FyZCB6b29tXCIgaW50ZXJhY3Rpb24gZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmtleWJvYXJkLmRpc2FibGVSb3RhdGlvbigpO1xuICAgICAqL1xuICAgIGRpc2FibGVSb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcm90YXRpb25EaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJrZXlib2FyZCBwYW4vcm90YXRlXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5rZXlib2FyZC5lbmFibGUoKTtcbiAgICAgKiBtYXAua2V5Ym9hcmQuZW5hYmxlUm90YXRpb24oKTtcbiAgICAgKi9cbiAgICBlbmFibGVSb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcm90YXRpb25EaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZWFzZU91dCh0OiBudW1iZXIpIHtcbiAgICByZXR1cm4gdCAqICgyIC0gdCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi91dGlsL2RvbS5qcyc7XG5cbmltcG9ydCB7ZWFzZSBhcyBfZWFzZSwgYmluZEFsbCwgYmV6aWVyLCBpc0Z1bGxzY3JlZW59IGZyb20gJy4uLy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi8uLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdy5qcyc7XG5pbXBvcnQge251bWJlciBhcyBpbnRlcnBvbGF0ZX0gZnJvbSAnLi4vLi4vc3R5bGUtc3BlYy91dGlsL2ludGVycG9sYXRlLmpzJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBIYW5kbGVyTWFuYWdlciwge0hhbmRsZXJSZXN1bHR9IGZyb20gJy4uL2hhbmRsZXJfbWFuYWdlci5qcyc7XG5pbXBvcnQgTWVyY2F0b3JDb29yZGluYXRlIGZyb20gJy4uLy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcblxuLy8gZGVsdGFZIHZhbHVlIGZvciBtb3VzZSBzY3JvbGwgd2hlZWwgaWRlbnRpZmljYXRpb25cbmNvbnN0IHdoZWVsWm9vbURlbHRhID0gNC4wMDAyNDQxNDA2MjU7XG5cbi8vIFRoZXNlIG1hZ2ljIG51bWJlcnMgY29udHJvbCB0aGUgcmF0ZSBvZiB6b29tLiBUcmFja3BhZCBldmVudHMgZmlyZSBhdCBhIGdyZWF0ZXJcbi8vIGZyZXF1ZW5jeSB0aGFuIG1vdXNlIHNjcm9sbCB3aGVlbCwgc28gcmVkdWNlIHRoZSB6b29tIHJhdGUgcGVyIHdoZWVsIHRpY2tcbmNvbnN0IGRlZmF1bHRab29tUmF0ZSA9IDEgLyAxMDA7XG5jb25zdCB3aGVlbFpvb21SYXRlID0gMSAvIDQ1MDtcblxuLy8gdXBwZXIgYm91bmQgb24gaG93IG11Y2ggd2Ugc2NhbGUgdGhlIG1hcCBpbiBhbnkgc2luZ2xlIHJlbmRlciBmcmFtZTsgdGhpc1xuLy8gaXMgdXNlZCB0byBsaW1pdCB6b29tIHJhdGUgaW4gdGhlIGNhc2Ugb2YgdmVyeSBmYXN0IHNjcm9sbGluZ1xuY29uc3QgbWF4U2NhbGVQZXJGcmFtZSA9IDI7XG5cbi8qKlxuICogVGhlIGBTY3JvbGxab29tSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBzY3JvbGxpbmcuXG4gKlxuICogQHNlZSBbRXhhbXBsZTogVG9nZ2xlIGludGVyYWN0aW9uc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdG9nZ2xlLWludGVyYWN0aW9uLWhhbmRsZXJzLylcbiAqIEBzZWUgW0V4YW1wbGU6IERpc2FibGUgc2Nyb2xsIHpvb21dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2Rpc2FibGUtc2Nyb2xsLXpvb20vKVxuICovXG5jbGFzcyBTY3JvbGxab29tSGFuZGxlciB7XG4gICAgX21hcDogTWFwO1xuICAgIF9lbDogSFRNTEVsZW1lbnQ7XG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2FjdGl2ZTogYm9vbGVhbjtcbiAgICBfem9vbWluZzogYm9vbGVhbjtcbiAgICBfYXJvdW5kQ2VudGVyOiBib29sZWFuO1xuICAgIF9hcm91bmRQb2ludDogUG9pbnQ7XG4gICAgX2Fyb3VuZENvb3JkOiBNZXJjYXRvckNvb3JkaW5hdGU7XG4gICAgX3R5cGU6ICd3aGVlbCcgfCAndHJhY2twYWQnIHwgbnVsbDtcbiAgICBfbGFzdFZhbHVlOiBudW1iZXI7XG4gICAgX3RpbWVvdXQ6ID9UaW1lb3V0SUQ7IC8vIHVzZWQgZm9yIGRlbGF5ZWQtaGFuZGxpbmcgb2YgYSBzaW5nbGUgd2hlZWwgbW92ZW1lbnRcbiAgICBfZmluaXNoVGltZW91dDogP1RpbWVvdXRJRDsgLy8gdXNlZCB0byBkZWxheSBmaW5hbCAne21vdmUsem9vbX1lbmQnIGV2ZW50c1xuXG4gICAgX2xhc3RXaGVlbEV2ZW50OiBhbnk7XG4gICAgX2xhc3RXaGVlbEV2ZW50VGltZTogbnVtYmVyO1xuXG4gICAgX3N0YXJ0Wm9vbTogP251bWJlcjtcbiAgICBfdGFyZ2V0Wm9vbTogP251bWJlcjtcbiAgICBfZGVsdGE6IG51bWJlcjtcbiAgICBfZWFzaW5nOiA/KChudW1iZXIpID0+IG51bWJlcik7XG4gICAgX3ByZXZFYXNlOiA/e3N0YXJ0OiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIsIGVhc2luZzogKF86IG51bWJlcikgPT4gbnVtYmVyfTtcblxuICAgIF9mcmFtZUlkOiA/Ym9vbGVhbjtcbiAgICBfaGFuZGxlcjogSGFuZGxlck1hbmFnZXI7XG5cbiAgICBfZGVmYXVsdFpvb21SYXRlOiBudW1iZXI7XG4gICAgX3doZWVsWm9vbVJhdGU6IG51bWJlcjtcblxuICAgIF9hbGVydENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7IC8vIHVzZWQgdG8gZGlzcGxheSB0aGUgc2Nyb2xsIHpvb20gYmxvY2tlciBhbGVydFxuICAgIF9hbGVydFRpbWVyOiBUaW1lb3V0SUQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwLCBoYW5kbGVyOiBIYW5kbGVyTWFuYWdlcikge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2VsID0gbWFwLmdldENhbnZhc0NvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLl9oYW5kbGVyID0gaGFuZGxlcjtcblxuICAgICAgICB0aGlzLl9kZWx0YSA9IDA7XG5cbiAgICAgICAgdGhpcy5fZGVmYXVsdFpvb21SYXRlID0gZGVmYXVsdFpvb21SYXRlO1xuICAgICAgICB0aGlzLl93aGVlbFpvb21SYXRlID0gd2hlZWxab29tUmF0ZTtcblxuICAgICAgICBiaW5kQWxsKFsnX29uVGltZW91dCcsICdfYWRkU2Nyb2xsWm9vbUJsb2NrZXInLCAnX3Nob3dCbG9ja2VyQWxlcnQnXSwgdGhpcyk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB6b29tIHJhdGUgb2YgYSB0cmFja3BhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbem9vbVJhdGU9MS8xMDBdIFRoZSByYXRlIHVzZWQgdG8gc2NhbGUgdHJhY2twYWQgbW92ZW1lbnQgdG8gYSB6b29tIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU3BlZWQgdXAgdHJhY2twYWQgem9vbVxuICAgICAqIG1hcC5zY3JvbGxab29tLnNldFpvb21SYXRlKDEgLyAyNSk7XG4gICAgICovXG4gICAgc2V0Wm9vbVJhdGUoem9vbVJhdGU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9kZWZhdWx0Wm9vbVJhdGUgPSB6b29tUmF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFNldHMgdGhlIHpvb20gcmF0ZSBvZiBhIG1vdXNlIHdoZWVsLlxuICAgICAqXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3doZWVsWm9vbVJhdGU9MS80NTBdIFRoZSByYXRlIHVzZWQgdG8gc2NhbGUgbW91c2Ugd2hlZWwgbW92ZW1lbnQgdG8gYSB6b29tIHZhbHVlLlxuICAgICogQGV4YW1wbGVcbiAgICAqIC8vIFNsb3cgZG93biB6b29tIG9mIG1vdXNlIHdoZWVsXG4gICAgKiBtYXAuc2Nyb2xsWm9vbS5zZXRXaGVlbFpvb21SYXRlKDEgLyA2MDApO1xuICAgICovXG4gICAgc2V0V2hlZWxab29tUmF0ZSh3aGVlbFpvb21SYXRlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fd2hlZWxab29tUmF0ZSA9IHdoZWVsWm9vbVJhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcInNjcm9sbCB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwic2Nyb2xsIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaXNTY3JvbGxab29tRW5hYmxlZCA9IG1hcC5zY3JvbGxab29tLmlzRW5hYmxlZCgpO1xuICAgICAqL1xuICAgIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICAvKlxuICAgICogQWN0aXZlIHN0YXRlIGlzIHR1cm5lZCBvbiBhbmQgb2ZmIHdpdGggZXZlcnkgc2Nyb2xsIHdoZWVsIGV2ZW50IGFuZCBpcyBzZXQgYmFjayB0byBmYWxzZSBiZWZvcmUgdGhlIG1hcFxuICAgICogcmVuZGVyIGlzIGNhbGxlZCwgc28gX2FjdGl2ZSBpcyBub3QgYSBnb29kIGNhbmRpZGF0ZSBmb3IgZGV0ZXJtaW5pbmcgaWYgYSBzY3JvbGwgem9vbSBhbmltYXRpb24gaXMgaW5cbiAgICAqIHByb2dyZXNzLlxuICAgICovXG4gICAgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmUgfHwgdGhpcy5fZmluaXNoVGltZW91dCAhPT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlzWm9vbWluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fem9vbWluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcInNjcm9sbCB0byB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hcm91bmRdIElmIFwiY2VudGVyXCIgaXMgcGFzc2VkLCBtYXAgd2lsbCB6b29tIGFyb3VuZCBjZW50ZXIgb2YgbWFwLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2Nyb2xsWm9vbS5lbmFibGUoKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zY3JvbGxab29tLmVuYWJsZSh7YXJvdW5kOiAnY2VudGVyJ30pO1xuICAgICAqL1xuICAgIGVuYWJsZShvcHRpb25zOiA/e2Fyb3VuZD86ICdjZW50ZXInfSkge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fYXJvdW5kQ2VudGVyID0gISFvcHRpb25zICYmIG9wdGlvbnMuYXJvdW5kID09PSAnY2VudGVyJztcbiAgICAgICAgaWYgKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcykgdGhpcy5fYWRkU2Nyb2xsWm9vbUJsb2NrZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJzY3JvbGwgdG8gem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2Nyb2xsWm9vbS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcykge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpO1xuICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3aGVlbChlOiBXaGVlbEV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMpIHtcbiAgICAgICAgICAgIGlmICghZS5jdHJsS2V5ICYmICFlLm1ldGFLZXkgJiYgIXRoaXMuaXNab29taW5nKCkgJiYgIWlzRnVsbHNjcmVlbigpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvd0Jsb2NrZXJBbGVydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSAhPT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICAvLyBpbW1lZGlhdGVseSBoaWRlIGFsZXJ0IGlmIGl0IGlzIHZpc2libGUgd2hlbiBjdHJsIG9yIOKMmCBpcyBwcmVzc2VkIHdoaWxlIHNjcm9sbCB6b29taW5nLlxuICAgICAgICAgICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgYGFueWAgY2FzdCB3aGVuIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy80ODc5IGlzIGZpeGVkLlxuICAgICAgICBsZXQgdmFsdWUgPSBlLmRlbHRhTW9kZSA9PT0gKHdpbmRvdy5XaGVlbEV2ZW50OiBhbnkpLkRPTV9ERUxUQV9MSU5FID8gZS5kZWx0YVkgKiA0MCA6IGUuZGVsdGFZO1xuICAgICAgICBjb25zdCBub3cgPSBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgdGltZURlbHRhID0gbm93IC0gKHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSB8fCAwKTtcblxuICAgICAgICB0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWUgPSBub3c7XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSAwICYmICh2YWx1ZSAlIHdoZWVsWm9vbURlbHRhKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gVGhpcyBvbmUgaXMgZGVmaW5pdGVseSBhIG1vdXNlIHdoZWVsIGV2ZW50LlxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9ICd3aGVlbCc7XG5cbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gMCAmJiBNYXRoLmFicyh2YWx1ZSkgPCA0KSB7XG4gICAgICAgICAgICAvLyBUaGlzIG9uZSBpcyBkZWZpbml0ZWx5IGEgdHJhY2twYWQgZXZlbnQgYmVjYXVzZSBpdCBpcyBzbyBzbWFsbC5cbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSAndHJhY2twYWQnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodGltZURlbHRhID4gNDAwKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGxpa2VseSBhIG5ldyBzY3JvbGwgYWN0aW9uLlxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9sYXN0VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgYSB0aW1lb3V0IGluIGNhc2UgdGhpcyB3YXMgYSBzaW5ndWxhciBldmVudCwgYW5kIGRlbGF5IGl0IGJ5IHVwIHRvIDQwbXMuXG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLl9vblRpbWVvdXQsIDQwLCBlKTtcblxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl90eXBlKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgcmVwZWF0aW5nIGV2ZW50LCBidXQgd2UgZG9uJ3Qga25vdyB0aGUgdHlwZSBvZiBldmVudCBqdXN0IHlldC5cbiAgICAgICAgICAgIC8vIElmIHRoZSBkZWx0YSBwZXIgdGltZSBpcyBzbWFsbCwgd2UgYXNzdW1lIGl0J3MgYSBmYXN0IHRyYWNrcGFkOyBvdGhlcndpc2Ugd2Ugc3dpdGNoIGludG8gd2hlZWwgbW9kZS5cbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSAoTWF0aC5hYnModGltZURlbHRhICogdmFsdWUpIDwgMjAwKSA/ICd0cmFja3BhZCcgOiAnd2hlZWwnO1xuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgb3VyIGRlbGF5ZWQgZXZlbnQgaXNuJ3QgZmlyZWQgYWdhaW4sIGJlY2F1c2Ugd2UgYWNjdW11bGF0ZVxuICAgICAgICAgICAgLy8gdGhlIHByZXZpb3VzIGV2ZW50ICh3aGljaCB3YXMgbGVzcyB0aGFuIDQwbXMgYWdvKSBpbnRvIHRoaXMgZXZlbnQuXG4gICAgICAgICAgICBpZiAodGhpcy5fdGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSB0aGlzLl9sYXN0VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTbG93IGRvd24gem9vbSBpZiBzaGlmdCBrZXkgaXMgaGVsZCBmb3IgbW9yZSBwcmVjaXNlIHpvb21pbmdcbiAgICAgICAgaWYgKGUuc2hpZnRLZXkgJiYgdmFsdWUpIHZhbHVlID0gdmFsdWUgLyA0O1xuXG4gICAgICAgIC8vIE9ubHkgZmlyZSB0aGUgY2FsbGJhY2sgaWYgd2UgYWN0dWFsbHkga25vdyB3aGF0IHR5cGUgb2Ygc2Nyb2xsaW5nIGRldmljZSB0aGUgdXNlciB1c2VzLlxuICAgICAgICBpZiAodGhpcy5fdHlwZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdFdoZWVsRXZlbnQgPSBlO1xuICAgICAgICAgICAgdGhpcy5fZGVsdGEgLT0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIF9vblRpbWVvdXQoaW5pdGlhbEV2ZW50OiBXaGVlbEV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3R5cGUgPSAnd2hlZWwnO1xuICAgICAgICB0aGlzLl9kZWx0YSAtPSB0aGlzLl9sYXN0VmFsdWU7XG4gICAgICAgIGlmICghdGhpcy5fYWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydChpbml0aWFsRXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N0YXJ0KGU6IFdoZWVsRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kZWx0YSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5pc1pvb21pbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5fem9vbWluZyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZmluaXNoVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2ZpbmlzaFRpbWVvdXQpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2ZpbmlzaFRpbWVvdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3MgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpO1xuICAgICAgICB0aGlzLl9hcm91bmRQb2ludCA9IHRoaXMuX2Fyb3VuZENlbnRlciA/IHRoaXMuX21hcC50cmFuc2Zvcm0uY2VudGVyUG9pbnQgOiBwb3M7XG4gICAgICAgIHRoaXMuX2Fyb3VuZENvb3JkID0gdGhpcy5fbWFwLnRyYW5zZm9ybS5wb2ludENvb3JkaW5hdGUzRCh0aGlzLl9hcm91bmRQb2ludCk7XG4gICAgICAgIHRoaXMuX3RhcmdldFpvb20gPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXIuX3RyaWdnZXJSZW5kZXJGcmFtZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyRnJhbWUoKTogP0hhbmRsZXJSZXN1bHQge1xuICAgICAgICBpZiAoIXRoaXMuX2ZyYW1lSWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKCkpIHJldHVybjtcblxuICAgICAgICBjb25zdCB0ciA9IHRoaXMuX21hcC50cmFuc2Zvcm07XG5cbiAgICAgICAgLy8gSWYgcHJvamVjdGlvbiB3cmFwcyBhbmQgY2VudGVyIGNyb3NzZXMgdGhlIGFudGltZXJpZGlhbiwgcmVzZXQgcHJldmlvdXMgbW91c2Ugc2Nyb2xsIGVhc2luZyBzZXR0aW5ncyB0byByZXNvbHZlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8xMTkxMFxuICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gJ3doZWVsJyAmJiB0ci5wcm9qZWN0aW9uLndyYXAgJiYgKHRyLl9jZW50ZXIubG5nID49IDE4MCB8fCB0ci5fY2VudGVyLmxuZyA8PSAtMTgwKSkge1xuICAgICAgICAgICAgdGhpcy5fcHJldkVhc2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fZWFzaW5nID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RXaGVlbEV2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGFydGluZ1pvb20gPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKHRyLl90ZXJyYWluRW5hYmxlZCgpICYmIHRoaXMuX2Fyb3VuZENvb3JkKSA/IHRyLmNvbXB1dGVab29tUmVsYXRpdmVUbyh0aGlzLl9hcm91bmRDb29yZCkgOiB0ci56b29tO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGlmIHdlJ3ZlIGhhZCBzY3JvbGwgZXZlbnRzIHNpbmNlIHRoZSBsYXN0IHJlbmRlciBmcmFtZSwgY29uc3VtZSB0aGVcbiAgICAgICAgLy8gYWNjdW11bGF0ZWQgZGVsdGEsIGFuZCB1cGRhdGUgdGhlIHRhcmdldCB6b29tIGxldmVsIGFjY29yZGluZ2x5XG4gICAgICAgIGlmICh0aGlzLl9kZWx0YSAhPT0gMCkge1xuICAgICAgICAgICAgLy8gRm9yIHRyYWNrcGFkIGV2ZW50cyBhbmQgc2luZ2xlIG1vdXNlIHdoZWVsIHRpY2tzLCB1c2UgdGhlIGRlZmF1bHQgem9vbSByYXRlXG4gICAgICAgICAgICBjb25zdCB6b29tUmF0ZSA9ICh0aGlzLl90eXBlID09PSAnd2hlZWwnICYmIE1hdGguYWJzKHRoaXMuX2RlbHRhKSA+IHdoZWVsWm9vbURlbHRhKSA/IHRoaXMuX3doZWVsWm9vbVJhdGUgOiB0aGlzLl9kZWZhdWx0Wm9vbVJhdGU7XG4gICAgICAgICAgICAvLyBTY2FsZSBieSBzaWdtb2lkIG9mIHNjcm9sbCB3aGVlbCBkZWx0YS5cbiAgICAgICAgICAgIGxldCBzY2FsZSA9IG1heFNjYWxlUGVyRnJhbWUgLyAoMSArIE1hdGguZXhwKC1NYXRoLmFicyh0aGlzLl9kZWx0YSAqIHpvb21SYXRlKSkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZGVsdGEgPCAwICYmIHNjYWxlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgc2NhbGUgPSAxIC8gc2NhbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0Wm9vbSA9IHN0YXJ0aW5nWm9vbSgpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRTY2FsZSA9IE1hdGgucG93KDIuMCwgc3RhcnRab29tKTtcblxuICAgICAgICAgICAgY29uc3QgZnJvbVNjYWxlID0gdHlwZW9mIHRoaXMuX3RhcmdldFpvb20gPT09ICdudW1iZXInID8gdHIuem9vbVNjYWxlKHRoaXMuX3RhcmdldFpvb20pIDogc3RhcnRTY2FsZTtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldFpvb20gPSBNYXRoLm1pbih0ci5tYXhab29tLCBNYXRoLm1heCh0ci5taW5ab29tLCB0ci5zY2FsZVpvb20oZnJvbVNjYWxlICogc2NhbGUpKSk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBtb3VzZSB3aGVlbCwgcmVmcmVzaCB0aGUgc3RhcnRpbmcgem9vbSBhbmQgZWFzaW5nXG4gICAgICAgICAgICAvLyBmdW5jdGlvbiB3ZSdyZSB1c2luZyB0byBzbW9vdGggb3V0IHRoZSB6b29taW5nIGJldHdlZW4gd2hlZWxcbiAgICAgICAgICAgIC8vIGV2ZW50c1xuICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09ICd3aGVlbCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFpvb20gPSBzdGFydFpvb207XG4gICAgICAgICAgICAgICAgdGhpcy5fZWFzaW5nID0gdGhpcy5fc21vb3RoT3V0RWFzaW5nKDIwMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2RlbHRhID0gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXRab29tID0gdHlwZW9mIHRoaXMuX3RhcmdldFpvb20gPT09ICdudW1iZXInID9cbiAgICAgICAgICAgIHRoaXMuX3RhcmdldFpvb20gOiBzdGFydGluZ1pvb20oKTtcbiAgICAgICAgY29uc3Qgc3RhcnRab29tID0gdGhpcy5fc3RhcnRab29tO1xuICAgICAgICBjb25zdCBlYXNpbmcgPSB0aGlzLl9lYXNpbmc7XG5cbiAgICAgICAgbGV0IGZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIGxldCB6b29tO1xuICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gJ3doZWVsJyAmJiBzdGFydFpvb20gJiYgZWFzaW5nKSB7XG4gICAgICAgICAgICBhc3NlcnQoZWFzaW5nICYmIHR5cGVvZiBzdGFydFpvb20gPT09ICdudW1iZXInKTtcblxuICAgICAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKChicm93c2VyLm5vdygpIC0gdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lKSAvIDIwMCwgMSk7XG4gICAgICAgICAgICBjb25zdCBrID0gZWFzaW5nKHQpO1xuICAgICAgICAgICAgem9vbSA9IGludGVycG9sYXRlKHN0YXJ0Wm9vbSwgdGFyZ2V0Wm9vbSwgayk7XG4gICAgICAgICAgICBpZiAodCA8IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB6b29tID0gdGFyZ2V0Wm9vbTtcbiAgICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2ZpbmlzaFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl96b29taW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlci5fdHJpZ2dlclJlbmRlckZyYW1lKCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3RhcmdldFpvb207XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2ZpbmlzaFRpbWVvdXQ7XG4gICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vSW5lcnRpYTogdHJ1ZSxcbiAgICAgICAgICAgIG5lZWRzUmVuZGVyRnJhbWU6ICFmaW5pc2hlZCxcbiAgICAgICAgICAgIHpvb21EZWx0YTogem9vbSAtIHN0YXJ0aW5nWm9vbSgpLFxuICAgICAgICAgICAgYXJvdW5kOiB0aGlzLl9hcm91bmRQb2ludCxcbiAgICAgICAgICAgIGFyb3VuZENvb3JkOiB0aGlzLl9hcm91bmRDb29yZCxcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IHRoaXMuX2xhc3RXaGVlbEV2ZW50XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX3Ntb290aE91dEVhc2luZyhkdXJhdGlvbjogbnVtYmVyKTogKG51bWJlcikgPT4gbnVtYmVyIHtcbiAgICAgICAgbGV0IGVhc2luZyA9IF9lYXNlO1xuXG4gICAgICAgIGlmICh0aGlzLl9wcmV2RWFzZSkge1xuICAgICAgICAgICAgY29uc3QgZWFzZSA9IHRoaXMuX3ByZXZFYXNlLFxuICAgICAgICAgICAgICAgIHQgPSAoYnJvd3Nlci5ub3coKSAtIGVhc2Uuc3RhcnQpIC8gZWFzZS5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBzcGVlZCA9IGVhc2UuZWFzaW5nKHQgKyAwLjAxKSAtIGVhc2UuZWFzaW5nKHQpLFxuXG4gICAgICAgICAgICAgICAgLy8gUXVpY2sgaGFjayB0byBtYWtlIG5ldyBiZXppZXIgdGhhdCBpcyBjb250aW51b3VzIHdpdGggbGFzdFxuICAgICAgICAgICAgICAgIHggPSAwLjI3IC8gTWF0aC5zcXJ0KHNwZWVkICogc3BlZWQgKyAwLjAwMDEpICogMC4wMSxcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5zcXJ0KDAuMjcgKiAwLjI3IC0geCAqIHgpO1xuXG4gICAgICAgICAgICBlYXNpbmcgPSBiZXppZXIoeCwgeSwgMC4yNSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcmV2RWFzZSA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBlYXNpbmdcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZWFzaW5nO1xuICAgIH1cblxuICAgIGJsdXIoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX2FkZFNjcm9sbFpvb21CbG9ja2VyKCkge1xuICAgICAgICBpZiAodGhpcy5fbWFwICYmICF0aGlzLl9hbGVydENvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlcicsIHRoaXMuX21hcC5fY29udGFpbmVyKTtcblxuICAgICAgICAgICAgaWYgKC8oTWFjfGlQYWQpL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGVydENvbnRhaW5lci50ZXh0Q29udGVudCA9IHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoJ1Njcm9sbFpvb21CbG9ja2VyLkNtZE1lc3NhZ2UnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIudGV4dENvbnRlbnQgPSB0aGlzLl9tYXAuX2dldFVJU3RyaW5nKCdTY3JvbGxab29tQmxvY2tlci5DdHJsTWVzc2FnZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkeW5hbWljYWxseSBzZXQgdGhlIGZvbnQgc2l6ZSBvZiB0aGUgc2Nyb2xsIHpvb20gYmxvY2tlciBhbGVydCBtZXNzYWdlXG4gICAgICAgICAgICB0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IGAke01hdGgubWF4KDEwLCBNYXRoLm1pbigyNCwgTWF0aC5mbG9vcih0aGlzLl9lbC5jbGllbnRXaWR0aCAqIDAuMDUpKSl9cHhgO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Nob3dCbG9ja2VyQWxlcnQoKSB7XG4gICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXItc2hvdycpO1xuICAgICAgICB0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiYWxlcnRcIik7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpO1xuXG4gICAgICAgIHRoaXMuX2FsZXJ0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXItc2hvdycpO1xuICAgICAgICAgICAgdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm51bGxcIik7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjcm9sbFpvb21IYW5kbGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUgQ2xpY2tab29tSGFuZGxlciBmcm9tICcuLi9jbGlja196b29tLmpzJztcbmltcG9ydCB0eXBlIFRhcFpvb21IYW5kbGVyIGZyb20gJy4vLi4vdGFwX3pvb20uanMnO1xuXG4vKipcbiAqIFRoZSBgRG91YmxlQ2xpY2tab29tSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBhdCBhIHBvaW50IGJ5XG4gKiBkb3VibGUgY2xpY2tpbmcgb3IgZG91YmxlIHRhcHBpbmcuXG4gKlxuICogQHNlZSBbRXhhbXBsZTogVG9nZ2xlIGludGVyYWN0aW9uc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdG9nZ2xlLWludGVyYWN0aW9uLWhhbmRsZXJzLylcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG91YmxlQ2xpY2tab29tSGFuZGxlciB7XG5cbiAgICBfY2xpY2tab29tOiBDbGlja1pvb21IYW5kbGVyO1xuICAgIF90YXBab29tOiBUYXBab29tSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGlja1pvb206IENsaWNrWm9vbUhhbmRsZXIsIFRhcFpvb206IFRhcFpvb21IYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2NsaWNrWm9vbSA9IGNsaWNrWm9vbTtcbiAgICAgICAgdGhpcy5fdGFwWm9vbSA9IFRhcFpvb207XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZG91YmxlQ2xpY2tab29tLmVuYWJsZSgpO1xuICAgICAqL1xuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fY2xpY2tab29tLmVuYWJsZSgpO1xuICAgICAgICB0aGlzLl90YXBab29tLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSBcImRvdWJsZSBjbGljayB0byB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5kb3VibGVDbGlja1pvb20uZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuX2NsaWNrWm9vbS5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMuX3RhcFpvb20uZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFwiZG91YmxlIGNsaWNrIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaXNEb3VibGVDbGlja1pvb21FbmFibGVkID0gbWFwLmRvdWJsZUNsaWNrWm9vbS5pc0VuYWJsZWQoKTtcbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGlja1pvb20uaXNFbmFibGVkKCkgJiYgdGhpcy5fdGFwWm9vbS5pc0VuYWJsZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiZG91YmxlIGNsaWNrIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUgKGN1cnJlbnRseSBiZWluZyB1c2VkKS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGlzRG91YmxlQ2xpY2tab29tQWN0aXZlID0gbWFwLmRvdWJsZUNsaWNrWm9vbS5pc0FjdGl2ZSgpO1xuICAgICAqL1xuICAgIGlzQWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpY2tab29tLmlzQWN0aXZlKCkgfHwgdGhpcy5fdGFwWm9vbS5pc0FjdGl2ZSgpO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcC5qcyc7XG5pbXBvcnQgdHlwZSB7SGFuZGxlclJlc3VsdH0gZnJvbSAnLi4vaGFuZGxlcl9tYW5hZ2VyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xpY2tab29tSGFuZGxlciB7XG5cbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICBfYWN0aXZlOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYmx1cigpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGRibGNsaWNrKGU6IE1vdXNlRXZlbnQsIHBvaW50OiBQb2ludCk6IEhhbmRsZXJSZXN1bHQge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYW1lcmFBbmltYXRpb246IChtYXA6IE1hcCkgPT4ge1xuICAgICAgICAgICAgICAgIG1hcC5lYXNlVG8oe1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgICAgICAgICB6b29tOiBtYXAuZ2V0Wm9vbSgpICsgKGUuc2hpZnRLZXkgPyAtMSA6IDEpLFxuICAgICAgICAgICAgICAgICAgICBhcm91bmQ6IG1hcC51bnByb2plY3QocG9pbnQpXG4gICAgICAgICAgICAgICAgfSwge29yaWdpbmFsRXZlbnQ6IGV9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmU7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtUYXBSZWNvZ25pemVyLCBNQVhfVEFQX0lOVEVSVkFMfSBmcm9tICcuL3RhcF9yZWNvZ25pemVyLmpzJztcbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUge0hhbmRsZXJSZXN1bHR9IGZyb20gJy4uL2hhbmRsZXJfbWFuYWdlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhcERyYWdab29tSGFuZGxlciB7XG5cbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICBfYWN0aXZlOiBib29sZWFuO1xuICAgIF9zd2lwZVBvaW50OiA/UG9pbnQ7XG4gICAgX3N3aXBlVG91Y2g6IG51bWJlcjtcbiAgICBfdGFwVGltZTogbnVtYmVyO1xuICAgIF90YXA6IFRhcFJlY29nbml6ZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgICAgICB0aGlzLl90YXAgPSBuZXcgVGFwUmVjb2duaXplcih7XG4gICAgICAgICAgICBudW1Ub3VjaGVzOiAxLFxuICAgICAgICAgICAgbnVtVGFwczogMVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zd2lwZVBvaW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zd2lwZVRvdWNoID0gMDtcbiAgICAgICAgdGhpcy5fdGFwVGltZSA9IDA7XG4gICAgICAgIHRoaXMuX3RhcC5yZXNldCgpO1xuICAgIH1cblxuICAgIHRvdWNoc3RhcnQoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPikge1xuICAgICAgICBpZiAodGhpcy5fc3dpcGVQb2ludCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl90YXBUaW1lICYmIGUudGltZVN0YW1wIC0gdGhpcy5fdGFwVGltZSA+IE1BWF9UQVBfSU5URVJWQUwpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fdGFwVGltZSkge1xuICAgICAgICAgICAgdGhpcy5fdGFwLnRvdWNoc3RhcnQoZSwgcG9pbnRzLCBtYXBUb3VjaGVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChtYXBUb3VjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3N3aXBlUG9pbnQgPSBwb2ludHNbMF07XG4gICAgICAgICAgICB0aGlzLl9zd2lwZVRvdWNoID0gbWFwVG91Y2hlc1swXS5pZGVudGlmaWVyO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICB0b3VjaG1vdmUoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPik6ID9IYW5kbGVyUmVzdWx0IHtcbiAgICAgICAgaWYgKCF0aGlzLl90YXBUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLl90YXAudG91Y2htb3ZlKGUsIHBvaW50cywgbWFwVG91Y2hlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc3dpcGVQb2ludCkge1xuICAgICAgICAgICAgaWYgKG1hcFRvdWNoZXNbMF0uaWRlbnRpZmllciAhPT0gdGhpcy5fc3dpcGVUb3VjaCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbmV3U3dpcGVQb2ludCA9IHBvaW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBuZXdTd2lwZVBvaW50LnkgLSB0aGlzLl9zd2lwZVBvaW50Lnk7XG4gICAgICAgICAgICB0aGlzLl9zd2lwZVBvaW50ID0gbmV3U3dpcGVQb2ludDtcblxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB6b29tRGVsdGE6IGRpc3QgLyAxMjhcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b3VjaGVuZChlOiBUb3VjaEV2ZW50LCBwb2ludHM6IEFycmF5PFBvaW50PiwgbWFwVG91Y2hlczogQXJyYXk8VG91Y2g+KSB7XG4gICAgICAgIGlmICghdGhpcy5fdGFwVGltZSkge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLl90YXAudG91Y2hlbmQoZSwgcG9pbnRzLCBtYXBUb3VjaGVzKTtcbiAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RhcFRpbWUgPSBlLnRpbWVTdGFtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9zd2lwZVBvaW50KSB7XG4gICAgICAgICAgICBpZiAobWFwVG91Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b3VjaGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSB7TW91c2VQYW5IYW5kbGVyfSBmcm9tICcuLi9tb3VzZS5qcyc7XG5pbXBvcnQgdHlwZSBUb3VjaFBhbkhhbmRsZXIgZnJvbSAnLi8uLi90b3VjaF9wYW4uanMnO1xuXG5leHBvcnQgdHlwZSBEcmFnUGFuT3B0aW9ucyA9IHtcbiAgICBsaW5lYXJpdHk/OiBudW1iZXI7XG4gICAgZWFzaW5nPzogKHQ6IG51bWJlcikgPT4gbnVtYmVyO1xuICAgIGRlY2VsZXJhdGlvbj86IG51bWJlcjtcbiAgICBtYXhTcGVlZD86IG51bWJlcjtcbn07XG5cbi8qKlxuICogVGhlIGBEcmFnUGFuSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHBhbiB0aGUgbWFwIGJ5IGNsaWNraW5nIGFuZCBkcmFnZ2luZ1xuICogdGhlIGN1cnNvci5cbiAqXG4gKiBAc2VlIFtFeGFtcGxlOiBUb2dnbGUgaW50ZXJhY3Rpb25zXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90b2dnbGUtaW50ZXJhY3Rpb24taGFuZGxlcnMvKVxuICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYWdQYW5IYW5kbGVyIHtcblxuICAgIF9lbDogSFRNTEVsZW1lbnQ7XG4gICAgX21vdXNlUGFuOiBNb3VzZVBhbkhhbmRsZXI7XG4gICAgX3RvdWNoUGFuOiBUb3VjaFBhbkhhbmRsZXI7XG4gICAgX2luZXJ0aWFPcHRpb25zOiBEcmFnUGFuT3B0aW9uc1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgbW91c2VQYW46IE1vdXNlUGFuSGFuZGxlciwgdG91Y2hQYW46IFRvdWNoUGFuSGFuZGxlcikge1xuICAgICAgICB0aGlzLl9lbCA9IGVsO1xuICAgICAgICB0aGlzLl9tb3VzZVBhbiA9IG1vdXNlUGFuO1xuICAgICAgICB0aGlzLl90b3VjaFBhbiA9IHRvdWNoUGFuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBhbmQgYWNjZXB0cyBvcHRpb25zIHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIG9mIHRoZSBwYW5uaW5nIGluZXJ0aWEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5saW5lYXJpdHk9MF0gRmFjdG9yIHVzZWQgdG8gc2NhbGUgdGhlIGRyYWcgdmVsb2NpdHkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuZWFzaW5nXSBPcHRpb25hbCBlYXNpbmcgZnVuY3Rpb24gYXBwbGllZCB0byB7QGxpbmsgTWFwI3BhblRvfSB3aGVuIGFwcGx5aW5nIHRoZSBkcmFnLiBEZWZhdWx0cyB0byBiZXppZXIgZnVuY3Rpb24gdXNpbmcgW0BtYXBib3gvdW5pdGJlemllcl0oaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC91bml0YmV6aWVyKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4U3BlZWQ9MTQwMF0gVGhlIG1heGltdW0gdmFsdWUgb2YgdGhlIGRyYWcgdmVsb2NpdHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRlY2VsZXJhdGlvbj0yNTAwXSBUaGUgcmF0ZSBhdCB3aGljaCB0aGUgc3BlZWQgcmVkdWNlcyBhZnRlciB0aGUgcGFuIGVuZHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5kcmFnUGFuLmVuYWJsZSgpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRyYWdQYW4uZW5hYmxlKHtcbiAgICAgKiAgICAgbGluZWFyaXR5OiAwLjMsXG4gICAgICogICAgIGVhc2luZzogdCA9PiB0LFxuICAgICAqICAgICBtYXhTcGVlZDogMTQwMCxcbiAgICAgKiAgICAgZGVjZWxlcmF0aW9uOiAyNTAwXG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICovXG4gICAgZW5hYmxlKG9wdGlvbnM/OiBEcmFnUGFuT3B0aW9ucykge1xuICAgICAgICB0aGlzLl9pbmVydGlhT3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMuX21vdXNlUGFuLmVuYWJsZSgpO1xuICAgICAgICB0aGlzLl90b3VjaFBhbi5lbmFibGUoKTtcbiAgICAgICAgdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZHJhZ1Bhbi5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fbW91c2VQYW4uZGlzYWJsZSgpO1xuICAgICAgICB0aGlzLl90b3VjaFBhbi5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLXRvdWNoLWRyYWctcGFuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc0RyYWdQYW5FbmFibGVkID0gbWFwLmRyYWdQYW4uaXNFbmFibGVkKCk7XG4gICAgICovXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW91c2VQYW4uaXNFbmFibGVkKCkgJiYgdGhpcy5fdG91Y2hQYW4uaXNFbmFibGVkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlIChjdXJyZW50bHkgYmVpbmcgdXNlZCkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc0RyYWdQYW5BY3RpdmUgPSBtYXAuZHJhZ1Bhbi5pc0FjdGl2ZSgpO1xuICAgICAqL1xuICAgIGlzQWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW91c2VQYW4uaXNBY3RpdmUoKSB8fCB0aGlzLl90b3VjaFBhbi5pc0FjdGl2ZSgpO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIHtNb3VzZVJvdGF0ZUhhbmRsZXIsIE1vdXNlUGl0Y2hIYW5kbGVyfSBmcm9tICcuLi9tb3VzZS5qcyc7XG5cbi8qKlxuICogVGhlIGBEcmFnUm90YXRlSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHJvdGF0ZSB0aGUgbWFwIGJ5IGNsaWNraW5nIGFuZFxuICogZHJhZ2dpbmcgdGhlIGN1cnNvciB3aGlsZSBob2xkaW5nIHRoZSByaWdodCBtb3VzZSBidXR0b24gb3IgYGN0cmxgIGtleS5cbiAqXG4gKiBAc2VlIFtFeGFtcGxlOiBUb2dnbGUgaW50ZXJhY3Rpb25zXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90b2dnbGUtaW50ZXJhY3Rpb24taGFuZGxlcnMvKVxuICogQHNlZSBbRXhhbXBsZTogRGlzYWJsZSBtYXAgcm90YXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2Rpc2FibGUtcm90YXRpb24vKVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcmFnUm90YXRlSGFuZGxlciB7XG5cbiAgICBfbW91c2VSb3RhdGU6IE1vdXNlUm90YXRlSGFuZGxlcjtcbiAgICBfbW91c2VQaXRjaDogTW91c2VQaXRjaEhhbmRsZXI7XG4gICAgX3BpdGNoV2l0aFJvdGF0ZTogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmVhcmluZ1NuYXBdIFRoZSB0aHJlc2hvbGQsIG1lYXN1cmVkIGluIGRlZ3JlZXMsIHRoYXQgZGV0ZXJtaW5lcyB3aGVuIHRoZSBtYXAnc1xuICAgICAqICAgYmVhcmluZyB3aWxsIHNuYXAgdG8gbm9ydGguXG4gICAgICogQHBhcmFtIHtib29sfSBbb3B0aW9ucy5waXRjaFdpdGhSb3RhdGU9dHJ1ZV0gQ29udHJvbCB0aGUgbWFwIHBpdGNoIGluIGFkZGl0aW9uIHRvIHRoZSBiZWFyaW5nXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7cGl0Y2hXaXRoUm90YXRlOiBib29sZWFufSwgbW91c2VSb3RhdGU6IE1vdXNlUm90YXRlSGFuZGxlciwgbW91c2VQaXRjaDogTW91c2VQaXRjaEhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fcGl0Y2hXaXRoUm90YXRlID0gb3B0aW9ucy5waXRjaFdpdGhSb3RhdGU7XG4gICAgICAgIHRoaXMuX21vdXNlUm90YXRlID0gbW91c2VSb3RhdGU7XG4gICAgICAgIHRoaXMuX21vdXNlUGl0Y2ggPSBtb3VzZVBpdGNoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRyYWdSb3RhdGUuZW5hYmxlKCk7XG4gICAgICovXG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLl9tb3VzZVJvdGF0ZS5lbmFibGUoKTtcbiAgICAgICAgaWYgKHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSkgdGhpcy5fbW91c2VQaXRjaC5lbmFibGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZHJhZ1JvdGF0ZS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fbW91c2VSb3RhdGUuZGlzYWJsZSgpO1xuICAgICAgICB0aGlzLl9tb3VzZVBpdGNoLmRpc2FibGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc0RyYWdSb3RhdGVFbmFibGVkID0gbWFwLmRyYWdSb3RhdGUuaXNFbmFibGVkKCk7XG4gICAgICovXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW91c2VSb3RhdGUuaXNFbmFibGVkKCkgJiYgKCF0aGlzLl9waXRjaFdpdGhSb3RhdGUgfHwgdGhpcy5fbW91c2VQaXRjaC5pc0VuYWJsZWQoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlIChjdXJyZW50bHkgYmVpbmcgdXNlZCkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc0RyYWdSb3RhdGVBY3RpdmUgPSBtYXAuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpO1xuICAgICAqL1xuICAgIGlzQWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW91c2VSb3RhdGUuaXNBY3RpdmUoKSB8fCB0aGlzLl9tb3VzZVBpdGNoLmlzQWN0aXZlKCk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUge1RvdWNoWm9vbUhhbmRsZXIsIFRvdWNoUm90YXRlSGFuZGxlcn0gZnJvbSAnLi4vdG91Y2hfem9vbV9yb3RhdGUuanMnO1xuaW1wb3J0IHR5cGUgVGFwRHJhZ1pvb21IYW5kbGVyIGZyb20gJy4uL3RhcF9kcmFnX3pvb20uanMnO1xuXG4vKipcbiAqIFRoZSBgVG91Y2hab29tUm90YXRlSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gYW5kIHJvdGF0ZSB0aGUgbWFwIGJ5XG4gKiBwaW5jaGluZyBvbiBhIHRvdWNoc2NyZWVuLlxuICpcbiAqIFRoZXkgY2FuIHpvb20gd2l0aCBvbmUgZmluZ2VyIGJ5IGRvdWJsZSB0YXBwaW5nIGFuZCBkcmFnZ2luZy4gT24gdGhlIHNlY29uZCB0YXAsXG4gKiBob2xkIHRoZSBmaW5nZXIgZG93biBhbmQgZHJhZyB1cCBvciBkb3duIHRvIHpvb20gaW4gb3Igb3V0LlxuICpcbiAqIEBzZWUgW0V4YW1wbGU6IFRvZ2dsZSBpbnRlcmFjdGlvbnNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3RvZ2dsZS1pbnRlcmFjdGlvbi1oYW5kbGVycy8pXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXIge1xuXG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfdG91Y2hab29tOiBUb3VjaFpvb21IYW5kbGVyO1xuICAgIF90b3VjaFJvdGF0ZTogVG91Y2hSb3RhdGVIYW5kbGVyO1xuICAgIF90YXBEcmFnWm9vbTogVGFwRHJhZ1pvb21IYW5kbGVyO1xuICAgIF9yb3RhdGlvbkRpc2FibGVkOiBib29sZWFuO1xuICAgIF9lbmFibGVkOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgdG91Y2hab29tOiBUb3VjaFpvb21IYW5kbGVyLCB0b3VjaFJvdGF0ZTogVG91Y2hSb3RhdGVIYW5kbGVyLCB0YXBEcmFnWm9vbTogVGFwRHJhZ1pvb21IYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2VsID0gZWw7XG4gICAgICAgIHRoaXMuX3RvdWNoWm9vbSA9IHRvdWNoWm9vbTtcbiAgICAgICAgdGhpcy5fdG91Y2hSb3RhdGUgPSB0b3VjaFJvdGF0ZTtcbiAgICAgICAgdGhpcy5fdGFwRHJhZ1pvb20gPSB0YXBEcmFnWm9vbTtcbiAgICAgICAgdGhpcy5fcm90YXRpb25EaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcInBpbmNoIHRvIHJvdGF0ZSBhbmQgem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYXJvdW5kXSBJZiBcImNlbnRlclwiIGlzIHBhc3NlZCwgbWFwIHdpbGwgem9vbSBhcm91bmQgdGhlIGNlbnRlci5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnRvdWNoWm9vbVJvdGF0ZS5lbmFibGUoKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC50b3VjaFpvb21Sb3RhdGUuZW5hYmxlKHthcm91bmQ6ICdjZW50ZXInfSk7XG4gICAgICovXG4gICAgZW5hYmxlKG9wdGlvbnM6ID97YXJvdW5kPzogJ2NlbnRlcid9KSB7XG4gICAgICAgIHRoaXMuX3RvdWNoWm9vbS5lbmFibGUob3B0aW9ucyk7XG4gICAgICAgIGlmICghdGhpcy5fcm90YXRpb25EaXNhYmxlZCkgdGhpcy5fdG91Y2hSb3RhdGUuZW5hYmxlKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl90YXBEcmFnWm9vbS5lbmFibGUoKTtcbiAgICAgICAgdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJwaW5jaCB0byByb3RhdGUgYW5kIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnRvdWNoWm9vbVJvdGF0ZS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fdG91Y2hab29tLmRpc2FibGUoKTtcbiAgICAgICAgdGhpcy5fdG91Y2hSb3RhdGUuZGlzYWJsZSgpO1xuICAgICAgICB0aGlzLl90YXBEcmFnWm9vbS5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcInBpbmNoIHRvIHJvdGF0ZSBhbmQgem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcInBpbmNoIHRvIHJvdGF0ZSBhbmQgem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc1RvdWNoWm9vbVJvdGF0ZUVuYWJsZWQgPSBtYXAudG91Y2hab29tUm90YXRlLmlzRW5hYmxlZCgpO1xuICAgICAqL1xuICAgIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdWNoWm9vbS5pc0VuYWJsZWQoKSAmJlxuICAgICAgICAgICAgKHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQgfHwgdGhpcy5fdG91Y2hSb3RhdGUuaXNFbmFibGVkKCkpICYmXG4gICAgICAgICAgICB0aGlzLl90YXBEcmFnWm9vbS5pc0VuYWJsZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGhhbmRsZXIgaXMgZW5hYmxlZCBhbmQgaGFzIGRldGVjdGVkIHRoZSBzdGFydCBvZiBhIHpvb20vcm90YXRlIGdlc3R1cmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGVuYWJsZWQgYW5kIGEgem9vbS9yb3RhdGUgZ2VzdHVyZSB3YXMgZGV0ZWN0ZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc1RvdWNoWm9vbVJvdGF0ZUFjdGl2ZSA9IG1hcC50b3VjaFpvb21Sb3RhdGUuaXNBY3RpdmUoKTtcbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdWNoWm9vbS5pc0FjdGl2ZSgpIHx8IHRoaXMuX3RvdWNoUm90YXRlLmlzQWN0aXZlKCkgfHwgdGhpcy5fdGFwRHJhZ1pvb20uaXNBY3RpdmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJwaW5jaCB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiwgbGVhdmluZyB0aGUgXCJwaW5jaCB0byB6b29tXCJcbiAgICAgKiBpbnRlcmFjdGlvbiBlbmFibGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAudG91Y2hab29tUm90YXRlLmRpc2FibGVSb3RhdGlvbigpO1xuICAgICAqL1xuICAgIGRpc2FibGVSb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcm90YXRpb25EaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3RvdWNoUm90YXRlLmRpc2FibGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcInBpbmNoIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAudG91Y2hab29tUm90YXRlLmVuYWJsZSgpO1xuICAgICAqIG1hcC50b3VjaFpvb21Sb3RhdGUuZW5hYmxlUm90YXRpb24oKTtcbiAgICAgKi9cbiAgICBlbmFibGVSb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcm90YXRpb25EaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fdG91Y2hab29tLmlzRW5hYmxlZCgpKSB0aGlzLl90b3VjaFJvdGF0ZS5lbmFibGUoKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge0V2ZW50fSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uL3V0aWwvZG9tLmpzJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcC5qcyc7XG5pbXBvcnQgSGFuZGxlckluZXJ0aWEgZnJvbSAnLi9oYW5kbGVyX2luZXJ0aWEuanMnO1xuaW1wb3J0IHtNYXBFdmVudEhhbmRsZXIsIEJsb2NrYWJsZU1hcEV2ZW50SGFuZGxlcn0gZnJvbSAnLi9oYW5kbGVyL21hcF9ldmVudC5qcyc7XG5pbXBvcnQgQm94Wm9vbUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL2JveF96b29tLmpzJztcbmltcG9ydCBUYXBab29tSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvdGFwX3pvb20uanMnO1xuaW1wb3J0IHtNb3VzZVBhbkhhbmRsZXIsIE1vdXNlUm90YXRlSGFuZGxlciwgTW91c2VQaXRjaEhhbmRsZXJ9IGZyb20gJy4vaGFuZGxlci9tb3VzZS5qcyc7XG5pbXBvcnQgVG91Y2hQYW5IYW5kbGVyIGZyb20gJy4vaGFuZGxlci90b3VjaF9wYW4uanMnO1xuaW1wb3J0IHtUb3VjaFpvb21IYW5kbGVyLCBUb3VjaFJvdGF0ZUhhbmRsZXIsIFRvdWNoUGl0Y2hIYW5kbGVyfSBmcm9tICcuL2hhbmRsZXIvdG91Y2hfem9vbV9yb3RhdGUuanMnO1xuaW1wb3J0IEtleWJvYXJkSGFuZGxlciBmcm9tICcuL2hhbmRsZXIva2V5Ym9hcmQuanMnO1xuaW1wb3J0IFNjcm9sbFpvb21IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9zY3JvbGxfem9vbS5qcyc7XG5pbXBvcnQgRG91YmxlQ2xpY2tab29tSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvc2hpbS9kYmxjbGlja196b29tLmpzJztcbmltcG9ydCBDbGlja1pvb21IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9jbGlja196b29tLmpzJztcbmltcG9ydCBUYXBEcmFnWm9vbUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL3RhcF9kcmFnX3pvb20uanMnO1xuaW1wb3J0IERyYWdQYW5IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9zaGltL2RyYWdfcGFuLmpzJztcbmltcG9ydCBEcmFnUm90YXRlSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvc2hpbS9kcmFnX3JvdGF0ZS5qcyc7XG5pbXBvcnQgVG91Y2hab29tUm90YXRlSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvc2hpbS90b3VjaF96b29tX3JvdGF0ZS5qcyc7XG5pbXBvcnQge2JpbmRBbGwsIGV4dGVuZH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vdXRpbC93aW5kb3cuanMnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHt2ZWMzfSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSwge2xhdEZyb21NZXJjYXRvclksIG1lcmNhdG9yU2NhbGV9IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcblxuaW1wb3J0IHR5cGUge1ZlYzN9IGZyb20gJ2dsLW1hdHJpeCc7XG5cbmV4cG9ydCB0eXBlIElucHV0RXZlbnQgPSBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCB8IEtleWJvYXJkRXZlbnQgfCBXaGVlbEV2ZW50O1xuXG5jb25zdCBpc01vdmluZyA9IHAgPT4gcC56b29tIHx8IHAuZHJhZyB8fCBwLnBpdGNoIHx8IHAucm90YXRlO1xuXG5jbGFzcyBSZW5kZXJGcmFtZUV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAgIHR5cGU6ICdyZW5kZXJGcmFtZSc7XG4gICAgdGltZVN0YW1wOiBudW1iZXI7XG59XG5cbmNsYXNzIFRyYWNraW5nRWxsaXBzb2lkIHtcbiAgICBjb25zdGFudHM6IEFycmF5PG51bWJlcj47XG4gICAgcmFkaXVzOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gYSwgYiwgYyBpbiB0aGUgZXF1YXRpb24geMKyL2HCsiArIHnCsi9iwrIgKyB6wrIvY8KyID0gMVxuICAgICAgICB0aGlzLmNvbnN0YW50cyA9IFsxLCAxLCAwLjAxXTtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSAwO1xuICAgIH1cblxuICAgIHNldHVwKGNlbnRlcjogVmVjMywgcG9pbnRPblN1cmZhY2U6IFZlYzMpIHtcbiAgICAgICAgY29uc3QgY2VudGVyVG9TdXJmYWNlID0gdmVjMy5zdWIoW10sIHBvaW50T25TdXJmYWNlLCBjZW50ZXIpO1xuICAgICAgICBpZiAoY2VudGVyVG9TdXJmYWNlWzJdIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSB2ZWMzLmxlbmd0aCh2ZWMzLmRpdihbXSwgY2VudGVyVG9TdXJmYWNlLCB0aGlzLmNvbnN0YW50cykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhlIHBvaW50IG9uIHN1cmZhY2UgaXMgYWJvdmUgdGhlIGNlbnRlci4gVGhpcyBjYW4gaGFwcGVuIGZvciBleGFtcGxlIHdoZW4gdGhlIGNhbWVyYSBpc1xuICAgICAgICAgICAgLy8gYmVsb3cgdGhlIGNsaWNrZWQgcG9pbnQgKGxpa2UgYSBtb3VudGFpbikgVXNlIHNsaWdodGx5IHNob3J0ZXIgcmFkaXVzIGZvciBsZXNzIGFnZ3Jlc3NpdmUgbW92ZW1lbnRcbiAgICAgICAgICAgIHRoaXMucmFkaXVzID0gdmVjMy5sZW5ndGgoW2NlbnRlclRvU3VyZmFjZVswXSwgY2VudGVyVG9TdXJmYWNlWzFdLCAwXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDYXN0IGEgcmF5IGZyb20gdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzb2lkIGFuZCB0aGUgaW50ZXJzZWN0aW9uIHBvaW50LlxuICAgIHByb2plY3RSYXkoZGlyOiBWZWMzKTogVmVjMyB7XG4gICAgICAgIC8vIFBlcmZvcm0gdGhlIGludGVyc2VjdGlvbiB0ZXN0IGFnYWluc3QgYSB1bml0IHNwaGVyZVxuICAgICAgICB2ZWMzLmRpdihkaXIsIGRpciwgdGhpcy5jb25zdGFudHMpO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShkaXIsIGRpcik7XG4gICAgICAgIHZlYzMubXVsKGRpciwgZGlyLCB0aGlzLmNvbnN0YW50cyk7XG5cbiAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9uID0gdmVjMy5zY2FsZShbXSwgZGlyLCB0aGlzLnJhZGl1cyk7XG5cbiAgICAgICAgaWYgKGludGVyc2VjdGlvblsyXSA+IDApIHtcbiAgICAgICAgICAgIC8vIFRoZSBpbnRlcnNlY3Rpb24gcG9pbnQgaXMgYWJvdmUgaG9yaXpvbiBzbyBzcGVjaWFsIGhhbmRsaW5nIGlzIHJlcXVpcmVkLlxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGRpcmVjdGlvbiBvZiB0aGUgbW92ZW1lbnQgd291bGQgYmUgaW52ZXJ0ZWQgZHVlIHRvIHRoZSBlbGxpcHNvaWQgc2hhcGVcbiAgICAgICAgICAgIGNvbnN0IGggPSB2ZWMzLnNjYWxlKFtdLCBbMCwgMCwgMV0sIHZlYzMuZG90KGludGVyc2VjdGlvbiwgWzAsIDAsIDFdKSk7XG4gICAgICAgICAgICBjb25zdCByID0gdmVjMy5zY2FsZShbXSwgdmVjMy5ub3JtYWxpemUoW10sIFtpbnRlcnNlY3Rpb25bMF0sIGludGVyc2VjdGlvblsxXSwgMF0pLCB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICBjb25zdCBwID0gdmVjMy5hZGQoW10sIGludGVyc2VjdGlvbiwgdmVjMy5zY2FsZShbXSwgdmVjMy5zdWIoW10sIHZlYzMuYWRkKFtdLCByLCBoKSwgaW50ZXJzZWN0aW9uKSwgMikpO1xuXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bMF0gPSBwWzBdO1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uWzFdID0gcFsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb247XG4gICAgfVxufVxuXG4vLyBIYW5kbGVycyBpbnRlcnByZXQgZG9tIGV2ZW50cyBhbmQgcmV0dXJuIGNhbWVyYSBjaGFuZ2VzIHRoYXQgc2hvdWxkIGJlXG4vLyBhcHBsaWVkIHRvIHRoZSBtYXAgKGBIYW5kbGVyUmVzdWx0YHMpLiBUaGUgY2FtZXJhIGNoYW5nZXMgYXJlIGFsbCBkZWx0YXMuXG4vLyBUaGUgaGFuZGxlciBpdHNlbGYgc2hvdWxkIGhhdmUgbm8ga25vd2xlZGdlIG9mIHRoZSBtYXAncyBjdXJyZW50IHN0YXRlLlxuLy8gVGhpcyBtYWtlcyBpdCBlYXNpZXIgdG8gbWVyZ2UgbXVsdGlwbGUgcmVzdWx0cyBhbmQga2VlcHMgaGFuZGxlcnMgc2ltcGxlci5cbi8vIEZvciBleGFtcGxlLCBpZiB0aGVyZSBpcyBhIG1vdXNlZG93biBhbmQgbW91c2Vtb3ZlLCB0aGUgbW91c2VQYW4gaGFuZGxlclxuLy8gd291bGQgcmV0dXJuIGEgYHBhbkRlbHRhYCBvbiB0aGUgbW91c2Vtb3ZlLlxuZXhwb3J0IGludGVyZmFjZSBIYW5kbGVyIHtcbiAgICBlbmFibGUoKTogdm9pZDtcbiAgICBkaXNhYmxlKCk6IHZvaWQ7XG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW47XG4gICAgaXNBY3RpdmUoKTogYm9vbGVhbjtcblxuICAgIC8vIGByZXNldGAgY2FuIGJlIGNhbGxlZCBieSB0aGUgbWFuYWdlciBhdCBhbnkgdGltZSBhbmQgbXVzdCByZXNldCBldmVyeXRoaW5nIHRvIGl0J3Mgb3JpZ2luYWwgc3RhdGVcbiAgICByZXNldCgpOiB2b2lkO1xuXG4gICAgLy8gSGFuZGxlcnMgY2FuIG9wdGlvbmFsbHkgaW1wbGVtZW50IHRoZXNlIG1ldGhvZHMuXG4gICAgLy8gVGhleSBhcmUgY2FsbGVkIHdpdGggZG9tIGV2ZW50cyB3aGVuZXZlciB0aG9zZSBkb20gZXZlbnMgYXJlIHJlY2VpdmVkLlxuICAgICt0b3VjaHN0YXJ0PzogKGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pID0+ID9IYW5kbGVyUmVzdWx0O1xuICAgICt0b3VjaG1vdmU/OiAoZTogVG91Y2hFdmVudCwgcG9pbnRzOiBBcnJheTxQb2ludD4sIG1hcFRvdWNoZXM6IEFycmF5PFRvdWNoPikgPT4gP0hhbmRsZXJSZXN1bHQ7XG4gICAgK3RvdWNoZW5kPzogKGU6IFRvdWNoRXZlbnQsIHBvaW50czogQXJyYXk8UG9pbnQ+LCBtYXBUb3VjaGVzOiBBcnJheTxUb3VjaD4pID0+ID9IYW5kbGVyUmVzdWx0O1xuICAgICt0b3VjaGNhbmNlbD86IChlOiBUb3VjaEV2ZW50LCBwb2ludHM6IEFycmF5PFBvaW50PiwgbWFwVG91Y2hlczogQXJyYXk8VG91Y2g+KSA9PiA/SGFuZGxlclJlc3VsdDtcbiAgICArbW91c2Vkb3duPzogKGU6IE1vdXNlRXZlbnQsIHBvaW50OiBQb2ludCkgPT4gP0hhbmRsZXJSZXN1bHQ7XG4gICAgK21vdXNlbW92ZT86IChlOiBNb3VzZUV2ZW50LCBwb2ludDogUG9pbnQpID0+ID9IYW5kbGVyUmVzdWx0O1xuICAgICttb3VzZXVwPzogKGU6IE1vdXNlRXZlbnQsIHBvaW50OiBQb2ludCkgPT4gP0hhbmRsZXJSZXN1bHQ7XG4gICAgK2RibGNsaWNrPzogKGU6IE1vdXNlRXZlbnQsIHBvaW50OiBQb2ludCkgPT4gP0hhbmRsZXJSZXN1bHQ7XG4gICAgK3doZWVsPzogKGU6IFdoZWVsRXZlbnQsIHBvaW50OiBQb2ludCkgPT4gP0hhbmRsZXJSZXN1bHQ7XG4gICAgK2tleWRvd24/OiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gP0hhbmRsZXJSZXN1bHQ7XG4gICAgK2tleXVwPzogKGU6IEtleWJvYXJkRXZlbnQpID0+ID9IYW5kbGVyUmVzdWx0O1xuXG4gICAgLy8gYHJlbmRlckZyYW1lYCBpcyB0aGUgb25seSBub24tZG9tIGV2ZW50LiBJdCBpcyBjYWxsZWQgZHVyaW5nIHJlbmRlclxuICAgIC8vIGZyYW1lcyBhbmQgY2FuIGJlIHVzZWQgdG8gc21vb3RoIGNhbWVyYSBjaGFuZ2VzIChzZWUgc2Nyb2xsIGhhbmRsZXIpLlxuICAgICtyZW5kZXJGcmFtZT86ICgpID0+ID9IYW5kbGVyUmVzdWx0O1xufVxuXG4vLyBBbGwgaGFuZGxlciBtZXRob2RzIHRoYXQgYXJlIGNhbGxlZCB3aXRoIGV2ZW50cyBjYW4gb3B0aW9uYWxseSByZXR1cm4gYSBgSGFuZGxlclJlc3VsdGAuXG5leHBvcnQgdHlwZSBIYW5kbGVyUmVzdWx0ID0ge1xuICAgIHBhbkRlbHRhPzogUG9pbnQsXG4gICAgem9vbURlbHRhPzogbnVtYmVyLFxuICAgIGJlYXJpbmdEZWx0YT86IG51bWJlcixcbiAgICBwaXRjaERlbHRhPzogbnVtYmVyLFxuICAgIC8vIHRoZSBwb2ludCB0byBub3QgbW92ZSB3aGVuIGNoYW5naW5nIHRoZSBjYW1lcmFcbiAgICBhcm91bmQ/OiBQb2ludCB8IG51bGwsXG4gICAgLy8gc2FtZSBhcyBhYm92ZSwgZXhjZXB0IGZvciBwaW5jaCBhY3Rpb25zLCB3aGljaCBhcmUgZ2l2ZW4gaGlnaGVyIHByaW9yaXR5XG4gICAgcGluY2hBcm91bmQ/OiBQb2ludCB8IG51bGwsXG4gICAgLy8gdGhlIHBvaW50IHRvIG5vdCBtb3ZlIHdoZW4gY2hhbmdpbmcgdGhlIGNhbWVyYSBpbiBtZXJjYXRvciBjb29yZGluYXRlc1xuICAgIGFyb3VuZENvb3JkPzogTWVyY2F0b3JDb29yZGluYXRlIHwgbnVsbCxcbiAgICAvLyBBIG1ldGhvZCB0aGF0IGNhbiBmaXJlIGEgb25lLW9mZiBlYXNpbmcgYnkgZGlyZWN0bHkgY2hhbmdpbmcgdGhlIG1hcCdzIGNhbWVyYS5cbiAgICBjYW1lcmFBbmltYXRpb24/OiAobWFwOiBNYXApID0+IGFueTtcblxuICAgIC8vIFRoZSBsYXN0IHRocmVlIHByb3BlcnRpZXMgYXJlIG5lZWRlZCBieSBvbmx5IG9uZSBoYW5kbGVyOiBzY3JvbGx6b29tLlxuICAgIC8vIFRoZSBET00gZXZlbnQgdG8gYmUgdXNlZCBhcyB0aGUgYG9yaWdpbmFsRXZlbnRgIG9uIGFueSBjYW1lcmEgY2hhbmdlIGV2ZW50cy5cbiAgICBvcmlnaW5hbEV2ZW50PzogYW55LFxuICAgIC8vIE1ha2VzIHRoZSBtYW5hZ2VyIHRyaWdnZXIgYSBmcmFtZSwgYWxsb3dpbmcgdGhlIGhhbmRsZXIgdG8gcmV0dXJuIG11bHRpcGxlIHJlc3VsdHMgb3ZlciB0aW1lIChzZWUgc2Nyb2xsem9vbSkuXG4gICAgbmVlZHNSZW5kZXJGcmFtZT86IGJvb2xlYW4sXG4gICAgLy8gVGhlIGNhbWVyYSBjaGFuZ2VzIHdvbid0IGdldCByZWNvcmRlZCBmb3IgaW5lcnRpYWwgem9vbWluZy5cbiAgICBub0luZXJ0aWE/OiBib29sZWFuXG59O1xuXG5mdW5jdGlvbiBoYXNDaGFuZ2UocmVzdWx0OiBIYW5kbGVyUmVzdWx0KSB7XG4gICAgcmV0dXJuIChyZXN1bHQucGFuRGVsdGEgJiYgcmVzdWx0LnBhbkRlbHRhLm1hZygpKSB8fCByZXN1bHQuem9vbURlbHRhIHx8IHJlc3VsdC5iZWFyaW5nRGVsdGEgfHwgcmVzdWx0LnBpdGNoRGVsdGE7XG59XG5cbmNsYXNzIEhhbmRsZXJNYW5hZ2VyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfaGFuZGxlcnM6IEFycmF5PHsgaGFuZGxlck5hbWU6IHN0cmluZywgaGFuZGxlcjogSGFuZGxlciwgYWxsb3dlZDogYW55IH0+O1xuICAgIF9ldmVudHNJblByb2dyZXNzOiBPYmplY3Q7XG4gICAgX2ZyYW1lSWQ6ID9udW1iZXI7XG4gICAgX2luZXJ0aWE6IEhhbmRsZXJJbmVydGlhO1xuICAgIF9iZWFyaW5nU25hcDogbnVtYmVyO1xuICAgIF9oYW5kbGVyc0J5SWQ6IHsgW3N0cmluZ106IEhhbmRsZXIgfTtcbiAgICBfdXBkYXRpbmdDYW1lcmE6IGJvb2xlYW47XG4gICAgX2NoYW5nZXM6IEFycmF5PFtIYW5kbGVyUmVzdWx0LCBPYmplY3QsIGFueV0+O1xuICAgIF9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzOiB7IFtzdHJpbmddOiBIYW5kbGVyIH07XG4gICAgX2xpc3RlbmVyczogQXJyYXk8W0hUTUxFbGVtZW50LCBzdHJpbmcsIHZvaWQgfCBFdmVudExpc3RlbmVyT3B0aW9uc09yVXNlQ2FwdHVyZV0+O1xuICAgIF90cmFja2luZ0VsbGlwc29pZDogVHJhY2tpbmdFbGxpcHNvaWQ7XG4gICAgX2RyYWdPcmlnaW46ID9WZWMzO1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXAsIG9wdGlvbnM6IHsgaW50ZXJhY3RpdmU6IGJvb2xlYW4sIHBpdGNoV2l0aFJvdGF0ZTogYm9vbGVhbiwgY2xpY2tUb2xlcmFuY2U6IG51bWJlciwgYmVhcmluZ1NuYXA6IG51bWJlcn0pIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IHRoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5faGFuZGxlcnNCeUlkID0ge307XG4gICAgICAgIHRoaXMuX2NoYW5nZXMgPSBbXTtcblxuICAgICAgICB0aGlzLl9pbmVydGlhID0gbmV3IEhhbmRsZXJJbmVydGlhKG1hcCk7XG4gICAgICAgIHRoaXMuX2JlYXJpbmdTbmFwID0gb3B0aW9ucy5iZWFyaW5nU25hcDtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycyA9IHt9O1xuICAgICAgICB0aGlzLl90cmFja2luZ0VsbGlwc29pZCA9IG5ldyBUcmFja2luZ0VsbGlwc29pZCgpO1xuICAgICAgICB0aGlzLl9kcmFnT3JpZ2luID0gbnVsbDtcblxuICAgICAgICAvLyBUcmFjayB3aGV0aGVyIG1hcCBpcyBjdXJyZW50bHkgbW92aW5nLCB0byBjb21wdXRlIHN0YXJ0L21vdmUvZW5kIGV2ZW50c1xuICAgICAgICB0aGlzLl9ldmVudHNJblByb2dyZXNzID0ge307XG5cbiAgICAgICAgdGhpcy5fYWRkRGVmYXVsdEhhbmRsZXJzKG9wdGlvbnMpO1xuXG4gICAgICAgIGJpbmRBbGwoWydoYW5kbGVFdmVudCcsICdoYW5kbGVXaW5kb3dFdmVudCddLCB0aGlzKTtcblxuICAgICAgICBjb25zdCBlbCA9IHRoaXMuX2VsO1xuXG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtcbiAgICAgICAgICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgYHBhc3NpdmU6IHRydWVgIHNvIHRoYXQgYSBkb3VibGUgdGFwIGZpcmVzIHR3b1xuICAgICAgICAgICAgLy8gcGFpcnMgb2YgdG91Y2hzdGFydC9lbmQgZXZlbnRzIGluIGlPUyBTYWZhcmkgMTMuIElmIHRoaXMgaXMgc2V0IHRvXG4gICAgICAgICAgICAvLyBgcGFzc2l2ZTogZmFsc2VgIHRoZW4gdGhlIHNlY29uZCBwYWlyIG9mIGV2ZW50cyBpcyBvbmx5IGZpcmVkIGlmXG4gICAgICAgICAgICAvLyBwcmV2ZW50RGVmYXVsdCgpIGlzIGNhbGxlZCBvbiB0aGUgZmlyc3QgdG91Y2hzdGFydC4gQ2FsbGluZyBwcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAvLyB1bmRlc2lyYWJseSBwcmV2ZW50cyBjbGljayBldmVudHMuXG4gICAgICAgICAgICBbZWwsICd0b3VjaHN0YXJ0Jywge3Bhc3NpdmU6IHRydWV9XSxcbiAgICAgICAgICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgYHBhc3NpdmU6IGZhbHNlYCBzbyB0aGF0IHNjcm9sbHMgYW5kIHBpbmNoZXMgY2FuIGJlXG4gICAgICAgICAgICAvLyBwcmV2ZW50ZWQgaW4gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGB0b3VjaC1hY3Rpb25zOiBub25lYCwgZm9yIGV4YW1wbGUgaU9TIFNhZmFyaSAxMi5cbiAgICAgICAgICAgIFtlbCwgJ3RvdWNobW92ZScsIHtwYXNzaXZlOiBmYWxzZX1dLFxuICAgICAgICAgICAgW2VsLCAndG91Y2hlbmQnLCB1bmRlZmluZWRdLFxuICAgICAgICAgICAgW2VsLCAndG91Y2hjYW5jZWwnLCB1bmRlZmluZWRdLFxuXG4gICAgICAgICAgICBbZWwsICdtb3VzZWRvd24nLCB1bmRlZmluZWRdLFxuICAgICAgICAgICAgW2VsLCAnbW91c2Vtb3ZlJywgdW5kZWZpbmVkXSxcbiAgICAgICAgICAgIFtlbCwgJ21vdXNldXAnLCB1bmRlZmluZWRdLFxuXG4gICAgICAgICAgICAvLyBCaW5kIHdpbmRvdy1sZXZlbCBldmVudCBsaXN0ZW5lcnMgZm9yIG1vdmUgYW5kIHVwL2VuZCBldmVudHMuIEluIHRoZSBhYnNlbmNlIG9mXG4gICAgICAgICAgICAvLyB0aGUgcG9pbnRlciBjYXB0dXJlIEFQSSwgd2hpY2ggaXMgbm90IHN1cHBvcnRlZCBieSBhbGwgbmVjZXNzYXJ5IHBsYXRmb3JtcyxcbiAgICAgICAgICAgIC8vIHdpbmRvdy1sZXZlbCBldmVudCBsaXN0ZW5lcnMgZ2l2ZSB1cyB0aGUgYmVzdCBzaG90IGF0IGNhcHR1cmluZyBldmVudHMgdGhhdFxuICAgICAgICAgICAgLy8gZmFsbCBvdXRzaWRlIHRoZSBtYXAgY2FudmFzIGVsZW1lbnQuIFVzZSBge2NhcHR1cmU6IHRydWV9YCBmb3IgdGhlIG1vdmUgZXZlbnRcbiAgICAgICAgICAgIC8vIHRvIHByZXZlbnQgbWFwIG1vdmUgZXZlbnRzIGZyb20gYmVpbmcgZmlyZWQgZHVyaW5nIGEgZHJhZy5cbiAgICAgICAgICAgIFt3aW5kb3cuZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB7Y2FwdHVyZTogdHJ1ZX1dLFxuICAgICAgICAgICAgW3dpbmRvdy5kb2N1bWVudCwgJ21vdXNldXAnLCB1bmRlZmluZWRdLFxuXG4gICAgICAgICAgICBbZWwsICdtb3VzZW92ZXInLCB1bmRlZmluZWRdLFxuICAgICAgICAgICAgW2VsLCAnbW91c2VvdXQnLCB1bmRlZmluZWRdLFxuICAgICAgICAgICAgW2VsLCAnZGJsY2xpY2snLCB1bmRlZmluZWRdLFxuICAgICAgICAgICAgW2VsLCAnY2xpY2snLCB1bmRlZmluZWRdLFxuXG4gICAgICAgICAgICBbZWwsICdrZXlkb3duJywge2NhcHR1cmU6IGZhbHNlfV0sXG4gICAgICAgICAgICBbZWwsICdrZXl1cCcsIHVuZGVmaW5lZF0sXG5cbiAgICAgICAgICAgIFtlbCwgJ3doZWVsJywge3Bhc3NpdmU6IGZhbHNlfV0sXG4gICAgICAgICAgICBbZWwsICdjb250ZXh0bWVudScsIHVuZGVmaW5lZF0sXG5cbiAgICAgICAgICAgIFt3aW5kb3csICdibHVyJywgdW5kZWZpbmVkXVxuICAgICAgICBdO1xuXG4gICAgICAgIGZvciAoY29uc3QgW3RhcmdldCwgdHlwZSwgbGlzdGVuZXJPcHRpb25zXSBvZiB0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gdGFyZ2V0ID09PSB3aW5kb3cuZG9jdW1lbnQgPyB0aGlzLmhhbmRsZVdpbmRvd0V2ZW50IDogdGhpcy5oYW5kbGVFdmVudDtcbiAgICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCh0eXBlOiBhbnkpLCAobGlzdGVuZXI6IGFueSksIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGNvbnN0IFt0YXJnZXQsIHR5cGUsIGxpc3RlbmVyT3B0aW9uc10gb2YgdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IHRhcmdldCA9PT0gd2luZG93LmRvY3VtZW50ID8gdGhpcy5oYW5kbGVXaW5kb3dFdmVudCA6IHRoaXMuaGFuZGxlRXZlbnQ7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigodHlwZTogYW55KSwgKGxpc3RlbmVyOiBhbnkpLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2FkZERlZmF1bHRIYW5kbGVycyhvcHRpb25zOiB7IGludGVyYWN0aXZlOiBib29sZWFuLCBwaXRjaFdpdGhSb3RhdGU6IGJvb2xlYW4sIGNsaWNrVG9sZXJhbmNlOiBudW1iZXIgfSkge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGNvbnN0IGVsID0gbWFwLmdldENhbnZhc0NvbnRhaW5lcigpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2FkZCgnbWFwRXZlbnQnLCBuZXcgTWFwRXZlbnRIYW5kbGVyKG1hcCwgb3B0aW9ucykpO1xuXG4gICAgICAgIGNvbnN0IGJveFpvb20gPSBtYXAuYm94Wm9vbSA9IG5ldyBCb3hab29tSGFuZGxlcihtYXAsIG9wdGlvbnMpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2FkZCgnYm94Wm9vbScsIGJveFpvb20pO1xuXG4gICAgICAgIGNvbnN0IHRhcFpvb20gPSBuZXcgVGFwWm9vbUhhbmRsZXIoKTtcbiAgICAgICAgY29uc3QgY2xpY2tab29tID0gbmV3IENsaWNrWm9vbUhhbmRsZXIoKTtcbiAgICAgICAgbWFwLmRvdWJsZUNsaWNrWm9vbSA9IG5ldyBEb3VibGVDbGlja1pvb21IYW5kbGVyKGNsaWNrWm9vbSwgdGFwWm9vbSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fYWRkKCd0YXBab29tJywgdGFwWm9vbSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fYWRkKCdjbGlja1pvb20nLCBjbGlja1pvb20pO1xuXG4gICAgICAgIGNvbnN0IHRhcERyYWdab29tID0gbmV3IFRhcERyYWdab29tSGFuZGxlcigpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2FkZCgndGFwRHJhZ1pvb20nLCB0YXBEcmFnWm9vbSk7XG5cbiAgICAgICAgY29uc3QgdG91Y2hQaXRjaCA9IG1hcC50b3VjaFBpdGNoID0gbmV3IFRvdWNoUGl0Y2hIYW5kbGVyKG1hcCk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fYWRkKCd0b3VjaFBpdGNoJywgdG91Y2hQaXRjaCk7XG5cbiAgICAgICAgY29uc3QgbW91c2VSb3RhdGUgPSBuZXcgTW91c2VSb3RhdGVIYW5kbGVyKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBtb3VzZVBpdGNoID0gbmV3IE1vdXNlUGl0Y2hIYW5kbGVyKG9wdGlvbnMpO1xuICAgICAgICBtYXAuZHJhZ1JvdGF0ZSA9IG5ldyBEcmFnUm90YXRlSGFuZGxlcihvcHRpb25zLCBtb3VzZVJvdGF0ZSwgbW91c2VQaXRjaCk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fYWRkKCdtb3VzZVJvdGF0ZScsIG1vdXNlUm90YXRlLCBbJ21vdXNlUGl0Y2gnXSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fYWRkKCdtb3VzZVBpdGNoJywgbW91c2VQaXRjaCwgWydtb3VzZVJvdGF0ZSddKTtcblxuICAgICAgICBjb25zdCBtb3VzZVBhbiA9IG5ldyBNb3VzZVBhbkhhbmRsZXIob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHRvdWNoUGFuID0gbmV3IFRvdWNoUGFuSGFuZGxlcihtYXAsIG9wdGlvbnMpO1xuICAgICAgICBtYXAuZHJhZ1BhbiA9IG5ldyBEcmFnUGFuSGFuZGxlcihlbCwgbW91c2VQYW4sIHRvdWNoUGFuKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9hZGQoJ21vdXNlUGFuJywgbW91c2VQYW4pO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2FkZCgndG91Y2hQYW4nLCB0b3VjaFBhbiwgWyd0b3VjaFpvb20nLCAndG91Y2hSb3RhdGUnXSk7XG5cbiAgICAgICAgY29uc3QgdG91Y2hSb3RhdGUgPSBuZXcgVG91Y2hSb3RhdGVIYW5kbGVyKCk7XG4gICAgICAgIGNvbnN0IHRvdWNoWm9vbSA9IG5ldyBUb3VjaFpvb21IYW5kbGVyKCk7XG4gICAgICAgIG1hcC50b3VjaFpvb21Sb3RhdGUgPSBuZXcgVG91Y2hab29tUm90YXRlSGFuZGxlcihlbCwgdG91Y2hab29tLCB0b3VjaFJvdGF0ZSwgdGFwRHJhZ1pvb20pO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2FkZCgndG91Y2hSb3RhdGUnLCB0b3VjaFJvdGF0ZSwgWyd0b3VjaFBhbicsICd0b3VjaFpvb20nXSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fYWRkKCd0b3VjaFpvb20nLCB0b3VjaFpvb20sIFsndG91Y2hQYW4nLCAndG91Y2hSb3RhdGUnXSk7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9hZGQoJ2Jsb2NrYWJsZU1hcEV2ZW50JywgbmV3IEJsb2NrYWJsZU1hcEV2ZW50SGFuZGxlcihtYXApKTtcblxuICAgICAgICBjb25zdCBzY3JvbGxab29tID0gbWFwLnNjcm9sbFpvb20gPSBuZXcgU2Nyb2xsWm9vbUhhbmRsZXIobWFwLCB0aGlzKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9hZGQoJ3Njcm9sbFpvb20nLCBzY3JvbGxab29tLCBbJ21vdXNlUGFuJ10pO1xuXG4gICAgICAgIGNvbnN0IGtleWJvYXJkID0gbWFwLmtleWJvYXJkID0gbmV3IEtleWJvYXJkSGFuZGxlcigpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2FkZCgna2V5Ym9hcmQnLCBrZXlib2FyZCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIFsnYm94Wm9vbScsICdkb3VibGVDbGlja1pvb20nLCAndGFwRHJhZ1pvb20nLCAndG91Y2hQaXRjaCcsICdkcmFnUm90YXRlJywgJ2RyYWdQYW4nLCAndG91Y2hab29tUm90YXRlJywgJ3Njcm9sbFpvb20nLCAna2V5Ym9hcmQnXSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJhY3RpdmUgJiYgKG9wdGlvbnM6IGFueSlbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAobWFwOiBhbnkpW25hbWVdLmVuYWJsZSgob3B0aW9uczogYW55KVtuYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYWRkKGhhbmRsZXJOYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEhhbmRsZXIsIGFsbG93ZWQ/OiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzLnB1c2goe2hhbmRsZXJOYW1lLCBoYW5kbGVyLCBhbGxvd2VkfSk7XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzQnlJZFtoYW5kbGVyTmFtZV0gPSBoYW5kbGVyO1xuICAgIH1cblxuICAgIHN0b3AoYWxsb3dFbmRBbmltYXRpb246IGJvb2xlYW4pIHtcbiAgICAgICAgLy8gZG8gbm90aGluZyBpZiB0aGlzIG1ldGhvZCB3YXMgdHJpZ2dlcmVkIGJ5IGEgZ2VzdHVyZSB1cGRhdGVcbiAgICAgICAgaWYgKHRoaXMuX3VwZGF0aW5nQ2FtZXJhKSByZXR1cm47XG5cbiAgICAgICAgZm9yIChjb25zdCB7aGFuZGxlcn0gb2YgdGhpcy5faGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGhhbmRsZXIucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbmVydGlhLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2ZpcmVFdmVudHMoe30sIHt9LCBhbGxvd0VuZEFuaW1hdGlvbik7XG4gICAgICAgIHRoaXMuX2NoYW5nZXMgPSBbXTtcbiAgICB9XG5cbiAgICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgZm9yIChjb25zdCB7aGFuZGxlcn0gb2YgdGhpcy5faGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyLmlzQWN0aXZlKCkpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpc1pvb21pbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Muem9vbSB8fCB0aGlzLl9tYXAuc2Nyb2xsWm9vbS5pc1pvb21pbmcoKTtcbiAgICB9XG5cbiAgICBpc1JvdGF0aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnJvdGF0ZTtcbiAgICB9XG5cbiAgICBpc01vdmluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhaXNNb3ZpbmcodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcykgfHwgdGhpcy5pc1pvb21pbmcoKTtcbiAgICB9XG5cbiAgICBfaXNEcmFnZ2luZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy5kcmFnO1xuICAgIH1cblxuICAgIF9ibG9ja2VkQnlBY3RpdmUoYWN0aXZlSGFuZGxlcnM6IHsgW3N0cmluZ106IEhhbmRsZXIgfSwgYWxsb3dlZDogQXJyYXk8c3RyaW5nPiwgbXlOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGFjdGl2ZUhhbmRsZXJzKSB7XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gbXlOYW1lKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICghYWxsb3dlZCB8fCBhbGxvd2VkLmluZGV4T2YobmFtZSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGhhbmRsZVdpbmRvd0V2ZW50KGU6IElucHV0RXZlbnQpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudChlLCBgJHtlLnR5cGV9V2luZG93YCk7XG4gICAgfVxuXG4gICAgX2dldE1hcFRvdWNoZXModG91Y2hlczogVG91Y2hMaXN0KTogVG91Y2hMaXN0IHtcbiAgICAgICAgY29uc3QgbWFwVG91Y2hlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdG91Y2hlcykge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKCh0LnRhcmdldDogYW55KTogTm9kZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZWwuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIG1hcFRvdWNoZXMucHVzaCh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKChtYXBUb3VjaGVzOiBhbnkpOiBUb3VjaExpc3QpO1xuICAgIH1cblxuICAgIGhhbmRsZUV2ZW50KGU6IElucHV0RXZlbnQgfCBSZW5kZXJGcmFtZUV2ZW50LCBldmVudE5hbWU/OiBzdHJpbmcpIHtcblxuICAgICAgICB0aGlzLl91cGRhdGluZ0NhbWVyYSA9IHRydWU7XG4gICAgICAgIGFzc2VydChlLnRpbWVTdGFtcCAhPT0gdW5kZWZpbmVkKTtcblxuICAgICAgICBjb25zdCBpc1JlbmRlckZyYW1lID0gZS50eXBlID09PSAncmVuZGVyRnJhbWUnO1xuICAgICAgICBjb25zdCBpbnB1dEV2ZW50ID0gaXNSZW5kZXJGcmFtZSA/IHVuZGVmaW5lZCA6ICgoZTogYW55KTogSW5wdXRFdmVudCk7XG5cbiAgICAgICAgLypcbiAgICAgICAgICogV2UgZG9uJ3QgY2FsbCBlLnByZXZlbnREZWZhdWx0KCkgZm9yIGFueSBldmVudHMgYnkgZGVmYXVsdC5cbiAgICAgICAgICogSGFuZGxlcnMgYXJlIHJlc3BvbnNpYmxlIGZvciBjYWxsaW5nIGl0IHdoZXJlIG5lY2Vzc2FyeS5cbiAgICAgICAgICovXG5cbiAgICAgICAgY29uc3QgbWVyZ2VkSGFuZGxlclJlc3VsdDogSGFuZGxlclJlc3VsdCA9IHtuZWVkc1JlbmRlckZyYW1lOiBmYWxzZX07XG4gICAgICAgIGNvbnN0IGV2ZW50c0luUHJvZ3Jlc3MgPSB7fTtcbiAgICAgICAgY29uc3QgYWN0aXZlSGFuZGxlcnMgPSB7fTtcblxuICAgICAgICBjb25zdCBtYXBUb3VjaGVzID0gZS50b3VjaGVzID8gdGhpcy5fZ2V0TWFwVG91Y2hlcygoKGU6IGFueSk6IFRvdWNoRXZlbnQpLnRvdWNoZXMpIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBwb2ludHMgPSBtYXBUb3VjaGVzID8gRE9NLnRvdWNoUG9zKHRoaXMuX2VsLCBtYXBUb3VjaGVzKSA6XG4gICAgICAgICAgICBpc1JlbmRlckZyYW1lID8gdW5kZWZpbmVkIDogLy8gcmVuZGVyRnJhbWUgZXZlbnQgZG9lc24ndCBoYXZlIGFueSBwb2ludHNcbiAgICAgICAgICAgIERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgKChlOiBhbnkpOiBNb3VzZUV2ZW50KSk7XG5cbiAgICAgICAgZm9yIChjb25zdCB7aGFuZGxlck5hbWUsIGhhbmRsZXIsIGFsbG93ZWR9IG9mIHRoaXMuX2hhbmRsZXJzKSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaXNFbmFibGVkKCkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgZGF0YTogP0hhbmRsZXJSZXN1bHQ7XG4gICAgICAgICAgICBpZiAodGhpcy5fYmxvY2tlZEJ5QWN0aXZlKGFjdGl2ZUhhbmRsZXJzLCBhbGxvd2VkLCBoYW5kbGVyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKChoYW5kbGVyOiBhbnkpW2V2ZW50TmFtZSB8fCBlLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSAoaGFuZGxlcjogYW55KVtldmVudE5hbWUgfHwgZS50eXBlXShlLCBwb2ludHMsIG1hcFRvdWNoZXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lcmdlSGFuZGxlclJlc3VsdChtZXJnZWRIYW5kbGVyUmVzdWx0LCBldmVudHNJblByb2dyZXNzLCBkYXRhLCBoYW5kbGVyTmFtZSwgaW5wdXRFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEubmVlZHNSZW5kZXJGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlclJlbmRlckZyYW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhIHx8IGhhbmRsZXIuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUhhbmRsZXJzW2hhbmRsZXJOYW1lXSA9IGhhbmRsZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWFjdGl2YXRlZEhhbmRsZXJzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzKSB7XG4gICAgICAgICAgICBpZiAoIWFjdGl2ZUhhbmRsZXJzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgZGVhY3RpdmF0ZWRIYW5kbGVyc1tuYW1lXSA9IGlucHV0RXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycyA9IGFjdGl2ZUhhbmRsZXJzO1xuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhkZWFjdGl2YXRlZEhhbmRsZXJzKS5sZW5ndGggfHwgaGFzQ2hhbmdlKG1lcmdlZEhhbmRsZXJSZXN1bHQpKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzLnB1c2goW21lcmdlZEhhbmRsZXJSZXN1bHQsIGV2ZW50c0luUHJvZ3Jlc3MsIGRlYWN0aXZhdGVkSGFuZGxlcnNdKTtcbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJSZW5kZXJGcmFtZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFjdGl2ZUhhbmRsZXJzKS5sZW5ndGggfHwgaGFzQ2hhbmdlKG1lcmdlZEhhbmRsZXJSZXN1bHQpKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuX3N0b3AodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGluZ0NhbWVyYSA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHtjYW1lcmFBbmltYXRpb259ID0gbWVyZ2VkSGFuZGxlclJlc3VsdDtcbiAgICAgICAgaWYgKGNhbWVyYUFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5faW5lcnRpYS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50cyh7fSwge30sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlcyA9IFtdO1xuICAgICAgICAgICAgY2FtZXJhQW5pbWF0aW9uKHRoaXMuX21hcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtZXJnZUhhbmRsZXJSZXN1bHQobWVyZ2VkSGFuZGxlclJlc3VsdDogSGFuZGxlclJlc3VsdCwgZXZlbnRzSW5Qcm9ncmVzczogT2JqZWN0LCBoYW5kbGVyUmVzdWx0OiBIYW5kbGVyUmVzdWx0LCBuYW1lOiBzdHJpbmcsIGU/OiBJbnB1dEV2ZW50KSB7XG4gICAgICAgIGlmICghaGFuZGxlclJlc3VsdCkgcmV0dXJuO1xuXG4gICAgICAgIGV4dGVuZChtZXJnZWRIYW5kbGVyUmVzdWx0LCBoYW5kbGVyUmVzdWx0KTtcblxuICAgICAgICBjb25zdCBldmVudERhdGEgPSB7aGFuZGxlck5hbWU6IG5hbWUsIG9yaWdpbmFsRXZlbnQ6IGhhbmRsZXJSZXN1bHQub3JpZ2luYWxFdmVudCB8fCBlfTtcblxuICAgICAgICAvLyB0cmFjayB3aGljaCBoYW5kbGVyIGNoYW5nZWQgd2hpY2ggY2FtZXJhIHByb3BlcnR5XG4gICAgICAgIGlmIChoYW5kbGVyUmVzdWx0Lnpvb21EZWx0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBldmVudHNJblByb2dyZXNzLnpvb20gPSBldmVudERhdGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZXJSZXN1bHQucGFuRGVsdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZXZlbnRzSW5Qcm9ncmVzcy5kcmFnID0gZXZlbnREYXRhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYW5kbGVyUmVzdWx0LnBpdGNoRGVsdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZXZlbnRzSW5Qcm9ncmVzcy5waXRjaCA9IGV2ZW50RGF0YTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlclJlc3VsdC5iZWFyaW5nRGVsdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZXZlbnRzSW5Qcm9ncmVzcy5yb3RhdGUgPSBldmVudERhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYXBwbHlDaGFuZ2VzKCkge1xuICAgICAgICBjb25zdCBjb21iaW5lZCA9IHt9O1xuICAgICAgICBjb25zdCBjb21iaW5lZEV2ZW50c0luUHJvZ3Jlc3MgPSB7fTtcbiAgICAgICAgY29uc3QgY29tYmluZWREZWFjdGl2YXRlZEhhbmRsZXJzID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBbY2hhbmdlLCBldmVudHNJblByb2dyZXNzLCBkZWFjdGl2YXRlZEhhbmRsZXJzXSBvZiB0aGlzLl9jaGFuZ2VzKSB7XG5cbiAgICAgICAgICAgIGlmIChjaGFuZ2UucGFuRGVsdGEpIGNvbWJpbmVkLnBhbkRlbHRhID0gKGNvbWJpbmVkLnBhbkRlbHRhIHx8IG5ldyBQb2ludCgwLCAwKSkuX2FkZChjaGFuZ2UucGFuRGVsdGEpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZS56b29tRGVsdGEpIGNvbWJpbmVkLnpvb21EZWx0YSA9IChjb21iaW5lZC56b29tRGVsdGEgfHwgMCkgKyBjaGFuZ2Uuem9vbURlbHRhO1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5iZWFyaW5nRGVsdGEpIGNvbWJpbmVkLmJlYXJpbmdEZWx0YSA9IChjb21iaW5lZC5iZWFyaW5nRGVsdGEgfHwgMCkgKyBjaGFuZ2UuYmVhcmluZ0RlbHRhO1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5waXRjaERlbHRhKSBjb21iaW5lZC5waXRjaERlbHRhID0gKGNvbWJpbmVkLnBpdGNoRGVsdGEgfHwgMCkgKyBjaGFuZ2UucGl0Y2hEZWx0YTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UuYXJvdW5kICE9PSB1bmRlZmluZWQpIGNvbWJpbmVkLmFyb3VuZCA9IGNoYW5nZS5hcm91bmQ7XG4gICAgICAgICAgICBpZiAoY2hhbmdlLmFyb3VuZENvb3JkICE9PSB1bmRlZmluZWQpIGNvbWJpbmVkLmFyb3VuZENvb3JkID0gY2hhbmdlLmFyb3VuZENvb3JkO1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5waW5jaEFyb3VuZCAhPT0gdW5kZWZpbmVkKSBjb21iaW5lZC5waW5jaEFyb3VuZCA9IGNoYW5nZS5waW5jaEFyb3VuZDtcbiAgICAgICAgICAgIGlmIChjaGFuZ2Uubm9JbmVydGlhKSBjb21iaW5lZC5ub0luZXJ0aWEgPSBjaGFuZ2Uubm9JbmVydGlhO1xuXG4gICAgICAgICAgICBleHRlbmQoY29tYmluZWRFdmVudHNJblByb2dyZXNzLCBldmVudHNJblByb2dyZXNzKTtcbiAgICAgICAgICAgIGV4dGVuZChjb21iaW5lZERlYWN0aXZhdGVkSGFuZGxlcnMsIGRlYWN0aXZhdGVkSGFuZGxlcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlTWFwVHJhbnNmb3JtKGNvbWJpbmVkLCBjb21iaW5lZEV2ZW50c0luUHJvZ3Jlc3MsIGNvbWJpbmVkRGVhY3RpdmF0ZWRIYW5kbGVycyk7XG4gICAgICAgIHRoaXMuX2NoYW5nZXMgPSBbXTtcbiAgICB9XG5cbiAgICBfdXBkYXRlTWFwVHJhbnNmb3JtKGNvbWJpbmVkUmVzdWx0OiBhbnksIGNvbWJpbmVkRXZlbnRzSW5Qcm9ncmVzczogT2JqZWN0LCBkZWFjdGl2YXRlZEhhbmRsZXJzOiBPYmplY3QpIHtcblxuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGNvbnN0IHRyID0gbWFwLnRyYW5zZm9ybTtcblxuICAgICAgICBjb25zdCBldmVudFN0YXJ0ZWQgPSAodHlwZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3RXZlbnQgPSBjb21iaW5lZEV2ZW50c0luUHJvZ3Jlc3NbdHlwZV07XG4gICAgICAgICAgICByZXR1cm4gbmV3RXZlbnQgJiYgIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbdHlwZV07XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZXZlbnRFbmRlZCA9ICh0eXBlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbdHlwZV07XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQgJiYgIXRoaXMuX2hhbmRsZXJzQnlJZFtldmVudC5oYW5kbGVyTmFtZV0uaXNBY3RpdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB0b1ZlYzMgPSAocDogTWVyY2F0b3JDb29yZGluYXRlKTogVmVjMyA9PiBbcC54LCBwLnksIHAuel07XG5cbiAgICAgICAgaWYgKGV2ZW50RW5kZWQoXCJkcmFnXCIpICYmICFoYXNDaGFuZ2UoY29tYmluZWRSZXN1bHQpKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVab29tID0gdHIuem9vbTtcbiAgICAgICAgICAgIHRyLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSA9IFwic2VhXCI7XG4gICAgICAgICAgICB0ci5yZWNlbnRlck9uVGVycmFpbigpO1xuICAgICAgICAgICAgdHIuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlID0gXCJncm91bmRcIjtcbiAgICAgICAgICAgIC8vIE1hcCB6b29tIG1pZ2h0IGNoYW5nZSBkdXJpbmcgdGhlIHBhbiBvcGVyYXRpb24gZHVlIHRvIHRlcnJhaW4gZWxldmF0aW9uLlxuICAgICAgICAgICAgaWYgKHByZVpvb20gIT09IHRyLnpvb20pIHRoaXMuX21hcC5fdXBkYXRlKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2F0Y2hlcyBkb3VibGUgY2xpY2sgYW5kIGRvdWJsZSB0YXAgem9vbXMgd2hlbiBjYW1lcmEgaXMgY29uc3RyYWluZWQgb3ZlciB0ZXJyYWluXG4gICAgICAgIGlmICh0ci5faXNDYW1lcmFDb25zdHJhaW5lZCkgbWFwLl9zdG9wKHRydWUpO1xuXG4gICAgICAgIGlmICghaGFzQ2hhbmdlKGNvbWJpbmVkUmVzdWx0KSkge1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50cyhjb21iaW5lZEV2ZW50c0luUHJvZ3Jlc3MsIGRlYWN0aXZhdGVkSGFuZGxlcnMsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHtwYW5EZWx0YSwgem9vbURlbHRhLCBiZWFyaW5nRGVsdGEsIHBpdGNoRGVsdGEsIGFyb3VuZCwgYXJvdW5kQ29vcmQsIHBpbmNoQXJvdW5kfSA9IGNvbWJpbmVkUmVzdWx0O1xuXG4gICAgICAgIGlmICh0ci5faXNDYW1lcmFDb25zdHJhaW5lZCkge1xuICAgICAgICAgICAgLy8gQ2F0Y2hlcyB3aGVlbCB6b29tIGV2ZW50cyB3aGVuIGNhbWVyYSBpcyBjb25zdHJhaW5lZCBvdmVyIHRlcnJhaW5cbiAgICAgICAgICAgIGlmICh6b29tRGVsdGEgPiAwKSB6b29tRGVsdGEgPSAwO1xuICAgICAgICAgICAgdHIuX2lzQ2FtZXJhQ29uc3RyYWluZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwaW5jaEFyb3VuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhcm91bmQgPSBwaW5jaEFyb3VuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoem9vbURlbHRhIHx8IGV2ZW50U3RhcnRlZChcImRyYWdcIikpICYmIGFyb3VuZCkge1xuICAgICAgICAgICAgdGhpcy5fZHJhZ09yaWdpbiA9IHRvVmVjMyh0ci5wb2ludENvb3JkaW5hdGUzRChhcm91bmQpKTtcbiAgICAgICAgICAgIC8vIENvbnN0cnVjdCB0aGUgdHJhY2tpbmcgZWxsaXBzb2lkIGV2ZXJ5IHRpbWUgdXNlciBjaGFuZ2VzIHRoZSB6b29tIG9yIGRyYWcgb3JpZ2luLlxuICAgICAgICAgICAgLy8gRGlyZWN0aW9uIG9mIHRoZSByYXkgd2lsbCBkZWZpbmUgc2l6ZSBvZiB0aGUgc2hhcGUgYW5kIGhlbmNlIGRlZmluaW5nIHRoZSBhdmFpbGFibGUgcmFuZ2Ugb2YgbW92ZW1lbnRcbiAgICAgICAgICAgIHRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnNldHVwKHRyLl9jYW1lcmEucG9zaXRpb24sIHRoaXMuX2RyYWdPcmlnaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxsIG1vdmVtZW50IG9mIHRoZSBjYW1lcmEgaXMgZG9uZSByZWxhdGl2ZSB0byB0aGUgc2VhIGxldmVsXG4gICAgICAgIHRyLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSA9IFwic2VhXCI7XG5cbiAgICAgICAgLy8gc3RvcCBhbnkgb25nb2luZyBjYW1lcmEgYW5pbWF0aW9ucyAoZWFzZVRvLCBmbHlUbylcbiAgICAgICAgbWFwLl9zdG9wKHRydWUpO1xuXG4gICAgICAgIGFyb3VuZCA9IGFyb3VuZCB8fCBtYXAudHJhbnNmb3JtLmNlbnRlclBvaW50O1xuICAgICAgICBpZiAoYmVhcmluZ0RlbHRhKSB0ci5iZWFyaW5nICs9IGJlYXJpbmdEZWx0YTtcbiAgICAgICAgaWYgKHBpdGNoRGVsdGEpIHRyLnBpdGNoICs9IHBpdGNoRGVsdGE7XG4gICAgICAgIHRyLl91cGRhdGVDYW1lcmFTdGF0ZSgpO1xuXG4gICAgICAgIC8vIENvbXB1dGUgTWVyY2F0b3IgM0QgY2FtZXJhIG9mZnNldCBiYXNlZCBvbiBzY3JlZW5zcGFjZSBwYW5EZWx0YVxuICAgICAgICBjb25zdCBwYW5WZWMgPSBbMCwgMCwgMF07XG4gICAgICAgIGlmIChwYW5EZWx0YSkge1xuICAgICAgICAgICAgaWYgKHRyLnByb2plY3Rpb24ubmFtZSA9PT0gJ21lcmNhdG9yJykge1xuICAgICAgICAgICAgICAgIGFzc2VydCh0aGlzLl9kcmFnT3JpZ2luLCAnX2RyYWdPcmlnaW4gc2hvdWxkIGhhdmUgYmVlbiBzZXR1cCB3aXRoIGEgcHJldmlvdXMgZHJhZ3N0YXJ0Jyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRQb2ludCA9IHRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnByb2plY3RSYXkodHIuc2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KGFyb3VuZCkuZGlyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRQb2ludCA9IHRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnByb2plY3RSYXkodHIuc2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KGFyb3VuZC5zdWIocGFuRGVsdGEpKS5kaXIpO1xuICAgICAgICAgICAgICAgIHBhblZlY1swXSA9IGVuZFBvaW50WzBdIC0gc3RhcnRQb2ludFswXTtcbiAgICAgICAgICAgICAgICBwYW5WZWNbMV0gPSBlbmRQb2ludFsxXSAtIHN0YXJ0UG9pbnRbMV07XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRQb2ludCA9IHRyLnBvaW50Q29vcmRpbmF0ZShhcm91bmQpO1xuICAgICAgICAgICAgICAgIGlmICh0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSBwYW4gdmVjdG9yIGRpcmVjdGx5IGluIHBpeGVsIGNvb3JkaW5hdGVzIGZvciB0aGUgZ2xvYmUuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJvdGF0ZSB0aGUgZ2xvYmUgYSBiaXQgZmFzdGVyIHdoZW4gZHJhZ2dpbmcgbmVhciBwb2xlcyB0byBjb21wZW5zYXRlXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVudCBwaXhlbC1wZXItbWV0ZXIgcmF0aW9zIChpZS4gcGl4ZWwtdG8tcGh5c2ljYWwtcm90YXRpb24gaXMgbG93ZXIpXG4gICAgICAgICAgICAgICAgICAgIHBhbkRlbHRhID0gcGFuRGVsdGEucm90YXRlKC10ci5hbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdHIuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwgLyB0ci53b3JsZFNpemU7XG4gICAgICAgICAgICAgICAgICAgIHBhblZlY1swXSA9IC1wYW5EZWx0YS54ICogbWVyY2F0b3JTY2FsZShsYXRGcm9tTWVyY2F0b3JZKHN0YXJ0UG9pbnQueSkpICogc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIHBhblZlY1sxXSA9IC1wYW5EZWx0YS55ICogbWVyY2F0b3JTY2FsZSh0ci5jZW50ZXIubGF0KSAqIHNjYWxlO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kUG9pbnQgPSB0ci5wb2ludENvb3JkaW5hdGUoYXJvdW5kLnN1YihwYW5EZWx0YSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFBvaW50ICYmIGVuZFBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYW5WZWNbMF0gPSBlbmRQb2ludC54IC0gc3RhcnRQb2ludC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFuVmVjWzFdID0gZW5kUG9pbnQueSAtIHN0YXJ0UG9pbnQueTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsWm9vbSA9IHRyLnpvb207XG4gICAgICAgIC8vIENvbXB1dGUgTWVyY2F0b3IgM0QgY2FtZXJhIG9mZnNldCBiYXNlZCBvbiBzY3JlZW5zcGFjZSByZXF1ZXN0ZWQgWm9vbURlbHRhXG4gICAgICAgIGNvbnN0IHpvb21WZWMgPSBbMCwgMCwgMF07XG4gICAgICAgIGlmICh6b29tRGVsdGEpIHtcbiAgICAgICAgICAgIC8vIFpvb20gdmFsdWUgaGFzIHRvIGJlIGNvbXB1dGVkIHJlbGF0aXZlIHRvIGEgc2Vjb25kYXJ5IG1hcCBwbGFuZSB0aGF0IGlzIGNyZWF0ZWQgZnJvbSB0aGUgdGVycmFpbiBwb3NpdGlvbiBiZWxvdyB0aGUgY3Vyc29yLlxuICAgICAgICAgICAgLy8gVGhpcyB3YXkgdGhlIHpvb20gaW50ZXJwb2xhdGlvbiBjYW4gYmUga2VwdCBsaW5lYXIgYW5kIGluZGVwZW5kZW50IG9mIHRoZSAocG9zc2libGUpIHRlcnJhaW4gZWxldmF0aW9uXG4gICAgICAgICAgICBjb25zdCBwaWNrZWRQb3NpdGlvbjogVmVjMyA9IGFyb3VuZENvb3JkID8gdG9WZWMzKGFyb3VuZENvb3JkKSA6IHRvVmVjMyh0ci5wb2ludENvb3JkaW5hdGUzRChhcm91bmQpKTtcblxuICAgICAgICAgICAgY29uc3QgYXJvdW5kUmF5ID0ge2RpcjogdmVjMy5ub3JtYWxpemUoW10sIHZlYzMuc3ViKFtdLCBwaWNrZWRQb3NpdGlvbiwgdHIuX2NhbWVyYS5wb3NpdGlvbikpfTtcbiAgICAgICAgICAgIGlmIChhcm91bmRSYXkuZGlyWzJdIDwgMCkge1xuICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgaXMgcmVxdWlyZWQgaWYgdGhlIHJheSBjcmVhdGVkIGZyb20gdGhlIGN1cnNvciBpcyBoZWFkaW5nIHVwLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgc2NlbmFyaW8gaXMgcG9zc2libGUgaWYgdXNlciBpcyB0cnlpbmcgdG8gem9vbSB0b3dhcmRzIGEgZmVhdHVyZSBsaWtlIGEgaGlsbCBvciBhIG1vdW50YWluLlxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgem9vbURlbHRhIHRvIGEgbW92ZW1lbnQgdmVjdG9yIGFzIGlmIHRoZSBjYW1lcmEgd291bGQgYmUgb3JiaXRpbmcgYXJvdW5kIHRoZSBwaWNrZWQgcG9pbnRcbiAgICAgICAgICAgICAgICBjb25zdCBtb3ZlbWVudCA9IHRyLnpvb21EZWx0YVRvTW92ZW1lbnQocGlja2VkUG9zaXRpb24sIHpvb21EZWx0YSk7XG4gICAgICAgICAgICAgICAgdmVjMy5zY2FsZSh6b29tVmVjLCBhcm91bmRSYXkuZGlyLCBtb3ZlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNdXRhdGUgY2FtZXJhIHN0YXRlIHZpYSBDYW1lcmFBUElcbiAgICAgICAgY29uc3QgdHJhbnNsYXRpb24gPSB2ZWMzLmFkZChwYW5WZWMsIHBhblZlYywgem9vbVZlYyk7XG4gICAgICAgIHRyLl90cmFuc2xhdGVDYW1lcmFDb25zdHJhaW5lZCh0cmFuc2xhdGlvbik7XG5cbiAgICAgICAgaWYgKHpvb21EZWx0YSAmJiBNYXRoLmFicyh0ci56b29tIC0gb3JpZ2luYWxab29tKSA+IDAuMDAwMSkge1xuICAgICAgICAgICAgdHIucmVjZW50ZXJPblRlcnJhaW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSA9IFwiZ3JvdW5kXCI7XG5cbiAgICAgICAgdGhpcy5fbWFwLl91cGRhdGUoKTtcbiAgICAgICAgaWYgKCFjb21iaW5lZFJlc3VsdC5ub0luZXJ0aWEpIHRoaXMuX2luZXJ0aWEucmVjb3JkKGNvbWJpbmVkUmVzdWx0KTtcbiAgICAgICAgdGhpcy5fZmlyZUV2ZW50cyhjb21iaW5lZEV2ZW50c0luUHJvZ3Jlc3MsIGRlYWN0aXZhdGVkSGFuZGxlcnMsIHRydWUpO1xuICAgIH1cblxuICAgIF9maXJlRXZlbnRzKG5ld0V2ZW50c0luUHJvZ3Jlc3M6IHsgW3N0cmluZ106IE9iamVjdCB9LCBkZWFjdGl2YXRlZEhhbmRsZXJzOiBPYmplY3QsIGFsbG93RW5kQW5pbWF0aW9uOiBib29sZWFuKSB7XG5cbiAgICAgICAgY29uc3Qgd2FzTW92aW5nID0gaXNNb3ZpbmcodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyk7XG4gICAgICAgIGNvbnN0IG5vd01vdmluZyA9IGlzTW92aW5nKG5ld0V2ZW50c0luUHJvZ3Jlc3MpO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0RXZlbnRzID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBldmVudE5hbWUgaW4gbmV3RXZlbnRzSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgY29uc3Qge29yaWdpbmFsRXZlbnR9ID0gbmV3RXZlbnRzSW5Qcm9ncmVzc1tldmVudE5hbWVdO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ldmVudHNJblByb2dyZXNzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgICAgICAgICBzdGFydEV2ZW50c1tgJHtldmVudE5hbWV9c3RhcnRgXSA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ldmVudHNJblByb2dyZXNzW2V2ZW50TmFtZV0gPSBuZXdFdmVudHNJblByb2dyZXNzW2V2ZW50TmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJlIHN0YXJ0IGV2ZW50cyBvbmx5IGFmdGVyIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgICBpZiAoIXdhc01vdmluZyAmJiBub3dNb3ZpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZXN0YXJ0Jywgbm93TW92aW5nLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHN0YXJ0RXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQobmFtZSwgc3RhcnRFdmVudHNbbmFtZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vd01vdmluZykge1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlJywgbm93TW92aW5nLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBldmVudE5hbWUgaW4gbmV3RXZlbnRzSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgY29uc3Qge29yaWdpbmFsRXZlbnR9ID0gbmV3RXZlbnRzSW5Qcm9ncmVzc1tldmVudE5hbWVdO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KGV2ZW50TmFtZSwgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbmRFdmVudHMgPSB7fTtcblxuICAgICAgICBsZXQgb3JpZ2luYWxFbmRFdmVudDtcbiAgICAgICAgZm9yIChjb25zdCBldmVudE5hbWUgaW4gdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgY29uc3Qge2hhbmRsZXJOYW1lLCBvcmlnaW5hbEV2ZW50fSA9IHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZXZlbnROYW1lXTtcbiAgICAgICAgICAgIGlmICghdGhpcy5faGFuZGxlcnNCeUlkW2hhbmRsZXJOYW1lXS5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZXZlbnROYW1lXTtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVuZEV2ZW50ID0gZGVhY3RpdmF0ZWRIYW5kbGVyc1toYW5kbGVyTmFtZV0gfHwgb3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgICAgICBlbmRFdmVudHNbYCR7ZXZlbnROYW1lfWVuZGBdID0gb3JpZ2luYWxFbmRFdmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBlbmRFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudChuYW1lLCBlbmRFdmVudHNbbmFtZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RpbGxNb3ZpbmcgPSBpc01vdmluZyh0aGlzLl9ldmVudHNJblByb2dyZXNzKTtcbiAgICAgICAgaWYgKGFsbG93RW5kQW5pbWF0aW9uICYmICh3YXNNb3ZpbmcgfHwgbm93TW92aW5nKSAmJiAhc3RpbGxNb3ZpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0aW5nQ2FtZXJhID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGluZXJ0aWFsRWFzZSA9IHRoaXMuX2luZXJ0aWEuX29uTW92ZUVuZCh0aGlzLl9tYXAuZHJhZ1Bhbi5faW5lcnRpYU9wdGlvbnMpO1xuXG4gICAgICAgICAgICBjb25zdCBzaG91bGRTbmFwVG9Ob3J0aCA9IGJlYXJpbmcgPT4gYmVhcmluZyAhPT0gMCAmJiAtdGhpcy5fYmVhcmluZ1NuYXAgPCBiZWFyaW5nICYmIGJlYXJpbmcgPCB0aGlzLl9iZWFyaW5nU25hcDtcblxuICAgICAgICAgICAgaWYgKGluZXJ0aWFsRWFzZSkge1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRTbmFwVG9Ob3J0aChpbmVydGlhbEVhc2UuYmVhcmluZyB8fCB0aGlzLl9tYXAuZ2V0QmVhcmluZygpKSkge1xuICAgICAgICAgICAgICAgICAgICBpbmVydGlhbEVhc2UuYmVhcmluZyA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5lYXNlVG8oaW5lcnRpYWxFYXNlLCB7b3JpZ2luYWxFdmVudDogb3JpZ2luYWxFbmRFdmVudH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ21vdmVlbmQnLCB7b3JpZ2luYWxFdmVudDogb3JpZ2luYWxFbmRFdmVudH0pKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU25hcFRvTm9ydGgodGhpcy5fbWFwLmdldEJlYXJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwLnJlc2V0Tm9ydGgoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91cGRhdGluZ0NhbWVyYSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBfZmlyZUV2ZW50KHR5cGU6IHN0cmluZywgZTogYW55KSB7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCh0eXBlLCBlID8ge29yaWdpbmFsRXZlbnQ6IGV9IDoge30pKTtcbiAgICB9XG5cbiAgICBfcmVxdWVzdEZyYW1lKCk6IG51bWJlciB7XG4gICAgICAgIHRoaXMuX21hcC50cmlnZ2VyUmVwYWludCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLl9yZW5kZXJUYXNrUXVldWUuYWRkKHRpbWVTdGFtcCA9PiB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFdmVudChuZXcgUmVuZGVyRnJhbWVFdmVudCgncmVuZGVyRnJhbWUnLCB7dGltZVN0YW1wfSkpO1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlDaGFuZ2VzKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF90cmlnZ2VyUmVuZGVyRnJhbWUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSB0aGlzLl9yZXF1ZXN0RnJhbWUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGFuZGxlck1hbmFnZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIGJpbmRBbGwsXG4gICAgZXh0ZW5kLFxuICAgIHdhcm5PbmNlLFxuICAgIGNsYW1wLFxuICAgIHdyYXAsXG4gICAgZWFzZSBhcyBkZWZhdWx0RWFzaW5nLFxuICAgIHBpY2ssXG4gICAgZGVnVG9SYWRcbn0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7bnVtYmVyIGFzIGludGVycG9sYXRlfSBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvaW50ZXJwb2xhdGUuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyLmpzJztcbmltcG9ydCBMbmdMYXQsIHtlYXJ0aFJhZGl1c30gZnJvbSAnLi4vZ2VvL2xuZ19sYXQuanMnO1xuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuLi9nZW8vbG5nX2xhdF9ib3VuZHMuanMnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHtFdmVudCwgRXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkLmpzJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7RGVidWd9IGZyb20gJy4uL3V0aWwvZGVidWcuanMnO1xuaW1wb3J0IE1lcmNhdG9yQ29vcmRpbmF0ZSwge1xuICAgIG1lcmNhdG9yWmZyb21BbHRpdHVkZSxcbiAgICBtZXJjYXRvclhmcm9tTG5nLFxuICAgIG1lcmNhdG9yWWZyb21MYXQsXG4gICAgbGF0RnJvbU1lcmNhdG9yWSxcbiAgICBsbmdGcm9tTWVyY2F0b3JYXG59IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7XG4gICAgbGF0TG5nVG9FQ0VGLFxuICAgIGVjZWZUb0xhdExuZyxcbiAgICBHTE9CRV9SQURJVVMsXG4gICAgR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYLFxuICAgIEdMT0JFX1pPT01fVEhSRVNIT0xEX01JTlxufSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcbmltcG9ydCB7dmVjMywgdmVjNCwgbWF0NH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB0eXBlIHtGcmVlQ2FtZXJhT3B0aW9uc30gZnJvbSAnLi9mcmVlX2NhbWVyYS5qcyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgdHlwZSB7TG5nTGF0TGlrZX0gZnJvbSAnLi4vZ2VvL2xuZ19sYXQuanMnO1xuaW1wb3J0IHR5cGUge0xuZ0xhdEJvdW5kc0xpa2V9IGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcy5qcyc7XG5pbXBvcnQgdHlwZSB7RWxldmF0aW9uUXVlcnlPcHRpb25zfSBmcm9tICcuLi90ZXJyYWluL2VsZXZhdGlvbi5qcyc7XG5pbXBvcnQgdHlwZSB7VGFza0lEfSBmcm9tICcuLi91dGlsL3Rhc2tfcXVldWUuanMnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjay5qcyc7XG5pbXBvcnQgdHlwZSB7UG9pbnRMaWtlfSBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7QWFiYn0gZnJvbSAnLi4vdXRpbC9wcmltaXRpdmVzLmpzJztcbmltcG9ydCB0eXBlIHtQYWRkaW5nT3B0aW9uc30gZnJvbSAnLi4vZ2VvL2VkZ2VfaW5zZXRzLmpzJztcbmltcG9ydCB0eXBlIHtNYXBFdmVudH0gZnJvbSAnLi9ldmVudHMuanMnO1xuXG4vKipcbiAqIEEgaGVscGVyIHR5cGU6IGNvbnZlcnRzIGFsbCBPYmplY3QgdHlwZSB2YWx1ZXMgdG8gbm9uLW1heWJlIHR5cGVzLlxuICovXG50eXBlIFJlcXVpcmVkPFQ+ID0gJE9iak1hcDxULCA8Vj4odjogVikgPT4gJE5vbk1heWJlVHlwZTxWPj47XG5cbi8qKlxuICogT3B0aW9ucyBjb21tb24gdG8ge0BsaW5rIE1hcCNqdW1wVG99LCB7QGxpbmsgTWFwI2Vhc2VUb30sIGFuZCB7QGxpbmsgTWFwI2ZseVRvfSwgY29udHJvbGxpbmcgdGhlIGRlc2lyZWQgbG9jYXRpb24sXG4gKiB6b29tLCBiZWFyaW5nLCBhbmQgcGl0Y2ggb2YgdGhlIGNhbWVyYS4gQWxsIHByb3BlcnRpZXMgYXJlIG9wdGlvbmFsLCBhbmQgd2hlbiBhIHByb3BlcnR5IGlzIG9taXR0ZWQsIHRoZSBjdXJyZW50XG4gKiBjYW1lcmEgdmFsdWUgZm9yIHRoYXQgcHJvcGVydHkgd2lsbCByZW1haW4gdW5jaGFuZ2VkLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENhbWVyYU9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7TG5nTGF0TGlrZX0gY2VudGVyIFRoZSBsb2NhdGlvbiB0byBwbGFjZSBhdCB0aGUgc2NyZWVuIGNlbnRlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6b29tIFRoZSBkZXNpcmVkIHpvb20gbGV2ZWwuXG4gKiBAcHJvcGVydHkge251bWJlcn0gYmVhcmluZyBUaGUgZGVzaXJlZCBiZWFyaW5nIGluIGRlZ3JlZXMuIFRoZSBiZWFyaW5nIGlzIHRoZSBjb21wYXNzIGRpcmVjdGlvbiB0aGF0XG4gKiBpcyBcInVwXCIuIEZvciBleGFtcGxlLCBgYmVhcmluZzogOTBgIG9yaWVudHMgdGhlIG1hcCBzbyB0aGF0IGVhc3QgaXMgdXAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcGl0Y2ggVGhlIGRlc2lyZWQgcGl0Y2ggaW4gZGVncmVlcy4gVGhlIHBpdGNoIGlzIHRoZSBhbmdsZSB0b3dhcmRzIHRoZSBob3Jpem9uXG4gKiBtZWFzdXJlZCBpbiBkZWdyZWVzIHdpdGggYSByYW5nZSBiZXR3ZWVuIDAgYW5kIDg1IGRlZ3JlZXMuIEZvciBleGFtcGxlLCBwaXRjaDogMCBwcm92aWRlcyB0aGUgYXBwZWFyYW5jZVxuICogb2YgbG9va2luZyBzdHJhaWdodCBkb3duIGF0IHRoZSBtYXAsIHdoaWxlIHBpdGNoOiA2MCB0aWx0cyB0aGUgdXNlcidzIHBlcnNwZWN0aXZlIHRvd2FyZHMgdGhlIGhvcml6b24uXG4gKiBJbmNyZWFzaW5nIHRoZSBwaXRjaCB2YWx1ZSBpcyBvZnRlbiB1c2VkIHRvIGRpc3BsYXkgM0Qgb2JqZWN0cy5cbiAqIEBwcm9wZXJ0eSB7TG5nTGF0TGlrZX0gYXJvdW5kIFRoZSBsb2NhdGlvbiBzZXJ2aW5nIGFzIHRoZSBvcmlnaW4gZm9yIGEgY2hhbmdlIGluIGB6b29tYCwgYHBpdGNoYCBhbmQvb3IgYGJlYXJpbmdgLlxuICogVGhpcyBsb2NhdGlvbiB3aWxsIHJlbWFpbiBhdCB0aGUgc2FtZSBzY3JlZW4gcG9zaXRpb24gZm9sbG93aW5nIHRoZSB0cmFuc2Zvcm0uXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgZHJhd2luZyBhdHRlbnRpb24gdG8gYSBsb2NhdGlvbiB0aGF0IGlzIG5vdCBpbiB0aGUgc2NyZWVuIGNlbnRlci5cbiAqIGBjZW50ZXJgIGlzIGlnbm9yZWQgaWYgYGFyb3VuZGAgaXMgaW5jbHVkZWQuXG4gKiBAcHJvcGVydHkge1BhZGRpbmdPcHRpb25zfSBwYWRkaW5nIERpbWVuc2lvbnMgaW4gcGl4ZWxzIGFwcGxpZWQgb24gZWFjaCBzaWRlIG9mIHRoZSB2aWV3cG9ydCBmb3Igc2hpZnRpbmcgdGhlIHZhbmlzaGluZyBwb2ludC5cbiAqIEBleGFtcGxlXG4gKiAvLyBzZXQgdGhlIG1hcCdzIGluaXRpYWwgcGVyc3BlY3RpdmUgd2l0aCBDYW1lcmFPcHRpb25zXG4gKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHtcbiAqICAgICBjb250YWluZXI6ICdtYXAnLFxuICogICAgIHN0eWxlOiAnbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXYxMScsXG4gKiAgICAgY2VudGVyOiBbLTczLjU4MDQsIDQ1LjUzNDgzXSxcbiAqICAgICBwaXRjaDogNjAsXG4gKiAgICAgYmVhcmluZzogLTYwLFxuICogICAgIHpvb206IDEwXG4gKiB9KTtcbiAqIEBzZWUgW0V4YW1wbGU6IFNldCBwaXRjaCBhbmQgYmVhcmluZ10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2V0LXBlcnNwZWN0aXZlLylcbiAqIEBzZWUgW0V4YW1wbGU6IEp1bXAgdG8gYSBzZXJpZXMgb2YgbG9jYXRpb25zXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9qdW1wLXRvLylcbiAqIEBzZWUgW0V4YW1wbGU6IEZseSB0byBhIGxvY2F0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mbHl0by8pXG4gKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGJ1aWxkaW5ncyBpbiAzRF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvM2QtYnVpbGRpbmdzLylcbiAqL1xuZXhwb3J0IHR5cGUgQ2FtZXJhT3B0aW9ucyA9IHtcbiAgICBjZW50ZXI/OiBMbmdMYXRMaWtlLFxuICAgIHpvb20/OiBudW1iZXIsXG4gICAgYmVhcmluZz86IG51bWJlcixcbiAgICBwaXRjaD86IG51bWJlcixcbiAgICBhcm91bmQ/OiBMbmdMYXRMaWtlLFxuICAgIHBhZGRpbmc/OiBQYWRkaW5nT3B0aW9ucyxcbiAgICBvZmZzZXQ/OiBQb2ludExpa2Vcbn07XG5cbmV4cG9ydCB0eXBlIEZ1bGxDYW1lcmFPcHRpb25zID0ge1xuICAgIG1heFpvb206IG51bWJlcixcbiAgICBvZmZzZXQ6IFBvaW50TGlrZSxcbiAgICBwYWRkaW5nOiBSZXF1aXJlZDxQYWRkaW5nT3B0aW9ucz5cbn0gJiBDYW1lcmFPcHRpb25zXG5cbi8qKlxuICogT3B0aW9ucyBjb21tb24gdG8gbWFwIG1vdmVtZW50IG1ldGhvZHMgdGhhdCBpbnZvbHZlIGFuaW1hdGlvbiwgc3VjaCBhcyB7QGxpbmsgTWFwI3BhbkJ5fSBhbmRcbiAqIHtAbGluayBNYXAjZWFzZVRvfSwgY29udHJvbGxpbmcgdGhlIGR1cmF0aW9uIGFuZCBlYXNpbmcgZnVuY3Rpb24gb2YgdGhlIGFuaW1hdGlvbi4gQWxsIHByb3BlcnRpZXNcbiAqIGFyZSBvcHRpb25hbC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmltYXRpb25PcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb24gVGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLCBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBlYXNpbmcgQSBmdW5jdGlvbiB0YWtpbmcgYSB0aW1lIGluIHRoZSByYW5nZSAwLi4xIGFuZCByZXR1cm5pbmcgYSBudW1iZXIgd2hlcmUgMCBpc1xuICogICB0aGUgaW5pdGlhbCBzdGF0ZSBhbmQgMSBpcyB0aGUgZmluYWwgc3RhdGUuXG4gKiBAcHJvcGVydHkge1BvaW50TGlrZX0gb2Zmc2V0IFRoZSB0YXJnZXQgY2VudGVyJ3Mgb2Zmc2V0IHJlbGF0aXZlIHRvIHJlYWwgbWFwIGNvbnRhaW5lciBjZW50ZXIgYXQgdGhlIGVuZCBvZiBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGUgSWYgYGZhbHNlYCwgbm8gYW5pbWF0aW9uIHdpbGwgb2NjdXIuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGVzc2VudGlhbCBJZiBgdHJ1ZWAsIHRoZW4gdGhlIGFuaW1hdGlvbiBpcyBjb25zaWRlcmVkIGVzc2VudGlhbCBhbmQgd2lsbCBub3QgYmUgYWZmZWN0ZWQgYnlcbiAqICAgW2BwcmVmZXJzLXJlZHVjZWQtbW90aW9uYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0BtZWRpYS9wcmVmZXJzLXJlZHVjZWQtbW90aW9uKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlbG9hZE9ubHkgSWYgYHRydWVgLCBpdCB3aWxsIHRyaWdnZXIgdGlsZXMgbG9hZGluZyBhY3Jvc3MgdGhlIGFuaW1hdGlvbiBwYXRoLCBidXQgbm8gYW5pbWF0aW9uIHdpbGwgb2NjdXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gY3VydmUgVGhlIHpvb21pbmcgXCJjdXJ2ZVwiIHRoYXQgd2lsbCBvY2N1ciBhbG9uZyB0aGVcbiAqICAgICBmbGlnaHQgcGF0aC4gQSBoaWdoIHZhbHVlIG1heGltaXplcyB6b29taW5nIGZvciBhbiBleGFnZ2VyYXRlZCBhbmltYXRpb24sIHdoaWxlIGEgbG93XG4gKiAgICAgdmFsdWUgbWluaW1pemVzIHpvb21pbmcgZm9yIGFuIGVmZmVjdCBjbG9zZXIgdG8ge0BsaW5rIE1hcCNlYXNlVG99LiAxLjQyIGlzIHRoZSBhdmVyYWdlXG4gKiAgICAgdmFsdWUgc2VsZWN0ZWQgYnkgcGFydGljaXBhbnRzIGluIHRoZSB1c2VyIHN0dWR5IGRpc2N1c3NlZCBpblxuICogICAgIFt2YW4gV2lqayAoMjAwMyldKGh0dHBzOi8vd3d3Lndpbi50dWUubmwvfnZhbndpamsvem9vbXBhbi5wZGYpLiBBIHZhbHVlIG9mXG4gKiAgICAgYE1hdGgucG93KDYsIDAuMjUpYCB3b3VsZCBiZSBlcXVpdmFsZW50IHRvIHRoZSByb290IG1lYW4gc3F1YXJlZCBhdmVyYWdlIHZlbG9jaXR5LiBBXG4gKiAgICAgdmFsdWUgb2YgMSB3b3VsZCBwcm9kdWNlIGEgY2lyY3VsYXIgbW90aW9uLiBJZiBgbWluWm9vbWAgaXMgc3BlY2lmaWVkLCB0aGlzIG9wdGlvbiB3aWxsIGJlIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWm9vbSBUaGUgemVyby1iYXNlZCB6b29tIGxldmVsIGF0IHRoZSBwZWFrIG9mIHRoZSBmbGlnaHQgcGF0aC4gSWZcbiAqICAgICB0aGlzIG9wdGlvbiBpcyBzcGVjaWZpZWQsIGBjdXJ2ZWAgd2lsbCBiZSBpZ25vcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNwZWVkIFRoZSBhdmVyYWdlIHNwZWVkIG9mIHRoZSBhbmltYXRpb24gZGVmaW5lZCBpbiByZWxhdGlvbiB0b1xuICogICAgIGBjdXJ2ZWAuIEEgc3BlZWQgb2YgMS4yIG1lYW5zIHRoYXQgdGhlIG1hcCBhcHBlYXJzIHRvIG1vdmUgYWxvbmcgdGhlIGZsaWdodCBwYXRoXG4gKiAgICAgYnkgMS4yIHRpbWVzIGBjdXJ2ZWAgc2NyZWVuZnVscyBldmVyeSBzZWNvbmQuIEEgX3NjcmVlbmZ1bF8gaXMgdGhlIG1hcCdzIHZpc2libGUgc3Bhbi5cbiAqICAgICBJdCBkb2VzIG5vdCBjb3JyZXNwb25kIHRvIGEgZml4ZWQgcGh5c2ljYWwgZGlzdGFuY2UsIGJ1dCB2YXJpZXMgYnkgem9vbSBsZXZlbC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzY3JlZW5TcGVlZCBUaGUgYXZlcmFnZSBzcGVlZCBvZiB0aGUgYW5pbWF0aW9uIG1lYXN1cmVkIGluIHNjcmVlbmZ1bHNcbiAqICAgICBwZXIgc2Vjb25kLCBhc3N1bWluZyBhIGxpbmVhciB0aW1pbmcgY3VydmUuIElmIGBzcGVlZGAgaXMgc3BlY2lmaWVkLCB0aGlzIG9wdGlvbiBpcyBpZ25vcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heER1cmF0aW9uIFRoZSBhbmltYXRpb24ncyBtYXhpbXVtIGR1cmF0aW9uLCBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMuXG4gKiAgICAgSWYgZHVyYXRpb24gZXhjZWVkcyBtYXhpbXVtIGR1cmF0aW9uLCBpdCByZXNldHMgdG8gMC5cbiAqIEBzZWUgW0V4YW1wbGU6IFNsb3dseSBmbHkgdG8gYSBsb2NhdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmx5dG8tb3B0aW9ucy8pXG4gKiBAc2VlIFtFeGFtcGxlOiBDdXN0b21pemUgY2FtZXJhIGFuaW1hdGlvbnNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NhbWVyYS1hbmltYXRpb24vKVxuICogQHNlZSBbRXhhbXBsZTogTmF2aWdhdGUgdGhlIG1hcCB3aXRoIGdhbWUtbGlrZSBjb250cm9sc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2FtZS1jb250cm9scy8pXG4qL1xuZXhwb3J0IHR5cGUgQW5pbWF0aW9uT3B0aW9ucyA9IHtcbiAgICBkdXJhdGlvbj86IG51bWJlcixcbiAgICBlYXNpbmc/OiAoXzogbnVtYmVyKSA9PiBudW1iZXIsXG4gICAgb2Zmc2V0PzogUG9pbnRMaWtlLFxuICAgIGFuaW1hdGU/OiBib29sZWFuLFxuICAgIGVzc2VudGlhbD86IGJvb2xlYW4sXG4gICAgcHJlbG9hZE9ubHk/OiBib29sZWFuXG59O1xuXG5leHBvcnQgdHlwZSBFYXNpbmdPcHRpb25zID0gQ2FtZXJhT3B0aW9ucyAmIEFuaW1hdGlvbk9wdGlvbnM7XG5cbmV4cG9ydCB0eXBlIEVsZXZhdGlvbkJveFJheWNhc3QgPSB7XG4gICAgbWluTG5nTGF0OiBMbmdMYXQsXG4gICAgbWF4TG5nTGF0OiBMbmdMYXQsXG4gICAgbWluQWx0aXR1ZGU6IG51bWJlcixcbiAgICBtYXhBbHRpdHVkZTogbnVtYmVyXG59O1xuXG5jb25zdCBmcmVlQ2FtZXJhTm90U3VwcG9ydGVkV2FybmluZyA9ICdtYXAuc2V0RnJlZUNhbWVyYU9wdGlvbnMoLi4uKSBhbmQgbWFwLmdldEZyZWVDYW1lcmFPcHRpb25zKCkgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkIGZvciBub24tbWVyY2F0b3IgcHJvamVjdGlvbnMuJztcblxuLyoqXG4gKiBPcHRpb25zIGZvciBzZXR0aW5nIHBhZGRpbmcgb24gY2FsbHMgdG8gbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZml0Qm91bmRzfSwge0BsaW5rIE1hcCNmaXRTY3JlZW5Db29yZGluYXRlc30sIGFuZCB7QGxpbmsgTWFwI3NldFBhZGRpbmd9LiBBZGp1c3QgdGhlc2Ugb3B0aW9ucyB0byBzZXQgdGhlIGFtb3VudCBvZiBwYWRkaW5nIGluIHBpeGVscyBhZGRlZCB0byB0aGUgZWRnZXMgb2YgdGhlIGNhbnZhcy4gU2V0IGEgdW5pZm9ybSBwYWRkaW5nIG9uIGFsbCBlZGdlcyBvciBpbmRpdmlkdWFsIHZhbHVlcyBmb3IgZWFjaCBlZGdlLiBBbGwgcHJvcGVydGllcyBvZiB0aGlzIG9iamVjdCBtdXN0IGJlXG4gKiBub24tbmVnYXRpdmUgaW50ZWdlcnMuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gUGFkZGluZ09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0b3AgUGFkZGluZyBpbiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIHRoZSBtYXAgY2FudmFzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGJvdHRvbSBQYWRkaW5nIGluIHBpeGVscyBmcm9tIHRoZSBib3R0b20gb2YgdGhlIG1hcCBjYW52YXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGVmdCBQYWRkaW5nIGluIHBpeGVscyBmcm9tIHRoZSBsZWZ0IG9mIHRoZSBtYXAgY2FudmFzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJpZ2h0IFBhZGRpbmcgaW4gcGl4ZWxzIGZyb20gdGhlIHJpZ2h0IG9mIHRoZSBtYXAgY2FudmFzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBiYm94ID0gW1stNzksIDQzXSwgWy03MywgNDVdXTtcbiAqIG1hcC5maXRCb3VuZHMoYmJveCwge1xuICogICAgIHBhZGRpbmc6IHt0b3A6IDEwLCBib3R0b206MjUsIGxlZnQ6IDE1LCByaWdodDogNX1cbiAqIH0pO1xuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBiYm94ID0gW1stNzksIDQzXSwgWy03MywgNDVdXTtcbiAqIG1hcC5maXRCb3VuZHMoYmJveCwge1xuICogICAgIHBhZGRpbmc6IDIwXG4gKiB9KTtcbiAqIEBzZWUgW0V4YW1wbGU6IEZpdCB0byB0aGUgYm91bmRzIG9mIGEgTGluZVN0cmluZ10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvem9vbXRvLWxpbmVzdHJpbmcvKVxuICogQHNlZSBbRXhhbXBsZTogRml0IGEgbWFwIHRvIGEgYm91bmRpbmcgYm94XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9maXRib3VuZHMvKVxuICovXG5cbmNsYXNzIENhbWVyYSBleHRlbmRzIEV2ZW50ZWQge1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIF9tb3Zpbmc6IGJvb2xlYW47XG4gICAgX3pvb21pbmc6IGJvb2xlYW47XG4gICAgX3JvdGF0aW5nOiBib29sZWFuO1xuICAgIF9waXRjaGluZzogYm9vbGVhbjtcbiAgICBfcGFkZGluZzogYm9vbGVhbjtcblxuICAgIF9iZWFyaW5nU25hcDogbnVtYmVyO1xuICAgIF9lYXNlU3RhcnQ6IG51bWJlcjtcbiAgICBfZWFzZU9wdGlvbnM6IHtkdXJhdGlvbjogbnVtYmVyLCBlYXNpbmc6IChfOiBudW1iZXIpID0+IG51bWJlcn07XG4gICAgX2Vhc2VJZDogc3RyaW5nIHwgdm9pZDtcblxuICAgIF9vbkVhc2VGcmFtZTogPyhfOiBudW1iZXIpID0+IFRyYW5zZm9ybSB8IHZvaWQ7XG4gICAgX29uRWFzZUVuZDogPyhlYXNlSWQ/OiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgX2Vhc2VGcmFtZUlkOiA/VGFza0lEO1xuXG4gICAgK19yZXF1ZXN0UmVuZGVyRnJhbWU6ICgoKSA9PiB2b2lkKSA9PiBUYXNrSUQ7XG4gICAgK19jYW5jZWxSZW5kZXJGcmFtZTogKF86IFRhc2tJRCkgPT4gdm9pZDtcblxuICAgICtfcHJlbG9hZFRpbGVzOiAodHJhbnNmb3JtOiBUcmFuc2Zvcm0gfCBBcnJheTxUcmFuc2Zvcm0+LCBjYWxsYmFjaz86IENhbGxiYWNrPGFueT4pID0+IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogVHJhbnNmb3JtLCBvcHRpb25zOiB7YmVhcmluZ1NuYXA6IG51bWJlcn0pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fbW92aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3pvb21pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuX2JlYXJpbmdTbmFwID0gb3B0aW9ucy5iZWFyaW5nU25hcDtcblxuICAgICAgICBiaW5kQWxsKFsnX3JlbmRlckZyYW1lQ2FsbGJhY2snXSwgdGhpcyk7XG5cbiAgICAgICAgLy9hZGRBc3NlcnRpb25zKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKiBAc2VjdGlvbiB7Q2FtZXJhfVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwICovXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBnZW9ncmFwaGljYWwgY2VudGVycG9pbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IFRoZSBtYXAncyBnZW9ncmFwaGljYWwgY2VudGVycG9pbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSZXR1cm4gYSBMbmdMYXQgb2JqZWN0IHN1Y2ggYXMge2xuZzogMCwgbGF0OiAwfS5cbiAgICAgKiBjb25zdCBjZW50ZXIgPSBtYXAuZ2V0Q2VudGVyKCk7XG4gICAgICogLy8gQWNjZXNzIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgdmFsdWVzIGRpcmVjdGx5LlxuICAgICAqIGNvbnN0IHtsbmcsIGxhdH0gPSBtYXAuZ2V0Q2VudGVyKCk7XG4gICAgICogQHNlZSBbVHV0b3JpYWw6IFVzZSBNYXBib3ggR0wgSlMgaW4gYSBSZWFjdCBhcHBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvdHV0b3JpYWxzL3VzZS1tYXBib3gtZ2wtanMtd2l0aC1yZWFjdC8jc3RvcmUtdGhlLW5ldy1jb29yZGluYXRlcylcbiAgICAgKi9cbiAgICBnZXRDZW50ZXIoKTogTG5nTGF0IHsgcmV0dXJuIG5ldyBMbmdMYXQodGhpcy50cmFuc2Zvcm0uY2VudGVyLmxuZywgdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCk7IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBjZW50ZXJwb2ludC4gRXF1aXZhbGVudCB0byBganVtcFRvKHtjZW50ZXI6IGNlbnRlcn0pYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBjZW50ZXIgVGhlIGNlbnRlcnBvaW50IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRDZW50ZXIoWy03NCwgMzhdKTtcbiAgICAgKi9cbiAgICBzZXRDZW50ZXIoY2VudGVyOiBMbmdMYXRMaWtlLCBldmVudERhdGE/OiBPYmplY3QpOiB0aGlzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuanVtcFRvKHtjZW50ZXJ9LCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhbnMgdGhlIG1hcCBieSB0aGUgc3BlY2lmaWVkIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IG9mZnNldCBUaGUgYHhgIGFuZCBgeWAgY29vcmRpbmF0ZXMgYnkgd2hpY2ggdG8gcGFuIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtBbmltYXRpb25PcHRpb25zIHwgbnVsbH0gb3B0aW9ucyBBbiBvcHRpb25zIG9iamVjdCBkZXNjcmliaW5nIHRoZSBkZXN0aW5hdGlvbiBhbmQgYW5pbWF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uLiBXZSBkbyBub3QgcmVjb21tZW5kIHVzaW5nIGBvcHRpb25zLm9mZnNldGAgc2luY2UgdGhpcyB2YWx1ZSB3aWxsIG92ZXJyaWRlIHRoZSB2YWx1ZSBvZiB0aGUgYG9mZnNldGAgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2AgUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5wYW5CeShbLTc0LCAzOF0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gcGFuQnkgd2l0aCBhbiBhbmltYXRpb24gb2YgNSBzZWNvbmRzLlxuICAgICAqIG1hcC5wYW5CeShbLTc0LCAzOF0sIHtkdXJhdGlvbjogNTAwMH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IE5hdmlnYXRlIHRoZSBtYXAgd2l0aCBnYW1lLWxpa2UgY29udHJvbHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2FtZS1jb250cm9scy8pXG4gICAgICovXG4gICAgcGFuQnkob2Zmc2V0OiBQb2ludExpa2UsIG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpOiB0aGlzIHtcbiAgICAgICAgb2Zmc2V0ID0gUG9pbnQuY29udmVydChvZmZzZXQpLm11bHQoLTEpO1xuICAgICAgICByZXR1cm4gdGhpcy5wYW5Ubyh0aGlzLnRyYW5zZm9ybS5jZW50ZXIsIGV4dGVuZCh7b2Zmc2V0fSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFucyB0aGUgbWFwIHRvIHRoZSBzcGVjaWZpZWQgbG9jYXRpb24gd2l0aCBhbiBhbmltYXRlZCB0cmFuc2l0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdExpa2V9IGxuZ2xhdCBUaGUgbG9jYXRpb24gdG8gcGFuIHRoZSBtYXAgdG8uXG4gICAgICogQHBhcmFtIHtBbmltYXRpb25PcHRpb25zIHwgbnVsbH0gb3B0aW9ucyBPcHRpb25zIGRlc2NyaWJpbmcgdGhlIGRlc3RpbmF0aW9uIGFuZCBhbmltYXRpb24gb2YgdGhlIHRyYW5zaXRpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAucGFuVG8oWy03NCwgMzhdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNwZWNpZnkgdGhhdCB0aGUgcGFuVG8gYW5pbWF0aW9uIHNob3VsZCBsYXN0IDUwMDAgbWlsbGlzZWNvbmRzLlxuICAgICAqIG1hcC5wYW5UbyhbLTc0LCAzOF0sIHtkdXJhdGlvbjogNTAwMH0pO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IFVwZGF0ZSBhIGZlYXR1cmUgaW4gcmVhbHRpbWVdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtdXBkYXRlLWZlYXR1cmUvKVxuICAgICAqL1xuICAgIHBhblRvKGxuZ2xhdDogTG5nTGF0TGlrZSwgb3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICByZXR1cm4gdGhpcy5lYXNlVG8oZXh0ZW5kKHtcbiAgICAgICAgICAgIGNlbnRlcjogbG5nbGF0XG4gICAgICAgIH0sIG9wdGlvbnMpLCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMge251bWJlcn0gVGhlIG1hcCdzIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5nZXRab29tKCk7XG4gICAgICovXG4gICAgZ2V0Wm9vbSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0uem9vbTsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwJ3Mgem9vbSBsZXZlbC4gRXF1aXZhbGVudCB0byBganVtcFRvKHt6b29tOiB6b29tfSlgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBUaGUgem9vbSBsZXZlbCB0byBzZXQgKDAtMjApLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Onpvb21zdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZWVuZFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBab29tIHRvIHRoZSB6b29tIGxldmVsIDUgd2l0aG91dCBhbiBhbmltYXRlZCB0cmFuc2l0aW9uXG4gICAgICogbWFwLnNldFpvb20oNSk7XG4gICAgICovXG4gICAgc2V0Wm9vbSh6b29tOiBudW1iZXIsIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLmp1bXBUbyh7em9vbX0sIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFpvb21zIHRoZSBtYXAgdG8gdGhlIHNwZWNpZmllZCB6b29tIGxldmVsLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFRoZSB6b29tIGxldmVsIHRvIHRyYW5zaXRpb24gdG8uXG4gICAgICogQHBhcmFtIHtBbmltYXRpb25PcHRpb25zIHwgbnVsbH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Onpvb21cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Onpvb21lbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gWm9vbSB0byB0aGUgem9vbSBsZXZlbCA1IHdpdGhvdXQgYW4gYW5pbWF0ZWQgdHJhbnNpdGlvblxuICAgICAqIG1hcC56b29tVG8oNSk7XG4gICAgICogLy8gWm9vbSB0byB0aGUgem9vbSBsZXZlbCA4IHdpdGggYW4gYW5pbWF0ZWQgdHJhbnNpdGlvblxuICAgICAqIG1hcC56b29tVG8oOCwge1xuICAgICAqICAgICBkdXJhdGlvbjogMjAwMCxcbiAgICAgKiAgICAgb2Zmc2V0OiBbMTAwLCA1MF1cbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB6b29tVG8oem9vbTogbnVtYmVyLCBvcHRpb25zOiA/IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICByZXR1cm4gdGhpcy5lYXNlVG8oZXh0ZW5kKHtcbiAgICAgICAgICAgIHpvb21cbiAgICAgICAgfSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5jcmVhc2VzIHRoZSBtYXAncyB6b29tIGxldmVsIGJ5IDEuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7QW5pbWF0aW9uT3B0aW9ucyB8IG51bGx9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tZW5kXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHpvb20gdGhlIG1hcCBpbiBvbmUgbGV2ZWwgd2l0aCBhIGN1c3RvbSBhbmltYXRpb24gZHVyYXRpb25cbiAgICAgKiBtYXAuem9vbUluKHtkdXJhdGlvbjogMTAwMH0pO1xuICAgICAqL1xuICAgIHpvb21JbihvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpICsgMSwgb3B0aW9ucywgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVjcmVhc2VzIHRoZSBtYXAncyB6b29tIGxldmVsIGJ5IDEuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7QW5pbWF0aW9uT3B0aW9ucyB8IG51bGx9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tZW5kXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHpvb20gdGhlIG1hcCBvdXQgb25lIGxldmVsIHdpdGggYSBjdXN0b20gYW5pbWF0aW9uIG9mZnNldFxuICAgICAqIG1hcC56b29tT3V0KHtvZmZzZXQ6IFs4MCwgNjBdfSk7XG4gICAgICovXG4gICAgem9vbU91dChvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpIC0gMSwgb3B0aW9ucywgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgY3VycmVudCBiZWFyaW5nLiBUaGUgYmVhcmluZyBpcyB0aGUgY29tcGFzcyBkaXJlY3Rpb24gdGhhdCBpcyBcInVwXCI7IGZvciBleGFtcGxlLCBhIGJlYXJpbmdcbiAgICAgKiBvZiA5MMKwIG9yaWVudHMgdGhlIG1hcCBzbyB0aGF0IGVhc3QgaXMgdXAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBtYXAncyBjdXJyZW50IGJlYXJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBiZWFyaW5nID0gbWFwLmdldEJlYXJpbmcoKTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBOYXZpZ2F0ZSB0aGUgbWFwIHdpdGggZ2FtZS1saWtlIGNvbnRyb2xzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dhbWUtY29udHJvbHMvKVxuICAgICAqL1xuICAgIGdldEJlYXJpbmcoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmJlYXJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwJ3MgYmVhcmluZyAocm90YXRpb24pLiBUaGUgYmVhcmluZyBpcyB0aGUgY29tcGFzcyBkaXJlY3Rpb24gdGhhdCBpcyBcInVwXCI7IGZvciBleGFtcGxlLCBhIGJlYXJpbmdcbiAgICAgKiBvZiA5MMKwIG9yaWVudHMgdGhlIG1hcCBzbyB0aGF0IGVhc3QgaXMgdXAuXG4gICAgICpcbiAgICAgKiBFcXVpdmFsZW50IHRvIGBqdW1wVG8oe2JlYXJpbmc6IGJlYXJpbmd9KWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWFyaW5nIFRoZSBkZXNpcmVkIGJlYXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSb3RhdGUgdGhlIG1hcCB0byA5MCBkZWdyZWVzLlxuICAgICAqIG1hcC5zZXRCZWFyaW5nKDkwKTtcbiAgICAgKi9cbiAgICBzZXRCZWFyaW5nKGJlYXJpbmc6IG51bWJlciwgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIHRoaXMuanVtcFRvKHtiZWFyaW5nfSwgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBwYWRkaW5nIGFwcGxpZWQgYXJvdW5kIHRoZSBtYXAgdmlld3BvcnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIHtQYWRkaW5nT3B0aW9uc30gVGhlIGN1cnJlbnQgcGFkZGluZyBhcm91bmQgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBhZGRpbmcgPSBtYXAuZ2V0UGFkZGluZygpO1xuICAgICAqL1xuICAgIGdldFBhZGRpbmcoKTogUGFkZGluZ09wdGlvbnMgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGFkZGluZzsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcGFkZGluZyBpbiBwaXhlbHMgYXJvdW5kIHRoZSB2aWV3cG9ydC5cbiAgICAgKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gYGp1bXBUbyh7cGFkZGluZzogcGFkZGluZ30pYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtQYWRkaW5nT3B0aW9uc30gcGFkZGluZyBUaGUgZGVzaXJlZCBwYWRkaW5nLiBGb3JtYXQ6IHtsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIHRvcDogbnVtYmVyLCBib3R0b206IG51bWJlcn0uXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTZXRzIGEgbGVmdCBwYWRkaW5nIG9mIDMwMHB4LCBhbmQgYSB0b3AgcGFkZGluZyBvZiA1MHB4XG4gICAgICogbWFwLnNldFBhZGRpbmcoe2xlZnQ6IDMwMCwgdG9wOiA1MH0pO1xuICAgICAqL1xuICAgIHNldFBhZGRpbmcocGFkZGluZzogUGFkZGluZ09wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLmp1bXBUbyh7cGFkZGluZ30sIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhlIG1hcCB0byB0aGUgc3BlY2lmaWVkIGJlYXJpbmcsIHdpdGggYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbi4gVGhlIGJlYXJpbmcgaXMgdGhlIGNvbXBhc3MgZGlyZWN0aW9uXG4gICAgICogdGhhdCBpcyBcXFwidXBcXFwiOyBmb3IgZXhhbXBsZSwgYSBiZWFyaW5nIG9mIDkwwrAgb3JpZW50cyB0aGUgbWFwIHNvIHRoYXQgZWFzdCBpcyB1cC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgVGhlIGRlc2lyZWQgYmVhcmluZy5cbiAgICAgKiBAcGFyYW0ge0Vhc2luZ09wdGlvbnMgfCBudWxsfSBvcHRpb25zIE9wdGlvbnMgZGVzY3JpYmluZyB0aGUgZGVzdGluYXRpb24gYW5kIGFuaW1hdGlvbiBvZiB0aGUgdHJhbnNpdGlvbi5cbiAgICAgKiAgICAgICAgICAgIEFjY2VwdHMge0BsaW5rIENhbWVyYU9wdGlvbnN9IGFuZCB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30uXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAucm90YXRlVG8oMzApO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gcm90YXRlVG8gd2l0aCBhbiBhbmltYXRpb24gb2YgMiBzZWNvbmRzLlxuICAgICAqIG1hcC5yb3RhdGVUbygzMCwge2R1cmF0aW9uOiAyMDAwfSk7XG4gICAgICovXG4gICAgcm90YXRlVG8oYmVhcmluZzogbnVtYmVyLCBvcHRpb25zPzogRWFzaW5nT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhc2VUbyhleHRlbmQoe1xuICAgICAgICAgICAgYmVhcmluZ1xuICAgICAgICB9LCBvcHRpb25zKSwgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSBtYXAgc28gdGhhdCBub3J0aCBpcyB1cCAoMMKwIGJlYXJpbmcpLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7RWFzaW5nT3B0aW9ucyB8IG51bGx9IG9wdGlvbnMgT3B0aW9ucyBkZXNjcmliaW5nIHRoZSBkZXN0aW5hdGlvbiBhbmQgYW5pbWF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uLlxuICAgICAqICAgICAgICAgICAgQWNjZXB0cyB7QGxpbmsgQ2FtZXJhT3B0aW9uc30gYW5kIHtAbGluayBBbmltYXRpb25PcHRpb25zfS5cbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHJlc2V0Tm9ydGggd2l0aCBhbiBhbmltYXRpb24gb2YgMiBzZWNvbmRzLlxuICAgICAqIG1hcC5yZXNldE5vcnRoKHtkdXJhdGlvbjogMjAwMH0pO1xuICAgICAqL1xuICAgIHJlc2V0Tm9ydGgob3B0aW9ucz86IEVhc2luZ09wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLnJvdGF0ZVRvKDAsIGV4dGVuZCh7ZHVyYXRpb246IDEwMDB9LCBvcHRpb25zKSwgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUm90YXRlcyBhbmQgcGl0Y2hlcyB0aGUgbWFwIHNvIHRoYXQgbm9ydGggaXMgdXAgKDDCsCBiZWFyaW5nKSBhbmQgcGl0Y2ggaXMgMMKwLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7RWFzaW5nT3B0aW9ucyB8IG51bGx9IG9wdGlvbnMgT3B0aW9ucyBkZXNjcmliaW5nIHRoZSBkZXN0aW5hdGlvbiBhbmQgYW5pbWF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uLlxuICAgICAqICAgICAgICAgICAgQWNjZXB0cyB7QGxpbmsgQ2FtZXJhT3B0aW9uc30gYW5kIHtAbGluayBBbmltYXRpb25PcHRpb25zfS5cbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHJlc2V0Tm9ydGhQaXRjaCB3aXRoIGFuIGFuaW1hdGlvbiBvZiAyIHNlY29uZHMuXG4gICAgICogbWFwLnJlc2V0Tm9ydGhQaXRjaCh7ZHVyYXRpb246IDIwMDB9KTtcbiAgICAgKi9cbiAgICByZXNldE5vcnRoUGl0Y2gob3B0aW9ucz86IEVhc2luZ09wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLmVhc2VUbyhleHRlbmQoe1xuICAgICAgICAgICAgYmVhcmluZzogMCxcbiAgICAgICAgICAgIHBpdGNoOiAwLFxuICAgICAgICAgICAgZHVyYXRpb246IDEwMDBcbiAgICAgICAgfSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNuYXBzIHRoZSBtYXAgc28gdGhhdCBub3J0aCBpcyB1cCAoMMKwIGJlYXJpbmcpLCBpZiB0aGUgY3VycmVudCBiZWFyaW5nIGlzXG4gICAgICogY2xvc2UgZW5vdWdoIHRvIGl0ICh3aXRoaW4gdGhlIGBiZWFyaW5nU25hcGAgdGhyZXNob2xkKS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtFYXNpbmdPcHRpb25zIHwgbnVsbH0gb3B0aW9ucyBPcHRpb25zIGRlc2NyaWJpbmcgdGhlIGRlc3RpbmF0aW9uIGFuZCBhbmltYXRpb24gb2YgdGhlIHRyYW5zaXRpb24uXG4gICAgICogICAgICAgICAgICBBY2NlcHRzIHtAbGluayBDYW1lcmFPcHRpb25zfSBhbmQge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gc25hcFRvTm9ydGggd2l0aCBhbiBhbmltYXRpb24gb2YgMiBzZWNvbmRzLlxuICAgICAqIG1hcC5zbmFwVG9Ob3J0aCh7ZHVyYXRpb246IDIwMDB9KTtcbiAgICAgKi9cbiAgICBzbmFwVG9Ob3J0aChvcHRpb25zPzogRWFzaW5nT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmdldEJlYXJpbmcoKSkgPCB0aGlzLl9iZWFyaW5nU25hcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzZXROb3J0aChvcHRpb25zLCBldmVudERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGN1cnJlbnQgW3BpdGNoXShodHRwczovL2RvY3MubWFwYm94LmNvbS9oZWxwL2dsb3NzYXJ5L2NhbWVyYS8pICh0aWx0KS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMge251bWJlcn0gVGhlIG1hcCdzIGN1cnJlbnQgcGl0Y2gsIG1lYXN1cmVkIGluIGRlZ3JlZXMgYXdheSBmcm9tIHRoZSBwbGFuZSBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgcGl0Y2ggPSBtYXAuZ2V0UGl0Y2goKTtcbiAgICAgKi9cbiAgICBnZXRQaXRjaCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl0Y2g7IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCdzIFtwaXRjaF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9jYW1lcmEvKSAodGlsdCkuIEVxdWl2YWxlbnQgdG8gYGp1bXBUbyh7cGl0Y2g6IHBpdGNofSlgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl0Y2ggVGhlIHBpdGNoIHRvIHNldCwgbWVhc3VyZWQgaW4gZGVncmVlcyBhd2F5IGZyb20gdGhlIHBsYW5lIG9mIHRoZSBzY3JlZW4gKDAtNjApLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpwaXRjaHN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gc2V0UGl0Y2ggd2l0aCBhbiBhbmltYXRpb24gb2YgMiBzZWNvbmRzLlxuICAgICAqIG1hcC5zZXRQaXRjaCg4MCwge2R1cmF0aW9uOiAyMDAwfSk7XG4gICAgICovXG4gICAgc2V0UGl0Y2gocGl0Y2g6IG51bWJlciwgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIHRoaXMuanVtcFRvKHtwaXRjaH0sIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB7QGxpbmsgQ2FtZXJhT3B0aW9uc30gb2JqZWN0IGZvciB0aGUgaGlnaGVzdCB6b29tIGxldmVsXG4gICAgICogdXAgdG8gYW5kIGluY2x1ZGluZyBgTWFwI2dldE1heFpvb20oKWAgdGhhdCBmaXRzIHRoZSBib3VuZHNcbiAgICAgKiBpbiB0aGUgdmlld3BvcnQgYXQgdGhlIHNwZWNpZmllZCBiZWFyaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdEJvdW5kc0xpa2V9IGJvdW5kcyBDYWxjdWxhdGUgdGhlIGNlbnRlciBmb3IgdGhlc2UgYm91bmRzIGluIHRoZSB2aWV3cG9ydCBhbmQgdXNlXG4gICAgICogICAgICB0aGUgaGlnaGVzdCB6b29tIGxldmVsIHVwIHRvIGFuZCBpbmNsdWRpbmcgYE1hcCNnZXRNYXhab29tKClgIHRoYXQgZml0c1xuICAgICAqICAgICAgaW4gdGhlIHZpZXdwb3J0LiBMbmdMYXRCb3VuZHMgcmVwcmVzZW50IGEgYm94IHRoYXQgaXMgYWx3YXlzIGF4aXMtYWxpZ25lZCB3aXRoIGJlYXJpbmcgMC5cbiAgICAgKiBAcGFyYW0ge0NhbWVyYU9wdGlvbnMgfCBudWxsfSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgUGFkZGluZ09wdGlvbnN9IFtvcHRpb25zLnBhZGRpbmddIFRoZSBhbW91bnQgb2YgcGFkZGluZyBpbiBwaXhlbHMgdG8gYWRkIHRvIHRoZSBnaXZlbiBib3VuZHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJlYXJpbmc9MF0gRGVzaXJlZCBtYXAgYmVhcmluZyBhdCBlbmQgb2YgYW5pbWF0aW9uLCBpbiBkZWdyZWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5waXRjaD0wXSBEZXNpcmVkIG1hcCBwaXRjaCBhdCBlbmQgb2YgYW5pbWF0aW9uLCBpbiBkZWdyZWVzLlxuICAgICAqIEBwYXJhbSB7UG9pbnRMaWtlfSBbb3B0aW9ucy5vZmZzZXQ9WzAsIDBdXSBUaGUgY2VudGVyIG9mIHRoZSBnaXZlbiBib3VuZHMgcmVsYXRpdmUgdG8gdGhlIG1hcCdzIGNlbnRlciwgbWVhc3VyZWQgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhab29tXSBUaGUgbWF4aW11bSB6b29tIGxldmVsIHRvIGFsbG93IHdoZW4gdGhlIGNhbWVyYSB3b3VsZCB0cmFuc2l0aW9uIHRvIHRoZSBzcGVjaWZpZWQgYm91bmRzLlxuICAgICAqIEByZXR1cm5zIHtDYW1lcmFPcHRpb25zIHwgdm9pZH0gSWYgbWFwIGlzIGFibGUgdG8gZml0IHRvIHByb3ZpZGVkIGJvdW5kcywgcmV0dXJucyBgQ2FtZXJhT3B0aW9uc2Agd2l0aFxuICAgICAqICAgICAgYGNlbnRlcmAsIGB6b29tYCwgYW5kIGBiZWFyaW5nYC4gSWYgbWFwIGlzIHVuYWJsZSB0byBmaXQsIG1ldGhvZCB3aWxsIHdhcm4gYW5kIHJldHVybiB1bmRlZmluZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBiYm94ID0gW1stNzksIDQzXSwgWy03MywgNDVdXTtcbiAgICAgKiBjb25zdCBuZXdDYW1lcmFUcmFuc2Zvcm0gPSBtYXAuY2FtZXJhRm9yQm91bmRzKGJib3gsIHtcbiAgICAgKiAgICAgcGFkZGluZzoge3RvcDogMTAsIGJvdHRvbToyNSwgbGVmdDogMTUsIHJpZ2h0OiA1fVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGNhbWVyYUZvckJvdW5kcyhib3VuZHM6IExuZ0xhdEJvdW5kc0xpa2UsIG9wdGlvbnM/OiBDYW1lcmFPcHRpb25zKTogP0Vhc2luZ09wdGlvbnMge1xuICAgICAgICBib3VuZHMgPSBMbmdMYXRCb3VuZHMuY29udmVydChib3VuZHMpO1xuICAgICAgICBjb25zdCBiZWFyaW5nID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5iZWFyaW5nKSB8fCAwO1xuICAgICAgICBjb25zdCBwaXRjaCA9IChvcHRpb25zICYmIG9wdGlvbnMucGl0Y2gpIHx8IDA7XG4gICAgICAgIGNvbnN0IGxuZ2xhdDAgPSBib3VuZHMuZ2V0Tm9ydGhXZXN0KCk7XG4gICAgICAgIGNvbnN0IGxuZ2xhdDEgPSBib3VuZHMuZ2V0U291dGhFYXN0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW1lcmFGb3JCb3VuZHModGhpcy50cmFuc2Zvcm0sIGxuZ2xhdDAsIGxuZ2xhdDEsIGJlYXJpbmcsIHBpdGNoLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBfZXh0ZW5kQ2FtZXJhT3B0aW9ucyhvcHRpb25zPzogQ2FtZXJhT3B0aW9ucyk6IEZ1bGxDYW1lcmFPcHRpb25zIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFBhZGRpbmcgPSB7XG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgfTtcbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgICAgICBwYWRkaW5nOiBkZWZhdWx0UGFkZGluZyxcbiAgICAgICAgICAgIG9mZnNldDogWzAsIDBdLFxuICAgICAgICAgICAgbWF4Wm9vbTogdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbVxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucGFkZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBvcHRpb25zLnBhZGRpbmc7XG4gICAgICAgICAgICBvcHRpb25zLnBhZGRpbmcgPSB7XG4gICAgICAgICAgICAgICAgdG9wOiBwLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogcCxcbiAgICAgICAgICAgICAgICByaWdodDogcCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMucGFkZGluZyA9IGV4dGVuZChkZWZhdWx0UGFkZGluZywgb3B0aW9ucy5wYWRkaW5nKTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKHRyOiBUcmFuc2Zvcm0sIGFhYmI6IEFhYmIpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBhYWJiVyA9IGFhYmIubWF4WzBdIC0gYWFiYi5taW5bMF07XG4gICAgICAgIGNvbnN0IGFhYmJIID0gYWFiYi5tYXhbMV0gLSBhYWJiLm1pblsxXTtcbiAgICAgICAgY29uc3QgYWFiYkFzcGVjdFJhdGlvID0gYWFiYlcgLyBhYWJiSDtcbiAgICAgICAgY29uc3Qgc2VsZWN0WEF4aXMgPSBhYWJiQXNwZWN0UmF0aW8gPiB0ci5hc3BlY3Q7XG5cbiAgICAgICAgY29uc3QgbWluaW11bURpc3RhbmNlID0gc2VsZWN0WEF4aXMgP1xuICAgICAgICAgICAgYWFiYlcgLyAoMiAqIE1hdGgudGFuKHRyLmZvdlggKiAwLjUpICogdHIuYXNwZWN0KSA6XG4gICAgICAgICAgICBhYWJiSCAvICgyICogTWF0aC50YW4odHIuZm92WSAqIDAuNSkgKiB0ci5hc3BlY3QpO1xuXG4gICAgICAgIHJldHVybiBtaW5pbXVtRGlzdGFuY2U7XG4gICAgfVxuXG4gICAgX2NhbWVyYUZvckJvdW5kc09uR2xvYmUodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHAwOiBMbmdMYXRMaWtlLCBwMTogTG5nTGF0TGlrZSwgYmVhcmluZzogbnVtYmVyLCBwaXRjaDogbnVtYmVyLCBvcHRpb25zPzogQ2FtZXJhT3B0aW9ucyk6ID9FYXNpbmdPcHRpb25zIHtcbiAgICAgICAgY29uc3QgdHIgPSB0cmFuc2Zvcm0uY2xvbmUoKTtcbiAgICAgICAgY29uc3QgZU9wdGlvbnMgPSB0aGlzLl9leHRlbmRDYW1lcmFPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICAgIHRyLmJlYXJpbmcgPSBiZWFyaW5nO1xuICAgICAgICB0ci5waXRjaCA9IHBpdGNoO1xuXG4gICAgICAgIGNvbnN0IGNvb3JkMCA9IExuZ0xhdC5jb252ZXJ0KHAwKTtcbiAgICAgICAgY29uc3QgY29vcmQxID0gTG5nTGF0LmNvbnZlcnQocDEpO1xuXG4gICAgICAgIGNvbnN0IG1pZExhdCA9IChjb29yZDAubGF0ICsgY29vcmQxLmxhdCkgKiAwLjU7XG4gICAgICAgIGNvbnN0IG1pZExuZyA9IChjb29yZDAubG5nICsgY29vcmQxLmxuZykgKiAwLjU7XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luID0gbGF0TG5nVG9FQ0VGKG1pZExhdCwgbWlkTG5nKTtcblxuICAgICAgICBjb25zdCB6QXhpcyA9IHZlYzMubm9ybWFsaXplKFtdLCBvcmlnaW4pO1xuICAgICAgICBjb25zdCB4QXhpcyA9IHZlYzMubm9ybWFsaXplKFtdLCB2ZWMzLmNyb3NzKFtdLCB6QXhpcywgWzAsIDEsIDBdKSk7XG4gICAgICAgIGNvbnN0IHlBeGlzID0gdmVjMy5jcm9zcyhbXSwgeEF4aXMsIHpBeGlzKTtcblxuICAgICAgICBjb25zdCBhYWJiT3JpZW50YXRpb24gPSBbXG4gICAgICAgICAgICB4QXhpc1swXSwgeEF4aXNbMV0sIHhBeGlzWzJdLCAwLFxuICAgICAgICAgICAgeUF4aXNbMF0sIHlBeGlzWzFdLCB5QXhpc1syXSwgMCxcbiAgICAgICAgICAgIHpBeGlzWzBdLCB6QXhpc1sxXSwgekF4aXNbMl0sIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgZWNlZkNvb3JkcyA9IFtcbiAgICAgICAgICAgIG9yaWdpbixcblxuICAgICAgICAgICAgbGF0TG5nVG9FQ0VGKGNvb3JkMC5sYXQsIGNvb3JkMC5sbmcpLFxuICAgICAgICAgICAgbGF0TG5nVG9FQ0VGKGNvb3JkMS5sYXQsIGNvb3JkMC5sbmcpLFxuICAgICAgICAgICAgbGF0TG5nVG9FQ0VGKGNvb3JkMS5sYXQsIGNvb3JkMS5sbmcpLFxuICAgICAgICAgICAgbGF0TG5nVG9FQ0VGKGNvb3JkMC5sYXQsIGNvb3JkMS5sbmcpLFxuXG4gICAgICAgICAgICBsYXRMbmdUb0VDRUYobWlkTGF0LCBjb29yZDAubG5nKSxcbiAgICAgICAgICAgIGxhdExuZ1RvRUNFRihtaWRMYXQsIGNvb3JkMS5sbmcpLFxuICAgICAgICAgICAgbGF0TG5nVG9FQ0VGKGNvb3JkMC5sYXQsIG1pZExuZyksXG4gICAgICAgICAgICBsYXRMbmdUb0VDRUYoY29vcmQxLmxhdCwgbWlkTG5nKSxcbiAgICAgICAgXTtcblxuICAgICAgICBsZXQgYWFiYiA9IEFhYmIuZnJvbVBvaW50cyhlY2VmQ29vcmRzLm1hcChwID0+IFt2ZWMzLmRvdCh4QXhpcywgcCksIHZlYzMuZG90KHlBeGlzLCBwKSwgdmVjMy5kb3QoekF4aXMsIHApXSkpO1xuXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHZlYzMudHJhbnNmb3JtTWF0NChbXSwgYWFiYi5jZW50ZXIsIGFhYmJPcmllbnRhdGlvbik7XG5cbiAgICAgICAgaWYgKHZlYzMuc3F1YXJlZExlbmd0aChjZW50ZXIpID09PSAwKSB7XG4gICAgICAgICAgICB2ZWMzLnNldChjZW50ZXIsIDAsIDAsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmVjMy5ub3JtYWxpemUoY2VudGVyLCBjZW50ZXIpO1xuICAgICAgICB2ZWMzLnNjYWxlKGNlbnRlciwgY2VudGVyLCBHTE9CRV9SQURJVVMpO1xuICAgICAgICB0ci5jZW50ZXIgPSBlY2VmVG9MYXRMbmcoY2VudGVyKTtcblxuICAgICAgICBjb25zdCB3b3JsZFRvQ2FtZXJhID0gdHIuZ2V0V29ybGRUb0NhbWVyYU1hdHJpeCgpO1xuICAgICAgICBjb25zdCBjYW1lcmFUb1dvcmxkID0gbWF0NC5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksIHdvcmxkVG9DYW1lcmEpO1xuXG4gICAgICAgIGFhYmIgPSBBYWJiLmFwcGx5VHJhbnNmb3JtKGFhYmIsIG1hdDQubXVsdGlwbHkoW10sIHdvcmxkVG9DYW1lcmEsIGFhYmJPcmllbnRhdGlvbikpO1xuXG4gICAgICAgIHZlYzMudHJhbnNmb3JtTWF0NChjZW50ZXIsIGNlbnRlciwgd29ybGRUb0NhbWVyYSk7XG5cbiAgICAgICAgY29uc3QgYWFiYkhhbGZFeHRlbnRaID0gKGFhYmIubWF4WzJdIC0gYWFiYi5taW5bMl0pICogMC41O1xuICAgICAgICBjb25zdCBmcnVzdHVtRGlzdGFuY2UgPSB0aGlzLl9taW5pbXVtQUFCQkZydXN0dW1EaXN0YW5jZSh0ciwgYWFiYik7XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0WiA9IHZlYzMuc2NhbGUoW10sIFswLCAwLCAxXSwgYWFiYkhhbGZFeHRlbnRaKTtcbiAgICAgICAgY29uc3QgYWFiYkNsb3Nlc3RQb2ludCA9IHZlYzMuYWRkKG9mZnNldFosIGNlbnRlciwgb2Zmc2V0Wik7XG4gICAgICAgIGNvbnN0IG9mZnNldERpc3RhbmNlID0gZnJ1c3R1bURpc3RhbmNlICsgKHRyLnBpdGNoID09PSAwID8gMCA6IHZlYzMuZGlzdGFuY2UoY2VudGVyLCBhYWJiQ2xvc2VzdFBvaW50KSk7XG5cbiAgICAgICAgY29uc3QgZ2xvYmVDZW50ZXIgPSB0ci5nbG9iZUNlbnRlckluVmlld1NwYWNlO1xuICAgICAgICBjb25zdCBub3JtYWwgPSB2ZWMzLnN1YihbXSwgY2VudGVyLCBbZ2xvYmVDZW50ZXJbMF0sIGdsb2JlQ2VudGVyWzFdLCBnbG9iZUNlbnRlclsyXV0pO1xuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShub3JtYWwsIG5vcm1hbCk7XG4gICAgICAgIHZlYzMuc2NhbGUobm9ybWFsLCBub3JtYWwsIG9mZnNldERpc3RhbmNlKTtcblxuICAgICAgICBjb25zdCBjYW1lcmFQb3NpdGlvbiA9IHZlYzMuYWRkKFtdLCBjZW50ZXIsIG5vcm1hbCk7XG5cbiAgICAgICAgdmVjMy50cmFuc2Zvcm1NYXQ0KGNhbWVyYVBvc2l0aW9uLCBjYW1lcmFQb3NpdGlvbiwgY2FtZXJhVG9Xb3JsZCk7XG5cbiAgICAgICAgY29uc3QgbWV0ZXJQZXJFQ0VGID0gZWFydGhSYWRpdXMgLyBHTE9CRV9SQURJVVM7XG4gICAgICAgIGNvbnN0IGFsdGl0dWRlRUNFRiA9IHZlYzMubGVuZ3RoKGNhbWVyYVBvc2l0aW9uKTtcbiAgICAgICAgY29uc3QgYWx0aXR1ZGVNZXRlciA9IGFsdGl0dWRlRUNFRiAqIG1ldGVyUGVyRUNFRiAtIGVhcnRoUmFkaXVzO1xuICAgICAgICBjb25zdCBtZXJjYXRvclogPSBtZXJjYXRvclpmcm9tQWx0aXR1ZGUoTWF0aC5tYXgoYWx0aXR1ZGVNZXRlciwgTnVtYmVyLkVQU0lMT04pLCAwKTtcblxuICAgICAgICBjb25zdCB6b29tID0gTWF0aC5taW4odHIuem9vbUZyb21NZXJjYXRvclpBZGp1c3RlZChtZXJjYXRvclopLCBlT3B0aW9ucy5tYXhab29tKTtcblxuICAgICAgICBjb25zdCBoYWxmWm9vbVRyYW5zaXRpb24gPSAoR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOICsgR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYKSAqIDAuNTtcbiAgICAgICAgaWYgKHpvb20gPiBoYWxmWm9vbVRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIHRyLnNldFByb2plY3Rpb24oe25hbWU6ICdtZXJjYXRvcid9KTtcbiAgICAgICAgICAgIHRyLnpvb20gPSB6b29tO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbWVyYUZvckJvdW5kcyh0ciwgcDAsIHAxLCBiZWFyaW5nLCBwaXRjaCwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge2NlbnRlcjogdHIuY2VudGVyLCB6b29tLCBiZWFyaW5nLCBwaXRjaH07XG4gICAgfVxuXG4gICAgLyoqIEBzZWN0aW9uIHtRdWVyeWluZyBmZWF0dXJlc30gKi9cblxuICAgIC8qKlxuICAgICAqIFF1ZXJpZXMgdGhlIGN1cnJlbnRseSBsb2FkZWQgZGF0YSBmb3IgZWxldmF0aW9uIGF0IGEgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uLiBUaGUgZWxldmF0aW9uIGlzIHJldHVybmVkIGluIGBtZXRlcnNgIHJlbGF0aXZlIHRvIG1lYW4gc2VhLWxldmVsLlxuICAgICAqIFJldHVybnMgYG51bGxgIGlmIGB0ZXJyYWluYCBpcyBkaXNhYmxlZCBvciBpZiB0ZXJyYWluIGRhdGEgZm9yIHRoZSBsb2NhdGlvbiBoYXNuJ3QgYmVlbiBsb2FkZWQgeWV0LlxuICAgICAqXG4gICAgICogSW4gb3JkZXIgdG8gZ3VhcmFudGVlIHRoYXQgdGhlIHRlcnJhaW4gZGF0YSBpcyBsb2FkZWQgZW5zdXJlIHRoYXQgdGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbiBpcyB2aXNpYmxlIGFuZCB3YWl0IGZvciB0aGUgYGlkbGVgIGV2ZW50IHRvIG9jY3VyLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdExpa2V9IGxuZ2xhdCBUaGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIGF0IHdoaWNoIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RWxldmF0aW9uUXVlcnlPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5leGFnZ2VyYXRlZD10cnVlXSBXaGVuIGB0cnVlYCByZXR1cm5zIHRoZSB0ZXJyYWluIGVsZXZhdGlvbiB3aXRoIHRoZSB2YWx1ZSBvZiBgZXhhZ2dlcmF0aW9uYCBmcm9tIHRoZSBzdHlsZSBhbHJlYWR5IGFwcGxpZWQuXG4gICAgICogV2hlbiBgZmFsc2VgLCByZXR1cm5zIHRoZSByYXcgdmFsdWUgb2YgdGhlIHVuZGVybHlpbmcgZGF0YSB3aXRob3V0IHN0eWxpbmcgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyIHwgbnVsbH0gVGhlIGVsZXZhdGlvbiBpbiBtZXRlcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjb29yZGluYXRlID0gWy0xMjIuNDIwNjc5LCAzNy43NzI1MzddO1xuICAgICAqIGNvbnN0IGVsZXZhdGlvbiA9IG1hcC5xdWVyeVRlcnJhaW5FbGV2YXRpb24oY29vcmRpbmF0ZSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogUXVlcnkgdGVycmFpbiBlbGV2YXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3F1ZXJ5LXRlcnJhaW4tZWxldmF0aW9uLylcbiAgICAgKi9cbiAgICBxdWVyeVRlcnJhaW5FbGV2YXRpb24obG5nbGF0OiBMbmdMYXRMaWtlLCBvcHRpb25zOiA/RWxldmF0aW9uUXVlcnlPcHRpb25zKTogP251bWJlciB7XG4gICAgICAgIGNvbnN0IGVsZXZhdGlvbiA9IHRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbjtcbiAgICAgICAgaWYgKGVsZXZhdGlvbikge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7fSwge2V4YWdnZXJhdGVkOiB0cnVlfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gZWxldmF0aW9uLmdldEF0UG9pbnQoTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQobG5nbGF0KSwgbnVsbCwgb3B0aW9ucy5leGFnZ2VyYXRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjZW50ZXIgb2YgdGhlc2UgdHdvIHBvaW50cyBpbiB0aGUgdmlld3BvcnQgYW5kIHVzZVxuICAgICAqIHRoZSBoaWdoZXN0IHpvb20gbGV2ZWwgdXAgdG8gYW5kIGluY2x1ZGluZyBgTWFwI2dldE1heFpvb20oKWAgdGhhdCBmaXRzXG4gICAgICogdGhlIHBvaW50cyBpbiB0aGUgdmlld3BvcnQgYXQgdGhlIHNwZWNpZmllZCBiZWFyaW5nLlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBwMCBGaXJzdCBwb2ludFxuICAgICAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gcDEgU2Vjb25kIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgRGVzaXJlZCBtYXAgYmVhcmluZyBhdCBlbmQgb2YgYW5pbWF0aW9uLCBpbiBkZWdyZWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdGNoIERlc2lyZWQgbWFwIHBpdGNoIGF0IGVuZCBvZiBhbmltYXRpb24sIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0ge0NhbWVyYU9wdGlvbnMgfCBudWxsfSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBQYWRkaW5nT3B0aW9uc30gW29wdGlvbnMucGFkZGluZ10gVGhlIGFtb3VudCBvZiBwYWRkaW5nIGluIHBpeGVscyB0byBhZGQgdG8gdGhlIGdpdmVuIGJvdW5kcy5cbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZX0gW29wdGlvbnMub2Zmc2V0PVswLCAwXV0gVGhlIGNlbnRlciBvZiB0aGUgZ2l2ZW4gYm91bmRzIHJlbGF0aXZlIHRvIHRoZSBtYXAncyBjZW50ZXIsIG1lYXN1cmVkIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Wm9vbV0gVGhlIG1heGltdW0gem9vbSBsZXZlbCB0byBhbGxvdyB3aGVuIHRoZSBjYW1lcmEgd291bGQgdHJhbnNpdGlvbiB0byB0aGUgc3BlY2lmaWVkIGJvdW5kcy5cbiAgICAgKiBAcmV0dXJucyB7Q2FtZXJhT3B0aW9ucyB8IHZvaWR9IElmIG1hcCBpcyBhYmxlIHRvIGZpdCB0byBwcm92aWRlZCBib3VuZHMsIHJldHVybnMgYENhbWVyYU9wdGlvbnNgIHdpdGhcbiAgICAgKiAgICAgIGBjZW50ZXJgLCBgem9vbWAsIGFuZCBgYmVhcmluZ2AuIElmIG1hcCBpcyB1bmFibGUgdG8gZml0LCBtZXRob2Qgd2lsbCB3YXJuIGFuZCByZXR1cm4gdW5kZWZpbmVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcDAgPSBbLTc5LCA0M107XG4gICAgICogdmFyIHAxID0gWy03MywgNDVdO1xuICAgICAqIHZhciBiZWFyaW5nID0gOTA7XG4gICAgICogdmFyIG5ld0NhbWVyYVRyYW5zZm9ybSA9IG1hcC5fY2FtZXJhRm9yQm91bmRzKHAwLCBwMSwgYmVhcmluZywgcGl0Y2gsIHtcbiAgICAgKiAgIHBhZGRpbmc6IHt0b3A6IDEwLCBib3R0b206MjUsIGxlZnQ6IDE1LCByaWdodDogNX1cbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBfY2FtZXJhRm9yQm91bmRzKHRyYW5zZm9ybTogVHJhbnNmb3JtLCBwMDogTG5nTGF0TGlrZSwgcDE6IExuZ0xhdExpa2UsIGJlYXJpbmc6IG51bWJlciwgcGl0Y2g6IG51bWJlciwgb3B0aW9ucz86IENhbWVyYU9wdGlvbnMpOiA/RWFzaW5nT3B0aW9ucyB7XG4gICAgICAgIGlmICh0cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FtZXJhRm9yQm91bmRzT25HbG9iZSh0cmFuc2Zvcm0sIHAwLCBwMSwgYmVhcmluZywgcGl0Y2gsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHIgPSB0cmFuc2Zvcm0uY2xvbmUoKTtcbiAgICAgICAgY29uc3QgZU9wdGlvbnMgPSB0aGlzLl9leHRlbmRDYW1lcmFPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBlZGdlUGFkZGluZyA9IHRyLnBhZGRpbmc7XG5cbiAgICAgICAgdHIuYmVhcmluZyA9IGJlYXJpbmc7XG4gICAgICAgIHRyLnBpdGNoID0gcGl0Y2g7XG5cbiAgICAgICAgY29uc3QgY29vcmQwID0gTG5nTGF0LmNvbnZlcnQocDApO1xuICAgICAgICBjb25zdCBjb29yZDEgPSBMbmdMYXQuY29udmVydChwMSk7XG4gICAgICAgIGNvbnN0IGNvb3JkMiA9IG5ldyBMbmdMYXQoY29vcmQwLmxuZywgY29vcmQxLmxhdCk7XG4gICAgICAgIGNvbnN0IGNvb3JkMyA9IG5ldyBMbmdMYXQoY29vcmQxLmxuZywgY29vcmQwLmxhdCk7XG5cbiAgICAgICAgY29uc3QgcDB3b3JsZCA9IHRyLnByb2plY3QoY29vcmQwKTtcbiAgICAgICAgY29uc3QgcDF3b3JsZCA9IHRyLnByb2plY3QoY29vcmQxKTtcblxuICAgICAgICBjb25zdCB6MCA9IHRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKGNvb3JkMCk7XG4gICAgICAgIGNvbnN0IHoxID0gdGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24oY29vcmQxKTtcbiAgICAgICAgY29uc3QgejIgPSB0aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihjb29yZDIpO1xuICAgICAgICBjb25zdCB6MyA9IHRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKGNvb3JkMyk7XG5cbiAgICAgICAgY29uc3Qgd29ybGRDb29yZHMgPSBbXG4gICAgICAgICAgICBbcDB3b3JsZC54LCBwMHdvcmxkLnksIE1hdGgubWluKHowIHx8IDAsIHoxIHx8IDAsIHoyIHx8IDAsIHozIHx8IDApXSxcbiAgICAgICAgICAgIFtwMXdvcmxkLngsIHAxd29ybGQueSwgTWF0aC5tYXgoejAgfHwgMCwgejEgfHwgMCwgejIgfHwgMCwgejMgfHwgMCldXG4gICAgICAgIF07XG5cbiAgICAgICAgbGV0IGFhYmIgPSBBYWJiLmZyb21Qb2ludHMod29ybGRDb29yZHMpO1xuXG4gICAgICAgIGNvbnN0IHdvcmxkVG9DYW1lcmEgPSB0ci5nZXRXb3JsZFRvQ2FtZXJhTWF0cml4KCk7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRvV29ybGQgPSBtYXQ0LmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSwgd29ybGRUb0NhbWVyYSk7XG5cbiAgICAgICAgYWFiYiA9IEFhYmIuYXBwbHlUcmFuc2Zvcm0oYWFiYiwgd29ybGRUb0NhbWVyYSk7XG5cbiAgICAgICAgY29uc3Qgc2l6ZSA9IHZlYzMuc3ViKFtdLCBhYWJiLm1heCwgYWFiYi5taW4pO1xuXG4gICAgICAgIGNvbnN0IHNjcmVlblBhZEwgPSBlZGdlUGFkZGluZy5sZWZ0IHx8IDA7XG4gICAgICAgIGNvbnN0IHNjcmVlblBhZFIgPSBlZGdlUGFkZGluZy5yaWdodCB8fCAwO1xuICAgICAgICBjb25zdCBzY3JlZW5QYWRCID0gZWRnZVBhZGRpbmcuYm90dG9tIHx8IDA7XG4gICAgICAgIGNvbnN0IHNjcmVlblBhZFQgPSBlZGdlUGFkZGluZy50b3AgfHwgMDtcblxuICAgICAgICBjb25zdCB7bGVmdDogcGFkTCwgcmlnaHQ6IHBhZFIsIHRvcDogcGFkVCwgYm90dG9tOiBwYWRCfSA9IGVPcHRpb25zLnBhZGRpbmc7XG5cbiAgICAgICAgY29uc3QgaGFsZlNjcmVlblBhZFggPSAoc2NyZWVuUGFkTCArIHNjcmVlblBhZFIpICogMC41O1xuICAgICAgICBjb25zdCBoYWxmU2NyZWVuUGFkWSA9IChzY3JlZW5QYWRUICsgc2NyZWVuUGFkQikgKiAwLjU7XG5cbiAgICAgICAgY29uc3Qgc2NhbGVYID0gKHRyLndpZHRoIC0gKHNjcmVlblBhZEwgKyBzY3JlZW5QYWRSICsgcGFkTCArIHBhZFIpKSAvIHNpemVbMF07XG4gICAgICAgIGNvbnN0IHNjYWxlWSA9ICh0ci5oZWlnaHQgLSAoc2NyZWVuUGFkQiArIHNjcmVlblBhZFQgKyBwYWRCICsgcGFkVCkpIC8gc2l6ZVsxXTtcblxuICAgICAgICBjb25zdCB6b29tUmVmID0gTWF0aC5taW4odHIuc2NhbGVab29tKHRyLnNjYWxlICogTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpKSwgZU9wdGlvbnMubWF4Wm9vbSk7XG5cbiAgICAgICAgY29uc3Qgc2NhbGVSYXRpbyA9IHRyLnNjYWxlIC8gdHIuem9vbVNjYWxlKHpvb21SZWYpO1xuXG4gICAgICAgIGFhYmIgPSBuZXcgQWFiYihcbiAgICAgICAgICAgIFthYWJiLm1pblswXSAtIChwYWRMICsgaGFsZlNjcmVlblBhZFgpICogc2NhbGVSYXRpbywgYWFiYi5taW5bMV0gLSAocGFkQiArIGhhbGZTY3JlZW5QYWRZKSAqIHNjYWxlUmF0aW8sIGFhYmIubWluWzJdXSxcbiAgICAgICAgICAgIFthYWJiLm1heFswXSArIChwYWRSICsgaGFsZlNjcmVlblBhZFgpICogc2NhbGVSYXRpbywgYWFiYi5tYXhbMV0gKyAocGFkVCArIGhhbGZTY3JlZW5QYWRZKSAqIHNjYWxlUmF0aW8sIGFhYmIubWF4WzJdXSk7XG5cbiAgICAgICAgY29uc3QgYWFiYkhhbGZFeHRlbnRaID0gc2l6ZVsyXSAqIDAuNTtcbiAgICAgICAgY29uc3QgZnJ1c3R1bURpc3RhbmNlID0gdGhpcy5fbWluaW11bUFBQkJGcnVzdHVtRGlzdGFuY2UodHIsIGFhYmIpO1xuXG4gICAgICAgIGNvbnN0IG5vcm1hbFogPSBbMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KG5vcm1hbFosIG5vcm1hbFosIHdvcmxkVG9DYW1lcmEpO1xuICAgICAgICB2ZWM0Lm5vcm1hbGl6ZShub3JtYWxaLCBub3JtYWxaKTtcblxuICAgICAgICBjb25zdCBvZmZzZXQgPSB2ZWMzLnNjYWxlKFtdLCBub3JtYWxaLCBmcnVzdHVtRGlzdGFuY2UgKyBhYWJiSGFsZkV4dGVudFopO1xuICAgICAgICBjb25zdCBjYW1lcmFQb3NpdGlvbiA9IHZlYzMuYWRkKFtdLCBhYWJiLmNlbnRlciwgb2Zmc2V0KTtcblxuICAgICAgICBjb25zdCBjZW50ZXJPZmZzZXQgPSAodHlwZW9mIGVPcHRpb25zLm9mZnNldC54ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgZU9wdGlvbnMub2Zmc2V0LnkgPT09ICdudW1iZXInKSA/XG4gICAgICAgICAgICBuZXcgUG9pbnQoZU9wdGlvbnMub2Zmc2V0LngsIGVPcHRpb25zLm9mZnNldC55KSA6XG4gICAgICAgICAgICBQb2ludC5jb252ZXJ0KGVPcHRpb25zLm9mZnNldCk7XG5cbiAgICAgICAgY29uc3Qgcm90YXRlZE9mZnNldCA9IGNlbnRlck9mZnNldC5yb3RhdGUoLWRlZ1RvUmFkKGJlYXJpbmcpKTtcblxuICAgICAgICBhYWJiLmNlbnRlclswXSAtPSByb3RhdGVkT2Zmc2V0LnggKiBzY2FsZVJhdGlvO1xuICAgICAgICBhYWJiLmNlbnRlclsxXSArPSByb3RhdGVkT2Zmc2V0LnkgKiBzY2FsZVJhdGlvO1xuXG4gICAgICAgIHZlYzMudHJhbnNmb3JtTWF0NChhYWJiLmNlbnRlciwgYWFiYi5jZW50ZXIsIGNhbWVyYVRvV29ybGQpO1xuICAgICAgICB2ZWMzLnRyYW5zZm9ybU1hdDQoY2FtZXJhUG9zaXRpb24sIGNhbWVyYVBvc2l0aW9uLCBjYW1lcmFUb1dvcmxkKTtcblxuICAgICAgICBjb25zdCBtZXJjYXRvciA9IFthYWJiLmNlbnRlclswXSwgYWFiYi5jZW50ZXJbMV0sIGNhbWVyYVBvc2l0aW9uWzJdICogdHIucGl4ZWxzUGVyTWV0ZXJdO1xuICAgICAgICB2ZWMzLnNjYWxlKG1lcmNhdG9yLCBtZXJjYXRvciwgMS4wIC8gdHIud29ybGRTaXplKTtcblxuICAgICAgICBjb25zdCBsbmcgPSBsbmdGcm9tTWVyY2F0b3JYKG1lcmNhdG9yWzBdKTtcbiAgICAgICAgY29uc3QgbGF0ID0gbGF0RnJvbU1lcmNhdG9yWShtZXJjYXRvclsxXSk7XG5cbiAgICAgICAgY29uc3Qgem9vbSA9IE1hdGgubWluKHRyLl96b29tRnJvbU1lcmNhdG9yWihtZXJjYXRvclsyXSksIGVPcHRpb25zLm1heFpvb20pO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBuZXcgTG5nTGF0KGxuZywgbGF0KTtcblxuICAgICAgICBjb25zdCBoYWxmWm9vbVRyYW5zaXRpb24gPSAoR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOICsgR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYKSAqIDAuNTtcblxuICAgICAgICBpZiAodHIubWVyY2F0b3JGcm9tVHJhbnNpdGlvbiAmJiB6b29tIDwgaGFsZlpvb21UcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICB0ci5zZXRQcm9qZWN0aW9uKHtuYW1lOiAnZ2xvYmUnfSk7XG4gICAgICAgICAgICB0ci56b29tID0gem9vbTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYW1lcmFGb3JCb3VuZHModHIsIHAwLCBwMSwgYmVhcmluZywgcGl0Y2gsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtjZW50ZXIsIHpvb20sIGJlYXJpbmcsIHBpdGNofTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYW5zIGFuZCB6b29tcyB0aGUgbWFwIHRvIGNvbnRhaW4gaXRzIHZpc2libGUgYXJlYSB3aXRoaW4gdGhlIHNwZWNpZmllZCBnZW9ncmFwaGljYWwgYm91bmRzLlxuICAgICAqIElmIGEgcGFkZGluZyBpcyBzZXQgb24gdGhlIG1hcCwgdGhlIGJvdW5kcyBhcmUgZml0IHRvIHRoZSBpbnNldC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtMbmdMYXRCb3VuZHNMaWtlfSBib3VuZHMgQ2VudGVyIHRoZXNlIGJvdW5kcyBpbiB0aGUgdmlld3BvcnQgYW5kIHVzZSB0aGUgaGlnaGVzdFxuICAgICAqICAgICAgem9vbSBsZXZlbCB1cCB0byBhbmQgaW5jbHVkaW5nIGBNYXAjZ2V0TWF4Wm9vbSgpYCB0aGF0IGZpdHMgdGhlbSBpbiB0aGUgdmlld3BvcnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHN1cHBvcnRzIGFsbCBwcm9wZXJ0aWVzIGZyb20ge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9IGFuZCB7QGxpbmsgQ2FtZXJhT3B0aW9uc30gaW4gYWRkaXRpb24gdG8gdGhlIGZpZWxkcyBiZWxvdy5cbiAgICAgKiBAcGFyYW0ge251bWJlciB8IFBhZGRpbmdPcHRpb25zfSBbb3B0aW9ucy5wYWRkaW5nXSBUaGUgYW1vdW50IG9mIHBhZGRpbmcgaW4gcGl4ZWxzIHRvIGFkZCB0byB0aGUgZ2l2ZW4gYm91bmRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5waXRjaD0wXSBEZXNpcmVkIG1hcCBwaXRjaCBhdCBlbmQgb2YgYW5pbWF0aW9uLCBpbiBkZWdyZWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iZWFyaW5nPTBdIERlc2lyZWQgbWFwIGJlYXJpbmcgYXQgZW5kIG9mIGFuaW1hdGlvbiwgaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxpbmVhcj1mYWxzZV0gSWYgYHRydWVgLCB0aGUgbWFwIHRyYW5zaXRpb25zIHVzaW5nXG4gICAgICogICAgIHtAbGluayBNYXAjZWFzZVRvfS4gSWYgYGZhbHNlYCwgdGhlIG1hcCB0cmFuc2l0aW9ucyB1c2luZyB7QGxpbmsgTWFwI2ZseVRvfS4gU2VlXG4gICAgICogICAgIHRob3NlIGZ1bmN0aW9ucyBhbmQge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9IGZvciBpbmZvcm1hdGlvbiBhYm91dCBvcHRpb25zIGF2YWlsYWJsZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5lYXNpbmddIEFuIGVhc2luZyBmdW5jdGlvbiBmb3IgdGhlIGFuaW1hdGVkIHRyYW5zaXRpb24uIFNlZSB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30uXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IFtvcHRpb25zLm9mZnNldD1bMCwgMF1dIFRoZSBjZW50ZXIgb2YgdGhlIGdpdmVuIGJvdW5kcyByZWxhdGl2ZSB0byB0aGUgbWFwJ3MgY2VudGVyLCBtZWFzdXJlZCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFpvb21dIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdG8gYWxsb3cgd2hlbiB0aGUgbWFwIHZpZXcgdHJhbnNpdGlvbnMgdG8gdGhlIHNwZWNpZmllZCBib3VuZHMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudERhdGFdIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgYmJveCA9IFtbLTc5LCA0M10sIFstNzMsIDQ1XV07XG4gICAgICogbWFwLmZpdEJvdW5kcyhiYm94LCB7XG4gICAgICogICAgIHBhZGRpbmc6IHt0b3A6IDEwLCBib3R0b206MjUsIGxlZnQ6IDE1LCByaWdodDogNX1cbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBGaXQgYSBtYXAgdG8gYSBib3VuZGluZyBib3hdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZml0Ym91bmRzLylcbiAgICAgKi9cbiAgICBmaXRCb3VuZHMoYm91bmRzOiBMbmdMYXRCb3VuZHNMaWtlLCBvcHRpb25zPzogRWFzaW5nT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIGNvbnN0IGNhbWVyYVBsYWNlbWVudCA9IHRoaXMuY2FtZXJhRm9yQm91bmRzKGJvdW5kcywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9maXRJbnRlcm5hbChjYW1lcmFQbGFjZW1lbnQsIG9wdGlvbnMsIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFucywgcm90YXRlcyBhbmQgem9vbXMgdGhlIG1hcCB0byB0byBmaXQgdGhlIGJveCBtYWRlIGJ5IHBvaW50cyBwMCBhbmQgcDFcbiAgICAgKiBvbmNlIHRoZSBtYXAgaXMgcm90YXRlZCB0byB0aGUgc3BlY2lmaWVkIGJlYXJpbmcuIFRvIHpvb20gd2l0aG91dCByb3RhdGluZyxcbiAgICAgKiBwYXNzIGluIHRoZSBjdXJyZW50IG1hcCBiZWFyaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZX0gcDAgRmlyc3QgcG9pbnQgb24gc2NyZWVuLCBpbiBwaXhlbCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZX0gcDEgU2Vjb25kIHBvaW50IG9uIHNjcmVlbiwgaW4gcGl4ZWwgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgRGVzaXJlZCBtYXAgYmVhcmluZyBhdCBlbmQgb2YgYW5pbWF0aW9uLCBpbiBkZWdyZWVzLlxuICAgICAqIEBwYXJhbSB7RWFzaW5nT3B0aW9ucyB8IG51bGx9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuXG4gICAgICogICAgIEFjY2VwdHMge0BsaW5rIENhbWVyYU9wdGlvbnN9IGFuZCB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30uXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBQYWRkaW5nT3B0aW9uc30gW29wdGlvbnMucGFkZGluZ10gVGhlIGFtb3VudCBvZiBwYWRkaW5nIGluIHBpeGVscyB0byBhZGQgdG8gdGhlIGdpdmVuIGJvdW5kcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxpbmVhcj1mYWxzZV0gSWYgYHRydWVgLCB0aGUgbWFwIHRyYW5zaXRpb25zIHVzaW5nXG4gICAgICogICAgIHtAbGluayBNYXAjZWFzZVRvfS4gSWYgYGZhbHNlYCwgdGhlIG1hcCB0cmFuc2l0aW9ucyB1c2luZyB7QGxpbmsgTWFwI2ZseVRvfS4gU2VlXG4gICAgICogICAgIHRob3NlIGZ1bmN0aW9ucyBhbmQge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9IGZvciBpbmZvcm1hdGlvbiBhYm91dCBvcHRpb25zIGF2YWlsYWJsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucGl0Y2g9MF0gRGVzaXJlZCBtYXAgcGl0Y2ggYXQgZW5kIG9mIGFuaW1hdGlvbiwgaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5lYXNpbmddIEFuIGVhc2luZyBmdW5jdGlvbiBmb3IgdGhlIGFuaW1hdGVkIHRyYW5zaXRpb24uIFNlZSB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30uXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IFtvcHRpb25zLm9mZnNldD1bMCwgMF1dIFRoZSBjZW50ZXIgb2YgdGhlIGdpdmVuIGJvdW5kcyByZWxhdGl2ZSB0byB0aGUgbWFwJ3MgY2VudGVyLCBtZWFzdXJlZCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFpvb21dIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdG8gYWxsb3cgd2hlbiB0aGUgbWFwIHZpZXcgdHJhbnNpdGlvbnMgdG8gdGhlIHNwZWNpZmllZCBib3VuZHMuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwMCA9IFsyMjAsIDQwMF07XG4gICAgICogY29uc3QgcDEgPSBbNTAwLCA5MDBdO1xuICAgICAqIG1hcC5maXRTY3JlZW5Db29yZGluYXRlcyhwMCwgcDEsIG1hcC5nZXRCZWFyaW5nKCksIHtcbiAgICAgKiAgICAgcGFkZGluZzoge3RvcDogMTAsIGJvdHRvbToyNSwgbGVmdDogMTUsIHJpZ2h0OiA1fVxuICAgICAqIH0pO1xuICAgICAqIEBzZWUgVXNlZCBieSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9XG4gICAgICovXG4gICAgZml0U2NyZWVuQ29vcmRpbmF0ZXMocDA6IFBvaW50TGlrZSwgcDE6IFBvaW50TGlrZSwgYmVhcmluZzogbnVtYmVyLCBvcHRpb25zPzogRWFzaW5nT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIGNvbnN0IHNjcmVlbjAgPSBQb2ludC5jb252ZXJ0KHAwKTtcbiAgICAgICAgY29uc3Qgc2NyZWVuMSA9IFBvaW50LmNvbnZlcnQocDEpO1xuXG4gICAgICAgIGNvbnN0IG1pbiA9IG5ldyBQb2ludChNYXRoLm1pbihzY3JlZW4wLngsIHNjcmVlbjEueCksIE1hdGgubWluKHNjcmVlbjAueSwgc2NyZWVuMS55KSk7XG4gICAgICAgIGNvbnN0IG1heCA9IG5ldyBQb2ludChNYXRoLm1heChzY3JlZW4wLngsIHNjcmVlbjEueCksIE1hdGgubWF4KHNjcmVlbjAueSwgc2NyZWVuMS55KSk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gJ21lcmNhdG9yJyAmJiB0aGlzLnRyYW5zZm9ybS5hbnlDb3JuZXJPZmZFZGdlKHNjcmVlbjAsIHNjcmVlbjEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxuZ2xhdDAgPSB0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uM0QobWluKTtcbiAgICAgICAgY29uc3QgbG5nbGF0MSA9IHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChtYXgpO1xuICAgICAgICBjb25zdCBsbmdsYXQyID0gdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKG5ldyBQb2ludChtaW4ueCwgbWF4LnkpKTtcbiAgICAgICAgY29uc3QgbG5nbGF0MyA9IHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChuZXcgUG9pbnQobWF4LngsIG1pbi55KSk7XG5cbiAgICAgICAgY29uc3QgcDBjb29yZCA9IFtcbiAgICAgICAgICAgIE1hdGgubWluKGxuZ2xhdDAubG5nLCBsbmdsYXQxLmxuZywgbG5nbGF0Mi5sbmcsIGxuZ2xhdDMubG5nKSxcbiAgICAgICAgICAgIE1hdGgubWluKGxuZ2xhdDAubGF0LCBsbmdsYXQxLmxhdCwgbG5nbGF0Mi5sYXQsIGxuZ2xhdDMubGF0KSxcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgcDFjb29yZCA9ICBbXG4gICAgICAgICAgICBNYXRoLm1heChsbmdsYXQwLmxuZywgbG5nbGF0MS5sbmcsIGxuZ2xhdDIubG5nLCBsbmdsYXQzLmxuZyksXG4gICAgICAgICAgICBNYXRoLm1heChsbmdsYXQwLmxhdCwgbG5nbGF0MS5sYXQsIGxuZ2xhdDIubGF0LCBsbmdsYXQzLmxhdCksXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgcGl0Y2ggPSBvcHRpb25zICYmIG9wdGlvbnMucGl0Y2ggPyBvcHRpb25zLnBpdGNoIDogdGhpcy5nZXRQaXRjaCgpO1xuXG4gICAgICAgIGNvbnN0IGNhbWVyYVBsYWNlbWVudCA9IHRoaXMuX2NhbWVyYUZvckJvdW5kcyh0aGlzLnRyYW5zZm9ybSwgcDBjb29yZCwgcDFjb29yZCwgYmVhcmluZywgcGl0Y2gsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZml0SW50ZXJuYWwoY2FtZXJhUGxhY2VtZW50LCBvcHRpb25zLCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIF9maXRJbnRlcm5hbChjYWxjdWxhdGVkT3B0aW9ucz86ID9FYXNpbmdPcHRpb25zLCBvcHRpb25zPzogRWFzaW5nT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIC8vIGNhbWVyYUZvckJvdW5kcyB3YXJucyArIHJldHVybnMgdW5kZWZpbmVkIGlmIHVuYWJsZSB0byBmaXQ6XG4gICAgICAgIGlmICghY2FsY3VsYXRlZE9wdGlvbnMpIHJldHVybiB0aGlzO1xuXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoY2FsY3VsYXRlZE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICAvLyBFeHBsaWNpdGx5IHJlbW92ZSB0aGUgcGFkZGluZyBmaWVsZCBiZWNhdXNlLCBjYWxjdWxhdGVkT3B0aW9ucyBhbHJlYWR5IGFjY291bnRzIGZvciBwYWRkaW5nIGJ5IHNldHRpbmcgem9vbSBhbmQgY2VudGVyIGFjY29yZGluZ2x5LlxuICAgICAgICBkZWxldGUgb3B0aW9ucy5wYWRkaW5nO1xuXG4gICAgICAgIHJldHVybiBvcHRpb25zLmxpbmVhciA/XG4gICAgICAgICAgICB0aGlzLmVhc2VUbyhvcHRpb25zLCBldmVudERhdGEpIDpcbiAgICAgICAgICAgIHRoaXMuZmx5VG8ob3B0aW9ucywgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGFueSBjb21iaW5hdGlvbiBvZiBjZW50ZXIsIHpvb20sIGJlYXJpbmcsIGFuZCBwaXRjaCwgd2l0aG91dFxuICAgICAqIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uIFRoZSBtYXAgd2lsbCByZXRhaW4gaXRzIGN1cnJlbnQgdmFsdWVzIGZvciBhbnlcbiAgICAgKiBkZXRhaWxzIG5vdCBzcGVjaWZpZWQgaW4gYG9wdGlvbnNgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge0NhbWVyYU9wdGlvbnN9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpwaXRjaHN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpyb3RhdGVcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Onpvb21cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnBpdGNoXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tZW5kXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpwaXRjaGVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBqdW1wIHRvIGNvb3JkaW5hdGVzIGF0IGN1cnJlbnQgem9vbVxuICAgICAqIG1hcC5qdW1wVG8oe2NlbnRlcjogWzAsIDBdfSk7XG4gICAgICogLy8ganVtcCB3aXRoIHpvb20sIHBpdGNoLCBhbmQgYmVhcmluZyBvcHRpb25zXG4gICAgICogbWFwLmp1bXBUbyh7XG4gICAgICogICAgIGNlbnRlcjogWzAsIDBdLFxuICAgICAqICAgICB6b29tOiA4LFxuICAgICAqICAgICBwaXRjaDogNDUsXG4gICAgICogICAgIGJlYXJpbmc6IDkwXG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogSnVtcCB0byBhIHNlcmllcyBvZiBsb2NhdGlvbnNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2p1bXAtdG8vKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IFVwZGF0ZSBhIGZlYXR1cmUgaW4gcmVhbHRpbWVdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtdXBkYXRlLWZlYXR1cmUvKVxuICAgICAqL1xuICAgIGp1bXBUbyhvcHRpb25zOiBDYW1lcmFPcHRpb25zICYge3ByZWxvYWRPbmx5PzogJFByb3BlcnR5VHlwZTxBbmltYXRpb25PcHRpb25zLCAncHJlbG9hZE9ubHknPn0sIGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICBjb25zdCB0ciA9IG9wdGlvbnMucHJlbG9hZE9ubHkgPyB0aGlzLnRyYW5zZm9ybS5jbG9uZSgpIDogdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIGxldCB6b29tQ2hhbmdlZCA9IGZhbHNlLFxuICAgICAgICAgICAgYmVhcmluZ0NoYW5nZWQgPSBmYWxzZSxcbiAgICAgICAgICAgIHBpdGNoQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICgnem9vbScgaW4gb3B0aW9ucyAmJiB0ci56b29tICE9PSArb3B0aW9ucy56b29tKSB7XG4gICAgICAgICAgICB6b29tQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB0ci56b29tID0gK29wdGlvbnMuem9vbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmNlbnRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0ci5jZW50ZXIgPSBMbmdMYXQuY29udmVydChvcHRpb25zLmNlbnRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ2JlYXJpbmcnIGluIG9wdGlvbnMgJiYgdHIuYmVhcmluZyAhPT0gK29wdGlvbnMuYmVhcmluZykge1xuICAgICAgICAgICAgYmVhcmluZ0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHIuYmVhcmluZyA9ICtvcHRpb25zLmJlYXJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ3BpdGNoJyBpbiBvcHRpb25zICYmIHRyLnBpdGNoICE9PSArb3B0aW9ucy5waXRjaCkge1xuICAgICAgICAgICAgcGl0Y2hDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyLnBpdGNoID0gK29wdGlvbnMucGl0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5wYWRkaW5nICE9IG51bGwgJiYgIXRyLmlzUGFkZGluZ0VxdWFsKG9wdGlvbnMucGFkZGluZykpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gRmxvdyBjYW4ndCBpbmZlciB0aGF0IHBhZGRpbmcgaXMgbm90IG51bGwgaGVyZVxuICAgICAgICAgICAgdHIucGFkZGluZyA9IG9wdGlvbnMucGFkZGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnByZWxvYWRPbmx5KSB7XG4gICAgICAgICAgICB0aGlzLl9wcmVsb2FkVGlsZXModHIpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3Zlc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdtb3ZlJywgZXZlbnREYXRhKSk7XG5cbiAgICAgICAgaWYgKHpvb21DaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd6b29tc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnem9vbScsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCd6b29tZW5kJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmVhcmluZ0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZXN0YXJ0JywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZScsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdyb3RhdGVlbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwaXRjaENoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3BpdGNoc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncGl0Y2gnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncGl0Y2hlbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3ZlZW5kJywgZXZlbnREYXRhKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gb2YgdGhlIGNhbWVyYSBlbnRpdHkuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGZvciBwcm9qZWN0aW9ucyBvdGhlciB0aGFuIG1lcmNhdG9yLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcmV0dXJucyB7RnJlZUNhbWVyYU9wdGlvbnN9IFRoZSBjYW1lcmEgc3RhdGUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYW1lcmEgPSBtYXAuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTtcbiAgICAgKlxuICAgICAqIGNvbnN0IHBvc2l0aW9uID0gWzEzOC43MjY0OSwgMzUuMzM5NzRdO1xuICAgICAqIGNvbnN0IGFsdGl0dWRlID0gMzAwMDtcbiAgICAgKlxuICAgICAqIGNhbWVyYS5wb3NpdGlvbiA9IG1hcGJveGdsLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHBvc2l0aW9uLCBhbHRpdHVkZSk7XG4gICAgICogY2FtZXJhLmxvb2tBdFBvaW50KFsxMzguNzMwMzYsIDM1LjM2MTk3XSk7XG4gICAgICpcbiAgICAgKiBtYXAuc2V0RnJlZUNhbWVyYU9wdGlvbnMoY2FtZXJhKTtcbiAgICAgKi9cbiAgICBnZXRGcmVlQ2FtZXJhT3B0aW9ucygpOiBGcmVlQ2FtZXJhT3B0aW9ucyB7XG4gICAgICAgIGlmICghdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZyZWVDYW1lcmEpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKGZyZWVDYW1lcmFOb3RTdXBwb3J0ZWRXYXJuaW5nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBgRnJlZUNhbWVyYU9wdGlvbnNgIHByb3ZpZGVzIG1vcmUgZGlyZWN0IGFjY2VzcyB0byB0aGUgdW5kZXJseWluZyBjYW1lcmEgZW50aXR5LlxuICAgICAqIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0aGUgc3RhdGUgc2V0IHVzaW5nIHRoaXMgQVBJIG11c3QgYmUgcmVwcmVzZW50YWJsZSB3aXRoXG4gICAgICogYENhbWVyYU9wdGlvbnNgIGFzIHdlbGwuIFBhcmFtZXRlcnMgYXJlIGNsYW1wZWQgaW50byBhIHZhbGlkIHJhbmdlIG9yIGRpc2NhcmRlZCBhcyBpbnZhbGlkXG4gICAgICogaWYgdGhlIGNvbnZlcnNpb24gdG8gdGhlIHBpdGNoIGFuZCBiZWFyaW5nIHByZXNlbnRhdGlvbiBpcyBhbWJpZ3VvdXMuIEZvciBleGFtcGxlIG9yaWVudGF0aW9uXG4gICAgICogY2FuIGJlIGludmFsaWQgaWYgaXQgbGVhZHMgdG8gdGhlIGNhbWVyYSBiZWluZyB1cHNpZGUgZG93biwgdGhlIHF1YXRlcm5pb24gaGFzIHplcm8gbGVuZ3RoLFxuICAgICAqIG9yIHRoZSBwaXRjaCBpcyBvdmVyIHRoZSBtYXhpbXVtIHBpdGNoIGxpbWl0LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBmb3IgcHJvamVjdGlvbnMgb3RoZXIgdGhhbiBtZXJjYXRvci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtGcmVlQ2FtZXJhT3B0aW9uc30gb3B0aW9ucyBgRnJlZUNhbWVyYU9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnBpdGNoc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnJvdGF0ZVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6cGl0Y2hcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Onpvb21lbmRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnBpdGNoZW5kXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNhbWVyYSA9IG1hcC5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpO1xuICAgICAqXG4gICAgICogY29uc3QgcG9zaXRpb24gPSBbMTM4LjcyNjQ5LCAzNS4zMzk3NF07XG4gICAgICogY29uc3QgYWx0aXR1ZGUgPSAzMDAwO1xuICAgICAqXG4gICAgICogY2FtZXJhLnBvc2l0aW9uID0gbWFwYm94Z2wuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQocG9zaXRpb24sIGFsdGl0dWRlKTtcbiAgICAgKiBjYW1lcmEubG9va0F0UG9pbnQoWzEzOC43MzAzNiwgMzUuMzYxOTddKTtcbiAgICAgKlxuICAgICAqIG1hcC5zZXRGcmVlQ2FtZXJhT3B0aW9ucyhjYW1lcmEpO1xuICAgICAqL1xuICAgIHNldEZyZWVDYW1lcmFPcHRpb25zKG9wdGlvbnM6IEZyZWVDYW1lcmFPcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpOiB0aGlzIHtcbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLnRyYW5zZm9ybTtcblxuICAgICAgICBpZiAoIXRyLnByb2plY3Rpb24uc3VwcG9ydHNGcmVlQ2FtZXJhKSB7XG4gICAgICAgICAgICB3YXJuT25jZShmcmVlQ2FtZXJhTm90U3VwcG9ydGVkV2FybmluZyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIGNvbnN0IHByZXZab29tID0gdHIuem9vbTtcbiAgICAgICAgY29uc3QgcHJldlBpdGNoID0gdHIucGl0Y2g7XG4gICAgICAgIGNvbnN0IHByZXZCZWFyaW5nID0gdHIuYmVhcmluZztcblxuICAgICAgICB0ci5zZXRGcmVlQ2FtZXJhT3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICBjb25zdCB6b29tQ2hhbmdlZCA9IHByZXZab29tICE9PSB0ci56b29tO1xuICAgICAgICBjb25zdCBwaXRjaENoYW5nZWQgPSBwcmV2UGl0Y2ggIT09IHRyLnBpdGNoO1xuICAgICAgICBjb25zdCBiZWFyaW5nQ2hhbmdlZCA9IHByZXZCZWFyaW5nICE9PSB0ci5iZWFyaW5nO1xuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCBldmVudERhdGEpKTtcblxuICAgICAgICBpZiAoem9vbUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb21zdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCd6b29tJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3pvb21lbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiZWFyaW5nQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncm90YXRlc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncm90YXRlJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBpdGNoQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncGl0Y2hzdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdwaXRjaCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdwaXRjaGVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnbW92ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGFueSBjb21iaW5hdGlvbiBvZiBgY2VudGVyYCwgYHpvb21gLCBgYmVhcmluZ2AsIGBwaXRjaGAsIGFuZCBgcGFkZGluZ2Agd2l0aCBhbiBhbmltYXRlZCB0cmFuc2l0aW9uXG4gICAgICogYmV0d2VlbiBvbGQgYW5kIG5ldyB2YWx1ZXMuIFRoZSBtYXAgd2lsbCByZXRhaW4gaXRzIGN1cnJlbnQgdmFsdWVzIGZvciBhbnlcbiAgICAgKiBkZXRhaWxzIG5vdCBzcGVjaWZpZWQgaW4gYG9wdGlvbnNgLlxuICAgICAqXG4gICAgICogTm90ZTogVGhlIHRyYW5zaXRpb24gd2lsbCBoYXBwZW4gaW5zdGFudGx5IGlmIHRoZSB1c2VyIGhhcyBlbmFibGVkXG4gICAgICogdGhlIGByZWR1Y2VkIG1vdGlvbmAgYWNjZXNzaWJpbGl0eSBmZWF0dXJlIGVuYWJsZWQgaW4gdGhlaXIgb3BlcmF0aW5nIHN5c3RlbSxcbiAgICAgKiB1bmxlc3MgYG9wdGlvbnNgIGluY2x1ZGVzIGBlc3NlbnRpYWw6IHRydWVgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge0Vhc2luZ09wdGlvbnN9IG9wdGlvbnMgT3B0aW9ucyBkZXNjcmliaW5nIHRoZSBkZXN0aW5hdGlvbiBhbmQgYW5pbWF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uLlxuICAgICAqICAgICAgICAgICAgQWNjZXB0cyB7QGxpbmsgQ2FtZXJhT3B0aW9uc30gYW5kIHtAbGluayBBbmltYXRpb25PcHRpb25zfS5cbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnBpdGNoc3RhcnRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnJvdGF0ZVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6bW92ZVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbVxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6cGl0Y2hcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVlbmRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Onpvb21lbmRcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnBpdGNoZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgIFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBFYXNlIHdpdGggZGVmYXVsdCBvcHRpb25zIHRvIG51bGwgaXNsYW5kIGZvciA1IHNlY29uZHMuXG4gICAgICogbWFwLmVhc2VUbyh7Y2VudGVyOiBbMCwgMF0sIHpvb206IDksIGR1cmF0aW9uOiA1MDAwfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBVc2luZyBlYXNlVG8gb3B0aW9ucy5cbiAgICAgKiBtYXAuZWFzZVRvKHtcbiAgICAgKiAgICAgY2VudGVyOiBbMCwgMF0sXG4gICAgICogICAgIHpvb206IDksXG4gICAgICogICAgIHNwZWVkOiAwLjIsXG4gICAgICogICAgIGN1cnZlOiAxLFxuICAgICAqICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgKiAgICAgZWFzaW5nKHQpIHtcbiAgICAgKiAgICAgICAgIHJldHVybiB0O1xuICAgICAqICAgICB9XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogTmF2aWdhdGUgdGhlIG1hcCB3aXRoIGdhbWUtbGlrZSBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nYW1lLWNvbnRyb2xzLylcbiAgICAgKi9cbiAgICBlYXNlVG8ob3B0aW9uczogRWFzaW5nT3B0aW9ucyAmIHtlYXNlSWQ/OiBzdHJpbmd9LCBldmVudERhdGE/OiBPYmplY3QpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fc3RvcChmYWxzZSwgb3B0aW9ucy5lYXNlSWQpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe1xuICAgICAgICAgICAgb2Zmc2V0OiBbMCwgMF0sXG4gICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgICAgICAgICAgZWFzaW5nOiBkZWZhdWx0RWFzaW5nXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGUgPT09IGZhbHNlIHx8ICghb3B0aW9ucy5lc3NlbnRpYWwgJiYgYnJvd3Nlci5wcmVmZXJzUmVkdWNlZE1vdGlvbikpIG9wdGlvbnMuZHVyYXRpb24gPSAwO1xuXG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy50cmFuc2Zvcm0sXG4gICAgICAgICAgICBzdGFydFpvb20gPSB0aGlzLmdldFpvb20oKSxcbiAgICAgICAgICAgIHN0YXJ0QmVhcmluZyA9IHRoaXMuZ2V0QmVhcmluZygpLFxuICAgICAgICAgICAgc3RhcnRQaXRjaCA9IHRoaXMuZ2V0UGl0Y2goKSxcbiAgICAgICAgICAgIHN0YXJ0UGFkZGluZyA9IHRoaXMuZ2V0UGFkZGluZygpLFxuXG4gICAgICAgICAgICB6b29tID0gJ3pvb20nIGluIG9wdGlvbnMgPyArb3B0aW9ucy56b29tIDogc3RhcnRab29tLFxuICAgICAgICAgICAgYmVhcmluZyA9ICdiZWFyaW5nJyBpbiBvcHRpb25zID8gdGhpcy5fbm9ybWFsaXplQmVhcmluZyhvcHRpb25zLmJlYXJpbmcsIHN0YXJ0QmVhcmluZykgOiBzdGFydEJlYXJpbmcsXG4gICAgICAgICAgICBwaXRjaCA9ICdwaXRjaCcgaW4gb3B0aW9ucyA/ICtvcHRpb25zLnBpdGNoIDogc3RhcnRQaXRjaCxcbiAgICAgICAgICAgIHBhZGRpbmcgPSAncGFkZGluZycgaW4gb3B0aW9ucyA/IG9wdGlvbnMucGFkZGluZyA6IHRyLnBhZGRpbmc7XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0QXNQb2ludCA9IFBvaW50LmNvbnZlcnQob3B0aW9ucy5vZmZzZXQpO1xuXG4gICAgICAgIGxldCBwb2ludEF0T2Zmc2V0O1xuICAgICAgICBsZXQgZnJvbTtcbiAgICAgICAgbGV0IGRlbHRhO1xuXG4gICAgICAgIGlmICh0ci5wcm9qZWN0aW9uLm5hbWUgPT09ICdnbG9iZScpIHtcbiAgICAgICAgICAgIC8vIFBpeGVsIGNvb3JkaW5hdGVzIHdpbGwgYmUgYXBwbGllZCBkaXJlY3RseSB0byB0cmFuc2xhdGUgdGhlIGdsb2JlXG4gICAgICAgICAgICBjb25zdCBjZW50ZXJDb29yZCA9IE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHRyLmNlbnRlcik7XG5cbiAgICAgICAgICAgIGNvbnN0IHJvdGF0ZWRPZmZzZXQgPSBvZmZzZXRBc1BvaW50LnJvdGF0ZSgtdHIuYW5nbGUpO1xuICAgICAgICAgICAgY2VudGVyQ29vcmQueCArPSByb3RhdGVkT2Zmc2V0LnggLyB0ci53b3JsZFNpemU7XG4gICAgICAgICAgICBjZW50ZXJDb29yZC55ICs9IHJvdGF0ZWRPZmZzZXQueSAvIHRyLndvcmxkU2l6ZTtcblxuICAgICAgICAgICAgY29uc3QgbG9jYXRpb25BdE9mZnNldCA9IGNlbnRlckNvb3JkLnRvTG5nTGF0KCk7XG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSBMbmdMYXQuY29udmVydChvcHRpb25zLmNlbnRlciB8fCBsb2NhdGlvbkF0T2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbGl6ZUNlbnRlcihjZW50ZXIpO1xuXG4gICAgICAgICAgICBwb2ludEF0T2Zmc2V0ID0gdHIuY2VudGVyUG9pbnQuYWRkKHJvdGF0ZWRPZmZzZXQpO1xuICAgICAgICAgICAgZnJvbSA9IG5ldyBQb2ludChjZW50ZXJDb29yZC54LCBjZW50ZXJDb29yZC55KS5tdWx0KHRyLndvcmxkU2l6ZSk7XG4gICAgICAgICAgICBkZWx0YSA9IG5ldyBQb2ludChtZXJjYXRvclhmcm9tTG5nKGNlbnRlci5sbmcpLCBtZXJjYXRvcllmcm9tTGF0KGNlbnRlci5sYXQpKS5tdWx0KHRyLndvcmxkU2l6ZSkuc3ViKGZyb20pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRBdE9mZnNldCA9IHRyLmNlbnRlclBvaW50LmFkZChvZmZzZXRBc1BvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uQXRPZmZzZXQgPSB0ci5wb2ludExvY2F0aW9uKHBvaW50QXRPZmZzZXQpO1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gTG5nTGF0LmNvbnZlcnQob3B0aW9ucy5jZW50ZXIgfHwgbG9jYXRpb25BdE9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxpemVDZW50ZXIoY2VudGVyKTtcblxuICAgICAgICAgICAgZnJvbSA9IHRyLnByb2plY3QobG9jYXRpb25BdE9mZnNldCk7XG4gICAgICAgICAgICBkZWx0YSA9IHRyLnByb2plY3QoY2VudGVyKS5zdWIoZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmluYWxTY2FsZSA9IHRyLnpvb21TY2FsZSh6b29tIC0gc3RhcnRab29tKTtcblxuICAgICAgICBsZXQgYXJvdW5kLCBhcm91bmRQb2ludDtcblxuICAgICAgICBpZiAob3B0aW9ucy5hcm91bmQpIHtcbiAgICAgICAgICAgIGFyb3VuZCA9IExuZ0xhdC5jb252ZXJ0KG9wdGlvbnMuYXJvdW5kKTtcbiAgICAgICAgICAgIGFyb3VuZFBvaW50ID0gdHIubG9jYXRpb25Qb2ludChhcm91bmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgem9vbUNoYW5nZWQgPSB0aGlzLl96b29taW5nIHx8ICh6b29tICE9PSBzdGFydFpvb20pO1xuICAgICAgICBjb25zdCBiZWFyaW5nQ2hhbmdlZCA9IHRoaXMuX3JvdGF0aW5nIHx8IChzdGFydEJlYXJpbmcgIT09IGJlYXJpbmcpO1xuICAgICAgICBjb25zdCBwaXRjaENoYW5nZWQgPSB0aGlzLl9waXRjaGluZyB8fCAocGl0Y2ggIT09IHN0YXJ0UGl0Y2gpO1xuICAgICAgICBjb25zdCBwYWRkaW5nQ2hhbmdlZCA9ICF0ci5pc1BhZGRpbmdFcXVhbChwYWRkaW5nKTtcblxuICAgICAgICBjb25zdCBmcmFtZSA9ICh0cikgPT4gKGspID0+IHtcbiAgICAgICAgICAgIGlmICh6b29tQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRyLnpvb20gPSBpbnRlcnBvbGF0ZShzdGFydFpvb20sIHpvb20sIGspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJlYXJpbmdDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdHIuYmVhcmluZyA9IGludGVycG9sYXRlKHN0YXJ0QmVhcmluZywgYmVhcmluZywgayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGl0Y2hDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdHIucGl0Y2ggPSBpbnRlcnBvbGF0ZShzdGFydFBpdGNoLCBwaXRjaCwgayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFkZGluZ0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0ci5pbnRlcnBvbGF0ZVBhZGRpbmcoc3RhcnRQYWRkaW5nLCBwYWRkaW5nLCBrKTtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHBhZGRpbmcgaXMgYmVpbmcgYXBwbGllZCwgVHJhbnNmb3JtI2NlbnRlclBvaW50IGlzIGNoYW5naW5nIGNvbnRpbnVvdXNseSxcbiAgICAgICAgICAgICAgICAvLyB0aHVzIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGUgb2Zmc2V0UG9pbnQgZXZlcnkgZnJhLGVcbiAgICAgICAgICAgICAgICBwb2ludEF0T2Zmc2V0ID0gdHIuY2VudGVyUG9pbnQuYWRkKG9mZnNldEFzUG9pbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXJvdW5kKSB7XG4gICAgICAgICAgICAgICAgdHIuc2V0TG9jYXRpb25BdFBvaW50KGFyb3VuZCwgYXJvdW5kUG9pbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IHRyLnpvb21TY2FsZSh0ci56b29tIC0gc3RhcnRab29tKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gem9vbSA+IHN0YXJ0Wm9vbSA/XG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWluKDIsIGZpbmFsU2NhbGUpIDpcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoMC41LCBmaW5hbFNjYWxlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGVlZHVwID0gTWF0aC5wb3coYmFzZSwgMSAtIGspO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NlbnRlciA9IHRyLnVucHJvamVjdChmcm9tLmFkZChkZWx0YS5tdWx0KGsgKiBzcGVlZHVwKSkubXVsdChzY2FsZSkpO1xuICAgICAgICAgICAgICAgIHRyLnNldExvY2F0aW9uQXRQb2ludCh0ci5yZW5kZXJXb3JsZENvcGllcyA/IG5ld0NlbnRlci53cmFwKCkgOiBuZXdDZW50ZXIsIHBvaW50QXRPZmZzZXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucHJlbG9hZE9ubHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlTW92ZUV2ZW50cyhldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHI7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucHJlbG9hZE9ubHkpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZWRpY3RlZFRyYW5zZm9ybXMgPSB0aGlzLl9lbXVsYXRlKGZyYW1lLCBvcHRpb25zLmR1cmF0aW9uLCB0cik7XG4gICAgICAgICAgICB0aGlzLl9wcmVsb2FkVGlsZXMocHJlZGljdGVkVHJhbnNmb3Jtcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRseSA9IHtcbiAgICAgICAgICAgIG1vdmluZzogdGhpcy5fbW92aW5nLFxuICAgICAgICAgICAgem9vbWluZzogdGhpcy5fem9vbWluZyxcbiAgICAgICAgICAgIHJvdGF0aW5nOiB0aGlzLl9yb3RhdGluZyxcbiAgICAgICAgICAgIHBpdGNoaW5nOiB0aGlzLl9waXRjaGluZ1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX3pvb21pbmcgPSB6b29tQ2hhbmdlZDtcbiAgICAgICAgdGhpcy5fcm90YXRpbmcgPSBiZWFyaW5nQ2hhbmdlZDtcbiAgICAgICAgdGhpcy5fcGl0Y2hpbmcgPSBwaXRjaENoYW5nZWQ7XG4gICAgICAgIHRoaXMuX3BhZGRpbmcgPSBwYWRkaW5nQ2hhbmdlZDtcblxuICAgICAgICB0aGlzLl9lYXNlSWQgPSBvcHRpb25zLmVhc2VJZDtcbiAgICAgICAgdGhpcy5fcHJlcGFyZUVhc2UoZXZlbnREYXRhLCBvcHRpb25zLm5vTW92ZVN0YXJ0LCBjdXJyZW50bHkpO1xuXG4gICAgICAgIHRoaXMuX2Vhc2UoZnJhbWUodHIpLCAoaW50ZXJydXB0aW5nRWFzZUlkPzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICB0ci5yZWNlbnRlck9uVGVycmFpbigpO1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJFYXNlKGV2ZW50RGF0YSwgaW50ZXJydXB0aW5nRWFzZUlkKTtcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX3ByZXBhcmVFYXNlKGV2ZW50RGF0YT86IE9iamVjdCwgbm9Nb3ZlU3RhcnQ6IGJvb2xlYW4sIGN1cnJlbnRseTogT2JqZWN0ID0ge30pIHtcbiAgICAgICAgdGhpcy5fbW92aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlID0gXCJzZWFcIjtcblxuICAgICAgICBpZiAoIW5vTW92ZVN0YXJ0ICYmICFjdXJyZW50bHkubW92aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3Zlc3RhcnQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fem9vbWluZyAmJiAhY3VycmVudGx5Lnpvb21pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb21zdGFydCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yb3RhdGluZyAmJiAhY3VycmVudGx5LnJvdGF0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyb3RhdGVzdGFydCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9waXRjaGluZyAmJiAhY3VycmVudGx5LnBpdGNoaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdwaXRjaHN0YXJ0JywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZmlyZU1vdmVFdmVudHMoZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCBldmVudERhdGEpKTtcbiAgICAgICAgaWYgKHRoaXMuX3pvb21pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb20nLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcm90YXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZScsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9waXRjaGluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncGl0Y2gnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9hZnRlckVhc2UoZXZlbnREYXRhPzogT2JqZWN0LCBlYXNlSWQ/OiBzdHJpbmcpIHtcbiAgICAgICAgLy8gaWYgdGhpcyBlYXNpbmcgaXMgYmVpbmcgc3RvcHBlZCB0byBzdGFydCBhbm90aGVyIGVhc2luZyB3aXRoXG4gICAgICAgIC8vIHRoZSBzYW1lIGlkIHRoZW4gZG9uJ3QgZmlyZSBhbnkgZXZlbnRzIHRvIGF2b2lkIGV4dHJhIHN0YXJ0L3N0b3AgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLl9lYXNlSWQgJiYgZWFzZUlkICYmIHRoaXMuX2Vhc2VJZCA9PT0gZWFzZUlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWFzZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2UgPSBcImdyb3VuZFwiO1xuXG4gICAgICAgIGNvbnN0IHdhc1pvb21pbmcgPSB0aGlzLl96b29taW5nO1xuICAgICAgICBjb25zdCB3YXNSb3RhdGluZyA9IHRoaXMuX3JvdGF0aW5nO1xuICAgICAgICBjb25zdCB3YXNQaXRjaGluZyA9IHRoaXMuX3BpdGNoaW5nO1xuICAgICAgICB0aGlzLl9tb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fem9vbWluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yb3RhdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9waXRjaGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYWRkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHdhc1pvb21pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb21lbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2FzUm90YXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3YXNQaXRjaGluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncGl0Y2hlbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3ZlZW5kJywgZXZlbnREYXRhKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBhbnkgY29tYmluYXRpb24gb2YgY2VudGVyLCB6b29tLCBiZWFyaW5nLCBhbmQgcGl0Y2gsIGFuaW1hdGluZyB0aGUgdHJhbnNpdGlvbiBhbG9uZyBhIGN1cnZlIHRoYXRcbiAgICAgKiBldm9rZXMgZmxpZ2h0LiBUaGUgYW5pbWF0aW9uIHNlYW1sZXNzbHkgaW5jb3Jwb3JhdGVzIHpvb21pbmcgYW5kIHBhbm5pbmcgdG8gaGVscFxuICAgICAqIHRoZSB1c2VyIG1haW50YWluIHRoZWlyIGJlYXJpbmdzIGV2ZW4gYWZ0ZXIgdHJhdmVyc2luZyBhIGdyZWF0IGRpc3RhbmNlLlxuICAgICAqXG4gICAgICogSWYgYSB1c2VyIGhhcyB0aGUgYHJlZHVjZWQgbW90aW9uYCBhY2Nlc3NpYmlsaXR5IGZlYXR1cmUgZW5hYmxlZCBpbiB0aGVpclxuICAgICAqIG9wZXJhdGluZyBzeXN0ZW0sIHRoZSBhbmltYXRpb24gd2lsbCBiZSBza2lwcGVkIGFuZCB0aGlzIHdpbGwgYmVoYXZlXG4gICAgICogZXF1aXZhbGVudGx5IHRvIGBqdW1wVG9gLCB1bmxlc3MgJ29wdGlvbnMnIGluY2x1ZGVzIGBlc3NlbnRpYWw6IHRydWVgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIGRlc2NyaWJpbmcgdGhlIGRlc3RpbmF0aW9uIGFuZCBhbmltYXRpb24gb2YgdGhlIHRyYW5zaXRpb24uXG4gICAgICogICAgIEFjY2VwdHMge0BsaW5rIENhbWVyYU9wdGlvbnN9LCB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30sXG4gICAgICogICAgIGFuZCB0aGUgZm9sbG93aW5nIGFkZGl0aW9uYWwgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY3VydmU9MS40Ml0gVGhlIHpvb21pbmcgXCJjdXJ2ZVwiIHRoYXQgd2lsbCBvY2N1ciBhbG9uZyB0aGVcbiAgICAgKiAgICAgZmxpZ2h0IHBhdGguIEEgaGlnaCB2YWx1ZSBtYXhpbWl6ZXMgem9vbWluZyBmb3IgYW4gZXhhZ2dlcmF0ZWQgYW5pbWF0aW9uLCB3aGlsZSBhIGxvd1xuICAgICAqICAgICB2YWx1ZSBtaW5pbWl6ZXMgem9vbWluZyBmb3IgYW4gZWZmZWN0IGNsb3NlciB0byB7QGxpbmsgTWFwI2Vhc2VUb30uIDEuNDIgaXMgdGhlIGF2ZXJhZ2VcbiAgICAgKiAgICAgdmFsdWUgc2VsZWN0ZWQgYnkgcGFydGljaXBhbnRzIGluIHRoZSB1c2VyIHN0dWR5IGRpc2N1c3NlZCBpblxuICAgICAqICAgICBbdmFuIFdpamsgKDIwMDMpXShodHRwczovL3d3dy53aW4udHVlLm5sL352YW53aWprL3pvb21wYW4ucGRmKS4gQSB2YWx1ZSBvZlxuICAgICAqICAgICBgTWF0aC5wb3coNiwgMC4yNSlgIHdvdWxkIGJlIGVxdWl2YWxlbnQgdG8gdGhlIHJvb3QgbWVhbiBzcXVhcmVkIGF2ZXJhZ2UgdmVsb2NpdHkuIEFcbiAgICAgKiAgICAgdmFsdWUgb2YgMSB3b3VsZCBwcm9kdWNlIGEgY2lyY3VsYXIgbW90aW9uLiBJZiBgb3B0aW9ucy5taW5ab29tYCBpcyBzcGVjaWZpZWQsIHRoaXMgb3B0aW9uIHdpbGwgYmUgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluWm9vbV0gVGhlIHplcm8tYmFzZWQgem9vbSBsZXZlbCBhdCB0aGUgcGVhayBvZiB0aGUgZmxpZ2h0IHBhdGguIElmXG4gICAgICogICAgIHRoaXMgb3B0aW9uIGlzIHNwZWNpZmllZCwgYG9wdGlvbnMuY3VydmVgIHdpbGwgYmUgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3BlZWQ9MS4yXSBUaGUgYXZlcmFnZSBzcGVlZCBvZiB0aGUgYW5pbWF0aW9uIGRlZmluZWQgaW4gcmVsYXRpb24gdG9cbiAgICAgKiAgICAgYG9wdGlvbnMuY3VydmVgLiBBIHNwZWVkIG9mIDEuMiBtZWFucyB0aGF0IHRoZSBtYXAgYXBwZWFycyB0byBtb3ZlIGFsb25nIHRoZSBmbGlnaHQgcGF0aFxuICAgICAqICAgICBieSAxLjIgdGltZXMgYG9wdGlvbnMuY3VydmVgIHNjcmVlbmZ1bHMgZXZlcnkgc2Vjb25kLiBBIF9zY3JlZW5mdWxfIGlzIHRoZSBtYXAncyB2aXNpYmxlIHNwYW4uXG4gICAgICogICAgIEl0IGRvZXMgbm90IGNvcnJlc3BvbmQgdG8gYSBmaXhlZCBwaHlzaWNhbCBkaXN0YW5jZSwgYnV0IHZhcmllcyBieSB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY3JlZW5TcGVlZF0gVGhlIGF2ZXJhZ2Ugc3BlZWQgb2YgdGhlIGFuaW1hdGlvbiBtZWFzdXJlZCBpbiBzY3JlZW5mdWxzXG4gICAgICogICAgIHBlciBzZWNvbmQsIGFzc3VtaW5nIGEgbGluZWFyIHRpbWluZyBjdXJ2ZS4gSWYgYG9wdGlvbnMuc3BlZWRgIGlzIHNwZWNpZmllZCwgdGhpcyBvcHRpb24gaXMgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4RHVyYXRpb25dIFRoZSBhbmltYXRpb24ncyBtYXhpbXVtIGR1cmF0aW9uLCBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICogICAgIElmIGR1cmF0aW9uIGV4Y2VlZHMgbWF4aW11bSBkdXJhdGlvbiwgaXQgcmVzZXRzIHRvIDAuXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBudWxsfSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50Om1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6em9vbXN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpwaXRjaHN0YXJ0XG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpyb3RhdGVcbiAgICAgKiBAZmlyZXMgTWFwLmV2ZW50OnBpdGNoXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDptb3ZlZW5kXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDp6b29tZW5kXG4gICAgICogQGZpcmVzIE1hcC5ldmVudDpwaXRjaGVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBmbHkgd2l0aCBkZWZhdWx0IG9wdGlvbnMgdG8gbnVsbCBpc2xhbmRcbiAgICAgKiBtYXAuZmx5VG8oe2NlbnRlcjogWzAsIDBdLCB6b29tOiA5fSk7XG4gICAgICogLy8gdXNpbmcgZmx5VG8gb3B0aW9uc1xuICAgICAqIG1hcC5mbHlUbyh7XG4gICAgICogICAgIGNlbnRlcjogWzAsIDBdLFxuICAgICAqICAgICB6b29tOiA5LFxuICAgICAqICAgICBzcGVlZDogMC4yLFxuICAgICAqICAgICBjdXJ2ZTogMSxcbiAgICAgKiAgICAgZWFzaW5nKHQpIHtcbiAgICAgKiAgICAgICAgIHJldHVybiB0O1xuICAgICAqICAgICB9XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRmx5IHRvIGEgbG9jYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmx5dG8vKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IFNsb3dseSBmbHkgdG8gYSBsb2NhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mbHl0by1vcHRpb25zLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBGbHkgdG8gYSBsb2NhdGlvbiBiYXNlZCBvbiBzY3JvbGwgcG9zaXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2Nyb2xsLWZseS10by8pXG4gICAgICovXG4gICAgZmx5VG8ob3B0aW9uczogRWFzaW5nT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KTogdGhpcyB7XG4gICAgICAgIC8vIEZhbGwgdGhyb3VnaCB0byBqdW1wVG8gaWYgdXNlciBoYXMgc2V0IHByZWZlcnMtcmVkdWNlZC1tb3Rpb25cbiAgICAgICAgaWYgKCFvcHRpb25zLmVzc2VudGlhbCAmJiBicm93c2VyLnByZWZlcnNSZWR1Y2VkTW90aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBjb2VyY2VkT3B0aW9ucyA9IHBpY2sob3B0aW9ucywgWydjZW50ZXInLCAnem9vbScsICdiZWFyaW5nJywgJ3BpdGNoJywgJ2Fyb3VuZCddKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmp1bXBUbyhjb2VyY2VkT3B0aW9ucywgZXZlbnREYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgbWV0aG9kIGltcGxlbWVudHMgYW4g4oCcb3B0aW1hbCBwYXRo4oCdIGFuaW1hdGlvbiwgYXMgZGV0YWlsZWQgaW46XG4gICAgICAgIC8vXG4gICAgICAgIC8vIFZhbiBXaWprLCBKYXJrZSBKLjsgTnVpaiwgV2ltIEEuIEEuIOKAnFNtb290aCBhbmQgZWZmaWNpZW50IHpvb21pbmcgYW5kIHBhbm5pbmcu4oCdIElORk9WSVNcbiAgICAgICAgLy8gICDigJkwMy4gcHAuIDE14oCTMjIuIDxodHRwczovL3d3dy53aW4udHVlLm5sL352YW53aWprL3pvb21wYW4ucGRmI3BhZ2U9NT4uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdoZXJlIGFwcGxpY2FibGUsIGxvY2FsIHZhcmlhYmxlIGRvY3VtZW50YXRpb24gYmVnaW5zIHdpdGggdGhlIGFzc29jaWF0ZWQgdmFyaWFibGUgb3JcbiAgICAgICAgLy8gZnVuY3Rpb24gaW4gdmFuIFdpamsgKDIwMDMpLlxuXG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe1xuICAgICAgICAgICAgb2Zmc2V0OiBbMCwgMF0sXG4gICAgICAgICAgICBzcGVlZDogMS4yLFxuICAgICAgICAgICAgY3VydmU6IDEuNDIsXG4gICAgICAgICAgICBlYXNpbmc6IGRlZmF1bHRFYXNpbmdcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLnRyYW5zZm9ybSxcbiAgICAgICAgICAgIHN0YXJ0Wm9vbSA9IHRoaXMuZ2V0Wm9vbSgpLFxuICAgICAgICAgICAgc3RhcnRCZWFyaW5nID0gdGhpcy5nZXRCZWFyaW5nKCksXG4gICAgICAgICAgICBzdGFydFBpdGNoID0gdGhpcy5nZXRQaXRjaCgpLFxuICAgICAgICAgICAgc3RhcnRQYWRkaW5nID0gdGhpcy5nZXRQYWRkaW5nKCk7XG5cbiAgICAgICAgY29uc3Qgem9vbSA9ICd6b29tJyBpbiBvcHRpb25zID8gY2xhbXAoK29wdGlvbnMuem9vbSwgdHIubWluWm9vbSwgdHIubWF4Wm9vbSkgOiBzdGFydFpvb207XG4gICAgICAgIGNvbnN0IGJlYXJpbmcgPSAnYmVhcmluZycgaW4gb3B0aW9ucyA/IHRoaXMuX25vcm1hbGl6ZUJlYXJpbmcob3B0aW9ucy5iZWFyaW5nLCBzdGFydEJlYXJpbmcpIDogc3RhcnRCZWFyaW5nO1xuICAgICAgICBjb25zdCBwaXRjaCA9ICdwaXRjaCcgaW4gb3B0aW9ucyA/ICtvcHRpb25zLnBpdGNoIDogc3RhcnRQaXRjaDtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9ICdwYWRkaW5nJyBpbiBvcHRpb25zID8gb3B0aW9ucy5wYWRkaW5nIDogdHIucGFkZGluZztcblxuICAgICAgICBjb25zdCBzY2FsZSA9IHRyLnpvb21TY2FsZSh6b29tIC0gc3RhcnRab29tKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0QXNQb2ludCA9IFBvaW50LmNvbnZlcnQob3B0aW9ucy5vZmZzZXQpO1xuICAgICAgICBsZXQgcG9pbnRBdE9mZnNldCA9IHRyLmNlbnRlclBvaW50LmFkZChvZmZzZXRBc1BvaW50KTtcbiAgICAgICAgY29uc3QgbG9jYXRpb25BdE9mZnNldCA9IHRyLnBvaW50TG9jYXRpb24ocG9pbnRBdE9mZnNldCk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IExuZ0xhdC5jb252ZXJ0KG9wdGlvbnMuY2VudGVyIHx8IGxvY2F0aW9uQXRPZmZzZXQpO1xuICAgICAgICB0aGlzLl9ub3JtYWxpemVDZW50ZXIoY2VudGVyKTtcblxuICAgICAgICBjb25zdCBmcm9tID0gdHIucHJvamVjdChsb2NhdGlvbkF0T2Zmc2V0KTtcbiAgICAgICAgY29uc3QgZGVsdGEgPSB0ci5wcm9qZWN0KGNlbnRlcikuc3ViKGZyb20pO1xuXG4gICAgICAgIGxldCByaG8gPSBvcHRpb25zLmN1cnZlO1xuXG4gICAgICAgIC8vIHfigoA6IEluaXRpYWwgdmlzaWJsZSBzcGFuLCBtZWFzdXJlZCBpbiBwaXhlbHMgYXQgdGhlIGluaXRpYWwgc2NhbGUuXG4gICAgICAgIGNvbnN0IHcwID0gTWF0aC5tYXgodHIud2lkdGgsIHRyLmhlaWdodCksXG4gICAgICAgICAgICAvLyB34oKBOiBGaW5hbCB2aXNpYmxlIHNwYW4sIG1lYXN1cmVkIGluIHBpeGVscyB3aXRoIHJlc3BlY3QgdG8gdGhlIGluaXRpYWwgc2NhbGUuXG4gICAgICAgICAgICB3MSA9IHcwIC8gc2NhbGUsXG4gICAgICAgICAgICAvLyBMZW5ndGggb2YgdGhlIGZsaWdodCBwYXRoIGFzIHByb2plY3RlZCBvbnRvIHRoZSBncm91bmQgcGxhbmUsIG1lYXN1cmVkIGluIHBpeGVscyBmcm9tXG4gICAgICAgICAgICAvLyB0aGUgd29ybGQgaW1hZ2Ugb3JpZ2luIGF0IHRoZSBpbml0aWFsIHNjYWxlLlxuICAgICAgICAgICAgdTEgPSBkZWx0YS5tYWcoKTtcblxuICAgICAgICBpZiAoJ21pblpvb20nIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pblpvb20gPSBjbGFtcChNYXRoLm1pbihvcHRpb25zLm1pblpvb20sIHN0YXJ0Wm9vbSwgem9vbSksIHRyLm1pblpvb20sIHRyLm1heFpvb20pO1xuICAgICAgICAgICAgLy8gdzxzdWI+bTwvc3ViPjogTWF4aW11bSB2aXNpYmxlIHNwYW4sIG1lYXN1cmVkIGluIHBpeGVscyB3aXRoIHJlc3BlY3QgdG8gdGhlIGluaXRpYWxcbiAgICAgICAgICAgIC8vIHNjYWxlLlxuICAgICAgICAgICAgY29uc3Qgd01heCA9IHcwIC8gdHIuem9vbVNjYWxlKG1pblpvb20gLSBzdGFydFpvb20pO1xuICAgICAgICAgICAgcmhvID0gTWF0aC5zcXJ0KHdNYXggLyB1MSAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gz4HCslxuICAgICAgICBjb25zdCByaG8yID0gcmhvICogcmhvO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBy4bWiOiBSZXR1cm5zIHRoZSB6b29tLW91dCBmYWN0b3IgYXQgb25lIGVuZCBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gaSAwIGZvciB0aGUgYXNjZW50IG9yIDEgZm9yIHRoZSBkZXNjZW50LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcihpKSB7XG4gICAgICAgICAgICBjb25zdCBiID0gKHcxICogdzEgLSB3MCAqIHcwICsgKGkgPyAtMSA6IDEpICogcmhvMiAqIHJobzIgKiB1MSAqIHUxKSAvICgyICogKGkgPyB3MSA6IHcwKSAqIHJobzIgKiB1MSk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5sb2coTWF0aC5zcXJ0KGIgKiBiICsgMSkgLSBiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNpbmgobikgeyByZXR1cm4gKE1hdGguZXhwKG4pIC0gTWF0aC5leHAoLW4pKSAvIDI7IH1cbiAgICAgICAgZnVuY3Rpb24gY29zaChuKSB7IHJldHVybiAoTWF0aC5leHAobikgKyBNYXRoLmV4cCgtbikpIC8gMjsgfVxuICAgICAgICBmdW5jdGlvbiB0YW5oKG4pIHsgcmV0dXJuIHNpbmgobikgLyBjb3NoKG4pOyB9XG5cbiAgICAgICAgLy8gcuKCgDogWm9vbS1vdXQgZmFjdG9yIGR1cmluZyBhc2NlbnQuXG4gICAgICAgIGNvbnN0IHIwID0gcigwKTtcblxuICAgICAgICAvLyB3KHMpOiBSZXR1cm5zIHRoZSB2aXNpYmxlIHNwYW4gb24gdGhlIGdyb3VuZCwgbWVhc3VyZWQgaW4gcGl4ZWxzIHdpdGggcmVzcGVjdCB0byB0aGVcbiAgICAgICAgLy8gaW5pdGlhbCBzY2FsZS4gQXNzdW1lcyBhbiBhbmd1bGFyIGZpZWxkIG9mIHZpZXcgb2YgMiBhcmN0YW4gwr0g4omIIDUzwrAuXG4gICAgICAgIGxldCB3OiAoXzogbnVtYmVyKSA9PiBudW1iZXIgPSBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIChjb3NoKHIwKSAvIGNvc2gocjAgKyByaG8gKiBzKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gdShzKTogUmV0dXJucyB0aGUgZGlzdGFuY2UgYWxvbmcgdGhlIGZsaWdodCBwYXRoIGFzIHByb2plY3RlZCBvbnRvIHRoZSBncm91bmQgcGxhbmUsXG4gICAgICAgIC8vIG1lYXN1cmVkIGluIHBpeGVscyBmcm9tIHRoZSB3b3JsZCBpbWFnZSBvcmlnaW4gYXQgdGhlIGluaXRpYWwgc2NhbGUuXG4gICAgICAgIGxldCB1OiAoXzogbnVtYmVyKSA9PiBudW1iZXIgPSBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIHcwICogKChjb3NoKHIwKSAqIHRhbmgocjAgKyByaG8gKiBzKSAtIHNpbmgocjApKSAvIHJobzIpIC8gdTE7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUzogVG90YWwgbGVuZ3RoIG9mIHRoZSBmbGlnaHQgcGF0aCwgbWVhc3VyZWQgaW4gz4Etc2NyZWVuZnVscy5cbiAgICAgICAgbGV0IFMgPSAocigxKSAtIHIwKSAvIHJobztcblxuICAgICAgICAvLyBXaGVuIHXigoAgPSB14oKBLCB0aGUgb3B0aW1hbCBwYXRoIGRvZXNu4oCZdCByZXF1aXJlIGJvdGggYXNjZW50IGFuZCBkZXNjZW50LlxuICAgICAgICBpZiAoTWF0aC5hYnModTEpIDwgMC4wMDAwMDEgfHwgIWlzRmluaXRlKFMpKSB7XG4gICAgICAgICAgICAvLyBQZXJmb3JtIGEgbW9yZSBvciBsZXNzIGluc3RhbnRhbmVvdXMgdHJhbnNpdGlvbiBpZiB0aGUgcGF0aCBpcyB0b28gc2hvcnQuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModzAgLSB3MSkgPCAwLjAwMDAwMSkgcmV0dXJuIHRoaXMuZWFzZVRvKG9wdGlvbnMsIGV2ZW50RGF0YSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGsgPSB3MSA8IHcwID8gLTEgOiAxO1xuICAgICAgICAgICAgUyA9IE1hdGguYWJzKE1hdGgubG9nKHcxIC8gdzApKSAvIHJobztcblxuICAgICAgICAgICAgdSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiAgICAgICAgICAgIHcgPSBmdW5jdGlvbihzKSB7IHJldHVybiBNYXRoLmV4cChrICogcmhvICogcyk7IH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ2R1cmF0aW9uJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gK29wdGlvbnMuZHVyYXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBWID0gJ3NjcmVlblNwZWVkJyBpbiBvcHRpb25zID8gK29wdGlvbnMuc2NyZWVuU3BlZWQgLyByaG8gOiArb3B0aW9ucy5zcGVlZDtcbiAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSAxMDAwICogUyAvIFY7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5tYXhEdXJhdGlvbiAmJiBvcHRpb25zLmR1cmF0aW9uID4gb3B0aW9ucy5tYXhEdXJhdGlvbikge1xuICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB6b29tQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGJlYXJpbmdDaGFuZ2VkID0gKHN0YXJ0QmVhcmluZyAhPT0gYmVhcmluZyk7XG4gICAgICAgIGNvbnN0IHBpdGNoQ2hhbmdlZCA9IChwaXRjaCAhPT0gc3RhcnRQaXRjaCk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdDaGFuZ2VkID0gIXRyLmlzUGFkZGluZ0VxdWFsKHBhZGRpbmcpO1xuXG4gICAgICAgIGNvbnN0IGZyYW1lID0gKHRyKSA9PiAoaykgPT4ge1xuICAgICAgICAgICAgLy8gczogVGhlIGRpc3RhbmNlIHRyYXZlbGVkIGFsb25nIHRoZSBmbGlnaHQgcGF0aCwgbWVhc3VyZWQgaW4gz4Etc2NyZWVuZnVscy5cbiAgICAgICAgICAgIGNvbnN0IHMgPSBrICogUztcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gMSAvIHcocyk7XG4gICAgICAgICAgICB0ci56b29tID0gayA9PT0gMSA/IHpvb20gOiBzdGFydFpvb20gKyB0ci5zY2FsZVpvb20oc2NhbGUpO1xuXG4gICAgICAgICAgICBpZiAoYmVhcmluZ0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0ci5iZWFyaW5nID0gaW50ZXJwb2xhdGUoc3RhcnRCZWFyaW5nLCBiZWFyaW5nLCBrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwaXRjaENoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0ci5waXRjaCA9IGludGVycG9sYXRlKHN0YXJ0UGl0Y2gsIHBpdGNoLCBrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYWRkaW5nQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRyLmludGVycG9sYXRlUGFkZGluZyhzdGFydFBhZGRpbmcsIHBhZGRpbmcsIGspO1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gcGFkZGluZyBpcyBiZWluZyBhcHBsaWVkLCBUcmFuc2Zvcm0jY2VudGVyUG9pbnQgaXMgY2hhbmdpbmcgY29udGludW91c2x5LFxuICAgICAgICAgICAgICAgIC8vIHRodXMgd2UgbmVlZCB0byByZWNhbGN1bGF0ZSBvZmZzZXRQb2ludCBldmVyeSBmcmFtZVxuICAgICAgICAgICAgICAgIHBvaW50QXRPZmZzZXQgPSB0ci5jZW50ZXJQb2ludC5hZGQob2Zmc2V0QXNQb2ludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0NlbnRlciA9IGsgPT09IDEgPyBjZW50ZXIgOiB0ci51bnByb2plY3QoZnJvbS5hZGQoZGVsdGEubXVsdCh1KHMpKSkubXVsdChzY2FsZSkpO1xuICAgICAgICAgICAgdHIuc2V0TG9jYXRpb25BdFBvaW50KHRyLnJlbmRlcldvcmxkQ29waWVzID8gbmV3Q2VudGVyLndyYXAoKSA6IG5ld0NlbnRlciwgcG9pbnRBdE9mZnNldCk7XG4gICAgICAgICAgICB0ci5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCk7XG5cbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5wcmVsb2FkT25seSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cjtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy5wcmVsb2FkT25seSkge1xuICAgICAgICAgICAgY29uc3QgcHJlZGljdGVkVHJhbnNmb3JtcyA9IHRoaXMuX2VtdWxhdGUoZnJhbWUsIG9wdGlvbnMuZHVyYXRpb24sIHRyKTtcbiAgICAgICAgICAgIHRoaXMuX3ByZWxvYWRUaWxlcyhwcmVkaWN0ZWRUcmFuc2Zvcm1zKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fem9vbWluZyA9IHpvb21DaGFuZ2VkO1xuICAgICAgICB0aGlzLl9yb3RhdGluZyA9IGJlYXJpbmdDaGFuZ2VkO1xuICAgICAgICB0aGlzLl9waXRjaGluZyA9IHBpdGNoQ2hhbmdlZDtcbiAgICAgICAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmdDaGFuZ2VkO1xuXG4gICAgICAgIHRoaXMuX3ByZXBhcmVFYXNlKGV2ZW50RGF0YSwgZmFsc2UpO1xuICAgICAgICB0aGlzLl9lYXNlKGZyYW1lKHRyKSwgKCkgPT4gdGhpcy5fYWZ0ZXJFYXNlKGV2ZW50RGF0YSksIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlzRWFzaW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lYXNlRnJhbWVJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbnkgYW5pbWF0ZWQgdHJhbnNpdGlvbiB1bmRlcndheS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zdG9wKCk7XG4gICAgICovXG4gICAgc3RvcCgpOiB0aGlzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3AoKTtcbiAgICB9XG5cbiAgICBfc3RvcChhbGxvd0dlc3R1cmVzPzogYm9vbGVhbiwgZWFzZUlkPzogc3RyaW5nKTogdGhpcyB7XG4gICAgICAgIGlmICh0aGlzLl9lYXNlRnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZWFzZUZyYW1lSWQpO1xuICAgICAgICAgICAgdGhpcy5fZWFzZUZyYW1lSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl9vbkVhc2VGcmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9vbkVhc2VFbmQpIHtcbiAgICAgICAgICAgIC8vIFRoZSBfb25FYXNlRW5kIGZ1bmN0aW9uIG1pZ2h0IGVtaXQgZXZlbnRzIHdoaWNoIHRyaWdnZXIgbmV3XG4gICAgICAgICAgICAvLyBhbmltYXRpb24sIHdoaWNoIHNldHMgYSBuZXcgX29uRWFzZUVuZC4gRW5zdXJlIHdlIGRvbid0IGRlbGV0ZVxuICAgICAgICAgICAgLy8gaXQgdW5pbnRlbnRpb25hbGx5LlxuICAgICAgICAgICAgY29uc3Qgb25FYXNlRW5kID0gdGhpcy5fb25FYXNlRW5kO1xuICAgICAgICAgICAgdGhpcy5fb25FYXNlRW5kID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgb25FYXNlRW5kLmNhbGwodGhpcywgZWFzZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFsbG93R2VzdHVyZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXJzID0gKHRoaXM6IGFueSkuaGFuZGxlcnM7XG4gICAgICAgICAgICBpZiAoaGFuZGxlcnMpIGhhbmRsZXJzLnN0b3AoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9lYXNlKGZyYW1lOiAoXzogbnVtYmVyKSA9PiBUcmFuc2Zvcm0gfCB2b2lkLFxuICAgICAgICAgIGZpbmlzaDogKCkgPT4gdm9pZCxcbiAgICAgICAgICBvcHRpb25zOiB7YW5pbWF0ZTogYm9vbGVhbiwgZHVyYXRpb246IG51bWJlciwgZWFzaW5nOiAoXzogbnVtYmVyKSA9PiBudW1iZXJ9KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGUgPT09IGZhbHNlIHx8IG9wdGlvbnMuZHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgIGZyYW1lKDEpO1xuICAgICAgICAgICAgZmluaXNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9lYXNlU3RhcnQgPSBicm93c2VyLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5fZWFzZU9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAgICAgdGhpcy5fb25FYXNlRnJhbWUgPSBmcmFtZTtcbiAgICAgICAgICAgIHRoaXMuX29uRWFzZUVuZCA9IGZpbmlzaDtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHRoaXMuX2Vhc2VGcmFtZUlkID0gdGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FsbGJhY2sgZm9yIG1hcC5fcmVxdWVzdFJlbmRlckZyYW1lXG4gICAgX3JlbmRlckZyYW1lQ2FsbGJhY2soKSB7XG4gICAgICAgIGNvbnN0IHQgPSBNYXRoLm1pbigoYnJvd3Nlci5ub3coKSAtIHRoaXMuX2Vhc2VTdGFydCkgLyB0aGlzLl9lYXNlT3B0aW9ucy5kdXJhdGlvbiwgMSk7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fb25FYXNlRnJhbWU7XG4gICAgICAgIGlmIChmcmFtZSkgZnJhbWUodGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKHQpKTtcbiAgICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB0aGlzLl9lYXNlRnJhbWVJZCA9IHRoaXMuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9yZW5kZXJGcmFtZUNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29udmVydCBiZWFyaW5nIHNvIHRoYXQgaXQncyBudW1lcmljYWxseSBjbG9zZSB0byB0aGUgY3VycmVudCBvbmUgc28gdGhhdCBpdCBpbnRlcnBvbGF0ZXMgcHJvcGVybHlcbiAgICBfbm9ybWFsaXplQmVhcmluZyhiZWFyaW5nOiBudW1iZXIsIGN1cnJlbnRCZWFyaW5nOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBiZWFyaW5nID0gd3JhcChiZWFyaW5nLCAtMTgwLCAxODApO1xuICAgICAgICBjb25zdCBkaWZmID0gTWF0aC5hYnMoYmVhcmluZyAtIGN1cnJlbnRCZWFyaW5nKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGJlYXJpbmcgLSAzNjAgLSBjdXJyZW50QmVhcmluZykgPCBkaWZmKSBiZWFyaW5nIC09IDM2MDtcbiAgICAgICAgaWYgKE1hdGguYWJzKGJlYXJpbmcgKyAzNjAgLSBjdXJyZW50QmVhcmluZykgPCBkaWZmKSBiZWFyaW5nICs9IDM2MDtcbiAgICAgICAgcmV0dXJuIGJlYXJpbmc7XG4gICAgfVxuXG4gICAgLy8gSWYgYSBwYXRoIGNyb3NzaW5nIHRoZSBhbnRpbWVyaWRpYW4gd291bGQgYmUgc2hvcnRlciwgZXh0ZW5kIHRoZSBmaW5hbCBjb29yZGluYXRlIHNvIHRoYXRcbiAgICAvLyBpbnRlcnBvbGF0aW5nIGJldHdlZW4gdGhlIHR3byBlbmRwb2ludHMgd2lsbCBjcm9zcyBpdC5cbiAgICBfbm9ybWFsaXplQ2VudGVyKGNlbnRlcjogTG5nTGF0KSB7XG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIGlmICghdHIucmVuZGVyV29ybGRDb3BpZXMgfHwgdHIubWF4Qm91bmRzKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZGVsdGEgPSBjZW50ZXIubG5nIC0gdHIuY2VudGVyLmxuZztcbiAgICAgICAgY2VudGVyLmxuZyArPVxuICAgICAgICAgICAgZGVsdGEgPiAxODAgPyAtMzYwIDpcbiAgICAgICAgICAgIGRlbHRhIDwgLTE4MCA/IDM2MCA6IDA7XG4gICAgfVxuXG4gICAgLy8gZW11bGF0ZXMgZnJhbWUgZnVuY3Rpb24gZm9yIHNvbWUgdHJhbnNmb3JtXG4gICAgX2VtdWxhdGUoZnJhbWU6IEZ1bmN0aW9uLCBkdXJhdGlvbjogbnVtYmVyLCBpbml0aWFsVHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBBcnJheTxUcmFuc2Zvcm0+IHtcbiAgICAgICAgY29uc3QgZnJhbWVSYXRlID0gMTU7XG4gICAgICAgIGNvbnN0IG51bUZyYW1lcyA9IE1hdGguY2VpbChkdXJhdGlvbiAqIGZyYW1lUmF0ZSAvIDEwMDApO1xuXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybXMgPSBbXTtcbiAgICAgICAgY29uc3QgZW11bGF0ZUZyYW1lID0gZnJhbWUoaW5pdGlhbFRyYW5zZm9ybS5jbG9uZSgpKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gbnVtRnJhbWVzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IGVtdWxhdGVGcmFtZShpIC8gbnVtRnJhbWVzKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybXMucHVzaCh0cmFuc2Zvcm0uY2xvbmUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJhbnNmb3JtcztcbiAgICB9XG59XG5cbi8vIEluIGRlYnVnIGJ1aWxkcywgY2hlY2sgdGhhdCBjYW1lcmEgY2hhbmdlIGV2ZW50cyBhcmUgZmlyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuXG4vLyAtIF9fX3N0YXJ0IGV2ZW50cyBuZWVkcyB0byBiZSBmaXJlZCBiZWZvcmUgX19fIGFuZCBfX19lbmQgZXZlbnRzXG4vLyAtIGFub3RoZXIgX19fc3RhcnQgZXZlbnQgY2FuJ3QgYmUgZmlyZWQgYmVmb3JlIGEgX19fZW5kIGV2ZW50IGhhcyBiZWVuIGZpcmVkIGZvciB0aGUgcHJldmlvdXMgb25lXG5mdW5jdGlvbiBhZGRBc3NlcnRpb25zKGNhbWVyYTogQ2FtZXJhKSB7IC8vZXNsaW50LWRpc2FibGUtbGluZVxuICAgIERlYnVnLnJ1bigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGluUHJvZ3Jlc3MgPSB7fTtcblxuICAgICAgICBbJ2RyYWcnLCAnem9vbScsICdyb3RhdGUnLCAncGl0Y2gnLCAnbW92ZSddLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgICAgICBpblByb2dyZXNzW25hbWVdID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGNhbWVyYS5vbigoKGAke25hbWV9c3RhcnRgOiBhbnkpOiBNYXBFdmVudCksICgpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoIWluUHJvZ3Jlc3NbbmFtZV0sIGBcIiR7bmFtZX1zdGFydFwiIGZpcmVkIHR3aWNlIHdpdGhvdXQgYSBcIiR7bmFtZX1lbmRcImApO1xuICAgICAgICAgICAgICAgIGluUHJvZ3Jlc3NbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFzc2VydChpblByb2dyZXNzLm1vdmUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhbWVyYS5vbihuYW1lLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGluUHJvZ3Jlc3NbbmFtZV0pO1xuICAgICAgICAgICAgICAgIGFzc2VydChpblByb2dyZXNzLm1vdmUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhbWVyYS5vbigoKGAke25hbWV9ZW5kYDogYW55KTogTWFwRXZlbnQpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGluUHJvZ3Jlc3MubW92ZSk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGluUHJvZ3Jlc3NbbmFtZV0pO1xuICAgICAgICAgICAgICAgIGluUHJvZ3Jlc3NbbmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDYW5hcnkgdXNlZCB0byB0ZXN0IHdoZXRoZXIgdGhpcyBmdW5jdGlvbiBpcyBzdHJpcHBlZCBpbiBwcm9kIGJ1aWxkXG4gICAgICAgIGNhbmFyeSA9ICdjYW5hcnkgZGVidWcgcnVuJzsgLy9lc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgfSk7XG59XG5cbmxldCBjYW5hcnk7IC8vZXNsaW50LWRpc2FibGUtbGluZVxuXG5leHBvcnQgZGVmYXVsdCBDYW1lcmE7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20uanMnO1xuaW1wb3J0IHtiaW5kQWxsfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi91dGlsL2NvbmZpZy5qcyc7XG5pbXBvcnQge2dldEhhc2hTdHJpbmd9IGZyb20gJy4uL2hhc2guanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAsIHtDb250cm9sUG9zaXRpb259IGZyb20gJy4uL21hcC5qcyc7XG5cbnR5cGUgT3B0aW9ucyA9IHtcbiAgICBjb21wYWN0PzogYm9vbGVhbixcbiAgICBjdXN0b21BdHRyaWJ1dGlvbj86IHN0cmluZyB8IEFycmF5PHN0cmluZz5cbn07XG5cbi8qKlxuICogQW4gYEF0dHJpYnV0aW9uQ29udHJvbGAgY29udHJvbCBwcmVzZW50cyB0aGUgbWFwJ3MgW2F0dHJpYnV0aW9uIGluZm9ybWF0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9oZWxwL2hvdy1tYXBib3gtd29ya3MvYXR0cmlidXRpb24vKS5cbiAqIEFkZCB0aGlzIGNvbnRyb2wgdG8gYSBtYXAgdXNpbmcge0BsaW5rIE1hcCNhZGRDb250cm9sfS5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvbXBhY3RdIElmIGB0cnVlYCwgZm9yY2UgYSBjb21wYWN0IGF0dHJpYnV0aW9uIHRoYXQgc2hvd3MgdGhlIGZ1bGwgYXR0cmlidXRpb24gb24gbW91c2UgaG92ZXIuIElmIGBmYWxzZWAsIGZvcmNlIHRoZSBmdWxsIGF0dHJpYnV0aW9uIGNvbnRyb2wuIFRoZSBkZWZhdWx0IGlzIGEgcmVzcG9uc2l2ZSBhdHRyaWJ1dGlvbiB0aGF0IGNvbGxhcHNlcyB3aGVuIHRoZSBtYXAgaXMgbGVzcyB0aGFuIDY0MCBwaXhlbHMgd2lkZS4gKipBdHRyaWJ1dGlvbiBzaG91bGQgbm90IGJlIGNvbGxhcHNlZCBpZiBpdCBjYW4gY29tZm9ydGFibHkgZml0IG9uIHRoZSBtYXAuIGBjb21wYWN0YCBzaG91bGQgb25seSBiZSB1c2VkIHRvIG1vZGlmeSBkZWZhdWx0IGF0dHJpYnV0aW9uIHdoZW4gbWFwIHNpemUgbWFrZXMgaXQgaW1wb3NzaWJsZSB0byBmaXQgW2RlZmF1bHQgYXR0cmlidXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvaG93LW1hcGJveC13b3Jrcy9hdHRyaWJ1dGlvbi8pIGFuZCB3aGVuIHRoZSBhdXRvbWF0aWMgY29tcGFjdCByZXNpemluZyBmb3IgZGVmYXVsdCBzZXR0aW5ncyBhcmUgbm90IHN1ZmZpY2llbnQqKi5cbiAqIEBwYXJhbSB7c3RyaW5nIHwgQXJyYXk8c3RyaW5nPn0gW29wdGlvbnMuY3VzdG9tQXR0cmlidXRpb25dIFN0cmluZyBvciBzdHJpbmdzIHRvIHNob3cgaW4gYWRkaXRpb24gdG8gYW55IG90aGVyIGF0dHJpYnV0aW9ucy4gWW91IGNhbiBhbHNvIHNldCBhIGN1c3RvbSBhdHRyaWJ1dGlvbiB3aGVuIGluaXRpYWxpemluZyB5b3VyIG1hcCB3aXRoIHtAbGluayBodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpL21hcC8jbWFwLXBhcmFtZXRlcnMgdGhlIGN1c3RvbUF0dHJpYnV0aW9uIG9wdGlvbn0uXG4gKiBAZXhhbXBsZVxuICogY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7YXR0cmlidXRpb25Db250cm9sOiBmYWxzZX0pXG4gKiAgICAgLmFkZENvbnRyb2wobmV3IG1hcGJveGdsLkF0dHJpYnV0aW9uQ29udHJvbCh7XG4gKiAgICAgICAgIGN1c3RvbUF0dHJpYnV0aW9uOiAnTWFwIGRlc2lnbiBieSBtZSdcbiAqICAgICB9KSk7XG4gKi9cbmNsYXNzIEF0dHJpYnV0aW9uQ29udHJvbCB7XG4gICAgb3B0aW9uczogT3B0aW9ucztcbiAgICBfbWFwOiBNYXA7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2lubmVyQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfY29tcGFjdEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgX2VkaXRMaW5rOiA/SFRNTEFuY2hvckVsZW1lbnQ7XG4gICAgX2F0dHJpYkhUTUw6IHN0cmluZztcbiAgICBzdHlsZUlkOiBzdHJpbmc7XG4gICAgc3R5bGVPd25lcjogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX3RvZ2dsZUF0dHJpYnV0aW9uJyxcbiAgICAgICAgICAgICdfdXBkYXRlRWRpdExpbmsnLFxuICAgICAgICAgICAgJ191cGRhdGVEYXRhJyxcbiAgICAgICAgICAgICdfdXBkYXRlQ29tcGFjdCdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0RGVmYXVsdFBvc2l0aW9uKCk6IENvbnRyb2xQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLXJpZ2h0JztcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgY29tcGFjdCA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuY29tcGFjdDtcblxuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtYXR0cmliJyk7XG4gICAgICAgIHRoaXMuX2NvbXBhY3RCdXR0b24gPSBET00uY3JlYXRlKCdidXR0b24nLCAnbWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9uJywgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgRE9NLmNyZWF0ZSgnc3BhbicsIGBtYXBib3hnbC1jdHJsLWljb25gLCB0aGlzLl9jb21wYWN0QnV0dG9uKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgdGhpcy5fY29tcGFjdEJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fY29tcGFjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX3RvZ2dsZUF0dHJpYnV0aW9uKTtcbiAgICAgICAgdGhpcy5fc2V0RWxlbWVudFRpdGxlKHRoaXMuX2NvbXBhY3RCdXR0b24sICdUb2dnbGVBdHRyaWJ1dGlvbicpO1xuICAgICAgICB0aGlzLl9pbm5lckNvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1jdHJsLWF0dHJpYi1pbm5lcicsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2lubmVyQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgncm9sZScsICdsaXN0Jyk7XG5cbiAgICAgICAgaWYgKGNvbXBhY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jb21wYWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRWRpdExpbmsoKTtcblxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX21hcC5vbignc3R5bGVkYXRhJywgdGhpcy5fdXBkYXRlRGF0YSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdzb3VyY2VkYXRhJywgdGhpcy5fdXBkYXRlRGF0YSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlRWRpdExpbmspO1xuXG4gICAgICAgIGlmIChjb21wYWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHRoaXMuX21hcC5vbigncmVzaXplJywgdGhpcy5fdXBkYXRlQ29tcGFjdCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb21wYWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlKCk7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9tYXAub2ZmKCdzdHlsZWRhdGEnLCB0aGlzLl91cGRhdGVEYXRhKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9tYXAub2ZmKCdzb3VyY2VkYXRhJywgdGhpcy5fdXBkYXRlRGF0YSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZUVkaXRMaW5rKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9tYXAub2ZmKCdyZXNpemUnLCB0aGlzLl91cGRhdGVDb21wYWN0KTtcblxuICAgICAgICB0aGlzLl9tYXAgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgICAgICB0aGlzLl9hdHRyaWJIVE1MID0gKHVuZGVmaW5lZDogYW55KTtcbiAgICB9XG5cbiAgICBfc2V0RWxlbWVudFRpdGxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCB0aXRsZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHN0ciA9IHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoYEF0dHJpYnV0aW9uQ29udHJvbC4ke3RpdGxlfWApO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHN0cik7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd0aXRsZScpO1xuICAgICAgICBpZiAoZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCkgZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgc3RyKTtcbiAgICB9XG5cbiAgICBfdG9nZ2xlQXR0cmlidXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYXBib3hnbC1jb21wYWN0LXNob3cnKSkge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWNvbXBhY3Qtc2hvdycpO1xuICAgICAgICAgICAgdGhpcy5fY29tcGFjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jb21wYWN0LXNob3cnKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBhY3RCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVFZGl0TGluaygpIHtcbiAgICAgICAgbGV0IGVkaXRMaW5rID0gdGhpcy5fZWRpdExpbms7XG4gICAgICAgIGlmICghZWRpdExpbmspIHtcbiAgICAgICAgICAgIGVkaXRMaW5rID0gdGhpcy5fZWRpdExpbmsgPSAodGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5tYXBib3gtaW1wcm92ZS1tYXAnKTogYW55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IFtcbiAgICAgICAgICAgIHtrZXk6ICdvd25lcicsIHZhbHVlOiB0aGlzLnN0eWxlT3duZXJ9LFxuICAgICAgICAgICAge2tleTogJ2lkJywgdmFsdWU6IHRoaXMuc3R5bGVJZH0sXG4gICAgICAgICAgICB7a2V5OiAnYWNjZXNzX3Rva2VuJywgdmFsdWU6IHRoaXMuX21hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuIHx8IGNvbmZpZy5BQ0NFU1NfVE9LRU59XG4gICAgICAgIF07XG5cbiAgICAgICAgaWYgKGVkaXRMaW5rKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbVN0cmluZyA9IHBhcmFtcy5yZWR1Y2UoKGFjYywgbmV4dCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuZXh0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjYyArPSBgJHtuZXh0LmtleX09JHtuZXh0LnZhbHVlfSR7aSA8IHBhcmFtcy5sZW5ndGggLSAxID8gJyYnIDogJyd9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIGA/YCk7XG4gICAgICAgICAgICBlZGl0TGluay5ocmVmID0gYCR7Y29uZmlnLkZFRURCQUNLX1VSTH0vJHtwYXJhbVN0cmluZ30jJHtnZXRIYXNoU3RyaW5nKHRoaXMuX21hcCwgdHJ1ZSl9YDtcbiAgICAgICAgICAgIGVkaXRMaW5rLnJlbCA9ICdub29wZW5lciBub2ZvbGxvdyc7XG4gICAgICAgICAgICB0aGlzLl9zZXRFbGVtZW50VGl0bGUoZWRpdExpbmssICdNYXBGZWVkYmFjaycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZURhdGEoZTogYW55KSB7XG4gICAgICAgIGlmIChlICYmIChlLnNvdXJjZURhdGFUeXBlID09PSAnbWV0YWRhdGEnIHx8IGUuc291cmNlRGF0YVR5cGUgPT09ICd2aXNpYmlsaXR5JyB8fCBlLmRhdGFUeXBlID09PSAnc3R5bGUnKSkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQXR0cmlidXRpb25zKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVFZGl0TGluaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZUF0dHJpYnV0aW9ucygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXAuc3R5bGUpIHJldHVybjtcbiAgICAgICAgbGV0IGF0dHJpYnV0aW9uczogQXJyYXk8c3RyaW5nPiA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldCkge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzaGVldDogYW55ID0gdGhpcy5fbWFwLnN0eWxlLnN0eWxlc2hlZXQ7XG4gICAgICAgICAgICB0aGlzLnN0eWxlT3duZXIgPSBzdHlsZXNoZWV0Lm93bmVyO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlkID0gc3R5bGVzaGVldC5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlcyA9IHRoaXMuX21hcC5zdHlsZS5fc291cmNlQ2FjaGVzO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSBzb3VyY2VDYWNoZXNbaWRdO1xuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLnVzZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLmF0dHJpYnV0aW9uICYmIGF0dHJpYnV0aW9ucy5pbmRleE9mKHNvdXJjZS5hdHRyaWJ1dGlvbikgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdIC0gRmxvdyBjYW4ndCBpbmZlciB0aGF0IGF0dHJpYnV0aW9uIGlzIGEgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9ucy5wdXNoKHNvdXJjZS5hdHRyaWJ1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGFueSBlbnRyaWVzIHRoYXQgYXJlIHN1YnN0cmluZ3Mgb2YgYW5vdGhlciBlbnRyeS5cbiAgICAgICAgLy8gZmlyc3Qgc29ydCBieSBsZW5ndGggc28gdGhhdCBzdWJzdHJpbmdzIGNvbWUgZmlyc3RcbiAgICAgICAgYXR0cmlidXRpb25zLnNvcnQoKGEsIGIpID0+IGEubGVuZ3RoIC0gYi5sZW5ndGgpO1xuICAgICAgICBhdHRyaWJ1dGlvbnMgPSBhdHRyaWJ1dGlvbnMuZmlsdGVyKChhdHRyaWIsIGkpID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGF0dHJpYnV0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGlvbnNbal0uaW5kZXhPZihhdHRyaWIpID49IDApIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbikge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uKSkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9ucyA9IFsuLi50aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24sIC4uLmF0dHJpYnV0aW9uc107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9ucy51bnNoaWZ0KHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiBhdHRyaWJ1dGlvbiBzdHJpbmcgaXMgZGlmZmVyZW50IHRvIG1pbmltaXplIERPTSBjaGFuZ2VzXG4gICAgICAgIGNvbnN0IGF0dHJpYkhUTUwgPSBhdHRyaWJ1dGlvbnMuam9pbignIHwgJyk7XG4gICAgICAgIGlmIChhdHRyaWJIVE1MID09PSB0aGlzLl9hdHRyaWJIVE1MKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fYXR0cmliSFRNTCA9IGF0dHJpYkhUTUw7XG5cbiAgICAgICAgaWYgKGF0dHJpYnV0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lubmVyQ29udGFpbmVyLmlubmVySFRNTCA9IGF0dHJpYkhUTUw7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtYXR0cmliLWVtcHR5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtYXR0cmliLWVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIG9sZCBET00gbm9kZSBmcm9tIF9lZGl0TGlua1xuICAgICAgICB0aGlzLl9lZGl0TGluayA9IG51bGw7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUNvbXBhY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGggPD0gNjQwKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY29tcGFjdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWNvbXBhY3QnLCAnbWFwYm94Z2wtY29tcGFjdC1zaG93Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXR0cmlidXRpb25Db250cm9sO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tLmpzJztcbmltcG9ydCB7YmluZEFsbH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcblxuaW1wb3J0IHR5cGUgTWFwLCB7Q29udHJvbFBvc2l0aW9ufSBmcm9tICcuLi9tYXAuanMnO1xuXG4vKipcbiAqIEEgYExvZ29Db250cm9sYCBpcyBhIGNvbnRyb2wgdGhhdCBhZGRzIHRoZSBNYXBib3ggd2F0ZXJtYXJrXG4gKiB0byB0aGUgbWFwIGFzIHJlcXVpcmVkIGJ5IHRoZSBbdGVybXMgb2Ygc2VydmljZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS90b3MvKSBmb3IgTWFwYm94XG4gKiB2ZWN0b3IgdGlsZXMgYW5kIGNvcmUgc3R5bGVzLlxuICogQWRkIHRoaXMgY29udHJvbCB0byBhIG1hcCB1c2luZyB7QGxpbmsgTWFwI2FkZENvbnRyb2x9LlxuICpcbiAqIEBpbXBsZW1lbnRzIHtJQ29udHJvbH1cbiAqIEBwcml2YXRlXG4qKi9cblxuY2xhc3MgTG9nb0NvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBiaW5kQWxsKFsnX3VwZGF0ZUxvZ28nLCAnX3VwZGF0ZUNvbXBhY3QnXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWN0cmwnKTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gRE9NLmNyZWF0ZSgnYScsICdtYXBib3hnbC1jdHJsLWxvZ28nKTtcbiAgICAgICAgYW5jaG9yLnRhcmdldCA9IFwiX2JsYW5rXCI7XG4gICAgICAgIGFuY2hvci5yZWwgPSBcIm5vb3BlbmVyIG5vZm9sbG93XCI7XG4gICAgICAgIGFuY2hvci5ocmVmID0gXCJodHRwczovL3d3dy5tYXBib3guY29tL1wiO1xuICAgICAgICBhbmNob3Iuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCB0aGlzLl9tYXAuX2dldFVJU3RyaW5nKCdMb2dvQ29udHJvbC5UaXRsZScpKTtcbiAgICAgICAgYW5jaG9yLnNldEF0dHJpYnV0ZShcInJlbFwiLCBcIm5vb3BlbmVyIG5vZm9sbG93XCIpO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQoYW5jaG9yKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9tYXAub24oJ3NvdXJjZWRhdGEnLCB0aGlzLl91cGRhdGVMb2dvKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTG9nbygpO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdyZXNpemUnLCB0aGlzLl91cGRhdGVDb21wYWN0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29tcGFjdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9tYXAub2ZmKCdzb3VyY2VkYXRhJywgdGhpcy5fdXBkYXRlTG9nbyk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9mZigncmVzaXplJywgdGhpcy5fdXBkYXRlQ29tcGFjdCk7XG4gICAgfVxuXG4gICAgZ2V0RGVmYXVsdFBvc2l0aW9uKCk6IENvbnRyb2xQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLWxlZnQnO1xuICAgIH1cblxuICAgIF91cGRhdGVMb2dvKGU6IGFueSkge1xuICAgICAgICBpZiAoIWUgfHwgZS5zb3VyY2VEYXRhVHlwZSA9PT0gJ21ldGFkYXRhJykge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSB0aGlzLl9sb2dvUmVxdWlyZWQoKSA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9nb1JlcXVpcmVkKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIXRoaXMuX21hcC5zdHlsZSkgcmV0dXJuIHRydWU7XG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlcyA9IHRoaXMuX21hcC5zdHlsZS5fc291cmNlQ2FjaGVzO1xuICAgICAgICBpZiAoT2JqZWN0LmVudHJpZXMoc291cmNlQ2FjaGVzKS5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGVzW2lkXS5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoJ21hcGJveF9sb2dvJykgJiYgIXNvdXJjZS5tYXBib3hfbG9nbykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIF91cGRhdGVDb21wYWN0KCkge1xuICAgICAgICBjb25zdCBjb250YWluZXJDaGlsZHJlbiA9IHRoaXMuX2NvbnRhaW5lci5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGNvbnRhaW5lckNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gY29udGFpbmVyQ2hpbGRyZW5bMF07XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoIDwgMjUwKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWNvbXBhY3QnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWNvbXBhY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dvQ29udHJvbDtcbiIsIi8vIEBmbG93IHN0cmljdFxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5leHBvcnQgdHlwZSBUYXNrSUQgPSBudW1iZXI7IC8vIGNhbid0IG1hcmsgb3BhcXVlIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vZmxvd3R5cGUvZmxvdy1yZW1vdmUtdHlwZXMvcHVsbC82MVxudHlwZSBUYXNrID0ge1xuICAgIGNhbGxiYWNrOiAodGltZVN0YW1wOiBudW1iZXIpID0+IHZvaWQ7XG4gICAgaWQ6IFRhc2tJRDtcbiAgICBjYW5jZWxsZWQ6IGJvb2xlYW47XG59O1xuXG5jbGFzcyBUYXNrUXVldWUge1xuICAgIF9xdWV1ZTogQXJyYXk8VGFzaz47XG4gICAgX2lkOiBUYXNrSUQ7XG4gICAgX2NsZWFyZWQ6IGJvb2xlYW47XG4gICAgX2N1cnJlbnRseVJ1bm5pbmc6IEFycmF5PFRhc2s+IHwgZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcigpICB7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgICAgIHRoaXMuX2lkID0gMDtcbiAgICAgICAgdGhpcy5fY2xlYXJlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jdXJyZW50bHlSdW5uaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYWRkKGNhbGxiYWNrOiAodGltZVN0YW1wOiBudW1iZXIpID0+IHZvaWQpOiBUYXNrSUQge1xuICAgICAgICBjb25zdCBpZCA9ICsrdGhpcy5faWQ7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fcXVldWU7XG4gICAgICAgIHF1ZXVlLnB1c2goe2NhbGxiYWNrLCBpZCwgY2FuY2VsbGVkOiBmYWxzZX0pO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuXG4gICAgcmVtb3ZlKGlkOiBUYXNrSUQpIHtcbiAgICAgICAgY29uc3QgcnVubmluZyA9IHRoaXMuX2N1cnJlbnRseVJ1bm5pbmc7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gcnVubmluZyA/IHRoaXMuX3F1ZXVlLmNvbmNhdChydW5uaW5nKSA6IHRoaXMuX3F1ZXVlO1xuICAgICAgICBmb3IgKGNvbnN0IHRhc2sgb2YgcXVldWUpIHtcbiAgICAgICAgICAgIGlmICh0YXNrLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIHRhc2suY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBydW4odGltZVN0YW1wOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIGFzc2VydCghdGhpcy5fY3VycmVudGx5UnVubmluZyk7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fY3VycmVudGx5UnVubmluZyA9IHRoaXMuX3F1ZXVlO1xuXG4gICAgICAgIC8vIFRhc2tzIHF1ZXVlZCBieSBjYWxsYmFja3MgaW4gdGhlIGN1cnJlbnQgcXVldWUgc2hvdWxkIGJlIGV4ZWN1dGVkXG4gICAgICAgIC8vIG9uIHRoZSBuZXh0IHJ1biwgbm90IHRoZSBjdXJyZW50IHJ1bi5cbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRhc2sgb2YgcXVldWUpIHtcbiAgICAgICAgICAgIGlmICh0YXNrLmNhbmNlbGxlZCkgY29udGludWU7XG4gICAgICAgICAgICB0YXNrLmNhbGxiYWNrKHRpbWVTdGFtcCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2xlYXJlZCkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jbGVhcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRseVJ1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRseVJ1bm5pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUYXNrUXVldWU7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0LmpzJztcblxuaW1wb3J0IHR5cGUgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybS5qcyc7XG5cbi8qKlxuICogR2l2ZW4gYSBMbmdMYXQsIHByaW9yIHByb2plY3RlZCBwb3NpdGlvbiwgYW5kIGEgdHJhbnNmb3JtLCByZXR1cm4gYSBuZXcgTG5nTGF0IHNoaWZ0ZWRcbiAqIG4gw5cgMzYwwrAgZWFzdCBvciB3ZXN0IGZvciBzb21lIG4g4omlIDAgc3VjaCB0aGF0OlxuICpcbiAqICogdGhlIHByb2plY3RlZCBsb2NhdGlvbiBvZiB0aGUgcmVzdWx0IGlzIG9uIHNjcmVlbiwgaWYgcG9zc2libGUsIGFuZCBzZWNvbmRhcmlseTpcbiAqICogdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcHJvamVjdGVkIGxvY2F0aW9uIG9mIHRoZSByZXN1bHQgYW5kIHRoZSBwcmlvciBwb3NpdGlvblxuICogICBpcyBtaW5pbWl6ZWQuXG4gKlxuICogVGhlIG9iamVjdCBpcyB0byBwcmVzZXJ2ZSBwZXJjZWl2ZWQgb2JqZWN0IGNvbnN0YW5jeSBmb3IgUG9wdXBzIGFuZCBNYXJrZXJzIGFzIG11Y2ggYXNcbiAqIHBvc3NpYmxlOyB0aGV5IHNob3VsZCBhdm9pZCBzaGlmdGluZyBsYXJnZSBkaXN0YW5jZXMgYWNyb3NzIHRoZSBzY3JlZW4sIGV2ZW4gd2hlbiB0aGVcbiAqIG1hcCBjZW50ZXIgY2hhbmdlcyBieSDCsTM2MMKwIGR1ZSB0byBhdXRvbWF0aWMgd3JhcHBpbmcsIGFuZCB3aGVuIGFib3V0IHRvIGdvIG9mZiBzY3JlZW4sXG4gKiBzaG91bGQgd3JhcCBqdXN0IGVub3VnaCB0byBhdm9pZCBkb2luZyBzby5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihsbmdMYXQ6IExuZ0xhdCwgcHJpb3JQb3M6ID9Qb2ludCwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBMbmdMYXQge1xuICAgIGxuZ0xhdCA9IG5ldyBMbmdMYXQobG5nTGF0LmxuZywgbG5nTGF0LmxhdCk7XG5cbiAgICAvLyBGaXJzdCwgdHJ5IHNoaWZ0aW5nIG9uZSB3b3JsZCBpbiBlaXRoZXIgZGlyZWN0aW9uLCBhbmQgc2VlIGlmIGVpdGhlciBpcyBjbG9zZXIgdG8gdGhlXG4gICAgLy8gcHJpb3IgcG9zaXRpb24uIERvbid0IHNoaWZ0IGF3YXkgaWYgaXQgbmV3IHBvc2l0aW9uIGlzIGZ1cnRoZXIgZnJvbSBjZW50ZXIuXG4gICAgLy8gVGhpcyBwcmVzZXJ2ZXMgb2JqZWN0IGNvbnN0YW5jeSB3aGVuIHRoZSBtYXAgY2VudGVyIGlzIGF1dG8td3JhcHBlZCBkdXJpbmcgYW5pbWF0aW9ucyxcbiAgICAvLyBidXQgZG9uJ3QgYWxsb3cgaXQgdG8gcnVuIGF3YXkgb24gaG9yaXpvbiAocG9pbnRzIHRvd2FyZHMgaG9yaXpvbiBnZXQgY2xvc2VyIGFuZCBjbG9zZXIpLlxuICAgIGlmIChwcmlvclBvcykge1xuICAgICAgICBjb25zdCBsZWZ0ICA9IG5ldyBMbmdMYXQobG5nTGF0LmxuZyAtIDM2MCwgbG5nTGF0LmxhdCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gbmV3IExuZ0xhdChsbmdMYXQubG5nICsgMzYwLCBsbmdMYXQubGF0KTtcbiAgICAgICAgLy8gVW5sZXNzIG9mZnNjcmVlbiwga2VlcCB0aGUgbWFya2VyIHdpdGhpbiBzYW1lIHdyYXAgZGlzdGFuY2UgdG8gY2VudGVyLiBUaGlzIGlzIHRvIHByZXZlbnRcbiAgICAgICAgLy8gcnVubmluZyBpdCB0byBpbmZpbml0eSBgbG5nYCBuZWFyIGhvcml6b24gd2hlbiBiZWFyaW5nIGlzIH45MMKwLlxuICAgICAgICBjb25zdCB3aXRoaW5XcmFwID0gIE1hdGguY2VpbChNYXRoLmFicyhsbmdMYXQubG5nIC0gdHJhbnNmb3JtLmNlbnRlci5sbmcpIC8gMzYwKSAqIDM2MDtcbiAgICAgICAgY29uc3QgZGVsdGEgPSB0cmFuc2Zvcm0ubG9jYXRpb25Qb2ludChsbmdMYXQpLmRpc3RTcXIocHJpb3JQb3MpO1xuICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBwcmlvclBvcy54IDwgMCB8fCBwcmlvclBvcy55IDwgMCB8fCBwcmlvclBvcy54ID4gdHJhbnNmb3JtLndpZHRoIHx8IHByaW9yUG9zLnkgPiB0cmFuc2Zvcm0uaGVpZ2h0O1xuICAgICAgICBpZiAodHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQobGVmdCkuZGlzdFNxcihwcmlvclBvcykgPCBkZWx0YSAmJiAob2Zmc2NyZWVuIHx8IE1hdGguYWJzKGxlZnQubG5nIC0gdHJhbnNmb3JtLmNlbnRlci5sbmcpIDwgd2l0aGluV3JhcCkpIHtcbiAgICAgICAgICAgIGxuZ0xhdCA9IGxlZnQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQocmlnaHQpLmRpc3RTcXIocHJpb3JQb3MpIDwgZGVsdGEgJiYgKG9mZnNjcmVlbiB8fCBNYXRoLmFicyhyaWdodC5sbmcgLSB0cmFuc2Zvcm0uY2VudGVyLmxuZykgPCB3aXRoaW5XcmFwKSkge1xuICAgICAgICAgICAgbG5nTGF0ID0gcmlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZWNvbmQsIHdyYXAgdG93YXJkIHRoZSBjZW50ZXIgdW50aWwgdGhlIG5ldyBwb3NpdGlvbiBpcyBvbiBzY3JlZW4sIG9yIHdlIGNhbid0IGdldFxuICAgIC8vIGFueSBjbG9zZXIuXG4gICAgd2hpbGUgKE1hdGguYWJzKGxuZ0xhdC5sbmcgLSB0cmFuc2Zvcm0uY2VudGVyLmxuZykgPiAxODApIHtcbiAgICAgICAgY29uc3QgcG9zID0gdHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQobG5nTGF0KTtcbiAgICAgICAgaWYgKHBvcy54ID49IDAgJiYgcG9zLnkgPj0gMCAmJiBwb3MueCA8PSB0cmFuc2Zvcm0ud2lkdGggJiYgcG9zLnkgPD0gdHJhbnNmb3JtLmhlaWdodCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxuZ0xhdC5sbmcgPiB0cmFuc2Zvcm0uY2VudGVyLmxuZykge1xuICAgICAgICAgICAgbG5nTGF0LmxuZyAtPSAzNjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsbmdMYXQubG5nICs9IDM2MDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsbmdMYXQ7XG59XG4iLCIvLyBAZmxvd1xuXG5leHBvcnQgdHlwZSBBbmNob3IgPVxuICAgIHwgJ2NlbnRlcidcbiAgICB8ICd0b3AnXG4gICAgfCAnYm90dG9tJ1xuICAgIHwgJ2xlZnQnXG4gICAgfCAncmlnaHQnXG4gICAgfCAndG9wLWxlZnQnXG4gICAgfCAndG9wLXJpZ2h0J1xuICAgIHwgJ2JvdHRvbS1sZWZ0J1xuICAgIHwgJ2JvdHRvbS1yaWdodCc7XG5cbmV4cG9ydCBjb25zdCBhbmNob3JUcmFuc2xhdGU6IHtbXzogQW5jaG9yXTogc3RyaW5nfSA9IHtcbiAgICAnY2VudGVyJzogJ3RyYW5zbGF0ZSgtNTAlLC01MCUpJyxcbiAgICAndG9wJzogJ3RyYW5zbGF0ZSgtNTAlLDApJyxcbiAgICAndG9wLWxlZnQnOiAndHJhbnNsYXRlKDAsMCknLFxuICAgICd0b3AtcmlnaHQnOiAndHJhbnNsYXRlKC0xMDAlLDApJyxcbiAgICAnYm90dG9tJzogJ3RyYW5zbGF0ZSgtNTAlLC0xMDAlKScsXG4gICAgJ2JvdHRvbS1sZWZ0JzogJ3RyYW5zbGF0ZSgwLC0xMDAlKScsXG4gICAgJ2JvdHRvbS1yaWdodCc6ICd0cmFuc2xhdGUoLTEwMCUsLTEwMCUpJyxcbiAgICAnbGVmdCc6ICd0cmFuc2xhdGUoMCwtNTAlKScsXG4gICAgJ3JpZ2h0JzogJ3RyYW5zbGF0ZSgtMTAwJSwtNTAlKSdcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vdXRpbC9kb20uanMnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdy5qcyc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0LmpzJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCBzbWFydFdyYXAgZnJvbSAnLi4vdXRpbC9zbWFydF93cmFwLmpzJztcbmltcG9ydCB7YmluZEFsbCwgZXh0ZW5kLCByYWRUb0RlZywgc21vb3Roc3RlcH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7dHlwZSBBbmNob3IsIGFuY2hvclRyYW5zbGF0ZX0gZnJvbSAnLi9hbmNob3IuanMnO1xuaW1wb3J0IHtFdmVudCwgRXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkLmpzJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBQb3B1cCBmcm9tICcuL3BvcHVwLmpzJztcbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tIFwiLi4vZ2VvL2xuZ19sYXQuanNcIjtcbmltcG9ydCB0eXBlIHtNYXBNb3VzZUV2ZW50LCBNYXBUb3VjaEV2ZW50fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgdHlwZSB7UG9pbnRMaWtlfSBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7Z2xvYmVUaWx0QXRMbmdMYXQsIGdsb2JlQ2VudGVyVG9TY3JlZW5Qb2ludCwgaXNMbmdMYXRCZWhpbmRHbG9iZSwgR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYfSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxudHlwZSBPcHRpb25zID0ge1xuICAgIGVsZW1lbnQ/OiBIVE1MRWxlbWVudCxcbiAgICBvZmZzZXQ/OiBQb2ludExpa2UsXG4gICAgYW5jaG9yPzogQW5jaG9yLFxuICAgIGNvbG9yPzogc3RyaW5nLFxuICAgIHNjYWxlPzogbnVtYmVyLFxuICAgIGRyYWdnYWJsZT86IGJvb2xlYW4sXG4gICAgY2xpY2tUb2xlcmFuY2U/OiBudW1iZXIsXG4gICAgcm90YXRpb24/OiBudW1iZXIsXG4gICAgcm90YXRpb25BbGlnbm1lbnQ/OiBzdHJpbmcsXG4gICAgcGl0Y2hBbGlnbm1lbnQ/OiBzdHJpbmcsXG4gICAgb2NjbHVkZWRPcGFjaXR5PzogbnVtYmVyXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXJrZXIgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtvcHRpb25zLmVsZW1lbnRdIERPTSBlbGVtZW50IHRvIHVzZSBhcyBhIG1hcmtlci4gVGhlIGRlZmF1bHQgaXMgYSBsaWdodCBibHVlLCBkcm9wbGV0LXNoYXBlZCBTVkcgbWFya2VyLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFuY2hvcj0nY2VudGVyJ10gQSBzdHJpbmcgaW5kaWNhdGluZyB0aGUgcGFydCBvZiB0aGUgTWFya2VyIHRoYXQgc2hvdWxkIGJlIHBvc2l0aW9uZWQgY2xvc2VzdCB0byB0aGUgY29vcmRpbmF0ZSBzZXQgdmlhIHtAbGluayBNYXJrZXIjc2V0TG5nTGF0fS5cbiAqICAgT3B0aW9ucyBhcmUgYCdjZW50ZXInYCwgYCd0b3AnYCwgYCdib3R0b20nYCwgYCdsZWZ0J2AsIGAncmlnaHQnYCwgYCd0b3AtbGVmdCdgLCBgJ3RvcC1yaWdodCdgLCBgJ2JvdHRvbS1sZWZ0J2AsIGFuZCBgJ2JvdHRvbS1yaWdodCdgLlxuICogQHBhcmFtIHtQb2ludExpa2V9IFtvcHRpb25zLm9mZnNldF0gVGhlIG9mZnNldCBpbiBwaXhlbHMgYXMgYSB7QGxpbmsgUG9pbnRMaWtlfSBvYmplY3QgdG8gYXBwbHkgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQncyBjZW50ZXIuIE5lZ2F0aXZlcyBpbmRpY2F0ZSBsZWZ0IGFuZCB1cC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5jb2xvcj0nIzNGQjFDRSddIFRoZSBjb2xvciB0byB1c2UgZm9yIHRoZSBkZWZhdWx0IG1hcmtlciBpZiBgb3B0aW9ucy5lbGVtZW50YCBpcyBub3QgcHJvdmlkZWQuIFRoZSBkZWZhdWx0IGlzIGxpZ2h0IGJsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gVGhlIHNjYWxlIHRvIHVzZSBmb3IgdGhlIGRlZmF1bHQgbWFya2VyIGlmIGBvcHRpb25zLmVsZW1lbnRgIGlzIG5vdCBwcm92aWRlZC4gVGhlIGRlZmF1bHQgc2NhbGUgY29ycmVzcG9uZHMgdG8gYSBoZWlnaHQgb2YgYDQxcHhgIGFuZCBhIHdpZHRoIG9mIGAyN3B4YC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZHJhZ2dhYmxlPWZhbHNlXSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCBhIG1hcmtlciBpcyBhYmxlIHRvIGJlIGRyYWdnZWQgdG8gYSBuZXcgcG9zaXRpb24gb24gdGhlIG1hcC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jbGlja1RvbGVyYW5jZT0wXSBUaGUgbWF4IG51bWJlciBvZiBwaXhlbHMgYSB1c2VyIGNhbiBzaGlmdCB0aGUgbW91c2UgcG9pbnRlciBkdXJpbmcgYSBjbGljayBvbiB0aGUgbWFya2VyIGZvciBpdCB0byBiZSBjb25zaWRlcmVkIGEgdmFsaWQgY2xpY2sgKGFzIG9wcG9zZWQgdG8gYSBtYXJrZXIgZHJhZykuIFRoZSBkZWZhdWx0IGlzIHRvIGluaGVyaXQgbWFwJ3MgYGNsaWNrVG9sZXJhbmNlYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yb3RhdGlvbj0wXSBUaGUgcm90YXRpb24gYW5nbGUgb2YgdGhlIG1hcmtlciBpbiBkZWdyZWVzLCByZWxhdGl2ZSB0byBpdHMgcmVzcGVjdGl2ZSBgcm90YXRpb25BbGlnbm1lbnRgIHNldHRpbmcuIEEgcG9zaXRpdmUgdmFsdWUgd2lsbCByb3RhdGUgdGhlIG1hcmtlciBjbG9ja3dpc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucGl0Y2hBbGlnbm1lbnQ9J2F1dG8nXSBgJ21hcCdgIGFsaWducyB0aGUgYE1hcmtlcmAgdG8gdGhlIHBsYW5lIG9mIHRoZSBtYXAuIGAndmlld3BvcnQnYCBhbGlnbnMgdGhlIGBNYXJrZXJgIHRvIHRoZSBwbGFuZSBvZiB0aGUgdmlld3BvcnQuIGAnYXV0bydgIGF1dG9tYXRpY2FsbHkgbWF0Y2hlcyB0aGUgdmFsdWUgb2YgYHJvdGF0aW9uQWxpZ25tZW50YC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5yb3RhdGlvbkFsaWdubWVudD0nYXV0byddIFRoZSBhbGlnbm1lbnQgb2YgdGhlIG1hcmtlcidzIHJvdGF0aW9uLmAnbWFwJ2AgaXMgYWxpZ25lZCB3aXRoIHRoZSBtYXAgcGxhbmUsIGNvbnNpc3RlbnQgd2l0aCB0aGUgY2FyZGluYWwgZGlyZWN0aW9ucyBhcyB0aGUgbWFwIHJvdGF0ZXMuIGAndmlld3BvcnQnYCBpcyBzY3JlZW5zcGFjZS1hbGlnbmVkLiBgJ2hvcml6b24nYCBpcyBhbGlnbmVkIGFjY29yZGluZyB0byB0aGUgbmVhcmVzdCBob3Jpem9uLCBvbiBub24tZ2xvYmUgcHJvamVjdGlvbnMgaXQgaXMgZXF1aXZhbGVudCB0byBgJ3ZpZXdwb3J0J2AuIGAnYXV0bydgIGlzIGVxdWl2YWxlbnQgdG8gYCd2aWV3cG9ydCdgLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm9jY2x1ZGVkT3BhY2l0eT0wLjJdIFRoZSBvcGFjaXR5IG9mIGEgbWFya2VyIHRoYXQncyBvY2NsdWRlZCBieSAzRCB0ZXJyYWluLlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBtYXJrZXIuXG4gKiBjb25zdCBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKClcbiAqICAgICAuc2V0TG5nTGF0KFszMC41LCA1MC41XSlcbiAqICAgICAuYWRkVG8obWFwKTtcbiAqIEBleGFtcGxlXG4gKiAvLyBTZXQgbWFya2VyIG9wdGlvbnMuXG4gKiBjb25zdCBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKHtcbiAqICAgICBjb2xvcjogXCIjRkZGRkZGXCIsXG4gKiAgICAgZHJhZ2dhYmxlOiB0cnVlXG4gKiB9KS5zZXRMbmdMYXQoWzMwLjUsIDUwLjVdKVxuICogICAgIC5hZGRUbyhtYXApO1xuICogQHNlZSBbRXhhbXBsZTogQWRkIGN1c3RvbSBpY29ucyB3aXRoIE1hcmtlcnNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY3VzdG9tLW1hcmtlci1pY29ucy8pXG4gKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYSBkcmFnZ2FibGUgTWFya2VyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1tYXJrZXIvKVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJrZXIgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBfbWFwOiA/TWFwO1xuICAgIF9hbmNob3I6IEFuY2hvcjtcbiAgICBfb2Zmc2V0OiBQb2ludDtcbiAgICBfZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgX3BvcHVwOiA/UG9wdXA7XG4gICAgX2xuZ0xhdDogTG5nTGF0O1xuICAgIF9wb3M6ID9Qb2ludDtcbiAgICBfY29sb3I6IHN0cmluZztcbiAgICBfc2NhbGU6IG51bWJlcjtcbiAgICBfZGVmYXVsdE1hcmtlcjogYm9vbGVhbjtcbiAgICBfZHJhZ2dhYmxlOiBib29sZWFuO1xuICAgIF9jbGlja1RvbGVyYW5jZTogbnVtYmVyO1xuICAgIF9pc0RyYWdnaW5nOiBib29sZWFuO1xuICAgIF9zdGF0ZTogJ2luYWN0aXZlJyB8ICdwZW5kaW5nJyB8ICdhY3RpdmUnOyAvLyB1c2VkIGZvciBoYW5kbGluZyBkcmFnIGV2ZW50c1xuICAgIF9wb3NpdGlvbkRlbHRhOiA/UG9pbnQ7XG4gICAgX3BvaW50ZXJkb3duUG9zOiA/UG9pbnQ7XG4gICAgX3JvdGF0aW9uOiBudW1iZXI7XG4gICAgX3BpdGNoQWxpZ25tZW50OiBzdHJpbmc7XG4gICAgX3JvdGF0aW9uQWxpZ25tZW50OiBzdHJpbmc7XG4gICAgX29yaWdpbmFsVGFiSW5kZXg6ID9zdHJpbmc7IC8vIG9yaWdpbmFsIHRhYmluZGV4IG9mIF9lbGVtZW50XG4gICAgX2ZhZGVUaW1lcjogP1RpbWVvdXRJRDtcbiAgICBfdXBkYXRlRnJhbWVJZDogbnVtYmVyO1xuICAgIF91cGRhdGVNb3Zpbmc6ICgpID0+IHZvaWQ7XG4gICAgX29jY2x1ZGVkT3BhY2l0eTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86IE9wdGlvbnMsIGxlZ2FjeU9wdGlvbnM/OiBPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8vIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IC0tIHRoZSBjb25zdHJ1Y3RvciB1c2VkIHRvIGFjY2VwdCB0aGUgZWxlbWVudCBhcyBhXG4gICAgICAgIC8vIHJlcXVpcmVkIGZpcnN0IGFyZ3VtZW50LCBiZWZvcmUgaXQgd2FzIG1hZGUgb3B0aW9uYWwuXG4gICAgICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50IHx8IGxlZ2FjeU9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe2VsZW1lbnQ6IG9wdGlvbnN9LCBsZWdhY3lPcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ191cGRhdGUnLFxuICAgICAgICAgICAgJ19vbk1vdmUnLFxuICAgICAgICAgICAgJ19vblVwJyxcbiAgICAgICAgICAgICdfYWRkRHJhZ0hhbmRsZXInLFxuICAgICAgICAgICAgJ19vbk1hcENsaWNrJyxcbiAgICAgICAgICAgICdfb25LZXlQcmVzcycsXG4gICAgICAgICAgICAnX2NsZWFyRmFkZVRpbWVyJ1xuICAgICAgICBdLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9hbmNob3IgPSAob3B0aW9ucyAmJiBvcHRpb25zLmFuY2hvcikgfHwgJ2NlbnRlcic7XG4gICAgICAgIHRoaXMuX2NvbG9yID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5jb2xvcikgfHwgJyMzRkIxQ0UnO1xuICAgICAgICB0aGlzLl9zY2FsZSA9IChvcHRpb25zICYmIG9wdGlvbnMuc2NhbGUpIHx8IDE7XG4gICAgICAgIHRoaXMuX2RyYWdnYWJsZSA9IChvcHRpb25zICYmIG9wdGlvbnMuZHJhZ2dhYmxlKSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2xpY2tUb2xlcmFuY2UgPSAob3B0aW9ucyAmJiBvcHRpb25zLmNsaWNrVG9sZXJhbmNlKSB8fCAwO1xuICAgICAgICB0aGlzLl9pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ2luYWN0aXZlJztcbiAgICAgICAgdGhpcy5fcm90YXRpb24gPSAob3B0aW9ucyAmJiBvcHRpb25zLnJvdGF0aW9uKSB8fCAwO1xuICAgICAgICB0aGlzLl9yb3RhdGlvbkFsaWdubWVudCA9IChvcHRpb25zICYmIG9wdGlvbnMucm90YXRpb25BbGlnbm1lbnQpIHx8ICdhdXRvJztcbiAgICAgICAgdGhpcy5fcGl0Y2hBbGlnbm1lbnQgPSAob3B0aW9ucyAmJiBvcHRpb25zLnBpdGNoQWxpZ25tZW50ICYmIG9wdGlvbnMucGl0Y2hBbGlnbm1lbnQpIHx8ICdhdXRvJztcbiAgICAgICAgdGhpcy5fdXBkYXRlTW92aW5nID0gKCkgPT4gdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICB0aGlzLl9vY2NsdWRlZE9wYWNpdHkgPSAob3B0aW9ucyAmJiBvcHRpb25zLm9jY2x1ZGVkT3BhY2l0eSkgfHwgMC4yO1xuXG4gICAgICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0TWFya2VyID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBET00uY3JlYXRlKCdkaXYnKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIGRlZmF1bHQgbWFwIG1hcmtlciBTVkdcblxuICAgICAgICAgICAgY29uc3QgREVGQVVMVF9IRUlHSFQgPSA0MTtcbiAgICAgICAgICAgIGNvbnN0IERFRkFVTFRfV0lEVEggPSAyNztcblxuICAgICAgICAgICAgY29uc3Qgc3ZnID0gRE9NLmNyZWF0ZVNWRygnc3ZnJywge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtERUZBVUxUX0hFSUdIVCAqIHRoaXMuX3NjYWxlfXB4YCxcbiAgICAgICAgICAgICAgICB3aWR0aDogYCR7REVGQVVMVF9XSURUSCAqIHRoaXMuX3NjYWxlfXB4YCxcbiAgICAgICAgICAgICAgICB2aWV3Qm94OiBgMCAwICR7REVGQVVMVF9XSURUSH0gJHtERUZBVUxUX0hFSUdIVH1gXG4gICAgICAgICAgICB9LCB0aGlzLl9lbGVtZW50KTtcblxuICAgICAgICAgICAgY29uc3QgZ3JhZGllbnQgPSBET00uY3JlYXRlU1ZHKCdyYWRpYWxHcmFkaWVudCcsIHtpZDogJ3NoYWRvd0dyYWRpZW50J30sIERPTS5jcmVhdGVTVkcoJ2RlZnMnLCB7fSwgc3ZnKSk7XG4gICAgICAgICAgICBET00uY3JlYXRlU1ZHKCdzdG9wJywge29mZnNldDogJzEwJScsICdzdG9wLW9wYWNpdHknOiAwLjR9LCBncmFkaWVudCk7XG4gICAgICAgICAgICBET00uY3JlYXRlU1ZHKCdzdG9wJywge29mZnNldDogJzEwMCUnLCAnc3RvcC1vcGFjaXR5JzogMC4wNX0sIGdyYWRpZW50KTtcbiAgICAgICAgICAgIERPTS5jcmVhdGVTVkcoJ2VsbGlwc2UnLCB7Y3g6IDEzLjUsIGN5OiAzNC44LCByeDogMTAuNSwgcnk6IDUuMjUsIGZpbGw6ICd1cmwoI3NoYWRvd0dyYWRpZW50KSd9LCBzdmcpOyAvLyBzaGFkb3dcblxuICAgICAgICAgICAgRE9NLmNyZWF0ZVNWRygncGF0aCcsIHsgLy8gbWFya2VyIHNoYXBlXG4gICAgICAgICAgICAgICAgZmlsbDogdGhpcy5fY29sb3IsXG4gICAgICAgICAgICAgICAgZDogJ00yNywxMy41QzI3LDE5LjA3IDIwLjI1LDI3IDE0Ljc1LDM0LjVDMTQuMDIsMzUuNSAxMi45OCwzNS41IDEyLjI1LDM0LjVDNi43NSwyNyAwLDE5LjIyIDAsMTMuNUMwLDYuMDQgNi4wNCwwIDEzLjUsMEMyMC45NiwwIDI3LDYuMDQgMjcsMTMuNVonXG4gICAgICAgICAgICB9LCBzdmcpO1xuICAgICAgICAgICAgRE9NLmNyZWF0ZVNWRygncGF0aCcsIHsgLy8gYm9yZGVyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMC4yNSxcbiAgICAgICAgICAgICAgICBkOiAnTTEzLjUsMEM2LjA0LDAgMCw2LjA0IDAsMTMuNUMwLDE5LjIyIDYuNzUsMjcgMTIuMjUsMzQuNUMxMywzNS41MiAxNC4wMiwzNS41IDE0Ljc1LDM0LjVDMjAuMjUsMjcgMjcsMTkuMDcgMjcsMTMuNUMyNyw2LjA0IDIwLjk2LDAgMTMuNSwwWk0xMy41LDFDMjAuNDIsMSAyNiw2LjU4IDI2LDEzLjVDMjYsMTUuOSAyNC41LDE5LjE4IDIyLjIyLDIyLjc0QzE5Ljk1LDI2LjMgMTYuNzEsMzAuMTQgMTMuOTQsMzMuOTFDMTMuNzQsMzQuMTggMTMuNjEsMzQuMzIgMTMuNSwzNC40NEMxMy4zOSwzNC4zMiAxMy4yNiwzNC4xOCAxMy4wNiwzMy45MUMxMC4yOCwzMC4xMyA3LjQxLDI2LjMxIDUuMDIsMjIuNzdDMi42MiwxOS4yMyAxLDE1Ljk1IDEsMTMuNUMxLDYuNTggNi41OCwxIDEzLjUsMVonXG4gICAgICAgICAgICB9LCBzdmcpO1xuXG4gICAgICAgICAgICBET00uY3JlYXRlU1ZHKCdjaXJjbGUnLCB7ZmlsbDogJ3doaXRlJywgY3g6IDEzLjUsIGN5OiAxMy41LCByOiA1LjV9LCBzdmcpOyAvLyBjaXJjbGVcblxuICAgICAgICAgICAgLy8gaWYgbm8gZWxlbWVudCBhbmQgbm8gb2Zmc2V0IG9wdGlvbiBnaXZlbiBhcHBseSBhbiBvZmZzZXQgZm9yIHRoZSBkZWZhdWx0IG1hcmtlclxuICAgICAgICAgICAgLy8gdGhlIC0xNCBhcyB0aGUgeSB2YWx1ZSBvZiB0aGUgZGVmYXVsdCBtYXJrZXIgb2Zmc2V0IHdhcyBkZXRlcm1pbmVkIGFzIGZvbGxvd3NcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyB0aGUgbWFya2VyIHRpcCBpcyBhdCB0aGUgY2VudGVyIG9mIHRoZSBzaGFkb3cgZWxsaXBzZSBmcm9tIHRoZSBkZWZhdWx0IHN2Z1xuICAgICAgICAgICAgLy8gdGhlIHkgdmFsdWUgb2YgdGhlIGNlbnRlciBvZiB0aGUgc2hhZG93IGVsbGlwc2UgcmVsYXRpdmUgdG8gdGhlIHN2ZyB0b3AgbGVmdCBpcyAzNC44XG4gICAgICAgICAgICAvLyBvZmZzZXQgdG8gdGhlIHN2ZyBjZW50ZXIgXCJoZWlnaHQgKDQxIC8gMilcIiBnaXZlcyAzNC44IC0gKDQxIC8gMikgYW5kIHJvdW5kZWQgZm9yIGFuIGludGVnZXIgcGl4ZWwgb2Zmc2V0IGdpdmVzIDE0XG4gICAgICAgICAgICAvLyBuZWdhdGl2ZSBpcyB1c2VkIHRvIG1vdmUgdGhlIG1hcmtlciB1cCBmcm9tIHRoZSBjZW50ZXIgc28gdGhlIHRpcCBpcyBhdCB0aGUgTWFya2VyIGxuZ0xhdFxuICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gUG9pbnQuY29udmVydCgob3B0aW9ucyAmJiBvcHRpb25zLm9mZnNldCkgfHwgWzAsIC0xNF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IFBvaW50LmNvbnZlcnQoKG9wdGlvbnMgJiYgb3B0aW9ucy5vZmZzZXQpIHx8IFswLCAwXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2VsZW1lbnQuaGFzQXR0cmlidXRlKCdhcmlhLWxhYmVsJykpIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ01hcCBtYXJrZXInKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1tYXJrZXInKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZTogRHJhZ0V2ZW50KSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBwcmV2ZW50IGZvY3VzaW5nIG9uIGNsaWNrXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjbGFzc0xpc3QgPSB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdDtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYW5jaG9yVHJhbnNsYXRlKSB7XG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGBtYXBib3hnbC1tYXJrZXItYW5jaG9yLSR7a2V5fWApO1xuICAgICAgICB9XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoYG1hcGJveGdsLW1hcmtlci1hbmNob3ItJHt0aGlzLl9hbmNob3J9YCk7XG5cbiAgICAgICAgdGhpcy5fcG9wdXAgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIHRoZSBgTWFya2VyYCB0byBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWFwfSBtYXAgVGhlIE1hcGJveCBHTCBKUyBtYXAgdG8gYWRkIHRoZSBtYXJrZXIgdG8uXG4gICAgICogQHJldHVybnMge01hcmtlcn0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG1hcmtlciA9IG5ldyBtYXBib3hnbC5NYXJrZXIoKVxuICAgICAqICAgICAuc2V0TG5nTGF0KFszMC41LCA1MC41XSlcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7IC8vIGFkZCB0aGUgbWFya2VyIHRvIHRoZSBtYXBcbiAgICAgKi9cbiAgICBhZGRUbyhtYXA6IE1hcCk6IHRoaXMge1xuICAgICAgICBpZiAobWFwID09PSB0aGlzLl9tYXApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICBtYXAub24oJ21vdmUnLCB0aGlzLl91cGRhdGVNb3ZpbmcpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIG1hcC5vbignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgbWFwLm9uKCdyZW1vdmUnLCB0aGlzLl9jbGVhckZhZGVUaW1lcik7XG4gICAgICAgIG1hcC5fYWRkTWFya2VyKHRoaXMpO1xuICAgICAgICB0aGlzLnNldERyYWdnYWJsZSh0aGlzLl9kcmFnZ2FibGUpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICAvLyBJZiB3ZSBhdHRhY2hlZCB0aGUgYGNsaWNrYCBsaXN0ZW5lciB0byB0aGUgbWFya2VyIGVsZW1lbnQsIHRoZSBwb3B1cFxuICAgICAgICAvLyB3b3VsZCBjbG9zZSBvbmNlIHRoZSBldmVudCBwcm9wb2dhdGVkIHRvIGBtYXBgIGR1ZSB0byB0aGVcbiAgICAgICAgLy8gYFBvcHVwI19vbkNsaWNrQ2xvc2VgIGxpc3RlbmVyLlxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIG1hcC5vbignY2xpY2snLCB0aGlzLl9vbk1hcENsaWNrKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBtYXJrZXIgZnJvbSBhIG1hcC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbWFya2VyID0gbmV3IG1hcGJveGdsLk1hcmtlcigpLmFkZFRvKG1hcCk7XG4gICAgICogbWFya2VyLnJlbW92ZSgpO1xuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcmVtb3ZlKCk6IHRoaXMge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ2NsaWNrJywgdGhpcy5fb25NYXBDbGljayk7XG4gICAgICAgICAgICBtYXAub2ZmKCdtb3ZlJywgdGhpcy5fdXBkYXRlTW92aW5nKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ21vdmVlbmQnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZignbW91c2Vkb3duJywgdGhpcy5fYWRkRHJhZ0hhbmRsZXIpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZigndG91Y2hzdGFydCcsIHRoaXMuX2FkZERyYWdIYW5kbGVyKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ21vdXNldXAnLCB0aGlzLl9vblVwKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ3RvdWNoZW5kJywgdGhpcy5fb25VcCk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub2ZmKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdmUpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZigndG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ3JlbW92ZScsIHRoaXMuX2NsZWFyRmFkZVRpbWVyKTtcbiAgICAgICAgICAgIG1hcC5fcmVtb3ZlTWFya2VyKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fbWFwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NsZWFyRmFkZVRpbWVyKCk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIGlmICh0aGlzLl9wb3B1cCkgdGhpcy5fcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWFya2VyJ3MgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uLlxuICAgICAqXG4gICAgICogVGhlIGxvbmdpdHVkZSBvZiB0aGUgcmVzdWx0IG1heSBkaWZmZXIgYnkgYSBtdWx0aXBsZSBvZiAzNjAgZGVncmVlcyBmcm9tIHRoZSBsb25naXR1ZGUgcHJldmlvdXNseVxuICAgICAqIHNldCBieSBgc2V0TG5nTGF0YCBiZWNhdXNlIGBNYXJrZXJgIHdyYXBzIHRoZSBhbmNob3IgbG9uZ2l0dWRlIGFjcm9zcyBjb3BpZXMgb2YgdGhlIHdvcmxkIHRvIGtlZXBcbiAgICAgKiB0aGUgbWFya2VyIG9uIHNjcmVlbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IEEge0BsaW5rIExuZ0xhdH0gZGVzY3JpYmluZyB0aGUgbWFya2VyJ3MgbG9jYXRpb24uXG4gICAgKiBAZXhhbXBsZVxuICAgICogLy8gU3RvcmUgdGhlIG1hcmtlcidzIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgY29vcmRpbmF0ZXMgaW4gYSB2YXJpYWJsZVxuICAgICogY29uc3QgbG5nTGF0ID0gbWFya2VyLmdldExuZ0xhdCgpO1xuICAgICogLy8gUHJpbnQgdGhlIG1hcmtlcidzIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgdmFsdWVzIGluIHRoZSBjb25zb2xlXG4gICAgKiBjb25zb2xlLmxvZyhgTG9uZ2l0dWRlOiAke2xuZ0xhdC5sbmd9LCBMYXRpdHVkZTogJHtsbmdMYXQubGF0fWApO1xuICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIE1hcmtlcl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLW1hcmtlci8pXG4gICAgKi9cbiAgICBnZXRMbmdMYXQoKTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xuZ0xhdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFNldCB0aGUgbWFya2VyJ3MgZ2VvZ3JhcGhpY2FsIHBvc2l0aW9uIGFuZCBtb3ZlIGl0LlxuICAgICAqXG4gICAgKiBAcGFyYW0ge0xuZ0xhdH0gbG5nbGF0IEEge0BsaW5rIExuZ0xhdH0gZGVzY3JpYmluZyB3aGVyZSB0aGUgbWFya2VyIHNob3VsZCBiZSBsb2NhdGVkLlxuICAgICogQHJldHVybnMge01hcmtlcn0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAqIEBleGFtcGxlXG4gICAgKiAvLyBDcmVhdGUgYSBuZXcgbWFya2VyLCBzZXQgdGhlIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUsIGFuZCBhZGQgaXQgdG8gdGhlIG1hcC5cbiAgICAqIG5ldyBtYXBib3hnbC5NYXJrZXIoKVxuICAgICogICAgIC5zZXRMbmdMYXQoWy02NS4wMTcsIC0xNi40NTddKVxuICAgICogICAgIC5hZGRUbyhtYXApO1xuICAgICogQHNlZSBbRXhhbXBsZTogQWRkIGN1c3RvbSBpY29ucyB3aXRoIE1hcmtlcnNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2N1c3RvbS1tYXJrZXItaWNvbnMvKVxuICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIE1hcmtlcl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLW1hcmtlci8pXG4gICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSBtYXJrZXIgdXNpbmcgYSBwbGFjZSBuYW1lXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tYXJrZXItZnJvbS1nZW9jb2RlLylcbiAgICAqL1xuICAgIHNldExuZ0xhdChsbmdsYXQ6IExuZ0xhdExpa2UpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fbG5nTGF0ID0gTG5nTGF0LmNvbnZlcnQobG5nbGF0KTtcbiAgICAgICAgdGhpcy5fcG9zID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3BvcHVwKSB0aGlzLl9wb3B1cC5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBgTWFya2VyYCdzIEhUTUwgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gUmV0dXJucyB0aGUgbWFya2VyIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBlbGVtZW50ID0gbWFya2VyLmdldEVsZW1lbnQoKTtcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmluZHMgYSB7QGxpbmsgUG9wdXB9IHRvIHRoZSB7QGxpbmsgTWFya2VyfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UG9wdXAgfCBudWxsfSBwb3B1cCBBbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIFBvcHVwfSBjbGFzcy4gSWYgdW5kZWZpbmVkIG9yIG51bGwsIGFueSBwb3B1cFxuICAgICAqIHNldCBvbiB0aGlzIHtAbGluayBNYXJrZXJ9IGluc3RhbmNlIGlzIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKClcbiAgICAgKiAgICAgLnNldExuZ0xhdChbMCwgMF0pXG4gICAgICogICAgIC5zZXRQb3B1cChuZXcgbWFwYm94Z2wuUG9wdXAoKS5zZXRIVE1MKFwiPGgxPkhlbGxvIFdvcmxkITwvaDE+XCIpKSAvLyBhZGQgcG9wdXBcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogQXR0YWNoIGEgcG9wdXAgdG8gYSBtYXJrZXIgaW5zdGFuY2VdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3NldC1wb3B1cC8pXG4gICAgICovXG4gICAgc2V0UG9wdXAocG9wdXA6ID9Qb3B1cCk6IHRoaXMge1xuICAgICAgICBpZiAodGhpcy5fcG9wdXApIHtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5fcG9wdXAgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3JvbGUnKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLl9vbktleVByZXNzKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9vcmlnaW5hbFRhYkluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9wdXApIHtcbiAgICAgICAgICAgIGlmICghKCdvZmZzZXQnIGluIHBvcHVwLm9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFya2VySGVpZ2h0ID0gNDEgLSAoNS44IC8gMik7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFya2VyUmFkaXVzID0gMTMuNTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lYXJPZmZzZXQgPSBNYXRoLnNxcnQoTWF0aC5wb3cobWFya2VyUmFkaXVzLCAyKSAvIDIpO1xuICAgICAgICAgICAgICAgIHBvcHVwLm9wdGlvbnMub2Zmc2V0ID0gdGhpcy5fZGVmYXVsdE1hcmtlciA/IHtcbiAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IFswLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgJ3RvcC1sZWZ0JzogWzAsIDBdLFxuICAgICAgICAgICAgICAgICAgICAndG9wLXJpZ2h0JzogWzAsIDBdLFxuICAgICAgICAgICAgICAgICAgICAnYm90dG9tJzogWzAsIC1tYXJrZXJIZWlnaHRdLFxuICAgICAgICAgICAgICAgICAgICAnYm90dG9tLWxlZnQnOiBbbGluZWFyT2Zmc2V0LCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzICsgbGluZWFyT2Zmc2V0KSAqIC0xXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JvdHRvbS1yaWdodCc6IFstbGluZWFyT2Zmc2V0LCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzICsgbGluZWFyT2Zmc2V0KSAqIC0xXSxcbiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiBbbWFya2VyUmFkaXVzLCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzKSAqIC0xXSxcbiAgICAgICAgICAgICAgICAgICAgJ3JpZ2h0JzogWy1tYXJrZXJSYWRpdXMsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMpICogLTFdXG4gICAgICAgICAgICAgICAgfSA6IHRoaXMuX29mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XG4gICAgICAgICAgICBwb3B1cC5fbWFya2VyID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl9sbmdMYXQpIHRoaXMuX3BvcHVwLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpO1xuXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsVGFiSW5kZXggPSB0aGlzLl9lbGVtZW50LmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fb3JpZ2luYWxUYWJJbmRleCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5fb25LZXlQcmVzcyk7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX29uS2V5UHJlc3MoZTogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBjb25zdCBjb2RlID0gZS5jb2RlO1xuICAgICAgICBjb25zdCBsZWdhY3lDb2RlID0gZS5jaGFyQ29kZSB8fCBlLmtleUNvZGU7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGNvZGUgPT09ICdTcGFjZScpIHx8IChjb2RlID09PSAnRW50ZXInKSB8fFxuICAgICAgICAgICAgKGxlZ2FjeUNvZGUgPT09IDMyKSB8fCAobGVnYWN5Q29kZSA9PT0gMTMpIC8vIHNwYWNlIG9yIGVudGVyXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQb3B1cCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uTWFwQ2xpY2soZTogTWFwTW91c2VFdmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZS5vcmlnaW5hbEV2ZW50LnRhcmdldDtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX3BvcHVwICYmICh0YXJnZXRFbGVtZW50ID09PSBlbGVtZW50IHx8IGVsZW1lbnQuY29udGFpbnMoKHRhcmdldEVsZW1lbnQ6IGFueSkpKSkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQb3B1cCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUge0BsaW5rIFBvcHVwfSBpbnN0YW5jZSB0aGF0IGlzIGJvdW5kIHRvIHRoZSB7QGxpbmsgTWFya2VyfS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gUmV0dXJucyB0aGUgcG9wdXAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKClcbiAgICAgKiAgICAgLnNldExuZ0xhdChbMCwgMF0pXG4gICAgICogICAgIC5zZXRQb3B1cChuZXcgbWFwYm94Z2wuUG9wdXAoKS5zZXRIVE1MKFwiPGgxPkhlbGxvIFdvcmxkITwvaDE+XCIpKVxuICAgICAqICAgICAuYWRkVG8obWFwKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG1hcmtlci5nZXRQb3B1cCgpKTsgLy8gcmV0dXJuIHRoZSBwb3B1cCBpbnN0YW5jZVxuICAgICAqL1xuICAgIGdldFBvcHVwKCk6ID9Qb3B1cCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3B1cDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPcGVucyBvciBjbG9zZXMgdGhlIHtAbGluayBQb3B1cH0gaW5zdGFuY2UgdGhhdCBpcyBib3VuZCB0byB0aGUge0BsaW5rIE1hcmtlcn0sIGRlcGVuZGluZyBvbiB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUge0BsaW5rIFBvcHVwfS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKClcbiAgICAgKiAgICAgLnNldExuZ0xhdChbMCwgMF0pXG4gICAgICogICAgIC5zZXRQb3B1cChuZXcgbWFwYm94Z2wuUG9wdXAoKS5zZXRIVE1MKFwiPGgxPkhlbGxvIFdvcmxkITwvaDE+XCIpKVxuICAgICAqICAgICAuYWRkVG8obWFwKTtcbiAgICAgKlxuICAgICAqIG1hcmtlci50b2dnbGVQb3B1cCgpOyAvLyB0b2dnbGUgcG9wdXAgb3BlbiBvciBjbG9zZWRcbiAgICAgKi9cbiAgICB0b2dnbGVQb3B1cCgpOiB0aGlzIHtcbiAgICAgICAgY29uc3QgcG9wdXAgPSB0aGlzLl9wb3B1cDtcbiAgICAgICAgaWYgKCFwb3B1cCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSBpZiAocG9wdXAuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgIHBvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9tYXApIHtcbiAgICAgICAgICAgIHBvcHVwLmFkZFRvKHRoaXMuX21hcCk7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2JlaGluZFRlcnJhaW4oKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5fcG9zO1xuICAgICAgICBpZiAoIW1hcCB8fCAhcG9zKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IHVucHJvamVjdGVkID0gbWFwLnVucHJvamVjdChwb3MpO1xuICAgICAgICBjb25zdCBjYW1lcmEgPSBtYXAuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTtcbiAgICAgICAgaWYgKCFjYW1lcmEucG9zaXRpb24pIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgY2FtZXJhTG5nTGF0ID0gY2FtZXJhLnBvc2l0aW9uLnRvTG5nTGF0KCk7XG4gICAgICAgIGNvbnN0IHRvQ2xvc2VzdFN1cmZhY2UgPSBjYW1lcmFMbmdMYXQuZGlzdGFuY2VUbyh1bnByb2plY3RlZCk7XG4gICAgICAgIGNvbnN0IHRvTWFya2VyID0gY2FtZXJhTG5nTGF0LmRpc3RhbmNlVG8odGhpcy5fbG5nTGF0KTtcbiAgICAgICAgcmV0dXJuIHRvQ2xvc2VzdFN1cmZhY2UgPCB0b01hcmtlciAqIDAuOTtcblxuICAgIH1cblxuICAgIF9ldmFsdWF0ZU9wYWNpdHkoKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgaWYgKCFtYXApIHJldHVybjtcblxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9wb3M7XG5cbiAgICAgICAgaWYgKCFwb3MgfHwgcG9zLnggPCAwIHx8IHBvcy54ID4gbWFwLnRyYW5zZm9ybS53aWR0aCB8fCBwb3MueSA8IDAgfHwgcG9zLnkgPiBtYXAudHJhbnNmb3JtLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJGYWRlVGltZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYXBMb2NhdGlvbiA9IG1hcC51bnByb2plY3QocG9zKTtcbiAgICAgICAgbGV0IG9wYWNpdHk7XG4gICAgICAgIGlmIChtYXAuX3Nob3dpbmdHbG9iZSgpICYmIGlzTG5nTGF0QmVoaW5kR2xvYmUobWFwLnRyYW5zZm9ybSwgdGhpcy5fbG5nTGF0KSkge1xuICAgICAgICAgICAgb3BhY2l0eSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcGFjaXR5ID0gMSAtIG1hcC5fcXVlcnlGb2dPcGFjaXR5KG1hcExvY2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChtYXAudHJhbnNmb3JtLl90ZXJyYWluRW5hYmxlZCgpICYmIG1hcC5nZXRUZXJyYWluKCkgJiYgdGhpcy5fYmVoaW5kVGVycmFpbigpKSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eSAqPSB0aGlzLl9vY2NsdWRlZE9wYWNpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLm9wYWNpdHkgPSBgJHtvcGFjaXR5fWA7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9IG9wYWNpdHkgPiAwID8gJ2F1dG8nIDogJ25vbmUnO1xuICAgICAgICBpZiAodGhpcy5fcG9wdXApIHtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwLl9zZXRPcGFjaXR5KG9wYWNpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmFkZVRpbWVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBfY2xlYXJGYWRlVGltZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9mYWRlVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9mYWRlVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5fZmFkZVRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVET00oKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuX3BvcztcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBpZiAoIXBvcyB8fCAhbWFwKSB7IHJldHVybjsgfVxuXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuX29mZnNldC5tdWx0KHRoaXMuX3NjYWxlKTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGBcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgke3Bvcy54fXB4LCR7cG9zLnl9cHgpXG4gICAgICAgICAgICAke2FuY2hvclRyYW5zbGF0ZVt0aGlzLl9hbmNob3JdfVxuICAgICAgICAgICAgJHt0aGlzLl9jYWxjdWxhdGVYWVRyYW5zZm9ybSgpfSAke3RoaXMuX2NhbGN1bGF0ZVpUcmFuc2Zvcm0oKX1cbiAgICAgICAgICAgIHRyYW5zbGF0ZSgke29mZnNldC54fXB4LCR7b2Zmc2V0Lnl9cHgpXG4gICAgICAgIGA7XG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZVhZVHJhbnNmb3JtKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuX3BvcztcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBjb25zdCBhbGlnbm1lbnQgPSB0aGlzLmdldFBpdGNoQWxpZ25tZW50KCk7XG5cbiAgICAgICAgLy8gYHZpZXdwb3J0JywgJ2F1dG8nIGFuZCBpbnZhbGlkIGFydWdtZW50cyBkbyBubyBwaXRjaCB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgICAgaWYgKCFtYXAgfHwgIXBvcyB8fCBhbGlnbm1lbnQgIT09ICdtYXAnKSB7XG4gICAgICAgICAgICByZXR1cm4gYGA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gJ21hcCcgYWxpZ25tZW50IG9uIGEgZmxhdCBtYXBcbiAgICAgICAgaWYgKCFtYXAuX3Nob3dpbmdHbG9iZSgpKSB7XG4gICAgICAgICAgICBjb25zdCBwaXRjaCA9IG1hcC5nZXRQaXRjaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHBpdGNoID8gYHJvdGF0ZVgoJHtwaXRjaH1kZWcpYCA6ICcnO1xuICAgICAgICB9XG4gICAgICAgIC8vICdtYXAnIGFsaWdubWVudCBvbiBnbG9iZVxuICAgICAgICBjb25zdCB0aWx0ID0gcmFkVG9EZWcoZ2xvYmVUaWx0QXRMbmdMYXQobWFwLnRyYW5zZm9ybSwgdGhpcy5fbG5nTGF0KSk7XG4gICAgICAgIGNvbnN0IHBvc0Zyb21DZW50ZXIgPSBwb3Muc3ViKGdsb2JlQ2VudGVyVG9TY3JlZW5Qb2ludChtYXAudHJhbnNmb3JtKSk7XG4gICAgICAgIGNvbnN0IG1hbmhhdHRhbkRpc3RhbmNlID0gKE1hdGguYWJzKHBvc0Zyb21DZW50ZXIueCkgKyBNYXRoLmFicyhwb3NGcm9tQ2VudGVyLnkpKTtcbiAgICAgICAgaWYgKG1hbmhhdHRhbkRpc3RhbmNlID09PSAwKSB7IHJldHVybiAnJzsgfVxuXG4gICAgICAgIGNvbnN0IHRpbHRPdmVyRGlzdCA9ICB0aWx0IC8gbWFuaGF0dGFuRGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IHlUaWx0ID0gcG9zRnJvbUNlbnRlci54ICogdGlsdE92ZXJEaXN0O1xuICAgICAgICBjb25zdCB4VGlsdCA9IC1wb3NGcm9tQ2VudGVyLnkgKiB0aWx0T3ZlckRpc3Q7XG4gICAgICAgIHJldHVybiBgcm90YXRlWCgke3hUaWx0fWRlZykgcm90YXRlWSgke3lUaWx0fWRlZylgO1xuXG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZVpUcmFuc2Zvcm0oKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9wb3M7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgaWYgKCFtYXAgfHwgIXBvcykgeyByZXR1cm4gJyc7IH1cblxuICAgICAgICBsZXQgcm90YXRpb24gPSAwO1xuICAgICAgICBjb25zdCBhbGlnbm1lbnQgPSB0aGlzLmdldFJvdGF0aW9uQWxpZ25tZW50KCk7XG4gICAgICAgIGlmIChhbGlnbm1lbnQgPT09ICdtYXAnKSB7XG4gICAgICAgICAgICBpZiAobWFwLl9zaG93aW5nR2xvYmUoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vcnRoID0gbWFwLnByb2plY3QobmV3IExuZ0xhdCh0aGlzLl9sbmdMYXQubG5nLCB0aGlzLl9sbmdMYXQubGF0ICsgLjAwMSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXRoID0gbWFwLnByb2plY3QobmV3IExuZ0xhdCh0aGlzLl9sbmdMYXQubG5nLCB0aGlzLl9sbmdMYXQubGF0IC0gLjAwMSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBzb3V0aC5zdWIobm9ydGgpO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gcmFkVG9EZWcoTWF0aC5hdGFuMihkaWZmLnksIGRpZmYueCkpIC0gOTA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gLW1hcC5nZXRCZWFyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWxpZ25tZW50ID09PSAnaG9yaXpvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IEFMSUdOX1RPX0hPUklaT05fQkVMT1dfWk9PTSA9IDQ7XG4gICAgICAgICAgICBjb25zdCBBTElHTl9UT19TQ1JFRU5fQUJPVkVfWk9PTSA9IDY7XG4gICAgICAgICAgICBhc3NlcnQoQUxJR05fVE9fU0NSRUVOX0FCT1ZFX1pPT00gPD0gR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYLCAnSG9yaXpvbi1vcmllbnRlZCBtYXJrZXIgdHJhbnNpdGlvbiBzaG91bGQgYmUgY29tcGxldGUgd2hlbiBnbG9iZSBzd2l0Y2hlcyB0byBNZXJjYXRvcicpO1xuICAgICAgICAgICAgYXNzZXJ0KEFMSUdOX1RPX0hPUklaT05fQkVMT1dfWk9PTSA8PSBBTElHTl9UT19TQ1JFRU5fQUJPVkVfWk9PTSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNtb290aCA9IHNtb290aHN0ZXAoQUxJR05fVE9fSE9SSVpPTl9CRUxPV19aT09NLCBBTElHTl9UT19TQ1JFRU5fQUJPVkVfWk9PTSwgbWFwLmdldFpvb20oKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNlbnRlclBvaW50ID0gZ2xvYmVDZW50ZXJUb1NjcmVlblBvaW50KG1hcC50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgY2VudGVyUG9pbnQueSArPSBzbW9vdGggKiBtYXAudHJhbnNmb3JtLmhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IHJlbCA9IHBvcy5zdWIoY2VudGVyUG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSByYWRUb0RlZyhNYXRoLmF0YW4yKHJlbC55LCByZWwueCkpO1xuICAgICAgICAgICAgY29uc3QgdXAgPSBhbmdsZSA+IDkwID8gYW5nbGUgLSAyNzAgOiBhbmdsZSArIDkwO1xuICAgICAgICAgICAgcm90YXRpb24gPSB1cCAqICgxIC0gc21vb3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvdGF0aW9uICs9IHRoaXMuX3JvdGF0aW9uO1xuICAgICAgICByZXR1cm4gcm90YXRpb24gPyBgcm90YXRlWigke3JvdGF0aW9ufWRlZylgIDogJyc7XG4gICAgfVxuXG4gICAgX3VwZGF0ZShkZWxheVNuYXA/OiBib29sZWFuKSB7XG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl91cGRhdGVGcmFtZUlkKTtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBpZiAoIW1hcCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChtYXAudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9sbmdMYXQgPSBzbWFydFdyYXAodGhpcy5fbG5nTGF0LCB0aGlzLl9wb3MsIG1hcC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9zID0gbWFwLnByb2plY3QodGhpcy5fbG5nTGF0KTtcblxuICAgICAgICAvLyBiZWNhdXNlIHJvdW5kaW5nIHRoZSBjb29yZGluYXRlcyBhdCBldmVyeSBgbW92ZWAgZXZlbnQgY2F1c2VzIHN0dXR0ZXJlZCB6b29taW5nXG4gICAgICAgIC8vIHdlIG9ubHkgcm91bmQgdGhlbSB3aGVuIF91cGRhdGUgaXMgY2FsbGVkIHdpdGggYG1vdmVlbmRgIG9yIHdoZW4gaXRzIGNhbGxlZCB3aXRoXG4gICAgICAgIC8vIG5vIGFyZ3VtZW50cyAod2hlbiB0aGUgTWFya2VyIGlzIGluaXRpYWxpemVkIG9yIE1hcmtlciNzZXRMbmdMYXQgaXMgaW52b2tlZCkuXG4gICAgICAgIGlmIChkZWxheVNuYXAgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUZyYW1lSWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZWxlbWVudCAmJiB0aGlzLl9wb3MgJiYgdGhpcy5fYW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BvcyA9IHRoaXMuX3Bvcy5yb3VuZCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVET00oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3BvcyA9IHRoaXMuX3Bvcy5yb3VuZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFwLl9yZXF1ZXN0RG9tVGFzaygoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX21hcCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZWxlbWVudCAmJiB0aGlzLl9wb3MgJiYgdGhpcy5fYW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRE9NKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgobWFwLl9zaG93aW5nR2xvYmUoKSB8fCBtYXAuZ2V0VGVycmFpbigpIHx8IG1hcC5nZXRGb2coKSkgJiYgIXRoaXMuX2ZhZGVUaW1lcikge1xuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgICAgICB0aGlzLl9mYWRlVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2V2YWx1YXRlT3BhY2l0eS5iaW5kKHRoaXMpLCA2MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWFya2VyJ3Mgb2Zmc2V0LlxuICAgICAqXG4gICAgICogQHJldHVybnMge1BvaW50fSBUaGUgbWFya2VyJ3Mgc2NyZWVuIGNvb3JkaW5hdGVzIGluIHBpeGVscy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG9mZnNldCA9IG1hcmtlci5nZXRPZmZzZXQoKTtcbiAgICAgKi9cbiAgICBnZXRPZmZzZXQoKTogUG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG9mZnNldCBvZiB0aGUgbWFya2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IG9mZnNldCBUaGUgb2Zmc2V0IGluIHBpeGVscyBhcyBhIHtAbGluayBQb2ludExpa2V9IG9iamVjdCB0byBhcHBseSByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCdzIGNlbnRlci4gTmVnYXRpdmVzIGluZGljYXRlIGxlZnQgYW5kIHVwLlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXJrZXIuc2V0T2Zmc2V0KFswLCAxXSk7XG4gICAgICovXG4gICAgc2V0T2Zmc2V0KG9mZnNldDogUG9pbnRMaWtlKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IFBvaW50LmNvbnZlcnQob2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9vbk1vdmUoZTogTWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnQpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBpZiAoIW1hcCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zID0gdGhpcy5fcG9pbnRlcmRvd25Qb3M7XG4gICAgICAgIGNvbnN0IHBvc0RlbHRhID0gdGhpcy5fcG9zaXRpb25EZWx0YTtcbiAgICAgICAgaWYgKCFzdGFydFBvcyB8fCAhcG9zRGVsdGEpIHJldHVybjtcblxuICAgICAgICBpZiAoIXRoaXMuX2lzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWNrVG9sZXJhbmNlID0gdGhpcy5fY2xpY2tUb2xlcmFuY2UgfHwgbWFwLl9jbGlja1RvbGVyYW5jZTtcbiAgICAgICAgICAgIGlmIChlLnBvaW50LmRpc3Qoc3RhcnRQb3MpIDwgY2xpY2tUb2xlcmFuY2UpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuX2lzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9zID0gZS5wb2ludC5zdWIocG9zRGVsdGEpO1xuICAgICAgICB0aGlzLl9sbmdMYXQgPSBtYXAudW5wcm9qZWN0KHRoaXMuX3Bvcyk7XG4gICAgICAgIHRoaXMuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCk7XG4gICAgICAgIC8vIHN1cHByZXNzIGNsaWNrIGV2ZW50IHNvIHRoYXQgcG9wdXBzIGRvbid0IHRvZ2dsZSBvbiBkcmFnXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgICAgICAvLyBtYWtlIHN1cmUgZHJhZ3N0YXJ0IG9ubHkgZmlyZXMgb24gdGhlIGZpcnN0IG1vdmUgZXZlbnQgYWZ0ZXIgbW91c2Vkb3duLlxuICAgICAgICAvLyB0aGlzIGNhbid0IGJlIG9uIG1vdXNlZG93biBiZWNhdXNlIHRoYXQgZXZlbnQgZG9lc24ndCBuZWNlc3NhcmlseVxuICAgICAgICAvLyBpbXBseSB0aGF0IGEgZHJhZyBpcyBhYm91dCB0byBoYXBwZW4uXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdhY3RpdmUnO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZpcmVkIHdoZW4gZHJhZ2dpbmcgc3RhcnRzLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCBkcmFnc3RhcnRcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBNYXJrZXJcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7TWFya2VyfSBtYXJrZXIgVGhlIG9iamVjdCB0aGF0IGlzIGJlaW5nIGRyYWdnZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RyYWdzdGFydCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGlsZSBkcmFnZ2luZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IGRyYWdcbiAgICAgICAgICogQG1lbWJlcm9mIE1hcmtlclxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtNYXJrZXJ9IG1hcmtlciBUaGUgb2JqZWN0IHRoYXQgaXMgYmVpbmcgZHJhZ2dlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RyYWcnKSk7XG4gICAgfVxuXG4gICAgX29uVXAoKSB7XG4gICAgICAgIC8vIHJldmVydCB0byBub3JtYWwgcG9pbnRlciBldmVudCBoYW5kbGluZ1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uRGVsdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9wb2ludGVyZG93blBvcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lzRHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ21vdXNlbW92ZScsIHRoaXMuX29uTW92ZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub2ZmKCd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb25seSBmaXJlIGRyYWdlbmQgaWYgaXQgd2FzIHByZWNlZGVkIGJ5IGF0IGxlYXN0IG9uZSBkcmFnIGV2ZW50XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBtYXJrZXIgaXMgZmluaXNoZWQgYmVpbmcgZHJhZ2dlZC5cbiAgICAgICAgICAgICpcbiAgICAgICAgICAgICogQGV2ZW50IGRyYWdlbmRcbiAgICAgICAgICAgICogQG1lbWJlcm9mIE1hcmtlclxuICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICAgICogQHByb3BlcnR5IHtNYXJrZXJ9IG1hcmtlciBUaGUgb2JqZWN0IHRoYXQgd2FzIGRyYWdnZWQuXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZHJhZ2VuZCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ2luYWN0aXZlJztcbiAgICB9XG5cbiAgICBfYWRkRHJhZ0hhbmRsZXIoZTogTWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnQpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9wb3M7XG4gICAgICAgIGlmICghbWFwIHx8ICFwb3MpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5fZWxlbWVudC5jb250YWlucygoZS5vcmlnaW5hbEV2ZW50LnRhcmdldDogYW55KSkpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjYWxjdWxhdGUgdGhlIHBpeGVsIGRpc3RhbmNlIGJldHdlZW4gdGhlIGNsaWNrIHBvaW50XG4gICAgICAgICAgICAvLyBhbmQgdGhlIG1hcmtlciBwb3NpdGlvbiwgd2l0aCB0aGUgb2Zmc2V0IGFjY291bnRlZCBmb3IuIFRoZW4gd2VcbiAgICAgICAgICAgIC8vIGNhbiBzdWJ0cmFjdCB0aGlzIGRpc3RhbmNlIGZyb20gdGhlIG1vdXNlbW92ZSBldmVudCdzIHBvc2l0aW9uXG4gICAgICAgICAgICAvLyB0byBjYWxjdWxhdGUgdGhlIG5ldyBtYXJrZXIgcG9zaXRpb24uXG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBkbyB0aGlzLCB0aGUgbWFya2VyICdqdW1wcycgdG8gdGhlIGNsaWNrIHBvc2l0aW9uXG4gICAgICAgICAgICAvLyBjcmVhdGluZyBhIGphcnJpbmcgVVggZWZmZWN0LlxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25EZWx0YSA9IGUucG9pbnQuc3ViKHBvcyk7XG4gICAgICAgICAgICB0aGlzLl9wb2ludGVyZG93blBvcyA9IGUucG9pbnQ7XG5cbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ3BlbmRpbmcnO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdmUpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uKCd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uY2UoJ21vdXNldXAnLCB0aGlzLl9vblVwKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vbmNlKCd0b3VjaGVuZCcsIHRoaXMuX29uVXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGRyYWdnYWJsZWAgcHJvcGVydHkgYW5kIGZ1bmN0aW9uYWxpdHkgb2YgdGhlIG1hcmtlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3VsZEJlRHJhZ2dhYmxlPWZhbHNlXSBUdXJucyBkcmFnIGZ1bmN0aW9uYWxpdHkgb24vb2ZmLlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXJrZXIuc2V0RHJhZ2dhYmxlKHRydWUpO1xuICAgICAqL1xuICAgIHNldERyYWdnYWJsZShzaG91bGRCZURyYWdnYWJsZTogYm9vbGVhbik6IHRoaXMge1xuICAgICAgICB0aGlzLl9kcmFnZ2FibGUgPSAhIXNob3VsZEJlRHJhZ2dhYmxlOyAvLyBjb252ZXJ0IHBvc3NpYmxlIHVuZGVmaW5lZCB2YWx1ZSB0byBmYWxzZVxuXG4gICAgICAgIC8vIGhhbmRsZSBjYXNlIHdoZXJlIG1hcCBtYXkgbm90IGV4aXN0IHlldFxuICAgICAgICAvLyBmb3IgZXhhbXBsZSwgd2hlbiBzZXREcmFnZ2FibGUgaXMgY2FsbGVkIGJlZm9yZSBhZGRUb1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRCZURyYWdnYWJsZSkge1xuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgICAgICBtYXAub24oJ21vdXNlZG93bicsIHRoaXMuX2FkZERyYWdIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICAgICAgbWFwLm9uKCd0b3VjaHN0YXJ0JywgdGhpcy5fYWRkRHJhZ0hhbmRsZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICAgICAgbWFwLm9mZignbW91c2Vkb3duJywgdGhpcy5fYWRkRHJhZ0hhbmRsZXIpO1xuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgICAgICBtYXAub2ZmKCd0b3VjaHN0YXJ0JywgdGhpcy5fYWRkRHJhZ0hhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBtYXJrZXIgY2FuIGJlIGRyYWdnZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWFya2VyIGlzIGRyYWdnYWJsZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGlzTWFya2VyRHJhZ2dhYmxlID0gbWFya2VyLmlzRHJhZ2dhYmxlKCk7XG4gICAgICovXG4gICAgaXNEcmFnZ2FibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcmFnZ2FibGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHJvdGF0aW9uYCBwcm9wZXJ0eSBvZiB0aGUgbWFya2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBUaGUgcm90YXRpb24gYW5nbGUgb2YgdGhlIG1hcmtlciAoY2xvY2t3aXNlLCBpbiBkZWdyZWVzKSwgcmVsYXRpdmUgdG8gaXRzIHJlc3BlY3RpdmUge0BsaW5rIE1hcmtlciNzZXRSb3RhdGlvbkFsaWdubWVudH0gc2V0dGluZy5cbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFya2VyLnNldFJvdGF0aW9uKDQ1KTtcbiAgICAgKi9cbiAgICBzZXRSb3RhdGlvbihyb3RhdGlvbjogbnVtYmVyKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcm90YXRpb24gfHwgMDtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgcm90YXRpb24gYW5nbGUgb2YgdGhlIG1hcmtlciAoaW4gZGVncmVlcykuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgY3VycmVudCByb3RhdGlvbiBhbmdsZSBvZiB0aGUgbWFya2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgcm90YXRpb24gPSBtYXJrZXIuZ2V0Um90YXRpb24oKTtcbiAgICAgKi9cbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHJvdGF0aW9uQWxpZ25tZW50YCBwcm9wZXJ0eSBvZiB0aGUgbWFya2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFthbGlnbm1lbnQ9J2F1dG8nXSBTZXRzIHRoZSBgcm90YXRpb25BbGlnbm1lbnRgIHByb3BlcnR5IG9mIHRoZSBtYXJrZXIuXG4gICAgICogQHJldHVybnMge01hcmtlcn0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcmtlci5zZXRSb3RhdGlvbkFsaWdubWVudCgndmlld3BvcnQnKTtcbiAgICAgKi9cbiAgICBzZXRSb3RhdGlvbkFsaWdubWVudChhbGlnbm1lbnQ6IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLl9yb3RhdGlvbkFsaWdubWVudCA9IGFsaWdubWVudCB8fCAnYXV0byc7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGByb3RhdGlvbkFsaWdubWVudGAgcHJvcGVydHkgb2YgdGhlIG1hcmtlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjdXJyZW50IHJvdGF0aW9uYWwgYWxpZ25tZW50IG9mIHRoZSBtYXJrZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBhbGlnbm1lbnQgPSBtYXJrZXIuZ2V0Um90YXRpb25BbGlnbm1lbnQoKTtcbiAgICAgKi9cbiAgICBnZXRSb3RhdGlvbkFsaWdubWVudCgpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5fcm90YXRpb25BbGlnbm1lbnQgPT09ICdhdXRvJylcbiAgICAgICAgICAgIHJldHVybiAndmlld3BvcnQnO1xuICAgICAgICBpZiAodGhpcy5fcm90YXRpb25BbGlnbm1lbnQgPT09ICdob3Jpem9uJyAmJiB0aGlzLl9tYXAgJiYgIXRoaXMuX21hcC5fc2hvd2luZ0dsb2JlKCkpXG4gICAgICAgICAgICByZXR1cm4gJ3ZpZXdwb3J0JztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uQWxpZ25tZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGBwaXRjaEFsaWdubWVudGAgcHJvcGVydHkgb2YgdGhlIG1hcmtlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYWxpZ25tZW50XSBTZXRzIHRoZSBgcGl0Y2hBbGlnbm1lbnRgIHByb3BlcnR5IG9mIHRoZSBtYXJrZXIuIElmIGFsaWdubWVudCBpcyAnYXV0bycsIGl0IHdpbGwgYXV0b21hdGljYWxseSBtYXRjaCBgcm90YXRpb25BbGlnbm1lbnRgLlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXJrZXIuc2V0UGl0Y2hBbGlnbm1lbnQoJ21hcCcpO1xuICAgICAqL1xuICAgIHNldFBpdGNoQWxpZ25tZW50KGFsaWdubWVudDogc3RyaW5nKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX3BpdGNoQWxpZ25tZW50ID0gYWxpZ25tZW50IHx8ICdhdXRvJztcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgYHBpdGNoQWxpZ25tZW50YCBiZWhhdmlvciBvZiB0aGUgbWFya2VyLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGN1cnJlbnQgcGl0Y2ggYWxpZ25tZW50IG9mIHRoZSBtYXJrZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBhbGlnbm1lbnQgPSBtYXJrZXIuZ2V0UGl0Y2hBbGlnbm1lbnQoKTtcbiAgICAgKi9cbiAgICBnZXRQaXRjaEFsaWdubWVudCgpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5fcGl0Y2hBbGlnbm1lbnQgPT09ICdhdXRvJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Um90YXRpb25BbGlnbm1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcGl0Y2hBbGlnbm1lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYG9jY2x1ZGVkT3BhY2l0eWAgcHJvcGVydHkgb2YgdGhlIG1hcmtlci5cbiAgICAgKiBUaGlzIG9wYWNpdHkgaXMgdXNlZCBvbiB0aGUgbWFya2VyIHdoZW4gdGhlIG1hcmtlciBpcyBvY2NsdWRlZCBieSB0ZXJyYWluLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcGFjaXR5PTAuMl0gU2V0cyB0aGUgYG9jY2x1ZGVkT3BhY2l0eWAgcHJvcGVydHkgb2YgdGhlIG1hcmtlci5cbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFya2VyLnNldE9jY2x1ZGVkT3BhY2l0eSgwLjMpO1xuICAgICAqL1xuICAgIHNldE9jY2x1ZGVkT3BhY2l0eShvcGFjaXR5OiBudW1iZXIpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fb2NjbHVkZWRPcGFjaXR5ID0gb3BhY2l0eSB8fCAwLjI7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGBvY2NsdWRlZE9wYWNpdHlgIG9mIHRoZSBtYXJrZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgb3BhY2l0eSBvZiBhIHRlcnJhaW4gb2NjbHVkZWQgbWFya2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgb3BhY2l0eSA9IG1hcmtlci5nZXRPY2NsdWRlZE9wYWNpdHkoKTtcbiAgICAgKi9cbiAgICBnZXRPY2NsdWRlZE9wYWNpdHkoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29jY2x1ZGVkT3BhY2l0eTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge2V4dGVuZCwgYmluZEFsbH0gZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7RXZlbnQsIEV2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQge01hcE1vdXNlRXZlbnR9IGZyb20gJy4uL3VpL2V2ZW50cy5qcyc7XG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vdXRpbC9kb20uanMnO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuLi9nZW8vbG5nX2xhdC5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93LmpzJztcbmltcG9ydCBzbWFydFdyYXAgZnJvbSAnLi4vdXRpbC9zbWFydF93cmFwLmpzJztcbmltcG9ydCB7dHlwZSBBbmNob3IsIGFuY2hvclRyYW5zbGF0ZX0gZnJvbSAnLi9hbmNob3IuanMnO1xuaW1wb3J0IHtpc0xuZ0xhdEJlaGluZEdsb2JlfSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi9nbG9iZV91dGlsLmpzJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4vbWFwLmpzJztcbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tICcuLi9nZW8vbG5nX2xhdC5qcyc7XG5pbXBvcnQgdHlwZSB7UG9pbnRMaWtlfSBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB0eXBlIE1hcmtlciBmcm9tICcuL21hcmtlci5qcyc7XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIGNsb3NlQnV0dG9uOiB0cnVlLFxuICAgIGNsb3NlT25DbGljazogdHJ1ZSxcbiAgICBmb2N1c0FmdGVyT3BlbjogdHJ1ZSxcbiAgICBjbGFzc05hbWU6ICcnLFxuICAgIG1heFdpZHRoOiBcIjI0MHB4XCJcbn07XG5cbmV4cG9ydCB0eXBlIE9mZnNldCA9IG51bWJlciB8IFBvaW50TGlrZSB8IHtbXzogQW5jaG9yXTogUG9pbnRMaWtlfTtcblxuZXhwb3J0IHR5cGUgUG9wdXBPcHRpb25zID0ge1xuICAgIGNsb3NlQnV0dG9uPzogYm9vbGVhbixcbiAgICBjbG9zZU9uQ2xpY2s/OiBib29sZWFuLFxuICAgIGNsb3NlT25Nb3ZlPzogYm9vbGVhbixcbiAgICBmb2N1c0FmdGVyT3Blbj86IGJvb2xlYW4sXG4gICAgYW5jaG9yPzogQW5jaG9yLFxuICAgIG9mZnNldD86IE9mZnNldCxcbiAgICBjbGFzc05hbWU/OiBzdHJpbmcsXG4gICAgbWF4V2lkdGg/OiBzdHJpbmdcbn07XG5cbmNvbnN0IGZvY3VzUXVlcnlTZWxlY3RvciA9IFtcbiAgICBcImFbaHJlZl1cIixcbiAgICBcIlt0YWJpbmRleF06bm90KFt0YWJpbmRleD0nLTEnXSlcIixcbiAgICBcIltjb250ZW50ZWRpdGFibGVdOm5vdChbY29udGVudGVkaXRhYmxlPSdmYWxzZSddKVwiLFxuICAgIFwiYnV0dG9uOm5vdChbZGlzYWJsZWRdKVwiLFxuICAgIFwiaW5wdXQ6bm90KFtkaXNhYmxlZF0pXCIsXG4gICAgXCJzZWxlY3Q6bm90KFtkaXNhYmxlZF0pXCIsXG4gICAgXCJ0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSlcIixcbl0uam9pbihcIiwgXCIpO1xuXG4vKipcbiAqIEEgcG9wdXAgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xvc2VCdXR0b249dHJ1ZV0gSWYgYHRydWVgLCBhIGNsb3NlIGJ1dHRvbiB3aWxsIGFwcGVhciBpbiB0aGVcbiAqICAgdG9wIHJpZ2h0IGNvcm5lciBvZiB0aGUgcG9wdXAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsb3NlT25DbGljaz10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBwb3B1cCB3aWxsIGNsb3NlIHdoZW4gdGhlXG4gKiAgIG1hcCBpcyBjbGlja2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbG9zZU9uTW92ZT1mYWxzZV0gSWYgYHRydWVgLCB0aGUgcG9wdXAgd2lsbCBjbG9zZSB3aGVuIHRoZVxuICogICBtYXAgbW92ZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvY3VzQWZ0ZXJPcGVuPXRydWVdIElmIGB0cnVlYCwgdGhlIHBvcHVwIHdpbGwgdHJ5IHRvIGZvY3VzIHRoZVxuICogICBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCBpbnNpZGUgdGhlIHBvcHVwLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFuY2hvcl0gLSBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBwYXJ0IG9mIHRoZSBwb3B1cCB0aGF0IHNob3VsZFxuICogICBiZSBwb3NpdGlvbmVkIGNsb3Nlc3QgdG8gdGhlIGNvb3JkaW5hdGUsIHNldCB2aWEge0BsaW5rIFBvcHVwI3NldExuZ0xhdH0uXG4gKiAgIE9wdGlvbnMgYXJlIGAnY2VudGVyJ2AsIGAndG9wJ2AsIGAnYm90dG9tJ2AsIGAnbGVmdCdgLCBgJ3JpZ2h0J2AsIGAndG9wLWxlZnQnYCxcbiAqICAgYCd0b3AtcmlnaHQnYCwgYCdib3R0b20tbGVmdCdgLCBhbmQgYCdib3R0b20tcmlnaHQnYC4gSWYgdW5zZXQsIHRoZSBhbmNob3Igd2lsbCBiZVxuICogICBkeW5hbWljYWxseSBzZXQgdG8gZW5zdXJlIHRoZSBwb3B1cCBmYWxscyB3aXRoaW4gdGhlIG1hcCBjb250YWluZXIgd2l0aCBhIHByZWZlcmVuY2VcbiAqICAgZm9yIGAnYm90dG9tJ2AuXG4gKiBAcGFyYW0ge251bWJlciB8IFBvaW50TGlrZSB8IE9iamVjdH0gW29wdGlvbnMub2Zmc2V0XSAtXG4gKiAgQSBwaXhlbCBvZmZzZXQgYXBwbGllZCB0byB0aGUgcG9wdXAncyBsb2NhdGlvbiBzcGVjaWZpZWQgYXM6XG4gKiAgIC0gYSBzaW5nbGUgbnVtYmVyIHNwZWNpZnlpbmcgYSBkaXN0YW5jZSBmcm9tIHRoZSBwb3B1cCdzIGxvY2F0aW9uXG4gKiAgIC0gYSB7QGxpbmsgUG9pbnRMaWtlfSBzcGVjaWZ5aW5nIGEgY29uc3RhbnQgb2Zmc2V0XG4gKiAgIC0gYW4gb2JqZWN0IG9mIHtAbGluayBQb2ludH1zIHNwZWNpZmluZyBhbiBvZmZzZXQgZm9yIGVhY2ggYW5jaG9yIHBvc2l0aW9uLlxuICpcbiAqICBOZWdhdGl2ZSBvZmZzZXRzIGluZGljYXRlIGxlZnQgYW5kIHVwLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmNsYXNzTmFtZV0gU3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzcyBuYW1lcyB0byBhZGQgdG8gcG9wdXAgY29udGFpbmVyLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm1heFdpZHRoPScyNDBweCddIC1cbiAqICBBIHN0cmluZyB0aGF0IHNldHMgdGhlIENTUyBwcm9wZXJ0eSBvZiB0aGUgcG9wdXAncyBtYXhpbXVtIHdpZHRoIChmb3IgZXhhbXBsZSwgYCczMDBweCdgKS5cbiAqICBUbyBlbnN1cmUgdGhlIHBvcHVwIHJlc2l6ZXMgdG8gZml0IGl0cyBjb250ZW50LCBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgJ25vbmUnYC5cbiAqICBTZWUgdGhlIE1ETiBkb2N1bWVudGF0aW9uIGZvciB0aGUgbGlzdCBvZiBbYXZhaWxhYmxlIHZhbHVlc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL21heC13aWR0aCkuXG4gKiBAZXhhbXBsZVxuICogY29uc3QgbWFya2VySGVpZ2h0ID0gNTA7XG4gKiBjb25zdCBtYXJrZXJSYWRpdXMgPSAxMDtcbiAqIGNvbnN0IGxpbmVhck9mZnNldCA9IDI1O1xuICogY29uc3QgcG9wdXBPZmZzZXRzID0ge1xuICogICAgICd0b3AnOiBbMCwgMF0sXG4gKiAgICAgJ3RvcC1sZWZ0JzogWzAsIDBdLFxuICogICAgICd0b3AtcmlnaHQnOiBbMCwgMF0sXG4gKiAgICAgJ2JvdHRvbSc6IFswLCAtbWFya2VySGVpZ2h0XSxcbiAqICAgICAnYm90dG9tLWxlZnQnOiBbbGluZWFyT2Zmc2V0LCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzICsgbGluZWFyT2Zmc2V0KSAqIC0xXSxcbiAqICAgICAnYm90dG9tLXJpZ2h0JzogWy1saW5lYXJPZmZzZXQsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMgKyBsaW5lYXJPZmZzZXQpICogLTFdLFxuICogICAgICdsZWZ0JzogW21hcmtlclJhZGl1cywgKG1hcmtlckhlaWdodCAtIG1hcmtlclJhZGl1cykgKiAtMV0sXG4gKiAgICAgJ3JpZ2h0JzogWy1tYXJrZXJSYWRpdXMsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMpICogLTFdXG4gKiB9O1xuICogY29uc3QgcG9wdXAgPSBuZXcgbWFwYm94Z2wuUG9wdXAoe29mZnNldDogcG9wdXBPZmZzZXRzLCBjbGFzc05hbWU6ICdteS1jbGFzcyd9KVxuICogICAgIC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gKiAgICAgLnNldEhUTUwoXCI8aDE+SGVsbG8gV29ybGQhPC9oMT5cIilcbiAqICAgICAuc2V0TWF4V2lkdGgoXCIzMDBweFwiKVxuICogICAgIC5hZGRUbyhtYXApO1xuICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLylcbiAqIEBzZWUgW0V4YW1wbGU6IERpc3BsYXkgYSBwb3B1cCBvbiBob3Zlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1ob3Zlci8pXG4gKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGEgcG9wdXAgb24gY2xpY2tdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24tY2xpY2svKVxuICogQHNlZSBbRXhhbXBsZTogQXR0YWNoIGEgcG9wdXAgdG8gYSBtYXJrZXIgaW5zdGFuY2VdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2V0LXBvcHVwLylcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBfbWFwOiA/TWFwO1xuICAgIG9wdGlvbnM6IFBvcHVwT3B0aW9ucztcbiAgICBfY29udGVudDogP0hUTUxFbGVtZW50O1xuICAgIF9jb250YWluZXI6ID9IVE1MRWxlbWVudDtcbiAgICBfY2xvc2VCdXR0b246ID9IVE1MRWxlbWVudDtcbiAgICBfdGlwOiA/SFRNTEVsZW1lbnQ7XG4gICAgX2xuZ0xhdDogTG5nTGF0O1xuICAgIF90cmFja1BvaW50ZXI6IGJvb2xlYW47XG4gICAgX3BvczogP1BvaW50O1xuICAgIF9hbmNob3I6IEFuY2hvcjtcbiAgICBfY2xhc3NMaXN0OiBTZXQ8c3RyaW5nPjtcbiAgICBfbWFya2VyOiA/TWFya2VyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogUG9wdXBPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZChPYmplY3QuY3JlYXRlKGRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgIGJpbmRBbGwoWydfdXBkYXRlJywgJ19vbkNsb3NlJywgJ3JlbW92ZScsICdfb25Nb3VzZUV2ZW50J10sIHRoaXMpO1xuICAgICAgICB0aGlzLl9jbGFzc0xpc3QgPSBuZXcgU2V0KG9wdGlvbnMgJiYgb3B0aW9ucy5jbGFzc05hbWUgP1xuICAgICAgICAgICAgb3B0aW9ucy5jbGFzc05hbWUudHJpbSgpLnNwbGl0KC9cXHMrLykgOiBbXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgcG9wdXAgdG8gYSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01hcH0gbWFwIFRoZSBNYXBib3ggR0wgSlMgbWFwIHRvIGFkZCB0aGUgcG9wdXAgdG8uXG4gICAgICogQHJldHVybnMge1BvcHVwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbmV3IG1hcGJveGdsLlBvcHVwKClcbiAgICAgKiAgICAgLnNldExuZ0xhdChbMCwgMF0pXG4gICAgICogICAgIC5zZXRIVE1MKFwiPGgxPk51bGwgSXNsYW5kPC9oMT5cIilcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwIG9uIGhvdmVyXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1ob3Zlci8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwIG9uIGNsaWNrXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1jbGljay8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogU2hvdyBwb2x5Z29uIGluZm9ybWF0aW9uIG9uIGNsaWNrXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb2x5Z29uLXBvcHVwLW9uLWNsaWNrLylcbiAgICAgKi9cbiAgICBhZGRUbyhtYXA6IE1hcCk6IHRoaXMge1xuICAgICAgICBpZiAodGhpcy5fbWFwKSB0aGlzLnJlbW92ZSgpO1xuXG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2spIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vbigncHJlY2xpY2snLCB0aGlzLl9vbkNsb3NlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbk1vdmUpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vbignbW92ZScsIHRoaXMuX29uQ2xvc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICBtYXAub24oJ3JlbW92ZScsIHRoaXMucmVtb3ZlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIG1hcC5fYWRkUG9wdXAodGhpcyk7XG4gICAgICAgIHRoaXMuX2ZvY3VzRmlyc3RFbGVtZW50KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RyYWNrUG9pbnRlcikge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlRXZlbnQpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZUV2ZW50KTtcbiAgICAgICAgICAgIG1hcC5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLXRyYWNrLXBvaW50ZXInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vbignbW92ZScsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgcG9wdXAgaXMgb3BlbmVkIG1hbnVhbGx5IG9yIHByb2dyYW1hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IG9wZW5cbiAgICAgICAgICogQG1lbWJlcm9mIFBvcHVwXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge1BvcHVwfSBwb3B1cCBPYmplY3QgdGhhdCB3YXMgb3BlbmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBDcmVhdGUgYSBwb3B1cFxuICAgICAgICAgKiBjb25zdCBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpO1xuICAgICAgICAgKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCB3aWxsIGZpcmVcbiAgICAgICAgICogLy8gYW55IHRpbWUgdGhlIHBvcHVwIGlzIG9wZW5lZFxuICAgICAgICAgKiBwb3B1cC5vbignb3BlbicsICgpID0+IHtcbiAgICAgICAgICogICAgIGNvbnNvbGUubG9nKCdwb3B1cCB3YXMgb3BlbmVkJyk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnb3BlbicpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBwb3B1cCBpcyBvcGVuLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgcG9wdXAgaXMgb3BlbiwgYGZhbHNlYCBpZiBpdCBpcyBjbG9zZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc1BvcHVwT3BlbiA9IHBvcHVwLmlzT3BlbigpO1xuICAgICAqL1xuICAgIGlzT3BlbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fbWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHBvcHVwIGZyb20gdGhlIG1hcCBpdCBoYXMgYmVlbiBhZGRlZCB0by5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgcG9wdXAgPSBuZXcgbWFwYm94Z2wuUG9wdXAoKS5hZGRUbyhtYXApO1xuICAgICAqIHBvcHVwLnJlbW92ZSgpO1xuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKi9cbiAgICByZW1vdmUoKTogdGhpcyB7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50LnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBpZiAobWFwKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub2ZmKCdtb3ZlJywgdGhpcy5fdXBkYXRlKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ21vdmUnLCB0aGlzLl9vbkNsb3NlKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ3ByZWNsaWNrJywgdGhpcy5fb25DbG9zZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub2ZmKCdjbGljaycsIHRoaXMuX29uQ2xvc2UpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZigncmVtb3ZlJywgdGhpcy5yZW1vdmUpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZUV2ZW50KTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlRXZlbnQpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZignZHJhZycsIHRoaXMuX29uTW91c2VFdmVudCk7XG4gICAgICAgICAgICBpZiAobWFwLl9jYW52YXNDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBtYXAuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC10cmFjay1wb2ludGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXAuX3JlbW92ZVBvcHVwKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fbWFwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIHBvcHVwIGlzIGNsb3NlZCBtYW51YWxseSBvciBwcm9ncmFtYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBjbG9zZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUG9wdXBcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UG9wdXB9IHBvcHVwIE9iamVjdCB0aGF0IHdhcyBjbG9zZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIENyZWF0ZSBhIHBvcHVwXG4gICAgICAgICAqIGNvbnN0IHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKCk7XG4gICAgICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IHdpbGwgZmlyZVxuICAgICAgICAgKiAvLyBhbnkgdGltZSB0aGUgcG9wdXAgaXMgY2xvc2VkXG4gICAgICAgICAqIHBvcHVwLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICogICAgIGNvbnNvbGUubG9nKCdwb3B1cCB3YXMgY2xvc2VkJyk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnY2xvc2UnKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIG9mIHRoZSBwb3B1cCdzIGFuY2hvci5cbiAgICAgKlxuICAgICAqIFRoZSBsb25naXR1ZGUgb2YgdGhlIHJlc3VsdCBtYXkgZGlmZmVyIGJ5IGEgbXVsdGlwbGUgb2YgMzYwIGRlZ3JlZXMgZnJvbSB0aGUgbG9uZ2l0dWRlIHByZXZpb3VzbHlcbiAgICAgKiBzZXQgYnkgYHNldExuZ0xhdGAgYmVjYXVzZSBgUG9wdXBgIHdyYXBzIHRoZSBhbmNob3IgbG9uZ2l0dWRlIGFjcm9zcyBjb3BpZXMgb2YgdGhlIHdvcmxkIHRvIGtlZXBcbiAgICAgKiB0aGUgcG9wdXAgb24gc2NyZWVuLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbiBvZiB0aGUgcG9wdXAncyBhbmNob3IuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBsbmdMYXQgPSBwb3B1cC5nZXRMbmdMYXQoKTtcbiAgICAgKi9cbiAgICBnZXRMbmdMYXQoKTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xuZ0xhdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb24gb2YgdGhlIHBvcHVwJ3MgYW5jaG9yLCBhbmQgbW92ZXMgdGhlIHBvcHVwIHRvIGl0LiBSZXBsYWNlcyB0cmFja1BvaW50ZXIoKSBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gbG5nbGF0IFRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb24gdG8gc2V0IGFzIHRoZSBwb3B1cCdzIGFuY2hvci5cbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBwb3B1cC5zZXRMbmdMYXQoWy0xMjIuNDE5NCwgMzcuNzc0OV0pO1xuICAgICAqL1xuICAgIHNldExuZ0xhdChsbmdsYXQ6IExuZ0xhdExpa2UpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fbG5nTGF0ID0gTG5nTGF0LmNvbnZlcnQobG5nbGF0KTtcbiAgICAgICAgdGhpcy5fcG9zID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90cmFja1BvaW50ZXIgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vbignbW92ZScsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub2ZmKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlRXZlbnQpO1xuICAgICAgICAgICAgbWFwLl9jYW52YXNDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtdHJhY2stcG9pbnRlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhY2tzIHRoZSBwb3B1cCBhbmNob3IgdG8gdGhlIGN1cnNvciBwb3NpdGlvbiBvbiBzY3JlZW5zIHdpdGggYSBwb2ludGVyIGRldmljZSAoaXQgd2lsbCBiZSBoaWRkZW4gb24gdG91Y2hzY3JlZW5zKS4gUmVwbGFjZXMgdGhlIGBzZXRMbmdMYXRgIGJlaGF2aW9yLlxuICAgICAqIEZvciBtb3N0IHVzZSBjYXNlcywgc2V0IGBjbG9zZU9uQ2xpY2tgIGFuZCBgY2xvc2VCdXR0b25gIHRvIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKHtjbG9zZU9uQ2xpY2s6IGZhbHNlLCBjbG9zZUJ1dHRvbjogZmFsc2V9KVxuICAgICAqICAgICAuc2V0SFRNTChcIjxoMT5IZWxsbyBXb3JsZCE8L2gxPlwiKVxuICAgICAqICAgICAudHJhY2tQb2ludGVyKClcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7XG4gICAgICogQHJldHVybnMge1BvcHVwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHRyYWNrUG9pbnRlcigpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fdHJhY2tQb2ludGVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcG9zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgaWYgKG1hcCkge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9mZignbW92ZScsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub24oJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VFdmVudCk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub24oJ2RyYWcnLCB0aGlzLl9vbk1vdXNlRXZlbnQpO1xuICAgICAgICAgICAgbWFwLl9jYW52YXNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdHJhY2stcG9pbnRlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBgUG9wdXBgJ3MgSFRNTCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDaGFuZ2UgdGhlIGBQb3B1cGAgZWxlbWVudCdzIGZvbnQgc2l6ZVxuICAgICAqIGNvbnN0IHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKClcbiAgICAgKiAgICAgLnNldExuZ0xhdChbLTk2LCAzNy44XSlcbiAgICAgKiAgICAgLnNldEhUTUwoXCI8cD5IZWxsbyBXb3JsZCE8L3A+XCIpXG4gICAgICogICAgIC5hZGRUbyhtYXApO1xuICAgICAqIGNvbnN0IHBvcHVwRWxlbSA9IHBvcHVwLmdldEVsZW1lbnQoKTtcbiAgICAgKiBwb3B1cEVsZW0uc3R5bGUuZm9udFNpemUgPSBcIjI1cHhcIjtcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFJldHVybnMgY29udGFpbmVyIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0RWxlbWVudCgpOiA/SFRNTEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvcHVwJ3MgY29udGVudCB0byBhIHN0cmluZyBvZiB0ZXh0LlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGEgW1RleHRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9UZXh0KSBub2RlIGluIHRoZSBET00sXG4gICAgICogc28gaXQgY2Fubm90IGluc2VydCByYXcgSFRNTC4gVXNlIHRoaXMgbWV0aG9kIGZvciBzZWN1cml0eSBhZ2FpbnN0IFhTU1xuICAgICAqIGlmIHRoZSBwb3B1cCBjb250ZW50IGlzIHVzZXItcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0dWFsIGNvbnRlbnQgZm9yIHRoZSBwb3B1cC5cbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpXG4gICAgICogICAgIC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gICAgICogICAgIC5zZXRUZXh0KCdIZWxsbywgd29ybGQhJylcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7XG4gICAgICovXG4gICAgc2V0VGV4dCh0ZXh0OiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RE9NQ29udGVudCh3aW5kb3cuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvcHVwJ3MgY29udGVudCB0byB0aGUgSFRNTCBwcm92aWRlZCBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHBlcmZvcm0gSFRNTCBmaWx0ZXJpbmcgb3Igc2FuaXRpemF0aW9uLCBhbmQgbXVzdCBiZVxuICAgICAqIHVzZWQgb25seSB3aXRoIHRydXN0ZWQgY29udGVudC4gQ29uc2lkZXIge0BsaW5rIFBvcHVwI3NldFRleHR9IGlmXG4gICAgICogdGhlIGNvbnRlbnQgaXMgYW4gdW50cnVzdGVkIHRleHQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgQSBzdHJpbmcgcmVwcmVzZW50aW5nIEhUTUwgY29udGVudCBmb3IgdGhlIHBvcHVwLlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKClcbiAgICAgKiAgICAgLnNldExuZ0xhdChlLmxuZ0xhdClcbiAgICAgKiAgICAgLnNldEhUTUwoXCI8aDE+SGVsbG8gV29ybGQhPC9oMT5cIilcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwIG9uIGhvdmVyXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1ob3Zlci8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHBvcHVwIG9uIGNsaWNrXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1jbGljay8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQXR0YWNoIGEgcG9wdXAgdG8gYSBtYXJrZXIgaW5zdGFuY2VdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3NldC1wb3B1cC8pXG4gICAgICovXG4gICAgc2V0SFRNTChodG1sOiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgY29uc3QgZnJhZyA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIGNvbnN0IHRlbXAgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpO1xuICAgICAgICBsZXQgY2hpbGQ7XG4gICAgICAgIHRlbXAuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNoaWxkID0gdGVtcC5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKCFjaGlsZCkgYnJlYWs7XG4gICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnNldERPTUNvbnRlbnQoZnJhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcG9wdXAncyBtYXhpbXVtIHdpZHRoLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIG1heGltdW0gd2lkdGggb2YgdGhlIHBvcHVwLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbWF4V2lkdGggPSBwb3B1cC5nZXRNYXhXaWR0aCgpO1xuICAgICAqL1xuICAgIGdldE1heFdpZHRoKCk6ID9zdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyICYmIHRoaXMuX2NvbnRhaW5lci5zdHlsZS5tYXhXaWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb3B1cCdzIG1heGltdW0gd2lkdGguIFRoaXMgaXMgc2V0dGluZyB0aGUgQ1NTIHByb3BlcnR5IGBtYXgtd2lkdGhgLlxuICAgICAqIEF2YWlsYWJsZSB2YWx1ZXMgY2FuIGJlIGZvdW5kIGhlcmU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9tYXgtd2lkdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWF4V2lkdGggQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBmb3IgdGhlIG1heGltdW0gd2lkdGguXG4gICAgICogQHJldHVybnMge1BvcHVwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogcG9wdXAuc2V0TWF4V2lkdGgoJzUwJyk7XG4gICAgICovXG4gICAgc2V0TWF4V2lkdGgobWF4V2lkdGg6IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLm9wdGlvbnMubWF4V2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvcHVwJ3MgY29udGVudCB0byB0aGUgZWxlbWVudCBwcm92aWRlZCBhcyBhIERPTSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBodG1sTm9kZSBBIERPTSBub2RlIHRvIGJlIHVzZWQgYXMgY29udGVudCBmb3IgdGhlIHBvcHVwLlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGNyZWF0ZSBhbiBlbGVtZW50IHdpdGggdGhlIHBvcHVwIGNvbnRlbnRcbiAgICAgKiBjb25zdCBkaXYgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICogZGl2LmlubmVySFRNTCA9ICdIZWxsbywgd29ybGQhJztcbiAgICAgKiBjb25zdCBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpXG4gICAgICogICAgIC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gICAgICogICAgIC5zZXRET01Db250ZW50KGRpdilcbiAgICAgKiAgICAgLmFkZFRvKG1hcCk7XG4gICAgICovXG4gICAgc2V0RE9NQ29udGVudChodG1sTm9kZTogTm9kZSk6IHRoaXMge1xuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuX2NvbnRlbnQ7XG4gICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICAvLyBDbGVhciBvdXQgY2hpbGRyZW4gZmlyc3QuXG4gICAgICAgICAgICB3aGlsZSAoY29udGVudC5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQucmVtb3ZlQ2hpbGQoY29udGVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZW50ID0gdGhpcy5fY29udGVudCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1wb3B1cC1jb250ZW50JywgdGhpcy5fY29udGFpbmVyIHx8IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgY2xvc2UgYnV0dG9uIHNob3VsZCBiZSB0aGUgbGFzdCB0YWJiYWJsZSBlbGVtZW50IGluc2lkZSB0aGUgcG9wdXAgZm9yIGEgZ29vZCBrZXlib2FyZCBVWC5cbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChodG1sTm9kZSk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbikge1xuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5fY2xvc2VCdXR0b24gPSBET00uY3JlYXRlKCdidXR0b24nLCAnbWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9uJywgY29udGVudCk7XG4gICAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdDbG9zZSBwb3B1cCcpO1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICcmIzIxNTsnO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbG9zZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHRoaXMuX2ZvY3VzRmlyc3RFbGVtZW50KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBDU1MgY2xhc3MgdG8gdGhlIHBvcHVwIGNvbnRhaW5lciBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBOb24tZW1wdHkgc3RyaW5nIHdpdGggQ1NTIGNsYXNzIG5hbWUgdG8gYWRkIHRvIHBvcHVwIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKCk7XG4gICAgICogcG9wdXAuYWRkQ2xhc3NOYW1lKCdzb21lLWNsYXNzJyk7XG4gICAgICovXG4gICAgYWRkQ2xhc3NOYW1lKGNsYXNzTmFtZTogc3RyaW5nKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX2NsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2xhc3NMaXN0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBDU1MgY2xhc3MgZnJvbSB0aGUgcG9wdXAgY29udGFpbmVyIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIE5vbi1lbXB0eSBzdHJpbmcgd2l0aCBDU1MgY2xhc3MgbmFtZSB0byByZW1vdmUgZnJvbSBwb3B1cCBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCh7Y2xhc3NOYW1lOiAnc29tZSBjbGFzc2VzJ30pO1xuICAgICAqIHBvcHVwLnJlbW92ZUNsYXNzTmFtZSgnc29tZScpO1xuICAgICAqL1xuICAgIHJlbW92ZUNsYXNzTmFtZShjbGFzc05hbWU6IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLl9jbGFzc0xpc3QuZGVsZXRlKGNsYXNzTmFtZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb3B1cCdzIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgUG9pbnRMaWtlIHwgT2JqZWN0fSBvZmZzZXQgU2V0cyB0aGUgcG9wdXAncyBvZmZzZXQuIFRoZSBgT2JqZWN0YCBpcyBvZiB0aGUgZm9sbG93aW5nIHN0cnVjdHVyZVxuICAgICAqIHtcbiAgICAgKiAgICAnY2VudGVyJzogP1BvaW50TGlrZSxcbiAgICAgKiAgICAndG9wJzogP1BvaW50TGlrZSxcbiAgICAgKiAgICAnYm90dG9tJzogP1BvaW50TGlrZSxcbiAgICAgKiAgICAnbGVmdCc6ID9Qb2ludExpa2UsXG4gICAgICogICAgJ3JpZ2h0JzogP1BvaW50TGlrZSxcbiAgICAgKiAgICAndG9wLWxlZnQnOiA/UG9pbnRMaWtlLFxuICAgICAqICAgICd0b3AtcmlnaHQnOiA/UG9pbnRMaWtlLFxuICAgICAqICAgICdib3R0b20tbGVmdCc6ID9Qb2ludExpa2UsXG4gICAgICogICAgJ2JvdHRvbS1yaWdodCc6ID9Qb2ludExpa2VcbiAgICAgKiB9LlxuICAgICAqXG4gICAgICogQHJldHVybnMge1BvcHVwfSBgdGhpc2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBwb3B1cC5zZXRPZmZzZXQoMTApO1xuICAgICAqL1xuICAgIHNldE9mZnNldCAob2Zmc2V0PzogT2Zmc2V0KTogdGhpcyB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgb3IgcmVtb3ZlIHRoZSBnaXZlbiBDU1MgY2xhc3Mgb24gdGhlIHBvcHVwIGNvbnRhaW5lciwgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIGNvbnRhaW5lciBjdXJyZW50bHkgaGFzIHRoYXQgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIE5vbi1lbXB0eSBzdHJpbmcgd2l0aCBDU1MgY2xhc3MgbmFtZSB0byBhZGQvcmVtb3ZlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IElmIHRoZSBjbGFzcyB3YXMgcmVtb3ZlZCByZXR1cm4gYGZhbHNlYC4gSWYgdGhlIGNsYXNzIHdhcyBhZGRlZCwgdGhlbiByZXR1cm4gYHRydWVgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpO1xuICAgICAqIHBvcHVwLnRvZ2dsZUNsYXNzTmFtZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgKi9cbiAgICB0b2dnbGVDbGFzc05hbWUoY2xhc3NOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGZpbmFsU3RhdGU6IGJvb2xlYW47XG4gICAgICAgIGlmICh0aGlzLl9jbGFzc0xpc3QuZGVsZXRlKGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgIGZpbmFsU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIGZpbmFsU3RhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpO1xuICAgICAgICByZXR1cm4gZmluYWxTdGF0ZTtcbiAgICB9XG5cbiAgICBfb25Nb3VzZUV2ZW50KGV2ZW50OiBNYXBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZShldmVudC5wb2ludCk7XG4gICAgfVxuXG4gICAgX2dldEFuY2hvcihib3R0b21ZOiBudW1iZXIpOiBBbmNob3Ige1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuY2hvcikgeyByZXR1cm4gdGhpcy5vcHRpb25zLmFuY2hvcjsgfVxuXG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9wb3M7XG5cbiAgICAgICAgaWYgKCFtYXAgfHwgIWNvbnRhaW5lciB8fCAhcG9zKSByZXR1cm4gJ2JvdHRvbSc7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgaXNUb3AgPSBwb3MueSArIGJvdHRvbVkgPCBoZWlnaHQ7XG4gICAgICAgIGNvbnN0IGlzQm90dG9tID0gcG9zLnkgPiBtYXAudHJhbnNmb3JtLmhlaWdodCAtIGhlaWdodDtcbiAgICAgICAgY29uc3QgaXNMZWZ0ID0gcG9zLnggPCB3aWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGlzUmlnaHQgPSBwb3MueCA+IG1hcC50cmFuc2Zvcm0ud2lkdGggLSB3aWR0aCAvIDI7XG5cbiAgICAgICAgaWYgKGlzVG9wKSB7XG4gICAgICAgICAgICBpZiAoaXNMZWZ0KSByZXR1cm4gJ3RvcC1sZWZ0JztcbiAgICAgICAgICAgIGlmIChpc1JpZ2h0KSByZXR1cm4gJ3RvcC1yaWdodCc7XG4gICAgICAgICAgICByZXR1cm4gJ3RvcCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQm90dG9tKSB7XG4gICAgICAgICAgICBpZiAoaXNMZWZ0KSByZXR1cm4gJ2JvdHRvbS1sZWZ0JztcbiAgICAgICAgICAgIGlmIChpc1JpZ2h0KSByZXR1cm4gJ2JvdHRvbS1yaWdodCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTGVmdCkgcmV0dXJuICdsZWZ0JztcbiAgICAgICAgaWYgKGlzUmlnaHQpIHJldHVybiAncmlnaHQnO1xuXG4gICAgICAgIHJldHVybiAnYm90dG9tJztcbiAgICB9XG5cbiAgICBfdXBkYXRlQ2xhc3NMaXN0KCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY2xhc3NlcyA9IFsuLi50aGlzLl9jbGFzc0xpc3RdO1xuICAgICAgICBjbGFzc2VzLnB1c2goJ21hcGJveGdsLXBvcHVwJyk7XG4gICAgICAgIGlmICh0aGlzLl9hbmNob3IpIHtcbiAgICAgICAgICAgIGNsYXNzZXMucHVzaChgbWFwYm94Z2wtcG9wdXAtYW5jaG9yLSR7dGhpcy5fYW5jaG9yfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90cmFja1BvaW50ZXIpIHtcbiAgICAgICAgICAgIGNsYXNzZXMucHVzaCgnbWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlcicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlKGN1cnNvcj86IFBvaW50KSB7XG4gICAgICAgIGNvbnN0IGhhc1Bvc2l0aW9uID0gdGhpcy5fbG5nTGF0IHx8IHRoaXMuX3RyYWNrUG9pbnRlcjtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5fY29udGVudDtcblxuICAgICAgICBpZiAoIW1hcCB8fCAhaGFzUG9zaXRpb24gfHwgIWNvbnRlbnQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcblxuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLXBvcHVwJywgbWFwLmdldENvbnRhaW5lcigpKTtcbiAgICAgICAgICAgIHRoaXMuX3RpcCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1wb3B1cC10aXAnLCBjb250YWluZXIpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tYXhXaWR0aCAmJiBjb250YWluZXIuc3R5bGUubWF4V2lkdGggIT09IHRoaXMub3B0aW9ucy5tYXhXaWR0aCkge1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLm1heFdpZHRoID0gdGhpcy5vcHRpb25zLm1heFdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hcC50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMgJiYgIXRoaXMuX3RyYWNrUG9pbnRlcikge1xuICAgICAgICAgICAgdGhpcy5fbG5nTGF0ID0gc21hcnRXcmFwKHRoaXMuX2xuZ0xhdCwgdGhpcy5fcG9zLCBtYXAudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fdHJhY2tQb2ludGVyIHx8IGN1cnNvcikge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gdGhpcy5fcG9zID0gdGhpcy5fdHJhY2tQb2ludGVyICYmIGN1cnNvciA/IGN1cnNvciA6IG1hcC5wcm9qZWN0KHRoaXMuX2xuZ0xhdCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG9mZnNldEJvdHRvbSA9IG5vcm1hbGl6ZU9mZnNldCh0aGlzLm9wdGlvbnMub2Zmc2V0KTtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuX2FuY2hvciA9IHRoaXMuX2dldEFuY2hvcihvZmZzZXRCb3R0b20ueSk7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBub3JtYWxpemVPZmZzZXQodGhpcy5vcHRpb25zLm9mZnNldCwgYW5jaG9yKTtcblxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ZWRQb3MgPSBwb3MuYWRkKG9mZnNldCkucm91bmQoKTtcbiAgICAgICAgICAgIG1hcC5fcmVxdWVzdERvbVRhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb250YWluZXIgJiYgYW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSBgJHthbmNob3JUcmFuc2xhdGVbYW5jaG9yXX0gdHJhbnNsYXRlKCR7b2Zmc2V0ZWRQb3MueH1weCwke29mZnNldGVkUG9zLnl9cHgpYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fbWFya2VyICYmIG1hcC5fc2hvd2luZ0dsb2JlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wYWNpdHkgPSBpc0xuZ0xhdEJlaGluZEdsb2JlKG1hcC50cmFuc2Zvcm0sIHRoaXMuX2xuZ0xhdCkgPyAwIDogMTtcbiAgICAgICAgICAgIHRoaXMuX3NldE9wYWNpdHkob3BhY2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVDbGFzc0xpc3QoKTtcbiAgICB9XG5cbiAgICBfZm9jdXNGaXJzdEVsZW1lbnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmZvY3VzQWZ0ZXJPcGVuIHx8ICF0aGlzLl9jb250YWluZXIpIHJldHVybjtcblxuICAgICAgICBjb25zdCBmaXJzdEZvY3VzYWJsZSA9IHRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGZvY3VzUXVlcnlTZWxlY3Rvcik7XG5cbiAgICAgICAgaWYgKGZpcnN0Rm9jdXNhYmxlKSBmaXJzdEZvY3VzYWJsZS5mb2N1cygpO1xuICAgIH1cblxuICAgIF9vbkNsb3NlKCkge1xuICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIF9zZXRPcGFjaXR5KG9wYWNpdHk6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5fY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHl9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gb3BhY2l0eSA/ICdhdXRvJyA6ICdub25lJztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gcmV0dXJucyBhIG5vcm1hbGl6ZWQgb2Zmc2V0IGZvciBhIGdpdmVuIGFuY2hvclxuZnVuY3Rpb24gbm9ybWFsaXplT2Zmc2V0KG9mZnNldDogT2Zmc2V0ID0gbmV3IFBvaW50KDAsIDApLCBhbmNob3I6IEFuY2hvciA9ICdib3R0b20nKTogUG9pbnQge1xuICAgIGlmICh0eXBlb2Ygb2Zmc2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAvLyBpbnB1dCBzcGVjaWZpZXMgYSByYWRpdXMgZnJvbSB3aGljaCB0byBjYWxjdWxhdGUgb2Zmc2V0cyBhdCBhbGwgcG9zaXRpb25zXG4gICAgICAgIGNvbnN0IGNvcm5lck9mZnNldCA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KDAuNSAqIE1hdGgucG93KG9mZnNldCwgMikpKTtcbiAgICAgICAgc3dpdGNoIChhbmNob3IpIHtcbiAgICAgICAgY2FzZSAndG9wJzogcmV0dXJuIG5ldyBQb2ludCgwLCBvZmZzZXQpO1xuICAgICAgICBjYXNlICd0b3AtbGVmdCc6IHJldHVybiBuZXcgUG9pbnQoY29ybmVyT2Zmc2V0LCBjb3JuZXJPZmZzZXQpO1xuICAgICAgICBjYXNlICd0b3AtcmlnaHQnOiByZXR1cm4gbmV3IFBvaW50KC1jb3JuZXJPZmZzZXQsIGNvcm5lck9mZnNldCk7XG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6IHJldHVybiBuZXcgUG9pbnQoMCwgLW9mZnNldCk7XG4gICAgICAgIGNhc2UgJ2JvdHRvbS1sZWZ0JzogcmV0dXJuIG5ldyBQb2ludChjb3JuZXJPZmZzZXQsIC1jb3JuZXJPZmZzZXQpO1xuICAgICAgICBjYXNlICdib3R0b20tcmlnaHQnOiByZXR1cm4gbmV3IFBvaW50KC1jb3JuZXJPZmZzZXQsIC1jb3JuZXJPZmZzZXQpO1xuICAgICAgICBjYXNlICdsZWZ0JzogcmV0dXJuIG5ldyBQb2ludChvZmZzZXQsIDApO1xuICAgICAgICBjYXNlICdyaWdodCc6IHJldHVybiBuZXcgUG9pbnQoLW9mZnNldCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCgwLCAwKTtcbiAgICB9XG5cbiAgICBpZiAob2Zmc2V0IGluc3RhbmNlb2YgUG9pbnQgfHwgQXJyYXkuaXNBcnJheShvZmZzZXQpKSB7XG4gICAgICAgIC8vIGlucHV0IHNwZWNpZmllcyBhIHNpbmdsZSBvZmZzZXQgdG8gYmUgYXBwbGllZCB0byBhbGwgcG9zaXRpb25zXG4gICAgICAgIHJldHVybiBQb2ludC5jb252ZXJ0KG9mZnNldCk7XG4gICAgfVxuXG4gICAgLy8gaW5wdXQgc3BlY2lmaWVzIGFuIG9mZnNldCBwZXIgcG9zaXRpb25cbiAgICAvLyAkRmxvd0ZpeE1lIHdlIGtub3cgb2Zmc2V0IGlzIGFuIG9iamVjdCBhdCB0aGlzIHBvaW50IGJ1dCBGbG93IGNhbid0IHJlZmluZSBpdCBmb3Igc29tZSByZWFzb25cbiAgICByZXR1cm4gUG9pbnQuY29udmVydChvZmZzZXRbYW5jaG9yXSB8fCBbMCwgMF0pO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtlYXNlQ3ViaWNJbk91dH0gZnJvbSAnLi91dGlsLmpzJztcblxuLyoqXG4gKiBBbiBvYmplY3QgZm9yIG1haW50YWluaW5nIGp1c3QgZW5vdWdoIHN0YXRlIHRvIGVhc2UgYSB2YXJpYWJsZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBFYXNlZFZhcmlhYmxlIHtcbiAgICBfc3RhcnQ6IG51bWJlcjtcbiAgICBfZW5kOiBudW1iZXI7XG4gICAgX3N0YXJ0VGltZTogbnVtYmVyO1xuICAgIF9lbmRUaW1lOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsVmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmp1bXBUbyhpbml0aWFsVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV2YWx1YXRlIHRoZSBjdXJyZW50IHZhbHVlLCBnaXZlbiBhIHRpbWVzdGFtcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aW1lU3RhbXAge251bWJlcn0gVGltZSBhdCB3aGljaCB0byBldmFsdWF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IEV2YWx1YXRlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBnZXRWYWx1ZSh0aW1lU3RhbXA6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmICh0aW1lU3RhbXAgPD0gdGhpcy5fc3RhcnRUaW1lKSByZXR1cm4gdGhpcy5fc3RhcnQ7XG4gICAgICAgIGlmICh0aW1lU3RhbXAgPj0gdGhpcy5fZW5kVGltZSkgcmV0dXJuIHRoaXMuX2VuZDtcblxuICAgICAgICBjb25zdCB0ID0gZWFzZUN1YmljSW5PdXQoKHRpbWVTdGFtcCAtIHRoaXMuX3N0YXJ0VGltZSkgLyAodGhpcy5fZW5kVGltZSAtIHRoaXMuX3N0YXJ0VGltZSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnQgKiAoMSAtIHQpICsgdGhpcy5fZW5kICogdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhbiBlYXNlIGlzIGluIHByb2dyZXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRpbWVTdGFtcCB7bnVtYmVyfSBDdXJyZW50IHRpbWUgc3RhbXAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgZWFzZSBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBpc0Vhc2luZyh0aW1lU3RhbXA6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGltZVN0YW1wID49IHRoaXMuX3N0YXJ0VGltZSAmJiB0aW1lU3RhbXAgPD0gdGhpcy5fZW5kVGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHZhbHVlIHdpdGhvdXQgZWFzaW5nIGFuZCBjYW5jZWwgYW55IGluIHByb2dyZXNzIGVhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUge251bWJlcn0gTmV3IHZhbHVlLlxuICAgICAqL1xuICAgIGp1bXBUbyh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0VGltZSA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5fZW5kVGltZSA9IC1JbmZpbml0eTtcblxuICAgICAgICB0aGlzLl9zdGFydCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9lbmQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYW5jZWwgYW55IGluLXByb2dyZXNzIGVhc2UgYW5kIGJlZ2luIGEgbmV3IGVhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUge251bWJlcn0gTmV3IHZhbHVlIHRvIHdoaWNoIHRvIGVhc2UuXG4gICAgICogQHBhcmFtIHRpbWVTdGFtcCB7bnVtYmVyfSBDdXJyZW50IHRpbWUgc3RhbXAuXG4gICAgICogQHBhcmFtIGR1cmF0aW9uIHtudW1iZXJ9IEVhc2UgZHVyYXRpb24sIGluIHNhbWUgdW5pdHMgYXMgdGltZVN0YW1wLlxuICAgICAqL1xuICAgIGVhc2VUbyh2YWx1ZTogbnVtYmVyLCB0aW1lU3RhbXA6IG51bWJlciwgZHVyYXRpb246IG51bWJlcikge1xuICAgICAgICB0aGlzLl9zdGFydCA9IHRoaXMuZ2V0VmFsdWUodGltZVN0YW1wKTtcbiAgICAgICAgdGhpcy5fZW5kID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gdGltZVN0YW1wO1xuICAgICAgICB0aGlzLl9lbmRUaW1lID0gdGltZVN0YW1wICsgZHVyYXRpb247XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFYXNlZFZhcmlhYmxlO1xuIiwiLy8gQGZsb3dcblxuY29uc3QgZGVmYXVsdExvY2FsZSA9IHtcbiAgICAnQXR0cmlidXRpb25Db250cm9sLlRvZ2dsZUF0dHJpYnV0aW9uJzogJ1RvZ2dsZSBhdHRyaWJ1dGlvbicsXG4gICAgJ0F0dHJpYnV0aW9uQ29udHJvbC5NYXBGZWVkYmFjayc6ICdNYXAgZmVlZGJhY2snLFxuICAgICdGdWxsc2NyZWVuQ29udHJvbC5FbnRlcic6ICdFbnRlciBmdWxsc2NyZWVuJyxcbiAgICAnRnVsbHNjcmVlbkNvbnRyb2wuRXhpdCc6ICdFeGl0IGZ1bGxzY3JlZW4nLFxuICAgICdHZW9sb2NhdGVDb250cm9sLkZpbmRNeUxvY2F0aW9uJzogJ0ZpbmQgbXkgbG9jYXRpb24nLFxuICAgICdHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlJzogJ0xvY2F0aW9uIG5vdCBhdmFpbGFibGUnLFxuICAgICdMb2dvQ29udHJvbC5UaXRsZSc6ICdNYXBib3ggbG9nbycsXG4gICAgJ01hcC5UaXRsZSc6ICdNYXAnLFxuICAgICdOYXZpZ2F0aW9uQ29udHJvbC5SZXNldEJlYXJpbmcnOiAnUmVzZXQgYmVhcmluZyB0byBub3J0aCcsXG4gICAgJ05hdmlnYXRpb25Db250cm9sLlpvb21Jbic6ICdab29tIGluJyxcbiAgICAnTmF2aWdhdGlvbkNvbnRyb2wuWm9vbU91dCc6ICdab29tIG91dCcsXG4gICAgJ1Njcm9sbFpvb21CbG9ja2VyLkN0cmxNZXNzYWdlJzogJ1VzZSBjdHJsICsgc2Nyb2xsIHRvIHpvb20gdGhlIG1hcCcsXG4gICAgJ1Njcm9sbFpvb21CbG9ja2VyLkNtZE1lc3NhZ2UnOiAnVXNlIOKMmCArIHNjcm9sbCB0byB6b29tIHRoZSBtYXAnLFxuICAgICdUb3VjaFBhbkJsb2NrZXIuTWVzc2FnZSc6ICdVc2UgdHdvIGZpbmdlcnMgdG8gbW92ZSB0aGUgbWFwJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdExvY2FsZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7dmVyc2lvbn0gZnJvbSAnLi4vLi4vcGFja2FnZS5qc29uJztcbmltcG9ydCB7YXN5bmNBbGwsIGV4dGVuZCwgYmluZEFsbCwgd2Fybk9uY2UsIHVuaXF1ZUlkLCBpc1NhZmFyaVdpdGhBbnRpYWxpYXNpbmdCdWd9IGZyb20gJy4uL3V0aWwvdXRpbC5qcyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdy5qcyc7XG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vdXRpbC9kb20uanMnO1xuaW1wb3J0IHtnZXRJbWFnZSwgZ2V0SlNPTiwgUmVzb3VyY2VUeXBlfSBmcm9tICcuLi91dGlsL2FqYXguanMnO1xuaW1wb3J0IHtSZXF1ZXN0TWFuYWdlciwgZ2V0TWFwU2Vzc2lvbkFQSSwgcG9zdFBlcmZvcm1hbmNlRXZlbnQsIHBvc3RNYXBMb2FkRXZlbnQsIEFVVEhfRVJSX01TRywgc3RvcmVBdXRoU3RhdGUsIHJlbW92ZUF1dGhTdGF0ZX0gZnJvbSAnLi4vdXRpbC9tYXBib3guanMnO1xuaW1wb3J0IFN0eWxlIGZyb20gJy4uL3N0eWxlL3N0eWxlLmpzJztcbmltcG9ydCBFdmFsdWF0aW9uUGFyYW1ldGVycyBmcm9tICcuLi9zdHlsZS9ldmFsdWF0aW9uX3BhcmFtZXRlcnMuanMnO1xuaW1wb3J0IFBhaW50ZXIgZnJvbSAnLi4vcmVuZGVyL3BhaW50ZXIuanMnO1xuaW1wb3J0IFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtLmpzJztcbmltcG9ydCBIYXNoIGZyb20gJy4vaGFzaC5qcyc7XG5pbXBvcnQgSGFuZGxlck1hbmFnZXIgZnJvbSAnLi9oYW5kbGVyX21hbmFnZXIuanMnO1xuaW1wb3J0IENhbWVyYSBmcm9tICcuL2NhbWVyYS5qcyc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0LmpzJztcbmltcG9ydCBMbmdMYXRCb3VuZHMgZnJvbSAnLi4vZ2VvL2xuZ19sYXRfYm91bmRzLmpzJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCBBdHRyaWJ1dGlvbkNvbnRyb2wgZnJvbSAnLi9jb250cm9sL2F0dHJpYnV0aW9uX2NvbnRyb2wuanMnO1xuaW1wb3J0IExvZ29Db250cm9sIGZyb20gJy4vY29udHJvbC9sb2dvX2NvbnRyb2wuanMnO1xuaW1wb3J0IHtzdXBwb3J0ZWR9IGZyb20gJ0BtYXBib3gvbWFwYm94LWdsLXN1cHBvcnRlZCc7XG5pbXBvcnQge1JHQkFJbWFnZX0gZnJvbSAnLi4vdXRpbC9pbWFnZS5qcyc7XG5pbXBvcnQge0V2ZW50LCBFcnJvckV2ZW50fSBmcm9tICcuLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0IHtNYXBNb3VzZUV2ZW50fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgVGFza1F1ZXVlIGZyb20gJy4uL3V0aWwvdGFza19xdWV1ZS5qcyc7XG5pbXBvcnQgd2VicFN1cHBvcnRlZCBmcm9tICcuLi91dGlsL3dlYnBfc3VwcG9ydGVkLmpzJztcbmltcG9ydCB7UGVyZm9ybWFuY2VVdGlsc30gZnJvbSAnLi4vdXRpbC9wZXJmb3JtYW5jZS5qcyc7XG5pbXBvcnQge1BlcmZvcm1hbmNlTWFya2VycywgTGl2ZVBlcmZvcm1hbmNlVXRpbHN9IGZyb20gJy4uL3V0aWwvbGl2ZV9wZXJmb3JtYW5jZS5qcyc7XG5pbXBvcnQgTWFya2VyIGZyb20gJy4uL3VpL21hcmtlci5qcyc7XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi4vdWkvcG9wdXAuanMnO1xuaW1wb3J0IEVhc2VkVmFyaWFibGUgZnJvbSAnLi4vdXRpbC9lYXNlZF92YXJpYWJsZS5qcyc7XG5pbXBvcnQgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZS5qcyc7XG5pbXBvcnQge0dMT0JFX1pPT01fVEhSRVNIT0xEX01BWH0gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vZ2xvYmVfdXRpbC5qcyc7XG5pbXBvcnQge3NldENhY2hlTGltaXRzfSBmcm9tICcuLi91dGlsL3RpbGVfcmVxdWVzdF9jYWNoZS5qcyc7XG5pbXBvcnQge0RlYnVnfSBmcm9tICcuLi91dGlsL2RlYnVnLmpzJztcblxuaW1wb3J0IHR5cGUge1BvaW50TGlrZX0gZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSB7UmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9ufSBmcm9tICcuLi91dGlsL21hcGJveC5qcyc7XG5pbXBvcnQgdHlwZSB7TG5nTGF0TGlrZX0gZnJvbSAnLi4vZ2VvL2xuZ19sYXQuanMnO1xuaW1wb3J0IHR5cGUge0xuZ0xhdEJvdW5kc0xpa2V9IGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcy5qcyc7XG5pbXBvcnQgdHlwZSB7U3R5bGVPcHRpb25zLCBTdHlsZVNldHRlck9wdGlvbnN9IGZyb20gJy4uL3N0eWxlL3N0eWxlLmpzJztcbmltcG9ydCB0eXBlIHtNYXBFdmVudCwgTWFwRGF0YUV2ZW50fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgdHlwZSB7Q3VzdG9tTGF5ZXJJbnRlcmZhY2V9IGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2N1c3RvbV9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgdHlwZSB7U3R5bGVJbWFnZUludGVyZmFjZSwgU3R5bGVJbWFnZU1ldGFkYXRhfSBmcm9tICcuLi9zdHlsZS9zdHlsZV9pbWFnZS5qcyc7XG5cbmltcG9ydCB0eXBlIFNjcm9sbFpvb21IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9zY3JvbGxfem9vbS5qcyc7XG5pbXBvcnQgdHlwZSBCb3hab29tSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvYm94X3pvb20uanMnO1xuaW1wb3J0IHR5cGUge1RvdWNoUGl0Y2hIYW5kbGVyfSBmcm9tICcuL2hhbmRsZXIvdG91Y2hfem9vbV9yb3RhdGUuanMnO1xuaW1wb3J0IHR5cGUgRHJhZ1JvdGF0ZUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL3NoaW0vZHJhZ19yb3RhdGUuanMnO1xuaW1wb3J0IHR5cGUgRHJhZ1BhbkhhbmRsZXIsIHtEcmFnUGFuT3B0aW9uc30gZnJvbSAnLi9oYW5kbGVyL3NoaW0vZHJhZ19wYW4uanMnO1xuaW1wb3J0IHR5cGUgS2V5Ym9hcmRIYW5kbGVyIGZyb20gJy4vaGFuZGxlci9rZXlib2FyZC5qcyc7XG5pbXBvcnQgdHlwZSBEb3VibGVDbGlja1pvb21IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9zaGltL2RibGNsaWNrX3pvb20uanMnO1xuaW1wb3J0IHR5cGUgVG91Y2hab29tUm90YXRlSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvc2hpbS90b3VjaF96b29tX3JvdGF0ZS5qcyc7XG5pbXBvcnQgZGVmYXVsdExvY2FsZSBmcm9tICcuL2RlZmF1bHRfbG9jYWxlLmpzJztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uL3V0aWwvdGFza19xdWV1ZS5qcyc7XG5pbXBvcnQgdHlwZSB7Q2FuY2VsYWJsZX0gZnJvbSAnLi4vdHlwZXMvY2FuY2VsYWJsZS5qcyc7XG5pbXBvcnQgdHlwZSB7XG4gICAgTGF5ZXJTcGVjaWZpY2F0aW9uLFxuICAgIEZpbHRlclNwZWNpZmljYXRpb24sXG4gICAgU3R5bGVTcGVjaWZpY2F0aW9uLFxuICAgIExpZ2h0U3BlY2lmaWNhdGlvbixcbiAgICBUZXJyYWluU3BlY2lmaWNhdGlvbixcbiAgICBGb2dTcGVjaWZpY2F0aW9uLFxuICAgIFNvdXJjZVNwZWNpZmljYXRpb24sXG4gICAgUHJvamVjdGlvblNwZWNpZmljYXRpb24sXG4gICAgUHJvcGVydHlWYWx1ZVNwZWNpZmljYXRpb24sXG4gICAgVHJhbnNpdGlvblNwZWNpZmljYXRpb25cbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyLmpzJztcbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4uL3NvdXJjZS9zb3VyY2UuanMnO1xuaW1wb3J0IHR5cGUge1F1ZXJ5RmVhdHVyZX0gZnJvbSAnLi4vdXRpbC92ZWN0b3J0aWxlX3RvX2dlb2pzb24uanMnO1xuaW1wb3J0IHR5cGUge1F1ZXJ5UmVzdWx0fSBmcm9tICcuLi9kYXRhL2ZlYXR1cmVfaW5kZXguanMnO1xuXG5leHBvcnQgdHlwZSBDb250cm9sUG9zaXRpb24gPSAndG9wLWxlZnQnIHwgJ3RvcC1yaWdodCcgfCAnYm90dG9tLWxlZnQnIHwgJ2JvdHRvbS1yaWdodCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuaW50ZXJmYWNlIElDb250cm9sIHtcbiAgICArb25BZGQ6IChtYXA6IE1hcCkgPT4gSFRNTEVsZW1lbnQ7XG4gICAgK29uUmVtb3ZlOiAobWFwOiBNYXApID0+IHZvaWQ7XG5cbiAgICArZ2V0RGVmYXVsdFBvc2l0aW9uPzogKCkgPT4gQ29udHJvbFBvc2l0aW9uO1xuICAgICtfc2V0TGFuZ3VhZ2U/OiAobGFuZ3VhZ2U6ID9zdHJpbmcgfCA/c3RyaW5nW10pID0+IHZvaWQ7XG59XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXG5cbmV4cG9ydCBjb25zdCBBVkVSQUdFX0VMRVZBVElPTl9TQU1QTElOR19JTlRFUlZBTCA9IDUwMDsgLy8gbXNcbmV4cG9ydCBjb25zdCBBVkVSQUdFX0VMRVZBVElPTl9FQVNFX1RJTUUgPSAzMDA7IC8vIG1zXG5leHBvcnQgY29uc3QgQVZFUkFHRV9FTEVWQVRJT05fRUFTRV9USFJFU0hPTEQgPSAxOyAvLyBtZXRlcnNcbmV4cG9ydCBjb25zdCBBVkVSQUdFX0VMRVZBVElPTl9DSEFOR0VfVEhSRVNIT0xEID0gMWUtNDsgLy8gbWV0ZXJzXG5cbnR5cGUgTWFwT3B0aW9ucyA9IHtcbiAgICBoYXNoPzogYm9vbGVhbiB8IHN0cmluZyxcbiAgICBpbnRlcmFjdGl2ZT86IGJvb2xlYW4sXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IHN0cmluZyxcbiAgICBiZWFyaW5nU25hcD86IG51bWJlcixcbiAgICBhdHRyaWJ1dGlvbkNvbnRyb2w/OiBib29sZWFuLFxuICAgIGN1c3RvbUF0dHJpYnV0aW9uPzogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPixcbiAgICBsb2dvUG9zaXRpb24/OiBDb250cm9sUG9zaXRpb24sXG4gICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD86IGJvb2xlYW4sXG4gICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyPzogYm9vbGVhbixcbiAgICBhbnRpYWxpYXM/OiBib29sZWFuLFxuICAgIHJlZnJlc2hFeHBpcmVkVGlsZXM/OiBib29sZWFuLFxuICAgIG1heEJvdW5kcz86IExuZ0xhdEJvdW5kc0xpa2UsXG4gICAgc2Nyb2xsWm9vbT86IGJvb2xlYW4sXG4gICAgbWluWm9vbT86ID9udW1iZXIsXG4gICAgbWF4Wm9vbT86ID9udW1iZXIsXG4gICAgbWluUGl0Y2g/OiA/bnVtYmVyLFxuICAgIG1heFBpdGNoPzogP251bWJlcixcbiAgICBib3hab29tPzogYm9vbGVhbixcbiAgICBkcmFnUm90YXRlPzogYm9vbGVhbixcbiAgICBkcmFnUGFuPzogRHJhZ1Bhbk9wdGlvbnMsXG4gICAga2V5Ym9hcmQ/OiBib29sZWFuLFxuICAgIGRvdWJsZUNsaWNrWm9vbT86IGJvb2xlYW4sXG4gICAgdG91Y2hab29tUm90YXRlPzogYm9vbGVhbixcbiAgICB0b3VjaFBpdGNoPzogYm9vbGVhbixcbiAgICBjb29wZXJhdGl2ZUdlc3R1cmVzPzogYm9vbGVhbixcbiAgICB0cmFja1Jlc2l6ZT86IGJvb2xlYW4sXG4gICAgY2VudGVyPzogTG5nTGF0TGlrZSxcbiAgICB6b29tPzogbnVtYmVyLFxuICAgIGJlYXJpbmc/OiBudW1iZXIsXG4gICAgcGl0Y2g/OiBudW1iZXIsXG4gICAgb3B0aW1pemVGb3JUZXJyYWluPzogYm9vbGVhbixcbiAgICByZW5kZXJXb3JsZENvcGllcz86IGJvb2xlYW4sXG4gICAgbWluVGlsZUNhY2hlU2l6ZT86IG51bWJlcixcbiAgICBtYXhUaWxlQ2FjaGVTaXplPzogbnVtYmVyLFxuICAgIHRyYW5zZm9ybVJlcXVlc3Q/OiBSZXF1ZXN0VHJhbnNmb3JtRnVuY3Rpb24sXG4gICAgYWNjZXNzVG9rZW46IHN0cmluZyxcbiAgICB0ZXN0TW9kZTogP2Jvb2xlYW4sXG4gICAgbG9jYWxlPzogT2JqZWN0LFxuICAgIHByb2plY3Rpb24/OiBQcm9qZWN0aW9uU3BlY2lmaWNhdGlvbiB8IHN0cmluZyxcbiAgICBsYW5ndWFnZT86IHN0cmluZyxcbiAgICB3b3JsZHZpZXc/OiBzdHJpbmdcbn07XG5cbmNvbnN0IGRlZmF1bHRNaW5ab29tID0gLTI7XG5jb25zdCBkZWZhdWx0TWF4Wm9vbSA9IDIyO1xuXG4vLyB0aGUgZGVmYXVsdCB2YWx1ZXMsIGJ1dCBhbHNvIHRoZSB2YWxpZCByYW5nZVxuY29uc3QgZGVmYXVsdE1pblBpdGNoID0gMDtcbmNvbnN0IGRlZmF1bHRNYXhQaXRjaCA9IDg1O1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBjZW50ZXI6IFswLCAwXSxcbiAgICB6b29tOiAwLFxuICAgIGJlYXJpbmc6IDAsXG4gICAgcGl0Y2g6IDAsXG5cbiAgICBtaW5ab29tOiBkZWZhdWx0TWluWm9vbSxcbiAgICBtYXhab29tOiBkZWZhdWx0TWF4Wm9vbSxcblxuICAgIG1pblBpdGNoOiBkZWZhdWx0TWluUGl0Y2gsXG4gICAgbWF4UGl0Y2g6IGRlZmF1bHRNYXhQaXRjaCxcblxuICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgIHNjcm9sbFpvb206IHRydWUsXG4gICAgYm94Wm9vbTogdHJ1ZSxcbiAgICBkcmFnUm90YXRlOiB0cnVlLFxuICAgIGRyYWdQYW46IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgZG91YmxlQ2xpY2tab29tOiB0cnVlLFxuICAgIHRvdWNoWm9vbVJvdGF0ZTogdHJ1ZSxcbiAgICB0b3VjaFBpdGNoOiB0cnVlLFxuICAgIGNvb3BlcmF0aXZlR2VzdHVyZXM6IGZhbHNlLFxuICAgIHBlcmZvcm1hbmNlTWV0cmljc0NvbGxlY3Rpb246IHRydWUsXG5cbiAgICBiZWFyaW5nU25hcDogNyxcbiAgICBjbGlja1RvbGVyYW5jZTogMyxcbiAgICBwaXRjaFdpdGhSb3RhdGU6IHRydWUsXG5cbiAgICBoYXNoOiBmYWxzZSxcbiAgICBhdHRyaWJ1dGlvbkNvbnRyb2w6IHRydWUsXG5cbiAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBmYWxzZSxcbiAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxuICAgIHRyYWNrUmVzaXplOiB0cnVlLFxuICAgIG9wdGltaXplRm9yVGVycmFpbjogdHJ1ZSxcbiAgICByZW5kZXJXb3JsZENvcGllczogdHJ1ZSxcbiAgICByZWZyZXNoRXhwaXJlZFRpbGVzOiB0cnVlLFxuICAgIG1pblRpbGVDYWNoZVNpemU6IG51bGwsXG4gICAgbWF4VGlsZUNhY2hlU2l6ZTogbnVsbCxcbiAgICBsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6ICdzYW5zLXNlcmlmJyxcbiAgICBsb2NhbEZvbnRGYW1pbHk6IG51bGwsXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogbnVsbCxcbiAgICBhY2Nlc3NUb2tlbjogbnVsbCxcbiAgICBmYWRlRHVyYXRpb246IDMwMCxcbiAgICBjcm9zc1NvdXJjZUNvbGxpc2lvbnM6IHRydWVcbn07XG5cbi8qKlxuICogVGhlIGBNYXBgIG9iamVjdCByZXByZXNlbnRzIHRoZSBtYXAgb24geW91ciBwYWdlLiBJdCBleHBvc2VzIG1ldGhvZHNcbiAqIGFuZCBwcm9wZXJ0aWVzIHRoYXQgZW5hYmxlIHlvdSB0byBwcm9ncmFtbWF0aWNhbGx5IGNoYW5nZSB0aGUgbWFwLFxuICogYW5kIGZpcmVzIGV2ZW50cyBhcyB1c2VycyBpbnRlcmFjdCB3aXRoIGl0LlxuICpcbiAqIFlvdSBjcmVhdGUgYSBgTWFwYCBieSBzcGVjaWZ5aW5nIGEgYGNvbnRhaW5lcmAgYW5kIG90aGVyIG9wdGlvbnMuXG4gKiBUaGVuIE1hcGJveCBHTCBKUyBpbml0aWFsaXplcyB0aGUgbWFwIG9uIHRoZSBwYWdlIGFuZCByZXR1cm5zIHlvdXIgYE1hcGBcbiAqIG9iamVjdC5cbiAqXG4gKiBAZXh0ZW5kcyBFdmVudGVkXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IG9wdGlvbnMuY29udGFpbmVyIFRoZSBIVE1MIGVsZW1lbnQgaW4gd2hpY2ggTWFwYm94IEdMIEpTIHdpbGwgcmVuZGVyIHRoZSBtYXAsIG9yIHRoZSBlbGVtZW50J3Mgc3RyaW5nIGBpZGAuIFRoZSBzcGVjaWZpZWQgZWxlbWVudCBtdXN0IGhhdmUgbm8gY2hpbGRyZW4uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluWm9vbT0wXSBUaGUgbWluaW11bSB6b29tIGxldmVsIG9mIHRoZSBtYXAgKDAtMjQpLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFpvb209MjJdIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgb2YgdGhlIG1hcCAoMC0yNCkuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluUGl0Y2g9MF0gVGhlIG1pbmltdW0gcGl0Y2ggb2YgdGhlIG1hcCAoMC04NSkuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4UGl0Y2g9ODVdIFRoZSBtYXhpbXVtIHBpdGNoIG9mIHRoZSBtYXAgKDAtODUpLlxuICogQHBhcmFtIHtPYmplY3QgfCBzdHJpbmd9IG9wdGlvbnMuc3R5bGUgVGhlIG1hcCdzIE1hcGJveCBzdHlsZS4gVGhpcyBtdXN0IGJlIGFuIGEgSlNPTiBvYmplY3QgY29uZm9ybWluZyB0b1xuICogdGhlIHNjaGVtYSBkZXNjcmliZWQgaW4gdGhlIFtNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyksIG9yIGEgVVJMXG4gKiB0byBzdWNoIEpTT04uIENhbiBhY2NlcHQgYSBudWxsIHZhbHVlIHRvIGFsbG93IGFkZGluZyBhIHN0eWxlIG1hbnVhbGx5LlxuICpcbiAqIFRvIGxvYWQgYSBzdHlsZSBmcm9tIHRoZSBNYXBib3ggQVBJLCB5b3UgY2FuIHVzZSBhIFVSTCBvZiB0aGUgZm9ybSBgbWFwYm94Oi8vc3R5bGVzLzpvd25lci86c3R5bGVgLFxuICogd2hlcmUgYDpvd25lcmAgaXMgeW91ciBNYXBib3ggYWNjb3VudCBuYW1lIGFuZCBgOnN0eWxlYCBpcyB0aGUgc3R5bGUgSUQuIFlvdSBjYW4gYWxzbyB1c2UgYVxuICogW01hcGJveC1vd25lZCBzdHlsZV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL21hcHMvc3R5bGVzLyNtYXBib3gtc3R5bGVzKTpcbiAqXG4gKiAgKiBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXYxMWBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L291dGRvb3JzLXYxMWBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L2xpZ2h0LXYxMGBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L2RhcmstdjEwYFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvc2F0ZWxsaXRlLXY5YFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvc2F0ZWxsaXRlLXN0cmVldHMtdjExYFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvbmF2aWdhdGlvbi1kYXktdjFgXG4gKiAgKiBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9uYXZpZ2F0aW9uLW5pZ2h0LXYxYC5cbiAqXG4gKiBUaWxlc2V0cyBob3N0ZWQgd2l0aCBNYXBib3ggY2FuIGJlIHN0eWxlLW9wdGltaXplZCBpZiB5b3UgYXBwZW5kIGA/b3B0aW1pemU9dHJ1ZWAgdG8gdGhlIGVuZCBvZiB5b3VyIHN0eWxlIFVSTCwgbGlrZSBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXYxMT9vcHRpbWl6ZT10cnVlYC5cbiAqIExlYXJuIG1vcmUgYWJvdXQgc3R5bGUtb3B0aW1pemVkIHZlY3RvciB0aWxlcyBpbiBvdXIgW0FQSSBkb2N1bWVudGF0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL2FwaS1kb2N1bWVudGF0aW9uL21hcHMvI3JldHJpZXZlLXRpbGVzKS5cbiAqXG4gKiBAcGFyYW0geyhib29sZWFufHN0cmluZyl9IFtvcHRpb25zLmhhc2g9ZmFsc2VdIElmIGB0cnVlYCwgdGhlIG1hcCdzIFtwb3NpdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9jYW1lcmEpICh6b29tLCBjZW50ZXIgbGF0aXR1ZGUsIGNlbnRlciBsb25naXR1ZGUsIGJlYXJpbmcsIGFuZCBwaXRjaCkgd2lsbCBiZSBzeW5jZWQgd2l0aCB0aGUgaGFzaCBmcmFnbWVudCBvZiB0aGUgcGFnZSdzIFVSTC5cbiAqICAgRm9yIGV4YW1wbGUsIGBodHRwOi8vcGF0aC90by9teS9wYWdlLmh0bWwjMi41OS8zOS4yNi81My4wNy8tMjQuMS82MGAuXG4gKiAgIEFuIGFkZGl0aW9uYWwgc3RyaW5nIG1heSBvcHRpb25hbGx5IGJlIHByb3ZpZGVkIHRvIGluZGljYXRlIGEgcGFyYW1ldGVyLXN0eWxlZCBoYXNoLFxuICogICBmb3IgZXhhbXBsZSBodHRwOi8vcGF0aC90by9teS9wYWdlLmh0bWwjbWFwPTIuNTkvMzkuMjYvNTMuMDcvLTI0LjEvNjAmZm9vPWJhciwgd2hlcmUgYGZvb2BcbiAqICAgaXMgYSBjdXN0b20gcGFyYW1ldGVyIGFuZCBgYmFyYCBpcyBhbiBhcmJpdHJhcnkgaGFzaCBkaXN0aW5jdCBmcm9tIHRoZSBtYXAgaGFzaC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaW50ZXJhY3RpdmU9dHJ1ZV0gSWYgYGZhbHNlYCwgbm8gbW91c2UsIHRvdWNoLCBvciBrZXlib2FyZCBsaXN0ZW5lcnMgd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgbWFwLCBzbyBpdCB3aWxsIG5vdCByZXNwb25kIHRvIGludGVyYWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJlYXJpbmdTbmFwPTddIFRoZSB0aHJlc2hvbGQsIG1lYXN1cmVkIGluIGRlZ3JlZXMsIHRoYXQgZGV0ZXJtaW5lcyB3aGVuIHRoZSBtYXAnc1xuICogICBiZWFyaW5nIHdpbGwgc25hcCB0byBub3J0aC4gRm9yIGV4YW1wbGUsIHdpdGggYSBgYmVhcmluZ1NuYXBgIG9mIDcsIGlmIHRoZSB1c2VyIHJvdGF0ZXNcbiAqICAgdGhlIG1hcCB3aXRoaW4gNyBkZWdyZWVzIG9mIG5vcnRoLCB0aGUgbWFwIHdpbGwgYXV0b21hdGljYWxseSBzbmFwIHRvIGV4YWN0IG5vcnRoLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5waXRjaFdpdGhSb3RhdGU9dHJ1ZV0gSWYgYGZhbHNlYCwgdGhlIG1hcCdzIHBpdGNoICh0aWx0KSBjb250cm9sIHdpdGggXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIHdpbGwgYmUgZGlzYWJsZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY2xpY2tUb2xlcmFuY2U9M10gVGhlIG1heCBudW1iZXIgb2YgcGl4ZWxzIGEgdXNlciBjYW4gc2hpZnQgdGhlIG1vdXNlIHBvaW50ZXIgZHVyaW5nIGEgY2xpY2sgZm9yIGl0IHRvIGJlIGNvbnNpZGVyZWQgYSB2YWxpZCBjbGljayAoYXMgb3Bwb3NlZCB0byBhIG1vdXNlIGRyYWcpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2w9dHJ1ZV0gSWYgYHRydWVgLCBhbiB7QGxpbmsgQXR0cmlidXRpb25Db250cm9sfSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBtYXAuXG4gKiBAcGFyYW0ge3N0cmluZyB8IEFycmF5PHN0cmluZz59IFtvcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uPW51bGxdIFN0cmluZyBvciBzdHJpbmdzIHRvIHNob3cgaW4gYW4ge0BsaW5rIEF0dHJpYnV0aW9uQ29udHJvbH0uIE9ubHkgYXBwbGljYWJsZSBpZiBgb3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2xgIGlzIGB0cnVlYC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2dvUG9zaXRpb249J2JvdHRvbS1sZWZ0J10gQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgTWFwYm94IHdvcmRtYXJrIG9uIHRoZSBtYXAuIFZhbGlkIG9wdGlvbnMgYXJlIGB0b3AtbGVmdGAsYHRvcC1yaWdodGAsIGBib3R0b20tbGVmdGAsIGBib3R0b20tcmlnaHRgLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PWZhbHNlXSBJZiBgdHJ1ZWAsIG1hcCBjcmVhdGlvbiB3aWxsIGZhaWwgaWYgdGhlIHBlcmZvcm1hbmNlIG9mIE1hcGJveCBHTCBKUyB3b3VsZCBiZSBkcmFtYXRpY2FsbHkgd29yc2UgdGhhbiBleHBlY3RlZCAoYSBzb2Z0d2FyZSByZW5kZXJlciB3b3VsZCBiZSB1c2VkKS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZSBtYXAncyBjYW52YXMgY2FuIGJlIGV4cG9ydGVkIHRvIGEgUE5HIHVzaW5nIGBtYXAuZ2V0Q2FudmFzKCkudG9EYXRhVVJMKClgLiBUaGlzIGlzIGBmYWxzZWAgYnkgZGVmYXVsdCBhcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZSBnbCBjb250ZXh0IHdpbGwgYmUgY3JlYXRlZCB3aXRoIFtNU0FBIGFudGlhbGlhc2luZ10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTXVsdGlzYW1wbGVfYW50aS1hbGlhc2luZyksIHdoaWNoIGNhbiBiZSB1c2VmdWwgZm9yIGFudGlhbGlhc2luZyBjdXN0b20gbGF5ZXJzLiBUaGlzIGlzIGBmYWxzZWAgYnkgZGVmYXVsdCBhcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNlV2ViR0wyPWZhbHNlXSBUaGlzIGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlLiBJZiB0cnVlIGFuZCBkZXZpY2UncyBjYXBhYmlsaXRpZXMgc3VwcG9ydCBpdCwgV2ViR0wgMiBjb250ZXh0IHdpbGwgYmUgY3JlYXRlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVmcmVzaEV4cGlyZWRUaWxlcz10cnVlXSBJZiBgZmFsc2VgLCB0aGUgbWFwIHdvbid0IGF0dGVtcHQgdG8gcmUtcmVxdWVzdCB0aWxlcyBvbmNlIHRoZXkgZXhwaXJlIHBlciB0aGVpciBIVFRQIGBjYWNoZUNvbnRyb2xgL2BleHBpcmVzYCBoZWFkZXJzLlxuICogQHBhcmFtIHtMbmdMYXRCb3VuZHNMaWtlfSBbb3B0aW9ucy5tYXhCb3VuZHM9bnVsbF0gSWYgc2V0LCB0aGUgbWFwIHdpbGwgYmUgY29uc3RyYWluZWQgdG8gdGhlIGdpdmVuIGJvdW5kcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3R9IFtvcHRpb25zLnNjcm9sbFpvb209dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJzY3JvbGwgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuIEFuIGBPYmplY3RgIHZhbHVlIGlzIHBhc3NlZCBhcyBvcHRpb25zIHRvIHtAbGluayBTY3JvbGxab29tSGFuZGxlciNlbmFibGV9LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5ib3hab29tPXRydWVdIElmIGB0cnVlYCwgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkIChzZWUge0BsaW5rIEJveFpvb21IYW5kbGVyfSkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRyYWdSb3RhdGU9dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQgKHNlZSB7QGxpbmsgRHJhZ1JvdGF0ZUhhbmRsZXJ9KS5cbiAqIEBwYXJhbSB7Ym9vbGVhbiB8IE9iamVjdH0gW29wdGlvbnMuZHJhZ1Bhbj10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC4gQW4gYE9iamVjdGAgdmFsdWUgaXMgcGFzc2VkIGFzIG9wdGlvbnMgdG8ge0BsaW5rIERyYWdQYW5IYW5kbGVyI2VuYWJsZX0uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmtleWJvYXJkPXRydWVdIElmIGB0cnVlYCwga2V5Ym9hcmQgc2hvcnRjdXRzIGFyZSBlbmFibGVkIChzZWUge0BsaW5rIEtleWJvYXJkSGFuZGxlcn0pLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kb3VibGVDbGlja1pvb209dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQgKHNlZSB7QGxpbmsgRG91YmxlQ2xpY2tab29tSGFuZGxlcn0pLlxuICogQHBhcmFtIHtib29sZWFuIHwgT2JqZWN0fSBbb3B0aW9ucy50b3VjaFpvb21Sb3RhdGU9dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJwaW5jaCB0byByb3RhdGUgYW5kIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLiBBbiBgT2JqZWN0YCB2YWx1ZSBpcyBwYXNzZWQgYXMgb3B0aW9ucyB0byB7QGxpbmsgVG91Y2hab29tUm90YXRlSGFuZGxlciNlbmFibGV9LlxuICogQHBhcmFtIHtib29sZWFuIHwgT2JqZWN0fSBbb3B0aW9ucy50b3VjaFBpdGNoPXRydWVdIElmIGB0cnVlYCwgdGhlIFwiZHJhZyB0byBwaXRjaFwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuIEFuIGBPYmplY3RgIHZhbHVlIGlzIHBhc3NlZCBhcyBvcHRpb25zIHRvIHtAbGluayBUb3VjaFBpdGNoSGFuZGxlcn0uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvb3BlcmF0aXZlR2VzdHVyZXNdIElmIGB0cnVlYCwgc2Nyb2xsIHpvb20gd2lsbCByZXF1aXJlIHByZXNzaW5nIHRoZSBjdHJsIG9yIOKMmCBrZXkgd2hpbGUgc2Nyb2xsaW5nIHRvIHpvb20gbWFwLCBhbmQgdG91Y2ggcGFuIHdpbGwgcmVxdWlyZSB1c2luZyB0d28gZmluZ2VycyB3aGlsZSBwYW5uaW5nIHRvIG1vdmUgdGhlIG1hcC4gVG91Y2ggcGl0Y2ggd2lsbCByZXF1aXJlIHRocmVlIGZpbmdlcnMgdG8gYWN0aXZhdGUgaWYgZW5hYmxlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhY2tSZXNpemU9dHJ1ZV0gSWYgYHRydWVgLCB0aGUgbWFwIHdpbGwgYXV0b21hdGljYWxseSByZXNpemUgd2hlbiB0aGUgYnJvd3NlciB3aW5kb3cgcmVzaXplcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbj10cnVlXSBJZiBgdHJ1ZWAsIG1hcGJveC1nbCB3aWxsIGNvbGxlY3QgYW5kIHNlbmQgcGVyZm9ybWFuY2UgbWV0cmljcy5cbiAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gW29wdGlvbnMuY2VudGVyPVswLCAwXV0gVGhlIGluaXRpYWwgZ2VvZ3JhcGhpY2FsIFtjZW50ZXJwb2ludF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9jYW1lcmEjY2VudGVyKSBvZiB0aGUgbWFwLiBJZiBgY2VudGVyYCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBjb25zdHJ1Y3RvciBvcHRpb25zLCBNYXBib3ggR0wgSlMgd2lsbCBsb29rIGZvciBpdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgb2JqZWN0LiBJZiBpdCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBzdHlsZSwgZWl0aGVyLCBpdCB3aWxsIGRlZmF1bHQgdG8gYFswLCAwXWAgTm90ZTogTWFwYm94IEdMIHVzZXMgbG9uZ2l0dWRlLCBsYXRpdHVkZSBjb29yZGluYXRlIG9yZGVyIChhcyBvcHBvc2VkIHRvIGxhdGl0dWRlLCBsb25naXR1ZGUpIHRvIG1hdGNoIEdlb0pTT04uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuem9vbT0wXSBUaGUgaW5pdGlhbCBbem9vbV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9jYW1lcmEjem9vbSkgbGV2ZWwgb2YgdGhlIG1hcC4gSWYgYHpvb21gIGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIGNvbnN0cnVjdG9yIG9wdGlvbnMsIE1hcGJveCBHTCBKUyB3aWxsIGxvb2sgZm9yIGl0IGluIHRoZSBtYXAncyBzdHlsZSBvYmplY3QuIElmIGl0IGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIHN0eWxlLCBlaXRoZXIsIGl0IHdpbGwgZGVmYXVsdCB0byBgMGAuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmVhcmluZz0wXSBUaGUgaW5pdGlhbCBbYmVhcmluZ10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9jYW1lcmEjYmVhcmluZykgKHJvdGF0aW9uKSBvZiB0aGUgbWFwLCBtZWFzdXJlZCBpbiBkZWdyZWVzIGNvdW50ZXItY2xvY2t3aXNlIGZyb20gbm9ydGguIElmIGBiZWFyaW5nYCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBjb25zdHJ1Y3RvciBvcHRpb25zLCBNYXBib3ggR0wgSlMgd2lsbCBsb29rIGZvciBpdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgb2JqZWN0LiBJZiBpdCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBzdHlsZSwgZWl0aGVyLCBpdCB3aWxsIGRlZmF1bHQgdG8gYDBgLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnBpdGNoPTBdIFRoZSBpbml0aWFsIFtwaXRjaF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9jYW1lcmEjcGl0Y2gpICh0aWx0KSBvZiB0aGUgbWFwLCBtZWFzdXJlZCBpbiBkZWdyZWVzIGF3YXkgZnJvbSB0aGUgcGxhbmUgb2YgdGhlIHNjcmVlbiAoMC04NSkuIElmIGBwaXRjaGAgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgY29uc3RydWN0b3Igb3B0aW9ucywgTWFwYm94IEdMIEpTIHdpbGwgbG9vayBmb3IgaXQgaW4gdGhlIG1hcCdzIHN0eWxlIG9iamVjdC4gSWYgaXQgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgc3R5bGUsIGVpdGhlciwgaXQgd2lsbCBkZWZhdWx0IHRvIGAwYC5cbiAqIEBwYXJhbSB7TG5nTGF0Qm91bmRzTGlrZX0gW29wdGlvbnMuYm91bmRzPW51bGxdIFRoZSBpbml0aWFsIGJvdW5kcyBvZiB0aGUgbWFwLiBJZiBgYm91bmRzYCBpcyBzcGVjaWZpZWQsIGl0IG92ZXJyaWRlcyBgY2VudGVyYCBhbmQgYHpvb21gIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZml0Qm91bmRzT3B0aW9uc10gQSB7QGxpbmsgTWFwI2ZpdEJvdW5kc30gb3B0aW9ucyBvYmplY3QgdG8gdXNlIF9vbmx5XyB3aGVuIGZpdHRpbmcgdGhlIGluaXRpYWwgYGJvdW5kc2AgcHJvdmlkZWQgYWJvdmUuXG4gKiBAcGFyYW0geydhdXRvJyB8IHN0cmluZyB8IHN0cmluZ1tdfSBbb3B0aW9ucy5sYW5ndWFnZT1udWxsXSBBIHN0cmluZyB3aXRoIGEgQkNQIDQ3IGxhbmd1YWdlIHRhZywgb3IgYW4gYXJyYXkgb2Ygc3VjaCBzdHJpbmdzIHJlcHJlc2VudGluZyB0aGUgZGVzaXJlZCBsYW5ndWFnZXMgdXNlZCBmb3IgdGhlIG1hcCdzIGxhYmVscyBhbmQgVUkgY29tcG9uZW50cy4gTGFuZ3VhZ2VzIGNhbiBvbmx5IGJlIHNldCBvbiBNYXBib3ggdmVjdG9yIHRpbGUgc291cmNlcy5cbiAqICAgQnkgZGVmYXVsdCwgR0wgSlMgd2lsbCBub3Qgc2V0IGEgbGFuZ3VhZ2Ugc28gdGhhdCB0aGUgbGFuZ3VhZ2Ugb2YgTWFwYm94IHRpbGVzIHdpbGwgYmUgZGV0ZXJtaW5lZCBieSB0aGUgdmVjdG9yIHRpbGUgc291cmNlJ3MgVGlsZUpTT04uXG4gKiAgIFZhbGlkIGxhbmd1YWdlIHN0cmluZ3MgbXVzdCBiZSBhIFtCQ1AtNDcgbGFuZ3VhZ2UgY29kZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSUVURl9sYW5ndWFnZV90YWcjTGlzdF9vZl9zdWJ0YWdzKS4gVW5zdXBwb3J0ZWQgQkNQLTQ3IGNvZGVzIHdpbGwgbm90IGluY2x1ZGUgYW55IHRyYW5zbGF0aW9ucy4gSW52YWxpZCBjb2RlcyB3aWxsIHJlc3VsdCBpbiBhbiByZWNvdmVyYWJsZSBlcnJvci5cbiAqICAgSWYgYSBsYWJlbCBoYXMgbm8gdHJhbnNsYXRpb24gZm9yIHRoZSBzZWxlY3RlZCBsYW5ndWFnZSwgaXQgd2lsbCBkaXNwbGF5IGluIHRoZSBsYWJlbCdzIGxvY2FsIGxhbmd1YWdlLlxuICogICBJZiBvcHRpb24gaXMgc2V0IHRvIGBhdXRvYCwgR0wgSlMgd2lsbCBzZWxlY3QgYSB1c2VyJ3MgcHJlZmVycmVkIGxhbmd1YWdlIGFzIGRldGVybWluZWQgYnkgdGhlIGJyb3dzZXIncyBbYHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2VgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTmF2aWdhdG9yL2xhbmd1YWdlKSBwcm9wZXJ0eS5cbiAqICAgSWYgdGhlIGBsb2NhbGVgIHByb3BlcnR5IGlzIG5vdCBzZXQgc2VwYXJhdGVseSwgdGhpcyBsYW5ndWFnZSB3aWxsIGFsc28gYmUgdXNlZCB0byBsb2NhbGl6ZSB0aGUgVUkgZm9yIHN1cHBvcnRlZCBsYW5ndWFnZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMud29ybGR2aWV3PW51bGxdIFNldHMgdGhlIG1hcCdzIHdvcmxkdmlldy4gQSB3b3JsZHZpZXcgZGV0ZXJtaW5lcyB0aGUgd2F5IHRoYXQgY2VydGFpbiBkaXNwdXRlZCBib3VuZGFyaWVzXG4gICAgICogYXJlIHJlbmRlcmVkLiBCeSBkZWZhdWx0LCBHTCBKUyB3aWxsIG5vdCBzZXQgYSB3b3JsZHZpZXcgc28gdGhhdCB0aGUgd29ybGR2aWV3IG9mIE1hcGJveCB0aWxlcyB3aWxsIGJlIGRldGVybWluZWQgYnkgdGhlIHZlY3RvciB0aWxlIHNvdXJjZSdzIFRpbGVKU09OLlxuICAgICAqIFZhbGlkIHdvcmxkdmlldyBzdHJpbmdzIG11c3QgYmUgYW4gW0lTTyBhbHBoYS0yIGNvdW50cnkgY29kZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzMxNjYtMSNDdXJyZW50X2NvZGVzKS4gVW5zdXBwb3J0ZWRcbiAgICAgKiBJU08gYWxwaGEtMiBjb2RlcyB3aWxsIGZhbGwgYmFjayB0byB0aGUgVGlsZUpTT04ncyBkZWZhdWx0IHdvcmxkdmlldy4gSW52YWxpZCBjb2RlcyB3aWxsIHJlc3VsdCBpbiBhIHJlY292ZXJhYmxlIGVycm9yLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5vcHRpbWl6ZUZvclRlcnJhaW49dHJ1ZV0gV2l0aCB0ZXJyYWluIG9uLCBpZiBgdHJ1ZWAsIHRoZSBtYXAgd2lsbCByZW5kZXIgZm9yIHBlcmZvcm1hbmNlIHByaW9yaXR5LCB3aGljaCBtYXkgbGVhZCB0byBsYXllciByZW9yZGVyaW5nIGFsbG93aW5nIHRvIG1heGltaXplIHBlcmZvcm1hbmNlIChsYXllcnMgdGhhdCBhcmUgZHJhcGVkIG92ZXIgdGVycmFpbiB3aWxsIGJlIGRyYXduIGZpcnN0LCBpbmNsdWRpbmcgZmlsbCwgbGluZSwgYmFja2dyb3VuZCwgaGlsbHNoYWRlIGFuZCByYXN0ZXIpLiBPdGhlcndpc2UsIGlmIHNldCB0byBgZmFsc2VgLCB0aGUgbWFwIHdpbGwgYWx3YXlzIGJlIGRyYXduIGZvciBsYXllciBvcmRlciBwcmlvcml0eS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVuZGVyV29ybGRDb3BpZXM9dHJ1ZV0gSWYgYHRydWVgLCBtdWx0aXBsZSBjb3BpZXMgb2YgdGhlIHdvcmxkIHdpbGwgYmUgcmVuZGVyZWQgc2lkZSBieSBzaWRlIGJleW9uZCAtMTgwIGFuZCAxODAgZGVncmVlcyBsb25naXR1ZGUuIElmIHNldCB0byBgZmFsc2VgOlxuICogLSBXaGVuIHRoZSBtYXAgaXMgem9vbWVkIG91dCBmYXIgZW5vdWdoIHRoYXQgYSBzaW5nbGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIHdvcmxkIGRvZXMgbm90IGZpbGwgdGhlIG1hcCdzIGVudGlyZVxuICogY29udGFpbmVyLCB0aGVyZSB3aWxsIGJlIGJsYW5rIHNwYWNlIGJleW9uZCAxODAgYW5kIC0xODAgZGVncmVlcyBsb25naXR1ZGUuXG4gKiAtIEZlYXR1cmVzIHRoYXQgY3Jvc3MgMTgwIGFuZCAtMTgwIGRlZ3JlZXMgbG9uZ2l0dWRlIHdpbGwgYmUgY3V0IGluIHR3byAod2l0aCBvbmUgcG9ydGlvbiBvbiB0aGUgcmlnaHQgZWRnZSBvZiB0aGVcbiAqIG1hcCBhbmQgdGhlIG90aGVyIG9uIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIG1hcCkgYXQgZXZlcnkgem9vbSBsZXZlbC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5taW5UaWxlQ2FjaGVTaXplPW51bGxdIFRoZSBtaW5pbXVtIG51bWJlciBvZiB0aWxlcyBzdG9yZWQgaW4gdGhlIHRpbGUgY2FjaGUgZm9yIGEgZ2l2ZW4gc291cmNlLiBMYXJnZXIgdmlld3BvcnRzIHVzZSBtb3JlIHRpbGVzIGFuZCBuZWVkIGxhcmdlciBjYWNoZXMuIExhcmdlciB2aWV3cG9ydHMgYXJlIG1vcmUgbGlrZWx5IHRvIGJlIGZvdW5kIG9uIGRldmljZXMgd2l0aCBtb3JlIG1lbW9yeSBhbmQgb24gcGFnZXMgd2hlcmUgdGhlIG1hcCBpcyBtb3JlIGltcG9ydGFudC4gSWYgb21pdHRlZCwgdGhlIGNhY2hlIHdpbGwgYmUgZHluYW1pY2FsbHkgc2l6ZWQgYmFzZWQgb24gdGhlIGN1cnJlbnQgdmlld3BvcnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4VGlsZUNhY2hlU2l6ZT1udWxsXSBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGlsZXMgc3RvcmVkIGluIHRoZSB0aWxlIGNhY2hlIGZvciBhIGdpdmVuIHNvdXJjZS4gSWYgb21pdHRlZCwgdGhlIGNhY2hlIHdpbGwgYmUgZHluYW1pY2FsbHkgc2l6ZWQgYmFzZWQgb24gdGhlIGN1cnJlbnQgdmlld3BvcnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PSdzYW5zLXNlcmlmJ10gRGVmaW5lcyBhIENTUyBmb250LWZhbWlseSBmb3IgbG9jYWxseSBvdmVycmlkaW5nIGdlbmVyYXRpb24gb2YgZ2x5cGhzIGluIHRoZSAnQ0pLIFVuaWZpZWQgSWRlb2dyYXBocycsICdIaXJhZ2FuYScsICdLYXRha2FuYScsICdIYW5ndWwgU3lsbGFibGVzJyBhbmQgJ0NKSyBTeW1ib2xzIGFuZCBQdW5jdHVhdGlvbicgcmFuZ2VzLlxuICogICBJbiB0aGVzZSByYW5nZXMsIGZvbnQgc2V0dGluZ3MgZnJvbSB0aGUgbWFwJ3Mgc3R5bGUgd2lsbCBiZSBpZ25vcmVkLCBleGNlcHQgZm9yIGZvbnQtd2VpZ2h0IGtleXdvcmRzIChsaWdodC9yZWd1bGFyL21lZGl1bS9ib2xkKS5cbiAqICAgU2V0IHRvIGBmYWxzZWAsIHRvIGVuYWJsZSBmb250IHNldHRpbmdzIGZyb20gdGhlIG1hcCdzIHN0eWxlIGZvciB0aGVzZSBnbHlwaCByYW5nZXMuIE5vdGUgdGhhdCBbTWFwYm94IFN0dWRpb10oaHR0cHM6Ly9zdHVkaW8ubWFwYm94LmNvbS8pIHNldHMgdGhpcyB2YWx1ZSB0byBgZmFsc2VgIGJ5IGRlZmF1bHQuXG4gKiAgIFRoZSBwdXJwb3NlIG9mIHRoaXMgb3B0aW9uIGlzIHRvIGF2b2lkIGJhbmR3aWR0aC1pbnRlbnNpdmUgZ2x5cGggc2VydmVyIHJlcXVlc3RzLiBGb3IgYW4gZXhhbXBsZSBvZiB0aGlzIG9wdGlvbiBpbiB1c2UsIHNlZSBbVXNlIGxvY2FsbHkgZ2VuZXJhdGVkIGlkZW9ncmFwaHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbG9jYWwtaWRlb2dyYXBocykuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubG9jYWxGb250RmFtaWx5PWZhbHNlXSBEZWZpbmVzIGEgQ1NTXG4gKiAgIGZvbnQtZmFtaWx5IGZvciBsb2NhbGx5IG92ZXJyaWRpbmcgZ2VuZXJhdGlvbiBvZiBhbGwgZ2x5cGhzLiBGb250IHNldHRpbmdzIGZyb20gdGhlIG1hcCdzIHN0eWxlIHdpbGwgYmUgaWdub3JlZCwgZXhjZXB0IGZvciBmb250LXdlaWdodCBrZXl3b3JkcyAobGlnaHQvcmVndWxhci9tZWRpdW0vYm9sZCkuXG4gKiAgIElmIHNldCwgdGhpcyBvcHRpb24gb3ZlcnJpZGVzIHRoZSBzZXR0aW5nIGluIGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseS5cbiAqIEBwYXJhbSB7UmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0aW9ucy50cmFuc2Zvcm1SZXF1ZXN0PW51bGxdIEEgY2FsbGJhY2sgcnVuIGJlZm9yZSB0aGUgTWFwIG1ha2VzIGEgcmVxdWVzdCBmb3IgYW4gZXh0ZXJuYWwgVVJMLiBUaGUgY2FsbGJhY2sgY2FuIGJlIHVzZWQgdG8gbW9kaWZ5IHRoZSB1cmwsIHNldCBoZWFkZXJzLCBvciBzZXQgdGhlIGNyZWRlbnRpYWxzIHByb3BlcnR5IGZvciBjcm9zcy1vcmlnaW4gcmVxdWVzdHMuXG4gKiAgIEV4cGVjdGVkIHRvIHJldHVybiBhIHtAbGluayBSZXF1ZXN0UGFyYW1ldGVyc30gb2JqZWN0IHdpdGggYSBgdXJsYCBwcm9wZXJ0eSBhbmQgb3B0aW9uYWxseSBgaGVhZGVyc2AgYW5kIGBjcmVkZW50aWFsc2AgcHJvcGVydGllcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nPWZhbHNlXSBJZiBgdHJ1ZWAsIFJlc291cmNlIFRpbWluZyBBUEkgaW5mb3JtYXRpb24gd2lsbCBiZSBjb2xsZWN0ZWQgZm9yIHJlcXVlc3RzIG1hZGUgYnkgR2VvSlNPTiBhbmQgVmVjdG9yIFRpbGUgd2ViIHdvcmtlcnMgKHRoaXMgaW5mb3JtYXRpb24gaXMgbm9ybWFsbHkgaW5hY2Nlc3NpYmxlIGZyb20gdGhlIG1haW4gSmF2YXNjcmlwdCB0aHJlYWQpLiBJbmZvcm1hdGlvbiB3aWxsIGJlIHJldHVybmVkIGluIGEgYHJlc291cmNlVGltaW5nYCBwcm9wZXJ0eSBvZiByZWxldmFudCBgZGF0YWAgZXZlbnRzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZhZGVEdXJhdGlvbj0zMDBdIENvbnRyb2xzIHRoZSBkdXJhdGlvbiBvZiB0aGUgZmFkZS1pbi9mYWRlLW91dCBhbmltYXRpb24gZm9yIGxhYmVsIGNvbGxpc2lvbnMsIGluIG1pbGxpc2Vjb25kcy4gVGhpcyBzZXR0aW5nIGFmZmVjdHMgYWxsIHN5bWJvbCBsYXllcnMuIFRoaXMgc2V0dGluZyBkb2VzIG5vdCBhZmZlY3QgdGhlIGR1cmF0aW9uIG9mIHJ1bnRpbWUgc3R5bGluZyB0cmFuc2l0aW9ucyBvciByYXN0ZXIgdGlsZSBjcm9zcy1mYWRpbmcuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3NzU291cmNlQ29sbGlzaW9ucz10cnVlXSBJZiBgdHJ1ZWAsIHN5bWJvbHMgZnJvbSBtdWx0aXBsZSBzb3VyY2VzIGNhbiBjb2xsaWRlIHdpdGggZWFjaCBvdGhlciBkdXJpbmcgY29sbGlzaW9uIGRldGVjdGlvbi4gSWYgYGZhbHNlYCwgY29sbGlzaW9uIGRldGVjdGlvbiBpcyBydW4gc2VwYXJhdGVseSBmb3IgdGhlIHN5bWJvbHMgaW4gZWFjaCBzb3VyY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYWNjZXNzVG9rZW49bnVsbF0gSWYgc3BlY2lmaWVkLCBtYXAgd2lsbCB1c2UgdGhpcyBbdG9rZW5dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvZ2xvc3NhcnkvYWNjZXNzLXRva2VuLykgaW5zdGVhZCBvZiB0aGUgb25lIGRlZmluZWQgaW4gYG1hcGJveGdsLmFjY2Vzc1Rva2VuYC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5sb2NhbGU9bnVsbF0gQSBwYXRjaCB0byBhcHBseSB0byB0aGUgZGVmYXVsdCBsb2NhbGl6YXRpb24gdGFibGUgZm9yIFVJIHN0cmluZ3Mgc3VjaCBhcyBjb250cm9sIHRvb2x0aXBzLiBUaGUgYGxvY2FsZWAgb2JqZWN0IG1hcHMgbmFtZXNwYWNlZCBVSSBzdHJpbmcgSURzIHRvIHRyYW5zbGF0ZWQgc3RyaW5ncyBpbiB0aGUgdGFyZ2V0IGxhbmd1YWdlO1xuICogIHNlZSBbYHNyYy91aS9kZWZhdWx0X2xvY2FsZS5qc2BdKGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2Jsb2IvbWFpbi9zcmMvdWkvZGVmYXVsdF9sb2NhbGUuanMpIGZvciBhbiBleGFtcGxlIHdpdGggYWxsIHN1cHBvcnRlZCBzdHJpbmcgSURzLiBUaGUgb2JqZWN0IG1heSBzcGVjaWZ5IGFsbCBVSSBzdHJpbmdzICh0aGVyZWJ5IGFkZGluZyBzdXBwb3J0IGZvciBhIG5ldyB0cmFuc2xhdGlvbikgb3Igb25seSBhIHN1YnNldCBvZiBzdHJpbmdzICh0aGVyZWJ5IHBhdGNoaW5nIHRoZSBkZWZhdWx0IHRyYW5zbGF0aW9uIHRhYmxlKS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGVzdE1vZGU9ZmFsc2VdIFNpbGVuY2VzIGVycm9ycyBhbmQgd2FybmluZ3MgZ2VuZXJhdGVkIGR1ZSB0byBhbiBpbnZhbGlkIGFjY2Vzc1Rva2VuLCB1c2VmdWwgd2hlbiB1c2luZyB0aGUgbGlicmFyeSB0byB3cml0ZSB1bml0IHRlc3RzLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uU3BlY2lmaWNhdGlvbn0gW29wdGlvbnMucHJvamVjdGlvbj0nbWVyY2F0b3InXSBUaGUgW3Byb2plY3Rpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3Byb2plY3Rpb24vKSB0aGUgbWFwIHNob3VsZCBiZSByZW5kZXJlZCBpbi5cbiAqIFN1cHBvcnRlZCBwcm9qZWN0aW9ucyBhcmU6XG4gKiAgKiBbQWxiZXJzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BbGJlcnNfcHJvamVjdGlvbikgZXF1YWwtYXJlYSBjb25pYyBwcm9qZWN0aW9uIGFzIGBhbGJlcnNgXG4gKiAgKiBbRXF1YWwgRWFydGhdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VxdWFsX0VhcnRoX3Byb2plY3Rpb24pIGVxdWFsLWFyZWEgcHNldWRvY3lsaW5kcmljYWwgcHJvamVjdGlvbiBhcyBgZXF1YWxFYXJ0aGBcbiAqICAqIFtFcXVpcmVjdGFuZ3VsYXJdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VxdWlyZWN0YW5ndWxhcl9wcm9qZWN0aW9uKSAoUGxhdGUgQ2FycsOpZS9XR1M4NCkgYXMgYGVxdWlyZWN0YW5ndWxhcmBcbiAqICAqIDNkIEdsb2JlIGFzIGBnbG9iZWBcbiAqICAqIFtMYW1iZXJ0IENvbmZvcm1hbCBDb25pY10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGFtYmVydF9jb25mb3JtYWxfY29uaWNfcHJvamVjdGlvbikgYXMgYGxhbWJlcnRDb25mb3JtYWxDb25pY2BcbiAqICAqIFtNZXJjYXRvcl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWVyY2F0b3JfcHJvamVjdGlvbikgY3lsaW5kcmljYWwgbWFwIHByb2plY3Rpb24gYXMgYG1lcmNhdG9yYFxuICogICogW05hdHVyYWwgRWFydGhdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL05hdHVyYWxfRWFydGhfcHJvamVjdGlvbikgcHNldWRvY3lsaW5kcmljYWwgbWFwIHByb2plY3Rpb24gYXMgYG5hdHVyYWxFYXJ0aGBcbiAqICAqIFtXaW5rZWwgVHJpcGVsXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XaW5rZWxfdHJpcGVsX3Byb2plY3Rpb24pIGF6aW11dGhhbCBtYXAgcHJvamVjdGlvbiBhcyBgd2lua2VsVHJpcGVsYFxuICogIENvbmljIHByb2plY3Rpb25zIHN1Y2ggYXMgQWxiZXJzIGFuZCBMYW1iZXJ0IGhhdmUgY29uZmlndXJhYmxlIGBjZW50ZXJgIGFuZCBgcGFyYWxsZWxzYCBwcm9wZXJ0aWVzIHRoYXQgYWxsb3cgZGV2ZWxvcGVycyB0byBkZWZpbmUgdGhlIHJlZ2lvbiBpbiB3aGljaCB0aGUgcHJvamVjdGlvbiBoYXMgbWluaW1hbCBkaXN0b3J0aW9uOyBzZWUgdGhlIGV4YW1wbGUgZm9yIGhvdyB0byBjb25maWd1cmUgdGhlc2UgcHJvcGVydGllcy5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHtcbiAqICAgICBjb250YWluZXI6ICdtYXAnLCAvLyBjb250YWluZXIgSURcbiAqICAgICBjZW50ZXI6IFstMTIyLjQyMDY3OSwgMzcuNzcyNTM3XSwgLy8gc3RhcnRpbmcgcG9zaXRpb24gW2xuZywgbGF0XVxuICogICAgIHpvb206IDEzLCAvLyBzdGFydGluZyB6b29tXG4gKiAgICAgc3R5bGU6ICdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjExJywgLy8gc3R5bGUgVVJMIG9yIHN0eWxlIG9iamVjdFxuICogICAgIGhhc2g6IHRydWUsIC8vIHN5bmMgYGNlbnRlcmAsIGB6b29tYCwgYHBpdGNoYCwgYW5kIGBiZWFyaW5nYCB3aXRoIFVSTFxuICogICAgIC8vIFVzZSBgdHJhbnNmb3JtUmVxdWVzdGAgdG8gbW9kaWZ5IHJlcXVlc3RzIHRoYXQgYmVnaW4gd2l0aCBgaHR0cDovL215SG9zdGAuXG4gKiAgICAgdHJhbnNmb3JtUmVxdWVzdDogKHVybCwgcmVzb3VyY2VUeXBlKSA9PiB7XG4gKiAgICAgICAgIGlmIChyZXNvdXJjZVR5cGUgPT09ICdTb3VyY2UnICYmIHVybC5zdGFydHNXaXRoKCdodHRwOi8vbXlIb3N0JykpIHtcbiAqICAgICAgICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgICAgICAgICAgdXJsOiB1cmwucmVwbGFjZSgnaHR0cCcsICdodHRwcycpLFxuICogICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsnbXktY3VzdG9tLWhlYWRlcic6IHRydWV9LFxuICogICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgIC8vIEluY2x1ZGUgY29va2llcyBmb3IgY3Jvc3Mtb3JpZ2luIHJlcXVlc3RzXG4gKiAgICAgICAgICAgICB9O1xuICogICAgICAgICB9XG4gKiAgICAgfVxuICogfSk7XG4gKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGEgbWFwIG9uIGEgd2VicGFnZV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2ltcGxlLW1hcC8pXG4gKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGEgbWFwIHdpdGggYSBjdXN0b20gc3R5bGVdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2N1c3RvbS1zdHlsZS1pZC8pXG4gKiBAc2VlIFtFeGFtcGxlOiBDaGVjayBpZiBNYXBib3ggR0wgSlMgaXMgc3VwcG9ydGVkXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jaGVjay1mb3Itc3VwcG9ydC8pXG4gKi9cbmNsYXNzIE1hcCBleHRlbmRzIENhbWVyYSB7XG4gICAgc3R5bGU6IFN0eWxlO1xuICAgIHBhaW50ZXI6IFBhaW50ZXI7XG4gICAgaGFuZGxlcnM6ID9IYW5kbGVyTWFuYWdlcjtcblxuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9taXNzaW5nQ1NTQ2FuYXJ5OiBIVE1MRWxlbWVudDtcbiAgICBfY2FudmFzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfY29udHJvbENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbnRyb2xQb3NpdGlvbnM6IHtbXzogc3RyaW5nXTogSFRNTEVsZW1lbnR9O1xuICAgIF9pbnRlcmFjdGl2ZTogP2Jvb2xlYW47XG4gICAgX3Nob3dUaWxlQm91bmRhcmllczogP2Jvb2xlYW47XG4gICAgX3Nob3dUZXJyYWluV2lyZWZyYW1lOiA/Ym9vbGVhbjtcbiAgICBfc2hvd1F1ZXJ5R2VvbWV0cnk6ID9ib29sZWFuO1xuICAgIF9zaG93Q29sbGlzaW9uQm94ZXM6ID9ib29sZWFuO1xuICAgIF9zaG93UGFkZGluZzogP2Jvb2xlYW47XG4gICAgX3Nob3dUaWxlQUFCQnM6ID9ib29sZWFuO1xuICAgIF9zaG93T3ZlcmRyYXdJbnNwZWN0b3I6IGJvb2xlYW47XG4gICAgX3JlcGFpbnQ6ID9ib29sZWFuO1xuICAgIF92ZXJ0aWNlczogP2Jvb2xlYW47XG4gICAgX2NhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgX21pblRpbGVDYWNoZVNpemU6IG51bWJlcjtcbiAgICBfbWF4VGlsZUNhY2hlU2l6ZTogbnVtYmVyO1xuICAgIF9mcmFtZTogP0NhbmNlbGFibGU7XG4gICAgX3JlbmRlck5leHRGcmFtZTogP2Jvb2xlYW47XG4gICAgX3N0eWxlRGlydHk6ID9ib29sZWFuO1xuICAgIF9zb3VyY2VzRGlydHk6ID9ib29sZWFuO1xuICAgIF9wbGFjZW1lbnREaXJ0eTogP2Jvb2xlYW47XG4gICAgX2xvYWRlZDogYm9vbGVhbjtcbiAgICBfZnVsbHlMb2FkZWQ6IGJvb2xlYW47IC8vIGFjY291bnRzIGZvciBwbGFjZW1lbnQgZmluaXNoaW5nIGFzIHdlbGxcbiAgICBfdHJhY2tSZXNpemU6IGJvb2xlYW47XG4gICAgX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcjogYm9vbGVhbjtcbiAgICBfZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogYm9vbGVhbjtcbiAgICBfYW50aWFsaWFzOiBib29sZWFuO1xuICAgIF91c2VXZWJHTDI6IGJvb2xlYW47XG4gICAgX3JlZnJlc2hFeHBpcmVkVGlsZXM6IGJvb2xlYW47XG4gICAgX2hhc2g6IEhhc2g7XG4gICAgX2RlbGVnYXRlZExpc3RlbmVyczogYW55O1xuICAgIF9pc0luaXRpYWxMb2FkOiBib29sZWFuO1xuICAgIF9zaG91bGRDaGVja0FjY2VzczogYm9vbGVhbjtcbiAgICBfZmFkZUR1cmF0aW9uOiBudW1iZXI7XG4gICAgX2Nyb3NzU291cmNlQ29sbGlzaW9uczogYm9vbGVhbjtcbiAgICBfY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFuO1xuICAgIF9vcHRpbWl6ZUZvclRlcnJhaW46IGJvb2xlYW47XG4gICAgX3JlbmRlclRhc2tRdWV1ZTogVGFza1F1ZXVlO1xuICAgIF9kb21SZW5kZXJUYXNrUXVldWU6IFRhc2tRdWV1ZTtcbiAgICBfY29udHJvbHM6IEFycmF5PElDb250cm9sPjtcbiAgICBfbWFya2VyczogQXJyYXk8TWFya2VyPjtcbiAgICBfcG9wdXBzOiBBcnJheTxQb3B1cD47XG4gICAgX2xvZ29Db250cm9sOiBJQ29udHJvbDtcbiAgICBfbWFwSWQ6IG51bWJlcjtcbiAgICBfbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiBzdHJpbmc7XG4gICAgX2xvY2FsRm9udEZhbWlseTogc3RyaW5nO1xuICAgIF9yZXF1ZXN0TWFuYWdlcjogUmVxdWVzdE1hbmFnZXI7XG4gICAgX2xvY2FsZTogT2JqZWN0O1xuICAgIF9yZW1vdmVkOiBib29sZWFuO1xuICAgIF9zcGVlZEluZGV4VGltaW5nOiBib29sZWFuO1xuICAgIF9jbGlja1RvbGVyYW5jZTogbnVtYmVyO1xuICAgIF9jb29wZXJhdGl2ZUdlc3R1cmVzOiBib29sZWFuO1xuICAgIF9zaWxlbmNlQXV0aEVycm9yczogYm9vbGVhbjtcbiAgICBfYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ6IG51bWJlcjtcbiAgICBfYXZlcmFnZUVsZXZhdGlvbkV4YWdnZXJhdGlvbjogbnVtYmVyO1xuICAgIF9hdmVyYWdlRWxldmF0aW9uOiBFYXNlZFZhcmlhYmxlO1xuICAgIF9jb250YWluZXJXaWR0aDogbnVtYmVyO1xuICAgIF9jb250YWluZXJIZWlnaHQ6IG51bWJlcjtcbiAgICBfbGFuZ3VhZ2U6ID9zdHJpbmcgfCA/c3RyaW5nW107XG4gICAgX3dvcmxkdmlldzogP3N0cmluZztcbiAgICBfaW50ZXJhY3Rpb25SYW5nZTogW251bWJlciwgbnVtYmVyXTtcbiAgICBfdmlzaWJpbGl0eUhpZGRlbjogbnVtYmVyO1xuICAgIF9wZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uOiBib29sZWFuO1xuXG4gICAgLy8gYF91c2VFeHBsaWNpdFByb2plY3Rpb25gIGluZGljYXRlcyB0aGF0IGEgcHJvamVjdGlvbiBpcyBzZXQgYnkgYSBjYWxsIHRvIG1hcC5zZXRQcm9qZWN0aW9uKClcbiAgICBfdXNlRXhwbGljaXRQcm9qZWN0aW9uOiBib29sZWFuO1xuXG4gICAgLyoqIEBzZWN0aW9uIHtJbnRlcmFjdGlvbiBoYW5kbGVyc30gKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAncyB7QGxpbmsgU2Nyb2xsWm9vbUhhbmRsZXJ9LCB3aGljaCBpbXBsZW1lbnRzIHpvb21pbmcgaW4gYW5kIG91dCB3aXRoIGEgc2Nyb2xsIHdoZWVsIG9yIHRyYWNrcGFkLlxuICAgICAqIEZpbmQgbW9yZSBkZXRhaWxzIGFuZCBleGFtcGxlcyB1c2luZyBgc2Nyb2xsWm9vbWAgaW4gdGhlIHtAbGluayBTY3JvbGxab29tSGFuZGxlcn0gc2VjdGlvbi5cbiAgICAgKi9cbiAgICBzY3JvbGxab29tOiBTY3JvbGxab29tSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAncyB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9LCB3aGljaCBpbXBsZW1lbnRzIHpvb21pbmcgdXNpbmcgYSBkcmFnIGdlc3R1cmUgd2l0aCB0aGUgU2hpZnQga2V5IHByZXNzZWQuXG4gICAgICogRmluZCBtb3JlIGRldGFpbHMgYW5kIGV4YW1wbGVzIHVzaW5nIGBib3hab29tYCBpbiB0aGUge0BsaW5rIEJveFpvb21IYW5kbGVyfSBzZWN0aW9uLlxuICAgICAqL1xuICAgIGJveFpvb206IEJveFpvb21IYW5kbGVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hcCdzIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0sIHdoaWNoIGltcGxlbWVudHMgcm90YXRpbmcgdGhlIG1hcCB3aGlsZSBkcmFnZ2luZyB3aXRoIHRoZSByaWdodFxuICAgICAqIG1vdXNlIGJ1dHRvbiBvciB3aXRoIHRoZSBDb250cm9sIGtleSBwcmVzc2VkLiBGaW5kIG1vcmUgZGV0YWlscyBhbmQgZXhhbXBsZXMgdXNpbmcgYGRyYWdSb3RhdGVgXG4gICAgICogaW4gdGhlIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0gc2VjdGlvbi5cbiAgICAgKi9cbiAgICBkcmFnUm90YXRlOiBEcmFnUm90YXRlSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAncyB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LCB3aGljaCBpbXBsZW1lbnRzIGRyYWdnaW5nIHRoZSBtYXAgd2l0aCBhIG1vdXNlIG9yIHRvdWNoIGdlc3R1cmUuXG4gICAgICogRmluZCBtb3JlIGRldGFpbHMgYW5kIGV4YW1wbGVzIHVzaW5nIGBkcmFnUGFuYCBpbiB0aGUge0BsaW5rIERyYWdQYW5IYW5kbGVyfSBzZWN0aW9uLlxuICAgICAqL1xuICAgIGRyYWdQYW46IERyYWdQYW5IYW5kbGVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hcCdzIHtAbGluayBLZXlib2FyZEhhbmRsZXJ9LCB3aGljaCBhbGxvd3MgdGhlIHVzZXIgdG8gem9vbSwgcm90YXRlLCBhbmQgcGFuIHRoZSBtYXAgdXNpbmcga2V5Ym9hcmRcbiAgICAgKiBzaG9ydGN1dHMuIEZpbmQgbW9yZSBkZXRhaWxzIGFuZCBleGFtcGxlcyB1c2luZyBga2V5Ym9hcmRgIGluIHRoZSB7QGxpbmsgS2V5Ym9hcmRIYW5kbGVyfSBzZWN0aW9uLlxuICAgICAqL1xuICAgIGtleWJvYXJkOiBLZXlib2FyZEhhbmRsZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFwJ3Mge0BsaW5rIERvdWJsZUNsaWNrWm9vbUhhbmRsZXJ9LCB3aGljaCBhbGxvd3MgdGhlIHVzZXIgdG8gem9vbSBieSBkb3VibGUgY2xpY2tpbmcuXG4gICAgICogRmluZCBtb3JlIGRldGFpbHMgYW5kIGV4YW1wbGVzIHVzaW5nIGBkb3VibGVDbGlja1pvb21gIGluIHRoZSB7QGxpbmsgRG91YmxlQ2xpY2tab29tSGFuZGxlcn0gc2VjdGlvbi5cbiAgICAgKi9cbiAgICBkb3VibGVDbGlja1pvb206IERvdWJsZUNsaWNrWm9vbUhhbmRsZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFwJ3Mge0BsaW5rIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXJ9LCB3aGljaCBhbGxvd3MgdGhlIHVzZXIgdG8gem9vbSBvciByb3RhdGUgdGhlIG1hcCB3aXRoIHRvdWNoIGdlc3R1cmVzLlxuICAgICAqIEZpbmQgbW9yZSBkZXRhaWxzIGFuZCBleGFtcGxlcyB1c2luZyBgdG91Y2hab29tUm90YXRlYCBpbiB0aGUge0BsaW5rIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXJ9IHNlY3Rpb24uXG4gICAgICovXG4gICAgdG91Y2hab29tUm90YXRlOiBUb3VjaFpvb21Sb3RhdGVIYW5kbGVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hcCdzIHtAbGluayBUb3VjaFBpdGNoSGFuZGxlcn0sIHdoaWNoIGFsbG93cyB0aGUgdXNlciB0byBwaXRjaCB0aGUgbWFwIHdpdGggdG91Y2ggZ2VzdHVyZXMuXG4gICAgICogRmluZCBtb3JlIGRldGFpbHMgYW5kIGV4YW1wbGVzIHVzaW5nIGB0b3VjaFBpdGNoYCBpbiB0aGUge0BsaW5rIFRvdWNoUGl0Y2hIYW5kbGVyfSBzZWN0aW9uLlxuICAgICAqL1xuICAgIHRvdWNoUGl0Y2g6IFRvdWNoUGl0Y2hIYW5kbGVyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogTWFwT3B0aW9ucykge1xuICAgICAgICBMaXZlUGVyZm9ybWFuY2VVdGlscy5tYXJrKFBlcmZvcm1hbmNlTWFya2Vycy5jcmVhdGUpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5taW5ab29tICE9IG51bGwgJiYgb3B0aW9ucy5tYXhab29tICE9IG51bGwgJiYgb3B0aW9ucy5taW5ab29tID4gb3B0aW9ucy5tYXhab29tKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluWm9vbWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWluUGl0Y2ggIT0gbnVsbCAmJiBvcHRpb25zLm1heFBpdGNoICE9IG51bGwgJiYgb3B0aW9ucy5taW5QaXRjaCA+IG9wdGlvbnMubWF4UGl0Y2gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLm1pblBpdGNoICE9IG51bGwgJiYgb3B0aW9ucy5taW5QaXRjaCA8IGRlZmF1bHRNaW5QaXRjaCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtaW5QaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAke2RlZmF1bHRNaW5QaXRjaH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLm1heFBpdGNoICE9IG51bGwgJiYgb3B0aW9ucy5tYXhQaXRjaCA+IGRlZmF1bHRNYXhQaXRjaCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtYXhQaXRjaCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byAke2RlZmF1bHRNYXhQaXRjaH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRpc2FibGUgYW50aWFsaWFzIHdpdGggT1MvaU9TIDE1LjQgYW5kIDE1LjUgZHVlIHRvIHJlbmRlcmluZyBidWdcbiAgICAgICAgaWYgKG9wdGlvbnMuYW50aWFsaWFzICYmIGlzU2FmYXJpV2l0aEFudGlhbGlhc2luZ0J1Zyh3aW5kb3cpKSB7XG4gICAgICAgICAgICBvcHRpb25zLmFudGlhbGlhcyA9IGZhbHNlO1xuICAgICAgICAgICAgd2Fybk9uY2UoJ0FudGlhbGlhc2luZyBpcyBkaXNhYmxlZCBmb3IgdGhpcyBXZWJHTCBjb250ZXh0IHRvIGF2b2lkIGJyb3dzZXIgYnVnOiBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMTE2MDknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0ob3B0aW9ucy5taW5ab29tLCBvcHRpb25zLm1heFpvb20sIG9wdGlvbnMubWluUGl0Y2gsIG9wdGlvbnMubWF4UGl0Y2gsIG9wdGlvbnMucmVuZGVyV29ybGRDb3BpZXMpO1xuICAgICAgICBzdXBlcih0cmFuc2Zvcm0sIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2ludGVyYWN0aXZlID0gb3B0aW9ucy5pbnRlcmFjdGl2ZTtcbiAgICAgICAgdGhpcy5fbWluVGlsZUNhY2hlU2l6ZSA9IG9wdGlvbnMubWluVGlsZUNhY2hlU2l6ZTtcbiAgICAgICAgdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSA9IG9wdGlvbnMubWF4VGlsZUNhY2hlU2l6ZTtcbiAgICAgICAgdGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCA9IG9wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDtcbiAgICAgICAgdGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG4gICAgICAgIHRoaXMuX2FudGlhbGlhcyA9IG9wdGlvbnMuYW50aWFsaWFzO1xuICAgICAgICB0aGlzLl91c2VXZWJHTDIgPSBvcHRpb25zLnVzZVdlYkdMMjtcbiAgICAgICAgdGhpcy5fdHJhY2tSZXNpemUgPSBvcHRpb25zLnRyYWNrUmVzaXplO1xuICAgICAgICB0aGlzLl9iZWFyaW5nU25hcCA9IG9wdGlvbnMuYmVhcmluZ1NuYXA7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hFeHBpcmVkVGlsZXMgPSBvcHRpb25zLnJlZnJlc2hFeHBpcmVkVGlsZXM7XG4gICAgICAgIHRoaXMuX2ZhZGVEdXJhdGlvbiA9IG9wdGlvbnMuZmFkZUR1cmF0aW9uO1xuICAgICAgICB0aGlzLl9pc0luaXRpYWxMb2FkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY3Jvc3NTb3VyY2VDb2xsaXNpb25zID0gb3B0aW9ucy5jcm9zc1NvdXJjZUNvbGxpc2lvbnM7XG4gICAgICAgIHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyA9IG9wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nO1xuICAgICAgICB0aGlzLl9vcHRpbWl6ZUZvclRlcnJhaW4gPSBvcHRpb25zLm9wdGltaXplRm9yVGVycmFpbjtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2UgPSB0aGlzLl9wYXJzZUxhbmd1YWdlKG9wdGlvbnMubGFuZ3VhZ2UpO1xuICAgICAgICB0aGlzLl93b3JsZHZpZXcgPSBvcHRpb25zLndvcmxkdmlldztcbiAgICAgICAgdGhpcy5fcmVuZGVyVGFza1F1ZXVlID0gbmV3IFRhc2tRdWV1ZSgpO1xuICAgICAgICB0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUgPSBuZXcgVGFza1F1ZXVlKCk7XG4gICAgICAgIHRoaXMuX2NvbnRyb2xzID0gW107XG4gICAgICAgIHRoaXMuX21hcmtlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fcG9wdXBzID0gW107XG4gICAgICAgIHRoaXMuX21hcElkID0gdW5pcXVlSWQoKTtcbiAgICAgICAgdGhpcy5fbG9jYWxlID0gZXh0ZW5kKHt9LCBkZWZhdWx0TG9jYWxlLCBvcHRpb25zLmxvY2FsZSk7XG4gICAgICAgIHRoaXMuX2NsaWNrVG9sZXJhbmNlID0gb3B0aW9ucy5jbGlja1RvbGVyYW5jZTtcbiAgICAgICAgdGhpcy5fY29vcGVyYXRpdmVHZXN0dXJlcyA9IG9wdGlvbnMuY29vcGVyYXRpdmVHZXN0dXJlcztcbiAgICAgICAgdGhpcy5fcGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbiA9IG9wdGlvbnMucGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbjtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyV2lkdGggPSAwO1xuICAgICAgICB0aGlzLl9jb250YWluZXJIZWlnaHQgPSAwO1xuXG4gICAgICAgIHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0ID0gLUluZmluaXR5O1xuICAgICAgICB0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5fYXZlcmFnZUVsZXZhdGlvbiA9IG5ldyBFYXNlZFZhcmlhYmxlKDApO1xuXG4gICAgICAgIHRoaXMuX2ludGVyYWN0aW9uUmFuZ2UgPSBbK0luZmluaXR5LCAtSW5maW5pdHldO1xuICAgICAgICB0aGlzLl92aXNpYmlsaXR5SGlkZGVuID0gMDtcblxuICAgICAgICB0aGlzLl91c2VFeHBsaWNpdFByb2plY3Rpb24gPSBmYWxzZTsgLy8gRmFsbGJhY2sgdG8gc3R5bGVzaGVldCBieSBkZWZhdWx0XG5cbiAgICAgICAgdGhpcy5fcmVxdWVzdE1hbmFnZXIgPSBuZXcgUmVxdWVzdE1hbmFnZXIob3B0aW9ucy50cmFuc2Zvcm1SZXF1ZXN0LCBvcHRpb25zLmFjY2Vzc1Rva2VuLCBvcHRpb25zLnRlc3RNb2RlKTtcbiAgICAgICAgdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnMgPSAhIW9wdGlvbnMudGVzdE1vZGU7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbnRhaW5lciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcHRpb25zLmNvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb250YWluZXIgJyR7b3B0aW9ucy5jb250YWluZXJ9JyBub3QgZm91bmQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5jb250YWluZXIgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGU6ICdjb250YWluZXInIG11c3QgYmUgYSBTdHJpbmcgb3IgSFRNTEVsZW1lbnQuYCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2Fybk9uY2UoYFRoZSBtYXAgY29udGFpbmVyIGVsZW1lbnQgc2hvdWxkIGJlIGVtcHR5LCBvdGhlcndpc2UgdGhlIG1hcCdzIGludGVyYWN0aXZpdHkgd2lsbCBiZSBuZWdhdGl2ZWx5IGltcGFjdGVkLiBJZiB5b3Ugd2FudCB0byBkaXNwbGF5IGEgbWVzc2FnZSB3aGVuIFdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgTWFwYm94IEdMIFN1cHBvcnRlZCBwbHVnaW4gaW5zdGVhZC5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLm1heEJvdW5kcykge1xuICAgICAgICAgICAgdGhpcy5zZXRNYXhCb3VuZHMob3B0aW9ucy5tYXhCb3VuZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uV2luZG93T25saW5lJyxcbiAgICAgICAgICAgICdfb25XaW5kb3dSZXNpemUnLFxuICAgICAgICAgICAgJ19vblZpc2liaWxpdHlDaGFuZ2UnLFxuICAgICAgICAgICAgJ19vbk1hcFNjcm9sbCcsXG4gICAgICAgICAgICAnX2NvbnRleHRMb3N0JyxcbiAgICAgICAgICAgICdfY29udGV4dFJlc3RvcmVkJ1xuICAgICAgICBdLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9zZXR1cENvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLl9zZXR1cFBhaW50ZXIoKTtcbiAgICAgICAgaWYgKHRoaXMucGFpbnRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMLmApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbignbW92ZScsICgpID0+IHRoaXMuX3VwZGF0ZShmYWxzZSkpO1xuICAgICAgICB0aGlzLm9uKCdtb3ZlZW5kJywgKCkgPT4gdGhpcy5fdXBkYXRlKGZhbHNlKSk7XG4gICAgICAgIHRoaXMub24oJ3pvb20nLCAoKSA9PiB0aGlzLl91cGRhdGUodHJ1ZSkpO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsIHRoaXMuX29uV2luZG93T25saW5lLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMuX29uV2luZG93UmVzaXplLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuX29uV2luZG93UmVzaXplLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IG5ldyBIYW5kbGVyTWFuYWdlcih0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9sb2NhbEZvbnRGYW1pbHkgPSBvcHRpb25zLmxvY2FsRm9udEZhbWlseTtcbiAgICAgICAgdGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5ID0gb3B0aW9ucy5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUob3B0aW9ucy5zdHlsZSwge2xvY2FsRm9udEZhbWlseTogdGhpcy5fbG9jYWxGb250RmFtaWx5LCBsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6IHRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucHJvamVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZXRQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoYXNoTmFtZSA9ICh0eXBlb2Ygb3B0aW9ucy5oYXNoID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLmhhc2gpIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5faGFzaCA9IG9wdGlvbnMuaGFzaCAmJiAobmV3IEhhc2goaGFzaE5hbWUpKS5hZGRUbyh0aGlzKTtcbiAgICAgICAgLy8gZG9uJ3Qgc2V0IHBvc2l0aW9uIGZyb20gb3B0aW9ucyBpZiBzZXQgdGhyb3VnaCBoYXNoXG4gICAgICAgIGlmICghdGhpcy5faGFzaCB8fCAhdGhpcy5faGFzaC5fb25IYXNoQ2hhbmdlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuanVtcFRvKHtcbiAgICAgICAgICAgICAgICBjZW50ZXI6IG9wdGlvbnMuY2VudGVyLFxuICAgICAgICAgICAgICAgIHpvb206IG9wdGlvbnMuem9vbSxcbiAgICAgICAgICAgICAgICBiZWFyaW5nOiBvcHRpb25zLmJlYXJpbmcsXG4gICAgICAgICAgICAgICAgcGl0Y2g6IG9wdGlvbnMucGl0Y2hcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5ib3VuZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZml0Qm91bmRzKG9wdGlvbnMuYm91bmRzLCBleHRlbmQoe30sIG9wdGlvbnMuZml0Qm91bmRzT3B0aW9ucywge2R1cmF0aW9uOiAwfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNpemUoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2wpXG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB0aGlzLmFkZENvbnRyb2wobmV3IEF0dHJpYnV0aW9uQ29udHJvbCh7Y3VzdG9tQXR0cmlidXRpb246IG9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb259KSk7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9sb2dvQ29udHJvbCA9IG5ldyBMb2dvQ29udHJvbCgpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuYWRkQ29udHJvbCh0aGlzLl9sb2dvQ29udHJvbCwgb3B0aW9ucy5sb2dvUG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMub24oJ3N0eWxlLmxvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0udW5tb2RpZmllZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuanVtcFRvKCh0aGlzLnN0eWxlLnN0eWxlc2hlZXQ6IGFueSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignZGF0YScsIChldmVudDogTWFwRGF0YUV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoZXZlbnQuZGF0YVR5cGUgPT09ICdzdHlsZScpO1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudChgJHtldmVudC5kYXRhVHlwZX1kYXRhYCwgZXZlbnQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2RhdGFsb2FkaW5nJywgKGV2ZW50OiBNYXBEYXRhRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoYCR7ZXZlbnQuZGF0YVR5cGV9ZGF0YWxvYWRpbmdgLCBldmVudCkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICogUmV0dXJucyBhIHVuaXF1ZSBudW1iZXIgZm9yIHRoaXMgbWFwIGluc3RhbmNlIHdoaWNoIGlzIHVzZWQgZm9yIHRoZSBNYXBMb2FkRXZlbnRcbiAgICAqIHRvIG1ha2Ugc3VyZSB3ZSBvbmx5IGZpcmUgb25lIGV2ZW50IHBlciBpbnN0YW50aWF0ZWQgbWFwIG9iamVjdC5cbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICovXG4gICAgX2dldE1hcElkKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXBJZDtcbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge0NvbnRyb2xzfSAqL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbiB7QGxpbmsgSUNvbnRyb2x9IHRvIHRoZSBtYXAsIGNhbGxpbmcgYGNvbnRyb2wub25BZGQodGhpcylgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJQ29udHJvbH0gY29udHJvbCBUaGUge0BsaW5rIElDb250cm9sfSB0byBhZGQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwb3NpdGlvbl0gUG9zaXRpb24gb24gdGhlIG1hcCB0byB3aGljaCB0aGUgY29udHJvbCB3aWxsIGJlIGFkZGVkLlxuICAgICAqIFZhbGlkIHZhbHVlcyBhcmUgYCd0b3AtbGVmdCdgLCBgJ3RvcC1yaWdodCdgLCBgJ2JvdHRvbS1sZWZ0J2AsIGFuZCBgJ2JvdHRvbS1yaWdodCdgLiBEZWZhdWx0cyB0byBgJ3RvcC1yaWdodCdgLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBBZGQgem9vbSBhbmQgcm90YXRpb24gY29udHJvbHMgdG8gdGhlIG1hcC5cbiAgICAgKiBtYXAuYWRkQ29udHJvbChuZXcgbWFwYm94Z2wuTmF2aWdhdGlvbkNvbnRyb2woKSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBtYXAgbmF2aWdhdGlvbiBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9uYXZpZ2F0aW9uLylcbiAgICAgKi9cbiAgICBhZGRDb250cm9sKGNvbnRyb2w6IElDb250cm9sLCBwb3NpdGlvbj86IENvbnRyb2xQb3NpdGlvbik6IHRoaXMge1xuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGNvbnRyb2wuZ2V0RGVmYXVsdFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBjb250cm9sLmdldERlZmF1bHRQb3NpdGlvbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9ICd0b3AtcmlnaHQnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY29udHJvbCB8fCAhY29udHJvbC5vbkFkZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ0ludmFsaWQgYXJndW1lbnQgdG8gbWFwLmFkZENvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy4nKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRyb2xFbGVtZW50ID0gY29udHJvbC5vbkFkZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29udHJvbHMucHVzaChjb250cm9sKTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbkNvbnRhaW5lciA9IHRoaXMuX2NvbnRyb2xQb3NpdGlvbnNbcG9zaXRpb25dO1xuICAgICAgICBpZiAocG9zaXRpb24uaW5kZXhPZignYm90dG9tJykgIT09IC0xKSB7XG4gICAgICAgICAgICBwb3NpdGlvbkNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY29udHJvbEVsZW1lbnQsIHBvc2l0aW9uQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zaXRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoY29udHJvbEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGNvbnRyb2wgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJQ29udHJvbH0gY29udHJvbCBUaGUge0BsaW5rIElDb250cm9sfSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERlZmluZSBhIG5ldyBuYXZpZ2F0aW9uIGNvbnRyb2wuXG4gICAgICogY29uc3QgbmF2aWdhdGlvbiA9IG5ldyBtYXBib3hnbC5OYXZpZ2F0aW9uQ29udHJvbCgpO1xuICAgICAqIC8vIEFkZCB6b29tIGFuZCByb3RhdGlvbiBjb250cm9scyB0byB0aGUgbWFwLlxuICAgICAqIG1hcC5hZGRDb250cm9sKG5hdmlnYXRpb24pO1xuICAgICAqIC8vIFJlbW92ZSB6b29tIGFuZCByb3RhdGlvbiBjb250cm9scyBmcm9tIHRoZSBtYXAuXG4gICAgICogbWFwLnJlbW92ZUNvbnRyb2wobmF2aWdhdGlvbik7XG4gICAgICovXG4gICAgcmVtb3ZlQ29udHJvbChjb250cm9sOiBJQ29udHJvbCk6IHRoaXMge1xuICAgICAgICBpZiAoIWNvbnRyb2wgfHwgIWNvbnRyb2wub25SZW1vdmUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50IHRvIG1hcC5yZW1vdmVDb250cm9sKCkuIEFyZ3VtZW50IG11c3QgYmUgYSBjb250cm9sIHdpdGggb25BZGQgYW5kIG9uUmVtb3ZlIG1ldGhvZHMuJykpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaSA9IHRoaXMuX2NvbnRyb2xzLmluZGV4T2YoY29udHJvbCk7XG4gICAgICAgIGlmIChjaSA+IC0xKSB0aGlzLl9jb250cm9scy5zcGxpY2UoY2ksIDEpO1xuICAgICAgICBjb250cm9sLm9uUmVtb3ZlKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBjb250cm9sIGlzIG9uIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0lDb250cm9sfSBjb250cm9sIFRoZSB7QGxpbmsgSUNvbnRyb2x9IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG1hcCBjb250YWlucyBjb250cm9sLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRGVmaW5lIGEgbmV3IG5hdmlnYXRpb24gY29udHJvbC5cbiAgICAgKiBjb25zdCBuYXZpZ2F0aW9uID0gbmV3IG1hcGJveGdsLk5hdmlnYXRpb25Db250cm9sKCk7XG4gICAgICogLy8gQWRkIHpvb20gYW5kIHJvdGF0aW9uIGNvbnRyb2xzIHRvIHRoZSBtYXAuXG4gICAgICogbWFwLmFkZENvbnRyb2wobmF2aWdhdGlvbik7XG4gICAgICogLy8gQ2hlY2sgdGhhdCB0aGUgbmF2aWdhdGlvbiBjb250cm9sIGV4aXN0cyBvbiB0aGUgbWFwLlxuICAgICAqIGNvbnN0IGFkZGVkID0gbWFwLmhhc0NvbnRyb2wobmF2aWdhdGlvbik7XG4gICAgICogLy8gYWRkZWQgPT09IHRydWVcbiAgICAgKi9cbiAgICBoYXNDb250cm9sKGNvbnRyb2w6IElDb250cm9sKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250cm9scy5pbmRleE9mKGNvbnRyb2wpID4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgY29udGFpbmluZyBIVE1MIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFRoZSBtYXAncyBjb250YWluZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjb250YWluZXIgPSBtYXAuZ2V0Q29udGFpbmVyKCk7XG4gICAgICovXG4gICAgZ2V0Q29udGFpbmVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBIVE1MIGVsZW1lbnQgY29udGFpbmluZyB0aGUgbWFwJ3MgYDxjYW52YXM+YCBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gYWRkIG5vbi1HTCBvdmVybGF5cyB0byB0aGUgbWFwLCB5b3Ugc2hvdWxkIGFwcGVuZCB0aGVtIHRvIHRoaXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdGhlIGVsZW1lbnQgdG8gd2hpY2ggZXZlbnQgYmluZGluZ3MgZm9yIG1hcCBpbnRlcmFjdGl2aXR5IChzdWNoIGFzIHBhbm5pbmcgYW5kIHpvb21pbmcpIGFyZVxuICAgICAqIGF0dGFjaGVkLiBJdCB3aWxsIHJlY2VpdmUgYnViYmxlZCBldmVudHMgZnJvbSBjaGlsZCBlbGVtZW50cyBzdWNoIGFzIHRoZSBgPGNhbnZhcz5gLCBidXQgbm90IGZyb21cbiAgICAgKiBtYXAgY29udHJvbHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFRoZSBjb250YWluZXIgb2YgdGhlIG1hcCdzIGA8Y2FudmFzPmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYW52YXNDb250YWluZXIgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91c2luZy1ib3gtcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAgICAgKi9cbiAgICBnZXRDYW52YXNDb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FudmFzQ29udGFpbmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGA8Y2FudmFzPmAgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MQ2FudmFzRWxlbWVudH0gVGhlIG1hcCdzIGA8Y2FudmFzPmAgZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNhbnZhcyA9IG1hcC5nZXRDYW52YXMoKTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBNZWFzdXJlIGRpc3RhbmNlc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tZWFzdXJlLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBEaXNwbGF5IGEgcG9wdXAgb24gaG92ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24taG92ZXIvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IENlbnRlciB0aGUgbWFwIG9uIGEgY2xpY2tlZCBzeW1ib2xdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY2VudGVyLW9uLXN5bWJvbC8pXG4gICAgICovXG4gICAgZ2V0Q2FudmFzKCk6IEhUTUxDYW52YXNFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcztcbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge01hcCBjb25zdHJhaW50c30gKi9cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIG1hcCBhY2NvcmRpbmcgdG8gdGhlIGRpbWVuc2lvbnMgb2YgaXRzXG4gICAgICogYGNvbnRhaW5lcmAgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIENoZWNrcyBpZiB0aGUgbWFwIGNvbnRhaW5lciBzaXplIGNoYW5nZWQgYW5kIHVwZGF0ZXMgdGhlIG1hcCBpZiBpdCBoYXMgY2hhbmdlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCBtdXN0IGJlIGNhbGxlZCBhZnRlciB0aGUgbWFwJ3MgYGNvbnRhaW5lcmAgaXMgcmVzaXplZCBwcm9ncmFtbWF0aWNhbGx5XG4gICAgICogb3Igd2hlbiB0aGUgbWFwIGlzIHNob3duIGFmdGVyIGJlaW5nIGluaXRpYWxseSBoaWRkZW4gd2l0aCBDU1MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bGx9IGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgcGFzc2VkIHRvIGBtb3Zlc3RhcnRgLCBgbW92ZWAsIGByZXNpemVgLCBhbmQgYG1vdmVlbmRgXG4gICAgICogICBldmVudHMgdGhhdCBnZXQgdHJpZ2dlcmVkIGFzIGEgcmVzdWx0IG9mIHJlc2l6ZS4gVGhpcyBjYW4gYmUgdXNlZnVsIGZvciBkaWZmZXJlbnRpYXRpbmcgdGhlXG4gICAgICogICBzb3VyY2Ugb2YgYW4gZXZlbnQgKGZvciBleGFtcGxlLCB1c2VyLWluaXRpYXRlZCBvciBwcm9ncmFtbWF0aWNhbGx5LXRyaWdnZXJlZCBldmVudHMpLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSZXNpemUgdGhlIG1hcCB3aGVuIHRoZSBtYXAgY29udGFpbmVyIGlzIHNob3duXG4gICAgICogLy8gYWZ0ZXIgYmVpbmcgaW5pdGlhbGx5IGhpZGRlbiB3aXRoIENTUy5cbiAgICAgKiBjb25zdCBtYXBEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyk7XG4gICAgICogaWYgKG1hcERpdi5zdHlsZS52aXNpYmlsaXR5ID09PSB0cnVlKSBtYXAucmVzaXplKCk7XG4gICAgICovXG4gICAgcmVzaXplKGV2ZW50RGF0YT86IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLl91cGRhdGVDb250YWluZXJEaW1lbnNpb25zKCk7XG5cbiAgICAgICAgLy8gZG8gbm90aGluZyBpZiBjb250YWluZXIgcmVtYWluZWQgdGhlIHNhbWUgc2l6ZVxuICAgICAgICBpZiAodGhpcy5fY29udGFpbmVyV2lkdGggPT09IHRoaXMudHJhbnNmb3JtLndpZHRoICYmIHRoaXMuX2NvbnRhaW5lckhlaWdodCA9PT0gdGhpcy50cmFuc2Zvcm0uaGVpZ2h0KSByZXR1cm4gdGhpcztcblxuICAgICAgICB0aGlzLl9yZXNpemVDYW52YXModGhpcy5fY29udGFpbmVyV2lkdGgsIHRoaXMuX2NvbnRhaW5lckhlaWdodCk7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmVzaXplKHRoaXMuX2NvbnRhaW5lcldpZHRoLCB0aGlzLl9jb250YWluZXJIZWlnaHQpO1xuICAgICAgICB0aGlzLnBhaW50ZXIucmVzaXplKE1hdGguY2VpbCh0aGlzLl9jb250YWluZXJXaWR0aCksIE1hdGguY2VpbCh0aGlzLl9jb250YWluZXJIZWlnaHQpKTtcblxuICAgICAgICBjb25zdCBmaXJlTW92aW5nID0gIXRoaXMuX21vdmluZztcbiAgICAgICAgaWYgKGZpcmVNb3ZpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdtb3ZlJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyZXNpemUnLCBldmVudERhdGEpKTtcblxuICAgICAgICBpZiAoZmlyZU1vdmluZykgdGhpcy5maXJlKG5ldyBFdmVudCgnbW92ZWVuZCcsIGV2ZW50RGF0YSkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBib3VuZHMuIFdoZW4gdGhlIGJlYXJpbmcgb3IgcGl0Y2ggaXMgbm9uLXplcm8sIHRoZSB2aXNpYmxlIHJlZ2lvbiBpcyBub3RcbiAgICAgKiBhbiBheGlzLWFsaWduZWQgcmVjdGFuZ2xlLCBhbmQgdGhlIHJlc3VsdCBpcyB0aGUgc21hbGxlc3QgYm91bmRzIHRoYXQgZW5jb21wYXNzZXMgdGhlIHZpc2libGUgcmVnaW9uLlxuICAgICAqIElmIGEgcGFkZGluZyBpcyBzZXQgb24gdGhlIG1hcCwgdGhlIGJvdW5kcyByZXR1cm5lZCBhcmUgZm9yIHRoZSBpbnNldC5cbiAgICAgKiBXaXRoIGdsb2JlIHByb2plY3Rpb24sIHRoZSBzbWFsbGVzdCBib3VuZHMgZW5jb21wYXNzaW5nIHRoZSB2aXNpYmxlIHJlZ2lvblxuICAgICAqIG1heSBub3QgcHJlY2lzZWx5IHJlcHJlc2VudCB0aGUgdmlzaWJsZSByZWdpb24gZHVlIHRvIHRoZSBlYXJ0aCdzIGN1cnZhdHVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXRCb3VuZHN9IFRoZSBnZW9ncmFwaGljYWwgYm91bmRzIG9mIHRoZSBtYXAgYXMge0BsaW5rIExuZ0xhdEJvdW5kc30uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBib3VuZHMgPSBtYXAuZ2V0Qm91bmRzKCk7XG4gICAgICovXG4gICAgZ2V0Qm91bmRzKCk6IExuZ0xhdEJvdW5kcyB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0Qm91bmRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWF4aW11bSBnZW9ncmFwaGljYWwgYm91bmRzIHRoZSBtYXAgaXMgY29uc3RyYWluZWQgdG8sIG9yIGBudWxsYCBpZiBub25lIHNldC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFRoZSBtYXAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBtYXhCb3VuZHMgPSBtYXAuZ2V0TWF4Qm91bmRzKCk7XG4gICAgICovXG4gICAgZ2V0TWF4Qm91bmRzKCk6IExuZ0xhdEJvdW5kcyB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0TWF4Qm91bmRzKCkgfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIGNsZWFycyB0aGUgbWFwJ3MgZ2VvZ3JhcGhpY2FsIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIFBhbiBhbmQgem9vbSBvcGVyYXRpb25zIGFyZSBjb25zdHJhaW5lZCB3aXRoaW4gdGhlc2UgYm91bmRzLlxuICAgICAqIElmIGEgcGFuIG9yIHpvb20gaXMgcGVyZm9ybWVkIHRoYXQgd291bGRcbiAgICAgKiBkaXNwbGF5IHJlZ2lvbnMgb3V0c2lkZSB0aGVzZSBib3VuZHMsIHRoZSBtYXAgd2lsbFxuICAgICAqIGluc3RlYWQgZGlzcGxheSBhIHBvc2l0aW9uIGFuZCB6b29tIGxldmVsXG4gICAgICogYXMgY2xvc2UgYXMgcG9zc2libGUgdG8gdGhlIG9wZXJhdGlvbidzIHJlcXVlc3Qgd2hpbGUgc3RpbGxcbiAgICAgKiByZW1haW5pbmcgd2l0aGluIHRoZSBib3VuZHMuXG4gICAgICpcbiAgICAgKiBGb3IgYG1lcmNhdG9yYCBwcm9qZWN0aW9uLCB0aGUgdmlld3BvcnQgd2lsbCBiZSBjb25zdHJhaW5lZCB0byB0aGUgYm91bmRzLlxuICAgICAqIEZvciBvdGhlciBwcm9qZWN0aW9ucyBzdWNoIGFzIGBnbG9iZWAsIG9ubHkgdGhlIG1hcCBjZW50ZXIgd2lsbCBiZSBjb25zdHJhaW5lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0Qm91bmRzTGlrZSB8IG51bGwgfCB1bmRlZmluZWR9IGJvdW5kcyBUaGUgbWF4aW11bSBib3VuZHMgdG8gc2V0LiBJZiBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgaXMgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiByZW1vdmVzIHRoZSBtYXAncyBtYXhpbXVtIGJvdW5kcy5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRGVmaW5lIGJvdW5kcyB0aGF0IGNvbmZvcm0gdG8gdGhlIGBMbmdMYXRCb3VuZHNMaWtlYCBvYmplY3QuXG4gICAgICogY29uc3QgYm91bmRzID0gW1xuICAgICAqICAgICBbLTc0LjA0NzI4LCA0MC42ODM5Ml0sIC8vIFt3ZXN0LCBzb3V0aF1cbiAgICAgKiAgICAgWy03My45MTA1OCwgNDAuODc3NjRdICAvLyBbZWFzdCwgbm9ydGhdXG4gICAgICogXTtcbiAgICAgKiAvLyBTZXQgdGhlIG1hcCdzIG1heCBib3VuZHMuXG4gICAgICogbWFwLnNldE1heEJvdW5kcyhib3VuZHMpO1xuICAgICAqL1xuICAgIHNldE1heEJvdW5kcyhib3VuZHM6IExuZ0xhdEJvdW5kc0xpa2UpOiB0aGlzIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2V0TWF4Qm91bmRzKExuZ0xhdEJvdW5kcy5jb252ZXJ0KGJvdW5kcykpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIG1pbmltdW0gem9vbSBsZXZlbC5cbiAgICAgKiBJZiB0aGUgbWFwJ3MgY3VycmVudCB6b29tIGxldmVsIGlzIGxvd2VyIHRoYW4gdGhlIG5ldyBtaW5pbXVtLFxuICAgICAqIHRoZSBtYXAgd2lsbCB6b29tIHRvIHRoZSBuZXcgbWluaW11bS5cbiAgICAgKlxuICAgICAqIEl0IGlzIG5vdCBhbHdheXMgcG9zc2libGUgdG8gem9vbSBvdXQgYW5kIHJlYWNoIHRoZSBzZXQgYG1pblpvb21gLlxuICAgICAqIE90aGVyIGZhY3RvcnMgc3VjaCBhcyBtYXAgaGVpZ2h0IG1heSByZXN0cmljdCB6b29taW5nLiBGb3IgZXhhbXBsZSxcbiAgICAgKiBpZiB0aGUgbWFwIGlzIDUxMnB4IHRhbGwgaXQgd2lsbCBub3QgYmUgcG9zc2libGUgdG8gem9vbSBiZWxvdyB6b29tIDBcbiAgICAgKiBubyBtYXR0ZXIgd2hhdCB0aGUgYG1pblpvb21gIGlzIHNldCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZH0gbWluWm9vbSBUaGUgbWluaW11bSB6b29tIGxldmVsIHRvIHNldCAoLTIgLSAyNCkuXG4gICAgICogICBJZiBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgaXMgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiByZW1vdmVzIHRoZSBjdXJyZW50IG1pbmltdW0gem9vbSBhbmQgaXQgd2lsbCBiZSByZXNldCB0byAtMi5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldE1pblpvb20oMTIuMjUpO1xuICAgICAqL1xuICAgIHNldE1pblpvb20obWluWm9vbT86ID9udW1iZXIpOiB0aGlzIHtcblxuICAgICAgICBtaW5ab29tID0gbWluWm9vbSA9PT0gbnVsbCB8fCBtaW5ab29tID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TWluWm9vbSA6IG1pblpvb207XG5cbiAgICAgICAgaWYgKG1pblpvb20gPj0gZGVmYXVsdE1pblpvb20gJiYgbWluWm9vbSA8PSB0aGlzLnRyYW5zZm9ybS5tYXhab29tKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5taW5ab29tID0gbWluWm9vbTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRab29tKCkgPCBtaW5ab29tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRab29tKG1pblpvb20pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd6b29tc3RhcnQnKSlcbiAgICAgICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCd6b29tJykpXG4gICAgICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnem9vbWVuZCcpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihgbWluWm9vbSBtdXN0IGJlIGJldHdlZW4gJHtkZWZhdWx0TWluWm9vbX0gYW5kIHRoZSBjdXJyZW50IG1heFpvb20sIGluY2x1c2l2ZWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIG1pbmltdW0gYWxsb3dhYmxlIHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGBtaW5ab29tYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG1pblpvb20gPSBtYXAuZ2V0TWluWm9vbSgpO1xuICAgICAqL1xuICAgIGdldE1pblpvb20oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblpvb207IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgb3IgY2xlYXJzIHRoZSBtYXAncyBtYXhpbXVtIHpvb20gbGV2ZWwuXG4gICAgICogSWYgdGhlIG1hcCdzIGN1cnJlbnQgem9vbSBsZXZlbCBpcyBoaWdoZXIgdGhhbiB0aGUgbmV3IG1heGltdW0sXG4gICAgICogdGhlIG1hcCB3aWxsIHpvb20gdG8gdGhlIG5ldyBtYXhpbXVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkfSBtYXhab29tIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdG8gc2V0LlxuICAgICAqICAgSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCB0aGUgZnVuY3Rpb24gcmVtb3ZlcyB0aGUgY3VycmVudCBtYXhpbXVtIHpvb20gKHNldHMgaXQgdG8gMjIpLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TWF4Wm9vbSgxOC43NSk7XG4gICAgICovXG4gICAgc2V0TWF4Wm9vbShtYXhab29tPzogP251bWJlcik6IHRoaXMge1xuXG4gICAgICAgIG1heFpvb20gPSBtYXhab29tID09PSBudWxsIHx8IG1heFpvb20gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRNYXhab29tIDogbWF4Wm9vbTtcblxuICAgICAgICBpZiAobWF4Wm9vbSA+PSB0aGlzLnRyYW5zZm9ybS5taW5ab29tKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tYXhab29tID0gbWF4Wm9vbTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRab29tKCkgPiBtYXhab29tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRab29tKG1heFpvb20pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd6b29tc3RhcnQnKSlcbiAgICAgICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCd6b29tJykpXG4gICAgICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnem9vbWVuZCcpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihgbWF4Wm9vbSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGUgY3VycmVudCBtaW5ab29tYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgbWF4aW11bSBhbGxvd2FibGUgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYG1heFpvb21gLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbWF4Wm9vbSA9IG1hcC5nZXRNYXhab29tKCk7XG4gICAgICovXG4gICAgZ2V0TWF4Wm9vbSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbTsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIG1pbmltdW0gcGl0Y2guXG4gICAgICogSWYgdGhlIG1hcCdzIGN1cnJlbnQgcGl0Y2ggaXMgbG93ZXIgdGhhbiB0aGUgbmV3IG1pbmltdW0sXG4gICAgICogdGhlIG1hcCB3aWxsIHBpdGNoIHRvIHRoZSBuZXcgbWluaW11bS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZH0gbWluUGl0Y2ggVGhlIG1pbmltdW0gcGl0Y2ggdG8gc2V0ICgwLTg1KS4gSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCB0aGUgZnVuY3Rpb24gcmVtb3ZlcyB0aGUgY3VycmVudCBtaW5pbXVtIHBpdGNoIGFuZCByZXNldHMgaXQgdG8gMC5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldE1pblBpdGNoKDUpO1xuICAgICAqL1xuICAgIHNldE1pblBpdGNoKG1pblBpdGNoPzogP251bWJlcik6IHRoaXMge1xuXG4gICAgICAgIG1pblBpdGNoID0gbWluUGl0Y2ggPT09IG51bGwgfHwgbWluUGl0Y2ggPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRNaW5QaXRjaCA6IG1pblBpdGNoO1xuXG4gICAgICAgIGlmIChtaW5QaXRjaCA8IGRlZmF1bHRNaW5QaXRjaCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtaW5QaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAke2RlZmF1bHRNaW5QaXRjaH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaW5QaXRjaCA+PSBkZWZhdWx0TWluUGl0Y2ggJiYgbWluUGl0Y2ggPD0gdGhpcy50cmFuc2Zvcm0ubWF4UGl0Y2gpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1pblBpdGNoID0gbWluUGl0Y2g7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UGl0Y2goKSA8IG1pblBpdGNoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQaXRjaChtaW5QaXRjaCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3BpdGNoc3RhcnQnKSlcbiAgICAgICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdwaXRjaCcpKVxuICAgICAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3BpdGNoZW5kJykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBtaW5QaXRjaCBtdXN0IGJlIGJldHdlZW4gJHtkZWZhdWx0TWluUGl0Y2h9IGFuZCB0aGUgY3VycmVudCBtYXhQaXRjaCwgaW5jbHVzaXZlYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgbWluaW11bSBhbGxvd2FibGUgcGl0Y2guXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGBtaW5QaXRjaGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBtaW5QaXRjaCA9IG1hcC5nZXRNaW5QaXRjaCgpO1xuICAgICAqL1xuICAgIGdldE1pblBpdGNoKCk6IG51bWJlciB7IHJldHVybiB0aGlzLnRyYW5zZm9ybS5taW5QaXRjaDsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIG1heGltdW0gcGl0Y2guXG4gICAgICogSWYgdGhlIG1hcCdzIGN1cnJlbnQgcGl0Y2ggaXMgaGlnaGVyIHRoYW4gdGhlIG5ldyBtYXhpbXVtLFxuICAgICAqIHRoZSBtYXAgd2lsbCBwaXRjaCB0byB0aGUgbmV3IG1heGltdW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlciB8IG51bGwgfCB1bmRlZmluZWR9IG1heFBpdGNoIFRoZSBtYXhpbXVtIHBpdGNoIHRvIHNldC5cbiAgICAgKiAgIElmIGBudWxsYCBvciBgdW5kZWZpbmVkYCBpcyBwcm92aWRlZCwgdGhlIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIGN1cnJlbnQgbWF4aW11bSBwaXRjaCAoc2V0cyBpdCB0byA4NSkuXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRNYXhQaXRjaCg3MCk7XG4gICAgICovXG4gICAgc2V0TWF4UGl0Y2gobWF4UGl0Y2g/OiA/bnVtYmVyKTogdGhpcyB7XG5cbiAgICAgICAgbWF4UGl0Y2ggPSBtYXhQaXRjaCA9PT0gbnVsbCB8fCBtYXhQaXRjaCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdE1heFBpdGNoIDogbWF4UGl0Y2g7XG5cbiAgICAgICAgaWYgKG1heFBpdGNoID4gZGVmYXVsdE1heFBpdGNoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1heFBpdGNoIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvICR7ZGVmYXVsdE1heFBpdGNofWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1heFBpdGNoID49IHRoaXMudHJhbnNmb3JtLm1pblBpdGNoKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaCA9IG1heFBpdGNoO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmdldFBpdGNoKCkgPiBtYXhQaXRjaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UGl0Y2gobWF4UGl0Y2gpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdwaXRjaHN0YXJ0JykpXG4gICAgICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncGl0Y2gnKSlcbiAgICAgICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdwaXRjaGVuZCcpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihgbWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBtYXhpbXVtIGFsbG93YWJsZSBwaXRjaC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYG1heFBpdGNoYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG1heFBpdGNoID0gbWFwLmdldE1heFBpdGNoKCk7XG4gICAgICovXG4gICAgZ2V0TWF4UGl0Y2goKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFBpdGNoOyB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdGF0ZSBvZiBgcmVuZGVyV29ybGRDb3BpZXNgLiBJZiBgdHJ1ZWAsIG11bHRpcGxlIGNvcGllcyBvZiB0aGUgd29ybGQgd2lsbCBiZSByZW5kZXJlZCBzaWRlIGJ5IHNpZGUgYmV5b25kIC0xODAgYW5kIDE4MCBkZWdyZWVzIGxvbmdpdHVkZS4gSWYgc2V0IHRvIGBmYWxzZWA6XG4gICAgICogLSBXaGVuIHRoZSBtYXAgaXMgem9vbWVkIG91dCBmYXIgZW5vdWdoIHRoYXQgYSBzaW5nbGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIHdvcmxkIGRvZXMgbm90IGZpbGwgdGhlIG1hcCdzIGVudGlyZVxuICAgICAqIGNvbnRhaW5lciwgdGhlcmUgd2lsbCBiZSBibGFuayBzcGFjZSBiZXlvbmQgMTgwIGFuZCAtMTgwIGRlZ3JlZXMgbG9uZ2l0dWRlLlxuICAgICAqIC0gRmVhdHVyZXMgdGhhdCBjcm9zcyAxODAgYW5kIC0xODAgZGVncmVlcyBsb25naXR1ZGUgd2lsbCBiZSBjdXQgaW4gdHdvICh3aXRoIG9uZSBwb3J0aW9uIG9uIHRoZSByaWdodCBlZGdlIG9mIHRoZVxuICAgICAqIG1hcCBhbmQgdGhlIG90aGVyIG9uIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIG1hcCkgYXQgZXZlcnkgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGByZW5kZXJXb3JsZENvcGllc2AgYm9vbGVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHdvcmxkQ29waWVzUmVuZGVyZWQgPSBtYXAuZ2V0UmVuZGVyV29ybGRDb3BpZXMoKTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBSZW5kZXIgd29ybGQgY29waWVzXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9yZW5kZXItd29ybGQtY29waWVzLylcbiAgICAgKi9cbiAgICBnZXRSZW5kZXJXb3JsZENvcGllcygpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGF0ZSBvZiBgcmVuZGVyV29ybGRDb3BpZXNgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZW5kZXJXb3JsZENvcGllcyBJZiBgdHJ1ZWAsIG11bHRpcGxlIGNvcGllcyBvZiB0aGUgd29ybGQgd2lsbCBiZSByZW5kZXJlZCBzaWRlIGJ5IHNpZGUgYmV5b25kIC0xODAgYW5kIDE4MCBkZWdyZWVzIGxvbmdpdHVkZS4gSWYgc2V0IHRvIGBmYWxzZWA6XG4gICAgICogLSBXaGVuIHRoZSBtYXAgaXMgem9vbWVkIG91dCBmYXIgZW5vdWdoIHRoYXQgYSBzaW5nbGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIHdvcmxkIGRvZXMgbm90IGZpbGwgdGhlIG1hcCdzIGVudGlyZVxuICAgICAqIGNvbnRhaW5lciwgdGhlcmUgd2lsbCBiZSBibGFuayBzcGFjZSBiZXlvbmQgMTgwIGFuZCAtMTgwIGRlZ3JlZXMgbG9uZ2l0dWRlLlxuICAgICAqIC0gRmVhdHVyZXMgdGhhdCBjcm9zcyAxODAgYW5kIC0xODAgZGVncmVlcyBsb25naXR1ZGUgd2lsbCBiZSBjdXQgaW4gdHdvICh3aXRoIG9uZSBwb3J0aW9uIG9uIHRoZSByaWdodCBlZGdlIG9mIHRoZVxuICAgICAqIG1hcCBhbmQgdGhlIG90aGVyIG9uIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIG1hcCkgYXQgZXZlcnkgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIGB1bmRlZmluZWRgIGlzIHRyZWF0ZWQgYXMgYHRydWVgLCBgbnVsbGAgaXMgdHJlYXRlZCBhcyBgZmFsc2VgLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0UmVuZGVyV29ybGRDb3BpZXModHJ1ZSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogUmVuZGVyIHdvcmxkIGNvcGllc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcmVuZGVyLXdvcmxkLWNvcGllcy8pXG4gICAgICovXG4gICAgc2V0UmVuZGVyV29ybGRDb3BpZXMocmVuZGVyV29ybGRDb3BpZXM/OiA/Ym9vbGVhbik6IHRoaXMge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyA9IHJlbmRlcldvcmxkQ29waWVzO1xuICAgICAgICBpZiAoIXRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBsYW5ndWFnZSwgd2hpY2ggaXMgdXNlZCBmb3IgdHJhbnNsYXRpbmcgbWFwIGxhYmVscyBhbmQgVUkgY29tcG9uZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZCB8IHN0cmluZyB8IHN0cmluZ1tdfSBSZXR1cm5zIHRoZSBtYXAncyBsYW5ndWFnZSBjb2RlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbGFuZ3VhZ2UgPSBtYXAuZ2V0TGFuZ3VhZ2UoKTtcbiAgICAgKi9cbiAgICBnZXRMYW5ndWFnZSgpOiA/c3RyaW5nIHwgP3N0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhbmd1YWdlO1xuICAgIH1cblxuICAgIF9wYXJzZUxhbmd1YWdlKGxhbmd1YWdlPzogJ2F1dG8nIHwgP3N0cmluZyB8ID9zdHJpbmdbXSk6ID9zdHJpbmcgfCA/c3RyaW5nW10ge1xuICAgICAgICBpZiAobGFuZ3VhZ2UgPT09ICdhdXRvJykgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2U7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGxhbmd1YWdlKSkgcmV0dXJuIGxhbmd1YWdlLmxlbmd0aCA9PT0gMCA/XG4gICAgICAgICAgICB1bmRlZmluZWQgOlxuICAgICAgICAgICAgbGFuZ3VhZ2UubWFwKGwgPT4gbCA9PT0gJ2F1dG8nID8gd2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZSA6IGwpO1xuXG4gICAgICAgIHJldHVybiBsYW5ndWFnZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAncyBsYW5ndWFnZSwgd2hpY2ggaXMgdXNlZCBmb3IgdHJhbnNsYXRpbmcgbWFwIGxhYmVscyBhbmQgVUkgY29tcG9uZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsnYXV0bycgfCBzdHJpbmcgfCBzdHJpbmdbXX0gW2xhbmd1YWdlXSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRlc2lyZWQgbGFuZ3VhZ2UgdXNlZCBmb3IgdGhlIG1hcCdzIGxhYmVscyBhbmQgVUkgY29tcG9uZW50cy4gTGFuZ3VhZ2VzIGNhbiBvbmx5IGJlIHNldCBvbiBNYXBib3ggdmVjdG9yIHRpbGUgc291cmNlcy5cbiAgICAgKiAgVmFsaWQgbGFuZ3VhZ2Ugc3RyaW5ncyBtdXN0IGJlIGEgW0JDUC00NyBsYW5ndWFnZSBjb2RlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JRVRGX2xhbmd1YWdlX3RhZyNMaXN0X29mX3N1YnRhZ3MpLiBVbnN1cHBvcnRlZCBCQ1AtNDcgY29kZXMgd2lsbCBub3QgaW5jbHVkZSBhbnkgdHJhbnNsYXRpb25zLiBJbnZhbGlkIGNvZGVzIHdpbGwgcmVzdWx0IGluIGFuIHJlY292ZXJhYmxlIGVycm9yLlxuICAgICAqICBJZiBhIGxhYmVsIGhhcyBubyB0cmFuc2xhdGlvbiBmb3IgdGhlIHNlbGVjdGVkIGxhbmd1YWdlLCBpdCB3aWxsIGRpc3BsYXkgaW4gdGhlIGxhYmVsJ3MgbG9jYWwgbGFuZ3VhZ2UuXG4gICAgICogIElmIHBhcmFtIGlzIHNldCB0byBgYXV0b2AsIEdMIEpTIHdpbGwgc2VsZWN0IGEgdXNlcidzIHByZWZlcnJlZCBsYW5ndWFnZSBhcyBkZXRlcm1pbmVkIGJ5IHRoZSBicm93c2VyJ3MgW2B3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hdmlnYXRvci9sYW5ndWFnZSkgcHJvcGVydHkuXG4gICAgICogIElmIHRoZSBgbG9jYWxlYCBwcm9wZXJ0eSBpcyBub3Qgc2V0IHNlcGFyYXRlbHksIHRoaXMgbGFuZ3VhZ2Ugd2lsbCBhbHNvIGJlIHVzZWQgdG8gbG9jYWxpemUgdGhlIFVJIGZvciBzdXBwb3J0ZWQgbGFuZ3VhZ2VzLlxuICAgICAqICBJZiBwYXJhbSBpcyBzZXQgdG8gYHVuZGVmaW5lZGAgb3IgYG51bGxgLCBpdCB3aWxsIHJlbW92ZSB0aGUgY3VycmVudCBtYXAgbGFuZ3VhZ2UgYW5kIHJlc2V0IHRoZSBsYW5ndWFnZSB1c2VkIGZvciB0cmFuc2xhdGluZyBtYXAgbGFiZWxzIGFuZCBVSSBjb21wb25lbnRzLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TGFuZ3VhZ2UoJ2VzJyk7XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRMYW5ndWFnZShbJ2VuLUdCJywgJ2VuLVVTJ10pO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TGFuZ3VhZ2UoJ2F1dG8nKTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldExhbmd1YWdlKCk7XG4gICAgICovXG4gICAgc2V0TGFuZ3VhZ2UobGFuZ3VhZ2U/OiAnYXV0bycgfCA/c3RyaW5nIHwgP3N0cmluZ1tdKTogdGhpcyB7XG4gICAgICAgIGNvbnN0IG5ld0xhbmd1YWdlID0gdGhpcy5fcGFyc2VMYW5ndWFnZShsYW5ndWFnZSk7XG4gICAgICAgIGlmICghdGhpcy5zdHlsZSB8fCBuZXdMYW5ndWFnZSA9PT0gdGhpcy5fbGFuZ3VhZ2UpIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZSA9IG5ld0xhbmd1YWdlO1xuXG4gICAgICAgIHRoaXMuc3R5bGUuX3JlbG9hZFNvdXJjZXMoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNvbnRyb2wgb2YgdGhpcy5fY29udHJvbHMpIHtcbiAgICAgICAgICAgIGlmIChjb250cm9sLl9zZXRMYW5ndWFnZSkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2wuX3NldExhbmd1YWdlKHRoaXMuX2xhbmd1YWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvZGUgZm9yIHRoZSBtYXAncyB3b3JsZHZpZXcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1hcCdzIHdvcmxkdmlldyBjb2RlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgd29ybGR2aWV3ID0gbWFwLmdldFdvcmxkdmlldygpO1xuICAgICAqL1xuICAgIGdldFdvcmxkdmlldygpOiA/c3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkdmlldztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAncyB3b3JsZHZpZXcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbd29ybGR2aWV3XSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRlc2lyZWQgd29ybGR2aWV3LlxuICAgICAqICBBIHdvcmxkdmlldyBkZXRlcm1pbmVzIHRoZSB3YXkgdGhhdCBjZXJ0YWluIGRpc3B1dGVkIGJvdW5kYXJpZXMgYXJlIHJlbmRlcmVkLlxuICAgICAqICBWYWxpZCB3b3JsZHZpZXcgc3RyaW5ncyBtdXN0IGJlIGFuIFtJU08gYWxwaGEtMiBjb3VudHJ5IGNvZGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT18zMTY2LTEjQ3VycmVudF9jb2RlcykuXG4gICAgICogIFVuc3VwcG9ydGVkIElTTyBhbHBoYS0yIGNvZGVzIHdpbGwgZmFsbCBiYWNrIHRvIHRoZSBUaWxlSlNPTidzIGRlZmF1bHQgd29ybGR2aWV3LiBJbnZhbGlkIGNvZGVzIHdpbGwgcmVzdWx0IGluIGEgcmVjb3ZlcmFibGUgZXJyb3IuXG4gICAgICogIElmIHBhcmFtIGlzIHNldCB0byBgdW5kZWZpbmVkYCBvciBgbnVsbGAsIGl0IHdpbGwgY2F1c2UgdGhlIG1hcCB0byBmYWxsIGJhY2sgdG8gdGhlIFRpbGVKU09OJ3MgZGVmYXVsdCB3b3JsZHZpZXcuXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRXb3JsZFZpZXcoJ0pQJyk7XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRXb3JsZFZpZXcoKTtcbiAgICAgKi9cbiAgICBzZXRXb3JsZHZpZXcod29ybGR2aWV3PzogP3N0cmluZyk6IHRoaXMge1xuICAgICAgICBpZiAoIXRoaXMuc3R5bGUgfHwgd29ybGR2aWV3ID09PSB0aGlzLl93b3JsZHZpZXcpIHJldHVybiB0aGlzO1xuXG4gICAgICAgIHRoaXMuX3dvcmxkdmlldyA9IHdvcmxkdmlldztcbiAgICAgICAgdGhpcy5zdHlsZS5fcmVsb2FkU291cmNlcygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBAc2VjdGlvbiB7UG9pbnQgY29udmVyc2lvbn0gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBbcHJvamVjdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvcHJvamVjdGlvbi8pIG9iamVjdCB0aGF0IGRlZmluZXMgdGhlIGN1cnJlbnQgbWFwIHByb2plY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvamVjdGlvblNwZWNpZmljYXRpb259IFRoZSBbcHJvamVjdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvcHJvamVjdGlvbi8pIGRlZmluaW5nIHRoZSBjdXJyZW50IG1hcCBwcm9qZWN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgcHJvamVjdGlvbiA9IG1hcC5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICovXG4gICAgZ2V0UHJvamVjdGlvbigpOiBQcm9qZWN0aW9uU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5tZXJjYXRvckZyb21UcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4ge25hbWU6IFwiZ2xvYmVcIiwgY2VudGVyOiBbMCwgMF19O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5nZXRQcm9qZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIG1hcCBbcHJvamVjdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvcHJvamVjdGlvbi8pIGhhcyBiZWVuIHNldCB0byBnbG9iZSBBTkQgdGhlIG1hcCBpcyBhdCBhIGxvdyBlbm91Z2ggem9vbSBsZXZlbCB0aGF0IGdsb2JlIHZpZXcgaXMgZW5hYmxlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBnbG9iZS1pcy1hY3RpdmVgIGJvb2xlYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBpZiAobWFwLl9zaG93aW5nR2xvYmUoKSkge1xuICAgICAqICAgICAvLyBkbyBnbG9iZSB0aGluZ3MgaGVyZVxuICAgICAqIH1cbiAgICAgKi9cbiAgICBfc2hvd2luZ0dsb2JlKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAncyBwcm9qZWN0aW9uLiBJZiBjYWxsZWQgd2l0aCBgbnVsbGAgb3IgYHVuZGVmaW5lZGAsIHRoZSBtYXAgd2lsbCByZXNldCB0byBNZXJjYXRvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UHJvamVjdGlvblNwZWNpZmljYXRpb24gfCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBwcm9qZWN0aW9uIFRoZSBwcm9qZWN0aW9uIHRoYXQgdGhlIG1hcCBzaG91bGQgYmUgcmVuZGVyZWQgaW4uXG4gICAgICogVGhpcyBjYW4gYmUgYSBbcHJvamVjdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvcHJvamVjdGlvbi8pIG9iamVjdCBvciBhIHN0cmluZyBvZiB0aGUgcHJvamVjdGlvbidzIG5hbWUuXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRQcm9qZWN0aW9uKCdhbGJlcnMnKTtcbiAgICAgKiBtYXAuc2V0UHJvamVjdGlvbih7XG4gICAgICogICAgIG5hbWU6ICdhbGJlcnMnLFxuICAgICAqICAgICBjZW50ZXI6IFszNSwgNTVdLFxuICAgICAqICAgICBwYXJhbGxlbHM6IFsyMCwgNjBdXG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBhIHdlYiBtYXAgdXNpbmcgYW4gYWx0ZXJuYXRlIHByb2plY3Rpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL21hcC1wcm9qZWN0aW9uLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBVc2UgZGlmZmVyZW50IG1hcCBwcm9qZWN0aW9ucyBmb3Igd2ViIG1hcHNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3Byb2plY3Rpb25zLylcbiAgICAgKi9cbiAgICBzZXRQcm9qZWN0aW9uKHByb2plY3Rpb24/OiA/UHJvamVjdGlvblNwZWNpZmljYXRpb24gfCBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCk7XG5cbiAgICAgICAgaWYgKCFwcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBwcm9qZWN0aW9uID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvamVjdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHByb2plY3Rpb24gPSAoKHtuYW1lOiBwcm9qZWN0aW9ufTogYW55KTogUHJvamVjdGlvblNwZWNpZmljYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXNlRXhwbGljaXRQcm9qZWN0aW9uID0gISFwcm9qZWN0aW9uO1xuICAgICAgICBjb25zdCBzdHlsZXNoZWV0UHJvamVjdGlvbiA9IHRoaXMuc3R5bGUuc3R5bGVzaGVldCA/IHRoaXMuc3R5bGUuc3R5bGVzaGVldC5wcm9qZWN0aW9uIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKHByb2plY3Rpb24sIHN0eWxlc2hlZXRQcm9qZWN0aW9uKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlUHJvamVjdGlvblRyYW5zaXRpb24oKSB7XG4gICAgICAgIC8vIFRoZSBwcm9qZWN0aW9uIGlzbid0IGdsb2JlLCB3ZSBjYW4gc2tpcCB1cGRhdGluZyB0aGUgdHJhbnNpdGlvblxuICAgICAgICBpZiAodGhpcy5nZXRQcm9qZWN0aW9uKCkubmFtZSAhPT0gJ2dsb2JlJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHRyLnByb2plY3Rpb24ubmFtZTtcbiAgICAgICAgbGV0IHByb2plY3Rpb25IYXNDaGFuZ2VkO1xuXG4gICAgICAgIGlmIChwcm9qZWN0aW9uID09PSAnZ2xvYmUnICYmIHRyLnpvb20gPj0gR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYKSB7XG4gICAgICAgICAgICB0ci5zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICBwcm9qZWN0aW9uSGFzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvamVjdGlvbiA9PT0gJ21lcmNhdG9yJyAmJiB0ci56b29tIDwgR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYKSB7XG4gICAgICAgICAgICB0ci5zZXRQcm9qZWN0aW9uKHtuYW1lOiAnZ2xvYmUnfSk7XG4gICAgICAgICAgICBwcm9qZWN0aW9uSGFzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvamVjdGlvbkhhc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLl9mb3JjZVN5bWJvbExheWVyVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24oZXhwbGljaXRQcm9qZWN0aW9uOiA/UHJvamVjdGlvblNwZWNpZmljYXRpb24sIHN0eWxlUHJvamVjdGlvbjogP1Byb2plY3Rpb25TcGVjaWZpY2F0aW9uKTogdGhpcyB7XG4gICAgICAgIC8vIEdpdmVuIGEgc3R5bGVzaGVldCBhbmQgZXZlbnR1YWwgcnVudGltZSBwcm9qZWN0aW9uLCBpbiBvcmRlciBvZiBwcmlvcml0eSwgd2Ugc2VsZWN0OlxuICAgICAgICAvLyAgMS4gdGhlIGV4cGxpY2l0IHByb2plY3Rpb25cbiAgICAgICAgLy8gIDIuIHRoZSBzdHlsZXNoZWV0IHByb2plY3Rpb25cbiAgICAgICAgLy8gIDMuIG1lcmNhdG9yIChmYWxsYmFjaylcbiAgICAgICAgY29uc3QgcHJpb3JpdGl6ZWRQcm9qZWN0aW9uID0gZXhwbGljaXRQcm9qZWN0aW9uIHx8IHN0eWxlUHJvamVjdGlvbiB8fCB7bmFtZTogXCJtZXJjYXRvclwifTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlUHJvamVjdGlvbihwcmlvcml0aXplZFByb2plY3Rpb24pO1xuICAgIH1cblxuICAgIF91cGRhdGVQcm9qZWN0aW9uKHByb2plY3Rpb246IFByb2plY3Rpb25TcGVjaWZpY2F0aW9uKTogdGhpcyB7XG4gICAgICAgIGxldCBwcm9qZWN0aW9uSGFzQ2hhbmdlZDtcblxuICAgICAgICBpZiAocHJvamVjdGlvbi5uYW1lID09PSAnZ2xvYmUnICYmIHRoaXMudHJhbnNmb3JtLnpvb20gPj0gR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYKSB7XG4gICAgICAgICAgICBwcm9qZWN0aW9uSGFzQ2hhbmdlZCA9IHRoaXMudHJhbnNmb3JtLnNldE1lcmNhdG9yRnJvbVRyYW5zaXRpb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2plY3Rpb25IYXNDaGFuZ2VkID0gdGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3R5bGUuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCk7XG5cbiAgICAgICAgaWYgKHByb2plY3Rpb25IYXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLnBhaW50ZXIuY2xlYXJCYWNrZ3JvdW5kVGlsZXMoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzW2lkXS5jbGVhclRpbGVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLl9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHtAbGluayBQb2ludH0gcmVwcmVzZW50aW5nIHBpeGVsIGNvb3JkaW5hdGVzLCByZWxhdGl2ZSB0byB0aGUgbWFwJ3MgYGNvbnRhaW5lcmAsXG4gICAgICogdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBzcGVjaWZpZWQgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uLlxuICAgICAqXG4gICAgICogV2hlbiB0aGUgbWFwIGlzIHBpdGNoZWQgYW5kIGBsbmdsYXRgIGlzIGNvbXBsZXRlbHkgYmVoaW5kIHRoZSBjYW1lcmEsIHRoZXJlIGFyZSBubyBwaXhlbFxuICAgICAqIGNvb3JkaW5hdGVzIGNvcnJlc3BvbmRpbmcgdG8gdGhhdCBsb2NhdGlvbi4gSW4gdGhhdCBjYXNlLFxuICAgICAqIHRoZSBgeGAgYW5kIGB5YCBjb21wb25lbnRzIG9mIHRoZSByZXR1cm5lZCB7QGxpbmsgUG9pbnR9IGFyZSBzZXQgdG8gTnVtYmVyLk1BWF9WQUxVRS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gbG5nbGF0IFRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb24gdG8gcHJvamVjdC5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFRoZSB7QGxpbmsgUG9pbnR9IGNvcnJlc3BvbmRpbmcgdG8gYGxuZ2xhdGAsIHJlbGF0aXZlIHRvIHRoZSBtYXAncyBgY29udGFpbmVyYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNvb3JkaW5hdGUgPSBbLTEyMi40MjA2NzksIDM3Ljc3MjUzN107XG4gICAgICogY29uc3QgcG9pbnQgPSBtYXAucHJvamVjdChjb29yZGluYXRlKTtcbiAgICAgKi9cbiAgICBwcm9qZWN0KGxuZ2xhdDogTG5nTGF0TGlrZSk6IFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQzRChMbmdMYXQuY29udmVydChsbmdsYXQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEge0BsaW5rIExuZ0xhdH0gcmVwcmVzZW50aW5nIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyB0aGF0IGNvcnJlc3BvbmRcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIHBpeGVsIGNvb3JkaW5hdGVzLiBJZiBob3Jpem9uIGlzIHZpc2libGUsIGFuZCBzcGVjaWZpZWQgcGl4ZWwgaXNcbiAgICAgKiBhYm92ZSBob3Jpem9uLCByZXR1cm5zIGEge0BsaW5rIExuZ0xhdH0gY29ycmVzcG9uZGluZyB0byBwb2ludCBvbiBob3Jpem9uLCBuZWFyZXN0XG4gICAgICogdG8gdGhlIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IHBvaW50IFRoZSBwaXhlbCBjb29yZGluYXRlcyB0byB1bnByb2plY3QuXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIHtAbGluayBMbmdMYXR9IGNvcnJlc3BvbmRpbmcgdG8gYHBvaW50YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAqICAgICAvLyBXaGVuIHRoZSBtYXAgaXMgY2xpY2tlZCwgZ2V0IHRoZSBnZW9ncmFwaGljIGNvb3JkaW5hdGUuXG4gICAgICogICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBtYXAudW5wcm9qZWN0KGUucG9pbnQpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHVucHJvamVjdChwb2ludDogUG9pbnRMaWtlKTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChQb2ludC5jb252ZXJ0KHBvaW50KSk7XG4gICAgfVxuXG4gICAgLyoqIEBzZWN0aW9uIHtNb3ZlbWVudCBzdGF0ZX0gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbWFwIGlzIHBhbm5pbmcsIHpvb21pbmcsIHJvdGF0aW5nLCBvciBwaXRjaGluZyBkdWUgdG8gYSBjYW1lcmEgYW5pbWF0aW9uIG9yIHVzZXIgZ2VzdHVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBtYXAgaXMgbW92aW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaXNNb3ZpbmcgPSBtYXAuaXNNb3ZpbmcoKTtcbiAgICAgKi9cbiAgICBpc01vdmluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vdmluZyB8fCAodGhpcy5oYW5kbGVycyAmJiB0aGlzLmhhbmRsZXJzLmlzTW92aW5nKCkpIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbWFwIGlzIHpvb21pbmcgZHVlIHRvIGEgY2FtZXJhIGFuaW1hdGlvbiBvciB1c2VyIGdlc3R1cmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWFwIGlzIHpvb21pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpc1pvb21pbmcgPSBtYXAuaXNab29taW5nKCk7XG4gICAgICovXG4gICAgaXNab29taW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fem9vbWluZyB8fCAodGhpcy5oYW5kbGVycyAmJiB0aGlzLmhhbmRsZXJzLmlzWm9vbWluZygpKSB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG1hcCBpcyByb3RhdGluZyBkdWUgdG8gYSBjYW1lcmEgYW5pbWF0aW9uIG9yIHVzZXIgZ2VzdHVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBtYXAgaXMgcm90YXRpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuaXNSb3RhdGluZygpO1xuICAgICAqL1xuICAgIGlzUm90YXRpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGluZyB8fCAodGhpcy5oYW5kbGVycyAmJiB0aGlzLmhhbmRsZXJzLmlzUm90YXRpbmcoKSkgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgX2lzRHJhZ2dpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodGhpcy5oYW5kbGVycyAmJiB0aGlzLmhhbmRsZXJzLl9pc0RyYWdnaW5nKCkpIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIF9jcmVhdGVEZWxlZ2F0ZWRMaXN0ZW5lcih0eXBlOiBNYXBFdmVudCwgbGF5ZXJzOiBBcnJheTxhbnk+LCBsaXN0ZW5lcjogYW55KTogYW55IHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09PSAnbW91c2VvdmVyJykge1xuICAgICAgICAgICAgbGV0IG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlbW92ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRMYXllcnMgPSBsYXllcnMuZmlsdGVyKGxheWVySWQgPT4gdGhpcy5nZXRMYXllcihsYXllcklkKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBmaWx0ZXJlZExheWVycy5sZW5ndGggPyB0aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50LCB7bGF5ZXJzOiBmaWx0ZXJlZExheWVyc30pIDogW107XG4gICAgICAgICAgICAgICAgaWYgKCFmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIW1vdXNlaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgbmV3IE1hcE1vdXNlRXZlbnQodHlwZSwgdGhpcywgZS5vcmlnaW5hbEV2ZW50LCB7ZmVhdHVyZXN9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlb3V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiB7bGF5ZXJzOiBuZXcgU2V0KGxheWVycyksIGxpc3RlbmVyLCBkZWxlZ2F0ZXM6IHttb3VzZW1vdmUsIG1vdXNlb3V0fX07XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21vdXNlbGVhdmUnIHx8IHR5cGUgPT09ICdtb3VzZW91dCcpIHtcbiAgICAgICAgICAgIGxldCBtb3VzZWluID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBtb3VzZW1vdmUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkTGF5ZXJzID0gbGF5ZXJzLmZpbHRlcihsYXllcklkID0+IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gZmlsdGVyZWRMYXllcnMubGVuZ3RoID8gdGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCwge2xheWVyczogZmlsdGVyZWRMYXllcnN9KSA6IFtdO1xuICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb3VzZWluKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgTWFwTW91c2VFdmVudCh0eXBlLCB0aGlzLCBlLm9yaWdpbmFsRXZlbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbW91c2VvdXQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChtb3VzZWluKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgTWFwTW91c2VFdmVudCh0eXBlLCB0aGlzLCBlLm9yaWdpbmFsRXZlbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4ge2xheWVyczogbmV3IFNldChsYXllcnMpLCBsaXN0ZW5lciwgZGVsZWdhdGVzOiB7bW91c2Vtb3ZlLCBtb3VzZW91dH19O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZGVsZWdhdGUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkTGF5ZXJzID0gbGF5ZXJzLmZpbHRlcihsYXllcklkID0+IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gZmlsdGVyZWRMYXllcnMubGVuZ3RoID8gdGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCwge2xheWVyczogZmlsdGVyZWRMYXllcnN9KSA6IFtdO1xuICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGVyZSB3ZSBuZWVkIHRvIG11dGF0ZSB0aGUgb3JpZ2luYWwgZXZlbnQsIHNvIHRoYXQgcHJldmVudERlZmF1bHQgd29ya3MgYXMgZXhwZWN0ZWQuXG4gICAgICAgICAgICAgICAgICAgIGUuZmVhdHVyZXMgPSBmZWF0dXJlcztcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGUuZmVhdHVyZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIHtsYXllcnM6IG5ldyBTZXQobGF5ZXJzKSwgbGlzdGVuZXIsIGRlbGVnYXRlczoge1sodHlwZTogc3RyaW5nKV06IGRlbGVnYXRlfX07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge1dvcmtpbmcgd2l0aCBldmVudHN9ICovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgZm9yIGV2ZW50cyBvZiBhIHNwZWNpZmllZCB0eXBlLFxuICAgICAqIG9wdGlvbmFsbHkgbGltaXRlZCB0byBmZWF0dXJlcyBpbiBhIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlIHRvIGxpc3RlbiBmb3IuIEV2ZW50cyBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkYCBwYXJhbWV0ZXIgYXJlIHRyaWdnZXJlZFxuICAgICAqIHdoZW4gdGhlIGN1cnNvciBlbnRlcnMgYSB2aXNpYmxlIHBvcnRpb24gb2YgdGhlIHNwZWNpZmllZCBsYXllciBmcm9tIG91dHNpZGUgdGhhdCBsYXllciBvciBvdXRzaWRlIHRoZSBtYXAgY2FudmFzLlxuICAgICAqXG4gICAgICogfCBFdmVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBDb21wYXRpYmxlIHdpdGggYGxheWVySWRgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgW2Btb3VzZWRvd25gXSgjbWFwLmV2ZW50Om1vdXNlZG93bikgICAgICAgICAgICAgICAgICAgICAgIHwgeWVzICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYG1vdXNldXBgXSgjbWFwLmV2ZW50Om1vdXNldXApICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB5ZXMgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgbW91c2VvdmVyYF0oI21hcC5ldmVudDptb3VzZW92ZXIpICAgICAgICAgICAgICAgICAgICAgICB8IHllcyAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2Btb3VzZW91dGBdKCNtYXAuZXZlbnQ6bW91c2VvdXQpICAgICAgICAgICAgICAgICAgICAgICAgIHwgeWVzICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYG1vdXNlbW92ZWBdKCNtYXAuZXZlbnQ6bW91c2Vtb3ZlKSAgICAgICAgICAgICAgICAgICAgICAgfCB5ZXMgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgbW91c2VlbnRlcmBdKCNtYXAuZXZlbnQ6bW91c2VlbnRlcikgICAgICAgICAgICAgICAgICAgICB8IHllcyAocmVxdWlyZWQpICAgICAgICAgICAgfFxuICAgICAqIHwgW2Btb3VzZWxlYXZlYF0oI21hcC5ldmVudDptb3VzZWxlYXZlKSAgICAgICAgICAgICAgICAgICAgIHwgeWVzIChyZXF1aXJlZCkgICAgICAgICAgICB8XG4gICAgICogfCBbYHByZWNsaWNrYF0oI21hcC5ldmVudDpwcmVjbGljaykgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgY2xpY2tgXSgjbWFwLmV2ZW50OmNsaWNrKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHllcyAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2BkYmxjbGlja2BdKCNtYXAuZXZlbnQ6ZGJsY2xpY2spICAgICAgICAgICAgICAgICAgICAgICAgIHwgeWVzICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYGNvbnRleHRtZW51YF0oI21hcC5ldmVudDpjb250ZXh0bWVudSkgICAgICAgICAgICAgICAgICAgfCB5ZXMgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgdG91Y2hzdGFydGBdKCNtYXAuZXZlbnQ6dG91Y2hzdGFydCkgICAgICAgICAgICAgICAgICAgICB8IHllcyAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2B0b3VjaGVuZGBdKCNtYXAuZXZlbnQ6dG91Y2hlbmQpICAgICAgICAgICAgICAgICAgICAgICAgIHwgeWVzICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHRvdWNoY2FuY2VsYF0oI21hcC5ldmVudDp0b3VjaGNhbmNlbCkgICAgICAgICAgICAgICAgICAgfCB5ZXMgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgd2hlZWxgXSgjbWFwLmV2ZW50OndoZWVsKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2ByZXNpemVgXSgjbWFwLmV2ZW50OnJlc2l6ZSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHJlbW92ZWBdKCNtYXAuZXZlbnQ6cmVtb3ZlKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgdG91Y2htb3ZlYF0oI21hcC5ldmVudDp0b3VjaG1vdmUpICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2Btb3Zlc3RhcnRgXSgjbWFwLmV2ZW50Om1vdmVzdGFydCkgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYG1vdmVgXSgjbWFwLmV2ZW50Om1vdmUpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgbW92ZWVuZGBdKCNtYXAuZXZlbnQ6bW92ZWVuZCkgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2BkcmFnc3RhcnRgXSgjbWFwLmV2ZW50OmRyYWdzdGFydCkgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYGRyYWdgXSgjbWFwLmV2ZW50OmRyYWcpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgZHJhZ2VuZGBdKCNtYXAuZXZlbnQ6ZHJhZ2VuZCkgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2B6b29tc3RhcnRgXSgjbWFwLmV2ZW50Onpvb21zdGFydCkgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHpvb21gXSgjbWFwLmV2ZW50Onpvb20pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgem9vbWVuZGBdKCNtYXAuZXZlbnQ6em9vbWVuZCkgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2Byb3RhdGVzdGFydGBdKCNtYXAuZXZlbnQ6cm90YXRlc3RhcnQpICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHJvdGF0ZWBdKCNtYXAuZXZlbnQ6cm90YXRlKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgcm90YXRlZW5kYF0oI21hcC5ldmVudDpyb3RhdGVlbmQpICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2BwaXRjaHN0YXJ0YF0oI21hcC5ldmVudDpwaXRjaHN0YXJ0KSAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHBpdGNoYF0oI21hcC5ldmVudDpwaXRjaCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgcGl0Y2hlbmRgXSgjbWFwLmV2ZW50OnBpdGNoZW5kKSAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2Bib3h6b29tc3RhcnRgXSgjbWFwLmV2ZW50OmJveHpvb21zdGFydCkgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYGJveHpvb21lbmRgXSgjbWFwLmV2ZW50OmJveHpvb21lbmQpICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgYm94em9vbWNhbmNlbGBdKCNtYXAuZXZlbnQ6Ym94em9vbWNhbmNlbCkgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2B3ZWJnbGNvbnRleHRsb3N0YF0oI21hcC5ldmVudDp3ZWJnbGNvbnRleHRsb3N0KSAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHdlYmdsY29udGV4dHJlc3RvcmVkYF0oI21hcC5ldmVudDp3ZWJnbGNvbnRleHRyZXN0b3JlZCkgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgbG9hZGBdKCNtYXAuZXZlbnQ6bG9hZCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2ByZW5kZXJgXSgjbWFwLmV2ZW50OnJlbmRlcikgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYGlkbGVgXSgjbWFwLmV2ZW50OmlkbGUpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgZXJyb3JgXSgjbWFwLmV2ZW50OmVycm9yKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2BkYXRhYF0oI21hcC5ldmVudDpkYXRhKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHN0eWxlZGF0YWBdKCNtYXAuZXZlbnQ6c3R5bGVkYXRhKSAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgc291cmNlZGF0YWBdKCNtYXAuZXZlbnQ6c291cmNlZGF0YSkgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2BkYXRhbG9hZGluZ2BdKCNtYXAuZXZlbnQ6ZGF0YWxvYWRpbmcpICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHN0eWxlZGF0YWxvYWRpbmdgXSgjbWFwLmV2ZW50OnN0eWxlZGF0YWxvYWRpbmcpICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8IFtgc291cmNlZGF0YWxvYWRpbmdgXSgjbWFwLmV2ZW50OnNvdXJjZWRhdGFsb2FkaW5nKSAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqIHwgW2BzdHlsZWltYWdlbWlzc2luZ2BdKCNtYXAuZXZlbnQ6c3R5bGVpbWFnZW1pc3NpbmcpICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogfCBbYHN0eWxlLmxvYWRgXSgjbWFwLmV2ZW50OnN0eWxlLmxvYWQpICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgQXJyYXk8c3RyaW5nPn0gbGF5ZXJJZHMgKG9wdGlvbmFsKSBUaGUgSUQocykgb2YgYSBzdHlsZSBsYXllcihzKS4gSWYgeW91IHByb3ZpZGUgYSBgbGF5ZXJJZGAsXG4gICAgICogdGhlIGxpc3RlbmVyIHdpbGwgYmUgdHJpZ2dlcmVkIG9ubHkgaWYgaXRzIGxvY2F0aW9uIGlzIHdpdGhpbiBhIHZpc2libGUgZmVhdHVyZSBpbiB0aGVzZSBsYXllcnMsXG4gICAgICogYW5kIHRoZSBldmVudCB3aWxsIGhhdmUgYSBgZmVhdHVyZXNgIHByb3BlcnR5IGNvbnRhaW5pbmcgYW4gYXJyYXkgb2YgdGhlIG1hdGNoaW5nIGZlYXR1cmVzLlxuICAgICAqIElmIHlvdSBkbyBub3QgcHJvdmlkZSBgbGF5ZXJJZHNgLCB0aGUgbGlzdGVuZXIgd2lsbCBiZSB0cmlnZ2VyZWQgYnkgYSBjb3JyZXNwb25kaW5nIGV2ZW50XG4gICAgICogaGFwcGVuaW5nIGFueXdoZXJlIG9uIHRoZSBtYXAsIGFuZCB0aGUgZXZlbnQgd2lsbCBub3QgaGF2ZSBhIGBmZWF0dXJlc2AgcHJvcGVydHkuXG4gICAgICogTm90ZSB0aGF0IG1hbnkgZXZlbnQgdHlwZXMgYXJlIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkc2AgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IHdpbGwgZmlyZVxuICAgICAqIC8vIHdoZW4gdGhlIG1hcCBoYXMgZmluaXNoZWQgbG9hZGluZy5cbiAgICAgKiBtYXAub24oJ2xvYWQnLCAoKSA9PiB7XG4gICAgICogICAgIC8vIEFkZCBhIG5ldyBsYXllci5cbiAgICAgKiAgICAgbWFwLmFkZExheWVyKHtcbiAgICAgKiAgICAgICAgIGlkOiAncG9pbnRzLW9mLWludGVyZXN0JyxcbiAgICAgKiAgICAgICAgIHNvdXJjZToge1xuICAgICAqICAgICAgICAgICAgIHR5cGU6ICd2ZWN0b3InLFxuICAgICAqICAgICAgICAgICAgIHVybDogJ21hcGJveDovL21hcGJveC5tYXBib3gtc3RyZWV0cy12OCdcbiAgICAgKiAgICAgICAgIH0sXG4gICAgICogICAgICAgICAnc291cmNlLWxheWVyJzogJ3BvaV9sYWJlbCcsXG4gICAgICogICAgICAgICB0eXBlOiAnY2lyY2xlJyxcbiAgICAgKiAgICAgICAgIHBhaW50OiB7XG4gICAgICogICAgICAgICAgICAgLy8gTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb24gcGFpbnQgcHJvcGVydGllc1xuICAgICAqICAgICAgICAgfSxcbiAgICAgKiAgICAgICAgIGxheW91dDoge1xuICAgICAqICAgICAgICAgICAgIC8vIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uIGxheW91dCBwcm9wZXJ0aWVzXG4gICAgICogICAgICAgICB9XG4gICAgICogICAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgd2lsbCBmaXJlXG4gICAgICogLy8gd2hlbiBhIGZlYXR1cmUgb24gdGhlIGNvdW50cmllcyBsYXllciBvZiB0aGUgbWFwIGlzIGNsaWNrZWQuXG4gICAgICogbWFwLm9uKCdjbGljaycsICdjb3VudHJpZXMnLCAoZSkgPT4ge1xuICAgICAqICAgICBuZXcgbWFwYm94Z2wuUG9wdXAoKVxuICAgICAqICAgICAgICAgLnNldExuZ0xhdChlLmxuZ0xhdClcbiAgICAgKiAgICAgICAgIC5zZXRIVE1MKGBDb3VudHJ5IG5hbWU6ICR7ZS5mZWF0dXJlc1swXS5wcm9wZXJ0aWVzLm5hbWV9YClcbiAgICAgKiAgICAgICAgIC5hZGRUbyhtYXApO1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgd2lsbCBmaXJlXG4gICAgICogLy8gd2hlbiBhIGZlYXR1cmUgb24gdGhlIGNvdW50cmllcyBvciBiYWNrZ3JvdW5kIGxheWVycyBvZiB0aGUgbWFwIGlzIGNsaWNrZWQuXG4gICAgICogbWFwLm9uKCdjbGljaycsIFsnY291bnRyaWVzJywgJ2JhY2tncm91bmQnXSwgKGUpID0+IHtcbiAgICAgKiAgICAgbmV3IG1hcGJveGdsLlBvcHVwKClcbiAgICAgKiAgICAgICAgIC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gICAgICogICAgICAgICAuc2V0SFRNTChgQ291bnRyeSBuYW1lOiAke2UuZmVhdHVyZXNbMF0ucHJvcGVydGllcy5uYW1lfWApXG4gICAgICogICAgICAgICAuYWRkVG8obWFwKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgM0QgdGVycmFpbiB0byBhIG1hcF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLXRlcnJhaW4vKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IENlbnRlciB0aGUgbWFwIG9uIGEgY2xpY2tlZCBzeW1ib2xdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NlbnRlci1vbi1zeW1ib2wvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IENyZWF0ZSBhIGRyYWdnYWJsZSBtYXJrZXJdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgaG92ZXIgZWZmZWN0XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9ob3Zlci1zdHlsZXMvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IERpc3BsYXkgcG9wdXAgb24gY2xpY2tdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWNsaWNrLylcbiAgICAgKi9cbiAgICBvbih0eXBlOiBNYXBFdmVudCwgbGF5ZXJJZHM6IGFueSwgbGlzdGVuZXI6IGFueSk6IHRoaXMge1xuICAgICAgICBpZiAobGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLm9uKHR5cGUsIGxheWVySWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShsYXllcklkcykpIHtcbiAgICAgICAgICAgIGxheWVySWRzID0gW2xheWVySWRzXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWxlZ2F0ZWRMaXN0ZW5lciA9IHRoaXMuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKHR5cGUsIGxheWVySWRzLCBsaXN0ZW5lcik7XG5cbiAgICAgICAgdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzID0gdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzIHx8IHt9O1xuICAgICAgICB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdHlwZV0gPSB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdHlwZV0gfHwgW107XG4gICAgICAgIHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0eXBlXS5wdXNoKGRlbGVnYXRlZExpc3RlbmVyKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IGluIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlcykge1xuICAgICAgICAgICAgdGhpcy5vbigoZXZlbnQ6IGFueSksIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlc1tldmVudF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBjYWxsZWQgb25seSBvbmNlIHRvIGEgc3BlY2lmaWVkIGV2ZW50IHR5cGUsXG4gICAgICogb3B0aW9uYWxseSBsaW1pdGVkIHRvIGV2ZW50cyBvY2N1cnJpbmcgb24gZmVhdHVyZXMgaW4gYSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yOyBvbmUgb2YgYCdtb3VzZWRvd24nYCwgYCdtb3VzZXVwJ2AsIGAncHJlY2xpY2snYCwgYCdjbGljaydgLCBgJ2RibGNsaWNrJ2AsXG4gICAgICogYCdtb3VzZW1vdmUnYCwgYCdtb3VzZWVudGVyJ2AsIGAnbW91c2VsZWF2ZSdgLCBgJ21vdXNlb3ZlcidgLCBgJ21vdXNlb3V0J2AsIGAnY29udGV4dG1lbnUnYCwgYCd0b3VjaHN0YXJ0J2AsXG4gICAgICogYCd0b3VjaGVuZCdgLCBvciBgJ3RvdWNoY2FuY2VsJ2AuIGBtb3VzZWVudGVyYCBhbmQgYG1vdXNlb3ZlcmAgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgY3Vyc29yIGVudGVyc1xuICAgICAqIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSBzcGVjaWZpZWQgbGF5ZXIgZnJvbSBvdXRzaWRlIHRoYXQgbGF5ZXIgb3Igb3V0c2lkZSB0aGUgbWFwIGNhbnZhcy4gYG1vdXNlbGVhdmVgXG4gICAgICogYW5kIGBtb3VzZW91dGAgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgY3Vyc29yIGxlYXZlcyBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgc3BlY2lmaWVkIGxheWVyLCBvciBsZWF2ZXNcbiAgICAgKiB0aGUgbWFwIGNhbnZhcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IEFycmF5PHN0cmluZz59IGxheWVySWRzIChvcHRpb25hbCkgVGhlIElEKHMpIG9mIGEgc3R5bGUgbGF5ZXIocykuIElmIHlvdSBwcm92aWRlIGBsYXllcklkc2AsXG4gICAgICogdGhlIGxpc3RlbmVyIHdpbGwgYmUgdHJpZ2dlcmVkIG9ubHkgaWYgaXRzIGxvY2F0aW9uIGlzIHdpdGhpbiBhIHZpc2libGUgZmVhdHVyZSBpbiB0aGVzZSBsYXllcnMsXG4gICAgICogYW5kIHRoZSBldmVudCB3aWxsIGhhdmUgYSBgZmVhdHVyZXNgIHByb3BlcnR5IGNvbnRhaW5pbmcgYW4gYXJyYXkgb2YgdGhlIG1hdGNoaW5nIGZlYXR1cmVzLlxuICAgICAqIElmIHlvdSBkbyBub3QgcHJvdmlkZSBgbGF5ZXJJZHNgLCB0aGUgbGlzdGVuZXIgd2lsbCBiZSB0cmlnZ2VyZWQgYnkgYSBjb3JyZXNwb25kaW5nIGV2ZW50XG4gICAgICogaGFwcGVuaW5nIGFueXdoZXJlIG9uIHRoZSBtYXAsIGFuZCB0aGUgZXZlbnQgd2lsbCBub3QgaGF2ZSBhIGBmZWF0dXJlc2AgcHJvcGVydHkuXG4gICAgICogTm90ZSB0aGF0IG1hbnkgZXZlbnQgdHlwZXMgYXJlIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIG9wdGlvbmFsIGBsYXllcklkc2AgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIExvZyB0aGUgY29vcmRpbmF0ZXMgb2YgYSB1c2VyJ3MgZmlyc3QgbWFwIHRvdWNoLlxuICAgICAqIG1hcC5vbmNlKCd0b3VjaHN0YXJ0JywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFRoZSBmaXJzdCBtYXAgdG91Y2ggd2FzIGF0OiAke2UubG5nbGF0fWApO1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gTG9nIHRoZSBjb29yZGluYXRlcyBvZiBhIHVzZXIncyBmaXJzdCBtYXAgdG91Y2hcbiAgICAgKiAvLyBvbiBhIHNwZWNpZmljIGxheWVyLlxuICAgICAqIG1hcC5vbmNlKCd0b3VjaHN0YXJ0JywgJ215LXBvaW50LWxheWVyJywgKGUpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFRoZSBmaXJzdCBtYXAgdG91Y2ggb24gdGhlIHBvaW50IGxheWVyIHdhcyBhdDogJHtlLmxuZ2xhdH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIExvZyB0aGUgY29vcmRpbmF0ZXMgb2YgYSB1c2VyJ3MgZmlyc3QgbWFwIHRvdWNoXG4gICAgICogLy8gb24gc3BlY2lmaWMgbGF5ZXJzLlxuICAgICAqIG1hcC5vbmNlKCd0b3VjaHN0YXJ0JywgWydteS1wb2ludC1sYXllcicsICdteS1wb2ludC1sYXllci0yJ10sIChlKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBUaGUgZmlyc3QgbWFwIHRvdWNoIG9uIHRoZSBwb2ludCBsYXllciB3YXMgYXQ6ICR7ZS5sbmdsYXR9YCk7XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IEFuaW1hdGUgdGhlIGNhbWVyYSBhcm91bmQgYSBwb2ludCB3aXRoIDNEIHRlcnJhaW5dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ZyZWUtY2FtZXJhLXBvaW50LylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBQbGF5IG1hcCBsb2NhdGlvbnMgYXMgYSBzbGlkZXNob3ddKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BsYXliYWNrLWxvY2F0aW9ucy8pXG4gICAgICovXG4gICAgb25jZSh0eXBlOiBNYXBFdmVudCwgbGF5ZXJJZHM6IGFueSwgbGlzdGVuZXI6IGFueSk6IHRoaXMgfCBQcm9taXNlPEV2ZW50PiB7XG5cbiAgICAgICAgaWYgKGxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5vbmNlKHR5cGUsIGxheWVySWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShsYXllcklkcykpIHtcbiAgICAgICAgICAgIGxheWVySWRzID0gW2xheWVySWRzXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWxlZ2F0ZWRMaXN0ZW5lciA9IHRoaXMuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKHR5cGUsIGxheWVySWRzLCBsaXN0ZW5lcik7XG5cbiAgICAgICAgZm9yIChjb25zdCBldmVudCBpbiBkZWxlZ2F0ZWRMaXN0ZW5lci5kZWxlZ2F0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMub25jZSgoZXZlbnQ6IGFueSksIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlc1tldmVudF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBwcmV2aW91c2x5IGFkZGVkIHdpdGgge0BsaW5rIE1hcCNvbn0sXG4gICAgICogb3B0aW9uYWxseSBsaW1pdGVkIHRvIGxheWVyLXNwZWNpZmljIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlIHByZXZpb3VzbHkgdXNlZCB0byBpbnN0YWxsIHRoZSBsaXN0ZW5lci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IEFycmF5PHN0cmluZz59IGxheWVySWRzIChvcHRpb25hbCkgVGhlIGxheWVyIElEKHMpIHByZXZpb3VzbHkgdXNlZCB0byBpbnN0YWxsIHRoZSBsaXN0ZW5lci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgZnVuY3Rpb24gcHJldmlvdXNseSBpbnN0YWxsZWQgYXMgYSBsaXN0ZW5lci5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgZnVuY3Rpb24gdG8gcHJpbnQgY29vcmRpbmF0ZXMgd2hpbGUgYSBtb3VzZSBpcyBtb3ZpbmcuXG4gICAgICogZnVuY3Rpb24gb25Nb3ZlKGUpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFRoZSBtb3VzZSBpcyBtb3Zpbmc6ICR7ZS5sbmdMYXR9YCk7XG4gICAgICogfVxuICAgICAqIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIHRvIHVuYmluZCB0aGUgYG1vdXNlbW92ZWAgZXZlbnQuXG4gICAgICogZnVuY3Rpb24gb25VcChlKSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBUaGUgZmluYWwgY29vcmRpbmF0ZXMgYXJlOiAke2UubG5nTGF0fWApO1xuICAgICAqICAgICBtYXAub2ZmKCdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgICAqIH1cbiAgICAgKiAvLyBXaGVuIGEgY2xpY2sgb2NjdXJzLCBiaW5kIGJvdGggZnVuY3Rpb25zIHRvIG1vdXNlIGV2ZW50cy5cbiAgICAgKiBtYXAub24oJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICogICAgIG1hcC5vbignbW91c2Vtb3ZlJywgb25Nb3ZlKTtcbiAgICAgKiAgICAgbWFwLm9uY2UoJ21vdXNldXAnLCBvblVwKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYSBkcmFnZ2FibGUgcG9pbnRdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICovXG4gICAgb2ZmKHR5cGU6IE1hcEV2ZW50LCBsYXllcklkczogYW55LCBsaXN0ZW5lcjogYW55KTogdGhpcyB7XG4gICAgICAgIGlmIChsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIub2ZmKHR5cGUsIGxheWVySWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxheWVySWRzID0gbmV3IFNldChBcnJheS5pc0FycmF5KGxheWVySWRzKSA/IGxheWVySWRzIDogW2xheWVySWRzXSk7XG4gICAgICAgIGNvbnN0IGFyZUxheWVyQXJyYXlzRXF1YWwgPSAoaGFzaDEsIGhhc2gyKSA9PiB7XG4gICAgICAgICAgICBpZiAoaGFzaDEuc2l6ZSAhPT0gaGFzaDIuc2l6ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gYXQtbGVhc3QgMSBhcnIgaGFzIGR1cGxpY2F0ZSB2YWx1ZShzKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb21wYXJpbmcgdmFsdWVzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGhhc2gxKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNoMi5oYXModmFsdWUpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZW1vdmVEZWxlZ2F0ZWRMaXN0ZW5lcnMgPSAobGlzdGVuZXJzOiBBcnJheTxhbnk+KSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGVnYXRlZExpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZWRMaXN0ZW5lci5saXN0ZW5lciA9PT0gbGlzdGVuZXIgJiYgYXJlTGF5ZXJBcnJheXNFcXVhbChkZWxlZ2F0ZWRMaXN0ZW5lci5sYXllcnMsIGxheWVySWRzKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IGluIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmYoKGV2ZW50OiBhbnkpLCBkZWxlZ2F0ZWRMaXN0ZW5lci5kZWxlZ2F0ZXNbZXZlbnRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZGVsZWdhdGVkTGlzdGVuZXJzID0gdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzID8gdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3R5cGVdIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoZGVsZWdhdGVkTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZW1vdmVEZWxlZ2F0ZWRMaXN0ZW5lcnMoZGVsZWdhdGVkTGlzdGVuZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKiBAc2VjdGlvbiB7UXVlcnlpbmcgZmVhdHVyZXN9ICovXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIFtHZW9KU09OXShodHRwOi8vZ2VvanNvbi5vcmcvKVxuICAgICAqIFtGZWF0dXJlIG9iamVjdHNdKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3OTQ2I3NlY3Rpb24tMy4yKVxuICAgICAqIHJlcHJlc2VudGluZyB2aXNpYmxlIGZlYXR1cmVzIHRoYXQgc2F0aXNmeSB0aGUgcXVlcnkgcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UG9pbnRMaWtlfEFycmF5PFBvaW50TGlrZT59IFtnZW9tZXRyeV0gLSBUaGUgZ2VvbWV0cnkgb2YgdGhlIHF1ZXJ5IHJlZ2lvbiBpbiBwaXhlbHM6XG4gICAgICogZWl0aGVyIGEgc2luZ2xlIHBvaW50IG9yIGJvdHRvbSBsZWZ0IGFuZCB0b3AgcmlnaHQgcG9pbnRzIGRlc2NyaWJpbmcgYSBib3VuZGluZyBib3gsIHdoZXJlIHRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcCBsZWZ0LlxuICAgICAqIE9taXR0aW5nIHRoaXMgcGFyYW1ldGVyIChieSBjYWxsaW5nIHtAbGluayBNYXAjcXVlcnlSZW5kZXJlZEZlYXR1cmVzfSB3aXRoIHplcm8gYXJndW1lbnRzLFxuICAgICAqIG9yIHdpdGggb25seSBhbiBgb3B0aW9uc2AgYXJndW1lbnQpIGlzIGVxdWl2YWxlbnQgdG8gcGFzc2luZyBhIGJvdW5kaW5nIGJveCBlbmNvbXBhc3NpbmcgdGhlIGVudGlyZVxuICAgICAqIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBPbmx5IHZhbHVlcyB3aXRoaW4gdGhlIGV4aXN0aW5nIHZpZXdwb3J0IGFyZSBzdXBwb3J0ZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtvcHRpb25zLmxheWVyc10gQW4gYXJyYXkgb2YgW3N0eWxlIGxheWVyIElEc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvI2xheWVyLWlkKSBmb3IgdGhlIHF1ZXJ5IHRvIGluc3BlY3QuXG4gICAgICogICBPbmx5IGZlYXR1cmVzIHdpdGhpbiB0aGVzZSBsYXllcnMgd2lsbCBiZSByZXR1cm5lZC4gSWYgdGhpcyBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkLCBhbGwgbGF5ZXJzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5maWx0ZXJdIEEgW2ZpbHRlcl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvbGF5ZXJzLyNmaWx0ZXIpXG4gICAgICogICB0byBsaW1pdCBxdWVyeSByZXN1bHRzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudmFsaWRhdGU9dHJ1ZV0gV2hldGhlciB0byBjaGVjayBpZiB0aGUgW29wdGlvbnMuZmlsdGVyXSBjb25mb3JtcyB0byB0aGUgTWFwYm94IEdMIFN0eWxlIFNwZWNpZmljYXRpb24uIERpc2FibGluZyB2YWxpZGF0aW9uIGlzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRoYXQgc2hvdWxkIG9ubHkgYmUgdXNlZCBpZiB5b3UgaGF2ZSBwcmV2aW91c2x5IHZhbGlkYXRlZCB0aGUgdmFsdWVzIHlvdSB3aWxsIGJlIHBhc3NpbmcgdG8gdGhpcyBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fSBBbiBhcnJheSBvZiBbR2VvSlNPTl0oaHR0cDovL2dlb2pzb24ub3JnLylcbiAgICAgKiBbZmVhdHVyZSBvYmplY3RzXShodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzk0NiNzZWN0aW9uLTMuMikuXG4gICAgICpcbiAgICAgKiBUaGUgYHByb3BlcnRpZXNgIHZhbHVlIG9mIGVhY2ggcmV0dXJuZWQgZmVhdHVyZSBvYmplY3QgY29udGFpbnMgdGhlIHByb3BlcnRpZXMgb2YgaXRzIHNvdXJjZSBmZWF0dXJlLiBGb3IgR2VvSlNPTiBzb3VyY2VzLCBvbmx5XG4gICAgICogc3RyaW5nIGFuZCBudW1lcmljIHByb3BlcnR5IHZhbHVlcyBhcmUgc3VwcG9ydGVkLiBgbnVsbGAsIGBBcnJheWAsIGFuZCBgT2JqZWN0YCB2YWx1ZXMgYXJlIG5vdCBzdXBwb3J0ZWQuXG4gICAgICpcbiAgICAgKiBFYWNoIGZlYXR1cmUgaW5jbHVkZXMgdG9wLWxldmVsIGBsYXllcmAsIGBzb3VyY2VgLCBhbmQgYHNvdXJjZUxheWVyYCBwcm9wZXJ0aWVzLiBUaGUgYGxheWVyYCBwcm9wZXJ0eSBpcyBhbiBvYmplY3RcbiAgICAgKiByZXByZXNlbnRpbmcgdGhlIHN0eWxlIGxheWVyIHRvICB3aGljaCB0aGUgZmVhdHVyZSBiZWxvbmdzLiBMYXlvdXQgYW5kIHBhaW50IHByb3BlcnRpZXMgaW4gdGhpcyBvYmplY3QgY29udGFpbiB2YWx1ZXNcbiAgICAgKiB3aGljaCBhcmUgZnVsbHkgZXZhbHVhdGVkIGZvciB0aGUgZ2l2ZW4gem9vbSBsZXZlbCBhbmQgZmVhdHVyZS5cbiAgICAgKlxuICAgICAqIE9ubHkgZmVhdHVyZXMgdGhhdCBhcmUgY3VycmVudGx5IHJlbmRlcmVkIGFyZSBpbmNsdWRlZC4gU29tZSBmZWF0dXJlcyB3aWxsICoqbm90KiogYmUgaW5jbHVkZWQsIGxpa2U6XG4gICAgICpcbiAgICAgKiAtIEZlYXR1cmVzIGZyb20gbGF5ZXJzIHdob3NlIGB2aXNpYmlsaXR5YCBwcm9wZXJ0eSBpcyBgXCJub25lXCJgLlxuICAgICAqIC0gRmVhdHVyZXMgZnJvbSBsYXllcnMgd2hvc2Ugem9vbSByYW5nZSBleGNsdWRlcyB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqIC0gU3ltYm9sIGZlYXR1cmVzIHRoYXQgaGF2ZSBiZWVuIGhpZGRlbiBkdWUgdG8gdGV4dCBvciBpY29uIGNvbGxpc2lvbi5cbiAgICAgKlxuICAgICAqIEZlYXR1cmVzIGZyb20gYWxsIG90aGVyIGxheWVycyBhcmUgaW5jbHVkZWQsIGluY2x1ZGluZyBmZWF0dXJlcyB0aGF0IG1heSBoYXZlIG5vIHZpc2libGVcbiAgICAgKiBjb250cmlidXRpb24gdG8gdGhlIHJlbmRlcmVkIHJlc3VsdDsgZm9yIGV4YW1wbGUsIGJlY2F1c2UgdGhlIGxheWVyJ3Mgb3BhY2l0eSBvciBjb2xvciBhbHBoYSBjb21wb25lbnQgaXMgc2V0IHRvXG4gICAgICogMC5cbiAgICAgKlxuICAgICAqIFRoZSB0b3Btb3N0IHJlbmRlcmVkIGZlYXR1cmUgYXBwZWFycyBmaXJzdCBpbiB0aGUgcmV0dXJuZWQgYXJyYXksIGFuZCBzdWJzZXF1ZW50IGZlYXR1cmVzIGFyZSBzb3J0ZWQgYnlcbiAgICAgKiBkZXNjZW5kaW5nIHotb3JkZXIuIEZlYXR1cmVzIHRoYXQgYXJlIHJlbmRlcmVkIG11bHRpcGxlIHRpbWVzIChkdWUgdG8gd3JhcHBpbmcgYWNyb3NzIHRoZSBhbnRpbWVyaWRpYW4gYXQgbG93XG4gICAgICogem9vbSBsZXZlbHMpIGFyZSByZXR1cm5lZCBvbmx5IG9uY2UgKHRob3VnaCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY2F2ZWF0KS5cbiAgICAgKlxuICAgICAqIEJlY2F1c2UgZmVhdHVyZXMgY29tZSBmcm9tIHRpbGVkIHZlY3RvciBkYXRhIG9yIEdlb0pTT04gZGF0YSB0aGF0IGlzIGNvbnZlcnRlZCB0byB0aWxlcyBpbnRlcm5hbGx5LCBmZWF0dXJlXG4gICAgICogZ2VvbWV0cmllcyBtYXkgYmUgc3BsaXQgb3IgZHVwbGljYXRlZCBhY3Jvc3MgdGlsZSBib3VuZGFyaWVzIGFuZCwgYXMgYSByZXN1bHQsIGZlYXR1cmVzIG1heSBhcHBlYXIgbXVsdGlwbGVcbiAgICAgKiB0aW1lcyBpbiBxdWVyeSByZXN1bHRzLiBGb3IgZXhhbXBsZSwgc3VwcG9zZSB0aGVyZSBpcyBhIGhpZ2h3YXkgcnVubmluZyB0aHJvdWdoIHRoZSBib3VuZGluZyByZWN0YW5nbGUgb2YgYSBxdWVyeS5cbiAgICAgKiBUaGUgcmVzdWx0cyBvZiB0aGUgcXVlcnkgd2lsbCBiZSB0aG9zZSBwYXJ0cyBvZiB0aGUgaGlnaHdheSB0aGF0IGxpZSB3aXRoaW4gdGhlIG1hcCB0aWxlcyBjb3ZlcmluZyB0aGUgYm91bmRpbmdcbiAgICAgKiByZWN0YW5nbGUsIGV2ZW4gaWYgdGhlIGhpZ2h3YXkgZXh0ZW5kcyBpbnRvIG90aGVyIHRpbGVzLCBhbmQgdGhlIHBvcnRpb24gb2YgdGhlIGhpZ2h3YXkgd2l0aGluIGVhY2ggbWFwIHRpbGVcbiAgICAgKiB3aWxsIGJlIHJldHVybmVkIGFzIGEgc2VwYXJhdGUgZmVhdHVyZS4gU2ltaWxhcmx5LCBhIHBvaW50IGZlYXR1cmUgbmVhciBhIHRpbGUgYm91bmRhcnkgbWF5IGFwcGVhciBpbiBtdWx0aXBsZVxuICAgICAqIHRpbGVzIGR1ZSB0byB0aWxlIGJ1ZmZlcmluZy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRmluZCBhbGwgZmVhdHVyZXMgYXQgYSBwb2ludFxuICAgICAqIGNvbnN0IGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgKiAgIFsyMCwgMzVdLFxuICAgICAqICAge2xheWVyczogWydteS1sYXllci1uYW1lJ119XG4gICAgICogKTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRmluZCBhbGwgZmVhdHVyZXMgd2l0aGluIGEgc3RhdGljIGJvdW5kaW5nIGJveFxuICAgICAqIGNvbnN0IGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgKiAgIFtbMTAsIDIwXSwgWzMwLCA1MF1dLFxuICAgICAqICAge2xheWVyczogWydteS1sYXllci1uYW1lJ119XG4gICAgICogKTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRmluZCBhbGwgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94IGFyb3VuZCBhIHBvaW50XG4gICAgICogY29uc3Qgd2lkdGggPSAxMDtcbiAgICAgKiBjb25zdCBoZWlnaHQgPSAyMDtcbiAgICAgKiBjb25zdCBmZWF0dXJlcyA9IG1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoW1xuICAgICAqICAgICBbcG9pbnQueCAtIHdpZHRoIC8gMiwgcG9pbnQueSAtIGhlaWdodCAvIDJdLFxuICAgICAqICAgICBbcG9pbnQueCArIHdpZHRoIC8gMiwgcG9pbnQueSArIGhlaWdodCAvIDJdXG4gICAgICogXSwge2xheWVyczogWydteS1sYXllci1uYW1lJ119KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gUXVlcnkgYWxsIHJlbmRlcmVkIGZlYXR1cmVzIGZyb20gYSBzaW5nbGUgbGF5ZXJcbiAgICAgKiBjb25zdCBmZWF0dXJlcyA9IG1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoe2xheWVyczogWydteS1sYXllci1uYW1lJ119KTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBHZXQgZmVhdHVyZXMgdW5kZXIgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBIaWdobGlnaHQgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3VzaW5nLWJveC1xdWVyeXJlbmRlcmVkZmVhdHVyZXMvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IEZpbHRlciBmZWF0dXJlcyB3aXRoaW4gbWFwIHZpZXddKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLWZlYXR1cmVzLXdpdGhpbi1tYXAtdmlldy8pXG4gICAgICovXG4gICAgcXVlcnlSZW5kZXJlZEZlYXR1cmVzKGdlb21ldHJ5PzogUG9pbnRMaWtlIHwgW1BvaW50TGlrZSwgUG9pbnRMaWtlXSwgb3B0aW9ucz86IE9iamVjdCk6IEFycmF5PFF1ZXJ5UmVzdWx0PiB7XG4gICAgICAgIC8vIFRoZSBmaXJzdCBwYXJhbWV0ZXIgY2FuIGJlIG9taXR0ZWQgZW50aXJlbHksIG1ha2luZyB0aGlzIGVmZmVjdGl2ZWx5IGFuIG92ZXJsb2FkZWQgbWV0aG9kXG4gICAgICAgIC8vIHdpdGggdHdvIHNpZ25hdHVyZXM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICBxdWVyeVJlbmRlcmVkRmVhdHVyZXMoZ2VvbWV0cnk6IFBvaW50TGlrZSB8IFtQb2ludExpa2UsIFBvaW50TGlrZV0sIG9wdGlvbnM/OiBPYmplY3QpXG4gICAgICAgIC8vICAgICBxdWVyeVJlbmRlcmVkRmVhdHVyZXMob3B0aW9ucz86IE9iamVjdClcbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlcmUgbm8gd2F5IHRvIGV4cHJlc3MgdGhhdCBpbiBhIHdheSB0aGF0J3MgY29tcGF0aWJsZSB3aXRoIGJvdGggZmxvdyBhbmQgZG9jdW1lbnRhdGlvbi5qcy5cbiAgICAgICAgLy8gUmVsYXRlZDogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzE1NTZcblxuICAgICAgICBpZiAoIXRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zID09PSB1bmRlZmluZWQgJiYgZ2VvbWV0cnkgIT09IHVuZGVmaW5lZCAmJiAhKGdlb21ldHJ5IGluc3RhbmNlb2YgUG9pbnQpICYmICFBcnJheS5pc0FycmF5KGdlb21ldHJ5KSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IChnZW9tZXRyeTogT2JqZWN0KTtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cnkgfHwgWyhbMCwgMF06IFBvaW50TGlrZSksIChbdGhpcy50cmFuc2Zvcm0ud2lkdGgsIHRoaXMudHJhbnNmb3JtLmhlaWdodF06IFBvaW50TGlrZSldO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhnZW9tZXRyeSwgb3B0aW9ucywgdGhpcy50cmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgW0dlb0pTT05dKGh0dHA6Ly9nZW9qc29uLm9yZy8pXG4gICAgICogW0ZlYXR1cmUgb2JqZWN0c10oaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzc5NDYjc2VjdGlvbi0zLjIpXG4gICAgICogcmVwcmVzZW50aW5nIGZlYXR1cmVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHZlY3RvciB0aWxlIG9yIEdlb0pTT04gc291cmNlIHRoYXQgc2F0aXNmeSB0aGUgcXVlcnkgcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VJZCBUaGUgSUQgb2YgdGhlIHZlY3RvciB0aWxlIG9yIEdlb0pTT04gc291cmNlIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1ldGVyc10gT3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYXJhbWV0ZXJzLnNvdXJjZUxheWVyXSBUaGUgbmFtZSBvZiB0aGUgW3NvdXJjZSBsYXllcl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9zb3VyY2UtbGF5ZXIvKVxuICAgICAqICAgdG8gcXVlcnkuICpGb3IgdmVjdG9yIHRpbGUgc291cmNlcywgdGhpcyBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQuKiBGb3IgR2VvSlNPTiBzb3VyY2VzLCBpdCBpcyBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJhbWV0ZXJzLmZpbHRlcl0gQSBbZmlsdGVyXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy9sYXllcnMvI2ZpbHRlcilcbiAgICAgKiAgIHRvIGxpbWl0IHF1ZXJ5IHJlc3VsdHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcGFyYW1ldGVycy52YWxpZGF0ZT10cnVlXSBXaGV0aGVyIHRvIGNoZWNrIGlmIHRoZSBbcGFyYW1ldGVycy5maWx0ZXJdIGNvbmZvcm1zIHRvIHRoZSBNYXBib3ggR0wgU3R5bGUgU3BlY2lmaWNhdGlvbi4gRGlzYWJsaW5nIHZhbGlkYXRpb24gaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdGhhdCBzaG91bGQgb25seSBiZSB1c2VkIGlmIHlvdSBoYXZlIHByZXZpb3VzbHkgdmFsaWRhdGVkIHRoZSB2YWx1ZXMgeW91IHdpbGwgYmUgcGFzc2luZyB0byB0aGlzIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5PE9iamVjdD59IEFuIGFycmF5IG9mIFtHZW9KU09OXShodHRwOi8vZ2VvanNvbi5vcmcvKVxuICAgICAqIFtGZWF0dXJlIG9iamVjdHNdKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3OTQ2I3NlY3Rpb24tMy4yKS5cbiAgICAgKlxuICAgICAqIEluIGNvbnRyYXN0IHRvIHtAbGluayBNYXAjcXVlcnlSZW5kZXJlZEZlYXR1cmVzfSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIGFsbCBmZWF0dXJlcyBtYXRjaGluZyB0aGUgcXVlcnkgcGFyYW1ldGVycyxcbiAgICAgKiB3aGV0aGVyIG9yIG5vdCB0aGV5IGFyZSByZW5kZXJlZCBieSB0aGUgY3VycmVudCBzdHlsZSAoaW4gb3RoZXIgd29yZHMsIGFyZSB2aXNpYmxlKS4gVGhlIGRvbWFpbiBvZiB0aGUgcXVlcnkgaW5jbHVkZXMgYWxsIGN1cnJlbnRseS1sb2FkZWRcbiAgICAgKiB2ZWN0b3IgdGlsZXMgYW5kIEdlb0pTT04gc291cmNlIHRpbGVzOiB0aGlzIGZ1bmN0aW9uIGRvZXMgbm90IGNoZWNrIHRpbGVzIG91dHNpZGUgdGhlIGN1cnJlbnRseVxuICAgICAqIHZpc2libGUgdmlld3BvcnQuXG4gICAgICpcbiAgICAgKiBCZWNhdXNlIGZlYXR1cmVzIGNvbWUgZnJvbSB0aWxlZCB2ZWN0b3IgZGF0YSBvciBHZW9KU09OIGRhdGEgdGhhdCBpcyBjb252ZXJ0ZWQgdG8gdGlsZXMgaW50ZXJuYWxseSwgZmVhdHVyZVxuICAgICAqIGdlb21ldHJpZXMgbWF5IGJlIHNwbGl0IG9yIGR1cGxpY2F0ZWQgYWNyb3NzIHRpbGUgYm91bmRhcmllcyBhbmQsIGFzIGEgcmVzdWx0LCBmZWF0dXJlcyBtYXkgYXBwZWFyIG11bHRpcGxlXG4gICAgICogdGltZXMgaW4gcXVlcnkgcmVzdWx0cy4gRm9yIGV4YW1wbGUsIHN1cHBvc2UgdGhlcmUgaXMgYSBoaWdod2F5IHJ1bm5pbmcgdGhyb3VnaCB0aGUgYm91bmRpbmcgcmVjdGFuZ2xlIG9mIGEgcXVlcnkuXG4gICAgICogVGhlIHJlc3VsdHMgb2YgdGhlIHF1ZXJ5IHdpbGwgYmUgdGhvc2UgcGFydHMgb2YgdGhlIGhpZ2h3YXkgdGhhdCBsaWUgd2l0aGluIHRoZSBtYXAgdGlsZXMgY292ZXJpbmcgdGhlIGJvdW5kaW5nXG4gICAgICogcmVjdGFuZ2xlLCBldmVuIGlmIHRoZSBoaWdod2F5IGV4dGVuZHMgaW50byBvdGhlciB0aWxlcywgYW5kIHRoZSBwb3J0aW9uIG9mIHRoZSBoaWdod2F5IHdpdGhpbiBlYWNoIG1hcCB0aWxlXG4gICAgICogd2lsbCBiZSByZXR1cm5lZCBhcyBhIHNlcGFyYXRlIGZlYXR1cmUuIFNpbWlsYXJseSwgYSBwb2ludCBmZWF0dXJlIG5lYXIgYSB0aWxlIGJvdW5kYXJ5IG1heSBhcHBlYXIgaW4gbXVsdGlwbGVcbiAgICAgKiB0aWxlcyBkdWUgdG8gdGlsZSBidWZmZXJpbmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEZpbmQgYWxsIGZlYXR1cmVzIGluIG9uZSBzb3VyY2UgbGF5ZXIgaW4gYSB2ZWN0b3Igc291cmNlXG4gICAgICogY29uc3QgZmVhdHVyZXMgPSBtYXAucXVlcnlTb3VyY2VGZWF0dXJlcygneW91ci1zb3VyY2UtaWQnLCB7XG4gICAgICogICAgIHNvdXJjZUxheWVyOiAneW91ci1zb3VyY2UtbGF5ZXInXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBIaWdobGlnaHQgZmVhdHVyZXMgY29udGFpbmluZyBzaW1pbGFyIGRhdGFdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcXVlcnktc2ltaWxhci1mZWF0dXJlcy8pXG4gICAgICovXG4gICAgcXVlcnlTb3VyY2VGZWF0dXJlcyhzb3VyY2VJZDogc3RyaW5nLCBwYXJhbWV0ZXJzOiA/e3NvdXJjZUxheWVyOiA/c3RyaW5nLCBmaWx0ZXI6ID9BcnJheTxhbnk+LCB2YWxpZGF0ZT86IGJvb2xlYW59KTogQXJyYXk8UXVlcnlGZWF0dXJlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlSWQsIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIC8qKiBAc2VjdGlvbiB7V29ya2luZyB3aXRoIHN0eWxlc30gKi9cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG1hcCdzIE1hcGJveCBzdHlsZSBvYmplY3Qgd2l0aCBhIG5ldyB2YWx1ZS5cbiAgICAgKlxuICAgICAqIElmIGEgc3R5bGUgaXMgYWxyZWFkeSBzZXQgd2hlbiB0aGlzIGlzIHVzZWQgYW5kIHRoZSBgZGlmZmAgb3B0aW9uIGlzIHNldCB0byBgdHJ1ZWAsIHRoZSBtYXAgcmVuZGVyZXIgd2lsbCBhdHRlbXB0IHRvIGNvbXBhcmUgdGhlIGdpdmVuIHN0eWxlXG4gICAgICogYWdhaW5zdCB0aGUgbWFwJ3MgY3VycmVudCBzdGF0ZSBhbmQgcGVyZm9ybSBvbmx5IHRoZSBjaGFuZ2VzIG5lY2Vzc2FyeSB0byBtYWtlIHRoZSBtYXAgc3R5bGUgbWF0Y2ggdGhlIGRlc2lyZWQgc3RhdGUuIENoYW5nZXMgaW4gc3ByaXRlc1xuICAgICAqIChpbWFnZXMgdXNlZCBmb3IgaWNvbnMgYW5kIHBhdHRlcm5zKSBhbmQgZ2x5cGhzIChmb250cyBmb3IgbGFiZWwgdGV4dCkgKipjYW5ub3QqKiBiZSBkaWZmZWQuIElmIHRoZSBzcHJpdGVzIG9yIGZvbnRzIHVzZWQgaW4gdGhlIGN1cnJlbnRcbiAgICAgKiBzdHlsZSBhbmQgdGhlIGdpdmVuIHN0eWxlIGFyZSBkaWZmZXJlbnQgaW4gYW55IHdheSwgdGhlIG1hcCByZW5kZXJlciB3aWxsIGZvcmNlIGEgZnVsbCB1cGRhdGUsIHJlbW92aW5nIHRoZSBjdXJyZW50IHN0eWxlIGFuZCBidWlsZGluZ1xuICAgICAqIHRoZSBnaXZlbiBvbmUgZnJvbSBzY3JhdGNoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBzdHJpbmd8IG51bGx9IHN0eWxlIEEgSlNPTiBvYmplY3QgY29uZm9ybWluZyB0byB0aGUgc2NoZW1hIGRlc2NyaWJlZCBpbiB0aGVcbiAgICAgKiAgIFtNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyksIG9yIGEgVVJMIHRvIHN1Y2ggSlNPTi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZGlmZj10cnVlXSBJZiBmYWxzZSwgZm9yY2UgYSAnZnVsbCcgdXBkYXRlLCByZW1vdmluZyB0aGUgY3VycmVudCBzdHlsZVxuICAgICAqICAgYW5kIGJ1aWxkaW5nIHRoZSBnaXZlbiBvbmUgaW5zdGVhZCBvZiBhdHRlbXB0aW5nIGEgZGlmZi1iYXNlZCB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT0nc2Fucy1zZXJpZiddIERlZmluZXMgYSBDU1NcbiAgICAgKiAgIGZvbnQtZmFtaWx5IGZvciBsb2NhbGx5IG92ZXJyaWRpbmcgZ2VuZXJhdGlvbiBvZiBnbHlwaHMgaW4gdGhlICdDSksgVW5pZmllZCBJZGVvZ3JhcGhzJywgJ0hpcmFnYW5hJywgJ0thdGFrYW5hJyBhbmQgJ0hhbmd1bCBTeWxsYWJsZXMnIHJhbmdlcy5cbiAgICAgKiAgIEluIHRoZXNlIHJhbmdlcywgZm9udCBzZXR0aW5ncyBmcm9tIHRoZSBtYXAncyBzdHlsZSB3aWxsIGJlIGlnbm9yZWQsIGV4Y2VwdCBmb3IgZm9udC13ZWlnaHQga2V5d29yZHMgKGxpZ2h0L3JlZ3VsYXIvbWVkaXVtL2JvbGQpLlxuICAgICAqICAgU2V0IHRvIGBmYWxzZWAsIHRvIGVuYWJsZSBmb250IHNldHRpbmdzIGZyb20gdGhlIG1hcCdzIHN0eWxlIGZvciB0aGVzZSBnbHlwaCByYW5nZXMuXG4gICAgICogICBGb3JjZXMgYSBmdWxsIHVwZGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0U3R5bGUoXCJtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjExXCIpO1xuICAgICAqXG4gICAgICogQHNlZSBbRXhhbXBsZTogQ2hhbmdlIGEgbWFwJ3Mgc3R5bGVdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2V0c3R5bGUvKVxuICAgICAqL1xuICAgIHNldFN0eWxlKHN0eWxlOiBTdHlsZVNwZWNpZmljYXRpb24gfCBzdHJpbmcgfCBudWxsLCBvcHRpb25zPzoge2RpZmY/OiBib29sZWFufSAmIFN0eWxlT3B0aW9ucyk6IHRoaXMge1xuICAgICAgICBvcHRpb25zID0gZXh0ZW5kKHt9LCB7bG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiB0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksIGxvY2FsRm9udEZhbWlseTogdGhpcy5fbG9jYWxGb250RmFtaWx5fSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKChvcHRpb25zLmRpZmYgIT09IGZhbHNlICYmXG4gICAgICAgICAgICBvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSA9PT0gdGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5ICYmXG4gICAgICAgICAgICBvcHRpb25zLmxvY2FsRm9udEZhbWlseSA9PT0gdGhpcy5fbG9jYWxGb250RmFtaWx5KSAmJiB0aGlzLnN0eWxlICYmIHN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLl9kaWZmU3R5bGUoc3R5bGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHkgPSBvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsRm9udEZhbWlseSA9IG9wdGlvbnMubG9jYWxGb250RmFtaWx5O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZVN0eWxlKHN0eWxlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRVSVN0cmluZyhrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHN0ciA9IHRoaXMuX2xvY2FsZVtrZXldO1xuICAgICAgICBpZiAoc3RyID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBVSSBzdHJpbmcgJyR7a2V5fSdgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVN0eWxlKHN0eWxlOiBTdHlsZVNwZWNpZmljYXRpb24gfCBzdHJpbmcgfCBudWxsLCAgb3B0aW9ucz86IHtkaWZmPzogYm9vbGVhbn0gJiBTdHlsZU9wdGlvbnMpOiB0aGlzIHtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudChudWxsKTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuX3JlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5zdHlsZSA9ICh1bmRlZmluZWQ6IGFueSk7IC8vIHdlIGxhenktaW5pdCBpdCBzbyBpdCdzIG5ldmVyIHVuZGVmaW5lZCB3aGVuIGFjY2Vzc2VkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUgPSBuZXcgU3R5bGUodGhpcywgb3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcywge3N0eWxlOiB0aGlzLnN0eWxlfSk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5sb2FkVVJMKHN0eWxlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5sb2FkSlNPTihzdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlVGVycmFpbigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfbGF6eUluaXRFbXB0eVN0eWxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUgPSBuZXcgU3R5bGUodGhpcywge30pO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KHRoaXMsIHtzdHlsZTogdGhpcy5zdHlsZX0pO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5sb2FkRW1wdHkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kaWZmU3R5bGUoc3R5bGU6IFN0eWxlU3BlY2lmaWNhdGlvbiB8IHN0cmluZywgIG9wdGlvbnM/OiB7ZGlmZj86IGJvb2xlYW59ICYgU3R5bGVPcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSB0aGlzLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTChzdHlsZSk7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh1cmwsIFJlc291cmNlVHlwZS5TdHlsZSk7XG4gICAgICAgICAgICBnZXRKU09OKHJlcXVlc3QsIChlcnJvcjogP0Vycm9yLCBqc29uOiA/T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnJvcikpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoanNvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVEaWZmKGpzb24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZURpZmYoc3R5bGUsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZURpZmYoc3R5bGU6IFN0eWxlU3BlY2lmaWNhdGlvbiwgIG9wdGlvbnM/OiB7ZGlmZj86IGJvb2xlYW59ICYgU3R5bGVPcHRpb25zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZS5zZXRTdGF0ZShzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcGVyZm9ybSBzdHlsZSBkaWZmOiAke2UubWVzc2FnZSB8fCBlLmVycm9yIHx8IGV9LiAgUmVidWlsZGluZyB0aGUgc3R5bGUgZnJvbSBzY3JhdGNoLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdHlsZShzdHlsZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBNYXBib3ggW3N0eWxlXShodHRwczovL2RvY3MubWFwYm94LmNvbS9oZWxwL2dsb3NzYXJ5L3N0eWxlLykgb2JqZWN0LCBhIEpTT04gb2JqZWN0IHdoaWNoIGNhbiBiZSB1c2VkIHRvIHJlY3JlYXRlIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBtYXAncyBzdHlsZSBKU09OIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLm9uKCdsb2FkJywgKCkgPT4ge1xuICAgICAqICAgICBjb25zdCBzdHlsZUpzb24gPSBtYXAuZ2V0U3R5bGUoKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqL1xuICAgIGdldFN0eWxlKCk6ID9TdHlsZVNwZWNpZmljYXRpb24ge1xuICAgICAgICBpZiAodGhpcy5zdHlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuc2VyaWFsaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCdzIHN0eWxlIGlzIGZ1bGx5IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBzdHlsZSBpcyBmdWxseSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHN0eWxlTG9hZFN0YXR1cyA9IG1hcC5pc1N0eWxlTG9hZGVkKCk7XG4gICAgICovXG4gICAgaXNTdHlsZUxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0eWxlKSB7XG4gICAgICAgICAgICB3YXJuT25jZSgnVGhlcmUgaXMgbm8gc3R5bGUgYWRkZWQgdG8gdGhlIG1hcC4nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5sb2FkZWQoKTtcbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge1NvdXJjZXN9ICovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgc291cmNlIHRvIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIHNvdXJjZSB0byBhZGQuIE11c3Qgbm90IGNvbmZsaWN0IHdpdGggZXhpc3Rpbmcgc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LCBjb25mb3JtaW5nIHRvIHRoZVxuICAgICAqIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uJ3MgW3NvdXJjZSBkZWZpbml0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzKSBvclxuICAgICAqIHtAbGluayBDYW52YXNTb3VyY2VPcHRpb25zfS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmFkZFNvdXJjZSgnbXktZGF0YScsIHtcbiAgICAgKiAgICAgdHlwZTogJ3ZlY3RvcicsXG4gICAgICogICAgIHVybDogJ21hcGJveDovL215dXNlcm5hbWUudGlsZXNldGlkJ1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmFkZFNvdXJjZSgnbXktZGF0YScsIHtcbiAgICAgKiAgICAgXCJ0eXBlXCI6IFwiZ2VvanNvblwiLFxuICAgICAqICAgICBcImRhdGFcIjoge1xuICAgICAqICAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICAgICAqICAgICAgICAgXCJnZW9tZXRyeVwiOiB7XG4gICAgICogICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUG9pbnRcIixcbiAgICAgKiAgICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6IFstNzcuMDMyMywgMzguOTEzMV1cbiAgICAgKiAgICAgICAgIH0sXG4gICAgICogICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAqICAgICAgICAgICAgIFwidGl0bGVcIjogXCJNYXBib3ggRENcIixcbiAgICAgKiAgICAgICAgICAgICBcIm1hcmtlci1zeW1ib2xcIjogXCJtb251bWVudFwiXG4gICAgICogICAgICAgICB9XG4gICAgICogICAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIEV4YW1wbGU6IFZlY3RvciBzb3VyY2U6IFtTaG93IGFuZCBoaWRlIGxheWVyc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdG9nZ2xlLWxheWVycy8pXG4gICAgICogQHNlZSBFeGFtcGxlOiBHZW9KU09OIHNvdXJjZTogW0FkZCBsaXZlIHJlYWx0aW1lIGRhdGFdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtZ2VvanNvbi8pXG4gICAgICogQHNlZSBFeGFtcGxlOiBSYXN0ZXIgREVNIHNvdXJjZTogW0FkZCBoaWxsc2hhZGluZ10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvaGlsbHNoYWRlLylcbiAgICAgKi9cbiAgICBhZGRTb3VyY2UoaWQ6IHN0cmluZywgc291cmNlOiBTb3VyY2VTcGVjaWZpY2F0aW9uKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpO1xuICAgICAgICB0aGlzLnN0eWxlLmFkZFNvdXJjZShpZCwgc291cmNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHNvdXJjZSBpcyBsb2FkZWQuIFJldHVybnMgYHRydWVgIGlmIHRoZSBzb3VyY2Ugd2l0aFxuICAgICAqIHRoZSBnaXZlbiBJRCBpbiB0aGUgbWFwJ3Mgc3R5bGUgaGFzIG5vIG91dHN0YW5kaW5nIG5ldHdvcmsgcmVxdWVzdHMsIG90aGVyd2lzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgc291cmNlIHRvIGJlIGNoZWNrZWQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IEEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb3VyY2VMb2FkZWQgPSBtYXAuaXNTb3VyY2VMb2FkZWQoJ2JhdGh5bWV0cnktZGF0YScpO1xuICAgICAqL1xuICAgIGlzU291cmNlTG9hZGVkKGlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zdHlsZSAmJiB0aGlzLnN0eWxlLl9pc1NvdXJjZUNhY2hlTG9hZGVkKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgYWxsIHRpbGVzIGluIHRoZSB2aWV3cG9ydCBmcm9tIGFsbCBzb3VyY2VzIG9uXG4gICAgICogdGhlIHN0eWxlIGFyZSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciBhbGwgdGlsZXMgYXJlIGxvYWRlZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHRpbGVzTG9hZGVkID0gbWFwLmFyZVRpbGVzTG9hZGVkKCk7XG4gICAgICovXG5cbiAgICBhcmVUaWxlc0xvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgc291cmNlcyA9IHRoaXMuc3R5bGUgJiYgdGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZXNbaWRdO1xuICAgICAgICAgICAgY29uc3QgdGlsZXMgPSBzb3VyY2UuX3RpbGVzO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0IGluIHRpbGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRpbGVzW3RdO1xuICAgICAgICAgICAgICAgIGlmICghKHRpbGUuc3RhdGUgPT09ICdsb2FkZWQnIHx8IHRpbGUuc3RhdGUgPT09ICdlcnJvcmVkJykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgW2N1c3RvbSBzb3VyY2UgdHlwZV0oI0N1c3RvbSBTb3VyY2VzKSwgbWFraW5nIGl0IGF2YWlsYWJsZSBmb3IgdXNlIHdpdGhcbiAgICAgKiB7QGxpbmsgTWFwI2FkZFNvdXJjZX0uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc291cmNlIHR5cGU7IHNvdXJjZSBkZWZpbml0aW9uIG9iamVjdHMgdXNlIHRoaXMgbmFtZSBpbiB0aGUgYHt0eXBlOiAuLi59YCBmaWVsZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBTb3VyY2VUeXBlIEEge0BsaW5rIFNvdXJjZX0gY29uc3RydWN0b3IuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIHdoZW4gdGhlIHNvdXJjZSB0eXBlIGlzIHJlYWR5IG9yIHdpdGggYW4gZXJyb3IgYXJndW1lbnQgaWYgdGhlcmUgaXMgYW4gZXJyb3IuXG4gICAgICovXG4gICAgYWRkU291cmNlVHlwZShuYW1lOiBzdHJpbmcsIFNvdXJjZVR5cGU6IGFueSwgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpO1xuICAgICAgICB0aGlzLnN0eWxlLmFkZFNvdXJjZVR5cGUobmFtZSwgU291cmNlVHlwZSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBzb3VyY2UgZnJvbSB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBzb3VyY2UgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAucmVtb3ZlU291cmNlKCdiYXRoeW1ldHJ5LWRhdGEnKTtcbiAgICAgKi9cbiAgICByZW1vdmVTb3VyY2UoaWQ6IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZVNvdXJjZShpZCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVRlcnJhaW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzb3VyY2Ugd2l0aCB0aGUgc3BlY2lmaWVkIElEIGluIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG9mdGVuIHVzZWQgdG8gdXBkYXRlIGEgc291cmNlIHVzaW5nIHRoZSBpbnN0YW5jZSBtZW1iZXJzIGZvciB0aGUgcmVsZXZhbnRcbiAgICAgKiBzb3VyY2UgdHlwZSBhcyBkZWZpbmVkIGluIFtTb3VyY2VzXSgjc291cmNlcykuXG4gICAgICogRm9yIGV4YW1wbGUsIHNldHRpbmcgdGhlIGBkYXRhYCBmb3IgYSBHZW9KU09OIHNvdXJjZSBvciB1cGRhdGluZyB0aGUgYHVybGAgYW5kIGBjb29yZGluYXRlc2BcbiAgICAgKiBvZiBhbiBpbWFnZSBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBzb3VyY2UgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHs/T2JqZWN0fSBUaGUgc3R5bGUgc291cmNlIHdpdGggdGhlIHNwZWNpZmllZCBJRCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgSURcbiAgICAgKiBjb3JyZXNwb25kcyB0byBubyBleGlzdGluZyBzb3VyY2VzLlxuICAgICAqIFRoZSBzaGFwZSBvZiB0aGUgb2JqZWN0IHZhcmllcyBieSBzb3VyY2UgdHlwZS5cbiAgICAgKiBBIGxpc3Qgb2Ygb3B0aW9ucyBmb3IgZWFjaCBzb3VyY2UgdHlwZSBpcyBhdmFpbGFibGUgb24gdGhlIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uJ3NcbiAgICAgKiBbU291cmNlc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvc291cmNlcy8pIHBhZ2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb3VyY2VPYmplY3QgPSBtYXAuZ2V0U291cmNlKCdwb2ludHMnKTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYSBkcmFnZ2FibGUgcG9pbnRdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogQW5pbWF0ZSBhIHBvaW50XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hbmltYXRlLXBvaW50LWFsb25nLWxpbmUvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IEFkZCBsaXZlIHJlYWx0aW1lIGRhdGFdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtZ2VvanNvbi8pXG4gICAgICovXG4gICAgZ2V0U291cmNlKGlkOiBzdHJpbmcpOiA/U291cmNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0U291cmNlKGlkKTtcbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge0ltYWdlc30gKi9cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc2RvYy9yZXF1aXJlLXJldHVybnNcbiAgICAvKipcbiAgICAgKiBBZGQgYW4gaW1hZ2UgdG8gdGhlIHN0eWxlLiBUaGlzIGltYWdlIGNhbiBiZSBkaXNwbGF5ZWQgb24gdGhlIG1hcCBsaWtlIGFueSBvdGhlciBpY29uIGluIHRoZSBzdHlsZSdzXG4gICAgICogW3Nwcml0ZV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvc3ByaXRlLykgdXNpbmcgdGhlIGltYWdlJ3MgSUQgd2l0aFxuICAgICAqIFtgaWNvbi1pbWFnZWBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNsYXlvdXQtc3ltYm9sLWljb24taW1hZ2UpLFxuICAgICAqIFtgYmFja2dyb3VuZC1wYXR0ZXJuYF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvI3BhaW50LWJhY2tncm91bmQtYmFja2dyb3VuZC1wYXR0ZXJuKSxcbiAgICAgKiBbYGZpbGwtcGF0dGVybmBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNwYWludC1maWxsLWZpbGwtcGF0dGVybiksXG4gICAgICogb3IgW2BsaW5lLXBhdHRlcm5gXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy8jcGFpbnQtbGluZS1saW5lLXBhdHRlcm4pLlxuICAgICAqIEEge0BsaW5rIE1hcC5ldmVudDplcnJvcn0gZXZlbnQgd2lsbCBiZSBmaXJlZCBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIHNwYWNlIGluIHRoZSBzcHJpdGUgdG8gYWRkIHRoaXMgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBpbWFnZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnQgfCBJbWFnZUJpdG1hcCB8IEltYWdlRGF0YSB8IHt3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgZGF0YTogKFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheSl9IHwgU3R5bGVJbWFnZUludGVyZmFjZX0gaW1hZ2UgVGhlIGltYWdlIGFzIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWBcbiAgICAgKiBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVsbH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5waXhlbFJhdGlvIFRoZSByYXRpbyBvZiBwaXhlbHMgaW4gdGhlIGltYWdlIHRvIHBoeXNpY2FsIHBpeGVscyBvbiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5zZGYgV2hldGhlciB0aGUgaW1hZ2Ugc2hvdWxkIGJlIGludGVycHJldGVkIGFzIGFuIFNERiBpbWFnZS5cbiAgICAgKiBAcGFyYW0ge1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdfSBvcHRpb25zLmNvbnRlbnQgYFt4MSwgeTEsIHgyLCB5Ml1gICBJZiBgaWNvbi10ZXh0LWZpdGAgaXMgdXNlZCBpbiBhIGxheWVyIHdpdGggdGhpcyBpbWFnZSwgdGhpcyBvcHRpb24gZGVmaW5lcyB0aGUgcGFydCBvZiB0aGUgaW1hZ2UgdGhhdCBjYW4gYmUgY292ZXJlZCBieSB0aGUgY29udGVudCBpbiBgdGV4dC1maWVsZGAuXG4gICAgICogQHBhcmFtIHtBcnJheTxbbnVtYmVyLCBudW1iZXJdPn0gb3B0aW9ucy5zdHJldGNoWCBgW1t4MSwgeDJdLCAuLi5dYCBJZiBgaWNvbi10ZXh0LWZpdGAgaXMgdXNlZCBpbiBhIGxheWVyIHdpdGggdGhpcyBpbWFnZSwgdGhpcyBvcHRpb24gZGVmaW5lcyB0aGUgcGFydChzKSBvZiB0aGUgaW1hZ2UgdGhhdCBjYW4gYmUgc3RyZXRjaGVkIGhvcml6b250YWxseS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PFtudW1iZXIsIG51bWJlcl0+fSBvcHRpb25zLnN0cmV0Y2hZIGBbW3kxLCB5Ml0sIC4uLl1gIElmIGBpY29uLXRleHQtZml0YCBpcyB1c2VkIGluIGEgbGF5ZXIgd2l0aCB0aGlzIGltYWdlLCB0aGlzIG9wdGlvbiBkZWZpbmVzIHRoZSBwYXJ0KHMpIG9mIHRoZSBpbWFnZSB0aGF0IGNhbiBiZSBzdHJldGNoZWQgdmVydGljYWxseS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSWYgdGhlIHN0eWxlJ3Mgc3ByaXRlIGRvZXMgbm90IGFscmVhZHkgY29udGFpbiBhbiBpbWFnZSB3aXRoIElEICdjYXQnLFxuICAgICAqIC8vIGFkZCB0aGUgaW1hZ2UgJ2NhdC1pY29uLnBuZycgdG8gdGhlIHN0eWxlJ3Mgc3ByaXRlIHdpdGggdGhlIElEICdjYXQnLlxuICAgICAqIG1hcC5sb2FkSW1hZ2UoJ2h0dHBzOi8vdXBsb2FkLndpa2ltZWRpYS5vcmcvd2lraXBlZGlhL2NvbW1vbnMvdGh1bWIvNi82MC9DYXRfc2lsaG91ZXR0ZS5zdmcvNDAwcHgtQ2F0X3NpbGhvdWV0dGUuc3ZnLnBuZycsIChlcnJvciwgaW1hZ2UpID0+IHtcbiAgICAgKiAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgKiAgICAgaWYgKCFtYXAuaGFzSW1hZ2UoJ2NhdCcpKSBtYXAuYWRkSW1hZ2UoJ2NhdCcsIGltYWdlKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIC8vIEFkZCBhIHN0cmV0Y2hhYmxlIGltYWdlIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBgaWNvbi10ZXh0LWZpdGBcbiAgICAgKiAvLyBJbiB0aGlzIGV4YW1wbGUsIHRoZSBpbWFnZSBpcyA2MDBweCB3aWRlIGJ5IDQwMHB4IGhpZ2guXG4gICAgICogbWFwLmxvYWRJbWFnZSgnaHR0cHM6Ly91cGxvYWQud2lraW1lZGlhLm9yZy93aWtpcGVkaWEvY29tbW9ucy84Lzg5L0JsYWNrX2FuZF9XaGl0ZV9Cb3hlZF8lMjhib3JkZXJlZCUyOS5wbmcnLCAoZXJyb3IsIGltYWdlKSA9PiB7XG4gICAgICogICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICogICAgIGlmICghbWFwLmhhc0ltYWdlKCdib3JkZXItaW1hZ2UnKSkge1xuICAgICAqICAgICAgICAgbWFwLmFkZEltYWdlKCdib3JkZXItaW1hZ2UnLCBpbWFnZSwge1xuICAgICAqICAgICAgICAgICAgIGNvbnRlbnQ6IFsxNiwgMTYsIDMwMCwgMzg0XSwgLy8gcGxhY2UgdGV4dCBvdmVyIGxlZnQgaGFsZiBvZiBpbWFnZSwgYXZvaWRpbmcgdGhlIDE2cHggYm9yZGVyXG4gICAgICogICAgICAgICAgICAgc3RyZXRjaFg6IFtbMTYsIDU4NF1dLCAvLyBzdHJldGNoIGV2ZXJ5dGhpbmcgaG9yaXpvbnRhbGx5IGV4Y2VwdCB0aGUgMTZweCBib3JkZXJcbiAgICAgKiAgICAgICAgICAgICBzdHJldGNoWTogW1sxNiwgMzg0XV0sIC8vIHN0cmV0Y2ggZXZlcnl0aGluZyB2ZXJ0aWNhbGx5IGV4Y2VwdCB0aGUgMTZweCBib3JkZXJcbiAgICAgKiAgICAgICAgIH0pO1xuICAgICAqICAgICB9XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKlxuICAgICAqIEBzZWUgRXhhbXBsZTogVXNlIGBIVE1MSW1hZ2VFbGVtZW50YDogW0FkZCBhbiBpY29uIHRvIHRoZSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLWltYWdlLylcbiAgICAgKiBAc2VlIEV4YW1wbGU6IFVzZSBgSW1hZ2VEYXRhYDogW0FkZCBhIGdlbmVyYXRlZCBpY29uIHRvIHRoZSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLWltYWdlLWdlbmVyYXRlZC8pXG4gICAgICovXG4gICAgYWRkSW1hZ2UoaWQ6IHN0cmluZyxcbiAgICAgICAgICAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudCB8IEltYWdlQml0bWFwIHwgSW1hZ2VEYXRhIHwge3dpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBkYXRhOiBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXl9IHwgU3R5bGVJbWFnZUludGVyZmFjZSxcbiAgICAgICAgICAgICB7cGl4ZWxSYXRpbyA9IDEsIHNkZiA9IGZhbHNlLCBzdHJldGNoWCwgc3RyZXRjaFksIGNvbnRlbnR9OiAkU2hhcGU8U3R5bGVJbWFnZU1ldGFkYXRhPiA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpO1xuICAgICAgICBjb25zdCB2ZXJzaW9uID0gMDtcblxuICAgICAgICBpZiAoaW1hZ2UgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEltYWdlRWxlbWVudCB8fCAod2luZG93LkltYWdlQml0bWFwICYmIGltYWdlIGluc3RhbmNlb2Ygd2luZG93LkltYWdlQml0bWFwKSkge1xuICAgICAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHQsIGRhdGF9ID0gYnJvd3Nlci5nZXRJbWFnZURhdGEoaW1hZ2UpO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5hZGRJbWFnZShpZCwge2RhdGE6IG5ldyBSR0JBSW1hZ2Uoe3dpZHRoLCBoZWlnaHR9LCBkYXRhKSwgcGl4ZWxSYXRpbywgc3RyZXRjaFgsIHN0cmV0Y2hZLCBjb250ZW50LCBzZGYsIHZlcnNpb259KTtcbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZS53aWR0aCA9PT0gdW5kZWZpbmVkIHx8IGltYWdlLmhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAuYWRkSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAsICcgK1xuICAgICAgICAgICAgICAgICdvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYCBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgJykpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGltYWdlO1xuICAgICAgICAgICAgY29uc3QgdXNlckltYWdlID0gKChpbWFnZTogYW55KTogU3R5bGVJbWFnZUludGVyZmFjZSk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdXNlckltYWdlLmRhdGE7XG5cbiAgICAgICAgICAgIHRoaXMuc3R5bGUuYWRkSW1hZ2UoaWQsIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBuZXcgUkdCQUltYWdlKHt3aWR0aCwgaGVpZ2h0fSwgbmV3IFVpbnQ4QXJyYXkoZGF0YSkpLFxuICAgICAgICAgICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgc3RyZXRjaFgsXG4gICAgICAgICAgICAgICAgc3RyZXRjaFksXG4gICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgICBzZGYsXG4gICAgICAgICAgICAgICAgdmVyc2lvbixcbiAgICAgICAgICAgICAgICB1c2VySW1hZ2VcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodXNlckltYWdlLm9uQWRkKSB7XG4gICAgICAgICAgICAgICAgdXNlckltYWdlLm9uQWRkKHRoaXMsIGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc2RvYy9yZXF1aXJlLXJldHVybnNcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYW4gZXhpc3RpbmcgaW1hZ2UgaW4gYSBzdHlsZS4gVGhpcyBpbWFnZSBjYW4gYmUgZGlzcGxheWVkIG9uIHRoZSBtYXAgbGlrZSBhbnkgb3RoZXIgaWNvbiBpbiB0aGUgc3R5bGUnc1xuICAgICAqIFtzcHJpdGVdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvZ2xvc3Nhcnkvc3ByaXRlLykgdXNpbmcgdGhlIGltYWdlJ3MgSUQgd2l0aFxuICAgICAqIFtgaWNvbi1pbWFnZWBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNsYXlvdXQtc3ltYm9sLWljb24taW1hZ2UpLFxuICAgICAqIFtgYmFja2dyb3VuZC1wYXR0ZXJuYF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvI3BhaW50LWJhY2tncm91bmQtYmFja2dyb3VuZC1wYXR0ZXJuKSxcbiAgICAgKiBbYGZpbGwtcGF0dGVybmBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNwYWludC1maWxsLWZpbGwtcGF0dGVybiksXG4gICAgICogb3IgW2BsaW5lLXBhdHRlcm5gXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy8jcGFpbnQtbGluZS1saW5lLXBhdHRlcm4pLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgaW1hZ2UuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50IHwgSW1hZ2VCaXRtYXAgfCBJbWFnZURhdGEgfCBTdHlsZUltYWdlSW50ZXJmYWNlfSBpbWFnZSBUaGUgaW1hZ2UgYXMgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBbYEltYWdlRGF0YWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JbWFnZURhdGEpLCBbYEltYWdlQml0bWFwYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ltYWdlQml0bWFwKSBvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYFxuICAgICAqIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICogLy8gTG9hZCBhbiBpbWFnZSBmcm9tIGFuIGV4dGVybmFsIFVSTC5cbiAgICAgKiBtYXAubG9hZEltYWdlKCdodHRwOi8vcGxhY2VraXR0ZW4uY29tLzUwLzUwJywgKGVycm9yLCBpbWFnZSkgPT4ge1xuICAgICAqICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAqICAgICAvLyBJZiBhbiBpbWFnZSB3aXRoIHRoZSBJRCAnY2F0JyBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgc3R5bGUncyBzcHJpdGUsXG4gICAgICogICAgIC8vIHJlcGxhY2UgdGhhdCBpbWFnZSB3aXRoIGEgbmV3IGltYWdlLCAnb3RoZXItY2F0LWljb24ucG5nJy5cbiAgICAgKiAgICAgaWYgKG1hcC5oYXNJbWFnZSgnY2F0JykpIG1hcC51cGRhdGVJbWFnZSgnY2F0JywgaW1hZ2UpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHVwZGF0ZUltYWdlKGlkOiBzdHJpbmcsXG4gICAgICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50IHwgSW1hZ2VCaXRtYXAgfCBJbWFnZURhdGEgfCB7d2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGRhdGE6IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gfCBTdHlsZUltYWdlSW50ZXJmYWNlKSB7XG5cbiAgICAgICAgY29uc3QgZXhpc3RpbmdJbWFnZSA9IHRoaXMuc3R5bGUuZ2V0SW1hZ2UoaWQpO1xuICAgICAgICBpZiAoIWV4aXN0aW5nSW1hZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ1RoZSBtYXAgaGFzIG5vIGltYWdlIHdpdGggdGhhdCBpZC4gSWYgeW91IGFyZSBhZGRpbmcgYSBuZXcgaW1hZ2UgdXNlIGBtYXAuYWRkSW1hZ2UoLi4uKWAgaW5zdGVhZC4nKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IChpbWFnZSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSW1hZ2VFbGVtZW50IHx8ICh3aW5kb3cuSW1hZ2VCaXRtYXAgJiYgaW1hZ2UgaW5zdGFuY2VvZiB3aW5kb3cuSW1hZ2VCaXRtYXApKSA/IGJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGltYWdlKSA6IGltYWdlO1xuICAgICAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBpbWFnZURhdGE7XG4gICAgICAgIC8vIEZsb3cgY2FuJ3QgcmVmaW5lIHRoZSB0eXBlIGVub3VnaCB0byBleGNsdWRlIEltYWdlQml0bWFwXG4gICAgICAgIGNvbnN0IGRhdGEgPSAoKGltYWdlRGF0YTogYW55KS5kYXRhOiBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXkpO1xuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkIHx8IGhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAudXBkYXRlSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAsICcgK1xuICAgICAgICAgICAgICAgICdvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYCBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgJykpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCAhPT0gZXhpc3RpbmdJbWFnZS5kYXRhLndpZHRoIHx8IGhlaWdodCAhPT0gZXhpc3RpbmdJbWFnZS5kYXRhLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgVGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHVwZGF0ZWQgaW1hZ2UgKCR7d2lkdGh9LCAke2hlaWdodH0pXG4gICAgICAgICAgICAgICAgbXVzdCBiZSB0aGF0IHNhbWUgYXMgdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgdGhlIGltYWdlXG4gICAgICAgICAgICAgICAgKCR7ZXhpc3RpbmdJbWFnZS5kYXRhLndpZHRofSwgJHtleGlzdGluZ0ltYWdlLmRhdGEuaGVpZ2h0fSlgKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29weSA9ICEoaW1hZ2UgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEltYWdlRWxlbWVudCB8fCAod2luZG93LkltYWdlQml0bWFwICYmIGltYWdlIGluc3RhbmNlb2Ygd2luZG93LkltYWdlQml0bWFwKSk7XG4gICAgICAgIGV4aXN0aW5nSW1hZ2UuZGF0YS5yZXBsYWNlKGRhdGEsIGNvcHkpO1xuXG4gICAgICAgIHRoaXMuc3R5bGUudXBkYXRlSW1hZ2UoaWQsIGV4aXN0aW5nSW1hZ2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIHdoZXRoZXIgb3Igbm90IGFuIGltYWdlIHdpdGggYSBzcGVjaWZpYyBJRCBleGlzdHMgaW4gdGhlIHN0eWxlLiBUaGlzIGNoZWNrcyBib3RoIGltYWdlc1xuICAgICAqIGluIHRoZSBzdHlsZSdzIG9yaWdpbmFsIFtzcHJpdGVdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvZ2xvc3Nhcnkvc3ByaXRlLykgYW5kIGFueSBpbWFnZXNcbiAgICAgKiB0aGF0IGhhdmUgYmVlbiBhZGRlZCBhdCBydW50aW1lIHVzaW5nIHtAbGluayBNYXAjYWRkSW1hZ2V9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgaW1hZ2UgZXhpc3RzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ2hlY2sgaWYgYW4gaW1hZ2Ugd2l0aCB0aGUgSUQgJ2NhdCcgZXhpc3RzIGluXG4gICAgICogLy8gdGhlIHN0eWxlJ3Mgc3ByaXRlLlxuICAgICAqIGNvbnN0IGNhdEljb25FeGlzdHMgPSBtYXAuaGFzSW1hZ2UoJ2NhdCcpO1xuICAgICAqL1xuICAgIGhhc0ltYWdlKGlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBpbWFnZSBpZCcpKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISF0aGlzLnN0eWxlLmdldEltYWdlKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gaW1hZ2UgZnJvbSBhIHN0eWxlLiBUaGlzIGNhbiBiZSBhbiBpbWFnZSBmcm9tIHRoZSBzdHlsZSdzIG9yaWdpbmFsXG4gICAgICogW3Nwcml0ZV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC9nbG9zc2FyeS9zcHJpdGUvKSBvciBhbnkgaW1hZ2VzXG4gICAgICogdGhhdCBoYXZlIGJlZW4gYWRkZWQgYXQgcnVudGltZSB1c2luZyB7QGxpbmsgTWFwI2FkZEltYWdlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIGltYWdlLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJZiBhbiBpbWFnZSB3aXRoIHRoZSBJRCAnY2F0JyBleGlzdHMgaW5cbiAgICAgKiAvLyB0aGUgc3R5bGUncyBzcHJpdGUsIHJlbW92ZSBpdC5cbiAgICAgKiBpZiAobWFwLmhhc0ltYWdlKCdjYXQnKSkgbWFwLnJlbW92ZUltYWdlKCdjYXQnKTtcbiAgICAgKi9cbiAgICByZW1vdmVJbWFnZShpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3R5bGUucmVtb3ZlSW1hZ2UoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWQgYW4gaW1hZ2UgZnJvbSBhbiBleHRlcm5hbCBVUkwgdG8gYmUgdXNlZCB3aXRoIHtAbGluayBNYXAjYWRkSW1hZ2V9LiBFeHRlcm5hbFxuICAgICAqIGRvbWFpbnMgbXVzdCBzdXBwb3J0IFtDT1JTXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0FjY2Vzc19jb250cm9sX0NPUlMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIG9mIHRoZSBpbWFnZSBmaWxlLiBJbWFnZSBmaWxlIG11c3QgYmUgaW4gcG5nLCB3ZWJwLCBvciBqcGcgZm9ybWF0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIEV4cGVjdGluZyBgY2FsbGJhY2soZXJyb3IsIGRhdGEpYC4gQ2FsbGVkIHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWQgb3Igd2l0aCBhbiBlcnJvciBhcmd1bWVudCBpZiB0aGVyZSBpcyBhbiBlcnJvci5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gTG9hZCBhbiBpbWFnZSBmcm9tIGFuIGV4dGVybmFsIFVSTC5cbiAgICAgKiBtYXAubG9hZEltYWdlKCdodHRwOi8vcGxhY2VraXR0ZW4uY29tLzUwLzUwJywgKGVycm9yLCBpbWFnZSkgPT4ge1xuICAgICAqICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAqICAgICAvLyBBZGQgdGhlIGxvYWRlZCBpbWFnZSB0byB0aGUgc3R5bGUncyBzcHJpdGUgd2l0aCB0aGUgSUQgJ2tpdHRlbicuXG4gICAgICogICAgIG1hcC5hZGRJbWFnZSgna2l0dGVuJywgaW1hZ2UpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHNlZSBbRXhhbXBsZTogQWRkIGFuIGljb24gdG8gdGhlIG1hcF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hZGQtaW1hZ2UvKVxuICAgICAqL1xuICAgIGxvYWRJbWFnZSh1cmw6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGdldEltYWdlKHRoaXMuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuSW1hZ2UpLCAoZXJyLCBpbWcpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgaW1nIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJbWFnZUVsZW1lbnQgPyBicm93c2VyLmdldEltYWdlRGF0YShpbWcpIDogaW1nKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIGFuIEFycmF5IG9mIHN0cmluZ3MgY29udGFpbmluZyB0aGUgSURzIG9mIGFsbCBpbWFnZXMgY3VycmVudGx5IGF2YWlsYWJsZSBpbiB0aGUgbWFwLlxuICAgICogVGhpcyBpbmNsdWRlcyBib3RoIGltYWdlcyBmcm9tIHRoZSBzdHlsZSdzIG9yaWdpbmFsIFtzcHJpdGVdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvZ2xvc3Nhcnkvc3ByaXRlLylcbiAgICAqIGFuZCBhbnkgaW1hZ2VzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIGF0IHJ1bnRpbWUgdXNpbmcge0BsaW5rIE1hcCNhZGRJbWFnZX0uXG4gICAgKlxuICAgICogQHJldHVybnMge0FycmF5PHN0cmluZz59IEFuIEFycmF5IG9mIHN0cmluZ3MgY29udGFpbmluZyB0aGUgbmFtZXMgb2YgYWxsIHNwcml0ZXMvaW1hZ2VzIGN1cnJlbnRseSBhdmFpbGFibGUgaW4gdGhlIG1hcC5cbiAgICAqXG4gICAgKiBAZXhhbXBsZVxuICAgICogY29uc3QgYWxsSW1hZ2VzID0gbWFwLmxpc3RJbWFnZXMoKTtcbiAgICAqXG4gICAgKi9cbiAgICBsaXN0SW1hZ2VzKCk6IEFycmF5PHN0cmluZz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5saXN0SW1hZ2VzKCk7XG4gICAgfVxuXG4gICAgLyoqIEBzZWN0aW9uIHtMYXllcnN9ICovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgW01hcGJveCBzdHlsZSBsYXllcl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvI2xheWVycylcbiAgICAgKiB0byB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBBIGxheWVyIGRlZmluZXMgaG93IGRhdGEgZnJvbSBhIHNwZWNpZmllZCBzb3VyY2Ugd2lsbCBiZSBzdHlsZWQuIFJlYWQgbW9yZSBhYm91dCBsYXllciB0eXBlc1xuICAgICAqIGFuZCBhdmFpbGFibGUgcGFpbnQgYW5kIGxheW91dCBwcm9wZXJ0aWVzIGluIHRoZSBbTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNsYXllcnMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBDdXN0b21MYXllckludGVyZmFjZX0gbGF5ZXIgVGhlIGxheWVyIHRvIGFkZCwgY29uZm9ybWluZyB0byBlaXRoZXIgdGhlIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uJ3MgW2xheWVyIGRlZmluaXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNsYXllcnMpIG9yLCBsZXNzIGNvbW1vbmx5LCB0aGUge0BsaW5rIEN1c3RvbUxheWVySW50ZXJmYWNlfSBzcGVjaWZpY2F0aW9uLlxuICAgICAqIFRoZSBNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbidzIGxheWVyIGRlZmluaXRpb24gaXMgYXBwcm9wcmlhdGUgZm9yIG1vc3QgbGF5ZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyLmlkIEEgdW5pcXVlIGlkZW50aWZpZXIgdGhhdCB5b3UgZGVmaW5lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllci50eXBlIFRoZSB0eXBlIG9mIGxheWVyIChmb3IgZXhhbXBsZSBgZmlsbGAgb3IgYHN5bWJvbGApLlxuICAgICAqIEEgbGlzdCBvZiBsYXllciB0eXBlcyBpcyBhdmFpbGFibGUgaW4gdGhlIFtNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvbGF5ZXJzLyN0eXBlKS5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGFsc28gYmUgYGN1c3RvbWAuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUge0BsaW5rIEN1c3RvbUxheWVySW50ZXJmYWNlfS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IE9iamVjdH0gW2xheWVyLnNvdXJjZV0gVGhlIGRhdGEgc291cmNlIGZvciB0aGUgbGF5ZXIuXG4gICAgICogUmVmZXJlbmNlIGEgc291cmNlIHRoYXQgaGFzIF9hbHJlYWR5IGJlZW4gZGVmaW5lZF8gdXNpbmcgdGhlIHNvdXJjZSdzIHVuaXF1ZSBpZC5cbiAgICAgKiBSZWZlcmVuY2UgYSBfbmV3IHNvdXJjZV8gdXNpbmcgYSBzb3VyY2Ugb2JqZWN0IChhcyBkZWZpbmVkIGluIHRoZSBbTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvKSkgZGlyZWN0bHkuXG4gICAgICogVGhpcyBpcyAqKnJlcXVpcmVkKiogZm9yIGFsbCBgbGF5ZXIudHlwZWAgb3B0aW9ucyBfZXhjZXB0XyBmb3IgYGN1c3RvbWAgYW5kIGBiYWNrZ3JvdW5kYC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xheWVyLnNvdXJjZUxheWVyXSAob3B0aW9uYWwpIFRoZSBuYW1lIG9mIHRoZSBbc291cmNlIGxheWVyXShodHRwczovL2RvY3MubWFwYm94LmNvbS9oZWxwL2dsb3NzYXJ5L3NvdXJjZS1sYXllci8pIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGBsYXllci5zb3VyY2VgIHRvIHVzZSBmb3IgdGhpcyBzdHlsZSBsYXllci5cbiAgICAgKiBUaGlzIGlzIG9ubHkgYXBwbGljYWJsZSBmb3IgdmVjdG9yIHRpbGUgc291cmNlcyBhbmQgaXMgKipyZXF1aXJlZCoqIHdoZW4gYGxheWVyLnNvdXJjZWAgaXMgb2YgdGhlIHR5cGUgYHZlY3RvcmAuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2xheWVyLmZpbHRlcl0gKG9wdGlvbmFsKSBBbiBleHByZXNzaW9uIHNwZWNpZnlpbmcgY29uZGl0aW9ucyBvbiBzb3VyY2UgZmVhdHVyZXMuXG4gICAgICogT25seSBmZWF0dXJlcyB0aGF0IG1hdGNoIHRoZSBmaWx0ZXIgYXJlIGRpc3BsYXllZC5cbiAgICAgKiBUaGUgTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb24gaW5jbHVkZXMgbW9yZSBpbmZvcm1hdGlvbiBvbiB0aGUgbGltaXRhdGlvbnMgb2YgdGhlIFtgZmlsdGVyYF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvbGF5ZXJzLyNmaWx0ZXIpIHBhcmFtZXRlclxuICAgICAqIGFuZCBhIGNvbXBsZXRlIGxpc3Qgb2YgYXZhaWxhYmxlIFtleHByZXNzaW9uc10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvZXhwcmVzc2lvbnMvKS5cbiAgICAgKiBJZiBubyBmaWx0ZXIgaXMgcHJvdmlkZWQsIGFsbCBmZWF0dXJlcyBpbiB0aGUgc291cmNlIChvciBzb3VyY2UgbGF5ZXIgZm9yIHZlY3RvciB0aWxlc2V0cykgd2lsbCBiZSBkaXNwbGF5ZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtsYXllci5wYWludF0gKG9wdGlvbmFsKSBQYWludCBwcm9wZXJ0aWVzIGZvciB0aGUgbGF5ZXIuXG4gICAgICogQXZhaWxhYmxlIHBhaW50IHByb3BlcnRpZXMgdmFyeSBieSBgbGF5ZXIudHlwZWAuXG4gICAgICogQSBmdWxsIGxpc3Qgb2YgcGFpbnQgcHJvcGVydGllcyBmb3IgZWFjaCBsYXllciB0eXBlIGlzIGF2YWlsYWJsZSBpbiB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy9sYXllcnMvKS5cbiAgICAgKiBJZiBubyBwYWludCBwcm9wZXJ0aWVzIGFyZSBzcGVjaWZpZWQsIGRlZmF1bHQgdmFsdWVzIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2xheWVyLmxheW91dF0gKG9wdGlvbmFsKSBMYXlvdXQgcHJvcGVydGllcyBmb3IgdGhlIGxheWVyLlxuICAgICAqIEF2YWlsYWJsZSBsYXlvdXQgcHJvcGVydGllcyB2YXJ5IGJ5IGBsYXllci50eXBlYC5cbiAgICAgKiBBIGZ1bGwgbGlzdCBvZiBsYXlvdXQgcHJvcGVydGllcyBmb3IgZWFjaCBsYXllciB0eXBlIGlzIGF2YWlsYWJsZSBpbiB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy9sYXllcnMvKS5cbiAgICAgKiBJZiBubyBsYXlvdXQgcHJvcGVydGllcyBhcmUgc3BlY2lmaWVkLCBkZWZhdWx0IHZhbHVlcyB3aWxsIGJlIHVzZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsYXllci5tYXh6b29tXSAob3B0aW9uYWwpIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBsYXllci5cbiAgICAgKiBBdCB6b29tIGxldmVscyBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gdGhlIG1heHpvb20sIHRoZSBsYXllciB3aWxsIGJlIGhpZGRlbi5cbiAgICAgKiBUaGUgdmFsdWUgY2FuIGJlIGFueSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIGAyNGAgKGluY2x1c2l2ZSkuXG4gICAgICogSWYgbm8gbWF4em9vbSBpcyBwcm92aWRlZCwgdGhlIGxheWVyIHdpbGwgYmUgdmlzaWJsZSBhdCBhbGwgem9vbSBsZXZlbHMgZm9yIHdoaWNoIHRoZXJlIGFyZSB0aWxlcyBhdmFpbGFibGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsYXllci5taW56b29tXSAob3B0aW9uYWwpIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBsYXllci5cbiAgICAgKiBBdCB6b29tIGxldmVscyBsZXNzIHRoYW4gdGhlIG1pbnpvb20sIHRoZSBsYXllciB3aWxsIGJlIGhpZGRlbi5cbiAgICAgKiBUaGUgdmFsdWUgY2FuIGJlIGFueSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIGAyNGAgKGluY2x1c2l2ZSkuXG4gICAgICogSWYgbm8gbWluem9vbSBpcyBwcm92aWRlZCwgdGhlIGxheWVyIHdpbGwgYmUgdmlzaWJsZSBhdCBhbGwgem9vbSBsZXZlbHMgZm9yIHdoaWNoIHRoZXJlIGFyZSB0aWxlcyBhdmFpbGFibGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtsYXllci5tZXRhZGF0YV0gKG9wdGlvbmFsKSBBcmJpdHJhcnkgcHJvcGVydGllcyB1c2VmdWwgdG8gdHJhY2sgd2l0aCB0aGUgbGF5ZXIsIGJ1dCBkbyBub3QgaW5mbHVlbmNlIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xheWVyLnJlbmRlcmluZ01vZGVdIFRoaXMgaXMgb25seSBhcHBsaWNhYmxlIGZvciBsYXllcnMgd2l0aCB0aGUgdHlwZSBgY3VzdG9tYC5cbiAgICAgKiBTZWUge0BsaW5rIEN1c3RvbUxheWVySW50ZXJmYWNlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2JlZm9yZUlkXSBUaGUgSUQgb2YgYW4gZXhpc3RpbmcgbGF5ZXIgdG8gaW5zZXJ0IHRoZSBuZXcgbGF5ZXIgYmVmb3JlLFxuICAgICAqIHJlc3VsdGluZyBpbiB0aGUgbmV3IGxheWVyIGFwcGVhcmluZyB2aXN1YWxseSBiZW5lYXRoIHRoZSBleGlzdGluZyBsYXllci5cbiAgICAgKiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzcGVjaWZpZWQsIHRoZSBsYXllciB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGxheWVycyBhcnJheVxuICAgICAqIGFuZCBhcHBlYXIgdmlzdWFsbHkgYWJvdmUgYWxsIG90aGVyIGxheWVycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEFkZCBhIGNpcmNsZSBsYXllciB3aXRoIGEgdmVjdG9yIHNvdXJjZVxuICAgICAqIG1hcC5hZGRMYXllcih7XG4gICAgICogICAgIGlkOiAncG9pbnRzLW9mLWludGVyZXN0JyxcbiAgICAgKiAgICAgc291cmNlOiB7XG4gICAgICogICAgICAgICB0eXBlOiAndmVjdG9yJyxcbiAgICAgKiAgICAgICAgIHVybDogJ21hcGJveDovL21hcGJveC5tYXBib3gtc3RyZWV0cy12OCdcbiAgICAgKiAgICAgfSxcbiAgICAgKiAgICAgJ3NvdXJjZS1sYXllcic6ICdwb2lfbGFiZWwnLFxuICAgICAqICAgICB0eXBlOiAnY2lyY2xlJyxcbiAgICAgKiAgICAgcGFpbnQ6IHtcbiAgICAgKiAgICAgLy8gTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb24gcGFpbnQgcHJvcGVydGllc1xuICAgICAqICAgICB9LFxuICAgICAqICAgICBsYXlvdXQ6IHtcbiAgICAgKiAgICAgLy8gTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb24gbGF5b3V0IHByb3BlcnRpZXNcbiAgICAgKiAgICAgfVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEZWZpbmUgYSBzb3VyY2UgYmVmb3JlIHVzaW5nIGl0IHRvIGNyZWF0ZSBhIG5ldyBsYXllclxuICAgICAqIG1hcC5hZGRTb3VyY2UoJ3N0YXRlLWRhdGEnLCB7XG4gICAgICogICAgIHR5cGU6ICdnZW9qc29uJyxcbiAgICAgKiAgICAgZGF0YTogJ3BhdGgvdG8vZGF0YS5nZW9qc29uJ1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogbWFwLmFkZExheWVyKHtcbiAgICAgKiAgICAgaWQ6ICdzdGF0ZXMnLFxuICAgICAqICAgICAvLyBSZWZlcmVuY2VzIHRoZSBHZW9KU09OIHNvdXJjZSBkZWZpbmVkIGFib3ZlXG4gICAgICogICAgIC8vIGFuZCBkb2VzIG5vdCByZXF1aXJlIGEgYHNvdXJjZS1sYXllcmBcbiAgICAgKiAgICAgc291cmNlOiAnc3RhdGUtZGF0YScsXG4gICAgICogICAgIHR5cGU6ICdzeW1ib2wnLFxuICAgICAqICAgICBsYXlvdXQ6IHtcbiAgICAgKiAgICAgICAgIC8vIFNldCB0aGUgbGFiZWwgY29udGVudCB0byB0aGVcbiAgICAgKiAgICAgICAgIC8vIGZlYXR1cmUncyBgbmFtZWAgcHJvcGVydHlcbiAgICAgKiAgICAgICAgICd0ZXh0LWZpZWxkJzogWydnZXQnLCAnbmFtZSddXG4gICAgICogICAgIH1cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQWRkIGEgbmV3IHN5bWJvbCBsYXllciBiZWZvcmUgYW4gZXhpc3RpbmcgbGF5ZXJcbiAgICAgKiBtYXAuYWRkTGF5ZXIoe1xuICAgICAqICAgICBpZDogJ3N0YXRlcycsXG4gICAgICogICAgIC8vIFJlZmVyZW5jZXMgYSBzb3VyY2UgdGhhdCdzIGFscmVhZHkgYmVlbiBkZWZpbmVkXG4gICAgICogICAgIHNvdXJjZTogJ3N0YXRlLWRhdGEnLFxuICAgICAqICAgICB0eXBlOiAnc3ltYm9sJyxcbiAgICAgKiAgICAgbGF5b3V0OiB7XG4gICAgICogICAgICAgICAvLyBTZXQgdGhlIGxhYmVsIGNvbnRlbnQgdG8gdGhlXG4gICAgICogICAgICAgICAvLyBmZWF0dXJlJ3MgYG5hbWVgIHByb3BlcnR5XG4gICAgICogICAgICAgICAndGV4dC1maWVsZCc6IFsnZ2V0JywgJ25hbWUnXVxuICAgICAqICAgICB9XG4gICAgICogLy8gQWRkIHRoZSBsYXllciBiZWZvcmUgdGhlIGV4aXN0aW5nIGBjaXRpZXNgIGxheWVyXG4gICAgICogfSwgJ2NpdGllcycpO1xuICAgICAqXG4gICAgICogQHNlZSBbRXhhbXBsZTogU2VsZWN0IGZlYXR1cmVzIGFyb3VuZCBhIGNsaWNrZWQgcG9pbnRdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3F1ZXJ5cmVuZGVyZWRmZWF0dXJlcy1hcm91bmQtcG9pbnQvKSAoZmlsbCBsYXllcilcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSBuZXcgbGF5ZXIgYmVsb3cgbGFiZWxzXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nZW9qc29uLWxheWVyLWluLXN0YWNrLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBDcmVhdGUgYW5kIHN0eWxlIGNsdXN0ZXJzXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jbHVzdGVyLykgKGNpcmNsZSBsYXllcilcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSB2ZWN0b3IgdGlsZSBzb3VyY2VdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3ZlY3Rvci1zb3VyY2UvKSAobGluZSBsYXllcilcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSBXTVMgbGF5ZXJdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3dtcy8pIChyYXN0ZXIgbGF5ZXIpXG4gICAgICovXG4gICAgYWRkTGF5ZXIobGF5ZXI6IExheWVyU3BlY2lmaWNhdGlvbiB8IEN1c3RvbUxheWVySW50ZXJmYWNlLCBiZWZvcmVJZD86IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKTtcbiAgICAgICAgdGhpcy5zdHlsZS5hZGRMYXllcihsYXllciwgYmVmb3JlSWQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGEgbGF5ZXIgdG8gYSBkaWZmZXJlbnQgei1wb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIG1vdmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiZWZvcmVJZF0gVGhlIElEIG9mIGFuIGV4aXN0aW5nIGxheWVyIHRvIGluc2VydCB0aGUgbmV3IGxheWVyIGJlZm9yZS4gV2hlbiB2aWV3aW5nIHRoZSBtYXAsIHRoZSBgaWRgIGxheWVyIHdpbGwgYXBwZWFyIGJlbmVhdGggdGhlIGBiZWZvcmVJZGAgbGF5ZXIuIElmIGBiZWZvcmVJZGAgaXMgb21pdHRlZCwgdGhlIGxheWVyIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIGVuZCBvZiB0aGUgbGF5ZXJzIGFycmF5IGFuZCBhcHBlYXIgYWJvdmUgYWxsIG90aGVyIGxheWVycyBvbiB0aGUgbWFwLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIE1vdmUgYSBsYXllciB3aXRoIElEICdwb2x5Z29uJyBiZWZvcmUgdGhlIGxheWVyIHdpdGggSUQgJ2NvdW50cnktbGFiZWwnLiBUaGUgYHBvbHlnb25gIGxheWVyIHdpbGwgYXBwZWFyIGJlbmVhdGggdGhlIGBjb3VudHJ5LWxhYmVsYCBsYXllciBvbiB0aGUgbWFwLlxuICAgICAqIG1hcC5tb3ZlTGF5ZXIoJ3BvbHlnb24nLCAnY291bnRyeS1sYWJlbCcpO1xuICAgICAqL1xuICAgIG1vdmVMYXllcihpZDogc3RyaW5nLCBiZWZvcmVJZD86IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLnN0eWxlLm1vdmVMYXllcihpZCwgYmVmb3JlSWQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxheWVyIHdpdGggdGhlIGdpdmVuIElEIGZyb20gdGhlIG1hcCdzIHN0eWxlLlxuICAgICAqXG4gICAgICogSWYgbm8gc3VjaCBsYXllciBleGlzdHMsIGFuIGBlcnJvcmAgZXZlbnQgaXMgZmlyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgdGhlIGxheWVyIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBmaXJlcyBNYXAuZXZlbnQ6ZXJyb3JcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSWYgYSBsYXllciB3aXRoIElEICdzdGF0ZS1kYXRhJyBleGlzdHMsIHJlbW92ZSBpdC5cbiAgICAgKiBpZiAobWFwLmdldExheWVyKCdzdGF0ZS1kYXRhJykpIG1hcC5yZW1vdmVMYXllcignc3RhdGUtZGF0YScpO1xuICAgICAqL1xuICAgIHJlbW92ZUxheWVyKGlkOiBzdHJpbmcpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5zdHlsZS5yZW1vdmVMYXllcihpZCk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGF5ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIElEIGluIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7P09iamVjdH0gVGhlIGxheWVyIHdpdGggdGhlIHNwZWNpZmllZCBJRCwgb3IgYHVuZGVmaW5lZGBcbiAgICAgKiAgIGlmIHRoZSBJRCBjb3JyZXNwb25kcyB0byBubyBleGlzdGluZyBsYXllcnMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHN0YXRlRGF0YUxheWVyID0gbWFwLmdldExheWVyKCdzdGF0ZS1kYXRhJyk7XG4gICAgICpcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBGaWx0ZXIgc3ltYm9scyBieSB0b2dnbGluZyBhIGxpc3RdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLW1hcmtlcnMvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IEZpbHRlciBzeW1ib2xzIGJ5IHRleHQgaW5wdXRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLW1hcmtlcnMtYnktaW5wdXQvKVxuICAgICAqL1xuICAgIGdldExheWVyKGlkOiBzdHJpbmcpOiA/U3R5bGVMYXllciB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldExheWVyKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB6b29tIGV4dGVudCBmb3IgdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci4gVGhlIHpvb20gZXh0ZW50IGluY2x1ZGVzIHRoZVxuICAgICAqIFttaW5pbXVtIHpvb20gbGV2ZWxdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNsYXllci1taW56b29tKVxuICAgICAqIGFuZCBbbWF4aW11bSB6b29tIGxldmVsXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy8jbGF5ZXItbWF4em9vbSkpXG4gICAgICogYXQgd2hpY2ggdGhlIGxheWVyIHdpbGwgYmUgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBOb3RlOiBGb3Igc3R5bGUgbGF5ZXJzIHVzaW5nIHZlY3RvciBzb3VyY2VzLCBzdHlsZSBsYXllcnMgY2Fubm90IGJlIHJlbmRlcmVkIGF0IHpvb20gbGV2ZWxzIGxvd2VyIHRoYW4gdGhlXG4gICAgICogbWluaW11bSB6b29tIGxldmVsIG9mIHRoZSBfc291cmNlIGxheWVyXyBiZWNhdXNlIHRoZSBkYXRhIGRvZXMgbm90IGV4aXN0IGF0IHRob3NlIHpvb20gbGV2ZWxzLiBJZiB0aGUgbWluaW11bVxuICAgICAqIHpvb20gbGV2ZWwgb2YgdGhlIHNvdXJjZSBsYXllciBpcyBoaWdoZXIgdGhhbiB0aGUgbWluaW11bSB6b29tIGxldmVsIGRlZmluZWQgaW4gdGhlIHN0eWxlIGxheWVyLCB0aGUgc3R5bGVcbiAgICAgKiBsYXllciB3aWxsIG5vdCBiZSByZW5kZXJlZCBhdCBhbGwgem9vbSBsZXZlbHMgaW4gdGhlIHpvb20gcmFuZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXJJZCBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIHdoaWNoIHRoZSB6b29tIGV4dGVudCB3aWxsIGJlIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbnpvb20gVGhlIG1pbmltdW0gem9vbSB0byBzZXQgKDAtMjQpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXh6b29tIFRoZSBtYXhpbXVtIHpvb20gdG8gc2V0ICgwLTI0KS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TGF5ZXJab29tUmFuZ2UoJ215LWxheWVyJywgMiwgNSk7XG4gICAgICpcbiAgICAgKi9cbiAgICBzZXRMYXllclpvb21SYW5nZShsYXllcklkOiBzdHJpbmcsIG1pbnpvb206IG51bWJlciwgbWF4em9vbTogbnVtYmVyKTogdGhpcyB7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0TGF5ZXJab29tUmFuZ2UobGF5ZXJJZCwgbWluem9vbSwgbWF4em9vbSk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZmlsdGVyIGZvciB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogRmlsdGVycyBjb250cm9sIHdoaWNoIGZlYXR1cmVzIGEgc3R5bGUgbGF5ZXIgcmVuZGVycyBmcm9tIGl0cyBzb3VyY2UuXG4gICAgICogQW55IGZlYXR1cmUgZm9yIHdoaWNoIHRoZSBmaWx0ZXIgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYHRydWVgIHdpbGwgYmVcbiAgICAgKiByZW5kZXJlZCBvbiB0aGUgbWFwLiBUaG9zZSB0aGF0IGFyZSBmYWxzZSB3aWxsIGJlIGhpZGRlbi5cbiAgICAgKlxuICAgICAqIFVzZSBgc2V0RmlsdGVyYCB0byBzaG93IGEgc3Vic2V0IG9mIHlvdXIgc291cmNlIGRhdGEuXG4gICAgICpcbiAgICAgKiBUbyBjbGVhciB0aGUgZmlsdGVyLCBwYXNzIGBudWxsYCBvciBgdW5kZWZpbmVkYCBhcyB0aGUgc2Vjb25kIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllcklkIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gd2hpY2ggdGhlIGZpbHRlciB3aWxsIGJlIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtBcnJheSB8IG51bGwgfCB1bmRlZmluZWR9IGZpbHRlciBUaGUgZmlsdGVyLCBjb25mb3JtaW5nIHRvIHRoZSBNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbidzXG4gICAgICogICBbZmlsdGVyIGRlZmluaXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL2xheWVycy8jZmlsdGVyKS4gIElmIGBudWxsYCBvciBgdW5kZWZpbmVkYCBpcyBwcm92aWRlZCwgdGhlIGZ1bmN0aW9uIHJlbW92ZXMgYW55IGV4aXN0aW5nIGZpbHRlciBmcm9tIHRoZSBsYXllci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudmFsaWRhdGU9dHJ1ZV0gV2hldGhlciB0byBjaGVjayBpZiB0aGUgZmlsdGVyIGNvbmZvcm1zIHRvIHRoZSBNYXBib3ggR0wgU3R5bGUgU3BlY2lmaWNhdGlvbi4gRGlzYWJsaW5nIHZhbGlkYXRpb24gaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdGhhdCBzaG91bGQgb25seSBiZSB1c2VkIGlmIHlvdSBoYXZlIHByZXZpb3VzbHkgdmFsaWRhdGVkIHRoZSB2YWx1ZXMgeW91IHdpbGwgYmUgcGFzc2luZyB0byB0aGlzIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGRpc3BsYXkgb25seSBmZWF0dXJlcyB3aXRoIHRoZSAnbmFtZScgcHJvcGVydHkgJ1VTQSdcbiAgICAgKiBtYXAuc2V0RmlsdGVyKCdteS1sYXllcicsIFsnPT0nLCBbJ2dldCcsICduYW1lJ10sICdVU0EnXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBkaXNwbGF5IG9ubHkgZmVhdHVyZXMgd2l0aCBmaXZlIG9yIG1vcmUgJ2F2YWlsYWJsZS1zcG90cydcbiAgICAgKiBtYXAuc2V0RmlsdGVyKCdiaWtlLWRvY2tzJywgWyc+PScsIFsnZ2V0JywgJ2F2YWlsYWJsZS1zcG90cyddLCA1XSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyByZW1vdmUgdGhlIGZpbHRlciBmb3IgdGhlICdiaWtlLWRvY2tzJyBzdHlsZSBsYXllclxuICAgICAqIG1hcC5zZXRGaWx0ZXIoJ2Jpa2UtZG9ja3MnLCBudWxsKTtcbiAgICAgKlxuICAgICAqIEBzZWUgW0V4YW1wbGU6IEZpbHRlciBmZWF0dXJlcyB3aXRoaW4gbWFwIHZpZXddKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLWZlYXR1cmVzLXdpdGhpbi1tYXAtdmlldy8pXG4gICAgICogQHNlZSBbRXhhbXBsZTogSGlnaGxpZ2h0IGZlYXR1cmVzIGNvbnRhaW5pbmcgc2ltaWxhciBkYXRhXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3F1ZXJ5LXNpbWlsYXItZmVhdHVyZXMvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IENyZWF0ZSBhIHRpbWVsaW5lIGFuaW1hdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90aW1lbGluZS1hbmltYXRpb24vKVxuICAgICAqIEBzZWUgW1R1dG9yaWFsOiBTaG93IGNoYW5nZXMgb3ZlciB0aW1lXShodHRwczovL2RvY3MubWFwYm94LmNvbS9oZWxwL3R1dG9yaWFscy9zaG93LWNoYW5nZXMtb3Zlci10aW1lLylcbiAgICAgKi9cbiAgICBzZXRGaWx0ZXIobGF5ZXJJZDogc3RyaW5nLCBmaWx0ZXI6ID9GaWx0ZXJTcGVjaWZpY2F0aW9uLCAgb3B0aW9uczogU3R5bGVTZXR0ZXJPcHRpb25zID0ge30pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRGaWx0ZXIobGF5ZXJJZCwgZmlsdGVyLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBmaWx0ZXIgYXBwbGllZCB0byB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVySWQgVGhlIElEIG9mIHRoZSBzdHlsZSBsYXllciB3aG9zZSBmaWx0ZXIgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGxheWVyJ3MgZmlsdGVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZmlsdGVyID0gbWFwLmdldEZpbHRlcignbXlMYXllcicpO1xuICAgICAqL1xuICAgIGdldEZpbHRlcihsYXllcklkOiBzdHJpbmcpOiA/RmlsdGVyU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldEZpbHRlcihsYXllcklkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIHBhaW50IHByb3BlcnR5IGluIHRoZSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXJJZCBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIHNldCB0aGUgcGFpbnQgcHJvcGVydHkgaW4uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHBhaW50IHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgcGFpbnQgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqICAgTXVzdCBiZSBvZiBhIHR5cGUgYXBwcm9wcmlhdGUgZm9yIHRoZSBwcm9wZXJ0eSwgYXMgZGVmaW5lZCBpbiB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLykuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnZhbGlkYXRlPXRydWVdIFdoZXRoZXIgdG8gY2hlY2sgaWYgYHZhbHVlYCBjb25mb3JtcyB0byB0aGUgTWFwYm94IEdMIFN0eWxlIFNwZWNpZmljYXRpb24uIERpc2FibGluZyB2YWxpZGF0aW9uIGlzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRoYXQgc2hvdWxkIG9ubHkgYmUgdXNlZCBpZiB5b3UgaGF2ZSBwcmV2aW91c2x5IHZhbGlkYXRlZCB0aGUgdmFsdWVzIHlvdSB3aWxsIGJlIHBhc3NpbmcgdG8gdGhpcyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldFBhaW50UHJvcGVydHkoJ215LWxheWVyJywgJ2ZpbGwtY29sb3InLCAnI2ZhYWZlZScpO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IENoYW5nZSBhIGxheWVyJ3MgY29sb3Igd2l0aCBidXR0b25zXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NvbG9yLXN3aXRjaGVyLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGp1c3QgYSBsYXllcidzIG9wYWNpdHldKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRqdXN0LWxheWVyLW9wYWNpdHkvKVxuICAgICAqIEBzZWUgW0V4YW1wbGU6IENyZWF0ZSBhIGRyYWdnYWJsZSBwb2ludF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHNldFBhaW50UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksIG9wdGlvbnM6IFN0eWxlU2V0dGVyT3B0aW9ucyA9IHt9KTogdGhpcyB7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0UGFpbnRQcm9wZXJ0eShsYXllcklkLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBwYWludCBwcm9wZXJ0eSBpbiB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVySWQgVGhlIElEIG9mIHRoZSBsYXllciB0byBnZXQgdGhlIHBhaW50IHByb3BlcnR5IGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgYSBwYWludCBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSBvZiB0aGUgc3BlY2lmaWVkIHBhaW50IHByb3BlcnR5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgcGFpbnRQcm9wZXJ0eSA9IG1hcC5nZXRQYWludFByb3BlcnR5KCdteVN5bWJvbExheWVyJywgJ2ljb24tY29sb3InKTtcbiAgICAgKi9cbiAgICBnZXRQYWludFByb3BlcnR5KGxheWVySWQ6IHN0cmluZywgbmFtZTogc3RyaW5nKTogdm9pZCB8IFRyYW5zaXRpb25TcGVjaWZpY2F0aW9uIHwgUHJvcGVydHlWYWx1ZVNwZWNpZmljYXRpb248bWl4ZWQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0UGFpbnRQcm9wZXJ0eShsYXllcklkLCBuYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIGxheW91dCBwcm9wZXJ0eSBpbiB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVySWQgVGhlIElEIG9mIHRoZSBsYXllciB0byBzZXQgdGhlIGxheW91dCBwcm9wZXJ0eSBpbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbGF5b3V0IHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgbGF5b3V0IHByb3BlcnR5LiBNdXN0IGJlIG9mIGEgdHlwZSBhcHByb3ByaWF0ZSBmb3IgdGhlIHByb3BlcnR5LCBhcyBkZWZpbmVkIGluIHRoZSBbTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvKS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudmFsaWRhdGU9dHJ1ZV0gV2hldGhlciB0byBjaGVjayBpZiBgdmFsdWVgIGNvbmZvcm1zIHRvIHRoZSBNYXBib3ggR0wgU3R5bGUgU3BlY2lmaWNhdGlvbi4gRGlzYWJsaW5nIHZhbGlkYXRpb24gaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdGhhdCBzaG91bGQgb25seSBiZSB1c2VkIGlmIHlvdSBoYXZlIHByZXZpb3VzbHkgdmFsaWRhdGVkIHRoZSB2YWx1ZXMgeW91IHdpbGwgYmUgcGFzc2luZyB0byB0aGlzIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TGF5b3V0UHJvcGVydHkoJ215LWxheWVyJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IFNob3cgYW5kIGhpZGUgbGF5ZXJzXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90b2dnbGUtbGF5ZXJzLylcbiAgICAgKi9cbiAgICBzZXRMYXlvdXRQcm9wZXJ0eShsYXllcklkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSwgb3B0aW9uczogU3R5bGVTZXR0ZXJPcHRpb25zID0ge30pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRMYXlvdXRQcm9wZXJ0eShsYXllcklkLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBsYXlvdXQgcHJvcGVydHkgaW4gdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllcklkIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gZ2V0IHRoZSBsYXlvdXQgcHJvcGVydHkgZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbGF5b3V0IHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIG9mIHRoZSBzcGVjaWZpZWQgbGF5b3V0IHByb3BlcnR5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbGF5b3V0UHJvcGVydHkgPSBtYXAuZ2V0TGF5b3V0UHJvcGVydHkoJ215U3ltYm9sTGF5ZXInLCAnaWNvbi1hbmNob3InKTtcbiAgICAgKi9cbiAgICBnZXRMYXlvdXRQcm9wZXJ0eShsYXllcklkOiBzdHJpbmcsIG5hbWU6IHN0cmluZyk6ID9Qcm9wZXJ0eVZhbHVlU3BlY2lmaWNhdGlvbjxtaXhlZD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5nZXRMYXlvdXRQcm9wZXJ0eShsYXllcklkLCBuYW1lKTtcbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge1N0eWxlIHByb3BlcnRpZXN9ICovXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhbnkgY29tYmluYXRpb24gb2YgbGlnaHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtMaWdodFNwZWNpZmljYXRpb259IGxpZ2h0IExpZ2h0IHByb3BlcnRpZXMgdG8gc2V0LiBNdXN0IGNvbmZvcm0gdG8gdGhlIFtMaWdodCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNsaWdodCkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnZhbGlkYXRlPXRydWVdIFdoZXRoZXIgdG8gY2hlY2sgaWYgdGhlIGZpbHRlciBjb25mb3JtcyB0byB0aGUgTWFwYm94IEdMIFN0eWxlIFNwZWNpZmljYXRpb24uIERpc2FibGluZyB2YWxpZGF0aW9uIGlzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRoYXQgc2hvdWxkIG9ubHkgYmUgdXNlZCBpZiB5b3UgaGF2ZSBwcmV2aW91c2x5IHZhbGlkYXRlZCB0aGUgdmFsdWVzIHlvdSB3aWxsIGJlIHBhc3NpbmcgdG8gdGhpcyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldExpZ2h0KHtcbiAgICAgKiAgICAgXCJhbmNob3JcIjogXCJ2aWV3cG9ydFwiLFxuICAgICAqICAgICBcImNvbG9yXCI6IFwiYmx1ZVwiLFxuICAgICAqICAgICBcImludGVuc2l0eVwiOiAwLjVcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBzZXRMaWdodChsaWdodDogTGlnaHRTcGVjaWZpY2F0aW9uLCBvcHRpb25zOiBTdHlsZVNldHRlck9wdGlvbnMgPSB7fSk6IHRoaXMge1xuICAgICAgICB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKTtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRMaWdodChsaWdodCwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGxpZ2h0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMaWdodFNwZWNpZmljYXRpb259IExpZ2h0IHByb3BlcnRpZXMgb2YgdGhlIHN0eWxlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbGlnaHQgPSBtYXAuZ2V0TGlnaHQoKTtcbiAgICAgKi9cbiAgICBnZXRMaWdodCgpOiBMaWdodFNwZWNpZmljYXRpb24ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5nZXRMaWdodCgpO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc2RvYy9yZXF1aXJlLXJldHVybnNcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0ZXJyYWluIHByb3BlcnR5IG9mIHRoZSBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGVycmFpblNwZWNpZmljYXRpb259IHRlcnJhaW4gVGVycmFpbiBwcm9wZXJ0aWVzIHRvIHNldC4gTXVzdCBjb25mb3JtIHRvIHRoZSBbVGVycmFpbiBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy90ZXJyYWluLykuXG4gICAgICogSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCBmdW5jdGlvbiByZW1vdmVzIHRlcnJhaW4uXG4gICAgICogQHJldHVybnMge01hcH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgZm9yIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5hZGRTb3VyY2UoJ21hcGJveC1kZW0nLCB7XG4gICAgICogICAgICd0eXBlJzogJ3Jhc3Rlci1kZW0nLFxuICAgICAqICAgICAndXJsJzogJ21hcGJveDovL21hcGJveC5tYXBib3gtdGVycmFpbi1kZW0tdjEnLFxuICAgICAqICAgICAndGlsZVNpemUnOiA1MTIsXG4gICAgICogICAgICdtYXh6b29tJzogMTRcbiAgICAgKiB9KTtcbiAgICAgKiAvLyBhZGQgdGhlIERFTSBzb3VyY2UgYXMgYSB0ZXJyYWluIGxheWVyIHdpdGggZXhhZ2dlcmF0ZWQgaGVpZ2h0XG4gICAgICogbWFwLnNldFRlcnJhaW4oeydzb3VyY2UnOiAnbWFwYm94LWRlbScsICdleGFnZ2VyYXRpb24nOiAxLjV9KTtcbiAgICAgKi9cbiAgICBzZXRUZXJyYWluKHRlcnJhaW46IFRlcnJhaW5TcGVjaWZpY2F0aW9uKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpO1xuICAgICAgICBpZiAoIXRlcnJhaW4gJiYgdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5yZXF1aXJlc0RyYXBpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuc2V0VGVycmFpbkZvckRyYXBpbmcoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuc2V0VGVycmFpbih0ZXJyYWluKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdCA9IC1JbmZpbml0eTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0ZXJyYWluIHNwZWNpZmljYXRpb24gb3IgYG51bGxgIGlmIHRlcnJhaW4gaXNuJ3Qgc2V0IG9uIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7VGVycmFpblNwZWNpZmljYXRpb24gfCBudWxsfSBUZXJyYWluIHNwZWNpZmljYXRpb24gcHJvcGVydGllcyBvZiB0aGUgc3R5bGUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCB0ZXJyYWluID0gbWFwLmdldFRlcnJhaW4oKTtcbiAgICAgKi9cbiAgICBnZXRUZXJyYWluKCk6ID9UZXJyYWluU3BlY2lmaWNhdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlID8gdGhpcy5zdHlsZS5nZXRUZXJyYWluKCkgOiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGZvZyBwcm9wZXJ0eSBvZiB0aGUgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0ZvZ1NwZWNpZmljYXRpb259IGZvZyBUaGUgZm9nIHByb3BlcnRpZXMgdG8gc2V0LiBNdXN0IGNvbmZvcm0gdG8gdGhlIFtGb2cgU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvZm9nLykuXG4gICAgICogSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCB0aGlzIGZ1bmN0aW9uIGNhbGwgcmVtb3ZlcyB0aGUgZm9nIGZyb20gdGhlIG1hcC5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBSZXR1cm5zIGl0c2VsZiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldEZvZyh7XG4gICAgICogICAgIFwicmFuZ2VcIjogWzAuOCwgOF0sXG4gICAgICogICAgIFwiY29sb3JcIjogXCIjZGM5ZjlmXCIsXG4gICAgICogICAgIFwiaG9yaXpvbi1ibGVuZFwiOiAwLjUsXG4gICAgICogICAgIFwiaGlnaC1jb2xvclwiOiBcIiMyNDViZGVcIixcbiAgICAgKiAgICAgXCJzcGFjZS1jb2xvclwiOiBcIiMwMDAwMDBcIixcbiAgICAgKiAgICAgXCJzdGFyLWludGVuc2l0eVwiOiAwLjE1XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRXhhbXBsZTogQWRkIGZvZyB0byBhIG1hcF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLWZvZy8pXG4gICAgICovXG4gICAgc2V0Rm9nKGZvZzogRm9nU3BlY2lmaWNhdGlvbik6IHRoaXMge1xuICAgICAgICB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKTtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRGb2coZm9nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBmb2cgc3BlY2lmaWNhdGlvbiBvciBgbnVsbGAgaWYgZm9nIGlzIG5vdCBzZXQgb24gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtGb2dTcGVjaWZpY2F0aW9ufSBGb2cgc3BlY2lmaWNhdGlvbiBwcm9wZXJ0aWVzIG9mIHRoZSBzdHlsZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGZvZyA9IG1hcC5nZXRGb2coKTtcbiAgICAgKi9cbiAgICBnZXRGb2coKTogP0ZvZ1NwZWNpZmljYXRpb24ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZSA/IHRoaXMuc3R5bGUuZ2V0Rm9nKCkgOiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZvZyBvcGFjaXR5IGZvciBhIGdpdmVuIGxvY2F0aW9uLlxuICAgICAqXG4gICAgICogQW4gb3BhY2l0eSBvZiAwIG1lYW5zIHRoYXQgdGhlcmUgaXMgbm8gZm9nIGNvbnRyaWJ1dGlvbiBmb3IgdGhlIGdpdmVuIGxvY2F0aW9uXG4gICAgICogd2hpbGUgYSBmb2cgb3BhY2l0eSBvZiAxLjAgbWVhbnMgdGhlIGxvY2F0aW9uIGlzIGZ1bGx5IG9ic2N1cmVkIGJ5IHRoZSBmb2cgZWZmZWN0LlxuICAgICAqXG4gICAgICogSWYgdGhlcmUgaXMgbm8gZm9nIHNldCBvbiB0aGUgbWFwLCB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIDAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdExpa2V9IGxuZ2xhdCBUaGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIHRvIGV2YWx1YXRlIHRoZSBmb2cgb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gQSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50aW5nIHRoZSBmb2cgb3BhY2l0eSwgd2hlcmUgMSBtZWFucyBmdWxseSB3aXRoaW4sIGFuZCAwIG1lYW5zIG5vdCBhZmZlY3RlZCBieSB0aGUgZm9nIGVmZmVjdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9xdWVyeUZvZ09wYWNpdHkobG5nbGF0OiBMbmdMYXRMaWtlKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0eWxlIHx8ICF0aGlzLnN0eWxlLmZvZykgcmV0dXJuIDAuMDtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZm9nLmdldE9wYWNpdHlBdExhdExuZyhMbmdMYXQuY29udmVydChsbmdsYXQpLCB0aGlzLnRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgLyoqIEBzZWN0aW9uIHtGZWF0dXJlIHN0YXRlfSAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHN0YXRlYCBvZiBhIGZlYXR1cmUuXG4gICAgICogQSBmZWF0dXJlJ3MgYHN0YXRlYCBpcyBhIHNldCBvZiB1c2VyLWRlZmluZWQga2V5LXZhbHVlIHBhaXJzIHRoYXQgYXJlIGFzc2lnbmVkIHRvIGEgZmVhdHVyZSBhdCBydW50aW1lLlxuICAgICAqIFdoZW4gdXNpbmcgdGhpcyBtZXRob2QsIHRoZSBgc3RhdGVgIG9iamVjdCBpcyBtZXJnZWQgd2l0aCBhbnkgZXhpc3Rpbmcga2V5LXZhbHVlIHBhaXJzIGluIHRoZSBmZWF0dXJlJ3Mgc3RhdGUuXG4gICAgICogRmVhdHVyZXMgYXJlIGlkZW50aWZpZWQgYnkgdGhlaXIgYGlkYCBhdHRyaWJ1dGUsIHdoaWNoIGNhbiBiZSBhbnkgbnVtYmVyIG9yIHN0cmluZy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBzb3VyY2VzIHRoYXQgaGF2ZSBhIGBpZGAgYXR0cmlidXRlLiBUaGUgYGlkYCBhdHRyaWJ1dGUgY2FuIGJlIGRlZmluZWQgaW4gdGhyZWUgd2F5czpcbiAgICAgKiAtIEZvciB2ZWN0b3Igb3IgR2VvSlNPTiBzb3VyY2VzLCBpbmNsdWRpbmcgYW4gYGlkYCBhdHRyaWJ1dGUgaW4gdGhlIG9yaWdpbmFsIGRhdGEgZmlsZS5cbiAgICAgKiAtIEZvciB2ZWN0b3Igb3IgR2VvSlNPTiBzb3VyY2VzLCB1c2luZyB0aGUgW2Bwcm9tb3RlSWRgXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy9zb3VyY2VzLyN2ZWN0b3ItcHJvbW90ZUlkKSBvcHRpb24gYXQgdGhlIHRpbWUgdGhlIHNvdXJjZSBpcyBkZWZpbmVkLlxuICAgICAqIC0gRm9yIEdlb0pTT04gc291cmNlcywgdXNpbmcgdGhlIFtgZ2VuZXJhdGVJZGBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvI2dlb2pzb24tZ2VuZXJhdGVJZCkgb3B0aW9uIHRvIGF1dG8tYXNzaWduIGFuIGBpZGAgYmFzZWQgb24gdGhlIGZlYXR1cmUncyBpbmRleCBpbiB0aGUgc291cmNlIGRhdGEuIElmIHlvdSBjaGFuZ2UgZmVhdHVyZSBkYXRhIHVzaW5nIGBtYXAuZ2V0U291cmNlKCdzb21lIGlkJykuc2V0RGF0YSguLi4pYCwgeW91IG1heSBuZWVkIHRvIHJlLWFwcGx5IHN0YXRlIHRha2luZyBpbnRvIGFjY291bnQgdXBkYXRlZCBgaWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIF9Ob3RlOiBZb3UgY2FuIHVzZSB0aGUgW2BmZWF0dXJlLXN0YXRlYCBleHByZXNzaW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy9leHByZXNzaW9ucy8jZmVhdHVyZS1zdGF0ZSkgdG8gYWNjZXNzIHRoZSB2YWx1ZXMgaW4gYSBmZWF0dXJlJ3Mgc3RhdGUgb2JqZWN0IGZvciB0aGUgcHVycG9zZXMgb2Ygc3R5bGluZ18uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZmVhdHVyZSBGZWF0dXJlIGlkZW50aWZpZXIuIEZlYXR1cmUgb2JqZWN0cyByZXR1cm5lZCBmcm9tXG4gICAgICoge0BsaW5rIE1hcCNxdWVyeVJlbmRlcmVkRmVhdHVyZXN9IG9yIGV2ZW50IGhhbmRsZXJzIGNhbiBiZSB1c2VkIGFzIGZlYXR1cmUgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IGZlYXR1cmUuaWQgVW5pcXVlIGlkIG9mIHRoZSBmZWF0dXJlLiBDYW4gYmUgYW4gaW50ZWdlciBvciBhIHN0cmluZywgYnV0IHN1cHBvcnRzIHN0cmluZyB2YWx1ZXMgb25seSB3aGVuIHRoZSBbYHByb21vdGVJZGBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvI3ZlY3Rvci1wcm9tb3RlSWQpIG9wdGlvbiBoYXMgYmVlbiBhcHBsaWVkIHRvIHRoZSBzb3VyY2Ugb3IgdGhlIHN0cmluZyBjYW4gYmUgY2FzdCB0byBhbiBpbnRlZ2VyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmZWF0dXJlLnNvdXJjZSBUaGUgaWQgb2YgdGhlIHZlY3RvciBvciBHZW9KU09OIHNvdXJjZSBmb3IgdGhlIGZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmZWF0dXJlLnNvdXJjZUxheWVyXSAob3B0aW9uYWwpICpGb3IgdmVjdG9yIHRpbGUgc291cmNlcywgYHNvdXJjZUxheWVyYCBpcyByZXF1aXJlZCouXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIEEgc2V0IG9mIGtleS12YWx1ZSBwYWlycy4gVGhlIHZhbHVlcyBzaG91bGQgYmUgdmFsaWQgSlNPTiB0eXBlcy5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBUaGUgbWFwIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFdoZW4gdGhlIG1vdXNlIG1vdmVzIG92ZXIgdGhlIGBteS1sYXllcmAgbGF5ZXIsIHVwZGF0ZVxuICAgICAqIC8vIHRoZSBmZWF0dXJlIHN0YXRlIGZvciB0aGUgZmVhdHVyZSB1bmRlciB0aGUgbW91c2VcbiAgICAgKiBtYXAub24oJ21vdXNlbW92ZScsICdteS1sYXllcicsIChlKSA9PiB7XG4gICAgICogICAgIGlmIChlLmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgKiAgICAgICAgIG1hcC5zZXRGZWF0dXJlU3RhdGUoe1xuICAgICAqICAgICAgICAgICAgIHNvdXJjZTogJ215LXNvdXJjZScsXG4gICAgICogICAgICAgICAgICAgc291cmNlTGF5ZXI6ICdteS1zb3VyY2UtbGF5ZXInLFxuICAgICAqICAgICAgICAgICAgIGlkOiBlLmZlYXR1cmVzWzBdLmlkLFxuICAgICAqICAgICAgICAgfSwge1xuICAgICAqICAgICAgICAgICAgIGhvdmVyOiB0cnVlXG4gICAgICogICAgICAgICB9KTtcbiAgICAgKiAgICAgfVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHNlZSBbRXhhbXBsZTogQ3JlYXRlIGEgaG92ZXIgZWZmZWN0XShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9ob3Zlci1zdHlsZXMvKVxuICAgICAqIEBzZWUgW1R1dG9yaWFsOiBDcmVhdGUgaW50ZXJhY3RpdmUgaG92ZXIgZWZmZWN0cyB3aXRoIE1hcGJveCBHTCBKU10oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vaGVscC90dXRvcmlhbHMvY3JlYXRlLWludGVyYWN0aXZlLWhvdmVyLWVmZmVjdHMtd2l0aC1tYXBib3gtZ2wtanMvKVxuICAgICAqL1xuICAgIHNldEZlYXR1cmVTdGF0ZShmZWF0dXJlOiB7IHNvdXJjZTogc3RyaW5nOyBzb3VyY2VMYXllcj86IHN0cmluZzsgaWQ6IHN0cmluZyB8IG51bWJlcjsgfSwgc3RhdGU6IE9iamVjdCk6IHRoaXMge1xuICAgICAgICB0aGlzLnN0eWxlLnNldEZlYXR1cmVTdGF0ZShmZWF0dXJlLCBzdGF0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganNkb2MvcmVxdWlyZS1yZXR1cm5zXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgYHN0YXRlYCBvZiBhIGZlYXR1cmUsIHNldHRpbmcgaXQgYmFjayB0byB0aGUgZGVmYXVsdCBiZWhhdmlvci5cbiAgICAgKiBJZiBvbmx5IGEgYGZlYXR1cmUuc291cmNlYCBpcyBzcGVjaWZpZWQsIGl0IHdpbGwgcmVtb3ZlIHRoZSBzdGF0ZSBmb3IgYWxsIGZlYXR1cmVzIGZyb20gdGhhdCBzb3VyY2UuXG4gICAgICogSWYgYGZlYXR1cmUuaWRgIGlzIGFsc28gc3BlY2lmaWVkLCBpdCB3aWxsIHJlbW92ZSBhbGwga2V5cyBmb3IgdGhhdCBmZWF0dXJlJ3Mgc3RhdGUuXG4gICAgICogSWYgYGtleWAgaXMgYWxzbyBzcGVjaWZpZWQsIGl0IHJlbW92ZXMgb25seSB0aGF0IGtleSBmcm9tIHRoYXQgZmVhdHVyZSdzIHN0YXRlLlxuICAgICAqIEZlYXR1cmVzIGFyZSBpZGVudGlmaWVkIGJ5IHRoZWlyIGBmZWF0dXJlLmlkYCBhdHRyaWJ1dGUsIHdoaWNoIGNhbiBiZSBhbnkgbnVtYmVyIG9yIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmZWF0dXJlIElkZW50aWZpZXIgb2Ygd2hlcmUgdG8gcmVtb3ZlIHN0YXRlLiBJdCBjYW4gYmUgYSBzb3VyY2UsIGEgZmVhdHVyZSwgb3IgYSBzcGVjaWZpYyBrZXkgb2YgZmVhdHVyZS5cbiAgICAgKiBGZWF0dXJlIG9iamVjdHMgcmV0dXJuZWQgZnJvbSB7QGxpbmsgTWFwI3F1ZXJ5UmVuZGVyZWRGZWF0dXJlc30gb3IgZXZlbnQgaGFuZGxlcnMgY2FuIGJlIHVzZWQgYXMgZmVhdHVyZSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gZmVhdHVyZS5pZCBVbmlxdWUgaWQgb2YgdGhlIGZlYXR1cmUuIENhbiBiZSBhbiBpbnRlZ2VyIG9yIGEgc3RyaW5nLCBidXQgc3VwcG9ydHMgc3RyaW5nIHZhbHVlcyBvbmx5IHdoZW4gdGhlIFtgcHJvbW90ZUlkYF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvc291cmNlcy8jdmVjdG9yLXByb21vdGVJZCkgb3B0aW9uIGhhcyBiZWVuIGFwcGxpZWQgdG8gdGhlIHNvdXJjZSBvciB0aGUgc3RyaW5nIGNhbiBiZSBjYXN0IHRvIGFuIGludGVnZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZlYXR1cmUuc291cmNlIFRoZSBpZCBvZiB0aGUgdmVjdG9yIG9yIEdlb0pTT04gc291cmNlIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZlYXR1cmUuc291cmNlTGF5ZXJdIChvcHRpb25hbCkgRm9yIHZlY3RvciB0aWxlIHNvdXJjZXMsIGBzb3VyY2VMYXllcmAgaXMgcmVxdWlyZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAob3B0aW9uYWwpIFRoZSBrZXkgaW4gdGhlIGZlYXR1cmUgc3RhdGUgdG8gcmVzZXQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFJlc2V0IHRoZSBlbnRpcmUgc3RhdGUgb2JqZWN0IGZvciBhbGwgZmVhdHVyZXNcbiAgICAgKiAvLyBpbiB0aGUgYG15LXNvdXJjZWAgc291cmNlXG4gICAgICogbWFwLnJlbW92ZUZlYXR1cmVTdGF0ZSh7XG4gICAgICogICAgIHNvdXJjZTogJ215LXNvdXJjZSdcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gV2hlbiB0aGUgbW91c2UgbGVhdmVzIHRoZSBgbXktbGF5ZXJgIGxheWVyLFxuICAgICAqIC8vIHJlc2V0IHRoZSBlbnRpcmUgc3RhdGUgb2JqZWN0IGZvciB0aGVcbiAgICAgKiAvLyBmZWF0dXJlIHVuZGVyIHRoZSBtb3VzZVxuICAgICAqIG1hcC5vbignbW91c2VsZWF2ZScsICdteS1sYXllcicsIChlKSA9PiB7XG4gICAgICogICAgIG1hcC5yZW1vdmVGZWF0dXJlU3RhdGUoe1xuICAgICAqICAgICAgICAgc291cmNlOiAnbXktc291cmNlJyxcbiAgICAgKiAgICAgICAgIHNvdXJjZUxheWVyOiAnbXktc291cmNlLWxheWVyJyxcbiAgICAgKiAgICAgICAgIGlkOiBlLmZlYXR1cmVzWzBdLmlkXG4gICAgICogICAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBXaGVuIHRoZSBtb3VzZSBsZWF2ZXMgdGhlIGBteS1sYXllcmAgbGF5ZXIsXG4gICAgICogLy8gcmVzZXQgb25seSB0aGUgYGhvdmVyYCBrZXktdmFsdWUgcGFpciBpbiB0aGVcbiAgICAgKiAvLyBzdGF0ZSBmb3IgdGhlIGZlYXR1cmUgdW5kZXIgdGhlIG1vdXNlXG4gICAgICogbWFwLm9uKCdtb3VzZWxlYXZlJywgJ215LWxheWVyJywgKGUpID0+IHtcbiAgICAgKiAgICAgbWFwLnJlbW92ZUZlYXR1cmVTdGF0ZSh7XG4gICAgICogICAgICAgICBzb3VyY2U6ICdteS1zb3VyY2UnLFxuICAgICAqICAgICAgICAgc291cmNlTGF5ZXI6ICdteS1zb3VyY2UtbGF5ZXInLFxuICAgICAqICAgICAgICAgaWQ6IGUuZmVhdHVyZXNbMF0uaWRcbiAgICAgKiAgICAgfSwgJ2hvdmVyJyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAqL1xuICAgIHJlbW92ZUZlYXR1cmVTdGF0ZShmZWF0dXJlOiB7IHNvdXJjZTogc3RyaW5nOyBzb3VyY2VMYXllcj86IHN0cmluZzsgaWQ/OiBzdHJpbmcgfCBudW1iZXI7IH0sIGtleT86IHN0cmluZyk6IHRoaXMge1xuICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZUZlYXR1cmVTdGF0ZShmZWF0dXJlLCBrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYHN0YXRlYCBvZiBhIGZlYXR1cmUuXG4gICAgICogQSBmZWF0dXJlJ3MgYHN0YXRlYCBpcyBhIHNldCBvZiB1c2VyLWRlZmluZWQga2V5LXZhbHVlIHBhaXJzIHRoYXQgYXJlIGFzc2lnbmVkIHRvIGEgZmVhdHVyZSBhdCBydW50aW1lLlxuICAgICAqIEZlYXR1cmVzIGFyZSBpZGVudGlmaWVkIGJ5IHRoZWlyIGBpZGAgYXR0cmlidXRlLCB3aGljaCBjYW4gYmUgYW55IG51bWJlciBvciBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBfTm90ZTogVG8gYWNjZXNzIHRoZSB2YWx1ZXMgaW4gYSBmZWF0dXJlJ3Mgc3RhdGUgb2JqZWN0IGZvciB0aGUgcHVycG9zZXMgb2Ygc3R5bGluZyB0aGUgZmVhdHVyZSwgdXNlIHRoZSBbYGZlYXR1cmUtc3RhdGVgIGV4cHJlc3Npb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL2V4cHJlc3Npb25zLyNmZWF0dXJlLXN0YXRlKV8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZmVhdHVyZSBGZWF0dXJlIGlkZW50aWZpZXIuIEZlYXR1cmUgb2JqZWN0cyByZXR1cm5lZCBmcm9tXG4gICAgICoge0BsaW5rIE1hcCNxdWVyeVJlbmRlcmVkRmVhdHVyZXN9IG9yIGV2ZW50IGhhbmRsZXJzIGNhbiBiZSB1c2VkIGFzIGZlYXR1cmUgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IGZlYXR1cmUuaWQgVW5pcXVlIGlkIG9mIHRoZSBmZWF0dXJlLiBDYW4gYmUgYW4gaW50ZWdlciBvciBhIHN0cmluZywgYnV0IHN1cHBvcnRzIHN0cmluZyB2YWx1ZXMgb25seSB3aGVuIHRoZSBbYHByb21vdGVJZGBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjL3NvdXJjZXMvI3ZlY3Rvci1wcm9tb3RlSWQpIG9wdGlvbiBoYXMgYmVlbiBhcHBsaWVkIHRvIHRoZSBzb3VyY2Ugb3IgdGhlIHN0cmluZyBjYW4gYmUgY2FzdCB0byBhbiBpbnRlZ2VyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmZWF0dXJlLnNvdXJjZSBUaGUgaWQgb2YgdGhlIHZlY3RvciBvciBHZW9KU09OIHNvdXJjZSBmb3IgdGhlIGZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmZWF0dXJlLnNvdXJjZUxheWVyXSAob3B0aW9uYWwpICpGb3IgdmVjdG9yIHRpbGUgc291cmNlcywgYHNvdXJjZUxheWVyYCBpcyByZXF1aXJlZCouXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgc3RhdGUgb2YgdGhlIGZlYXR1cmU6IGEgc2V0IG9mIGtleS12YWx1ZSBwYWlycyB0aGF0IHdhcyBhc3NpZ25lZCB0byB0aGUgZmVhdHVyZSBhdCBydW50aW1lLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBXaGVuIHRoZSBtb3VzZSBtb3ZlcyBvdmVyIHRoZSBgbXktbGF5ZXJgIGxheWVyLFxuICAgICAqIC8vIGdldCB0aGUgZmVhdHVyZSBzdGF0ZSBmb3IgdGhlIGZlYXR1cmUgdW5kZXIgdGhlIG1vdXNlXG4gICAgICogbWFwLm9uKCdtb3VzZW1vdmUnLCAnbXktbGF5ZXInLCAoZSkgPT4ge1xuICAgICAqICAgICBpZiAoZS5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICogICAgICAgICBtYXAuZ2V0RmVhdHVyZVN0YXRlKHtcbiAgICAgKiAgICAgICAgICAgICBzb3VyY2U6ICdteS1zb3VyY2UnLFxuICAgICAqICAgICAgICAgICAgIHNvdXJjZUxheWVyOiAnbXktc291cmNlLWxheWVyJyxcbiAgICAgKiAgICAgICAgICAgICBpZDogZS5mZWF0dXJlc1swXS5pZFxuICAgICAqICAgICAgICAgfSk7XG4gICAgICogICAgIH1cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqL1xuICAgIGdldEZlYXR1cmVTdGF0ZShmZWF0dXJlOiB7IHNvdXJjZTogc3RyaW5nOyBzb3VyY2VMYXllcj86IHN0cmluZzsgaWQ6IHN0cmluZyB8IG51bWJlcjsgfSk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldEZlYXR1cmVTdGF0ZShmZWF0dXJlKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlQ29udGFpbmVyRGltZW5zaW9ucygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jb250YWluZXIpIHJldHVybjtcblxuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCB8fCA0MDA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgfHwgMzAwO1xuXG4gICAgICAgIGxldCB0cmFuc2Zvcm1WYWx1ZXM7XG4gICAgICAgIGxldCB0cmFuc2Zvcm1TY2FsZVdpZHRoO1xuICAgICAgICBsZXQgdHJhbnNmb3JtU2NhbGVIZWlnaHQ7XG4gICAgICAgIGxldCBlbDogP0VsZW1lbnQgPSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIHdoaWxlIChlbCAmJiAoIXRyYW5zZm9ybVNjYWxlV2lkdGggfHwgIXRyYW5zZm9ybVNjYWxlSGVpZ2h0KSkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtTWF0cml4ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1NYXRyaXggJiYgdHJhbnNmb3JtTWF0cml4ICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1WYWx1ZXMgPSB0cmFuc2Zvcm1NYXRyaXgubWF0Y2goL21hdHJpeC4qXFwoKC4rKVxcKS8pWzFdLnNwbGl0KCcsICcpO1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1WYWx1ZXNbMF0gJiYgdHJhbnNmb3JtVmFsdWVzWzBdICE9PSAnMCcgJiYgdHJhbnNmb3JtVmFsdWVzWzBdICE9PSAnMScpIHRyYW5zZm9ybVNjYWxlV2lkdGggPSB0cmFuc2Zvcm1WYWx1ZXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybVZhbHVlc1szXSAmJiB0cmFuc2Zvcm1WYWx1ZXNbM10gIT09ICcwJyAmJiB0cmFuc2Zvcm1WYWx1ZXNbM10gIT09ICcxJykgdHJhbnNmb3JtU2NhbGVIZWlnaHQgPSB0cmFuc2Zvcm1WYWx1ZXNbM107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb250YWluZXJXaWR0aCA9IHRyYW5zZm9ybVNjYWxlV2lkdGggPyBNYXRoLmFicyh3aWR0aCAvIHRyYW5zZm9ybVNjYWxlV2lkdGgpIDogd2lkdGg7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lckhlaWdodCA9IHRyYW5zZm9ybVNjYWxlSGVpZ2h0ID8gTWF0aC5hYnMoaGVpZ2h0IC8gdHJhbnNmb3JtU2NhbGVIZWlnaHQpIDogaGVpZ2h0O1xuICAgIH1cblxuICAgIF9kZXRlY3RNaXNzaW5nQ1NTKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjb21wdXRlZENvbG9yID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5fbWlzc2luZ0NTU0NhbmFyeSkuZ2V0UHJvcGVydHlWYWx1ZSgnYmFja2dyb3VuZC1jb2xvcicpO1xuICAgICAgICBpZiAoY29tcHV0ZWRDb2xvciAhPT0gJ3JnYigyNTAsIDEyOCwgMTE0KScpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKCdUaGlzIHBhZ2UgYXBwZWFycyB0byBiZSBtaXNzaW5nIENTUyBkZWNsYXJhdGlvbnMgZm9yICcgK1xuICAgICAgICAgICAgICAgICdNYXBib3ggR0wgSlMsIHdoaWNoIG1heSBjYXVzZSB0aGUgbWFwIHRvIGRpc3BsYXkgaW5jb3JyZWN0bHkuICcgK1xuICAgICAgICAgICAgICAgICdQbGVhc2UgZW5zdXJlIHlvdXIgcGFnZSBpbmNsdWRlcyBtYXBib3gtZ2wuY3NzLCBhcyBkZXNjcmliZWQgJyArXG4gICAgICAgICAgICAgICAgJ2luIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS8uJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLW1hcCcpO1xuXG4gICAgICAgIGNvbnN0IG1pc3NpbmdDU1NDYW5hcnkgPSB0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5ID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWNhbmFyeScsIGNvbnRhaW5lcik7XG4gICAgICAgIG1pc3NpbmdDU1NDYW5hcnkuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICB0aGlzLl9kZXRlY3RNaXNzaW5nQ1NTKCk7XG5cbiAgICAgICAgY29uc3QgY2FudmFzQ29udGFpbmVyID0gdGhpcy5fY2FudmFzQ29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWNhbnZhcy1jb250YWluZXInLCBjb250YWluZXIpO1xuICAgICAgICBpZiAodGhpcy5faW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIGNhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1pbnRlcmFjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2FudmFzID0gRE9NLmNyZWF0ZSgnY2FudmFzJywgJ21hcGJveGdsLWNhbnZhcycsIGNhbnZhc0NvbnRhaW5lcik7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLl9jb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuX2NvbnRleHRSZXN0b3JlZCwgZmFsc2UpO1xuICAgICAgICB0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzLl9nZXRVSVN0cmluZygnTWFwLlRpdGxlJykpO1xuICAgICAgICB0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3JlZ2lvbicpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbnRhaW5lckRpbWVuc2lvbnMoKTtcbiAgICAgICAgdGhpcy5fcmVzaXplQ2FudmFzKHRoaXMuX2NvbnRhaW5lcldpZHRoLCB0aGlzLl9jb250YWluZXJIZWlnaHQpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRyb2xDb250YWluZXIgPSB0aGlzLl9jb250cm9sQ29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWNvbnRyb2wtY29udGFpbmVyJywgY29udGFpbmVyKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gdGhpcy5fY29udHJvbFBvc2l0aW9ucyA9IHt9O1xuICAgICAgICBbJ3RvcC1sZWZ0JywgJ3RvcC1yaWdodCcsICdib3R0b20tbGVmdCcsICdib3R0b20tcmlnaHQnXS5mb3JFYWNoKChwb3NpdGlvbk5hbWUpID0+IHtcbiAgICAgICAgICAgIHBvc2l0aW9uc1twb3NpdGlvbk5hbWVdID0gRE9NLmNyZWF0ZSgnZGl2JywgYG1hcGJveGdsLWN0cmwtJHtwb3NpdGlvbk5hbWV9YCwgY29udHJvbENvbnRhaW5lcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX29uTWFwU2Nyb2xsLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgX3Jlc2l6ZUNhbnZhcyh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwaXhlbFJhdGlvID0gYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG5cbiAgICAgICAgLy8gUmVxdWVzdCB0aGUgcmVxdWlyZWQgY2FudmFzIHNpemUgKHJvdW5kZWQgdXApIHRha2luZyB0aGUgcGl4ZWxyYXRpbyBpbnRvIGFjY291bnQuXG4gICAgICAgIHRoaXMuX2NhbnZhcy53aWR0aCA9IHBpeGVsUmF0aW8gKiBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICB0aGlzLl9jYW52YXMuaGVpZ2h0ID0gcGl4ZWxSYXRpbyAqIE1hdGguY2VpbChoZWlnaHQpO1xuXG4gICAgICAgIC8vIE1haW50YWluIHRoZSBzYW1lIGNhbnZhcyBzaXplLCBwb3RlbnRpYWxseSBkb3duc2NhbGluZyBpdCBmb3IgSGlEUEkgZGlzcGxheXNcbiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgICB9XG5cbiAgICBfYWRkTWFya2VyKG1hcmtlcjogTWFya2VyKSB7XG4gICAgICAgIHRoaXMuX21hcmtlcnMucHVzaChtYXJrZXIpO1xuICAgIH1cblxuICAgIF9yZW1vdmVNYXJrZXIobWFya2VyOiBNYXJrZXIpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9tYXJrZXJzLmluZGV4T2YobWFya2VyKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fbWFya2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2FkZFBvcHVwKHBvcHVwOiBQb3B1cCkge1xuICAgICAgICB0aGlzLl9wb3B1cHMucHVzaChwb3B1cCk7XG4gICAgfVxuXG4gICAgX3JlbW92ZVBvcHVwKHBvcHVwOiBQb3B1cCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3BvcHVwcy5pbmRleE9mKHBvcHVwKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fcG9wdXBzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBQYWludGVyKCkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gZXh0ZW5kKHt9LCBzdXBwb3J0ZWQud2ViR0xDb250ZXh0QXR0cmlidXRlcywge1xuICAgICAgICAgICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogdGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCxcbiAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgYW50aWFsaWFzOiB0aGlzLl9hbnRpYWxpYXMgfHwgZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZ2wyID0gdGhpcy5fdXNlV2ViR0wyICYmICgodGhpcy5fY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbDJcIiwgYXR0cmlidXRlcyk6IGFueSk6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCk7XG4gICAgICAgIGNvbnN0IGdsID0gZ2wyIHx8XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBhdHRyaWJ1dGVzKSB8fFxuICAgICAgICAgICAgdGhpcy5fY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMJykpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl91c2VXZWJHTDIgJiYgIWdsMikge1xuICAgICAgICAgICAgd2Fybk9uY2UoJ0ZhaWxlZCB0byBjcmVhdGUgV2ViR0wgMiBjb250ZXh0LiBVc2luZyBXZWJHTCAxLicpO1xuICAgICAgICB9XG4gICAgICAgIHN0b3JlQXV0aFN0YXRlKGdsLCB0cnVlKTtcblxuICAgICAgICB0aGlzLnBhaW50ZXIgPSBuZXcgUGFpbnRlcihnbCwgdGhpcy50cmFuc2Zvcm0sICEhZ2wyKTtcbiAgICAgICAgdGhpcy5vbignZGF0YScsIChldmVudDogTWFwRGF0YUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YVR5cGUgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWludGVyLnNldFRpbGVMb2FkZWRGbGFnKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB3ZWJwU3VwcG9ydGVkLnRlc3RTdXBwb3J0KGdsKTtcbiAgICB9XG5cbiAgICBfY29udGV4dExvc3QoZXZlbnQ6IGFueSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy5fZnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3dlYmdsY29udGV4dGxvc3QnLCB7b3JpZ2luYWxFdmVudDogZXZlbnR9KSk7XG4gICAgfVxuXG4gICAgX2NvbnRleHRSZXN0b3JlZChldmVudDogYW55KSB7XG4gICAgICAgIHRoaXMuX3NldHVwUGFpbnRlcigpO1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB7b3JpZ2luYWxFdmVudDogZXZlbnR9KSk7XG4gICAgfVxuXG4gICAgX29uTWFwU2Nyb2xsKGV2ZW50OiBhbnkpOiA/Ym9vbGVhbiB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQgIT09IHRoaXMuX2NvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgICAgIC8vIFJldmVydCBhbnkgc2Nyb2xsIHdoaWNoIHdvdWxkIG1vdmUgdGhlIGNhbnZhcyBvdXRzaWRlIG9mIHRoZSB2aWV3XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5zY3JvbGxUb3AgPSAwO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuc2Nyb2xsTGVmdCA9IDA7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKiogQHNlY3Rpb24ge0xpZmVjeWNsZX0gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIGlzIGZ1bGx5IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIFJldHVybnMgYGZhbHNlYCBpZiB0aGUgc3R5bGUgaXMgbm90IHlldCBmdWxseSBsb2FkZWQsXG4gICAgICogb3IgaWYgdGhlcmUgaGFzIGJlZW4gYSBjaGFuZ2UgdG8gdGhlIHNvdXJjZXMgb3Igc3R5bGUgdGhhdFxuICAgICAqIGhhcyBub3QgeWV0IGZ1bGx5IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXAgaXMgZnVsbHkgbG9hZGVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaXNMb2FkZWQgPSBtYXAubG9hZGVkKCk7XG4gICAgICovXG4gICAgbG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gIXRoaXMuX3N0eWxlRGlydHkgJiYgIXRoaXMuX3NvdXJjZXNEaXJ0eSAmJiAhIXRoaXMuc3R5bGUgJiYgdGhpcy5zdHlsZS5sb2FkZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhpcyBtYXAncyBzdHlsZSBhbmQgc291cmNlcywgYW5kIHJlLXJlbmRlciB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB1cGRhdGVTdHlsZSBtYXJrIHRoZSBtYXAncyBzdHlsZSBmb3IgcmVwcm9jZXNzaW5nIGFzXG4gICAgICogd2VsbCBhcyBpdHMgc291cmNlc1xuICAgICAqIEByZXR1cm5zIHtNYXB9IHRoaXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGUodXBkYXRlU3R5bGU/OiBib29sZWFuKTogdGhpcyB7XG4gICAgICAgIGlmICghdGhpcy5zdHlsZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgdGhpcy5fc3R5bGVEaXJ0eSA9IHRoaXMuX3N0eWxlRGlydHkgfHwgdXBkYXRlU3R5bGU7XG4gICAgICAgIHRoaXMuX3NvdXJjZXNEaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMudHJpZ2dlclJlcGFpbnQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRoYXQgdGhlIGdpdmVuIGNhbGxiYWNrIGJlIGV4ZWN1dGVkIGR1cmluZyB0aGUgbmV4dCByZW5kZXJcbiAgICAgKiBmcmFtZS4gIFNjaGVkdWxlIGEgcmVuZGVyIGZyYW1lIGlmIG9uZSBpcyBub3QgYWxyZWFkeSBzY2hlZHVsZWQuXG4gICAgICogQHJldHVybnMgQW4gaWQgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGxiYWNrXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgX3JlcXVlc3RSZW5kZXJGcmFtZShjYWxsYmFjazogKCkgPT4gdm9pZCk6IFRhc2tJRCB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmFkZChjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgIF9jYW5jZWxSZW5kZXJGcmFtZShpZDogVGFza0lEKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5yZW1vdmUoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdGhhdCB0aGUgZ2l2ZW4gY2FsbGJhY2sgYmUgZXhlY3V0ZWQgZHVyaW5nIHRoZSBuZXh0IHJlbmRlciBmcmFtZSBpZiB0aGUgbWFwIGlzIG5vdFxuICAgICAqIGlkbGUuIE90aGVyd2lzZSBpdCBpcyBleGVjdXRlZCBpbW1lZGlhdGVseSwgdG8gYXZvaWQgdHJpZ2dlcmluZyBhIG5ldyByZW5kZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVxdWVzdERvbVRhc2soY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICAgICAgLy8gVGhpcyBjb25kaXRpb24gbWVhbnMgdGhhdCB0aGUgbWFwIGlzIGlkbGU6IHRoZSBjYWxsYmFjayBuZWVkcyB0byBiZSBjYWxsZWQgcmlnaHQgbm93IGFzXG4gICAgICAgIC8vIHRoZXJlIHdvbid0IGJlIGEgdHJpZ2dlcmVkIHJlbmRlciB0byBydW4gdGhlIHF1ZXVlLlxuICAgICAgICBpZiAoIXRoaXMubG9hZGVkKCkgfHwgKHRoaXMubG9hZGVkKCkgJiYgIXRoaXMuaXNNb3ZpbmcoKSkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgd2hlbiBhIChyZS0pcmVuZGVyIG9mIHRoZSBtYXAgaXMgcmVxdWlyZWQ6XG4gICAgICogLSBUaGUgc3R5bGUgaGFzIGNoYW5nZWQgKGBzZXRQYWludFByb3BlcnR5KClgLCBldGMuKVxuICAgICAqIC0gU291cmNlIGRhdGEgaGFzIGNoYW5nZWQgKGZvciBleGFtcGxlLCB0aWxlcyBoYXZlIGZpbmlzaGVkIGxvYWRpbmcpXG4gICAgICogLSBUaGUgbWFwIGhhcyBpcyBtb3ZpbmcgKG9yIGp1c3QgZmluaXNoZWQgbW92aW5nKVxuICAgICAqIC0gQSB0cmFuc2l0aW9uIGlzIGluIHByb2dyZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFpbnRTdGFydFRpbWVTdGFtcCAgVGhlIHRpbWUgd2hlbiB0aGUgYW5pbWF0aW9uIGZyYW1lIGJlZ2FuIGV4ZWN1dGluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtNYXB9IHRoaXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXIocGFpbnRTdGFydFRpbWVTdGFtcDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IG0gPSBQZXJmb3JtYW5jZVV0aWxzLmJlZ2luTWVhc3VyZSgncmVuZGVyJyk7XG5cbiAgICAgICAgbGV0IGdwdVRpbWVyO1xuICAgICAgICBjb25zdCBleHRUaW1lclF1ZXJ5ID0gdGhpcy5wYWludGVyLmNvbnRleHQuZXh0VGltZXJRdWVyeTtcbiAgICAgICAgY29uc3QgZnJhbWVTdGFydFRpbWUgPSBicm93c2VyLm5vdygpO1xuICAgICAgICBpZiAodGhpcy5saXN0ZW5zKCdncHUtdGltaW5nLWZyYW1lJykpIHtcbiAgICAgICAgICAgIGdwdVRpbWVyID0gZXh0VGltZXJRdWVyeS5jcmVhdGVRdWVyeUVYVCgpO1xuICAgICAgICAgICAgZXh0VGltZXJRdWVyeS5iZWdpblF1ZXJ5RVhUKGV4dFRpbWVyUXVlcnkuVElNRV9FTEFQU0VEX0VYVCwgZ3B1VGltZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQSBjdXN0b20gbGF5ZXIgbWF5IGhhdmUgdXNlZCB0aGUgY29udGV4dCBhc3luY2hyb25vdXNseS4gTWFyayB0aGUgc3RhdGUgYXMgZGlydHkuXG4gICAgICAgIHRoaXMucGFpbnRlci5jb250ZXh0LnNldERpcnR5KCk7XG4gICAgICAgIHRoaXMucGFpbnRlci5zZXRCYXNlU3RhdGUoKTtcblxuICAgICAgICBpZiAodGhpcy5pc01vdmluZygpIHx8IHRoaXMuaXNSb3RhdGluZygpIHx8IHRoaXMuaXNab29taW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMF0gPSBNYXRoLm1pbih0aGlzLl9pbnRlcmFjdGlvblJhbmdlWzBdLCB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJhY3Rpb25SYW5nZVsxXSA9IE1hdGgubWF4KHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMV0sIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJUYXNrUXVldWUucnVuKHBhaW50U3RhcnRUaW1lU3RhbXApO1xuICAgICAgICB0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUucnVuKHBhaW50U3RhcnRUaW1lU3RhbXApO1xuICAgICAgICAvLyBBIHRhc2sgcXVldWUgY2FsbGJhY2sgbWF5IGhhdmUgZmlyZWQgYSB1c2VyIGV2ZW50IHdoaWNoIG1heSBoYXZlIHJlbW92ZWQgdGhlIG1hcFxuICAgICAgICBpZiAodGhpcy5fcmVtb3ZlZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZVByb2plY3Rpb25UcmFuc2l0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgZmFkZUR1cmF0aW9uID0gdGhpcy5faXNJbml0aWFsTG9hZCA/IDAgOiB0aGlzLl9mYWRlRHVyYXRpb247XG5cbiAgICAgICAgLy8gSWYgdGhlIHN0eWxlIGhhcyBjaGFuZ2VkLCB0aGUgbWFwIGlzIGJlaW5nIHpvb21lZCwgb3IgYSB0cmFuc2l0aW9uIG9yIGZhZGUgaXMgaW4gcHJvZ3Jlc3M6XG4gICAgICAgIC8vICAtIEFwcGx5IHN0eWxlIGNoYW5nZXMgKGluIGEgYmF0Y2gpXG4gICAgICAgIC8vICAtIFJlY2FsY3VsYXRlIHBhaW50IHByb3BlcnRpZXMuXG4gICAgICAgIGlmICh0aGlzLnN0eWxlICYmIHRoaXMuX3N0eWxlRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlRGlydHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMudHJhbnNmb3JtLnpvb207XG4gICAgICAgICAgICBjb25zdCBwaXRjaCA9IHRoaXMudHJhbnNmb3JtLnBpdGNoO1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gYnJvd3Nlci5ub3coKTtcblxuICAgICAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IG5ldyBFdmFsdWF0aW9uUGFyYW1ldGVycyh6b29tLCB7XG4gICAgICAgICAgICAgICAgbm93LFxuICAgICAgICAgICAgICAgIGZhZGVEdXJhdGlvbixcbiAgICAgICAgICAgICAgICBwaXRjaCxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB0aGlzLnN0eWxlLmdldFRyYW5zaXRpb24oKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc3R5bGUudXBkYXRlKHBhcmFtZXRlcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZm9nSXNUcmFuc2l0aW9uaW5nID0gdGhpcy5zdHlsZSAmJiB0aGlzLnN0eWxlLmZvZyAmJiB0aGlzLnN0eWxlLmZvZy5oYXNUcmFuc2l0aW9uKCk7XG5cbiAgICAgICAgaWYgKGZvZ0lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5fbWFya2Vyc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc291cmNlc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGFyZSBpbiBfcmVuZGVyIGZvciBhbnkgcmVhc29uIG90aGVyIHRoYW4gYW4gaW4tcHJvZ3Jlc3MgcGFpbnRcbiAgICAgICAgLy8gdHJhbnNpdGlvbiwgdXBkYXRlIHNvdXJjZSBjYWNoZXMgdG8gY2hlY2sgZm9yIGFuZCBsb2FkIGFueSB0aWxlcyB3ZVxuICAgICAgICAvLyBuZWVkIGZvciB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICAgICAgbGV0IGF2ZXJhZ2VFbGV2YXRpb25DaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnN0eWxlICYmIHRoaXMuX3NvdXJjZXNEaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlc0RpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnBhaW50ZXIuX3VwZGF0ZUZvZyh0aGlzLnN0eWxlKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRlcnJhaW4oKTsgLy8gVGVycmFpbiBERU0gc291cmNlIHVwZGF0ZXMgaGVyZSBhbmQgc2tpcHMgdXBkYXRlIGluIHN0eWxlLl91cGRhdGVTb3VyY2VzLlxuICAgICAgICAgICAgYXZlcmFnZUVsZXZhdGlvbkNoYW5nZWQgPSB0aGlzLl91cGRhdGVBdmVyYWdlRWxldmF0aW9uKGZyYW1lU3RhcnRUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuX3VwZGF0ZVNvdXJjZXModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9ucyBvZiBtYXJrZXJzIGFuZCBwb3B1cHMgb24gZW5hYmxpbmcvZGlzYWJsaW5nIHRlcnJhaW5cbiAgICAgICAgICAgIHRoaXMuX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF2ZXJhZ2VFbGV2YXRpb25DaGFuZ2VkID0gdGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihmcmFtZVN0YXJ0VGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wbGFjZW1lbnREaXJ0eSA9IHRoaXMuc3R5bGUgJiYgdGhpcy5zdHlsZS5fdXBkYXRlUGxhY2VtZW50KHRoaXMucGFpbnRlci50cmFuc2Zvcm0sIHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzLCBmYWRlRHVyYXRpb24sIHRoaXMuX2Nyb3NzU291cmNlQ29sbGlzaW9ucyk7XG5cbiAgICAgICAgLy8gQWN0dWFsbHkgZHJhd1xuICAgICAgICBpZiAodGhpcy5zdHlsZSkge1xuICAgICAgICAgICAgdGhpcy5wYWludGVyLnJlbmRlcih0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICAgICAgc2hvd1RpbGVCb3VuZGFyaWVzOiB0aGlzLnNob3dUaWxlQm91bmRhcmllcyxcbiAgICAgICAgICAgICAgICBzaG93VGVycmFpbldpcmVmcmFtZTogdGhpcy5zaG93VGVycmFpbldpcmVmcmFtZSxcbiAgICAgICAgICAgICAgICBzaG93T3ZlcmRyYXdJbnNwZWN0b3I6IHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvcixcbiAgICAgICAgICAgICAgICBzaG93UXVlcnlHZW9tZXRyeTogISF0aGlzLl9zaG93UXVlcnlHZW9tZXRyeSxcbiAgICAgICAgICAgICAgICBzaG93VGlsZUFBQkJzOiB0aGlzLnNob3dUaWxlQUFCQnMsXG4gICAgICAgICAgICAgICAgcm90YXRpbmc6IHRoaXMuaXNSb3RhdGluZygpLFxuICAgICAgICAgICAgICAgIHpvb21pbmc6IHRoaXMuaXNab29taW5nKCksXG4gICAgICAgICAgICAgICAgbW92aW5nOiB0aGlzLmlzTW92aW5nKCksXG4gICAgICAgICAgICAgICAgZmFkZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGlzSW5pdGlhbExvYWQ6IHRoaXMuX2lzSW5pdGlhbExvYWQsXG4gICAgICAgICAgICAgICAgc2hvd1BhZGRpbmc6IHRoaXMuc2hvd1BhZGRpbmcsXG4gICAgICAgICAgICAgICAgZ3B1VGltaW5nOiAhIXRoaXMubGlzdGVucygnZ3B1LXRpbWluZy1sYXllcicpLFxuICAgICAgICAgICAgICAgIGdwdVRpbWluZ0RlZmVycmVkUmVuZGVyOiAhIXRoaXMubGlzdGVucygnZ3B1LXRpbWluZy1kZWZlcnJlZC1yZW5kZXInKSxcbiAgICAgICAgICAgICAgICBzcGVlZEluZGV4VGltaW5nOiB0aGlzLnNwZWVkSW5kZXhUaW1pbmcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JlbmRlcicpKTtcblxuICAgICAgICBpZiAodGhpcy5sb2FkZWQoKSAmJiAhdGhpcy5fbG9hZGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgUGVyZm9ybWFuY2VVdGlscy5tYXJrKFBlcmZvcm1hbmNlTWFya2Vycy5sb2FkKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2xvYWQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdHlsZSAmJiAodGhpcy5zdHlsZS5oYXNUcmFuc2l0aW9ucygpKSkge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdHlsZSAmJiAhdGhpcy5fcGxhY2VtZW50RGlydHkpIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIG5vIGZhZGUgb3BlcmF0aW9ucyBhcmUgaW4gcHJvZ3Jlc3MsIHdlIGNhbiByZWxlYXNlXG4gICAgICAgICAgICAvLyBhbGwgdGlsZXMgaGVsZCBmb3IgZmFkaW5nLiBJZiB3ZSBkaWRuJ3QgZG8gdGhpcywgdGhlIHRpbGVzXG4gICAgICAgICAgICAvLyB3b3VsZCBqdXN0IHNpdCBpbiB0aGUgU291cmNlQ2FjaGVzIHVudGlsIHRoZSBuZXh0IHJlbmRlclxuICAgICAgICAgICAgdGhpcy5zdHlsZS5fcmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdwdVRpbWVyKSB7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJDUFVUaW1lID0gYnJvd3Nlci5ub3coKSAtIGZyYW1lU3RhcnRUaW1lO1xuICAgICAgICAgICAgZXh0VGltZXJRdWVyeS5lbmRRdWVyeUVYVChleHRUaW1lclF1ZXJ5LlRJTUVfRUxBUFNFRF9FWFQsIGdwdVRpbWVyKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlckdQVVRpbWUgPSBleHRUaW1lclF1ZXJ5LmdldFF1ZXJ5T2JqZWN0RVhUKGdwdVRpbWVyLCBleHRUaW1lclF1ZXJ5LlFVRVJZX1JFU1VMVF9FWFQpIC8gKDEwMDAgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICBleHRUaW1lclF1ZXJ5LmRlbGV0ZVF1ZXJ5RVhUKGdwdVRpbWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdncHUtdGltaW5nLWZyYW1lJywge1xuICAgICAgICAgICAgICAgICAgICBjcHVUaW1lOiByZW5kZXJDUFVUaW1lLFxuICAgICAgICAgICAgICAgICAgICBncHVUaW1lOiByZW5kZXJHUFVUaW1lXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZS5tYXJrKCdmcmFtZS1ncHUnLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogZnJhbWVTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3B1VGltZTogcmVuZGVyR1BVVGltZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCA1MCk7IC8vIFdhaXQgNTBtcyB0byBnaXZlIHRpbWUgZm9yIGFsbCBHUFUgY2FsbHMgdG8gZmluaXNoIGJlZm9yZSBxdWVyeWluZ1xuICAgICAgICB9XG5cbiAgICAgICAgUGVyZm9ybWFuY2VVdGlscy5lbmRNZWFzdXJlKG0pO1xuXG4gICAgICAgIGlmICh0aGlzLmxpc3RlbnMoJ2dwdS10aW1pbmctbGF5ZXInKSkge1xuICAgICAgICAgICAgLy8gUmVzZXR0aW5nIHRoZSBQYWludGVyJ3MgcGVyLWxheWVyIHRpbWluZyBxdWVyaWVzIGhlcmUgYWxsb3dzIHVzIHRvIGlzb2xhdGVcbiAgICAgICAgICAgIC8vIHRoZSBxdWVyaWVzIHRvIGluZGl2aWR1YWwgZnJhbWVzLlxuICAgICAgICAgICAgY29uc3QgZnJhbWVMYXllclF1ZXJpZXMgPSB0aGlzLnBhaW50ZXIuY29sbGVjdEdwdVRpbWVycygpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlZExheWVyVGltZXMgPSB0aGlzLnBhaW50ZXIucXVlcnlHcHVUaW1lcnMoZnJhbWVMYXllclF1ZXJpZXMpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZ3B1LXRpbWluZy1sYXllcicsIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJUaW1lczogcmVuZGVyZWRMYXllclRpbWVzXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSwgNTApOyAvLyBXYWl0IDUwbXMgdG8gZ2l2ZSB0aW1lIGZvciBhbGwgR1BVIGNhbGxzIHRvIGZpbmlzaCBiZWZvcmUgcXVlcnlpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxpc3RlbnMoJ2dwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmVycmVkUmVuZGVyUXVlcmllcyA9IHRoaXMucGFpbnRlci5jb2xsZWN0RGVmZXJyZWRSZW5kZXJHcHVRdWVyaWVzKCk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdwdVRpbWUgPSB0aGlzLnBhaW50ZXIucXVlcnlHcHVUaW1lRGVmZXJyZWRSZW5kZXIoZGVmZXJyZWRSZW5kZXJRdWVyaWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdncHUtdGltaW5nLWRlZmVycmVkLXJlbmRlcicsIHtncHVUaW1lfSkpO1xuICAgICAgICAgICAgfSwgNTApOyAvLyBXYWl0IDUwbXMgdG8gZ2l2ZSB0aW1lIGZvciBhbGwgR1BVIGNhbGxzIHRvIGZpbmlzaCBiZWZvcmUgcXVlcnlpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNjaGVkdWxlIGFub3RoZXIgcmVuZGVyIGZyYW1lIGlmIGl0J3MgbmVlZGVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBFdmVuIHRob3VnaCBgX3N0eWxlRGlydHlgIGFuZCBgX3NvdXJjZXNEaXJ0eWAgYXJlIHJlc2V0IGluIHRoaXNcbiAgICAgICAgLy8gbWV0aG9kLCBzeW5jaHJvbm91cyBldmVudHMgZmlyZWQgZHVyaW5nIFN0eWxlI3VwZGF0ZSBvclxuICAgICAgICAvLyBTdHlsZSNfdXBkYXRlU291cmNlcyBjb3VsZCBoYXZlIGNhdXNlZCB0aGVtIHRvIGJlIHNldCBhZ2Fpbi5cbiAgICAgICAgY29uc3Qgc29tZXRoaW5nRGlydHkgPSB0aGlzLl9zb3VyY2VzRGlydHkgfHwgdGhpcy5fc3R5bGVEaXJ0eSB8fCB0aGlzLl9wbGFjZW1lbnREaXJ0eSB8fCBhdmVyYWdlRWxldmF0aW9uQ2hhbmdlZDtcbiAgICAgICAgaWYgKHNvbWV0aGluZ0RpcnR5IHx8IHRoaXMuX3JlcGFpbnQpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclJlcGFpbnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHdpbGxJZGxlID0gIXRoaXMuaXNNb3ZpbmcoKSAmJiB0aGlzLmxvYWRlZCgpO1xuICAgICAgICAgICAgaWYgKHdpbGxJZGxlKSB7XG4gICAgICAgICAgICAgICAgLy8gQmVmb3JlIGlkbGluZywgd2UgcGVyZm9ybSBvbmUgbGFzdCBzYW1wbGUgc28gdGhhdCBpZiB0aGUgYXZlcmFnZSBlbGV2YXRpb25cbiAgICAgICAgICAgICAgICAvLyBkb2VzIG5vdCBleGFjdGx5IG1hdGNoIHRoZSB0ZXJyYWluLCB3ZSBza2lwIGlkbGUgYW5kIGVhc2UgaXQgdG8gaXRzIGZpbmFsIHN0YXRlLlxuICAgICAgICAgICAgICAgIGF2ZXJhZ2VFbGV2YXRpb25DaGFuZ2VkID0gdGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihmcmFtZVN0YXJ0VGltZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdmVyYWdlRWxldmF0aW9uQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlclJlcGFpbnQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckZyYW1lKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAod2lsbElkbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnaWRsZScpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNJbml0aWFsTG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayB0aGUgb3B0aW9ucyB0byBzZWUgaWYgbmVlZCB0byBjYWxjdWxhdGUgdGhlIHNwZWVkIGluZGV4XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNwZWVkSW5kZXhUaW1pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWVkSW5kZXhOdW1iZXIgPSB0aGlzLl9jYWxjdWxhdGVTcGVlZEluZGV4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdzcGVlZGluZGV4Y29tcGxldGVkJywge3NwZWVkSW5kZXg6IHNwZWVkSW5kZXhOdW1iZXJ9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwZWVkSW5kZXhUaW1pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9sb2FkZWQgJiYgIXRoaXMuX2Z1bGx5TG9hZGVkICYmICFzb21ldGhpbmdEaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbHlMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgTGl2ZVBlcmZvcm1hbmNlVXRpbHMubWFyayhQZXJmb3JtYW5jZU1hcmtlcnMuZnVsbExvYWQpO1xuICAgICAgICAgICAgLy8gRm9sbG93aW5nIGxpbmVzIGFyZSBiaWxsaW5nIGFuZCBtZXRyaWNzIHJlbGF0ZWQgY29kZS4gRG8gbm90IGNoYW5nZS4gU2VlIExJQ0VOU0UudHh0XG4gICAgICAgICAgICBpZiAodGhpcy5fcGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHBvc3RQZXJmb3JtYW5jZUV2ZW50KHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbiwge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5wYWludGVyLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMucGFpbnRlci5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uUmFuZ2U6IHRoaXMuX2ludGVyYWN0aW9uUmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlIaWRkZW46IHRoaXMuX3Zpc2liaWxpdHlIaWRkZW4sXG4gICAgICAgICAgICAgICAgICAgIHRlcnJhaW5FbmFibGVkOiAhIXRoaXMucGFpbnRlci5zdHlsZS5nZXRUZXJyYWluKCksXG4gICAgICAgICAgICAgICAgICAgIGZvZ0VuYWJsZWQ6ICEhdGhpcy5wYWludGVyLnN0eWxlLmdldEZvZygpLFxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uOiB0aGlzLmdldFByb2plY3Rpb24oKS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB6b29tOiB0aGlzLnRyYW5zZm9ybS56b29tLFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlcjogdGhpcy5wYWludGVyLmNvbnRleHQucmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgICAgIHZlbmRvcjogdGhpcy5wYWludGVyLmNvbnRleHQudmVuZG9yXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hdXRoZW50aWNhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKHNob3VsZFdyYXA/OiBib29sZWFuKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWFya2VyIG9mIHRoaXMuX21hcmtlcnMpIHtcbiAgICAgICAgICAgIC8vIFdyYXAgbWFya2VyIGxvY2F0aW9uIHdoZW4gdG9nZ2xpbmcgdG8gYSBwcm9qZWN0aW9uIHdpdGhvdXQgd29ybGQgY29waWVzXG4gICAgICAgICAgICBpZiAoc2hvdWxkV3JhcCAmJiAhdGhpcy5nZXRSZW5kZXJXb3JsZENvcGllcygpKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyLl9sbmdMYXQgPSBtYXJrZXIuX2xuZ0xhdC53cmFwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXJrZXIuX3VwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcG9wdXAgb2YgdGhpcy5fcG9wdXBzKSB7XG4gICAgICAgICAgICAvLyBXcmFwIHBvcHVwIGxvY2F0aW9uIHdoZW4gdG9nZ2xpbmcgdG8gYSBwcm9qZWN0aW9uIHdpdGhvdXQgd29ybGQgY29waWVzIGFuZCB0cmFjayBwb2ludGVyIHNldCB0byBmYWxzZVxuICAgICAgICAgICAgaWYgKHNob3VsZFdyYXAgJiYgIXRoaXMuZ2V0UmVuZGVyV29ybGRDb3BpZXMoKSAmJiAhcG9wdXAuX3RyYWNrUG9pbnRlcikge1xuICAgICAgICAgICAgICAgIHBvcHVwLl9sbmdMYXQgPSBwb3B1cC5fbG5nTGF0LndyYXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcHVwLl91cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgYXZlcmFnZSB2aXNpYmxlIGVsZXZhdGlvbiBieSBzYW1wbGluZyB0ZXJyYWluXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBlbGV2YXRpb24gaGFzIGNoYW5nZWQgZnJvbSB0aGUgbGFzdCBzYW1wbGluZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VwZGF0ZUF2ZXJhZ2VFbGV2YXRpb24odGltZVN0YW1wOiBudW1iZXIsIGlnbm9yZVRpbWVvdXQ6IGJvb2xlYW4gPSBmYWxzZSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhcHBseVVwZGF0ZSA9IHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZShmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIXRoaXMucGFpbnRlci5hdmVyYWdlRWxldmF0aW9uTmVlZHNFYXNpbmcoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb24gIT09IDApIHJldHVybiBhcHBseVVwZGF0ZSgwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRpbWVvdXRFbGFwc2VkID0gaWdub3JlVGltZW91dCB8fCB0aW1lU3RhbXAgLSB0aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdCA+IEFWRVJBR0VfRUxFVkFUSU9OX1NBTVBMSU5HX0lOVEVSVkFMO1xuXG4gICAgICAgIGlmICh0aW1lb3V0RWxhcHNlZCAmJiAhdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5pc0Vhc2luZyh0aW1lU3RhbXApKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RWxldmF0aW9uID0gdGhpcy50cmFuc2Zvcm0uYXZlcmFnZUVsZXZhdGlvbjtcbiAgICAgICAgICAgIGxldCBuZXdFbGV2YXRpb24gPSB0aGlzLnRyYW5zZm9ybS5zYW1wbGVBdmVyYWdlRWxldmF0aW9uKCk7XG4gICAgICAgICAgICBsZXQgZXhhZ2dlcmF0aW9uQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbikge1xuICAgICAgICAgICAgICAgIGV4YWdnZXJhdGlvbkNoYW5nZWQgPSB0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkgIT09IHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25FeGFnZ2VyYXRpb247XG4gICAgICAgICAgICAgICAgLy8gJEZsb3dJZ25vcmVbaW5jb21wYXRpYmxlLXVzZV1cbiAgICAgICAgICAgICAgICB0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uID0gdGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOZXcgZWxldmF0aW9uIGlzIE5hTiBpZiBubyB0ZXJyYWluIHRpbGVzIHdlcmUgYXZhaWxhYmxlXG4gICAgICAgICAgICBpZiAoaXNOYU4obmV3RWxldmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIG5ld0VsZXZhdGlvbiA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERvbid0IGFjdGl2YXRlIHRoZSB0aW1lb3V0IGlmIG5vIGRhdGEgd2FzIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgIHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0ID0gdGltZVN0YW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWxldmF0aW9uQ2hhbmdlID0gTWF0aC5hYnMoY3VycmVudEVsZXZhdGlvbiAtIG5ld0VsZXZhdGlvbik7XG5cbiAgICAgICAgICAgIGlmIChlbGV2YXRpb25DaGFuZ2UgPiBBVkVSQUdFX0VMRVZBVElPTl9FQVNFX1RIUkVTSE9MRCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0luaXRpYWxMb2FkIHx8IGV4YWdnZXJhdGlvbkNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8obmV3RWxldmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5VXBkYXRlKG5ld0VsZXZhdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5lYXNlVG8obmV3RWxldmF0aW9uLCB0aW1lU3RhbXAsIEFWRVJBR0VfRUxFVkFUSU9OX0VBU0VfVElNRSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGV2YXRpb25DaGFuZ2UgPiBBVkVSQUdFX0VMRVZBVElPTl9DSEFOR0VfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8obmV3RWxldmF0aW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwbHlVcGRhdGUobmV3RWxldmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmlzRWFzaW5nKHRpbWVTdGFtcCkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseVVwZGF0ZSh0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmdldFZhbHVlKHRpbWVTdGFtcCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKioqKiBTVEFSVCBXQVJOSU5HIC0gUkVNT1ZBTCBPUiBNT0RJRklDQVRJT04gT0YgVEhFXG4gICAgKiBGT0xMT1dJTkcgQ09ERSBWSU9MQVRFUyBUSEUgTUFQQk9YIFRFUk1TIE9GIFNFUlZJQ0UgICoqKioqKlxuICAgICogVGhlIGZvbGxvd2luZyBjb2RlIGlzIHVzZWQgdG8gYWNjZXNzIE1hcGJveCdzIEFQSXMuIFJlbW92YWwgb3IgbW9kaWZpY2F0aW9uXG4gICAgKiBvZiB0aGlzIGNvZGUgY2FuIHJlc3VsdCBpbiBoaWdoZXIgZmVlcyBhbmQvb3JcbiAgICAqIHRlcm1pbmF0aW9uIG9mIHlvdXIgYWNjb3VudCB3aXRoIE1hcGJveC5cbiAgICAqXG4gICAgKiBVbmRlciB0aGUgTWFwYm94IFRlcm1zIG9mIFNlcnZpY2UsIHlvdSBtYXkgbm90IHVzZSB0aGlzIGNvZGUgdG8gYWNjZXNzIE1hcGJveFxuICAgICogTWFwcGluZyBBUElzIG90aGVyIHRoYW4gdGhyb3VnaCBNYXBib3ggU0RLcy5cbiAgICAqXG4gICAgKiBUaGUgTWFwcGluZyBBUElzIGRvY3VtZW50YXRpb24gaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2FwaS9tYXBzLyNtYXBzXG4gICAgKiBhbmQgdGhlIE1hcGJveCBUZXJtcyBvZiBTZXJ2aWNlIGFyZSBhdmFpbGFibGUgYXQgaHR0cHM6Ly93d3cubWFwYm94LmNvbS90b3MvXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgX2F1dGhlbnRpY2F0ZSgpIHtcbiAgICAgICAgZ2V0TWFwU2Vzc2lvbkFQSSh0aGlzLl9nZXRNYXBJZCgpLCB0aGlzLl9yZXF1ZXN0TWFuYWdlci5fc2t1VG9rZW4sIHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbiwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIC8vIHRocm93aW5nIGFuIGVycm9yIGhlcmUgd2lsbCBjYXVzZSB0aGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIGFnYWluIHVubmVjZXNzYXJpbHlcbiAgICAgICAgICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgPT09IEFVVEhfRVJSX01TRyB8fCAoZXJyOiBhbnkpLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5wYWludGVyLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlQXV0aFN0YXRlKGdsLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sb2dvQ29udHJvbCBpbnN0YW5jZW9mIExvZ29Db250cm9sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dvQ29udHJvbC5fdXBkYXRlTG9nbygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChnbCkgZ2wuY2xlYXIoZ2wuREVQVEhfQlVGRkVSX0JJVCB8IGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5TVEVOQ0lMX0JVRkZFUl9CSVQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ0EgdmFsaWQgTWFwYm94IGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZCB0byB1c2UgTWFwYm94IEdMIEpTLiBUbyBjcmVhdGUgYW4gYWNjb3VudCBvciBhIG5ldyBhY2Nlc3MgdG9rZW4sIHZpc2l0IGh0dHBzOi8vYWNjb3VudC5tYXBib3guY29tLycpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwb3N0TWFwTG9hZEV2ZW50KHRoaXMuX2dldE1hcElkKCksIHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbiwgdGhpcy5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuLCAoKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgLyoqKioqIEVORCBXQVJOSU5HIC0gUkVNT1ZBTCBPUiBNT0RJRklDQVRJT04gT0YgVEhFXG4gICAgUFJFQ0VESU5HIENPREUgVklPTEFURVMgVEhFIE1BUEJPWCBURVJNUyBPRiBTRVJWSUNFICAqKioqKiovXG5cbiAgICBfdXBkYXRlVGVycmFpbigpIHtcbiAgICAgICAgLy8gUmVjYWxjdWxhdGUgaWYgZW5hYmxlZC9kaXNhYmxlZCBhbmQgY2FsY3VsYXRlIGVsZXZhdGlvbiBjb3Zlci4gQXMgY2FtZXJhIGlzIHVzaW5nIGVsZXZhdGlvbiB0aWxlcyBiZWZvcmVcbiAgICAgICAgLy8gcmVuZGVyIChhbmQgZGVmZXJyZWQgdXBkYXRlIGFmdGVyIHpvb20gcmVjYWxjdWxhdGlvbiksIHRoaXMgbmVlZHMgdG8gYmUgY2FsbGVkIHdoZW4gcmVtb3ZpbmcgdGVycmFpbiBzb3VyY2UuXG4gICAgICAgIGNvbnN0IGFkYXB0Q2FtZXJhQWx0aXR1ZGUgPSB0aGlzLl9pc0RyYWdnaW5nKCk7XG4gICAgICAgIHRoaXMucGFpbnRlci51cGRhdGVUZXJyYWluKHRoaXMuc3R5bGUsIGFkYXB0Q2FtZXJhQWx0aXR1ZGUpO1xuICAgIH1cblxuICAgIF9jYWxjdWxhdGVTcGVlZEluZGV4KCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGZpbmFsRnJhbWUgPSB0aGlzLnBhaW50ZXIuY2FudmFzQ29weSgpO1xuICAgICAgICBjb25zdCBjYW52YXNDb3B5SW5zdGFuY2VzID0gdGhpcy5wYWludGVyLmdldENhbnZhc0NvcGllc0FuZFRpbWVzdGFtcHMoKTtcbiAgICAgICAgY2FudmFzQ29weUluc3RhbmNlcy50aW1lU3RhbXBzLnB1c2gocGVyZm9ybWFuY2Uubm93KCkpO1xuXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5wYWludGVyLmNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnN0IGZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVhZCh0ZXh0dXJlKSB7XG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRleHR1cmUsIDApO1xuICAgICAgICAgICAgY29uc3QgcGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoZ2wuZHJhd2luZ0J1ZmZlcldpZHRoICogZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCAqIDQpO1xuICAgICAgICAgICAgZ2wucmVhZFBpeGVscygwLCAwLCBnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHBpeGVscyk7XG4gICAgICAgICAgICByZXR1cm4gcGl4ZWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhc1BpeGVsQ29tcGFyaXNvbihyZWFkKGZpbmFsRnJhbWUpLCBjYW52YXNDb3B5SW5zdGFuY2VzLmNhbnZhc0NvcGllcy5tYXAocmVhZCksIGNhbnZhc0NvcHlJbnN0YW5jZXMudGltZVN0YW1wcyk7XG4gICAgfVxuXG4gICAgX2NhbnZhc1BpeGVsQ29tcGFyaXNvbihmaW5hbEZyYW1lOiBVaW50OEFycmF5LCBhbGxGcmFtZXM6IFVpbnQ4QXJyYXlbXSwgdGltZVN0YW1wczogbnVtYmVyW10pOiBudW1iZXIge1xuICAgICAgICBsZXQgZmluYWxTY29yZSA9IHRpbWVTdGFtcHNbMV0gLSB0aW1lU3RhbXBzWzBdO1xuICAgICAgICBjb25zdCBudW1QaXhlbHMgPSBmaW5hbEZyYW1lLmxlbmd0aCAvIDQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxGcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lID0gYWxsRnJhbWVzW2ldO1xuICAgICAgICAgICAgbGV0IGNudCA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZyYW1lLmxlbmd0aDsgaiArPSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lW2pdID09PSBmaW5hbEZyYW1lW2pdICYmXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lW2ogKyAxXSA9PT0gZmluYWxGcmFtZVtqICsgMV0gJiZcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVbaiArIDJdID09PSBmaW5hbEZyYW1lW2ogKyAyXSAmJlxuICAgICAgICAgICAgICAgICAgICBmcmFtZVtqICsgM10gPT09IGZpbmFsRnJhbWVbaiArIDNdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNudCA9IGNudCArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9jYWxjdWxhdGUgdGhlICUgdmlzdWFsIGNvbXBsZXRlbmVzc1xuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSB0aW1lU3RhbXBzW2kgKyAyXSAtIHRpbWVTdGFtcHNbaSArIDFdO1xuICAgICAgICAgICAgY29uc3QgdmlzdWFsQ29tcGxldG5lc3MgPSBjbnQgLyBudW1QaXhlbHM7XG4gICAgICAgICAgICBmaW5hbFNjb3JlICs9ICBpbnRlcnZhbCAqICgxIC0gdmlzdWFsQ29tcGxldG5lc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaW5hbFNjb3JlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIGFuZCByZWxlYXNlIGFsbCBpbnRlcm5hbCByZXNvdXJjZXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbWFwLlxuICAgICAqXG4gICAgICogVGhpcyBpbmNsdWRlcyBET00gZWxlbWVudHMsIGV2ZW50IGJpbmRpbmdzLCB3ZWIgd29ya2VycywgYW5kIFdlYkdMIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCB3aGVuIHlvdSBhcmUgZG9uZSB1c2luZyB0aGUgbWFwIGFuZCB3aXNoIHRvIGVuc3VyZSB0aGF0IGl0IG5vXG4gICAgICogbG9uZ2VyIGNvbnN1bWVzIGJyb3dzZXIgcmVzb3VyY2VzLiBBZnRlcndhcmRzLCB5b3UgbXVzdCBub3QgY2FsbCBhbnkgb3RoZXJcbiAgICAgKiBtZXRob2RzIG9uIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5yZW1vdmUoKTtcbiAgICAgKi9cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNoKSB0aGlzLl9oYXNoLnJlbW92ZSgpO1xuXG4gICAgICAgIGZvciAoY29uc3QgY29udHJvbCBvZiB0aGlzLl9jb250cm9scykgY29udHJvbC5vblJlbW92ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29udHJvbHMgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy5fZnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5jbGVhcigpO1xuICAgICAgICB0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUuY2xlYXIoKTtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFpbnRlci5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmhhbmRsZXJzKSB0aGlzLmhhbmRsZXJzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zZXRTdHlsZShudWxsKTtcblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9vbldpbmRvd1Jlc2l6ZSwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5fb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgdGhpcy5fb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCB0aGlzLl9vbldpbmRvd09ubGluZSwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IHRoaXMucGFpbnRlci5jb250ZXh0LmdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG4gICAgICAgIGlmIChleHRlbnNpb24pIGV4dGVuc2lvbi5sb3NlQ29udGV4dCgpO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLl9jb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuX2NvbnRleHRSZXN0b3JlZCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuX2NhbnZhc0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fY29udHJvbENvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fbWlzc2luZ0NTU0NhbmFyeS5yZW1vdmUoKTtcblxuICAgICAgICB0aGlzLl9jYW52YXMgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgICAgICB0aGlzLl9jYW52YXNDb250YWluZXIgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgICAgICB0aGlzLl9jb250cm9sQ29udGFpbmVyID0gKHVuZGVmaW5lZDogYW55KTtcbiAgICAgICAgdGhpcy5fbWlzc2luZ0NTU0NhbmFyeSA9ICh1bmRlZmluZWQ6IGFueSk7XG5cbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLW1hcCcpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vbk1hcFNjcm9sbCwgZmFsc2UpO1xuXG4gICAgICAgIFBlcmZvcm1hbmNlVXRpbHMuY2xlYXJNZXRyaWNzKCk7XG4gICAgICAgIHJlbW92ZUF1dGhTdGF0ZSh0aGlzLnBhaW50ZXIuY29udGV4dC5nbCk7XG4gICAgICAgIHRoaXMuX3JlbW92ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyZW1vdmUnKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB0aGUgcmVuZGVyaW5nIG9mIGEgc2luZ2xlIGZyYW1lLiBVc2UgdGhpcyBtZXRob2Qgd2l0aCBjdXN0b20gbGF5ZXJzIHRvXG4gICAgICogcmVwYWludCB0aGUgbWFwIHdoZW4gdGhlIGxheWVyJ3MgcHJvcGVydGllcyBvciBwcm9wZXJ0aWVzIGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICAgKiBsYXllcidzIHNvdXJjZSBjaGFuZ2UuIENhbGxpbmcgdGhpcyBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgdGhlXG4gICAgICogbmV4dCBmcmFtZSBpcyByZW5kZXJlZCB3aWxsIHN0aWxsIHJlc3VsdCBpbiBvbmx5IGEgc2luZ2xlIGZyYW1lIGJlaW5nIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAudHJpZ2dlclJlcGFpbnQoKTtcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgYSAzRCBtb2RlbF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLTNkLW1vZGVsLylcbiAgICAgKiBAc2VlIFtFeGFtcGxlOiBBZGQgYW4gYW5pbWF0ZWQgaWNvbiB0byB0aGUgbWFwXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hZGQtaW1hZ2UtYW5pbWF0ZWQvKVxuICAgICAqL1xuICAgIHRyaWdnZXJSZXBhaW50KCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyRnJhbWUodHJ1ZSk7XG4gICAgfVxuXG4gICAgX3RyaWdnZXJGcmFtZShyZW5kZXI6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyTmV4dEZyYW1lID0gdGhpcy5fcmVuZGVyTmV4dEZyYW1lIHx8IHJlbmRlcjtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGUgJiYgIXRoaXMuX2ZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZSA9IGJyb3dzZXIuZnJhbWUoKHBhaW50U3RhcnRUaW1lU3RhbXA6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmVuZGVyRnJhbWUgPSAhIXRoaXMuX3JlbmRlck5leHRGcmFtZTtcbiAgICAgICAgICAgICAgICBQZXJmb3JtYW5jZVV0aWxzLmZyYW1lKHBhaW50U3RhcnRUaW1lU3RhbXAsIGlzUmVuZGVyRnJhbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJOZXh0RnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChpc1JlbmRlckZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcihwYWludFN0YXJ0VGltZVN0YW1wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZWxvYWRzIGFsbCB0aWxlcyB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIGZvciBvbmUgb3IgYSBzZXJpZXMgb2YgdHJhbnNmb3JtYXRpb25zXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYHRoaXNgIHwgUHJvbWlzZS5cbiAgICAgKi9cbiAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgX3ByZWxvYWRUaWxlcyh0cmFuc2Zvcm06IFRyYW5zZm9ybSB8IEFycmF5PFRyYW5zZm9ybT4pOiB0aGlzIHtcbiAgICAgICAgY29uc3Qgc291cmNlczogQXJyYXk8U291cmNlQ2FjaGU+ID0gdGhpcy5zdHlsZSA/IChPYmplY3QudmFsdWVzKHRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcyk6IGFueSkgOiBbXTtcbiAgICAgICAgYXN5bmNBbGwoc291cmNlcywgKHNvdXJjZSwgZG9uZSkgPT4gc291cmNlLl9wcmVsb2FkVGlsZXModHJhbnNmb3JtLCBkb25lKSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyUmVwYWludCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfb25XaW5kb3dPbmxpbmUoKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cblxuICAgIF9vbldpbmRvd1Jlc2l6ZShldmVudDogRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYWNrUmVzaXplKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSh7b3JpZ2luYWxFdmVudDogZXZlbnR9KS5fdXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25WaXNpYmlsaXR5Q2hhbmdlKCkge1xuICAgICAgICBpZiAod2luZG93LmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgIHRoaXMuX3Zpc2liaWxpdHlIaWRkZW4rKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBAc2VjdGlvbiB7RGVidWcgZmVhdHVyZXN9ICovXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCB3aWxsIHJlbmRlciBhbiBvdXRsaW5lXG4gICAgICogYXJvdW5kIGVhY2ggdGlsZSBhbmQgdGhlIHRpbGUgSUQuIFRoZXNlIHRpbGUgYm91bmRhcmllcyBhcmUgdXNlZnVsIGZvclxuICAgICAqIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIFRoZSB1bmNvbXByZXNzZWQgZmlsZSBzaXplIG9mIHRoZSBmaXJzdCB2ZWN0b3Igc291cmNlIGlzIGRyYXduIGluIHRoZSB0b3AgbGVmdFxuICAgICAqIGNvcm5lciBvZiBlYWNoIHRpbGUsIG5leHQgdG8gdGhlIHRpbGUgSUQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBzaG93VGlsZUJvdW5kYXJpZXNcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2hvd1RpbGVCb3VuZGFyaWVzID0gdHJ1ZTtcbiAgICAgKi9cbiAgICBnZXQgc2hvd1RpbGVCb3VuZGFyaWVzKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXM7IH1cbiAgICBzZXQgc2hvd1RpbGVCb3VuZGFyaWVzKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXMgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dUaWxlQm91bmRhcmllcyA9IHZhbHVlO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCB3aWxsIHJlbmRlciBhIHdpcmVmcmFtZVxuICAgICAqIG9uIHRvcCBvZiB0aGUgZGlzcGxheWVkIHRlcnJhaW4uIFVzZWZ1bCBmb3IgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogVGhlIHdpcmVmcmFtZSBpcyBhbHdheXMgcmVkIGFuZCBpcyBkcmF3biBvbmx5IHdoZW4gdGVycmFpbiBpcyBhY3RpdmUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBzaG93VGVycmFpbldpcmVmcmFtZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zaG93VGVycmFpbldpcmVmcmFtZSA9IHRydWU7XG4gICAgICovXG4gICAgZ2V0IHNob3dUZXJyYWluV2lyZWZyYW1lKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93VGVycmFpbldpcmVmcmFtZTsgfVxuICAgIHNldCBzaG93VGVycmFpbldpcmVmcmFtZSh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWUgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dUZXJyYWluV2lyZWZyYW1lID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgc3BlZWRpbmRleCBtZXRyaWMgY2FsY3VsYXRpb24gaXMgb24gb3Igb2ZmXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNwZWVkSW5kZXhUaW1pbmdcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc3BlZWRJbmRleFRpbWluZyA9IHRydWU7XG4gICAgICovXG4gICAgZ2V0IHNwZWVkSW5kZXhUaW1pbmcoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3NwZWVkSW5kZXhUaW1pbmc7IH1cbiAgICBzZXQgc3BlZWRJbmRleFRpbWluZyh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5fc3BlZWRJbmRleFRpbWluZyA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgdGhpcy5fc3BlZWRJbmRleFRpbWluZyA9IHZhbHVlO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCB3aWxsIHZpc3VhbGl6ZVxuICAgICAqIHRoZSBwYWRkaW5nIG9mZnNldHMuXG4gICAgICpcbiAgICAgKiBAbmFtZSBzaG93UGFkZGluZ1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKi9cbiAgICBnZXQgc2hvd1BhZGRpbmcoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3Nob3dQYWRkaW5nOyB9XG4gICAgc2V0IHNob3dQYWRkaW5nKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93UGFkZGluZyA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgdGhpcy5fc2hvd1BhZGRpbmcgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbmQgc2V0cyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXAgd2lsbCByZW5kZXIgYm94ZXNcbiAgICAgKiBhcm91bmQgYWxsIHN5bWJvbHMgaW4gdGhlIGRhdGEgc291cmNlLCByZXZlYWxpbmcgd2hpY2ggc3ltYm9sc1xuICAgICAqIHdlcmUgcmVuZGVyZWQgb3Igd2hpY2ggd2VyZSBoaWRkZW4gZHVlIHRvIGNvbGxpc2lvbnMuXG4gICAgICogVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEBuYW1lIHNob3dDb2xsaXNpb25Cb3hlc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKi9cbiAgICBnZXQgc2hvd0NvbGxpc2lvbkJveGVzKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM7IH1cbiAgICBzZXQgc2hvd0NvbGxpc2lvbkJveGVzKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyA9IHZhbHVlO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgdHVybiBjb2xsaXNpb24gYm94ZXMgb24gd2UgaGF2ZSB0byBnZW5lcmF0ZSB0aGVtIGZvciBleGlzdGluZyB0aWxlc1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSB0dXJuIHRoZW0gb2ZmLCB0aGVyZSdzIG5vIGNvc3QgdG8gbGVhdmluZyBleGlzdGluZyBib3hlcyBpbiBwbGFjZVxuICAgICAgICAgICAgdGhpcy5zdHlsZS5fZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjYWxsIGFuIHVwZGF0ZSB0byByZW1vdmUgY29sbGlzaW9uIGJveGVzXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIHNob3VsZCBjb2xvci1jb2RlXG4gICAgICogZWFjaCBmcmFnbWVudCB0byBzaG93IGhvdyBtYW55IHRpbWVzIGl0IGhhcyBiZWVuIHNoYWRlZC5cbiAgICAgKiBXaGl0ZSBmcmFnbWVudHMgaGF2ZSBiZWVuIHNoYWRlZCA4IG9yIG1vcmUgdGltZXMuXG4gICAgICogQmxhY2sgZnJhZ21lbnRzIGhhdmUgYmVlbiBzaGFkZWQgMCB0aW1lcy5cbiAgICAgKiBUaGlzIGluZm9ybWF0aW9uIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogQG5hbWUgc2hvd092ZXJkcmF3XG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqL1xuICAgIGdldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvcjsgfVxuICAgIHNldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIHdpbGxcbiAgICAgKiBjb250aW51b3VzbHkgcmVwYWludC4gVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VmdWwgZm9yIGFuYWx5emluZyBwZXJmb3JtYW5jZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHJlcGFpbnRcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICovXG4gICAgZ2V0IHJlcGFpbnQoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3JlcGFpbnQ7IH1cbiAgICBzZXQgcmVwYWludCh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5fcmVwYWludCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcGFpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclJlcGFpbnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBzaG93IHZlcnRpY2VzXG4gICAgZ2V0IHZlcnRpY2VzKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl92ZXJ0aWNlczsgfVxuICAgIHNldCB2ZXJ0aWNlcyh2YWx1ZTogYm9vbGVhbikgeyB0aGlzLl92ZXJ0aWNlcyA9IHZhbHVlOyB0aGlzLl91cGRhdGUoKTsgfVxuXG4gICAgLyoqXG4gICAgKiBEaXNwbGF5IHRpbGUgQUFCQnMgZm9yIGRlYnVnZ2luZ1xuICAgICpcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIGdldCBzaG93VGlsZUFBQkJzKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93VGlsZUFBQkJzOyB9XG4gICAgc2V0IHNob3dUaWxlQUFCQnModmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dUaWxlQUFCQnMgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dUaWxlQUFCQnMgPSB2YWx1ZTtcbiAgICAgICAgaWYgKCF2YWx1ZSkgeyBEZWJ1Zy5jbGVhckFhYmJzKCk7IHJldHVybjsgfVxuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBmb3IgY2FjaGUgYnJvd3NlciB0ZXN0c1xuICAgIF9zZXRDYWNoZUxpbWl0cyhsaW1pdDogbnVtYmVyLCBjaGVja1RocmVzaG9sZDogbnVtYmVyKSB7XG4gICAgICAgIHNldENhY2hlTGltaXRzKGxpbWl0LCBjaGVja1RocmVzaG9sZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnNpb24gb2YgTWFwYm94IEdMIEpTIGluIHVzZSBhcyBzcGVjaWZpZWQgaW4gcGFja2FnZS5qc29uLCBDSEFOR0VMT0cubWQsIGFuZCB0aGUgR2l0SHViIHJlbGVhc2UuXG4gICAgICpcbiAgICAgKiBAbmFtZSB2ZXJzaW9uXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEB2YXIge3N0cmluZ30gdmVyc2lvblxuICAgICAqL1xuXG4gICAgZ2V0IHZlcnNpb24oKTogc3RyaW5nIHsgcmV0dXJuIHZlcnNpb247IH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFwO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgaW50ZXJhY3RpdmUgY29udHJvbHMgYWRkZWQgdG8gdGhlIG1hcC4gVGhpcyBpcyBhXG4gKiBzcGVjaWZpY2F0aW9uIGZvciBpbXBsZW1lbnRlcnMgdG8gbW9kZWw6IGl0IGlzIG5vdFxuICogYW4gZXhwb3J0ZWQgbWV0aG9kIG9yIGNsYXNzLlxuICpcbiAqIENvbnRyb2xzIG11c3QgaW1wbGVtZW50IGBvbkFkZGAgYW5kIGBvblJlbW92ZWAsIGFuZCBtdXN0IG93biBhblxuICogZWxlbWVudCwgd2hpY2ggaXMgb2Z0ZW4gYSBgZGl2YCBlbGVtZW50LiBUbyB1c2UgTWFwYm94IEdMIEpTJ3NcbiAqIGRlZmF1bHQgY29udHJvbCBzdHlsaW5nLCBhZGQgdGhlIGBtYXBib3hnbC1jdHJsYCBjbGFzcyB0byB5b3VyIGNvbnRyb2wnc1xuICogbm9kZS5cbiAqXG4gKiBAaW50ZXJmYWNlIElDb250cm9sXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udHJvbCBpbXBsZW1lbnRlZCBhcyBFUzYgY2xhc3NcbiAqIGNsYXNzIEhlbGxvV29ybGRDb250cm9sIHtcbiAqICAgICBvbkFkZChtYXApIHtcbiAqICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICogICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTmFtZSA9ICdtYXBib3hnbC1jdHJsJztcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyLnRleHRDb250ZW50ID0gJ0hlbGxvLCB3b3JsZCc7XG4gKiAgICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gKiAgICAgfVxuICpcbiAqICAgICBvblJlbW92ZSgpIHtcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKTtcbiAqICAgICAgICAgdGhpcy5fbWFwID0gdW5kZWZpbmVkO1xuICogICAgIH1cbiAqIH1cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udHJvbCBpbXBsZW1lbnRlZCBhcyBFUzUgcHJvdG90eXBpY2FsIGNsYXNzXG4gKiBmdW5jdGlvbiBIZWxsb1dvcmxkQ29udHJvbCgpIHsgfVxuICpcbiAqIEhlbGxvV29ybGRDb250cm9sLnByb3RvdHlwZS5vbkFkZCA9IGZ1bmN0aW9uKG1hcCkge1xuICogICAgIHRoaXMuX21hcCA9IG1hcDtcbiAqICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NOYW1lID0gJ21hcGJveGdsLWN0cmwnO1xuICogICAgIHRoaXMuX2NvbnRhaW5lci50ZXh0Q29udGVudCA9ICdIZWxsbywgd29ybGQnO1xuICogICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gKiB9O1xuICpcbiAqIEhlbGxvV29ybGRDb250cm9sLnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAqICAgICB0aGlzLl9jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuICogICAgIHRoaXMuX21hcCA9IHVuZGVmaW5lZDtcbiAqIH07XG4gKi9cblxuLyoqXG4gKiBSZWdpc3RlciBhIGNvbnRyb2wgb24gdGhlIG1hcCBhbmQgZ2l2ZSBpdCBhIGNoYW5jZSB0byByZWdpc3RlciBldmVudCBsaXN0ZW5lcnNcbiAqIGFuZCByZXNvdXJjZXMuIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB7QGxpbmsgTWFwI2FkZENvbnRyb2x9XG4gKiBpbnRlcm5hbGx5LlxuICpcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIElDb250cm9sXG4gKiBAaW5zdGFuY2VcbiAqIEBuYW1lIG9uQWRkXG4gKiBAcGFyYW0ge01hcH0gbWFwIFRoZSBNYXAgdGhpcyBjb250cm9sIHdpbGwgYmUgYWRkZWQgdG8uXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFRoZSBjb250cm9sJ3MgY29udGFpbmVyIGVsZW1lbnQuIFRoaXMgc2hvdWxkXG4gKiBiZSBjcmVhdGVkIGJ5IHRoZSBjb250cm9sIGFuZCByZXR1cm5lZCBieSBvbkFkZCB3aXRob3V0IGJlaW5nIGF0dGFjaGVkXG4gKiB0byB0aGUgRE9NOiB0aGUgbWFwIHdpbGwgaW5zZXJ0IHRoZSBjb250cm9sJ3MgZWxlbWVudCBpbnRvIHRoZSBET01cbiAqIGFzIG5lY2Vzc2FyeS5cbiAqL1xuXG4vKipcbiAqIFVucmVnaXN0ZXIgYSBjb250cm9sIG9uIHRoZSBtYXAgYW5kIGdpdmUgaXQgYSBjaGFuY2UgdG8gZGV0YWNoIGV2ZW50IGxpc3RlbmVyc1xuICogYW5kIHJlc291cmNlcy4gVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHtAbGluayBNYXAjcmVtb3ZlQ29udHJvbH1cbiAqIGludGVybmFsbHkuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgSUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgb25SZW1vdmVcbiAqIEBwYXJhbSB7TWFwfSBtYXAgVGhlIE1hcCB0aGlzIGNvbnRyb2wgd2lsbCBiZSByZW1vdmVkIGZyb20uXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfSBUaGVyZSBpcyBubyByZXF1aXJlZCByZXR1cm4gdmFsdWUgZm9yIHRoaXMgbWV0aG9kLlxuICovXG5cbi8qKlxuICogT3B0aW9uYWxseSBwcm92aWRlIGEgZGVmYXVsdCBwb3NpdGlvbiBmb3IgdGhpcyBjb250cm9sLiBJZiB0aGlzIG1ldGhvZFxuICogaXMgaW1wbGVtZW50ZWQgYW5kIHtAbGluayBNYXAjYWRkQ29udHJvbH0gaXMgY2FsbGVkIHdpdGhvdXQgdGhlIGBwb3NpdGlvbmBcbiAqIHBhcmFtZXRlciwgdGhlIHZhbHVlIHJldHVybmVkIGJ5IGdldERlZmF1bHRQb3NpdGlvbiB3aWxsIGJlIHVzZWQgYXMgdGhlXG4gKiBjb250cm9sJ3MgcG9zaXRpb24uXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgSUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgZ2V0RGVmYXVsdFBvc2l0aW9uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIGNvbnRyb2wgcG9zaXRpb24sIG9uZSBvZiB0aGUgdmFsdWVzIHZhbGlkIGluIGFkZENvbnRyb2wuXG4gKi9cblxuLyoqXG4gKiBBIFtgUG9pbnRgIGdlb21ldHJ5XShodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L3BvaW50LWdlb21ldHJ5KSBvYmplY3QsIHdoaWNoIGhhc1xuICogYHhgIGFuZCBgeWAgcHJvcGVydGllcyByZXByZXNlbnRpbmcgc2NyZWVuIGNvb3JkaW5hdGVzIGluIHBpeGVscy5cbiAqXG4gKiBAdHlwZWRlZiB7UG9pbnR9IFBvaW50XG4gKiBAZXhhbXBsZVxuICogY29uc3QgcG9pbnQgPSBuZXcgbWFwYm94Z2wuUG9pbnQoLTc3LCAzOCk7XG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBQb2ludH0gb3IgYW4gYXJyYXkgb2YgdHdvIG51bWJlcnMgcmVwcmVzZW50aW5nIGB4YCBhbmQgYHlgIHNjcmVlbiBjb29yZGluYXRlcyBpbiBwaXhlbHMuXG4gKlxuICogQHR5cGVkZWYgeyhQb2ludCB8IEFycmF5PG51bWJlcj4pfSBQb2ludExpa2VcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBwMSA9IG5ldyBtYXBib3hnbC5Qb2ludCgtNzcsIDM4KTsgLy8gYSBQb2ludExpa2Ugd2hpY2ggaXMgYSBQb2ludFxuICogY29uc3QgcDIgPSBbLTc3LCAzOF07IC8vIGEgUG9pbnRMaWtlIHdoaWNoIGlzIGFuIGFycmF5IG9mIHR3byBudW1iZXJzXG4gKi9cbiIsIi8vIEBmbG93XG5cbmltcG9ydCAqIGFzIERPTSBmcm9tICcuLi8uLi91dGlsL2RvbS5qcyc7XG5pbXBvcnQge2V4dGVuZCwgYmluZEFsbH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7TW91c2VSb3RhdGVIYW5kbGVyLCBNb3VzZVBpdGNoSGFuZGxlcn0gZnJvbSAnLi4vaGFuZGxlci9tb3VzZS5qcyc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uLy4uL3V0aWwvd2luZG93LmpzJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcC5qcyc7XG5pbXBvcnQgdHlwZSBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxudHlwZSBPcHRpb25zID0ge1xuICAgIHNob3dDb21wYXNzPzogYm9vbGVhbixcbiAgICBzaG93Wm9vbT86IGJvb2xlYW4sXG4gICAgdmlzdWFsaXplUGl0Y2g/OiBib29sZWFuXG59O1xuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogT3B0aW9ucyA9IHtcbiAgICBzaG93Q29tcGFzczogdHJ1ZSxcbiAgICBzaG93Wm9vbTogdHJ1ZSxcbiAgICB2aXN1YWxpemVQaXRjaDogZmFsc2Vcbn07XG5cbi8qKlxuICogQSBgTmF2aWdhdGlvbkNvbnRyb2xgIGNvbnRyb2wgY29udGFpbnMgem9vbSBidXR0b25zIGFuZCBhIGNvbXBhc3MuXG4gKiBBZGQgdGhpcyBjb250cm9sIHRvIGEgbWFwIHVzaW5nIHtAbGluayBNYXAjYWRkQ29udHJvbH0uXG4gKlxuICogQGltcGxlbWVudHMge0lDb250cm9sfVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaG93Q29tcGFzcz10cnVlXSBJZiBgdHJ1ZWAgdGhlIGNvbXBhc3MgYnV0dG9uIGlzIGluY2x1ZGVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaG93Wm9vbT10cnVlXSBJZiBgdHJ1ZWAgdGhlIHpvb20taW4gYW5kIHpvb20tb3V0IGJ1dHRvbnMgYXJlIGluY2x1ZGVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy52aXN1YWxpemVQaXRjaD1mYWxzZV0gSWYgYHRydWVgIHRoZSBwaXRjaCBpcyB2aXN1YWxpemVkIGJ5IHJvdGF0aW5nIFgtYXhpcyBvZiBjb21wYXNzLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG5hdiA9IG5ldyBtYXBib3hnbC5OYXZpZ2F0aW9uQ29udHJvbCgpO1xuICogbWFwLmFkZENvbnRyb2wobmF2LCAndG9wLWxlZnQnKTtcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBuYXYgPSBuZXcgbWFwYm94Z2wuTmF2aWdhdGlvbkNvbnRyb2woe1xuICogICAgIHZpc3VhbGl6ZVBpdGNoOiB0cnVlXG4gKiB9KTtcbiAqIG1hcC5hZGRDb250cm9sKG5hdiwgJ2JvdHRvbS1yaWdodCcpO1xuICogQHNlZSBbRXhhbXBsZTogRGlzcGxheSBtYXAgbmF2aWdhdGlvbiBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9uYXZpZ2F0aW9uLylcbiAqIEBzZWUgW0V4YW1wbGU6IEFkZCBhIHRoaXJkIHBhcnR5IHZlY3RvciB0aWxlIHNvdXJjZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90aGlyZC1wYXJ0eS8pXG4gKi9cbmNsYXNzIE5hdmlnYXRpb25Db250cm9sIHtcbiAgICBfbWFwOiA/TWFwO1xuICAgIG9wdGlvbnM6IE9wdGlvbnM7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX3pvb21JbkJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgX3pvb21PdXRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xuICAgIF9jb21wYXNzOiBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICBfY29tcGFzc0ljb246IEhUTUxFbGVtZW50O1xuICAgIF9oYW5kbGVyOiA/TW91c2VSb3RhdGVXcmFwcGVyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwJyk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlOiBNb3VzZUV2ZW50KSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1pvb20pIHtcbiAgICAgICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgICAgICdfc2V0QnV0dG9uVGl0bGUnLFxuICAgICAgICAgICAgICAgICdfdXBkYXRlWm9vbUJ1dHRvbnMnXG4gICAgICAgICAgICBdLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX3pvb21JbkJ1dHRvbiA9IHRoaXMuX2NyZWF0ZUJ1dHRvbignbWFwYm94Z2wtY3RybC16b29tLWluJywgKGUpID0+IHsgaWYgKHRoaXMuX21hcCkgdGhpcy5fbWFwLnpvb21Jbih7fSwge29yaWdpbmFsRXZlbnQ6IGV9KTsgfSk7XG4gICAgICAgICAgICBET00uY3JlYXRlKCdzcGFuJywgYG1hcGJveGdsLWN0cmwtaWNvbmAsIHRoaXMuX3pvb21JbkJ1dHRvbikuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgICAgICB0aGlzLl96b29tT3V0QnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKCdtYXBib3hnbC1jdHJsLXpvb20tb3V0JywgKGUpID0+IHsgaWYgKHRoaXMuX21hcCkgdGhpcy5fbWFwLnpvb21PdXQoe30sIHtvcmlnaW5hbEV2ZW50OiBlfSk7IH0pO1xuICAgICAgICAgICAgRE9NLmNyZWF0ZSgnc3BhbicsIGBtYXBib3hnbC1jdHJsLWljb25gLCB0aGlzLl96b29tT3V0QnV0dG9uKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDb21wYXNzKSB7XG4gICAgICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICAgICAnX3JvdGF0ZUNvbXBhc3NBcnJvdydcbiAgICAgICAgICAgIF0sIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fY29tcGFzcyA9IHRoaXMuX2NyZWF0ZUJ1dHRvbignbWFwYm94Z2wtY3RybC1jb21wYXNzJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXApIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5yZXNldE5vcnRoUGl0Y2goe30sIHtvcmlnaW5hbEV2ZW50OiBlfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLnJlc2V0Tm9ydGgoe30sIHtvcmlnaW5hbEV2ZW50OiBlfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9jb21wYXNzSWNvbiA9IERPTS5jcmVhdGUoJ3NwYW4nLCAnbWFwYm94Z2wtY3RybC1pY29uJywgdGhpcy5fY29tcGFzcyk7XG4gICAgICAgICAgICB0aGlzLl9jb21wYXNzSWNvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVab29tQnV0dG9ucygpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBpZiAoIW1hcCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuICAgICAgICBjb25zdCBpc01heCA9IHpvb20gPT09IG1hcC5nZXRNYXhab29tKCk7XG4gICAgICAgIGNvbnN0IGlzTWluID0gem9vbSA9PT0gbWFwLmdldE1pblpvb20oKTtcbiAgICAgICAgdGhpcy5fem9vbUluQnV0dG9uLmRpc2FibGVkID0gaXNNYXg7XG4gICAgICAgIHRoaXMuX3pvb21PdXRCdXR0b24uZGlzYWJsZWQgPSBpc01pbjtcbiAgICAgICAgdGhpcy5fem9vbUluQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIGlzTWF4LnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLl96b29tT3V0QnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIGlzTWluLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIF9yb3RhdGVDb21wYXNzQXJyb3coKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgaWYgKCFtYXApIHJldHVybjtcblxuICAgICAgICBjb25zdCByb3RhdGUgPSB0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2ggP1xuICAgICAgICAgICAgYHNjYWxlKCR7MSAvIE1hdGgucG93KE1hdGguY29zKG1hcC50cmFuc2Zvcm0ucGl0Y2ggKiAoTWF0aC5QSSAvIDE4MCkpLCAwLjUpfSkgcm90YXRlWCgke21hcC50cmFuc2Zvcm0ucGl0Y2h9ZGVnKSByb3RhdGVaKCR7bWFwLnRyYW5zZm9ybS5hbmdsZSAqICgxODAgLyBNYXRoLlBJKX1kZWcpYCA6XG4gICAgICAgICAgICBgcm90YXRlKCR7bWFwLnRyYW5zZm9ybS5hbmdsZSAqICgxODAgLyBNYXRoLlBJKX1kZWcpYDtcblxuICAgICAgICBtYXAuX3JlcXVlc3REb21UYXNrKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb21wYXNzSWNvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBhc3NJY29uLnN0eWxlLnRyYW5zZm9ybSA9IHJvdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Wm9vbSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fem9vbUluQnV0dG9uLCAnWm9vbUluJyk7XG4gICAgICAgICAgICB0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tT3V0QnV0dG9uLCAnWm9vbU91dCcpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uKCd6b29tJywgdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDb21wYXNzKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl9jb21wYXNzLCAnUmVzZXRCZWFyaW5nJyk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoKSB7XG4gICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgICAgIG1hcC5vbigncGl0Y2gnLCB0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgbWFwLm9uKCdyb3RhdGUnLCB0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpO1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KCk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVyID0gbmV3IE1vdXNlUm90YXRlV3JhcHBlcihtYXAsIHRoaXMuX2NvbXBhc3MsIHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBpZiAoIW1hcCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1pvb20pIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIG1hcC5vZmYoJ3pvb20nLCB0aGlzLl91cGRhdGVab29tQnV0dG9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Q29tcGFzcykge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCkge1xuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgICAgICBtYXAub2ZmKCdwaXRjaCcsIHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICBtYXAub2ZmKCdyb3RhdGUnLCB0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXIpIHRoaXMuX2hhbmRsZXIub2ZmKCk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBfY3JlYXRlQnV0dG9uKGNsYXNzTmFtZTogc3RyaW5nLCBmbjogKCkgPT4gbWl4ZWQpOiBIVE1MQnV0dG9uRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGEgPSBET00uY3JlYXRlKCdidXR0b24nLCBjbGFzc05hbWUsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIGEudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm4pO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG5cbiAgICBfc2V0QnV0dG9uVGl0bGUoYnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCwgdGl0bGU6IHN0cmluZykge1xuICAgICAgICBpZiAoIXRoaXMuX21hcCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzdHIgPSB0aGlzLl9tYXAuX2dldFVJU3RyaW5nKGBOYXZpZ2F0aW9uQ29udHJvbC4ke3RpdGxlfWApO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgc3RyKTtcbiAgICAgICAgaWYgKGJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCkgYnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBzdHIpO1xuICAgIH1cbn1cblxuY2xhc3MgTW91c2VSb3RhdGVXcmFwcGVyIHtcblxuICAgIG1hcDogTWFwO1xuICAgIF9jbGlja1RvbGVyYW5jZTogbnVtYmVyO1xuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIG1vdXNlUm90YXRlOiBNb3VzZVJvdGF0ZUhhbmRsZXI7XG4gICAgbW91c2VQaXRjaDogTW91c2VQaXRjaEhhbmRsZXI7XG4gICAgX3N0YXJ0UG9zOiA/UG9pbnQ7XG4gICAgX2xhc3RQb3M6ID9Qb2ludDtcblxuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwLCBlbGVtZW50OiBIVE1MRWxlbWVudCwgcGl0Y2g/OiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5fY2xpY2tUb2xlcmFuY2UgPSAxMDtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5tb3VzZVJvdGF0ZSA9IG5ldyBNb3VzZVJvdGF0ZUhhbmRsZXIoe2NsaWNrVG9sZXJhbmNlOiBtYXAuZHJhZ1JvdGF0ZS5fbW91c2VSb3RhdGUuX2NsaWNrVG9sZXJhbmNlfSk7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICBpZiAocGl0Y2gpIHRoaXMubW91c2VQaXRjaCA9IG5ldyBNb3VzZVBpdGNoSGFuZGxlcih7Y2xpY2tUb2xlcmFuY2U6IG1hcC5kcmFnUm90YXRlLl9tb3VzZVBpdGNoLl9jbGlja1RvbGVyYW5jZX0pO1xuXG4gICAgICAgIGJpbmRBbGwoWydtb3VzZWRvd24nLCAnbW91c2Vtb3ZlJywgJ21vdXNldXAnLCAndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnLCAndG91Y2hlbmQnLCAncmVzZXQnXSwgdGhpcyk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm1vdXNlZG93bik7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy50b3VjaHN0YXJ0LCB7cGFzc2l2ZTogZmFsc2V9KTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMudG91Y2htb3ZlKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy50b3VjaGVuZCk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMucmVzZXQpO1xuICAgIH1cblxuICAgIGRvd24oZTogTW91c2VFdmVudCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIHRoaXMubW91c2VSb3RhdGUubW91c2Vkb3duKGUsIHBvaW50KTtcbiAgICAgICAgaWYgKHRoaXMubW91c2VQaXRjaCkgdGhpcy5tb3VzZVBpdGNoLm1vdXNlZG93bihlLCBwb2ludCk7XG4gICAgICAgIERPTS5kaXNhYmxlRHJhZygpO1xuICAgIH1cblxuICAgIG1vdmUoZTogTW91c2VFdmVudCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMubWFwO1xuICAgICAgICBjb25zdCByID0gdGhpcy5tb3VzZVJvdGF0ZS5tb3VzZW1vdmVXaW5kb3coZSwgcG9pbnQpO1xuICAgICAgICBjb25zdCBkZWx0YSA9IHIgJiYgci5iZWFyaW5nRGVsdGE7XG4gICAgICAgIGlmIChkZWx0YSkgbWFwLnNldEJlYXJpbmcobWFwLmdldEJlYXJpbmcoKSArIGRlbHRhKTtcbiAgICAgICAgaWYgKHRoaXMubW91c2VQaXRjaCkge1xuICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMubW91c2VQaXRjaC5tb3VzZW1vdmVXaW5kb3coZSwgcG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBwICYmIHAucGl0Y2hEZWx0YTtcbiAgICAgICAgICAgIGlmIChkZWx0YSkgbWFwLnNldFBpdGNoKG1hcC5nZXRQaXRjaCgpICsgZGVsdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2ZmKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd24pO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMudG91Y2hzdGFydCwge3Bhc3NpdmU6IGZhbHNlfSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLnRvdWNobW92ZSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMudG91Y2hlbmQpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLnJlc2V0KTtcbiAgICAgICAgdGhpcy5vZmZUZW1wKCk7XG4gICAgfVxuXG4gICAgb2ZmVGVtcCgpIHtcbiAgICAgICAgRE9NLmVuYWJsZURyYWcoKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5tb3VzZW1vdmUpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tb3VzZXVwKTtcbiAgICB9XG5cbiAgICBtb3VzZWRvd24oZTogTW91c2VFdmVudCkge1xuICAgICAgICB0aGlzLmRvd24oZXh0ZW5kKHt9LCBlLCB7Y3RybEtleTogdHJ1ZSwgcHJldmVudERlZmF1bHQ6ICgpID0+IGUucHJldmVudERlZmF1bHQoKX0pLCBET00ubW91c2VQb3ModGhpcy5lbGVtZW50LCBlKSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMubW91c2Vtb3ZlKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMubW91c2V1cCk7XG4gICAgfVxuXG4gICAgbW91c2Vtb3ZlKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tb3ZlKGUsIERPTS5tb3VzZVBvcyh0aGlzLmVsZW1lbnQsIGUpKTtcbiAgICB9XG5cbiAgICBtb3VzZXVwKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tb3VzZVJvdGF0ZS5tb3VzZXVwV2luZG93KGUpO1xuICAgICAgICBpZiAodGhpcy5tb3VzZVBpdGNoKSB0aGlzLm1vdXNlUGl0Y2gubW91c2V1cFdpbmRvdyhlKTtcbiAgICAgICAgdGhpcy5vZmZUZW1wKCk7XG4gICAgfVxuXG4gICAgdG91Y2hzdGFydChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGlmIChlLnRhcmdldFRvdWNoZXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydFBvcyA9IHRoaXMuX2xhc3RQb3MgPSBET00udG91Y2hQb3ModGhpcy5lbGVtZW50LCBlLnRhcmdldFRvdWNoZXMpWzBdO1xuICAgICAgICAgICAgdGhpcy5kb3duKCgoe3R5cGU6ICdtb3VzZWRvd24nLCBidXR0b246IDAsIGN0cmxLZXk6IHRydWUsIHByZXZlbnREZWZhdWx0OiAoKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9OiBhbnkpOiBNb3VzZUV2ZW50KSwgdGhpcy5fc3RhcnRQb3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG91Y2htb3ZlKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RQb3MgPSBET00udG91Y2hQb3ModGhpcy5lbGVtZW50LCBlLnRhcmdldFRvdWNoZXMpWzBdO1xuICAgICAgICAgICAgdGhpcy5tb3ZlKCgoe3ByZXZlbnREZWZhdWx0OiAoKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9OiBhbnkpOiBNb3VzZUV2ZW50KSwgdGhpcy5fbGFzdFBvcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b3VjaGVuZChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGlmIChlLnRhcmdldFRvdWNoZXMubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICB0aGlzLl9zdGFydFBvcyAmJlxuICAgICAgICAgICAgdGhpcy5fbGFzdFBvcyAmJlxuICAgICAgICAgICAgdGhpcy5fc3RhcnRQb3MuZGlzdCh0aGlzLl9sYXN0UG9zKSA8IHRoaXMuX2NsaWNrVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMubW91c2VSb3RhdGUucmVzZXQoKTtcbiAgICAgICAgaWYgKHRoaXMubW91c2VQaXRjaCkgdGhpcy5tb3VzZVBpdGNoLnJlc2V0KCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zdGFydFBvcztcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xhc3RQb3M7XG4gICAgICAgIHRoaXMub2ZmVGVtcCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmF2aWdhdGlvbkNvbnRyb2w7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge0V2ZW50LCBFdmVudGVkfSBmcm9tICcuLi8uLi91dGlsL2V2ZW50ZWQuanMnO1xuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tLmpzJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vLi4vdXRpbC93aW5kb3cuanMnO1xuaW1wb3J0IHtleHRlbmQsIGJpbmRBbGwsIHdhcm5PbmNlfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IE1hcmtlciBmcm9tICcuLi9tYXJrZXIuanMnO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuLi8uLi9nZW8vbG5nX2xhdC5qcyc7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSAnLi4vLi4vdXRpbC90aHJvdHRsZS5qcyc7XG5pbXBvcnQge21lcmNhdG9yWmZyb21BbHRpdHVkZX0gZnJvbSAnLi4vLi4vZ2VvL21lcmNhdG9yX2Nvb3JkaW5hdGUuanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwLmpzJztcbmltcG9ydCB0eXBlIHtBbmltYXRpb25PcHRpb25zLCBDYW1lcmFPcHRpb25zfSBmcm9tICcuLi9jYW1lcmEuanMnO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gICAgcG9zaXRpb25PcHRpb25zOiBQb3NpdGlvbk9wdGlvbnMsXG4gICAgZml0Qm91bmRzT3B0aW9uczogQW5pbWF0aW9uT3B0aW9ucyAmIENhbWVyYU9wdGlvbnMsXG4gICAgdHJhY2tVc2VyTG9jYXRpb246IGJvb2xlYW4sXG4gICAgc2hvd0FjY3VyYWN5Q2lyY2xlOiBib29sZWFuLFxuICAgIHNob3dVc2VyTG9jYXRpb246IGJvb2xlYW4sXG4gICAgc2hvd1VzZXJIZWFkaW5nOiBib29sZWFuLFxuICAgIGdlb2xvY2F0aW9uOiBHZW9sb2NhdGlvbixcbn07XG5cbnR5cGUgRGV2aWNlT3JpZW50YXRpb25FdmVudCA9IHtcbiAgICBhYnNvbHV0ZTogYm9vbGVhbixcbiAgICBhbHBoYTogbnVtYmVyLFxuICAgIGJldGE6IG51bWJlcixcbiAgICBnYW1tYTogbnVtYmVyLFxuICAgIHJlcXVlc3RQZXJtaXNzaW9uOiBQcm9taXNlPFN0cmluZz4sXG4gICAgd2Via2l0Q29tcGFzc0hlYWRpbmc/OiBudW1iZXIsXG59XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIHBvc2l0aW9uT3B0aW9uczoge1xuICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlLFxuICAgICAgICBtYXhpbXVtQWdlOiAwLFxuICAgICAgICB0aW1lb3V0OiA2MDAwIC8qIDYgc2VjICovXG4gICAgfSxcbiAgICBmaXRCb3VuZHNPcHRpb25zOiB7XG4gICAgICAgIG1heFpvb206IDE1XG4gICAgfSxcbiAgICB0cmFja1VzZXJMb2NhdGlvbjogZmFsc2UsXG4gICAgc2hvd0FjY3VyYWN5Q2lyY2xlOiB0cnVlLFxuICAgIHNob3dVc2VyTG9jYXRpb246IHRydWUsXG4gICAgc2hvd1VzZXJIZWFkaW5nOiBmYWxzZVxufTtcblxuLyoqXG4gKiBBIGBHZW9sb2NhdGVDb250cm9sYCBjb250cm9sIHByb3ZpZGVzIGEgYnV0dG9uIHRoYXQgdXNlcyB0aGUgYnJvd3NlcidzIGdlb2xvY2F0aW9uXG4gKiBBUEkgdG8gbG9jYXRlIHRoZSB1c2VyIG9uIHRoZSBtYXAuXG4gKiBBZGQgdGhpcyBjb250cm9sIHRvIGEgbWFwIHVzaW5nIHtAbGluayBNYXAjYWRkQ29udHJvbH0uXG4gKlxuICogTm90IGFsbCBicm93c2VycyBzdXBwb3J0IGdlb2xvY2F0aW9uLFxuICogYW5kIHNvbWUgdXNlcnMgbWF5IGRpc2FibGUgdGhlIGZlYXR1cmUuIEdlb2xvY2F0aW9uIHN1cHBvcnQgZm9yIG1vZGVyblxuICogYnJvd3NlcnMgaW5jbHVkaW5nIENocm9tZSByZXF1aXJlcyBzaXRlcyB0byBiZSBzZXJ2ZWQgb3ZlciBIVFRQUy4gSWZcbiAqIGdlb2xvY2F0aW9uIHN1cHBvcnQgaXMgbm90IGF2YWlsYWJsZSwgdGhlIEdlb2xvY2F0ZUNvbnRyb2wgd2lsbCBzaG93XG4gKiBhcyBkaXNhYmxlZC5cbiAqXG4gKiBUaGUgW3pvb20gbGV2ZWxdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2hlbHAvZ2xvc3Nhcnkvem9vbS1sZXZlbC8pIGFwcGxpZWQgZGVwZW5kcyBvbiB0aGUgYWNjdXJhY3kgb2YgdGhlIGdlb2xvY2F0aW9uIHByb3ZpZGVkIGJ5IHRoZSBkZXZpY2UuXG4gKlxuICogVGhlIEdlb2xvY2F0ZUNvbnRyb2wgaGFzIHR3byBtb2Rlcy4gSWYgYHRyYWNrVXNlckxvY2F0aW9uYCBpcyBgZmFsc2VgIChkZWZhdWx0KSB0aGUgY29udHJvbCBhY3RzIGFzIGEgYnV0dG9uLCB3aGljaCB3aGVuIHByZXNzZWQgd2lsbCBzZXQgdGhlIG1hcCdzIGNhbWVyYSB0byB0YXJnZXQgdGhlIHVzZXIgbG9jYXRpb24uIElmIHRoZSB1c2VyIG1vdmVzLCB0aGUgbWFwIHdvbid0IHVwZGF0ZS4gVGhpcyBpcyBtb3N0IHN1aXRlZCBmb3IgdGhlIGRlc2t0b3AuIElmIGB0cmFja1VzZXJMb2NhdGlvbmAgaXMgYHRydWVgIHRoZSBjb250cm9sIGFjdHMgYXMgYSB0b2dnbGUgYnV0dG9uIHRoYXQgd2hlbiBhY3RpdmUgdGhlIHVzZXIncyBsb2NhdGlvbiBpcyBhY3RpdmVseSBtb25pdG9yZWQgZm9yIGNoYW5nZXMuIEluIHRoaXMgbW9kZSB0aGUgR2VvbG9jYXRlQ29udHJvbCBoYXMgdGhyZWUgaW50ZXJhY3Rpb24gc3RhdGVzOlxuICogKiBhY3RpdmUgLSBUaGUgbWFwJ3MgY2FtZXJhIGF1dG9tYXRpY2FsbHkgdXBkYXRlcyBhcyB0aGUgdXNlcidzIGxvY2F0aW9uIGNoYW5nZXMsIGtlZXBpbmcgdGhlIGxvY2F0aW9uIGRvdCBpbiB0aGUgY2VudGVyLiBUaGlzIGlzIHRoZSBpbml0aWFsIHN0YXRlLCBhbmQgdGhlIHN0YXRlIHVwb24gY2xpY2tpbmcgdGhlIGBHZW9sb2NhdGVDb250cm9sYCBidXR0b24uXG4gKiAqIHBhc3NpdmUgLSBUaGUgdXNlcidzIGxvY2F0aW9uIGRvdCBhdXRvbWF0aWNhbGx5IHVwZGF0ZXMsIGJ1dCB0aGUgbWFwJ3MgY2FtZXJhIGRvZXMgbm90LiBPY2N1cnMgdXBvbiB0aGUgdXNlciBpbml0aWF0aW5nIGEgbWFwIG1vdmVtZW50LlxuICogKiBkaXNhYmxlZCAtIE9jY3VycyBpZiBnZW9sb2NhdGlvbiBpcyBub3QgYXZhaWxhYmxlLCBkaXNhYmxlZCwgb3IgZGVuaWVkLlxuICpcbiAqIFRoZXNlIGludGVyYWN0aW9uIHN0YXRlcyBjYW4ndCBiZSBjb250cm9sbGVkIHByb2dyYW1tYXRpY2FsbHkuIEluc3RlYWQsIHRoZXkgYXJlIHNldCBiYXNlZCBvbiB1c2VyIGludGVyYWN0aW9ucy5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucG9zaXRpb25PcHRpb25zPXtlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlLCB0aW1lb3V0OiA2MDAwfV0gQSBHZW9sb2NhdGlvbiBBUEkgW1Bvc2l0aW9uT3B0aW9uc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Bvc2l0aW9uT3B0aW9ucykgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmZpdEJvdW5kc09wdGlvbnM9e21heFpvb206IDE1fV0gQSB7QGxpbmsgTWFwI2ZpdEJvdW5kc30gb3B0aW9ucyBvYmplY3QgdG8gdXNlIHdoZW4gdGhlIG1hcCBpcyBwYW5uZWQgYW5kIHpvb21lZCB0byB0aGUgdXNlcidzIGxvY2F0aW9uLiBUaGUgZGVmYXVsdCBpcyB0byB1c2UgYSBgbWF4Wm9vbWAgb2YgMTUgdG8gbGltaXQgaG93IGZhciB0aGUgbWFwIHdpbGwgem9vbSBpbiBmb3IgdmVyeSBhY2N1cmF0ZSBsb2NhdGlvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMudHJhY2tVc2VyTG9jYXRpb249ZmFsc2VdIElmIGB0cnVlYCB0aGUgR2VvbG9jYXRlQ29udHJvbCBiZWNvbWVzIGEgdG9nZ2xlIGJ1dHRvbiBhbmQgd2hlbiBhY3RpdmUgdGhlIG1hcCB3aWxsIHJlY2VpdmUgdXBkYXRlcyB0byB0aGUgdXNlcidzIGxvY2F0aW9uIGFzIGl0IGNoYW5nZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlPXRydWVdIEJ5IGRlZmF1bHQsIGlmIGBzaG93VXNlckxvY2F0aW9uYCBpcyBgdHJ1ZWAsIGEgdHJhbnNwYXJlbnQgY2lyY2xlIHdpbGwgYmUgZHJhd24gYXJvdW5kIHRoZSB1c2VyIGxvY2F0aW9uIGluZGljYXRpbmcgdGhlIGFjY3VyYWN5ICg5NSUgY29uZmlkZW5jZSBsZXZlbCkgb2YgdGhlIHVzZXIncyBsb2NhdGlvbi4gU2V0IHRvIGBmYWxzZWAgdG8gZGlzYWJsZS4gQWx3YXlzIGRpc2FibGVkIHdoZW4gYHNob3dVc2VyTG9jYXRpb25gIGlzIGBmYWxzZWAuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbj10cnVlXSBCeSBkZWZhdWx0IGEgZG90IHdpbGwgYmUgc2hvd24gb24gdGhlIG1hcCBhdCB0aGUgdXNlcidzIGxvY2F0aW9uLiBTZXQgdG8gYGZhbHNlYCB0byBkaXNhYmxlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnNob3dVc2VySGVhZGluZz1mYWxzZV0gSWYgYHRydWVgIGFuIGFycm93IHdpbGwgYmUgZHJhd24gbmV4dCB0byB0aGUgdXNlciBsb2NhdGlvbiBkb3QgaW5kaWNhdGluZyB0aGUgZGV2aWNlJ3MgaGVhZGluZy4gVGhpcyBvbmx5IGhhcyBhZmZlY3Qgd2hlbiBgdHJhY2tVc2VyTG9jYXRpb25gIGlzIGB0cnVlYC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5nZW9sb2NhdGlvbj13aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uXSBgd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbmAgYnkgZGVmYXVsdDsgeW91IGNhbiBwcm92aWRlIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIHRvIGN1c3RvbWl6ZSBnZW9sb2NhdGlvbiBoYW5kbGluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZENvbnRyb2wobmV3IG1hcGJveGdsLkdlb2xvY2F0ZUNvbnRyb2woe1xuICogICAgIHBvc2l0aW9uT3B0aW9uczoge1xuICogICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWVcbiAqICAgICB9LFxuICogICAgIHRyYWNrVXNlckxvY2F0aW9uOiB0cnVlLFxuICogICAgIHNob3dVc2VySGVhZGluZzogdHJ1ZVxuICogfSkpO1xuICogQHNlZSBbRXhhbXBsZTogTG9jYXRlIHRoZSB1c2VyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xvY2F0ZS11c2VyLylcbiAqL1xuY2xhc3MgR2VvbG9jYXRlQ29udHJvbCBleHRlbmRzIEV2ZW50ZWQge1xuICAgIF9tYXA6IE1hcDtcbiAgICBvcHRpb25zOiBPcHRpb25zO1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9kb3RFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBfY2lyY2xlRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgX2dlb2xvY2F0ZUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgX2dlb2xvY2F0aW9uV2F0Y2hJRDogbnVtYmVyO1xuICAgIF90aW1lb3V0SWQ6ID9UaW1lb3V0SUQ7XG4gICAgX3dhdGNoU3RhdGU6ICdPRkYnIHwgJ0FDVElWRV9MT0NLJyB8ICdXQUlUSU5HX0FDVElWRScgfCAnQUNUSVZFX0VSUk9SJyB8ICdCQUNLR1JPVU5EJyB8ICdCQUNLR1JPVU5EX0VSUk9SJztcbiAgICBfbGFzdEtub3duUG9zaXRpb246IGFueTtcbiAgICBfdXNlckxvY2F0aW9uRG90TWFya2VyOiBNYXJrZXI7XG4gICAgX2FjY3VyYWN5Q2lyY2xlTWFya2VyOiBNYXJrZXI7XG4gICAgX2FjY3VyYWN5OiBudW1iZXI7XG4gICAgX3NldHVwOiBib29sZWFuOyAvLyBzZXQgdG8gdHJ1ZSBvbmNlIHRoZSBjb250cm9sIGhhcyBiZWVuIHNldHVwXG4gICAgX2hlYWRpbmc6ID9udW1iZXI7XG4gICAgX3VwZGF0ZU1hcmtlclJvdGF0aW9uVGhyb3R0bGVkOiBGdW5jdGlvbjtcblxuICAgIF9udW1iZXJPZldhdGNoZXM6IG51bWJlcjtcbiAgICBfbm9UaW1lb3V0OiBib29sZWFuO1xuICAgIF9zdXBwb3J0c0dlb2xvY2F0aW9uOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogJFNoYXBlPE9wdGlvbnM+KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGNvbnN0IGdlb2xvY2F0aW9uID0gd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHtnZW9sb2NhdGlvbn0sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25TdWNjZXNzJyxcbiAgICAgICAgICAgICdfb25FcnJvcicsXG4gICAgICAgICAgICAnX29uWm9vbScsXG4gICAgICAgICAgICAnX2ZpbmlzaCcsXG4gICAgICAgICAgICAnX3NldHVwVUknLFxuICAgICAgICAgICAgJ191cGRhdGVDYW1lcmEnLFxuICAgICAgICAgICAgJ191cGRhdGVNYXJrZXInLFxuICAgICAgICAgICAgJ191cGRhdGVNYXJrZXJSb3RhdGlvbicsXG4gICAgICAgICAgICAnX29uRGV2aWNlT3JpZW50YXRpb24nXG4gICAgICAgIF0sIHRoaXMpO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fdXBkYXRlTWFya2VyUm90YXRpb25UaHJvdHRsZWQgPSB0aHJvdHRsZSh0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvbiwgMjApO1xuICAgICAgICB0aGlzLl9udW1iZXJPZldhdGNoZXMgPSAwO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKTogSFRNTEVsZW1lbnQge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsIGBtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBgKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9jaGVja0dlb2xvY2F0aW9uU3VwcG9ydCh0aGlzLl9zZXR1cFVJKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgLy8gY2xlYXIgdGhlIGdlb2xvY2F0aW9uIHdhdGNoIGlmIGV4aXN0c1xuICAgICAgICBpZiAodGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCk7XG4gICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYXIgdGhlIG1hcmtlcnMgZnJvbSB0aGUgbWFwXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiAmJiB0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSAmJiB0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9mZignem9vbScsIHRoaXMuX29uWm9vbSk7XG4gICAgICAgIHRoaXMuX21hcCA9ICh1bmRlZmluZWQ6IGFueSk7XG4gICAgICAgIHRoaXMuX251bWJlck9mV2F0Y2hlcyA9IDA7XG4gICAgICAgIHRoaXMuX25vVGltZW91dCA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9jaGVja0dlb2xvY2F0aW9uU3VwcG9ydChjYWxsYmFjazogYm9vbGVhbiA9PiB2b2lkKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZVN1cHBvcnQgPSAoc3VwcG9ydGVkID0gISF0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb24gPSBzdXBwb3J0ZWQ7XG4gICAgICAgICAgICBjYWxsYmFjayhzdXBwb3J0ZWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLl9zdXBwb3J0c0dlb2xvY2F0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb24pO1xuXG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93Lm5hdmlnYXRvci5wZXJtaXNzaW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBuYXZpZ2F0b3IucGVybWlzc2lvbnMgaGFzIGluY29tcGxldGUgYnJvd3NlciBzdXBwb3J0IGh0dHA6Ly9jYW5pdXNlLmNvbS8jZmVhdD1wZXJtaXNzaW9ucy1hcGlcbiAgICAgICAgICAgIC8vIFRlc3QgZm9yIHRoZSBjYXNlIHdoZXJlIGEgYnJvd3NlciBkaXNhYmxlcyBHZW9sb2NhdGlvbiBiZWNhdXNlIG9mIGFuIGluc2VjdXJlIG9yaWdpbjtcbiAgICAgICAgICAgIC8vIGluIHNvbWUgZW52aXJvbm1lbnRzIGxpa2UgaU9TMTYgV2ViVmlldywgcGVybWlzc2lvbnMgcmVqZWN0IHF1ZXJpZXMgYnV0IHN0aWxsIHN1cHBvcnQgZ2VvbG9jYXRpb25cbiAgICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe25hbWU6ICdnZW9sb2NhdGlvbid9KVxuICAgICAgICAgICAgICAgIC50aGVuKHAgPT4gdXBkYXRlU3VwcG9ydChwLnN0YXRlICE9PSAnZGVuaWVkJykpXG4gICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHVwZGF0ZVN1cHBvcnQoKSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZVN1cHBvcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBHZW9sb2NhdGlvbiBBUEkgUG9zaXRpb24gaXMgb3V0c2lkZSB0aGUgbWFwJ3MgbWF4Ym91bmRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb3NpdGlvbn0gcG9zaXRpb24gdGhlIEdlb2xvY2F0aW9uIEFQSSBQb3NpdGlvblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBwb3NpdGlvbiBpcyBvdXRzaWRlIHRoZSBtYXAncyBtYXhib3VuZHMsIG90aGVyd2lzZSByZXR1cm5zIGBmYWxzZWAuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaXNPdXRPZk1hcE1heEJvdW5kcyhwb3NpdGlvbjogUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5fbWFwLmdldE1heEJvdW5kcygpO1xuICAgICAgICBjb25zdCBjb29yZGluYXRlcyA9IHBvc2l0aW9uLmNvb3JkcztcblxuICAgICAgICByZXR1cm4gISFib3VuZHMgJiYgKFxuICAgICAgICAgICAgY29vcmRpbmF0ZXMubG9uZ2l0dWRlIDwgYm91bmRzLmdldFdlc3QoKSB8fFxuICAgICAgICAgICAgY29vcmRpbmF0ZXMubG9uZ2l0dWRlID4gYm91bmRzLmdldEVhc3QoKSB8fFxuICAgICAgICAgICAgY29vcmRpbmF0ZXMubGF0aXR1ZGUgPCBib3VuZHMuZ2V0U291dGgoKSB8fFxuICAgICAgICAgICAgY29vcmRpbmF0ZXMubGF0aXR1ZGUgPiBib3VuZHMuZ2V0Tm9ydGgoKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIF9zZXRFcnJvclN0YXRlKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3dhdGNoU3RhdGUpIHtcbiAgICAgICAgY2FzZSAnV0FJVElOR19BQ1RJVkUnOlxuICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdBQ1RJVkVfRVJST1InO1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0FDVElWRV9MT0NLJzpcbiAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQUNUSVZFX0VSUk9SJztcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3InKTtcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAvLyB0dXJuIG1hcmtlciBncmV5XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQkFDS0dST1VORCc6XG4gICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0JBQ0tHUk9VTkRfRVJST1InO1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yJyk7XG4gICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgLy8gdHVybiBtYXJrZXIgZ3JleVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0FDVElWRV9FUlJPUic6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSwgYFVuZXhwZWN0ZWQgd2F0Y2hTdGF0ZSAke3RoaXMuX3dhdGNoU3RhdGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBHZW9sb2NhdGlvbiBBUEkgcmV0dXJucyBhIG5ldyBsb2NhdGlvbiwgdXBkYXRlIHRoZSBHZW9sb2NhdGVDb250cm9sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb3NpdGlvbn0gcG9zaXRpb24gdGhlIEdlb2xvY2F0aW9uIEFQSSBQb3NpdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uU3VjY2Vzcyhwb3NpdGlvbjogUG9zaXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXApIHtcbiAgICAgICAgICAgIC8vIGNvbnRyb2wgaGFzIHNpbmNlIGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzT3V0T2ZNYXBNYXhCb3VuZHMocG9zaXRpb24pKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRFcnJvclN0YXRlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ291dG9mbWF4Ym91bmRzJywgcG9zaXRpb24pKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgdGhpcy5fZmluaXNoKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIC8vIGtlZXAgYSByZWNvcmQgb2YgdGhlIHBvc2l0aW9uIHNvIHRoYXQgaWYgdGhlIHN0YXRlIGlzIEJBQ0tHUk9VTkQgYW5kIHRoZSB1c2VyXG4gICAgICAgICAgICAvLyBjbGlja3MgdGhlIGJ1dHRvbiwgd2UgY2FuIG1vdmUgdG8gQUNUSVZFX0xPQ0sgaW1tZWRpYXRlbHkgd2l0aG91dCB3YWl0aW5nIGZvclxuICAgICAgICAgICAgLy8gd2F0Y2hQb3NpdGlvbiB0byB0cmlnZ2VyIF9vblN1Y2Nlc3NcbiAgICAgICAgICAgIHRoaXMuX2xhc3RLbm93blBvc2l0aW9uID0gcG9zaXRpb247XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fd2F0Y2hTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnV0FJVElOR19BQ1RJVkUnOlxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0xPQ0snOlxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0VSUk9SJzpcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0FDVElWRV9MT0NLJztcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EJzpcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkRfRVJST1InOlxuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQkFDS0dST1VORCc7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgYFVuZXhwZWN0ZWQgd2F0Y2hTdGF0ZSAke3RoaXMuX3dhdGNoU3RhdGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBzaG93VXNlckxvY2F0aW9uIGFuZCB0aGUgd2F0Y2ggc3RhdGUgaXNuJ3Qgb2ZmIHRoZW4gdXBkYXRlIHRoZSBtYXJrZXIgbG9jYXRpb25cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uICYmIHRoaXMuX3dhdGNoU3RhdGUgIT09ICdPRkYnKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVNYXJrZXIocG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgaW4gbm9ybWFsIG1vZGUgKG5vdCB3YXRjaCBtb2RlKSwgb3IgaWYgaW4gd2F0Y2ggbW9kZSBhbmQgdGhlIHN0YXRlIGlzIGFjdGl2ZSB3YXRjaFxuICAgICAgICAvLyB0aGVuIHVwZGF0ZSB0aGUgY2FtZXJhXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uIHx8IHRoaXMuX3dhdGNoU3RhdGUgPT09ICdBQ1RJVkVfTE9DSycpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNhbWVyYShwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2dlb2xvY2F0ZScsIHBvc2l0aW9uKSk7XG4gICAgICAgIHRoaXMuX2ZpbmlzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgY2FtZXJhIGxvY2F0aW9uIHRvIGNlbnRlciBvbiB0aGUgY3VycmVudCBwb3NpdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb3NpdGlvbn0gcG9zaXRpb24gdGhlIEdlb2xvY2F0aW9uIEFQSSBQb3NpdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VwZGF0ZUNhbWVyYShwb3NpdGlvbjogUG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gbmV3IExuZ0xhdChwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLCBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBwb3NpdGlvbi5jb29yZHMuYWNjdXJhY3k7XG4gICAgICAgIGNvbnN0IGJlYXJpbmcgPSB0aGlzLl9tYXAuZ2V0QmVhcmluZygpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gZXh0ZW5kKHtiZWFyaW5nfSwgdGhpcy5vcHRpb25zLmZpdEJvdW5kc09wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX21hcC5maXRCb3VuZHMoY2VudGVyLnRvQm91bmRzKHJhZGl1cyksIG9wdGlvbnMsIHtcbiAgICAgICAgICAgIGdlb2xvY2F0ZVNvdXJjZTogdHJ1ZSAvLyB0YWcgdGhpcyBjYW1lcmEgY2hhbmdlIHNvIGl0IHdvbid0IGNhdXNlIHRoZSBjb250cm9sIHRvIGNoYW5nZSB0byBiYWNrZ3JvdW5kIHN0YXRlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgdXNlciBsb2NhdGlvbiBkb3QgTWFya2VyIHRvIHRoZSBjdXJyZW50IHBvc2l0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1Bvc2l0aW9ufSBbcG9zaXRpb25dIHRoZSBHZW9sb2NhdGlvbiBBUEkgUG9zaXRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVNYXJrZXIocG9zaXRpb246ID9Qb3NpdGlvbikge1xuICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IG5ldyBMbmdMYXQocG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlKTtcbiAgICAgICAgICAgIHRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnNldExuZ0xhdChjZW50ZXIpLmFkZFRvKHRoaXMuX21hcCk7XG4gICAgICAgICAgICB0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0TG5nTGF0KGNlbnRlcikuYWRkVG8odGhpcy5fbWFwKTtcbiAgICAgICAgICAgIHRoaXMuX2FjY3VyYWN5ID0gcG9zaXRpb24uY29vcmRzLmFjY3VyYWN5O1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uICYmIHRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDaXJjbGVSYWRpdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZUNpcmNsZVJhZGl1cygpIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuX2NpcmNsZUVsZW1lbnQpO1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGNvbnN0IHRyID0gbWFwLnRyYW5zZm9ybTtcblxuICAgICAgICBjb25zdCBwaXhlbHNQZXJNZXRlciA9IG1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLjAsIHRyLl9jZW50ZXIubGF0KSAqIHRyLndvcmxkU2l6ZTtcbiAgICAgICAgYXNzZXJ0KHBpeGVsc1Blck1ldGVyICE9PSAwLjApO1xuICAgICAgICBjb25zdCBjaXJjbGVEaWFtZXRlciA9IE1hdGguY2VpbCgyLjAgKiB0aGlzLl9hY2N1cmFjeSAqIHBpeGVsc1Blck1ldGVyKTtcblxuICAgICAgICB0aGlzLl9jaXJjbGVFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7Y2lyY2xlRGlhbWV0ZXJ9cHhgO1xuICAgICAgICB0aGlzLl9jaXJjbGVFbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke2NpcmNsZURpYW1ldGVyfXB4YDtcbiAgICB9XG5cbiAgICBfb25ab29tKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24gJiYgdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2lyY2xlUmFkaXVzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIHVzZXIgbG9jYXRpb24gZG90IE1hcmtlciByb3RhdGlvbiB0byB0aGUgY3VycmVudCBoZWFkaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVNYXJrZXJSb3RhdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlciAmJiB0eXBlb2YgdGhpcy5faGVhZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRSb3RhdGlvbih0aGlzLl9oZWFkaW5nKTtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcnKTtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRSb3RhdGlvbigwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkVycm9yKGVycm9yOiBQb3NpdGlvbkVycm9yKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICAgICAgICAvLyBjb250cm9sIGhhcyBzaW5jZSBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gUEVSTUlTU0lPTl9ERU5JRURcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ09GRic7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5fbWFwLl9nZXRVSVN0cmluZygnR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aXRsZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCkgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aXRsZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJXYXRjaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IuY29kZSA9PT0gMyAmJiB0aGlzLl9ub1RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHJlcHJlc2VudHMgYSBmb3JjZWQgZXJyb3Igc3RhdGVcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHdhcyB0cmlnZ2VyZWQgdG8gZm9yY2UgaW1tZWRpYXRlIGdlb2xvY2F0aW9uIHdoZW4gYSB3YXRjaCBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICAgICAgICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzgyMTRcbiAgICAgICAgICAgICAgICAvLyBhbmQgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL2dlb2xvY2F0aW9uLWFwaS8jZXhhbXBsZS01LWZvcmNpbmctdGhlLXVzZXItYWdlbnQtdG8tcmV0dXJuLWEtZnJlc2gtY2FjaGVkLXBvc2l0aW9uXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRFcnJvclN0YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fd2F0Y2hTdGF0ZSAhPT0gJ09GRicgJiYgdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2Vycm9yJywgZXJyb3IpKTtcblxuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9XG5cbiAgICBfZmluaXNoKCkge1xuICAgICAgICBpZiAodGhpcy5fdGltZW91dElkKSB7IGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpOyB9XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBfc2V0dXBVSShzdXBwb3J0ZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX21hcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGNvbnRyb2wgd2FzIHJlbW92ZWQgZnJvbSB0aGUgbWFwIGJlZm9yZSBnZW9sb2NhdGlvblxuICAgICAgICAgICAgLy8gc3VwcG9ydCB3YXMgZGV0ZXJtaW5lZC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZTogTW91c2VFdmVudCkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uID0gRE9NLmNyZWF0ZSgnYnV0dG9uJywgYG1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlYCwgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgRE9NLmNyZWF0ZSgnc3BhbicsIGBtYXBib3hnbC1jdHJsLWljb25gLCB0aGlzLl9nZW9sb2NhdGVCdXR0b24pLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXG4gICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG5cbiAgICAgICAgaWYgKHN1cHBvcnRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKCdHZW9sb2NhdGlvbiBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUgc28gdGhlIEdlb2xvY2F0ZUNvbnRyb2wgd2lsbCBiZSBkaXNhYmxlZC4nKTtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5fbWFwLl9nZXRVSVN0cmluZygnR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZScpO1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aXRsZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkKSB0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKCd0aXRsZScsIHRpdGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5fbWFwLl9nZXRVSVN0cmluZygnR2VvbG9jYXRlQ29udHJvbC5GaW5kTXlMb2NhdGlvbicpO1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRpdGxlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQpIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdGl0bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ09GRic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGVuIHNob3dVc2VyTG9jYXRpb24gaXMgZW5hYmxlZCwga2VlcCB0aGUgR2VvbG9jYXRlIGJ1dHRvbiBkaXNhYmxlZCB1bnRpbCB0aGUgZGV2aWNlIGxvY2F0aW9uIG1hcmtlciBpcyBzZXR1cCBvbiB0aGUgbWFwXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fZG90RWxlbWVudCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC11c2VyLWxvY2F0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLl9kb3RFbGVtZW50LmFwcGVuZENoaWxkKERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdCcpKTtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuYXBwZW5kQ2hpbGQoRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZycpKTtcblxuICAgICAgICAgICAgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyID0gbmV3IE1hcmtlcih7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5fZG90RWxlbWVudCxcbiAgICAgICAgICAgICAgICByb3RhdGlvbkFsaWdubWVudDogJ21hcCcsXG4gICAgICAgICAgICAgICAgcGl0Y2hBbGlnbm1lbnQ6ICdtYXAnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fY2lyY2xlRWxlbWVudCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC11c2VyLWxvY2F0aW9uLWFjY3VyYWN5LWNpcmNsZScpO1xuICAgICAgICAgICAgdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIgPSBuZXcgTWFya2VyKHtlbGVtZW50OiB0aGlzLl9jaXJjbGVFbGVtZW50LCBwaXRjaEFsaWdubWVudDogJ21hcCd9KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdPRkYnO1xuXG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgICAgICB0aGlzLl9tYXAub24oJ3pvb20nLCB0aGlzLl9vblpvb20pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRyaWdnZXIuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5fc2V0dXAgPSB0cnVlO1xuXG4gICAgICAgIC8vIHdoZW4gdGhlIGNhbWVyYSBpcyBjaGFuZ2VkIChhbmQgaXQncyBub3QgYXMgYSByZXN1bHQgb2YgdGhlIEdlb2xvY2F0aW9uIENvbnRyb2wpIGNoYW5nZVxuICAgICAgICAvLyB0aGUgd2F0Y2ggbW9kZSB0byBiYWNrZ3JvdW5kIHdhdGNoLCBzbyB0aGF0IHRoZSBtYXJrZXIgaXMgdXBkYXRlZCBidXQgbm90IHRoZSBjYW1lcmEuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vbignbW92ZXN0YXJ0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbVJlc2l6ZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgJiYgZXZlbnQub3JpZ2luYWxFdmVudC50eXBlID09PSAncmVzaXplJztcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50Lmdlb2xvY2F0ZVNvdXJjZSAmJiB0aGlzLl93YXRjaFN0YXRlID09PSAnQUNUSVZFX0xPQ0snICYmICFmcm9tUmVzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQkFDS0dST1VORCc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd0cmFja3VzZXJsb2NhdGlvbmVuZCcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICogUHJvZ3JhbW1hdGljYWxseSByZXF1ZXN0IGFuZCBtb3ZlIHRoZSBtYXAgdG8gdGhlIHVzZXIncyBsb2NhdGlvbi5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgIGlmIGNhbGxlZCBiZWZvcmUgY29udHJvbCB3YXMgYWRkZWQgdG8gYSBtYXAsIG90aGVyd2lzZSByZXR1cm5zIGB0cnVlYC5cbiAgICAqIENhbGxlZCBvbiBhIGRldmljZW9yaWVudGF0aW9uIGV2ZW50LlxuICAgICpcbiAgICAqIEBwYXJhbSBkZXZpY2VPcmllbnRhdGlvbkV2ZW50IHtEZXZpY2VPcmllbnRhdGlvbkV2ZW50fVxuICAgICogQHByaXZhdGVcbiAgICAqIEBleGFtcGxlXG4gICAgKiAvLyBJbml0aWFsaXplIHRoZSBHZW9sb2NhdGVDb250cm9sLlxuICAgICogdmFyIGdlb2xvY2F0ZSA9IG5ldyBtYXBib3hnbC5HZW9sb2NhdGVDb250cm9sKHtcbiAgICAqICBwb3NpdGlvbk9wdGlvbnM6IHtcbiAgICAqICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZVxuICAgICogIH0sXG4gICAgKiAgdHJhY2tVc2VyTG9jYXRpb246IHRydWVcbiAgICAqIH0pO1xuICAgICogLy8gQWRkIHRoZSBjb250cm9sIHRvIHRoZSBtYXAuXG4gICAgKiBtYXAuYWRkQ29udHJvbChnZW9sb2NhdGUpO1xuICAgICogbWFwLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgKiAgIGdlb2xvY2F0ZS50cmlnZ2VyKCk7XG4gICAgKiB9KTtcbiAgICAqL1xuICAgIF9vbkRldmljZU9yaWVudGF0aW9uKGRldmljZU9yaWVudGF0aW9uRXZlbnQ6IERldmljZU9yaWVudGF0aW9uRXZlbnQpIHtcbiAgICAgICAgLy8gYWJzb2x1dGUgaXMgdHJ1ZSBpZiB0aGUgb3JpZW50YXRpb24gZGF0YSBpcyBwcm92aWRlZCBhcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBFYXJ0aCdzIGNvb3JkaW5hdGUgZnJhbWUgYW5kIHRoZSBkZXZpY2UncyBjb29yZGluYXRlIGZyYW1lLCBvciBmYWxzZSBpZiB0aGUgb3JpZW50YXRpb24gZGF0YSBpcyBiZWluZyBwcm92aWRlZCBpbiByZWZlcmVuY2UgdG8gc29tZSBhcmJpdHJhcnksIGRldmljZS1kZXRlcm1pbmVkIGNvb3JkaW5hdGUgZnJhbWUuXG4gICAgICAgIGlmICh0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIpIHtcbiAgICAgICAgICAgIGlmIChkZXZpY2VPcmllbnRhdGlvbkV2ZW50LndlYmtpdENvbXBhc3NIZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gU2FmYXJpXG4gICAgICAgICAgICAgICAgdGhpcy5faGVhZGluZyA9IGRldmljZU9yaWVudGF0aW9uRXZlbnQud2Via2l0Q29tcGFzc0hlYWRpbmc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRldmljZU9yaWVudGF0aW9uRXZlbnQuYWJzb2x1dGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBub24tU2FmYXJpIGFscGhhIGluY3JlYXNlcyBjb3VudGVyIGNsb2Nrd2lzZSBhcm91bmQgdGhlIHogYXhpc1xuICAgICAgICAgICAgICAgIHRoaXMuX2hlYWRpbmcgPSBkZXZpY2VPcmllbnRhdGlvbkV2ZW50LmFscGhhICogLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvblRocm90dGxlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciBhIGdlb2xvY2F0aW9uIGV2ZW50LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbml0aWFsaXplIHRoZSBnZW9sb2NhdGUgY29udHJvbC5cbiAgICAgKiBjb25zdCBnZW9sb2NhdGUgPSBuZXcgbWFwYm94Z2wuR2VvbG9jYXRlQ29udHJvbCh7XG4gICAgICogICAgIHBvc2l0aW9uT3B0aW9uczoge1xuICAgICAqICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlXG4gICAgICogICAgIH0sXG4gICAgICogICAgIHRyYWNrVXNlckxvY2F0aW9uOiB0cnVlXG4gICAgICogfSk7XG4gICAgICogLy8gQWRkIHRoZSBjb250cm9sIHRvIHRoZSBtYXAuXG4gICAgICogbWFwLmFkZENvbnRyb2woZ2VvbG9jYXRlKTtcbiAgICAgKiBtYXAub24oJ2xvYWQnLCAoKSA9PiB7XG4gICAgICogICAgIGdlb2xvY2F0ZS50cmlnZ2VyKCk7XG4gICAgICogfSk7XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYCBpZiBjYWxsZWQgYmVmb3JlIGNvbnRyb2wgd2FzIGFkZGVkIHRvIGEgbWFwLCBvdGhlcndpc2UgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICovXG4gICAgdHJpZ2dlcigpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zZXR1cCkge1xuICAgICAgICAgICAgd2Fybk9uY2UoJ0dlb2xvY2F0ZSBjb250cm9sIHRyaWdnZXJlZCBiZWZvcmUgYWRkZWQgdG8gYSBtYXAnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgd2F0Y2hTdGF0ZSBhbmQgZG8gYW55IG91dGdvaW5nIHN0YXRlIGNsZWFudXBcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fd2F0Y2hTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnT0ZGJzpcbiAgICAgICAgICAgICAgICAvLyB0dXJuIG9uIHRoZSBHZW9sb2NhdGVDb250cm9sXG4gICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdXQUlUSU5HX0FDVElWRSc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd0cmFja3VzZXJsb2NhdGlvbnN0YXJ0JykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnV0FJVElOR19BQ1RJVkUnOlxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0xPQ0snOlxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0VSUk9SJzpcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkRfRVJST1InOlxuICAgICAgICAgICAgICAgIC8vIHR1cm4gb2ZmIHRoZSBHZW9sb2NhdGUgQ29udHJvbFxuICAgICAgICAgICAgICAgIHRoaXMuX251bWJlck9mV2F0Y2hlcy0tO1xuICAgICAgICAgICAgICAgIHRoaXMuX25vVGltZW91dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnT0ZGJztcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvcicpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgndHJhY2t1c2VybG9jYXRpb25lbmQnKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EJzpcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0FDVElWRV9MT0NLJztcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgICAgIC8vIHNldCBjYW1lcmEgdG8gbGFzdCBrbm93biBsb2NhdGlvblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sYXN0S25vd25Qb3NpdGlvbikgdGhpcy5fdXBkYXRlQ2FtZXJhKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3RyYWNrdXNlcmxvY2F0aW9uc3RhcnQnKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgYFVuZXhwZWN0ZWQgd2F0Y2hTdGF0ZSAke3RoaXMuX3dhdGNoU3RhdGV9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGluY29taW5nIHN0YXRlIHNldHVwXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3dhdGNoU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ1dBSVRJTkdfQUNUSVZFJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FDVElWRV9MT0NLJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBQ1RJVkVfRVJST1InOlxuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQkFDS0dST1VORCc6XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkRfRVJST1InOlxuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3InKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ09GRic6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgYFVuZXhwZWN0ZWQgd2F0Y2hTdGF0ZSAke3RoaXMuX3dhdGNoU3RhdGV9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1hbmFnZSBnZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uIC8gZ2VvbG9jYXRpb24uY2xlYXJXYXRjaFxuICAgICAgICAgICAgaWYgKHRoaXMuX3dhdGNoU3RhdGUgPT09ICdPRkYnICYmIHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYXIgd2F0Y2hQb3NpdGlvbiBhcyB3ZSd2ZSBjaGFuZ2VkIHRvIGFuIE9GRiBzdGF0ZVxuICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyV2F0Y2goKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBlbmFibGUgd2F0Y2hQb3NpdGlvbiBzaW5jZSB3YXRjaFN0YXRlIGlzIG5vdCBPRkYgYW5kIHRoZXJlIGlzIG5vIHdhdGNoUG9zaXRpb24gYWxyZWFkeSBydW5uaW5nXG5cbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsICd0cnVlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9udW1iZXJPZldhdGNoZXMrKztcbiAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb25PcHRpb25zO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9udW1iZXJPZldhdGNoZXMgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uT3B0aW9ucyA9IHttYXhpbXVtQWdlOjYwMDAwMCwgdGltZW91dDowfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbm9UaW1lb3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbk9wdGlvbnMgPSB0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ub1RpbWVvdXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgPSB0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25TdWNjZXNzLCB0aGlzLl9vbkVycm9yLCBwb3NpdGlvbk9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VXNlckhlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24odGhpcy5fb25TdWNjZXNzLCB0aGlzLl9vbkVycm9yLCB0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zKTtcblxuICAgICAgICAgICAgLy8gVGhpcyB0aW1lb3V0IGVuc3VyZXMgdGhhdCB3ZSBzdGlsbCBjYWxsIGZpbmlzaCgpIGV2ZW4gaWZcbiAgICAgICAgICAgIC8vIHRoZSB1c2VyIGRlY2xpbmVzIHRvIHNoYXJlIHRoZWlyIGxvY2F0aW9uIGluIEZpcmVmb3hcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHNldFRpbWVvdXQodGhpcy5fZmluaXNoLCAxMDAwMCAvKiAxMHNlYyAqLyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lcigpIHtcbiAgICAgICAgY29uc3QgYWRkTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoJ29uZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZScgaW4gd2luZG93KSB7XG4gICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VvcmllbnRhdGlvbmFic29sdXRlJywgdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLCB0aGlzLl9vbkRldmljZU9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5EZXZpY2VNb3Rpb25FdmVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgICAgdHlwZW9mIHdpbmRvdy5EZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgRGV2aWNlT3JpZW50YXRpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgPT09ICdncmFudGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkTGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkTGlzdGVuZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jbGVhcldhdGNoKCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpO1xuXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbik7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uYWJzb2x1dGUnLCB0aGlzLl9vbkRldmljZU9yaWVudGF0aW9uKTtcblxuICAgICAgICB0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCAnZmFsc2UnKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1hcmtlcihudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2VvbG9jYXRlQ29udHJvbDtcblxuLyogR2VvbG9jYXRlQ29udHJvbCBXYXRjaCBTdGF0ZXNcbiAqIFRoaXMgaXMgdGhlIHByaXZhdGUgc3RhdGUgb2YgdGhlIGNvbnRyb2wuXG4gKlxuICogT0ZGXG4gKiAgICBvZmYvaW5hY3RpdmVcbiAqIFdBSVRJTkdfQUNUSVZFXG4gKiAgICBHZW9sb2NhdGVDb250cm9sIHdhcyBjbGlja2VkIGJ1dCBzdGlsbCB3YWl0aW5nIGZvciBHZW9sb2NhdGlvbiBBUEkgcmVzcG9uc2Ugd2l0aCB1c2VyIGxvY2F0aW9uXG4gKiBBQ1RJVkVfTE9DS1xuICogICAgU2hvd2luZyB0aGUgdXNlciBsb2NhdGlvbiBhcyBhIGRvdCBBTkQgdHJhY2tpbmcgdGhlIGNhbWVyYSB0byBiZSBmaXhlZCB0byB0aGVpciBsb2NhdGlvbi4gSWYgdGhlaXIgbG9jYXRpb24gY2hhbmdlcyB0aGUgbWFwIG1vdmVzIHRvIGZvbGxvdy5cbiAqIEFDVElWRV9FUlJPUlxuICogICAgVGhlcmUgd2FzIGVuIGVycm9yIGZyb20gdGhlIEdlb2xvY2F0aW9uIEFQSSB3aGlsZSB0cnlpbmcgdG8gc2hvdyBhbmQgdHJhY2sgdGhlIHVzZXIgbG9jYXRpb24uXG4gKiBCQUNLR1JPVU5EXG4gKiAgICBTaG93aW5nIHRoZSB1c2VyIGxvY2F0aW9uIGFzIGEgZG90IGJ1dCB0aGUgY2FtZXJhIGRvZXNuJ3QgZm9sbG93IHRoZWlyIGxvY2F0aW9uIGFzIGl0IGNoYW5nZXMuXG4gKiBCQUNLR1JPVU5EX0VSUk9SXG4gKiAgICBUaGVyZSB3YXMgYW4gZXJyb3IgZnJvbSB0aGUgR2VvbG9jYXRpb24gQVBJIHdoaWxlIHRyeWluZyB0byBzaG93IChidXQgbm90IHRyYWNrKSB0aGUgdXNlciBsb2NhdGlvbi5cbiAqL1xuXG4vKipcbiAqIEZpcmVkIG9uIGVhY2ggR2VvbG9jYXRpb24gQVBJIHBvc2l0aW9uIHVwZGF0ZSB0aGF0IHJldHVybmVkIGFzIHN1Y2Nlc3MuXG4gKlxuICogQGV2ZW50IGdlb2xvY2F0ZVxuICogQG1lbWJlcm9mIEdlb2xvY2F0ZUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQHByb3BlcnR5IHtQb3NpdGlvbn0gZGF0YSBUaGUgcmV0dXJuZWQgW1Bvc2l0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9zaXRpb24pIG9iamVjdCBmcm9tIHRoZSBjYWxsYmFjayBpbiBbR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HZW9sb2NhdGlvbi9nZXRDdXJyZW50UG9zaXRpb24pIG9yIFtHZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HZW9sb2NhdGlvbi93YXRjaFBvc2l0aW9uKS5cbiAqIEBleGFtcGxlXG4gKiAvLyBJbml0aWFsaXplIHRoZSBHZW9sb2NhdGVDb250cm9sLlxuICogY29uc3QgZ2VvbG9jYXRlID0gbmV3IG1hcGJveGdsLkdlb2xvY2F0ZUNvbnRyb2woe1xuICogICAgIHBvc2l0aW9uT3B0aW9uczoge1xuICogICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWVcbiAqICAgICB9LFxuICogICAgIHRyYWNrVXNlckxvY2F0aW9uOiB0cnVlXG4gKiB9KTtcbiAqIC8vIEFkZCB0aGUgY29udHJvbCB0byB0aGUgbWFwLlxuICogbWFwLmFkZENvbnRyb2woZ2VvbG9jYXRlKTtcbiAqIC8vIFNldCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGZpcmVzXG4gKiAvLyB3aGVuIGEgZ2VvbG9jYXRlIGV2ZW50IG9jY3Vycy5cbiAqIGdlb2xvY2F0ZS5vbignZ2VvbG9jYXRlJywgKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdBIGdlb2xvY2F0ZSBldmVudCBoYXMgb2NjdXJyZWQuJyk7XG4gKiB9KTtcbiAqXG4gKi9cblxuLyoqXG4gKiBGaXJlZCBvbiBlYWNoIEdlb2xvY2F0aW9uIEFQSSBwb3NpdGlvbiB1cGRhdGUgdGhhdCByZXR1cm5lZCBhcyBhbiBlcnJvci5cbiAqXG4gKiBAZXZlbnQgZXJyb3JcbiAqIEBtZW1iZXJvZiBHZW9sb2NhdGVDb250cm9sXG4gKiBAaW5zdGFuY2VcbiAqIEBwcm9wZXJ0eSB7UG9zaXRpb25FcnJvcn0gZGF0YSBUaGUgcmV0dXJuZWQgW1Bvc2l0aW9uRXJyb3JdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb3NpdGlvbkVycm9yKSBvYmplY3QgZnJvbSB0aGUgY2FsbGJhY2sgaW4gW0dlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvR2VvbG9jYXRpb24vZ2V0Q3VycmVudFBvc2l0aW9uKSBvciBbR2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbigpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvR2VvbG9jYXRpb24vd2F0Y2hQb3NpdGlvbikuXG4gKiBAZXhhbXBsZVxuICogLy8gSW5pdGlhbGl6ZSB0aGUgR2VvbG9jYXRlQ29udHJvbC5cbiAqIGNvbnN0IGdlb2xvY2F0ZSA9IG5ldyBtYXBib3hnbC5HZW9sb2NhdGVDb250cm9sKHtcbiAqICAgICBwb3NpdGlvbk9wdGlvbnM6IHtcbiAqICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlXG4gKiAgICAgfSxcbiAqICAgICB0cmFja1VzZXJMb2NhdGlvbjogdHJ1ZVxuICogfSk7XG4gKiAvLyBBZGQgdGhlIGNvbnRyb2wgdG8gdGhlIG1hcC5cbiAqIG1hcC5hZGRDb250cm9sKGdlb2xvY2F0ZSk7XG4gKiAvLyBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlc1xuICogLy8gd2hlbiBhbiBlcnJvciBldmVudCBvY2N1cnMuXG4gKiBnZW9sb2NhdGUub24oJ2Vycm9yJywgKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdBbiBlcnJvciBldmVudCBoYXMgb2NjdXJyZWQuJyk7XG4gKiB9KTtcbiAqXG4gKi9cblxuLyoqXG4gKiBGaXJlZCBvbiBlYWNoIEdlb2xvY2F0aW9uIEFQSSBwb3NpdGlvbiB1cGRhdGUgdGhhdCByZXR1cm5lZCBhcyBzdWNjZXNzIGJ1dCB1c2VyIHBvc2l0aW9uIGlzIG91dCBvZiBtYXAgYG1heEJvdW5kc2AuXG4gKlxuICogQGV2ZW50IG91dG9mbWF4Ym91bmRzXG4gKiBAbWVtYmVyb2YgR2VvbG9jYXRlQ29udHJvbFxuICogQGluc3RhbmNlXG4gKiBAcHJvcGVydHkge1Bvc2l0aW9ufSBkYXRhIFRoZSByZXR1cm5lZCBbUG9zaXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb3NpdGlvbikgb2JqZWN0IGZyb20gdGhlIGNhbGxiYWNrIGluIFtHZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dlb2xvY2F0aW9uL2dldEN1cnJlbnRQb3NpdGlvbikgb3IgW0dlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dlb2xvY2F0aW9uL3dhdGNoUG9zaXRpb24pLlxuICogQGV4YW1wbGVcbiAqIC8vIEluaXRpYWxpemUgdGhlIEdlb2xvY2F0ZUNvbnRyb2wuXG4gKiBjb25zdCBnZW9sb2NhdGUgPSBuZXcgbWFwYm94Z2wuR2VvbG9jYXRlQ29udHJvbCh7XG4gKiAgICAgcG9zaXRpb25PcHRpb25zOiB7XG4gKiAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZVxuICogICAgIH0sXG4gKiAgICAgdHJhY2tVc2VyTG9jYXRpb246IHRydWVcbiAqIH0pO1xuICogLy8gQWRkIHRoZSBjb250cm9sIHRvIHRoZSBtYXAuXG4gKiBtYXAuYWRkQ29udHJvbChnZW9sb2NhdGUpO1xuICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAqIC8vIHdoZW4gYW4gb3V0b2ZtYXhib3VuZHMgZXZlbnQgb2NjdXJzLlxuICogZ2VvbG9jYXRlLm9uKCdvdXRvZm1heGJvdW5kcycsICgpID0+IHtcbiAqICAgICBjb25zb2xlLmxvZygnQW4gb3V0b2ZtYXhib3VuZHMgZXZlbnQgaGFzIG9jY3VycmVkLicpO1xuICogfSk7XG4gKlxuICovXG5cbi8qKlxuICogRmlyZWQgd2hlbiB0aGUgR2VvbG9jYXRlQ29udHJvbCBjaGFuZ2VzIHRvIHRoZSBhY3RpdmUgbG9jayBzdGF0ZSwgd2hpY2ggaGFwcGVucyBlaXRoZXIgdXBvbiBmaXJzdCBvYnRhaW5pbmcgYSBzdWNjZXNzZnVsIEdlb2xvY2F0aW9uIEFQSSBwb3NpdGlvbiBmb3IgdGhlIHVzZXIgKGEgZ2VvbG9jYXRlIGV2ZW50IHdpbGwgZm9sbG93KSwgb3Igd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGdlb2xvY2F0ZSBidXR0b24gd2hlbiBpbiB0aGUgYmFja2dyb3VuZCBzdGF0ZSwgd2hpY2ggdXNlcyB0aGUgbGFzdCBrbm93biBwb3NpdGlvbiB0byByZWNlbnRlciB0aGUgbWFwIGFuZCBlbnRlciBhY3RpdmUgbG9jayBzdGF0ZSAobm8gZ2VvbG9jYXRlIGV2ZW50IHdpbGwgZm9sbG93IHVubGVzcyB0aGUgdXNlcnMncyBsb2NhdGlvbiBjaGFuZ2VzKS5cbiAqXG4gKiBAZXZlbnQgdHJhY2t1c2VybG9jYXRpb25zdGFydFxuICogQG1lbWJlcm9mIEdlb2xvY2F0ZUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQGV4YW1wbGVcbiAqIC8vIEluaXRpYWxpemUgdGhlIEdlb2xvY2F0ZUNvbnRyb2wuXG4gKiBjb25zdCBnZW9sb2NhdGUgPSBuZXcgbWFwYm94Z2wuR2VvbG9jYXRlQ29udHJvbCh7XG4gKiAgICAgcG9zaXRpb25PcHRpb25zOiB7XG4gKiAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZVxuICogICAgIH0sXG4gKiAgICAgdHJhY2tVc2VyTG9jYXRpb246IHRydWVcbiAqIH0pO1xuICogLy8gQWRkIHRoZSBjb250cm9sIHRvIHRoZSBtYXAuXG4gKiBtYXAuYWRkQ29udHJvbChnZW9sb2NhdGUpO1xuICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAqIC8vIHdoZW4gYSB0cmFja3VzZXJsb2NhdGlvbnN0YXJ0IGV2ZW50IG9jY3Vycy5cbiAqIGdlb2xvY2F0ZS5vbigndHJhY2t1c2VybG9jYXRpb25zdGFydCcsICgpID0+IHtcbiAqICAgICBjb25zb2xlLmxvZygnQSB0cmFja3VzZXJsb2NhdGlvbnN0YXJ0IGV2ZW50IGhhcyBvY2N1cnJlZC4nKTtcbiAqIH0pO1xuICpcbiAqL1xuXG4vKipcbiAqIEZpcmVkIHdoZW4gdGhlIEdlb2xvY2F0ZUNvbnRyb2wgY2hhbmdlcyB0byB0aGUgYmFja2dyb3VuZCBzdGF0ZSwgd2hpY2ggaGFwcGVucyB3aGVuIGEgdXNlciBjaGFuZ2VzIHRoZSBjYW1lcmEgZHVyaW5nIGFuIGFjdGl2ZSBwb3NpdGlvbiBsb2NrLiBUaGlzIG9ubHkgYXBwbGllcyB3aGVuIHRyYWNrVXNlckxvY2F0aW9uIGlzIHRydWUuIEluIHRoZSBiYWNrZ3JvdW5kIHN0YXRlLCB0aGUgZG90IG9uIHRoZSBtYXAgd2lsbCB1cGRhdGUgd2l0aCBsb2NhdGlvbiB1cGRhdGVzIGJ1dCB0aGUgY2FtZXJhIHdpbGwgbm90LlxuICpcbiAqIEBldmVudCB0cmFja3VzZXJsb2NhdGlvbmVuZFxuICogQG1lbWJlcm9mIEdlb2xvY2F0ZUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQGV4YW1wbGVcbiAqIC8vIEluaXRpYWxpemUgdGhlIEdlb2xvY2F0ZUNvbnRyb2wuXG4gKiBjb25zdCBnZW9sb2NhdGUgPSBuZXcgbWFwYm94Z2wuR2VvbG9jYXRlQ29udHJvbCh7XG4gKiAgICAgcG9zaXRpb25PcHRpb25zOiB7XG4gKiAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZVxuICogICAgIH0sXG4gKiAgICAgdHJhY2tVc2VyTG9jYXRpb246IHRydWVcbiAqIH0pO1xuICogLy8gQWRkIHRoZSBjb250cm9sIHRvIHRoZSBtYXAuXG4gKiBtYXAuYWRkQ29udHJvbChnZW9sb2NhdGUpO1xuICogLy8gU2V0IGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXNcbiAqIC8vIHdoZW4gYSB0cmFja3VzZXJsb2NhdGlvbmVuZCBldmVudCBvY2N1cnMuXG4gKiBnZW9sb2NhdGUub24oJ3RyYWNrdXNlcmxvY2F0aW9uZW5kJywgKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdBIHRyYWNrdXNlcmxvY2F0aW9uZW5kIGV2ZW50IGhhcyBvY2N1cnJlZC4nKTtcbiAqIH0pO1xuICpcbiAqL1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tLmpzJztcbmltcG9ydCB7ZXh0ZW5kLCBiaW5kQWxsfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuXG5pbXBvcnQgdHlwZSBNYXAsIHtDb250cm9sUG9zaXRpb259IGZyb20gJy4uL21hcC5qcyc7XG5cbnR5cGUgVW5pdCA9ICdpbXBlcmlhbCcgfCAnbWV0cmljJyB8ICduYXV0aWNhbCc7XG5cbnR5cGUgT3B0aW9ucyA9IHtcbiAgICBtYXhXaWR0aD86IG51bWJlcixcbiAgICB1bml0PzogVW5pdDtcbn07XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zOiBPcHRpb25zID0ge1xuICAgIG1heFdpZHRoOiAxMDAsXG4gICAgdW5pdDogJ21ldHJpYydcbn07XG5cbi8qKlxuICogQSBgU2NhbGVDb250cm9sYCBjb250cm9sIGRpc3BsYXlzIHRoZSByYXRpbyBvZiBhIGRpc3RhbmNlIG9uIHRoZSBtYXAgdG8gdGhlIGNvcnJlc3BvbmRpbmcgZGlzdGFuY2Ugb24gdGhlIGdyb3VuZC5cbiAqIEFkZCB0aGlzIGNvbnRyb2wgdG8gYSBtYXAgdXNpbmcge0BsaW5rIE1hcCNhZGRDb250cm9sfS5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2lkdGg9JzEwMCddIFRoZSBtYXhpbXVtIGxlbmd0aCBvZiB0aGUgc2NhbGUgY29udHJvbCBpbiBwaXhlbHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudW5pdD0nbWV0cmljJ10gVW5pdCBvZiB0aGUgZGlzdGFuY2UgKGAnaW1wZXJpYWwnYCwgYCdtZXRyaWMnYCBvciBgJ25hdXRpY2FsJ2ApLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHNjYWxlID0gbmV3IG1hcGJveGdsLlNjYWxlQ29udHJvbCh7XG4gKiAgICAgbWF4V2lkdGg6IDgwLFxuICogICAgIHVuaXQ6ICdpbXBlcmlhbCdcbiAqIH0pO1xuICogbWFwLmFkZENvbnRyb2woc2NhbGUpO1xuICpcbiAqIHNjYWxlLnNldFVuaXQoJ21ldHJpYycpO1xuICovXG5jbGFzcyBTY2FsZUNvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfbGFuZ3VhZ2U6ID9zdHJpbmcgfCA/c3RyaW5nW107XG4gICAgb3B0aW9uczogT3B0aW9ucztcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gU29tZSBvbGQgYnJvd3NlcnMgKGUuZy4sIFNhZmFyaSA8IDE0LjEpIGRvbid0IHN1cHBvcnQgdGhlIFwidW5pdFwiIHN0eWxlLlxuICAgICAgICAvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCB0byBkaXNwbGF5IHRoZSBzY2FsZSB3aXRob3V0IHByb3BlciBpbnRlcm5hdGlvbmFsaXphdGlvbiBzdXBwb3J0LlxuICAgICAgICBpZiAoIWlzTnVtYmVyRm9ybWF0U3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIC8vICRGbG93SWdub3JlW2Nhbm5vdC13cml0ZV1cbiAgICAgICAgICAgIHRoaXMuX3NldFNjYWxlID0gbGVnYWN5U2V0U2NhbGUuYmluZCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ191cGRhdGUnLFxuICAgICAgICAgICAgJ19zZXRTY2FsZScsXG4gICAgICAgICAgICAnc2V0VW5pdCdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0RGVmYXVsdFBvc2l0aW9uKCk6IENvbnRyb2xQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLWxlZnQnO1xuICAgIH1cblxuICAgIF91cGRhdGUoKSB7XG4gICAgICAgIC8vIEEgaG9yaXpvbnRhbCBzY2FsZSBpcyBpbWFnaW5lZCB0byBiZSBwcmVzZW50IGF0IGNlbnRlciBvZiB0aGUgbWFwXG4gICAgICAgIC8vIGNvbnRhaW5lciB3aXRoIG1heGltdW0gbGVuZ3RoIChEZWZhdWx0KSBhcyAxMDBweC5cbiAgICAgICAgLy8gVXNpbmcgc3BoZXJpY2FsIGxhdyBvZiBjb3NpbmVzIGFwcHJveGltYXRpb24sIHRoZSByZWFsIGRpc3RhbmNlIGlzXG4gICAgICAgIC8vIGZvdW5kIGJldHdlZW4gdGhlIHR3byBjb29yZGluYXRlcy5cbiAgICAgICAgY29uc3QgbWF4V2lkdGggPSB0aGlzLm9wdGlvbnMubWF4V2lkdGggfHwgMTAwO1xuXG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgY29uc3QgeSA9IG1hcC5fY29udGFpbmVySGVpZ2h0IC8gMjtcbiAgICAgICAgY29uc3QgeCA9IChtYXAuX2NvbnRhaW5lcldpZHRoIC8gMikgLSBtYXhXaWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBtYXAudW5wcm9qZWN0KFt4LCB5XSk7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gbWFwLnVucHJvamVjdChbeCArIG1heFdpZHRoLCB5XSk7XG4gICAgICAgIGNvbnN0IG1heE1ldGVycyA9IGxlZnQuZGlzdGFuY2VUbyhyaWdodCk7XG4gICAgICAgIC8vIFRoZSByZWFsIGRpc3RhbmNlIGNvcnJlc3BvbmRpbmcgdG8gMTAwcHggc2NhbGUgbGVuZ3RoIGlzIHJvdW5kZWQgb2ZmIHRvXG4gICAgICAgIC8vIG5lYXIgcHJldHR5IG51bWJlciBhbmQgdGhlIHNjYWxlIGxlbmd0aCBmb3IgdGhlIHNhbWUgaXMgZm91bmQgb3V0LlxuICAgICAgICAvLyBEZWZhdWx0IHVuaXQgb2YgdGhlIHNjYWxlIGlzIGJhc2VkIG9uIFVzZXIncyBsb2NhbGUuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudW5pdCA9PT0gJ2ltcGVyaWFsJykge1xuICAgICAgICAgICAgY29uc3QgbWF4RmVldCA9IDMuMjgwOCAqIG1heE1ldGVycztcbiAgICAgICAgICAgIGlmIChtYXhGZWV0ID4gNTI4MCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heE1pbGVzID0gbWF4RmVldCAvIDUyODA7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0U2NhbGUobWF4V2lkdGgsIG1heE1pbGVzLCAnbWlsZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRTY2FsZShtYXhXaWR0aCwgbWF4RmVldCwgJ2Zvb3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMudW5pdCA9PT0gJ25hdXRpY2FsJykge1xuICAgICAgICAgICAgY29uc3QgbWF4TmF1dGljYWxzID0gbWF4TWV0ZXJzIC8gMTg1MjtcbiAgICAgICAgICAgIHRoaXMuX3NldFNjYWxlKG1heFdpZHRoLCBtYXhOYXV0aWNhbHMsICduYXV0aWNhbC1taWxlJyk7XG4gICAgICAgIH0gZWxzZSBpZiAobWF4TWV0ZXJzID49IDEwMDApIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFNjYWxlKG1heFdpZHRoLCBtYXhNZXRlcnMgLyAxMDAwLCAna2lsb21ldGVyJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRTY2FsZShtYXhXaWR0aCwgbWF4TWV0ZXJzLCAnbWV0ZXInKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZXRTY2FsZShtYXhXaWR0aDogbnVtYmVyLCBtYXhEaXN0YW5jZTogbnVtYmVyLCB1bml0OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBnZXRSb3VuZE51bShtYXhEaXN0YW5jZSk7XG4gICAgICAgIGNvbnN0IHJhdGlvID0gZGlzdGFuY2UgLyBtYXhEaXN0YW5jZTtcblxuICAgICAgICB0aGlzLl9tYXAuX3JlcXVlc3REb21UYXNrKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke21heFdpZHRoICogcmF0aW99cHhgO1xuXG4gICAgICAgICAgICAvLyBJbnRsLk51bWJlckZvcm1hdCBkb2Vzbid0IHN1cHBvcnQgbmF1dGljYWwtbWlsZSBhcyBhIHVuaXQsXG4gICAgICAgICAgICAvLyBzbyB3ZSBhcmUgaGFyZGNvZGluZyBgbm1gIGFzIGEgdW5pdCBzeW1ib2wgZm9yIGFsbCBsb2NhbGVzXG4gICAgICAgICAgICBpZiAodW5pdCA9PT0gJ25hdXRpY2FsLW1pbGUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IGAke2Rpc3RhbmNlfSZuYnNwO25tYDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICRGbG93Rml4TWUg4oCUIGZsb3cgdjAuMTQyLjAgZG9lc24ndCBzdXBwb3J0IG9wdGlvbmFsIGBsb2NhbGVzYCBhcmd1bWVudCBhbmQgYHVuaXRgIHN0eWxlIG9wdGlvblxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCh0aGlzLl9sYW5ndWFnZSwge3N0eWxlOiAndW5pdCcsIHVuaXREaXNwbGF5OiAnc2hvcnQnLCB1bml0fSkuZm9ybWF0KGRpc3RhbmNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2UgPSBtYXAuZ2V0TGFuZ3VhZ2UoKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1zY2FsZScsIG1hcC5nZXRDb250YWluZXIoKSk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5kaXIgPSAnYXV0byc7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9tYXAub24oJ21vdmUnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZScsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgIHRoaXMuX21hcCA9ICh1bmRlZmluZWQ6IGFueSk7XG4gICAgfVxuXG4gICAgX3NldExhbmd1YWdlKGxhbmd1YWdlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzY2FsZSdzIHVuaXQgb2YgdGhlIGRpc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsnaW1wZXJpYWwnIHwgJ21ldHJpYycgfCAnbmF1dGljYWwnfSB1bml0IFVuaXQgb2YgdGhlIGRpc3RhbmNlIChgJ2ltcGVyaWFsJ2AsIGAnbWV0cmljJ2Agb3IgYCduYXV0aWNhbCdgKS5cbiAgICAgKi9cbiAgICBzZXRVbml0KHVuaXQ6IFVuaXQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjYWxlQ29udHJvbDtcblxuZnVuY3Rpb24gaXNOdW1iZXJGb3JtYXRTdXBwb3J0ZWQoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gJEZsb3dJZ25vcmVcbiAgICAgICAgbmV3IEludGwuTnVtYmVyRm9ybWF0KCdlbicsIHtzdHlsZTogJ3VuaXQnLCB1bml0RGlzcGxheTogJ25hcnJvdycsIHVuaXQ6ICdtZXRlcid9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoXykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsZWdhY3lTZXRTY2FsZShtYXhXaWR0aDogbnVtYmVyLCBtYXhEaXN0YW5jZTogbnVtYmVyLCB1bml0OiBzdHJpbmcpIHtcbiAgICBjb25zdCBkaXN0YW5jZSA9IGdldFJvdW5kTnVtKG1heERpc3RhbmNlKTtcbiAgICBjb25zdCByYXRpbyA9IGRpc3RhbmNlIC8gbWF4RGlzdGFuY2U7XG5cbiAgICBjb25zdCB1bml0QWJiciA9IHtcbiAgICAgICAga2lsb21ldGVyOiAna20nLFxuICAgICAgICBtZXRlcjogJ20nLFxuICAgICAgICBtaWxlOiAnbWknLFxuICAgICAgICBmb290OiAnZnQnLFxuICAgICAgICAnbmF1dGljYWwtbWlsZSc6ICdubScsXG4gICAgfVt1bml0XTtcblxuICAgIHRoaXMuX21hcC5fcmVxdWVzdERvbVRhc2soKCkgPT4ge1xuICAgICAgICB0aGlzLl9jb250YWluZXIuc3R5bGUud2lkdGggPSBgJHttYXhXaWR0aCAqIHJhdGlvfXB4YDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IGAke2Rpc3RhbmNlfSZuYnNwOyR7dW5pdEFiYnJ9YDtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVjaW1hbFJvdW5kTnVtKGQpIHtcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIE1hdGguY2VpbCgtTWF0aC5sb2coZCkgLyBNYXRoLkxOMTApKTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChkICogbXVsdGlwbGllcikgLyBtdWx0aXBsaWVyO1xufVxuXG5mdW5jdGlvbiBnZXRSb3VuZE51bShudW0pIHtcbiAgICBjb25zdCBwb3cxMCA9IE1hdGgucG93KDEwLCAoYCR7TWF0aC5mbG9vcihudW0pfWApLmxlbmd0aCAtIDEpO1xuICAgIGxldCBkID0gbnVtIC8gcG93MTA7XG5cbiAgICBkID0gZCA+PSAxMCA/IDEwIDpcbiAgICAgICAgZCA+PSA1ID8gNSA6XG4gICAgICAgIGQgPj0gMyA/IDMgOlxuICAgICAgICBkID49IDIgPyAyIDpcbiAgICAgICAgZCA+PSAxID8gMSA6IGdldERlY2ltYWxSb3VuZE51bShkKTtcblxuICAgIHJldHVybiBwb3cxMCAqIGQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1BlcmZvcm1hbmNlVXRpbHN9IGZyb20gJy4vdXRpbC9wZXJmb3JtYW5jZS5qcyc7XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7c3VwcG9ydGVkfSBmcm9tICdAbWFwYm94L21hcGJveC1nbC1zdXBwb3J0ZWQnO1xuXG5pbXBvcnQge3ZlcnNpb259IGZyb20gJy4uL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgTWFwIGZyb20gJy4vdWkvbWFwLmpzJztcbmltcG9ydCBOYXZpZ2F0aW9uQ29udHJvbCBmcm9tICcuL3VpL2NvbnRyb2wvbmF2aWdhdGlvbl9jb250cm9sLmpzJztcbmltcG9ydCBHZW9sb2NhdGVDb250cm9sIGZyb20gJy4vdWkvY29udHJvbC9nZW9sb2NhdGVfY29udHJvbC5qcyc7XG5pbXBvcnQgQXR0cmlidXRpb25Db250cm9sIGZyb20gJy4vdWkvY29udHJvbC9hdHRyaWJ1dGlvbl9jb250cm9sLmpzJztcbmltcG9ydCBTY2FsZUNvbnRyb2wgZnJvbSAnLi91aS9jb250cm9sL3NjYWxlX2NvbnRyb2wuanMnO1xuaW1wb3J0IEZ1bGxzY3JlZW5Db250cm9sIGZyb20gJy4vdWkvY29udHJvbC9mdWxsc2NyZWVuX2NvbnRyb2wuanMnO1xuaW1wb3J0IFBvcHVwIGZyb20gJy4vdWkvcG9wdXAuanMnO1xuaW1wb3J0IE1hcmtlciBmcm9tICcuL3VpL21hcmtlci5qcyc7XG5pbXBvcnQgU3R5bGUgZnJvbSAnLi9zdHlsZS9zdHlsZS5qcyc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4vZ2VvL2xuZ19sYXQuanMnO1xuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuL2dlby9sbmdfbGF0X2JvdW5kcy5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgTWVyY2F0b3JDb29yZGluYXRlIGZyb20gJy4vZ2VvL21lcmNhdG9yX2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHtFdmVudGVkfSBmcm9tICcuL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vdXRpbC9jb25maWcuanMnO1xuaW1wb3J0IHtEZWJ1Z30gZnJvbSAnLi91dGlsL2RlYnVnLmpzJztcbmltcG9ydCB7aXNTYWZhcml9IGZyb20gJy4vdXRpbC91dGlsLmpzJztcbmltcG9ydCB7c2V0UlRMVGV4dFBsdWdpbiwgZ2V0UlRMVGV4dFBsdWdpblN0YXR1c30gZnJvbSAnLi9zb3VyY2UvcnRsX3RleHRfcGx1Z2luLmpzJztcbmltcG9ydCBXb3JrZXJQb29sIGZyb20gJy4vdXRpbC93b3JrZXJfcG9vbC5qcyc7XG5pbXBvcnQge3ByZXdhcm0sIGNsZWFyUHJld2FybWVkUmVzb3VyY2VzfSBmcm9tICcuL3V0aWwvZ2xvYmFsX3dvcmtlcl9wb29sLmpzJztcbmltcG9ydCB7Y2xlYXJUaWxlQ2FjaGV9IGZyb20gJy4vdXRpbC90aWxlX3JlcXVlc3RfY2FjaGUuanMnO1xuaW1wb3J0IHtXb3JrZXJQZXJmb3JtYW5jZVV0aWxzfSBmcm9tICcuL3V0aWwvd29ya2VyX3BlcmZvcm1hbmNlX3V0aWxzLmpzJztcbmltcG9ydCB7RnJlZUNhbWVyYU9wdGlvbnN9IGZyb20gJy4vdWkvZnJlZV9jYW1lcmEuanMnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi91dGlsL2Jyb3dzZXIuanMnO1xuXG5jb25zdCBleHBvcnRlZCA9IHtcbiAgICB2ZXJzaW9uLFxuICAgIHN1cHBvcnRlZCxcbiAgICBzZXRSVExUZXh0UGx1Z2luLFxuICAgIGdldFJUTFRleHRQbHVnaW5TdGF0dXMsXG4gICAgTWFwLFxuICAgIE5hdmlnYXRpb25Db250cm9sLFxuICAgIEdlb2xvY2F0ZUNvbnRyb2wsXG4gICAgQXR0cmlidXRpb25Db250cm9sLFxuICAgIFNjYWxlQ29udHJvbCxcbiAgICBGdWxsc2NyZWVuQ29udHJvbCxcbiAgICBQb3B1cCxcbiAgICBNYXJrZXIsXG4gICAgU3R5bGUsXG4gICAgTG5nTGF0LFxuICAgIExuZ0xhdEJvdW5kcyxcbiAgICBQb2ludCxcbiAgICBNZXJjYXRvckNvb3JkaW5hdGUsXG4gICAgRnJlZUNhbWVyYU9wdGlvbnMsXG4gICAgRXZlbnRlZCxcbiAgICBjb25maWcsXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgcmVzb3VyY2VzIGxpa2UgV2ViV29ya2VycyB0aGF0IGNhbiBiZSBzaGFyZWQgYWNyb3NzIG1hcHMgdG8gbG93ZXIgbG9hZFxuICAgICAqIHRpbWVzIGluIHNvbWUgc2l0dWF0aW9ucy4gW2BtYXBib3hnbC53b3JrZXJVcmxgXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpL3Byb3BlcnRpZXMvI3dvcmtlcnVybClcbiAgICAgKiBhbmQgW2BtYXBib3hnbC53b3JrZXJDb3VudGBdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvcHJvcGVydGllcy8jd29ya2VyY291bnQpLCBpZiBiZWluZ1xuICAgICAqIHVzZWQsIG11c3QgYmUgc2V0IGJlZm9yZSBgcHJld2FybSgpYCBpcyBjYWxsZWQgdG8gaGF2ZSBhbiBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgbGlmZWN5Y2xlIG9mIHRoZXNlIHJlc291cmNlcyBpcyBtYW5hZ2VkIGF1dG9tYXRpY2FsbHksIGFuZCB0aGV5IGFyZVxuICAgICAqIGxhemlseSBpbml0aWFsaXplZCB3aGVuIGEgYE1hcGAgaXMgZmlyc3QgY3JlYXRlZC4gSW52b2tpbmcgYHByZXdhcm0oKWAgY3JlYXRlcyB0aGVzZVxuICAgICAqIHJlc291cmNlcyBhaGVhZCBvZiB0aW1lIGFuZCBlbnN1cmVzIHRoZXkgYXJlIG5vdCBjbGVhcmVkIHdoZW4gdGhlIGxhc3QgYE1hcGBcbiAgICAgKiBpcyByZW1vdmVkIGZyb20gdGhlIHBhZ2UuIFRoaXMgYWxsb3dzIHRoZW0gdG8gYmUgcmUtdXNlZCBieSBuZXcgYE1hcGAgaW5zdGFuY2VzIHRoYXRcbiAgICAgKiBhcmUgY3JlYXRlZCBsYXRlci4gVGhleSBjYW4gYmUgbWFudWFsbHkgY2xlYXJlZCBieSBjYWxsaW5nXG4gICAgICogW2BtYXBib3hnbC5jbGVhclByZXdhcm1lZFJlc291cmNlcygpYF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS9wcm9wZXJ0aWVzLyNjbGVhcnByZXdhcm1lZHJlc291cmNlcykuXG4gICAgICogVGhpcyBpcyBvbmx5IG5lY2Vzc2FyeSBpZiB5b3VyIHdlYiBwYWdlIHJlbWFpbnMgYWN0aXZlIGJ1dCBzdG9wcyB1c2luZyBtYXBzIGFsdG9nZXRoZXIuXG4gICAgICogYHByZXdhcm0oKWAgaXMgaWRlbXBvdGVudCBhbmQgaGFzIGd1YXJkcyBhZ2FpbnN0IGJlaW5nIGV4ZWN1dGVkIG11bHRpcGxlIHRpbWVzLFxuICAgICAqIGFuZCBhbnkgcmVzb3VyY2VzIGFsbG9jYXRlZCBieSBgcHJld2FybSgpYCBhcmUgY3JlYXRlZCBzeW5jaHJvbm91c2x5LlxuICAgICAqXG4gICAgICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIHdoZW4gdXNpbmcgTWFwYm94IEdMIEpTIG1hcHMgaW4gYSBzaW5nbGUgcGFnZSBhcHAsXG4gICAgICogaW4gd2hpY2ggYSB1c2VyIG5hdmlnYXRlcyBiZXR3ZWVuIHZhcmlvdXMgdmlld3MsIHJlc3VsdGluZyBpblxuICAgICAqIGNvbnN0YW50IGNyZWF0aW9uIGFuZCBkZXN0cnVjdGlvbiBvZiBgTWFwYCBpbnN0YW5jZXMuXG4gICAgICpcbiAgICAgKiBAZnVuY3Rpb24gcHJld2FybVxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwYm94Z2wucHJld2FybSgpO1xuICAgICAqL1xuICAgIHByZXdhcm0sXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHVwIHJlc291cmNlcyB0aGF0IGhhdmUgcHJldmlvdXNseSBiZWVuIGNyZWF0ZWQgYnkgW2BtYXBib3hnbC5wcmV3YXJtKCldKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvcHJvcGVydGllcy8jcHJld2FybSlgLlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIGlzIHR5cGljYWxseSBub3QgbmVjZXNzYXJ5LiBZb3Ugc2hvdWxkIG9ubHkgY2FsbCB0aGlzIGZ1bmN0aW9uXG4gICAgICogaWYgeW91IGV4cGVjdCB0aGUgdXNlciBvZiB5b3VyIGFwcCB0byBub3QgcmV0dXJuIHRvIGEgTWFwIHZpZXcgYXQgYW55IHBvaW50XG4gICAgICogaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEBmdW5jdGlvbiBjbGVhclByZXdhcm1lZFJlc291cmNlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwYm94Z2wuY2xlYXJQcmV3YXJtZWRSZXNvdXJjZXMoKTtcbiAgICAgKi9cbiAgICBjbGVhclByZXdhcm1lZFJlc291cmNlcyxcblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgdGhlIG1hcCdzIFthY2Nlc3MgdG9rZW5dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vaGVscC9kZWZpbmUtYWNjZXNzLXRva2VuLykuXG4gICAgICpcbiAgICAgKiBAdmFyIHtzdHJpbmd9IGFjY2Vzc1Rva2VuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGN1cnJlbnRseSBzZXQgYWNjZXNzIHRva2VuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwYm94Z2wuYWNjZXNzVG9rZW4gPSBteUFjY2Vzc1Rva2VuO1xuICAgICAqIEBzZWUgW0V4YW1wbGU6IERpc3BsYXkgYSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2ltcGxlLW1hcC8pXG4gICAgICovXG4gICAgZ2V0IGFjY2Vzc1Rva2VuKCk6ID9zdHJpbmcge1xuICAgICAgICByZXR1cm4gY29uZmlnLkFDQ0VTU19UT0tFTjtcbiAgICB9LFxuXG4gICAgc2V0IGFjY2Vzc1Rva2VuKHRva2VuOiBzdHJpbmcpIHtcbiAgICAgICAgY29uZmlnLkFDQ0VTU19UT0tFTiA9IHRva2VuO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIHRoZSBtYXAncyBkZWZhdWx0IEFQSSBVUkwgZm9yIHJlcXVlc3RpbmcgdGlsZXMsIHN0eWxlcywgc3ByaXRlcywgYW5kIGdseXBocy5cbiAgICAgKlxuICAgICAqIEB2YXIge3N0cmluZ30gYmFzZUFwaVVybFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjdXJyZW50IGJhc2UgQVBJIFVSTC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcGJveGdsLmJhc2VBcGlVcmwgPSAnaHR0cHM6Ly9hcGkubWFwYm94LmNvbSc7XG4gICAgICovXG4gICAgZ2V0IGJhc2VBcGlVcmwoKTogP3N0cmluZyB7XG4gICAgICAgIHJldHVybiBjb25maWcuQVBJX1VSTDtcbiAgICB9LFxuXG4gICAgc2V0IGJhc2VBcGlVcmwodXJsOiBzdHJpbmcpIHtcbiAgICAgICAgY29uZmlnLkFQSV9VUkwgPSB1cmw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgdGhlIG51bWJlciBvZiB3ZWIgd29ya2VycyBpbnN0YW50aWF0ZWQgb24gYSBwYWdlIHdpdGggTWFwYm94IEdMIEpTIG1hcHMuXG4gICAgICogQnkgZGVmYXVsdCwgaXQgaXMgc2V0IHRvIDIuXG4gICAgICogTWFrZSBzdXJlIHRvIHNldCB0aGlzIHByb3BlcnR5IGJlZm9yZSBjcmVhdGluZyBhbnkgbWFwIGluc3RhbmNlcyBmb3IgaXQgdG8gaGF2ZSBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAdmFyIHtzdHJpbmd9IHdvcmtlckNvdW50XG4gICAgICogQHJldHVybnMge251bWJlcn0gTnVtYmVyIG9mIHdvcmtlcnMgY3VycmVudGx5IGNvbmZpZ3VyZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXBib3hnbC53b3JrZXJDb3VudCA9IDQ7XG4gICAgICovXG4gICAgZ2V0IHdvcmtlckNvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBXb3JrZXJQb29sLndvcmtlckNvdW50O1xuICAgIH0sXG5cbiAgICBzZXQgd29ya2VyQ291bnQoY291bnQ6IG51bWJlcikge1xuICAgICAgICBXb3JrZXJQb29sLndvcmtlckNvdW50ID0gY291bnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGltYWdlcyAocmFzdGVyIHRpbGVzLCBzcHJpdGVzLCBpY29ucykgdG8gbG9hZCBpbiBwYXJhbGxlbC5cbiAgICAgKiAxNiBieSBkZWZhdWx0LiBUaGVyZSBpcyBubyBtYXhpbXVtIHZhbHVlLCBidXQgdGhlIG51bWJlciBvZiBpbWFnZXMgYWZmZWN0cyBwZXJmb3JtYW5jZSBpbiByYXN0ZXItaGVhdnkgbWFwcy5cbiAgICAgKlxuICAgICAqIEB2YXIge3N0cmluZ30gbWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzXG4gICAgICogQHJldHVybnMge251bWJlcn0gTnVtYmVyIG9mIHBhcmFsbGVsIHJlcXVlc3RzIGN1cnJlbnRseSBjb25maWd1cmVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwYm94Z2wubWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzID0gMTA7XG4gICAgICovXG4gICAgZ2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gY29uZmlnLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUztcbiAgICB9LFxuXG4gICAgc2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cyhudW1SZXF1ZXN0czogbnVtYmVyKSB7XG4gICAgICAgIGNvbmZpZy5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFMgPSBudW1SZXF1ZXN0cztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGJyb3dzZXIgc3RvcmFnZSB1c2VkIGJ5IHRoaXMgbGlicmFyeS4gVXNpbmcgdGhpcyBtZXRob2QgZmx1c2hlcyB0aGUgTWFwYm94IHRpbGVcbiAgICAgKiBjYWNoZSB0aGF0IGlzIG1hbmFnZWQgYnkgdGhpcyBsaWJyYXJ5LiBUaWxlcyBtYXkgc3RpbGwgYmUgY2FjaGVkIGJ5IHRoZSBicm93c2VyXG4gICAgICogaW4gc29tZSBjYXNlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgQVBJIGlzIHN1cHBvcnRlZCBvbiBicm93c2VycyB3aGVyZSB0aGUgW2BDYWNoZWAgQVBJXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FjaGUpXG4gICAgICogaXMgc3VwcG9ydGVkIGFuZCBlbmFibGVkLiBUaGlzIGluY2x1ZGVzIGFsbCBtYWpvciBicm93c2VycyB3aGVuIHBhZ2VzIGFyZSBzZXJ2ZWQgb3ZlclxuICAgICAqIGBodHRwczovL2AsIGV4Y2VwdCBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBNb2JpbGUuXG4gICAgICpcbiAgICAgKiBXaGVuIGNhbGxlZCBpbiB1bnN1cHBvcnRlZCBicm93c2VycyBvciBlbnZpcm9ubWVudHMgKHByaXZhdGUgb3IgaW5jb2duaXRvIG1vZGUpLCB0aGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGVycm9yIGFyZ3VtZW50LlxuICAgICAqXG4gICAgICogQGZ1bmN0aW9uIGNsZWFyU3RvcmFnZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCB3aXRoIGFuIGVycm9yIGFyZ3VtZW50IGlmIHRoZXJlIGlzIGFuIGVycm9yLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwYm94Z2wuY2xlYXJTdG9yYWdlKCk7XG4gICAgICovXG4gICAgY2xlYXJTdG9yYWdlKGNhbGxiYWNrPzogKGVycjogP0Vycm9yKSA9PiB2b2lkKSB7XG4gICAgICAgIGNsZWFyVGlsZUNhY2hlKGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGFuIGludGVyZmFjZSBmb3IgbG9hZGluZyBtYXBib3gtZ2wncyBXZWJXb3JrZXIgYnVuZGxlIGZyb20gYSBzZWxmLWhvc3RlZCBVUkwuXG4gICAgICogVGhpcyBuZWVkcyB0byBiZSBzZXQgb25seSBvbmNlLCBhbmQgYmVmb3JlIGFueSBjYWxsIHRvIGBuZXcgbWFwYm94Z2wuTWFwKC4uKWAgdGFrZXMgcGxhY2UuXG4gICAgICogVGhpcyBpcyB1c2VmdWwgaWYgeW91ciBzaXRlIG5lZWRzIHRvIG9wZXJhdGUgaW4gYSBzdHJpY3QgQ1NQIChDb250ZW50IFNlY3VyaXR5IFBvbGljeSkgZW52aXJvbm1lbnRcbiAgICAgKiB3aGVyZWluIHlvdSBhcmUgbm90IGFsbG93ZWQgdG8gbG9hZCBKYXZhU2NyaXB0IGNvZGUgZnJvbSBhIFtgQmxvYmAgVVJMXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVVJML2NyZWF0ZU9iamVjdFVSTCksIHdoaWNoIGlzIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBTZWUgb3VyIGRvY3VtZW50YXRpb24gb24gW0NTUCBEaXJlY3RpdmVzXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpLyNjc3AtZGlyZWN0aXZlcykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEB2YXIge3N0cmluZ30gd29ya2VyVXJsXG4gICAgICogQHJldHVybnMge3N0cmluZ30gQSBVUkwgaG9zdGluZyBhIEphdmFTY3JpcHQgYnVuZGxlIGZvciBtYXBib3gtZ2wncyBXZWJXb3JrZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8c2NyaXB0IHNyYz0naHR0cHM6Ly9hcGkubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvdjIuMy4xL21hcGJveC1nbC1jc3AuanMnPjwvc2NyaXB0PlxuICAgICAqIDxzY3JpcHQ+XG4gICAgICogbWFwYm94Z2wud29ya2VyVXJsID0gXCJodHRwczovL2FwaS5tYXBib3guY29tL21hcGJveC1nbC1qcy92Mi4zLjEvbWFwYm94LWdsLWNzcC13b3JrZXIuanNcIjtcbiAgICAgKiAuLi5cbiAgICAgKiA8L3NjcmlwdD5cbiAgICAgKi9cbiAgICB3b3JrZXJVcmw6ICcnLFxuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZXMgYW4gaW50ZXJmYWNlIGZvciBleHRlcm5hbCBtb2R1bGUgYnVuZGxlcnMgc3VjaCBhcyBXZWJwYWNrIG9yIFJvbGx1cCB0byBwYWNrYWdlXG4gICAgICogbWFwYm94LWdsJ3MgV2ViV29ya2VyIGludG8gYSBzZXBhcmF0ZSBjbGFzcyBhbmQgaW50ZWdyYXRlIGl0IHdpdGggdGhlIGxpYnJhcnkuXG4gICAgICpcbiAgICAgKiBUYWtlcyBwcmVjZWRlbmNlIG92ZXIgYG1hcGJveGdsLndvcmtlclVybGAuXG4gICAgICpcbiAgICAgKiBAdmFyIHtPYmplY3R9IHdvcmtlckNsYXNzXG4gICAgICogQHJldHVybnMge09iamVjdCB8IG51bGx9IEEgY2xhc3MgdGhhdCBpbXBsZW1lbnRzIHRoZSBgV29ya2VyYCBpbnRlcmZhY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBpbXBvcnQgbWFwYm94Z2wgZnJvbSAnbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLWNzcC5qcyc7XG4gICAgICogaW1wb3J0IE1hcGJveEdMV29ya2VyIGZyb20gJ21hcGJveC1nbC9kaXN0L21hcGJveC1nbC1jc3Atd29ya2VyLmpzJztcbiAgICAgKlxuICAgICAqIG1hcGJveGdsLndvcmtlckNsYXNzID0gTWFwYm94R0xXb3JrZXI7XG4gICAgICovXG4gICAgd29ya2VyQ2xhc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0aW1lIHVzZWQgYnkgTWFwYm94IEdMIEpTIGludGVybmFsbHkgZm9yIGFsbCBhbmltYXRpb25zLiBVc2VmdWwgZm9yIGdlbmVyYXRpbmcgdmlkZW9zIGZyb20gTWFwYm94IEdMIEpTLlxuICAgICAqXG4gICAgICogQHZhciB7bnVtYmVyfSB0aW1lXG4gICAgICovXG4gICAgc2V0Tm93OiBicm93c2VyLnNldE5vdyxcblxuICAgIC8qKlxuICAgICAqIFJlc3RvcmVzIHRoZSBpbnRlcm5hbCBhbmltYXRpb24gdGltaW5nIHRvIGZvbGxvdyByZWd1bGFyIGNvbXB1dGVyIHRpbWUgKGBwZXJmb3JtYW5jZS5ub3coKWApLlxuICAgICAqL1xuICAgIHJlc3RvcmVOb3c6IGJyb3dzZXIucmVzdG9yZU5vd1xufTtcblxuLy9UaGlzIGdldHMgYXV0b21hdGljYWxseSBzdHJpcHBlZCBvdXQgaW4gcHJvZHVjdGlvbiBidWlsZHMuXG5EZWJ1Zy5leHRlbmQoZXhwb3J0ZWQsIHtpc1NhZmFyaSwgZ2V0UGVyZm9ybWFuY2VNZXRyaWNzOiBQZXJmb3JtYW5jZVV0aWxzLmdldFBlcmZvcm1hbmNlTWV0cmljcywgZ2V0UGVyZm9ybWFuY2VNZXRyaWNzQXN5bmM6IFdvcmtlclBlcmZvcm1hbmNlVXRpbHMuZ2V0UGVyZm9ybWFuY2VNZXRyaWNzQXN5bmN9KTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2ZXJzaW9uIG9mIE1hcGJveCBHTCBKUyBpbiB1c2UgYXMgc3BlY2lmaWVkIGluIGBwYWNrYWdlLmpzb25gLFxuICogYENIQU5HRUxPRy5tZGAsIGFuZCB0aGUgR2l0SHViIHJlbGVhc2UuXG4gKlxuICogQHZhciB7c3RyaW5nfSB2ZXJzaW9uXG4gKiBAZXhhbXBsZVxuICogY29uc29sZS5sb2coYE1hcGJveCBHTCBKUyB2JHttYXBib3hnbC52ZXJzaW9ufWApO1xuICovXG5cbi8qKlxuICogVGVzdCB3aGV0aGVyIHRoZSBicm93c2VyIFtzdXBwb3J0cyBNYXBib3ggR0wgSlNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vaGVscC9tYXBib3gtYnJvd3Nlci1zdXBwb3J0LyNtYXBib3gtZ2wtanMpLlxuICpcbiAqIEBmdW5jdGlvbiBzdXBwb3J0ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1mYWxzZV0gSWYgYHRydWVgLFxuICogICB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gYGZhbHNlYCBpZiB0aGUgcGVyZm9ybWFuY2Ugb2YgTWFwYm94IEdMIEpTIHdvdWxkXG4gKiAgIGJlIGRyYW1hdGljYWxseSB3b3JzZSB0aGFuIGV4cGVjdGVkIChmb3IgZXhhbXBsZSwgYSBzb2Z0d2FyZSBXZWJHTCByZW5kZXJlclxuICogICB3b3VsZCBiZSB1c2VkKS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBAZXhhbXBsZVxuICogLy8gU2hvdyBhbiBhbGVydCBpZiB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IE1hcGJveCBHTFxuICogaWYgKCFtYXBib3hnbC5zdXBwb3J0ZWQoKSkge1xuICogICAgIGFsZXJ0KCdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBNYXBib3ggR0wnKTtcbiAqIH1cbiAqIEBzZWUgW0V4YW1wbGU6IENoZWNrIGZvciBicm93c2VyIHN1cHBvcnRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY2hlY2stZm9yLXN1cHBvcnQvKVxuICovXG5cbi8qKlxuICogU2V0cyB0aGUgbWFwJ3MgW1JUTCB0ZXh0IHBsdWdpbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvcGx1Z2lucy8jbWFwYm94LWdsLXJ0bC10ZXh0KS5cbiAqIE5lY2Vzc2FyeSBmb3Igc3VwcG9ydGluZyB0aGUgQXJhYmljIGFuZCBIZWJyZXcgbGFuZ3VhZ2VzLCB3aGljaCBhcmUgd3JpdHRlbiByaWdodC10by1sZWZ0LiBNYXBib3ggU3R1ZGlvIGxvYWRzIHRoaXMgcGx1Z2luIGJ5IGRlZmF1bHQuXG4gKlxuICogQGZ1bmN0aW9uIHNldFJUTFRleHRQbHVnaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5VUkwgVVJMIHBvaW50aW5nIHRvIHRoZSBNYXBib3ggUlRMIHRleHQgcGx1Z2luIHNvdXJjZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCB3aXRoIGFuIGVycm9yIGFyZ3VtZW50IGlmIHRoZXJlIGlzIGFuIGVycm9yLCBvciBubyBhcmd1bWVudHMgaWYgdGhlIHBsdWdpbiBsb2FkcyBzdWNjZXNzZnVsbHkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGxhenkgSWYgc2V0IHRvIGB0cnVlYCwgTWFwYm94R0wgd2lsbCBkZWZlciBsb2FkaW5nIHRoZSBwbHVnaW4gdW50aWwgcmlnaHQtdG8tbGVmdCB0ZXh0IGlzIGVuY291bnRlcmVkLCBhbmRcbiAqICAgIHJpZ2h0LXRvLWxlZnQgdGV4dCB3aWxsIGJlIHJlbmRlcmVkIG9ubHkgYWZ0ZXIgdGhlIHBsdWdpbiBmaW5pc2hlcyBsb2FkaW5nLlxuICogQGV4YW1wbGVcbiAqIG1hcGJveGdsLnNldFJUTFRleHRQbHVnaW4oJ2h0dHBzOi8vYXBpLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3BsdWdpbnMvbWFwYm94LWdsLXJ0bC10ZXh0L3YwLjIuMC9tYXBib3gtZ2wtcnRsLXRleHQuanMnKTtcbiAqIEBzZWUgW0V4YW1wbGU6IEFkZCBzdXBwb3J0IGZvciByaWdodC10by1sZWZ0IHNjcmlwdHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbWFwYm94LWdsLXJ0bC10ZXh0LylcbiAqL1xuXG4vKipcbiAgKiBHZXRzIHRoZSBtYXAncyBbUlRMIHRleHQgcGx1Z2luXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9wbHVnaW5zLyNtYXBib3gtZ2wtcnRsLXRleHQpIHN0YXR1cy5cbiAgKiBUaGUgc3RhdHVzIGNhbiBiZSBgdW5hdmFpbGFibGVgIChub3QgcmVxdWVzdGVkIG9yIHJlbW92ZWQpLCBgbG9hZGluZ2AsIGBsb2FkZWRgLCBvciBgZXJyb3JgLlxuICAqIElmIHRoZSBzdGF0dXMgaXMgYGxvYWRlZGAgYW5kIHRoZSBwbHVnaW4gaXMgcmVxdWVzdGVkIGFnYWluLCBhbiBlcnJvciB3aWxsIGJlIHRocm93bi5cbiAgKlxuICAqIEBmdW5jdGlvbiBnZXRSVExUZXh0UGx1Z2luU3RhdHVzXG4gICogQGV4YW1wbGVcbiAgKiBjb25zdCBwbHVnaW5TdGF0dXMgPSBtYXBib3hnbC5nZXRSVExUZXh0UGx1Z2luU3RhdHVzKCk7XG4gICovXG5cbmV4cG9ydCBkZWZhdWx0IGV4cG9ydGVkO1xuXG4vLyBjYW5hcnkgYXNzZXJ0OiB1c2VkIHRvIGNvbmZpcm0gdGhhdCBhc3NlcnRzIGhhdmUgYmVlbiByZW1vdmVkIGZyb20gcHJvZHVjdGlvbiBidWlsZFxuYXNzZXJ0KHRydWUsICdjYW5hcnkgYXNzZXJ0Jyk7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20uanMnO1xuXG5pbXBvcnQge2JpbmRBbGwsIHdhcm5PbmNlfSBmcm9tICcuLi8uLi91dGlsL3V0aWwuanMnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdy5qcyc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAuanMnO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gICAgY29udGFpbmVyPzogSFRNTEVsZW1lbnRcbn07XG5cbi8qKlxuICogQSBgRnVsbHNjcmVlbkNvbnRyb2xgIGNvbnRyb2wgY29udGFpbnMgYSBidXR0b24gZm9yIHRvZ2dsaW5nIHRoZSBtYXAgaW4gYW5kIG91dCBvZiBmdWxsc2NyZWVuIG1vZGUuIFNlZSB0aGUgYHJlcXVlc3RGdWxsU2NyZWVuYCBbY29tcGF0aWJpbGl0eSB0YWJsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvcmVxdWVzdEZ1bGxTY3JlZW4jYnJvd3Nlcl9jb21wYXRpYmlsaXR5KSBmb3Igc3VwcG9ydGVkIGJyb3dzZXJzLlxuICogQWRkIHRoaXMgY29udHJvbCB0byBhIG1hcCB1c2luZyB7QGxpbmsgTWFwI2FkZENvbnRyb2x9LlxuICpcbiAqIEBpbXBsZW1lbnRzIHtJQ29udHJvbH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtvcHRpb25zLmNvbnRhaW5lcl0gYGNvbnRhaW5lcmAgaXMgdGhlIFtjb21wYXRpYmxlIERPTSBlbGVtZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9yZXF1ZXN0RnVsbFNjcmVlbiNDb21wYXRpYmxlX2VsZW1lbnRzKSB3aGljaCBzaG91bGQgYmUgbWFkZSBmdWxsIHNjcmVlbi4gQnkgZGVmYXVsdCwgdGhlIG1hcCBjb250YWluZXIgZWxlbWVudCB3aWxsIGJlIG1hZGUgZnVsbCBzY3JlZW4uXG4gKlxuICogQGV4YW1wbGVcbiAqIG1hcC5hZGRDb250cm9sKG5ldyBtYXBib3hnbC5GdWxsc2NyZWVuQ29udHJvbCh7Y29udGFpbmVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyl9KSk7XG4gKiBAc2VlIFtFeGFtcGxlOiBWaWV3IGEgZnVsbHNjcmVlbiBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZnVsbHNjcmVlbi8pXG4gKi9cblxuY2xhc3MgRnVsbHNjcmVlbkNvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfY29udHJvbENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2Z1bGxzY3JlZW46IGJvb2xlYW47XG4gICAgX2Z1bGxzY3JlZW5jaGFuZ2U6IHN0cmluZztcbiAgICBfZnVsbHNjcmVlbkJ1dHRvbjogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2Z1bGxzY3JlZW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNvbnRhaW5lciBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3YXJuT25jZSgnRnVsbCBzY3JlZW4gY29udHJvbCBcXCdjb250YWluZXJcXCcgbXVzdCBiZSBhIERPTSBlbGVtZW50LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbkNsaWNrRnVsbHNjcmVlbicsXG4gICAgICAgICAgICAnX2NoYW5nZUljb24nXG4gICAgICAgIF0sIHRoaXMpO1xuICAgICAgICBpZiAoJ29uZnVsbHNjcmVlbmNoYW5nZScgaW4gd2luZG93LmRvY3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxsc2NyZWVuY2hhbmdlID0gJ2Z1bGxzY3JlZW5jaGFuZ2UnO1xuICAgICAgICB9IGVsc2UgaWYgKCdvbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnIGluIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbmNoYW5nZSA9ICd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKTogSFRNTEVsZW1lbnQge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIGlmICghdGhpcy5fY29udGFpbmVyKSB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuX2NvbnRyb2xDb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCBgbWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwYCk7XG4gICAgICAgIGlmICh0aGlzLl9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldHVwVUkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHdhcm5PbmNlKCdUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY29udHJvbENvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5fY29udHJvbENvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fbWFwID0gKG51bGw6IGFueSk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSwgdGhpcy5fY2hhbmdlSWNvbik7XG4gICAgfVxuXG4gICAgX2NoZWNrRnVsbHNjcmVlblN1cHBvcnQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIShcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZCB8fFxuICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZFxuICAgICAgICApO1xuICAgIH1cblxuICAgIF9zZXR1cFVJKCkge1xuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLl9mdWxsc2NyZWVuQnV0dG9uID0gRE9NLmNyZWF0ZSgnYnV0dG9uJywgKGBtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW5gKSwgdGhpcy5fY29udHJvbENvbnRhaW5lcik7XG4gICAgICAgIERPTS5jcmVhdGUoJ3NwYW4nLCBgbWFwYm94Z2wtY3RybC1pY29uYCwgYnV0dG9uKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgdGhpcy5fdXBkYXRlVGl0bGUoKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGlja0Z1bGxzY3JlZW4pO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UsIHRoaXMuX2NoYW5nZUljb24pO1xuICAgIH1cblxuICAgIF91cGRhdGVUaXRsZSgpIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLl9nZXRUaXRsZSgpO1xuICAgICAgICB0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgdGl0bGUpO1xuICAgICAgICBpZiAodGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCkgdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdGl0bGUpO1xuICAgIH1cblxuICAgIF9nZXRUaXRsZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLl9nZXRVSVN0cmluZyh0aGlzLl9pc0Z1bGxzY3JlZW4oKSA/ICdGdWxsc2NyZWVuQ29udHJvbC5FeGl0JyA6ICdGdWxsc2NyZWVuQ29udHJvbC5FbnRlcicpO1xuICAgIH1cblxuICAgIF9pc0Z1bGxzY3JlZW4oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mdWxsc2NyZWVuO1xuICAgIH1cblxuICAgIF9jaGFuZ2VJY29uKCkge1xuICAgICAgICBjb25zdCBmdWxsc2NyZWVuRWxlbWVudCA9XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgfHxcbiAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKChmdWxsc2NyZWVuRWxlbWVudCA9PT0gdGhpcy5fY29udGFpbmVyKSAhPT0gdGhpcy5fZnVsbHNjcmVlbikge1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbiA9ICF0aGlzLl9mdWxsc2NyZWVuO1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKGBtYXBib3hnbC1jdHJsLXNocmlua2ApO1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKGBtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW5gKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRpdGxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25DbGlja0Z1bGxzY3JlZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Z1bGxzY3JlZW4oKSkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2NvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKHRoaXMuX2NvbnRhaW5lcjogYW55KS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgKHRoaXMuX2NvbnRhaW5lcjogYW55KS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGdWxsc2NyZWVuQ29udHJvbDtcbiIsImNvbnN0IGFjY2Vzc1Rva2VuID0gKFxuICAgIHByb2Nlc3MuZW52Lk1hcGJveEFjY2Vzc1Rva2VuIHx8XG4gICAgcHJvY2Vzcy5lbnYuTUFQQk9YX0FDQ0VTU19UT0tFTiB8fFxuICAgIGdldFVSTFBhcmFtZXRlcignYWNjZXNzX3Rva2VuJykgfHxcbiAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzVG9rZW4nKSB8fFxuICAgICdway5leUoxSWpvaWJXRndZbTk0TFdkc0xXcHpJaXdpWVNJNkltTnJhbTl5YkdJMWFqRXhZalF5ZUd4bGVtcHBiMnB3WWpJaWZRLkxHeTVVR05Jc1hVWmRZTXZmWVJpQVEnXG4pO1xuXG5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzVG9rZW4nLCBhY2Nlc3NUb2tlbik7XG5cbmV4cG9ydCBkZWZhdWx0IGFjY2Vzc1Rva2VuO1xuXG5mdW5jdGlvbiBnZXRVUkxQYXJhbWV0ZXIobmFtZSkge1xuICAgIGNvbnN0IHJlZ2V4cCA9IG5ldyBSZWdFeHAoYFs/Jl0ke25hbWV9PShbXiYjXSopYCwgJ2knKTtcbiAgICBjb25zdCBvdXRwdXQgPSByZWdleHAuZXhlYyh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgcmV0dXJuIG91dHB1dCAmJiBvdXRwdXRbMV07XG59XG4iLCIvLyBAZmxvd1xuLy8gQWNjb3JkaW5nIHRvIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9QZXJmb3JtYW5jZS9ub3csXG4vLyBwZXJmb3JtYW5jZS5ub3coKSBzaG91bGQgYmUgYWNjdXJhdGUgdG8gMC4wMDVtcy4gU2V0IHRoZSBtaW5pbXVtIHJ1bm5pbmdcbi8vIHRpbWUgZm9yIGEgc2luZ2xlIG1lYXN1cmVtZW50IGF0IDVtcywgc28gdGhhdCB0aGUgZXJyb3IgZHVlIHRvIHRpbWVyXG4vLyBwcmVjaXNpb24gaXMgPCAwLjElLlxuY29uc3QgbWluVGltZUZvck1lYXN1cmVtZW50ID0gMC4wMDUgKiAxMDAwO1xuXG5leHBvcnQgdHlwZSBNZWFzdXJlbWVudCA9IHtcbiAgICBpdGVyYXRpb25zOiBudW1iZXIsXG4gICAgdGltZTogbnVtYmVyXG59O1xuXG5jbGFzcyBCZW5jaG1hcmsge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX21lYXN1cmVBc3luYyA9IHRoaXMuX21lYXN1cmVBc3luYy5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBgc2V0dXBgIG1ldGhvZCBpcyBpbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGJ5IHN1YmNsYXNzZXMuIEl0IHdpbGwgYmUgY2FsbGVkIG9uY2UsIHByaW9yIHRvXG4gICAgICogcnVubmluZyBhbnkgYmVuY2htYXJrIGl0ZXJhdGlvbnMsIGFuZCBtYXkgc2V0IHN0YXRlIG9uIGB0aGlzYCB3aGljaCB0aGUgYmVuY2htYXJrIGxhdGVyIGFjY2Vzc2VzLlxuICAgICAqIElmIHRoZSBzZXR1cCBpbnZvbHZlcyBhbiBhc3luY2hyb25vdXMgc3RlcCwgYHNldHVwYCBtYXkgcmV0dXJuIGEgcHJvbWlzZS5cbiAgICAgKi9cbiAgICBzZXR1cCgpOiBQcm9taXNlPHZvaWQ+IHwgdm9pZCB7fVxuXG4gICAgLyoqXG4gICAgICogVGhlIGBiZW5jaGAgbWV0aG9kIGlzIGludGVuZGVkIHRvIGJlIG92ZXJyaWRkZW4gYnkgc3ViY2xhc3Nlcy4gSXQgc2hvdWxkIGNvbnRhaW4gdGhlIGNvZGUgdG8gYmVcbiAgICAgKiBiZW5jaG1hcmtlZC4gSXQgbWF5IGFjY2VzcyBzdGF0ZSBvbiBgdGhpc2Agc2V0IGJ5IHRoZSBgc2V0dXBgIGZ1bmN0aW9uIChidXQgc2hvdWxkIG5vdCBtb2RpZnkgdGhpc1xuICAgICAqIHN0YXRlKS4gSXQgd2lsbCBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHRoZSB0b3RhbCBudW1iZXIgdG8gYmUgZGV0ZXJtaW5lZCBieSB0aGUgaGFybmVzcy4gSWZcbiAgICAgKiB0aGUgYmVuY2htYXJrIGludm9sdmVzIGFuIGFzeW5jaHJvbm91cyBzdGVwLCBgYmVuY2hgIG1heSByZXR1cm4gYSBwcm9taXNlLlxuICAgICAqL1xuICAgIGJlbmNoKCk6IFByb21pc2U8dm9pZD4gfCB2b2lkIHt9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYHRlYXJkb3duYCBtZXRob2QgaXMgaW50ZW5kZWQgdG8gYmUgb3ZlcnJpZGRlbiBieSBzdWJjbGFzc2VzLiBJdCB3aWxsIGJlIGNhbGxlZCBvbmNlLCBhZnRlclxuICAgICAqIHJ1bm5pbmcgYWxsIGJlbmNobWFyayBpdGVyYXRpb25zLCBhbmQgbWF5IHBlcmZvcm0gYW55IG5lY2Vzc2FyeSBjbGVhbnVwLiBJZiBjbGVhbmluZyB1cCBpbnZvbHZlc1xuICAgICAqIGFuIGFzeW5jaHJvbm91cyBzdGVwLCBgdGVhcmRvd25gIG1heSByZXR1cm4gYSBwcm9taXNlLlxuICAgICAqL1xuICAgIHRlYXJkb3duKCk6IFByb21pc2U8dm9pZD4gfCB2b2lkIHt9XG5cbiAgICBfbWVhc3VyZUFzeW5jOiAoKSA9PiBQcm9taXNlPEFycmF5PE1lYXN1cmVtZW50Pj47XG4gICAgX2VsYXBzZWQ6IG51bWJlcjtcbiAgICBfbWVhc3VyZW1lbnRzOiBBcnJheTxNZWFzdXJlbWVudD47XG4gICAgX2l0ZXJhdGlvbnNQZXJNZWFzdXJlbWVudDogbnVtYmVyO1xuICAgIF9zdGFydDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogUnVuIHRoZSBiZW5jaG1hcmsgYnkgZXhlY3V0aW5nIGBzZXR1cGAgb25jZSwgc2FtcGxpbmcgdGhlIGV4ZWN1dGlvbiB0aW1lIG9mIGBiZW5jaGAgc29tZSBudW1iZXIgb2ZcbiAgICAgKiB0aW1lcywgYW5kIHRoZW4gZXhlY3V0aW5nIGB0ZWFyZG93bmAuIFlpZWxkcyBhbiBhcnJheSBvZiBleGVjdXRpb24gdGltZXMuXG4gICAgICovXG4gICAgcnVuKCk6IFByb21pc2U8P0FycmF5PE1lYXN1cmVtZW50Pj4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuc2V0dXAoKSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuX2JlZ2luKCkpXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGJlbmNoIHJ1biB3aWxsIGJyZWFrIGhlcmUgYnV0IHNob3VsZCBhdCBsZWFzdCBwcm92aWRlIGhlbHBmdWwgaW5mb3JtYXRpb246XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9kb25lKCk6IGJvb2xlYW4ge1xuICAgICAgICAvLyAyMTAgc2FtcGxlcyA9PiAyMCBvYnNlcnZhdGlvbnMgZm9yIHJlZ3Jlc3Npb25cbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsYXBzZWQgPj0gNTAwICYmIHRoaXMuX21lYXN1cmVtZW50cy5sZW5ndGggPiAyMTA7XG4gICAgfVxuXG4gICAgX2JlZ2luKCk6IFByb21pc2U8QXJyYXk8TWVhc3VyZW1lbnQ+PiB7XG4gICAgICAgIHRoaXMuX21lYXN1cmVtZW50cyA9IFtdO1xuICAgICAgICB0aGlzLl9lbGFwc2VkID0gMDtcbiAgICAgICAgdGhpcy5faXRlcmF0aW9uc1Blck1lYXN1cmVtZW50ID0gMTtcbiAgICAgICAgdGhpcy5fc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgICBjb25zdCBiZW5jaCA9IHRoaXMuYmVuY2goKTtcbiAgICAgICAgaWYgKGJlbmNoIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGJlbmNoLnRoZW4odGhpcy5fbWVhc3VyZUFzeW5jKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fbWVhc3VyZVN5bmMoKTogYW55KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tZWFzdXJlU3luYygpOiBQcm9taXNlPEFycmF5PE1lYXN1cmVtZW50Pj4ge1xuICAgICAgICAvLyBBdm9pZCBQcm9taXNlIG92ZXJoZWFkIGZvciBzeW5jIGJlbmNobWFya3MuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLl9zdGFydDtcbiAgICAgICAgICAgIHRoaXMuX2VsYXBzZWQgKz0gdGltZTtcbiAgICAgICAgICAgIGlmICh0aW1lIDwgbWluVGltZUZvck1lYXN1cmVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXRlcmF0aW9uc1Blck1lYXN1cmVtZW50Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX21lYXN1cmVtZW50cy5wdXNoKHt0aW1lLCBpdGVyYXRpb25zOiB0aGlzLl9pdGVyYXRpb25zUGVyTWVhc3VyZW1lbnR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9kb25lKCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5faXRlcmF0aW9uc1Blck1lYXN1cmVtZW50OyBpID4gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iZW5jaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmQoKTtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW2R1cGxpY2F0ZS1jbGFzcy1tZW1iZXJdXG4gICAgX21lYXN1cmVBc3luYygpOiBQcm9taXNlPEFycmF5PE1lYXN1cmVtZW50Pj4ge1xuICAgICAgICBjb25zdCB0aW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLl9zdGFydDtcbiAgICAgICAgdGhpcy5fZWxhcHNlZCArPSB0aW1lO1xuICAgICAgICBpZiAodGltZSA8IG1pblRpbWVGb3JNZWFzdXJlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5faXRlcmF0aW9uc1Blck1lYXN1cmVtZW50Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9tZWFzdXJlbWVudHMucHVzaCh7dGltZSwgaXRlcmF0aW9uczogdGhpcy5faXRlcmF0aW9uc1Blck1lYXN1cmVtZW50fSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RvbmUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VuZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9ydW5Bc3luYyh0aGlzLl9pdGVyYXRpb25zUGVyTWVhc3VyZW1lbnQpLnRoZW4odGhpcy5fbWVhc3VyZUFzeW5jKTtcbiAgICB9XG5cbiAgICBfcnVuQXN5bmMobjogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGJlbmNoID0gKCh0aGlzLmJlbmNoKCk6IGFueSk6IFByb21pc2U8dm9pZD4pO1xuICAgICAgICBpZiAobiA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGJlbmNoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGJlbmNoLnRoZW4oKCkgPT4gdGhpcy5fcnVuQXN5bmMobiAtIDEpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9lbmQoKTogUHJvbWlzZTxBcnJheTxNZWFzdXJlbWVudD4+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnRlYXJkb3duKCkpLnRoZW4oKCkgPT4gdGhpcy5fbWVhc3VyZW1lbnRzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJlbmNobWFyaztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIHtTdHlsZVNwZWNpZmljYXRpb259IGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL3R5cGVzLmpzJztcbmltcG9ydCB7UmVxdWVzdE1hbmFnZXJ9IGZyb20gJy4uLy4uL3NyYy91dGlsL21hcGJveC5qcyc7XG5cbmNvbnN0IHJlcXVlc3RNYW5hZ2VyID0gbmV3IFJlcXVlc3RNYW5hZ2VyKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZldGNoU3R5bGUodmFsdWU6IHN0cmluZyB8IFN0eWxlU3BlY2lmaWNhdGlvbik6IFByb21pc2U8U3R5bGVTcGVjaWZpY2F0aW9uPiB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICBmZXRjaChyZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTCh2YWx1ZSkpLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKSA6XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSk7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUHJvdG9idWYgZnJvbSAncGJmJztcbmltcG9ydCB7VmVjdG9yVGlsZX0gZnJvbSAnQG1hcGJveC92ZWN0b3ItdGlsZSc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCBkZXJlZiBmcm9tICcuLi8uLi9zcmMvc3R5bGUtc3BlYy9kZXJlZi5qcyc7XG5pbXBvcnQgU3R5bGUgZnJvbSAnLi4vLi4vc3JjL3N0eWxlL3N0eWxlLmpzJztcbmltcG9ydCB7RXZlbnRlZH0gZnJvbSAnLi4vLi4vc3JjL3V0aWwvZXZlbnRlZC5qcyc7XG5pbXBvcnQge1JlcXVlc3RNYW5hZ2VyfSBmcm9tICcuLi8uLi9zcmMvdXRpbC9tYXBib3guanMnO1xuaW1wb3J0IFdvcmtlclRpbGUgZnJvbSAnLi4vLi4vc3JjL3NvdXJjZS93b3JrZXJfdGlsZS5qcyc7XG5pbXBvcnQgU3R5bGVMYXllckluZGV4IGZyb20gJy4uLy4uL3NyYy9zdHlsZS9zdHlsZV9sYXllcl9pbmRleC5qcyc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZVNwZWNpZmljYXRpb259IGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL3R5cGVzLmpzJztcbmltcG9ydCB0eXBlIHtXb3JrZXJUaWxlUmVzdWx0fSBmcm9tICcuLi8uLi9zcmMvc291cmNlL3dvcmtlcl9zb3VyY2UuanMnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uLy4uL3NyYy9zb3VyY2UvdGlsZV9pZC5qcyc7XG5pbXBvcnQgdHlwZSB7VGlsZUpTT059IGZyb20gJy4uLy4uL3NyYy90eXBlcy90aWxlanNvbi5qcyc7XG5pbXBvcnQge2dldFByb2plY3Rpb259IGZyb20gJy4uLy4uL3NyYy9nZW8vcHJvamVjdGlvbi9pbmRleC5qcyc7XG5cbmNsYXNzIFN0dWJNYXAgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBfcmVxdWVzdE1hbmFnZXI6IFJlcXVlc3RNYW5hZ2VyO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RNYW5hZ2VyID0gbmV3IFJlcXVlc3RNYW5hZ2VyKCk7XG4gICAgfVxufVxuXG5jb25zdCBtYXBTdHViID0gbmV3IFN0dWJNYXAoKTtcblxuZnVuY3Rpb24gY3JlYXRlU3R5bGUoc3R5bGVKU09OOiBTdHlsZVNwZWNpZmljYXRpb24pOiBQcm9taXNlPFN0eWxlPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBuZXcgU3R5bGUoKG1hcFN0dWI6IGFueSkpO1xuICAgICAgICBzdHlsZS5sb2FkSlNPTihzdHlsZUpTT04pO1xuICAgICAgICBzdHlsZVxuICAgICAgICAgICAgLm9uKCdzdHlsZS5sb2FkJywgKCkgPT4gcmVzb2x2ZShzdHlsZSkpXG4gICAgICAgICAgICAub24oJ2Vycm9yJywgcmVqZWN0KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZmV0Y2hUaWxlSlNPTihyZXF1ZXN0TWFuYWdlcjogUmVxdWVzdE1hbmFnZXIsIHNvdXJjZVVSTDogc3RyaW5nKTogUHJvbWlzZTxUaWxlSlNPTj4ge1xuICAgIHJldHVybiBmZXRjaChyZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTb3VyY2VVUkwoc291cmNlVVJMKSlcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZVBhcnNlciB7XG4gICAgc3R5bGVKU09OOiBTdHlsZVNwZWNpZmljYXRpb247XG4gICAgdGlsZUpTT046IFRpbGVKU09OO1xuICAgIHNvdXJjZUlEOiBzdHJpbmc7XG4gICAgbGF5ZXJJbmRleDogU3R5bGVMYXllckluZGV4O1xuICAgIGljb25zOiBPYmplY3Q7XG4gICAgZ2x5cGhzOiBPYmplY3Q7XG4gICAgc3R5bGU6IFN0eWxlO1xuICAgIGFjdG9yOiB7IHNlbmQ6IEZ1bmN0aW9uIH07XG5cbiAgICBjb25zdHJ1Y3RvcihzdHlsZUpTT046IFN0eWxlU3BlY2lmaWNhdGlvbiwgc291cmNlSUQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnN0eWxlSlNPTiA9IHN0eWxlSlNPTjtcbiAgICAgICAgdGhpcy5zb3VyY2VJRCA9IHNvdXJjZUlEO1xuICAgICAgICB0aGlzLmxheWVySW5kZXggPSBuZXcgU3R5bGVMYXllckluZGV4KGRlcmVmKHRoaXMuc3R5bGVKU09OLmxheWVycykpO1xuICAgICAgICB0aGlzLmdseXBocyA9IHt9O1xuICAgICAgICB0aGlzLmljb25zID0ge307XG4gICAgfVxuXG4gICAgbG9hZEltYWdlcyhwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KHBhcmFtcyk7XG4gICAgICAgIGlmICh0aGlzLmljb25zW2tleV0pIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHRoaXMuaWNvbnNba2V5XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLmdldEltYWdlcygnJywgcGFyYW1zLCAoZXJyLCBpY29ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaWNvbnNba2V5XSA9IGljb25zO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgaWNvbnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkR2x5cGhzKHBhcmFtczogT2JqZWN0LCBjYWxsYmFjazogRnVuY3Rpb24pIHtcbiAgICAgICAgY29uc3Qga2V5ID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zKTtcbiAgICAgICAgaWYgKHRoaXMuZ2x5cGhzW2tleV0pIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHRoaXMuZ2x5cGhzW2tleV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5nZXRHbHlwaHMoJycsIHBhcmFtcywgKGVyciwgZ2x5cGhzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5nbHlwaHNba2V5XSA9IGdseXBocztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIsIGdseXBocyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldHVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSB0aGlzO1xuICAgICAgICB0aGlzLmFjdG9yID0ge1xuICAgICAgICAgICAgc2VuZChhY3Rpb24sIHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ2dldEltYWdlcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlci5sb2FkSW1hZ2VzKHBhcmFtcywgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2dldEdseXBocycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlci5sb2FkR2x5cGhzKHBhcmFtcywgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgY3JlYXRlU3R5bGUodGhpcy5zdHlsZUpTT04pLFxuICAgICAgICAgICAgZmV0Y2hUaWxlSlNPTihtYXBTdHViLl9yZXF1ZXN0TWFuYWdlciwgKHRoaXMuc3R5bGVKU09OLnNvdXJjZXNbdGhpcy5zb3VyY2VJRF06IGFueSkudXJsKVxuICAgICAgICBdKS50aGVuKChbc3R5bGUsIHRpbGVKU09OXTogW1N0eWxlLCBUaWxlSlNPTl0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgIHRoaXMudGlsZUpTT04gPSB0aWxlSlNPTjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZmV0Y2hUaWxlKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6IFByb21pc2U8e3wgYnVmZmVyOiBBcnJheUJ1ZmZlciwgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEIHx9PiB7XG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLnN0eWxlLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVKU09OLnRpbGVzKSkpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxuICAgICAgICAgICAgLnRoZW4oYnVmZmVyID0+ICh7dGlsZUlELCBidWZmZXJ9KSk7XG4gICAgfVxuXG4gICAgcGFyc2VUaWxlKHRpbGU6IHt0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIGJ1ZmZlcjogQXJyYXlCdWZmZXJ9LCByZXR1cm5EZXBlbmRlbmNpZXM/OiBib29sZWFuKTogUHJvbWlzZTw/V29ya2VyVGlsZVJlc3VsdD4ge1xuICAgICAgICBjb25zdCB3b3JrZXJUaWxlID0gbmV3IFdvcmtlclRpbGUoe1xuICAgICAgICAgICAgdGlsZUlEOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgIHRpbGVab29tOiB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgICAgIHpvb206IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaLFxuICAgICAgICAgICAgdGlsZVNpemU6IDUxMixcbiAgICAgICAgICAgIG92ZXJzY2FsaW5nOiAxLFxuICAgICAgICAgICAgc2hvd0NvbGxpc2lvbkJveGVzOiBmYWxzZSxcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5zb3VyY2VJRCxcbiAgICAgICAgICAgIHVpZDogMCxcbiAgICAgICAgICAgIG1heFpvb206IDIyLFxuICAgICAgICAgICAgcGl4ZWxSYXRpbzogMSxcbiAgICAgICAgICAgIHJlcXVlc3Q6IHt1cmw6ICcnfSxcbiAgICAgICAgICAgIGFuZ2xlOiAwLFxuICAgICAgICAgICAgcGl0Y2g6IDAsXG4gICAgICAgICAgICBjYW1lcmFUb0NlbnRlckRpc3RhbmNlOiAwLFxuICAgICAgICAgICAgY2FtZXJhVG9UaWxlRGlzdGFuY2U6IDAsXG4gICAgICAgICAgICByZXR1cm5EZXBlbmRlbmNpZXMsXG4gICAgICAgICAgICBwcm9tb3RlSWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGlzU3ltYm9sVGlsZTogZmFsc2UsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBnZXRQcm9qZWN0aW9uKHtuYW1lOiAnbWVyY2F0b3InfSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdmVjdG9yVGlsZSA9IG5ldyBWZWN0b3JUaWxlKG5ldyBQcm90b2J1Zih0aWxlLmJ1ZmZlcikpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB3b3JrZXJUaWxlLnBhcnNlKHZlY3RvclRpbGUsIHRoaXMubGF5ZXJJbmRleCwgW10sICh0aGlzLmFjdG9yOiBhbnkpLCAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUge1N0eWxlU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vLi4vc3JjL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuaW1wb3J0IEJlbmNobWFyayBmcm9tICcuLi9saWIvYmVuY2htYXJrLmpzJztcbmltcG9ydCBmZXRjaFN0eWxlIGZyb20gJy4uL2xpYi9mZXRjaF9zdHlsZS5qcyc7XG5pbXBvcnQgVGlsZVBhcnNlciBmcm9tICcuLi9saWIvdGlsZV9wYXJzZXIuanMnO1xuaW1wb3J0IHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi8uLi9zcmMvc291cmNlL3RpbGVfaWQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXlvdXQgZXh0ZW5kcyBCZW5jaG1hcmsge1xuICAgIHRpbGVzOiBBcnJheTx7dGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCBidWZmZXI6IEFycmF5QnVmZmVyfT47XG4gICAgcGFyc2VyOiBUaWxlUGFyc2VyO1xuICAgIHN0eWxlOiBzdHJpbmcgfCBTdHlsZVNwZWNpZmljYXRpb247XG4gICAgdGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD47XG5cbiAgICBjb25zdHJ1Y3RvcihzdHlsZTogc3RyaW5nIHwgU3R5bGVTcGVjaWZpY2F0aW9uLCB0aWxlSURzOiA/QXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLnRpbGVJRHMgPSB0aWxlSURzIHx8IFtcbiAgICAgICAgICAgIG5ldyBPdmVyc2NhbGVkVGlsZUlEKDEyLCAwLCAxMiwgNjU1LCAxNTgzKSxcbiAgICAgICAgICAgIG5ldyBPdmVyc2NhbGVkVGlsZUlEKDgsIDAsIDgsIDQwLCA5OCksXG4gICAgICAgICAgICBuZXcgT3ZlcnNjYWxlZFRpbGVJRCg0LCAwLCA0LCAzLCA2KSxcbiAgICAgICAgICAgIG5ldyBPdmVyc2NhbGVkVGlsZUlEKDAsIDAsIDAsIDAsIDApXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgc2V0dXAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBmZXRjaFN0eWxlKHRoaXMuc3R5bGUpXG4gICAgICAgICAgICAudGhlbigoc3R5bGVKU09OKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZXIgPSBuZXcgVGlsZVBhcnNlcihzdHlsZUpTT04sICdjb21wb3NpdGUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZXIuc2V0dXAoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMudGlsZUlEcy5tYXAodGlsZUlEID0+IHRoaXMucGFyc2VyLmZldGNoVGlsZSh0aWxlSUQpKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHRpbGVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWxlcyA9IHRpbGVzO1xuICAgICAgICAgICAgICAgIC8vIHBhcnNlIHRpbGVzIG9uY2UgdG8gcG9wdWxhdGUgZ2x5cGgvaWNvbiBjYWNoZVxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh0aWxlcy5tYXAodGlsZSA9PiB0aGlzLnBhcnNlci5wYXJzZVRpbGUodGlsZSkpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgYmVuY2goKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIGZvciAoY29uc3QgdGlsZSBvZiB0aGlzLnRpbGVzKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZXIucGFyc2VUaWxlKHRpbGUpLnRoZW4oKCkgPT4ge30pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IE1hcCBmcm9tICcuLi8uLi9zcmMvdWkvbWFwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG9wdGlvbnM6IGFueSk6IFByb21pc2U8TWFwPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuc3R1YlJlbmRlciA9IG9wdGlvbnMuc3R1YlJlbmRlciA9PSBudWxsID8gdHJ1ZSA6IG9wdGlvbnMuc3R1YlJlbmRlcjtcbiAgICAgICAgICAgIG9wdGlvbnMuc2hvd01hcCA9IG9wdGlvbnMuc2hvd01hcCA9PSBudWxsID8gZmFsc2UgOiBvcHRpb25zLnNob3dNYXA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7b3B0aW9ucy53aWR0aCB8fCA1MTJ9cHhgO1xuICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7b3B0aW9ucy5oZWlnaHQgfHwgNTEyfXB4YDtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLm1hcmdpbiA9ICcwIGF1dG8nO1xuICAgICAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnNob3dNYXApIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgIH1cbiAgICAgICAgKGRvY3VtZW50LmJvZHk6IGFueSkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgc3R5bGU6ICdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjEwJ1xuICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgbWFwXG4gICAgICAgICAgICAub24ob3B0aW9ucy5pZGxlID8gJ2lkbGUnIDogJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3R1YlJlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdHViIG91dCBgX3JlcmVuZGVyYDsgYmVuY2htYXJrcyBuZWVkIHRvIGJlIHRoZSBvbmx5IHRyaWdnZXIgb2YgYF9yZW5kZXJgIGZyb20gaGVyZSBvbiBvdXQuXG4gICAgICAgICAgICAgICAgICAgIChtYXA6IGFueSkudHJpZ2dlclJlcGFpbnQgPSAoKSA9PiB7fTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgcGVuZGluZyByZXJlbmRlciwgY2FuY2VsIGl0LlxuICAgICAgICAgICAgICAgICAgICBpZiAobWFwLl9mcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLl9mcmFtZS5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5fZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUobWFwKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ2Vycm9yJywgKGUpID0+IHJlamVjdChlLmVycm9yKSlcbiAgICAgICAgICAgIC5vbigncmVtb3ZlJywgKCkgPT4gY29udGFpbmVyLnJlbW92ZSgpKTtcbiAgICB9KTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIHtTdHlsZVNwZWNpZmljYXRpb259IGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL3R5cGVzLmpzJztcbmltcG9ydCBCZW5jaG1hcmsgZnJvbSAnLi4vbGliL2JlbmNobWFyay5qcyc7XG5pbXBvcnQgZmV0Y2hTdHlsZSBmcm9tICcuLi9saWIvZmV0Y2hfc3R5bGUuanMnO1xuaW1wb3J0IFRpbGVQYXJzZXIgZnJvbSAnLi4vbGliL3RpbGVfcGFyc2VyLmpzJztcbmltcG9ydCB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vLi4vc3JjL3NvdXJjZS90aWxlX2lkLmpzJztcbmltcG9ydCB7c2VyaWFsaXplLCBkZXNlcmlhbGl6ZX0gZnJvbSAnLi4vLi4vc3JjL3V0aWwvd2ViX3dvcmtlcl90cmFuc2Zlci5qcyc7XG5pbXBvcnQge3ZhbHVlc30gZnJvbSAnLi4vLi4vc3JjL3V0aWwvdXRpbC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmtlclRyYW5zZmVyIGV4dGVuZHMgQmVuY2htYXJrIHtcbiAgICBwYXJzZXI6IFRpbGVQYXJzZXI7XG4gICAgcGF5bG9hZFRpbGVzOiBBcnJheTxhbnk+O1xuICAgIHBheWxvYWRKU09OOiBBcnJheTxhbnk+O1xuICAgIHdvcmtlcjogV29ya2VyO1xuICAgIHN0eWxlOiBzdHJpbmcgfCBTdHlsZVNwZWNpZmljYXRpb247XG5cbiAgICBjb25zdHJ1Y3RvcihzdHlsZTogc3RyaW5nIHwgU3R5bGVTcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICB9XG5cbiAgICBzZXR1cCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgc3JjID0gYFxuICAgICAgICBvbm1lc3NhZ2UgPSAoZSkgPT4ge1xuICAgICAgICAgICAgcG9zdE1lc3NhZ2UoZS5kYXRhKTtcbiAgICAgICAgfTtcbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3NyY10sIHt0eXBlOiAndGV4dC9qYXZhc2NyaXB0J30pKTtcbiAgICAgICAgdGhpcy53b3JrZXIgPSBuZXcgV29ya2VyKHVybCk7XG5cbiAgICAgICAgY29uc3QgdGlsZUlEcyA9IFtcbiAgICAgICAgICAgIG5ldyBPdmVyc2NhbGVkVGlsZUlEKDgsIDAsIDgsIDczLCA5NyksXG4gICAgICAgICAgICBuZXcgT3ZlcnNjYWxlZFRpbGVJRCgxMSwgMCwgMTEsIDU4NSwgNzgzKSxcbiAgICAgICAgICAgIG5ldyBPdmVyc2NhbGVkVGlsZUlEKDExLCAwLCAxMSwgNTk2LCA3NzUpLFxuICAgICAgICAgICAgbmV3IE92ZXJzY2FsZWRUaWxlSUQoMTMsIDAsIDEzLCAyNDEyLCAzMDc5KVxuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiBmZXRjaFN0eWxlKHRoaXMuc3R5bGUpXG4gICAgICAgICAgICAudGhlbigoc3R5bGVKU09OKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZXIgPSBuZXcgVGlsZVBhcnNlcihzdHlsZUpTT04sICdjb21wb3NpdGUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZXIuc2V0dXAoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRpbGVJRHMubWFwKHRpbGVJRCA9PiB0aGlzLnBhcnNlci5mZXRjaFRpbGUodGlsZUlEKSkpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCh0aWxlcykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh0aWxlcy5tYXAodGlsZSA9PiB0aGlzLnBhcnNlci5wYXJzZVRpbGUodGlsZSkpKTtcbiAgICAgICAgICAgIH0pLnRoZW4oKHRpbGVSZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHRpbGVSZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgIC5jb25jYXQodmFsdWVzKHRoaXMucGFyc2VyLmljb25zKSlcbiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdCh2YWx1ZXModGhpcy5wYXJzZXIuZ2x5cGhzKSkubWFwKChvYmopID0+IHNlcmlhbGl6ZShvYmosIFtdKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXlsb2FkSlNPTiA9IHBheWxvYWQubWFwKGJhcmVQYXlsb2FkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBheWxvYWRUaWxlcyA9IHBheWxvYWQuc2xpY2UoMCwgdGlsZVJlc3VsdHMubGVuZ3RoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlbmRQYXlsb2FkKG9iajogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy53b3JrZXIub25tZXNzYWdlID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2Uob2JqKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmVuY2goKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGxldCBwcm9taXNlOiBQcm9taXNlPHZvaWQ+ID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICAgICAgLy8gYmVuY2htYXJrIHNlbmRpbmcgcmF3IEpTT04gcGF5bG9hZFxuICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiB0aGlzLnBheWxvYWRKU09OKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kUGF5bG9hZChvYmopO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGJlbmNobWFyayBkZXNlcmlhbGl6aW5nIGZ1bGwgdGlsZSBwYXlsb2FkIGJlY2F1c2UgaXQgaGFwcGVucyBvbiB0aGUgbWFpbiB0aHJlYWRcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIHRoaXMucGF5bG9hZFRpbGVzKSB7XG4gICAgICAgICAgICAgICAgZGVzZXJpYWxpemUob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBiYXJlUGF5bG9hZChvYmopIHtcbiAgICAvLyBzdHJpcCBhbGwgdHJhbnNmZXJhYmxlcyBmcm9tIGEgd29ya2VyIHBheWxvYWQsIGJlY2F1c2Ugd2UgY2FuJ3QgdHJhbnNmZXIgdGhlbSByZXBlYXRlZGx5IGluIHRoZSBiZW5jaDpcbiAgICAvLyBhcyBzb29uIGFzIGl0J3MgdHJhbnNmZXJlZCBvbmNlLCBpdCdzIG5vIGxvbmdlciBhdmFpbGFibGUgb24gdGhlIG1haW4gdGhyZWFkXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqLCAoa2V5LCB2YWx1ZSkgPT4gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSA/IHt9IDogdmFsdWUpIHx8ICd7fScpO1xufVxuIiwiXG5pbXBvcnQgc3R5bGUgZnJvbSAnLi4vZGF0YS9lbXB0eS5qc29uJztcbmltcG9ydCBCZW5jaG1hcmsgZnJvbSAnLi4vbGliL2JlbmNobWFyay5qcyc7XG5pbXBvcnQgY3JlYXRlTWFwIGZyb20gJy4uL2xpYi9jcmVhdGVfbWFwLmpzJztcblxuZnVuY3Rpb24gZ2VuZXJhdGVMYXllcnMobGF5ZXIpIHtcbiAgICBjb25zdCBnZW5lcmF0ZWQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDUwOyBpKyspIHtcbiAgICAgICAgY29uc3QgaWQgPSBsYXllci5pZCArIGk7XG4gICAgICAgIGdlbmVyYXRlZC5wdXNoKE9iamVjdC5hc3NpZ24oe30sIGxheWVyLCB7aWR9KSk7XG4gICAgfVxuICAgIHJldHVybiBnZW5lcmF0ZWQ7XG59XG5cbmNvbnN0IHdpZHRoID0gMTAyNDtcbmNvbnN0IGhlaWdodCA9IDc2ODtcbmNvbnN0IHpvb20gPSA0O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWludFN0YXRlcyBleHRlbmRzIEJlbmNobWFyayB7XG4gICAgY29uc3RydWN0b3IoY2VudGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2VudGVyID0gY2VudGVyO1xuICAgIH1cblxuICAgIHNldHVwKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goJy9iZW5jaC9kYXRhL25hdHVyYWxlYXJ0aC1sYW5kLmpzb24nKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5udW1GZWF0dXJlcyA9IGRhdGEuZmVhdHVyZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdHlsZSwge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiB7J2xhbmQnOiB7J3R5cGUnOiAnZ2VvanNvbicsIGRhdGEsICdtYXh6b29tJzogMjN9fSxcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBnZW5lcmF0ZUxheWVycyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnbGF5ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnZmlsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc291cmNlJzogJ2xhbmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3BhaW50Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdmaWxsLWNvbG9yJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2FzZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnYm9vbGVhbicsIFsnZmVhdHVyZS1zdGF0ZScsICdiZW5jaCddLCBmYWxzZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsncmdiJywgMjEsIDIxMCwgMjEwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWydyZ2InLCAyMzMsIDIzMywgMjMzXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoc3R5bGUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgem9vbSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyOiB0aGlzLmNlbnRlcixcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVcbiAgICAgICAgICAgICAgICB9KS50aGVuKG1hcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBiZW5jaCgpIHtcbiAgICAgICAgdGhpcy5tYXAuX3N0eWxlRGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLm1hcC5fc291cmNlc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tYXAuX3JlbmRlcigpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtRmVhdHVyZXM7IGkgKz0gNTApIHtcbiAgICAgICAgICAgIHRoaXMubWFwLnNldEZlYXR1cmVTdGF0ZSh7c291cmNlOiAnbGFuZCcsIGlkOiBpfSwge2JlbmNoOiB0cnVlfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXAuX3JlbmRlcigpO1xuICAgIH1cblxuICAgIHRlYXJkb3duKCkge1xuICAgICAgICB0aGlzLm1hcC5yZW1vdmUoKTtcbiAgICB9XG59XG4iLCJcbmltcG9ydCBzdHlsZSBmcm9tICcuLi9kYXRhL2VtcHR5Lmpzb24nO1xuaW1wb3J0IEJlbmNobWFyayBmcm9tICcuLi9saWIvYmVuY2htYXJrLmpzJztcbmltcG9ydCBjcmVhdGVNYXAgZnJvbSAnLi4vbGliL2NyZWF0ZV9tYXAuanMnO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUxheWVycyhsYXllcikge1xuICAgIGNvbnN0IGdlbmVyYXRlZCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTA7IGkrKykge1xuICAgICAgICBjb25zdCBpZCA9IGxheWVyLmlkICsgaTtcbiAgICAgICAgZ2VuZXJhdGVkLnB1c2goT2JqZWN0LmFzc2lnbih7fSwgbGF5ZXIsIHtpZH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGdlbmVyYXRlZDtcbn1cblxuY29uc3Qgd2lkdGggPSAxMDI0O1xuY29uc3QgaGVpZ2h0ID0gNzY4O1xuY29uc3Qgem9vbSA9IDQ7XG5cbmNsYXNzIFJlbW92ZVBhaW50U3RhdGUgZXh0ZW5kcyBCZW5jaG1hcmsge1xuICAgIGNvbnN0cnVjdG9yKGNlbnRlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNlbnRlciA9IGNlbnRlcjtcbiAgICB9XG5cbiAgICBzZXR1cCgpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKCcvYmVuY2gvZGF0YS9uYXR1cmFsZWFydGgtbGFuZC5qc29uJylcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubnVtRmVhdHVyZXMgPSBkYXRhLmZlYXR1cmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUsIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlczogeydsYW5kJzogeyd0eXBlJzogJ2dlb2pzb24nLCBkYXRhLCAnbWF4em9vbSc6IDIzfX0sXG4gICAgICAgICAgICAgICAgICAgIGxheWVyczogZ2VuZXJhdGVMYXllcnMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ2xheWVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ2ZpbGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NvdXJjZSc6ICdsYW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdwYWludCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZmlsbC1jb2xvcic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Nhc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJ2Jvb2xlYW4nLCBbJ2ZlYXR1cmUtc3RhdGUnLCAnYmVuY2gnXSwgZmFsc2VdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJ3JnYicsIDIxLCAyMTAsIDIxMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsncmdiJywgMjMzLCAyMzMsIDIzM11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHN0eWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU1hcCh7XG4gICAgICAgICAgICAgICAgICAgIHpvb20sXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcjogdGhpcy5jZW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlXG4gICAgICAgICAgICAgICAgfSkudGhlbihtYXAgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmVuY2goKSB7XG4gICAgICAgIHRoaXMubWFwLl9zdHlsZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tYXAuX3NvdXJjZXNEaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMubWFwLl9yZW5kZXIoKTtcbiAgICB9XG5cbiAgICB0ZWFyZG93bigpIHtcbiAgICAgICAgdGhpcy5tYXAucmVtb3ZlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvcGVydHlMZXZlbFJlbW92ZSBleHRlbmRzIFJlbW92ZVBhaW50U3RhdGUge1xuICAgIGJlbmNoKCkge1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5udW1GZWF0dXJlczsgaSArPSA1MCkge1xuICAgICAgICAgICAgdGhpcy5tYXAuc2V0RmVhdHVyZVN0YXRlKHtzb3VyY2U6ICdsYW5kJywgaWQ6IGl9LCB7YmVuY2g6IHRydWV9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtRmVhdHVyZXM7IGkgKz0gNTApIHtcbiAgICAgICAgICAgIHRoaXMubWFwLnJlbW92ZUZlYXR1cmVTdGF0ZSh7c291cmNlOiAnbGFuZCcsIGlkOiBpfSwgJ2JlbmNoJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXAuX3JlbmRlcigpO1xuXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmVhdHVyZUxldmVsUmVtb3ZlIGV4dGVuZHMgUmVtb3ZlUGFpbnRTdGF0ZSB7XG4gICAgYmVuY2goKSB7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm51bUZlYXR1cmVzOyBpICs9IDUwKSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRGZWF0dXJlU3RhdGUoe3NvdXJjZTogJ2xhbmQnLCBpZDogaX0sIHtiZW5jaDogdHJ1ZX0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5udW1GZWF0dXJlczsgaSArPSA1MCkge1xuICAgICAgICAgICAgdGhpcy5tYXAucmVtb3ZlRmVhdHVyZVN0YXRlKHtzb3VyY2U6ICdsYW5kJywgaWQ6IGl9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1hcC5fcmVuZGVyKCk7XG5cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTb3VyY2VMZXZlbFJlbW92ZSBleHRlbmRzIFJlbW92ZVBhaW50U3RhdGUge1xuICAgIGJlbmNoKCkge1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5udW1GZWF0dXJlczsgaSArPSA1MCkge1xuICAgICAgICAgICAgdGhpcy5tYXAuc2V0RmVhdHVyZVN0YXRlKHtzb3VyY2U6ICdsYW5kJywgaWQ6IGl9LCB7YmVuY2g6IHRydWV9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtRmVhdHVyZXM7IGkgKz0gNTApIHtcbiAgICAgICAgICAgIHRoaXMubWFwLnJlbW92ZUZlYXR1cmVTdGF0ZSh7c291cmNlOiAnbGFuZCcsIGlkOiBpfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXAuX3JlbmRlcigpO1xuXG4gICAgfVxufVxuIiwiXG5pbXBvcnQgQmVuY2htYXJrIGZyb20gJy4uL2xpYi9iZW5jaG1hcmsuanMnO1xuaW1wb3J0IGNyZWF0ZU1hcCBmcm9tICcuLi9saWIvY3JlYXRlX21hcC5qcyc7XG5pbXBvcnQgc3R5bGUgZnJvbSAnLi4vZGF0YS9lbXB0eS5qc29uJztcblxuY29uc3Qgd2lkdGggPSAxMDI0O1xuY29uc3QgaGVpZ2h0ID0gNzY4O1xuY29uc3QgbGF5ZXJDb3VudCA9IDUwO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUxheWVycyhsYXllcikge1xuICAgIGNvbnN0IGdlbmVyYXRlZCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJDb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGlkID0gbGF5ZXIuaWQgKyBpO1xuICAgICAgICBnZW5lcmF0ZWQucHVzaChPYmplY3QuYXNzaWduKHt9LCBsYXllciwge2lkfSkpO1xuICAgIH1cbiAgICByZXR1cm4gZ2VuZXJhdGVkO1xufVxuXG5leHBvcnQgY2xhc3MgTGF5ZXJCZW5jaG1hcmsgZXh0ZW5kcyBCZW5jaG1hcmsge1xuICAgIHNldHVwKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTWFwKHtcbiAgICAgICAgICAgIHpvb206IDE2LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICBjZW50ZXI6IFstNzcuMDMyMTk0LCAzOC45MTI3NTNdLFxuICAgICAgICAgICAgc3R5bGU6IHRoaXMubGF5ZXJTdHlsZVxuICAgICAgICB9KS50aGVuKG1hcCA9PiB7XG4gICAgICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGJlbmNoKCkge1xuICAgICAgICB0aGlzLm1hcC5fcmVuZGVyKCk7XG4gICAgfVxuXG4gICAgdGVhcmRvd24oKSB7XG4gICAgICAgIHRoaXMubWFwLnJlbW92ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIExheWVyQmFja2dyb3VuZCBleHRlbmRzIExheWVyQmVuY2htYXJrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmxheWVyU3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdHlsZSwge1xuICAgICAgICAgICAgbGF5ZXJzOiBnZW5lcmF0ZUxheWVycyh7XG4gICAgICAgICAgICAgICAgaWQ6ICdiYWNrZ3JvdW5kbGF5ZXInLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdiYWNrZ3JvdW5kJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5ZXJDaXJjbGUgZXh0ZW5kcyBMYXllckJlbmNobWFyayB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5sYXllclN0eWxlID0gT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUsIHtcbiAgICAgICAgICAgIGxheWVyczogZ2VuZXJhdGVMYXllcnMoe1xuICAgICAgICAgICAgICAgICdpZCc6ICdjaXJjbGVsYXllcicsXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnY2lyY2xlJyxcbiAgICAgICAgICAgICAgICAnc291cmNlJzogJ2NvbXBvc2l0ZScsXG4gICAgICAgICAgICAgICAgJ3NvdXJjZS1sYXllcic6ICdwb2lfbGFiZWwnXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMYXllckZpbGwgZXh0ZW5kcyBMYXllckJlbmNobWFyayB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5sYXllclN0eWxlID0gT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUsIHtcbiAgICAgICAgICAgIGxheWVyczogZ2VuZXJhdGVMYXllcnMoe1xuICAgICAgICAgICAgICAgICdpZCc6ICdmaWxsbGF5ZXInLFxuICAgICAgICAgICAgICAgICd0eXBlJzogJ2ZpbGwnLFxuICAgICAgICAgICAgICAgICdzb3VyY2UnOiAnY29tcG9zaXRlJyxcbiAgICAgICAgICAgICAgICAnc291cmNlLWxheWVyJzogJ2J1aWxkaW5nJyxcbiAgICAgICAgICAgICAgICAncGFpbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICdmaWxsLWNvbG9yJzogJ2JsYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgJ2ZpbGwtb3V0bGluZS1jb2xvcic6ICdyZWQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5ZXJGaWxsRXh0cnVzaW9uIGV4dGVuZHMgTGF5ZXJCZW5jaG1hcmsge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMubGF5ZXJTdHlsZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0eWxlLCB7XG4gICAgICAgICAgICBsYXllcnM6IGdlbmVyYXRlTGF5ZXJzKHtcbiAgICAgICAgICAgICAgICAnaWQnOiAnZmlsbGV4dHJ1c2lvbmxheWVyJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdmaWxsLWV4dHJ1c2lvbicsXG4gICAgICAgICAgICAgICAgJ3NvdXJjZSc6ICdjb21wb3NpdGUnLFxuICAgICAgICAgICAgICAgICdzb3VyY2UtbGF5ZXInOiAnYnVpbGRpbmcnLFxuICAgICAgICAgICAgICAgICdwYWludCc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZpbGwtZXh0cnVzaW9uLWhlaWdodCc6IDMwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5ZXJIZWF0bWFwIGV4dGVuZHMgTGF5ZXJCZW5jaG1hcmsge1xuICAgIHNldHVwKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goJy9iZW5jaC9kYXRhL25hdHVyYWxlYXJ0aC1sYW5kLmpzb24nKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXllclN0eWxlID0gT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUsIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2hlYXRtYXAnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnZ2VvanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWF4em9vbSc6IDIzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGxheWVyczogZ2VuZXJhdGVMYXllcnMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ2xheWVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ2hlYXRtYXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NvdXJjZSc6ICdoZWF0bWFwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdwYWludCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImhlYXRtYXAtcmFkaXVzXCI6IDUwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaGVhdG1hcC13ZWlnaHRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0b3BzXCI6IFtbMCwgMC41XSwgWzQsIDJdXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJoZWF0bWFwLWludGVuc2l0eVwiOiAwLjksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJoZWF0bWFwLWNvbG9yXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbnRlcnBvbGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJsaW5lYXJcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcImhlYXRtYXAtZGVuc2l0eVwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgXCJyZ2JhKDAsIDAsIDI1NSwgMClcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC4xLCBcInJveWFsYmx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjMsIFwiY3lhblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjUsIFwibGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjcsIFwieWVsbG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEsIFwicmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gc3VwZXIuc2V0dXAoKSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5ZXJIaWxsc2hhZGUgZXh0ZW5kcyBMYXllckJlbmNobWFyayB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5sYXllclN0eWxlID0gT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUsIHtcbiAgICAgICAgICAgIHNvdXJjZXM6IHtcbiAgICAgICAgICAgICAgICAndGVycmFpbi1yZ2InOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ3Jhc3Rlci1kZW0nLFxuICAgICAgICAgICAgICAgICAgICAndXJsJzogJ21hcGJveDovL21hcGJveC50ZXJyYWluLXJnYidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGF5ZXJzOiBnZW5lcmF0ZUxheWVycyh7XG4gICAgICAgICAgICAgICAgJ2lkJzogJ2xheWVyJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdoaWxsc2hhZGUnLFxuICAgICAgICAgICAgICAgICdzb3VyY2UnOiAndGVycmFpbi1yZ2InLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5ZXJMaW5lIGV4dGVuZHMgTGF5ZXJCZW5jaG1hcmsge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMubGF5ZXJTdHlsZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0eWxlLCB7XG4gICAgICAgICAgICBsYXllcnM6IGdlbmVyYXRlTGF5ZXJzKHtcbiAgICAgICAgICAgICAgICAnaWQnOiAnbGluZWxheWVyJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdsaW5lJyxcbiAgICAgICAgICAgICAgICAnc291cmNlJzogJ2NvbXBvc2l0ZScsXG4gICAgICAgICAgICAgICAgJ3NvdXJjZS1sYXllcic6ICdyb2FkJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5ZXJSYXN0ZXIgZXh0ZW5kcyBMYXllckJlbmNobWFyayB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5sYXllclN0eWxlID0gT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUsIHtcbiAgICAgICAgICAgIHNvdXJjZXM6IHtcbiAgICAgICAgICAgICAgICAnc2F0ZWxsaXRlJzoge1xuICAgICAgICAgICAgICAgICAgICAndXJsJzogJ21hcGJveDovL21hcGJveC5zYXRlbGxpdGUnLFxuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdyYXN0ZXInLFxuICAgICAgICAgICAgICAgICAgICAndGlsZVNpemUnOiAyNTZcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGF5ZXJzOiBnZW5lcmF0ZUxheWVycyh7XG4gICAgICAgICAgICAgICAgJ2lkJzogJ3Jhc3RlcmxheWVyJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdyYXN0ZXInLFxuICAgICAgICAgICAgICAgICdzb3VyY2UnOiAnc2F0ZWxsaXRlJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5ZXJTeW1ib2wgZXh0ZW5kcyBMYXllckJlbmNobWFyayB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5sYXllclN0eWxlID0gT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUsIHtcbiAgICAgICAgICAgIGxheWVyczogZ2VuZXJhdGVMYXllcnMoe1xuICAgICAgICAgICAgICAgICdpZCc6ICdzeW1ib2xsYXllcicsXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnc3ltYm9sJyxcbiAgICAgICAgICAgICAgICAnc291cmNlJzogJ2NvbXBvc2l0ZScsXG4gICAgICAgICAgICAgICAgJ3NvdXJjZS1sYXllcic6ICdwb2lfbGFiZWwnLFxuICAgICAgICAgICAgICAgICdsYXlvdXQnOiB7XG4gICAgICAgICAgICAgICAgICAgICdpY29uLWltYWdlJzogJ2RvdC0xMScsXG4gICAgICAgICAgICAgICAgICAgICd0ZXh0LWZpZWxkJzogJ3tuYW1lX2VufSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMYXllclN5bWJvbFdpdGhJY29ucyBleHRlbmRzIExheWVyQmVuY2htYXJrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmxheWVyU3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdHlsZSwge1xuICAgICAgICAgICAgbGF5ZXJzOiBnZW5lcmF0ZUxheWVycyh7XG4gICAgICAgICAgICAgICAgJ2lkJzogJ3N5bWJvbGxheWVyJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdzeW1ib2wnLFxuICAgICAgICAgICAgICAgICdzb3VyY2UnOiAnY29tcG9zaXRlJyxcbiAgICAgICAgICAgICAgICAnc291cmNlLWxheWVyJzogJ3BvaV9sYWJlbCcsXG4gICAgICAgICAgICAgICAgJ2xheW91dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2ljb24taW1hZ2UnOiAnZG90LTExJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RleHQtZmllbGQnOiBbJ2Zvcm1hdCcsIFsnZ2V0JywgJ25hbWVfZW4nXSwgWydpbWFnZScsICdkb3QtMTEnXV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMYXllclN5bWJvbFdpdGhTb3J0S2V5IGV4dGVuZHMgTGF5ZXJCZW5jaG1hcmsge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMubGF5ZXJTdHlsZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0eWxlLCB7XG4gICAgICAgICAgICBsYXllcnM6IHRoaXMuZ2VuZXJhdGVTb3J0S2V5TGF5ZXJzKClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVTb3J0S2V5TGF5ZXJzKCkge1xuICAgICAgICBjb25zdCBnZW5lcmF0ZWQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllckNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGdlbmVyYXRlZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAnaWQnOiBgc3ltYm9sbGF5ZXIke2l9YCxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdzeW1ib2wnLFxuICAgICAgICAgICAgICAgICdzb3VyY2UnOiAnY29tcG9zaXRlJyxcbiAgICAgICAgICAgICAgICAnc291cmNlLWxheWVyJzogJ3BvaV9sYWJlbCcsXG4gICAgICAgICAgICAgICAgJ2xheW91dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3N5bWJvbC1zb3J0LWtleSc6IGksXG4gICAgICAgICAgICAgICAgICAgICd0ZXh0LWZpZWxkJzogJ3tuYW1lX2VufSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIExheWVyVGV4dFdpdGhWYXJpYWJsZUFuY2hvciBleHRlbmRzIExheWVyQmVuY2htYXJrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmxheWVyU3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdHlsZSwge1xuICAgICAgICAgICAgbGF5ZXJzOiBnZW5lcmF0ZUxheWVycyh7XG4gICAgICAgICAgICAgICAgJ2lkJzogJ3N5bWJvbGxheWVyJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdzeW1ib2wnLFxuICAgICAgICAgICAgICAgICdzb3VyY2UnOiAnY29tcG9zaXRlJyxcbiAgICAgICAgICAgICAgICAnc291cmNlLWxheWVyJzogJ3BvaV9sYWJlbCcsXG4gICAgICAgICAgICAgICAgJ2xheW91dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3RleHQtZmllbGQnOiAnVGVzdCBUZXN0IFRlc3QnLFxuICAgICAgICAgICAgICAgICAgICAndGV4dC1qdXN0aWZ5JzogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAndGV4dC12YXJpYWJsZS1hbmNob3InOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0b3AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGVmdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAncmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RvcC1sZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0b3AtcmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JvdHRvbS1sZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdib3R0b20tcmlnaHQnXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgQmVuY2htYXJrIGZyb20gJy4uL2xpYi9iZW5jaG1hcmsuanMnO1xuaW1wb3J0IGNyZWF0ZU1hcCBmcm9tICcuLi9saWIvY3JlYXRlX21hcC5qcyc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vLi4vc3JjL3VpL21hcC5qcyc7XG5cbmNvbnN0IHdpZHRoID0gMTAyNDtcbmNvbnN0IGhlaWdodCA9IDc2ODtcblxuY29uc3QgcG9pbnRzID0gW107XG5jb25zdCBkID0gNDtcbmZvciAobGV0IHggPSAwOyB4IDwgZDsgeCsrKSB7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBkOyB5KyspIHtcbiAgICAgICAgcG9pbnRzLnB1c2goW1xuICAgICAgICAgICAgKHggLyBkKSAqIHdpZHRoLFxuICAgICAgICAgICAgKHkgLyBkKSAqIGhlaWdodFxuICAgICAgICBdKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXJ5UG9pbnQgZXh0ZW5kcyBCZW5jaG1hcmsge1xuICAgIHN0eWxlOiBzdHJpbmc7XG4gICAgbG9jYXRpb25zOiBBcnJheTxPYmplY3Q+O1xuICAgIG1hcHM6IEFycmF5PE1hcD47XG5cbiAgICBjb25zdHJ1Y3RvcihzdHlsZTogc3RyaW5nLCBsb2NhdGlvbnM6IEFycmF5PE9iamVjdD4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLmxvY2F0aW9ucyA9IGxvY2F0aW9ucztcbiAgICB9XG5cbiAgICBzZXR1cCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMubG9jYXRpb25zLm1hcChsb2NhdGlvbiA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTWFwKHtcbiAgICAgICAgICAgICAgICB6b29tOiBsb2NhdGlvbi56b29tLFxuICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICBjZW50ZXI6IGxvY2F0aW9uLmNlbnRlcixcbiAgICAgICAgICAgICAgICBzdHlsZTogdGhpcy5zdHlsZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKVxuICAgICAgICAgICAgLnRoZW4obWFwcyA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXBzID0gbWFwcztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmVuY2goKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWFwIG9mIHRoaXMubWFwcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBwb2ludHMpIHtcbiAgICAgICAgICAgICAgICBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHBvaW50LCB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0ZWFyZG93bigpIHtcbiAgICAgICAgZm9yIChjb25zdCBtYXAgb2YgdGhpcy5tYXBzKSB7XG4gICAgICAgICAgICBtYXAucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZVByb3BlcnR5U3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy5qcyc7XG5pbXBvcnQgdHlwZSB7RXhwcmVzc2lvblNwZWNpZmljYXRpb259IGZyb20gJy4uL3R5cGVzLmpzJztcblxuZnVuY3Rpb24gY29udmVydExpdGVyYWwodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyA/IFsnbGl0ZXJhbCcsIHZhbHVlXSA6IHZhbHVlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb252ZXJ0RnVuY3Rpb24ocGFyYW1ldGVyczogYW55LCBwcm9wZXJ0eVNwZWM6IFN0eWxlUHJvcGVydHlTcGVjaWZpY2F0aW9uKTogRXhwcmVzc2lvblNwZWNpZmljYXRpb24ge1xuICAgIGxldCBzdG9wcyA9IHBhcmFtZXRlcnMuc3RvcHM7XG4gICAgaWYgKCFzdG9wcykge1xuICAgICAgICAvLyBpZGVudGl0eSBmdW5jdGlvblxuICAgICAgICByZXR1cm4gY29udmVydElkZW50aXR5RnVuY3Rpb24ocGFyYW1ldGVycywgcHJvcGVydHlTcGVjKTtcbiAgICB9XG5cbiAgICBjb25zdCB6b29tQW5kRmVhdHVyZURlcGVuZGVudCA9IHN0b3BzICYmIHR5cGVvZiBzdG9wc1swXVswXSA9PT0gJ29iamVjdCc7XG4gICAgY29uc3QgZmVhdHVyZURlcGVuZGVudCA9IHpvb21BbmRGZWF0dXJlRGVwZW5kZW50IHx8IHBhcmFtZXRlcnMucHJvcGVydHkgIT09IHVuZGVmaW5lZDtcbiAgICBjb25zdCB6b29tRGVwZW5kZW50ID0gem9vbUFuZEZlYXR1cmVEZXBlbmRlbnQgfHwgIWZlYXR1cmVEZXBlbmRlbnQ7XG5cbiAgICBzdG9wcyA9IHN0b3BzLm1hcCgoc3RvcCkgPT4ge1xuICAgICAgICBpZiAoIWZlYXR1cmVEZXBlbmRlbnQgJiYgcHJvcGVydHlTcGVjLnRva2VucyAmJiB0eXBlb2Ygc3RvcFsxXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBbc3RvcFswXSwgY29udmVydFRva2VuU3RyaW5nKHN0b3BbMV0pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3N0b3BbMF0sIGNvbnZlcnRMaXRlcmFsKHN0b3BbMV0pXTtcbiAgICB9KTtcblxuICAgIGlmICh6b29tQW5kRmVhdHVyZURlcGVuZGVudCkge1xuICAgICAgICByZXR1cm4gY29udmVydFpvb21BbmRQcm9wZXJ0eUZ1bmN0aW9uKHBhcmFtZXRlcnMsIHByb3BlcnR5U3BlYywgc3RvcHMpO1xuICAgIH0gZWxzZSBpZiAoem9vbURlcGVuZGVudCkge1xuICAgICAgICByZXR1cm4gY29udmVydFpvb21GdW5jdGlvbihwYXJhbWV0ZXJzLCBwcm9wZXJ0eVNwZWMsIHN0b3BzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udmVydFByb3BlcnR5RnVuY3Rpb24ocGFyYW1ldGVycywgcHJvcGVydHlTcGVjLCBzdG9wcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0SWRlbnRpdHlGdW5jdGlvbihwYXJhbWV0ZXJzLCBwcm9wZXJ0eVNwZWMpOiBBcnJheTxtaXhlZD4ge1xuICAgIGNvbnN0IGdldCA9IFsnZ2V0JywgcGFyYW1ldGVycy5wcm9wZXJ0eV07XG5cbiAgICBpZiAocGFyYW1ldGVycy5kZWZhdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gQnkgZGVmYXVsdCwgZXhwcmVzc2lvbnMgZm9yIHN0cmluZy12YWx1ZWQgcHJvcGVydGllcyBnZXQgY29lcmNlZC4gVG8gcHJlc2VydmVcbiAgICAgICAgLy8gbGVnYWN5IGZ1bmN0aW9uIHNlbWFudGljcywgaW5zZXJ0IGFuIGV4cGxpY2l0IGFzc2VydGlvbiBpbnN0ZWFkLlxuICAgICAgICByZXR1cm4gcHJvcGVydHlTcGVjLnR5cGUgPT09ICdzdHJpbmcnID8gWydzdHJpbmcnLCBnZXRdIDogZ2V0O1xuICAgIH0gZWxzZSBpZiAocHJvcGVydHlTcGVjLnR5cGUgPT09ICdlbnVtJykge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgJ21hdGNoJyxcbiAgICAgICAgICAgIGdldCxcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHByb3BlcnR5U3BlYy52YWx1ZXMpLFxuICAgICAgICAgICAgZ2V0LFxuICAgICAgICAgICAgcGFyYW1ldGVycy5kZWZhdWx0XG4gICAgICAgIF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IFtwcm9wZXJ0eVNwZWMudHlwZSA9PT0gJ2NvbG9yJyA/ICd0by1jb2xvcicgOiBwcm9wZXJ0eVNwZWMudHlwZSwgZ2V0LCBjb252ZXJ0TGl0ZXJhbChwYXJhbWV0ZXJzLmRlZmF1bHQpXTtcbiAgICAgICAgaWYgKHByb3BlcnR5U3BlYy50eXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICBleHByZXNzaW9uLnNwbGljZSgxLCAwLCBwcm9wZXJ0eVNwZWMudmFsdWUsIHByb3BlcnR5U3BlYy5sZW5ndGggfHwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4cHJlc3Npb247XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRJbnRlcnBvbGF0ZU9wZXJhdG9yKHBhcmFtZXRlcnMpIHtcbiAgICBzd2l0Y2ggKHBhcmFtZXRlcnMuY29sb3JTcGFjZSkge1xuICAgIGNhc2UgJ2hjbCc6IHJldHVybiAnaW50ZXJwb2xhdGUtaGNsJztcbiAgICBjYXNlICdsYWInOiByZXR1cm4gJ2ludGVycG9sYXRlLWxhYic7XG4gICAgZGVmYXVsdDogcmV0dXJuICdpbnRlcnBvbGF0ZSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0Wm9vbUFuZFByb3BlcnR5RnVuY3Rpb24ocGFyYW1ldGVycywgcHJvcGVydHlTcGVjLCBzdG9wcykge1xuICAgIGNvbnN0IGZlYXR1cmVGdW5jdGlvblBhcmFtZXRlcnMgPSB7fTtcbiAgICBjb25zdCBmZWF0dXJlRnVuY3Rpb25TdG9wcyA9IHt9O1xuICAgIGNvbnN0IHpvb21TdG9wcyA9IFtdO1xuICAgIGZvciAobGV0IHMgPSAwOyBzIDwgc3RvcHMubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgY29uc3Qgc3RvcCA9IHN0b3BzW3NdO1xuICAgICAgICBjb25zdCB6b29tID0gc3RvcFswXS56b29tO1xuICAgICAgICBpZiAoZmVhdHVyZUZ1bmN0aW9uUGFyYW1ldGVyc1t6b29tXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmZWF0dXJlRnVuY3Rpb25QYXJhbWV0ZXJzW3pvb21dID0ge1xuICAgICAgICAgICAgICAgIHpvb20sXG4gICAgICAgICAgICAgICAgdHlwZTogcGFyYW1ldGVycy50eXBlLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwYXJhbWV0ZXJzLnByb3BlcnR5LFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHBhcmFtZXRlcnMuZGVmYXVsdCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmZWF0dXJlRnVuY3Rpb25TdG9wc1t6b29tXSA9IFtdO1xuICAgICAgICAgICAgem9vbVN0b3BzLnB1c2goem9vbSk7XG4gICAgICAgIH1cbiAgICAgICAgZmVhdHVyZUZ1bmN0aW9uU3RvcHNbem9vbV0ucHVzaChbc3RvcFswXS52YWx1ZSwgc3RvcFsxXV0pO1xuICAgIH1cblxuICAgIC8vIHRoZSBpbnRlcnBvbGF0aW9uIHR5cGUgZm9yIHRoZSB6b29tIGRpbWVuc2lvbiBvZiBhIHpvb20tYW5kLXByb3BlcnR5XG4gICAgLy8gZnVuY3Rpb24gaXMgZGV0ZXJtaW5lZCBkaXJlY3RseSBmcm9tIHRoZSBzdHlsZSBwcm9wZXJ0eSBzcGVjaWZpY2F0aW9uXG4gICAgLy8gZm9yIHdoaWNoIGl0J3MgYmVpbmcgdXNlZDogbGluZWFyIGZvciBpbnRlcnBvbGF0YWJsZSBwcm9wZXJ0aWVzLCBzdGVwXG4gICAgLy8gb3RoZXJ3aXNlLlxuICAgIGNvbnN0IGZ1bmN0aW9uVHlwZSA9IGdldEZ1bmN0aW9uVHlwZSh7fSwgcHJvcGVydHlTcGVjKTtcbiAgICBpZiAoZnVuY3Rpb25UeXBlID09PSAnZXhwb25lbnRpYWwnKSB7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBbZ2V0SW50ZXJwb2xhdGVPcGVyYXRvcihwYXJhbWV0ZXJzKSwgWydsaW5lYXInXSwgWyd6b29tJ11dO1xuXG4gICAgICAgIGZvciAoY29uc3QgeiBvZiB6b29tU3RvcHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IGNvbnZlcnRQcm9wZXJ0eUZ1bmN0aW9uKGZlYXR1cmVGdW5jdGlvblBhcmFtZXRlcnNbel0sIHByb3BlcnR5U3BlYywgZmVhdHVyZUZ1bmN0aW9uU3RvcHNbel0pO1xuICAgICAgICAgICAgYXBwZW5kU3RvcFBhaXIoZXhwcmVzc2lvbiwgeiwgb3V0cHV0LCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gWydzdGVwJywgWyd6b29tJ11dO1xuXG4gICAgICAgIGZvciAoY29uc3QgeiBvZiB6b29tU3RvcHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IGNvbnZlcnRQcm9wZXJ0eUZ1bmN0aW9uKGZlYXR1cmVGdW5jdGlvblBhcmFtZXRlcnNbel0sIHByb3BlcnR5U3BlYywgZmVhdHVyZUZ1bmN0aW9uU3RvcHNbel0pO1xuICAgICAgICAgICAgYXBwZW5kU3RvcFBhaXIoZXhwcmVzc2lvbiwgeiwgb3V0cHV0LCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpeHVwRGVnZW5lcmF0ZVN0ZXBDdXJ2ZShleHByZXNzaW9uKTtcblxuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvYWxlc2NlKGEsIGIpIHtcbiAgICBpZiAoYSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gYTtcbiAgICBpZiAoYiAhPT0gdW5kZWZpbmVkKSByZXR1cm4gYjtcbn1cblxuZnVuY3Rpb24gZ2V0RmFsbGJhY2socGFyYW1ldGVycywgcHJvcGVydHlTcGVjKSB7XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlID0gY29udmVydExpdGVyYWwoY29hbGVzY2UocGFyYW1ldGVycy5kZWZhdWx0LCBwcm9wZXJ0eVNwZWMuZGVmYXVsdCkpO1xuXG4gICAgLypcbiAgICAgKiBTb21lIGZpZWxkcyB3aXRoIHR5cGU6IHJlc29sdmVkSW1hZ2UgaGF2ZSBhbiB1bmRlZmluZWQgZGVmYXVsdC5cbiAgICAgKiBCZWNhdXNlIHVuZGVmaW5lZCBpcyBhbiBpbnZhbGlkIHZhbHVlIGZvciByZXNvbHZlZEltYWdlLCBzZXQgZmFsbGJhY2sgdG9cbiAgICAgKiBhbiBlbXB0eSBzdHJpbmcgaW5zdGVhZCBvZiB1bmRlZmluZWQgdG8gZW5zdXJlIG91dHB1dFxuICAgICAqIHBhc3NlcyB2YWxpZGF0aW9uLlxuICAgICAqL1xuICAgIGlmIChkZWZhdWx0VmFsdWUgPT09IHVuZGVmaW5lZCAmJiBwcm9wZXJ0eVNwZWMudHlwZSA9PT0gJ3Jlc29sdmVkSW1hZ2UnKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn1cblxuZnVuY3Rpb24gY29udmVydFByb3BlcnR5RnVuY3Rpb24ocGFyYW1ldGVycywgcHJvcGVydHlTcGVjLCBzdG9wcykge1xuICAgIGNvbnN0IHR5cGUgPSBnZXRGdW5jdGlvblR5cGUocGFyYW1ldGVycywgcHJvcGVydHlTcGVjKTtcbiAgICBjb25zdCBnZXQgPSBbJ2dldCcsIHBhcmFtZXRlcnMucHJvcGVydHldO1xuICAgIGlmICh0eXBlID09PSAnY2F0ZWdvcmljYWwnICYmIHR5cGVvZiBzdG9wc1swXVswXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGFzc2VydChwYXJhbWV0ZXJzLnN0b3BzLmxlbmd0aCA+IDAgJiYgcGFyYW1ldGVycy5zdG9wcy5sZW5ndGggPD0gMik7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBbJ2Nhc2UnXTtcbiAgICAgICAgZm9yIChjb25zdCBzdG9wIG9mIHN0b3BzKSB7XG4gICAgICAgICAgICBleHByZXNzaW9uLnB1c2goWyc9PScsIGdldCwgc3RvcFswXV0sIHN0b3BbMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZXhwcmVzc2lvbi5wdXNoKGdldEZhbGxiYWNrKHBhcmFtZXRlcnMsIHByb3BlcnR5U3BlYykpO1xuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdjYXRlZ29yaWNhbCcpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IFsnbWF0Y2gnLCBnZXRdO1xuICAgICAgICBmb3IgKGNvbnN0IHN0b3Agb2Ygc3RvcHMpIHtcbiAgICAgICAgICAgIGFwcGVuZFN0b3BQYWlyKGV4cHJlc3Npb24sIHN0b3BbMF0sIHN0b3BbMV0sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBleHByZXNzaW9uLnB1c2goZ2V0RmFsbGJhY2socGFyYW1ldGVycywgcHJvcGVydHlTcGVjKSk7XG4gICAgICAgIHJldHVybiBleHByZXNzaW9uO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ludGVydmFsJykge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gWydzdGVwJywgWydudW1iZXInLCBnZXRdXTtcbiAgICAgICAgZm9yIChjb25zdCBzdG9wIG9mIHN0b3BzKSB7XG4gICAgICAgICAgICBhcHBlbmRTdG9wUGFpcihleHByZXNzaW9uLCBzdG9wWzBdLCBzdG9wWzFdLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBmaXh1cERlZ2VuZXJhdGVTdGVwQ3VydmUoZXhwcmVzc2lvbik7XG4gICAgICAgIHJldHVybiBwYXJhbWV0ZXJzLmRlZmF1bHQgPT09IHVuZGVmaW5lZCA/IGV4cHJlc3Npb24gOiBbXG4gICAgICAgICAgICAnY2FzZScsXG4gICAgICAgICAgICBbJz09JywgWyd0eXBlb2YnLCBnZXRdLCAnbnVtYmVyJ10sXG4gICAgICAgICAgICBleHByZXNzaW9uLFxuICAgICAgICAgICAgY29udmVydExpdGVyYWwocGFyYW1ldGVycy5kZWZhdWx0KVxuICAgICAgICBdO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2V4cG9uZW50aWFsJykge1xuICAgICAgICBjb25zdCBiYXNlID0gcGFyYW1ldGVycy5iYXNlICE9PSB1bmRlZmluZWQgPyBwYXJhbWV0ZXJzLmJhc2UgOiAxO1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gW1xuICAgICAgICAgICAgZ2V0SW50ZXJwb2xhdGVPcGVyYXRvcihwYXJhbWV0ZXJzKSxcbiAgICAgICAgICAgIGJhc2UgPT09IDEgPyBbXCJsaW5lYXJcIl0gOiBbXCJleHBvbmVudGlhbFwiLCBiYXNlXSxcbiAgICAgICAgICAgIFtcIm51bWJlclwiLCBnZXRdXG4gICAgICAgIF07XG5cbiAgICAgICAgZm9yIChjb25zdCBzdG9wIG9mIHN0b3BzKSB7XG4gICAgICAgICAgICBhcHBlbmRTdG9wUGFpcihleHByZXNzaW9uLCBzdG9wWzBdLCBzdG9wWzFdLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtZXRlcnMuZGVmYXVsdCA9PT0gdW5kZWZpbmVkID8gZXhwcmVzc2lvbiA6IFtcbiAgICAgICAgICAgICdjYXNlJyxcbiAgICAgICAgICAgIFsnPT0nLCBbJ3R5cGVvZicsIGdldF0sICdudW1iZXInXSxcbiAgICAgICAgICAgIGV4cHJlc3Npb24sXG4gICAgICAgICAgICBjb252ZXJ0TGl0ZXJhbChwYXJhbWV0ZXJzLmRlZmF1bHQpXG4gICAgICAgIF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHByb3BlcnR5IGZ1bmN0aW9uIHR5cGUgJHt0eXBlfWApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29udmVydFpvb21GdW5jdGlvbihwYXJhbWV0ZXJzLCBwcm9wZXJ0eVNwZWMsIHN0b3BzLCBpbnB1dCA9IFsnem9vbSddKSB7XG4gICAgY29uc3QgdHlwZSA9IGdldEZ1bmN0aW9uVHlwZShwYXJhbWV0ZXJzLCBwcm9wZXJ0eVNwZWMpO1xuICAgIGxldCBleHByZXNzaW9uO1xuICAgIGxldCBpc1N0ZXAgPSBmYWxzZTtcbiAgICBpZiAodHlwZSA9PT0gJ2ludGVydmFsJykge1xuICAgICAgICBleHByZXNzaW9uID0gWydzdGVwJywgaW5wdXRdO1xuICAgICAgICBpc1N0ZXAgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2V4cG9uZW50aWFsJykge1xuICAgICAgICBjb25zdCBiYXNlID0gcGFyYW1ldGVycy5iYXNlICE9PSB1bmRlZmluZWQgPyBwYXJhbWV0ZXJzLmJhc2UgOiAxO1xuICAgICAgICBleHByZXNzaW9uID0gW2dldEludGVycG9sYXRlT3BlcmF0b3IocGFyYW1ldGVycyksIGJhc2UgPT09IDEgPyBbXCJsaW5lYXJcIl0gOiBbXCJleHBvbmVudGlhbFwiLCBiYXNlXSwgaW5wdXRdO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHpvb20gZnVuY3Rpb24gdHlwZSBcIiR7dHlwZX1cImApO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qgc3RvcCBvZiBzdG9wcykge1xuICAgICAgICBhcHBlbmRTdG9wUGFpcihleHByZXNzaW9uLCBzdG9wWzBdLCBzdG9wWzFdLCBpc1N0ZXApO1xuICAgIH1cblxuICAgIGZpeHVwRGVnZW5lcmF0ZVN0ZXBDdXJ2ZShleHByZXNzaW9uKTtcblxuICAgIHJldHVybiBleHByZXNzaW9uO1xufVxuXG5mdW5jdGlvbiBmaXh1cERlZ2VuZXJhdGVTdGVwQ3VydmUoZXhwcmVzc2lvbikge1xuICAgIC8vIGRlZ2VuZXJhdGUgc3RlcCBjdXJ2ZSAoaS5lLiBhIGNvbnN0YW50IGZ1bmN0aW9uKTogYWRkIGEgbm9vcCBzdG9wXG4gICAgaWYgKGV4cHJlc3Npb25bMF0gPT09ICdzdGVwJyAmJiBleHByZXNzaW9uLmxlbmd0aCA9PT0gMykge1xuICAgICAgICBleHByZXNzaW9uLnB1c2goMCk7XG4gICAgICAgIGV4cHJlc3Npb24ucHVzaChleHByZXNzaW9uWzNdKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFN0b3BQYWlyKGN1cnZlLCBpbnB1dCwgb3V0cHV0LCBpc1N0ZXApIHtcbiAgICAvLyBTa2lwIGR1cGxpY2F0ZSBzdG9wIHZhbHVlcy4gVGhleSB3ZXJlIG5vdCB2YWxpZGF0ZWQgZm9yIGZ1bmN0aW9ucywgYnV0IHRoZXkgYXJlIGZvciBleHByZXNzaW9ucy5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvNDEwN1xuICAgIGlmIChjdXJ2ZS5sZW5ndGggPiAzICYmIGlucHV0ID09PSBjdXJ2ZVtjdXJ2ZS5sZW5ndGggLSAyXSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHN0ZXAgY3VydmVzIGRvbid0IGdldCB0aGUgZmlyc3QgaW5wdXQgdmFsdWUsIGFzIGl0IGlzIHJlZHVuZGFudC5cbiAgICBpZiAoIShpc1N0ZXAgJiYgY3VydmUubGVuZ3RoID09PSAyKSkge1xuICAgICAgICBjdXJ2ZS5wdXNoKGlucHV0KTtcbiAgICB9XG4gICAgY3VydmUucHVzaChvdXRwdXQpO1xufVxuXG5mdW5jdGlvbiBnZXRGdW5jdGlvblR5cGUocGFyYW1ldGVycywgcHJvcGVydHlTcGVjKSB7XG4gICAgaWYgKHBhcmFtZXRlcnMudHlwZSkge1xuICAgICAgICByZXR1cm4gcGFyYW1ldGVycy50eXBlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2VydChwcm9wZXJ0eVNwZWMuZXhwcmVzc2lvbik7XG4gICAgICAgIHJldHVybiAocHJvcGVydHlTcGVjLmV4cHJlc3Npb246IGFueSkuaW50ZXJwb2xhdGVkID8gJ2V4cG9uZW50aWFsJyA6ICdpbnRlcnZhbCc7XG4gICAgfVxufVxuXG4vLyBcIlN0cmluZyB3aXRoIHtuYW1lfSB0b2tlblwiID0+IFtcImNvbmNhdFwiLCBcIlN0cmluZyB3aXRoIFwiLCBbXCJnZXRcIiwgXCJuYW1lXCJdLCBcIiB0b2tlblwiXVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb2tlblN0cmluZyhzOiBzdHJpbmcpOiBzdHJpbmcgfCBFeHByZXNzaW9uU3BlY2lmaWNhdGlvbiB7XG4gICAgY29uc3QgcmVzdWx0ID0gWydjb25jYXQnXTtcbiAgICBjb25zdCByZSA9IC97KFtee31dKyl9L2c7XG4gICAgbGV0IHBvcyA9IDA7XG4gICAgZm9yIChsZXQgbWF0Y2ggPSByZS5leGVjKHMpOyBtYXRjaCAhPT0gbnVsbDsgbWF0Y2ggPSByZS5leGVjKHMpKSB7XG4gICAgICAgIGNvbnN0IGxpdGVyYWwgPSBzLnNsaWNlKHBvcywgcmUubGFzdEluZGV4IC0gbWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgcG9zID0gcmUubGFzdEluZGV4O1xuICAgICAgICBpZiAobGl0ZXJhbC5sZW5ndGggPiAwKSByZXN1bHQucHVzaChsaXRlcmFsKTtcbiAgICAgICAgcmVzdWx0LnB1c2goWydnZXQnLCBtYXRjaFsxXV0pO1xuICAgIH1cblxuICAgIGlmIChyZXN1bHQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cblxuICAgIGlmIChwb3MgPCBzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQucHVzaChzLnNsaWNlKHBvcykpO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICByZXR1cm4gWyd0by1zdHJpbmcnLCByZXN1bHRbMV1dO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBCZW5jaG1hcmsgZnJvbSAnLi4vbGliL2JlbmNobWFyay5qcyc7XG5cbmltcG9ydCBzcGVjIGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL3JlZmVyZW5jZS9sYXRlc3QuanMnO1xuaW1wb3J0IGNvbnZlcnRGdW5jdGlvbiBmcm9tICcuLi8uLi9zcmMvc3R5bGUtc3BlYy9mdW5jdGlvbi9jb252ZXJ0LmpzJztcbmltcG9ydCB7aXNGdW5jdGlvbiwgY3JlYXRlRnVuY3Rpb259IGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL2Z1bmN0aW9uL2luZGV4LmpzJztcbmltcG9ydCB7Y3JlYXRlUHJvcGVydHlFeHByZXNzaW9ufSBmcm9tICcuLi8uLi9zcmMvc3R5bGUtc3BlYy9leHByZXNzaW9uL2luZGV4LmpzJztcbmltcG9ydCBmZXRjaFN0eWxlIGZyb20gJy4uL2xpYi9mZXRjaF9zdHlsZS5qcyc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZVNwZWNpZmljYXRpb259IGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL3R5cGVzLmpzJztcbmltcG9ydCB0eXBlIHtTdHlsZVByb3BlcnR5U3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vLi4vc3JjL3N0eWxlLXNwZWMvc3R5bGUtc3BlYy5qcyc7XG5pbXBvcnQgdHlwZSB7U3R5bGVQcm9wZXJ0eUV4cHJlc3Npb259IGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL2V4cHJlc3Npb24vaW5kZXguanMnO1xuXG5jbGFzcyBFeHByZXNzaW9uQmVuY2htYXJrIGV4dGVuZHMgQmVuY2htYXJrIHtcbiAgICBkYXRhOiBBcnJheTx7XG4gICAgICAgIHByb3BlcnR5U3BlYzogU3R5bGVQcm9wZXJ0eVNwZWNpZmljYXRpb24sXG4gICAgICAgIHJhd1ZhbHVlOiBtaXhlZCxcbiAgICAgICAgcmF3RXhwcmVzc2lvbjogbWl4ZWQsXG4gICAgICAgIGNvbXBpbGVkRnVuY3Rpb246IFN0eWxlUHJvcGVydHlFeHByZXNzaW9uLFxuICAgICAgICBjb21waWxlZEV4cHJlc3Npb246IFN0eWxlUHJvcGVydHlFeHByZXNzaW9uXG4gICAgfT47XG4gICAgc3R5bGU6IHN0cmluZyB8IFN0eWxlU3BlY2lmaWNhdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKHN0eWxlOiBzdHJpbmcgfCBTdHlsZVNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgIH1cblxuICAgIHNldHVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gZmV0Y2hTdHlsZSh0aGlzLnN0eWxlKVxuICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxheWVyIG9mIGpzb24ubGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNvbWUgb2xkZXIgbGF5ZXJzIHN0aWxsIHVzZSB0aGUgZGVwcmVjYXRlZCBgcmVmIHByb3BlcnR5YCBpbnN0ZWFkIG9mIGB0eXBlYFxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBkb24ndCBmaWx0ZXIgb3V0IHRoZXNlIG9sZGVyIGxheWVycywgdGhlIGxvZ2ljIGJlbG93IHdpbGwgY2F1c2UgYSBmYXRhbCBlcnJvclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWxheWVyLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwcmVzc2lvbkRhdGEgPSBmdW5jdGlvbihyYXdWYWx1ZSwgcHJvcGVydHlTcGVjOiBTdHlsZVByb3BlcnR5U3BlY2lmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF3RXhwcmVzc2lvbiA9IGNvbnZlcnRGdW5jdGlvbihyYXdWYWx1ZSwgcHJvcGVydHlTcGVjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVkRnVuY3Rpb24gPSBjcmVhdGVGdW5jdGlvbihyYXdWYWx1ZSwgcHJvcGVydHlTcGVjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVkRXhwcmVzc2lvbiA9IGNyZWF0ZVByb3BlcnR5RXhwcmVzc2lvbihyYXdFeHByZXNzaW9uLCBwcm9wZXJ0eVNwZWMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBpbGVkRXhwcmVzc2lvbi5yZXN1bHQgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoY29tcGlsZWRFeHByZXNzaW9uLnZhbHVlLm1hcChlcnIgPT4gYCR7ZXJyLmtleX06ICR7ZXJyLm1lc3NhZ2V9YCkuam9pbignLCAnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5U3BlYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdFeHByZXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBpbGVkRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsZWRFeHByZXNzaW9uOiBjb21waWxlZEV4cHJlc3Npb24udmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbGF5ZXIucGFpbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGxheWVyLnBhaW50W2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnB1c2goZXhwcmVzc2lvbkRhdGEobGF5ZXIucGFpbnRba2V5XSwgc3BlY1tgcGFpbnRfJHtsYXllci50eXBlfWBdW2tleV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGxheWVyLmxheW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24obGF5ZXIubGF5b3V0W2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnB1c2goZXhwcmVzc2lvbkRhdGEobGF5ZXIubGF5b3V0W2tleV0sIHNwZWNbYGxheW91dF8ke2xheWVyLnR5cGV9YF1ba2V5XSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRnVuY3Rpb25DcmVhdGUgZXh0ZW5kcyBFeHByZXNzaW9uQmVuY2htYXJrIHtcbiAgICBiZW5jaCgpIHtcbiAgICAgICAgZm9yIChjb25zdCB7cmF3VmFsdWUsIHByb3BlcnR5U3BlY30gb2YgdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICBjcmVhdGVGdW5jdGlvbihyYXdWYWx1ZSwgcHJvcGVydHlTcGVjKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uRXZhbHVhdGUgZXh0ZW5kcyBFeHByZXNzaW9uQmVuY2htYXJrIHtcbiAgICBiZW5jaCgpIHtcbiAgICAgICAgZm9yIChjb25zdCB7Y29tcGlsZWRGdW5jdGlvbn0gb2YgdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICBjb21waWxlZEZ1bmN0aW9uLmV2YWx1YXRlKHt6b29tOiAwfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uQ3JlYXRlIGV4dGVuZHMgRXhwcmVzc2lvbkJlbmNobWFyayB7XG4gICAgYmVuY2goKSB7XG4gICAgICAgIGZvciAoY29uc3Qge3Jhd0V4cHJlc3Npb24sIHByb3BlcnR5U3BlY30gb2YgdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICBjcmVhdGVQcm9wZXJ0eUV4cHJlc3Npb24ocmF3RXhwcmVzc2lvbiwgcHJvcGVydHlTcGVjKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEV4cHJlc3Npb25FdmFsdWF0ZSBleHRlbmRzIEV4cHJlc3Npb25CZW5jaG1hcmsge1xuICAgIGJlbmNoKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHtjb21waWxlZEV4cHJlc3Npb259IG9mIHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgY29tcGlsZWRFeHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOiAwfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgbWFwYm94Z2wgZnJvbSAnLi4vLi4vc3JjL2luZGV4LmpzJztcbmltcG9ydCBhY2Nlc3NUb2tlbiBmcm9tICcuLi9saWIvYWNjZXNzX3Rva2VuLmpzJztcbmltcG9ydCBsb2NhdGlvbnNXaXRoVGlsZUlEIGZyb20gJy4uL2xpYi9sb2NhdGlvbnNfd2l0aF90aWxlX2lkLmpzJztcbmltcG9ydCBzdHlsZUJlbmNobWFya0xvY2F0aW9ucyBmcm9tICcuLi9kYXRhL3N0eWxlLWJlbmNobWFyay1sb2NhdGlvbnMuanNvbic7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2JlbmNobWFya3MvbGF5b3V0LmpzJztcbmltcG9ydCBQbGFjZW1lbnQgZnJvbSAnLi4vYmVuY2htYXJrcy9wbGFjZW1lbnQuanMnO1xuaW1wb3J0IExheW91dEREUyBmcm9tICcuLi9iZW5jaG1hcmtzL2xheW91dF9kZHMuanMnO1xuaW1wb3J0IFN5bWJvbExheW91dCBmcm9tICcuLi9iZW5jaG1hcmtzL3N5bWJvbF9sYXlvdXQuanMnO1xuaW1wb3J0IFdvcmtlclRyYW5zZmVyIGZyb20gJy4uL2JlbmNobWFya3Mvd29ya2VyX3RyYW5zZmVyLmpzJztcbmltcG9ydCBQYWludCBmcm9tICcuLi9iZW5jaG1hcmtzL3BhaW50LmpzJztcbmltcG9ydCBQYWludFN0YXRlcyBmcm9tICcuLi9iZW5jaG1hcmtzL3BhaW50X3N0YXRlcy5qcyc7XG5pbXBvcnQge1Byb3BlcnR5TGV2ZWxSZW1vdmUsIEZlYXR1cmVMZXZlbFJlbW92ZSwgU291cmNlTGV2ZWxSZW1vdmV9IGZyb20gJy4uL2JlbmNobWFya3MvcmVtb3ZlX3BhaW50X3N0YXRlLmpzJztcbmltcG9ydCB7TGF5ZXJCYWNrZ3JvdW5kLCBMYXllckNpcmNsZSwgTGF5ZXJGaWxsLCBMYXllckZpbGxFeHRydXNpb24sIExheWVySGVhdG1hcCwgTGF5ZXJIaWxsc2hhZGUsIExheWVyTGluZSwgTGF5ZXJSYXN0ZXIsIExheWVyU3ltYm9sLCBMYXllclN5bWJvbFdpdGhJY29ucywgTGF5ZXJUZXh0V2l0aFZhcmlhYmxlQW5jaG9yLCBMYXllclN5bWJvbFdpdGhTb3J0S2V5fSBmcm9tICcuLi9iZW5jaG1hcmtzL2xheWVycy5qcyc7XG5pbXBvcnQgTG9hZCBmcm9tICcuLi9iZW5jaG1hcmtzL21hcF9sb2FkLmpzJztcbmltcG9ydCBIaWxsc2hhZGVMb2FkIGZyb20gJy4uL2JlbmNobWFya3MvaGlsbHNoYWRlX2xvYWQuanMnO1xuaW1wb3J0IFZhbGlkYXRlIGZyb20gJy4uL2JlbmNobWFya3Mvc3R5bGVfdmFsaWRhdGUuanMnO1xuaW1wb3J0IFN0eWxlTGF5ZXJDcmVhdGUgZnJvbSAnLi4vYmVuY2htYXJrcy9zdHlsZV9sYXllcl9jcmVhdGUuanMnO1xuaW1wb3J0IFF1ZXJ5UG9pbnQgZnJvbSAnLi4vYmVuY2htYXJrcy9xdWVyeV9wb2ludC5qcyc7XG5pbXBvcnQgUXVlcnlCb3ggZnJvbSAnLi4vYmVuY2htYXJrcy9xdWVyeV9ib3guanMnO1xuaW1wb3J0IHtGdW5jdGlvbkNyZWF0ZSwgRnVuY3Rpb25FdmFsdWF0ZSwgRXhwcmVzc2lvbkNyZWF0ZSwgRXhwcmVzc2lvbkV2YWx1YXRlfSBmcm9tICcuLi9iZW5jaG1hcmtzL2V4cHJlc3Npb25zLmpzJztcbmltcG9ydCBGaWx0ZXJDcmVhdGUgZnJvbSAnLi4vYmVuY2htYXJrcy9maWx0ZXJfY3JlYXRlLmpzJztcbmltcG9ydCBGaWx0ZXJFdmFsdWF0ZSBmcm9tICcuLi9iZW5jaG1hcmtzL2ZpbHRlcl9ldmFsdWF0ZS5qcyc7XG5cbmltcG9ydCBnZXRXb3JrZXJQb29sIGZyb20gJy4uLy4uL3NyYy91dGlsL2dsb2JhbF93b3JrZXJfcG9vbC5qcyc7XG5cbmNvbnN0IHN0eWxlTG9jYXRpb25zID0gbG9jYXRpb25zV2l0aFRpbGVJRChzdHlsZUJlbmNobWFya0xvY2F0aW9ucy5mZWF0dXJlcyk7XG5cbm1hcGJveGdsLmFjY2Vzc1Rva2VuID0gYWNjZXNzVG9rZW47XG5cbndpbmRvdy5tYXBib3hnbEJlbmNobWFya3MgPSB3aW5kb3cubWFwYm94Z2xCZW5jaG1hcmtzIHx8IHt9O1xuXG5jb25zdCB2ZXJzaW9uID0gcHJvY2Vzcy5lbnYuQkVOQ0hNQVJLX1ZFUlNJT047XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKG5hbWUsIGJlbmNoKSB7XG4gICAgd2luZG93Lm1hcGJveGdsQmVuY2htYXJrc1tuYW1lXSA9IHdpbmRvdy5tYXBib3hnbEJlbmNobWFya3NbbmFtZV0gfHwge307XG4gICAgd2luZG93Lm1hcGJveGdsQmVuY2htYXJrc1tuYW1lXVt2ZXJzaW9uXSA9IGJlbmNoO1xufVxuXG5jb25zdCBzdHlsZSA9ICdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjEwJztcbmNvbnN0IGNlbnRlciA9IFstNzcuMDMyMTk0LCAzOC45MTI3NTNdO1xuY29uc3Qgem9vbXMgPSBbNCwgOCwgMTEsIDEzLCAxNSwgMTddO1xuY29uc3QgbG9jYXRpb25zID0gem9vbXMubWFwKHpvb20gPT4gKHtjZW50ZXIsIHpvb219KSk7XG5cbnJlZ2lzdGVyKCdQYWludCcsIG5ldyBQYWludChzdHlsZSwgbG9jYXRpb25zKSk7XG5yZWdpc3RlcignUXVlcnlQb2ludCcsIG5ldyBRdWVyeVBvaW50KHN0eWxlLCBsb2NhdGlvbnMpKTtcbnJlZ2lzdGVyKCdRdWVyeUJveCcsIG5ldyBRdWVyeUJveChzdHlsZSwgbG9jYXRpb25zKSk7XG5yZWdpc3RlcignTGF5b3V0JywgbmV3IExheW91dChzdHlsZSkpO1xucmVnaXN0ZXIoJ1BsYWNlbWVudCcsIG5ldyBQbGFjZW1lbnQoc3R5bGUsIGxvY2F0aW9ucykpO1xucmVnaXN0ZXIoJ1ZhbGlkYXRlJywgbmV3IFZhbGlkYXRlKHN0eWxlKSk7XG5yZWdpc3RlcignU3R5bGVMYXllckNyZWF0ZScsIG5ldyBTdHlsZUxheWVyQ3JlYXRlKHN0eWxlKSk7XG5yZWdpc3RlcignRnVuY3Rpb25DcmVhdGUnLCBuZXcgRnVuY3Rpb25DcmVhdGUoc3R5bGUpKTtcbnJlZ2lzdGVyKCdGdW5jdGlvbkV2YWx1YXRlJywgbmV3IEZ1bmN0aW9uRXZhbHVhdGUoc3R5bGUpKTtcbnJlZ2lzdGVyKCdFeHByZXNzaW9uQ3JlYXRlJywgbmV3IEV4cHJlc3Npb25DcmVhdGUoc3R5bGUpKTtcbnJlZ2lzdGVyKCdFeHByZXNzaW9uRXZhbHVhdGUnLCBuZXcgRXhwcmVzc2lvbkV2YWx1YXRlKHN0eWxlKSk7XG5yZWdpc3RlcignV29ya2VyVHJhbnNmZXInLCBuZXcgV29ya2VyVHJhbnNmZXIoc3R5bGUpKTtcbnJlZ2lzdGVyKCdQYWludFN0YXRlcycsIG5ldyBQYWludFN0YXRlcyhjZW50ZXIpKTtcbnJlZ2lzdGVyKCdQcm9wZXJ0eUxldmVsUmVtb3ZlJywgbmV3IFByb3BlcnR5TGV2ZWxSZW1vdmUoY2VudGVyKSk7XG5yZWdpc3RlcignRmVhdHVyZUxldmVsUmVtb3ZlJywgbmV3IEZlYXR1cmVMZXZlbFJlbW92ZShjZW50ZXIpKTtcbnJlZ2lzdGVyKCdTb3VyY2VMZXZlbFJlbW92ZScsIG5ldyBTb3VyY2VMZXZlbFJlbW92ZShjZW50ZXIpKTtcbnJlZ2lzdGVyKCdMYXllckJhY2tncm91bmQnLCBuZXcgTGF5ZXJCYWNrZ3JvdW5kKCkpO1xucmVnaXN0ZXIoJ0xheWVyQ2lyY2xlJywgbmV3IExheWVyQ2lyY2xlKCkpO1xucmVnaXN0ZXIoJ0xheWVyRmlsbCcsIG5ldyBMYXllckZpbGwoKSk7XG5yZWdpc3RlcignTGF5ZXJGaWxsRXh0cnVzaW9uJywgbmV3IExheWVyRmlsbEV4dHJ1c2lvbigpKTtcbnJlZ2lzdGVyKCdMYXllckhlYXRtYXAnLCBuZXcgTGF5ZXJIZWF0bWFwKCkpO1xucmVnaXN0ZXIoJ0xheWVySGlsbHNoYWRlJywgbmV3IExheWVySGlsbHNoYWRlKCkpO1xucmVnaXN0ZXIoJ0xheWVyTGluZScsIG5ldyBMYXllckxpbmUoKSk7XG5yZWdpc3RlcignTGF5ZXJSYXN0ZXInLCBuZXcgTGF5ZXJSYXN0ZXIoKSk7XG5yZWdpc3RlcignTGF5ZXJTeW1ib2wnLCBuZXcgTGF5ZXJTeW1ib2woKSk7XG5yZWdpc3RlcignTGF5ZXJTeW1ib2xXaXRoSWNvbnMnLCBuZXcgTGF5ZXJTeW1ib2xXaXRoSWNvbnMoKSk7XG5yZWdpc3RlcignTGF5ZXJUZXh0V2l0aFZhcmlhYmxlQW5jaG9yJywgbmV3IExheWVyVGV4dFdpdGhWYXJpYWJsZUFuY2hvcigpKTtcbnJlZ2lzdGVyKCdMYXllclN5bWJvbFdpdGhTb3J0S2V5JywgbmV3IExheWVyU3ltYm9sV2l0aFNvcnRLZXkoKSk7XG5yZWdpc3RlcignTG9hZCcsIG5ldyBMb2FkKCkpO1xucmVnaXN0ZXIoJ0xheW91dEREUycsIG5ldyBMYXlvdXRERFMoKSk7XG5yZWdpc3RlcignU3ltYm9sTGF5b3V0JywgbmV3IFN5bWJvbExheW91dChzdHlsZSwgc3R5bGVMb2NhdGlvbnMubWFwKGxvY2F0aW9uID0+IGxvY2F0aW9uLnRpbGVJRFswXSkpKTtcbnJlZ2lzdGVyKCdGaWx0ZXJDcmVhdGUnLCBuZXcgRmlsdGVyQ3JlYXRlKCkpO1xucmVnaXN0ZXIoJ0ZpbHRlckV2YWx1YXRlJywgbmV3IEZpbHRlckV2YWx1YXRlKCkpO1xucmVnaXN0ZXIoJ0hpbGxzaGFkZUxvYWQnLCBuZXcgSGlsbHNoYWRlTG9hZCgpKTtcblxuUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgLy8gRW5zdXJlIHRoZSBnbG9iYWwgd29ya2VyIHBvb2wgaXMgbmV2ZXIgZHJhaW5lZC4gQnJvd3NlcnMgaGF2ZSByZXNvdXJjZSBsaW1pdHNcbiAgICAvLyBvbiB0aGUgbWF4IG51bWJlciBvZiB3b3JrZXJzIHRoYXQgY2FuIGJlIGNyZWF0ZWQgcGVyIHBhZ2UuXG4gICAgLy8gV2UgZG8gdGhpcyBhc3luYyB0byBhdm9pZCBjcmVhdGluZyB3b3JrZXJzIGJlZm9yZSB0aGUgd29ya2VyIGJ1bmRsZSBibG9iXG4gICAgLy8gVVJMIGhhcyBiZWVuIHNldCB1cCwgd2hpY2ggaGFwcGVucyBhZnRlciB0aGlzIG1vZHVsZSBpcyBleGVjdXRlZC5cbiAgICBnZXRXb3JrZXJQb29sKCkuYWNxdWlyZSgtMSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbWFwYm94Z2w7XG4iLCJpbXBvcnQgTWVyY2F0b3JDb29yZGluYXRlIGZyb20gJy4uLy4uL3NyYy9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uLy4uL3NyYy9zb3VyY2UvdGlsZV9pZC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvY2F0aW9uc1dpdGhUaWxlSUQobG9jYXRpb25zKSB7XG4gICAgcmV0dXJuIGxvY2F0aW9ucy5tYXAoZmVhdHVyZSA9PiB7XG4gICAgICAgIGNvbnN0IHtjb29yZGluYXRlc30gPSBmZWF0dXJlLmdlb21ldHJ5O1xuICAgICAgICBjb25zdCB7em9vbX0gPSBmZWF0dXJlLnByb3BlcnRpZXM7XG4gICAgICAgIGNvbnN0IHt4LCB5fSA9IE1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHtcbiAgICAgICAgICAgIGxuZzogY29vcmRpbmF0ZXNbMF0sXG4gICAgICAgICAgICBsYXQ6IGNvb3JkaW5hdGVzWzFdXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5wb3coMiwgem9vbSk7XG4gICAgICAgIGNvbnN0IHRpbGVYID0gTWF0aC5mbG9vcih4ICogc2NhbGUpO1xuICAgICAgICBjb25zdCB0aWxlWSA9IE1hdGguZmxvb3IoeSAqIHNjYWxlKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IGZlYXR1cmUucHJvcGVydGllc1sncGxhY2VfbmFtZSddLFxuICAgICAgICAgICAgdGlsZUlEOiBbbmV3IE92ZXJzY2FsZWRUaWxlSUQoem9vbSwgMCwgem9vbSwgdGlsZVgsIHRpbGVZKV0sXG4gICAgICAgICAgICB6b29tLFxuICAgICAgICAgICAgY2VudGVyOiBjb29yZGluYXRlc1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IEJlbmNobWFyayBmcm9tICcuLi9saWIvYmVuY2htYXJrLmpzJztcbmltcG9ydCBjcmVhdGVNYXAgZnJvbSAnLi4vbGliL2NyZWF0ZV9tYXAuanMnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uLy4uL3NyYy91aS9tYXAuanMnO1xuXG5jb25zdCB3aWR0aCA9IDEwMjQ7XG5jb25zdCBoZWlnaHQgPSA3Njg7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhaW50IGV4dGVuZHMgQmVuY2htYXJrIHtcbiAgICBzdHlsZTogc3RyaW5nO1xuICAgIGxvY2F0aW9uczogQXJyYXk8T2JqZWN0PjtcbiAgICBtYXBzOiBBcnJheTxNYXA+O1xuXG4gICAgY29uc3RydWN0b3Ioc3R5bGU6IHN0cmluZywgbG9jYXRpb25zOiBBcnJheTxPYmplY3Q+KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbnMgPSBsb2NhdGlvbnM7XG4gICAgfVxuXG4gICAgc2V0dXAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh0aGlzLmxvY2F0aW9ucy5tYXAobG9jYXRpb24gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU1hcCh7XG4gICAgICAgICAgICAgICAgem9vbTogbG9jYXRpb24uem9vbSxcbiAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgICAgY2VudGVyOiBsb2NhdGlvbi5jZW50ZXIsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHRoaXMuc3R5bGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSlcbiAgICAgICAgICAgIC50aGVuKG1hcHMgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwcyA9IG1hcHM7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGJlbmNoKCkge1xuICAgICAgICBmb3IgKGNvbnN0IG1hcCBvZiB0aGlzLm1hcHMpIHtcbiAgICAgICAgICAgIG1hcC5fc3R5bGVEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICBtYXAuX3NvdXJjZXNEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICBtYXAuX3JlbmRlcihEYXRlLm5vdygpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRlYXJkb3duKCkge1xuICAgICAgICBmb3IgKGNvbnN0IG1hcCBvZiB0aGlzLm1hcHMpIHtcbiAgICAgICAgICAgIG1hcC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBCZW5jaG1hcmsgZnJvbSAnLi4vbGliL2JlbmNobWFyay5qcyc7XG5pbXBvcnQgY3JlYXRlTWFwIGZyb20gJy4uL2xpYi9jcmVhdGVfbWFwLmpzJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi8uLi9zcmMvdWkvbWFwLmpzJztcblxuY29uc3Qgd2lkdGggPSAxMDI0O1xuY29uc3QgaGVpZ2h0ID0gNzY4O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWVyeUJveCBleHRlbmRzIEJlbmNobWFyayB7XG4gICAgc3R5bGU6IHN0cmluZztcbiAgICBsb2NhdGlvbnM6IEFycmF5PE9iamVjdD47XG4gICAgbWFwczogQXJyYXk8TWFwPjtcblxuICAgIGNvbnN0cnVjdG9yKHN0eWxlOiBzdHJpbmcsIGxvY2F0aW9uczogQXJyYXk8T2JqZWN0Pikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMubG9jYXRpb25zID0gbG9jYXRpb25zO1xuICAgIH1cblxuICAgIHNldHVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5sb2NhdGlvbnMubWFwKGxvY2F0aW9uID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVNYXAoe1xuICAgICAgICAgICAgICAgIHpvb206IGxvY2F0aW9uLnpvb20sXG4gICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGNlbnRlcjogbG9jYXRpb24uY2VudGVyLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB0aGlzLnN0eWxlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpXG4gICAgICAgICAgICAudGhlbihtYXBzID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcHMgPSBtYXBzO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBiZW5jaCgpIHtcbiAgICAgICAgY29uc3QgcCA9IFswLCAwXTtcbiAgICAgICAgZm9yIChjb25zdCBtYXAgb2YgdGhpcy5tYXBzKSB7XG4gICAgICAgICAgICBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGVhcmRvd24oKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWFwIG9mIHRoaXMubWFwcykge1xuICAgICAgICAgICAgbWFwLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IEJlbmNobWFyayBmcm9tICcuLi9saWIvYmVuY2htYXJrLmpzJztcbmltcG9ydCBjcmVhdGVNYXAgZnJvbSAnLi4vbGliL2NyZWF0ZV9tYXAuanMnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uLy4uL3NyYy91aS9tYXAuanMnO1xuXG5jb25zdCB3aWR0aCA9IDEwMjQ7XG5jb25zdCBoZWlnaHQgPSA3Njg7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhaW50IGV4dGVuZHMgQmVuY2htYXJrIHtcbiAgICBzdHlsZTogc3RyaW5nO1xuICAgIGxvY2F0aW9uczogQXJyYXk8T2JqZWN0PjtcbiAgICBtYXBzOiBBcnJheTxNYXA+O1xuXG4gICAgY29uc3RydWN0b3Ioc3R5bGU6IHN0cmluZywgbG9jYXRpb25zOiBBcnJheTxPYmplY3Q+KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbnMgPSBsb2NhdGlvbnM7XG4gICAgfVxuXG4gICAgc2V0dXAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh0aGlzLmxvY2F0aW9ucy5tYXAobG9jYXRpb24gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU1hcCh7XG4gICAgICAgICAgICAgICAgem9vbTogbG9jYXRpb24uem9vbSxcbiAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgICAgY2VudGVyOiBsb2NhdGlvbi5jZW50ZXIsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHRoaXMuc3R5bGUsXG4gICAgICAgICAgICAgICAgaWRsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKVxuICAgICAgICAgICAgLnRoZW4obWFwcyA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXBzID0gbWFwcztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmVuY2goKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWFwIG9mIHRoaXMubWFwcykge1xuICAgICAgICAgICAgY29uc3Qgc2hvd0NvbGxpc2lvbkJveGVzID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBmYWRlRHVyYXRpb24gPSAzMDA7XG4gICAgICAgICAgICBjb25zdCBjcm9zc1NvdXJjZUNvbGxpc2lvbnMgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgZm9yY2VGdWxsUGxhY2VtZW50ID0gdHJ1ZTtcblxuICAgICAgICAgICAgbWFwLnN0eWxlLl91cGRhdGVQbGFjZW1lbnQoXG4gICAgICAgICAgICAgICAgbWFwLnRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICBzaG93Q29sbGlzaW9uQm94ZXMsXG4gICAgICAgICAgICAgICAgZmFkZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGNyb3NzU291cmNlQ29sbGlzaW9ucyxcbiAgICAgICAgICAgICAgICBmb3JjZUZ1bGxQbGFjZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGVhcmRvd24oKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWFwIG9mIHRoaXMubWFwcykge1xuICAgICAgICAgICAgbWFwLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUge1N0eWxlU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vLi4vc3JjL3N0eWxlLXNwZWMvdHlwZXMuanMnO1xuaW1wb3J0IEJlbmNobWFyayBmcm9tICcuLi9saWIvYmVuY2htYXJrLmpzJztcbmltcG9ydCB7dmFsaWRhdGVTdHlsZX0gZnJvbSAnLi4vLi4vc3JjL3N0eWxlLXNwZWMvdmFsaWRhdGVfc3R5bGUubWluLmpzJztcbmltcG9ydCBmZXRjaFN0eWxlIGZyb20gJy4uL2xpYi9mZXRjaF9zdHlsZS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0eWxlVmFsaWRhdGUgZXh0ZW5kcyBCZW5jaG1hcmsge1xuICAgIHN0eWxlOiBzdHJpbmcgfCBTdHlsZVNwZWNpZmljYXRpb247XG4gICAganNvbjogU3R5bGVTcGVjaWZpY2F0aW9uO1xuXG4gICAgY29uc3RydWN0b3Ioc3R5bGU6IHN0cmluZykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgfVxuXG4gICAgc2V0dXAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBmZXRjaFN0eWxlKHRoaXMuc3R5bGUpXG4gICAgICAgICAgICAudGhlbihqc29uID0+IHsgdGhpcy5qc29uID0ganNvbjsgfSk7XG4gICAgfVxuXG4gICAgYmVuY2goKSB7XG4gICAgICAgIHZhbGlkYXRlU3R5bGUodGhpcy5qc29uKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSB7U3R5bGVTcGVjaWZpY2F0aW9ufSBmcm9tICcuLi8uLi9zcmMvc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5pbXBvcnQgQmVuY2htYXJrIGZyb20gJy4uL2xpYi9iZW5jaG1hcmsuanMnO1xuaW1wb3J0IGNyZWF0ZVN0eWxlTGF5ZXIgZnJvbSAnLi4vLi4vc3JjL3N0eWxlL2NyZWF0ZV9zdHlsZV9sYXllci5qcyc7XG5pbXBvcnQgZGVyZWYgZnJvbSAnLi4vLi4vc3JjL3N0eWxlLXNwZWMvZGVyZWYuanMnO1xuaW1wb3J0IGZldGNoU3R5bGUgZnJvbSAnLi4vbGliL2ZldGNoX3N0eWxlLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3R5bGVMYXllckNyZWF0ZSBleHRlbmRzIEJlbmNobWFyayB7XG4gICAgc3R5bGU6IHN0cmluZyB8IFN0eWxlU3BlY2lmaWNhdGlvbjtcbiAgICBsYXllcnM6IEFycmF5PE9iamVjdD47XG5cbiAgICBjb25zdHJ1Y3RvcihzdHlsZTogc3RyaW5nIHwgU3R5bGVTcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICB9XG5cbiAgICBzZXR1cCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIGZldGNoU3R5bGUodGhpcy5zdHlsZSlcbiAgICAgICAgICAgIC50aGVuKGpzb24gPT4geyB0aGlzLmxheWVycyA9IGRlcmVmKGpzb24ubGF5ZXJzKTsgfSk7XG4gICAgfVxuXG4gICAgYmVuY2goKSB7XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXIgb2YgdGhpcy5sYXllcnMpIHtcbiAgICAgICAgICAgIGNyZWF0ZVN0eWxlTGF5ZXIobGF5ZXIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgQmVuY2htYXJrIGZyb20gJy4uL2xpYi9iZW5jaG1hcmsuanMnO1xuaW1wb3J0IGNyZWF0ZU1hcCBmcm9tICcuLi9saWIvY3JlYXRlX21hcC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcExvYWQgZXh0ZW5kcyBCZW5jaG1hcmsge1xuICAgIGJlbmNoKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTWFwKHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbjogOCxcbiAgICAgICAgICAgICAgICBzb3VyY2VzOiB7fSxcbiAgICAgICAgICAgICAgICBsYXllcnM6IFtdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihtYXAgPT4gbWFwLnJlbW92ZSgpKVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBCZW5jaG1hcmsgZnJvbSAnLi4vbGliL2JlbmNobWFyay5qcyc7XG5pbXBvcnQgVGlsZVBhcnNlciBmcm9tICcuLi9saWIvdGlsZV9wYXJzZXIuanMnO1xuaW1wb3J0IHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi8uLi9zcmMvc291cmNlL3RpbGVfaWQuanMnO1xuXG5jb25zdCBMQVlFUl9DT1VOVCA9IDI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExheW91dEREUyBleHRlbmRzIEJlbmNobWFyayB7XG4gICAgdGlsZXM6IEFycmF5PHt0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIGJ1ZmZlcjogQXJyYXlCdWZmZXJ9PjtcbiAgICBwYXJzZXI6IFRpbGVQYXJzZXI7XG5cbiAgICBzZXR1cCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgdGlsZUlEcyA9IFtcbiAgICAgICAgICAgIG5ldyBPdmVyc2NhbGVkVGlsZUlEKDE1LCAwLCAxNSwgOTM3MywgMTI1MzUpXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3Qgc3R5bGVKU09OID0ge1xuICAgICAgICAgICAgXCJ2ZXJzaW9uXCI6IDgsXG4gICAgICAgICAgICBcInNvdXJjZXNcIjoge1xuICAgICAgICAgICAgICAgIFwibWFwYm94XCI6IHtcInR5cGVcIjogXCJ2ZWN0b3JcIiwgXCJ1cmxcIjogXCJtYXBib3g6Ly9tYXBib3gubWFwYm94LXN0cmVldHMtdjdcIn1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxheWVyc1wiOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGxheWVycyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcImlkXCI6IFwicm9hZFwiLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImxpbmVcIixcbiAgICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcIm1hcGJveFwiLFxuICAgICAgICAgICAgICAgIFwic291cmNlLWxheWVyXCI6IFwicm9hZFwiLFxuICAgICAgICAgICAgICAgIFwicGFpbnRcIjoge1xuICAgICAgICAgICAgICAgICAgICBcImxpbmUtd2lkdGhcIjogMyxcbiAgICAgICAgICAgICAgICAgICAgXCJsaW5lLWNvbG9yXCI6e1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiY2F0ZWdvcmljYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicHJvcGVydHlcIjogXCJjbGFzc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdG9wc1wiOltcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1wiem9vbVwiOiAwLCBcInZhbHVlXCI6IFwibW90b3J3YXlcIn0sIFwiIzAwMDBGRlwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1wiem9vbVwiOiAwLCBcInZhbHVlXCI6IFwidHJ1bmtcIn0sIFwiIzAwMEZGMFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1wiem9vbVwiOiAwLCBcInZhbHVlXCI6IFwicHJpbWFyeVwifSwgXCIjMDBGRjAwXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XCJ6b29tXCI6IDAsIFwidmFsdWVcIjogXCJzZWNvbmRhcnlcIn0sIFwiIzBGRjAwMFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1wiem9vbVwiOiAwLCBcInZhbHVlXCI6IFwic3RyZWV0XCJ9LCBcIiNGRjAwMDBcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcInpvb21cIjogMTcsIFwidmFsdWVcIjogXCJtb3RvcndheVwifSwgXCIjMDAwMDg4XCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XCJ6b29tXCI6IDE3LCBcInZhbHVlXCI6IFwidHJ1bmtcIn0sIFwiIzAwMDg4MFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1wiem9vbVwiOiAxNywgXCJ2YWx1ZVwiOiBcInByaW1hcnlcIn0sIFwiIzAwODgwMFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1wiem9vbVwiOiAxNywgXCJ2YWx1ZVwiOiBcInNlY29uZGFyeVwifSwgXCIjMDg4MDAwXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XCJ6b29tXCI6IDE3LCBcInZhbHVlXCI6IFwic3RyZWV0XCJ9LCBcIiM4ODAwMDBcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRlZmF1bHRcIjogXCIjNDQ0NDQ0XCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJpZFwiOiBcInBvaVwiLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImNpcmNsZVwiLFxuICAgICAgICAgICAgICAgIFwic291cmNlXCI6IFwibWFwYm94XCIsXG4gICAgICAgICAgICAgICAgXCJzb3VyY2UtbGF5ZXJcIjogXCJwb2lfbGFiZWxcIixcbiAgICAgICAgICAgICAgICBcInBhaW50XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJjaXJjbGUtcmFkaXVzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYmFzZVwiOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwcm9wZXJ0eVwiOiBcInNjYWxlcmFua1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdG9wc1wiOltcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1wiem9vbVwiOiAwLCBcInZhbHVlXCI6IDB9LCAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1wiem9vbVwiOiAwLCBcInZhbHVlXCI6IDEwfSwgNV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcInpvb21cIjogMTcsIFwidmFsdWVcIjogMH0sIDIwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1wiem9vbVwiOiAxNywgXCJ2YWx1ZVwiOiAxMH0sIDUwXVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcImNpcmNsZS1jb2xvclwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImJhc2VcIjogMS4yNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicHJvcGVydHlcIjogXCJsb2NhbHJhbmtcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3RvcHNcIjpbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcInpvb21cIjogMCwgXCJ2YWx1ZVwiOiAwfSwgXCIjMDAyMjIyXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XCJ6b29tXCI6IDAsIFwidmFsdWVcIjogMTB9LCBcIiMyMjAwMjJcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcInpvb21cIjogMTcsIFwidmFsdWVcIjogMH0sIFwiIzAwODg4OFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1wiem9vbVwiOiAxNywgXCJ2YWx1ZVwiOiAxMH0sIFwiIzg4MDA4OFwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuXG4gICAgICAgIHdoaWxlIChzdHlsZUpTT04ubGF5ZXJzLmxlbmd0aCA8IExBWUVSX0NPVU5UKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxheWVyIG9mIGxheWVycykge1xuICAgICAgICAgICAgICAgIHN0eWxlSlNPTi5sYXllcnMucHVzaChPYmplY3QuYXNzaWduKCh7fTogYW55KSwgbGF5ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGxheWVyLmlkICsgc3R5bGVKU09OLmxheWVycy5sZW5ndGhcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBhcnNlciA9IG5ldyBUaWxlUGFyc2VyKHN0eWxlSlNPTiwgJ21hcGJveCcpO1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZXIuc2V0dXAoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh0aWxlSURzLm1hcCh0aWxlSUQgPT4gdGhpcy5wYXJzZXIuZmV0Y2hUaWxlKHRpbGVJRCkpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigodGlsZXMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVzID0gdGlsZXM7XG4gICAgICAgICAgICAgICAgLy8gcGFyc2UgdGlsZXMgb25jZSB0byBwb3B1bGF0ZSBnbHlwaC9pY29uIGNhY2hlXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRpbGVzLm1hcCh0aWxlID0+IHRoaXMucGFyc2VyLnBhcnNlVGlsZSh0aWxlKSkpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHt9KTtcbiAgICB9XG5cbiAgICBiZW5jaCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgZm9yIChjb25zdCB0aWxlIG9mIHRoaXMudGlsZXMpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlci5wYXJzZVRpbGUodGlsZSkudGhlbigoKSA9PiB7fSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTGF5b3V0IGZyb20gJy4vbGF5b3V0LmpzJztcbmltcG9ydCBTeW1ib2xCdWNrZXQgZnJvbSAnLi4vLi4vc3JjL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQuanMnO1xuaW1wb3J0IHtwZXJmb3JtU3ltYm9sTGF5b3V0fSBmcm9tICcuLi8uLi9zcmMvc3ltYm9sL3N5bWJvbF9sYXlvdXQuanMnO1xuaW1wb3J0IHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi8uLi9zcmMvc291cmNlL3RpbGVfaWQuanMnO1xuaW1wb3J0IHtnZXRQcm9qZWN0aW9ufSBmcm9tICcuLi8uLi9zcmMvZ2VvL3Byb2plY3Rpb24vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTeW1ib2xMYXlvdXQgZXh0ZW5kcyBMYXlvdXQge1xuICAgIHBhcnNlZFRpbGVzOiBBcnJheTxhbnk+O1xuXG4gICAgY29uc3RydWN0b3Ioc3R5bGU6IHN0cmluZywgbG9jYXRpb25zOiA/QXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICAgICAgc3VwZXIoc3R5bGUsIGxvY2F0aW9ucyk7XG4gICAgICAgIHRoaXMucGFyc2VkVGlsZXMgPSBbXTtcbiAgICB9XG5cbiAgICBzZXR1cCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNldHVwKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBEbyBpbml0aWFsIGxvYWQvcGFyc2Ugb2YgdGlsZXMgYW5kIGhvbGQgb250byBhbGwgdGhlIGdseXBoL2ljb25cbiAgICAgICAgICAgIC8vIGRlcGVuZGVuY2llcyBzbyB0aGF0IHdlIGNhbiByZS1kbyBzeW1ib2wgbGF5b3V0IGluIGlzb2xhdGlvblxuICAgICAgICAgICAgLy8gZHVyaW5nIHRoZSBiZW5jaCBzdGVwLlxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMudGlsZXMubWFwKHRpbGUgPT5cbiAgICAgICAgICAgICAgICB0aGlzLnBhcnNlci5wYXJzZVRpbGUodGlsZSwgdHJ1ZSkudGhlbigodGlsZVJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlZFRpbGVzLnB1c2godGlsZVJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICkpLnRoZW4oKCkgPT4ge30pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBiZW5jaCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgZm9yIChjb25zdCB0aWxlUmVzdWx0IG9mIHRoaXMucGFyc2VkVGlsZXMpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYnVja2V0IG9mIHRpbGVSZXN1bHQuYnVja2V0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVja2V0IGluc3RhbmNlb2YgU3ltYm9sQnVja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJmb3JtU3ltYm9sTGF5b3V0KGJ1Y2tldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVJlc3VsdC5nbHlwaE1hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVJlc3VsdC5nbHlwaFBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVJlc3VsdC5pY29uTWFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlUmVzdWx0LmltYWdlQXRsYXMuaWNvblBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VyLnN0eWxlLmxpc3RJbWFnZXMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVJlc3VsdC50aWxlSUQuY2Fub25pY2FsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlUmVzdWx0LnRpbGVab29tLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRQcm9qZWN0aW9uKHtuYW1lOiAnbWVyY2F0b3InfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IEJlbmNobWFyayBmcm9tICcuLi9saWIvYmVuY2htYXJrLmpzJztcblxuaW1wb3J0IGNyZWF0ZUZpbHRlciBmcm9tICcuLi8uLi9zcmMvc3R5bGUtc3BlYy9mZWF0dXJlX2ZpbHRlci9pbmRleC5qcyc7XG5pbXBvcnQgZmlsdGVycyBmcm9tICcuLi9kYXRhL2ZpbHRlcnMuanNvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbHRlckNyZWF0ZSBleHRlbmRzIEJlbmNobWFyayB7XG4gICAgYmVuY2goKSB7XG4gICAgICAgIGZvciAoY29uc3QgZmlsdGVyIG9mIGZpbHRlcnMpIHtcbiAgICAgICAgICAgIGNyZWF0ZUZpbHRlcihmaWx0ZXIuZmlsdGVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIlxuaW1wb3J0IEJlbmNobWFyayBmcm9tICcuLi9saWIvYmVuY2htYXJrLmpzJztcbmltcG9ydCB7VmVjdG9yVGlsZX0gZnJvbSAnQG1hcGJveC92ZWN0b3ItdGlsZSc7XG5pbXBvcnQgUGJmIGZyb20gJ3BiZic7XG5pbXBvcnQgY3JlYXRlRmlsdGVyIGZyb20gJy4uLy4uL3NyYy9zdHlsZS1zcGVjL2ZlYXR1cmVfZmlsdGVyL2luZGV4LmpzJztcbmltcG9ydCBmaWx0ZXJzIGZyb20gJy4uL2RhdGEvZmlsdGVycy5qc29uJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmlsdGVyRXZhbHVhdGUgZXh0ZW5kcyBCZW5jaG1hcmsge1xuICAgIHNldHVwKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goJy9iZW5jaC9kYXRhLzc4NS52ZWN0b3IucGJmJylcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlID0gbmV3IFZlY3RvclRpbGUobmV3IFBiZihkYXRhKSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxheWVycyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aWxlLmxheWVycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRpbGUubGF5ZXJzW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWxheWVyLmxlbmd0aCkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsYXllci5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaChsYXllci5mZWF0dXJlKGopKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyRmlsdGVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpbHRlciBvZiBmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLmxheWVyID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJGaWx0ZXJzLnB1c2goY3JlYXRlRmlsdGVyKGZpbHRlci5maWx0ZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJzLnB1c2goe2ZlYXR1cmVzLCBmaWx0ZXJzOiBsYXllckZpbHRlcnN9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBiZW5jaCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBsYXllciBvZiB0aGlzLmxheWVycykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBmaWx0ZXIgb2YgbGF5ZXIuZmlsdGVycykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmVhdHVyZSBvZiBsYXllci5mZWF0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbHRlcih7em9vbTogMH0sIGZlYXR1cmUpICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgJ0V4cGVjdGVkIGJvb2xlYW4gcmVzdWx0IGZyb20gZmlsdGVyJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgQmVuY2htYXJrIGZyb20gJy4uL2xpYi9iZW5jaG1hcmsuanMnO1xuaW1wb3J0IGNyZWF0ZU1hcCBmcm9tICcuLi9saWIvY3JlYXRlX21hcC5qcyc7XG5pbXBvcnQgdHlwZSB7U3R5bGVTcGVjaWZpY2F0aW9ufSBmcm9tICcuLi8uLi9zcmMvc3R5bGUtc3BlYy90eXBlcy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhpbGxzaGFkZUxvYWQgZXh0ZW5kcyBCZW5jaG1hcmsge1xuICAgIHN0eWxlOiBTdHlsZVNwZWNpZmljYXRpb247XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHtcbiAgICAgICAgICAgIFwidmVyc2lvblwiOiA4LFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiSGlsbHNoYWRlLW9ubHlcIixcbiAgICAgICAgICAgIFwiY2VudGVyXCI6IFstMTEyLjgxNTk2Mjc4OTAxNDUyLCAzNy4yNTExNjAzODQ1NzM1OTVdLFxuICAgICAgICAgICAgXCJ6b29tXCI6IDExLjU2MDk3NTYzMjQzNTQyNCxcbiAgICAgICAgICAgIFwiYmVhcmluZ1wiOiAwLFxuICAgICAgICAgICAgXCJwaXRjaFwiOiAwLFxuICAgICAgICAgICAgXCJzb3VyY2VzXCI6IHtcbiAgICAgICAgICAgICAgICBcIm1hcGJveDovL21hcGJveC50ZXJyYWluLXJnYlwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwibWFwYm94Oi8vbWFwYm94LnRlcnJhaW4tcmdiXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInJhc3Rlci1kZW1cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0aWxlU2l6ZVwiOiAyNTZcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsYXllcnNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBcIm1hcGJveC10ZXJyYWluLXJnYlwiLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJoaWxsc2hhZGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJtYXBib3g6Ly9tYXBib3gudGVycmFpbi1yZ2JcIixcbiAgICAgICAgICAgICAgICAgICAgXCJsYXlvdXRcIjoge30sXG4gICAgICAgICAgICAgICAgICAgIFwicGFpbnRcIjoge31cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYmVuY2goKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBjcmVhdGVNYXAoe1xuICAgICAgICAgICAgd2lkdGg6IDEwMjQsXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMjQsXG4gICAgICAgICAgICBzdHlsZTogdGhpcy5zdHlsZSxcbiAgICAgICAgICAgIHN0dWJSZW5kZXI6IGZhbHNlLFxuICAgICAgICAgICAgc2hvd01hcDogdHJ1ZSxcbiAgICAgICAgICAgIGlkbGU6IHRydWVcbiAgICAgICAgfSkudGhlbigobWFwKSA9PiB7XG4gICAgICAgICAgICBtYXAucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJkZWVwRXF1YWwiLCJhIiwiYiIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImkiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiZXhwb3J0cyIsInN1cHBvcnRlZCIsImlzU3VwcG9ydGVkIiwib3B0aW9ucyIsIndpbmRvdyIsImRvY3VtZW50IiwicHJvdG90eXBlIiwiZXZlcnkiLCJmaWx0ZXIiLCJmb3JFYWNoIiwiaW5kZXhPZiIsImxhc3RJbmRleE9mIiwibWFwIiwic29tZSIsInJlZHVjZSIsInJlZHVjZVJpZ2h0IiwiRnVuY3Rpb24iLCJiaW5kIiwiY3JlYXRlIiwiZ2V0UHJvdG90eXBlT2YiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiaXNTZWFsZWQiLCJpc0Zyb3plbiIsImlzRXh0ZW5zaWJsZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImRlZmluZVByb3BlcnR5IiwiZGVmaW5lUHJvcGVydGllcyIsInNlYWwiLCJmcmVlemUiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsIkpTT04iLCJ3b3JrZXIiLCJibG9iIiwiQmxvYiIsInR5cGUiLCJ3b3JrZXJVUkwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJXb3JrZXIiLCJlIiwidGVybWluYXRlIiwicmV2b2tlT2JqZWN0VVJMIiwiaXNXb3JrZXJTdXBwb3J0ZWQiLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiaW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwiaXNDYW52YXNHZXRJbWFnZURhdGFTdXBwb3J0ZWQiLCJ1bmRlZmluZWQiLCJpc1dlYkdMU3VwcG9ydGVkQ2FjaGUiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0Iiwic2hhZGVyIiwiZ2wiLCJhdHRyaWJ1dGVzIiwid2ViR0xDb250ZXh0QXR0cmlidXRlcyIsImdldFdlYkdMQ29udGV4dCIsImNyZWF0ZVNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJpc0NvbnRleHRMb3N0Iiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiaXNXZWJHTFN1cHBvcnRlZCIsImRvY3VtZW50TW9kZSIsIm5vdFN1cHBvcnRlZFJlYXNvbiIsInRhZ05hbWUiLCJjbGFzc05hbWUiLCJjb250YWluZXIiLCJlbCIsImFwcGVuZENoaWxkIiwiY3JlYXRlU1ZHIiwiY3JlYXRlRWxlbWVudE5TIiwibmFtZSIsInNldEF0dHJpYnV0ZU5TIiwiYW50aWFsaWFzIiwiYWxwaGEiLCJzdGVuY2lsIiwiZGVwdGgiLCJkb2NTdHlsZSIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwic2VsZWN0UHJvcCIsInVzZXJTZWxlY3QiLCJkaXNhYmxlRHJhZyIsImVuYWJsZURyYWciLCJzdXBwcmVzc0NsaWNrTGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzdXBwcmVzc0NsaWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldFRpbWVvdXQiLCJtb3VzZVBvcyIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRTY2FsZWRQb2ludCIsInRvdWNoUG9zIiwidG91Y2hlcyIsInBvaW50cyIsInB1c2giLCJtb3VzZUJ1dHRvbiIsIkluc3RhbGxUcmlnZ2VyIiwiYnV0dG9uIiwiY3RybEtleSIsIm5hdmlnYXRvciIsInBsYXRmb3JtIiwidG9VcHBlckNhc2UiLCJzY2FsaW5nIiwib2Zmc2V0V2lkdGgiLCJQb2ludCIsImNsaWVudFgiLCJsZWZ0IiwiY2xpZW50WSIsInRvcCIsImludmVydCIsIm91dCIsImEwIiwiYTEiLCJhMiIsImEzIiwiZGV0IiwicmVuZGVyU3R5bGVJbWFnZSIsImltYWdlIiwidXNlckltYWdlIiwicmVuZGVyIiwiZGF0YSIsInJlcGxhY2UiLCJVaW50OEFycmF5IiwiYnVmZmVyIiwiSW1hZ2VNYW5hZ2VyIiwiRXZlbnRlZCIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJ0aGlzIiwiaW1hZ2VzIiwidXBkYXRlZEltYWdlcyIsImNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZSIsImxvYWRlZCIsInJlcXVlc3RvcnMiLCJwYXR0ZXJucyIsImF0bGFzSW1hZ2UiLCJSR0JBSW1hZ2UiLCJkaXJ0eSIsImlzTG9hZGVkIiwic2V0TG9hZGVkIiwiaWRzIiwiY2FsbGJhY2siLCJfbm90aWZ5IiwiaGFzSW1hZ2UiLCJpZCIsImdldEltYWdlIiwiYWRkSW1hZ2UiLCJfdmFsaWRhdGUiLCJ2YWxpZCIsIl92YWxpZGF0ZVN0cmV0Y2giLCJzdHJldGNoWCIsImZpcmUiLCJFcnJvckV2ZW50IiwiRXJyb3IiLCJzdHJldGNoWSIsIl92YWxpZGF0ZUNvbnRlbnQiLCJjb250ZW50Iiwic3RyZXRjaCIsInNpemUiLCJsYXN0IiwicGFydCIsInVwZGF0ZUltYWdlIiwidmVyc2lvbiIsInJlbW92ZUltYWdlIiwib25SZW1vdmUiLCJsaXN0SW1hZ2VzIiwiZ2V0SW1hZ2VzIiwiaGFzQWxsRGVwZW5kZW5jaWVzIiwicmVzcG9uc2UiLCJFdmVudCIsImNsb25lIiwicGl4ZWxSYXRpbyIsInNkZiIsImhhc1JlbmRlckNhbGxiYWNrIiwiQm9vbGVhbiIsIndhcm5PbmNlIiwiZ2V0UGl4ZWxTaXplIiwiZ2V0UGF0dGVybiIsInBhdHRlcm4iLCJwb3NpdGlvbiIsImJpbiIsInciLCJwYWRkaW5nIiwiaCIsIngiLCJ5IiwiSW1hZ2VQb3NpdGlvbiIsIl91cGRhdGVQYXR0ZXJuQXRsYXMiLCJhdGxhc1RleHR1cmUiLCJ1cGRhdGUiLCJUZXh0dXJlIiwiUkdCQSIsIkxJTkVBUiIsIkNMQU1QX1RPX0VER0UiLCJiaW5zIiwicG90cGFjayIsImRzdCIsInJlc2l6ZSIsInNyYyIsImNvcHkiLCJiZWdpbkZyYW1lIiwiZGlzcGF0Y2hSZW5kZXJDYWxsYmFja3MiLCJwcm9wZXJ0aWVzIiwiUHJvcGVydGllcyIsImFuY2hvciIsIkRhdGFDb25zdGFudFByb3BlcnR5Iiwic3R5bGVTcGVjIiwibGlnaHQiLCJzcGVjaWZpY2F0aW9uIiwicG9zc2libHlFdmFsdWF0ZSIsInZhbHVlIiwicGFyYW1ldGVycyIsInNwaGVyaWNhbFRvQ2FydGVzaWFuIiwiciIsImF6aW11dGhhbCIsInBvbGFyIiwiZGVnVG9SYWQiLCJwIiwiTWF0aCIsImNvcyIsInNpbiIsInoiLCJleHByZXNzaW9uIiwiZXZhbHVhdGUiLCJpbnRlcnBvbGF0ZSIsInQiLCJudW1iZXIiLCJjb2xvciIsImludGVuc2l0eSIsIlRSQU5TSVRJT05fU1VGRklYIiwiTGlnaHQiLCJsaWdodE9wdGlvbnMiLCJfdHJhbnNpdGlvbmFibGUiLCJUcmFuc2l0aW9uYWJsZSIsInNldExpZ2h0IiwiX3RyYW5zaXRpb25pbmciLCJ1bnRyYW5zaXRpb25lZCIsImdldExpZ2h0Iiwic2VyaWFsaXplIiwidmFsaWRhdGVMaWdodCIsImVuZHNXaXRoIiwic2V0VHJhbnNpdGlvbiIsInNsaWNlIiwic2V0VmFsdWUiLCJ1cGRhdGVUcmFuc2l0aW9ucyIsInRyYW5zaXRpb25lZCIsImhhc1RyYW5zaXRpb24iLCJyZWNhbGN1bGF0ZSIsInZhbGlkYXRlIiwiZW1pdFZhbGlkYXRpb25FcnJvcnMiLCJjYWxsIiwidmFsaWRhdGVTdHlsZSIsImV4dGVuZCIsImdseXBocyIsInNwcml0ZSIsInNwZWMiLCJzb3VyY2UiLCJ0ZXJyYWluIiwiZXhhZ2dlcmF0aW9uIiwiVGVycmFpbiIsInRlcnJhaW5PcHRpb25zIiwiZHJhcGVSZW5kZXJNb2RlIiwic2V0IiwiZ2V0IiwiZ2V0Rm9nT3BhY2l0eSIsInN0YXRlIiwicG9zIiwicGl0Y2giLCJmb3YiLCJmb2dQaXRjaE9wYWNpdHkiLCJzbW9vdGhzdGVwIiwic3RhcnQiLCJlbmQiLCJnZXRGb3ZBZGp1c3RlZEZvZ1JhbmdlIiwidmVjMyIsImZhbGxvZmYiLCJtaW4iLCJleHAiLCJzaGlmdCIsInRhbiIsInJhbmdlIiwiZm9nUHJvcGVydGllcyIsImZvZyIsIkZvZyIsImZvZ09wdGlvbnMiLCJ0cmFuc2Zvcm0iLCJfdHJhbnNmb3JtIiwidHIiLCJpc0dsb2JlIiwicHJvamVjdGlvbiIsInRyYW5zaXRpb25UIiwiZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbiIsInpvb20iLCJnbG9iZUZpeGVkRm9nUmFuZ2UiLCJob3Jpem9uQmxlbmQiLCJ2YWxpZGF0ZUZvZyIsImRlZmF1bHQiLCJnZXRPcGFjaXR5Iiwic3VwcG9ydHNGb2ciLCJmb2dDb2xvciIsImdldE9wYWNpdHlBdExhdExuZyIsImxuZ0xhdCIsIm1ldGVycyIsIk1lcmNhdG9yQ29vcmRpbmF0ZSIsImZyb21MbmdMYXQiLCJlbGV2YXRpb24iLCJnZXRBdFBvaW50T3JaZXJvIiwibWVyY2F0b3JGb2dNYXRyaXgiLCJfZm92IiwiZ2V0Rm9nT3BhY2l0eUF0TG5nTGF0IiwiZ2V0Rm92QWRqdXN0ZWRSYW5nZSIsIkRpc3BhdGNoZXIiLCJ3b3JrZXJQb29sIiwicGFyZW50IiwiYWN0b3JzIiwiY3VycmVudEFjdG9yIiwidW5pcXVlSWQiLCJ3b3JrZXJzIiwiYWNxdWlyZSIsImFjdG9yIiwiQWN0b3IiLCJyZWFkeSIsImJyb2FkY2FzdCIsImNiIiwiYXN5bmNBbGwiLCJkb25lIiwic2VuZCIsImdldEFjdG9yIiwicmVtb3ZlIiwicmVsZWFzZSIsInBpeGVsc1RvVGlsZVVuaXRzIiwidGlsZSIsInBpeGVsVmFsdWUiLCJFWFRFTlQiLCJ0aWxlU2l6ZSIsInBvdyIsInRpbGVJRCIsIm92ZXJzY2FsZWRaIiwiUXVlcnlHZW9tZXRyeSIsInNjcmVlbkJvdW5kcyIsImNhbWVyYVBvaW50IiwiYWJvdmVIb3Jpem9uIiwiX3NjcmVlblJheWNhc3RDYWNoZSIsIl9jYW1lcmFSYXljYXN0Q2FjaGUiLCJpc0Fib3ZlSG9yaXpvbiIsInNjcmVlbkdlb21ldHJ5IiwiYnVmZmVyZWRTY3JlZW5HZW9tZXRyeSIsInNjcmVlbkdlb21ldHJ5TWVyY2F0b3IiLCJfYnVmZmVyZWRTY3JlZW5NZXJjYXRvciIsInN0YXRpYyIsImdlb21ldHJ5IiwicHQiLCJjb252ZXJ0IiwiaXNQb2ludEFib3ZlSG9yaXpvbiIsInRsIiwiYnIiLCJwb2x5Z29uaXplQm91bmRzIiwiZ2V0Q2FtZXJhUG9pbnQiLCJpc1BvaW50UXVlcnkiLCJidWZmZXJlZENhbWVyYUdlb21ldHJ5IiwibWF4IiwiYWRkIiwiY2FtZXJhUG9seWdvbiIsInNwbGljZSIsImJ1ZmZlckNvbnZleFBvbHlnb24iLCJidWZmZXJlZENhbWVyYUdlb21ldHJ5R2xvYmUiLCJjYW1Qb3MiLCJjb250YWluc1RpbGUiLCJ1c2UzRCIsImNhbWVyYVdyYXAiLCJiaWFzIiwicXVlcnlQYWRkaW5nIiwiX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwiLCJjYWNoZWRRdWVyeSIsIl9idWZmZXJlZENhbWVyYU1lcmNhdG9yIiwid3JhcCIsInVud3JhcHBlZCIsImdlb21ldHJ5Rm9yVGlsZUNoZWNrIiwicG9seWdvbiIsImdldFRpbGVQb2ludCIsInRpbGVUcmFuc2Zvcm0iLCJwb2x5Z29uSW50ZXJzZWN0c0JveCIsInRpbGVzcGFjZVZlYzNzIiwiZ2V0VGlsZVZlYzMiLCJ0aWxlc3BhY2VHZW9tZXRyeSIsInYiLCJjYW1lcmFNZXJjYXRvciIsImdldEZyZWVDYW1lcmFPcHRpb25zIiwidGlsZXNwYWNlQ2FtZXJhUG9zaXRpb24iLCJ0aWxlc3BhY2VSYXlzIiwidGlsZVZlYyIsImRpciIsInN1YiIsIlJheSIsInBpeGVsVG9UaWxlVW5pdHNGYWN0b3IiLCJxdWVyeUdlb21ldHJ5IiwiYnVmZmVyZWRUaWxlc3BhY2VHZW9tZXRyeSIsImJ1ZmZlcmVkVGlsZXNwYWNlQm91bmRzIiwiYm91bmRzIiwiZ2V0Qm91bmRzIiwiY2xhbXAiLCJjYWNoZUtleSIsInBvbHkiLCJfcHJvamVjdEFuZFJlc2FtcGxlIiwicG9pbnRDb29yZGluYXRlM0QiLCJwb2xlUG9seWdvbiIsIm1hdHJpeCIsIm1hdDQiLCJwaXhlbE1hdHJpeCIsImdsb2JlTWF0cml4Iiwibm9ydGhQb2xlIiwiR0xPQkVfUkFESVVTIiwic291dGhQb2xlIiwiY2VudGVyIiwidmVjNCIsInNjcmVlbk5wIiwic2NyZWVuU3AiLCJjb250YWluc05wIiwicG9seWdvbkNvbnRhaW5zUG9pbnQiLCJjb250YWluc1NwIiwicmVzdWx0IiwiZGlyZWN0aW9uIiwiaWR4IiwiZmluZEVkZ2VDcm9zc2luZ0FudGltZXJpZGlhbiIsInBhcnRBIiwicmVzYW1wbGVQb2x5Z29uIiwicGFydEIiLCJwb2ludEdlb21ldHJ5IiwicmVzYW1wbGVkIiwiaW50ZXJzZWN0aW9uWSIsIm1pZCIsInByb2plY3RQb2x5Z29uQ292ZXJpbmdQb2xlcyIsIm1heFgiLCJzdGFydEVkZ2UiLCJlZGdlIiwiYWJzIiwiY2FtZXJhWCIsIm1lcmNhdG9yWGZyb21MbmciLCJsbmciLCJ1bndyYXBRdWVyeVBvbHlnb24iLCJyZXNhbXBsZSIsIm1jIiwibWVyY2F0b3JYIiwibG9hZFRpbGVKU09OIiwicmVxdWVzdE1hbmFnZXIiLCJsYW5ndWFnZSIsIndvcmxkdmlldyIsImVyciIsInRpbGVKU09OIiwidXJsIiwidGlsZXMiLCJwaWNrIiwidmVjdG9yX2xheWVycyIsInZlY3RvckxheWVycyIsInZlY3RvckxheWVySWRzIiwibGF5ZXIiLCJjYW5vbmljYWxpemVUaWxlc2V0IiwiZ2V0SlNPTiIsInRyYW5zZm9ybVJlcXVlc3QiLCJub3JtYWxpemVTb3VyY2VVUkwiLCJSZXNvdXJjZVR5cGUiLCJTb3VyY2UiLCJicm93c2VyIiwiZnJhbWUiLCJUaWxlQm91bmRzIiwibWluem9vbSIsIm1heHpvb20iLCJMbmdMYXRCb3VuZHMiLCJ2YWxpZGF0ZUJvdW5kcyIsImNvbnRhaW5zIiwid29ybGRTaXplIiwibGV2ZWwiLCJmbG9vciIsImdldFdlc3QiLCJtZXJjYXRvcllmcm9tTGF0IiwiZ2V0Tm9ydGgiLCJjZWlsIiwiZ2V0RWFzdCIsImdldFNvdXRoIiwiSW5kZXhCdWZmZXIiLCJhcnJheSIsImR5bmFtaWNEcmF3IiwiY3JlYXRlQnVmZmVyIiwidW5iaW5kVkFPIiwiYmluZEVsZW1lbnRCdWZmZXIiLCJidWZmZXJEYXRhIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJhcnJheUJ1ZmZlciIsIkRZTkFNSUNfRFJBVyIsIlNUQVRJQ19EUkFXIiwiZGVzdHJveSIsInVwZGF0ZURhdGEiLCJidWZmZXJTdWJEYXRhIiwiZGVsZXRlQnVmZmVyIiwiQXR0cmlidXRlVHlwZSIsIkludDgiLCJVaW50OCIsIkludDE2IiwiVWludDE2IiwiSW50MzIiLCJVaW50MzIiLCJGbG9hdDMyIiwiVmVydGV4QnVmZmVyIiwiaXRlbVNpemUiLCJieXRlc1BlckVsZW1lbnQiLCJiaW5kVmVydGV4QnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiZW5hYmxlQXR0cmlidXRlcyIsInByb2dyYW0iLCJqIiwiYXR0cmliSW5kZXgiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInNldFZlcnRleEF0dHJpYlBvaW50ZXJzIiwidmVydGV4T2Zmc2V0IiwibWVtYmVyIiwidmVydGV4QXR0cmliUG9pbnRlciIsImNvbXBvbmVudHMiLCJvZmZzZXQiLCJCYXNlVmFsdWUiLCJnZXREZWZhdWx0IiwiY3VycmVudCIsInNldERlZmF1bHQiLCJDbGVhckNvbG9yIiwiQ29sb3IiLCJ0cmFuc3BhcmVudCIsImMiLCJnIiwiY2xlYXJDb2xvciIsIkNsZWFyRGVwdGgiLCJjbGVhckRlcHRoIiwiQ2xlYXJTdGVuY2lsIiwiY2xlYXJTdGVuY2lsIiwiQ29sb3JNYXNrIiwiY29sb3JNYXNrIiwiRGVwdGhNYXNrIiwiZGVwdGhNYXNrIiwiU3RlbmNpbE1hc2siLCJzdGVuY2lsTWFzayIsIlN0ZW5jaWxGdW5jIiwiZnVuYyIsIkFMV0FZUyIsInJlZiIsIm1hc2siLCJzdGVuY2lsRnVuYyIsIlN0ZW5jaWxPcCIsIktFRVAiLCJzdGVuY2lsT3AiLCJTdGVuY2lsVGVzdCIsImVuYWJsZSIsIlNURU5DSUxfVEVTVCIsImRpc2FibGUiLCJEZXB0aFJhbmdlIiwiZGVwdGhSYW5nZSIsIkRlcHRoVGVzdCIsIkRFUFRIX1RFU1QiLCJEZXB0aEZ1bmMiLCJMRVNTIiwiZGVwdGhGdW5jIiwiQmxlbmQiLCJCTEVORCIsIkJsZW5kRnVuYyIsIk9ORSIsIlpFUk8iLCJibGVuZEZ1bmMiLCJCbGVuZENvbG9yIiwiYmxlbmRDb2xvciIsIkJsZW5kRXF1YXRpb24iLCJGVU5DX0FERCIsImJsZW5kRXF1YXRpb24iLCJDdWxsRmFjZSIsIkNVTExfRkFDRSIsIkN1bGxGYWNlU2lkZSIsIkJBQ0siLCJjdWxsRmFjZSIsIkZyb250RmFjZSIsIkNDVyIsImZyb250RmFjZSIsIlByb2dyYW0iLCJ1c2VQcm9ncmFtIiwiQWN0aXZlVGV4dHVyZVVuaXQiLCJURVhUVVJFMCIsImFjdGl2ZVRleHR1cmUiLCJWaWV3cG9ydCIsImRyYXdpbmdCdWZmZXJXaWR0aCIsImRyYXdpbmdCdWZmZXJIZWlnaHQiLCJ2aWV3cG9ydCIsIkJpbmRGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiQmluZFJlbmRlcmJ1ZmZlciIsImJpbmRSZW5kZXJidWZmZXIiLCJSRU5ERVJCVUZGRVIiLCJCaW5kVGV4dHVyZSIsImJpbmRUZXh0dXJlIiwiVEVYVFVSRV8yRCIsIkJpbmRWZXJ0ZXhCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQmluZEVsZW1lbnRCdWZmZXIiLCJCaW5kVmVydGV4QXJyYXlPRVMiLCJ2YW8iLCJleHRWZXJ0ZXhBcnJheU9iamVjdCIsImJpbmRWZXJ0ZXhBcnJheU9FUyIsIlBpeGVsU3RvcmVVbnBhY2siLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19BTElHTk1FTlQiLCJQaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYSIsIlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCIsIlBpeGVsU3RvcmVVbnBhY2tGbGlwWSIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJGcmFtZWJ1ZmZlckF0dGFjaG1lbnQiLCJDb2xvckF0dGFjaG1lbnQiLCJzZXREaXJ0eSIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJEZXB0aEF0dGFjaG1lbnQiLCJhdHRhY2htZW50IiwiREVQVEhfQVRUQUNITUVOVCIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiRGVwdGhTdGVuY2lsQXR0YWNobWVudCIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsIkZyYW1lYnVmZmVyIiwiaGFzRGVwdGgiLCJmYm8iLCJmcmFtZWJ1ZmZlciIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiY29sb3JBdHRhY2htZW50IiwiZGVwdGhBdHRhY2htZW50IiwidGV4dHVyZSIsImRlbGV0ZVRleHR1cmUiLCJyZW5kZXJidWZmZXIiLCJkZWxldGVSZW5kZXJidWZmZXIiLCJkZWxldGVGcmFtZWJ1ZmZlciIsIkNvbnRleHQiLCJpc1dlYkdMMiIsImdldEV4dGVuc2lvbiIsImdsMiIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwiY3JlYXRlVmVydGV4QXJyYXkiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsImRlbGV0ZVZlcnRleEFycmF5IiwiYmluZFZlcnRleEFycmF5Iiwic3RlbmNpbFRlc3QiLCJkZXB0aFRlc3QiLCJibGVuZCIsImN1bGxGYWNlU2lkZSIsInBpeGVsU3RvcmVVbnBhY2siLCJwaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYSIsInBpeGVsU3RvcmVVbnBhY2tGbGlwWSIsImV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyIsImV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCIsImV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY0ZvcmNlT2ZmIiwiZXh0U3RhbmRhcmREZXJpdmF0aXZlc0ZvcmNlT2ZmIiwiZXh0RGVidWdSZW5kZXJlckluZm8iLCJyZW5kZXJlciIsIlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMIiwidmVuZG9yIiwiVU5NQVNLRURfVkVORE9SX1dFQkdMIiwiZXh0VGV4dHVyZUhhbGZGbG9hdCIsImV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdCIsImV4dFN0YW5kYXJkRGVyaXZhdGl2ZXMiLCJleHRUaW1lclF1ZXJ5IiwibWF4VGV4dHVyZVNpemUiLCJNQVhfVEVYVFVSRV9TSVpFIiwiY3JlYXRlSW5kZXhCdWZmZXIiLCJjcmVhdGVWZXJ0ZXhCdWZmZXIiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJzdG9yYWdlRm9ybWF0IiwicmJvIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsImNsZWFyIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJTVEVOQ0lMX0JVRkZFUl9CSVQiLCJzZXRDdWxsRmFjZSIsImN1bGxGYWNlTW9kZSIsIm1vZGUiLCJzZXREZXB0aE1vZGUiLCJkZXB0aE1vZGUiLCJzZXRTdGVuY2lsTW9kZSIsInN0ZW5jaWxNb2RlIiwidGVzdCIsImZhaWwiLCJkZXB0aEZhaWwiLCJwYXNzIiwic2V0Q29sb3JNb2RlIiwiY29sb3JNb2RlIiwiYmxlbmRGdW5jdGlvbiIsIkNvbG9yTW9kZSIsIlJlcGxhY2UiLCJWZWN0b3JUaWxlU291cmNlIiwiZGlzcGF0Y2hlciIsImV2ZW50ZWRQYXJlbnQiLCJzY2hlbWUiLCJyZXBhcnNlT3ZlcnNjYWxlZCIsImlzVGlsZUNsaXBwZWQiLCJfbG9hZGVkIiwiX29wdGlvbnMiLCJfY29sbGVjdFJlc291cmNlVGltaW5nIiwiY29sbGVjdFJlc291cmNlVGltaW5nIiwic2V0RXZlbnRlZFBhcmVudCIsIl90aWxlV29ya2VycyIsIl9kZWR1cGVkIiwiRGVkdXBlZFJlcXVlc3QiLCJsb2FkIiwiZGF0YVR5cGUiLCJfbGFuZ3VhZ2UiLCJqb2luIiwiX3dvcmxkdmlldyIsIl90aWxlSlNPTlJlcXVlc3QiLCJfcmVxdWVzdE1hbmFnZXIiLCJjb25zb2xlIiwid2FybiIsInRpbGVCb3VuZHMiLCJwb3N0VHVybnN0aWxlRXZlbnQiLCJfY3VzdG9tQWNjZXNzVG9rZW4iLCJzb3VyY2VEYXRhVHlwZSIsImhhc1RpbGUiLCJjYW5vbmljYWwiLCJvbkFkZCIsInJlbG9hZCIsImNhbmNlbFRpbGVKU09OUmVxdWVzdCIsIl9jbGVhclNvdXJjZSIsInNldFRpbGVzIiwic2V0VXJsIiwibG9hZFRpbGUiLCJub3JtYWxpemVUaWxlVVJMIiwicGFyYW1zIiwicmVxdWVzdCIsIlRpbGUiLCJ1aWQiLCJ0aWxlWm9vbSIsIm92ZXJzY2FsZUZhY3RvciIsImV4cG9ydGVkIiwiZGV2aWNlUGl4ZWxSYXRpbyIsInNob3dDb2xsaXNpb25Cb3hlcyIsInByb21vdGVJZCIsImlzU3ltYm9sVGlsZSIsInJlbG9hZENhbGxiYWNrIiwiY2FuY2VsIiwibG9hZFZlY3RvclRpbGUiLCJkZWR1cGVkIiwiY2FjaGVDb250cm9sIiwiZXhwaXJlcyIsInJhd0RhdGEiLCJhYm9ydGVkIiwic3RhdHVzIiwicmVzb3VyY2VUaW1pbmciLCJfcmVmcmVzaEV4cGlyZWRUaWxlcyIsInNldEV4cGlyeURhdGEiLCJsb2FkVmVjdG9yRGF0YSIsInBhaW50ZXIiLCJjYWNoZUVudHJ5UG9zc2libHlBZGRlZCIsImFib3J0VGlsZSIsInVubG9hZFRpbGUiLCJ1bmxvYWRWZWN0b3JEYXRhIiwiYWZ0ZXJVcGRhdGUiLCJSYXN0ZXJUaWxlU291cmNlIiwicm91bmRab29tIiwidXNlMngiLCJlcnJvciIsInNldFRleHR1cmUiLCJzYXZlVGlsZVRleHR1cmUiLCJzdXBwb3J0c09mZnNjcmVlbkNhbnZhcyIsImJhc2lzVG9Qb2ludHMiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIngzIiwieTMiLCJ4NCIsInk0IiwibSIsInMiLCJtYSIsIm1hdDMiLCJzeCIsInN5Iiwic3oiLCJ0cmFuc2Zvcm1NYXQzIiwidHJhbnNwb3NlIiwiSW1hZ2VTb3VyY2UiLCJjb29yZGluYXRlcyIsIl9kaXJ0eSIsIm5ld0Nvb3JkaW5hdGVzIiwiX2ltYWdlUmVxdWVzdCIsIkltYWdlIiwiSFRNTEltYWdlRWxlbWVudCIsIl9maW5pc2hMb2FkaW5nIiwic2V0Q29vcmRpbmF0ZXMiLCJfYm91bmRzQXJyYXkiLCJjb3JuZXJDb29yZHMiLCJjb29yZHMiLCJtaW5YIiwiSW5maW5pdHkiLCJtaW5ZIiwibWF4WSIsImNvb3JkIiwiZE1heCIsImxvZyIsIkxOMiIsInRpbGVzQXRab29tIiwiQ2Fub25pY2FsVGlsZUlEIiwiZ2V0Q29vcmRpbmF0ZXNDZW50ZXJUaWxlSUQiLCJfY2xlYXIiLCJfcHJlcGFyZURhdGEiLCJ0aWxlVHIiLCJibCIsInByb2plY3RlZENvb3JkIiwicHJvamVjdCIsIl9yb3VuZCIsInBlcnNwZWN0aXZlVHJhbnNmb3JtIiwibXVsdGlwbHkkMSIsImFkam9pbnQiLCJnZXRQZXJzcGVjdGl2ZVRyYW5zZm9ybSIsImJvdW5kc0FycmF5IiwiUmFzdGVyQm91bmRzQXJyYXkiLCJTdHJ1Y3RBcnJheUxheW91dDRpOCIsImVtcGxhY2VCYWNrIiwiYm91bmRzQnVmZmVyIiwiYm91bmRzQXR0cmlidXRlcyIsIm1lbWJlcnMiLCJib3VuZHNTZWdtZW50cyIsIlNlZ21lbnRWZWN0b3IiLCJzaW1wbGVTZWdtZW50IiwicHJlcGFyZSIsImVxdWFscyIsIlN0cmluZyIsImJ1Y2tldHMiLCJzb3VyY2VUeXBlcyIsInZlY3RvciIsInJhc3RlciIsImVuY29kaW5nIiwiZGVtIiwib25EZXNlcmlhbGl6ZSIsIm5lZWRzSGlsbHNoYWRlUHJlcGFyZSIsIm5lZWRzREVNVGV4dHVyZVVwbG9hZCIsImltZyIsInRyYW5zZmVyIiwiSW1hZ2VCaXRtYXAiLCJPZmZzY3JlZW5DYW52YXMiLCJjcmVhdGVJbWFnZUJpdG1hcCIsInByZXZQb3dlck9mVHdvIiwibmVpZ2hib3JpbmdUaWxlcyIsIl9nZXROZWlnaGJvcmluZ1RpbGVzIiwicmF3SW1hZ2VEYXRhIiwiZGltIiwicHgiLCJweHciLCJueCIsIm54dyIsIk92ZXJzY2FsZWRUaWxlSUQiLCJiYWNrZmlsbGVkIiwiZGVtVGV4dHVyZSIsImdlb2pzb24iLCJfZGF0YSIsImF0dHJpYnV0aW9uIiwic2NhbGUiLCJ3b3JrZXJPcHRpb25zIiwiY2x1c3RlciIsImdlb2pzb25WdE9wdGlvbnMiLCJ0b2xlcmFuY2UiLCJleHRlbnQiLCJtYXhab29tIiwibGluZU1ldHJpY3MiLCJnZW5lcmF0ZUlkIiwic3VwZXJjbHVzdGVyT3B0aW9ucyIsImNsdXN0ZXJNYXhab29tIiwibWluUG9pbnRzIiwiY2x1c3Rlck1pblBvaW50cyIsInJhZGl1cyIsImNsdXN0ZXJSYWRpdXMiLCJjbHVzdGVyUHJvcGVydGllcyIsInNldERhdGEiLCJfdXBkYXRlV29ya2VyRGF0YSIsImdldENsdXN0ZXJFeHBhbnNpb25ab29tIiwiY2x1c3RlcklkIiwiZ2V0Q2x1c3RlckNoaWxkcmVuIiwiZ2V0Q2x1c3RlckxlYXZlcyIsImxpbWl0IiwiX3BlbmRpbmdMb2FkIiwiX2NvYWxlc2NlIiwicmVzb2x2ZVVSTCIsInN0cmluZ2lmeSIsIl9tZXRhZGF0YUZpcmVkIiwibWVzc2FnZSIsInZpZGVvIiwidXJscyIsImdldFZpZGVvIiwibG9vcCIsInNldEF0dHJpYnV0ZSIsInRyaWdnZXJSZXBhaW50IiwicGxheSIsInBhdXNlIiwic2VlayIsInNlY29uZHMiLCJzZWVrYWJsZVJhbmdlIiwic2Vla2FibGUiLCJWYWxpZGF0aW9uRXJyb3IiLCJjdXJyZW50VGltZSIsInJlYWR5U3RhdGUiLCJwYXVzZWQiLCJ0ZXhTdWJJbWFnZTJEIiwiVU5TSUdORURfQllURSIsInZpZGVvV2lkdGgiLCJ2aWRlb0hlaWdodCIsImwiLCJhbmltYXRlIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIl9oYXNJbnZhbGlkRGltZW5zaW9ucyIsIl9wbGF5aW5nIiwiZ2V0Q2FudmFzIiwicHJlbXVsdGlwbHkiLCJpc05hTiIsImN1c3RvbSIsImltcGxlbWVudGF0aW9uIiwiX2RhdGFUeXBlIiwiX2Rpc3BhdGNoZXIiLCJfaW1wbGVtZW50YXRpb24iLCJfdXBkYXRlIiwiY2xlYXJUaWxlcyIsIl9jbGVhclRpbGVzIiwiY292ZXJpbmdUaWxlcyIsIl9jb3ZlcmluZ1RpbGVzIiwiX21hcCIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNpZ25hbCIsInRoZW4iLCJsb2FkVGlsZURhdGEiLCJJbWFnZURhdGEiLCJpc1Jhc3RlciIsImNhdGNoIiwiY29kZSIsImFib3J0IiwidW5sb2FkVGlsZURhdGEiLCJiaW5kQWxsIiwiZ2V0UGl4ZWxQb3NNYXRyaXgiLCJ0cmFuc2xhdGUiLCJjYWxjdWxhdGVQcm9qTWF0cml4IiwidG9VbndyYXBwZWQiLCJGbG9hdDMyQXJyYXkiLCJmcm9tIiwicXVlcnlSZW5kZXJlZEZlYXR1cmVzIiwic291cmNlQ2FjaGUiLCJzdHlsZUxheWVycyIsInNlcmlhbGl6ZWRMYXllcnMiLCJ1c2UzRFF1ZXJ5IiwidmlzdWFsaXplUXVlcnlHZW9tZXRyeSIsInRpbGVSZXN1bHRzIiwidGlsZXNJbiIsInNvcnQiLCJzb3J0VGlsZXNJbiIsInJlbmRlcmVkRmVhdHVyZUxheWVycyIsInRpbGVSZXN1bHQiLCJ3cmFwcGVkVGlsZUlEIiwid3JhcHBlZCIsInF1ZXJ5UmVzdWx0cyIsIl9zdGF0ZSIsIndyYXBwZWRJRExheWVyTWFwIiwid3JhcHBlZElEIiwid3JhcHBlZElETGF5ZXJzIiwibGF5ZXJJRCIsInRpbGVGZWF0dXJlcyIsIndyYXBwZWRJREZlYXR1cmVzIiwicmVzdWx0RmVhdHVyZXMiLCJ0aWxlRmVhdHVyZSIsImZlYXR1cmVJbmRleCIsIm1lcmdlUmVuZGVyZWRGZWF0dXJlTGF5ZXJzIiwiZmVhdHVyZVdyYXBwZXIiLCJmZWF0dXJlIiwic291cmNlTGF5ZXIiLCJnZXRGZWF0dXJlU3RhdGUiLCJxdWVyeVNvdXJjZUZlYXR1cmVzIiwiZ2V0UmVuZGVyYWJsZUlkcyIsImdldFRpbGVCeUlEIiwiZGF0YVRpbGVzIiwiZGF0YUlEIiwiaWRBIiwiaWRCIiwiV2ViV29ya2VyIiwibWFwYm94Z2wiLCJ3b3JrZXJDbGFzcyIsIndvcmtlclVybCIsIlBSRUxPQURfUE9PTF9JRCIsIldvcmtlclBvb2wiLCJhY3RpdmUiLCJtYXBJZCIsIndvcmtlckNvdW50IiwibnVtQWN0aXZlIiwiaXNQcmVsb2FkZWQiLCJnbG9iYWxXb3JrZXJQb29sIiwiZ2V0R2xvYmFsV29ya2VyUG9vbCIsImRlcmVmIiwiayIsInJlZlByb3BlcnRpZXMiLCJkZXJlZkxheWVycyIsImxheWVycyIsIm9wZXJhdGlvbnMiLCJzZXRTdHlsZSIsImFkZExheWVyIiwicmVtb3ZlTGF5ZXIiLCJzZXRQYWludFByb3BlcnR5Iiwic2V0TGF5b3V0UHJvcGVydHkiLCJzZXRGaWx0ZXIiLCJhZGRTb3VyY2UiLCJyZW1vdmVTb3VyY2UiLCJzZXRHZW9KU09OU291cmNlRGF0YSIsInNldExheWVyWm9vbVJhbmdlIiwic2V0TGF5ZXJQcm9wZXJ0eSIsInNldENlbnRlciIsInNldFpvb20iLCJzZXRCZWFyaW5nIiwic2V0UGl0Y2giLCJzZXRTcHJpdGUiLCJzZXRHbHlwaHMiLCJzZXRUZXJyYWluIiwic2V0Rm9nIiwic2V0UHJvamVjdGlvbiIsInNvdXJjZUlkIiwiYWZ0ZXIiLCJjb21tYW5kcyIsImNvbW1hbmQiLCJhcmdzIiwic291cmNlc1JlbW92ZWQiLCJ1cGRhdGVTb3VyY2UiLCJjYW5VcGRhdGVHZW9KU09OIiwiYmVmb3JlIiwicHJvcCIsImhhc093blByb3BlcnR5IiwiaXNFcXVhbCIsImRpZmZMYXllclByb3BlcnR5Q2hhbmdlcyIsImxheWVySWQiLCJrbGFzcyIsInBsdWNrSWQiLCJpbmRleEJ5SWQiLCJncm91cCIsIlBhdGhJbnRlcnBvbGF0b3IiLCJwb2ludHNfIiwicGFkZGluZ18iLCJyZXNldCIsIl9kaXN0YW5jZXMiLCJkaXN0IiwicGFkZGVkTGVuZ3RoIiwibGVycCIsImN1cnJlbnRJbmRleCIsImRpc3RPZkN1cnJlbnRJZHgiLCJkaXN0VG9UYXJnZXQiLCJpZHhPZlByZXZQb2ludCIsImRpc3RPZlByZXZJZHgiLCJzZWdtZW50TGVuZ3RoIiwic2VnbWVudFQiLCJtdWx0IiwiR3JpZEluZGV4IiwiY2VsbFNpemUiLCJib3hDZWxscyIsImNpcmNsZUNlbGxzIiwieENlbGxDb3VudCIsInlDZWxsQ291bnQiLCJjaXJjbGVLZXlzIiwiYm94S2V5cyIsImJib3hlcyIsImNpcmNsZXMiLCJ4U2NhbGUiLCJ5U2NhbGUiLCJib3hVaWQiLCJjaXJjbGVVaWQiLCJrZXlzTGVuZ3RoIiwiaW5zZXJ0IiwiX2ZvckVhY2hDZWxsIiwiX2luc2VydEJveENlbGwiLCJpbnNlcnRDaXJjbGUiLCJfaW5zZXJ0Q2lyY2xlQ2VsbCIsImNlbGxJbmRleCIsIl9xdWVyeSIsImhpdFRlc3QiLCJwcmVkaWNhdGUiLCJfcXVlcnlDZWxsIiwic2VlblVpZHMiLCJib3giLCJjaXJjbGUiLCJfcXVlcnlDaXJjbGUiLCJfcXVlcnlDZWxsQ2lyY2xlIiwicXVlcnkiLCJoaXRUZXN0Q2lyY2xlIiwicXVlcnlBcmdzIiwiYm94Q2VsbCIsImNpcmNsZUNlbGwiLCJfY2lyY2xlQW5kUmVjdENvbGxpZGUiLCJfY2lyY2xlc0NvbGxpZGUiLCJmbiIsImFyZzEiLCJhcmcyIiwiY3gxIiwiX2NvbnZlcnRUb1hDZWxsQ29vcmQiLCJjeTEiLCJfY29udmVydFRvWUNlbGxDb29yZCIsImN4MiIsImN5MiIsInIxIiwicjIiLCJkeCIsImR5IiwiYm90aFJhZGlpIiwiY2lyY2xlWCIsImNpcmNsZVkiLCJoYWxmUmVjdFdpZHRoIiwiZGlzdFgiLCJoYWxmUmVjdEhlaWdodCIsImRpc3RZIiwibWF4VGFuZ2VudCIsIlBJIiwiZ2V0TGFiZWxQbGFuZU1hdHJpeEZvclJlbmRlcmluZyIsInBvc01hdHJpeCIsInBpdGNoV2l0aE1hcCIsInJvdGF0ZVdpdGhNYXAiLCJsbSIsImNhbGN1bGF0ZUdsb2JlTGFiZWxNYXRyaXgiLCJtYXQyIiwiYW5nbGUiLCJsYWJlbFBsYW5lTWF0cml4IiwiZ2V0TGFiZWxQbGFuZU1hdHJpeEZvclBsYWNlbWVudCIsImdldEdsQ29vcmRNYXRyaXgiLCJnbENvb3JkTWF0cml4IiwieHlUcmFuc2Zvcm1NYXQ0IiwiZ2V0UGVyc3BlY3RpdmVSYXRpbyIsImNhbWVyYVRvQ2VudGVyRGlzdGFuY2UiLCJzaWduZWREaXN0YW5jZUZyb21DYW1lcmEiLCJpc1Zpc2libGUiLCJhbmNob3JQb3MiLCJjbGlwcGluZ0J1ZmZlciIsInVwZGF0ZUxpbmVMYWJlbHMiLCJidWNrZXQiLCJpc1RleHQiLCJrZWVwVXByaWdodCIsImdldEVsZXZhdGlvbiIsInNpemVEYXRhIiwidGV4dFNpemVEYXRhIiwiaWNvblNpemVEYXRhIiwicGFydGlhbGx5RXZhbHVhdGVkU2l6ZSIsInN5bWJvbFNpemUiLCJkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkiLCJ0ZXh0IiwiaWNvbiIsImdsb2JlRXh0VmVydGV4QXJyYXkiLCJsaW5lVmVydGV4QXJyYXkiLCJwbGFjZWRTeW1ib2xzIiwicGxhY2VkU3ltYm9sQXJyYXkiLCJhc3BlY3RSYXRpbyIsInByZXZXcml0aW5nTW9kZSIsInVzZVZlcnRpY2FsIiwic3ltYm9sIiwibnVtR2x5cGhzIiwid3JpdGluZ01vZGUiLCJXcml0aW5nTW9kZSIsInZlcnRpY2FsIiwiaG9yaXpvbnRhbCIsImhpZGRlbiIsImhpZGVHbHlwaHMiLCJ0aWxlQW5jaG9yUG9pbnQiLCJ0aWxlQW5jaG9yWCIsInRpbGVBbmNob3JZIiwicHJvamVjdFRpbGVQb2ludCIsImR6IiwicGVyc3BlY3RpdmVSYXRpbyIsImZvbnRTaXplIiwiZXZhbHVhdGVTaXplRm9yRmVhdHVyZSIsInBpdGNoU2NhbGVkRm9udFNpemUiLCJsYWJlbFBsYW5lQW5jaG9yUG9pbnQiLCJwcm9qZWN0aW9uQ2FjaGUiLCJnZXRFbGV2YXRpb25Gb3JQbGFjZW1lbnQiLCJwbGFjZVVuZmxpcHBlZCIsInBsYWNlR2x5cGhzQWxvbmdMaW5lIiwiZ2x5cGhPZmZzZXRBcnJheSIsIm5lZWRzRmxpcHBpbmciLCJub3RFbm91Z2hSb29tIiwiZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlciIsImdsb2JlRXh0VmVydGV4QnVmZmVyIiwicGxhY2VGaXJzdEFuZExhc3RHbHlwaCIsImZvbnRTY2FsZSIsImxpbmVPZmZzZXRYIiwibGluZU9mZnNldFkiLCJmbGlwIiwiYW5jaG9yUG9pbnQiLCJyZXR1cm5QYXRoSW5UaWxlQ29vcmRzIiwibGluZVN0YXJ0SW5kZXgiLCJnbHlwaFN0YXJ0SW5kZXgiLCJzZWdtZW50IiwiZ2x5cGhFbmRJbmRleCIsImxpbmVFbmRJbmRleCIsImxpbmVMZW5ndGgiLCJmaXJzdEdseXBoT2Zmc2V0IiwiZ2V0b2Zmc2V0WCIsImxhc3RHbHlwaE9mZnNldCIsImZpcnN0UGxhY2VkR2x5cGgiLCJwbGFjZUdseXBoQWxvbmdMaW5lIiwibGFzdFBsYWNlZEdseXBoIiwiZmlyc3QiLCJyZXF1aXJlc09yaWVudGF0aW9uQ2hhbmdlIiwiZmxpcFN0YXRlIiwiaXNJbkZsaXBSZXRhaW5SYW5nZSIsImFkZEdseXBoIiwiZ2x5cGgiLCJ1eCIsInV5IiwidXoiLCJ1cCIsInVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsIiwicG9pbnQiLCJhZGREeW5hbWljQXR0cmlidXRlcyIsImZpcnN0QW5kTGFzdEdseXBoIiwieDAiLCJ5MCIsInowIiwiejEiLCJvcmllbnRhdGlvbkNoYW5nZSIsImdseXBoSW5kZXgiLCJ0aWxlVmVydGV4SW5kZXgiLCJ0aWxlU2VnbWVudEVuZCIsImdldHgiLCJnZXR5IiwicHJvamVjdGVkVmVydGV4IiwicHJvamVjdFRydW5jYXRlZExpbmVTZWdtZW50Iiwic2luZ2xlR2x5cGgiLCJlbGV2YXRlUG9pbnRBbmRQcm9qZWN0IiwicHJldmlvdXNUaWxlUG9pbnQiLCJjdXJyZW50VGlsZVBvaW50IiwicHJldmlvdXNQcm9qZWN0ZWRQb2ludCIsIm1pbmltdW1MZW5ndGgiLCJwcm9qZWN0aW9uTWF0cml4IiwicHJvamVjdGVkVW5pdCIsIl91bml0IiwiX2FkZCIsInNjYWxlQW5kQWRkIiwib2Zmc2V0WCIsImFuY2hvclNlZ21lbnQiLCJlbmRHbHlwaCIsInJlcHJvamVjdGlvbiIsImNvbWJpbmVkT2Zmc2V0WCIsInByZXYiLCJkaXN0YW5jZVRvUHJldiIsImN1cnJlbnRTZWdtZW50RGlzdGFuY2UiLCJhYnNPZmZzZXRYIiwicGF0aFZlcnRpY2VzIiwidGlsZVBhdGgiLCJjdXJyZW50VmVydGV4IiwicHJldlZlcnRleCIsImdldFRydW5jYXRlZExpbmVTZWdtZW50IiwiZGlzdGFuY2UiLCJzZWdtZW50SW50ZXJwb2xhdGlvblQiLCJ0aWxlUG9pbnQiLCJfbXVsdCIsInByZXZUb0N1cnJlbnQiLCJsYWJlbFBsYW5lUG9pbnQiLCJheGlzWiIsImRpZmZYIiwiZGlmZlkiLCJ1cFZlY3RvciIsImF4aXNYIiwiYXhpc1kiLCJjcm9zcyIsImRvdCIsIm9mZnNldERpciIsInNlZ21lbnRBbmdsZSIsImF0YW4yIiwicGF0aCIsIm51bSIsImZsb2F0MzIiLCJmaWxsIiwidmlld3BvcnRQYWRkaW5nIiwiQ29sbGlzaW9uSW5kZXgiLCJmb2dTdGF0ZSIsImdyaWQiLCJHcmlkIiwiaWdub3JlZEdyaWQiLCJwaXRjaGZhY3RvciIsIl9waXRjaCIsInNjcmVlblJpZ2h0Qm91bmRhcnkiLCJzY3JlZW5Cb3R0b21Cb3VuZGFyeSIsImdyaWRSaWdodEJvdW5kYXJ5IiwiZ3JpZEJvdHRvbUJvdW5kYXJ5IiwicGxhY2VDb2xsaXNpb25Cb3giLCJjb2xsaXNpb25Cb3giLCJhbGxvd092ZXJsYXAiLCJ0ZXh0UGl4ZWxSYXRpbyIsImNvbGxpc2lvbkdyb3VwUHJlZGljYXRlIiwiYW5jaG9yWCIsInByb2plY3RlZEFuY2hvclgiLCJhbmNob3JZIiwicHJvamVjdGVkQW5jaG9yWSIsImFuY2hvcloiLCJwcm9qZWN0ZWRBbmNob3JaIiwiZ2V0UHJvamVjdGlvbiIsInVwU2NhbGUiLCJ1cFZlY3RvclNjYWxlIiwibGF0IiwibWV0ZXJzVG9UaWxlIiwicHJvamVjdGVkUG9pbnQiLCJwcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyIsInRpbGVUb1ZpZXdwb3J0IiwidGxYIiwidGxZIiwiYnJYIiwiYnJZIiwiaXNDbGlwcGVkIiwib2NjbHVkZWQiLCJpc0luc2lkZUdyaWQiLCJvZmZzY3JlZW4iLCJpc09mZnNjcmVlbiIsInBsYWNlQ29sbGlzaW9uQ2lyY2xlcyIsImxhYmVsVG9TY3JlZW5NYXRyaXgiLCJzaG93Q29sbGlzaW9uQ2lyY2xlcyIsImNpcmNsZVBpeGVsRGlhbWV0ZXIiLCJ0ZXh0UGl4ZWxQYWRkaW5nIiwicGxhY2VkQ29sbGlzaW9uQ2lyY2xlcyIsImdldEF0VGlsZU9mZnNldEZ1bmMiLCJ0aWxlVW5pdEFuY2hvclBvaW50Iiwic2NyZWVuQW5jaG9yUG9pbnQiLCJsYWJlbFBsYW5lRm9udFNjYWxlIiwiT05FX0VNIiwic3ltYm9sUHJvamVjdGlvbiIsImNvbGxpc2lvbkRldGVjdGVkIiwiaW5HcmlkIiwiZW50aXJlbHlPZmZzY3JlZW4iLCJzY3JlZW5QbGFuZU1pbiIsInNjcmVlblBsYW5lTWF4IiwiaW50ZXJwb2xhdG9yIiwiZmlyc3RMZW4iLCJwcm9qZWN0ZWRQYXRoIiwiY2lyY2xlRGlzdCIsImluZGV4Iiwic2VnbWVudHMiLCJtaW54IiwibWF4eCIsIm1pbnkiLCJtYXh5IiwiY2xpcExpbmUiLCJzZWciLCJudW1DaXJjbGVzIiwiY2lyY2xlUG9zaXRpb24iLCJjZW50ZXJYIiwiY2VudGVyWSIsInF1ZXJ5UmVuZGVyZWRTeW1ib2xzIiwidmlld3BvcnRRdWVyeUdlb21ldHJ5IiwiZ3JpZFBvaW50IiwiZmVhdHVyZXMiLCJjb25jYXQiLCJzZWVuRmVhdHVyZXMiLCJmZWF0dXJlS2V5IiwiYnVja2V0SW5zdGFuY2VJZCIsImJib3giLCJpbnRlcnNlY3Rpb25UZXN0cyIsInBvbHlnb25JbnRlcnNlY3RzUG9seWdvbiIsImluc2VydENvbGxpc2lvbkJveCIsImlnbm9yZVBsYWNlbWVudCIsImNvbGxpc2lvbkdyb3VwSUQiLCJpbnNlcnRDb2xsaXNpb25DaXJjbGVzIiwiY29sbGlzaW9uQ2lyY2xlcyIsImNoZWNrT2NjbHVzaW9uIiwiYnVja2V0UHJvamVjdGlvbiIsImJlaGluZEZvZyIsImZvZ09wYWNpdHkiLCJ0aWxlSWQiLCJtYXQiLCJjYWxjdWxhdGVGb2dUaWxlTWF0cml4IiwiZ2V0Rm9nT3BhY2l0eUF0VGlsZUNvb3JkIiwiZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZSIsImdldFZpZXdwb3J0TWF0cml4IiwicmVjb25zdHJ1Y3RUaWxlTWF0cml4IiwidGlsZU1hdHJpeCIsImNyZWF0ZVRpbGVNYXRyaXgiLCJwcm9qTWF0cml4IiwiZ2V0Q29sbGlzaW9uRGVidWdUaWxlUHJvamVjdGlvbk1hdHJpeCIsImdldFN5bWJvbFRpbGVQcm9qZWN0aW9uTWF0cml4IiwiT3BhY2l0eVN0YXRlIiwicHJldlN0YXRlIiwiaW5jcmVtZW50IiwicGxhY2VkIiwic2tpcEZhZGUiLCJvcGFjaXR5IiwiaXNIaWRkZW4iLCJKb2ludE9wYWNpdHlTdGF0ZSIsInBsYWNlZFRleHQiLCJwbGFjZWRJY29uIiwiY2xpcHBlZCIsIkpvaW50UGxhY2VtZW50IiwiQ29sbGlzaW9uQ2lyY2xlQXJyYXkiLCJpbnZQcm9qTWF0cml4Iiwidmlld3BvcnRNYXRyaXgiLCJSZXRhaW5lZFF1ZXJ5RGF0YSIsInNvdXJjZUxheWVySW5kZXgiLCJidWNrZXRJbmRleCIsIkNvbGxpc2lvbkdyb3VwcyIsImNyb3NzU291cmNlQ29sbGlzaW9ucyIsIm1heEdyb3VwSUQiLCJjb2xsaXNpb25Hcm91cHMiLCJzb3VyY2VJRCIsIklEIiwibmV4dEdyb3VwSUQiLCJjYWxjdWxhdGVWYXJpYWJsZUxheW91dFNoaWZ0IiwidGV4dE9mZnNldCIsInRleHRTY2FsZSIsImhvcml6b250YWxBbGlnbiIsInZlcnRpY2FsQWxpZ24iLCJnZXRBbmNob3JBbGlnbm1lbnQiLCJzaGlmdFgiLCJzaGlmdFkiLCJldmFsdWF0ZVZhcmlhYmxlT2Zmc2V0Iiwib2Zmc2V0U2hpZnQiLCJfcm90YXRlIiwiUGxhY2VtZW50IiwiZmFkZUR1cmF0aW9uIiwicHJldlBsYWNlbWVudCIsImNvbGxpc2lvbkluZGV4IiwicGxhY2VtZW50cyIsIm9wYWNpdGllcyIsInZhcmlhYmxlT2Zmc2V0cyIsInN0YWxlIiwiY29tbWl0VGltZSIsInJldGFpbmVkUXVlcnlEYXRhIiwiY29sbGlzaW9uQ2lyY2xlQXJyYXlzIiwicGxhY2VkT3JpZW50YXRpb25zIiwiZ2V0QnVja2V0UGFydHMiLCJyZXN1bHRzIiwic3R5bGVMYXllciIsInNvcnRBY3Jvc3NUaWxlcyIsInN5bWJvbEJ1Y2tldCIsImdldEJ1Y2tldCIsImJ1Y2tldEZlYXR1cmVJbmRleCIsImxhdGVzdEZlYXR1cmVJbmRleCIsImxheWVySWRzIiwibGF5b3V0IiwiY29sbGlzaW9uQm94QXJyYXkiLCJ1bndyYXBwZWRUaWxlSUQiLCJjb21waWxlRmlsdGVyIiwiZHluYW1pY0ZpbHRlciIsImR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUiLCJwaXhlbHNUb1RpbGVzIiwiY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgiLCJ0ZXh0TGFiZWxQbGFuZU1hdHJpeCIsImdsTWF0cml4IiwibXVsdGlwbHkiLCJjbGlwcGluZ0RhdGEiLCJob2xkaW5nRm9yRmFkZSIsInBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplIiwiZXZhbHVhdGVTaXplRm9yWm9vbSIsInBhcnRpYWxseUV2YWx1YXRlZEljb25TaXplIiwiY29sbGlzaW9uR3JvdXAiLCJzb3J0S2V5UmFuZ2VzIiwic29ydEtleSIsInN5bWJvbEluc3RhbmNlU3RhcnQiLCJzeW1ib2xJbnN0YW5jZUVuZCIsInN5bWJvbEluc3RhbmNlcyIsImF0dGVtcHRBbmNob3JQbGFjZW1lbnQiLCJ0ZXh0Qm94IiwidGV4dEFsbG93T3ZlcmxhcCIsInN5bWJvbEluc3RhbmNlIiwiYm94SW5kZXgiLCJvcmllbnRhdGlvbiIsImljb25Cb3giLCJ0ZXh0U2l6ZSIsImljb25TaXplIiwidGV4dE9mZnNldDAiLCJ0ZXh0T2Zmc2V0MSIsImNyb3NzVGlsZUlEIiwicGxhY2VkR2x5cGhCb3hlcyIsImdldFN5bWJvbEluc3RhbmNlSWNvblNpemUiLCJwbGFjZWRJY29uU3ltYm9sSW5kZXgiLCJwcmV2QW5jaG9yIiwibWFya1VzZWRKdXN0aWZpY2F0aW9uIiwiYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCIsIm1hcmtVc2VkT3JpZW50YXRpb24iLCJwbGFjZUxheWVyQnVja2V0UGFydCIsImJ1Y2tldFBhcnQiLCJzZWVuQ3Jvc3NUaWxlSURzIiwidXBkYXRlQ29sbGlzaW9uQm94SWZOZWNlc3NhcnkiLCJ0ZXh0T3B0aW9uYWwiLCJpY29uT3B0aW9uYWwiLCJpY29uQWxsb3dPdmVybGFwIiwiaGFzSWNvblRleHRGaXQiLCJ6T3JkZXJCeVZpZXdwb3J0WSIsImFsd2F5c1Nob3dUZXh0IiwiaGFzSWNvbkRhdGEiLCJhbHdheXNTaG93SWNvbiIsImhhc1RleHREYXRhIiwiY29sbGlzaW9uQXJyYXlzIiwiZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyIsInVwZGF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyIsInBsYWNlU3ltYm9sIiwibnVtVmVydGljYWxHbHlwaFZlcnRpY2VzIiwiZ2xvYmFscyIsImxvYWRGZWF0dXJlIiwibGF5b3V0VmVydGV4QXJyYXlPZmZzZXQiLCJmaWx0ZXJGdW5jIiwiY2FsY3VsYXRlRGlzdGFuY2VUaWxlRGF0YSIsInBsYWNlVGV4dCIsInBsYWNlSWNvbiIsInRleHRPY2NsdWRlZCIsImljb25PY2NsdWRlZCIsInBsYWNlZFZlcnRpY2FsVGV4dCIsInBsYWNlZEdseXBoQ2lyY2xlcyIsInBsYWNlZEljb25Cb3hlcyIsInRleHRGZWF0dXJlSW5kZXgiLCJ2ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgiLCJpY29uRmVhdHVyZUluZGV4IiwidXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMiLCJ1cGRhdGVCb3hEYXRhIiwiZ2V0QXRUaWxlT2Zmc2V0IiwidXBkYXRlUHJldmlvdXNPcmllbnRhdGlvbklmTm90UGxhY2VkIiwiaXNQbGFjZWQiLCJwcmV2aW91c09yaWVudGF0aW9uIiwicHJldlBsYWNlZE9yaWVudGF0aW9uIiwicGxhY2VUZXh0Rm9yUGxhY2VtZW50TW9kZXMiLCJwbGFjZUhvcml6b250YWxGbiIsInBsYWNlVmVydGljYWxGbiIsInZlcnRpY2FsVGV4dEJveCIsInBsYWNlbWVudE1vZGUiLCJ3cml0aW5nTW9kZXMiLCJhbmNob3JzIiwicHJldk9mZnNldHMiLCJ1bnNoaWZ0IiwicGxhY2VCb3hGb3JWYXJpYWJsZUFuY2hvcnMiLCJjb2xsaXNpb25UZXh0Qm94IiwiY29sbGlzaW9uSWNvbkJveCIsImdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUiLCJ2YXJpYWJsZUljb25Cb3giLCJwbGFjZWRCb3giLCJwbGFjZW1lbnRBdHRlbXB0cyIsInZlcnRpY2FsSWNvbkJveCIsInByZXZPcmllbnRhdGlvbiIsInByZXZPZmZzZXQiLCJwbGFjZUJveCIsInBsYWNlZEZlYXR1cmUiLCJwbGFjZWRTeW1ib2wiLCJjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgiLCJ2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCIsImNvbGxpc2lvbkNpcmNsZURpYW1ldGVyIiwicGxhY2VJY29uRmVhdHVyZSIsInNoaWZ0UG9pbnQiLCJpY29uU2NhbGUiLCJpY29uV2l0aG91dFRleHQiLCJudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcyIsInRleHRXaXRob3V0SWNvbiIsIm51bUljb25WZXJ0aWNlcyIsImNpcmNsZUFycmF5Iiwibm90R2xvYmUiLCJqdXN0UmVsb2FkZWQiLCJzeW1ib2xJbmRleGVzIiwiZ2V0U29ydGVkU3ltYm9sSW5kZXhlcyIsInN5bWJvbEluZGV4IiwicGxhY2VkQW5jaG9yIiwibGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCIsInJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4IiwicmlnaHQiLCJqdXN0aWZpY2F0aW9uIiwiZ2V0QW5jaG9ySnVzdGlmaWNhdGlvbiIsImF1dG9JbmRleCIsImhvcml6b250YWxPcmllbnRhdGlvbiIsImhvcml6b250YWxPbmx5IiwidmVydGljYWxPcmllbnRhdGlvbiIsInBsYWNlZE9yaWVudGF0aW9uIiwiY29tbWl0Iiwibm93Iiwiem9vbUF0TGFzdFJlY2VuY3lDaGVjayIsInBsYWNlbWVudENoYW5nZWQiLCJwcmV2Wm9vbUFkanVzdG1lbnQiLCJ6b29tQWRqdXN0bWVudCIsInN5bWJvbEZhZGVDaGFuZ2UiLCJwcmV2T3BhY2l0aWVzIiwicHJldk9yaWVudGF0aW9ucyIsImpvaW50UGxhY2VtZW50IiwicHJldk9wYWNpdHkiLCJqb2ludE9wYWNpdHkiLCJsYXN0UGxhY2VtZW50Q2hhbmdlVGltZSIsInVwZGF0ZUxheWVyT3BhY2l0aWVzIiwidXBkYXRlQnVja2V0T3BhY2l0aWVzIiwib3BhY2l0eVZlcnRleEFycmF5IiwiaGFzSWNvbkNvbGxpc2lvbkJveERhdGEiLCJpY29uQ29sbGlzaW9uQm94IiwiY29sbGlzaW9uVmVydGV4QXJyYXkiLCJoYXNUZXh0Q29sbGlzaW9uQm94RGF0YSIsInRleHRDb2xsaXNpb25Cb3giLCJoYXNDbGlwcGluZyIsImR1cGxpY2F0ZU9wYWNpdHlTdGF0ZSIsInZhcmlhYmxlUGxhY2VtZW50IiwiZGVmYXVsdE9wYWNpdHlTdGF0ZSIsImFkZE9wYWNpdGllcyIsImljb25PclRleHQiLCJudW1WZXJ0aWNlcyIsInZpc2libGVJbnN0YW5jZUNvdW50Iiwib3BhY2l0eVN0YXRlIiwiaGFzVGV4dCIsImhhc0ljb24iLCJob3Jpem9udGFsSGlkZGVuIiwidmVydGljYWxIaWRkZW4iLCJwYWNrZWRPcGFjaXR5IiwicGFja09wYWNpdHkiLCJQQUNLRURfSElEREVOX09QQUNJVFkiLCJzeW1ib2xIaWRkZW4iLCJob3Jpem9udGFsSGlkZGVuVmFsdWUiLCJ2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCIsImljb25IaWRkZW4iLCJudW1WZXJ0aWNhbEljb25WZXJ0aWNlcyIsInVzZWQiLCJ2YXJpYWJsZU9mZnNldCIsInVwZGF0ZUNvbGxpc2lvblZlcnRpY2VzIiwidmVydGljYWxJY29uVXNlZCIsImZ1bGx5Q2xpcHBlZCIsInNvcnRGZWF0dXJlcyIsImZlYXR1cmVTb3J0T3JkZXIiLCJvcGFjaXR5VmVydGV4QnVmZmVyIiwiY29sbGlzaW9uVmVydGV4QnVmZmVyIiwiaW5zdGFuY2UiLCJwbGFjZW1lbnRJbnZQcm9qTWF0cml4IiwicGxhY2VtZW50Vmlld3BvcnRNYXRyaXgiLCJjb2xsaXNpb25DaXJjbGVBcnJheSIsImhhc1RyYW5zaXRpb25zIiwic3RpbGxSZWNlbnQiLCJkdXJhdGlvbkFkanVzdG1lbnQiLCJzZXRTdGFsZSIsIm5vdFVzZWQiLCJzaGlmdDI1Iiwic2hpZnQyNCIsInNoaWZ0MTciLCJzaGlmdDE2Iiwic2hpZnQ5Iiwic2hpZnQ4Iiwic2hpZnQxIiwidGFyZ2V0Qml0Iiwib3BhY2l0eUJpdHMiLCJMYXllclBsYWNlbWVudCIsIl9zb3J0QWNyb3NzVGlsZXMiLCJjb25zdGFudE9yIiwiX2N1cnJlbnRUaWxlSW5kZXgiLCJfY3VycmVudFBhcnRJbmRleCIsIl9zZWVuQ3Jvc3NUaWxlSURzIiwiX2J1Y2tldFBhcnRzIiwiY29udGludWVQbGFjZW1lbnQiLCJwbGFjZW1lbnQiLCJzaG91bGRQYXVzZVBsYWNlbWVudCIsImJ1Y2tldFBhcnRzIiwiUGF1c2VhYmxlUGxhY2VtZW50Iiwib3JkZXIiLCJmb3JjZUZ1bGxQbGFjZW1lbnQiLCJfY3VycmVudFBsYWNlbWVudEluZGV4IiwiX2ZvcmNlRnVsbFBsYWNlbWVudCIsIl9zaG93Q29sbGlzaW9uQm94ZXMiLCJfZG9uZSIsImlzRG9uZSIsImxheWVyVGlsZXMiLCJzdGFydFRpbWUiLCJlbGFwc2VkVGltZSIsInBsYWNlbWVudFpvb20iLCJfaW5Qcm9ncmVzc0xheWVyIiwicm91bmRpbmdGYWN0b3IiLCJUaWxlTGF5ZXJJbmRleCIsImluZGV4ZWRTeW1ib2xJbnN0YW5jZXMiLCJnZXRTY2FsZWRDb29yZGluYXRlcyIsImNoaWxkVGlsZUlEIiwiZmluZE1hdGNoZXMiLCJuZXdUaWxlSUQiLCJ6b29tQ3Jvc3NUaWxlSURzIiwiaW5kZXhlZEluc3RhbmNlcyIsInNjYWxlZFN5bWJvbENvb3JkIiwidGhpc1RpbGVTeW1ib2wiLCJDcm9zc1RpbGVJRHMiLCJtYXhDcm9zc1RpbGVJRCIsImdlbmVyYXRlIiwiQ3Jvc3NUaWxlU3ltYm9sTGF5ZXJJbmRleCIsImluZGV4ZXMiLCJ1c2VkQ3Jvc3NUaWxlSURzIiwiaGFuZGxlV3JhcEp1bXAiLCJ3cmFwRGVsdGEiLCJyb3VuZCIsInpvb21JbmRleGVzIiwibmV3Wm9vbUluZGV4IiwidW53cmFwVG8iLCJhZGRCdWNrZXQiLCJjcm9zc1RpbGVJRHMiLCJyZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMiLCJOdW1iZXIiLCJjaGlsZEluZGV4IiwiaXNDaGlsZE9mIiwicGFyZW50SW5kZXgiLCJzY2FsZWRUbyIsInJlbW92ZWRCdWNrZXQiLCJyZW1vdmVTdGFsZUJ1Y2tldHMiLCJjdXJyZW50SURzIiwidGlsZXNDaGFuZ2VkIiwidGlsZUtleSIsIkNyb3NzVGlsZVN5bWJvbEluZGV4IiwibGF5ZXJJbmRleGVzIiwibWF4QnVja2V0SW5zdGFuY2VJZCIsImJ1Y2tldHNJbkN1cnJlbnRQbGFjZW1lbnQiLCJsYXllckluZGV4Iiwic3ltYm9sQnVja2V0c0NoYW5nZWQiLCJjdXJyZW50QnVja2V0SURzIiwicHJ1bmVVbnVzZWRMYXllcnMiLCJ1c2VkTGF5ZXJzIiwidXNlZExheWVyTWFwIiwidXNlZExheWVyIiwiZXZlbnRlZCIsImVycm9ycyIsIl9lbWl0VmFsaWRhdGlvbkVycm9ycyIsImlkZW50aWZpZXIiLCJzdXBwb3J0ZWREaWZmT3BlcmF0aW9ucyIsImRpZmZPcGVyYXRpb25zIiwiaWdub3JlZERpZmZPcGVyYXRpb25zIiwiZW1wdHkiLCJzb3VyY2VzIiwiZHJhcGVkTGF5ZXJzIiwibGluZSIsImJhY2tncm91bmQiLCJoaWxsc2hhZGUiLCJTdHlsZSIsImdldFdvcmtlclBvb2wiLCJpbWFnZU1hbmFnZXIiLCJnbHlwaE1hbmFnZXIiLCJHbHlwaE1hbmFnZXIiLCJsb2NhbEZvbnRGYW1pbHkiLCJMb2NhbEdseXBoTW9kZSIsImFsbCIsImxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSIsImlkZW9ncmFwaHMiLCJub25lIiwiY3Jvc3NUaWxlU3ltYm9sSW5kZXgiLCJfbGF5ZXJzIiwiX251bTNETGF5ZXJzIiwiX251bVN5bWJvbExheWVycyIsIl9udW1DaXJjbGVMYXllcnMiLCJfc2VyaWFsaXplZExheWVycyIsIl9zb3VyY2VDYWNoZXMiLCJfb3RoZXJTb3VyY2VDYWNoZXMiLCJfc3ltYm9sU291cmNlQ2FjaGVzIiwiX2F2YWlsYWJsZUltYWdlcyIsIl9vcmRlciIsIl9kcmFwZWRGaXJzdE9yZGVyIiwiX21hcmtlcnNOZWVkVXBkYXRlIiwiX3Jlc2V0VXBkYXRlcyIsImdldFJlZmVycmVyIiwic2VsZiIsIl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2siLCJyZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlIiwiZXZlbnQiLCJwbHVnaW5TdGF0dXMiLCJwbHVnaW5VUkwiLCJ0cmlnZ2VyUGx1Z2luQ29tcGxldGlvbkV2ZW50IiwiZWxlbSIsInNvdXJjZUNhY2hlVHlwZSIsImdldFNvdXJjZSIsIm9uIiwiX3ZhbGlkYXRlTGF5ZXIiLCJsb2FkVVJMIiwiaXNNYXBib3hVUkwiLCJub3JtYWxpemVTdHlsZVVSTCIsImFjY2Vzc1Rva2VuIiwiX3JlcXVlc3QiLCJqc29uIiwiX2xvYWQiLCJsb2FkSlNPTiIsImxvYWRFbXB0eSIsIl91cGRhdGVMYXllckNvdW50IiwiY291bnQiLCJpczNEIiwic3R5bGVzaGVldCIsIl91cGRhdGVNYXBQcm9qZWN0aW9uIiwiX2NoYW5nZWQiLCJfbG9hZFNwcml0ZSIsInNldFVSTCIsImNyZWF0ZVN0eWxlTGF5ZXIiLCJfc2VyaWFsaXplTGF5ZXJzIiwidGVycmFpblNldEZvckRyYXBpbmdPbmx5IiwiX2NyZWF0ZVRlcnJhaW4iLCJfY3JlYXRlRm9nIiwiX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMiLCJhcHBseVByb2plY3Rpb25VcGRhdGUiLCJwcm9qZWN0aW9uT3B0aW9ucyIsInJlcXVpcmVzRHJhcGluZyIsImdldFRlcnJhaW4iLCJzZXRUZXJyYWluRm9yRHJhcGluZyIsIl91c2VFeHBsaWNpdFByb2plY3Rpb24iLCJfcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24iLCJfc3ByaXRlUmVxdWVzdCIsImJhc2VVUkwiLCJmb3JtYXQiLCJqc29uUmVxdWVzdCIsIm5vcm1hbGl6ZVNwcml0ZVVSTCIsIlNwcml0ZUpTT04iLCJtYXliZUNvbXBsZXRlIiwiaW1hZ2VSZXF1ZXN0IiwiU3ByaXRlSW1hZ2UiLCJsb2FkU3ByaXRlIiwiX3VwZGF0ZWRTb3VyY2VzIiwiX29wdGltaXplRm9yVGVycmFpbiIsImlzTGF5ZXJEcmFwZWQiLCJfY2hlY2tMb2FkZWQiLCJjaGFuZ2VkIiwidXBkYXRlZElkcyIsIl91cGRhdGVkTGF5ZXJzIiwicmVtb3ZlZElkcyIsIl9yZW1vdmVkTGF5ZXJzIiwiX3VwZGF0ZVdvcmtlckxheWVycyIsImFjdGlvbiIsIl9yZWxvYWRTb3VyY2UiLCJfdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzIiwiX3VwZGF0ZWRQYWludFByb3BzIiwic291cmNlc1VzZWRCZWZvcmUiLCJfZ2V0TGF5ZXJTb3VyY2VDYWNoZSIsInByb2dyYW1JZHMiLCJnZXRQcm9ncmFtSWRzIiwicHJvZ3JhbUNvbmZpZ3VyYXRpb24iLCJnZXRQcm9ncmFtQ29uZmlndXJhdGlvbiIsInByb2dyYW1JZCIsIl91cGRhdGVNYXJrZXJzT3BhY2l0eSIsImNoYW5nZWRJbWFnZXMiLCJfY2hhbmdlZEltYWdlcyIsInJlbG9hZFRpbGVzRm9yRGVwZW5kZW5jaWVzIiwic2V0U3RhdGUiLCJuZXh0U3RhdGUiLCJjaGFuZ2VzIiwiYmVhcmluZyIsInRyYW5zaXRpb24iLCJyZW1vdmVPckFkZFNvdXJjZUNvbW1hbmRzIiwiZGlmZlNvdXJjZXMiLCJiZWZvcmVMYXllcnMiLCJiZWZvcmVUZXJyYWluIiwiYmVmb3JlT3JkZXIiLCJhZnRlck9yZGVyIiwiYmVmb3JlSW5kZXgiLCJhZnRlckluZGV4IiwidHJhY2tlciIsImNsZWFuIiwiZCIsImJlZm9yZUxheWVyIiwiYWZ0ZXJMYXllciIsImluc2VydEJlZm9yZUxheWVySWQiLCJwYWludCIsImRpZmZMYXllcnMiLCJkaWZmU3R5bGVzIiwib3AiLCJ1bmltcGxlbWVudGVkT3BzIiwiYXBwbHkiLCJfYWZ0ZXJJbWFnZVVwZGF0ZWQiLCJ2YWxpZGF0ZVNvdXJjZSIsInNvdXJjZUluc3RhbmNlIiwiY3JlYXRlU291cmNlIiwiaXNTb3VyY2VMb2FkZWQiLCJfaXNTb3VyY2VDYWNoZUxvYWRlZCIsImFkZFNvdXJjZUNhY2hlIiwib25seVN5bWJvbHMiLCJzb3VyY2VDYWNoZUlkIiwiU291cmNlQ2FjaGUiLCJzb3VyY2VDYWNoZXMiLCJfZ2V0U291cmNlQ2FjaGVzIiwiX2dldFNvdXJjZUNhY2hlIiwiX2dldFNvdXJjZXMiLCJsYXllck9iamVjdCIsImdldExheWVyIiwidmFsaWRhdGVDdXN0b21TdHlsZUxheWVyIiwidmFsaWRhdGVMYXllciIsImFycmF5SW5kZXgiLCJfbGF5ZXJPcmRlckNoYW5nZWQiLCJyZW1vdmVkIiwiX3VwZGF0ZUxheWVyIiwibW92ZUxheWVyIiwibmV3SW5kZXgiLCJoYXNMYXllciIsImhhc0xheWVyVHlwZSIsInZhbGlkYXRlRmlsdGVyIiwibGF5ZXJUeXBlIiwiZ2V0RmlsdGVyIiwiZ2V0TGF5b3V0UHJvcGVydHkiLCJnZXRQYWludFByb3BlcnR5Iiwic2V0RmVhdHVyZVN0YXRlIiwidGFyZ2V0Iiwic291cmNlVHlwZSIsInJlbW92ZUZlYXR1cmVTdGF0ZSIsImdldFRyYW5zaXRpb24iLCJkdXJhdGlvbiIsImRlbGF5IiwiY2FjaGVJZCIsImZpbHRlck9iamVjdCIsIm1ldGFkYXRhIiwiaW52YWxpZGF0ZUNvbXBpbGVkRmlsdGVyIiwiX2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcyIsInNvdXJjZVJlc3VsdHMiLCJpc0xheWVyM0QiLCJmZWF0dXJlczNEIiwic291cmNlUmVzdWx0IiwibGF5ZXJGZWF0dXJlcyIsImludGVyc2VjdGlvbloiLCJ0b3Btb3N0M0QiLCJwb3AiLCJpbmNsdWRlZFNvdXJjZXMiLCJhdmFpbGFibGVJbWFnZXMiLCJoYXMzRExheWVyIiwiaGFzM0RMYXllcnMiLCJxdWVyeUdlb21ldHJ5U3RydWN0IiwiY3JlYXRlRnJvbVNjcmVlblBvaW50cyIsIl9zaG93UXVlcnlHZW9tZXRyeSIsImdldExheWVyU291cmNlQ2FjaGUiLCJyZW5kZXJlZFN5bWJvbHMiLCJidWNrZXRRdWVyeURhdGEiLCJxdWVyeURhdGEiLCJidWNrZXRTeW1ib2xzIiwibG9va3VwU3ltYm9sRmVhdHVyZXMiLCJsYXllclN5bWJvbHMiLCJzb3J0ZWRBIiwic3ltYm9sRmVhdHVyZSIsImxheWVyTmFtZSIsImFkZFNvdXJjZVR5cGUiLCJTb3VyY2VUeXBlIiwiZ2V0U291cmNlVHlwZSIsInNldFNvdXJjZVR5cGUiLCJ3b3JrZXJTb3VyY2VVUkwiLCJfc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMiLCJfZm9yY2UzRExheWVyVXBkYXRlIiwidmFsaWRhdGVUZXJyYWluIiwiY3VyclNwZWMiLCJfbWFya2VycyIsIl9yZXF1ZXN0RG9tVGFzayIsIm1hcmtlciIsIl9ldmFsdWF0ZU9wYWNpdHkiLCJnZXRGb2ciLCJ0cmFuc2l0aW9uT3B0aW9ucyIsImRyYXBlZCIsIm5vbkRyYXBlZCIsIl9mb3JjZVN5bWJvbExheWVyVXBkYXRlIiwicHJvcHMiLCJfcmVtb3ZlIiwicnRsVGV4dFBsdWdpbkV2ZW50ZWQiLCJvZmYiLCJyZXN1bWUiLCJfcmVsb2FkU291cmNlcyIsIl91cGRhdGVTb3VyY2VzIiwiX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMiLCJfdXBkYXRlUGxhY2VtZW50IiwicGxhY2VtZW50Q29tbWl0dGVkIiwiaXNMZXNzVGhhbiIsImxheWVyQnVja2V0c0NoYW5nZWQiLCJwYXVzZWFibGVQbGFjZW1lbnQiLCJfcmVsZWFzZVN5bWJvbEZhZGVUaWxlcyIsInJlbGVhc2VTeW1ib2xGYWRlVGlsZXMiLCJpY29ucyIsInNldERlcGVuZGVuY2llcyIsImdldEdseXBocyIsInN0YWNrcyIsImdldFJlc291cmNlIiwibWFrZVJlcXVlc3QiLCJzYyIsImhhc1N5bWJvbExheWVycyIsImhhc0NpcmNsZUxheWVycyIsIl9jbGVhcldvcmtlckNhY2hlcyIsInByZWx1ZGVUZXJyYWluIiwicHJlbHVkZUZvZyIsImNvbW1vbkRlZmluZXMiLCJwYXJzZVVzZWRQcmVwcm9jZXNzb3JEZWZpbmVzIiwicHJlbHVkZUNvbW1vbiIsInByZWx1ZGVUZXJyYWluVmVydCIsInByZWx1ZGVGb2dWZXJ0IiwicHJlbHVkZUZvZ0ZyYWciLCJjb21waWxlIiwicHJlbHVkZSIsInByZWx1ZGVDb21tb25Tb3VyY2UiLCJwcmVsdWRlRnJhZ1ByZWNpc2lvblF1YWxpZmllcnMiLCJzaGFkZXJzIiwiYmFja2dyb3VuZFBhdHRlcm4iLCJjbGlwcGluZ01hc2siLCJoZWF0bWFwIiwiaGVhdG1hcFRleHR1cmUiLCJjb2xsaXNpb25DaXJjbGUiLCJkZWJ1ZyIsImZpbGxPdXRsaW5lIiwiZmlsbE91dGxpbmVQYXR0ZXJuIiwiZmlsbFBhdHRlcm4iLCJmaWxsRXh0cnVzaW9uIiwiZmlsbEV4dHJ1c2lvblBhdHRlcm4iLCJoaWxsc2hhZGVQcmVwYXJlIiwibGluZVBhdHRlcm4iLCJzeW1ib2xJY29uIiwic3ltYm9sU0RGIiwic3ltYm9sVGV4dEFuZEljb24iLCJ0ZXJyYWluUmFzdGVyIiwidGVycmFpbkRlcHRoIiwic2t5Ym94Iiwic2t5Ym94VmVydCIsInNreWJveEdyYWRpZW50Iiwic2t5Ym94Q2FwdHVyZSIsImdsb2JlUmFzdGVyIiwiZ2xvYmVBdG1vc3BoZXJlIiwiZGVmaW5lcyIsImxpbmVzIiwic3BsaXQiLCJ0cmltIiwiaW5jbHVkZXMiLCJuZXdEZWZpbmVzIiwiZGVmaW5lIiwiZnJhZ21lbnRTb3VyY2UiLCJ2ZXJ0ZXhTb3VyY2UiLCJwcmFnbWFSZWdleCIsInN0YXRpY0F0dHJpYnV0ZXMiLCJtYXRjaCIsImZyYWdtZW50UHJhZ21hcyIsInVzZWREZWZpbmVzIiwib3BlcmF0aW9uIiwicHJlY2lzaW9uIiwiYXR0clR5cGUiLCJ1bnBhY2tUeXBlIiwiVmVydGV4QXJyYXlPYmplY3QiLCJib3VuZFByb2dyYW0iLCJib3VuZExheW91dFZlcnRleEJ1ZmZlciIsImJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzIiwiYm91bmRJbmRleEJ1ZmZlciIsImJvdW5kVmVydGV4T2Zmc2V0IiwiYm91bmREeW5hbWljVmVydGV4QnVmZmVycyIsImxheW91dFZlcnRleEJ1ZmZlciIsInBhaW50VmVydGV4QnVmZmVycyIsImluZGV4QnVmZmVyIiwiZHluYW1pY1ZlcnRleEJ1ZmZlcnMiLCJwYWludEJ1ZmZlcnNEaWZmZXIiLCJkeW5hbWljQnVmZmVyc0RpZmZlciIsImZyZXNoQmluZCIsImR5bmFtaWNCdWZmZXIiLCJudW1QcmV2QXR0cmlidXRlcyIsIm51bU5leHRBdHRyaWJ1dGVzIiwibnVtQXR0cmlidXRlcyIsImN1cnJlbnROdW1BdHRyaWJ1dGVzIiwiZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5IiwidmVydGV4QnVmZmVyIiwiZ2V0VGlsZUxhdFJhbmdlIiwidG9MbmdMYXQiLCJyZW5kZXJIaWxsc2hhZGUiLCJwcmVwYXJlRHJhd1RpbGUiLCJ1bmlmb3JtVmFsdWVzIiwic2hhZG93IiwiaGlnaGxpZ2h0IiwiYWNjZW50IiwiYWxpZ24iLCJtb3ZpbmciLCJ1X21hdHJpeCIsInVfaW1hZ2UiLCJ1X2xhdHJhbmdlIiwidV9saWdodCIsInVfc2hhZG93IiwidV9oaWdobGlnaHQiLCJ1X2FjY2VudCIsImhpbGxzaGFkZVVuaWZvcm1WYWx1ZXMiLCJwcmVwYXJlRHJhd1Byb2dyYW0iLCJ0aWxlQm91bmRzQnVmZmVyIiwidGlsZUJvdW5kc0luZGV4QnVmZmVyIiwidGlsZUJvdW5kc1NlZ21lbnRzIiwiZ2V0VGlsZUJvdW5kc0J1ZmZlcnMiLCJkcmF3IiwiVFJJQU5HTEVTIiwiQ3VsbEZhY2VNb2RlIiwiZGlzYWJsZWQiLCJwcmVwYXJlREVNVGV4dHVyZSIsImdldFRpbGVUZXh0dXJlIiwic3RyaWRlIiwicGl4ZWxEYXRhIiwiZ2V0UGl4ZWxzIiwicHJlcGFyZUhpbGxzaGFkZSIsIlRFWFRVUkUxIiwiTkVBUkVTVCIsInJlbmRlclRleHR1cmUiLCJnZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzIiwidV9kaW1lbnNpb24iLCJ1X3pvb20iLCJ1X3VucGFjayIsInVucGFja1ZlY3RvciIsImhpbGxzaGFkZVVuaWZvcm1QcmVwYXJlVmFsdWVzIiwidGVycmFpblJhc3RlclVuaWZvcm1zIiwiVW5pZm9ybU1hdHJpeDRmIiwidV9pbWFnZTAiLCJVbmlmb3JtMWkiLCJ1X3NraXJ0X2hlaWdodCIsIlVuaWZvcm0xZiIsInRlcnJhaW5SYXN0ZXJVbmlmb3JtVmFsdWVzIiwic2tpcnRIZWlnaHQiLCJnbG9iZVJhc3RlclVuaWZvcm1WYWx1ZXMiLCJnbG9iZU1lcmNhdG9yTWF0cml4Iiwibm9ybWFsaXplTWF0cml4Iiwiem9vbVRyYW5zaXRpb24iLCJtZXJjQ2VudGVyIiwiZnJ1c3R1bURpclRsIiwiZnJ1c3R1bURpclRyIiwiZnJ1c3R1bURpckJyIiwiZnJ1c3R1bURpckJsIiwiZ2xvYmVQb3NpdGlvbiIsImdsb2JlUmFkaXVzIiwiZ3JpZE1hdHJpeCIsInVfcHJval9tYXRyaXgiLCJ1X2dsb2JlX21hdHJpeCIsInVfbm9ybWFsaXplX21hdHJpeCIsInVfbWVyY19tYXRyaXgiLCJ1X3pvb21fdHJhbnNpdGlvbiIsInVfbWVyY19jZW50ZXIiLCJ1X2ZydXN0dW1fdGwiLCJ1X2ZydXN0dW1fdHIiLCJ1X2ZydXN0dW1fYnIiLCJ1X2ZydXN0dW1fYmwiLCJ1X2dsb2JlX3BvcyIsInVfZ2xvYmVfcmFkaXVzIiwidV92aWV3cG9ydCIsInVfZ3JpZF9tYXRyaXgiLCJkZW1UaWxlQ2hhbmdlZCIsIm5leHQiLCJoYXNEYXRhIiwidmVydGV4TW9ycGhpbmciLCJuZXdNb3JwaGluZyIsInRvIiwicXVldWVkIiwicGhhc2UiLCJnZXRNb3JwaFZhbHVlc0ZvclByb3h5IiwiX3ZhbGlkT3AiLCJfbmV4dE9wIiwic2hhZGVyRGVmaW5lcyIsImlzRWRnZVRpbGUiLCJjaWQiLCJyZW5kZXJXb3JsZENvcGllcyIsIm51bVRpbGVzIiwiY2xpcHBpbmdNYXNrVW5pZm9ybVZhbHVlcyIsInJhc3RlckZhZGUiLCJwYXJlbnRUaWxlIiwic2luY2VUaWxlIiwidGltZUFkZGVkIiwic2luY2VQYXJlbnQiLCJpZGVhbFoiLCJjb3ZlcmluZ1pvb21MZXZlbCIsImZhZGVJbiIsImNoaWxkT3BhY2l0eSIsInJlZnJlc2hlZFVwb25FeHBpcmF0aW9uIiwibWl4IiwiTW9ja1NvdXJjZUNhY2hlIiwic291cmNlU3BlYyIsInNvdXJjZURpc3BhdGNoZXIiLCJfc291cmNlTG9hZGVkIiwiX2xvYWRUaWxlIiwiUHJveHlTb3VyY2VDYWNoZSIsInJlbmRlckNhY2hlIiwicmVuZGVyQ2FjaGVQb29sIiwicHJveHlDYWNoZWRGQk8iLCJ1cGRhdGVGb3JUZXJyYWluIiwiZnJlZXplVGlsZUNvdmVyYWdlIiwiaW5jb21pbmciLCJfc291cmNlIiwiYWNjIiwiX3RpbGVzIiwiZnJlZUZCTyIsImZib3MiLCJmYm9JZHMiLCJ2YWx1ZXMiLCJkZWFsbG9jUmVuZGVyQ2FjaGUiLCJmYiIsIlByb3hpZWRUaWxlSUQiLCJwcm94eVRpbGVLZXkiLCJFbGV2YXRpb24iLCJ0ZXJyYWluVGlsZUZvclRpbGUiLCJwcmV2VGVycmFpblRpbGVGb3JUaWxlIiwidHJpYW5nbGVHcmlkQXJyYXkiLCJ0cmlhbmdsZUdyaWRJbmRpY2VzIiwic2tpcnRJbmRpY2VzT2Zmc2V0IiwiUG9zQXJyYXkiLCJpbmRleEFycmF5IiwiVHJpYW5nbGVJbmRleEFycmF5IiwicmVzZXJ2ZSIsInN0ZXAiLCJncmlkQm91bmQiLCJib3VuZCIsInhpIiwieWkiLCJxdWFkIiwiY3JlYXRlR3JpZCIsImdyaWRCdWZmZXIiLCJwb3NBdHRyaWJ1dGVzIiwiZ3JpZEluZGV4QnVmZmVyIiwiZ3JpZFNlZ21lbnRzIiwiZ3JpZE5vU2tpcnRTZWdtZW50cyIsInByb3h5Q29vcmRzIiwicHJveGllZENvb3JkcyIsIl92aXNpYmxlRGVtVGlsZXMiLCJfZHJhcGVkUmVuZGVyQmF0Y2hlcyIsIl9zb3VyY2VUaWxlc092ZXJsYXAiLCJwcm94eVNvdXJjZUNhY2hlIiwib3J0aG9NYXRyaXgiLCJfb3ZlcmxhcFN0ZW5jaWxNb2RlIiwiU3RlbmNpbE1vZGUiLCJHRVFVQUwiLCJSRVBMQUNFIiwiX3ByZXZpb3VzWm9vbSIsInBvb2wiLCJfZmluZENvdmVyaW5nVGlsZUNhY2hlIiwiX3RpbGVzRGlydHkiLCJfdXNlVmVydGV4TW9ycGhpbmciLCJfZXhhZ2dlcmF0aW9uIiwiX21vY2tTb3VyY2VDYWNoZSIsIl9vblN0eWxlRGF0YUV2ZW50IiwiX2NoZWNrUmVuZGVyQ2FjaGVFZmZpY2llbmN5IiwiX3N0eWxlIiwiX2NsZWFyTGluZUxheWVyc0Zyb21SZW5kZXJDYWNoZSIsImFkYXB0Q2FtZXJhQWx0aXR1ZGUiLCJlbmFibGVkIiwidGVycmFpblByb3BzIiwidXBkYXRlU291cmNlQ2FjaGUiLCJzY2FsZWREZW1UaWxlU2l6ZSIsImdldFNjYWxlZERlbVRpbGVTaXplIiwicmVzZXRUaWxlTG9va3VwQ2FjaGUiLCJ1c2VkRm9yVGVycmFpbiIsIl9pbml0aWFsaXppbmciLCJ1cGRhdGVFbGV2YXRpb24iLCJfZW1wdHlERU1UZXh0dXJlRGlydHkiLCJfZGlzYWJsZSIsInNvdXJjZUNhY2hlSUQiLCJyZW5kZXJDYWNoZUluZm8iLCJyZW5kZXJDYWNoZUVmZmljaWVuY3kiLCJlZmZpY2llbmN5IiwiZmlyc3RVbmRyYXBlZExheWVyIiwiX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlIiwiX2ludmFsaWRhdGVSZW5kZXJDYWNoZSIsIl9zaGFyZWREZXB0aFN0ZW5jaWwiLCJfZW1wdHlERU1UZXh0dXJlIiwiX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlIiwiX2RlcHRoRkJPIiwiX2RlcHRoVGV4dHVyZSIsImlzVXNpbmdNb2NrU291cmNlIiwidmlzaWJsZURlbVRpbGVzIiwiZHJhcGVCdWZmZXJTaXplIiwidXNlVmVydGV4TW9ycGhpbmciLCJ1cGRhdGVUaWxlQmluZGluZyIsInNvdXJjZXNDb29yZHMiLCJwc2MiLCJfY2VudGVyQWx0aXR1ZGUiLCJnZXRJZHMiLCJ0aWxlSURzIiwiY2FtZXJhQ29vcmRpbmF0ZSIsInBvaW50Q29vcmRpbmF0ZSIsImFQb2ludCIsImJQb2ludCIsImNhbWVyYVNjYWxlZCIsImRpc3RTcXIiLCJzb3J0QnlEaXN0YW5jZVRvQ2FtZXJhIiwicHJldmlvdXNQcm94eVRvU291cmNlIiwicHJveHlUb1NvdXJjZSIsIl9zZXR1cFByb3hpZWRDb29yZHNGb3JPcnRobyIsIl9hc3NpZ25UZXJyYWluVGlsZXMiLCJfcHJlcGFyZURFTVRleHR1cmVzIiwiX3NldHVwRHJhcGVkUmVuZGVyQmF0Y2hlcyIsIl9pbml0RkJPUG9vbCIsIl9zZXR1cFJlbmRlckNhY2hlIiwicmVuZGVyaW5nVG9UZXh0dXJlIiwiX3VwZGF0ZVRpbWVzdGFtcCIsInZpc2libGVLZXlzIiwiZGVtVGlsZSIsIl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEIiwiX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXMiLCJwcm94eVRpbGUiLCJ1bmlmb3JtcyIsInVuaWZvcm1TdWZmaXgiLCJwcm94eUlkIiwiZGVtU2NhbGVCeSIsInN1ZmZpeCIsImVtcHR5REVNVGV4dHVyZSIsIl91cGRhdGVFbXB0eURFTVRleHR1cmUiLCJlbXB0eURlcHRoQnVmZmVyVGV4dHVyZSIsIm9mIiwiX2dldExvYWRlZEFyZWFNaW5pbXVtIiwibm9uemVybyIsInRyZWUiLCJtaW5pbXVtcyIsIlRFWFRVUkUyIiwiREVNRGF0YSIsInBhY2siLCJzZXR1cEVsZXZhdGlvbkRyYXciLCJ1X2RlbSIsInVfZGVtX3ByZXYiLCJ1X2RlbV91bnBhY2siLCJnZXRVbnBhY2tWZWN0b3IiLCJ1X2RlbV90bCIsInVfZGVtX3RsX3ByZXYiLCJ1X2RlbV9zY2FsZSIsInVfZGVtX3NjYWxlX3ByZXYiLCJ1X2RlbV9zaXplIiwidV9kZW1fbGVycCIsInVfZGVwdGgiLCJ1X2RlcHRoX3NpemVfaW52IiwidV9leGFnZ2VyYXRpb24iLCJwcmV2RGVtVGlsZSIsIm1vcnBoaW5nUGhhc2UiLCJtb3JwaGluZyIsInNyY1RpbGUiLCJzcmNEZW1UaWxlIiwiZHN0VGlsZSIsImRzdERlbVRpbGUiLCJURVhUVVJFNCIsIlRFWFRVUkUzIiwidXNlRGVwdGhGb3JPY2NsdXNpb24iLCJ1c2VNZXRlclRvRGVtIiwibWV0ZXJUb0RFTSIsIm1lcmNhdG9yWmZyb21BbHRpdHVkZSIsImxhYmVsUGxhbmVNYXRyaXhJbnYiLCJzZXRUZXJyYWluVW5pZm9ybVZhbHVlcyIsImdsb2JlVW5pZm9ybXMiLCJnbG9iZVVuaWZvcm1WYWx1ZXMiLCJ1c2VEZW5vcm1hbGl6ZWRVcFZlY3RvclNjYWxlIiwic2V0R2xvYmVVbmlmb3JtVmFsdWVzIiwidV90aWxlX3RsX3VwIiwidV90aWxlX3RyX3VwIiwidV90aWxlX2JyX3VwIiwidV90aWxlX2JsX3VwIiwidV90aWxlX3VwX3NjYWxlIiwiZ2xvYmVNZXRlcnNUb0VjZWYiLCJyZW5kZXJUb0JhY2tCdWZmZXIiLCJhY2N1bXVsYXRlZERyYXBlcyIsImdwdVRpbWluZ0RlZmVycmVkUmVuZGVyU3RhcnQiLCJwcm9ncmFtTW9kZSIsInNob3dXaXJlZnJhbWUiLCJzaG93VGVycmFpbldpcmVmcmFtZSIsInVzZUN1c3RvbUFudGlhbGlhc2luZyIsImdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nIiwic2V0U2hhZGVyTW9kZSIsImlzV2lyZWZyYW1lIiwiY29sb3JNb2RlRm9yUmVuZGVyUGFzcyIsIkRlcHRoTW9kZSIsIkxFUVVBTCIsIlJlYWRXcml0ZSIsImRlcHRoUmFuZ2VGb3IzRCIsImNhbGN1bGF0ZUdsb2JlTWVyY2F0b3JNYXRyaXgiLCJtZXJjYXRvckNlbnRlciIsImJhdGNoZXMiLCJzaGFyZWRCdWZmZXJzIiwiZ2xvYmVTaGFyZWRCdWZmZXJzIiwiZWxldmF0aW9uT3B0aW9ucyIsInNraXJ0SGVpZ2h0VmFsdWUiLCJwcmltaXRpdmUiLCJMSU5FUyIsImdldFRpbGUiLCJuZXh0RGVtVGlsZSIsIm1vcnBoIiwic2hhZGVyTW9kZSIsImVhc2VDdWJpY0luT3V0IiwidGlsZUNvcm5lcnNUb0JvdW5kcyIsImxhdGl0dWRpbmFsTG9kIiwiZ2V0TGF0aXR1ZGluYWxMb2QiLCJnZXRDZW50ZXIiLCJnZXRHcmlkTWF0cml4IiwiZ2xvYmVOb3JtYWxpemVFQ0VGIiwiZ2xvYmVUaWxlQm91bmRzIiwiZnJ1c3R1bUNvcm5lcnMiLCJUTCIsIlRSIiwiQlIiLCJCTCIsImdsb2JlQ2VudGVySW5WaWV3U3BhY2UiLCJnZXRXaXJlZmFtZUJ1ZmZlcnMiLCJnZXRHcmlkQnVmZmVycyIsImJhY2tDQ1ciLCJ0b3BDYXAiLCJib3R0b21DYXAiLCJub3J0aFBvbGVCdWZmZXIiLCJzb3V0aFBvbGVCdWZmZXIiLCJnZXRQb2xlQnVmZmVycyIsInBvbGVNYXRyaXgiLCJnbG9iZVBvbGVNYXRyaXhGb3JUaWxlIiwiZHJhd1BvbGUiLCJkcmF3VGVycmFpbkZvckdsb2JlIiwibW9kZXMiLCJza2lydCIsImdldFdpcmVmYW1lQnVmZmVyIiwiTElORUFSX01JUE1BUF9ORUFSRVNUIiwiZHJhd1RlcnJhaW5SYXN0ZXIiLCJncHVUaW1pbmdEZWZlcnJlZFJlbmRlckVuZCIsInJlbmRlckJhdGNoIiwic3RhcnRMYXllckluZGV4IiwicHJveGllcyIsImRyYXBlZExheWVyQmF0Y2giLCJwb29sSW5kZXgiLCJwcm94eSIsInJlbmRlckNhY2hlSW5kZXgiLCJ1c2VSZW5kZXJDYWNoZSIsInRleCIsImN1cnJlbnRTdGVuY2lsU291cmNlIiwicmVuZGVyZWRUb1RpbGUiLCJfc2V0dXBTdGVuY2lsIiwicmVuZGVyTGF5ZXIiLCJwb3N0UmVuZGVyIiwibGF5ZXJDb3VudCIsInVuY2FjaGVhYmxlTGF5ZXJDb3VudCIsImRyYXBlZExheWVyQ291bnQiLCJyZWFjaGVkVW5kcmFwZWRMYXllciIsImdldE1pbkVsZXZhdGlvbkJlbG93TVNMIiwicmF5Y2FzdCIsInByZXBhcmVkVGlsZXMiLCJyYXljYXN0Um9vdCIsIk1BWF9WQUxVRSIsIm9iaiIsIl9jcmVhdGVGQk8iLCJidWZmZXJTaXplIiwiREVQVEhfU1RFTkNJTCIsIl9zdGVuY2lsUmVmIiwidGV4UGFyYW1ldGVyZiIsIlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUIiwiX3Nob3VsZERpc2FibGVSZW5kZXJDYWNoZSIsInNob3VsZFJlZHJhcGUiLCJoYXNWZWN0b3JTb3VyY2UiLCJjbGVhclNvdXJjZUNhY2hlcyIsIndpZHRoRXhwcmVzc2lvbiIsIlpvb21EZXBlbmRlbnRFeHByZXNzaW9uIiwiX2NsZWFyUmFzdGVyTGF5ZXJzRnJvbVJlbmRlckNhY2hlIiwiaGFzUmFzdGVyU291cmNlIiwiZmFkZSIsImZpbmRMb2FkZWRQYXJlbnQiLCJiYXRjaFN0YXJ0IiwiY3VycmVudExheWVyIiwiZXF1YWwiLCJwcmV2VGlsZXMiLCJwcm94eUZCTyIsInNvcnRlZFJlbmRlckJhdGNoZXMiLCJiYXRjaEEiLCJiYXRjaEIiLCJiYXRjaCIsIl9vdmVybGFwU3RlbmNpbFR5cGUiLCJzdGVuY2lsUmFuZ2UiLCJFUVVBTCIsIkdSRUFURVIiLCJfcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MiLCJjbGlwT3JNYXNrT3ZlcmxhcFN0ZW5jaWxUeXBlIiwic3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwIiwiX3RpbGVDbGlwcGluZ01hc2tJRHMiLCJ0aWxlRXh0ZW50QnVmZmVyIiwicXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIiLCJ0aWxlRXh0ZW50U2VnbWVudHMiLCJzY3JlZW5Qb2ludCIsImZhciIsInBpeGVsTWF0cml4SW52ZXJzZSIsInNjYWxlJDEiLCJjYW1lcmEiLCJfY2FtZXJhIiwibWVyY2F0b3JaU2NhbGUiLCJkaXN0YW5jZUFsb25nUmF5IiwiZHJhd0RlcHRoIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJ1bmJsZW5kZWQiLCJkcmF3VGVycmFpbkRlcHRoIiwic291cmNlQ29vcmRzIiwiX3NldHVwUHJveGllZENvb3Jkc0ZvckltYWdlU291cmNlIiwicHJveHlzIiwicHJveHlUaWxlSUQiLCJwcm94aWVkIiwiX2NyZWF0ZVByb3hpZWRJZCIsImhhc092ZXJsYXAiLCJpbWFnZVNvdXJjZSIsIl9kaXYiLCJhYWJiIiwidGlsZU91dHNpZGVJbWFnZSIsImltYWdlVGlsZUlEIiwiaXgiLCJpeSIsInJlY3ljbGUiLCJyZWN5Y2xlZCIsImZpbmQiLCJ4T2Zmc2V0IiwieU9mZnNldCIsImxvb2t1cCIsInNvdXJjZVRpbGVJRCIsImRvd25zY2FsZSIsInBhdGhUb0xvb2t1cCIsImNhbGN1bGF0ZVNjYWxlZEtleSIsImZpbmRERU1UaWxlRm9yIiwic291cmNlVGlsZXMiLCJ3aXJlZnJhbWVTZWdtZW50cyIsIndpcmVmcmFtZUdyaWRJbmRpY2VzIiwiTGluZUluZGV4QXJyYXkiLCJHUklEX0RJTSIsImNyZWF0ZVdpcmVmcmFtZUdyaWQiLCJ3aXJlZnJhbWVJbmRleEJ1ZmZlciIsImNvbmZpZ3VyYXRpb24iLCJmaXhlZFVuaWZvcm1zIiwiZml4ZWREZWZpbmVzIiwiY3JlYXRlUHJvZ3JhbSIsInN0YXRpY0F0dHJJbmZvIiwidG9rZW4iLCJnZXRUb2tlbml6ZWRBdHRyaWJ1dGVzIiwiZHluYW1pY0F0dHJJbmZvIiwiZ2V0QmluZGVyQXR0cmlidXRlcyIsImFsbEF0dHJJbmZvIiwiZnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJmYWlsZWRUb0NyZWF0ZSIsImF0dGFjaFNoYWRlciIsInZlcnRleFNoYWRlciIsImJpbmRBdHRyaWJMb2NhdGlvbiIsImxpbmtQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiYmluZGVyVW5pZm9ybXMiLCJnZXRVbmlmb3JtcyIsInRlcnJhaW5Vbmlmb3JtcyIsIlVuaWZvcm00ZiIsIlVuaWZvcm0yZiIsInVfbWV0ZXJfdG9fZGVtIiwidV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52IiwiVW5pZm9ybTNmIiwiZm9nVW5pZm9ybXMiLCJ1X2ZvZ19tYXRyaXgiLCJ1X2ZvZ19yYW5nZSIsInVfZm9nX2NvbG9yIiwidV9mb2dfaG9yaXpvbl9ibGVuZCIsInVfZm9nX3RlbXBvcmFsX29mZnNldCIsInVfZ2xvYmVfdHJhbnNpdGlvbiIsInVfaXNfZ2xvYmUiLCJ0ZXJyYWluVW5pZm9ybVZhbHVlcyIsInNldEZvZ1VuaWZvcm1WYWx1ZXMiLCJmb2dVbmlmb3Jtc1ZhbHVlcyIsImRyYXdNb2RlIiwiY3VycmVudFByb3BlcnRpZXMiLCJkeW5hbWljTGF5b3V0QnVmZmVycyIsInNldFVuaWZvcm1zIiwicHJpbWl0aXZlU2l6ZSIsIkxJTkVfU1RSSVAiLCJ2YW9zIiwiZ2V0UGFpbnRWZXJ0ZXhCdWZmZXJzIiwiZHJhd0VsZW1lbnRzIiwicHJpbWl0aXZlTGVuZ3RoIiwiVU5TSUdORURfU0hPUlQiLCJwcmltaXRpdmVPZmZzZXQiLCJwYXR0ZXJuVW5pZm9ybVZhbHVlcyIsInRpbGVTaXplQXROZWFyZXN0Wm9vbSIsInBpeGVsWCIsInBpeGVsWSIsInVfdGV4c2l6ZSIsImltYWdlQXRsYXNUZXh0dXJlIiwidV90aWxlX3VuaXRzX3RvX3BpeGVscyIsInVfcGl4ZWxfY29vcmRfdXBwZXIiLCJ1X3BpeGVsX2Nvb3JkX2xvd2VyIiwiaWRlbnRpdHlNYXRyaXgiLCJmaWxsRXh0cnVzaW9uVW5pZm9ybVZhbHVlcyIsInNob3VsZFVzZVZlcnRpY2FsR3JhZGllbnQiLCJhb0ludGVuc2l0eVJhZGl1cyIsImVkZ2VSYWRpdXMiLCJoZWlnaHRMaWZ0IiwiaW52TWF0cml4IiwiX2xwIiwibGlnaHRQb3MiLCJsaWdodE1hdCIsImxpZ2h0Q29sb3IiLCJ1X2xpZ2h0cG9zIiwidV9saWdodGludGVuc2l0eSIsInVfbGlnaHRjb2xvciIsInVfdmVydGljYWxfZ3JhZGllbnQiLCJ1X29wYWNpdHkiLCJ1X3RpbGVfaWQiLCJ1X2ludl9yb3RfbWF0cml4IiwidV91cF9kaXIiLCJ1X2hlaWdodF9saWZ0IiwidV9hbyIsInVfZWRnZV9yYWRpdXMiLCJmaWxsRXh0cnVzaW9uUGF0dGVyblVuaWZvcm1WYWx1ZXMiLCJoZWlnaHRGYWN0b3JVbmlmb3JtIiwidV9oZWlnaHRfZmFjdG9yIiwiZmlsbFVuaWZvcm1WYWx1ZXMiLCJmaWxsUGF0dGVyblVuaWZvcm1WYWx1ZXMiLCJmaWxsT3V0bGluZVVuaWZvcm1WYWx1ZXMiLCJkcmF3aW5nQnVmZmVyU2l6ZSIsInVfd29ybGQiLCJmaWxsT3V0bGluZVBhdHRlcm5Vbmlmb3JtVmFsdWVzIiwiY2lyY2xlVW5pZm9ybVZhbHVlcyIsImV4dHJ1ZGVTY2FsZSIsImdsb2JlUGl4ZWxzVG9UaWxlVW5pdHMiLCJwaXhlbHNUb0dMVW5pdHMiLCJ1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UiLCJ0cmFuc2xhdGVQb3NNYXRyaXgiLCJ1X2RldmljZV9waXhlbF9yYXRpbyIsInVfZXh0cnVkZV9zY2FsZSIsImNpcmNsZURlZmluZXNWYWx1ZXMiLCJjb2xsaXNpb25Vbmlmb3JtVmFsdWVzIiwiZGVidWdVbmlmb3JtVmFsdWVzIiwic2NhbGVSYXRpbyIsInVfY29sb3IiLCJ1X292ZXJsYXkiLCJ1X292ZXJsYXlfc2NhbGUiLCJoZWF0bWFwVW5pZm9ybVZhbHVlcyIsInVfaW50ZW5zaXR5IiwibGluZVVuaWZvcm1WYWx1ZXMiLCJpbWFnZUhlaWdodCIsInRyaW1PZmZzZXQiLCJjYWxjdWxhdGVNYXRyaXgiLCJ1X3BpeGVsc190b190aWxlX3VuaXRzIiwidV91bml0c190b19waXhlbHMiLCJ1X2Rhc2hfaW1hZ2UiLCJ1X2dyYWRpZW50X2ltYWdlIiwidV9pbWFnZV9oZWlnaHQiLCJoYXNEYXNoIiwibGluZUF0bGFzVGV4dHVyZSIsImNhbGN1bGF0ZVRpbGVSYXRpbyIsInVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQiLCJ1X3RyaW1fb2Zmc2V0IiwibGluZVBhdHRlcm5Vbmlmb3JtVmFsdWVzIiwiZGFzaFByb3BlcnR5VmFsdWUiLCJraW5kIiwicmFzdGVyVW5pZm9ybVZhbHVlcyIsInBhcmVudFRMIiwicGFyZW50U2NhbGVCeSIsInVfdGxfcGFyZW50IiwidV9zY2FsZV9wYXJlbnQiLCJ1X2ZhZGVfdCIsInVfaW1hZ2UxIiwidV9icmlnaHRuZXNzX2xvdyIsInVfYnJpZ2h0bmVzc19oaWdoIiwidV9zYXR1cmF0aW9uX2ZhY3RvciIsInNhdHVyYXRpb24iLCJ1X2NvbnRyYXN0X2ZhY3RvciIsImNvbnRyYXN0IiwidV9zcGluX3dlaWdodHMiLCJzcGluV2VpZ2h0cyIsInVfcGVyc3BlY3RpdmVfdHJhbnNmb3JtIiwic3FydCIsInN5bWJvbEljb25Vbmlmb3JtVmFsdWVzIiwiZnVuY3Rpb25UeXBlIiwicm90YXRlSW5TaGFkZXIiLCJ0ZXhTaXplIiwidV9pc19zaXplX3pvb21fY29uc3RhbnQiLCJ1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCIsInVfc2l6ZV90IiwidVNpemVUIiwidV9zaXplIiwidVNpemUiLCJ1X3JvdGF0ZV9zeW1ib2wiLCJ1X2FzcGVjdF9yYXRpbyIsInVfZmFkZV9jaGFuZ2UiLCJ1X2xhYmVsX3BsYW5lX21hdHJpeCIsInVfY29vcmRfbWF0cml4IiwidV9pc190ZXh0IiwidV9waXRjaF93aXRoX21hcCIsInVfdGV4dHVyZSIsInVfY2FtZXJhX2ZvcndhcmQiLCJ1X2VjZWZfb3JpZ2luIiwidV90aWxlX21hdHJpeCIsInVfdXBfdmVjdG9yIiwiZm9yd2FyZCIsImdsb2JlRUNFRk9yaWdpbiIsInN5bWJvbFNERlVuaWZvcm1WYWx1ZXMiLCJpc0hhbG8iLCJ1X2dhbW1hX3NjYWxlIiwidV9pc19oYWxvIiwic3ltYm9sVGV4dEFuZEljb25Vbmlmb3JtVmFsdWVzIiwidGV4U2l6ZVNERiIsInRleFNpemVJY29uIiwidV90ZXhzaXplX2ljb24iLCJ1X3RleHR1cmVfaWNvbiIsImJhY2tncm91bmRVbmlmb3JtVmFsdWVzIiwiYmFja2dyb3VuZFBhdHRlcm5Vbmlmb3JtVmFsdWVzIiwiaW1hZ2VQb3MiLCJ0b1N0cmluZyIsInVfcGF0dGVybl90bCIsInVfcGF0dGVybl9iciIsInVfcGF0dGVybl9zaXplIiwiZGlzcGxheVNpemUiLCJiZ1BhdHRlcm5Vbmlmb3JtVmFsdWVzIiwicHJvZ3JhbVVuaWZvcm1zIiwiVW5pZm9ybU1hdHJpeDJmIiwidV9pbnZfbWF0cml4IiwidV92aWV3cG9ydF9zaXplIiwiVW5pZm9ybUNvbG9yIiwidV9jb2xvcl9yYW1wIiwidV9zdW5fZGlyZWN0aW9uIiwidV9jdWJlbWFwIiwidV90ZW1wb3JhbF9vZmZzZXQiLCJ1X2NlbnRlcl9kaXJlY3Rpb24iLCJ1X3JhZGl1cyIsInVfbWF0cml4XzNmIiwiVW5pZm9ybU1hdHJpeDNmIiwidV9zdW5faW50ZW5zaXR5IiwidV9jb2xvcl90aW50X3IiLCJ1X2NvbG9yX3RpbnRfbSIsInVfbHVtaW5hbmNlIiwidV9ob3Jpem9uIiwidV90cmFuc2l0aW9uIiwidV9mYWRlb3V0X3JhbmdlIiwidV9oaWdoX2NvbG9yIiwidV9zcGFjZV9jb2xvciIsInVfc3Rhcl9pbnRlbnNpdHkiLCJ1X3N0YXJfZGVuc2l0eSIsInVfc3Rhcl9zaXplIiwidV9ob3Jpem9uX2FuZ2xlIiwidV9yb3RhdGlvbl9tYXRyaXgiLCJxdWFkVHJpYW5nbGVzIiwiZHJhd0NvbGxpc2lvbkRlYnVnIiwidHJhbnNsYXRlQW5jaG9yIiwidGlsZUJhdGNoZXMiLCJjaXJjbGVDb3VudCIsImNpcmNsZU9mZnNldCIsImJ1ZmZlcnMiLCJpbnZUcmFuc2Zvcm0iLCJtdWwiLCJjb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQiLCJjaXJjbGVQcm9ncmFtIiwidmVydGV4RGF0YSIsIkNvbGxpc2lvbkNpcmNsZUxheW91dEFycmF5IiwiX3RyaW0iLCJjaXJjbGVJZHgiLCJjb2xsaXNpb24iLCJlbXBsYWNlIiwicXVhZENvdW50IiwidHJpQ291bnQiLCJRdWFkVHJpYW5nbGVBcnJheSIsInVpbnQxNiIsImNyZWF0ZVF1YWRUcmlhbmdsZXMiLCJjb2xsaXNpb25DaXJjbGVMYXlvdXQiLCJpZGVudGl0eU1hdDQiLCJjYWxjdWxhdGVWYXJpYWJsZVJlbmRlclNoaWZ0IiwicmVuZGVyVGV4dFNpemUiLCJ1cGRhdGVWYXJpYWJsZUFuY2hvcnNGb3JCdWNrZXQiLCJ0aWxlU2NhbGUiLCJ1cGRhdGVUZXh0Rml0SWNvbiIsImR5bmFtaWNUZXh0TGF5b3V0VmVydGV4QXJyYXkiLCJkeW5hbWljSWNvbkxheW91dFZlcnRleEFycmF5IiwicGxhY2VkVGV4dFNoaWZ0cyIsInNraXBPcmllbnRhdGlvbiIsInRpbGVQaXhlbFJhdGlvIiwiYXNzb2NpYXRlZEljb25JbmRleCIsInBsYWNlZEljb25zIiwiZ2V0U3ltYm9sUHJvZ3JhbU5hbWUiLCJpc1NERiIsImljb25zSW5UZXh0IiwiZHJhd0xheWVyU3ltYm9scyIsInJvdGF0aW9uQWxpZ25tZW50IiwicGl0Y2hBbGlnbm1lbnQiLCJhbG9uZ0xpbmUiLCJoYXNTb3J0S2V5Iiwic29ydEZlYXR1cmVzQnlLZXkiLCJkZXB0aE1vZGVGb3JTdWJsYXllciIsIlJlYWRPbmx5IiwiaXNHbG9iZVByb2plY3Rpb24iLCJ0aWxlUmVuZGVyU3RhdGUiLCJtZXJjYXRvckNhbWVyYVVwIiwiZ2xvYmVDYW1lcmFVcCIsIm1lcmNhdG9yRnJvbVRyYW5zaXRpb24iLCJ2aWV3TWF0cml4IiwiZ2V0V29ybGRUb0NhbWVyYSIsInZpZXdUb0VjZWYiLCJjYW1lcmFVcFZlY3RvciIsImNvbXB1dGVHbG9iZUNhbWVyYVVwIiwicHJvZ3JhbUNvbmZpZ3VyYXRpb25zIiwic2RmSWNvbnMiLCJ0cmFuc2Zvcm1lZCIsImF0bGFzSW50ZXJwb2xhdGlvbiIsImF0bGFzSW50ZXJwb2xhdGlvbkljb24iLCJhdGxhc1RleHR1cmVJY29uIiwiZ2x5cGhBdGxhc1RleHR1cmUiLCJ6b29tRGVwZW5kZW50U2l6ZSIsInJvdGF0aW5nIiwiem9vbWluZyIsImljb25TY2FsZWQiLCJpY29uc05lZWRMaW5lYXIiLCJidWNrZXRJc0dsb2JlUHJvamVjdGlvbiIsImdsb2JlVG9NZXJjYXRvciIsImxhYmVsUGxhbmVNYXRyaXhSZW5kZXJpbmciLCJoYXNWYXJpYWJsZUFuY2hvcnMiLCJsYWJlbFBsYW5lTWF0cml4UGxhY2VtZW50IiwicHJvamVjdGVkUG9zT25MYWJlbFNwYWNlIiwidUxhYmVsUGxhbmVNYXRyaXgiLCJ1Z2xDb29yZE1hdHJpeCIsImNyZWF0ZUludmVyc2lvbk1hdHJpeCIsImJhc2VEZWZpbmVzIiwidGVycmFpblJlbmRlck1vZGVFbGV2YXRlZCIsImhhc0hhbG8iLCJjYW5PdmVybGFwIiwib2xkU2VnbWVudHMiLCJzZWdtZW50U3RhdGUiLCJkcmF3U3ltYm9sRWxlbWVudHMiLCJkeW5hbWljQnVmZmVycyIsImRyYXdGaWxsVGlsZXMiLCJpc091dGxpbmUiLCJwYXR0ZXJuUHJvcGVydHkiLCJwcm9ncmFtTmFtZSIsInBhdHRlcm5zTG9hZGVkIiwidXBkYXRlUGFpbnRCdWZmZXJzIiwiY29uc3RhbnRQYXR0ZXJuIiwiaW1hZ2VBdGxhcyIsInBvc1RvIiwicGF0dGVyblBvc2l0aW9ucyIsInNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyIsImluZGV4QnVmZmVyMiIsInNlZ21lbnRzMiIsInN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmciLCJkcmF3RXh0cnVzaW9uVGlsZXMiLCJhbyIsImZpbGxFeHRydXNpb25IZWlnaHRMaWZ0IiwiZW5hYmxlVGVycmFpbiIsImZsYXRSb29mc1VwZGF0ZSIsImNlbnRyb2lkVmVydGV4QnVmZmVyIiwiYXR0ckluZGV4IiwidmVydGV4QXR0cmliMmYiLCJsYXlvdXRWZXJ0ZXhFeHRCdWZmZXIiLCJuZWlnaGJvckNvb3JkIiwiZ2V0TG9hZGVkQnVja2V0IiwibmlkIiwibiIsInpvb21MZXZlbHMiLCJwcm9qZWN0ZWRUb0JvcmRlciIsInhqb2luIiwieWpvaW4iLCJwcm9qZWN0Q29tYmluZWRTcGFuVG9Cb3JkZXIiLCJjZW50cm9pZCIsIm5laWdoYm9yREVNVGlsZSIsIm5laWdoYm9yVGlsZUlEIiwiZmxhdEJhc2UiLCJ2ZXJ0aWNhbEVkZ2UiLCJtYXhPZmZzZXRGcm9tQm9yZGVyIiwiY29vcmQzIiwidGhpcmRQb2ludCIsImdldEZvclRpbGVQb2ludHMiLCJib3JkZXJzIiwibkJ1Y2tldCIsIkZpbGxFeHRydXNpb25CdWNrZXQiLCJib3JkZXJEb25lV2l0aE5laWdoYm9yWiIsImliIiwidXBkYXRlTmVpZ2hib3IiLCJpYSIsInBhcnRhIiwiZmVhdHVyZXNPbkJvcmRlciIsInBhcnRBQm9yZGVyUmFuZ2UiLCJwYXJ0YiIsImVuY29kZUNlbnRyb2lkIiwic2F2ZUliIiwiaW50ZXJzZWN0c0NvdW50Iiwic3BhbiIsIm5lZWRzQ2VudHJvaWRVcGRhdGUiLCJjZW50cm9pZFZlcnRleEFycmF5IiwidXBsb2FkQ2VudHJvaWQiLCJ0b3BDb2xvciIsImJ0bUNvbG9yIiwibGVmdENvbG9yIiwicmlnaHRDb2xvciIsImNlbnRlckNvbG9yIiwiZHJhd0RlYnVnVGlsZSIsImRlZmluZXNWYWx1ZXMiLCJ0cmFuc2l0aW9uVGlsZUFBQkJpbkVDRUYiLCJkZWNvZGUiLCJnbG9iZURlbm9ybWFsaXplRUNFRiIsImVtcHR5VGV4dHVyZSIsIl9tYWtlR2xvYmVUaWxlRGVidWdCdWZmZXJzIiwiX21ha2VEZWJ1Z1RpbGVCb3VuZHNCdWZmZXJzIiwiZGVidWdCdWZmZXIiLCJfdGlsZURlYnVnQnVmZmVyIiwiZGVidWdJbmRleEJ1ZmZlciIsIl90aWxlRGVidWdJbmRleEJ1ZmZlciIsImRlYnVnU2VnbWVudHMiLCJfdGlsZURlYnVnU2VnbWVudHMiLCJyZWQiLCJfZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIiLCJ0aWxlUmF3RGF0YSIsImxhdGVzdFJhd1RpbGVEYXRhIiwidGlsZVNpemVLYiIsImJ5dGVMZW5ndGgiLCJ0aWxlTGFiZWwiLCJpbml0RGVidWdPdmVybGF5Q2FudmFzIiwiZGVidWdPdmVybGF5Q2FudmFzIiwiY3R4MmQiLCJjbGVhclJlY3QiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsInRleHRCYXNlbGluZSIsImZvbnQiLCJmaWxsVGV4dCIsInN0cm9rZVRleHQiLCJkZWJ1Z092ZXJsYXlUZXh0dXJlIiwiZHJhd1RleHRUb092ZXJsYXkiLCJkZWJ1Z1RleHRCdWZmZXIiLCJfdGlsZURlYnVnVGV4dEJ1ZmZlciIsImRlYnVnVGV4dEluZGV4QnVmZmVyIiwiX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlciIsImRlYnVnVGV4dFNlZ21lbnRzIiwiX3RpbGVEZWJ1Z1RleHRTZWdtZW50cyIsImFscGhhQmxlbmRlZCIsIl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIiLCJkcmF3SG9yaXpvbnRhbExpbmUiLCJkcmF3RGVidWdTU1JlY3QiLCJkcmF3VmVydGljYWxMaW5lIiwiU0NJU1NPUl9URVNUIiwic2Npc3NvciIsInNreWJveEF0dHJpYnV0ZXMiLCJjcmVhdGVMYXlvdXQiLCJhZGRWZXJ0ZXgiLCJ2ZXJ0ZXhBcnJheSIsIlNreWJveEdlb21ldHJ5IiwiU2t5Ym94VmVydGV4QXJyYXkiLCJpbmRpY2VzIiwiZHJhd1NreWJveEZhY2UiLCJmYWNlUm90YXRlIiwic3VuRGlyZWN0aW9uIiwiYXRtb3NwaGVyZUNvbG9yIiwiYXRtb3NwaGVyZUhhbG9Db2xvciIsInN1bkludGVuc2l0eSIsInNreWJveENhcHR1cmVVbmlmb3JtVmFsdWVzIiwiZnJvbU1hdDQiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1giLCJza3lib3hUZXh0dXJlIiwiZnJvbnRDVyIsInNreWJveEdlb21ldHJ5IiwiYXRtb3NwaGVyZUxheW91dCIsIkF0bW9zcGhlcmVCdWZmZXIiLCJ2ZXJ0aWNlcyIsIkF0bW9zcGhlcmVWZXJ0ZXhBcnJheSIsInRyaWFuZ2xlcyIsInJlbmRlclBhc3MiLCJ1cGRhdGVWYXJpYWJsZUFuY2hvcnMiLCJzdHJva2VXaWR0aCIsInN0cm9rZU9wYWNpdHkiLCJzZWdtZW50c1JlbmRlclN0YXRlcyIsInNlZ21lbnRzU3RhdGUiLCJoZWF0bWFwRmJvIiwiY3JlYXRlVGV4dHVyZSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX1dSQVBfUyIsIlRFWFRVUkVfV1JBUF9UIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwidGV4SW1hZ2UyRCIsIlJHQkExNkYiLCJIQUxGX0ZMT0FUIiwiSEFMRl9GTE9BVF9PRVMiLCJiaW5kVGV4dHVyZVRvRnJhbWVidWZmZXIiLCJjdWxsTW9kZSIsImZyb250Q0NXIiwiaGFzUmVuZGVyYWJsZVBhcmVudCIsImNvbG9yUmFtcFRleHR1cmUiLCJjb2xvclJhbXAiLCJ0ZXh0dXJlVW5pdCIsImNvbG9yUmFtcFVuaXQiLCJoZWF0bWFwVGV4dHVyZVVuaWZvcm1WYWx1ZXMiLCJ2aWV3cG9ydEJ1ZmZlciIsInZpZXdwb3J0U2VnbWVudHMiLCJyZW5kZXJUZXh0dXJlVG9NYXAiLCJkYXNoYXJyYXlQcm9wZXJ0eSIsImRhc2hhcnJheSIsImNhcFByb3BlcnR5IiwiZ3JhZGllbnQiLCJoYXNQYXR0ZXJuIiwiaGFzT3BhY2l0eSIsImxpbmVEZWZpbmVzVmFsdWVzIiwidXNlU3RlbmNpbE1hc2tSZW5kZXJQYXNzIiwiY29uc3RhbnREYXNoIiwiY29uc3RhbnRDYXAiLCJsaW5lQXRsYXMiLCJnZXREYXNoIiwidHJpbVN0YXJ0IiwidHJpbUVuZCIsImZha2VPZmZzZXRTaGlmdCIsImxpbmVDbGlwc0FycmF5IiwibGF5ZXJHcmFkaWVudCIsImdyYWRpZW50cyIsImdyYWRpZW50VGV4dHVyZSIsImdyYWRpZW50VmVyc2lvbiIsInRleHR1cmVSZXNvbHV0aW9uIiwic3RlcEludGVycG9sYW50Iiwic291cmNlTWF4Wm9vbSIsInBvdGVudGlhbE92ZXJ6b29tIiwibmV4dFBvd2VyT2ZUd28iLCJtYXhMaW5lTGVuZ3RoIiwicmVuZGVyQ29sb3JSYW1wIiwiZ3JhZGllbnRFeHByZXNzaW9uIiwiZXZhbHVhdGlvbktleSIsInJlc29sdXRpb24iLCJjbGlwcyIsIlJFUEVBVCIsInJlbmRlckxpbmUiLCJsYXlvdXRWZXJ0ZXhCdWZmZXIyIiwic3RlbmNpbElkIiwiSU5WRVJUIiwicmVzZXRTdGVuY2lsQ2xpcHBpbmdNYXNrcyIsIm9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIiLCJzdGVuY2lsTW9kZUZvcjNEIiwic3RlbmNpbE1vZGVzIiwic3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAiLCJpc0luaXRpYWxMb2FkIiwibWluVGlsZVoiLCJyYXN0ZXJGYWRlRHVyYXRpb24iLCJyZWdpc3RlckZhZGVEdXJhdGlvbiIsInRleHR1cmVGaWx0ZXIiLCJ1c2VNaXBtYXAiLCJpc1BhdHRlcm5NaXNzaW5nIiwiYmFja2dyb3VuZFRpbGVzIiwiZ2V0QmFja2dyb3VuZFRpbGVzIiwic2t5IiwidHJhbnNpdGlvbk9wYWNpdHkiLCJ0ZW1wb3JhbE9mZnNldCIsImZyYW1lQ291bnRlciIsIm5lZWRzU2t5Ym94Q2FwdHVyZSIsInNreWJveEZibyIsIlRFWFRVUkVfQ1VCRV9NQVAiLCJGbG9hdDY0QXJyYXkiLCJpZGVudGl0eSIsInJvdGF0ZVkiLCJyb3RhdGVYIiwiY2FwdHVyZVNreWJveCIsIm1hcmtTa3lib3hWYWxpZCIsImN1YmVtYXAiLCJza3lib3hVbmlmb3JtVmFsdWVzIiwic2t5Ym94TWF0cml4IiwiYmFja0NXIiwiZHJhd1NreWJveEZyb21DYXB0dXJlIiwiY2VudGVyRGlyZWN0aW9uIiwic2t5Ym94R3JhZGllbnRVbmlmb3JtVmFsdWVzIiwiZHJhd1NreWJveEdyYWRpZW50IiwidW5zdXBwb3J0ZWRMYXllcnMiLCJwcmVyZW5kZXIiLCJzZXRDdXN0b21MYXllckRlZmF1bHRzIiwicG9pbnRNZXJjIiwiY3VzdG9tTGF5ZXJNYXRyaXgiLCJnbG9iZVRvTWVyY2F0b3JNYXRyaXgiLCJwaXhlbHNQZXJNZXRlclJhdGlvIiwic2V0QmFzZVN0YXRlIiwicmVuZGVyVG9UaWxlIiwicmVuZGVyaW5nTW9kZSIsIlBhaW50ZXIiLCJfdGlsZVRleHR1cmVzIiwiZnJhbWVDb3BpZXMiLCJsb2FkVGltZVN0YW1wcyIsInNldHVwIiwibnVtU3VibGF5ZXJzIiwibWF4VW5kZXJ6b29taW5nIiwibWF4T3Zlcnpvb21pbmciLCJkZXB0aEVwc2lsb24iLCJkZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzIiwiZ3B1VGltZXJzIiwiX2JhY2tncm91bmRUaWxlcyIsInVwZGF0ZVRlcnJhaW4iLCJzdXBwb3J0c1RlcnJhaW4iLCJfdGVycmFpbiIsIl91cGRhdGVGb2ciLCJmb2dDdWxsRGlzdFNxIiwiZm9nQ3VsbERpc3QiLCJfdGVycmFpbkVuYWJsZWQiLCJ0aWxlRXh0ZW50QXJyYXkiLCJkZWJ1Z0FycmF5Iiwidmlld3BvcnRBcnJheSIsInRpbGVCb3VuZHNBcnJheSIsIlRpbGVCb3VuZHNBcnJheSIsIm1lcmNhdG9yQm91bmRzQnVmZmVyIiwibWVyY2F0b3JCb3VuZHNTZWdtZW50cyIsInF1YWRUcmlhbmdsZUluZGljZXMiLCJ0aWxlTGluZVN0cmlwSW5kaWNlcyIsIkxpbmVTdHJpcEluZGV4QXJyYXkiLCJpZGVudGl0eU1hdCIsInN0ZW5jaWxDbGVhck1vZGUiLCJwZXJmb3JtYW5jZSIsImF0bW9zcGhlcmVCdWZmZXIiLCJfbWFrZVRpbGVCb3VuZHNCdWZmZXJzIiwiX3RpbGVCb3VuZHNCdWZmZXIiLCJfdGlsZUJvdW5kc0luZGV4QnVmZmVyIiwiX3RpbGVCb3VuZHNTZWdtZW50cyIsIm5leHRTdGVuY2lsSUQiLCJkaXJ0eVN0ZW5jaWxDbGlwcGluZ01hc2tzIiwiTk9URVFVQUwiLCJzdGVuY2lsVmFsdWVzIiwielRvU3RlbmNpbE1vZGUiLCJfc2hvd092ZXJkcmF3SW5zcGVjdG9yIiwiQ09OU1RBTlRfQ09MT1IiLCJvcGFxdWVQYXNzQ3V0b2ZmIiwiY29vcmRzQXNjZW5kaW5nIiwiY29vcmRzRGVzY2VuZGluZyIsImNvb3Jkc0Rlc2NlbmRpbmdTeW1ib2wiLCJnZXRWaXNpYmxlQ29vcmRpbmF0ZXMiLCJyZXZlcnNlIiwiR2xvYmVTaGFyZWRCdWZmZXJzIiwiaXNNYXBBdXRoZW50aWNhdGVkIiwiaGFzT2Zmc2NyZWVuUGFzcyIsImlzU2t5Iiwic2hvd092ZXJkcmF3SW5zcGVjdG9yIiwiYmxhY2siLCJ0b0FycmF5MDEiLCJoaWdoQ29sb3IiLCJzcGFjZUNvbG9yIiwidG9BcnJheTAxUHJlbXVsdGlwbGllZEFscGhhIiwicXVhdCIsIl9jZW50ZXIiLCJyb3RhdGVYJDEiLCJyb3RhdGlvbk1hdHJpeCIsInN0YXJJbnRlbnNpdHkiLCJtYXBWYWx1ZSIsIm1pbkhvcml6b25CbGVuZCIsImdsb2JlQ2VudGVyRGlzdGFuY2UiLCJkaXN0YW5jZVRvSG9yaXpvbiIsImhvcml6b25BbmdsZSIsImFjb3MiLCJob3Jpem9uIiwiZmFkZW91dFJhbmdlIiwiYXRtb3NwaGVyZVVuaWZvcm1WYWx1ZXMiLCJkcmF3QXRtb3NwaGVyZSIsImlzSG9yaXpvblZpc2libGUiLCJzaG93VGlsZUJvdW5kYXJpZXMiLCJzaG93UXVlcnlHZW9tZXRyeSIsInNob3dUaWxlQUFCQnMiLCJzZWxlY3RlZFNvdXJjZSIsInNob3dQYWRkaW5nIiwiYm90dG9tIiwiY2VudGVyUG9pbnQiLCJkcmF3Q3Jvc3NoYWlyIiwiZHJhd0RlYnVnUGFkZGluZyIsIk1BWF9TQUZFX0lOVEVHRVIiLCJ0aWxlTG9hZGVkIiwic3BlZWRJbmRleFRpbWluZyIsInNhdmVDYW52YXNDb3B5IiwiZ3B1VGltaW5nU3RhcnQiLCJncHVUaW1pbmdFbmQiLCJncHVUaW1pbmciLCJleHQiLCJsYXllclRpbWVyIiwiY2FsbHMiLCJjcHVUaW1lIiwiY3JlYXRlUXVlcnlFWFQiLCJiZWdpblF1ZXJ5RVhUIiwiVElNRV9FTEFQU0VEX0VYVCIsImdwdVRpbWluZ0RlZmVycmVkUmVuZGVyIiwiZW5kUXVlcnlFWFQiLCJjb2xsZWN0R3B1VGltZXJzIiwiY3VycmVudExheWVyVGltZXJzIiwiY29sbGVjdERlZmVycmVkUmVuZGVyR3B1UXVlcmllcyIsImN1cnJlbnRRdWVyaWVzIiwicXVlcnlHcHVUaW1lcnMiLCJncHVUaW1lciIsImdwdVRpbWUiLCJnZXRRdWVyeU9iamVjdEVYVCIsIlFVRVJZX1JFU1VMVF9FWFQiLCJkZWxldGVRdWVyeUVYVCIsInF1ZXJ5R3B1VGltZURlZmVycmVkUmVuZGVyIiwiZ3B1UXVlcmllcyIsImluVmlld3BvcnRQaXhlbFVuaXRzVW5pdHMiLCJzaW5BIiwiY29zQSIsInRyYW5zbGF0aW9uIiwidHJhbnNsYXRlZE1hdHJpeCIsInRleHR1cmVzIiwiY3VycmVudEdsb2JhbERlZmluZXMiLCJydHQiLCJ6ZXJvRXhhZ2dlcmF0aW9uIiwiY2FjaGUiLCJhbGxEZWZpbmVzIiwiZm9nVW5pZm9ybVZhbHVlcyIsInNldFRpbGVMb2FkZWRGbGFnIiwiZmxhZyIsImNhbnZhc0NvcHkiLCJjb3B5VGV4SW1hZ2UyRCIsImdldENhbnZhc0NvcGllc0FuZFRpbWVzdGFtcHMiLCJjYW52YXNDb3BpZXMiLCJ0aW1lU3RhbXBzIiwiYXZlcmFnZUVsZXZhdGlvbk5lZWRzRWFzaW5nIiwiX2VsZXZhdGlvbiIsIm9sZFRpbGVzIiwibmV3VGlsZXMiLCJjbGVhckJhY2tncm91bmRUaWxlcyIsIkVkZ2VJbnNldHMiLCJvdGhlciIsInRvSlNPTiIsInVwZGF0ZVRyYW5zZm9ybU9yaWVudGF0aW9uIiwiZ2V0Q29sdW1uIiwic2V0Q29sdW1uIiwib3JpZW50YXRpb25Gcm9tUGl0Y2hCZWFyaW5nIiwib3JpZW50YXRpb25Gcm9tRnJhbWUiLCJ4eUZvcndhcmQiLCJ4eVVwIiwieHlEaXIiLCJzY2FsZSQyIiwibGVuIiwiRnJlZUNhbWVyYU9wdGlvbnMiLCJfcG9zaXRpb24iLCJtZXJjYXRvckNvb3JkaW5hdGUiLCJfcmVuZGVyV29ybGRDb3BpZXMiLCJsb29rQXRQb2ludCIsImxvY2F0aW9uIiwiYWx0aXR1ZGUiLCJzZXRQaXRjaEJlYXJpbmciLCJGcmVlQ2FtZXJhIiwibWVyY2F0b3JQb3NpdGlvbiIsImNvbCIsIl9vcmllbnRhdGlvbiIsImlkZW50aXR5JDEiLCJnZXRQaXRjaEJlYXJpbmciLCJmIiwiZ2V0Q2FtZXJhVG9Xb3JsZCIsInBpeGVsc1Blck1ldGVyIiwiY2FtZXJhVG9Xb3JsZCIsImdldFdvcmxkVG9DYW1lcmFQb3NpdGlvbiIsInVuaWZvcm1TY2FsZSIsImludlBvc2l0aW9uIiwiaW52T3JpZW50YXRpb24iLCJnZXRDYW1lcmFUb0NsaXBQZXJzcGVjdGl2ZSIsImZvdnkiLCJuZWFyWiIsImZhcloiLCJwZXJzcGVjdGl2ZSIsImdldERpc3RhbmNlVG9FbGV2YXRpb24iLCJlbGV2YXRpb25NZXRlcnMiLCJsYXRGcm9tTWVyY2F0b3JZIiwiZ2V0UHJvamVjdGlvbkFkanVzdG1lbnRzIiwid2l0aG91dFJvdGF0aW9uIiwiaW50ZXJwVCIsImdldFByb2plY3Rpb25JbnRlcnBvbGF0aW9uVCIsImxvYyIsImxvY3ciLCJMbmdMYXQiLCJsb2NlIiwicHciLCJwZSIsImFuZ2xlQWRqdXN0IiwibWMyIiwibG9jMiIsInAyIiwibWMzIiwibG9jMyIsInAzIiwiZGVsdGEzIiwicm90YXRlIiwibWM0IiwibG9jNCIsInA0IiwiZGVsdGE0IiwidW5yb3RhdGUiLCJzaGVhciIsImdldFNoZWFyQWRqdXN0bWVudCIsInNjYWxlQWRqdXN0bWVudCIsImdldFNjYWxlQWRqdXN0bWVudCIsImdldFpvb21BZGp1c3RtZW50Iiwiem9vbUFkanVzdG1lbnRPcmlnaW4iLCJtYXhTaXplIiwicmFuZ2VBZGp1c3RtZW50IiwiTUFYX01FUkNBVE9SX0xBVElUVURFIiwibG9jMSIsInAxIiwibTEiLCJtMiIsInBkeCIsInBkeSIsIm1keCIsIm1keSIsIlRyYW5zZm9ybSIsIm1pblpvb20iLCJtaW5QaXRjaCIsIm1heFBpdGNoIiwiX21pblpvb20iLCJfbWF4Wm9vbSIsIl9taW5QaXRjaCIsIl9tYXhQaXRjaCIsInNldE1heEJvdW5kcyIsIl9uZWFyWiIsIl9mYXJaIiwiX3VubW9kaWZpZWQiLCJfZWRnZUluc2V0cyIsIl9wcm9qTWF0cml4Q2FjaGUiLCJfYWxpZ25lZFByb2pNYXRyaXhDYWNoZSIsIl9mb2dUaWxlTWF0cml4Q2FjaGUiLCJfZGlzdGFuY2VUaWxlRGF0YUNhY2hlIiwiX2F2ZXJhZ2VFbGV2YXRpb24iLCJjYW1lcmFFbGV2YXRpb25SZWZlcmVuY2UiLCJfaG9yaXpvblNoaWZ0IiwiX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb24iLCJfc2V0Wm9vbSIsIl9zZWFMZXZlbFpvb20iLCJfY2FsY01hdHJpY2VzIiwiX3VwZGF0ZUNhbWVyYU9uVGVycmFpbiIsImNvbnN0cmFpbkNhbWVyYU92ZXJUZXJyYWluIiwiY2VudGVyQWx0aXR1ZGVDaGFuZ2VkIiwiX2NvbnN0cmFpbkNhbWVyYSIsIm9sZFByb2plY3Rpb24iLCJwcm9qZWN0aW9uSGFzQ2hhbmdlZCIsInNldE1lcmNhdG9yRnJvbVRyYW5zaXRpb24iLCJzdXBwb3J0c1dvcmxkQ29waWVzIiwiY2FtZXJhV29ybGRTaXplRm9yRm9nIiwiRVBTSUxPTiIsIl93b3JsZFNpemVGcm9tWm9vbSIsIl96b29tRnJvbU1lcmNhdG9yWiIsImNhbWVyYVdvcmxkU2l6ZSIsImNhbWVyYVBpeGVsc1Blck1ldGVyIiwiY2VudGVyT2Zmc2V0IiwiX3N1YiIsInJvdGF0aW9uIiwicmFkIiwiYXNwZWN0IiwiZm92WCIsImZvdlkiLCJmb2NhbExlbmd0aCIsImF0YW4iLCJhdmVyYWdlRWxldmF0aW9uIiwiX2NhbGNGb2dNYXRyaWNlcyIsIl96b29tIiwiX3VwZGF0ZVNlYUxldmVsWm9vbSIsIl9jb25zdHJhaW4iLCJ6b29tU2NhbGUiLCJ6b29tRnJhY3Rpb24iLCJpc0RhdGFBdmFpbGFibGVBdFBvaW50IiwibG9jYXRpb25Db29yZGluYXRlIiwic2FtcGxlQXZlcmFnZUVsZXZhdGlvbiIsImVsZXZhdGlvblNhbXBsZVBvaW50cyIsImhvcml6b25MaW5lRnJvbVRvcCIsImVsZXZhdGlvblN1bSIsIndlaWdodFN1bSIsImhpdCIsIndlaWdodCIsImh5cG90IiwiTmFOIiwiX3VwZGF0ZVpvb21Gcm9tRWxldmF0aW9uIiwic2VhTGV2ZWxab29tIiwiZWxldmF0aW9uQXRDZW50ZXIiLCJtZXJjYXRvckVsZXZhdGlvbiIsIl9tZXJjYXRvclpmcm9tWm9vbSIsIm1pbkhlaWdodCIsImNvbXB1dGVab29tUmVsYXRpdmVUbyIsImNlbnRlck9uVGFyZ2V0QWx0aXR1ZGUiLCJyYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlIiwicG9pbnRSYXlJbnRlcnNlY3Rpb24iLCJ0b0FsdGl0dWRlIiwidGFyZ2V0UG9zaXRpb24iLCJzZXRGcmVlQ2FtZXJhT3B0aW9ucyIsIl91cGRhdGVDYW1lcmFTdGF0ZSIsIl9zZXRDYW1lcmFPcmllbnRhdGlvbiIsIm5ld1Bvc2l0aW9uIiwiZXhhY3RFcXVhbHMkMSIsIl9zZXRDYW1lcmFQb3NpdGlvbiIsIl91cGRhdGVTdGF0ZUZyb21DYW1lcmEiLCJyZWNlbnRlck9uVGVycmFpbiIsImxlbmd0aCQxIiwidHJhbnNmb3JtUXVhdCIsInVwZGF0ZWRPcmllbnRhdGlvbiIsIm1pbldvcmxkU2l6ZSIsIm1heFdvcmxkU2l6ZSIsImRpc3RUb0NlbnRlciIsImZvdkFib3ZlQ2VudGVyIiwiaXNQYWRkaW5nRXF1YWwiLCJpbnRlcnBvbGF0ZVBhZGRpbmciLCJzY2FsZVpvb20iLCJnZXRWaXNpYmxlVW53cmFwcGVkQ29vcmRpbmF0ZXMiLCJVbndyYXBwZWRUaWxlSUQiLCJ1dGwiLCJ1dHIiLCJ1YmwiLCJ1YnIiLCJ3MCIsIncxIiwiZXh0cmFXb3JsZENvcHkiLCJhY3R1YWxaIiwidXNlRWxldmF0aW9uRGF0YSIsImlzVGVycmFpbkRFTSIsImlzTWVyY2F0b3IiLCJjZW50ZXJDb29yZCIsImNlbnRlckxhdGl0dWRlIiwiekluTWV0ZXJzIiwiY2FtZXJhRnJ1c3R1bSIsIkZydXN0dW0iLCJmcm9tSW52UHJvamVjdGlvbk1hdHJpeCIsImNhbWVyYUNvb3JkIiwibWV0ZXJUb1RpbGUiLCJjYW1lcmFBbHRpdHVkZSIsInpvb21TcGxpdERpc3RhbmNlIiwiaXNSZXByb2plY3RlZEluVGlsZVNwYWNlIiwibWF4UmFuZ2UiLCJtaW5SYW5nZSIsInJlbGF0aXZlU2NhbGVBdE1lcmNhdG9yQ29vcmQiLCJtY0Vhc3QiLCJtY1NvdXRoIiwibGwiLCJsbEVhc3QiLCJsbFNvdXRoIiwicEVhc3QiLCJwU291dGgiLCJuZXdSb290VGlsZSIsInRpbGVBQUJCIiwibWluWiIsIm1heFoiLCJmdWxseVZpc2libGUiLCJzdGFjayIsInNxdWFyZSIsImNhbWVyYUhlaWdodFNxciIsImdldEFBQkJGcm9tRWxldmF0aW9uIiwiaXQiLCJtaW5tYXgiLCJnZXRNaW5NYXhGb3JUaWxlIiwic2hvdWxkU3BsaXQiLCJkaXN0YW5jZVgiLCJkaXN0YW5jZVkiLCJkelNxciIsInRpbGVTY2FsZUFkanVzdG1lbnQiLCJkaXN0YW5jZVoiLCJtaW5MYXQiLCJtYXhMYXQiLCJjbG9zZXN0TGF0IiwicmVsYXRpdmVUaWxlU2NhbGUiLCJjaXJjdW1mZXJlbmNlQXRMYXRpdHVkZSIsIl9tZXJjYXRvclNjYWxlUmF0aW8iLCJHTE9CRV9aT09NX1RIUkVTSE9MRF9NSU4iLCJyZWxhdGl2ZVNjYWxlIiwiZGlzdGFuY2VTcXIiLCJkaXN0VG9TcGxpdFNxciIsImRTcXIiLCJkaXN0VG9TcGxpdFNjYWxlIiwiaW50ZXJzZWN0UmVzdWx0IiwiaW50ZXJzZWN0cyIsImNoaWxkWCIsImNoaWxkWSIsImNoaWxkIiwicXVhZHJhbnQiLCJkaXN0YW5jZVNxIiwiZW50cnkiLCJmb2dUaWxlTWF0cml4Iiwic3FEaXN0IiwiZ2V0QUFCQlBvaW50U3F1YXJlRGlzdCIsIm92ZXJIb3Jpem9uTGluZSIsImNvcm5lckZhciIsImZ1cnRoZXN0VGlsZUNvcm5lciIsIndvcmxkRmFyIiwidW5tb2RpZmllZCIsImxuZ2xhdCIsInByb2plY3RlZExuZ0xhdCIsInVucHJvamVjdCIsInNldExvY2F0aW9uQXRQb2ludCIsInNldExvY2F0aW9uIiwiY29vcmRpbmF0ZUxvY2F0aW9uIiwibG9jYXRpb25Qb2ludCIsImxvY2F0aW9uUG9pbnQzRCIsInBvaW50TG9jYXRpb24iLCJwb2ludExvY2F0aW9uM0QiLCJ0YXJnZXRaIiwicDAiLCJzY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkiLCJyYXlJbnRlcnNlY3Rpb24iLCJzYW1wbGVzIiwidGhyZXNob2xkIiwickNhc3QiLCJfY29vcmRpbmF0ZVBvaW50Iiwic2FtcGxlVGVycmFpbkluM0QiLCJfZ2V0Qm91bmRzTm9uUmVjdGFuZ3VsYXIiLCJ3ZXN0IiwiZWFzdCIsInNvdXRoIiwibm9ydGgiLCJtYXhFcnIiLCJtaW5SZWN1cnNpb25zIiwicHJvY2Vzc1NlZ21lbnQiLCJheCIsImF5IiwiYngiLCJieSIsIm14IiwibXkiLCJub3J0aFBvbGVJc1Zpc2libGUiLCJzb3V0aFBvbGVJc1Zpc2libGUiLCJwb2xlc0luVmlld3BvcnQiLCJfZ2V0Qm91bmRzUmVjdGFuZ3VsYXIiLCJ0b3BMZWZ0IiwidG9wUmlnaHQiLCJib3R0b21SaWdodCIsImJvdHRvbUxlZnQiLCJzbG9wZSIsIl9nZXRCb3VuZHNSZWN0YW5ndWxhclRlcnJhaW4iLCJtYXhpbXVtcyIsImNsYW1wVG9Ub3AiLCJnZXRNYXhCb3VuZHMiLCJtYXhCb3VuZHMiLCJtaW5MbmciLCJtYXhMbmciLCJ3b3JsZE1pblgiLCJ3b3JsZE1heFgiLCJ3b3JsZE1pblkiLCJ3b3JsZE1heFkiLCJjYWxjdWxhdGVQb3NNYXRyaXgiLCJkaXN0YW5jZURhdGFLZXkiLCJ3aW5kb3dTY2FsZUZhY3RvciIsImN3cyIsInRYIiwidFkiLCJiWCIsImJZIiwiZm9nVGlsZU1hdHJpeEtleSIsIndvcmxkVG9Gb2dNYXRyaXgiLCJhbGlnbmVkIiwicHJvak1hdHJpeEtleSIsIm1lcmNhdG9yTWF0cml4IiwiYWxpZ25lZFByb2pNYXRyaXgiLCJfcGl4ZWxzVG9UaWxlVW5pdHNDYWNoZSIsImludmVyc2VBZGp1c3RtZW50TWF0cml4IiwidjEiLCJ2MCIsImdldFBpeGVsc1RvVGlsZVVuaXRzTWF0cml4IiwicGl4ZWxzVG9NZXJjIiwiZnJvbVNjYWxpbmciLCJtZXJjUGl4ZWxzUGVyTWV0ZXIiLCJfY29tcHV0ZUNhbWVyYVBvc2l0aW9uIiwibWV0ZXJzVG9NZXJjIiwibmV3Q2VudGVyIiwibWF4QWx0aXR1ZGUiLCJlbGV2YXRpb25BdENhbWVyYSIsInRlcnJhaW5FbGV2YXRpb24iLCJfbWluaW11bUhlaWdodE92ZXJUZXJyYWluIiwiY2FtZXJhSGVpZ2h0IiwiY2FtZXJhVG9DZW50ZXIiLCJwcmV2RGlzdFRvQ2FtZXJhIiwibmV3RGlzdFRvQ2FtZXJhIiwiX2lzQ2FtZXJhQ29uc3RyYWluZWQiLCJfY29uc3RyYWluaW5nIiwidzIiLCJoMiIsIl9taW5ab29tRm9yQm91bmRzIiwiX21heENhbWVyYUJvdW5kc0Rpc3RhbmNlIiwiR0xPQkVfU0NBTEVfTUFUQ0hfTEFUSVRVREUiLCJwcm9qZWN0aW9uVCIsInBpeGVsU3BhY2VDb252ZXJzaW9uIiwiZmFydGhlc3RQaXhlbERpc3RhbmNlIiwielVuaXQiLCJ6QXhpc1VuaXQiLCJ3b3JsZFRvQ2FtZXJhIiwiY2FtZXJhVG9DbGlwIiwiYWRqdXN0bWVudHMiLCJnZXRQcm9qZWN0aW9uQWRqdXN0bWVudEludmVydGVkIiwiY2xpcFRvQ2FtZXJhIiwiRnJ1c3R1bUNvcm5lcnMiLCJ2aWV3Iiwic2t5Ym94SG9yaXpvblNoaWZ0IiwieFNoaWZ0IiwieVNoaWZ0IiwiYW5nbGVDb3MiLCJhbmdsZVNpbiIsImFsaWduZWRNIiwiY2FsY3VsYXRlR2xvYmVNYXRyaXgiLCJnbG9iZUNlbnRlciIsInRyYW5zZm9ybU1hdDQiLCJjYW1lcmFQb3MiLCJtZXRlcnNUb1BpeGVsIiwidGFyZ2V0UGl4ZWxzUGVyTWV0ZXIiLCJfdHJhbnNsYXRlQ2FtZXJhQ29uc3RyYWluZWQiLCJkZWx0YVoiLCJjZW50ZXJBbHRpdHVkZSIsIk1BWF9EUkFQRV9PVkVSWk9PTSIsInpvb21Gcm9tTWVyY2F0b3JaQWRqdXN0ZWQiLCJtZXJjYXRvcloiLCJ6b29tTG93Iiwiem9vbUhpZ2giLCJHTE9CRV9aT09NX1RIUkVTSE9MRF9NQVgiLCJtaW5ab29tRGlmZiIsInpvb21NaWQiLCJuZXdab29tIiwiZGlmZiIsImFueUNvcm5lck9mZkVkZ2UiLCJjb3JuZXJzIiwibWluV1giLCJtYXhXWCIsImNvcm5lciIsImNvb3JkaW5hdGUiLCJyYWRUb0RlZyIsInpvb21EZWx0YVRvTW92ZW1lbnQiLCJ6b29tRGVsdGEiLCJyZWxhdGl2ZVpvb20iLCJwcm9qZWN0Q2xhbXBlZCIsInByb2plY3Rpb25TY2FsZXIiLCJnZXRXb3JsZFRvQ2FtZXJhTWF0cml4IiwidGhyb3R0bGUiLCJ0aW1lIiwicGVuZGluZyIsInRpbWVySWQiLCJsYXRlciIsIkhhc2giLCJoYXNoTmFtZSIsIl9oYXNoTmFtZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIl91cGRhdGVIYXNoIiwiX3VwZGF0ZUhhc2hVbnRocm90dGxlZCIsImFkZFRvIiwiX29uSGFzaENoYW5nZSIsImNsZWFyVGltZW91dCIsImdldEhhc2hTdHJpbmciLCJoYXNoIiwiZm91bmQiLCJwYXJ0cyIsIl9nZXRDdXJyZW50SGFzaCIsImtleXZhbCIsImRyYWdSb3RhdGUiLCJpc0VuYWJsZWQiLCJ0b3VjaFpvb21Sb3RhdGUiLCJnZXRCZWFyaW5nIiwianVtcFRvIiwiaHJlZiIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJtYXBGZWVkYmFjayIsImdldFpvb20iLCJMTjEwIiwiZ2V0UGl0Y2giLCJkZWZhdWx0SW5lcnRpYU9wdGlvbnMiLCJsaW5lYXJpdHkiLCJlYXNpbmciLCJiZXppZXIiLCJkZWZhdWx0UGFuSW5lcnRpYU9wdGlvbnMiLCJkZWNlbGVyYXRpb24iLCJtYXhTcGVlZCIsImRlZmF1bHRab29tSW5lcnRpYU9wdGlvbnMiLCJkZWZhdWx0QmVhcmluZ0luZXJ0aWFPcHRpb25zIiwiZGVmYXVsdFBpdGNoSW5lcnRpYU9wdGlvbnMiLCJIYW5kbGVySW5lcnRpYSIsIl9pbmVydGlhQnVmZmVyIiwicmVjb3JkIiwic2V0dGluZ3MiLCJfZHJhaW5JbmVydGlhQnVmZmVyIiwiaW5lcnRpYSIsIl9vbk1vdmVFbmQiLCJwYW5JbmVydGlhT3B0aW9ucyIsInByZWZlcnNSZWR1Y2VkTW90aW9uIiwiZGVsdGFzIiwicGFuIiwicGluY2hBcm91bmQiLCJhcm91bmQiLCJiZWFyaW5nRGVsdGEiLCJwaXRjaERlbHRhIiwicGFuRGVsdGEiLCJlYXNlT3B0aW9ucyIsIm1hZyIsImNhbGN1bGF0ZUVhc2luZyIsImFtb3VudCIsImV4dGVuZER1cmF0aW9uIiwibm9Nb3ZlU3RhcnQiLCJpbmVydGlhRHVyYXRpb24iLCJpbmVydGlhT3B0aW9ucyIsInNwZWVkIiwiTWFwTW91c2VFdmVudCIsIl9kZWZhdWx0UHJldmVudGVkIiwiZGVmYXVsdFByZXZlbnRlZCIsIm9yaWdpbmFsRXZlbnQiLCJET00iLCJnZXRDYW52YXNDb250YWluZXIiLCJNYXBUb3VjaEV2ZW50IiwiY2hhbmdlZFRvdWNoZXMiLCJsbmdMYXRzIiwiY3VyciIsImFyciIsImRpdiIsIk1hcFdoZWVsRXZlbnQiLCJNYXBFdmVudEhhbmRsZXIiLCJfY2xpY2tUb2xlcmFuY2UiLCJjbGlja1RvbGVyYW5jZSIsIl9tb3VzZWRvd25Qb3MiLCJ3aGVlbCIsIl9maXJlUHJldmVudGFibGUiLCJtb3VzZWRvd24iLCJtb3VzZXVwIiwicHJlY2xpY2siLCJzeW50aCIsImNsaWNrIiwiZGJsY2xpY2siLCJtb3VzZW92ZXIiLCJtb3VzZW91dCIsInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsInRvdWNoY2FuY2VsIiwibWFwRXZlbnQiLCJpc0FjdGl2ZSIsIkJsb2NrYWJsZU1hcEV2ZW50SGFuZGxlciIsIl9kZWxheUNvbnRleHRNZW51IiwiX2NvbnRleHRNZW51RXZlbnQiLCJtb3VzZW1vdmUiLCJjb250ZXh0bWVudSIsImxpc3RlbnMiLCJCb3hab29tSGFuZGxlciIsIl9lbCIsIl9jb250YWluZXIiLCJnZXRDb250YWluZXIiLCJfZW5hYmxlZCIsIl9hY3RpdmUiLCJzaGlmdEtleSIsIl9zdGFydFBvcyIsIl9sYXN0UG9zIiwibW91c2Vtb3ZlV2luZG93IiwiX2JveCIsImNsYXNzTGlzdCIsIl9maXJlRXZlbnQiLCJtb3VzZXVwV2luZG93IiwiY2FtZXJhQW5pbWF0aW9uIiwiZml0U2NyZWVuQ29vcmRpbmF0ZXMiLCJsaW5lYXIiLCJrZXlkb3duIiwia2V5Q29kZSIsImJsdXIiLCJpbmRleFRvdWNoZXMiLCJTaW5nbGVUYXBSZWNvZ25pemVyIiwibnVtVG91Y2hlcyIsIm1hcFRvdWNoZXMiLCJ0aW1lU3RhbXAiLCJzdW0iLCJnZXRDZW50cm9pZCIsIm5ld1RvdWNoZXMiLCJwcmV2UG9zIiwiVGFwUmVjb2duaXplciIsInNpbmdsZVRhcCIsIm51bVRhcHMiLCJsYXN0VGltZSIsImxhc3RUYXAiLCJ0YXAiLCJzb29uRW5vdWdoIiwiY2xvc2VFbm91Z2giLCJUYXBab29tSGFuZGxlciIsIl96b29tSW4iLCJfem9vbU91dCIsInpvb21JblBvaW50Iiwiem9vbU91dFBvaW50IiwiZWFzZVRvIiwiQlVUVE9OU19GTEFHUyIsIk1vdXNlSGFuZGxlciIsIl9tb3ZlZCIsIl9sYXN0UG9pbnQiLCJfZXZlbnRCdXR0b24iLCJfY29ycmVjdEJ1dHRvbiIsIl9tb3ZlIiwibGFzdFBvaW50IiwiZXZlbnRCdXR0b24iLCJidXR0b25zIiwiYnV0dG9uU3RpbGxQcmVzc2VkIiwiTW91c2VQYW5IYW5kbGVyIiwiTW91c2VSb3RhdGVIYW5kbGVyIiwiTW91c2VQaXRjaEhhbmRsZXIiLCJUb3VjaFBhbkhhbmRsZXIiLCJfbWluVG91Y2hlcyIsIl90b3VjaGVzIiwiX3N1bSIsIl9jYWxjdWxhdGVUcmFuc2Zvcm0iLCJfY29vcGVyYXRpdmVHZXN0dXJlcyIsImlzTW92aW5nIiwiaXNGdWxsc2NyZWVuIiwiX3Nob3dUb3VjaFBhbkJsb2NrZXJBbGVydCIsIl9hbGVydENvbnRhaW5lciIsInZpc2liaWxpdHkiLCJfYWxlcnRUaW1lciIsImNhbmNlbGFibGUiLCJ0b3VjaFBvaW50U3VtIiwidG91Y2hEZWx0YVN1bSIsInRvdWNoRGVsdGFDb3VudCIsInByZXZQb2ludCIsIl9hZGRUb3VjaFBhbkJsb2NrZXIiLCJ0ZXh0Q29udGVudCIsIl9nZXRVSVN0cmluZyIsImNsaWVudFdpZHRoIiwiVHdvVG91Y2hIYW5kbGVyIiwiX2ZpcnN0VHdvVG91Y2hlcyIsIl9zdGFydCIsImZpcnN0VG91Y2hlcyIsImdldFRvdWNoQnlJZCIsIl9hcm91bmRDZW50ZXIiLCJnZXRab29tRGVsdGEiLCJsYXN0RGlzdGFuY2UiLCJUb3VjaFpvb21IYW5kbGVyIiwiX2Rpc3RhbmNlIiwiX3N0YXJ0RGlzdGFuY2UiLCJnZXRCZWFyaW5nRGVsdGEiLCJhbmdsZVdpdGgiLCJUb3VjaFJvdGF0ZUhhbmRsZXIiLCJfbWluRGlhbWV0ZXIiLCJfc3RhcnRWZWN0b3IiLCJfdmVjdG9yIiwibGFzdFZlY3RvciIsIl9pc0JlbG93VGhyZXNob2xkIiwic3RhcnRWZWN0b3IiLCJiZWFyaW5nRGVsdGFTaW5jZVN0YXJ0IiwiaXNWZXJ0aWNhbCIsIlRvdWNoUGl0Y2hIYW5kbGVyIiwiX3ZhbGlkIiwiX2ZpcnN0TW92ZSIsIl9sYXN0UG9pbnRzIiwibGFzdFBvaW50cyIsInZlY3RvckEiLCJ2ZWN0b3JCIiwiZ2VzdHVyZUJlZ2luc1ZlcnRpY2FsbHkiLCJtb3ZlZEEiLCJtb3ZlZEIiLCJpc1NhbWVEaXJlY3Rpb24iLCJkZWZhdWx0T3B0aW9ucyIsInBhblN0ZXAiLCJiZWFyaW5nU3RlcCIsInBpdGNoU3RlcCIsIktleWJvYXJkSGFuZGxlciIsInN0ZXBPcHRpb25zIiwiX3BhblN0ZXAiLCJfYmVhcmluZ1N0ZXAiLCJfcGl0Y2hTdGVwIiwiX3JvdGF0aW9uRGlzYWJsZWQiLCJhbHRLZXkiLCJtZXRhS2V5Iiwiem9vbURpciIsImJlYXJpbmdEaXIiLCJwaXRjaERpciIsInhEaXIiLCJ5RGlyIiwiZWFzZUlkIiwiZWFzZU91dCIsImRpc2FibGVSb3RhdGlvbiIsImVuYWJsZVJvdGF0aW9uIiwid2hlZWxab29tRGVsdGEiLCJTY3JvbGxab29tSGFuZGxlciIsImhhbmRsZXIiLCJfaGFuZGxlciIsIl9kZWx0YSIsIl9kZWZhdWx0Wm9vbVJhdGUiLCJfd2hlZWxab29tUmF0ZSIsInNldFpvb21SYXRlIiwiem9vbVJhdGUiLCJzZXRXaGVlbFpvb21SYXRlIiwid2hlZWxab29tUmF0ZSIsIl9maW5pc2hUaW1lb3V0IiwiaXNab29taW5nIiwiX3pvb21pbmciLCJfYWRkU2Nyb2xsWm9vbUJsb2NrZXIiLCJfc2hvd0Jsb2NrZXJBbGVydCIsImRlbHRhTW9kZSIsIldoZWVsRXZlbnQiLCJET01fREVMVEFfTElORSIsImRlbHRhWSIsInRpbWVEZWx0YSIsIl9sYXN0V2hlZWxFdmVudFRpbWUiLCJfdHlwZSIsIl9sYXN0VmFsdWUiLCJfdGltZW91dCIsIl9vblRpbWVvdXQiLCJfbGFzdFdoZWVsRXZlbnQiLCJpbml0aWFsRXZlbnQiLCJfZnJhbWVJZCIsIl9hcm91bmRQb2ludCIsIl9hcm91bmRDb29yZCIsIl90YXJnZXRab29tIiwiX3RyaWdnZXJSZW5kZXJGcmFtZSIsInJlbmRlckZyYW1lIiwiX3ByZXZFYXNlIiwiX2Vhc2luZyIsInN0YXJ0aW5nWm9vbSIsInN0YXJ0Wm9vbSIsInN0YXJ0U2NhbGUiLCJmcm9tU2NhbGUiLCJfc3RhcnRab29tIiwiX3Ntb290aE91dEVhc2luZyIsInRhcmdldFpvb20iLCJmaW5pc2hlZCIsIm5vSW5lcnRpYSIsIm5lZWRzUmVuZGVyRnJhbWUiLCJhcm91bmRDb29yZCIsIl9lYXNlIiwiZWFzZSIsInVzZXJBZ2VudCIsIkRvdWJsZUNsaWNrWm9vbUhhbmRsZXIiLCJjbGlja1pvb20iLCJUYXBab29tIiwiX2NsaWNrWm9vbSIsIl90YXBab29tIiwiQ2xpY2tab29tSGFuZGxlciIsIlRhcERyYWdab29tSGFuZGxlciIsIl90YXAiLCJfc3dpcGVQb2ludCIsIl9zd2lwZVRvdWNoIiwiX3RhcFRpbWUiLCJuZXdTd2lwZVBvaW50IiwiRHJhZ1BhbkhhbmRsZXIiLCJtb3VzZVBhbiIsInRvdWNoUGFuIiwiX21vdXNlUGFuIiwiX3RvdWNoUGFuIiwiX2luZXJ0aWFPcHRpb25zIiwiRHJhZ1JvdGF0ZUhhbmRsZXIiLCJtb3VzZVJvdGF0ZSIsIm1vdXNlUGl0Y2giLCJfcGl0Y2hXaXRoUm90YXRlIiwicGl0Y2hXaXRoUm90YXRlIiwiX21vdXNlUm90YXRlIiwiX21vdXNlUGl0Y2giLCJUb3VjaFpvb21Sb3RhdGVIYW5kbGVyIiwidG91Y2hab29tIiwidG91Y2hSb3RhdGUiLCJ0YXBEcmFnWm9vbSIsIl90b3VjaFpvb20iLCJfdG91Y2hSb3RhdGUiLCJfdGFwRHJhZ1pvb20iLCJkcmFnIiwiUmVuZGVyRnJhbWVFdmVudCIsIlRyYWNraW5nRWxsaXBzb2lkIiwiY29uc3RhbnRzIiwicG9pbnRPblN1cmZhY2UiLCJjZW50ZXJUb1N1cmZhY2UiLCJwcm9qZWN0UmF5IiwiaW50ZXJzZWN0aW9uIiwiaGFzQ2hhbmdlIiwiSGFuZGxlck1hbmFnZXIiLCJfaGFuZGxlcnMiLCJfaGFuZGxlcnNCeUlkIiwiX2NoYW5nZXMiLCJfaW5lcnRpYSIsIl9iZWFyaW5nU25hcCIsImJlYXJpbmdTbmFwIiwiX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnMiLCJfdHJhY2tpbmdFbGxpcHNvaWQiLCJfZHJhZ09yaWdpbiIsIl9ldmVudHNJblByb2dyZXNzIiwiX2FkZERlZmF1bHRIYW5kbGVycyIsIl9saXN0ZW5lcnMiLCJwYXNzaXZlIiwiY2FwdHVyZSIsImxpc3RlbmVyT3B0aW9ucyIsImhhbmRsZVdpbmRvd0V2ZW50IiwiaGFuZGxlRXZlbnQiLCJib3hab29tIiwidGFwWm9vbSIsImRvdWJsZUNsaWNrWm9vbSIsInRvdWNoUGl0Y2giLCJkcmFnUGFuIiwic2Nyb2xsWm9vbSIsImtleWJvYXJkIiwiaW50ZXJhY3RpdmUiLCJoYW5kbGVyTmFtZSIsImFsbG93ZWQiLCJzdG9wIiwiYWxsb3dFbmRBbmltYXRpb24iLCJfdXBkYXRpbmdDYW1lcmEiLCJfZmlyZUV2ZW50cyIsImlzUm90YXRpbmciLCJfaXNEcmFnZ2luZyIsIl9ibG9ja2VkQnlBY3RpdmUiLCJhY3RpdmVIYW5kbGVycyIsIm15TmFtZSIsIl9nZXRNYXBUb3VjaGVzIiwiZXZlbnROYW1lIiwiaXNSZW5kZXJGcmFtZSIsImlucHV0RXZlbnQiLCJtZXJnZWRIYW5kbGVyUmVzdWx0IiwiZXZlbnRzSW5Qcm9ncmVzcyIsIm1lcmdlSGFuZGxlclJlc3VsdCIsImRlYWN0aXZhdGVkSGFuZGxlcnMiLCJfc3RvcCIsImhhbmRsZXJSZXN1bHQiLCJldmVudERhdGEiLCJfYXBwbHlDaGFuZ2VzIiwiY29tYmluZWQiLCJjb21iaW5lZEV2ZW50c0luUHJvZ3Jlc3MiLCJjb21iaW5lZERlYWN0aXZhdGVkSGFuZGxlcnMiLCJjaGFuZ2UiLCJfdXBkYXRlTWFwVHJhbnNmb3JtIiwiY29tYmluZWRSZXN1bHQiLCJ0b1ZlYzMiLCJldmVudEVuZGVkIiwicHJlWm9vbSIsImV2ZW50U3RhcnRlZCIsInBhblZlYyIsInN0YXJ0UG9pbnQiLCJlbmRQb2ludCIsIm1lcmNhdG9yU2NhbGUiLCJvcmlnaW5hbFpvb20iLCJ6b29tVmVjIiwicGlja2VkUG9zaXRpb24iLCJhcm91bmRSYXkiLCJub3JtYWxpemUiLCJtb3ZlbWVudCIsIm5ld0V2ZW50c0luUHJvZ3Jlc3MiLCJ3YXNNb3ZpbmciLCJub3dNb3ZpbmciLCJzdGFydEV2ZW50cyIsImVuZEV2ZW50cyIsIm9yaWdpbmFsRW5kRXZlbnQiLCJzdGlsbE1vdmluZyIsImluZXJ0aWFsRWFzZSIsInNob3VsZFNuYXBUb05vcnRoIiwicmVzZXROb3J0aCIsIl9yZXF1ZXN0RnJhbWUiLCJfcmVuZGVyVGFza1F1ZXVlIiwiZnJlZUNhbWVyYU5vdFN1cHBvcnRlZFdhcm5pbmciLCJDYW1lcmEiLCJfbW92aW5nIiwicGFuQnkiLCJwYW5UbyIsInpvb21UbyIsInpvb21JbiIsInpvb21PdXQiLCJnZXRQYWRkaW5nIiwic2V0UGFkZGluZyIsInJvdGF0ZVRvIiwicmVzZXROb3J0aFBpdGNoIiwic25hcFRvTm9ydGgiLCJjYW1lcmFGb3JCb3VuZHMiLCJsbmdsYXQwIiwiZ2V0Tm9ydGhXZXN0IiwibG5nbGF0MSIsImdldFNvdXRoRWFzdCIsIl9jYW1lcmFGb3JCb3VuZHMiLCJfZXh0ZW5kQ2FtZXJhT3B0aW9ucyIsImRlZmF1bHRQYWRkaW5nIiwiX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlIiwiYWFiYlciLCJhYWJiSCIsIl9jYW1lcmFGb3JCb3VuZHNPbkdsb2JlIiwiZU9wdGlvbnMiLCJjb29yZDAiLCJjb29yZDEiLCJtaWRMYXQiLCJtaWRMbmciLCJvcmlnaW4iLCJsYXRMbmdUb0VDRUYiLCJ6QXhpcyIsInhBeGlzIiwieUF4aXMiLCJhYWJiT3JpZW50YXRpb24iLCJlY2VmQ29vcmRzIiwiQWFiYiIsImZyb21Qb2ludHMiLCJzcXVhcmVkTGVuZ3RoIiwiZWNlZlRvTGF0TG5nIiwiYXBwbHlUcmFuc2Zvcm0iLCJhYWJiSGFsZkV4dGVudFoiLCJmcnVzdHVtRGlzdGFuY2UiLCJvZmZzZXRaIiwiYWFiYkNsb3Nlc3RQb2ludCIsIm9mZnNldERpc3RhbmNlIiwibm9ybWFsIiwiY2FtZXJhUG9zaXRpb24iLCJtZXRlclBlckVDRUYiLCJlYXJ0aFJhZGl1cyIsImFsdGl0dWRlRUNFRiIsInF1ZXJ5VGVycmFpbkVsZXZhdGlvbiIsImV4YWdnZXJhdGVkIiwiZ2V0QXRQb2ludCIsImVkZ2VQYWRkaW5nIiwiY29vcmQyIiwicDB3b3JsZCIsInAxd29ybGQiLCJ6MiIsInozIiwid29ybGRDb29yZHMiLCJzY3JlZW5QYWRMIiwic2NyZWVuUGFkUiIsInNjcmVlblBhZEIiLCJzY3JlZW5QYWRUIiwicGFkTCIsInBhZFIiLCJwYWRUIiwicGFkQiIsImhhbGZTY3JlZW5QYWRYIiwiaGFsZlNjcmVlblBhZFkiLCJ6b29tUmVmIiwibm9ybWFsWiIsInJvdGF0ZWRPZmZzZXQiLCJtZXJjYXRvciIsImxuZ0Zyb21NZXJjYXRvclgiLCJmaXRCb3VuZHMiLCJjYW1lcmFQbGFjZW1lbnQiLCJfZml0SW50ZXJuYWwiLCJzY3JlZW4wIiwic2NyZWVuMSIsImxuZ2xhdDIiLCJsbmdsYXQzIiwicDBjb29yZCIsInAxY29vcmQiLCJjYWxjdWxhdGVkT3B0aW9ucyIsImZseVRvIiwicHJlbG9hZE9ubHkiLCJ6b29tQ2hhbmdlZCIsImJlYXJpbmdDaGFuZ2VkIiwicGl0Y2hDaGFuZ2VkIiwiX3ByZWxvYWRUaWxlcyIsInN1cHBvcnRzRnJlZUNhbWVyYSIsInByZXZab29tIiwicHJldlBpdGNoIiwicHJldkJlYXJpbmciLCJkZWZhdWx0RWFzaW5nIiwiZXNzZW50aWFsIiwic3RhcnRCZWFyaW5nIiwic3RhcnRQaXRjaCIsInN0YXJ0UGFkZGluZyIsIl9ub3JtYWxpemVCZWFyaW5nIiwib2Zmc2V0QXNQb2ludCIsInBvaW50QXRPZmZzZXQiLCJkZWx0YSIsImxvY2F0aW9uQXRPZmZzZXQiLCJfbm9ybWFsaXplQ2VudGVyIiwiZmluYWxTY2FsZSIsImFyb3VuZFBvaW50IiwiX3JvdGF0aW5nIiwiX3BpdGNoaW5nIiwicGFkZGluZ0NoYW5nZWQiLCJiYXNlIiwic3BlZWR1cCIsIl9maXJlTW92ZUV2ZW50cyIsInByZWRpY3RlZFRyYW5zZm9ybXMiLCJfZW11bGF0ZSIsImN1cnJlbnRseSIsInBpdGNoaW5nIiwiX3BhZGRpbmciLCJfZWFzZUlkIiwiX3ByZXBhcmVFYXNlIiwiaW50ZXJydXB0aW5nRWFzZUlkIiwiX2FmdGVyRWFzZSIsIndhc1pvb21pbmciLCJ3YXNSb3RhdGluZyIsIndhc1BpdGNoaW5nIiwiY29lcmNlZE9wdGlvbnMiLCJjdXJ2ZSIsInJobyIsInUxIiwid01heCIsInJobzIiLCJzaW5oIiwiY29zaCIsInIwIiwidSIsIlMiLCJpc0Zpbml0ZSIsInNjcmVlblNwZWVkIiwibWF4RHVyYXRpb24iLCJpc0Vhc2luZyIsIl9lYXNlRnJhbWVJZCIsImFsbG93R2VzdHVyZXMiLCJfY2FuY2VsUmVuZGVyRnJhbWUiLCJfb25FYXNlRnJhbWUiLCJfb25FYXNlRW5kIiwib25FYXNlRW5kIiwiaGFuZGxlcnMiLCJmaW5pc2giLCJfZWFzZVN0YXJ0IiwiX2Vhc2VPcHRpb25zIiwiX3JlcXVlc3RSZW5kZXJGcmFtZSIsIl9yZW5kZXJGcmFtZUNhbGxiYWNrIiwiY3VycmVudEJlYXJpbmciLCJpbml0aWFsVHJhbnNmb3JtIiwibnVtRnJhbWVzIiwidHJhbnNmb3JtcyIsImVtdWxhdGVGcmFtZSIsIkF0dHJpYnV0aW9uQ29udHJvbCIsImdldERlZmF1bHRQb3NpdGlvbiIsImNvbXBhY3QiLCJfY29tcGFjdEJ1dHRvbiIsIl90b2dnbGVBdHRyaWJ1dGlvbiIsIl9zZXRFbGVtZW50VGl0bGUiLCJfaW5uZXJDb250YWluZXIiLCJfdXBkYXRlQXR0cmlidXRpb25zIiwiX3VwZGF0ZUVkaXRMaW5rIiwiX3VwZGF0ZURhdGEiLCJfdXBkYXRlQ29tcGFjdCIsIl9hdHRyaWJIVE1MIiwiZWxlbWVudCIsInRpdGxlIiwic3RyIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJlZGl0TGluayIsIl9lZGl0TGluayIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZU93bmVyIiwic3R5bGVJZCIsImNvbmZpZyIsIkFDQ0VTU19UT0tFTiIsInBhcmFtU3RyaW5nIiwiRkVFREJBQ0tfVVJMIiwicmVsIiwiYXR0cmlidXRpb25zIiwib3duZXIiLCJhdHRyaWIiLCJjdXN0b21BdHRyaWJ1dGlvbiIsImF0dHJpYkhUTUwiLCJpbm5lckhUTUwiLCJMb2dvQ29udHJvbCIsImRpc3BsYXkiLCJfdXBkYXRlTG9nbyIsIl9sb2dvUmVxdWlyZWQiLCJlbnRyaWVzIiwibWFwYm94X2xvZ28iLCJjb250YWluZXJDaGlsZHJlbiIsImNoaWxkcmVuIiwiVGFza1F1ZXVlIiwiX3F1ZXVlIiwiX2lkIiwiX2NsZWFyZWQiLCJfY3VycmVudGx5UnVubmluZyIsImNhbmNlbGxlZCIsInJ1bm5pbmciLCJxdWV1ZSIsInRhc2siLCJydW4iLCJzbWFydFdyYXAiLCJwcmlvclBvcyIsIndpdGhpbldyYXAiLCJhbmNob3JUcmFuc2xhdGUiLCJNYXJrZXIiLCJsZWdhY3lPcHRpb25zIiwiSFRNTEVsZW1lbnQiLCJfYW5jaG9yIiwiX2NvbG9yIiwiX3NjYWxlIiwiX2RyYWdnYWJsZSIsImRyYWdnYWJsZSIsIl9yb3RhdGlvbiIsIl9yb3RhdGlvbkFsaWdubWVudCIsIl9waXRjaEFsaWdubWVudCIsIl91cGRhdGVNb3ZpbmciLCJfb2NjbHVkZWRPcGFjaXR5Iiwib2NjbHVkZWRPcGFjaXR5IiwiX2VsZW1lbnQiLCJfb2Zmc2V0IiwiX2RlZmF1bHRNYXJrZXIiLCJERUZBVUxUX0hFSUdIVCIsIkRFRkFVTFRfV0lEVEgiLCJzdmciLCJ2aWV3Qm94IiwiY3giLCJjeSIsInJ4IiwicnkiLCJoYXNBdHRyaWJ1dGUiLCJfcG9wdXAiLCJfY2xlYXJGYWRlVGltZXIiLCJfYWRkTWFya2VyIiwic2V0RHJhZ2dhYmxlIiwiX29uTWFwQ2xpY2siLCJfYWRkRHJhZ0hhbmRsZXIiLCJfb25VcCIsIl9vbk1vdmUiLCJfcmVtb3ZlTWFya2VyIiwiZ2V0TG5nTGF0IiwiX2xuZ0xhdCIsInNldExuZ0xhdCIsIl9wb3MiLCJnZXRFbGVtZW50Iiwic2V0UG9wdXAiLCJwb3B1cCIsIl9vbktleVByZXNzIiwiX29yaWdpbmFsVGFiSW5kZXgiLCJtYXJrZXJIZWlnaHQiLCJtYXJrZXJSYWRpdXMiLCJsaW5lYXJPZmZzZXQiLCJfbWFya2VyIiwiZ2V0QXR0cmlidXRlIiwibGVnYWN5Q29kZSIsImNoYXJDb2RlIiwidG9nZ2xlUG9wdXAiLCJ0YXJnZXRFbGVtZW50IiwiZ2V0UG9wdXAiLCJpc09wZW4iLCJfYmVoaW5kVGVycmFpbiIsInVucHJvamVjdGVkIiwiY2FtZXJhTG5nTGF0IiwiZGlzdGFuY2VUbyIsIm1hcExvY2F0aW9uIiwiX3Nob3dpbmdHbG9iZSIsImlzTG5nTGF0QmVoaW5kR2xvYmUiLCJfcXVlcnlGb2dPcGFjaXR5IiwicG9pbnRlckV2ZW50cyIsIl9zZXRPcGFjaXR5IiwiX2ZhZGVUaW1lciIsIl91cGRhdGVET00iLCJfY2FsY3VsYXRlWFlUcmFuc2Zvcm0iLCJfY2FsY3VsYXRlWlRyYW5zZm9ybSIsImFsaWdubWVudCIsImdldFBpdGNoQWxpZ25tZW50IiwidGlsdCIsImdsb2JlVGlsdEF0TG5nTGF0IiwicG9zRnJvbUNlbnRlciIsImdsb2JlQ2VudGVyVG9TY3JlZW5Qb2ludCIsIm1hbmhhdHRhbkRpc3RhbmNlIiwidGlsdE92ZXJEaXN0IiwiZ2V0Um90YXRpb25BbGlnbm1lbnQiLCJzbW9vdGgiLCJkZWxheVNuYXAiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIl91cGRhdGVGcmFtZUlkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZ2V0T2Zmc2V0Iiwic2V0T2Zmc2V0Iiwic3RhcnRQb3MiLCJfcG9pbnRlcmRvd25Qb3MiLCJwb3NEZWx0YSIsIl9wb3NpdGlvbkRlbHRhIiwib25jZSIsInNob3VsZEJlRHJhZ2dhYmxlIiwiaXNEcmFnZ2FibGUiLCJzZXRSb3RhdGlvbiIsImdldFJvdGF0aW9uIiwic2V0Um90YXRpb25BbGlnbm1lbnQiLCJzZXRQaXRjaEFsaWdubWVudCIsInNldE9jY2x1ZGVkT3BhY2l0eSIsImdldE9jY2x1ZGVkT3BhY2l0eSIsImNsb3NlQnV0dG9uIiwiY2xvc2VPbkNsaWNrIiwiZm9jdXNBZnRlck9wZW4iLCJtYXhXaWR0aCIsImZvY3VzUXVlcnlTZWxlY3RvciIsIm5vcm1hbGl6ZU9mZnNldCIsImNvcm5lck9mZnNldCIsIkVhc2VkVmFyaWFibGUiLCJpbml0aWFsVmFsdWUiLCJnZXRWYWx1ZSIsIl9zdGFydFRpbWUiLCJfZW5kVGltZSIsIl9lbmQiLCJkZWZhdWx0TG9jYWxlIiwiY29vcGVyYXRpdmVHZXN0dXJlcyIsInBlcmZvcm1hbmNlTWV0cmljc0NvbGxlY3Rpb24iLCJhdHRyaWJ1dGlvbkNvbnRyb2wiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJ0cmFja1Jlc2l6ZSIsIm9wdGltaXplRm9yVGVycmFpbiIsInJlZnJlc2hFeHBpcmVkVGlsZXMiLCJtaW5UaWxlQ2FjaGVTaXplIiwibWF4VGlsZUNhY2hlU2l6ZSIsIk1hcCIsIkxpdmVQZXJmb3JtYW5jZVV0aWxzIiwibWFyayIsIlBlcmZvcm1hbmNlTWFya2VycyIsImlzU2FmYXJpV2l0aEFudGlhbGlhc2luZ0J1ZyIsIl9pbnRlcmFjdGl2ZSIsIl9taW5UaWxlQ2FjaGVTaXplIiwiX21heFRpbGVDYWNoZVNpemUiLCJfZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsIl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJfYW50aWFsaWFzIiwiX3VzZVdlYkdMMiIsInVzZVdlYkdMMiIsIl90cmFja1Jlc2l6ZSIsIl9mYWRlRHVyYXRpb24iLCJfaXNJbml0aWFsTG9hZCIsIl9jcm9zc1NvdXJjZUNvbGxpc2lvbnMiLCJfcGFyc2VMYW5ndWFnZSIsIl9kb21SZW5kZXJUYXNrUXVldWUiLCJfY29udHJvbHMiLCJfcG9wdXBzIiwiX21hcElkIiwiX2xvY2FsZSIsImxvY2FsZSIsIl9wZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uIiwiX2NvbnRhaW5lcldpZHRoIiwiX2NvbnRhaW5lckhlaWdodCIsIl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdCIsIl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uIiwiX2ludGVyYWN0aW9uUmFuZ2UiLCJfdmlzaWJpbGl0eUhpZGRlbiIsIlJlcXVlc3RNYW5hZ2VyIiwidGVzdE1vZGUiLCJfc2lsZW5jZUF1dGhFcnJvcnMiLCJjaGlsZE5vZGVzIiwiX3NldHVwQ29udGFpbmVyIiwiX3NldHVwUGFpbnRlciIsIl9vbldpbmRvd09ubGluZSIsIl9vbldpbmRvd1Jlc2l6ZSIsIl9vblZpc2liaWxpdHlDaGFuZ2UiLCJfbG9jYWxGb250RmFtaWx5IiwiX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseSIsIl9oYXNoIiwiZml0Qm91bmRzT3B0aW9ucyIsImFkZENvbnRyb2wiLCJfbG9nb0NvbnRyb2wiLCJsb2dvUG9zaXRpb24iLCJfZ2V0TWFwSWQiLCJjb250cm9sIiwiY29udHJvbEVsZW1lbnQiLCJwb3NpdGlvbkNvbnRhaW5lciIsIl9jb250cm9sUG9zaXRpb25zIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNvbnRyb2wiLCJjaSIsImhhc0NvbnRyb2wiLCJfY2FudmFzQ29udGFpbmVyIiwiX2NhbnZhcyIsIl91cGRhdGVDb250YWluZXJEaW1lbnNpb25zIiwiX3Jlc2l6ZUNhbnZhcyIsImZpcmVNb3ZpbmciLCJzZXRNaW5ab29tIiwiZ2V0TWluWm9vbSIsInNldE1heFpvb20iLCJnZXRNYXhab29tIiwic2V0TWluUGl0Y2giLCJnZXRNaW5QaXRjaCIsInNldE1heFBpdGNoIiwiZ2V0TWF4UGl0Y2giLCJnZXRSZW5kZXJXb3JsZENvcGllcyIsInNldFJlbmRlcldvcmxkQ29waWVzIiwiX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUiLCJnZXRMYW5ndWFnZSIsInNldExhbmd1YWdlIiwibmV3TGFuZ3VhZ2UiLCJfc2V0TGFuZ3VhZ2UiLCJnZXRXb3JsZHZpZXciLCJzZXRXb3JsZHZpZXciLCJfbGF6eUluaXRFbXB0eVN0eWxlIiwiX3VwZGF0ZVByb2plY3Rpb25UcmFuc2l0aW9uIiwiZXhwbGljaXRQcm9qZWN0aW9uIiwic3R5bGVQcm9qZWN0aW9uIiwiX3VwZGF0ZVByb2plY3Rpb24iLCJfY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIiLCJsaXN0ZW5lciIsIm1vdXNlaW4iLCJmaWx0ZXJlZExheWVycyIsIlNldCIsImRlbGVnYXRlcyIsImRlbGVnYXRlIiwiZGVsZWdhdGVkTGlzdGVuZXIiLCJfZGVsZWdhdGVkTGlzdGVuZXJzIiwiYXJlTGF5ZXJBcnJheXNFcXVhbCIsImhhc2gxIiwiaGFzaDIiLCJoYXMiLCJkZWxlZ2F0ZWRMaXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJyZW1vdmVEZWxlZ2F0ZWRMaXN0ZW5lcnMiLCJfZGlmZlN0eWxlIiwiX3VwZGF0ZVN0eWxlIiwiX3VwZGF0ZVRlcnJhaW4iLCJfdXBkYXRlRGlmZiIsImdldFN0eWxlIiwiaXNTdHlsZUxvYWRlZCIsImFyZVRpbGVzTG9hZGVkIiwiZXhpc3RpbmdJbWFnZSIsImxvYWRJbWFnZSIsImJlZm9yZUlkIiwidHJhbnNmb3JtVmFsdWVzIiwidHJhbnNmb3JtU2NhbGVXaWR0aCIsInRyYW5zZm9ybVNjYWxlSGVpZ2h0IiwidHJhbnNmb3JtTWF0cml4IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhcmVudEVsZW1lbnQiLCJfZGV0ZWN0TWlzc2luZ0NTUyIsIl9taXNzaW5nQ1NTQ2FuYXJ5IiwiZ2V0UHJvcGVydHlWYWx1ZSIsImNhbnZhc0NvbnRhaW5lciIsIl9jb250ZXh0TG9zdCIsIl9jb250ZXh0UmVzdG9yZWQiLCJjb250cm9sQ29udGFpbmVyIiwiX2NvbnRyb2xDb250YWluZXIiLCJwb3NpdGlvbnMiLCJwb3NpdGlvbk5hbWUiLCJfb25NYXBTY3JvbGwiLCJfYWRkUG9wdXAiLCJfcmVtb3ZlUG9wdXAiLCJzdG9yZUF1dGhTdGF0ZSIsIndlYnBTdXBwb3J0ZWQiLCJ0ZXN0U3VwcG9ydCIsIl9mcmFtZSIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJfc3R5bGVEaXJ0eSIsIl9zb3VyY2VzRGlydHkiLCJ1cGRhdGVTdHlsZSIsIl9yZW5kZXIiLCJwYWludFN0YXJ0VGltZVN0YW1wIiwiZnJhbWVTdGFydFRpbWUiLCJfcmVtb3ZlZCIsIkV2YWx1YXRpb25QYXJhbWV0ZXJzIiwiYXZlcmFnZUVsZXZhdGlvbkNoYW5nZWQiLCJfdXBkYXRlQXZlcmFnZUVsZXZhdGlvbiIsIl9wbGFjZW1lbnREaXJ0eSIsInJlbmRlckNQVVRpbWUiLCJyZW5kZXJHUFVUaW1lIiwiZGV0YWlsIiwiZnJhbWVMYXllclF1ZXJpZXMiLCJyZW5kZXJlZExheWVyVGltZXMiLCJsYXllclRpbWVzIiwiZGVmZXJyZWRSZW5kZXJRdWVyaWVzIiwic29tZXRoaW5nRGlydHkiLCJfcmVwYWludCIsIndpbGxJZGxlIiwiX3RyaWdnZXJGcmFtZSIsInNwZWVkSW5kZXhOdW1iZXIiLCJfY2FsY3VsYXRlU3BlZWRJbmRleCIsInNwZWVkSW5kZXgiLCJfZnVsbHlMb2FkZWQiLCJmdWxsTG9hZCIsInBvc3RQZXJmb3JtYW5jZUV2ZW50IiwiaW50ZXJhY3Rpb25SYW5nZSIsInZpc2liaWxpdHlIaWRkZW4iLCJ0ZXJyYWluRW5hYmxlZCIsImZvZ0VuYWJsZWQiLCJfYXV0aGVudGljYXRlIiwic2hvdWxkV3JhcCIsIl90cmFja1BvaW50ZXIiLCJpZ25vcmVUaW1lb3V0IiwiYXBwbHlVcGRhdGUiLCJjdXJyZW50RWxldmF0aW9uIiwibmV3RWxldmF0aW9uIiwiZXhhZ2dlcmF0aW9uQ2hhbmdlZCIsImVsZXZhdGlvbkNoYW5nZSIsImdldE1hcFNlc3Npb25BUEkiLCJfc2t1VG9rZW4iLCJBVVRIX0VSUl9NU0ciLCJwb3N0TWFwTG9hZEV2ZW50IiwiZmluYWxGcmFtZSIsImNhbnZhc0NvcHlJbnN0YW5jZXMiLCJyZWFkIiwicGl4ZWxzIiwicmVhZFBpeGVscyIsIl9jYW52YXNQaXhlbENvbXBhcmlzb24iLCJhbGxGcmFtZXMiLCJmaW5hbFNjb3JlIiwibnVtUGl4ZWxzIiwiY250IiwidmlzdWFsQ29tcGxldG5lc3MiLCJleHRlbnNpb24iLCJsb3NlQ29udGV4dCIsInJlbW92ZUF1dGhTdGF0ZSIsIl9yZW5kZXJOZXh0RnJhbWUiLCJ2aXNpYmlsaXR5U3RhdGUiLCJfc2hvd1RpbGVCb3VuZGFyaWVzIiwiX3Nob3dUZXJyYWluV2lyZWZyYW1lIiwiX3NwZWVkSW5kZXhUaW1pbmciLCJfc2hvd1BhZGRpbmciLCJyZXBhaW50IiwiX3ZlcnRpY2VzIiwiX3Nob3dUaWxlQUFCQnMiLCJfc2V0Q2FjaGVMaW1pdHMiLCJjaGVja1RocmVzaG9sZCIsInNldENhY2hlTGltaXRzIiwic2hvd0NvbXBhc3MiLCJzaG93Wm9vbSIsInZpc3VhbGl6ZVBpdGNoIiwiTW91c2VSb3RhdGVXcmFwcGVyIiwiZG93biIsIm1vdmUiLCJvZmZUZW1wIiwidGFyZ2V0VG91Y2hlcyIsInBvc2l0aW9uT3B0aW9ucyIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsIm1heGltdW1BZ2UiLCJ0aW1lb3V0IiwidHJhY2tVc2VyTG9jYXRpb24iLCJzaG93QWNjdXJhY3lDaXJjbGUiLCJzaG93VXNlckxvY2F0aW9uIiwic2hvd1VzZXJIZWFkaW5nIiwidW5pdCIsImxlZ2FjeVNldFNjYWxlIiwibWF4RGlzdGFuY2UiLCJnZXRSb3VuZE51bSIsInJhdGlvIiwidW5pdEFiYnIiLCJraWxvbWV0ZXIiLCJtZXRlciIsIm1pbGUiLCJmb290IiwicG93MTAiLCJtdWx0aXBsaWVyIiwiZ2V0RGVjaW1hbFJvdW5kTnVtIiwic2V0UlRMVGV4dFBsdWdpbiIsImdldFJUTFRleHRQbHVnaW5TdGF0dXMiLCJOYXZpZ2F0aW9uQ29udHJvbCIsIl96b29tSW5CdXR0b24iLCJfY3JlYXRlQnV0dG9uIiwiX3pvb21PdXRCdXR0b24iLCJfY29tcGFzcyIsIl9jb21wYXNzSWNvbiIsIl91cGRhdGVab29tQnV0dG9ucyIsImlzTWF4IiwiaXNNaW4iLCJfcm90YXRlQ29tcGFzc0Fycm93IiwiX3NldEJ1dHRvblRpdGxlIiwiR2VvbG9jYXRlQ29udHJvbCIsImdlb2xvY2F0aW9uIiwiX3VwZGF0ZU1hcmtlclJvdGF0aW9uVGhyb3R0bGVkIiwiX3VwZGF0ZU1hcmtlclJvdGF0aW9uIiwiX251bWJlck9mV2F0Y2hlcyIsIl9jaGVja0dlb2xvY2F0aW9uU3VwcG9ydCIsIl9zZXR1cFVJIiwiX2dlb2xvY2F0aW9uV2F0Y2hJRCIsImNsZWFyV2F0Y2giLCJfdXNlckxvY2F0aW9uRG90TWFya2VyIiwiX2FjY3VyYWN5Q2lyY2xlTWFya2VyIiwiX29uWm9vbSIsIl9ub1RpbWVvdXQiLCJ1cGRhdGVTdXBwb3J0IiwiX3N1cHBvcnRzR2VvbG9jYXRpb24iLCJwZXJtaXNzaW9ucyIsIl9pc091dE9mTWFwTWF4Qm91bmRzIiwibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJfc2V0RXJyb3JTdGF0ZSIsIl93YXRjaFN0YXRlIiwiX2dlb2xvY2F0ZUJ1dHRvbiIsIl9vblN1Y2Nlc3MiLCJfdXBkYXRlTWFya2VyIiwiX2ZpbmlzaCIsIl9sYXN0S25vd25Qb3NpdGlvbiIsIl91cGRhdGVDYW1lcmEiLCJfZG90RWxlbWVudCIsImFjY3VyYWN5IiwidG9Cb3VuZHMiLCJnZW9sb2NhdGVTb3VyY2UiLCJfYWNjdXJhY3kiLCJfdXBkYXRlQ2lyY2xlUmFkaXVzIiwiY2lyY2xlRGlhbWV0ZXIiLCJfY2lyY2xlRWxlbWVudCIsIl9oZWFkaW5nIiwiX29uRXJyb3IiLCJfY2xlYXJXYXRjaCIsIl90aW1lb3V0SWQiLCJ0cmlnZ2VyIiwiX3NldHVwIiwiX29uRGV2aWNlT3JpZW50YXRpb24iLCJkZXZpY2VPcmllbnRhdGlvbkV2ZW50Iiwid2Via2l0Q29tcGFzc0hlYWRpbmciLCJhYnNvbHV0ZSIsIndhdGNoUG9zaXRpb24iLCJfYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lciIsImdldEN1cnJlbnRQb3NpdGlvbiIsImFkZExpc3RlbmVyIiwiRGV2aWNlTW90aW9uRXZlbnQiLCJyZXF1ZXN0UGVybWlzc2lvbiIsIkRldmljZU9yaWVudGF0aW9uRXZlbnQiLCJTY2FsZUNvbnRyb2wiLCJJbnRsIiwiTnVtYmVyRm9ybWF0IiwidW5pdERpc3BsYXkiLCJfIiwiaXNOdW1iZXJGb3JtYXRTdXBwb3J0ZWQiLCJfc2V0U2NhbGUiLCJtYXhNZXRlcnMiLCJtYXhGZWV0Iiwic2V0VW5pdCIsIkZ1bGxzY3JlZW5Db250cm9sIiwiX2Z1bGxzY3JlZW4iLCJfZnVsbHNjcmVlbmNoYW5nZSIsIl9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0IiwiX2NoYW5nZUljb24iLCJmdWxsc2NyZWVuRW5hYmxlZCIsIndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkIiwiX2Z1bGxzY3JlZW5CdXR0b24iLCJfdXBkYXRlVGl0bGUiLCJfb25DbGlja0Z1bGxzY3JlZW4iLCJfZ2V0VGl0bGUiLCJfaXNGdWxsc2NyZWVuIiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJ3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCIsInRvZ2dsZSIsImV4aXRGdWxsc2NyZWVuIiwid2Via2l0Q2FuY2VsRnVsbFNjcmVlbiIsInJlcXVlc3RGdWxsc2NyZWVuIiwid2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4iLCJQb3B1cCIsIl9jbGFzc0xpc3QiLCJfb25DbG9zZSIsImNsb3NlT25Nb3ZlIiwiX2ZvY3VzRmlyc3RFbGVtZW50IiwiX29uTW91c2VFdmVudCIsIl9jb250ZW50IiwidHJhY2tQb2ludGVyIiwic2V0VGV4dCIsInNldERPTUNvbnRlbnQiLCJjcmVhdGVUZXh0Tm9kZSIsInNldEhUTUwiLCJodG1sIiwiZnJhZyIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJ0ZW1wIiwiZ2V0TWF4V2lkdGgiLCJzZXRNYXhXaWR0aCIsImh0bWxOb2RlIiwiaGFzQ2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiX2Nsb3NlQnV0dG9uIiwiYWRkQ2xhc3NOYW1lIiwiX3VwZGF0ZUNsYXNzTGlzdCIsInJlbW92ZUNsYXNzTmFtZSIsImRlbGV0ZSIsInRvZ2dsZUNsYXNzTmFtZSIsImZpbmFsU3RhdGUiLCJfZ2V0QW5jaG9yIiwiYm90dG9tWSIsIm9mZnNldEhlaWdodCIsImlzTGVmdCIsImlzUmlnaHQiLCJjbGFzc2VzIiwiY3Vyc29yIiwiX3RpcCIsIm9mZnNldEJvdHRvbSIsIm9mZnNldGVkUG9zIiwiZmlyc3RGb2N1c2FibGUiLCJmb2N1cyIsInByZXdhcm0iLCJjbGVhclByZXdhcm1lZFJlc291cmNlcyIsImJhc2VBcGlVcmwiLCJBUElfVVJMIiwibWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzIiwiTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTIiwibnVtUmVxdWVzdHMiLCJjbGVhclN0b3JhZ2UiLCJjbGVhclRpbGVDYWNoZSIsInNldE5vdyIsInJlc3RvcmVOb3ciLCJvdXRwdXQiLCJSZWdFeHAiLCJleGVjIiwiZ2V0VVJMUGFyYW1ldGVyIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJCZW5jaG1hcmsiLCJfbWVhc3VyZUFzeW5jIiwiYmVuY2giLCJ0ZWFyZG93biIsIl9iZWdpbiIsIl9lbGFwc2VkIiwiX21lYXN1cmVtZW50cyIsIl9pdGVyYXRpb25zUGVyTWVhc3VyZW1lbnQiLCJfbWVhc3VyZVN5bmMiLCJpdGVyYXRpb25zIiwiX3J1bkFzeW5jIiwiZmV0Y2hTdHlsZSIsImZldGNoIiwibWFwU3R1YiIsImZldGNoVGlsZUpTT04iLCJzb3VyY2VVUkwiLCJUaWxlUGFyc2VyIiwic3R5bGVKU09OIiwiU3R5bGVMYXllckluZGV4IiwibG9hZEltYWdlcyIsImxvYWRHbHlwaHMiLCJwYXJzZXIiLCJyZWplY3QiLCJmZXRjaFRpbGUiLCJwYXJzZVRpbGUiLCJyZXR1cm5EZXBlbmRlbmNpZXMiLCJ3b3JrZXJUaWxlIiwiV29ya2VyVGlsZSIsIm92ZXJzY2FsaW5nIiwiY2FtZXJhVG9UaWxlRGlzdGFuY2UiLCJ2ZWN0b3JUaWxlIiwiVmVjdG9yVGlsZSIsIlByb3RvYnVmIiwicGJmIiwicGFyc2UiLCJMYXlvdXQiLCJwcm9taXNlIiwiY3JlYXRlTWFwIiwic3R1YlJlbmRlciIsInNob3dNYXAiLCJtYXJnaW4iLCJib2R5IiwiYXNzaWduIiwiaWRsZSIsImJhcmVQYXlsb2FkIiwiZ2VuZXJhdGVMYXllcnMiLCJnZW5lcmF0ZWQiLCJSZW1vdmVQYWludFN0YXRlIiwibnVtRmVhdHVyZXMiLCJsYW5kIiwiTGF5ZXJCZW5jaG1hcmsiLCJsYXllclN0eWxlIiwiY29udmVydExpdGVyYWwiLCJjb252ZXJ0RnVuY3Rpb24iLCJwcm9wZXJ0eVNwZWMiLCJzdG9wcyIsInByb3BlcnR5IiwiY29udmVydElkZW50aXR5RnVuY3Rpb24iLCJ6b29tQW5kRmVhdHVyZURlcGVuZGVudCIsImZlYXR1cmVEZXBlbmRlbnQiLCJ6b29tRGVwZW5kZW50IiwidG9rZW5zIiwiY29udmVydFRva2VuU3RyaW5nIiwiZmVhdHVyZUZ1bmN0aW9uUGFyYW1ldGVycyIsImZlYXR1cmVGdW5jdGlvblN0b3BzIiwiem9vbVN0b3BzIiwiZ2V0RnVuY3Rpb25UeXBlIiwiZ2V0SW50ZXJwb2xhdGVPcGVyYXRvciIsImFwcGVuZFN0b3BQYWlyIiwiY29udmVydFByb3BlcnR5RnVuY3Rpb24iLCJmaXh1cERlZ2VuZXJhdGVTdGVwQ3VydmUiLCJjb252ZXJ0Wm9vbUFuZFByb3BlcnR5RnVuY3Rpb24iLCJpbnB1dCIsImlzU3RlcCIsImNvbnZlcnRab29tRnVuY3Rpb24iLCJjb2xvclNwYWNlIiwiZ2V0RmFsbGJhY2siLCJkZWZhdWx0VmFsdWUiLCJpbnRlcnBvbGF0ZWQiLCJyZSIsImxpdGVyYWwiLCJsYXN0SW5kZXgiLCJFeHByZXNzaW9uQmVuY2htYXJrIiwiZXhwcmVzc2lvbkRhdGEiLCJyYXdWYWx1ZSIsInJhd0V4cHJlc3Npb24iLCJjb21waWxlZEZ1bmN0aW9uIiwiY3JlYXRlRnVuY3Rpb24iLCJjb21waWxlZEV4cHJlc3Npb24iLCJjcmVhdGVQcm9wZXJ0eUV4cHJlc3Npb24iLCJpc0Z1bmN0aW9uIiwic3R5bGVMb2NhdGlvbnMiLCJ0aWxlWCIsInRpbGVZIiwiZGVzY3JpcHRpb24iLCJyZWdpc3RlciIsIm1hcGJveGdsQmVuY2htYXJrcyIsInByb2Nlc3MiLCJsb2NhdGlvbnMiLCJtYXBzIiwiRGF0ZSIsInBheWxvYWQiLCJwYXlsb2FkSlNPTiIsInBheWxvYWRUaWxlcyIsInNlbmRQYXlsb2FkIiwib25tZXNzYWdlIiwicG9zdE1lc3NhZ2UiLCJkZXNlcmlhbGl6ZSIsInNhdGVsbGl0ZSIsImdlbmVyYXRlU29ydEtleUxheWVycyIsIm1hcGJveCIsInBhcnNlZFRpbGVzIiwiU3ltYm9sQnVja2V0IiwicGVyZm9ybVN5bWJvbExheW91dCIsImdseXBoTWFwIiwiZ2x5cGhQb3NpdGlvbnMiLCJpY29uTWFwIiwiaWNvblBvc2l0aW9ucyIsImZpbHRlcnMiLCJjcmVhdGVGaWx0ZXIiLCJQYmYiLCJsYXllckZpbHRlcnMiXSwibWFwcGluZ3MiOiI4Q0FPQSxTQUFTQSxFQUFVQyxFQUFXQyxHQUMxQixHQUFJQyxNQUFNQyxRQUFRSCxHQUFJLENBQ2xCLElBQUtFLE1BQU1DLFFBQVFGLElBQU1ELEVBQUVJLFNBQVdILEVBQUVHLE9BQVEsT0FBTyxFQUN2RCxJQUFLLElBQUlDLEVBQUks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
